# Issue 31865: Chart: Add init argument coord_restrictions, deprecate method add_restrictions

archive/issues_031865.json:
```json
{
    "body": "CC:  @egourgoulhon @mjungmath @tscrim @vbraun\n\n(from #31901#comment:22)\n\nThis will remove the appearance of mutability of `Chart`s.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32102\n\n",
    "created_at": "2021-07-02T20:38:42Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Chart: Add init argument coord_restrictions, deprecate method add_restrictions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31865",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @egourgoulhon @mjungmath @tscrim @vbraun

(from #31901#comment:22)

This will remove the appearance of mutability of `Chart`s.

Issue created by migration from https://trac.sagemath.org/ticket/32102





---

archive/issue_comments_454859.json:
```json
{
    "body": "I like very much replacements 4 and 5. Using `lambda` function is a good idea! Why is this not immediately applicable? i.e. why #32089 and #32103 have been set as dependencies?",
    "created_at": "2021-07-03T11:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454859",
    "user": "https://github.com/egourgoulhon"
}
```

I like very much replacements 4 and 5. Using `lambda` function is a good idea! Why is this not immediately applicable? i.e. why #32089 and #32103 have been set as dependencies?



---

archive/issue_comments_454860.json:
```json
{
    "body": "OK, converting a lambda to a callable symbolic expression is in #32103, but I guess for this ticket one could just call the lambda on the chart variables, so it's not really needed.\n\nI was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too",
    "created_at": "2021-07-03T16:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454860",
    "user": "https://github.com/mkoeppe"
}
```

OK, converting a lambda to a callable symbolic expression is in #32103, but I guess for this ticket one could just call the lambda on the chart variables, so it's not really needed.

I was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too



---

archive/issue_comments_454861.json:
```json
{
    "body": "The `lambda` in the init args will unfortunately also create trouble with the pickling tests - lambdas cannot be pickled. So it will have to be transformed to the list/tuple format already in the `__classcall__` method - triggering the trouble with `UniqueRepresentation`...\n\nSo we can either go through #32089, or get rid of `UniqueRepresentation` for `Chart`s.",
    "created_at": "2021-07-03T17:16:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454861",
    "user": "https://github.com/mkoeppe"
}
```

The `lambda` in the init args will unfortunately also create trouble with the pickling tests - lambdas cannot be pickled. So it will have to be transformed to the list/tuple format already in the `__classcall__` method - triggering the trouble with `UniqueRepresentation`...

So we can either go through #32089, or get rid of `UniqueRepresentation` for `Chart`s.



---

archive/issue_comments_454862.json:
```json
{
    "body": "In the branch of #31894 I have a change from `def _init_coordinates` to ``@`classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.\n----\nNew commits:",
    "created_at": "2021-07-03T18:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454862",
    "user": "https://github.com/mkoeppe"
}
```

In the branch of #31894 I have a change from `def _init_coordinates` to ``@`classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.
----
New commits:



---

archive/issue_comments_454863.json:
```json
{
    "body": "Replying to [comment:8 mkoeppe]:\n> In the branch of #31894 I have a change from `def _init_coordinates` to ``@`classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.\n\nThat's now on #32116.",
    "created_at": "2021-07-03T20:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454863",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:8 mkoeppe]:
> In the branch of #31894 I have a change from `def _init_coordinates` to ``@`classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.

That's now on #32116.



---

archive/issue_comments_454864.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-03T20:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454864",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454865.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-03T20:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454866.json:
```json
{
    "body": "Replying to [comment:5 mkoeppe]:\n> I was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too\n\nI have implemented a simpler solution",
    "created_at": "2021-07-03T20:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454866",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:5 mkoeppe]:
> I was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too

I have implemented a simpler solution



---

archive/issue_comments_454867.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-03T21:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454867",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454868.json:
```json
{
    "body": "Replacements 1, 2, 3, and 5 should work now. For simplicity, let's skip 4.",
    "created_at": "2021-07-03T21:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454868",
    "user": "https://github.com/mkoeppe"
}
```

Replacements 1, 2, 3, and 5 should work now. For simplicity, let's skip 4.



---

archive/issue_comments_454869.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-03T22:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454869",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454870.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-03T22:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454871.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-03T23:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454872.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-07-03T23:55:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454872",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_454873.json:
```json
{
    "body": "There is one remaining use of `add_restrictions` in `TopologicalSubmanifold.adapted_chart`, but it is not triggered by any doctest.\nBecause this code also uses `assume`, it is probably best to defer work on it to a follow-up ticket.",
    "created_at": "2021-07-03T23:55:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454873",
    "user": "https://github.com/mkoeppe"
}
```

There is one remaining use of `add_restrictions` in `TopologicalSubmanifold.adapted_chart`, but it is not triggered by any doctest.
Because this code also uses `assume`, it is probably best to defer work on it to a follow-up ticket.



---

archive/issue_comments_454874.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-04T23:59:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454874",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454875.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-07-05T00:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454875",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_454876.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T23:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454876",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454877.json:
```json
{
    "body": "Looks good. Here are some remarks:\n\n1. The argument `calc_method` of `Chart.__init__` has no longer a default value. Is there any reason for this? This is not consistent with `RealChart.__init__`, which has `calc_method=None`. \n\n2. In the INPUT section of the docstring of class `Chart`:\n- the argument `coordinates` is described as having a default value, which is no longer true\n- in the description of the argument `coord_restrictions`, all instances of `restrictions` should be replaced by `coord_restrictions`\n- the argument `names` should removed\nMoreover, the arguments should be ordered in the same way as they appear in `Chart.__init__`. \n\n3. In the INPUT section of the docstring of class `RealChart`:\n- the argument `coordinates` is described as having a default value, which is no longer true\n- the argument `coord_restrictions` is missing\n- the argument `names` should be removed\n\n4. In the INPUT section of the docstring of `TopologicalManifold.chart`, the argument `coord_restrictions` is missing; also it could be nice to illustrate its use with a lambda function in the corresponding EXAMPLE section. Actually, this is the first piece of documentation about charts that the user encounters when typing `M.chart?`.",
    "created_at": "2021-07-08T13:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454877",
    "user": "https://github.com/egourgoulhon"
}
```

Looks good. Here are some remarks:

1. The argument `calc_method` of `Chart.__init__` has no longer a default value. Is there any reason for this? This is not consistent with `RealChart.__init__`, which has `calc_method=None`. 

2. In the INPUT section of the docstring of class `Chart`:
- the argument `coordinates` is described as having a default value, which is no longer true
- in the description of the argument `coord_restrictions`, all instances of `restrictions` should be replaced by `coord_restrictions`
- the argument `names` should removed
Moreover, the arguments should be ordered in the same way as they appear in `Chart.__init__`. 

3. In the INPUT section of the docstring of class `RealChart`:
- the argument `coordinates` is described as having a default value, which is no longer true
- the argument `coord_restrictions` is missing
- the argument `names` should be removed

4. In the INPUT section of the docstring of `TopologicalManifold.chart`, the argument `coord_restrictions` is missing; also it could be nice to illustrate its use with a lambda function in the corresponding EXAMPLE section. Actually, this is the first piece of documentation about charts that the user encounters when typing `M.chart?`.



---

archive/issue_comments_454878.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T14:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454878",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454879.json:
```json
{
    "body": "Replying to [comment:26 egourgoulhon]:\n> 2. In the INPUT section of the docstring of class `Chart`:\n> - the argument `coordinates` is described as having a default value, which is no longer true \n> [...]\n> - the argument `names` should removed\n\nActually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`",
    "created_at": "2021-07-08T14:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454879",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:26 egourgoulhon]:
> 2. In the INPUT section of the docstring of class `Chart`:
> - the argument `coordinates` is described as having a default value, which is no longer true 
> [...]
> - the argument `names` should removed

Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`



---

archive/issue_comments_454880.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T15:08:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454881.json:
```json
{
    "body": "Replying to [comment:28 mkoeppe]:\n> Replying to [comment:26 egourgoulhon]:\n> > 2. In the INPUT section of the docstring of class `Chart`:\n> > - the argument `coordinates` is described as having a default value, which is no longer true \n> > [...]\n> > - the argument `names` should removed\n> \n> Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`\n\nYes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:\n\n```\nclass sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,\ncoord_restrictions=None)\n```\n\nThis is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. \n\n----\nNew commits:",
    "created_at": "2021-07-08T15:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454881",
    "user": "https://github.com/egourgoulhon"
}
```

Replying to [comment:28 mkoeppe]:
> Replying to [comment:26 egourgoulhon]:
> > 2. In the INPUT section of the docstring of class `Chart`:
> > - the argument `coordinates` is described as having a default value, which is no longer true 
> > [...]
> > - the argument `names` should removed
> 
> Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`

Yes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:

```
class sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,
coord_restrictions=None)
```

This is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. 

----
New commits:



---

archive/issue_comments_454882.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T15:14:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454883.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-08T15:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_454884.json:
```json
{
    "body": "Replying to [comment:30 egourgoulhon]:\n> Replying to [comment:28 mkoeppe]:\n> > Replying to [comment:26 egourgoulhon]:\n> > > 2. In the INPUT section of the docstring of class `Chart`:\n> > > - the argument `coordinates` is described as having a default value, which is no longer true \n> > > [...]\n> > > - the argument `names` should removed\n> > \n> > Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`\n> \n> Yes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:\n> {{{\n> class sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,\n> coord_restrictions=None)\n> }}}\n> This is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. \n\nGreat point; I have opened #32163 for this general issue.",
    "created_at": "2021-07-08T15:37:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454884",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:30 egourgoulhon]:
> Replying to [comment:28 mkoeppe]:
> > Replying to [comment:26 egourgoulhon]:
> > > 2. In the INPUT section of the docstring of class `Chart`:
> > > - the argument `coordinates` is described as having a default value, which is no longer true 
> > > [...]
> > > - the argument `names` should removed
> > 
> > Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`
> 
> Yes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:
> {{{
> class sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,
> coord_restrictions=None)
> }}}
> This is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. 

Great point; I have opened #32163 for this general issue.



---

archive/issue_comments_454885.json:
```json
{
    "body": "Replying to [comment:33 mkoeppe]:\n> \n> Great point; I have opened #32163 for this general issue.\n> \nOK thanks. Meanwhile, let us leave things as they are, i.e. have the INPUT section of `Chart` and `RealChart` docstrings describe `__classcall__`.",
    "created_at": "2021-07-09T15:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454885",
    "user": "https://github.com/egourgoulhon"
}
```

Replying to [comment:33 mkoeppe]:
> 
> Great point; I have opened #32163 for this general issue.
> 
OK thanks. Meanwhile, let us leave things as they are, i.e. have the INPUT section of `Chart` and `RealChart` docstrings describe `__classcall__`.



---

archive/issue_comments_454886.json:
```json
{
    "body": "Thanks for this improvement!",
    "created_at": "2021-07-09T15:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454886",
    "user": "https://github.com/egourgoulhon"
}
```

Thanks for this improvement!



---

archive/issue_comments_454887.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-09T15:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454887",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_454888.json:
```json
{
    "body": "Thanks for reviewing!",
    "created_at": "2021-07-09T15:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454888",
    "user": "https://github.com/mkoeppe"
}
```

Thanks for reviewing!



---

archive/issue_comments_454889.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-07-12T21:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454889",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_454890.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:",
    "created_at": "2021-07-12T21:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:



---

archive/issue_comments_454891.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-12T21:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454891",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_454892.json:
```json
{
    "body": "Merged updated #32009",
    "created_at": "2021-07-12T21:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454892",
    "user": "https://github.com/mkoeppe"
}
```

Merged updated #32009



---

archive/issue_comments_454893.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-07-19T01:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454893",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_454894.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-07-19T01:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454894",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_454895.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-19T01:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454895",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_028997.json:
```json
{
    "actor": "@mkoeppe",
    "created_at": "2021-07-24T19:06:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31865#event-28997"
}
```



---

archive/issue_comments_454896.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-24T19:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454896",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: fixed



---

archive/issue_comments_454897.json:
```json
{
    "body": "Apparently this has been merged as part of #32089.",
    "created_at": "2021-07-24T19:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31865#issuecomment-454897",
    "user": "https://github.com/mkoeppe"
}
```

Apparently this has been merged as part of #32089.
