# Issue 14654: Type checks in arith.py

Issue created by migration from https://trac.sagemath.org/ticket/14858

Original creator: eviatarbach

Original creation time: 2013-07-05 20:05:22

Assignee: AlexGhitza

Many type checks in `rings/arith.py` use `isinstance` for checking whether something is an integer, for example. They should use `x in ZZ` instead, because not all cases are covered, leading to errors like the following:


```
sage: rising_factorial(-4, 2)
12
sage: rising_factorial(-4, SR(2))
0
sage: rising_factorial(SR(-4), SR(2))
RuntimeError: indeterminate expression: 0 * infinity encountered.
```


Setting to critical because this is very confusing, and can give silent errors such as `rising_factorial(-4, 2)` being different from `rising_factorial(-4, SR(2))`. The fact that `rising_factorial(-4, SR(2))` gives 0 is a separate error, ticket #14857.


---

Attachment


---

Attachment

Oops, accidentally used the `.py` extension at first.

Patchbot apply trac14858.patch


---

Comment by eviatarbach created at 2013-07-09 03:36:02

Changing status from new to needs_review.


---

Comment by ncohen created at 2013-12-26 19:24:28

Patch applies, the patchbot says it's good, the patch looks good... Thanks !

Nathann


---

Comment by ncohen created at 2013-12-26 19:24:28

Changing status from needs_review to positive_review.


---

Comment by eviatarbach created at 2013-12-26 20:13:52

Thank you for reviewing!

Eviatar


---

Comment by vbraun created at 2014-01-05 00:45:53

Resolution: fixed
