# Issue 32623: Inaccurate documentation for number field elements_of_norm

Issue created by migration from https://trac.sagemath.org/ticket/32860

Original creator: cremona

Original creation time: 2021-11-12 15:20:03

CC:  slelievre

Keywords: number field norm

For a number field K and an integer n the function K.elements_of_norm(n) returns a list of integral elements of K with norm n, up to multiplcation by units of positive norm.  The docstring says that n should be an "integer in this number field", which is wrong (and makes no sense): it must be a rational integer.

If you give the function something else (e.g. a non-integral rational or an element of K (even K(0)), a PariError is raised, and it would be better for Sage to check the in put, say by try-ing n=ZZ(n) first.


---

Comment by slelievre created at 2021-11-13 12:32:06

Changing component from PLEASE CHANGE to number fields.


---

Comment by chapoton created at 2021-12-09 16:33:14

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-12-09 16:33:14

New commits:


---

Comment by chapoton created at 2021-12-09 16:35:39

here is a minimal branch


---

Comment by cremona created at 2021-12-09 18:38:30

Thanks. I report things and then simply forget.


I'm not familiar with the syntax --> list in the function header. Is that a new python thing?


---

Comment by chapoton created at 2021-12-09 18:59:57

This is a "type annotation". This means that it is a declaration stating that the output is a list.

This kind of annotation (optional) has been introduced in recent versions of python. It allows some tools (mypy) to check consistency inside the code. Also useful for refined tab completions, in principle.

The lights are green, so the branch is ready for review.


---

Comment by cremona created at 2021-12-09 20:50:53

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-01-04 22:50:59

Resolution: fixed
