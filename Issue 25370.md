# Issue 25370: Shrink coefficients in Mac Lane algorithm

Issue created by migration from https://trac.sagemath.org/ticket/25607

Original creator: saraedum

Original creation time: 2018-06-19 11:21:23

CC:  swewers

As a followup to #25397, let's try to shrink coefficients even further, using the ideas from https://github.com/MCLF/mclf/pull/60/files.


---

Comment by saraedum created at 2018-06-19 11:22:54

New commits:


---

Comment by git created at 2018-06-20 17:00:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by saraedum created at 2018-06-20 17:07:17

Changing status from new to needs_review.


---

Comment by saraedum created at 2018-06-20 17:11:59

swewers: If you want to review this (I hope you do ;) This is really a somewhat wild mix of all kinds of ideas and little errors that I found. I can split it up into more isolated bits if you think it's overwhelming like that.

In the end I did not really take any new ideas from your pull request. I think that everything that's in there already existed (just some things did not work/were not called.) If you have any additional ideas in how to improve this, I would be very interested of course :)


---

Comment by saraedum created at 2018-06-20 18:58:13

Btw., the doctests in `mclf` still works with this. Very few outputs change because the centers of affinoids are now sightly simpler.

```
Failed example:
    Y.etale_locus()
Expected:
    Affinoid with 3 components:
    Elementary affinoid defined by
    v(x) >= 3/4
    Elementary affinoid defined by
    v(x + 7) >= 5/4
    Elementary affinoid defined by
    v(x + 2) >= 5/4
Got:
    Affinoid with 3 components:
    Elementary affinoid defined by 
    v(x) >= 3/4
    Elementary affinoid defined by 
    v(x - 2) >= 5/4
    Elementary affinoid defined by 
    v(x + 2) >= 5/4
    <BLANKLINE>
```



---

Comment by swewers created at 2018-07-20 20:14:18

This is great! Thanks.


---

Comment by swewers created at 2018-07-20 20:14:18

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-07-22 18:20:26

Real name in the reviewers field.


---

Comment by swewers created at 2018-07-24 14:52:42

Changing status from positive_review to needs_work.


---

Comment by swewers created at 2018-07-24 14:52:42

Soem pyflakes errors.


---

Comment by saraedum created at 2018-07-30 14:21:19

The pyflakes errors are already fixed in another ticket that touches padic_valuation. Let's ignore them here to avoid merge conflicts.


---

Comment by saraedum created at 2018-07-30 14:21:19

Changing status from needs_work to positive_review.


---

Comment by git created at 2018-08-25 09:35:57

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2018-08-25 09:35:57

Changing status from positive_review to needs_review.


---

Comment by saraedum created at 2018-08-25 09:36:59

Changing status from needs_review to positive_review.


---

Comment by saraedum created at 2018-08-25 09:36:59

just merged in develop. back to positive review.


---

Comment by vbraun created at 2018-08-29 22:27:40

Resolution: fixed
