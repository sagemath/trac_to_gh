# Issue 31356: configure: Paths within $SAGE_LOCAL ($prefix) for sage_conf

Issue created by migration from https://trac.sagemath.org/ticket/31593

Original creator: mkoeppe

Original creation time: 2021-04-01 19:12:36

CC:  mjo

A solution for #29617, using a new m4 macro to provide a solution that is future-proof for possible configuration format changes


---

Comment by mkoeppe created at 2021-04-01 19:32:10

Here's a basic solution (without a new macro) that is perhaps already good enough for the moment.

It is modeled after autotools' treatment of paths derived from ${prefix} such as ``@`exec_prefix`@``.

In `ecl/spkg-configure.m4` you would put the quoted value `'${prefix}'/lib/ecl/maxima.fas` as `MAXIMA_FAS`.
----
New commits:


---

Comment by mkoeppe created at 2021-04-01 19:33:13

... which would be processed in `sage_conf.py.in` in the same way as I have changed `ECL_CONFIG`.


---

Comment by git created at 2021-04-01 19:35:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-04-01 22:08:26

Changing status from new to needs_review.


---

Comment by mjo created at 2021-04-02 01:48:48

I've rebased #29617 onto this to see how it goes, but the idea looks good. Thanks!


---

Comment by mjo created at 2021-04-02 12:32:38

Changing status from needs_review to positive_review.


---

Comment by mjo created at 2021-04-02 12:32:38

I'm optimistic, thanks again.


---

Comment by mkoeppe created at 2021-04-03 00:23:37

Thanks for the review!


---

Comment by vbraun created at 2021-05-26 22:09:22

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2021-05-26 22:09:22

Merge conflict


---

Comment by git created at 2021-05-26 22:22:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-05-26 22:23:40

Changing status from needs_work to positive_review.


---

Comment by mkoeppe created at 2021-05-26 22:23:40

easy merge, back to positive


---

Comment by vbraun created at 2021-06-19 20:58:27

Resolution: fixed
