# Issue 23296: fail to build cryptominisat

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2017-07-24 09:02:18

CC:  saraedum slelievre tmonteil

Keywords: cryptominisat

The compiler complains at

```
../src/scalmc.cpp: In member function 'bool CUSP::ScalApproxMC(SATCount&)':
../src/scalmc.cpp:554:40: error: call of overloaded 'abs(uint64_t)' is ambiguous
                 if (abs(hashCount-mPrev) <= 2 && mPrev != 0) {
```

See the logfile [attachment:cryptominisat-5.0.1.log]. Might be due to the recent gcc 7.1.1 that I am using


---

Attachment


---

Comment by malb created at 2017-08-25 13:59:06

cf. https://github.com/msoos/cryptominisat/issues/422


---

Comment by vdelecroix created at 2018-03-05 16:46:19

Changing priority from major to blocker.


---

Comment by fbissey created at 2018-03-05 20:24:20

Do you want to upgrade to 5.0.2 even so it is marked as a pre-release? It should contain the fix.


---

Comment by vdelecroix created at 2018-03-05 21:37:58

Replying to [comment:5 fbissey]:
> Do you want to upgrade to 5.0.2 even so it is marked as a pre-release? It should contain the fix.

5.0.2 does build on my computer. However, your patch `osx_install_nameQA.patch` does not apply anymore. Should it simply be removed? If not, I won't be able to adapt it.


---

Comment by vdelecroix created at 2018-03-05 21:41:44

Replying to [comment:6 vdelecroix]:
> Replying to [comment:5 fbissey]:
> > Do you want to upgrade to 5.0.2 even so it is marked as a pre-release? It should contain the fix.
> 
> 5.0.2 does build on my computer. However, your patch `osx_install_nameQA.patch` does not apply anymore. Should it simply be removed? If not, I won't be able to adapt it.

I opened a discussion about a release in [issue 463](https://github.com/msoos/cryptominisat/issues/463).


---

Comment by fbissey created at 2018-03-06 01:26:30

The patch doesn't apply because there is too much fuzz but the issue hasn't been fixed. I must say I never followed with upstream to get them to fix those particular issues better than what they do now.


---

Comment by fbissey created at 2018-03-06 01:37:36

I inspected the stuff upstream did a bit more. I cannot say I think it is very good but it is worth trying without doing anything first. There is a lot more windows specific code now. I feel like `src/CMakeLists.txt` could use a trim but I may be arrogant there.


---

Comment by rws created at 2018-03-06 13:56:25

I have no problems building 5.0.1 with clang-4.


---

Comment by rws created at 2018-03-08 06:22:05

5.0.1 also builds fine with clang-5.0.1.


---

Comment by vbraun created at 2018-03-25 00:38:00

Changing priority from blocker to critical.


---

Comment by jdemeyer created at 2018-06-01 19:19:13

Fixed by #25480?


---

Comment by vdelecroix created at 2018-06-01 21:48:11

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2018-06-01 21:48:11

Replying to [comment:15 jdemeyer]:
> Fixed by #25480?

yes


---

Comment by slelievre created at 2018-06-11 12:32:16

The upgrade to a stable version of Cryptominisat containing the fix is at #25480.

Once #25480 is merged and closed, this can be closed too.


---

Comment by jdemeyer created at 2018-06-11 12:34:08

Resolution: duplicate
