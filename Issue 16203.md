# Issue 16203: GAP 4.7.5

Issue created by migration from https://trac.sagemath.org/ticket/16440

Original creator: vbraun

Original creation time: 2014-06-04 15:16:32

CC:  dimpase fbissey ppurka




---

Comment by vbraun created at 2014-06-04 15:19:40

Changing type from PLEASE CHANGE to enhancement.


---

Comment by vbraun created at 2014-06-04 15:19:40

Changing component from PLEASE CHANGE to packages: standard.


---

Comment by vbraun created at 2014-06-04 15:42:16

New commits:


---

Comment by vbraun created at 2014-06-04 15:42:42

Changing status from new to needs_review.


---

Comment by git created at 2014-06-04 18:08:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2014-06-04 18:21:18

does "gap: cannot extend the workspace any more!" stuff really break the docbuild? I remember seeing on sage-develop statements to the contrary.


---

Comment by vbraun created at 2014-06-04 18:30:11

Well according to strace it does. Gap has some warnings and some hard errors for low memory, and this one is apparently a hard error. I looked at the source and it means that sbrk failed, so its not unsurprising.


---

Comment by leif created at 2014-06-04 19:18:13

Well, the whole idea of _importing_ (=running) code just to build its documentation is a very bad idea anyway (though of course "powerful"), but that's a different story...

I'll give it a try, but I can't imagine I'm actually running out of (virtual) memory in my docbuild-broken upgraded installation.


---

Comment by vbraun created at 2014-06-04 19:33:39

You are not necessarily running out of virtual memory, sbrk can fail for other reasons.


---

Comment by leif created at 2014-06-04 19:36:41

Replying to [comment:9 leif]:
> I'll give it a try, but I can't imagine I'm actually running out of (virtual) memory in my docbuild-broken upgraded installation.

Great!  That triggers the rebuild of all of Sage for no (real) reason!

Praise the "new workflow" which makes everything so much easier!


---

Comment by dimpase created at 2014-06-04 20:30:31

Replying to [comment:11 leif]:
> Replying to [comment:9 leif]:
> > I'll give it a try, but I can't imagine I'm actually running out of (virtual) memory in my docbuild-broken upgraded installation.
> 
> Great!  That triggers the rebuild of all of Sage for no (real) reason!
> 
happens to me too...

> Praise the "new workflow" which makes everything so much easier!

developing software of the future on the hardware of the past :-)


---

Comment by leif created at 2014-06-05 02:16:45

Replying to [comment:12 dimpase]:
> Replying to [comment:11 leif]:
> > Replying to [comment:9 leif]:
> > > I'll give it a try, but I can't imagine I'm actually running out of (virtual) memory in my docbuild-broken upgraded installation.
> > 
> > Great!  That triggers the rebuild of all of Sage for no (real) reason!
> > 
> happens to me too...

At least it fixed the issue for me...  (I didn't recall I had `gap_packages` installed into the installation.)

(Although probably it was really the Maxima upgrade to 5.33 which fixed it, or one of the other 50 tickets that got pulled in by pulling the branch here... ;-) )


---

Comment by dimpase created at 2014-06-07 11:47:01

I am running tests with `--optional=sage,database_gap,gap_packages`, and seeing few errors. E.g.

```
sage -t --long src/sage/combinat/sloane_functions.py
**********************************************************************
File "src/sage/combinat/sloane_functions.py", line 372, in sage.combinat.sloane_functions.A000001._eval
Failed example:
    sloane.A000001._eval(51) # optional - database_gap
Expected nothing
Got:
    1
**********************************************************************
```

There are also errors in `src/sage/coding/linear_code.py` related to `guava`.
Are they for a separate ticket?


---

Comment by vbraun created at 2014-06-07 12:33:26

The guava failures are #14979


---

Comment by git created at 2014-06-07 12:43:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2014-06-14 22:27:30

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2014-06-14 22:27:30

LGTM


---

Comment by dimpase created at 2014-06-17 11:45:46

the tarfiles are gone here!
In fact, ``http://boxen.math.washington.edu/home/`` is almost empty now...


---

Comment by vbraun created at 2014-06-18 12:00:24

Resolution: fixed
