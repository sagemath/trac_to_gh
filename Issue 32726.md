# Issue 32726: RealDoubleField: Exponentiation should not raise exceptions

Issue created by migration from https://trac.sagemath.org/ticket/32963

Original creator: mkoeppe

Original creation time: 2021-12-04 01:34:07

CC:  tmonteil dimpase vdelecroix tscrim slelievre

(from #32779)

`RDF` contains infinities and NaNs, which can appear as results of arithmetic operations.

```
sage: RDF(1.0)/RDF(0.0)
+infinity
sage: RDF(0.0)/RDF(0.0)
NaN
```

This is consistent with `RR`:

```
sage: RR(1.0)/RR(0.0)
+infinity
sage: RR(0.0)/RR(0.0)
NaN
```


However, `RealDoubleElement_gsl.__pow__` raises exceptions:

```
sage: RDF(0).__pow__(RDF(-1))
ZeroDivisionError: 0.0 cannot be raised to a negative power
sage: RDF(-1).__pow__(RDF(0.5))
ValueError: negative number cannot be raised to a fractional power
```

... in contrast to the other arithmetic operations and in contrast to `RR`:

```
sage: RR(0).__pow__(RR(-1))
+infinity
sage: RR(-1).__pow__(RR(0.5))
6.12323399573677e-17 + 1.00000000000000*I
```



---

Comment by slelievre created at 2021-12-14 05:41:02

`@`mkoeppe, did you mean to set this to "needs review"?
----
New commits:


---

Comment by mkoeppe created at 2021-12-14 17:43:49

No, it's not quite ready yet. I think there are still some corner cases, and test coverage should be improved. Any help is welcome
