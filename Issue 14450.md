# Issue 14450: implement class for flow polytopes

archive/issues_014450.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  @saliola @nathanncohen\n\nKeywords: flow polytopes, kostant partition function, sage days 47.5\n\nFlow polytopes (or cones) of a directed graph is a polytope formed by assigning a nonnegative flow to each of edges of the graph such that the flow is conserved on internal vertices, and there is a unit of flow entering the sources and leaving the sinks.\n\nThe faces and volume of these polytopes are of interest. Examples of these polytopes are the Chan-Robbins-Yuen polytope and the Pitman-Stanley polytope.\n\nImplement a class for these polytopes to compute the faces and the volume (maybe using #13249 or implementing known triangulations of them).\n\nIssue created by migration from https://trac.sagemath.org/ticket/14654\n\n",
    "created_at": "2013-05-28T16:20:26Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "implement class for flow polytopes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14450",
    "user": "https://trac.sagemath.org/admin/accounts/users/ahmorales"
}
```
Assignee: sage-combinat

CC:  @saliola @nathanncohen

Keywords: flow polytopes, kostant partition function, sage days 47.5

Flow polytopes (or cones) of a directed graph is a polytope formed by assigning a nonnegative flow to each of edges of the graph such that the flow is conserved on internal vertices, and there is a unit of flow entering the sources and leaving the sinks.

The faces and volume of these polytopes are of interest. Examples of these polytopes are the Chan-Robbins-Yuen polytope and the Pitman-Stanley polytope.

Implement a class for these polytopes to compute the faces and the volume (maybe using #13249 or implementing known triangulations of them).

Issue created by migration from https://trac.sagemath.org/ticket/14654





---

archive/issue_comments_182574.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2014-03-06T17:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182574",
    "user": "https://github.com/fchapoton"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_182575.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-03-07T13:38:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182575",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_182576.json:
```json
{
    "body": "Changing assignee from sage-combinat to graphcomponentowner.",
    "created_at": "2014-09-08T18:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182576",
    "user": "https://github.com/fchapoton"
}
```

Changing assignee from sage-combinat to graphcomponentowner.



---

archive/issue_comments_182577.json:
```json
{
    "body": "Changing component from combinatorics to graph theory.",
    "created_at": "2014-09-08T18:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182577",
    "user": "https://github.com/fchapoton"
}
```

Changing component from combinatorics to graph theory.



---

archive/issue_comments_182578.json:
```json
{
    "body": "Might I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?",
    "created_at": "2014-10-30T05:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182578",
    "user": "https://github.com/darijgr"
}
```

Might I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?



---

archive/issue_comments_182579.json:
```json
{
    "body": "Yepyep.\n\nThis should probably be a digraph method. It should also appear in `polytopes.<tab>` I guess.\n\nNathann",
    "created_at": "2014-10-30T08:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182579",
    "user": "https://github.com/nathanncohen"
}
```

Yepyep.

This should probably be a digraph method. It should also appear in `polytopes.<tab>` I guess.

Nathann



---

archive/issue_comments_182580.json:
```json
{
    "body": "(You can also write the code in geometry/polyhedron and create a fake digraph function that calls it, btw)\n\nAlso, the docstring mentions sources/sinks but the code never heard of it.\n\nNathann",
    "created_at": "2014-10-30T08:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182580",
    "user": "https://github.com/nathanncohen"
}
```

(You can also write the code in geometry/polyhedron and create a fake digraph function that calls it, btw)

Also, the docstring mentions sources/sinks but the code never heard of it.

Nathann



---

archive/issue_comments_182581.json:
```json
{
    "body": "Replying to [comment:6 darij]:\n> Might I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?\n\nOn the other hand, beware of another `src/sage/graphs/generic_graph.py` which just contains too much stuff.\n\nNote that you can `import` methods into classes just the same way as you can `import` other stuff.",
    "created_at": "2014-10-30T09:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182581",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:6 darij]:
> Might I suggest to put this either into a digraph class or into `src/sage/geometry/polyhedron/library.py`?

On the other hand, beware of another `src/sage/graphs/generic_graph.py` which just contains too much stuff.

Note that you can `import` methods into classes just the same way as you can `import` other stuff.



---

archive/issue_comments_182582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-31T14:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182583.json:
```json
{
    "body": "Why import `line_graph`?",
    "created_at": "2014-10-31T14:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182583",
    "user": "https://github.com/darijgr"
}
```

Why import `line_graph`?



---

archive/issue_comments_182584.json:
```json
{
    "body": "(please don't create a file for a 10 lines function)",
    "created_at": "2014-10-31T14:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182584",
    "user": "https://github.com/nathanncohen"
}
```

(please don't create a file for a 10 lines function)



---

archive/issue_comments_182585.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-31T15:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182586.json:
```json
{
    "body": "(BTW, digraph.py for some reason imports deprecation without needing it.)",
    "created_at": "2014-10-31T15:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182586",
    "user": "https://github.com/darijgr"
}
```

(BTW, digraph.py for some reason imports deprecation without needing it.)



---

archive/issue_comments_182587.json:
```json
{
    "body": "> (BTW, digraph.py for some reason imports deprecation without needing it.)\n\nOh. Well, let's remove it then. Here or somewhere else.\n\nNathann",
    "created_at": "2014-10-31T15:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182587",
    "user": "https://github.com/nathanncohen"
}
```

> (BTW, digraph.py for some reason imports deprecation without needing it.)

Oh. Well, let's remove it then. Here or somewhere else.

Nathann



---

archive/issue_comments_182588.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-31T16:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182589.json:
```json
{
    "body": "I do not know how to add this as a method of `polytopes`",
    "created_at": "2014-10-31T17:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182589",
    "user": "https://github.com/fchapoton"
}
```

I do not know how to add this as a method of `polytopes`



---

archive/issue_comments_182590.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-10-31T17:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182590",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_182591.json:
```json
{
    "body": "It seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.\n\nAlso, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`\n\nNathann",
    "created_at": "2014-10-31T20:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182591",
    "user": "https://github.com/nathanncohen"
}
```

It seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.

Also, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`

Nathann



---

archive/issue_comments_182592.json:
```json
{
    "body": "Replying to [comment:18 ncohen]:\n> It seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.\n\nYes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?\n\n> Also, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`\n\nWell, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edges. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.",
    "created_at": "2014-10-31T21:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182592",
    "user": "https://github.com/fchapoton"
}
```

Replying to [comment:18 ncohen]:
> It seems that what appears in `polytopes.<tab>` are the functions defined in `sage.geometry.polyhedron.library.Polytopes`.

Yes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?

> Also, since you changed the status to `needs_review`: the documentation of `DiGraph.flow_polytope` mentions a source and a sink with a non-null flow, while the function only takes one argument, i.e. the graph.... Is that normal ? `O_o`

Well, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edges. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.



---

archive/issue_comments_182593.json:
```json
{
    "body": "Yo !\n\n> Yes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?\n\nThere is, but it may be a bit awkard for in one version the function takes a graph as an argument, and in the other `polytopes.flow_polytope(G)` it needs to be provided explicitly... But maybe that is not a problem.\n\nAbout importing the method:\n\n\n```\nsage: class A:\n....:     def hey(self):\n....:         print self\nsage: A.hey(1)\n...\nTypeError: unbound method hey() must be called with A instance as first argument (got Integer instance instead)\nsage: A.hey.__func__(1)\n1\n```\n\n\nBut I am afraid that it does not preserve the docstring...\n\nOn the other hand it is possible to take a 'normal' function and make a copy of it inside of a class. You have many functions like that at the end of `graphs/graph.py`\n\n> Well, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edge. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.\n\nOh I see `O_o`\n\nWell, for graph guys like me we expect the sources to be explicitly given, like in `GenericGraph.flow`.\n\nHMmmm... Well, if you are positive that this is the standard that people who call this method would expect, could you make it a bit clearer for the graph guys ? Something like:\n\n\n```\n... and there is a unit of flow entering the sources (i.e. vertices of indegree 0) and leaving the sinks (i.e. vertices of outdegree 0)\n```\n\n\nThe point is that I would understand if you talk about \"the sinks/sources of a graph\", but in the context of flow problem we expect the sources/sinks to be specific vertices. Could you also add a sentence about the necessity to have as many sinks as sources ?\n\nThaaaaaaanks and sorry for that ! Different people, different standards `^^;`\n\nNathann",
    "created_at": "2014-10-31T21:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182593",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> Yes, but is there a way to just import the function as a method `polytopes.flow_polytope` ?

There is, but it may be a bit awkard for in one version the function takes a graph as an argument, and in the other `polytopes.flow_polytope(G)` it needs to be provided explicitly... But maybe that is not a problem.

About importing the method:


```
sage: class A:
....:     def hey(self):
....:         print self
sage: A.hey(1)
...
TypeError: unbound method hey() must be called with A instance as first argument (got Integer instance instead)
sage: A.hey.__func__(1)
1
```


But I am afraid that it does not preserve the docstring...

On the other hand it is possible to take a 'normal' function and make a copy of it inside of a class. You have many functions like that at the end of `graphs/graph.py`

> Well, for quiver guys like me, a source is a vertex with only outgoing edges, and a sink with only incoming edge. Maybe you give them other names. So there is no need to provide them as arguments. Of course one needs to have as many sources as sinks for the flow polytope to make sense. Every source gets an input of 1 and every sink an output of 1.

Oh I see `O_o`

Well, for graph guys like me we expect the sources to be explicitly given, like in `GenericGraph.flow`.

HMmmm... Well, if you are positive that this is the standard that people who call this method would expect, could you make it a bit clearer for the graph guys ? Something like:


```
... and there is a unit of flow entering the sources (i.e. vertices of indegree 0) and leaving the sinks (i.e. vertices of outdegree 0)
```


The point is that I would understand if you talk about "the sinks/sources of a graph", but in the context of flow problem we expect the sources/sinks to be specific vertices. Could you also add a sentence about the necessity to have as many sinks as sources ?

Thaaaaaaanks and sorry for that ! Different people, different standards `^^;`

Nathann



---

archive/issue_comments_182594.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-01T07:43:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182595.json:
```json
{
    "body": "Helloooooo !\n\nSorry for having delayed this patch for so long. I am about to leave for a couple of months and I had a lot of things to attend to `T_T`\n\nI found a way to make this `polytopes.<tab>` thing work. Wasn't that hard after all. I also merged the branch with the latest release.\n\nIt seems all good to go, still I have one question: from the way your code is written, a digraph obtained from \"any digraph + an isolated vertex\" has an empty flow polyhedron. I don't think that it is the expected behaviour, but might it be what you want for your applications ?\n\nNathann\n\n(the additional commits are to be found at public/14654)",
    "created_at": "2014-11-02T22:14:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182595",
    "user": "https://github.com/nathanncohen"
}
```

Helloooooo !

Sorry for having delayed this patch for so long. I am about to leave for a couple of months and I had a lot of things to attend to `T_T`

I found a way to make this `polytopes.<tab>` thing work. Wasn't that hard after all. I also merged the branch with the latest release.

It seems all good to go, still I have one question: from the way your code is written, a digraph obtained from "any digraph + an isolated vertex" has an empty flow polyhedron. I don't think that it is the expected behaviour, but might it be what you want for your applications ?

Nathann

(the additional commits are to be found at public/14654)



---

archive/issue_comments_182596.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-03T19:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182596",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182597.json:
```json
{
    "body": "Thanks a lot, Nathann, for all the time you spend on my tickets.\n\nI have made a modification that takes care of isolated points by considering them as both sources and sinks, and so letting a flow of 1 silently going through them.",
    "created_at": "2014-11-03T19:35:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182597",
    "user": "https://github.com/fchapoton"
}
```

Thanks a lot, Nathann, for all the time you spend on my tickets.

I have made a modification that takes care of isolated points by considering them as both sources and sinks, and so letting a flow of 1 silently going through them.



---

archive/issue_comments_182598.json:
```json
{
    "body": "Hmm. I don't like the idea that the sources and the sinks are inferred. I'd prefer to have the user provide them (and letting the code infer them only if so required), as I can see myself applying such a method for various sink-source configurations on a single graph, and it looks strange to build a new graph every time.\n\n(I was planning to make these changes myself soon enough, once I'm done with Gelfand-Tsetlin and Berenstein-Zelevinsky polytopes, but I caught something last week and now all I'm swamped with work.)",
    "created_at": "2014-11-03T19:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182598",
    "user": "https://github.com/darijgr"
}
```

Hmm. I don't like the idea that the sources and the sinks are inferred. I'd prefer to have the user provide them (and letting the code infer them only if so required), as I can see myself applying such a method for various sink-source configurations on a single graph, and it looks strange to build a new graph every time.

(I was planning to make these changes myself soon enough, once I'm done with Gelfand-Tsetlin and Berenstein-Zelevinsky polytopes, but I caught something last week and now all I'm swamped with work.)



---

archive/issue_comments_182599.json:
```json
{
    "body": ".......soooooooooooo ???\n\nNathann",
    "created_at": "2014-11-21T03:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182599",
    "user": "https://github.com/nathanncohen"
}
```

.......soooooooooooo ???

Nathann



---

archive/issue_comments_182600.json:
```json
{
    "body": "Darij ? Do you have any plans to implement the change you mentionned ? You left your comment 7 weeks ago and this ticket is \"on hold\" since...\n\nNathann",
    "created_at": "2014-12-19T17:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182600",
    "user": "https://github.com/nathanncohen"
}
```

Darij ? Do you have any plans to implement the change you mentionned ? You left your comment 7 weeks ago and this ticket is "on hold" since...

Nathann



---

archive/issue_comments_182601.json:
```json
{
    "body": "OOPS, please don't regard my comments as blockers! I indeed wanted to do changes, but then I noticed that the polytopes class doesn't work the way I want it to and all these changes have to wait for my other patch, which has to wait for my end-of-term work... so this might take some time. Meanwhile, feel free to review and merge this patch -- whatever I want to change I will change later with my BZ polytopes patch.",
    "created_at": "2014-12-19T19:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182601",
    "user": "https://github.com/darijgr"
}
```

OOPS, please don't regard my comments as blockers! I indeed wanted to do changes, but then I noticed that the polytopes class doesn't work the way I want it to and all these changes have to wait for my other patch, which has to wait for my end-of-term work... so this might take some time. Meanwhile, feel free to review and merge this patch -- whatever I want to change I will change later with my BZ polytopes patch.



---

archive/issue_comments_182602.json:
```json
{
    "body": "Okay, then let it get in. And you are welcome to make those source/sinks explicit, it also feels more natural to me `;-)`\n\nCheers,\n\nNathann",
    "created_at": "2014-12-19T19:17:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182602",
    "user": "https://github.com/nathanncohen"
}
```

Okay, then let it get in. And you are welcome to make those source/sinks explicit, it also feels more natural to me `;-)`

Cheers,

Nathann



---

archive/issue_comments_182603.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-19T19:17:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182603",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182604.json:
```json
{
    "body": "I allowed myself to make the trivial change for speed: `len(ins) == 0` to `not ins`.\n----\nNew commits:",
    "created_at": "2015-01-03T03:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182604",
    "user": "https://github.com/tscrim"
}
```

I allowed myself to make the trivial change for speed: `len(ins) == 0` to `not ins`.
----
New commits:



---

archive/issue_comments_182605.json:
```json
{
    "body": "\n```\nFile \"src/sage/combinat/cluster_algebra_quiver/quiver.py\", line 162, in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver\nFailed example:\n    Q = ClusterQuiver([[1,1]])\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: The input DiGraph contains a loop\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 850, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver[37]>\", line 1, in <module>\n        Q = ClusterQuiver([[Integer(1),Integer(1)]])\n      File \"sage/misc/lazy_import.pyx\", line 383, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3398)\n        return self._get_object()(*args, **kwds)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/combinat/cluster_algebra_quiver/quiver.py\", line 342, in __init__\n        dg = DiGraph( data )\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/digraph.py\", line 716, in __init__\n        deprecation(15706, \"You created a graph with loops from a list. \"+\n    NameError: global name 'deprecation' is not defined\n**********************************************************************\n1 item had failures:\n   2 of  41 in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver\n    [227 tests, 2 failures, 2.01 s]\n----------------------------------------------------------------------\nsage -t --warn-long 38.5 src/sage/combinat/cluster_algebra_quiver/quiver.py  # 2 doctests failed\n```\n",
    "created_at": "2015-01-03T21:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182605",
    "user": "https://github.com/vbraun"
}
```


```
File "src/sage/combinat/cluster_algebra_quiver/quiver.py", line 162, in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver
Failed example:
    Q = ClusterQuiver([[1,1]])
Expected:
    Traceback (most recent call last):
    ...
    ValueError: The input DiGraph contains a loop
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver[37]>", line 1, in <module>
        Q = ClusterQuiver([[Integer(1),Integer(1)]])
      File "sage/misc/lazy_import.pyx", line 383, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3398)
        return self._get_object()(*args, **kwds)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/combinat/cluster_algebra_quiver/quiver.py", line 342, in __init__
        dg = DiGraph( data )
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/digraph.py", line 716, in __init__
        deprecation(15706, "You created a graph with loops from a list. "+
    NameError: global name 'deprecation' is not defined
**********************************************************************
1 item had failures:
   2 of  41 in sage.combinat.cluster_algebra_quiver.quiver.ClusterQuiver
    [227 tests, 2 failures, 2.01 s]
----------------------------------------------------------------------
sage -t --warn-long 38.5 src/sage/combinat/cluster_algebra_quiver/quiver.py  # 2 doctests failed
```




---

archive/issue_comments_182606.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-01-03T21:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182606",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_182607.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-01-03T22:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182607",
    "user": "https://github.com/darijgr"
}
```

New commits:



---

archive/issue_comments_182608.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-01-03T22:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182608",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_182609.json:
```json
{
    "body": "Sorry guys, just added some more complexity. I do not particularly trust `self.edges()` to be consistent, let alone reasonable, about the order in which it outputs edges. And sources and sinks are now specifiable by the user.",
    "created_at": "2015-01-03T22:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182609",
    "user": "https://github.com/darijgr"
}
```

Sorry guys, just added some more complexity. I do not particularly trust `self.edges()` to be consistent, let alone reasonable, about the order in which it outputs edges. And sources and sinks are now specifiable by the user.



---

archive/issue_comments_182610.json:
```json
{
    "body": "Ok, I have just added the word \"optional\" in a few places. I would have prefered more simplicity, but nevertheless this seems to be good to go. If somebody else agrees, please set it to positive review.\n----\nNew commits:",
    "created_at": "2015-03-02T20:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182610",
    "user": "https://github.com/fchapoton"
}
```

Ok, I have just added the word "optional" in a few places. I would have prefered more simplicity, but nevertheless this seems to be good to go. If somebody else agrees, please set it to positive review.
----
New commits:



---

archive/issue_comments_182611.json:
```json
{
    "body": "I definitely agree with your \"optional\"s -- they can never hurt. Does this mean I should set the ticket to positive_review?",
    "created_at": "2015-03-02T20:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182611",
    "user": "https://github.com/darijgr"
}
```

I definitely agree with your "optional"s -- they can never hurt. Does this mean I should set the ticket to positive_review?



---

archive/issue_comments_182612.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-02T21:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182612",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182613.json:
```json
{
    "body": "In short, yes (although I've just done it :P).",
    "created_at": "2015-03-02T21:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182613",
    "user": "https://github.com/tscrim"
}
```

In short, yes (although I've just done it :P).



---

archive/issue_comments_182614.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-03-03T20:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14450#issuecomment-182614",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
