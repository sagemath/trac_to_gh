# Issue 25440: py3: normalize repr of bound methods in doctest results

archive/issues_025440.json:
```json
{
    "body": "Keywords: doctests\n\nAnother fixer-upper for another very common (mostly) trivial doctest failure on Python 3.\n\nOn Python 2 bound methods are represented using the class name of the object the method was bound to, whereas on Python 3 they are represented\nwith the fully-qualified name of the function that implements the method.\n\nIn the context of a doctest it's almost impossible to convert accurately from the latter to the former or vice-versa, so we simplify the reprs of bound methods to just the bare method name.\n\nThis is slightly regressive since it means one can't use the repr of a bound method to test whether some element is getting a method from the correct class (imporant sometimes in the cases of dynamic classes).\nHowever, such tests could be written could be written more explicitly to emphasize that they are testing such behavior, and will fail on Python 3 anyways.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/25677\n\n",
    "created_at": "2018-06-27T17:41:03Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "py3: normalize repr of bound methods in doctest results",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25440",
    "user": "@embray"
}
```
Keywords: doctests

Another fixer-upper for another very common (mostly) trivial doctest failure on Python 3.

On Python 2 bound methods are represented using the class name of the object the method was bound to, whereas on Python 3 they are represented
with the fully-qualified name of the function that implements the method.

In the context of a doctest it's almost impossible to convert accurately from the latter to the former or vice-versa, so we simplify the reprs of bound methods to just the bare method name.

This is slightly regressive since it means one can't use the repr of a bound method to test whether some element is getting a method from the correct class (imporant sometimes in the cases of dynamic classes).
However, such tests could be written could be written more explicitly to emphasize that they are testing such behavior, and will fail on Python 3 anyways.


Issue created by migration from https://trac.sagemath.org/ticket/25677





---

archive/issue_comments_358817.json:
```json
{
    "body": "Is this ready for review ?",
    "created_at": "2018-07-04T12:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25440#issuecomment-358817",
    "user": "@fchapoton"
}
```

Is this ready for review ?



---

archive/issue_comments_358818.json:
```json
{
    "body": "I think so.  I wanted to make sure there weren't any other problems with it or that there weren't some corner cases it wasn't catching.  The latter is still a possibility (hard to know until more of the tests are fixed) but this does fix a lot of tests as is.",
    "created_at": "2018-07-04T16:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25440#issuecomment-358818",
    "user": "@embray"
}
```

I think so.  I wanted to make sure there weren't any other problems with it or that there weren't some corner cases it wasn't catching.  The latter is still a possibility (hard to know until more of the tests are fixed) but this does fix a lot of tests as is.



---

archive/issue_comments_358819.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-04T16:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25440#issuecomment-358819",
    "user": "@embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_358820.json:
```json
{
    "body": "then let us move on",
    "created_at": "2018-07-04T18:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25440#issuecomment-358820",
    "user": "@fchapoton"
}
```

then let us move on



---

archive/issue_comments_358821.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-04T18:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25440#issuecomment-358821",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_358822.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-07-08T13:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25440#issuecomment-358822",
    "user": "@vbraun"
}
```

Resolution: fixed
