# Issue 29160: Add more cygwin system packages

Issue created by migration from https://trac.sagemath.org/ticket/29397

Original creator: mkoeppe

Original creation time: 2020-03-23 17:14:25

CC:  dimpase embray tscrim

`cygwin-standard` builds take too long because several system packages are not installed or recognized.

https://github.com/mkoeppe/sage/runs/525632833?check_suite_focus=true


```
configure: notice: the following SPKGs did not find equivalent system packages: arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small pcre planarity python3 r readline rw symmetrica tachyon zeromq
checking for the package system in use... cygwin
configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg
apt-cyg install libflint-devel libgsl-devel ncurses-devel libreadline-devel libzmq-devel



Checking whether SageMath should install SPKG ncurses...
checking for NCURSES... no
checking ncurses.h usability... no
checking ncurses.h presence... no
checking for ncurses.h... no
configure: no suitable system package found for SPKG ncurses
```



---

Comment by mkoeppe created at 2020-03-23 17:19:12

New commits:


---

Comment by git created at 2020-03-23 17:21:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-03-23 17:30:59

The mpfr test is from #27258.  cygwin has libmpfr-devel-4.0.2 - is that too old?


---

Comment by dimpase created at 2020-03-23 17:34:57

no, 4.0.1 should be ok


---

Comment by git created at 2020-03-23 17:34:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-03-23 17:36:38

Replying to [comment:7 dimpase]:
> no, 4.0.1 should be ok
Right, sorry, I misread the log


---

Comment by git created at 2020-03-23 17:39:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-03-23 17:41:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-03-23 20:09:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-03-24 00:33:40

Openblas is not recognized


---

Comment by mkoeppe created at 2020-03-24 00:41:25

Zmq is 4.2.3; our minimum is 4.2.5


---

Comment by mkoeppe created at 2020-03-24 01:43:23

Cygwin only has package config files blas.pc, cblas.pc, lapack.pc, not openblas.pc.
libopenblas overrides the dll /usr/bin/cygblas-0.dll


---

Comment by mkoeppe created at 2020-03-24 02:06:15

I've opened #29398 for openblas.


---

Comment by mkoeppe created at 2020-03-24 02:12:41

Replying to [comment:16 mkoeppe]:
> Zmq is 4.2.3; our minimum is 4.2.5
Zmq changelog https://github.com/zeromq/libzmq/releases

Our last update in #25906 was from 4.0.5.p2 and motivated with dropping some build patches that were upstreamed.


---

Comment by mkoeppe created at 2020-03-24 02:17:22

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-03-24 14:20:07

We can lower the minimum zmq version requirement, or at least try to.


---

Comment by mkoeppe created at 2020-03-24 17:29:20

I don't think it adds much to the build time, and eventually cygwin will catch up


---

Comment by dimpase created at 2020-03-24 17:31:10

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-03-24 17:31:10

ok


---

Comment by vbraun created at 2020-03-29 00:23:49

Resolution: fixed
