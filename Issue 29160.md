# Issue 29160: Add more cygwin system packages

archive/issues_029160.json:
```json
{
    "body": "CC:  @dimpase @embray @tscrim\n\n`cygwin-standard` builds take too long because several system packages are not installed or recognized.\n\nhttps://github.com/mkoeppe/sage/runs/525632833?check_suite_focus=true\n\n```\nconfigure: notice: the following SPKGs did not find equivalent system packages: arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small pcre planarity python3 r readline rw symmetrica tachyon zeromq\nchecking for the package system in use... cygwin\nconfigure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\nconfigure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg\napt-cyg install libflint-devel libgsl-devel ncurses-devel libreadline-devel libzmq-devel\n\n\n\nChecking whether SageMath should install SPKG ncurses...\nchecking for NCURSES... no\nchecking ncurses.h usability... no\nchecking ncurses.h presence... no\nchecking for ncurses.h... no\nconfigure: no suitable system package found for SPKG ncurses\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/29397\n\n",
    "created_at": "2020-03-23T17:14:25Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Add more cygwin system packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29160",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @dimpase @embray @tscrim

`cygwin-standard` builds take too long because several system packages are not installed or recognized.

https://github.com/mkoeppe/sage/runs/525632833?check_suite_focus=true

```
configure: notice: the following SPKGs did not find equivalent system packages: arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small pcre planarity python3 r readline rw symmetrica tachyon zeromq
checking for the package system in use... cygwin
configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg
apt-cyg install libflint-devel libgsl-devel ncurses-devel libreadline-devel libzmq-devel



Checking whether SageMath should install SPKG ncurses...
checking for NCURSES... no
checking ncurses.h usability... no
checking ncurses.h presence... no
checking for ncurses.h... no
configure: no suitable system package found for SPKG ncurses
```

Issue created by migration from https://trac.sagemath.org/ticket/29397





---

archive/issue_comments_412351.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-03-23T17:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412351",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_412352.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-23T17:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412352",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412353.json:
```json
{
    "body": "The mpfr test is from #27258.  cygwin has libmpfr-devel-4.0.2 - is that too old?",
    "created_at": "2020-03-23T17:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412353",
    "user": "https://github.com/mkoeppe"
}
```

The mpfr test is from #27258.  cygwin has libmpfr-devel-4.0.2 - is that too old?



---

archive/issue_comments_412354.json:
```json
{
    "body": "no, 4.0.1 should be ok",
    "created_at": "2020-03-23T17:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412354",
    "user": "https://github.com/dimpase"
}
```

no, 4.0.1 should be ok



---

archive/issue_comments_412355.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-23T17:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412355",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412356.json:
```json
{
    "body": "Replying to [comment:7 dimpase]:\n> no, 4.0.1 should be ok\n\nRight, sorry, I misread the log",
    "created_at": "2020-03-23T17:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412356",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:7 dimpase]:
> no, 4.0.1 should be ok

Right, sorry, I misread the log



---

archive/issue_comments_412357.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-23T17:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412357",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412358.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-23T17:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412358",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412359.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-23T20:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412359",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412360.json:
```json
{
    "body": "Openblas is not recognized",
    "created_at": "2020-03-24T00:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412360",
    "user": "https://github.com/mkoeppe"
}
```

Openblas is not recognized



---

archive/issue_comments_412361.json:
```json
{
    "body": "Zmq is 4.2.3; our minimum is 4.2.5",
    "created_at": "2020-03-24T00:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412361",
    "user": "https://github.com/mkoeppe"
}
```

Zmq is 4.2.3; our minimum is 4.2.5



---

archive/issue_comments_412362.json:
```json
{
    "body": "Cygwin only has package config files blas.pc, cblas.pc, lapack.pc, not openblas.pc.\nlibopenblas overrides the dll /usr/bin/cygblas-0.dll",
    "created_at": "2020-03-24T01:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412362",
    "user": "https://github.com/mkoeppe"
}
```

Cygwin only has package config files blas.pc, cblas.pc, lapack.pc, not openblas.pc.
libopenblas overrides the dll /usr/bin/cygblas-0.dll



---

archive/issue_comments_412363.json:
```json
{
    "body": "I've opened #29398 for openblas.",
    "created_at": "2020-03-24T02:06:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412363",
    "user": "https://github.com/mkoeppe"
}
```

I've opened #29398 for openblas.



---

archive/issue_comments_412364.json:
```json
{
    "body": "Replying to [comment:16 mkoeppe]:\n> Zmq is 4.2.3; our minimum is 4.2.5\n\nZmq changelog https://github.com/zeromq/libzmq/releases\n\nOur last update in #25906 was from 4.0.5.p2 and motivated with dropping some build patches that were upstreamed.",
    "created_at": "2020-03-24T02:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412364",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:16 mkoeppe]:
> Zmq is 4.2.3; our minimum is 4.2.5

Zmq changelog https://github.com/zeromq/libzmq/releases

Our last update in #25906 was from 4.0.5.p2 and motivated with dropping some build patches that were upstreamed.



---

archive/issue_comments_412365.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-24T02:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412365",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_412366.json:
```json
{
    "body": "We can lower the minimum zmq version requirement, or at least try to.",
    "created_at": "2020-03-24T14:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412366",
    "user": "https://github.com/dimpase"
}
```

We can lower the minimum zmq version requirement, or at least try to.



---

archive/issue_comments_412367.json:
```json
{
    "body": "I don't think it adds much to the build time, and eventually cygwin will catch up",
    "created_at": "2020-03-24T17:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412367",
    "user": "https://github.com/mkoeppe"
}
```

I don't think it adds much to the build time, and eventually cygwin will catch up



---

archive/issue_comments_412368.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-24T17:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412368",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_412369.json:
```json
{
    "body": "ok",
    "created_at": "2020-03-24T17:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412369",
    "user": "https://github.com/dimpase"
}
```

ok



---

archive/issue_comments_412370.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-29T00:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29160#issuecomment-412370",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_074919.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-29T00:23:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29160",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29160#event-74919"
}
```
