# Issue 23937: Upgrade giac to 1.4.9-19

Issue created by migration from https://trac.sagemath.org/ticket/24174

Original creator: fbissey

Original creation time: 2017-11-07 21:31:14

This is simple upgrade of `giac`. It removes the needs for 2 patches
* linking to png16. Version of png are now tested in order in configure from png16 to png.
* fix for pari 2.8 and over

What's more the patch for the pari result was dependent on the compiler used (gcc vs clang). Upstream now give the same result for both gcc and glang (at least on linux).


---

Comment by fbissey created at 2017-11-07 21:38:36

Changing status from new to needs_review.


---

Comment by fbissey created at 2017-11-07 21:38:36

New commits:


---

Comment by tscrim created at 2017-11-07 23:10:22

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-11-07 23:10:22

Off to the buildbots.


---

Comment by fbissey created at 2017-11-07 23:19:33

Thanks, I hope I have the right syntax for tarball downloads in the ticket, that often gets in the way of patchbot in my experience.


---

Comment by tscrim created at 2017-11-07 23:23:25

I've never known patchbots to pull the tarballs, and I just always assumed Volker does the tarballs manually.


---

Comment by vbraun created at 2017-12-09 12:30:56

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2017-12-09 12:30:56

Merge conflict


---

Comment by git created at 2017-12-11 20:34:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by fbissey created at 2017-12-11 20:44:03

Merged #24214 to solve the merge conflict. Updated to the latest version of `giac`.


---

Comment by fbissey created at 2017-12-11 20:44:03

Changing status from needs_work to needs_review.


---

Comment by fbissey created at 2017-12-11 21:06:57

Ooops not #24214, I meant #24025.


---

Comment by fbissey created at 2017-12-11 21:24:38

I will have to wait until beta1. I thought I had merged #24025 properly but I only got the tip of it somehow.


---

Comment by fbissey created at 2017-12-11 21:24:38

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-12-14 21:00:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by fbissey created at 2017-12-14 21:01:29

Changing status from needs_work to needs_review.


---

Comment by fbissey created at 2017-12-14 21:01:29

Ok, now it is ready to review again.


---

Comment by dimpase created at 2018-01-01 22:35:13

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2018-01-01 22:35:13

looks good to me.


---

Comment by vbraun created at 2018-01-04 18:31:01

Something is wrong with the checkum

```
$ md5sum upstream/giac-1.4.9.39.tar.bz2
894477a31d72c3c0df466fb8df7c61f8  upstream/giac-1.4.9.39.tar.bz2
```



---

Comment by vbraun created at 2018-01-04 18:31:01

Changing status from positive_review to needs_work.


---

Comment by fbissey created at 2018-01-04 19:21:48

OK that's very strange

```
fbissey@moonloop ~/sandbox/git-fork/sage $ cat build/pkgs/giac/checksums.ini 
tarball=giac-VERSION.tar.bz2
sha1=7ba617ef29dde72bb927a0e92541e8a30325a7a4
md5=45dfd01ee167cc0221d07e54db0c28e2
cksum=1393477559
fbissey@moonloop ~/sandbox/git-fork/sage $ md5sum upstream/giac-1.4.9.39.tar.bz2
45dfd01ee167cc0221d07e54db0c28e2  upstream/giac-1.4.9.39.tar.bz2
```

and 

```
fbissey@moonloop ~/sandbox/git-fork/sage $ ./sage --package fix-checksum giac
Checksum of giac-1.4.9.39.tar.bz2 unchanged
```

differences for md5 is puzzling and concerning. Unless the tarball I linked to is corrupted - checking.


---

Comment by fbissey created at 2018-01-04 19:23:36

Nope. The tarball I download from the link I provided has the same checksum.


---

Comment by git created at 2018-01-23 01:53:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by fbissey created at 2018-01-23 01:54:17

Changing status from needs_work to needs_review.


---

Comment by fbissey created at 2018-01-23 01:54:17

OK updated to latest available. I am not sure how Volker got a wrong checksum. Back to need review.


---

Comment by tscrim created at 2018-01-23 13:40:12

Buildbots, come forth.


---

Comment by tscrim created at 2018-01-23 13:40:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-01-27 15:59:58

Resolution: fixed


---

Comment by jhpalmieri created at 2018-06-19 23:44:00

I don't think this is a new problem, but giac is not installing its documentation. See #25616.
