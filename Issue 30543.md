# Issue 30543: sage_setup: Separate installing and cleaning

archive/issues_030543.json:
```json
{
    "body": "CC:  @tobiasdiez @dimpase @jhpalmieri\n\nThis is preparation for #28925.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30780\n\n",
    "created_at": "2020-10-16T22:13:34Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "sage_setup: Separate installing and cleaning",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30543",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @tobiasdiez @dimpase @jhpalmieri

This is preparation for #28925.


Issue created by migration from https://trac.sagemath.org/ticket/30780





---

archive/issue_comments_435703.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2020-10-16T22:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435703",
    "user": "https://github.com/mkoeppe"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_435704.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-10-16T22:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435704",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_435705.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-10-16T22:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435705",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_435706.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-17T02:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435706",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435707.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-11T09:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435707",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_435708.json:
```json
{
    "body": "ok",
    "created_at": "2020-11-11T09:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435708",
    "user": "https://github.com/dimpase"
}
```

ok



---

archive/issue_comments_435709.json:
```json
{
    "body": "Thanks",
    "created_at": "2020-11-11T16:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435709",
    "user": "https://github.com/mkoeppe"
}
```

Thanks



---

archive/issue_events_028048.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-22T15:06:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30543#event-28048"
}
```



---

archive/issue_comments_435710.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-22T15:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435710",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_435711.json:
```json
{
    "body": "Why did this include a whole entire duplicate of `setup.py`?",
    "created_at": "2020-12-01T10:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435711",
    "user": "https://github.com/embray"
}
```

Why did this include a whole entire duplicate of `setup.py`?



---

archive/issue_comments_435712.json:
```json
{
    "body": "The duplication was done in #30779, a dependency of this ticket. This is preparing for Tobias Diez's work for editable installs (`setup.py develop`) in #30371 out of `src/` and the work in #29705 regarding modularization, which is taking place in `build/pkgs/sagelib/src`. At some point they will be reconciled again, but for the time being it simplifies development to keep the two copies separate.",
    "created_at": "2020-12-01T19:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-435712",
    "user": "https://github.com/mkoeppe"
}
```

The duplication was done in #30779, a dependency of this ticket. This is preparing for Tobias Diez's work for editable installs (`setup.py develop`) in #30371 out of `src/` and the work in #29705 regarding modularization, which is taking place in `build/pkgs/sagelib/src`. At some point they will be reconciled again, but for the time being it simplifies development to keep the two copies separate.
