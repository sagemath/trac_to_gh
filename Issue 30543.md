# Issue 30543: sage_setup: Separate installing and cleaning

archive/issues_030543.json:
```json
{
    "body": "CC:  @tobiasdiez dimpase jhpalmieri\n\nThis is preparation for #28925.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30780\n\n",
    "created_at": "2020-10-16T22:13:34Z",
    "labels": [
        "build",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "sage_setup: Separate installing and cleaning",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30543",
    "user": "mkoeppe"
}
```
CC:  @tobiasdiez dimpase jhpalmieri

This is preparation for #28925.


Issue created by migration from https://trac.sagemath.org/ticket/30780





---

archive/issue_comments_436202.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2020-10-16T22:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436202",
    "user": "mkoeppe"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_436203.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-10-16T22:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436203",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_436204.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-10-16T22:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436204",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_436205.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-10-17T02:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436205",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_436206.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-11T09:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436206",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_436207.json:
```json
{
    "body": "ok",
    "created_at": "2020-11-11T09:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436207",
    "user": "dimpase"
}
```

ok



---

archive/issue_comments_436208.json:
```json
{
    "body": "Thanks",
    "created_at": "2020-11-11T16:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436208",
    "user": "mkoeppe"
}
```

Thanks



---

archive/issue_comments_436209.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-22T15:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436209",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_436210.json:
```json
{
    "body": "Why did this include a whole entire duplicate of `setup.py`?",
    "created_at": "2020-12-01T10:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436210",
    "user": "embray"
}
```

Why did this include a whole entire duplicate of `setup.py`?



---

archive/issue_comments_436211.json:
```json
{
    "body": "The duplication was done in #30779, a dependency of this ticket. This is preparing for Tobias Diez's work for editable installs (`setup.py develop`) in #30371 out of `src/` and the work in #29705 regarding modularization, which is taking place in `build/pkgs/sagelib/src`. At some point they will be reconciled again, but for the time being it simplifies development to keep the two copies separate.",
    "created_at": "2020-12-01T19:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30543#issuecomment-436211",
    "user": "mkoeppe"
}
```

The duplication was done in #30779, a dependency of this ticket. This is preparing for Tobias Diez's work for editable installs (`setup.py develop`) in #30371 out of `src/` and the work in #29705 regarding modularization, which is taking place in `build/pkgs/sagelib/src`. At some point they will be reconciled again, but for the time being it simplifies development to keep the two copies separate.
