# Issue 18533: Remove accidental executable bits

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-06-23 06:45:13

A few Python source files were executable by mistake.


---

Comment by git created at 2015-06-23 06:47:59

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2015-06-23 06:48:43

Changing status from new to needs_review.


---

Comment by tmonteil created at 2015-06-23 13:17:24

According to the following tests


```
find $SAGE_ROOT/src -type f ! -perm 755 ! -perm 644
find $SAGE_ROOT/src/bin -type f ! -perm 755 -exec echo {} \; -exec head -n 1 {} \;
find $SAGE_ROOT/src/bin -type f ! -perm 644 -exec echo {} \; -exec head -n 1 {} \;
find $SAGE_ROOT/src/doc -type f ! -perm 644
find $SAGE_ROOT/src/sage -type f ! -perm 644
find $SAGE_ROOT/src/ext -type f ! -perm 644 -exec echo {} \; -exec head -n 1 {} \;
find $SAGE_ROOT/src/ext -type f -exec head -n 1 {} \; | grep '^#!
```


The following scripts have a shebang and should be chmoded to 755: 

- `$SAGE_ROOT/src/bin/sage-arch-env`
- `$SAGE_ROOT/src/bin/sage-test-import`

The following image should be chmoded to 644

- `$SAGE_ROOT/src/doc/en/prep/media/Rplot001.png`


---

Comment by tmonteil created at 2015-06-23 13:17:24

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2015-06-23 13:18:51

I didn't look at all those files, but I will make more changes.


---

Comment by git created at 2015-06-23 13:34:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-06-23 13:34:35

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2015-06-23 13:37:39

I removed the files

```
src/bin/sage-test-import
```

and

```
src/sage/dev/pre-commit
```

since I couldn't find any evidence that they are used. They were not executable, so just executing them wouldn't work anyway.


---

Comment by tmonteil created at 2015-06-23 15:22:01

Changing status from needs_review to needs_work.


---

Comment by tmonteil created at 2015-06-23 15:22:01

They are still two missing pkg scripts:


```
find $SAGE_ROOT/build/pkgs -name spkg-* ! -perm 755
```


- `/opt/sagemath/sage//build/pkgs/tides/spkg-check`
- `/opt/sagemath/sage//build/pkgs/tides/spkg-install`

Concerning `dev` scripts, there is no evidence that anyone use them, but it seems that the policy is to keep them deprecated and untouched for a while (while removing from the doc):
https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/dev$20scripts/sage-devel/qMtxE-UFbZY/3EoIl18saYsJ
http://thread.gmane.org/gmane.comp.mathematics.sage.devel/79556


---

Comment by jdemeyer created at 2015-06-23 15:24:56

Replying to [comment:10 tmonteil]:
> They are still two missing pkg scripts:
> 
> {{{
> find $SAGE_ROOT/build/pkgs -name spkg-* ! -perm 755
> }}}
> 
> - `/opt/sagemath/sage//build/pkgs/tides/spkg-check`
> - `/opt/sagemath/sage//build/pkgs/tides/spkg-install`

Yes, sorry, but this is #18573.


---

Comment by jdemeyer created at 2015-06-23 15:28:17

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2015-06-23 15:28:17

Replying to [comment:10 tmonteil]:
> Concerning `dev` scripts, there is no evidence that anyone use them, but it seems that the policy is to keep them deprecated and untouched for a while (while removing from the doc):
> https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/dev$20scripts/sage-devel/qMtxE-UFbZY/3EoIl18saYsJ
> http://thread.gmane.org/gmane.comp.mathematics.sage.devel/79556

I'm saying there is specifically no evidence that the file `pre-commit` has ever been used, regardless of whether the dev scripts are still used.


---

Comment by tmonteil created at 2015-06-23 15:42:06

Replying to [comment:12 jdemeyer]:
> I'm saying there is specifically no evidence that the file `pre-commit` has ever been used, regardless of whether the dev scripts are still used.

OK, let's see if someone complains that this is missing.


---

Comment by tmonteil created at 2015-06-23 15:42:06

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-06-24 20:11:13

Resolution: fixed
