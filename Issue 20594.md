# Issue 20594: Make infinity rings a subclass of singleton

Issue created by migration from https://trac.sagemath.org/ticket/20831

Original creator: tscrim

Original creation time: 2016-06-15 01:48:04

Assignee: tscrim

CC:  rws paulmasson eviatarbach

Subclasses of `Singleton` are over 3x faster when recreating the ring:

```
sage: from sage.misc.fast_methods import Singleton
sage: from sage.rings.infinity import _uniq
sage: class Foo(_uniq, object):
....:     def __init__(self):
....:         pass
sage: class Bar(Singleton, object):
....:     def __init__(self):
....:         pass    
sage: %timeit Foo()
The slowest run took 71.72 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 306 ns per loop
sage: %timeit Bar()
The slowest run took 400.59 times longer than the fastest. This could mean that an intermediate result is being cached.
10000000 loops, best of 3: 94.6 ns per loop
```

Also IMO, it is a more Sage standard class than the `_uniq`, and so, more maintainable.


---

Comment by tscrim created at 2016-06-15 01:48:42

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-06-15 01:48:42

New commits:


---

Comment by rws created at 2016-06-15 08:28:54

Passes tests with patchbot and LGTM.


---

Comment by rws created at 2016-06-15 08:28:54

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-06-16 21:43:22

Resolution: fixed
