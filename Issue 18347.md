# Issue 18347: Iterator through magma elements

Issue created by migration from https://trac.sagemath.org/ticket/18584

Original creator: stumpc5

Original creation time: 2015-06-02 10:55:25

CC:  nthiery vpilaud saliola




---

Comment by stumpc5 created at 2015-06-02 11:01:48

New commits:


---

Comment by stumpc5 created at 2015-06-02 11:01:48

Changing type from PLEASE CHANGE to enhancement.


---

Comment by stumpc5 created at 2015-06-02 11:01:48

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by stumpc5 created at 2015-06-02 11:05:03

Hi Nicolas and Franco -

I found this code on my computer (in my favourite `sage-6.5` with parts of the combinat queue applied and the only computer where a proper `chevie` interface for reflection groups is running). It does not appear to be in Sage, so I wonder whether that's needed, or whether there is something better than that.

Thanks, Christian


---

Comment by stumpc5 created at 2015-06-02 11:05:27

Changing keywords from "" to "sagedays64.5".


---

Comment by stumpc5 created at 2015-06-02 11:19:29

It appears that `finitely_generated_semigroups` have a `succ_generators` and an {{__iter__}} defined. Is there a reason why that code is not in `finitely_generated_magmas`?

`@`Nicolas: should I move that code there, and delete my code for `magmas`?


---

Comment by stumpc5 created at 2015-06-02 11:22:27

And do you know what that `# TODO: update transitive ideal` in the source of `finitely_generated_semigroups` mean?


---

Comment by git created at 2015-06-02 11:25:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-02 11:27:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-02 11:36:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by stumpc5 created at 2015-06-02 11:40:26

Okay, this breaks a few things, but I leave the ticket open until someone says whether or not the iterator should stay in semigroups or should go to finitely generated magmas...


---

Comment by stumpc5 created at 2015-06-02 11:56:06

Is there an implementation of this iterator that not only iters through the elements, but also keeps track of the words in the generators to get to an element?


---

Comment by tscrim created at 2015-06-02 16:49:36

I believe there is an issue with needing associativity. Specifically, I don't believe that iterator could get `(a * b) * (a * b)`. However, I think a default iterator could be described by using all previously encountered elements.


---

Comment by nthiery created at 2015-06-03 07:05:45

Hi Christian, Travis!

Replying to [comment:12 tscrim]:
> I believe there is an issue with needing associativity. Specifically, I don't believe that iterator could get `(a * b) * (a * b)`. However, I think a default iterator could be described by using all previously encountered elements.

Indeed this is why I had put this iterator in `Semigroups`.

Which raises a good question: could we implement this with the current `RecursivelyEnumeratedSet`? It essentially allows only for univariate functions which is presumably not enough.

Christian: what's your use case?

Cheers,


---

Comment by stumpc5 created at 2015-06-03 10:32:46

> Christian: what's your use case?

I wanted (back when writing the never-finished-coxeter-group-stuff) to use an iterator through the reflection group, keeping track of the used word along the way.

> Which raises a good question: could we implement this with the current RecursivelyEnumeratedSet?

Sorry, could you point to which question you refer? The way the iterator is implemented, or implementing a flag to attach the used word to the output?

Thanks, Christian


---

Comment by nthiery created at 2015-06-03 17:06:06

Replying to [comment:14 stumpc5]:
> > Christian: what's your use case?
> 
> I wanted (back when writing the never-finished-coxeter-group-stuff) to use an iterator through the reflection group, keeping track of the used word along the way.

Ok; so having it on a semigroup is enough for you.

> > Which raises a good question: could we implement this with the current RecursivelyEnumeratedSet?
> 
> Sorry, could you point to which question you refer? The way the iterator is implemented, or implementing a flag to attach the used word to the output?

My question was about the implementation of an iterator over a finitely generated magma using only `RecursivelyEnumeratedSet`. But if there is no explicit need for this feature right now, we might as well not worry about it.

Cheers,
                               Nicolas
