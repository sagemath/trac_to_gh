# Issue 10111: random_prime  does not handle erroneous input gracefully - it hangs

archive/issues_010111.json:
```json
{
    "body": "Assignee: @williamstein\n\nAs noted at #10111 and \n\nhttp://groups.google.com/group/sage-devel/browse_thread/thread/6e8d6f28c915830d?hl=en\n\n`random_prime()` is not well documented. \n\nBut `random_prime()` is also broken for some erroneous input. Programs should always handle poor input properly, which is the case of Sage probably means generating an error message. \n\n\n```\nsage: random_prime(0,True,-1) # Hangs\nsage: random_prime(0,False,-1) # Hangs\nsage: random_prime(1,0,-23) # Hangs\nsage: random_prime(-12,0,-12) # Hangs\nsage: random_prime(0, proof=False, lbound=-12) # Hangs\n```\n\n\nHaving a negative lower bound can cause the function to hang, but this is not always the case, as the example below shows. Here an error message is generated. \n\n\n```\nsage: random_prime(-12,0,-4)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n\n/export/home/drkirkby/sage-4.6.alpha3/<ipython console> in <module>()\n\n/export/home/drkirkby/sage-4.6.alpha3/local/lib/python2.6/site-packages/sage/rings/arith.pyc in random_prime(n, proof, lbound)\n   1144     n = ZZ(n)\n   1145     if n < lbound:\n-> 1146         raise ValueError, \"n must be greater than lbound: %s\"%(lbound)\n   1147     elif n == 2:\n   1148         return ZZ(n)\n\nValueError: n must be greater than lbound: -4\n```\n\n\nDave\n\nIssue created by migration from https://trac.sagemath.org/ticket/10112\n\n",
    "created_at": "2010-10-09T23:29:39Z",
    "labels": [
        "component: number theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.8",
    "title": "random_prime  does not handle erroneous input gracefully - it hangs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10111",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```
Assignee: @williamstein

As noted at #10111 and 

http://groups.google.com/group/sage-devel/browse_thread/thread/6e8d6f28c915830d?hl=en

`random_prime()` is not well documented. 

But `random_prime()` is also broken for some erroneous input. Programs should always handle poor input properly, which is the case of Sage probably means generating an error message. 


```
sage: random_prime(0,True,-1) # Hangs
sage: random_prime(0,False,-1) # Hangs
sage: random_prime(1,0,-23) # Hangs
sage: random_prime(-12,0,-12) # Hangs
sage: random_prime(0, proof=False, lbound=-12) # Hangs
```


Having a negative lower bound can cause the function to hang, but this is not always the case, as the example below shows. Here an error message is generated. 


```
sage: random_prime(-12,0,-4)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

/export/home/drkirkby/sage-4.6.alpha3/<ipython console> in <module>()

/export/home/drkirkby/sage-4.6.alpha3/local/lib/python2.6/site-packages/sage/rings/arith.pyc in random_prime(n, proof, lbound)
   1144     n = ZZ(n)
   1145     if n < lbound:
-> 1146         raise ValueError, "n must be greater than lbound: %s"%(lbound)
   1147     elif n == 2:
   1148         return ZZ(n)

ValueError: n must be greater than lbound: -4
```


Dave

Issue created by migration from https://trac.sagemath.org/ticket/10112





---

archive/issue_comments_101923.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-10-11T03:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101923",
    "user": "https://github.com/mwhansen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_101924.json:
```json
{
    "body": "Mike, \nthank you for fixing this. I'll try this later today, but here's a few comments from reading the patch only - I've not tested it in Sage yet. \n\nShould the example on line 1127 be\n\n`random_prime(200, proof=False, lbound=100) ` ? \n\nCurrently it's the same as the previous example. \n\nOne thing that would be nice is if you did like John did at #10105 and have doctests for the commands that currently hang Sage. Then if there are any regressions, and the bug(s) get back in, this will be detected. \n\nPerhaps I'll get bored of running my little script that supplies junk to commands to see what ones crash sage (like #10113) or hang Sage like this ticket, #10108 and #10105.",
    "created_at": "2010-10-11T05:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101924",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Mike, 
thank you for fixing this. I'll try this later today, but here's a few comments from reading the patch only - I've not tested it in Sage yet. 

Should the example on line 1127 be

`random_prime(200, proof=False, lbound=100) ` ? 

Currently it's the same as the previous example. 

One thing that would be nice is if you did like John did at #10105 and have doctests for the commands that currently hang Sage. Then if there are any regressions, and the bug(s) get back in, this will be detected. 

Perhaps I'll get bored of running my little script that supplies junk to commands to see what ones crash sage (like #10113) or hang Sage like this ticket, #10108 and #10105.



---

archive/issue_comments_101925.json:
```json
{
    "body": "Attachment [trac_10112.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112.patch) by @mwhansen created at 2010-10-11 06:04:55\n\nI've updated the patch.",
    "created_at": "2010-10-11T06:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101925",
    "user": "https://github.com/mwhansen"
}
```

Attachment [trac_10112.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112.patch) by @mwhansen created at 2010-10-11 06:04:55

I've updated the patch.



---

archive/issue_comments_101926.json:
```json
{
    "body": "Thank you, I will take a look later today and test it.",
    "created_at": "2010-10-11T07:36:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101926",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Thank you, I will take a look later today and test it.



---

archive/issue_comments_101927.json:
```json
{
    "body": "The patch deals with the cases listed.  But there are other cases which hang, like\n\n```\nsage: random_prime(8, lbound=8)\n```\n\nand some that almost do, like\n\n```\nsage: random_prime(3, lbound=-10^8)\n```\n\nThey can be very easily dealt with.  The additional patch does this.",
    "created_at": "2010-11-15T20:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101927",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

The patch deals with the cases listed.  But there are other cases which hang, like

```
sage: random_prime(8, lbound=8)
```

and some that almost do, like

```
sage: random_prime(3, lbound=-10^8)
```

They can be very easily dealt with.  The additional patch does this.



---

archive/issue_comments_101928.json:
```json
{
    "body": "Attachment [trac_10112-extra.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112-extra.patch) by fwclarke created at 2010-11-15 20:48:52\n\nto apply after trac_10112.patch",
    "created_at": "2010-11-15T20:48:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101928",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Attachment [trac_10112-extra.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112-extra.patch) by fwclarke created at 2010-11-15 20:48:52

to apply after trac_10112.patch



---

archive/issue_comments_101929.json:
```json
{
    "body": "Those two patches are a definite improvement, so I'm giving it a positive review.\n\nI've opened #10277 for another issue with `random_prime`\n\nSage's implementation is also incredibly slow compared to Mathematica. After 20 minutes of CPU time on a 3.33 GHz machine I was unable to generate one up to 10<sup>1000</sup> with Sage. Yet Mathematica can do that in 7 seconds! \n\nDave",
    "created_at": "2010-11-16T01:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101929",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Those two patches are a definite improvement, so I'm giving it a positive review.

I've opened #10277 for another issue with `random_prime`

Sage's implementation is also incredibly slow compared to Mathematica. After 20 minutes of CPU time on a 3.33 GHz machine I was unable to generate one up to 10<sup>1000</sup> with Sage. Yet Mathematica can do that in 7 seconds! 

Dave



---

archive/issue_comments_101930.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-11-16T01:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101930",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_101931.json:
```json
{
    "body": "I'm setting this to 'needs info', as William remarked on sage-devel that he did not see this issue with 4,6 that I  get at. It seems **highly** unlikely, but these patches could just be whats casing that problem for me.",
    "created_at": "2010-11-16T09:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101931",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

I'm setting this to 'needs info', as William remarked on sage-devel that he did not see this issue with 4,6 that I  get at. It seems **highly** unlikely, but these patches could just be whats casing that problem for me.



---

archive/issue_comments_101932.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2010-11-16T09:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101932",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_101933.json:
```json
{
    "body": "The issue raised in\u00a0#10277 (which surely arises from using `random_prime` as patched here)\u00a0shows the weakness of using\u00a0`prime_pi`.  There is a much better way of checking that there are some primes in the range in question.  A replacement alternative patch will be posted very soon.",
    "created_at": "2010-11-16T09:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101933",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

The issue raised in #10277 (which surely arises from using `random_prime` as patched here) shows the weakness of using `prime_pi`.  There is a much better way of checking that there are some primes in the range in question.  A replacement alternative patch will be posted very soon.



---

archive/issue_comments_101934.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2010-11-16T09:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101934",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_101935.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-11-16T11:15:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101935",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_101936.json:
```json
{
    "body": "A replacement patch is attached. \u00a0It uses Betrand's postulate and refinements due to Nakura and Schoenfield. \u00a0Only when the ratio of the upper and lower bounds is quite close to one is the smallest prime in the interval computed.",
    "created_at": "2010-11-16T11:15:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101936",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

A replacement patch is attached.  It uses Betrand's postulate and refinements due to Nakura and Schoenfield.  Only when the ratio of the upper and lower bounds is quite close to one is the smallest prime in the interval computed.



---

archive/issue_comments_101937.json:
```json
{
    "body": "Can we create a fast but unsafe function `random_prime_unsafe()` and make the `random_prime()` function exposed to the users call that?\n\nATM, the `random_prime()` function is used in speed critical code. See `sage/ext/multi_modular.pyx` for example. In this use case, the checks are unnecessary and they would cause a dramatic slow down. We should be able to bypass the checks when we know the input makes sense. I suggest separating the core of the function from the code that makes it idiot-proof, and using the core directly in places like `sage/ext/multi_modular.pyx`.\n\nWhen this change is made, there should be a clear and loud warning in the release notes to notify people who rely on the current behavior of `random_prime()` to switch to this unsafe version in their personal codebase as well.",
    "created_at": "2010-11-16T11:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101937",
    "user": "https://github.com/burcin"
}
```

Can we create a fast but unsafe function `random_prime_unsafe()` and make the `random_prime()` function exposed to the users call that?

ATM, the `random_prime()` function is used in speed critical code. See `sage/ext/multi_modular.pyx` for example. In this use case, the checks are unnecessary and they would cause a dramatic slow down. We should be able to bypass the checks when we know the input makes sense. I suggest separating the core of the function from the code that makes it idiot-proof, and using the core directly in places like `sage/ext/multi_modular.pyx`.

When this change is made, there should be a clear and loud warning in the release notes to notify people who rely on the current behavior of `random_prime()` to switch to this unsafe version in their personal codebase as well.



---

archive/issue_comments_101938.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2010-11-16T11:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101938",
    "user": "https://github.com/burcin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_101939.json:
```json
{
    "body": "Attachment [trac_10112-replacement-extra.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112-replacement-extra.patch) by fwclarke created at 2010-11-16 11:18:53\n\nApply after trac_10112.patch INSTEAD of trac_10112-extra.patch",
    "created_at": "2010-11-16T11:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101939",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Attachment [trac_10112-replacement-extra.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112-replacement-extra.patch) by fwclarke created at 2010-11-16 11:18:53

Apply after trac_10112.patch INSTEAD of trac_10112-extra.patch



---

archive/issue_comments_101940.json:
```json
{
    "body": "Replying to [comment:11 burcin]:\n\n> Can we create a fast but unsafe function `random_prime_unsafe()` and make the `random_prime()` function exposed to the users call that? ATM, the `random_prime()` function is used in speed critical code. See `sage/ext/multi_modular.pyx` for example. In this use case, the checks are unnecessary and they would cause a dramatic slow down. [... ...]\n\nA good idea.  But the slowdown is, for most cases, far less significant with the new patch.",
    "created_at": "2010-11-16T12:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101940",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Replying to [comment:11 burcin]:

> Can we create a fast but unsafe function `random_prime_unsafe()` and make the `random_prime()` function exposed to the users call that? ATM, the `random_prime()` function is used in speed critical code. See `sage/ext/multi_modular.pyx` for example. In this use case, the checks are unnecessary and they would cause a dramatic slow down. [... ...]

A good idea.  But the slowdown is, for most cases, far less significant with the new patch.



---

archive/issue_comments_101941.json:
```json
{
    "body": "Probably the way forward would be to have a \"check\" option.  But to quantify my earlier remark, I note that for the default bounds used in `sage/ext/multi_modular.pyx` (`10^15` and `10^10`),  the code checking that there are primes in that interval adds, on my machine, about 50 microseconds to the 1325 microseconds taken to find a random prime.",
    "created_at": "2010-11-16T22:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101941",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Probably the way forward would be to have a "check" option.  But to quantify my earlier remark, I note that for the default bounds used in `sage/ext/multi_modular.pyx` (`10^15` and `10^10`),  the code checking that there are primes in that interval adds, on my machine, about 50 microseconds to the 1325 microseconds taken to find a random prime.



---

archive/issue_comments_101942.json:
```json
{
    "body": "Is there any reason this should not be changed to  positive review if the slowdown is very small? \n\nUnless there's universal agreement on this, I suggest the changes in documentation, are put on #10111. That ticket was supposed to address the deficiencies in the documentation. The only comment on that ticket is from Mike, and is *See the patch at #10112.* But if Mikes patch here, which changes both the documentation and the code is going to stall, we might as well just fix the documentation for now on #10111. The changes needed to the documentation appear to be\n\n* The example `random_prime(200, lbound=100)` is added \n* The example `random_prime(200, proof=False, lbound=100)` is added.\n* The error message in the code (which I guess is code not documentation), which changes *n must be greater than lbound* to *n must be at least lbound*. Clearly looking at the code, fwclarke's change is correct, since the test before the error message is `if n < lbound`. Therefore n=lbound is permitted by the code, so the correct error message should be *n must be at least lbound*\n\nIf there is no agreement to merge the two patches here, I'll create one patch which just fixes the above 3 documentation problems and add that to #10111. Does that make sense? \n\nDave",
    "created_at": "2011-03-28T08:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101942",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Is there any reason this should not be changed to  positive review if the slowdown is very small? 

Unless there's universal agreement on this, I suggest the changes in documentation, are put on #10111. That ticket was supposed to address the deficiencies in the documentation. The only comment on that ticket is from Mike, and is *See the patch at #10112.* But if Mikes patch here, which changes both the documentation and the code is going to stall, we might as well just fix the documentation for now on #10111. The changes needed to the documentation appear to be

* The example `random_prime(200, lbound=100)` is added 
* The example `random_prime(200, proof=False, lbound=100)` is added.
* The error message in the code (which I guess is code not documentation), which changes *n must be greater than lbound* to *n must be at least lbound*. Clearly looking at the code, fwclarke's change is correct, since the test before the error message is `if n < lbound`. Therefore n=lbound is permitted by the code, so the correct error message should be *n must be at least lbound*

If there is no agreement to merge the two patches here, I'll create one patch which just fixes the above 3 documentation problems and add that to #10111. Does that make sense? 

Dave



---

archive/issue_comments_101943.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-03-28T08:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101943",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_101944.json:
```json
{
    "body": "Replying to [comment:14 drkirkby]:\n> Is there any reason this should not be changed to  positive review if the slowdown is very small? \n> \nI don't think so.  The code looks okay, is well documented, and passes all tests.",
    "created_at": "2011-11-06T20:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101944",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Replying to [comment:14 drkirkby]:
> Is there any reason this should not be changed to  positive review if the slowdown is very small? 
> 
I don't think so.  The code looks okay, is well documented, and passes all tests.



---

archive/issue_comments_101945.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-11-06T20:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101945",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_101946.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-11-07T20:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101946",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_101947.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2011-11-11T18:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101947",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from closed to new.



---

archive/issue_comments_101948.json:
```json
{
    "body": "The patch contains non-ASCII characters which Sphinx 1.1.2 (#10620) rejects.",
    "created_at": "2011-11-11T18:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101948",
    "user": "https://github.com/jdemeyer"
}
```

The patch contains non-ASCII characters which Sphinx 1.1.2 (#10620) rejects.



---

archive/issue_comments_101949.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2011-11-11T18:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101949",
    "user": "https://github.com/jdemeyer"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_101950.json:
```json
{
    "body": "We could put `# -*- coding: utf-8 -*-` at the top of the file arith.py -- I think the sagenb project has done this with all of their files -- but I prefer the attached patch.",
    "created_at": "2011-11-11T22:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101950",
    "user": "https://github.com/jhpalmieri"
}
```

We could put `# -*- coding: utf-8 -*-` at the top of the file arith.py -- I think the sagenb project has done this with all of their files -- but I prefer the attached patch.



---

archive/issue_comments_101951.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-11-11T22:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101951",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_101952.json:
```json
{
    "body": "apply on top of other patches",
    "created_at": "2011-11-11T22:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101952",
    "user": "https://github.com/jhpalmieri"
}
```

apply on top of other patches



---

archive/issue_comments_101953.json:
```json
{
    "body": "Attachment [trac_10112-ascii.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112-ascii.patch) by @jhpalmieri created at 2011-11-11 22:48:54",
    "created_at": "2011-11-11T22:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101953",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_10112-ascii.patch](tarball://root/attachments/some-uuid/ticket10112/trac_10112-ascii.patch) by @jhpalmieri created at 2011-11-11 22:48:54



---

archive/issue_comments_101954.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-11-11T22:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10111#issuecomment-101954",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
