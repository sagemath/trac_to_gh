# Issue 24605: Automatically build binder configuration

archive/issues_024605.json:
```json
{
    "body": "CC:  @roed314 @embray @nthiery @xcaruso\n\nKeywords: docker, CI, binder\n\nThis ticket proposes to add an automatic build for [binder](https://mybinder.org) to the CI infrastructure from #24655.\n\nEven though there is no support for this in trac yet, people could manually link to the generated binder configuration in their trac tickets. This would make it possible to try the proposed changes out without having to checkout and build the ticket.\n\nIf you want to try this out, you can go to the (automatically generated) commit in this [github repository](https://github.com/saraedum/tree/sage-binder-env/binder).\n\n<img src=\"binder.png\" width=640, center>\n\nFrom personal experience, I see a number of reasons why this could be useful:\n* (At Sage Days, new) contributors could start reviewing easy tickets right away without getting frustrated by having to rebuild Sage all the time because they checked out some old branches.\n* Some people use the Sage binaries in their distribution but don't really want to start hacking on Sage on their machines. They still would like to push a certain ticket that is fixing a bug they are experiencing. They are (understandably) reluctant to give things a postitive review without having it tried out themselves.\n* When sharing experimental code with others you usually want to keep the hurdles as low as possible. A link to a Jupyter notebook that just works is certainly much more convenient than complicated instructions on how to git checkout and make a ticket.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24842\n\n",
    "created_at": "2018-02-26T14:48:37Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Automatically build binder configuration",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24605",
    "user": "https://github.com/saraedum"
}
```
CC:  @roed314 @embray @nthiery @xcaruso

Keywords: docker, CI, binder

This ticket proposes to add an automatic build for [binder](https://mybinder.org) to the CI infrastructure from #24655.

Even though there is no support for this in trac yet, people could manually link to the generated binder configuration in their trac tickets. This would make it possible to try the proposed changes out without having to checkout and build the ticket.

If you want to try this out, you can go to the (automatically generated) commit in this [github repository](https://github.com/saraedum/tree/sage-binder-env/binder).

<img src="binder.png" width=640, center>

From personal experience, I see a number of reasons why this could be useful:
* (At Sage Days, new) contributors could start reviewing easy tickets right away without getting frustrated by having to rebuild Sage all the time because they checked out some old branches.
* Some people use the Sage binaries in their distribution but don't really want to start hacking on Sage on their machines. They still would like to push a certain ticket that is fixing a bug they are experiencing. They are (understandably) reluctant to give things a postitive review without having it tried out themselves.
* When sharing experimental code with others you usually want to keep the hurdles as low as possible. A link to a Jupyter notebook that just works is certainly much more convenient than complicated instructions on how to git checkout and make a ticket.

Issue created by migration from https://trac.sagemath.org/ticket/24842





---

archive/issue_comments_344775.json:
```json
{
    "body": "screenshot",
    "created_at": "2018-02-26T14:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344775",
    "user": "https://github.com/saraedum"
}
```

screenshot



---

archive/issue_comments_344776.json:
```json
{
    "body": "Attachment [binder.png](tarball://root/attachments/some-uuid/ticket24842/binder.png) by @saraedum created at 2018-02-26 14:50:59",
    "created_at": "2018-02-26T14:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344776",
    "user": "https://github.com/saraedum"
}
```

Attachment [binder.png](tarball://root/attachments/some-uuid/ticket24842/binder.png) by @saraedum created at 2018-02-26 14:50:59



---

archive/issue_comments_344777.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-26T14:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344777",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_344778.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-26T17:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344779.json:
```json
{
    "body": "I could definitely add support for this in the Trac plugin as well, easy peasy.",
    "created_at": "2018-03-12T15:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344779",
    "user": "https://github.com/embray"
}
```

I could definitely add support for this in the Trac plugin as well, easy peasy.



---

archive/issue_comments_344780.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-04-28T23:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344780",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_344781.json:
```json
{
    "body": "For this to really make sense we would have to synchronize trac's Git repository to gitlab, say to something like a `sage-developers` repository and enable CI there.",
    "created_at": "2018-04-28T23:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344781",
    "user": "https://github.com/saraedum"
}
```

For this to really make sense we would have to synchronize trac's Git repository to gitlab, say to something like a `sage-developers` repository and enable CI there.



---

archive/issue_comments_344782.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-05-20T20:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344782",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_344783.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2018-05-22T20:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344783",
    "user": "https://github.com/saraedum"
}
```

Last 10 new commits:



---

archive/issue_comments_344784.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-22T21:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344785.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-07-20T07:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_344786.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-29T10:05:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344787.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-07T16:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344788.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-20T20:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344788",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344789.json:
```json
{
    "body": "For some reason I thought this was already done but apparently not.  Are there any remaining challenges to this?  Currently it lists #24854 as a dependency, but I don't know if that's strictly needed.  The pipelines are already working for building; being able to launch the built containers in binder is immediately useful, because it also will allow us to run specific tests against each build manually.",
    "created_at": "2018-10-29T09:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344789",
    "user": "https://github.com/embray"
}
```

For some reason I thought this was already done but apparently not.  Are there any remaining challenges to this?  Currently it lists #24854 as a dependency, but I don't know if that's strictly needed.  The pipelines are already working for building; being able to launch the built containers in binder is immediately useful, because it also will allow us to run specific tests against each build manually.



---

archive/issue_comments_344790.json:
```json
{
    "body": "Another idea I had is that if the build was for a merge request on gitlab, we can easily post a comment to the merge request with the link to run the built image on binder.",
    "created_at": "2018-10-29T09:55:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344790",
    "user": "https://github.com/embray"
}
```

Another idea I had is that if the build was for a merge request on gitlab, we can easily post a comment to the merge request with the link to run the built image on binder.



---

archive/issue_comments_344791.json:
```json
{
    "body": "The branch for this currently has some merge conflict artifacts.",
    "created_at": "2018-10-29T09:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344791",
    "user": "https://github.com/embray"
}
```

The branch for this currently has some merge conflict artifacts.



---

archive/issue_comments_344792.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-11-25T16:13:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_344793.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2018-11-25T16:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344793",
    "user": "https://github.com/saraedum"
}
```

Last 10 new commits:



---

archive/issue_events_062432.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-25T10:14:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24605#event-62432"
}
```



---

archive/issue_events_062433.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2019-09-05T23:40:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24605#event-62433"
}
```



---

archive/issue_events_062434.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2019-09-05T23:40:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24605#event-62434"
}
```



---

archive/issue_comments_344794.json:
```json
{
    "body": "I am trying a simpler approach in #28457.",
    "created_at": "2019-09-05T23:40:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344794",
    "user": "https://github.com/saraedum"
}
```

I am trying a simpler approach in #28457.



---

archive/issue_comments_344795.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-09-05T23:40:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344795",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_062435.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-07T07:46:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24605#event-62435"
}
```



---

archive/issue_comments_344796.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2019-10-07T07:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24605#issuecomment-344796",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate
