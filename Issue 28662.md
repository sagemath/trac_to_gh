# Issue 28662: some details in rings/polynomial/

Issue created by migration from https://trac.sagemath.org/ticket/28899

Original creator: chapoton

Original creation time: 2019-12-19 10:34:43




---

Comment by chapoton created at 2019-12-19 10:35:00

Changing status from new to needs_review.


---

Comment by chapoton created at 2019-12-19 10:35:00

New commits:


---

Comment by git created at 2019-12-19 14:48:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2019-12-26 09:56:04

You are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:

http://doc.sagemath.org/html/en/reference/polynomial_rings/index.html


---

Comment by git created at 2019-12-31 12:49:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-12-31 12:50:28

Thanks for the review.

I removed the period.

I also fixed a few other things.


---

Comment by klee created at 2019-12-31 15:19:52

This is my review:

- I doubt if this

```
idx = index[l + 1]
if (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): 
```

 is better than the original code

```
if (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  
```


 On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.

- You may want to put spaces around `+` here

```
            sage: f = H([z^2+c])  
```


- You may want to make modifications here as well

```
        INPUT:

        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a
           polyhedral fan.
        -  ``polynomial_system`` - a list of polynomials
        -  ``poly_ring`` - the polynomial ring of the list of polynomials
        -  ``parameters`` (optional) - a list of variables to be considered as parameters
 }}}

All other changes look good to me.


---

Comment by git created at 2020-01-01 07:38:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-01-01 07:41:13

Here are the required changes.

Concerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.


---

Comment by klee created at 2020-01-01 10:24:51

Changing status from needs_review to positive_review.


---

Comment by klee created at 2020-01-01 10:24:51

Thanks. All looks good to me.


---

Comment by vbraun created at 2020-01-05 15:47:10

Resolution: fixed
