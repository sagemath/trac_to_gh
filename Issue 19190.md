# Issue 19190: Jupyter R kernel

Issue created by migration from https://trac.sagemath.org/ticket/19427

Original creator: vbraun

Original creation time: 2015-10-17 09:29:51

CC:  jdemeyer charpent




---

Comment by vbraun created at 2015-10-17 10:51:43

Changing status from new to needs_review.


---

Comment by vbraun created at 2015-10-17 10:51:43

New commits:


---

Comment by vbraun created at 2015-10-17 10:51:43

Changing type from PLEASE CHANGE to defect.


---

Comment by vbraun created at 2015-10-17 10:51:43

Changing component from PLEASE CHANGE to packages: optional.


---

Comment by vbraun created at 2015-10-17 10:55:00

Note: need to `bootstrap` before the new make target is available, but since this is not urgent it can wait for the next beta release.


---

Comment by jdemeyer created at 2015-10-17 11:08:00

Could you please add a `dependencies` file (I guess this just depends on R).


---

Comment by vbraun created at 2015-10-17 11:55:02

scripts depend on all standard packages (just like optional ones). It also depends on jupyter as it calls it to install its kernel specs. On the one hand it would be nice to have the dependencies explicit, but they would also just be wrong if we can't actually test them.


---

Comment by jdemeyer created at 2015-10-17 12:33:17

Replying to [comment:5 vbraun]:
> if we can't actually test them. 

This describes a way to test dependencies:
[http://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies](http://doc.sagemath.org/html/en/developer/packaging.html#package-dependencies)

If `make distclean && make base && make PACKAGE_NAME` succeeds, the dependencies are probably correct.

I would certainly like to make `dependencies` mandatory, I am in the process of adding missing dependency files (see for example #19295).


---

Comment by vbraun created at 2015-10-17 12:51:22

Still, whats the point? Some packages can't be standard so depending on standard doesn't cost us anything. Whereas additional complexity, new ways of introducing dependency errors, and insufficient test coverage are very real downsides.


---

Comment by jdemeyer created at 2015-10-27 21:37:06

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2015-10-27 21:37:06

Shouldn't the `spkg-install` script be run within a Sage shell at least?


---

Comment by git created at 2015-12-13 11:14:32

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vbraun created at 2015-12-13 11:15:03

New commits:


---

Comment by vbraun created at 2015-12-13 11:15:03

Changing status from needs_work to needs_review.


---

Attachment

A few notebook commands with 6.10rc0+Trac#19427


---

Comment by charpent created at 2015-12-13 18:30:39

A few notebook commands with 6.10rc0+Trac#19638(rpy2 update)+ manual installation of IRKernel


---

Attachment

Dear Volker,

1. Great idea ! I am sure a lot of use cases exist in the Sagemath ecosystem.

2. Your ticket (tested against a fresh clone of 6.10rc0) :
* builds, and
* passes ptestlong.
* Installing r_jupyter effectively installs an R kernel in Sagemath's Jupyter notebook.
* This notebook is functional (i. e. one can create a worksheet whose native language is R).

3. However, over Sage 6.10rcO, the Rpy2 interface cannot be used in a Sagemath notebook :
* The "%load_ext rpy2.ipython" command is not recognized
* The "%load_ext rmagic" command is recognized (with a warning), but :
* The %R (and %%R) commands are not recognized

You can compare these results (illustrated in "Untitled3-native.pdf") with those obtained on 6.10rc0+Trac#19638+manual installation of IRKernel in R, which also illustrates the problems with this current implementation :
* uses a different instance of R than the Sage's pexpect interface
* converts the output in strange formats, different from those used by Sages's pexpect interface.

If your goal was strictly limited to providing an R notebook in Sage's Jupyter, I think it's good to go. If you aimed at providing Sage with an alternative interface to R, it needs work (needs [Trac#19638](http://trac.sagemath.org/ticket/19638), IMHO, but I'm biased...).

I would be interested in your point of view in the question I posed in sage-devel. William's sarcastic non-answer misses a part of the point.

Sincerely yours,


---

Comment by charpent created at 2015-12-13 18:51:55

Changing status from needs_review to needs_work.


---

Comment by vbraun created at 2015-12-13 19:08:52

This ticket has nothing to do with rpy2, its only about the jupyter R kernel. Really they are two totally independent approaches to using R, one from within Python and the other without Python.


---

Comment by vbraun created at 2015-12-13 19:08:52

Changing status from needs_work to needs_review.


---

Comment by charpent created at 2015-12-13 20:38:31

Changing status from needs_review to positive_review.


---

Comment by charpent created at 2015-12-13 20:38:31

Replying to [comment:12 vbraun]:
> This ticket has nothing to do with rpy2, its only about the jupyter R kernel. Really they are two totally independent approaches to using R, one from within Python and the other without Python.

[ Sorry for the delay. I was busy... ]

Okay. This clarification (that should go in the description) enables positive review.


---

Comment by git created at 2015-12-19 12:48:31

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by git created at 2015-12-19 12:48:31

Changing status from positive_review to needs_review.


---

Comment by vbraun created at 2015-12-19 12:48:47

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-12-22 19:50:37

Resolution: fixed
