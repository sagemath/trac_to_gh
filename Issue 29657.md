# Issue 29657: add minimal interface for using ZZ[x]-matrices from flint

Issue created by migration from https://trac.sagemath.org/ticket/29894

Original creator: chapoton

Original creation time: 2020-06-18 16:34:47

CC:  vdelecroix

So that one may use this later to compute determinants in this case, for example.


---

Comment by chapoton created at 2020-06-18 16:35:17

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-06-18 16:35:17

New commits:


---

Comment by tscrim created at 2020-06-19 00:32:47

Could we add at least one little direct use for this interface, say in computing the determinants as mentioned in the ticket description?


---

Comment by chapoton created at 2020-06-19 11:13:35

ok, I will try to think about it. I had some use case, but it turned out to be slower than the existing method.


---

Comment by tscrim created at 2020-06-20 00:41:58

That is interesting and surprising to me. Bill probably would like to know about that. The flint version might also be asymptotically faster. Plus, I am generally a fan of having multiple implementations available and giving the choice to the user (if for nothing else other than testing).


---

Comment by chapoton created at 2020-06-20 06:03:03

My test case was (for M upper triangular square matrix with 1 on the diagonal)

```
det(x M^t + M)
```

versus

```
charpoly(-M (M^t)^(-1))
```

and the inversion + product + charpoly over ZZ was much faster than the det over ZZ[x]


---

Comment by chapoton created at 2020-06-24 08:12:38

maybe useful for Alexander polynomial from Seifert matrix, see #29952


---

Comment by tscrim created at 2020-06-30 04:38:42

Perhaps that is just a special case of the fact it is a upper unitriangular matrix? Anyways, I am not going to fret over not having a definitive use case at this time. It doesn't hurt anything to have the interface all setup.


---

Comment by tscrim created at 2020-06-30 04:38:42

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-07-08 19:34:03

Resolution: fixed
