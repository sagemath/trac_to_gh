# Issue 18106: creation of libgap integers are slow (if not buggy)

Issue created by migration from https://trac.sagemath.org/ticket/18343

Original creator: vdelecroix

Original creation time: 2015-04-30 13:42:11

1. Creating libGAP integers from python int is broken

```
sage: libgap(2r**61r)
...
OverflowError: value too large to convert to int
```

  This is due to a cast to a C `<int>` in `sage.libs.gap.*` (Python integers do not necessarily fit into an `int` (though they do in a long)).

2. Creating libGAP integers from Sage integers is very slow since it goes through the string representation! As GAP internally uses mpz it could be very fast.


---

Comment by embray created at 2021-02-16 13:23:15

This would be fixed by #31404.  Of course, this ticket should still be kept open until/unless that one is merged.


---

Comment by embray created at 2021-02-16 13:23:15

Changing status from new to needs_review.
