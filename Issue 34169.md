# Issue 34169: Make the free algebra know it is graded

Issue created by migration from https://trac.sagemath.org/ticket/34406

Original creator: tscrim

Original creation time: 2022-08-22 09:20:11


```
sage: R.<x,y> = FreeAlgebra(QQ)
sage: R.category()
Category of algebras with basis over Rational Field
```



---

Comment by tscrim created at 2022-08-22 09:29:24

Should do the same for the (classical) Hall algebra:

```
sage: R.<q> = ZZ[]
sage: H = HallAlgebra(R, q)
sage: H.category()
Category of algebras with basis over Univariate Polynomial Ring in q over Integer Ring
```



---

Comment by mkoeppe created at 2022-08-22 22:37:05

This would change the default homset


---

Comment by tscrim created at 2022-08-23 00:37:29

It seems like overkill to introduce another global object `FreeGradedAlgebra` just to differentiate between when we are thinking of this as a graded object versus ungraded for the category of the default homset. I think we need to educate people on the need to specify the category they want their morphisms to be in, at least when it is prudent to make backwards incompatible changes such as this one. Or if I wanted to implement a Hopf algebra structure like the tensor algebra (which are isomorphic).

Personally, I would also like to see polynomial rings know they are graded (commutative) algebras.


---

Comment by mkoeppe created at 2022-08-23 00:42:47

Replying to [comment:3 tscrim]:
> It seems like overkill to introduce another global object `FreeGradedAlgebra` just to differentiate between when we are thinking of this as a graded object versus ungraded for the category of the default homset.

Can't users already pass the category to the constructor?


---

Comment by tscrim created at 2022-08-23 01:06:50

Replying to [comment:4 mkoeppe]:
> Replying to [comment:3 tscrim]:
> > It seems like overkill to introduce another global object `FreeGradedAlgebra` just to differentiate between when we are thinking of this as a graded object versus ungraded for the category of the default homset.
> 
> Can't users already pass the category to the constructor?

To the constructor of `FreeAlgebra`, no, they cannot. This would be something else I would add.


---

Comment by mkoeppe created at 2022-08-23 04:58:21

Replying to [comment:5 tscrim]:
> Replying to [comment:4 mkoeppe]:
> > Can't users already pass the category to the constructor?
> 
> To the constructor of `FreeAlgebra`, no, they cannot. This would be something else I would add.

+1 on this.


---

Comment by mkoeppe created at 2022-08-23 05:01:04

Replying to [comment:3 tscrim]:
> Personally, I would also like to see polynomial rings know they are graded (commutative) algebras.

I think that would be very bad default. That would stop polynomial evaluation morphisms from being morphisms in the default homset


---

Comment by tscrim created at 2022-08-23 05:43:53

Replying to [comment:7 mkoeppe]:
> Replying to [comment:3 tscrim]:
> > Personally, I would also like to see polynomial rings know they are graded (commutative) algebras.
> 
> I think that would be very bad default. That would stop polynomial evaluation morphisms from being morphisms in the default homset

I agree with consequence, which is why I haven't done anything about it. It is potentially a huge can of worms. Although we can make changes in the appropriate methods so that the requisite morphisms are done in a valid homset. This will cost of some speed when we explicitly want these morphisms, but I am not sure how often that is the case. On the other hand, not doing it prevents us from using everything we have developed for working with graded algebras.
