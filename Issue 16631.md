# Issue 16631: A real difference matrix has k columns

Issue created by migration from https://trac.sagemath.org/ticket/16868

Original creator: ncohen

Original creation time: 2014-08-22 19:10:05

CC:  vdelecroix

Change Sage's standard to be coherent with OA which have k columns. This is much easier to work with on a computer, for it is much easier to add a row to a matrix than to add a column. And this is what we have to do most of the time.

Nathann


---

Comment by ncohen created at 2014-08-22 19:10:51

Changing status from new to needs_review.


---

Comment by git created at 2014-08-22 19:11:28

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by vdelecroix created at 2014-08-22 19:39:16

I thought it was better standardization but in `OA_from_quasi_difference_matrix` you have

```
# Each line is expanded by [g+x for x in line for g in G] then relabeled
# with integers. Missing values are also handled.
new_M = []
for line in izip(*M):
    ...
...
new_M = zip(*new_M)
```

what's the point?

Vincent


---

Comment by ncohen created at 2014-08-22 19:42:42

Replying to [comment:3 vdelecroix]:
> I thought it was better standardization but in `OA_from_quasi_difference_matrix` you have
> {{{
> # Each line is expanded by [g+x for x in line for g in G] then relabeled
> # with integers. Missing values are also handled.
> new_M = []
> for line in izip(*M):
>     ...
> ...
> new_M = zip(*new_M)
> }}}
> what's the point?

Well, first if you only have one "zip*" in the whole library then the point is reached. I looked at that part of the code and I felt that the best way to implement it required two calls to zip, but for all others applications (functions in `database.py`) it is easier to work on this version of the matrix, for one constantly add rows, not columns.

So even if there is a "zip*" somewhere, the rest of the code is easier to write/read.

Nathann


---

Comment by git created at 2014-08-25 00:13:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2014-08-25 00:15:20

A small commit where I removed a line.

Vincent


---

Comment by vdelecroix created at 2014-08-25 00:15:20

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2014-08-25 08:44:37

I have non strong opposition against that `:-P`

Thanks !

Nathann


---

Comment by vbraun created at 2014-08-25 10:28:41

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2014-08-25 10:28:41

Reviewer name


---

Comment by vdelecroix created at 2014-08-25 10:30:16

Changing status from needs_work to positive_review.


---

Comment by vdelecroix created at 2014-08-25 10:30:16

Oh yeah!


---

Comment by vbraun created at 2014-08-25 19:37:00

Resolution: fixed
