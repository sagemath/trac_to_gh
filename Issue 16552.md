# Issue 16552: Combinatorial designs use internet during doctest

Issue created by migration from https://trac.sagemath.org/ticket/16789

Original creator: vbraun

Original creation time: 2014-08-09 20:06:04

CC:  ncohen

Doctests that use internet must be marked `# optional - internet`

```
sage -t --long src/sage/combinat/designs/bibd.py
**********************************************************************
File "src/sage/combinat/designs/bibd.py", line 114, in sage.combinat.designs.bibd.balanced_incomplete_block_design
Failed example:
    designs.balanced_incomplete_block_design(66,6, use_LJCR=True)
Exception raised:
    Traceback (most recent call last):
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.combinat.designs.bibd.balanced_incomplete_block_design[1]>", line 1, in <module>
        designs.balanced_incomplete_block_design(Integer(66),Integer(6), use_LJCR=True)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python2.7/site-packages/sage/combinat/designs/bibd.py", line 225, in balanced_incomplete_block_design
        B = best_known_covering_design_www(v,k,2)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python2.7/site-packages/sage/combinat/designs/covering_design.py", line 498, in best_known_covering_design_www
        f = urllib.urlopen(url)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/urllib.py", line 87, in urlopen
        return opener.open(url)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/urllib.py", line 208, in open
        return getattr(self, name)(url)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/urllib.py", line 345, in open_http
        h.endheaders(data)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/httplib.py", line 991, in endheaders
        self._send_output(message_body)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/httplib.py", line 844, in _send_output
        self.send(msg)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/httplib.py", line 806, in send
        self.connect()
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/httplib.py", line 787, in connect
        self.timeout, self.source_address)
      File "/var/tmp/tmp95hfLr/sage-6.3/local/lib/python/socket.py", line 573, in create_connection
        raise err
    IOError: [Errno socket error] [Errno 110] Connection timed out
**********************************************************************
1 item had failures:
   1 of  15 in sage.combinat.designs.bibd.balanced_incomplete_block_design
    [74 tests, 1 failure, 133.52 s]
```



---

Comment by vbraun created at 2014-08-09 20:59:44

New commits:


---

Comment by vbraun created at 2014-08-09 20:59:44

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2014-08-10 09:49:52

Hi Volker,

Seems to be introduced in #16614... Thanks!

Vincent


---

Comment by vdelecroix created at 2014-08-10 09:49:52

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-08-10 11:27:06

Resolution: fixed
