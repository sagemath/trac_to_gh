# Issue 33183: fix E111 (indentation) in quadratic_forms

archive/issues_033183.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/33420\n\n",
    "created_at": "2022-02-26T19:35:53Z",
    "labels": [
        "component: quadratic forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "fix E111 (indentation) in quadratic_forms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33183",
    "user": "https://github.com/fchapoton"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/33420





---

archive/issue_comments_472092.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-26T19:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472092",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_472093.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-02-26T19:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472093",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_472094.json:
```json
{
    "body": "LGTM although if you want to while-we-are-at-it:\n\n```diff\n-            auts = [matrix(ZZ, 3, [a, b, c, d, e, f, g, h, i]) for a in I for b in I for c in I for d in I for e in I for f in I for g in I for h in I for i in I]\n+            import itertools\n+            auts = [matrix(ZZ, 3, m) for m in itertools.product([I]*9)]\n```\n\n```diff\n-            raise ValueError(\"Oops, only implemented for definite forms.\")\n+            raise NotImplementedError(\"only implemented for definite forms\")\n```\nMaybe also more professional error messages in `sum_by_coefficients_with` too.\n\nIf you don't want to do any of these, feel free to ignore. You can set a positive review on my behalf after making any subset of these changes.",
    "created_at": "2022-02-27T00:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472094",
    "user": "https://github.com/tscrim"
}
```

LGTM although if you want to while-we-are-at-it:

```diff
-            auts = [matrix(ZZ, 3, [a, b, c, d, e, f, g, h, i]) for a in I for b in I for c in I for d in I for e in I for f in I for g in I for h in I for i in I]
+            import itertools
+            auts = [matrix(ZZ, 3, m) for m in itertools.product([I]*9)]
```

```diff
-            raise ValueError("Oops, only implemented for definite forms.")
+            raise NotImplementedError("only implemented for definite forms")
```
Maybe also more professional error messages in `sum_by_coefficients_with` too.

If you don't want to do any of these, feel free to ignore. You can set a positive review on my behalf after making any subset of these changes.



---

archive/issue_comments_472095.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-27T07:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472096.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-27T07:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472097.json:
```json
{
    "body": "thanks, setting to positive. All these Oops messages should be changed, but not here",
    "created_at": "2022-02-27T13:37:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472097",
    "user": "https://github.com/fchapoton"
}
```

thanks, setting to positive. All these Oops messages should be changed, but not here



---

archive/issue_comments_472098.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-27T13:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472098",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_472099.json:
```json
{
    "body": "funny:\n\n```\ngit grep -c \"Oo*ps\" src/sage\nsrc/sage/combinat/root_system/cartan_type.py:1\nsrc/sage/geometry/fan.py:1\nsrc/sage/quadratic_forms/constructions.py:2\nsrc/sage/quadratic_forms/extras.py:5\nsrc/sage/quadratic_forms/quadratic_form.py:16\nsrc/sage/quadratic_forms/quadratic_form__equivalence_testing.py:5\nsrc/sage/quadratic_forms/quadratic_form__local_density_congruence.py:2\nsrc/sage/quadratic_forms/quadratic_form__local_density_interfaces.py:2\nsrc/sage/quadratic_forms/quadratic_form__local_field_invariants.py:3\nsrc/sage/quadratic_forms/quadratic_form__local_normal_form.py:8\nsrc/sage/quadratic_forms/quadratic_form__local_representation_conditions.py:1\nsrc/sage/quadratic_forms/quadratic_form__mass__Conway_Sloane_masses.py:5\nsrc/sage/quadratic_forms/quadratic_form__mass__Siegel_densities.py:1\nsrc/sage/quadratic_forms/quadratic_form__reduction_theory.py:1\nsrc/sage/quadratic_forms/quadratic_form__split_local_covering.py:2\nsrc/sage/quadratic_forms/quadratic_form__theta.py:2\nsrc/sage/quadratic_forms/quadratic_form__variable_substitutions.py:2\nsrc/sage/quadratic_forms/random_quadraticform.py:2\nsrc/sage/quadratic_forms/special_values.py:1\nsrc/sage/quadratic_forms/ternary_qf.py:6\nsrc/sage/rings/bernmm/bern_modp_util.h:1\nsrc/sage/rings/qqbar.py:1\nsrc/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py:1\n```",
    "created_at": "2022-02-27T13:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472099",
    "user": "https://github.com/fchapoton"
}
```

funny:

```
git grep -c "Oo*ps" src/sage
src/sage/combinat/root_system/cartan_type.py:1
src/sage/geometry/fan.py:1
src/sage/quadratic_forms/constructions.py:2
src/sage/quadratic_forms/extras.py:5
src/sage/quadratic_forms/quadratic_form.py:16
src/sage/quadratic_forms/quadratic_form__equivalence_testing.py:5
src/sage/quadratic_forms/quadratic_form__local_density_congruence.py:2
src/sage/quadratic_forms/quadratic_form__local_density_interfaces.py:2
src/sage/quadratic_forms/quadratic_form__local_field_invariants.py:3
src/sage/quadratic_forms/quadratic_form__local_normal_form.py:8
src/sage/quadratic_forms/quadratic_form__local_representation_conditions.py:1
src/sage/quadratic_forms/quadratic_form__mass__Conway_Sloane_masses.py:5
src/sage/quadratic_forms/quadratic_form__mass__Siegel_densities.py:1
src/sage/quadratic_forms/quadratic_form__reduction_theory.py:1
src/sage/quadratic_forms/quadratic_form__split_local_covering.py:2
src/sage/quadratic_forms/quadratic_form__theta.py:2
src/sage/quadratic_forms/quadratic_form__variable_substitutions.py:2
src/sage/quadratic_forms/random_quadraticform.py:2
src/sage/quadratic_forms/special_values.py:1
src/sage/quadratic_forms/ternary_qf.py:6
src/sage/rings/bernmm/bern_modp_util.h:1
src/sage/rings/qqbar.py:1
src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py:1
```



---

archive/issue_comments_472100.json:
```json
{
    "body": "Optionally, pushing the while-we-are-at-it slightly further:\n\n```diff\n-            I = [[-1, 0, 1]] * 9\n-            auts = (matrix(ZZ, 3, 3, m) for m in itertools.product(*I))\n+            I = itertools.product([-1, 0, 1], repeat=9)\n+            auts = (matrix(ZZ, 3, 3, m) for m in I)\n```",
    "created_at": "2022-02-27T17:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472100",
    "user": "https://github.com/slel"
}
```

Optionally, pushing the while-we-are-at-it slightly further:

```diff
-            I = [[-1, 0, 1]] * 9
-            auts = (matrix(ZZ, 3, 3, m) for m in itertools.product(*I))
+            I = itertools.product([-1, 0, 1], repeat=9)
+            auts = (matrix(ZZ, 3, 3, m) for m in I)
```



---

archive/issue_comments_472101.json:
```json
{
    "body": "I always forget about the `repeat` option.",
    "created_at": "2022-02-28T04:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472101",
    "user": "https://github.com/tscrim"
}
```

I always forget about the `repeat` option.



---

archive/issue_comments_472102.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-02-28T08:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472102",
    "user": "https://github.com/fchapoton"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_472103.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-28T08:21:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_472104.json:
```json
{
    "body": "so back to \"needs review\" now",
    "created_at": "2022-02-28T08:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472104",
    "user": "https://github.com/fchapoton"
}
```

so back to "needs review" now



---

archive/issue_comments_472105.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-28T08:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472105",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_472106.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-28T18:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472106",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_088119.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-01T21:31:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33183#event-88119"
}
```



---

archive/issue_comments_472107.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-01T21:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33183#issuecomment-472107",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
