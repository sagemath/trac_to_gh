# Issue 13439: default norm for RDF/CDF matrices is inconsistent with other types of matrices

Issue created by migration from https://trac.sagemath.org/ticket/13643

Original creator: jason

Original creation time: 2012-10-22 15:29:06

Assignee: jason, was

CC:  rbeezer

Currently, the default norm for matrices is the induced 2-norm, unless the matrix is an RDF or CDF matrix, in which case the default norm is the Frobenius norm.  Needless to say, this is very confusing:


```
sage: version()
'Sage Version 5.4.rc1, Release Date: 2012-10-05'
sage: a=matrix(QQ, 3, range(9))
sage: a.norm()
14.2267073908
sage: a.norm(2)
14.2267073908
sage: b=a.change_ring(RDF)
sage: b.norm()
14.2828568571
sage: b.norm('frob')
14.2828568571
```


I propose we change the default norm for RDF/CDF matrices to the induced 2-norm.


---

Comment by jason created at 2012-10-22 15:37:17

More info for a decision:

Defaults to Frobenius norm: 

* Numpy (http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.norm.html, which is likely where our original decision came from).  

Defaults to induced 2-norm: 

* Matlab (http://www.mathworks.com/help/matlab/ref/norm.html).   
* Octave (http://www.network-theory.co.uk/docs/octave3/octave_198.html).  
* Mathematica (http://reference.wolfram.com/mathematica/ref/Norm.html)


---

Attachment


---

Comment by jason created at 2012-10-22 16:16:28

patch tested on the affected file...


---

Comment by jason created at 2012-10-22 16:16:28

Changing status from new to needs_review.


---

Comment by ppurka created at 2012-10-22 16:26:28

Patch looks fine to me. Let some more people comment on your email first :)


---

Comment by kcrisman created at 2012-10-22 17:05:21

I don't feel like this is a bad idea at all, given that we are focused more on the Ms than imitating NumPy, and with the deprecation warning we will hopefully catch any power users. I don't usually do a norm of a matrix myself...


---

Comment by jason created at 2012-10-22 20:18:45

Just FYI, my post to numpy sparked a thread where the reason was uncovered: http://mail.scipy.org/pipermail/numpy-discussion/2012-October/064228.html (in particular, see http://mail.scipy.org/pipermail/numpy-discussion/2006-March/019194.html).


---

Comment by jason created at 2012-10-24 06:22:17

I think this has now dropped off the voting on sage-devel, with several positive votes.  Can someone review the patch?


---

Comment by ppurka created at 2012-10-24 07:53:59

Changing status from needs_review to positive_review.


---

Comment by ppurka created at 2012-10-24 07:53:59

I had checked it earlier, when I last reviewed it. It was positive review from my side. Patchbot gives a green signal too :)


---

Comment by jdemeyer created at 2012-11-01 12:03:45

Resolution: fixed
