# Issue 22342: Pexpect-like interfaces based on jupyter_client

archive/issues_022342.json:
```json
{
    "body": "CC:  jdemeyer simonking @sebasguts\n\nKeywords: days84\n\nMany computational systems are nowadays available as jupyter kernels.\nWe should interface to them using [jupyter_client](http://jupyter-client.readthedocs.io/en/latest/api/client.html).\nThis would be more robust than pexpect.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22579\n\n",
    "created_at": "2017-03-10T17:18:05Z",
    "labels": [
        "interfaces",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-wishlist",
    "title": "Pexpect-like interfaces based on jupyter_client",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22342",
    "user": "mkoeppe"
}
```
CC:  jdemeyer simonking @sebasguts

Keywords: days84

Many computational systems are nowadays available as jupyter kernels.
We should interface to them using [jupyter_client](http://jupyter-client.readthedocs.io/en/latest/api/client.html).
This would be more robust than pexpect.

Issue created by migration from https://trac.sagemath.org/ticket/22579





---

archive/issue_comments_310596.json:
```json
{
    "body": "Do you have a concrete kernel in mind? I'm wondering if there are any kernels where this approach makes more sense than other approaches (like `pexpect` or directly interfacing the libary).",
    "created_at": "2017-03-10T18:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22342#issuecomment-310596",
    "user": "jdemeyer"
}
```

Do you have a concrete kernel in mind? I'm wondering if there are any kernels where this approach makes more sense than other approaches (like `pexpect` or directly interfacing the libary).



---

archive/issue_comments_310597.json:
```json
{
    "body": "This topic came up here at days84 related to polymake (#22452), however I see very wide applicability.\n\nObviously, directly interfacing a library is almost always better -- except if one wants to be able to access a remote server.\n\nBut a pexpect interface seems to be much easier to write -- except for tricky/brittle things such as tab completion and signal handling.\n\nWith a jupyter kernel all these tricky things are already implemented. So there would be a separation of concerns, which we can benefit from. \n\nMoreover, since there is a clear over-the-wire protocol, rather than having to send everything through a pty, this will be more robust.",
    "created_at": "2017-03-10T19:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22342#issuecomment-310597",
    "user": "mkoeppe"
}
```

This topic came up here at days84 related to polymake (#22452), however I see very wide applicability.

Obviously, directly interfacing a library is almost always better -- except if one wants to be able to access a remote server.

But a pexpect interface seems to be much easier to write -- except for tricky/brittle things such as tab completion and signal handling.

With a jupyter kernel all these tricky things are already implemented. So there would be a separation of concerns, which we can benefit from. 

Moreover, since there is a clear over-the-wire protocol, rather than having to send everything through a pty, this will be more robust.



---

archive/issue_comments_310598.json:
```json
{
    "body": "I think it all depends on how the Jupyter kernel is implemented. Obviously, if the Jupyter kernel uses `pexpect`, you cannot gain much from this approach.",
    "created_at": "2017-03-10T21:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22342#issuecomment-310598",
    "user": "jdemeyer"
}
```

I think it all depends on how the Jupyter kernel is implemented. Obviously, if the Jupyter kernel uses `pexpect`, you cannot gain much from this approach.



---

archive/issue_comments_310599.json:
```json
{
    "body": "If nobody can come up with a concrete proposal here, I'd rather close this as \"wontfix\". It's a cute idea but I don't really see the point.",
    "created_at": "2018-07-13T13:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22342#issuecomment-310599",
    "user": "jdemeyer"
}
```

If nobody can come up with a concrete proposal here, I'd rather close this as "wontfix". It's a cute idea but I don't really see the point.



---

archive/issue_comments_310600.json:
```json
{
    "body": "I have set it to 'wishlist'. I hope that's good enough. I would like to keep the ticket open because I may want to work on it at some time.",
    "created_at": "2018-07-13T15:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22342#issuecomment-310600",
    "user": "mkoeppe"
}
```

I have set it to 'wishlist'. I hope that's good enough. I would like to keep the ticket open because I may want to work on it at some time.
