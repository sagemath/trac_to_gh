# Issue 13707: Updated doc tests for k-Schur function and affine Schubert calculus book

Issue created by migration from Trac.

Original creator: aschilling

Original creation time: 2013-01-04 16:57:52

Assignee: sage-combinat

CC:  sage-combinat zabrocki

Keywords: symmetric functions, book

This patch updates the doctests in the book "k-Schur functions and affine Schubert calculus" written by Thomas Lam, Luc Lapointe, Jennifer Morse, Anne Schilling, Mark Shimozono, Mike Zabrocki. It uses features implemented in #13762.


---

Comment by aschilling created at 2013-01-04 17:32:28

Changing status from new to needs_review.


---

Comment by zabrocki created at 2013-01-04 18:06:30

Changing status from needs_review to positive_review.


---

Comment by zabrocki created at 2013-01-04 18:06:30

Looks good.  All tests pass.


---

Comment by jdemeyer created at 2013-01-07 21:06:43

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2013-01-07 21:06:43

This needs `# long time` additions at the following places (positive_review if you make these changes):

```
diff --git a/sage/tests/book_schilling_zabrocki_kschur_primer.py b/sage/tests/book_schilling_zabrocki_kschur_primer.py
--- a/sage/tests/book_schilling_zabrocki_kschur_primer.py
+++ b/sage/tests/book_schilling_zabrocki_kschur_primer.py
`@``@` -568,7 +568,7 `@``@`
     sage: ks3z = Sym.kschur(3,t=z4)
     sage: ks3 = Sym.kschur(3,t=1)
     sage: p = Sym.p()
-    sage: p(ks3z[2, 2, 2, 2, 2, 2, 2, 2])
+    sage: p(ks3z[2, 2, 2, 2, 2, 2, 2, 2])  # long time (17s on sage.math, 2013)
     1/12*p[4, 4, 4, 4] + 1/4*p[8, 8] + (-1/3)*p[12, 4]
     sage: p(ks3[2,2])
     1/12*p[1, 1, 1, 1] + 1/4*p[2, 2] + (-1/3)*p[3, 1]
`@``@` -577,7 +577,7 `@``@`

 Sage example in ./kschurnotes/notes-mike-anne.tex, line 5405::

-    sage: ks3z[3, 3, 3, 3]*ks3z[2, 1]
+    sage: ks3z[3, 3, 3, 3]*ks3z[2, 1]  # long time (10s on sage.math, 2013)
     ks3[3, 3, 3, 3, 2, 1]

 Sage example in ./kschurnotes/notes-mike-anne.tex, line 5565::
`@``@` -585,7 +585,7 `@``@`
     sage: Sym = SymmetricFunctions(QQ['t'].fraction_field())
     sage: Q3 = Sym.kBoundedQuotient(3)
     sage: dks = Q3.dual_k_Schur()
-    sage: dks[2,1,1]*dks[3,2,1]
+    sage: dks[2,1,1]*dks[3,2,1]  # long time (37s on sage.math, 2013)
     (t^7+t^6)*dks3[2, 1, 1, 1, 1, 1, 1, 1, 1] + (t^4+t^3+t^2)*dks3[2, 2, 2,
     1, 1, 1, 1] + (t^3+t^2)*dks3[2, 2, 2, 2, 1, 1] +
     (t^5+2*t^4+2*t^3+t^2)*dks3[2, 2, 2, 2, 2] + (t^5+2*t^4+t^3)*dks3[3, 1,
```



---

Attachment


---

Comment by aschilling created at 2013-01-08 00:30:17

Ok, I marked them. What is the proper/easiest way to find tests that need to be marked long instead of going through by hand?

Anne


---

Comment by aschilling created at 2013-01-08 00:30:29

Changing status from needs_work to needs_review.


---

Comment by zabrocki created at 2013-01-08 05:16:33

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-01-08 07:21:30

Replying to [comment:5 aschilling]:
> Ok, I marked them. What is the proper/easiest way to find tests that need to be marked long instead of going through by hand?

That's the problem, there isn't really a good way to do this. There are some plans to change this, see #12720.

But usually when you're writing doctests, you would first run it interactively inside Sage (to know at least what the correct answer is). Then you would notice if the answer isn't returned immediately.


---

Comment by aschilling created at 2013-01-08 07:27:30

Replying to [comment:8 jdemeyer]:
> Replying to [comment:5 aschilling]:
> > Ok, I marked them. What is the proper/easiest way to find tests that need to be marked long instead of going through by hand?
> 
> That's the problem, there isn't really a good way to do this. There are some plans to change this, see #12720.
> 
> But usually when you're writing doctests, you would first run it interactively inside Sage (to know at least what the correct answer is). Then you would notice if the answer isn't returned immediately.

Thanks for letting me know! In our case sagetex actually made the doctests from the latex source of the book. But I suppose when putting those into the book we could have taken notice which tests took a long time.

Anne


---

Comment by jdemeyer created at 2013-01-09 08:59:35

Resolution: fixed
