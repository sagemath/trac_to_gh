# Issue 29530: Implement the Jucys-Murphy elements for the partition algebra

archive/issues_029530.json:
```json
{
    "body": "CC:  sage-combinat @srdoty @saliola @zabrocki @darijgr @alauve @ghseeli\n\nKeywords: partition algebra\n\nWe use the recursive formula from https://arxiv.org/abs/2005.00600.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29767\n\n",
    "created_at": "2020-05-31T06:12:41Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Implement the Jucys-Murphy elements for the partition algebra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29530",
    "user": "https://github.com/tscrim"
}
```
CC:  sage-combinat @srdoty @saliola @zabrocki @darijgr @alauve @ghseeli

Keywords: partition algebra

We use the recursive formula from https://arxiv.org/abs/2005.00600.

Issue created by migration from https://trac.sagemath.org/ticket/29767





---

archive/issue_comments_418835.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-31T06:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418835",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_418836.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-05-31T06:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418836",
    "user": "https://github.com/tscrim"
}
```

New commits:



---

archive/issue_comments_418837.json:
```json
{
    "body": "Patchbot is (morally) green.",
    "created_at": "2020-06-01T05:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418837",
    "user": "https://github.com/tscrim"
}
```

Patchbot is (morally) green.



---

archive/issue_comments_418838.json:
```json
{
    "body": "I don't know what is wrong with your branch.  Its a mess.  I could make it work by merging it with develop.\n\nSo experimenting with this a little, I think that you are using the convention `jucys_murphy_element(r)` computes L_{2r} in the Creedon reference?  I think that you need to make clearer the phrase `(except we divide the indices by 2)` (the indices in the program or in the paper?)\n\nI suggest:\n\nReturn the element `L_{2*i}` from [Cre2020]_\n\nand\n\nReturn the element `\\sigma_{2*i}` from [Cre2020]_\n\nThese are also taken from Enyang's reference but there (a) there is a typo and (b) there is a change from the Halverson-Ram convention and (c) there is a doubling of indices from the literature in 2010 to the literature in 2011 and later.\n\nHalverson-Ram have an M_0=1, M_{1/2}=1 and M_1=`P{{1},{-1}}-P{{1,-1}}` which does not agree with the definition in this ticket (in fact `jucys_murphy_element(0)` is `ValueError: i must be an integer between 1 and 2` (probably should return a better error message), `jucys_murphy_element(1/2)` is `0` (this follows Enyang and Creedon) and `jucys_murphy_element(1)` is `P{{1},{-1}}` (again, follows Enyang and Creedon)).  But for r>1, M_r = L_{2r} (*probably* because there are errors in the literature).\n\nAre these supposed to work for half partition algebras?\n\n```\nsage: PartitionAlgebra(3/2,x).jucys_murphy_element(1)\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n...\nTypeError: unable to convert rational 5/2 to an integer\n```",
    "created_at": "2020-06-02T13:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418838",
    "user": "https://github.com/zabrocki"
}
```

I don't know what is wrong with your branch.  Its a mess.  I could make it work by merging it with develop.

So experimenting with this a little, I think that you are using the convention `jucys_murphy_element(r)` computes L_{2r} in the Creedon reference?  I think that you need to make clearer the phrase `(except we divide the indices by 2)` (the indices in the program or in the paper?)

I suggest:

Return the element `L_{2*i}` from [Cre2020]_

and

Return the element `\sigma_{2*i}` from [Cre2020]_

These are also taken from Enyang's reference but there (a) there is a typo and (b) there is a change from the Halverson-Ram convention and (c) there is a doubling of indices from the literature in 2010 to the literature in 2011 and later.

Halverson-Ram have an M_0=1, M_{1/2}=1 and M_1=`P{{1},{-1}}-P{{1,-1}}` which does not agree with the definition in this ticket (in fact `jucys_murphy_element(0)` is `ValueError: i must be an integer between 1 and 2` (probably should return a better error message), `jucys_murphy_element(1/2)` is `0` (this follows Enyang and Creedon) and `jucys_murphy_element(1)` is `P{{1},{-1}}` (again, follows Enyang and Creedon)).  But for r>1, M_r = L_{2r} (*probably* because there are errors in the literature).

Are these supposed to work for half partition algebras?

```
sage: PartitionAlgebra(3/2,x).jucys_murphy_element(1)
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
...
TypeError: unable to convert rational 5/2 to an integer
```



---

archive/issue_comments_418839.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-04T01:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418839",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418840.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-04T01:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418840",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418841.json:
```json
{
    "body": "Replying to [comment:3 zabrocki]:\n> I don't know what is wrong with your branch.  Its a mess.  I could make it work by merging it with develop.\n\n\nProbably because the machine I used to develop it on was not using the latest beta version. I have rebased it.\n\n> So experimenting with this a little, I think that you are using the convention `jucys_murphy_element(r)` computes L_{2r} in the Creedon reference?\n\n\nYes, that is correct.\n\n>  I think that you need to make clearer the phrase `(except we divide the indices by 2)` (the indices in the program or in the paper?)\n\n> \n> I suggest:\n> \n> Return the element `L_{2*i}` from [Cre2020]_\n> \n> and\n> \n> Return the element `\\sigma_{2*i}` from [Cre2020]_\n\n\nGood idea. I have changed it.\n\n> These are also taken from Enyang's reference but there (a) there is a typo and (b) there is a change from the Halverson-Ram convention and (c) there is a doubling of indices from the literature in 2010 to the literature in 2011 and later.\n> \n> Halverson-Ram have an M_0=1, M_{1/2}=1 and M_1=`P{{1},{-1}}-P{{1,-1}}` which does not agree with the definition in this ticket\n\n\nIndeed, that is from the definition I used. I have tried to clarify this in the documentation.\n\n> (in fact `jucys_murphy_element(0)` is `ValueError: i must be an integer between 1 and 2` (probably should return a better error message),\n\n\nAh, this comes from the fact that the checking is done lower down. I have fixed this.\n\n> `jucys_murphy_element(1/2)` is `0` (this follows Enyang and Creedon) and `jucys_murphy_element(1)` is `P{{1},{-1}}` (again, follows Enyang and Creedon)).  But for r>1, M_r = L_{2r} (*probably* because there are errors in the literature).\n\n\nIn fact, I get an extra element in the support for\n\n```\nsage: len(P.jucys_murphy_element(5/2).support())\n21\n```\ncompared to Halverson-Ram, which has 20 and I just assumed was just a diagram that got lost in either their computation or writing the paper.\n\n> Are these supposed to work for half partition algebras?\n> \n> ```\n> sage: PartitionAlgebra(3/2,x).jucys_murphy_element(1)\n> ---------------------------------------------------------------------------\n> KeyError                                  Traceback (most recent call last)\n> ...\n> TypeError: unable to convert rational 5/2 to an integer\n> ```\n\n\nI didn't implement with those in mind, but perhaps it is fairly easy to extend the functionality. I will check.",
    "created_at": "2020-06-04T01:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418841",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:3 zabrocki]:
> I don't know what is wrong with your branch.  Its a mess.  I could make it work by merging it with develop.


Probably because the machine I used to develop it on was not using the latest beta version. I have rebased it.

> So experimenting with this a little, I think that you are using the convention `jucys_murphy_element(r)` computes L_{2r} in the Creedon reference?


Yes, that is correct.

>  I think that you need to make clearer the phrase `(except we divide the indices by 2)` (the indices in the program or in the paper?)

> 
> I suggest:
> 
> Return the element `L_{2*i}` from [Cre2020]_
> 
> and
> 
> Return the element `\sigma_{2*i}` from [Cre2020]_


Good idea. I have changed it.

> These are also taken from Enyang's reference but there (a) there is a typo and (b) there is a change from the Halverson-Ram convention and (c) there is a doubling of indices from the literature in 2010 to the literature in 2011 and later.
> 
> Halverson-Ram have an M_0=1, M_{1/2}=1 and M_1=`P{{1},{-1}}-P{{1,-1}}` which does not agree with the definition in this ticket


Indeed, that is from the definition I used. I have tried to clarify this in the documentation.

> (in fact `jucys_murphy_element(0)` is `ValueError: i must be an integer between 1 and 2` (probably should return a better error message),


Ah, this comes from the fact that the checking is done lower down. I have fixed this.

> `jucys_murphy_element(1/2)` is `0` (this follows Enyang and Creedon) and `jucys_murphy_element(1)` is `P{{1},{-1}}` (again, follows Enyang and Creedon)).  But for r>1, M_r = L_{2r} (*probably* because there are errors in the literature).


In fact, I get an extra element in the support for

```
sage: len(P.jucys_murphy_element(5/2).support())
21
```
compared to Halverson-Ram, which has 20 and I just assumed was just a diagram that got lost in either their computation or writing the paper.

> Are these supposed to work for half partition algebras?
> 
> ```
> sage: PartitionAlgebra(3/2,x).jucys_murphy_element(1)
> ---------------------------------------------------------------------------
> KeyError                                  Traceback (most recent call last)
> ...
> TypeError: unable to convert rational 5/2 to an integer
> ```


I didn't implement with those in mind, but perhaps it is fairly easy to extend the functionality. I will check.



---

archive/issue_comments_418842.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-05T02:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418843.json:
```json
{
    "body": "Replying to [comment:6 tscrim]:\n> Replying to [comment:3 zabrocki]:\n> > Are these supposed to work for half partition algebras?\n> > \n> > ```\n> > sage: PartitionAlgebra(3/2,x).jucys_murphy_element(1)\n> > ---------------------------------------------------------------------------\n> > KeyError                                  Traceback (most recent call last)\n> > ...\n> > TypeError: unable to convert rational 5/2 to an integer\n> > ```\n\n> \n> I didn't implement with those in mind, but perhaps it is fairly easy to extend the functionality. I will check.\n\n\nThis now works for the half partition algebra. However, I needed to remove the safety check on the `s(i)` elements as I need to go briefly outside the half integer diagram algebras in order to construct the sigma and JM elements.",
    "created_at": "2020-06-05T02:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418843",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:6 tscrim]:
> Replying to [comment:3 zabrocki]:
> > Are these supposed to work for half partition algebras?
> > 
> > ```
> > sage: PartitionAlgebra(3/2,x).jucys_murphy_element(1)
> > ---------------------------------------------------------------------------
> > KeyError                                  Traceback (most recent call last)
> > ...
> > TypeError: unable to convert rational 5/2 to an integer
> > ```

> 
> I didn't implement with those in mind, but perhaps it is fairly easy to extend the functionality. I will check.


This now works for the half partition algebra. However, I needed to remove the safety check on the `s(i)` elements as I need to go briefly outside the half integer diagram algebras in order to construct the sigma and JM elements.



---

archive/issue_comments_418844.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-05T18:02:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418845.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-05T18:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418846.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-05T19:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418846",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_418847.json:
```json
{
    "body": "I think that we need to discuss notation here.  `s_i` seems to be relatively universal in the literature, but [Cre2020]_ and [Eny2013]_ use `e_i` for `i` an integer, but [HR2005]_ and [Eny2012]_ use `p_i` and `p_{i+1/2}` (essentially following what is programmed here) and then there is another element `e_i` that has blocks `{i,i+1}` and `{-i,-i-1}` in [HR2005]_.  Notation is not universal and so we should either spell out the name clearer or state references where they come from.\n\nI don't know if this is important or if we want to be consistent, but in `BrauerAlgebra` the method is `jucys_murphy` instead of `jucys_murphy_element`.  I saw a really nice talk yesterday explaining how non-unique Jucys-Murphy elements are.",
    "created_at": "2020-06-05T19:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418847",
    "user": "https://github.com/zabrocki"
}
```

I think that we need to discuss notation here.  `s_i` seems to be relatively universal in the literature, but [Cre2020]_ and [Eny2013]_ use `e_i` for `i` an integer, but [HR2005]_ and [Eny2012]_ use `p_i` and `p_{i+1/2}` (essentially following what is programmed here) and then there is another element `e_i` that has blocks `{i,i+1}` and `{-i,-i-1}` in [HR2005]_.  Notation is not universal and so we should either spell out the name clearer or state references where they come from.

I don't know if this is important or if we want to be consistent, but in `BrauerAlgebra` the method is `jucys_murphy` instead of `jucys_murphy_element`.  I saw a really nice talk yesterday explaining how non-unique Jucys-Murphy elements are.



---

archive/issue_comments_418848.json:
```json
{
    "body": "Replying to [comment:11 zabrocki]:\n> I think that we need to discuss notation here.  `s_i` seems to be relatively universal in the literature, but [Cre2020]_ and [Eny2013]_ use `e_i` for `i` an integer, but [HR2005]_ and [Eny2012]_ use `p_i` and `p_{i+1/2}` (essentially following what is programmed here) and then there is another element `e_i` that has blocks `{i,i+1}` and `{-i,-i-1}` in [HR2005]_.  Notation is not universal and so we should either spell out the name clearer or state references where they come from.\n\n\nI agree with spelling it out. The `e_i` here is consistent with [HR2005]_ and fits the pattern of doubling for [Cre2020]_ and [Eny2013]_ if I am not mistaken. Beyond what you have added (thank you for doing that), do you think there is something more that should be done?\n\nSomething else that we should be consistent about is what a half integer is. Is it just (2k+1)/2 or do we allow any k/2? My inclination was the first, that it was not an actual integer, which is why I have the error messages as (half) integer.\n\n> I don't know if this is important or if we want to be consistent, but in `BrauerAlgebra` the method is `jucys_murphy` instead of `jucys_murphy_element`.\n\n\nThinking about the naming more, I don't quite like what `SymmetricGroupAlgebra` and `BrauerAlgebra` does, but we have done it twice. So I guess to be consistent that way, we should renaming it here to be `jucys_murphy`. It just is a little strange when speaking it, \"I want to know the i-th Jucys-Murphy.\"\n\n> I saw a really nice talk yesterday explaining how non-unique Jucys-Murphy elements are.\n\n\nI wish I could have seen that. `:/`",
    "created_at": "2020-06-06T00:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418848",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:11 zabrocki]:
> I think that we need to discuss notation here.  `s_i` seems to be relatively universal in the literature, but [Cre2020]_ and [Eny2013]_ use `e_i` for `i` an integer, but [HR2005]_ and [Eny2012]_ use `p_i` and `p_{i+1/2}` (essentially following what is programmed here) and then there is another element `e_i` that has blocks `{i,i+1}` and `{-i,-i-1}` in [HR2005]_.  Notation is not universal and so we should either spell out the name clearer or state references where they come from.


I agree with spelling it out. The `e_i` here is consistent with [HR2005]_ and fits the pattern of doubling for [Cre2020]_ and [Eny2013]_ if I am not mistaken. Beyond what you have added (thank you for doing that), do you think there is something more that should be done?

Something else that we should be consistent about is what a half integer is. Is it just (2k+1)/2 or do we allow any k/2? My inclination was the first, that it was not an actual integer, which is why I have the error messages as (half) integer.

> I don't know if this is important or if we want to be consistent, but in `BrauerAlgebra` the method is `jucys_murphy` instead of `jucys_murphy_element`.


Thinking about the naming more, I don't quite like what `SymmetricGroupAlgebra` and `BrauerAlgebra` does, but we have done it twice. So I guess to be consistent that way, we should renaming it here to be `jucys_murphy`. It just is a little strange when speaking it, "I want to know the i-th Jucys-Murphy."

> I saw a really nice talk yesterday explaining how non-unique Jucys-Murphy elements are.


I wish I could have seen that. `:/`



---

archive/issue_comments_418849.json:
```json
{
    "body": "I'm ok with breaking poorly chosen conventions by adding `_element` (or leaving it off, because I think that either way someone searching for it will find the right method).\n\nThe `e_i` is not consistent with [HR2005]_ (at least in the copy I have from the arxiv, they use `p_i` and `p_{i+1/2}`) but just to be clear, choose a different reference and you will find a different notation: Halverson's paper on the Characters of the partition algebra from 2000 uses `A_i` and `E_i`.  If you are happy with the choice of `e` I think that it merits saying that we are calculating `e_{2i}` from [Cre2020]_ (or choose a different reference), and that will have to be good enough because there is no obvious way we can choose a naming convention that allows one to guess what the generators represent.\n\nWhat I worry about though is that `e` and `s` are just too short for anyone searching to know to find it (I think that current naming convention will cause users to reprogram the same thing because they are not able to find it).  How about `e_generator` and `s_generator` with the short name `e` and `s`.\n\n> I wish I could have seen that. `:/`\n\nI will send you the link for the talk if they post the video (I think that they will, but it is not yet available).",
    "created_at": "2020-06-06T01:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418849",
    "user": "https://github.com/zabrocki"
}
```

I'm ok with breaking poorly chosen conventions by adding `_element` (or leaving it off, because I think that either way someone searching for it will find the right method).

The `e_i` is not consistent with [HR2005]_ (at least in the copy I have from the arxiv, they use `p_i` and `p_{i+1/2}`) but just to be clear, choose a different reference and you will find a different notation: Halverson's paper on the Characters of the partition algebra from 2000 uses `A_i` and `E_i`.  If you are happy with the choice of `e` I think that it merits saying that we are calculating `e_{2i}` from [Cre2020]_ (or choose a different reference), and that will have to be good enough because there is no obvious way we can choose a naming convention that allows one to guess what the generators represent.

What I worry about though is that `e` and `s` are just too short for anyone searching to know to find it (I think that current naming convention will cause users to reprogram the same thing because they are not able to find it).  How about `e_generator` and `s_generator` with the short name `e` and `s`.

> I wish I could have seen that. `:/`

I will send you the link for the talk if they post the video (I think that they will, but it is not yet available).



---

archive/issue_comments_418850.json:
```json
{
    "body": "Replying to [comment:13 zabrocki]:\n> I'm ok with breaking poorly chosen conventions by adding `_element` (or leaving it off, because I think that either way someone searching for it will find the right method).\n\n\nThen might I suggest keeping the `_element` here and then on a separate ticket add it to the other instances?\n\n> The `e_i` is not consistent with [HR2005]_ (at least in the copy I have from the arxiv, they use `p_i` and `p_{i+1/2}`)\n\n\nAh, yes, you're right. I misread that as being 1 partition, not the cup and the cap together. Sorry for the noise.\n\n> but just to be clear, choose a different reference and you will find a different notation: Halverson's paper on the Characters of the partition algebra from 2000 uses `A_i` and `E_i`.  If you are happy with the choice of `e` I think that it merits saying that we are calculating `e_{2i}` from [Cre2020]_ (or choose a different reference), and that will have to be good enough because there is no obvious way we can choose a naming convention that allows one to guess what the generators represent.\n\n\nI have no strong opinion on the naming convention. It sounds like what we need is something at the class level documentation saying here are a number of special named elements with examples (shameless plug, we can use the ascii art from #29696). I will defer to your choice on what the most appropriate names would be. You are definitely correct that we must be absolutely clear about our choices.\n\n> What I worry about though is that `e` and `s` are just too short for anyone searching to know to find it (I think that current naming convention will cause users to reprogram the same thing because they are not able to find it).  How about `e_generator` and `s_generator` with the short name `e` and `s`.\n\n\nI don't think that will have any affect on the discoverability. They would still have to know to start with either `e` or `s`. Both would still be in the html doc and using a general `P.<tab>` (with `P` a `PartitionAlgebra`) search. If we have it at the class-level, then they could see it when doing `P?`.\n\n> > I wish I could have seen that. `:/`\n\n> I will send you the link for the talk if they post the video (I think that they will, but it is not yet available).\n> \n\n\nGreat, thank you.",
    "created_at": "2020-06-06T02:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418850",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:13 zabrocki]:
> I'm ok with breaking poorly chosen conventions by adding `_element` (or leaving it off, because I think that either way someone searching for it will find the right method).


Then might I suggest keeping the `_element` here and then on a separate ticket add it to the other instances?

> The `e_i` is not consistent with [HR2005]_ (at least in the copy I have from the arxiv, they use `p_i` and `p_{i+1/2}`)


Ah, yes, you're right. I misread that as being 1 partition, not the cup and the cap together. Sorry for the noise.

> but just to be clear, choose a different reference and you will find a different notation: Halverson's paper on the Characters of the partition algebra from 2000 uses `A_i` and `E_i`.  If you are happy with the choice of `e` I think that it merits saying that we are calculating `e_{2i}` from [Cre2020]_ (or choose a different reference), and that will have to be good enough because there is no obvious way we can choose a naming convention that allows one to guess what the generators represent.


I have no strong opinion on the naming convention. It sounds like what we need is something at the class level documentation saying here are a number of special named elements with examples (shameless plug, we can use the ascii art from #29696). I will defer to your choice on what the most appropriate names would be. You are definitely correct that we must be absolutely clear about our choices.

> What I worry about though is that `e` and `s` are just too short for anyone searching to know to find it (I think that current naming convention will cause users to reprogram the same thing because they are not able to find it).  How about `e_generator` and `s_generator` with the short name `e` and `s`.


I don't think that will have any affect on the discoverability. They would still have to know to start with either `e` or `s`. Both would still be in the html doc and using a general `P.<tab>` (with `P` a `PartitionAlgebra`) search. If we have it at the class-level, then they could see it when doing `P?`.

> > I wish I could have seen that. `:/`

> I will send you the link for the talk if they post the video (I think that they will, but it is not yet available).
> 


Great, thank you.



---

archive/issue_comments_418851.json:
```json
{
    "body": "> Then might I suggest keeping the `_element` here and then on a separate ticket add it to the other instances?\n\nsounds good\n\n> I have no strong opinion on the naming convention. It sounds like what we need is something at the class level documentation saying here are a number of special named elements with examples (shameless plug, we can use the ascii art from #29696). I will defer to your choice on what the most appropriate names would be. You are definitely correct that we must be absolutely clear about our choices.\n\nThe class level documentation sounds good, but maybe then `generator_e`, `generator_s` (and then maybe add a `generator_a` for the cup/cap element) with short names `e` and `s` (and `a`).",
    "created_at": "2020-06-06T11:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418851",
    "user": "https://github.com/zabrocki"
}
```

> Then might I suggest keeping the `_element` here and then on a separate ticket add it to the other instances?

sounds good

> I have no strong opinion on the naming convention. It sounds like what we need is something at the class level documentation saying here are a number of special named elements with examples (shameless plug, we can use the ascii art from #29696). I will defer to your choice on what the most appropriate names would be. You are definitely correct that we must be absolutely clear about our choices.

The class level documentation sounds good, but maybe then `generator_e`, `generator_s` (and then maybe add a `generator_a` for the cup/cap element) with short names `e` and `s` (and `a`).



---

archive/issue_comments_418852.json:
```json
{
    "body": "This line is in the documentation: \"The Iwahori--Hecke algebra of type `A` (with a single parameter) is naturally a subalgebra of the partition algebra.\"  This statement is not obvious to me.  Does someone know what the embedding is?",
    "created_at": "2020-06-08T15:37:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418852",
    "user": "https://github.com/zabrocki"
}
```

This line is in the documentation: "The Iwahori--Hecke algebra of type `A` (with a single parameter) is naturally a subalgebra of the partition algebra."  This statement is not obvious to me.  Does someone know what the embedding is?



---

archive/issue_comments_418853.json:
```json
{
    "body": "Replying to [comment:16 zabrocki]:\n> This line is in the documentation: \"The Iwahori--Hecke algebra of type `A` (with a single parameter) is naturally a subalgebra of the partition algebra.\"  This statement is not obvious to me.  Does someone know what the embedding is?\n\n\nI don't offhand. All I know is the Temperley-Lieb algebra is a quotient of the Hecke algebra. I am cc-ing George who wrote that into the documentation. The closest I could find was this: https://arxiv.org/pdf/1304.5158.pdf (but that is clearly not the claimed embedding).",
    "created_at": "2020-06-09T07:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418853",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:16 zabrocki]:
> This line is in the documentation: "The Iwahori--Hecke algebra of type `A` (with a single parameter) is naturally a subalgebra of the partition algebra."  This statement is not obvious to me.  Does someone know what the embedding is?


I don't offhand. All I know is the Temperley-Lieb algebra is a quotient of the Hecke algebra. I am cc-ing George who wrote that into the documentation. The closest I could find was this: https://arxiv.org/pdf/1304.5158.pdf (but that is clearly not the claimed embedding).



---

archive/issue_comments_418854.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-09T07:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418854",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418855.json:
```json
{
    "body": "I added the documentation and the cup/cap pair generator method. I also removed a double reference (so now it moves the [HR2005]_ reference to the master references file).",
    "created_at": "2020-06-09T07:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418855",
    "user": "https://github.com/tscrim"
}
```

I added the documentation and the cup/cap pair generator method. I also removed a double reference (so now it moves the [HR2005]_ reference to the master references file).



---

archive/issue_comments_418856.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-09T07:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418856",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_418857.json:
```json
{
    "body": "I also don't see why the Iwahori-Hecke algebra should embed. It seems unlikely to be true. Probably that line should be removed from the documentation, unless a reference can be found.",
    "created_at": "2020-06-09T15:00:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418857",
    "user": "https://github.com/srdoty"
}
```

I also don't see why the Iwahori-Hecke algebra should embed. It seems unlikely to be true. Probably that line should be removed from the documentation, unless a reference can be found.



---

archive/issue_comments_418858.json:
```json
{
    "body": "A few brief comments from looking at the doc mostly (I don't actually know these elements and haven't found the time to read anything serious about the partition algebra so far):\n\n```\n+.. [Cre2020] Creedon, Samuel. *The center of the partition algebra*.\n+             Preprint, :arxiv:`2005.00600` (2020).\n```\nVersion number please.\n\n```\n+    def a(self, i):\n+        r\"\"\"\n+        Return the element `a_i` in ``self``.\n+\n+        The element `a_i` is the cap and cup at `(i, i+1)`, so it contains\n+        the blocks `\\{i, i+1\\}`, `\\{-i, -i-1\\}`, and `\\{-j, j\\}` for all\n+        `j \\neq i, i+1`.\n```\nYou mean \"for all positive j \\neq i, i+1\".\n\n```\n+    def e(self, i):\n[...]\n+        - ``i`` -- a half integer between 1/2 and `k`\n[...]\n+            sage: P3.e(3)\n+            Traceback (most recent call last):\n+            ...\n+            ValueError: i must be an (half) integer between 1/2 and 5/2\n```\nWhich of the upper bounds is the right one, k or k - 1/2 ?\n\n```\n+    def s(self, i):\n+        r\"\"\"\n+        Return the ``i``-th simple transposition `s_i` in ``self``.\n+\n+        Borrowing the notation from the symmetric group, the `i`-th\n+        simple transposition `s_i` has blocks of the form `\\{-i, i+1\\}`,\n+        `\\{-i-1, i\\}` and `\\{-j, j\\}` for `j \\notin \\{ i, i+1 \\}`.\n```\nAgain, j should be positive.\n\n```\n+    def sigma(self, i):\n+        r\"\"\"\n+        Return the element `\\sigma_i` from [Eny2012]_ of ``self``.\n[...]\n+        - ``i`` -- a half integer between 1/2 and `k`\n[...]\n+        if i <= 0 or i >= self._k:\n+            raise ValueError(\"i must be an (half) integer between 1 and {}\".format((2*self._k-1)/2))\n```\nAgain, is the upper bound k or (2k-1) / 2?\n\n```\n+    def jucys_murphy_element(self, i):\n+        r\"\"\"\n+        Return the ``i``-th Jucys-Murphy element `L_i` from [Eny2012]_.\n+        of ``self``.\n```\nOne period too much after [Eny2012]_.\n\n```\n+            return (self.s(j) * L(i-1) * self.s(j)\n+                    - L(j)*self.e(j) - self.e(j)*L(j)\n+                    + (self._q*self.one() - L(i-1))*self.e(j)\n+                    + self.sigma(j))\n```\nThe `- L(j)*self.e(j)` and `(self._q*self.one() - L(i-1))*self.e(j)` terms might enjoy being combined for a bit of performance.",
    "created_at": "2020-06-09T15:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418858",
    "user": "https://github.com/darijgr"
}
```

A few brief comments from looking at the doc mostly (I don't actually know these elements and haven't found the time to read anything serious about the partition algebra so far):

```
+.. [Cre2020] Creedon, Samuel. *The center of the partition algebra*.
+             Preprint, :arxiv:`2005.00600` (2020).
```
Version number please.

```
+    def a(self, i):
+        r"""
+        Return the element `a_i` in ``self``.
+
+        The element `a_i` is the cap and cup at `(i, i+1)`, so it contains
+        the blocks `\{i, i+1\}`, `\{-i, -i-1\}`, and `\{-j, j\}` for all
+        `j \neq i, i+1`.
```
You mean "for all positive j \neq i, i+1".

```
+    def e(self, i):
[...]
+        - ``i`` -- a half integer between 1/2 and `k`
[...]
+            sage: P3.e(3)
+            Traceback (most recent call last):
+            ...
+            ValueError: i must be an (half) integer between 1/2 and 5/2
```
Which of the upper bounds is the right one, k or k - 1/2 ?

```
+    def s(self, i):
+        r"""
+        Return the ``i``-th simple transposition `s_i` in ``self``.
+
+        Borrowing the notation from the symmetric group, the `i`-th
+        simple transposition `s_i` has blocks of the form `\{-i, i+1\}`,
+        `\{-i-1, i\}` and `\{-j, j\}` for `j \notin \{ i, i+1 \}`.
```
Again, j should be positive.

```
+    def sigma(self, i):
+        r"""
+        Return the element `\sigma_i` from [Eny2012]_ of ``self``.
[...]
+        - ``i`` -- a half integer between 1/2 and `k`
[...]
+        if i <= 0 or i >= self._k:
+            raise ValueError("i must be an (half) integer between 1 and {}".format((2*self._k-1)/2))
```
Again, is the upper bound k or (2k-1) / 2?

```
+    def jucys_murphy_element(self, i):
+        r"""
+        Return the ``i``-th Jucys-Murphy element `L_i` from [Eny2012]_.
+        of ``self``.
```
One period too much after [Eny2012]_.

```
+            return (self.s(j) * L(i-1) * self.s(j)
+                    - L(j)*self.e(j) - self.e(j)*L(j)
+                    + (self._q*self.one() - L(i-1))*self.e(j)
+                    + self.sigma(j))
```
The `- L(j)*self.e(j)` and `(self._q*self.one() - L(i-1))*self.e(j)` terms might enjoy being combined for a bit of performance.



---

archive/issue_comments_418859.json:
```json
{
    "body": "Is it worth documenting that `PartitionAlgebra(k,x).s(k-1/2)` returns something that is not technically in the algebra if k is a half integer >=3/2?  I'm leaning towards \"no\" since I don't feel it is clearer, but asking in case you feel otherwise.\n\nDelete the [HR2005] from `diagrams_algebras.py`",
    "created_at": "2020-06-09T15:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418859",
    "user": "https://github.com/zabrocki"
}
```

Is it worth documenting that `PartitionAlgebra(k,x).s(k-1/2)` returns something that is not technically in the algebra if k is a half integer >=3/2?  I'm leaning towards "no" since I don't feel it is clearer, but asking in case you feel otherwise.

Delete the [HR2005] from `diagrams_algebras.py`



---

archive/issue_comments_418860.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-11T11:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418860",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418861.json:
```json
{
    "body": "> (I don't actually know these elements and haven't found the time to read anything serious about the partition algebra so far)\n\nI'm calling B.S. on this.  I know of an 8 page document written by you that lists errata of [HR2005]\n\nIf everyone is happy with these changes I am ready to vote positive review.",
    "created_at": "2020-06-11T11:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418861",
    "user": "https://github.com/zabrocki"
}
```

> (I don't actually know these elements and haven't found the time to read anything serious about the partition algebra so far)

I'm calling B.S. on this.  I know of an 8 page document written by you that lists errata of [HR2005]

If everyone is happy with these changes I am ready to vote positive review.



---

archive/issue_comments_418862.json:
```json
{
    "body": "> I'm calling B.S. on this. I know of an 8 page document written by you that lists errata of [HR2005]\n\n\nThat document (plus my attempt at reading Comes-Ostrik) is an upper bound on my knowledge of partition algebras; I never got through Halverson-Ram (arguably I blame this partly on the paper and partly on me getting grossed out by the Tits deformation theorem).\n\nFor what it's worth, I've never heard of the Hecke algebra embedding into the partition algebra either. (I wouldn't be overly surprised to learn it's true either, but for now I'm skeptical.)",
    "created_at": "2020-06-11T22:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418862",
    "user": "https://github.com/darijgr"
}
```

> I'm calling B.S. on this. I know of an 8 page document written by you that lists errata of [HR2005]


That document (plus my attempt at reading Comes-Ostrik) is an upper bound on my knowledge of partition algebras; I never got through Halverson-Ram (arguably I blame this partly on the paper and partly on me getting grossed out by the Tits deformation theorem).

For what it's worth, I've never heard of the Hecke algebra embedding into the partition algebra either. (I wouldn't be overly surprised to learn it's true either, but for now I'm skeptical.)



---

archive/issue_comments_418863.json:
```json
{
    "body": "I am a strong -1 on adding the version to the reference. It should ultimately be the published version, so we should stay as close to that as possible.",
    "created_at": "2020-06-11T23:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418863",
    "user": "https://github.com/tscrim"
}
```

I am a strong -1 on adding the version to the reference. It should ultimately be the published version, so we should stay as close to that as possible.



---

archive/issue_comments_418864.json:
```json
{
    "body": "Thank you Mike for do the changes. I was going to get to them this morning. In regards to the question you asked in comment:23, I also think that we should not add it in both for cleanliness and because it is a misuse that we just have to allow for a technical issue.",
    "created_at": "2020-06-11T23:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418864",
    "user": "https://github.com/tscrim"
}
```

Thank you Mike for do the changes. I was going to get to them this morning. In regards to the question you asked in comment:23, I also think that we should not add it in both for cleanliness and because it is a misuse that we just have to allow for a technical issue.



---

archive/issue_comments_418865.json:
```json
{
    "body": "Hi, everyone! Sorry for the delayed response. I cannot tell which of s.r.doty, alauve, or I wrote that line in the documentation, but it certainly is not obvious to me how to embed the Hecke algebra into the partition algebra.",
    "created_at": "2020-06-11T23:38:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418865",
    "user": "https://github.com/ghseeli"
}
```

Hi, everyone! Sorry for the delayed response. I cannot tell which of s.r.doty, alauve, or I wrote that line in the documentation, but it certainly is not obvious to me how to embed the Hecke algebra into the partition algebra.



---

archive/issue_comments_418866.json:
```json
{
    "body": "`@`tscrim: The version number is important, as notations may well change before the publication and we need to keep track of which ones we are using.",
    "created_at": "2020-06-12T06:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418866",
    "user": "https://github.com/darijgr"
}
```

`@`tscrim: The version number is important, as notations may well change before the publication and we need to keep track of which ones we are using.



---

archive/issue_comments_418867.json:
```json
{
    "body": "Yes, but if the notation changes, then we need to change our documentation. I really don't think it is good to tie it to a version number but instead to the article.",
    "created_at": "2020-06-12T06:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418867",
    "user": "https://github.com/tscrim"
}
```

Yes, but if the notation changes, then we need to change our documentation. I really don't think it is good to tie it to a version number but instead to the article.



---

archive/issue_comments_418868.json:
```json
{
    "body": "This ticket should preferably go into Sage before the paper gets published.",
    "created_at": "2020-06-12T06:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418868",
    "user": "https://github.com/darijgr"
}
```

This ticket should preferably go into Sage before the paper gets published.



---

archive/issue_comments_418869.json:
```json
{
    "body": "Yes, but we don't want to cite a version of the paper, we want to cite the paper.",
    "created_at": "2020-06-12T06:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418869",
    "user": "https://github.com/tscrim"
}
```

Yes, but we don't want to cite a version of the paper, we want to cite the paper.



---

archive/issue_comments_418870.json:
```json
{
    "body": "In this case the notation of [Cre2020] is based on the notation of [Eny2012] and [Eny2013] and is unlikely to change.  However the reference to Lemma 2.2.3(1) or Lemma 2.2.3(2) very well might change and any update of the reference may not update the Lemma numbers.",
    "created_at": "2020-06-12T10:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418870",
    "user": "https://github.com/zabrocki"
}
```

In this case the notation of [Cre2020] is based on the notation of [Eny2012] and [Eny2013] and is unlikely to change.  However the reference to Lemma 2.2.3(1) or Lemma 2.2.3(2) very well might change and any update of the reference may not update the Lemma numbers.



---

archive/issue_comments_418871.json:
```json
{
    "body": "The first thing I would do if I saw a later version on the arXiv is go to the later version then compare. The lemma's might be shown to be wrong in the later version, but we are then claiming they are correct. We really should not depend on (and hence cite) the version but instead the paper itself. If there becomes a discrepancy, then we should be updating the Sage documentation accordingly.",
    "created_at": "2020-06-14T07:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418871",
    "user": "https://github.com/tscrim"
}
```

The first thing I would do if I saw a later version on the arXiv is go to the later version then compare. The lemma's might be shown to be wrong in the later version, but we are then claiming they are correct. We really should not depend on (and hence cite) the version but instead the paper itself. If there becomes a discrepancy, then we should be updating the Sage documentation accordingly.



---

archive/issue_comments_418872.json:
```json
{
    "body": "This is like saying \"we shouldn't depend on a version of a package, but on the package itself\". But you are depending on the version, whether you want it or not, because that's all you have; all you achieve is making the dependency less explicit and leaving future-you without a clear indication of how to \"rebase\" the dependency. In particular, if v2 of the preprint omits the lemma because it turned out to be wrong, then referencing it to v1 will at least give the reader a way to see what has happened (and readers will look it up because these functions are not defined in the doc), while referencing it to the paper will mask the fact that something's wrong.",
    "created_at": "2020-06-14T08:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418872",
    "user": "https://github.com/darijgr"
}
```

This is like saying "we shouldn't depend on a version of a package, but on the package itself". But you are depending on the version, whether you want it or not, because that's all you have; all you achieve is making the dependency less explicit and leaving future-you without a clear indication of how to "rebase" the dependency. In particular, if v2 of the preprint omits the lemma because it turned out to be wrong, then referencing it to v1 will at least give the reader a way to see what has happened (and readers will look it up because these functions are not defined in the doc), while referencing it to the paper will mask the fact that something's wrong.



---

archive/issue_comments_418873.json:
```json
{
    "body": "If you depend on a misfeature of a package, then you need to fix your code when the package updates. This is what bisecting is for, to see where things no long match. You want stuff to break when upstream changes, not hide it under the rug. Ideally software depends on a range of package versions, not on any particular one; typical is a minimum version number. The equivalent of this here is citing the paper itself.",
    "created_at": "2020-06-14T08:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418873",
    "user": "https://github.com/tscrim"
}
```

If you depend on a misfeature of a package, then you need to fix your code when the package updates. This is what bisecting is for, to see where things no long match. You want stuff to break when upstream changes, not hide it under the rug. Ideally software depends on a range of package versions, not on any particular one; typical is a minimum version number. The equivalent of this here is citing the paper itself.



---

archive/issue_comments_418874.json:
```json
{
    "body": "But any bug here won't be found by automatic tests; bisecting isn't very useful. We need precise references so that people, not computers, can figure out what has gone wrong.",
    "created_at": "2020-06-14T08:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418874",
    "user": "https://github.com/darijgr"
}
```

But any bug here won't be found by automatic tests; bisecting isn't very useful. We need precise references so that people, not computers, can figure out what has gone wrong.



---

archive/issue_comments_418875.json:
```json
{
    "body": "Not automatic, but close enough to it: you go back versions until you get the one that matches. There really are not going to be that many versions.\n\nLook, as a compromise, how about where we cite those lemmas, we cite the version number there?",
    "created_at": "2020-06-14T08:39:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418875",
    "user": "https://github.com/tscrim"
}
```

Not automatic, but close enough to it: you go back versions until you get the one that matches. There really are not going to be that many versions.

Look, as a compromise, how about where we cite those lemmas, we cite the version number there?



---

archive/issue_comments_418876.json:
```json
{
    "body": "> Look, as a compromise, how about where we cite those lemmas, we cite the version number there?\n\n\nThat's a good idea -- but I'd extend it to the definitions.\n\nI certainly had a homomorphism completely change from one version of a preprint to the next -- because I needed it in a certain role, and found that the new homomorphism fit that role better than the old one. If anyone had cited my preprint without version number for the homomorphism itself, they'd now have an error.",
    "created_at": "2020-06-14T08:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418876",
    "user": "https://github.com/darijgr"
}
```

> Look, as a compromise, how about where we cite those lemmas, we cite the version number there?


That's a good idea -- but I'd extend it to the definitions.

I certainly had a homomorphism completely change from one version of a preprint to the next -- because I needed it in a certain role, and found that the new homomorphism fit that role better than the old one. If anyone had cited my preprint without version number for the homomorphism itself, they'd now have an error.



---

archive/issue_comments_418877.json:
```json
{
    "body": "Replying to [comment:40 gh-darijgr]:\n> > Look, as a compromise, how about where we cite those lemmas, we cite the version number there?\n\n> \n> That's a good idea -- but I'd extend it to the definitions.\n\n\nThe definitions are from the Enyang paper(s), so we should do it only on the lemma citations.",
    "created_at": "2020-06-14T08:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418877",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:40 gh-darijgr]:
> > Look, as a compromise, how about where we cite those lemmas, we cite the version number there?

> 
> That's a good idea -- but I'd extend it to the definitions.


The definitions are from the Enyang paper(s), so we should do it only on the lemma citations.



---

archive/issue_comments_418878.json:
```json
{
    "body": "Sure, if you cite the Enyang papers too.",
    "created_at": "2020-06-14T09:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418878",
    "user": "https://github.com/darijgr"
}
```

Sure, if you cite the Enyang papers too.



---

archive/issue_comments_418879.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-14T23:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418879",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418880.json:
```json
{
    "body": "Done.\n\nReplying to [comment:42 gh-darijgr]:\n> Sure, if you cite the Enyang papers too.\n\n\nIt does.",
    "created_at": "2020-06-14T23:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418880",
    "user": "https://github.com/tscrim"
}
```

Done.

Replying to [comment:42 gh-darijgr]:
> Sure, if you cite the Enyang papers too.


It does.



---

archive/issue_comments_418881.json:
```json
{
    "body": "I approve.",
    "created_at": "2020-06-15T17:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418881",
    "user": "https://github.com/zabrocki"
}
```

I approve.



---

archive/issue_comments_418882.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-15T17:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418882",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_076184.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-26T15:38:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29530#event-76184"
}
```



---

archive/issue_comments_418883.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-06-26T15:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-418883",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
