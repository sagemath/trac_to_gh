# Issue 10935: bug in the way vectors are created for submodules of free modules

Issue created by migration from https://trac.sagemath.org/ticket/11034

Original creator: was

Original creation time: 2011-03-25 23:10:44

Assignee: jason, was

CC:  minz

Let R be a ring with fraction field K.

When you create a R-submodule of K^n (with K!=QQ) the vectors are created in the ring R not the fraction field.  This breaks things when the submodule is not in R^n.


---

Comment by minz created at 2011-03-30 15:50:36

Changing type from PLEASE CHANGE to defect.


---

Comment by minz created at 2011-03-30 15:50:36

Changing status from new to needs_review.


---

Comment by minz created at 2011-03-30 15:50:36

The new version adds a doctest (and is slightly modified to make the doctest work).

The only doctest failure I received was related to the startup time as checked by startup.py. Curiously enough, replicating the same test on my local machine returned True. (Replicating as in: not running the doctest itself as it always returns True when not on sage.math.)


---

Comment by minz created at 2011-03-31 14:56:02

Apply trac_11034.v2.patch


---

Comment by mderickx created at 2011-09-10 21:18:18

This patch fails to apply to 4.7.2.alpha2


```
md:sage maarten$ mhg qim -P http://trac.sagemath.org/sage_trac/raw-attachment/ticket/11034/trac_11034.v2.patch
adding trac_11034.v2.patch to series file
applying trac_11034.v2.patch
patching file sage/modules/free_module.py
Hunk #1 FAILED at 4902
1 out of 1 hunks FAILED -- saving rejects to file sage/modules/free_module.py.rej
patching file sage/modules/free_module_element.pyx
Hunk #3 succeeded at 3356 with fuzz 1 (offset 701 lines).
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_11034.v2.patch
```


But there was some stupid duplicate of work so there is another ticket wich fixes the same problem at http://trac.sagemath.org/sage_trac/ticket/11751
so if that one gets positive review and merged we can close this one.


---

Comment by mderickx created at 2011-09-10 21:18:18

Changing status from needs_review to needs_work.


---

Comment by minz created at 2012-05-28 12:20:49

Since #11751 received a positive review and was merged in 4.7.2, maybe this ticket can be closed? (I also checked the test in the docstring of this patch and it passes in Sage 5.0.)


---

Comment by was created at 2012-05-28 18:24:29

Changing status from needs_work to positive_review.


---

Comment by was created at 2012-05-28 18:24:29

I can confirm that your examples work fine in sage-5.0.  So this can be closed.   The proper way to do that is "positive review".


---

Comment by jdemeyer created at 2012-06-02 12:42:41

Resolution: duplicate
