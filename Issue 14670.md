# Issue 14670: matrix mutability not same as vectors from rows() mutability

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2013-07-10 05:36:17

Assignee: tscrim


```
sage: MS = MatrixSpace(GF(2),2,2)
sage: A = MS([1,0,1,1])
sage: A.is_mutable()
True
sage: map(lambda x: x.is_mutable(), A.rows())
[True, True]
sage: A.set_immutable()
sage: map(lambda x: x.is_mutable(), A.rows())
[True, True]
sage: A.rows()[0] = 5
sage: A.rows()
[(1, 0), (1, 1)]
sage: A.rows()[0].set_immutable()
sage: map(lambda x: x.is_mutable(), A.rows())
[False, True]
```

Same thing happens on `columns()` as well.


---

Comment by vbraun created at 2013-07-10 14:35:07

Since the rows / columns are cached they should always be set immutable before returning them.


---

Comment by tscrim created at 2013-07-12 07:57:25

Changing status from new to needs_review.


---

Attachment

Replying to [comment:1 vbraun]:
> Since the rows / columns are cached they should always be set immutable before returning them.

Good point. I've made it so that the result from `rows()` and `columns()` and similar methods always return immutable vectors.


---

Comment by vbraun created at 2013-07-12 11:20:39

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2013-07-12 11:20:39

Looks good to me!


---

Comment by jdemeyer created at 2013-08-16 21:14:30

Resolution: fixed
