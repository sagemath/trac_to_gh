# Issue 23764: Some "optional - dot2tex" doctests do not depend on dot2tex

archive/issues_023764.json:
```json
{
    "body": "A few doctests are marked `# optional - dot2tex` but they pass even when dot2tex is not installed.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24001\n\n",
    "created_at": "2017-10-09T18:42:26Z",
    "labels": [
        "doctest framework",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Some \"optional - dot2tex\" doctests do not depend on dot2tex",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23764",
    "user": "jdemeyer"
}
```
A few doctests are marked `# optional - dot2tex` but they pass even when dot2tex is not installed.

Issue created by migration from https://trac.sagemath.org/ticket/24001





---

archive/issue_comments_332955.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-09T19:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332955",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_332956.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-10-09T19:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332956",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_332957.json:
```json
{
    "body": "These tests passes because of changes in the digraph code (at least, I don't remember `view(Digraph([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)))` working before 6.0) more by accident than intent:\n\n```diff\ndiff --git a/src/sage/categories/crystals.py b/src/sage/categories/crystals.py\nindex eb6c2f8..897582e 100644\n--- a/src/sage/categories/crystals.py\n+++ b/src/sage/categories/crystals.py\n@@ -945,14 +945,14 @@ class Crystals(Category_singleton):\n             EXAMPLES::\n \n                 sage: T = crystals.Tableaux(['A',2],shape=[1])\n-                sage: T._latex_()  # optional - dot2tex graphviz\n+                sage: T._latex_()\n                 '...tikzpicture...'\n                 sage: view(T) # optional - dot2tex graphviz, not tested (opens external window)\n \n             One can for example also color the edges using the following options::\n \n                 sage: T = crystals.Tableaux(['A',2],shape=[1])\n-                sage: T._latex_(color_by_label = {0:\"black\", 1:\"red\", 2:\"blue\"})   #optional - dot2tex graphviz\n+                sage: T._latex_(color_by_label={0:\"black\", 1:\"red\", 2:\"blue\"})\n                 '...tikzpicture...'\n             \"\"\"\n             G = self.digraph()\n```\n\nHowever, it should work both with and without `dot2tex`, so I think it is okay to not change it.\n\nAll of the other changes look good (some of those are part of my first contribution to Sage `:)`) that may not have necessarily passed prior.",
    "created_at": "2017-10-10T15:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332957",
    "user": "tscrim"
}
```

These tests passes because of changes in the digraph code (at least, I don't remember `view(Digraph([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)))` working before 6.0) more by accident than intent:

```diff
diff --git a/src/sage/categories/crystals.py b/src/sage/categories/crystals.py
index eb6c2f8..897582e 100644
--- a/src/sage/categories/crystals.py
+++ b/src/sage/categories/crystals.py
@@ -945,14 +945,14 @@ class Crystals(Category_singleton):
             EXAMPLES::
 
                 sage: T = crystals.Tableaux(['A',2],shape=[1])
-                sage: T._latex_()  # optional - dot2tex graphviz
+                sage: T._latex_()
                 '...tikzpicture...'
                 sage: view(T) # optional - dot2tex graphviz, not tested (opens external window)
 
             One can for example also color the edges using the following options::
 
                 sage: T = crystals.Tableaux(['A',2],shape=[1])
-                sage: T._latex_(color_by_label = {0:"black", 1:"red", 2:"blue"})   #optional - dot2tex graphviz
+                sage: T._latex_(color_by_label={0:"black", 1:"red", 2:"blue"})
                 '...tikzpicture...'
             """
             G = self.digraph()
```

However, it should work both with and without `dot2tex`, so I think it is okay to not change it.

All of the other changes look good (some of those are part of my first contribution to Sage `:)`) that may not have necessarily passed prior.



---

archive/issue_comments_332958.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-10T15:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332958",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_332959.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-22T16:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332959",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_332960.json:
```json
{
    "body": "\n```\nFile \"src/sage/categories/crystals.py\", line 918, in sage.categories.crystals.Crystals.ParentMethods.latex_file\nFailed example:\n    C.latex_file('/tmp/test.tex')\nExpected nothing\nGot:\n    <BLANKLINE>\n    Warning: `tikz.sty` is not part of this computer's TeX installation.\n    This package is required to render graphs in LaTeX.\n    Visit '...'.\n    <BLANKLINE>\n    <BLANKLINE>\n    Warning: `tkz-graph.sty` is not part of this computer's TeX installation.\n    This package is required to render graphs in LaTeX.\n    Visit 'http://altermundus.com/pages/tkz/'.\n    <BLANKLINE>\n    <BLANKLINE>\n    Warning: `tkz-berge.sty` is not part of this computer's TeX installation.\n    This package is required to render graphs in LaTeX.\n    Visit 'http://altermundus.com/pages/tkz/'.\n    <BLANKLINE>\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.categories.crystals.Crystals.ParentMethods.latex_file\n    [488 tests, 1 failure, 0.95 s]\n----------------------------------------------------------------------\n```\n",
    "created_at": "2017-10-22T16:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332960",
    "user": "vbraun"
}
```


```
File "src/sage/categories/crystals.py", line 918, in sage.categories.crystals.Crystals.ParentMethods.latex_file
Failed example:
    C.latex_file('/tmp/test.tex')
Expected nothing
Got:
    <BLANKLINE>
    Warning: `tikz.sty` is not part of this computer's TeX installation.
    This package is required to render graphs in LaTeX.
    Visit '...'.
    <BLANKLINE>
    <BLANKLINE>
    Warning: `tkz-graph.sty` is not part of this computer's TeX installation.
    This package is required to render graphs in LaTeX.
    Visit 'http://altermundus.com/pages/tkz/'.
    <BLANKLINE>
    <BLANKLINE>
    Warning: `tkz-berge.sty` is not part of this computer's TeX installation.
    This package is required to render graphs in LaTeX.
    Visit 'http://altermundus.com/pages/tkz/'.
    <BLANKLINE>
**********************************************************************
1 item had failures:
   1 of   3 in sage.categories.crystals.Crystals.ParentMethods.latex_file
    [488 tests, 1 failure, 0.95 s]
----------------------------------------------------------------------
```




---

archive/issue_comments_332961.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-26T11:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332961",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_332962.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-02-26T11:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332962",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_332963.json:
```json
{
    "body": "I'm not completely sure that failure is due to `dot2tex`, but if the bots come back green, then positive review.",
    "created_at": "2018-02-26T11:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332963",
    "user": "tscrim"
}
```

I'm not completely sure that failure is due to `dot2tex`, but if the bots come back green, then positive review.



---

archive/issue_comments_332964.json:
```json
{
    "body": "Hmm. We rather a need a way to silent these warnings, maybe. Because there are some more..",
    "created_at": "2018-02-26T15:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332964",
    "user": "chapoton"
}
```

Hmm. We rather a need a way to silent these warnings, maybe. Because there are some more..



---

archive/issue_comments_332965.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-02-26T15:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332965",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_332966.json:
```json
{
    "body": "Replying to [comment:8 tscrim]:\n> I'm not completely sure that failure is due to `dot2tex`\n\nObviously, failures related to missing latex packages are *not* related to `dot2tex`.",
    "created_at": "2018-02-26T15:48:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332966",
    "user": "jdemeyer"
}
```

Replying to [comment:8 tscrim]:
> I'm not completely sure that failure is due to `dot2tex`

Obviously, failures related to missing latex packages are *not* related to `dot2tex`.



---

archive/issue_comments_332967.json:
```json
{
    "body": "Travis, I'll revert your last commit.",
    "created_at": "2018-02-26T15:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332967",
    "user": "jdemeyer"
}
```

Travis, I'll revert your last commit.



---

archive/issue_comments_332968.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-26T15:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332968",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_332969.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-26T15:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332969",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_332970.json:
```json
{
    "body": "one failing doctest, see bot",
    "created_at": "2018-02-26T19:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332970",
    "user": "chapoton"
}
```

one failing doctest, see bot



---

archive/issue_comments_332971.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-02-26T19:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332971",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_332972.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-27T09:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332972",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_332973.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-27T09:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332973",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_332974.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-27T12:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332974",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_332975.json:
```json
{
    "body": "ok",
    "created_at": "2018-02-27T12:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332975",
    "user": "chapoton"
}
```

ok



---

archive/issue_comments_332976.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-06T23:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23764#issuecomment-332976",
    "user": "vbraun"
}
```

Resolution: fixed
