# Issue 22055: py3 replace <type '*'> by <... '*'> in doctests for some *

archive/issues_022055.json:
```json
{
    "body": "CC:  tscrim jmantysalo jdemeyer\n\nhere for * = tuple, dict, generator, function\n\npart of #16085, towards py3\n\nIssue created by migration from https://trac.sagemath.org/ticket/22292\n\n",
    "created_at": "2017-02-02T20:55:52Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "py3 replace <type '*'> by <... '*'> in doctests for some *",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22055",
    "user": "chapoton"
}
```
CC:  tscrim jmantysalo jdemeyer

here for * = tuple, dict, generator, function

part of #16085, towards py3

Issue created by migration from https://trac.sagemath.org/ticket/22292





---

archive/issue_comments_306444.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-02T20:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306444",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_306445.json:
```json
{
    "body": "This was done purely using bash commands such as\n\n```\ngrep -rl \"<type 'function\" src/sage/ | xargs sed -i \"s/<type 'function/<... 'function/g\"\n```\n\n\nLet us wait for the bots to check that no doctest was broken.\n----\nNew commits:",
    "created_at": "2017-02-02T20:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306445",
    "user": "chapoton"
}
```

This was done purely using bash commands such as

```
grep -rl "<type 'function" src/sage/ | xargs sed -i "s/<type 'function/<... 'function/g"
```


Let us wait for the bots to check that no doctest was broken.
----
New commits:



---

archive/issue_comments_306446.json:
```json
{
    "body": "green bot, please review (easy one)",
    "created_at": "2017-02-03T17:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306446",
    "user": "chapoton"
}
```

green bot, please review (easy one)



---

archive/issue_comments_306447.json:
```json
{
    "body": "The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?",
    "created_at": "2017-02-03T18:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306447",
    "user": "jhpalmieri"
}
```

The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?



---

archive/issue_comments_306448.json:
```json
{
    "body": "I've also verified that there are no remaining instances of `<type '*` for *=function, float, dict, generator, tuple in sage/src.",
    "created_at": "2017-02-03T19:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306448",
    "user": "jhpalmieri"
}
```

I've also verified that there are no remaining instances of `<type '*` for *=function, float, dict, generator, tuple in sage/src.



---

archive/issue_comments_306449.json:
```json
{
    "body": "Replying to [comment:4 jhpalmieri]:\n> The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?\n\nyes, that's good enough, for sure. Thanks for the review. This is preparation for python3, we are not yet at the stage where we can run sage in py3.\n\nBot is green, so this is certainly good to go.",
    "created_at": "2017-02-03T19:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306449",
    "user": "chapoton"
}
```

Replying to [comment:4 jhpalmieri]:
> The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?

yes, that's good enough, for sure. Thanks for the review. This is preparation for python3, we are not yet at the stage where we can run sage in py3.

Bot is green, so this is certainly good to go.



---

archive/issue_comments_306450.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-03T19:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306450",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_306451.json:
```json
{
    "body": "Have you built the documentation after the change? There seem to be one ticket blocking the building of the documentation in https://github.com/vbraun/sage/compare/e901b1d912...59c3b04b68 \nA plot in `generic_graph.py` is failing. This is the only ticket touching that file - which doesn't necessarily mean much.",
    "created_at": "2017-02-04T02:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306451",
    "user": "fbissey"
}
```

Have you built the documentation after the change? There seem to be one ticket blocking the building of the documentation in https://github.com/vbraun/sage/compare/e901b1d912...59c3b04b68 
A plot in `generic_graph.py` is failing. This is the only ticket touching that file - which doesn't necessarily mean much.



---

archive/issue_comments_306452.json:
```json
{
    "body": "The docs build for me.",
    "created_at": "2017-02-04T05:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306452",
    "user": "jhpalmieri"
}
```

The docs build for me.



---

archive/issue_comments_306453.json:
```json
{
    "body": "Thanks. It is either a subtle problem on my setup or another ticket. Sorry for the noise.",
    "created_at": "2017-02-04T05:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306453",
    "user": "fbissey"
}
```

Thanks. It is either a subtle problem on my setup or another ticket. Sorry for the noise.



---

archive/issue_comments_306454.json:
```json
{
    "body": "No problem. I don't think I had actually tested the documentation until you asked. I was relying on the bot, and it never hurts to build it in person.",
    "created_at": "2017-02-04T16:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306454",
    "user": "jhpalmieri"
}
```

No problem. I don't think I had actually tested the documentation until you asked. I was relying on the bot, and it never hurts to build it in person.



---

archive/issue_comments_306455.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-04T19:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22055#issuecomment-306455",
    "user": "vbraun"
}
```

Resolution: fixed
