# Issue 22055: py3 replace <type '*'> by <... '*'> in doctests for some *

Issue created by migration from https://trac.sagemath.org/ticket/22292

Original creator: chapoton

Original creation time: 2017-02-02 20:55:52

CC:  tscrim jmantysalo jdemeyer

here for * = tuple, dict, generator, function

part of #16085, towards py3


---

Comment by chapoton created at 2017-02-02 20:57:27

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-02-02 20:57:27

This was done purely using bash commands such as

```
grep -rl "<type 'function" src/sage/ | xargs sed -i "s/<type 'function/<... 'function/g"
```


Let us wait for the bots to check that no doctest was broken.
----
New commits:


---

Comment by chapoton created at 2017-02-03 17:01:52

green bot, please review (easy one)


---

Comment by jhpalmieri created at 2017-02-03 18:44:11

The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?


---

Comment by jhpalmieri created at 2017-02-03 19:00:29

I've also verified that there are no remaining instances of `<type '*` for *=function, float, dict, generator, tuple in sage/src.


---

Comment by chapoton created at 2017-02-03 19:39:43

Replying to [comment:4 jhpalmieri]:
> The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?

yes, that's good enough, for sure. Thanks for the review. This is preparation for python3, we are not yet at the stage where we can run sage in py3.

Bot is green, so this is certainly good to go.


---

Comment by jhpalmieri created at 2017-02-03 19:42:26

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2017-02-04 02:06:31

Have you built the documentation after the change? There seem to be one ticket blocking the building of the documentation in https://github.com/vbraun/sage/compare/e901b1d912...59c3b04b68 
A plot in `generic_graph.py` is failing. This is the only ticket touching that file - which doesn't necessarily mean much.


---

Comment by jhpalmieri created at 2017-02-04 05:32:58

The docs build for me.


---

Comment by fbissey created at 2017-02-04 05:35:45

Thanks. It is either a subtle problem on my setup or another ticket. Sorry for the noise.


---

Comment by jhpalmieri created at 2017-02-04 16:28:32

No problem. I don't think I had actually tested the documentation until you asked. I was relying on the bot, and it never hurts to build it in person.


---

Comment by vbraun created at 2017-02-04 19:25:43

Resolution: fixed
