# Issue 32281: Update sphinx for python 3.10 compatibility

Issue created by migration from https://trac.sagemath.org/ticket/32518

Original creator: mkoeppe

Original creation time: 2021-09-16 01:01:54

CC:  fbissey arojas jhpalmieri slelievre klee

We will need 4.2.0 or 4.1.2 (https://www.sphinx-doc.org/en/master/changes.html#release-4-2-0-released-sep-12-2021)

Previous update: #31696


---

Comment by mkoeppe created at 2021-09-16 02:17:26

The upgrade helps with the python 3.10 compatibility. 

Someone with more familiarity with the documentation should take a look that the built documentation looks OK with this ticket

----
New commits:


---

Comment by mkoeppe created at 2021-09-16 02:17:26

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2021-09-16 03:42:39

I did a diff on the html docs and there are no interesting differences. I did a little spot-checking and the actual html pages look the same, too.


---

Comment by jhpalmieri created at 2021-09-16 03:45:02

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-09-16 03:52:32

Thank you!


---

Comment by vbraun created at 2021-09-25 23:17:49

Resolution: fixed


---

Comment by jhpalmieri created at 2021-09-27 21:02:09

I think I missed something here: the file `build/pkgs/sphinx/install-requires.txt` says:

```
sphinx >=4, <4.2
```

which isn't compatible with wanting to install Sphinx 4.2. `networkx` complains about this in its log file, and I don't know if there are other more serious effects.


---

Comment by jhpalmieri created at 2021-09-27 21:26:32

I opened #32575 for this.
