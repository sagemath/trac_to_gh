# Issue 15597: % mode switching on the command line is sometimes broken

Issue created by migration from https://trac.sagemath.org/ticket/15834

Original creator: was

Original creation time: 2014-02-18 20:28:25

Try typing each of these alone on a line, and you'll agree we have a problem:

```
   %maxima
   %gap
   %gp
   %pari
   %singular
   %lisp
}}}   

The relevant code is this in `misc/sage_extension.py`:
{{{
    def register_interface_magics(self):
        """Register magics for each of the Sage interfaces"""
        from sage.misc.superseded import deprecation
        interfaces = [(name, obj)
                      for name, obj in sage.interfaces.all.__dict__.items()
                      if isinstance(obj, sage.interfaces.interface.Interface)]

        for real_name, obj in interfaces:
            def tmp(line, name=real_name):
                self.shell.run_cell('%s.interact()' % name)
}}}



---

Comment by chapoton created at 2014-02-21 09:24:03

Something has been changed in #6288, maybe there was a mistake ?


---

Comment by chapoton created at 2014-02-21 09:26:35

Everything work fine for me with a 6.2.beta2. Could you please explain what problem you run into ?


---

Comment by chapoton created at 2014-02-23 11:07:42

Changing status from new to needs_info.


---

Comment by chapoton created at 2014-03-02 08:00:17

Hello, could you please be more precise ? As far as I can see, there is no problem here.


---

Comment by was created at 2014-03-02 15:33:02

Resolution: invalid


---

Comment by was created at 2014-03-02 15:33:02

Wow, everything is fixed now (in 6.1.beta)-- before when I was testing this in a recent version of Sage there were numerous issues.  Nice work.  Closing as invalid.
