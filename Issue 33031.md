# Issue 33031: the outputted image slightly differ with document image

archive/issues_033031.json:
```json
{
    "body": "CC:  slelievre\n\nThis ticket may evolve into \"Parkinson's Law of Triviality\".\nIt seems strange to think of it as a bug.\nTherefore, it is hard to say, but I am noticing a difference,\nso I am making it a ticket.\n\nI believe that this is a problem\nthat should be solved by the leadership of one or a few developers.\n\nI tried to run some EXAMPLE in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)\n\n## environment\n\n```\nmacOS Monterey\nVersion 12.1\n```\n\n\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 9.5.rc2, Release Date: 2022-01-16                 \u2502\n\u2502 Using Python 3.9.9. Type \"help()\" for help.                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n```\n\n\n## an example in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)\n\n```\nsage: contour_plot(y^2 + 1 - x^3 - x, (x,-pi,pi), (y,-pi,pi),\n....:              fill=False, cmap='hsv', labels=True)\n```\n\n\n## document image1\n![](https://doc.sagemath.org/html/en/reference/plotting/_images/contour_plot-16.svg)\n\n## output\n![](ticket:1:tmp_k6pc2yg_.png)\n\nIssue created by migration from https://trac.sagemath.org/ticket/33268\n\n",
    "created_at": "2022-02-01T08:06:30Z",
    "labels": [
        "PLEASE CHANGE",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "the outputted image slightly differ with document image",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33031",
    "user": "@umedoblock"
}
```
CC:  slelievre

This ticket may evolve into "Parkinson's Law of Triviality".
It seems strange to think of it as a bug.
Therefore, it is hard to say, but I am noticing a difference,
so I am making it a ticket.

I believe that this is a problem
that should be solved by the leadership of one or a few developers.

I tried to run some EXAMPLE in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)

## environment

```
macOS Monterey
Version 12.1
```



```
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 9.5.rc2, Release Date: 2022-01-16                 │
│ Using Python 3.9.9. Type "help()" for help.                        │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
```


## an example in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)

```
sage: contour_plot(y^2 + 1 - x^3 - x, (x,-pi,pi), (y,-pi,pi),
....:              fill=False, cmap='hsv', labels=True)
```


## document image1
![](https://doc.sagemath.org/html/en/reference/plotting/_images/contour_plot-16.svg)

## output
![](ticket:1:tmp_k6pc2yg_.png)

Issue created by migration from https://trac.sagemath.org/ticket/33268





---

archive/issue_comments_470994.json:
```json
{
    "body": "Attachment [tmp_k6pc2yg_.png](tarball://root/attachments/some-uuid/ticket33268/tmp_k6pc2yg_.png) by @umedoblock created at 2022-02-01 08:07:11\n\noutputed image",
    "created_at": "2022-02-01T08:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-470994",
    "user": "@umedoblock"
}
```

Attachment [tmp_k6pc2yg_.png](tarball://root/attachments/some-uuid/ticket33268/tmp_k6pc2yg_.png) by @umedoblock created at 2022-02-01 08:07:11

outputed image



---

archive/issue_comments_470995.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to graphics.",
    "created_at": "2022-02-01T08:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-470995",
    "user": "slelievre"
}
```

Changing component from PLEASE CHANGE to graphics.



---

archive/issue_comments_470996.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-02-01T08:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-470996",
    "user": "slelievre"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_470997.json:
```json
{
    "body": "Is this the difference you are observing?\n\n> The 0.00, 10.00, 30.00 labels for the corresponding\n> contour lines are positioned differently.",
    "created_at": "2022-02-01T08:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-470997",
    "user": "slelievre"
}
```

Is this the difference you are observing?

> The 0.00, 10.00, 30.00 labels for the corresponding
> contour lines are positioned differently.



---

archive/issue_comments_470998.json:
```json
{
    "body": "The difference might be due to evolutions of matplotlib.\n\nYou are using Sage 9.5.rc2 and comparing with the online\ndocumentation which is still the one for Sage 9.4.\n\nSage 9.4 had matplotlib 3.3.4. In the Sage 9.5 development\ncycle, Sage upgraded to matplotlib 3.4.3 (#31580)\nand then to matplotlib 3.5 (#33040).\n\nThe online documentation should soon become the one\nfor Sage 9.5 and might then match your observed output\nmore closely.",
    "created_at": "2022-02-01T08:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-470998",
    "user": "slelievre"
}
```

The difference might be due to evolutions of matplotlib.

You are using Sage 9.5.rc2 and comparing with the online
documentation which is still the one for Sage 9.4.

Sage 9.4 had matplotlib 3.3.4. In the Sage 9.5 development
cycle, Sage upgraded to matplotlib 3.4.3 (#31580)
and then to matplotlib 3.5 (#33040).

The online documentation should soon become the one
for Sage 9.5 and might then match your observed output
more closely.



---

archive/issue_comments_470999.json:
```json
{
    "body": "It seems strange to think of it as a bug or a difference.\n\nShould I cancel this ticket?",
    "created_at": "2022-02-01T09:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-470999",
    "user": "@umedoblock"
}
```

It seems strange to think of it as a bug or a difference.

Should I cancel this ticket?



---

archive/issue_comments_471000.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-01T09:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-471000",
    "user": "slelievre"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_471001.json:
```json
{
    "body": "I think we could close this as invalid indeed.\n\nThanks for your careful observation though.\n\nSet to positive review if you agree, adding\nyour name in the \"reviewer\" field if you want to.",
    "created_at": "2022-02-01T09:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-471001",
    "user": "slelievre"
}
```

I think we could close this as invalid indeed.

Thanks for your careful observation though.

Set to positive review if you agree, adding
your name in the "reviewer" field if you want to.



---

archive/issue_comments_471002.json:
```json
{
    "body": "Thanks slelievre.\n\nI added my name in the \"reviewer\" field.",
    "created_at": "2022-02-01T09:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-471002",
    "user": "@umedoblock"
}
```

Thanks slelievre.

I added my name in the "reviewer" field.



---

archive/issue_comments_471003.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2022-02-01T15:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-471003",
    "user": "chapoton"
}
```

Resolution: invalid



---

archive/issue_comments_471004.json:
```json
{
    "body": "Thanks slelievre.\n\nNext, I'll add my real name to \"Reviewers\".",
    "created_at": "2022-02-13T04:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33031#issuecomment-471004",
    "user": "@umedoblock"
}
```

Thanks slelievre.

Next, I'll add my real name to "Reviewers".
