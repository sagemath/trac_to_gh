# Issue 21398: LatticePoset: Add iterator over isomorphic sublattices

Issue created by migration from https://trac.sagemath.org/ticket/21635

Original creator: jmantysalo

Original creation time: 2016-10-04 08:03:04

CC:  chapoton

This patch will add a function to iterate over isomorphic sublattices; compare to `isomoprhic_subposets_iterator()`.

Implementation is trivial. Better ideas are welcome.


---

Comment by git created at 2016-10-04 08:09:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-10-04 08:09:27

New commits:
----
New commits:


---

Comment by jmantysalo created at 2016-10-04 08:09:27

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-10-07 13:59:34

What happens when this is given a poset which is not a lattice? Should it fail? From looking at the code, it seems like it would start going through and then `sublattice` would be the point of failure. Also, this makes sense for a general poset, so could we move it up to there?


---

Comment by jmantysalo created at 2016-10-07 14:46:10

This (indirectly) calls `self.meet()` and `self.join()`, hence does not make sense to move function to posets.

In this implementation `other` can really be any poset, but if it is not a lattice by structure, the function will return empty list (i.e. instantly raise `StopIteration`). How should this behave?


---

Comment by tscrim created at 2016-10-07 15:03:00

Replying to [comment:6 jmantysalo]:
> This (indirectly) calls `self.meet()` and `self.join()`, hence does not make sense to move function to posets.

Ah, yes. I agree.

> In this implementation `other` can really be any poset, but if it is not a lattice by structure, the function will return empty list (i.e. instantly raise `StopIteration`). How should this behave?

You should add an example showing this happens and perhaps change the input to say `- ``other`` --  finite poset`.

One other little detail, remove the period in the `.. SEEALSO::` blocks.


---

Comment by git created at 2016-10-07 17:03:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-10-07 17:06:30

I thinked slightly more about this. We can always loose restrictions from a lattice to a poset, and so this code wants exactly lattices. It may also help if I try to invent some better way to list isomorphic sublattices.


---

Comment by jmantysalo created at 2016-11-11 05:19:08

Just pinging. Is this solution (requiring `other` to be a lattice) OK?


---

Comment by tscrim created at 2016-11-11 14:54:27

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-11-11 14:54:27

This is good with me.


---

Comment by vbraun created at 2016-11-12 23:01:31

Resolution: fixed
