# Issue 21071: implement the magnitude function of a graph

Issue created by migration from https://trac.sagemath.org/ticket/21308

Original creator: chapoton

Original creation time: 2016-08-22 18:16:01

CC:  tscrim jmantysalo darij

the magnitude function is some kind of generalized  Euler characteristic defined for metric spaces

in particular, graphs can be seen as metric spaces with edges of length one.

Let us implement the magnitude function for graphs.


---

Comment by chapoton created at 2016-08-22 18:16:51

branch not yet ready for review
----
New commits:


---

Comment by git created at 2016-08-22 18:20:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-08-22 18:36:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-08-23 07:06:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-08-23 07:17:24

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-08-23 08:00:36

Never heard about this before... Anyways, at https://www.math.uni-bielefeld.de/documenta/vol-18/27.pdf p. 875 there is an example of magnitude function for 2+3 complete bipartite graph. It seems to go to value `5` when `t` grows. However


```
sage: g = graphs.CompleteBipartiteGraph(3, 2)
sage: m = g.magnitude_function()
sage: m(4).n(20)
0.14839
sage: m(10).n(20)
0.029694
```


I suppose that I understood something wrong.


---

Comment by chapoton created at 2016-08-23 08:03:42

What is pictured page 875 is the function "magnitude in the variable t"
defined by replacing q by exp(-t)

Saying that the limit of that when t tends to +infinity is the cardinality, is the same
as saying that the value of the fraction at q=0 is the cardinality.


---

Comment by jmantysalo created at 2016-08-23 08:35:32

OK then. I would write "substitution `q = e^{-t}` to obtain" instead of "substitution `q = exp(-t)` to obtain", but not that big thing.

If I understand this correctly, it is much faster to compute by first substituting `t` and then inverting the resulting numerical matrix --- assuming the user wants only few values. However, this implementation is propably what the user wants.

Tests passed, documentation builds etc, so I mark this as positive review.


---

Comment by jmantysalo created at 2016-08-23 08:35:32

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-08-25 21:45:46

Resolution: fixed
