# Issue 24899: Add monomial basis to FQSym

archive/issues_024899.json:
```json
{
    "body": "CC:  sage-combinat darij alauve zabrocki saliola amypang\n\nKeywords: IMA coding sprint, CHAs, permutations\n\nThe monomial basis of Aguiar and Sottile (see 1.3 in \u200bhttp://www.math.tamu.edu/~sottile/research/pdf/SSym.pdf ; the formula (1.13) is most important, and triangularity should do the rest, if we make sure that the order is right).\n\nIssue created by migration from https://trac.sagemath.org/ticket/25136\n\n",
    "created_at": "2018-04-10T15:31:35Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Add monomial basis to FQSym",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24899",
    "user": "tscrim"
}
```
CC:  sage-combinat darij alauve zabrocki saliola amypang

Keywords: IMA coding sprint, CHAs, permutations

The monomial basis of Aguiar and Sottile (see 1.3 in â€‹http://www.math.tamu.edu/~sottile/research/pdf/SSym.pdf ; the formula (1.13) is most important, and triangularity should do the rest, if we make sure that the order is right).

Issue created by migration from https://trac.sagemath.org/ticket/25136





---

archive/issue_comments_350048.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-04-11T16:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350048",
    "user": "darij"
}
```

New commits:



---

archive/issue_comments_350049.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-04-11T23:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350049",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_350050.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-11T23:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350050",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350051.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-04-11T23:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350051",
    "user": "@darijgr"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_350052.json:
```json
{
    "body": "There it is. (I'm Darij, logging in through github.)",
    "created_at": "2018-04-11T23:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350052",
    "user": "@darijgr"
}
```

There it is. (I'm Darij, logging in through github.)



---

archive/issue_comments_350053.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-11T23:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350053",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350054.json:
```json
{
    "body": "PS. Since the branch has become rather tortuous, here are all the commits that need reviewing:\n\nhttps://git.sagemath.org/sage.git/commit/?id=7dd85ffbc88a285b4057be6e8ba482715067e85e\n\nhttps://git.sagemath.org/sage.git/commit/?id=faad4617d3a0cd44f489e0183ad0ce32f0471036\n\nhttps://git.sagemath.org/sage.git/commit/?id=78a4253e73accdc58060e7f20ac77a1027ce2db1\n\nhttps://git.sagemath.org/sage.git/commit/?id=ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39",
    "created_at": "2018-04-12T01:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350054",
    "user": "@darijgr"
}
```

PS. Since the branch has become rather tortuous, here are all the commits that need reviewing:

https://git.sagemath.org/sage.git/commit/?id=7dd85ffbc88a285b4057be6e8ba482715067e85e

https://git.sagemath.org/sage.git/commit/?id=faad4617d3a0cd44f489e0183ad0ce32f0471036

https://git.sagemath.org/sage.git/commit/?id=78a4253e73accdc58060e7f20ac77a1027ce2db1

https://git.sagemath.org/sage.git/commit/?id=ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39



---

archive/issue_comments_350055.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-12T15:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350055",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350056.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-12T15:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350056",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350057.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-12T20:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350057",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350058.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-12T20:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350058",
    "user": "@darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_350059.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:",
    "created_at": "2018-05-10T07:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350059",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:



---

archive/issue_comments_350060.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-05-10T07:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350060",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_350061.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-10T07:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350061",
    "user": "@darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_350062.json:
```json
{
    "body": "Trivial rebase over one of the dependencies.",
    "created_at": "2018-05-10T07:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350062",
    "user": "@darijgr"
}
```

Trivial rebase over one of the dependencies.



---

archive/issue_comments_350063.json:
```json
{
    "body": "wake up patchbots",
    "created_at": "2018-05-15T23:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350063",
    "user": "@darijgr"
}
```

wake up patchbots



---

archive/issue_comments_350064.json:
```json
{
    "body": "\n```\nFile \"src/sage/combinat/ncsym/bases.py\", line 640, in sage.combinat.ncsym.bases.NCSymBases.ElementMethods.to_wqsym\nFailed example:\n    (4*p[[1,3],[2]]-p[[1]]).to_wqsym()\nExpected:\n    4*M[{1, 2, 3}] + 4*M[{2}, {1, 3}] + 4*M[{1, 3}, {2}] - M[{1}]\nGot:\n    4*M[{2}, {1, 3}] - M[{1}] + 4*M[{1, 2, 3}] + 4*M[{1, 3}, {2}]\n```\n\nCan't reproduce this one. But it's from a few versions ago, so maybe it's fixed now.",
    "created_at": "2018-05-16T11:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350064",
    "user": "@darijgr"
}
```


```
File "src/sage/combinat/ncsym/bases.py", line 640, in sage.combinat.ncsym.bases.NCSymBases.ElementMethods.to_wqsym
Failed example:
    (4*p[[1,3],[2]]-p[[1]]).to_wqsym()
Expected:
    4*M[{1, 2, 3}] + 4*M[{2}, {1, 3}] + 4*M[{1, 3}, {2}] - M[{1}]
Got:
    4*M[{2}, {1, 3}] - M[{1}] + 4*M[{1, 2, 3}] + 4*M[{1, 3}, {2}]
```

Can't reproduce this one. But it's from a few versions ago, so maybe it's fixed now.



---

archive/issue_comments_350065.json:
```json
{
    "body": "The last patchbot is happy now, so I think this is ready to go.",
    "created_at": "2018-05-17T21:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350065",
    "user": "@darijgr"
}
```

The last patchbot is happy now, so I think this is ready to go.



---

archive/issue_comments_350066.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-22T06:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350066",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_350067.json:
```json
{
    "body": "FQSYM doctests now take way too long..",
    "created_at": "2018-06-11T19:05:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350067",
    "user": "chapoton"
}
```

FQSYM doctests now take way too long..



---

archive/issue_comments_350068.json:
```json
{
    "body": "Are they still taking too long if you pull #25326 as well? One of the things I did in #25326 was optimizing FQSym, particularly the M basis.\n\n(NB: I don't know how long doctests *should* take on Cygwin, so I have no way to tell if I'm doing things right.)",
    "created_at": "2018-06-11T19:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24899#issuecomment-350068",
    "user": "@darijgr"
}
```

Are they still taking too long if you pull #25326 as well? One of the things I did in #25326 was optimizing FQSym, particularly the M basis.

(NB: I don't know how long doctests *should* take on Cygwin, so I have no way to tell if I'm doing things right.)
