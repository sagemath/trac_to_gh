# Issue 10300: load does not recognize https urls

Issue created by migration from Trac.

Original creator: jason

Original creation time: 2010-11-20 22:20:56

Assignee: jason

Keywords: beginner

load currently only checks for remote http:// urls, not https:// urls.  This should be a very simple fix in `devel/sage/sage/misc/preparser.py`, line 1491 or so.


---

Comment by ryan created at 2011-01-17 16:07:58

Changing status from new to needs_review.


---

Comment by ryan created at 2011-01-17 16:07:58

anyone have an https:// url that we could use as test?


---

Comment by jason created at 2011-01-17 16:39:47

I discovered this problem when trying to load a library straight from github: https://github.com/jasongrout/minimum_rank

This worksheet loads the library and does some computations.  With your patch, you should be able to change the "http" in the first cell to "https" and everything should work fine:

http://sage.cs.drake.edu/home/pub/66/


---

Comment by ryan created at 2011-01-17 17:10:19

added doctest


---

Comment by jason created at 2011-01-17 19:10:16

Oops.  Any doctest that depends on the internet should be followed by "# optional - internet " like the doctest above it.

In the doctesting framework, that ensures that the doctest is not run unless you have internet available (and you specifically request the internet doctests to be run).


---

Comment by alain054 created at 2011-02-08 10:29:02

Apply only this patch


---

Attachment

This patch fixes the previous comment.


---

Comment by jason created at 2011-02-08 17:05:43

Changing status from needs_review to positive_review.


---

Comment by jason created at 2011-02-08 17:05:43

Looks good!  Thanks!

I verified that the doctests pass, but do not access the internet unless the right optional switches are specified.

I just had someone today get the error that this patch fixes, so I'm hoping this will go in soon.


---

Comment by jason created at 2011-02-08 17:06:40

I deleted the first patch since the second patch supersedes it.  The only change between the two patches was the addition of an #optional - internet comment after the doctest.


---

Comment by jason created at 2011-02-08 17:07:52

One more note: I didn't know startswith could accept tuples.  Thanks for helping me learn about Python.


---

Comment by jdemeyer created at 2011-02-16 08:50:04

Resolution: fixed
