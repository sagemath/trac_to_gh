# Issue 16049: Allow k=None in MOLS/TD/OA

archive/issues_016049.json:
```json
{
    "body": "CC:  @videlec @KPanComputes\n\nImplements the feature we dropped in #15310, i.e. ask Sage to give us the best result it can compute.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16286\n\n",
    "created_at": "2014-05-04T07:10:48Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Allow k=None in MOLS/TD/OA",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16049",
    "user": "https://github.com/nathanncohen"
}
```
CC:  @videlec @KPanComputes

Implements the feature we dropped in #15310, i.e. ask Sage to give us the best result it can compute.

Issue created by migration from https://trac.sagemath.org/ticket/16286





---

archive/issue_comments_208603.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-04T09:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208603",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_208604.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2014-05-04T09:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_208605.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-04T16:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208606.json:
```json
{
    "body": "Still updating ...",
    "created_at": "2014-05-04T16:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208606",
    "user": "https://github.com/nathanncohen"
}
```

Still updating ...



---

archive/issue_comments_208607.json:
```json
{
    "body": "adding keywords...",
    "created_at": "2014-05-04T17:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208607",
    "user": "https://github.com/videlec"
}
```

adding keywords...



---

archive/issue_comments_208608.json:
```json
{
    "body": "Changing keywords from \"\" to \"design, mols, orthogonal array\".",
    "created_at": "2014-05-04T17:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208608",
    "user": "https://github.com/videlec"
}
```

Changing keywords from "" to "design, mols, orthogonal array".



---

archive/issue_comments_208609.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-04T18:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208609",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_208610.json:
```json
{
    "body": "Hi Nathann,\n\nI run through the code and mainly changed some documentation. It is available at u/vdelecroix/16286 if you want to have a look it and possibly adopt it.\n\nIt becomes crazy: the functions return either a design , a troolean or an integer depending on the input... I added an OUTPUT section to make it clearer (only in OA/TD). Moreover I am not sure I like the NOTE inside the INPUT. On the one hand, it is unreadable in the console. On the other hand, in the html output the NOTE has a gray background and makes your eyes focus on it... but it is by far not the most important thing.\n\nWe forgot two `ValueError` that should be `EmptySetError` inside the MOLS constructor. I changed it.\n\nInside the TESTS of transversal design, you modified the loop to not test the case where the function should return `True`. As the loop is designed to **test** if it the case I did the change backward. Nevertheless, I added a line that checks that we got the correct value when `k=None`.\n\nI added more examples and hope that what does the function looks clearer when somebody reads the documentation. In particular, most of the TESTS section are now useless and I just removed them.\n\nVincent",
    "created_at": "2014-05-04T18:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208610",
    "user": "https://github.com/videlec"
}
```

Hi Nathann,

I run through the code and mainly changed some documentation. It is available at u/vdelecroix/16286 if you want to have a look it and possibly adopt it.

It becomes crazy: the functions return either a design , a troolean or an integer depending on the input... I added an OUTPUT section to make it clearer (only in OA/TD). Moreover I am not sure I like the NOTE inside the INPUT. On the one hand, it is unreadable in the console. On the other hand, in the html output the NOTE has a gray background and makes your eyes focus on it... but it is by far not the most important thing.

We forgot two `ValueError` that should be `EmptySetError` inside the MOLS constructor. I changed it.

Inside the TESTS of transversal design, you modified the loop to not test the case where the function should return `True`. As the loop is designed to **test** if it the case I did the change backward. Nevertheless, I added a line that checks that we got the correct value when `k=None`.

I added more examples and hope that what does the function looks clearer when somebody reads the documentation. In particular, most of the TESTS section are now useless and I just removed them.

Vincent



---

archive/issue_comments_208611.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-05-04T19:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208611",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_208612.json:
```json
{
    "body": "Yo !\n\n> I run through the code and mainly changed some documentation. It is available at u/vdelecroix/16286 if you want to have a look it and possibly adopt it.\n\nYep, no problem.\n\n> It becomes crazy: the functions return either a design , a troolean or an integer depending on the input... \n\nTrue, but I think that without reading the doc you can guess what you will find, or at least correctly interpret the output. So well, doesn't matter ;-)\n\nBesides, with the doctest you quickly see what it means.\n\n> I added an OUTPUT section to make it clearer (only in OA/TD). Moreover I am not sure I like the NOTE inside the INPUT. On the one hand, it is unreadable in the console. On the other hand, in the html output the NOTE has a gray background and makes your eyes focus on it... but it is by far not the most important thing.\n\nAhahaahah. Well, to be honest I just want all these patches to be merged, then we will clean stuff. Each time you add a doctest I have to rewrite it one thousand times because the new constructions break it. It's over-documented and over-tested at the moment I believe, but it is not a problem. We have time.\n\n> We forgot two `ValueError` that should be `EmptySetError` inside the MOLS constructor. I changed it.\n\nThanks ! I am still not used to those `EmptySetError`\n\n> Inside the TESTS of transversal design, you modified the loop to not test the case where the function should return `True`. As the loop is designed to **test** if it the case I did the change backward. Nevertheless, I added a line that checks that we got the correct value when `k=None`.\n\nYou are testing a loop ? Yes of course, everything can fail.\n\n> I added more examples and hope that what does the function looks clearer when somebody reads the documentation. In particular, most of the TESTS section are now useless and I just removed them.\n\nOKayyyyyyyy. Well for me it is good to go, too. I am eager to see it stabilize, right now I have so many versions of this code in my head that I barely know what is already there and what is left to implement.\n\nThanks !\n\nNathann\n----\nNew commits:",
    "created_at": "2014-05-04T19:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208612",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> I run through the code and mainly changed some documentation. It is available at u/vdelecroix/16286 if you want to have a look it and possibly adopt it.

Yep, no problem.

> It becomes crazy: the functions return either a design , a troolean or an integer depending on the input... 

True, but I think that without reading the doc you can guess what you will find, or at least correctly interpret the output. So well, doesn't matter ;-)

Besides, with the doctest you quickly see what it means.

> I added an OUTPUT section to make it clearer (only in OA/TD). Moreover I am not sure I like the NOTE inside the INPUT. On the one hand, it is unreadable in the console. On the other hand, in the html output the NOTE has a gray background and makes your eyes focus on it... but it is by far not the most important thing.

Ahahaahah. Well, to be honest I just want all these patches to be merged, then we will clean stuff. Each time you add a doctest I have to rewrite it one thousand times because the new constructions break it. It's over-documented and over-tested at the moment I believe, but it is not a problem. We have time.

> We forgot two `ValueError` that should be `EmptySetError` inside the MOLS constructor. I changed it.

Thanks ! I am still not used to those `EmptySetError`

> Inside the TESTS of transversal design, you modified the loop to not test the case where the function should return `True`. As the loop is designed to **test** if it the case I did the change backward. Nevertheless, I added a line that checks that we got the correct value when `k=None`.

You are testing a loop ? Yes of course, everything can fail.

> I added more examples and hope that what does the function looks clearer when somebody reads the documentation. In particular, most of the TESTS section are now useless and I just removed them.

OKayyyyyyyy. Well for me it is good to go, too. I am eager to see it stabilize, right now I have so many versions of this code in my head that I barely know what is already there and what is left to implement.

Thanks !

Nathann
----
New commits:



---

archive/issue_events_048010.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16049#event-48010"
}
```



---

archive/issue_comments_208613.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2014-05-08T08:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208613",
    "user": "https://github.com/nathanncohen"
}
```

Last 10 new commits:



---

archive/issue_events_048011.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-13T10:54:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16049#event-48011"
}
```



---

archive/issue_comments_208614.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-13T10:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16049",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16049#issuecomment-208614",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
