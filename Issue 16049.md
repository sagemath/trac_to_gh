# Issue 16049: Allow k=None in MOLS/TD/OA

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2014-05-04 07:10:48

CC:  vdelecroix knsam

Implements the feature we dropped in #15310, i.e. ask Sage to give us the best result it can compute.


---

Comment by ncohen created at 2014-05-04 09:07:47

Changing status from new to needs_review.


---

Comment by git created at 2014-05-04 09:07:58

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2014-05-04 16:31:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-05-04 16:31:55

Still updating ...


---

Comment by vdelecroix created at 2014-05-04 17:25:17

adding keywords...


---

Comment by vdelecroix created at 2014-05-04 17:25:17

Changing keywords from "" to "design, mols, orthogonal array".


---

Comment by vdelecroix created at 2014-05-04 18:55:52

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2014-05-04 18:55:52

Hi Nathann,

I run through the code and mainly changed some documentation. It is available at u/vdelecroix/16286 if you want to have a look it and possibly adopt it.

It becomes crazy: the functions return either a design , a troolean or an integer depending on the input... I added an OUTPUT section to make it clearer (only in OA/TD). Moreover I am not sure I like the NOTE inside the INPUT. On the one hand, it is unreadable in the console. On the other hand, in the html output the NOTE has a gray background and makes your eyes focus on it... but it is by far not the most important thing.

We forgot two `ValueError` that should be `EmptySetError` inside the MOLS constructor. I changed it.

Inside the TESTS of transversal design, you modified the loop to not test the case where the function should return `True`. As the loop is designed to *test* if it the case I did the change backward. Nevertheless, I added a line that checks that we got the correct value when `k=None`.

I added more examples and hope that what does the function looks clearer when somebody reads the documentation. In particular, most of the TESTS section are now useless and I just removed them.

Vincent


---

Comment by ncohen created at 2014-05-04 19:20:23

Changing status from needs_work to positive_review.


---

Comment by ncohen created at 2014-05-04 19:20:23

Yo !

> I run through the code and mainly changed some documentation. It is available at u/vdelecroix/16286 if you want to have a look it and possibly adopt it.

Yep, no problem.

> It becomes crazy: the functions return either a design , a troolean or an integer depending on the input... 

True, but I think that without reading the doc you can guess what you will find, or at least correctly interpret the output. So well, doesn't matter ;-)

Besides, with the doctest you quickly see what it means.

> I added an OUTPUT section to make it clearer (only in OA/TD). Moreover I am not sure I like the NOTE inside the INPUT. On the one hand, it is unreadable in the console. On the other hand, in the html output the NOTE has a gray background and makes your eyes focus on it... but it is by far not the most important thing.

Ahahaahah. Well, to be honest I just want all these patches to be merged, then we will clean stuff. Each time you add a doctest I have to rewrite it one thousand times because the new constructions break it. It's over-documented and over-tested at the moment I believe, but it is not a problem. We have time.

> We forgot two `ValueError` that should be `EmptySetError` inside the MOLS constructor. I changed it.

Thanks ! I am still not used to those `EmptySetError`

> Inside the TESTS of transversal design, you modified the loop to not test the case where the function should return `True`. As the loop is designed to *test* if it the case I did the change backward. Nevertheless, I added a line that checks that we got the correct value when `k=None`.

You are testing a loop ? Yes of course, everything can fail.

> I added more examples and hope that what does the function looks clearer when somebody reads the documentation. In particular, most of the TESTS section are now useless and I just removed them.

OKayyyyyyyy. Well for me it is good to go, too. I am eager to see it stabilize, right now I have so many versions of this code in my head that I barely know what is already there and what is left to implement.

Thanks !

Nathann
----
New commits:


---

Comment by ncohen created at 2014-05-08 08:36:21

Last 10 new commits:


---

Comment by vbraun created at 2014-05-13 10:54:52

Resolution: fixed
