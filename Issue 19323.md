# Issue 19323: Mpir broken with SAGE_FAT_BINARY

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2015-11-09 13:53:19

CC:  fbissey

Apparently our binary build doesn't have a portable MPIR: https://groups.google.com/d/msg/sage-support/7nqyDJt2aBM/fXr4YiyyAwAJ

The mpir log also has some suspicious output, but of course we never stop for errors:

```
$ SAGE_FAT_BINARY=yes sage -f mpir
[...]
gcc version 4.9.2 (GCC) 
****************************************************
mv: rename mpir-2.7.0 to src/mpir-2.7.0: No such file or directory
Applying patches to upstream sources...
patching file gmp-impl.h
patching file tests/mpz/Makefile.am
patching file tests/mpz/Makefile.in
patching file tests/mpz/t-19280.c
Building a 64-bit version of MPIR, which is the default.
Building MPIR with the C++ interface and (also) static libraries.
** Building a generic binary (not assuming any specific CPU) **
./spkg-install: line 236: ./configfsf.guess: Permission denied
------------------------------------------------------------------------
Configuring MPIR with empty CFLAGS to determine the defaults:
```



---

Comment by vbraun created at 2015-11-09 14:31:02

Changing status from new to needs_review.


---

Comment by vbraun created at 2015-11-09 14:31:02

New commits:


---

Comment by git created at 2015-11-09 14:51:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by fbissey created at 2015-11-09 18:20:43

I see, so `configfsf.guess` is not executable so you run it with `bash`. But defining `MACHINE_TYPE_MPIR` when you don't use it (apart from informational purpose seems over the top. 

Nevertheless, it should fix the problem.


---

Comment by fbissey created at 2015-11-09 18:20:43

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-11-10 14:00:30

Resolution: fixed
