# Issue 32201: Restore the "backwards" option for graph dot2tex

Issue created by migration from https://trac.sagemath.org/ticket/32438

Original creator: tscrim

Original creation time: 2021-08-30 22:25:04

CC:  sage-combinat slabbe chapoton aschilling bump nthiery bsalisbury1

Keywords: dot2tex

This will support different behavior than `dir='back'`:

- `backwards=True` will be a layout-only indication that a particular arrow should be oriented in the opposite direction compared to other arrows.
- `dir='back'` will have the arrows pointing in the backwards direction.


---

Comment by tscrim created at 2021-08-30 22:43:59

Changing status from new to needs_review.


---

Comment by tscrim created at 2021-08-30 22:43:59

New commits:


---

Comment by tscrim created at 2021-09-08 01:04:45

Green bot (essentially).


---

Comment by chapoton created at 2021-09-08 05:50:26

I would prefer that Sébastien gives a positive review, if possible.


---

Comment by slabbe created at 2021-09-08 11:58:32

Yes, please, let me take a look. I was overloaded by the "rentrée". Next days will be better, I check this tomorrow on Thursday.


---

Comment by tscrim created at 2021-09-08 22:02:10

No problem. There isn't a big rush on this. I would appreciate it if this got into 9.5. `:)`


---

Comment by slabbe created at 2021-09-09 14:03:06

I still haven't had the opportunity the try the branch. My last update of sage broke and I need to take a look. But looking at the proposed branch, I have one comment:

the change

```diff
+        - ``"backward"`` (boolean)
```

needs documentation. Maybe for an English speaker it is clear, but to me, it is difficult to understand the difference between `dir='back'` and `backward=True`. That difference needs to be explained in words here. Secondly, it should explicit what it does (that is, `u,v=v,u` and etc.). Also, it should be explained that it is something that will work only when `prog='dot'` and not for the other Graphviz programs like neato, fdp, circo, etc.

This is why I still think it is kind of a hack but I don't disagree to put it back.


---

Comment by slabbe created at 2021-09-09 14:03:06

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-09-10 02:06:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-09-10 02:11:30

I added a bit more to the example to indicate more clearly what changes, which is in line with the rest of the documentation for that section. Everything within that the code does works for all such programs (although it may or may not have an impact, but that is irrelevant).

It is definitely not a hack as the layout order matters (for at least one program), and we have mathematical information attached to the digraph that would be wrong if we change the arrows.


---

Comment by tscrim created at 2021-09-14 23:47:37

Changing status from needs_work to needs_review.


---

Comment by git created at 2021-09-30 09:17:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slabbe created at 2021-09-30 09:21:27

I added some documentation to the 'backward' option. I give a positive review to the commits made before mine. I let Travis change the status to positive review if he agrees with my commit.


---

Comment by tscrim created at 2021-09-30 09:36:51

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2021-09-30 09:36:51

Let's get this in.


---

Comment by vbraun created at 2021-10-09 11:09:45

Resolution: fixed
