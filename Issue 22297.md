# Issue 22297: Add "long time" to doctests in the geometry component

Issue created by migration from Trac.

Original creator: jipilab

Original creation time: 2017-03-06 18:22:33

CC:  chapoton vdelecroix

Keywords: days84, doctests

Making tests in the files in the geometry currently takes a long time.

We should add the markup `long time` next to the tests that take too long.


---

Comment by jipilab created at 2017-03-06 22:34:00

New commits:


---

Comment by jipilab created at 2017-03-06 22:34:00

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-03-07 17:18:58

This change is bad and causing the doctest failure:

```diff
diff --git a/src/sage/geometry/polyhedron/plot.py b/src/sage/geometry/polyhedron/plot.py
index a50eb16..4540377 100644
--- a/src/sage/geometry/polyhedron/plot.py
+++ b/src/sage/geometry/polyhedron/plot.py
`@``@` -88,7 +88,8 `@``@` def render_3d(projection, *args, **kwds):
         Graphics3d Object
         sage: Polyhedron(vertices=[This is the Trac macro *1,1,1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,1,1-macro), lines=[[0,1,0],[0,0,1]]).plot()                  # R^2 in R^3
         Graphics3d Object
-        sage: Polyhedron(rays=[[0,1,0],[0,0,1]], lines=[This is the Trac macro *1,0,0* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,0,0-macro)).plot()                      # quadrant wedge in R^2
+        sage: Polyhedron(rays=[[0,1,0],[0,0,1]], lines=[This is the Trac macro *1,0,0* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,0,0-macro)).plot()
+        # long time quadrant wedge in R^2
         Graphics3d Object
         sage: Polyhedron(rays=[This is the Trac macro *0,1,0* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#0,1,0-macro), lines=[This is the Trac macro *1,0,0* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,0,0-macro)).plot()                              # upper half plane in R^3
         Graphics3d Object
```

You need the `# long time` on the same line, otherwise it is treated as output (see the patchbot).


---

Comment by jdemeyer created at 2017-03-08 10:54:26

Changing status from needs_review to needs_work.


---

Comment by jipilab created at 2017-03-08 22:08:42

> You need the `# long time` on the same line, otherwise it is treated as output (see the patchbot).

Oh! Got it! Thanks for the pointer!

JP


---

Comment by git created at 2017-03-08 22:12:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jipilab created at 2017-03-08 22:39:04

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2017-03-08 23:51:28

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-03-08 23:51:28

LGTM now. Thanks.


---

Comment by vbraun created at 2017-03-10 23:12:51

Resolution: fixed
