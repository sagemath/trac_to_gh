# Issue 20383: Futurize sage/all.py

Issue created by migration from https://trac.sagemath.org/ticket/20620

Original creator: jdemeyer

Original creation time: 2016-05-18 09:20:13

CC:  chapoton




---

Comment by jdemeyer created at 2016-05-18 10:37:16

New commits:


---

Comment by jdemeyer created at 2016-05-18 10:37:16

Changing status from new to needs_review.


---

Comment by chapoton created at 2016-05-18 11:27:11

May I dare ask for more explanations ? Do you expect this to work and pass doctests ?

By the way, your changes to the license banners are not pep8 compliant.


---

Comment by chapoton created at 2016-05-18 14:43:25

Indeed, it seems to work. But then, what happened in ticket 20504 that forced me to remove the future import ?? The only difference I see is the `del` after the import.

http://patchbot.sagemath.org/log/20504/Ubuntu/14.04/x86_64/3.13.0-77-generic/poseidon/2016-04-26%2021:49:51?short


---

Comment by jdemeyer created at 2016-05-18 21:19:27

Replying to [comment:5 chapoton]:
> The only difference I see is the `del` after the import.

That `del` is very important since it won't cause doctests to pick up the `__future__` imports.
The doctesting framework checks the imports from `__future__` and applies those when testing. Because we do `from sage.all import *`, the `__future__` imports from `sage.all` would appear in the globals. But this is not the case if we delete those variables.


---

Comment by jdemeyer created at 2016-05-18 21:20:57

Replying to [comment:4 chapoton]:
> May I dare ask for more explanations ? Do you expect this to work and pass doctests ?

> By the way, your changes to the license banners are not pep8 compliant.
I'm just using the standard license formatting from http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files


---

Comment by chapoton created at 2016-05-19 06:06:59

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2016-05-19 06:06:59

ok, then. Thanks for the explanations.

My aim is now therefore to remove the del for the print_function.

Pep8 now apparently requires that the comment sign `#` be followed by a space.


---

Comment by jdemeyer created at 2016-05-19 06:23:33

Replying to [comment:8 chapoton]:
> Pep8 now apparently requires that the comment sign `#` be followed by a space.

pep8 never _requires_ anything, it's merely a recommendation.


---

Comment by vbraun created at 2016-05-21 16:40:39

Resolution: fixed
