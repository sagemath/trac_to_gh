# Issue 30494: Replace use of build/bin/sage-python23 by just python3

Issue created by migration from https://trac.sagemath.org/ticket/30731

Original creator: mkoeppe

Original creation time: 2020-10-05 23:53:10

CC:  @tobiasdiez dimpase jhpalmieri

After the removal of python2 support, this script always calls `$SAGE_LOCAL/bin/python3`.  

This simplification will help with implementing #29013.



---

Comment by mkoeppe created at 2020-11-19 17:29:33

https://trac.sagemath.org/ticket/30899#comment:55 explains why replacing it with plain `python3` is correct.


---

Comment by @tobiasdiez created at 2020-11-25 19:39:14

New commits:


---

Comment by @tobiasdiez created at 2020-11-25 19:39:14

Set assignee to mkoeppe.


---

Comment by git created at 2020-12-18 22:37:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2020-12-18 22:38:46

I've now replaced all instances of sage-python23, and deleted the script itself. Ready for review.


---

Comment by @tobiasdiez created at 2020-12-18 22:38:46

Changing status from new to needs_review.


---

Comment by git created at 2020-12-19 03:29:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-12-19 03:30:21

I've revised the documentation a bit.


---

Comment by @tobiasdiez created at 2020-12-19 08:51:02

Thanks, LGTM!


---

Comment by mkoeppe created at 2020-12-21 01:58:11

This works well for me, but as this ticket removes the safety check that would stop a python package that forgot to include `$(PYTHON)` in `dependencies` from picking up the wrong `python3` from somewhere else in the path, other developers should take a look if this is acceptable to them


---

Comment by @tobiasdiez created at 2021-01-06 12:08:18

I would appreciate if this ticket could be reviewed. Thanks!


---

Comment by jhpalmieri created at 2021-01-06 18:43:04

In the [installation guide](https://doc.sagemath.org/html/en/installation/source.html#command-line-tools), do we need to remove the option to use Python 2.7? Or is that not related to this ticket?


---

Comment by mkoeppe created at 2021-01-06 21:44:22

The minimal build requirements listed there are regarding `sage-bootstrap-python`, which is unrelated to this ticket.


---

Comment by mkoeppe created at 2021-01-06 22:53:04

Update of this line of the installation guide now in #31192.


---

Comment by jhpalmieri created at 2021-01-07 23:52:53

In principle it looks fine to me. How widely has it been tested?

- with Sage's Python 3?
- on systems with Python 3 (linux, OS X, OS X + homebrew)?
- on systems with only Python 2? (Should not be an issue, but should be tested anyway.)
- are there other configurations that need testing?


---

Comment by @tobiasdiez created at 2021-01-08 10:56:58

I've tested it on Ubunut 20.10 (via WSL) and python 3 system.


---

Comment by jhpalmieri created at 2021-01-14 00:20:33

Unfortunately I am currently unable to build Sage on my OS X Catalina machine using homebrew's Python, and this makes it hard for me to test this. As I said before, in principle it looks fine, so if others have tested it on a variety of platforms, I would be happy with a positive review.


---

Comment by dimpase created at 2021-01-15 14:12:20

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2021-01-15 14:12:20

lgtm


---

Comment by @tobiasdiez created at 2021-01-15 14:22:50

Thanks!


---

Comment by vbraun created at 2021-01-24 10:36:51

Resolution: fixed
