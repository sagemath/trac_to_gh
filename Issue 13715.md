# Issue 13715: Bug in Graph() when input is a weighted matrix

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2013-01-07 09:30:31

Assignee: jason, ncohen, rlm

CC:  chapoton

As reported in [1], the following code produces an exception :


```
sage: B = {0:{1:2,2:5,3:4},1:{2:2,4:7},2:{3:1,4:4,5:3},3:{5:4},4:{5:1,6:5},5:{6:7}} 
sage: grafo3 = Graph(B,weighted=True) 
sage: matad = grafo3.weighted_adjacency_matrix() 
sage: grafo4 = Graph(matad,format = "adjacency_matrix", weighted=True) 
sage: grafo4.shortest_path(0,6,by_weight=True)
```


This, because Sage has some problems understanding that the graph is not a multigraph...

[1] https://groups.google.com/forum/?fromgroups=#!topic/sage-support/rIpMl1u7VXE


---

Comment by ncohen created at 2013-01-07 09:41:00

Changing status from new to needs_review.


---

Comment by chapoton created at 2013-01-23 18:05:24

Please correct the failing doctest, otherwise it's ok


---

Attachment


---

Comment by ncohen created at 2013-01-23 18:22:34

Updated !

Nathann


---

Comment by chapoton created at 2013-01-23 22:33:49

ok, let it go. Positive review !


---

Comment by chapoton created at 2013-01-23 22:33:49

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-01-25 13:05:53

Resolution: fixed
