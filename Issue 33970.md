# Issue 33970: Document how to upgrade system packages without breaking Sage

Issue created by migration from https://trac.sagemath.org/ticket/34207

Original creator: mkoeppe

Original creation time: 2022-07-21 18:56:05

CC:  nbruin arojas dimpase

(from https://groups.google.com/g/sage-devel/c/Iz8ZsmQM3Pg/m/CPl9CbHmBgAJ)

Fedora:
- separate, simultaneously installable shared library packages for different soversions, e.g. https://pkgs.org/download/libflint.so.16()(64bit), https://pkgs.org/download/libflint.so.17()(64bit)
- Just don't uninstall what Sage needs https://www.reddit.com/r/Fedora/comments/3pqrv9/dnf_remove_package_keep_dependencies/

Homebrew:
- It does not have separate shared library packages for different soversions
- After upgrades, need to do a full rebuild (`make distclean`), or use `make -j list-broken-packages` from #34203.
