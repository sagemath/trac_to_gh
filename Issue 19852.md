# Issue 19852: arc cosine surprising numeric results

Issue created by migration from https://trac.sagemath.org/ticket/20089

Original creator: rws

Original creation time: 2016-02-21 08:13:57

The default `RR` type of input FP numbers is surprising. If we have complex variables as default, why are floats of type `RR` not `CC`?

```
sage: cos(1.*I)
1.54308063481524
sage: acos(_)
1.00000000000000*I
sage: acos(1.54308063481524)
NaN
sage: acos(CC(1.54308063481524))
0.999999999999997*I
sage: acos(RR(1.54308063481524))
NaN
```

Neither SymPy nor Pari do this: 

```
In [1]: acos(1.543)
Out[1]: 0.999931383282944⋅ⅈ
? acos(1.543)
%1 = 0.99993138328294395810833497263866793658*I
```



---

Comment by jdemeyer created at 2016-02-21 08:36:04

Replying to [ticket:20089 rws]:
> why are floats of type `RR` not `CC`?

Are you suggesting

```
sage: parent(1.0)
Complex Field with 53 bits of precision
```



---

Comment by rws created at 2016-02-21 08:58:11

The alternative would be to return complex in `RR.acos`.


---

Comment by rws created at 2016-02-21 09:13:33

It's also a symptom of inconsistency in `symbolic/pynac.pyx` where we call `RR.function`, i.e. mpfr but also mpmath directly. Do you have a preference? Maybe it's best to use mpmath throughout in `pynac.pyx`.


---

Comment by rws created at 2016-03-05 07:04:59

I have come to a conclusion, and adapted the ticket description.


---

Comment by rws created at 2016-08-03 08:32:14

Changing status from new to needs_review.


---

Comment by rws created at 2016-08-03 08:32:14

Ok, since this is at least consistent with arb behaviour I'll file this as oddity not bug. It would be interesting to know what the big Ms return.


---

Comment by paulmasson created at 2016-09-20 01:29:09

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-01-21 18:03:11

Resolution: invalid
