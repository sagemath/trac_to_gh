# Issue 30808: pip, wheel, setuptools: Make wheels or source archives available in SAGE_SPKG_WHEELS

archive/issues_030808.json:
```json
{
    "body": "CC:  vdelecroix @tobiasdiez jhpalmieri @kliem\n\nFrom #30913:\n\nCurrently, `pip`, `wheel`, and `setuptools` are installed without making wheels available in `SAGE_SPKG_WHEELS`.\n\nIn this ticket, we make wheels (or at least sdists) available in `SAGE_SPKG_WHEELS`.\n\nThis is so that PEP 517 packages such as `pplpy` can be installed themselves even when we don't allow use of PyPI.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31045\n\n",
    "created_at": "2020-12-12T22:33:18Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "title": "pip, wheel, setuptools: Make wheels or source archives available in SAGE_SPKG_WHEELS",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30808",
    "user": "mkoeppe"
}
```
CC:  vdelecroix @tobiasdiez jhpalmieri @kliem

From #30913:

Currently, `pip`, `wheel`, and `setuptools` are installed without making wheels available in `SAGE_SPKG_WHEELS`.

In this ticket, we make wheels (or at least sdists) available in `SAGE_SPKG_WHEELS`.

This is so that PEP 517 packages such as `pplpy` can be installed themselves even when we don't allow use of PyPI.

Issue created by migration from https://trac.sagemath.org/ticket/31045





---

archive/issue_comments_440387.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-23T02:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440387",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_440388.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-01-23T02:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440388",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_440389.json:
```json
{
    "body": "Just out of interest, what is the use case behind \"when we don't allow use of PyPI.\", i.e. why would you want to do this?",
    "created_at": "2021-01-23T10:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440389",
    "user": "@tobiasdiez"
}
```

Just out of interest, what is the use case behind "when we don't allow use of PyPI.", i.e. why would you want to do this?



---

archive/issue_comments_440390.json:
```json
{
    "body": "Mainly it's a way to guarantee a fully functional build using only the given version constraints (in `install-requires` and `pyprojects.toml`).",
    "created_at": "2021-01-23T18:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440390",
    "user": "mkoeppe"
}
```

Mainly it's a way to guarantee a fully functional build using only the given version constraints (in `install-requires` and `pyprojects.toml`).



---

archive/issue_comments_440391.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2021-02-02T18:38:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440391",
    "user": "mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_440392.json:
```json
{
    "body": "Critical for completing the goal of user-defined venvs in Sage 9.3.",
    "created_at": "2021-02-02T18:38:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440392",
    "user": "mkoeppe"
}
```

Critical for completing the goal of user-defined venvs in Sage 9.3.



---

archive/issue_comments_440393.json:
```json
{
    "body": "Expanded the description, needs review",
    "created_at": "2021-02-24T18:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440393",
    "user": "mkoeppe"
}
```

Expanded the description, needs review



---

archive/issue_comments_440394.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-02-26T19:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440394",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_440395.json:
```json
{
    "body": "This looks okay to me.",
    "created_at": "2021-02-26T19:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440395",
    "user": "jhpalmieri"
}
```

This looks okay to me.



---

archive/issue_comments_440396.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-02-26T20:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440396",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_440397.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-07T17:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30808#issuecomment-440397",
    "user": "vbraun"
}
```

Resolution: fixed
