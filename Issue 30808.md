# Issue 30808: pip, wheel, setuptools: Make wheels or source archives available in SAGE_SPKG_WHEELS

Issue created by migration from https://trac.sagemath.org/ticket/31045

Original creator: mkoeppe

Original creation time: 2020-12-12 22:33:18

CC:  vdelecroix @tobiasdiez jhpalmieri @kliem

From #30913:

Currently, `pip`, `wheel`, and `setuptools` are installed without making wheels available in `SAGE_SPKG_WHEELS`.

In this ticket, we make wheels (or at least sdists) available in `SAGE_SPKG_WHEELS`.

This is so that PEP 517 packages such as `pplpy` can be installed themselves even when we don't allow use of PyPI.


---

Comment by mkoeppe created at 2021-01-23 02:04:39

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-01-23 02:04:39

New commits:


---

Comment by @tobiasdiez created at 2021-01-23 10:15:58

Just out of interest, what is the use case behind "when we don't allow use of PyPI.", i.e. why would you want to do this?


---

Comment by mkoeppe created at 2021-01-23 18:31:14

Mainly it's a way to guarantee a fully functional build using only the given version constraints (in `install-requires` and `pyprojects.toml`).


---

Comment by mkoeppe created at 2021-02-02 18:38:50

Changing priority from major to critical.


---

Comment by mkoeppe created at 2021-02-02 18:38:50

Critical for completing the goal of user-defined venvs in Sage 9.3.


---

Comment by mkoeppe created at 2021-02-24 18:34:02

Expanded the description, needs review


---

Comment by jhpalmieri created at 2021-02-26 19:43:03

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2021-02-26 19:43:03

This looks okay to me.


---

Comment by mkoeppe created at 2021-02-26 20:49:29

Thank you!


---

Comment by vbraun created at 2021-03-07 17:06:27

Resolution: fixed
