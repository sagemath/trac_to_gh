# Issue 31325: Patch giac so that libintl from /usr/local does not leak in on macOS

Issue created by migration from https://trac.sagemath.org/ticket/31562

Original creator: mkoeppe

Original creation time: 2021-03-26 01:21:48

CC:  vbraun fbissey dimpase parisse frederichan

Crucial for building binary distributions on systems that have homebrew installed.



---

Attachment


---

Comment by git created at 2021-03-26 01:40:27

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2021-03-26 01:41:07

Changing priority from major to critical.


---

Comment by mkoeppe created at 2021-03-26 01:41:07

Changing status from new to needs_review.


---

Comment by git created at 2021-03-26 02:02:18

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by fbissey created at 2021-03-29 04:34:13

Current upstream release (1.7.0-1) has

```
ALL_LINGUAS="es fr el pt it en zh de"
AM_GNU_GETTEXT
AM_GNU_GETTEXT_VERSION([0.14.5])
dnl for Slowlaris comment next line
dnl AC_CHECK_LIB(intl, main) 
```

Not sure if it meant to be "uncomment for solaris" but upstream has already commented it in the main body. I note, however that it is still checked over again for cygwin when gui is on.


---

Comment by mkoeppe created at 2021-03-29 04:52:43

Thanks! Yes, I have not attempted to make changes to the cygwin code.


---

Comment by mkoeppe created at 2021-03-30 00:45:33

Let's get this in please.


---

Comment by fbissey created at 2021-03-30 00:52:53

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2021-03-30 00:52:53

Looks good as is. Ship it.


---

Comment by mkoeppe created at 2021-03-30 00:58:18

Thanks!


---

Comment by mkoeppe created at 2021-03-30 00:58:18

Changing priority from critical to blocker.


---

Comment by vbraun created at 2021-03-31 23:06:38

Changing priority from blocker to major.


---

Comment by vbraun created at 2021-05-27 20:29:03

Resolution: fixed
