# Issue 19857: xsrange fails with large inputs

Issue created by migration from Trac.

Original creator: dkrenn

Original creation time: 2016-02-22 11:59:46

We have

```
sage: next(xsrange(0, 2^63-2^10+2^9))
...
OverflowError: Python int too large to convert to C long
```

This is because the internally used variable `count` is to large.

FYI,

```
sage: next(xsrange(0, 2^63-2^10+2^9-1))
0
```

works


---

Comment by dkrenn created at 2016-02-22 12:01:31

Replying to [ticket:20094 dkrenn]:
> This is because the internally used variable `count` is to large.

An easy fix would be to bound this variable `count` (currently, it seems to be unlikely that more than `2^63-...` iterations occur...).


---

Comment by jdemeyer created at 2016-02-22 13:27:28

Alternatively: move `xsrange()` to `misc_c` and re-implement it in Cython.


---

Comment by jdemeyer created at 2016-02-22 16:20:03

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-02-22 16:20:03

New commits:


---

Comment by git created at 2016-02-22 17:29:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-02-22 18:29:29

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2016-02-22 19:51:39

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-02-22 20:14:27

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2016-02-22 20:18:29

New commits:


---

Comment by jdemeyer created at 2016-02-22 20:18:29

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2016-02-25 17:21:06

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-02-26 11:20:16

Resolution: fixed
