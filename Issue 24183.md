# Issue 24183: Laurent power series fail unique representation

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2017-12-22 09:27:58


```
sage: L.<q> = LaurentSeriesRing(QQ)
sage: LaurentSeriesRing(QQ, 'q') is L
False
```



---

Comment by vdelecroix created at 2017-12-26 09:42:09

New commits:


---

Comment by vdelecroix created at 2017-12-26 09:42:09

Changing status from new to needs_review.


---

Comment by git created at 2017-12-26 22:23:04

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2017-12-28 14:02:48

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2018-01-02 15:45:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2018-01-02 15:45:46

rebased on 8.2.beta2


---

Comment by tscrim created at 2018-01-02 17:16:25

Since you are going to do the category imports in the `__init__` (which I'm not 100% in agreement with), I would make it in as small as scope as possible:

```diff
         from sage.categories.rings import Rings
         from sage.categories.integral_domains import IntegralDomains
         from sage.categories.fields import Fields
-        from sage.categories.complete_discrete_valuation import (
-                CompleteDiscreteValuationRings, CompleteDiscreteValuationFields)
 
         base_ring = power_series.base_ring()
         if base_ring in Fields():
+            from sage.categories.complete_discrete_valuation import CompleteDiscreteValuationFields
             category = CompleteDiscreteValuationFields()
         elif base_ring in IntegralDomains():
             category = IntegralDomains()
         elif base_ring in Rings().Commutative():
             category = Rings().Commutative()
         else:
             raise ValueError('unrecognized base ring')
```

Also, don't we want to use `names=power_series.variable_names()` in case we (eventually support) have multiple variable names. Otherwise LGTM.


---

Comment by vdelecroix created at 2018-01-02 17:31:38

Replying to [comment:9 tscrim]:
> Since you are going to do the category imports in the `__init__` (which I'm not 100% in agreement with)

Why? I am happy to move them at the module scope if it is a better practice.


---

Comment by tscrim created at 2018-01-02 17:35:22

Replying to [comment:10 vdelecroix]:
> Replying to [comment:9 tscrim]:
> > Since you are going to do the category imports in the `__init__` (which I'm not 100% in agreement with)
> 
> Why? I am happy to move them at the module scope if it is a better practice.

It slows down the construction of the ring.


---

Comment by git created at 2018-01-02 17:39:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2018-01-02 17:45:30

done


---

Comment by tscrim created at 2018-01-02 17:50:13

Thanks. One last little thing: you don't use `CompleteDiscreteValuationRings`.


---

Comment by git created at 2018-01-02 17:56:21

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2018-01-02 17:56:34

Indeed!


---

Comment by tscrim created at 2018-01-02 18:10:58

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-01-02 18:10:58

Thanks.


---

Comment by vbraun created at 2018-01-05 23:56:16

Resolution: fixed
