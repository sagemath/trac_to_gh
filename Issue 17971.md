# Issue 17971: `AlternatingSignMatrices(3, use_monotone_triangles=False)` broken

Issue created by migration from https://trac.sagemath.org/ticket/18208

Original creator: darij

Original creation time: 2015-04-15 16:45:22

CC:  tscrim sage-combinat

Keywords: alternating sign matrix, contretableaux, tableaux

I have added a comment in the sourcecode in #18075, but someone actually should fix this:

(path: root/src/sage/combinat/alternating_sign_matrix.py)

```
    def __iter__(self):
        r"""
        Iterator on the alternating sign matrices of size `n`.

        If defined using ``use_monotone_triangles``, this iterator
        will use the iteration on the monotone triangles. Else, it
        will use the iteration on contre-tableaux.

        TESTS::

            sage: A = AlternatingSignMatrices(4)
            sage: len(list(A))
            42
        """
        if self._umt:
            for t in MonotoneTriangles(self._n):
                yield self.from_monotone_triangle(t)
        else:
            for c in ContreTableaux(self._n):
                yield from_contre_tableau(c)
                # This is broken!
                # sage: A = AlternatingSignMatrices(3, use_monotone_triangles=False)
                # sage: list(A)
                # ---------------------------------------------------------------------------
                # NameError                                 Traceback (most recent call last)
                # ...
                # NameError: global name 'from_contre_tableau' is not defined
                # If this is really obsolete, the else-branch should be
                # removed and the doc modified accordingly.
```



---

Comment by tscrim created at 2015-04-15 20:09:45

I deprecated the `use_monotone_triangles` input to the class, but I also reimplemented the `from_contre_tableau` as a method of the ASM parent class in case one wants to do that construction.
----
New commits:


---

Comment by tscrim created at 2015-04-15 20:09:45

Changing keywords from "alternating sign matrix, contretableaux, tableaux" to "alternating sign matrix, contretableaux, tableaux, sd67".


---

Comment by tscrim created at 2015-04-15 20:09:45

Changing status from new to needs_review.


---

Comment by git created at 2015-04-15 20:35:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-04-15 20:37:41

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2015-04-15 20:37:41

LGTM.


---

Comment by darij created at 2015-04-15 20:38:19

Thanks Travis!


---

Comment by vbraun created at 2015-04-19 01:52:09

Resolution: fixed
