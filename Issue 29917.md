# Issue 29917: cygwin: CI fixes

Issue created by migration from https://trac.sagemath.org/ticket/30154

Original creator: mkoeppe

Original creation time: 2020-07-16 15:30:47

CC:  dimpase embray slelievre @kliem

(from #29929)

- Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:

```
+ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
##[error]Process completed with exit code 1.
```

  So `sage-system-python` needs better checks for the suitability of `python`.

- Use `tar --ignore-failed-read` to work around trouble on cygwin (https://trac.sagemath.org/ticket/25993#comment:107)


---

Comment by mkoeppe created at 2020-12-08 16:26:59

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-12-08 16:26:59

This seems to be much more robust - stage iii used to fail to upload its huge artifact, now it goes through
----
New commits:


---

Comment by @kliem created at 2020-12-08 20:25:32

LGTM.


---

Comment by @kliem created at 2020-12-08 20:25:32

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-12-08 20:47:18

Thank you!


---

Comment by vbraun created at 2020-12-13 20:30:57

Resolution: fixed
