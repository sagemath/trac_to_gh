# Issue 20788: IntegerModRing should coerce (not convert) order

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2016-07-14 16:47:19

CC:  tscrim slelievre @kliem

The following is nonsense:

```
sage: IntegerModRing(Mod(4,5))
Ring of integers modulo 4
```



---

Comment by chapoton created at 2021-09-02 13:06:21

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-09-02 13:06:21

New commits:


---

Comment by git created at 2021-09-02 15:27:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-09-02 18:05:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-09-03 06:07:59

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2021-09-03 08:05:40

green bot, please review


---

Comment by tscrim created at 2021-09-04 20:49:32

This is a problem:

```
sage: ZZ.coerce(4/2)
...
TypeError: no canonical coercion from Rational Field to Integer Ring
```

It is very likely that a user can accidentally have a rational, which looks like an integer, but it is not. Here, I think it should work smoothly for the rational case. We can special case this, but what about if we take a constant polynomial ring over `ZZ` (or over `QQ`)? That case is a lot more unlikely, but still within the realm possibility. I am leaning towards an overall -1 on this change. I don't quite see the argument why conversion is so bad as it defines what can be considered an integer. (E.g., `ZZ.coerce('2')` also doesn't work.)


---

Comment by git created at 2021-09-05 07:35:14

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2021-09-05 07:37:23

Jeroen is probably no longer around to defend his point of view.

Then let us keep only the non-controversial fixes where this was called in the code with non-integer arguments.

I have also pep8-cleaned the file integer_mod_ring


---

Comment by tscrim created at 2021-09-06 06:26:20

That works for me. Thanks.


---

Comment by tscrim created at 2021-09-06 06:26:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-09-19 09:57:55

Resolution: fixed
