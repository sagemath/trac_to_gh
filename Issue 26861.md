# Issue 26861: Fixed wrong number of arguments for string format

Issue created by migration from https://trac.sagemath.org/ticket/27098

Original creator: @damianosSemmle

Original creation time: 2019-01-23 15:40:42

CC:  tscrim

The string format in line 338 of `src/sage/rings/function_field/function_field_valuation.py`
`raise ValueError("there must not be an element of valuation -Infinity in the domain of valuation"%(valuation,))`
was passing an argument but the string didn't have one.
I've amended the string to accept the argument to:
`raise ValueError("there must not be an element of valuation -Infinity in the domain of valuation %r"%(valuation,))`

I work for Semmle and I noticed the bug with our LGTM code analyzer
https://lgtm.com/projects/g/sagemath/sage/snapshot/dist-132890344-1548102310071/files/src/sage/rings/function_field/function_field_valuation.py?sort=name&dir=ASC&mode=heatmap#x394f902069b4c04f:1


---

Attachment


---

Comment by chapoton created at 2019-01-23 18:15:48

Changing status from new to needs_review.


---

Comment by chapoton created at 2019-01-23 18:15:48

to contribute, you must push a git branch to the trac server.
----
New commits:


---

Comment by @damianosSemmle created at 2019-01-24 09:35:25

Hi Frédéric, apologies I'm unfamiliar with the trac server. From clicking on the link of commit `854f2e9` I understand that the suggested changes have been committed by you. Thanks.


---

Comment by chapoton created at 2019-01-24 09:40:39

Yes, that's right. I agree that trac is complicated. Sorry for not being more friendly, but I am very busy. You can try to use the gitlab setting for sagemath (https://gitlab.com/sagemath) to create pull request on trac.


---

Comment by @damianosSemmle created at 2019-01-24 09:42:20

thanks for the info I will do in the future.


---

Comment by chapoton created at 2019-01-25 07:46:59

green bot, please review


---

Comment by tscrim created at 2019-01-25 13:46:06

Changing type from PLEASE CHANGE to defect.


---

Comment by tscrim created at 2019-01-25 13:46:06

LGTM. Thanks.


---

Comment by tscrim created at 2019-01-25 13:46:06

Changing status from needs_review to positive_review.


---

Comment by @damianosSemmle created at 2019-01-25 15:17:23

No problem. You can check for more potential issues at https://lgtm.com/projects/g/sagemath/sage. LGTM can also catch bugs like this automatically with automated code review (https://lgtm.com/help/lgtm/about-automated-code-review). Unfortunately this is currently offered for `GitHub.com`, `Bitbucket` and `GitLab` for the free version of LGTM.


---

Comment by vbraun created at 2019-01-27 10:50:54

Resolution: fixed
