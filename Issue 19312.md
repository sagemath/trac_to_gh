# Issue 19312: Get rid of libtool archives (*.la)

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2015-11-08 16:31:41

CC:  fbissey

* They are a nuisance since they can't contain relative paths. 
* Fedora packaging guide line says "Libtool archives, foo.la files, should not be included"
* the whole idea of Libtool Archives is, nowadays, considered obsolete (https://autotools.io/libtool/lafiles.html)
* Anything that can be done with libtool archives can be done better with pkg-config


---

Comment by vbraun created at 2015-11-08 16:31:49

Changing keywords from "" to "sd70".


---

Comment by vbraun created at 2015-11-08 17:05:05

Francois, any objection?


---

Comment by fbissey created at 2015-11-08 18:05:24

Replying to [comment:2 vbraun]:
> Francois, any objection?

None.


---

Comment by fbissey created at 2015-11-08 21:02:46

I am not sure what other answer you were expecting from me. Distros like Gentoo (and most others I would think) get rid of them. The good question is how to do it in sage? The easiest way would be for `sage-spkg` to do the scanning. We don't want it to be done as an afterthought once the `sage` build is finished.

The problem is that you don't have a staging phase before putting the file in your tree. So you cannot `stage` then remove the ugly stuff and then put it in your tree (or prefix if you will). Which means that essentially you may have to scan the whole `$SAGE_LOCAL/lib` for `.la` file after you have issued `make install` for every package. Could it be added to `sage-spkg` to do once `spkg-install` proper is finished? How would that interact with `spkg-check` is also something to think about because building test may rely on these `.la` files.


---

Comment by git created at 2015-11-10 15:54:11

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vbraun created at 2015-11-10 15:54:54

Changing status from new to needs_review.


---

Comment by vbraun created at 2015-11-10 15:54:54

I'm just deleting them after spkg-check; Not sure if its necessary but can't hurt.


---

Comment by fbissey created at 2015-11-10 18:34:34

That'll do, it will depend on the package. In `m4rie` test are built during `make all`. Not really fantastic in my opinion but that's a case where it wouldn't be necessary.


---

Comment by fbissey created at 2015-11-10 18:34:34

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-11-11 19:40:43

Resolution: fixed
