# Issue 20431: turn on globally the python3 print function

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2016-05-24 07:11:12

CC:  vbraun jdemeyer embray

By removing the del of imports in sage/all*.py

To be done in a beta containing all the previous tickets on print.

This will depend on an update of sagenb.

To be postponed by another ticket cleaning the last traces of py2 print.


---

Comment by chapoton created at 2016-05-24 07:13:16

New commits:


---

Comment by jdemeyer created at 2016-05-24 07:43:01

We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.


---

Comment by chapoton created at 2016-05-24 07:44:46

Replying to [comment:2 jdemeyer]:
> We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.

But this is obviously the goal. Why did you change the title of the ticket ?


---

Comment by jdemeyer created at 2016-05-24 07:52:56

Replying to [comment:3 chapoton]:
> But this is obviously the goal. Why did you change the title of the ticket ?

I guess I misunderstood the goal of this ticket then... maybe you should clarify the title and description of what you want to achieve.


---

Comment by jdemeyer created at 2016-05-24 09:09:08

This is an important change which must obviously be discussed on `sage-devel` first.


---

Comment by chapoton created at 2016-05-24 09:54:47

Replying to [comment:7 jdemeyer]:
> This is an important change which must obviously be discussed on `sage-devel` first.

Yes, for sure.


---

Comment by chapoton created at 2016-05-24 12:41:13

I made a first sketch of wiki page here:

https://wiki.sagemath.org/PrintFunction


---

Comment by chapoton created at 2016-05-25 13:10:18

I changed the description, according to the discussion here: https://groups.google.com/forum/#!topic/sage-devel/DrMJtNQid6s


---

Comment by chapoton created at 2016-05-29 11:24:28

I wonder: would it be difficult to turn on the python3 print when
running the doctests of sage ? I think that this would be very useful to prevent new introductions of bad print syntax.


---

Comment by embray created at 2017-04-03 06:43:52

Any reason for that change?

This still seems like a good idea to me?  At some point Sage is going to have to switch to Python 3 (Python 2 support ends 2020).  Good to start now...


---

Comment by vbraun created at 2017-04-03 06:53:37

+1 million ;-)


---

Comment by embray created at 2017-04-03 07:10:48

What I mean is the change to the milestone.


---

Comment by chapoton created at 2017-04-03 07:18:53

Well, the switch to python3 will happen once the code is entirely compatible, and this is not for tomorrow, given that **not so many people** actively work on the problem.

Besides, we are not going to force python2 users to use python3-sage. So this ticket is useful only for its branch, that allows from time to time to see that somebody has once again re-introduced a python2 print somewhere.


---

Comment by embray created at 2017-04-03 07:25:16

I see.

I just meant it would be good to start pushing the print() function on people anyways :)


---

Comment by vbraun created at 2017-04-03 08:12:15

But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.


---

Comment by tscrim created at 2017-04-03 14:56:44

Replying to [comment:18 vbraun]:
> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.

+1 to doing this.


---

Comment by chapoton created at 2017-04-03 20:44:22

Please do that if you can, I cannot.


---

Comment by chapoton created at 2017-06-23 12:35:48

Replying to [comment:18 vbraun]:
> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.

Volker, what do you mean exactly, please ? Do we just need to add one single line 

```
from __future__ import print_function
```

in the code of the file `src/sage/doctest/sources.py`
or is there something more subtle to do ? ( I have no idea of what is a "virtual doctest")


---

Comment by chapoton created at 2017-07-25 06:34:03

ping ? Please, Volker, what do you mean exactly by comment:18 ?


---

Comment by vbraun created at 2017-07-30 12:17:28

Enabling print_function in doctests is now #23551


---

Comment by chapoton created at 2018-01-16 09:25:30

Erik, could you please close this one ?


---

Comment by embray created at 2018-01-16 14:23:50

Resolution: fixed
