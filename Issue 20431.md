# Issue 20431: turn on globally the python3 print function

archive/issues_020431.json:
```json
{
    "body": "CC:  vbraun jdemeyer embray\n\nBy removing the del of imports in sage/all*.py\n\nTo be done in a beta containing all the previous tickets on print.\n\nThis will depend on an update of sagenb.\n\nTo be postponed by another ticket cleaning the last traces of py2 print.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20668\n\n",
    "created_at": "2016-05-24T07:11:12Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "turn on globally the python3 print function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20431",
    "user": "chapoton"
}
```
CC:  vbraun jdemeyer embray

By removing the del of imports in sage/all*.py

To be done in a beta containing all the previous tickets on print.

This will depend on an update of sagenb.

To be postponed by another ticket cleaning the last traces of py2 print.

Issue created by migration from https://trac.sagemath.org/ticket/20668





---

archive/issue_comments_281531.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-05-24T07:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281531",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_281532.json:
```json
{
    "body": "We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.",
    "created_at": "2016-05-24T07:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281532",
    "user": "jdemeyer"
}
```

We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.



---

archive/issue_comments_281533.json:
```json
{
    "body": "Replying to [comment:2 jdemeyer]:\n> We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.\n\nBut this is obviously the goal. Why did you change the title of the ticket ?",
    "created_at": "2016-05-24T07:44:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281533",
    "user": "chapoton"
}
```

Replying to [comment:2 jdemeyer]:
> We should only do this if we also change the Sage command line to use Python 3 `print()` syntax. Doctests and the command line should be consistent.

But this is obviously the goal. Why did you change the title of the ticket ?



---

archive/issue_comments_281534.json:
```json
{
    "body": "Replying to [comment:3 chapoton]:\n> But this is obviously the goal. Why did you change the title of the ticket ?\n\nI guess I misunderstood the goal of this ticket then... maybe you should clarify the title and description of what you want to achieve.",
    "created_at": "2016-05-24T07:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281534",
    "user": "jdemeyer"
}
```

Replying to [comment:3 chapoton]:
> But this is obviously the goal. Why did you change the title of the ticket ?

I guess I misunderstood the goal of this ticket then... maybe you should clarify the title and description of what you want to achieve.



---

archive/issue_comments_281535.json:
```json
{
    "body": "This is an important change which must obviously be discussed on `sage-devel` first.",
    "created_at": "2016-05-24T09:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281535",
    "user": "jdemeyer"
}
```

This is an important change which must obviously be discussed on `sage-devel` first.



---

archive/issue_comments_281536.json:
```json
{
    "body": "Replying to [comment:7 jdemeyer]:\n> This is an important change which must obviously be discussed on `sage-devel` first.\n\nYes, for sure.",
    "created_at": "2016-05-24T09:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281536",
    "user": "chapoton"
}
```

Replying to [comment:7 jdemeyer]:
> This is an important change which must obviously be discussed on `sage-devel` first.

Yes, for sure.



---

archive/issue_comments_281537.json:
```json
{
    "body": "I made a first sketch of wiki page here:\n\nhttps://wiki.sagemath.org/PrintFunction",
    "created_at": "2016-05-24T12:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281537",
    "user": "chapoton"
}
```

I made a first sketch of wiki page here:

https://wiki.sagemath.org/PrintFunction



---

archive/issue_comments_281538.json:
```json
{
    "body": "I changed the description, according to the discussion here: https://groups.google.com/forum/#!topic/sage-devel/DrMJtNQid6s",
    "created_at": "2016-05-25T13:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281538",
    "user": "chapoton"
}
```

I changed the description, according to the discussion here: https://groups.google.com/forum/#!topic/sage-devel/DrMJtNQid6s



---

archive/issue_comments_281539.json:
```json
{
    "body": "I wonder: would it be difficult to turn on the python3 print when\nrunning the doctests of sage ? I think that this would be very useful to prevent new introductions of bad print syntax.",
    "created_at": "2016-05-29T11:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281539",
    "user": "chapoton"
}
```

I wonder: would it be difficult to turn on the python3 print when
running the doctests of sage ? I think that this would be very useful to prevent new introductions of bad print syntax.



---

archive/issue_comments_281540.json:
```json
{
    "body": "Any reason for that change?\n\nThis still seems like a good idea to me?  At some point Sage is going to have to switch to Python 3 (Python 2 support ends 2020).  Good to start now...",
    "created_at": "2017-04-03T06:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281540",
    "user": "embray"
}
```

Any reason for that change?

This still seems like a good idea to me?  At some point Sage is going to have to switch to Python 3 (Python 2 support ends 2020).  Good to start now...



---

archive/issue_comments_281541.json:
```json
{
    "body": "+1 million ;-)",
    "created_at": "2017-04-03T06:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281541",
    "user": "vbraun"
}
```

+1 million ;-)



---

archive/issue_comments_281542.json:
```json
{
    "body": "What I mean is the change to the milestone.",
    "created_at": "2017-04-03T07:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281542",
    "user": "embray"
}
```

What I mean is the change to the milestone.



---

archive/issue_comments_281543.json:
```json
{
    "body": "Well, the switch to python3 will happen once the code is entirely compatible, and this is not for tomorrow, given that **not so many people** actively work on the problem.\n\nBesides, we are not going to force python2 users to use python3-sage. So this ticket is useful only for its branch, that allows from time to time to see that somebody has once again re-introduced a python2 print somewhere.",
    "created_at": "2017-04-03T07:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281543",
    "user": "chapoton"
}
```

Well, the switch to python3 will happen once the code is entirely compatible, and this is not for tomorrow, given that **not so many people** actively work on the problem.

Besides, we are not going to force python2 users to use python3-sage. So this ticket is useful only for its branch, that allows from time to time to see that somebody has once again re-introduced a python2 print somewhere.



---

archive/issue_comments_281544.json:
```json
{
    "body": "I see.\n\nI just meant it would be good to start pushing the print() function on people anyways :)",
    "created_at": "2017-04-03T07:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281544",
    "user": "embray"
}
```

I see.

I just meant it would be good to start pushing the print() function on people anyways :)



---

archive/issue_comments_281545.json:
```json
{
    "body": "But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.",
    "created_at": "2017-04-03T08:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281545",
    "user": "vbraun"
}
```

But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.



---

archive/issue_comments_281546.json:
```json
{
    "body": "Replying to [comment:18 vbraun]:\n> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.\n\n+1 to doing this.",
    "created_at": "2017-04-03T14:56:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281546",
    "user": "tscrim"
}
```

Replying to [comment:18 vbraun]:
> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.

+1 to doing this.



---

archive/issue_comments_281547.json:
```json
{
    "body": "Please do that if you can, I cannot.",
    "created_at": "2017-04-03T20:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281547",
    "user": "chapoton"
}
```

Please do that if you can, I cannot.



---

archive/issue_comments_281548.json:
```json
{
    "body": "Replying to [comment:18 vbraun]:\n> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.\n\nVolker, what do you mean exactly, please ? Do we just need to add one single line \n\n```\nfrom __future__ import print_function\n```\n\nin the code of the file `src/sage/doctest/sources.py`\nor is there something more subtle to do ? ( I have no idea of what is a \"virtual doctest\")",
    "created_at": "2017-06-23T12:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281548",
    "user": "chapoton"
}
```

Replying to [comment:18 vbraun]:
> But it should be enabled for doctests; Just add the print_function import to src/sage/doctest/sources.py as virtual doctest.

Volker, what do you mean exactly, please ? Do we just need to add one single line 

```
from __future__ import print_function
```

in the code of the file `src/sage/doctest/sources.py`
or is there something more subtle to do ? ( I have no idea of what is a "virtual doctest")



---

archive/issue_comments_281549.json:
```json
{
    "body": "ping ? Please, Volker, what do you mean exactly by comment:18 ?",
    "created_at": "2017-07-25T06:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281549",
    "user": "chapoton"
}
```

ping ? Please, Volker, what do you mean exactly by comment:18 ?



---

archive/issue_comments_281550.json:
```json
{
    "body": "Enabling print_function in doctests is now #23551",
    "created_at": "2017-07-30T12:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281550",
    "user": "vbraun"
}
```

Enabling print_function in doctests is now #23551



---

archive/issue_comments_281551.json:
```json
{
    "body": "Erik, could you please close this one ?",
    "created_at": "2018-01-16T09:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281551",
    "user": "chapoton"
}
```

Erik, could you please close this one ?



---

archive/issue_comments_281552.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-01-16T14:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20431#issuecomment-281552",
    "user": "embray"
}
```

Resolution: fixed
