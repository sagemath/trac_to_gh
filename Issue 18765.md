# Issue 18765: Change behavior for vacancy numbers

Issue created by migration from https://trac.sagemath.org/ticket/19002

Original creator: tscrim

Original creation time: 2015-08-08 05:40:27

Assignee: sage-combinat

CC:  sage-combinat aschilling bsalisbury1

Keywords: rigged configurations

Currently, the input `i` for the method `get_vacancy_number` returns the vacancy number for the `i`th row. This prohibits the user from calculating vacancy numbers p<sub>k</sub><sup>(a)</sup>. This ticket changes both the internal and public behavior.

Note this is a backwards incompatible change.


---

Comment by tscrim created at 2015-08-08 05:42:38

I kinda wanted that 19000 ticket number. :P
----
New commits:


---

Comment by tscrim created at 2015-08-08 05:42:38

Changing status from new to needs_review.


---

Comment by aschilling created at 2015-08-13 05:44:54

Replying to [comment:1 tscrim]:
> I kinda wanted that 19000 ticket number. :P

Besides the ticket number, the numbering of the rigged partitions seems to be off 

```
sage: RC = RiggedConfigurations(['D',8,1],[[8,1],[6,3]])
sage: H = RC.module_generators
sage: rc = H[34]
sage: rc

(/)

0[ ]0

0[ ]0
0[ ]0

0[ ]0
0[ ]0
0[ ]0

0[ ]0
0[ ]0
0[ ]0
0[ ]0

0[ ][ ]0
0[ ]0
0[ ]0
0[ ]0
0[ ]0

0[ ][ ]0
1[ ]1

0[ ]0
0[ ]0
0[ ]0

sage: rc[8]
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
<ipython-input-28-f31668b6dd44> in <module>()
----> 1 rc[Integer(8)]

/Applications/sage/src/sage/structure/list_clone.pyx in sage.structure.list_clone.ClonableArray.__getitem__ (/Applications/sage/src/build/cythonized/sage/structure/list_clone.c:4586)()
    651         if isinstance(key, slice):
    652             self._list[key.start:key.stop:key.step]
--> 653         return self._list[key]
    654 
    655     def __setitem__(self, int key, value):

IndexError: list index out of range
```

I guess the indexing for `a` starts at 0 rather than `1`. But then the documentation is misleading since it is not the math labeling. Also, wouldn't it be useful to be able to do

```
rc.vacancy_number(a,i)
```


Best,

Anne


---

Comment by git created at 2015-08-23 18:40:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-08-23 18:45:21

I've changed `get_vacancy_number` to `vacancy_number` and added the additional doctest as we discussed.


---

Comment by git created at 2015-08-26 01:28:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-09-15 23:51:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by aschilling created at 2015-09-16 00:15:25

Changing status from needs_review to positive_review.


---

Comment by aschilling created at 2015-09-16 00:15:46

Ok, this looks good to me now!


---

Comment by tscrim created at 2015-09-16 00:57:36

Thanks for doing the review!


---

Comment by vbraun created at 2015-09-17 09:24:12

Resolution: fixed
