# Issue 26907: py3: fix doctests in connectivity.pyx

Issue created by migration from https://trac.sagemath.org/ticket/27144

Original creator: dcoudert

Original creation time: 2019-01-27 12:14:57

CC:  tscrim chapoton

Keywords: py3, graph

Fix the doctests for Python3.


---

Comment by dcoudert created at 2019-01-27 12:21:04

I have marked all doctests of method `print_triconnected_components()` as `Not tested`.
This method was useful during the development phase of this code, but it brings little information to the user.
----
New commits:


---

Comment by dcoudert created at 2019-01-27 12:21:04

Changing status from new to needs_review.


---

Comment by tscrim created at 2019-01-27 15:00:11

If this is useless, then we should remove it (after a deprecation). Otherwise we should try to fix it so it works on both py2 and py3.


---

Comment by tscrim created at 2019-01-27 15:00:11

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-01-27 15:31:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-01-27 15:46:13

I have removed the "not tested" statements.

I don't know how to make the failing doctest (it's twice the same test in different parts of the code) work on both py2 and py3. It's not only the order in which the components are displayed that differs, but also the labels of virtual edges inside the components. The label of a virtual edge depends on the step of the algorithm at which it has been created, and this differs in py2 and py3.

The interest of class `TriconnectivitySPQR` is to decompose the graph using the linear time algorithm and build the SPQR-tree. It could directly return the SPQR-tree. The added value of method `print_triconnected_components()` is therefore very limited.
So I'm in favor of removing this method after a deprecation. I will do that.


---

Comment by tscrim created at 2019-01-27 15:49:35

Three other options would be mark them as `# random`, mark the tests as `# py2` and `# py3`, or use the `...` to get rid of the stuff that changes.


---

Comment by git created at 2019-01-27 16:01:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-01-27 16:04:37

That's even better, thanks. I marked the tests as `# py2` and added, inside method `print_triconnected_components` a doctest marked `# py3`.


---

Comment by dcoudert created at 2019-01-27 16:04:37

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2019-01-27 16:08:40

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-01-27 16:08:40

Thanks. LGTM.


---

Comment by vbraun created at 2019-02-04 23:02:10

Resolution: fixed
