# Issue 26042: Improve comparisons of PolyDicts

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2018-09-14 10:14:14

The `PolyDict` class has a `__richcmp__` method which just implements the default rich comparison between the underlying dicts of the `PolyDict`s being compared, which in of itself is not terrible useful, especially given that it's not a meaningful comparison for relational operators.

However there is also an undocumented `PolyDict.rich_compare` method which i the same as `__richcmp__` but takes a `key` argument (previously required, but I made it optional and renamed it to `sortkey`) which can be used to provide meaningful ordering between polynomials.  This is used currently in Sage in exactly one place.  But this ticket shows one other example where it was useful to have.  We've also polished up the documentation just a little bit.


---

Comment by embray created at 2018-09-14 10:14:21

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-10-14 09:48:56

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2018-10-14 09:48:56

branch is red


---

Comment by git created at 2018-10-28 16:41:24

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-10-28 16:44:12

Changing status from needs_work to needs_review.


---

Comment by embray created at 2018-10-28 16:44:12

Trivial rebase at first. But I also fixed a test that was failing on Python 2 (the `p1 < p2` test) due to the differences in default comparison behavior between Python 2 and 3.  Not 100% satisfied with that, and wondering if we should instead explicitly enforce `==` and `!=` only.


---

Comment by chapoton created at 2018-11-04 10:03:05

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2018-11-04 10:03:05

I have corrected a typo and changed 2 http to https.

This allows many doctests to pass in Iwahori-Hecke algebras with python3.
----
New commits:


---

Comment by embray created at 2018-11-06 11:02:06

Thanks!


---

Comment by vbraun created at 2018-11-07 11:27:21

Resolution: fixed
