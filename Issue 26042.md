# Issue 26042: Improve comparisons of PolyDicts

archive/issues_026042.json:
```json
{
    "body": "The `PolyDict` class has a `__richcmp__` method which just implements the default rich comparison between the underlying dicts of the `PolyDict`s being compared, which in of itself is not terrible useful, especially given that it's not a meaningful comparison for relational operators.\n\nHowever there is also an undocumented `PolyDict.rich_compare` method which i the same as `__richcmp__` but takes a `key` argument (previously required, but I made it optional and renamed it to `sortkey`) which can be used to provide meaningful ordering between polynomials.  This is used currently in Sage in exactly one place.  But this ticket shows one other example where it was useful to have.  We've also polished up the documentation just a little bit.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26279\n\n",
    "created_at": "2018-09-14T10:14:14Z",
    "labels": [
        "component: refactoring",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "Improve comparisons of PolyDicts",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26042",
    "user": "https://github.com/embray"
}
```
The `PolyDict` class has a `__richcmp__` method which just implements the default rich comparison between the underlying dicts of the `PolyDict`s being compared, which in of itself is not terrible useful, especially given that it's not a meaningful comparison for relational operators.

However there is also an undocumented `PolyDict.rich_compare` method which i the same as `__richcmp__` but takes a `key` argument (previously required, but I made it optional and renamed it to `sortkey`) which can be used to provide meaningful ordering between polynomials.  This is used currently in Sage in exactly one place.  But this ticket shows one other example where it was useful to have.  We've also polished up the documentation just a little bit.

Issue created by migration from https://trac.sagemath.org/ticket/26279





---

archive/issue_comments_366886.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-09-14T10:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366886",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_366887.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-10-14T09:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366887",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_366888.json:
```json
{
    "body": "branch is red",
    "created_at": "2018-10-14T09:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366888",
    "user": "https://github.com/fchapoton"
}
```

branch is red



---

archive/issue_events_065405.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T11:41:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26042#event-65405"
}
```



---

archive/issue_comments_366889.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-10-28T16:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366889",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_366890.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-10-28T16:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366890",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_366891.json:
```json
{
    "body": "Trivial rebase at first. But I also fixed a test that was failing on Python 2 (the `p1 < p2` test) due to the differences in default comparison behavior between Python 2 and 3.  Not 100% satisfied with that, and wondering if we should instead explicitly enforce `==` and `!=` only.",
    "created_at": "2018-10-28T16:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366891",
    "user": "https://github.com/embray"
}
```

Trivial rebase at first. But I also fixed a test that was failing on Python 2 (the `p1 < p2` test) due to the differences in default comparison behavior between Python 2 and 3.  Not 100% satisfied with that, and wondering if we should instead explicitly enforce `==` and `!=` only.



---

archive/issue_comments_366892.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-11-04T10:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366892",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_366893.json:
```json
{
    "body": "I have corrected a typo and changed 2 http to https.\n\nThis allows many doctests to pass in Iwahori-Hecke algebras with python3.\n\n---\nNew commits:",
    "created_at": "2018-11-04T10:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366893",
    "user": "https://github.com/fchapoton"
}
```

I have corrected a typo and changed 2 http to https.

This allows many doctests to pass in Iwahori-Hecke algebras with python3.

---
New commits:



---

archive/issue_comments_366894.json:
```json
{
    "body": "Thanks!",
    "created_at": "2018-11-06T11:02:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366894",
    "user": "https://github.com/embray"
}
```

Thanks!



---

archive/issue_comments_366895.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-11-07T11:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26042#issuecomment-366895",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_065406.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-07T11:27:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26042",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26042#event-65406"
}
```
