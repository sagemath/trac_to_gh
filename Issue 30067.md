# Issue 30067: MemoryError when calling (2*pi)^QQ(n) for integers n > 1

Issue created by migration from https://trac.sagemath.org/ticket/30304

Original creator: galipnik

Original creation time: 2020-08-06 14:26:28

CC:  behackl

When I call `(2*pi)^QQ(n)` for some integer n > 1, then I obtain


```
---------------------------------------------------------------------------
MemoryError                               Traceback (most recent call last)
<ipython-input-4-a458fbffeb47> in <module>()
----> 1 (Integer(2)*pi)**QQ(Integer(2))

../sage-8.9/local/lib/python2.7/site-packages/IPython/core/displayhook.pyc in __call__(self, result)
    248             self.fill_exec_result(result)
    249             if format_dict:
--> 250                 self.write_format_data(format_dict, md_dict)
    251                 self.log_output(format_dict)
    252             self.finish_displayhook()

../sage-8.9/local/lib/python2.7/site-packages/IPython/core/displayhook.pyc in write_format_data(self, format_dict, md_dict)
    187                 result_repr = '\n' + result_repr
    188 
--> 189         print(result_repr)
    190 
    191     def update_user_ns(self, result):

MemoryError: 
```


Some weird facts:

- It works with non-interal powers, e.g., `(2*pi)^(5/2)`.
- `pi^QQ(2)` works as well.
- Also `expr = (2*pi)^QQ(2)` and calculations like `expr / expr` work fine.

Same issue occurs with `sage-9.0`.



---

Comment by @DaveWitteMorris created at 2021-01-10 22:48:23

Changing component from PLEASE CHANGE to symbolics.


---

Comment by @DaveWitteMorris created at 2021-01-10 22:48:23

Changing status from new to needs_review.


---

Comment by @DaveWitteMorris created at 2021-01-10 22:48:23

This can be closed as a duplicate of #30446. The pull request at #30786 adds the appropriate doctest.


---

Comment by tscrim created at 2021-01-11 23:41:43

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2021-03-14 16:11:01

Resolution: duplicate
