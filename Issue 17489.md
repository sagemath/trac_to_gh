# Issue 17489: Replace PY_TYPE() by type()

Issue created by migration from https://trac.sagemath.org/ticket/17726

Original creator: jdemeyer

Original creation time: 2015-02-04 09:29:54




---

Comment by jdemeyer created at 2015-02-04 12:39:07

New commits:


---

Comment by jdemeyer created at 2015-02-04 12:39:07

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2015-02-04 21:07:00

These are not all...

```
$ grep -lR "PY_TYPE("
matrix/matrix_window.pyx
symbolic/function.pxd
categories/map.pyx
ext/stdsage.pxi
structure/parent.pyx
structure/coerce.pyx
rings/number_field/number_field_element.pyx
rings/finite_rings/integer_mod.pyx
rings/polynomial/polynomial_modn_dense_ntl.pyx
rings/integer.pyx
```

Some of them are already in #17727. Could we set the latter as a dependency and completely get rid of `PY_TYPE`?

Vincent


---

Comment by vdelecroix created at 2015-02-04 21:07:08

Changing status from needs_review to needs_info.


---

Comment by mmezzarobba created at 2015-02-04 21:32:16

Changing status from needs_info to positive_review.


---

Comment by mmezzarobba created at 2015-02-04 21:32:16

Replying to [comment:3 vdelecroix]:
> Some of them are already in #17727. Could we set the latter as a dependency and completely get rid of `PY_TYPE`?

With #17668 + #17725 + #17726 + #17727, the only remaining occurrences of `PY_TYPE` are in `stdsage.*`. 
And the earlier in the release cycle patches of this kind get merged, the better. So if you don't mind let's leave the issue of removing `PY_TYPE` itself for later, as the present ticket makes sense without it.


---

Comment by jdemeyer created at 2015-02-05 08:09:18

Replying to [comment:5 mmezzarobba]:
> Replying to [comment:3 vdelecroix]:
> > Some of them are already in #17727. Could we set the latter as a dependency and completely get rid of `PY_TYPE`?
> 
> With #17668 + #17725 + #17726 + #17727, the only remaining occurrences of `PY_TYPE` are in `stdsage.*`. 
Indeed, I've made these different ticket independent for easier reviewing.

If all four of the above tickets are merged, I plan to make a ticket to remove `PY_TYPE_CHECK` and another one to remove the `stdsage.pxi` includes.

I would keep the functions in `stdsage.pxi` for now, just to support existing code on Trac which uses them (consider them "deprecated").


---

Comment by vbraun created at 2015-02-18 01:27:01

Resolution: fixed
