# Issue 12921: implement numerical computation of periods of modular forms

archive/issues_012921.json:
```json
{
    "body": "Assignee: @craigcitro\n\nImplement some of chapter 10 of my book: http://wstein.org/books/modform/\n\nIssue created by migration from https://trac.sagemath.org/ticket/13093\n\n",
    "created_at": "2012-06-08T00:38:58Z",
    "labels": [
        "component: modular forms",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "implement numerical computation of periods of modular forms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12921",
    "user": "https://github.com/williamstein"
}
```
Assignee: @craigcitro

Implement some of chapter 10 of my book: http://wstein.org/books/modform/

Issue created by migration from https://trac.sagemath.org/ticket/13093





---

archive/issue_comments_155365.json:
```json
{
    "body": "Attachment [trac_13093.patch](tarball://root/attachments/some-uuid/ticket13093/trac_13093.patch) by @williamstein created at 2012-06-08 00:56:58",
    "created_at": "2012-06-08T00:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155365",
    "user": "https://github.com/williamstein"
}
```

Attachment [trac_13093.patch](tarball://root/attachments/some-uuid/ticket13093/trac_13093.patch) by @williamstein created at 2012-06-08 00:56:58



---

archive/issue_comments_155366.json:
```json
{
    "body": "After applying the patch I get an import error for sage.modular.periods.periods in the file sage/modular/modsym/space.py\nI think this is simply a problem with a missing \\_\\_init\\_\\_.py file in the periods/ directory\n\nAlso, I think that the formula for the exponential integral in the cited book  (Lemma 10.4) has the wrong sign (easy to check in the case alpha=i, n=1 and m=0). This is simple to fix by initializing sgn=-1 instead of 1.",
    "created_at": "2012-06-22T14:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155366",
    "user": "https://github.com/fredstro"
}
```

After applying the patch I get an import error for sage.modular.periods.periods in the file sage/modular/modsym/space.py
I think this is simply a problem with a missing \_\_init\_\_.py file in the periods/ directory

Also, I think that the formula for the exponential integral in the cited book  (Lemma 10.4) has the wrong sign (easy to check in the case alpha=i, n=1 and m=0). This is simple to fix by initializing sgn=-1 instead of 1.



---

archive/issue_comments_155367.json:
```json
{
    "body": "I'm surprised the exponential integral is not efficiently implemented elsewhere already. Note, however, that you could compute this more efficiently by keeping track of the single value (sgn*alpha_pow*denom) which changes by a constant factor of -1/(alpha * t) each iteration (if this is a bottleneck). Doctests on these functions might be useful as well.",
    "created_at": "2012-07-18T22:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155367",
    "user": "https://github.com/robertwb"
}
```

I'm surprised the exponential integral is not efficiently implemented elsewhere already. Note, however, that you could compute this more efficiently by keeping track of the single value (sgn*alpha_pow*denom) which changes by a constant factor of -1/(alpha * t) each iteration (if this is a bottleneck). Doctests on these functions might be useful as well.



---

archive/issue_comments_155368.json:
```json
{
    "body": "Attachment [trac_13093_period_v2.patch](tarball://root/attachments/some-uuid/ticket13093/trac_13093_period_v2.patch) by @fchapoton created at 2013-08-08 14:33:23\n\nI have made a new patch, just cleaning up things a little bit.\n\nfor the bot: apply only trac_13093_period_v2.patch\u200b",
    "created_at": "2013-08-08T14:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155368",
    "user": "https://github.com/fchapoton"
}
```

Attachment [trac_13093_period_v2.patch](tarball://root/attachments/some-uuid/ticket13093/trac_13093_period_v2.patch) by @fchapoton created at 2013-08-08 14:33:23

I have made a new patch, just cleaning up things a little bit.

for the bot: apply only trac_13093_period_v2.patchâ€‹



---

archive/issue_comments_155369.json:
```json
{
    "body": "for the **patchbots**:\n\napply trac_13093_period_v2.patch",
    "created_at": "2013-09-25T18:39:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155369",
    "user": "https://github.com/fchapoton"
}
```

for the **patchbots**:

apply trac_13093_period_v2.patch



---

archive/issue_comments_155370.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2014-02-21T13:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155370",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_155371.json:
```json
{
    "body": "here is a git branch\n----\nNew commits:",
    "created_at": "2014-02-21T13:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155371",
    "user": "https://github.com/fchapoton"
}
```

here is a git branch
----
New commits:



---

archive/issue_comments_155372.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-03T13:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155373.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-03T15:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155374.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-05T12:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155375.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-23T07:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155376.json:
```json
{
    "body": "Changing keywords from \"\" to \"modular form, period\".",
    "created_at": "2015-06-23T07:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155376",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "modular form, period".



---

archive/issue_comments_155377.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-16T19:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155378.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-04-18T19:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155378",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_155379.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-19T08:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155379",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155380.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-19T13:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155380",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155381.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-08T18:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155381",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155382.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-11T11:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155383.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-07T07:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12921#issuecomment-155383",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to needs_work.
