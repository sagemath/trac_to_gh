# Issue 14115: Automorphism group with labeled vertices

archive/issues_014115.json:
```json
{
    "body": "Assignee: jason, ncohen, rlm\n\nCC:  @dimpase @nthiery @hivert\n\nPermutation groups used to support only 1...n elements, but that it not the case anymore. We can return automorphism groups that do not need to be relabeled, and that it GREAT `:-P`\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/14319\n\n",
    "created_at": "2013-03-20T10:13:24Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Automorphism group with labeled vertices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14115",
    "user": "@nathanncohen"
}
```
Assignee: jason, ncohen, rlm

CC:  @dimpase @nthiery @hivert

Permutation groups used to support only 1...n elements, but that it not the case anymore. We can return automorphism groups that do not need to be relabeled, and that it GREAT `:-P`

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/14319





---

archive/issue_comments_176953.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-20T10:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176953",
    "user": "@nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_176954.json:
```json
{
    "body": "I hope the patchbot will like this one. I'm pretty sure that it will break 1000 doctests `:-P`\n\nNathann",
    "created_at": "2013-03-20T10:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176954",
    "user": "@nathanncohen"
}
```

I hope the patchbot will like this one. I'm pretty sure that it will break 1000 doctests `:-P`

Nathann



---

archive/issue_comments_176955.json:
```json
{
    "body": "What are the allowed labels/doman elements of the underlying permutation groups?\nCan they be, say, tuples?",
    "created_at": "2013-03-20T12:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176955",
    "user": "@dimpase"
}
```

What are the allowed labels/doman elements of the underlying permutation groups?
Can they be, say, tuples?



---

archive/issue_comments_176956.json:
```json
{
    "body": "> What are the allowed labels/doman elements of the underlying permutation groups?\n> Can they be, say, tuples?\n\nWell, it lookslike it can be anything that can be hashed. A `PermutationGroup` contains its own dictionary of \"Sage things\" <-> \"Gap Things\" and does the translations, soo... `:-)`\n\nNathann",
    "created_at": "2013-03-20T12:45:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176956",
    "user": "@nathanncohen"
}
```

> What are the allowed labels/doman elements of the underlying permutation groups?
> Can they be, say, tuples?

Well, it lookslike it can be anything that can be hashed. A `PermutationGroup` contains its own dictionary of "Sage things" <-> "Gap Things" and does the translations, soo... `:-)`

Nathann



---

archive/issue_comments_176957.json:
```json
{
    "body": "Various docstrings need fixing as they explicitly refer to integers, for example `list()`:\n\n```\nReturns list of the images of the integers from 1 to n under this\npermutation as a list of Python ints.\n```\n",
    "created_at": "2013-03-22T11:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176957",
    "user": "@vbraun"
}
```

Various docstrings need fixing as they explicitly refer to integers, for example `list()`:

```
Returns list of the images of the integers from 1 to n under this
permutation as a list of Python ints.
```




---

archive/issue_comments_176958.json:
```json
{
    "body": "Where does this docstring come from ?",
    "created_at": "2013-03-22T11:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176958",
    "user": "@nathanncohen"
}
```

Where does this docstring come from ?



---

archive/issue_comments_176959.json:
```json
{
    "body": "Its in `sage/groups/perm_gps/permgroup_element.pyx`",
    "created_at": "2013-03-22T13:44:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176959",
    "user": "@vbraun"
}
```

Its in `sage/groups/perm_gps/permgroup_element.pyx`



---

archive/issue_comments_176960.json:
```json
{
    "body": "> Its in `sage/groups/perm_gps/permgroup_element.pyx`\n\nJust for the record, #10335 is where this should have been done in the first place `>_<`\n\nNathann",
    "created_at": "2013-03-22T14:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176960",
    "user": "@nathanncohen"
}
```

> Its in `sage/groups/perm_gps/permgroup_element.pyx`

Just for the record, #10335 is where this should have been done in the first place `>_<`

Nathann



---

archive/issue_comments_176961.json:
```json
{
    "body": "This being said, I have no idea what to do with this `list` method. It just has no meaning if the elements are not integers `:-/`\n\nNathann",
    "created_at": "2013-03-22T14:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176961",
    "user": "@nathanncohen"
}
```

This being said, I have no idea what to do with this `list` method. It just has no meaning if the elements are not integers `:-/`

Nathann



---

archive/issue_comments_176962.json:
```json
{
    "body": "Patch updated ! I did not touch `list()`. What do you think we should do with it ? Update its docstring to say \"returns the domain\" ? Looks like this is all it is used for. And hopefully, because doing otherwise would assume that it is only defined on integers.\n\nNathann",
    "created_at": "2013-03-22T14:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176962",
    "user": "@nathanncohen"
}
```

Patch updated ! I did not touch `list()`. What do you think we should do with it ? Update its docstring to say "returns the domain" ? Looks like this is all it is used for. And hopefully, because doing otherwise would assume that it is only defined on integers.

Nathann



---

archive/issue_comments_176963.json:
```json
{
    "body": "I would be in favor of having a `domain` method on the permutation group elements and deprecate `list`.",
    "created_at": "2013-03-23T09:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176963",
    "user": "@vbraun"
}
```

I would be in favor of having a `domain` method on the permutation group elements and deprecate `list`.



---

archive/issue_comments_176964.json:
```json
{
    "body": "> I would be in favor of having a `domain` method on the permutation group elements and deprecate `list`.\n\nDone in this new patch ! Thank you for looking at `fan_isomorphism` `:-)`\n\nNathann",
    "created_at": "2013-03-23T10:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176964",
    "user": "@nathanncohen"
}
```

> I would be in favor of having a `domain` method on the permutation group elements and deprecate `list`.

Done in this new patch ! Thank you for looking at `fan_isomorphism` `:-)`

Nathann



---

archive/issue_comments_176965.json:
```json
{
    "body": "Rebased on top of #14250 which is in 5.9.beta1.\n\nNathann",
    "created_at": "2013-03-23T10:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176965",
    "user": "@nathanncohen"
}
```

Rebased on top of #14250 which is in 5.9.beta1.

Nathann



---

archive/issue_comments_176966.json:
```json
{
    "body": "Apply trac_14319.patch, trac_14319_fix_fan_isomorphism.patch, trac_14319-from_list_to_domain.patch",
    "created_at": "2013-03-23T10:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176966",
    "user": "@nathanncohen"
}
```

Apply trac_14319.patch, trac_14319_fix_fan_isomorphism.patch, trac_14319-from_list_to_domain.patch



---

archive/issue_comments_176967.json:
```json
{
    "body": "Attachment [trac_14319-from_list_to_domain.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319-from_list_to_domain.patch) by @nathanncohen created at 2013-03-23 11:14:41",
    "created_at": "2013-03-23T11:14:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176967",
    "user": "@nathanncohen"
}
```

Attachment [trac_14319-from_list_to_domain.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319-from_list_to_domain.patch) by @nathanncohen created at 2013-03-23 11:14:41



---

archive/issue_comments_176968.json:
```json
{
    "body": "You forgot at least one corner case, if the automorphism group is trivial then still need to remember the domain:\n\n```\nsage: Graph({'a':['a'], 'b':[]}).automorphism_group()\nPermutation Group with generators [()]\nsage: Graph({'a':['a'], 'b':[]}).automorphism_group().domain()\n{1}\n```\n",
    "created_at": "2013-04-01T20:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176968",
    "user": "@vbraun"
}
```

You forgot at least one corner case, if the automorphism group is trivial then still need to remember the domain:

```
sage: Graph({'a':['a'], 'b':[]}).automorphism_group()
Permutation Group with generators [()]
sage: Graph({'a':['a'], 'b':[]}).automorphism_group().domain()
{1}
```




---

archive/issue_comments_176969.json:
```json
{
    "body": "Updated patch",
    "created_at": "2013-04-01T21:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176969",
    "user": "@vbraun"
}
```

Updated patch



---

archive/issue_comments_176970.json:
```json
{
    "body": "Attachment [trac_14319_fix_fan_isomorphism.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319_fix_fan_isomorphism.patch) by @nathanncohen created at 2013-04-01 23:05:57\n\nApply trac_14319.patch, trac_14319_fix_fan_isomorphism.patch, trac_14319-from_list_to_domain.patch, trac_14319-empty.patch",
    "created_at": "2013-04-01T23:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176970",
    "user": "@nathanncohen"
}
```

Attachment [trac_14319_fix_fan_isomorphism.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319_fix_fan_isomorphism.patch) by @nathanncohen created at 2013-04-01 23:05:57

Apply trac_14319.patch, trac_14319_fix_fan_isomorphism.patch, trac_14319-from_list_to_domain.patch, trac_14319-empty.patch



---

archive/issue_comments_176971.json:
```json
{
    "body": "Updated.\n\nNathann",
    "created_at": "2013-04-01T23:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176971",
    "user": "@nathanncohen"
}
```

Updated.

Nathann



---

archive/issue_comments_176972.json:
```json
{
    "body": "On sage-5.9.beta5 A number of doctests fail of the sort:\n\n```\nFile \"devel/sage/sage/combinat/tableau.py\", line 1613, in sage.combinat.tableau.Tableau.row_stabilizer\nFailed example:\n    rs.one().list()\nExpected:\n    [1, 2, 3]\nGot:\n    doctest:1: DeprecationWarning: list is deprecated. Please use domain instead.\n    See http://trac.sagemath.org/14319 for details.\n    [1, 2, 3]\n```\n",
    "created_at": "2013-04-11T19:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176972",
    "user": "@vbraun"
}
```

On sage-5.9.beta5 A number of doctests fail of the sort:

```
File "devel/sage/sage/combinat/tableau.py", line 1613, in sage.combinat.tableau.Tableau.row_stabilizer
Failed example:
    rs.one().list()
Expected:
    [1, 2, 3]
Got:
    doctest:1: DeprecationWarning: list is deprecated. Please use domain instead.
    See http://trac.sagemath.org/14319 for details.
    [1, 2, 3]
```




---

archive/issue_comments_176973.json:
```json
{
    "body": "Updated.\n\nNathann",
    "created_at": "2013-04-11T21:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176973",
    "user": "@nathanncohen"
}
```

Updated.

Nathann



---

archive/issue_comments_176974.json:
```json
{
    "body": "Still get DeprecationWarning: list is deprecated failures (sage-5.9.beta5):\n\n```\nsage -t devel/sage/sage/rings/number_field/number_field.py  # 1 doctest failed\nsage -t devel/sage/sage/crypto/classical.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/tableau_tuple.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/words/finite_word.py  # 2 doctests failed\nsage -t devel/sage/sage/rings/number_field/galois_group.py  # 1 doctest failed\nsage -t devel/sage/sage/rings/number_field/number_field_ideal.py  # 1 doctest failed\nsage -t devel/sage/sage/coding/linear_code.py  # 1 doctest failed\nsage -t devel/sage/doc/en/bordeaux_2008/nf_galois_groups.rst  # 1 doctest failed\nsage -t devel/sage/sage/modular/arithgroup/arithgroup_perm.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/permutation.py  # 2 doctests failed\nsage -t devel/sage/sage/structure/sage_object.pyx  # 1 doctest failed\nsage -t devel/sage/sage/modular/arithgroup/farey_symbol.pyx  # 1 doctest failed\nsage -t devel/sage/sage/coding/binary_code.pyx  # 2 doctests failed\nsage -t devel/sage/sage/combinat/symmetric_group_representations.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/dyck_word.py  # 1 doctest failed\nsage -t devel/sage/sage/modular/arithgroup/congroup_generic.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/symmetric_group_algebra.py  # 1 doctest failed\nsage -t devel/sage/sage/categories/finite_permutation_groups.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/species/permutation_species.py  # 1 doctest failed\n```\n",
    "created_at": "2013-04-17T17:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176974",
    "user": "@vbraun"
}
```

Still get DeprecationWarning: list is deprecated failures (sage-5.9.beta5):

```
sage -t devel/sage/sage/rings/number_field/number_field.py  # 1 doctest failed
sage -t devel/sage/sage/crypto/classical.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/tableau_tuple.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/words/finite_word.py  # 2 doctests failed
sage -t devel/sage/sage/rings/number_field/galois_group.py  # 1 doctest failed
sage -t devel/sage/sage/rings/number_field/number_field_ideal.py  # 1 doctest failed
sage -t devel/sage/sage/coding/linear_code.py  # 1 doctest failed
sage -t devel/sage/doc/en/bordeaux_2008/nf_galois_groups.rst  # 1 doctest failed
sage -t devel/sage/sage/modular/arithgroup/arithgroup_perm.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/permutation.py  # 2 doctests failed
sage -t devel/sage/sage/structure/sage_object.pyx  # 1 doctest failed
sage -t devel/sage/sage/modular/arithgroup/farey_symbol.pyx  # 1 doctest failed
sage -t devel/sage/sage/coding/binary_code.pyx  # 2 doctests failed
sage -t devel/sage/sage/combinat/symmetric_group_representations.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/dyck_word.py  # 1 doctest failed
sage -t devel/sage/sage/modular/arithgroup/congroup_generic.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/symmetric_group_algebra.py  # 1 doctest failed
sage -t devel/sage/sage/categories/finite_permutation_groups.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/species/permutation_species.py  # 1 doctest failed
```




---

archive/issue_comments_176975.json:
```json
{
    "body": "What the heeeeeeeeelll ?? I tested this patch one thousand times `>_<`\n\nNathann",
    "created_at": "2013-04-18T07:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176975",
    "user": "@nathanncohen"
}
```

What the heeeeeeeeelll ?? I tested this patch one thousand times `>_<`

Nathann



---

archive/issue_comments_176976.json:
```json
{
    "body": "Updated ! `O_O;;;;;`\n\nNathann",
    "created_at": "2013-04-18T08:47:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176976",
    "user": "@nathanncohen"
}
```

Updated ! `O_O;;;;;`

Nathann



---

archive/issue_comments_176977.json:
```json
{
    "body": "Can you just run a `make ptest`? There are still lots of places left:\n\n```\nsage -t devel/sage/sage/rings/number_field/number_field.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/words/finite_word.py  # 2 doctests failed\nsage -t devel/sage/sage/combinat/tableau_tuple.py  # 1 doctest failed\nsage -t devel/sage/sage/coding/binary_code.pyx  # 2 doctests failed\nsage -t devel/sage/sage/crypto/classical.py  # 1 doctest failed\nsage -t devel/sage/sage/coding/linear_code.py  # 1 doctest failed\nsage -t devel/sage/sage/rings/number_field/galois_group.py  # 1 doctest failed\nsage -t devel/sage/sage/modular/arithgroup/arithgroup_perm.py  # 1 doctest failed\nsage -t devel/sage/sage/rings/number_field/number_field_ideal.py  # 1 doctest failed\nsage -t devel/sage/sage/structure/sage_object.pyx  # 1 doctest failed\nsage -t devel/sage/doc/en/bordeaux_2008/nf_galois_groups.rst  # 1 doctest failed\nsage -t devel/sage/sage/combinat/permutation.py  # 2 doctests failed\nsage -t devel/sage/sage/modular/arithgroup/farey_symbol.pyx  # 1 doctest failed\nsage -t devel/sage/sage/combinat/symmetric_group_representations.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/dyck_word.py  # 1 doctest failed\nsage -t devel/sage/sage/modular/arithgroup/congroup_generic.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/symmetric_group_algebra.py  # 1 doctest failed\nsage -t devel/sage/sage/categories/finite_permutation_groups.py  # 1 doctest failed\nsage -t devel/sage/sage/combinat/species/permutation_species.py  # 1 doctest failed\n```\n",
    "created_at": "2013-04-18T09:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176977",
    "user": "@vbraun"
}
```

Can you just run a `make ptest`? There are still lots of places left:

```
sage -t devel/sage/sage/rings/number_field/number_field.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/words/finite_word.py  # 2 doctests failed
sage -t devel/sage/sage/combinat/tableau_tuple.py  # 1 doctest failed
sage -t devel/sage/sage/coding/binary_code.pyx  # 2 doctests failed
sage -t devel/sage/sage/crypto/classical.py  # 1 doctest failed
sage -t devel/sage/sage/coding/linear_code.py  # 1 doctest failed
sage -t devel/sage/sage/rings/number_field/galois_group.py  # 1 doctest failed
sage -t devel/sage/sage/modular/arithgroup/arithgroup_perm.py  # 1 doctest failed
sage -t devel/sage/sage/rings/number_field/number_field_ideal.py  # 1 doctest failed
sage -t devel/sage/sage/structure/sage_object.pyx  # 1 doctest failed
sage -t devel/sage/doc/en/bordeaux_2008/nf_galois_groups.rst  # 1 doctest failed
sage -t devel/sage/sage/combinat/permutation.py  # 2 doctests failed
sage -t devel/sage/sage/modular/arithgroup/farey_symbol.pyx  # 1 doctest failed
sage -t devel/sage/sage/combinat/symmetric_group_representations.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/dyck_word.py  # 1 doctest failed
sage -t devel/sage/sage/modular/arithgroup/congroup_generic.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/symmetric_group_algebra.py  # 1 doctest failed
sage -t devel/sage/sage/categories/finite_permutation_groups.py  # 1 doctest failed
sage -t devel/sage/sage/combinat/species/permutation_species.py  # 1 doctest failed
```




---

archive/issue_comments_176978.json:
```json
{
    "body": "> Can you just run a `make ptest`? There are still lots of places left:\n\nI did, and all these tests pass.\n\nNathann",
    "created_at": "2013-04-18T09:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176978",
    "user": "@nathanncohen"
}
```

> Can you just run a `make ptest`? There are still lots of places left:

I did, and all these tests pass.

Nathann



---

archive/issue_comments_176979.json:
```json
{
    "body": "Do you have any other patches applied?\n\n```\ntrac_14291-v2.patch\ntrac_14291_reviewer.patch\ntrac_14319.patch\ntrac_14319-from_list_to_domain.patch\ntrac_14319_fix_fan_isomorphism.patch\ntrac_14319-empty.patch\n```\n\nNone of these patches touches `sage/combinat/tableau_tuple.py`, for example.",
    "created_at": "2013-04-18T10:05:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176979",
    "user": "@vbraun"
}
```

Do you have any other patches applied?

```
trac_14291-v2.patch
trac_14291_reviewer.patch
trac_14319.patch
trac_14319-from_list_to_domain.patch
trac_14319_fix_fan_isomorphism.patch
trac_14319-empty.patch
```

None of these patches touches `sage/combinat/tableau_tuple.py`, for example.



---

archive/issue_comments_176980.json:
```json
{
    "body": "Or you might have an old version of `trac_14319-from_list_to_domain.patch`, since this patch introduced the deprecation warning.",
    "created_at": "2013-04-18T10:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176980",
    "user": "@vbraun"
}
```

Or you might have an old version of `trac_14319-from_list_to_domain.patch`, since this patch introduced the deprecation warning.



---

archive/issue_comments_176981.json:
```json
{
    "body": "``tableau_tuple`` is modified by the version of [attachment:trac_14319-empty.patch] I uploaded earlier. You can check it on the html version of the patch : http://trac.sagemath.org/sage_trac/attachment/ticket/14319/trac_14319-empty.patch\n\nIn case it may be related : the patchbot sees down. I do not know how you download the patch files, but I had to do it manually because my scripts rely on the patchbot for that... But really, the HTML version of the patch you get when you click on it, on this trac ticket, does modify ``tableau_tuple``.\n\nNathann",
    "created_at": "2013-04-18T10:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176981",
    "user": "@nathanncohen"
}
```

``tableau_tuple`` is modified by the version of [attachment:trac_14319-empty.patch] I uploaded earlier. You can check it on the html version of the patch : http://trac.sagemath.org/sage_trac/attachment/ticket/14319/trac_14319-empty.patch

In case it may be related : the patchbot sees down. I do not know how you download the patch files, but I had to do it manually because my scripts rely on the patchbot for that... But really, the HTML version of the patch you get when you click on it, on this trac ticket, does modify ``tableau_tuple``.

Nathann



---

archive/issue_comments_176982.json:
```json
{
    "body": "Ok, seems like I tripped yet again over #11813",
    "created_at": "2013-04-18T10:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176982",
    "user": "@vbraun"
}
```

Ok, seems like I tripped yet again over #11813



---

archive/issue_comments_176983.json:
```json
{
    "body": "Looks good to me",
    "created_at": "2013-04-18T11:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176983",
    "user": "@vbraun"
}
```

Looks good to me



---

archive/issue_comments_176984.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-18T11:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176984",
    "user": "@vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_176985.json:
```json
{
    "body": "Yeahhhhhhhhhhhhhhhhhhhhhhhh!! Thank you soooooo much ! I love that patch `:-PPP`\n\nNathann",
    "created_at": "2013-04-18T11:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176985",
    "user": "@nathanncohen"
}
```

Yeahhhhhhhhhhhhhhhhhhhhhhhh!! Thank you soooooo much ! I love that patch `:-PPP`

Nathann



---

archive/issue_comments_176986.json:
```json
{
    "body": "NOoooooooooooooooooooooooooooooooooooooo `:-PPPPPP`\n\nNathann",
    "created_at": "2013-04-19T08:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176986",
    "user": "@nathanncohen"
}
```

NOoooooooooooooooooooooooooooooooooooooo `:-PPPPPP`

Nathann



---

archive/issue_comments_176987.json:
```json
{
    "body": "Please rebase to #14477 + #14435.",
    "created_at": "2013-04-24T07:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176987",
    "user": "@jdemeyer"
}
```

Please rebase to #14477 + #14435.



---

archive/issue_comments_176988.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-04-24T07:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176988",
    "user": "@jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_176989.json:
```json
{
    "body": "Comeeeee ooooooooonnnnnnnnn... This patch is hell to rebase `T_T`\n\nSigh... `T_T`\n\nWill do it... `T_T`\n\nNathann",
    "created_at": "2013-04-24T07:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176989",
    "user": "@nathanncohen"
}
```

Comeeeee ooooooooonnnnnnnnn... This patch is hell to rebase `T_T`

Sigh... `T_T`

Will do it... `T_T`

Nathann



---

archive/issue_comments_176990.json:
```json
{
    "body": "Attachment [trac_14319.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319.patch) by @nathanncohen created at 2013-04-24 07:49:57",
    "created_at": "2013-04-24T07:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176990",
    "user": "@nathanncohen"
}
```

Attachment [trac_14319.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319.patch) by @nathanncohen created at 2013-04-24 07:49:57



---

archive/issue_comments_176991.json:
```json
{
    "body": "Hmmmmmmm... Was not that bad after all `:-P`\n\nNathann",
    "created_at": "2013-04-24T07:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176991",
    "user": "@nathanncohen"
}
```

Hmmmmmmm... Was not that bad after all `:-P`

Nathann



---

archive/issue_comments_176992.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-04-24T07:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176992",
    "user": "@nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_176993.json:
```json
{
    "body": "Apply trac_14319.patch, trac_14319_fix_fan_isomorphism.patch, trac_14319-from_list_to_domain.patch, trac_14319-empty.patch",
    "created_at": "2013-04-24T07:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176993",
    "user": "@nathanncohen"
}
```

Apply trac_14319.patch, trac_14319_fix_fan_isomorphism.patch, trac_14319-from_list_to_domain.patch, trac_14319-empty.patch



---

archive/issue_comments_176994.json:
```json
{
    "body": "On various systems:\n\n```\nsage -t --long devel/sage/sage/homology/simplicial_complex.py\n**********************************************************************\nFile \"devel/sage/sage/homology/simplicial_complex.py\", line 3149, in sage.homology.simplicial_complex.SimplicialComplex.automorphism_group\nFailed example:\n    group.domain()\nExpected:\n    {1, 2, 3, 'a'}\nGot:\n    {'a', 1, 2, 3}\n**********************************************************************\n```\n",
    "created_at": "2013-05-04T12:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176994",
    "user": "@jdemeyer"
}
```

On various systems:

```
sage -t --long devel/sage/sage/homology/simplicial_complex.py
**********************************************************************
File "devel/sage/sage/homology/simplicial_complex.py", line 3149, in sage.homology.simplicial_complex.SimplicialComplex.automorphism_group
Failed example:
    group.domain()
Expected:
    {1, 2, 3, 'a'}
Got:
    {'a', 1, 2, 3}
**********************************************************************
```




---

archive/issue_comments_176995.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-04T12:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176995",
    "user": "@jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_176996.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-05-04T15:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176996",
    "user": "@nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_176997.json:
```json
{
    "body": "If it works with a Graph's vertices, it should work there too... `:-P`\n\nThey're now sorted in the doctest !\n\nNathann\n\nP.S. : And just to make it clear, it passed all tests on my two machines... `:-/`",
    "created_at": "2013-05-04T15:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176997",
    "user": "@nathanncohen"
}
```

If it works with a Graph's vertices, it should work there too... `:-P`

They're now sorted in the doctest !

Nathann

P.S. : And just to make it clear, it passed all tests on my two machines... `:-/`



---

archive/issue_comments_176998.json:
```json
{
    "body": "Nonono they are already sorted in the set output. The problem is that python compares int and string by address, which depends on memory layout. The best fix for the doctest would be to have string labels for the whole domain.",
    "created_at": "2013-05-04T15:21:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176998",
    "user": "@vbraun"
}
```

Nonono they are already sorted in the set output. The problem is that python compares int and string by address, which depends on memory layout. The best fix for the doctest would be to have string labels for the whole domain.



---

archive/issue_comments_176999.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-04T15:21:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-176999",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_177000.json:
```json
{
    "body": "Oh. I thought that it would compare types. Okayokay, then !\n\nNathann",
    "created_at": "2013-05-04T15:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177000",
    "user": "@nathanncohen"
}
```

Oh. I thought that it would compare types. Okayokay, then !

Nathann



---

archive/issue_comments_177001.json:
```json
{
    "body": "Fixed again !\n\n\n```\nsage: set(group.domain()) == set(Z.vertices())\nTrue\n```\n\n\nIs that ok Volker ? I don't want Jeroen to yell at me again. Nor to send to sage-devel (without naming me) all my past mistakes... `:-P`\n\nNathann",
    "created_at": "2013-05-04T15:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177001",
    "user": "@nathanncohen"
}
```

Fixed again !


```
sage: set(group.domain()) == set(Z.vertices())
True
```


Is that ok Volker ? I don't want Jeroen to yell at me again. Nor to send to sage-devel (without naming me) all my past mistakes... `:-P`

Nathann



---

archive/issue_comments_177002.json:
```json
{
    "body": "Thats works but is fugly.. how about changing the simplicial complex to \n\n```\nsage: Z = SimplicialComplex([['1', '2'],['2', '3', 'a']])\n```\n",
    "created_at": "2013-05-04T15:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177002",
    "user": "@vbraun"
}
```

Thats works but is fugly.. how about changing the simplicial complex to 

```
sage: Z = SimplicialComplex([['1', '2'],['2', '3', 'a']])
```




---

archive/issue_comments_177003.json:
```json
{
    "body": "Attachment [trac_14319-empty.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319-empty.patch) by @nathanncohen created at 2013-05-04 16:02:14",
    "created_at": "2013-05-04T16:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177003",
    "user": "@nathanncohen"
}
```

Attachment [trac_14319-empty.patch](tarball://root/attachments/some-uuid/ticket14319/trac_14319-empty.patch) by @nathanncohen created at 2013-05-04 16:02:14



---

archive/issue_comments_177004.json:
```json
{
    "body": "Feels like it's cheating. Plus it's nice to test weird inputs too. But done.\n\nNathann",
    "created_at": "2013-05-04T16:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177004",
    "user": "@nathanncohen"
}
```

Feels like it's cheating. Plus it's nice to test weird inputs too. But done.

Nathann



---

archive/issue_comments_177005.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-05-04T16:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177005",
    "user": "@nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_177006.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-05-07T09:07:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177006",
    "user": "@jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_177007.json:
```json
{
    "body": "Replying to [comment:10 ncohen]:\n> Patch updated ! I did not touch `list()`. What do you think we should do with it ? Update its docstring to say \"returns the domain\" ? Looks like this is all it is used for. And hopefully, because doing otherwise would assume that it is only defined on integers.\n\nDamned, I missed this. The list method is important! It gives the permutation in list notation, and I am using it in my class tomorrow! Ok, the meaning is a bit dubious when the domain is any set, but I guess the following semantic would make sense:\n\n- domain(): returns self.parent().domain() (if at all needed)\n- list(): returns [self(i) for i in self.parent().domain()]\n- tuple(): returns tuple(self.list())\n\nIf you agree with the above, I'll create a new ticket. And ignore the warning in class tomorrow ...",
    "created_at": "2013-11-04T21:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177007",
    "user": "@nthiery"
}
```

Replying to [comment:10 ncohen]:
> Patch updated ! I did not touch `list()`. What do you think we should do with it ? Update its docstring to say "returns the domain" ? Looks like this is all it is used for. And hopefully, because doing otherwise would assume that it is only defined on integers.

Damned, I missed this. The list method is important! It gives the permutation in list notation, and I am using it in my class tomorrow! Ok, the meaning is a bit dubious when the domain is any set, but I guess the following semantic would make sense:

- domain(): returns self.parent().domain() (if at all needed)
- list(): returns [self(i) for i in self.parent().domain()]
- tuple(): returns tuple(self.list())

If you agree with the above, I'll create a new ticket. And ignore the warning in class tomorrow ...



---

archive/issue_comments_177008.json:
```json
{
    "body": "Yoooooooooo !!\n\n> Damned, I missed this.\n\nLooks like I added you to the Cc when I created the ticket, though. And Florent, too.\n\n> The list method is important! It gives the permutation in list notation, and I am using it in my class tomorrow!\n\nYeah well, you may need it and everything but it isn't even defined properly.\n\n> Ok, the meaning is a bit dubious when the domain is any set\n\nDUBIOUS ? Come on, it has no meaning whatsoever. Other than what \"domain\" returns.\n\n> but I guess the following semantic would make sense:\n> \n> - domain(): returns self.parent().domain() (if at all needed)\n> - list(): returns [self(i) for i in self.parent().domain()]\n> - tuple(): returns tuple(self.list())\n> \n> If you agree with the above, I'll create a new ticket. And ignore the warning in class tomorrow ...\n\nWhy don't you just add some lines to the constructor of `Permutation` ? You could just write `p = Permutation(your_permutation_group_element)`. That would have a meaning.\n\nWhat would a `.list()` function do in `PermutationGroupElement` otherwise ? Hell, what does `.tuple()` do there too ? It's not like `tuple(a.domain())` is so long that it needs a function of its own `O_o`\n\nNathann",
    "created_at": "2013-11-04T21:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177008",
    "user": "@nathanncohen"
}
```

Yoooooooooo !!

> Damned, I missed this.

Looks like I added you to the Cc when I created the ticket, though. And Florent, too.

> The list method is important! It gives the permutation in list notation, and I am using it in my class tomorrow!

Yeah well, you may need it and everything but it isn't even defined properly.

> Ok, the meaning is a bit dubious when the domain is any set

DUBIOUS ? Come on, it has no meaning whatsoever. Other than what "domain" returns.

> but I guess the following semantic would make sense:
> 
> - domain(): returns self.parent().domain() (if at all needed)
> - list(): returns [self(i) for i in self.parent().domain()]
> - tuple(): returns tuple(self.list())
> 
> If you agree with the above, I'll create a new ticket. And ignore the warning in class tomorrow ...

Why don't you just add some lines to the constructor of `Permutation` ? You could just write `p = Permutation(your_permutation_group_element)`. That would have a meaning.

What would a `.list()` function do in `PermutationGroupElement` otherwise ? Hell, what does `.tuple()` do there too ? It's not like `tuple(a.domain())` is so long that it needs a function of its own `O_o`

Nathann



---

archive/issue_comments_177009.json:
```json
{
    "body": "Replying to [comment:49 ncohen]:\n> Looks like I added you to the Cc when I created the ticket, though. And Florent, too.\n\nSure, I take the blame for not spotting this and suggesting something\ndifferent back then.\n\n> DUBIOUS ? Come on, it has no meaning whatsoever. Other than what \"domain\" returns.\n\nYes it does! When the domain is 1...n it gives you the permutation in\nthe usual list notation, which is a basic feature! And otherwise it\nstill shows how the elements of the domain are permuted which is a\nworthwhile information; it does not seem ridiculous to me to do:\n\n\n```\nsage: for sigma in SymmetricGroup(['a','b','c']): print sigma.list()\n['a', 'b', 'c']\n['a', 'c', 'b']\n['b', 'a', 'c']\n['b', 'c', 'a']\n['c', 'a', 'b']\n['c', 'b', 'a']\n```\n\n\nIf there is something to be contested it's that self.domain() returns\nthe domain with its elements permuted; I would just return the domain\nof the parent (like other functions do in Sage).",
    "created_at": "2013-11-04T21:49:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177009",
    "user": "@nthiery"
}
```

Replying to [comment:49 ncohen]:
> Looks like I added you to the Cc when I created the ticket, though. And Florent, too.

Sure, I take the blame for not spotting this and suggesting something
different back then.

> DUBIOUS ? Come on, it has no meaning whatsoever. Other than what "domain" returns.

Yes it does! When the domain is 1...n it gives you the permutation in
the usual list notation, which is a basic feature! And otherwise it
still shows how the elements of the domain are permuted which is a
worthwhile information; it does not seem ridiculous to me to do:


```
sage: for sigma in SymmetricGroup(['a','b','c']): print sigma.list()
['a', 'b', 'c']
['a', 'c', 'b']
['b', 'a', 'c']
['b', 'c', 'a']
['c', 'a', 'b']
['c', 'b', 'a']
```


If there is something to be contested it's that self.domain() returns
the domain with its elements permuted; I would just return the domain
of the parent (like other functions do in Sage).



---

archive/issue_comments_177010.json:
```json
{
    "body": "Yoooooo !\n\n> Yes it does! When the domain is 1...n it gives you the permutation in\n> the usual list notation, which is a basic feature!\n\nI understand that this information is useful in this case, the scope of `PermutationGroupElement` is much larger than that.\n\n> And otherwise it\n> still shows how the elements of the domain are permuted which is a\n> worthwhile information;\n\nIsn't that machine-dependent when domain is a set ?\n\n> If there is something to be contested it's that self.domain() returns\n> the domain with its elements permuted; I would just return the domain\n> of the parent (like other functions do in Sage).\n\nNo objection to that.\n\nWhat would be the problem of a `.to_permutation` method (the findstat guys would love that) which would output the permutation of `1...n` corresponding to the element ? When the domain is not 1...n they could be relabeled \"in any way\" (i.e. the ordering of `.domain()`) to return a permutation of 1...n, and when the domain IS 1...n then it could return the list that you expect ?\n\nOr you could also implement something in the constructor of `Permutation` which would do the same, what do you think ?\n\nWhy the hell do we have both `Permutation` and `PermutationGroupElement` by the way ?\n\nNathann",
    "created_at": "2013-11-04T21:59:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177010",
    "user": "@nathanncohen"
}
```

Yoooooo !

> Yes it does! When the domain is 1...n it gives you the permutation in
> the usual list notation, which is a basic feature!

I understand that this information is useful in this case, the scope of `PermutationGroupElement` is much larger than that.

> And otherwise it
> still shows how the elements of the domain are permuted which is a
> worthwhile information;

Isn't that machine-dependent when domain is a set ?

> If there is something to be contested it's that self.domain() returns
> the domain with its elements permuted; I would just return the domain
> of the parent (like other functions do in Sage).

No objection to that.

What would be the problem of a `.to_permutation` method (the findstat guys would love that) which would output the permutation of `1...n` corresponding to the element ? When the domain is not 1...n they could be relabeled "in any way" (i.e. the ordering of `.domain()`) to return a permutation of 1...n, and when the domain IS 1...n then it could return the list that you expect ?

Or you could also implement something in the constructor of `Permutation` which would do the same, what do you think ?

Why the hell do we have both `Permutation` and `PermutationGroupElement` by the way ?

Nathann



---

archive/issue_comments_177011.json:
```json
{
    "body": "I just ran into the .list() deprecation warning as well, and was a bit confused by p.domain() permuting the domain.  nthiery: were you planning on opening a new ticket to have p.domain() just give back the parent's domain, and restoring the p.list()?  I'm deciding whether to ignore the deprecation or to update my code.",
    "created_at": "2014-01-20T14:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177011",
    "user": "@jasongrout"
}
```

I just ran into the .list() deprecation warning as well, and was a bit confused by p.domain() permuting the domain.  nthiery: were you planning on opening a new ticket to have p.domain() just give back the parent's domain, and restoring the p.list()?  I'm deciding whether to ignore the deprecation or to update my code.



---

archive/issue_comments_177012.json:
```json
{
    "body": "Ohhhhhhhh... An unanswered question from 3 months ago `:-P`\n\nNathann",
    "created_at": "2014-01-20T14:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177012",
    "user": "@nathanncohen"
}
```

Ohhhhhhhh... An unanswered question from 3 months ago `:-P`

Nathann



---

archive/issue_comments_177013.json:
```json
{
    "body": "Jason : what would you want `.list()` to return except what `.domain()` returns ? What it returns at the moment only has a meaning for specific sets of vertices, and this class is meant to handle everything !",
    "created_at": "2014-01-20T15:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177013",
    "user": "@nathanncohen"
}
```

Jason : what would you want `.list()` to return except what `.domain()` returns ? What it returns at the moment only has a meaning for specific sets of vertices, and this class is meant to handle everything !



---

archive/issue_comments_177014.json:
```json
{
    "body": "My confusion is just about the naming of `.domain()`.  At first, it sounded like if `p` was a permutation group element, then `p.domain()` would just give me back the original domain of the permutation group, and `p.list()` would do what it has done in the past---a list representation of the permutation (exactly what nthiery describes).  Even after reading the patch, I had to double-check that domain actually did permute the domain, because it sounds like it shouldn't to me.",
    "created_at": "2014-01-20T15:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177014",
    "user": "@jasongrout"
}
```

My confusion is just about the naming of `.domain()`.  At first, it sounded like if `p` was a permutation group element, then `p.domain()` would just give me back the original domain of the permutation group, and `p.list()` would do what it has done in the past---a list representation of the permutation (exactly what nthiery describes).  Even after reading the patch, I had to double-check that domain actually did permute the domain, because it sounds like it shouldn't to me.



---

archive/issue_comments_177015.json:
```json
{
    "body": "Sorry---a more direct answer: it makes more sense to me if `.domain()` and `.list()` do exactly what nthiery proposes above.",
    "created_at": "2014-01-20T15:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177015",
    "user": "@jasongrout"
}
```

Sorry---a more direct answer: it makes more sense to me if `.domain()` and `.list()` do exactly what nthiery proposes above.



---

archive/issue_comments_177016.json:
```json
{
    "body": "Put another way: to me, it's confusing that `p.parent().domain()` and `p.domain()` return different lists.",
    "created_at": "2014-01-20T15:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177016",
    "user": "@jasongrout"
}
```

Put another way: to me, it's confusing that `p.parent().domain()` and `p.domain()` return different lists.



---

archive/issue_comments_177017.json:
```json
{
    "body": "Oh. I see. Well, `p.parent().domain()` probably makes more sense indeed. Then I would vote for removing `.domain()` too. My point is that you cannot give a meaning to `.list()` unless for \"the subset of groups that are of personal interest to you\" (i.e. those that act on integers) and for this reason I do not think this function should exist. I mean, of course you can define \"list\" but you cannot define what is of interest to you, i.e. that the output of `.list()` defines the permutation itself. This only works when all elements are integers, and there already is a class for that, i.e. permutations.\n\nHow are `p.parent().domain()` and `p.domain()` different ? If it is only the order, there is nothing wrong in that. Those things are morally \"sets\", and only returned as tuples/lists for efficiency reasons I guess.\n\nNathann",
    "created_at": "2014-01-20T16:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177017",
    "user": "@nathanncohen"
}
```

Oh. I see. Well, `p.parent().domain()` probably makes more sense indeed. Then I would vote for removing `.domain()` too. My point is that you cannot give a meaning to `.list()` unless for "the subset of groups that are of personal interest to you" (i.e. those that act on integers) and for this reason I do not think this function should exist. I mean, of course you can define "list" but you cannot define what is of interest to you, i.e. that the output of `.list()` defines the permutation itself. This only works when all elements are integers, and there already is a class for that, i.e. permutations.

How are `p.parent().domain()` and `p.domain()` different ? If it is only the order, there is nothing wrong in that. Those things are morally "sets", and only returned as tuples/lists for efficiency reasons I guess.

Nathann



---

archive/issue_comments_177018.json:
```json
{
    "body": "I'm confused.  What is the problem with renaming the current `p.domain()` to `p.list()`, and saying `p.list()` is going to return the list representation of the permutation (in terms of the domain)?  That's how it always was---but before, the domain was always [1...n].  In other words, if you aren't using the domain argument of the permutation group, p.list() does what it always has done.  If you are using the domain argument, it makes sense that `p.list()` will speak in terms of the domain.",
    "created_at": "2014-01-20T16:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177018",
    "user": "@jasongrout"
}
```

I'm confused.  What is the problem with renaming the current `p.domain()` to `p.list()`, and saying `p.list()` is going to return the list representation of the permutation (in terms of the domain)?  That's how it always was---but before, the domain was always [1...n].  In other words, if you aren't using the domain argument of the permutation group, p.list() does what it always has done.  If you are using the domain argument, it makes sense that `p.list()` will speak in terms of the domain.



---

archive/issue_comments_177019.json:
```json
{
    "body": "> I'm confused.  What is the problem with renaming the current `p.domain()` to `p.list()`, and saying `p.list()` is going to return the list representation of the permutation (in terms of the domain)?  That's how it always was---but before, the domain was always [1...n].  In other words, if you aren't using the domain argument of the permutation group, p.list() does what it always has done.  If you are using the domain argument, it makes sense that `p.list()` will speak in terms of the domain.\n\nI am only worried of what I saw in the code of Permutations : that there are assumptions made by some developpers which are not known by others, and that code will end up being broken because the assumptions are never checked. `.list()` does not *mean* that \"the output represents the permutations when the elements are integers\". Having a `.to_permutation()` function which would return a `Permutation` object (i.e. that only handle integers) and a dictionary associating the elements of the `PermutationGroupElement` to integers is okay.\n\nI just want to be sure that the code stays correct. Right now the list that is returned by `.list()` is a private attribute, and with a name like that there is absolutely no reason to believe that a code which creates this private attribute should ensure the property that you expect.\n\nExactly like the labeling of a poset's vertices with integers is a linear extension : that is assumed nearly everywhere in poset code, and you will sweat for a while before finding it out. If this variable was named \"linear_extension\" there would be no problem, though.\n\nAnd changing the code of `list` to ensure that the list it returns satisfies the property that you expect would ensure that the code is good, but `.list()` really isn't right name for such a function. If you need \"the integer permutation represented by a `PermutationGroupElement`, it looks like what you want is a way to create a Permutation object from a `PermutationGroupElement`.\n\nWell. What do you think ?\n\nNathann",
    "created_at": "2014-01-20T16:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14115#issuecomment-177019",
    "user": "@nathanncohen"
}
```

> I'm confused.  What is the problem with renaming the current `p.domain()` to `p.list()`, and saying `p.list()` is going to return the list representation of the permutation (in terms of the domain)?  That's how it always was---but before, the domain was always [1...n].  In other words, if you aren't using the domain argument of the permutation group, p.list() does what it always has done.  If you are using the domain argument, it makes sense that `p.list()` will speak in terms of the domain.

I am only worried of what I saw in the code of Permutations : that there are assumptions made by some developpers which are not known by others, and that code will end up being broken because the assumptions are never checked. `.list()` does not *mean* that "the output represents the permutations when the elements are integers". Having a `.to_permutation()` function which would return a `Permutation` object (i.e. that only handle integers) and a dictionary associating the elements of the `PermutationGroupElement` to integers is okay.

I just want to be sure that the code stays correct. Right now the list that is returned by `.list()` is a private attribute, and with a name like that there is absolutely no reason to believe that a code which creates this private attribute should ensure the property that you expect.

Exactly like the labeling of a poset's vertices with integers is a linear extension : that is assumed nearly everywhere in poset code, and you will sweat for a while before finding it out. If this variable was named "linear_extension" there would be no problem, though.

And changing the code of `list` to ensure that the list it returns satisfies the property that you expect would ensure that the code is good, but `.list()` really isn't right name for such a function. If you need "the integer permutation represented by a `PermutationGroupElement`, it looks like what you want is a way to create a Permutation object from a `PermutationGroupElement`.

Well. What do you think ?

Nathann
