# Issue 12073: M4RIE test suite fails due to missing dependencies

Issue created by migration from https://trac.sagemath.org/ticket/12245

Original creator: davidloeffler

Original creation time: 2012-01-02 10:24:42

Assignee: tbd

CC:  malb

Keywords: m4rie

The M4RIE test script has dependencies on some libraries which are not made explicit in `spkg/standard/deps` or `SPKG.txt`. These include (at least) Givaro, NTL and GMP/MPIR. Since the Sage build script doesn't know about these dependencies, this means that building Sage in parallel with `SAGE_CHECK=yes` can fail.


---

Attachment


---

Comment by malb created at 2012-01-02 10:32:43

the attached patch should fix the issue but I haven't tested it.


---

Comment by malb created at 2012-01-02 10:32:43

Changing status from new to needs_review.


---

Comment by davidloeffler created at 2012-01-02 10:34:12

Should we not change SPKG.txt to match?


---

Comment by davidloeffler created at 2012-01-02 10:39:23

Patch does not apply (conflicts with #12016)


---

Comment by davidloeffler created at 2012-01-02 10:39:23

Changing status from needs_review to needs_work.


---

Attachment

sage root repo -- apply only this patch


---

Comment by davidloeffler created at 2012-01-02 11:52:08

Here's an essentially equivalent patch which will apply to versions from 4.8.alpha5 onwards. But we should still fix the spkg.txt file.


---

Comment by malb created at 2012-01-02 12:02:11

Ah, thanks. I was in the process of building alpha5. I'll provide an updated SPKG with an updated SPKG.txt.


---

Comment by malb created at 2012-01-02 12:20:28

New SPKG here: http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20111004.p1.spkg


---

Comment by davidloeffler created at 2012-01-02 12:29:17

Changing status from needs_work to needs_review.


---

Comment by davidloeffler created at 2012-01-02 12:29:17

I'm happy with the changes to SPKG.txt, so if you are happy with the deps patch, everybody's happy :-)


---

Comment by malb created at 2012-01-02 12:44:40

Changing status from needs_review to positive_review.


---

Comment by malb created at 2012-01-02 12:44:40

Everybody happy


---

Comment by jdemeyer created at 2012-01-03 08:49:31

Resolution: fixed
