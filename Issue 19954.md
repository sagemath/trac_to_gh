# Issue 19954: implement ExprCondPair equivalent

archive/issues_019954.json:
```json
{
    "body": "CC:  @mforets\n\nThis shows an equivalent to SymPy's `ExprCondPair` is missing in Sage:\n\n```\n        sage: _ = var('y, z')\n        sage: (x^y - z).integrate(y)\n        -y*z + x^y/log(x)\n        sage: (x^y - z).integrate(y, algorithm=\"sympy\")  # see Trac #14694\n        Traceback (most recent call last):\n        ...\n        AttributeError: 'ExprCondPair' object has no attribute '_sage_'\n\nSymPy-1.0:\n>>> integrate(x**y-z,y)\n       \u239b\u23a7  y     for log(x) = 0\u239e\n       \u239c\u23aa                      \u239f\n       \u239c\u23aa   y                  \u239f\n-y\u22c5z + \u239c\u23a8  x                   \u239f\n       \u239c\u23aa\u2500\u2500\u2500\u2500\u2500\u2500    otherwise   \u239f\n       \u239c\u23aalog(x)                \u239f\n       \u239d\u23a9                      \u23a0\n\n```\nWhen it is implemented a SymPy patch should be done for the `_sage_` method.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20191\n\n",
    "created_at": "2016-03-11T08:24:24Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "implement ExprCondPair equivalent",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19954",
    "user": "https://github.com/rwst"
}
```
CC:  @mforets

This shows an equivalent to SymPy's `ExprCondPair` is missing in Sage:

```
        sage: _ = var('y, z')
        sage: (x^y - z).integrate(y)
        -y*z + x^y/log(x)
        sage: (x^y - z).integrate(y, algorithm="sympy")  # see Trac #14694
        Traceback (most recent call last):
        ...
        AttributeError: 'ExprCondPair' object has no attribute '_sage_'

SymPy-1.0:
>>> integrate(x**y-z,y)
       ⎛⎧  y     for log(x) = 0⎞
       ⎜⎪                      ⎟
       ⎜⎪   y                  ⎟
-y⋅z + ⎜⎨  x                   ⎟
       ⎜⎪──────    otherwise   ⎟
       ⎜⎪log(x)                ⎟
       ⎝⎩                      ⎠

```
When it is implemented a SymPy patch should be done for the `_sage_` method.

Issue created by migration from https://trac.sagemath.org/ticket/20191





---

archive/issue_events_054864.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-12T14:36:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19954#event-54864"
}
```



---

archive/issue_comments_274406.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-08-19T14:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19954#issuecomment-274406",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_274407.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-23T06:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19954#issuecomment-274407",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_274408.json:
```json
{
    "body": "Does this solve the issue in the ticket description? If so, I feel like we should add that as a doctest. If not, then you can set a positive review and post in a comment here which ticket will actually address it.",
    "created_at": "2017-09-24T07:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19954#issuecomment-274408",
    "user": "https://github.com/tscrim"
}
```

Does this solve the issue in the ticket description? If so, I feel like we should add that as a doctest. If not, then you can set a positive review and post in a comment here which ticket will actually address it.



---

archive/issue_comments_274409.json:
```json
{
    "body": "Right. #23923 depends on this.",
    "created_at": "2017-09-25T05:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19954#issuecomment-274409",
    "user": "https://github.com/rwst"
}
```

Right. #23923 depends on this.



---

archive/issue_comments_274410.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-25T05:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19954#issuecomment-274410",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_274411.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-26T06:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19954#issuecomment-274411",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054865.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-26T06:57:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19954",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19954#event-54865"
}
```
