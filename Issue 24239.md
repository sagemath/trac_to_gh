# Issue 24239: Properly download symlinked tarballs

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2018-01-05 13:55:12

CC:  embray vbraun fbissey




---

Comment by jdemeyer created at 2018-01-05 14:57:30

New commits:


---

Comment by jdemeyer created at 2018-01-05 14:57:30

Changing status from new to needs_review.


---

Comment by vbraun created at 2018-01-05 23:53:54

So whats the plan, have a symlinked tarball or two packages refer to the same tarball? The latter seems more sane to me. Whereas the former raises some questions, e.g. what to upload to mirrors. 

Looking up tarball name -> package name isn't really important I think. Could just return a set of matching packages.


---

Comment by fbissey created at 2018-01-05 23:57:10

Two packages referring to the same tarball. In #12426 I ended up creating a spkg for gfortran which of course uses gcc's tarball.


---

Comment by jdemeyer created at 2018-01-06 07:48:26

Replying to [comment:7 vbraun]:
> Looking up tarball name -> package name isn't really important I think.

It is needed because the tarballs on the server are stored per package. The URL is something like `.../spkg/upstream/gcc/gcc-7.2.0.xz`, where `gcc` is the package name.


---

Comment by dimpase created at 2018-01-08 12:43:03

I am testing this together with #12426. If this is the only scenario to consider, this looks good. Should then #12426 become a dependence here?


---

Comment by jdemeyer created at 2018-01-08 13:14:08

Replying to [comment:10 dimpase]:
> Should then #12426 become a dependence here?

No. Why should it be?


---

Comment by dimpase created at 2018-01-12 13:22:29

looks good to me.


---

Comment by dimpase created at 2018-01-12 13:27:24

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-01-14 10:14:17

Resolution: fixed
