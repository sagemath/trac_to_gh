# Issue 30984: Alllow arbitrary folder as output directory of docbuild

Issue created by migration from https://trac.sagemath.org/ticket/31221

Original creator: @tobiasdiez

Original creation time: 2021-01-10 16:07:55

CC:  tscrim nthiery chapton mkoeppe jhpalmieri

It was not possible to specify an arbitrary folder as the output of the docbuild, because the citation extension had an assertion that checked that the output directory was a subfolder of Ì€ SAGE_DOC`. This check is replaced by providing some default folder for the citations in case the output directory is not below `SAGE_DOC`. 

This is allows to build the documentation by running `sphinx` manually, which is required by some tools (e.g. the restructuredtext extension for VS code provides a HTML preview of the currently edited rst file by running sphinx on it).


I also used the opportunity to convert the code in question to use pathlib.


---

Comment by git created at 2021-01-10 16:08:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-01-10 16:09:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2021-01-10 16:09:18

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-01-16 18:39:59

Patchbot is green, looks fine to me.


---

Comment by mkoeppe created at 2021-01-16 18:39:59

Changing status from needs_review to positive_review.


---

Comment by @tobiasdiez created at 2021-01-16 19:19:35

Thanks!


---

Comment by vbraun created at 2021-01-24 10:37:18

Resolution: fixed
