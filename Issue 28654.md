# Issue 28654: character art and sympy-conversion of symbolic series

archive/issues_028654.json:
```json
{
    "body": "Keywords: sympy\n\nThis ticket fixes the broken ascii and unicode art of symbolic series by implementing the appropriate conversions to Sympy (which are called by the generic character art methods of symbolic expressions).\n\nBefore:\n\n```\nsage: unicode_art(exp(x).series(x, 4))\n(1, +, 1*x, +, 1/2*x\u00b2, +, 1/6*x\u00b3, +, Order(x\u2074\u207e)\nsage: unicode_art(exp(x).series(x==1, 3))\n((e), +, (e)*(x, -, 1), +, (1/2*e)*(x, -, 1)\u00b2, +, Order((x, -, 1)\u00b3\u207e)\n```\n\n\nAfter:\n\n```\nsage: unicode_art(exp(x).series(x, 4))\n         2    3\n        x    x     \u239b 4\u239e\n1 + x + \u2500\u2500 + \u2500\u2500 + O\u239dx \u23a0\n        2    6\nsage: unicode_art(exp(x).series(x==1, 3))\n                         2\n                \u212f\u22c5(x - 1)     \u239b       3       \u239e\n\u212f + \u212f\u22c5(x - 1) + \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 + O\u239d(x - 1) ; x \u2192 1\u23a0\n                    2\n```\n\n\nExtra care is taken to allow series expansions at non-zero positions as above, as Sympy's function `O` takes slightly different arguments than Sage's `Order`.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28891\n\n",
    "created_at": "2019-12-16T17:42:04Z",
    "labels": [
        "symbolics",
        "minor",
        "bug"
    ],
    "title": "character art and sympy-conversion of symbolic series",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28654",
    "user": "@mwageringel"
}
```
Keywords: sympy

This ticket fixes the broken ascii and unicode art of symbolic series by implementing the appropriate conversions to Sympy (which are called by the generic character art methods of symbolic expressions).

Before:

```
sage: unicode_art(exp(x).series(x, 4))
(1, +, 1*x, +, 1/2*x², +, 1/6*x³, +, Order(x⁴⁾)
sage: unicode_art(exp(x).series(x==1, 3))
((e), +, (e)*(x, -, 1), +, (1/2*e)*(x, -, 1)², +, Order((x, -, 1)³⁾)
```


After:

```
sage: unicode_art(exp(x).series(x, 4))
         2    3
        x    x     ⎛ 4⎞
1 + x + ── + ── + O⎝x ⎠
        2    6
sage: unicode_art(exp(x).series(x==1, 3))
                         2
                ℯ⋅(x - 1)     ⎛       3       ⎞
ℯ + ℯ⋅(x - 1) + ────────── + O⎝(x - 1) ; x → 1⎠
                    2
```


Extra care is taken to allow series expansions at non-zero positions as above, as Sympy's function `O` takes slightly different arguments than Sage's `Order`.


Issue created by migration from https://trac.sagemath.org/ticket/28891





---

archive/issue_comments_404715.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-12-16T17:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28654#issuecomment-404715",
    "user": "@mwageringel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_404716.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-12-16T17:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28654#issuecomment-404716",
    "user": "@mwageringel"
}
```

New commits:



---

archive/issue_comments_404717.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-12-16T19:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28654#issuecomment-404717",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_404718.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-12-16T19:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28654#issuecomment-404718",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_404719.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-16T21:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28654#issuecomment-404719",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_404720.json:
```json
{
    "body": "ok, thx",
    "created_at": "2019-12-16T21:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28654#issuecomment-404720",
    "user": "chapoton"
}
```

ok, thx



---

archive/issue_comments_404721.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-17T22:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28654",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28654#issuecomment-404721",
    "user": "vbraun"
}
```

Resolution: fixed
