# Issue 27849: MR27: Remove use of installed_packages for threejs

Issue created by migration from https://trac.sagemath.org/ticket/28086

Original creator: galois

Original creation time: 2019-06-30 13:38:30

CC:  saraedum paulmasson fbissey arojas @timokau

Isuru Fernando ([`@`isuruf](https://gitlab.com/isuruf)) opened a merge request at https://gitlab.com/sagemath/sage/merge_requests/27:
----









---

Comment by isuruf created at 2019-06-30 13:40:52

Changing type from PLEASE CHANGE to enhancement.


---

Comment by isuruf created at 2019-06-30 13:40:52

Changing component from PLEASE CHANGE to graphics.


---

Comment by galois created at 2019-06-30 16:20:59

New commits added to merge request.  I updated the commit SHA-1.  New commits:


---

Comment by galois created at 2019-06-30 16:38:28

New commits added to merge request.  I updated the commit SHA-1.  New commits:


---

Comment by paulmasson created at 2019-06-30 21:20:07

While this will certainly work, what about a global variable `THREEJS_VER` evaluated just once?


---

Comment by fbissey created at 2019-06-30 21:24:24

I am rather indifferent on how this is implemented. But even if create a variable `THREEJS_VER` in `env.py` it will be evaluated each time you call? Or are you thinking of hard-coding the version? I am not a big fan of hardcoding myself, is it really that detrimental?


---

Comment by paulmasson created at 2019-06-30 21:50:35

Was thinking `env.py` only ran once, but if it runs ever time it is called then there will be no difference.


---

Comment by paulmasson created at 2019-06-30 22:34:36

Changing status from needs_review to positive_review.


---

Comment by paulmasson created at 2019-06-30 22:34:36

Works for me


---

Comment by paulmasson created at 2019-06-30 22:34:36

Changing keywords from "" to "threejs".


---

Comment by chapoton created at 2019-07-01 06:49:53

Changing status from positive_review to needs_work.


---

Comment by chapoton created at 2019-07-01 06:49:53

Patchbot reports several doctest failures, guys..

And patchbot plugins are not green either.


---

Comment by fbissey created at 2019-07-01 07:34:47

That's because the dependency at #28007 is merged and closed but not in any release or beta yet. I am surprised it merges on the patchbots.


---

Comment by chapoton created at 2019-07-02 07:38:02

ok then, but still the plugins "pyflakes" and "pycodestyle" are not green.


---

Comment by galois created at 2019-07-02 17:07:14

New commits added to merge request.  I updated the commit SHA-1.  New commits:


---

Comment by isuruf created at 2019-07-02 17:10:28

Changing status from needs_work to needs_review.


---

Comment by isuruf created at 2019-07-02 17:10:28

`pyflakes` error is for a line I didn't change. I've fixed `pycodestyle` error.


---

Comment by paulmasson created at 2019-07-10 00:48:05

Changing status from needs_review to positive_review.


---

Comment by paulmasson created at 2019-07-10 00:48:05

Any good reason not to set this back to positive review?


---

Comment by vbraun created at 2019-07-14 08:32:21

Resolution: fixed
