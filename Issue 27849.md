# Issue 27849: MR27: Remove use of installed_packages for threejs

archive/issues_027849.json:
```json
{
    "body": "CC:  @saraedum @paulmasson @kiwifb @antonio-rojas @timokau\n\nIsuru Fernando ([`@`isuruf](https://gitlab.com/isuruf)) opened a merge request at https://gitlab.com/sagemath/sage/merge_requests/27:\n----\n\n\n\n\n\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28086\n\n",
    "created_at": "2019-06-30T13:38:30Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "MR27: Remove use of installed_packages for threejs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27849",
    "user": "galois"
}
```
CC:  @saraedum @paulmasson @kiwifb @antonio-rojas @timokau

Isuru Fernando ([`@`isuruf](https://gitlab.com/isuruf)) opened a merge request at https://gitlab.com/sagemath/sage/merge_requests/27:
----








Issue created by migration from https://trac.sagemath.org/ticket/28086





---

archive/issue_comments_393318.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-06-30T13:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393318",
    "user": "@isuruf"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_393319.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to graphics.",
    "created_at": "2019-06-30T13:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393319",
    "user": "@isuruf"
}
```

Changing component from PLEASE CHANGE to graphics.



---

archive/issue_comments_393320.json:
```json
{
    "body": "New commits added to merge request.  I updated the commit SHA-1.  New commits:",
    "created_at": "2019-06-30T16:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393320",
    "user": "galois"
}
```

New commits added to merge request.  I updated the commit SHA-1.  New commits:



---

archive/issue_comments_393321.json:
```json
{
    "body": "New commits added to merge request.  I updated the commit SHA-1.  New commits:",
    "created_at": "2019-06-30T16:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393321",
    "user": "galois"
}
```

New commits added to merge request.  I updated the commit SHA-1.  New commits:



---

archive/issue_comments_393322.json:
```json
{
    "body": "While this will certainly work, what about a global variable `THREEJS_VER` evaluated just once?",
    "created_at": "2019-06-30T21:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393322",
    "user": "@paulmasson"
}
```

While this will certainly work, what about a global variable `THREEJS_VER` evaluated just once?



---

archive/issue_comments_393323.json:
```json
{
    "body": "I am rather indifferent on how this is implemented. But even if create a variable `THREEJS_VER` in `env.py` it will be evaluated each time you call? Or are you thinking of hard-coding the version? I am not a big fan of hardcoding myself, is it really that detrimental?",
    "created_at": "2019-06-30T21:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393323",
    "user": "@kiwifb"
}
```

I am rather indifferent on how this is implemented. But even if create a variable `THREEJS_VER` in `env.py` it will be evaluated each time you call? Or are you thinking of hard-coding the version? I am not a big fan of hardcoding myself, is it really that detrimental?



---

archive/issue_comments_393324.json:
```json
{
    "body": "Was thinking `env.py` only ran once, but if it runs ever time it is called then there will be no difference.",
    "created_at": "2019-06-30T21:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393324",
    "user": "@paulmasson"
}
```

Was thinking `env.py` only ran once, but if it runs ever time it is called then there will be no difference.



---

archive/issue_comments_393325.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-30T22:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393325",
    "user": "@paulmasson"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_393326.json:
```json
{
    "body": "Works for me",
    "created_at": "2019-06-30T22:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393326",
    "user": "@paulmasson"
}
```

Works for me



---

archive/issue_comments_393327.json:
```json
{
    "body": "Changing keywords from \"\" to \"threejs\".",
    "created_at": "2019-06-30T22:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393327",
    "user": "@paulmasson"
}
```

Changing keywords from "" to "threejs".



---

archive/issue_comments_393328.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-07-01T06:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393328",
    "user": "@fchapoton"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_393329.json:
```json
{
    "body": "Patchbot reports several doctest failures, guys..\n\nAnd patchbot plugins are not green either.",
    "created_at": "2019-07-01T06:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393329",
    "user": "@fchapoton"
}
```

Patchbot reports several doctest failures, guys..

And patchbot plugins are not green either.



---

archive/issue_comments_393330.json:
```json
{
    "body": "That's because the dependency at #28007 is merged and closed but not in any release or beta yet. I am surprised it merges on the patchbots.",
    "created_at": "2019-07-01T07:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393330",
    "user": "@kiwifb"
}
```

That's because the dependency at #28007 is merged and closed but not in any release or beta yet. I am surprised it merges on the patchbots.



---

archive/issue_comments_393331.json:
```json
{
    "body": "ok then, but still the plugins \"pyflakes\" and \"pycodestyle\" are not green.",
    "created_at": "2019-07-02T07:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393331",
    "user": "@fchapoton"
}
```

ok then, but still the plugins "pyflakes" and "pycodestyle" are not green.



---

archive/issue_comments_393332.json:
```json
{
    "body": "New commits added to merge request.  I updated the commit SHA-1.  New commits:",
    "created_at": "2019-07-02T17:07:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393332",
    "user": "galois"
}
```

New commits added to merge request.  I updated the commit SHA-1.  New commits:



---

archive/issue_comments_393333.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-02T17:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393333",
    "user": "@isuruf"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_393334.json:
```json
{
    "body": "`pyflakes` error is for a line I didn't change. I've fixed `pycodestyle` error.",
    "created_at": "2019-07-02T17:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393334",
    "user": "@isuruf"
}
```

`pyflakes` error is for a line I didn't change. I've fixed `pycodestyle` error.



---

archive/issue_comments_393335.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-10T00:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393335",
    "user": "@paulmasson"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_393336.json:
```json
{
    "body": "Any good reason not to set this back to positive review?",
    "created_at": "2019-07-10T00:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393336",
    "user": "@paulmasson"
}
```

Any good reason not to set this back to positive review?



---

archive/issue_comments_393337.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-14T08:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27849#issuecomment-393337",
    "user": "@vbraun"
}
```

Resolution: fixed
