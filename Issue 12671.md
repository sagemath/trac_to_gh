# Issue 12671: Make zeromq and pyzmq standard packages

archive/issues_012671.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  jason afleckenstein niles benjaminfjones\n\nKeywords: zeromq zmq 0mq pyzmq\n\nThe single cell server already requires zeromq+pyzmq, and the ordinary notebook server probably will soon. Since they are also useful to work with any kind of distributed memory machines, we should just make them default spkgs. They are also pretty small, about 2MB altogether.\n\nThese spkgs are based on version that William created in January 2011, but updated to the newest upstream version and include a SPKG.txt:\n\n* [http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg)\n* [http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg)\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/12843\n\n",
    "created_at": "2012-04-14T20:58:04Z",
    "labels": [
        "packages",
        "major",
        "enhancement"
    ],
    "title": "Make zeromq and pyzmq standard packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12671",
    "user": "vbraun"
}
```
Assignee: tbd

CC:  jason afleckenstein niles benjaminfjones

Keywords: zeromq zmq 0mq pyzmq

The single cell server already requires zeromq+pyzmq, and the ordinary notebook server probably will soon. Since they are also useful to work with any kind of distributed memory machines, we should just make them default spkgs. They are also pretty small, about 2MB altogether.

These spkgs are based on version that William created in January 2011, but updated to the newest upstream version and include a SPKG.txt:

* [http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg)
* [http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg)



Issue created by migration from https://trac.sagemath.org/ticket/12843





---

archive/issue_comments_151322.json:
```json
{
    "body": "Changing keywords from \"zeromq zmq 0mq pyzmq\" to \"zeromq zmq 0mq pyzmq sd40.5\".",
    "created_at": "2012-05-25T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151322",
    "user": "benjaminfjones"
}
```

Changing keywords from "zeromq zmq 0mq pyzmq" to "zeromq zmq 0mq pyzmq sd40.5".



---

archive/issue_comments_151323.json:
```json
{
    "body": "I started to review the two spkg's. `zeromq-2.2.0.p0.spkg` installs successfully. I unpacked and re-packaged using `sage-pkg` without problems. I did see some tmp files lying around:\n\n* SPKG.txt~\n* spkg-install~\n\nand `pyzmq-2.1.11.p0.spkg` has:\n\n* SPKG.txt~\n\nAfter install `import zmq` works and I experimented with some simple examples from the ZMQ guide. \n\n----\n\nIf anyone wants to do some simple testing, you can grab the client and server scripts in: http://sage.math.washington.edu/home/bjones/sage-devel/zmq/, open two terminals and run:\n\n1st terminal:\n\n```\nsage -python hwserver.py\n```\n\n\n2nd terminal:\n\n```\nsage -python hwclient.py\n```\n",
    "created_at": "2012-05-25T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151323",
    "user": "benjaminfjones"
}
```

I started to review the two spkg's. `zeromq-2.2.0.p0.spkg` installs successfully. I unpacked and re-packaged using `sage-pkg` without problems. I did see some tmp files lying around:

* SPKG.txt~
* spkg-install~

and `pyzmq-2.1.11.p0.spkg` has:

* SPKG.txt~

After install `import zmq` works and I experimented with some simple examples from the ZMQ guide. 

----

If anyone wants to do some simple testing, you can grab the client and server scripts in: http://sage.math.washington.edu/home/bjones/sage-devel/zmq/, open two terminals and run:

1st terminal:

```
sage -python hwserver.py
```


2nd terminal:

```
sage -python hwclient.py
```




---

archive/issue_comments_151324.json:
```json
{
    "body": "I updated the spkg files to remove the backup files and committed changes.",
    "created_at": "2012-05-26T05:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151324",
    "user": "vbraun"
}
```

I updated the spkg files to remove the backup files and committed changes.



---

archive/issue_comments_151325.json:
```json
{
    "body": "Sorry, looks like we missed in zeromq:\n\n* .hgignore~\n\nThe pyzmq spkg looks good.\n\n----\n\nWhat's the procedure, after a positive review? A sage-devel vote on inclusion of the packages as standard?",
    "created_at": "2012-05-26T05:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151325",
    "user": "benjaminfjones"
}
```

Sorry, looks like we missed in zeromq:

* .hgignore~

The pyzmq spkg looks good.

----

What's the procedure, after a positive review? A sage-devel vote on inclusion of the packages as standard?



---

archive/issue_comments_151326.json:
```json
{
    "body": "First it should optional for some time, usually.  So a vote to make it optional would usually be next.",
    "created_at": "2012-05-26T06:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151326",
    "user": "jason"
}
```

First it should optional for some time, usually.  So a vote to make it optional would usually be next.



---

archive/issue_comments_151327.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-26T06:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151327",
    "user": "vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_151328.json:
```json
{
    "body": "I updated the zeromq spkg to remove the .hgignore~\n\nI'll change this ticket to say \"make optional package\" and we can take it to sage-devel from there. We don't need to vote on that, only to make it standard.",
    "created_at": "2012-05-26T06:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151328",
    "user": "vbraun"
}
```

I updated the zeromq spkg to remove the .hgignore~

I'll change this ticket to say "make optional package" and we can take it to sage-devel from there. We don't need to vote on that, only to make it standard.



---

archive/issue_comments_151329.json:
```json
{
    "body": "As long as nothing else in Sage depends on zeromq, obviously zeromq should not be a standard package.",
    "created_at": "2012-05-26T06:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151329",
    "user": "jdemeyer"
}
```

As long as nothing else in Sage depends on zeromq, obviously zeromq should not be a standard package.



---

archive/issue_comments_151330.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-26T06:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151330",
    "user": "benjaminfjones"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_151331.json:
```json
{
    "body": "Looks good. Positive review.",
    "created_at": "2012-05-26T06:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151331",
    "user": "benjaminfjones"
}
```

Looks good. Positive review.



---

archive/issue_comments_151332.json:
```json
{
    "body": "Changing component from packages to optional packages.",
    "created_at": "2012-05-26T07:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151332",
    "user": "jdemeyer"
}
```

Changing component from packages to optional packages.



---

archive/issue_comments_151333.json:
```json
{
    "body": "both spkges are in the server's list of optional ones and on their way around the world :)",
    "created_at": "2012-05-26T13:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151333",
    "user": "schilly"
}
```

both spkges are in the server's list of optional ones and on their way around the world :)



---

archive/issue_comments_151334.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-05-26T16:31:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12671",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12671#issuecomment-151334",
    "user": "jdemeyer"
}
```

Resolution: fixed
