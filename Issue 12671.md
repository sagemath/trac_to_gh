# Issue 12671: Make zeromq and pyzmq standard packages

Issue created by migration from https://trac.sagemath.org/ticket/12843

Original creator: vbraun

Original creation time: 2012-04-14 20:58:04

Assignee: tbd

CC:  jason afleckenstein niles benjaminfjones

Keywords: zeromq zmq 0mq pyzmq

The single cell server already requires zeromq+pyzmq, and the ordinary notebook server probably will soon. Since they are also useful to work with any kind of distributed memory machines, we should just make them default spkgs. They are also pretty small, about 2MB altogether.

These spkgs are based on version that William created in January 2011, but updated to the newest upstream version and include a SPKG.txt:

  * [http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg)
  * [http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg)




---

Comment by benjaminfjones created at 2012-05-25 22:55:40

Changing keywords from "zeromq zmq 0mq pyzmq" to "zeromq zmq 0mq pyzmq sd40.5".


---

Comment by benjaminfjones created at 2012-05-25 22:55:40

I started to review the two spkg's. `zeromq-2.2.0.p0.spkg` installs successfully. I unpacked and re-packaged using `sage-pkg` without problems. I did see some tmp files lying around:

 * SPKG.txt~
 * spkg-install~

and `pyzmq-2.1.11.p0.spkg` has:

 * SPKG.txt~

After install `import zmq` works and I experimented with some simple examples from the ZMQ guide. 

----

If anyone wants to do some simple testing, you can grab the client and server scripts in: http://sage.math.washington.edu/home/bjones/sage-devel/zmq/, open two terminals and run:

1st terminal:

```
sage -python hwserver.py
```


2nd terminal:

```
sage -python hwclient.py
```



---

Comment by vbraun created at 2012-05-26 05:38:55

I updated the spkg files to remove the backup files and committed changes.


---

Comment by benjaminfjones created at 2012-05-26 05:51:33

Sorry, looks like we missed in zeromq:

 * .hgignore~

The pyzmq spkg looks good.

----

What's the procedure, after a positive review? A sage-devel vote on inclusion of the packages as standard?


---

Comment by jason created at 2012-05-26 06:03:45

First it should optional for some time, usually.  So a vote to make it optional would usually be next.


---

Comment by vbraun created at 2012-05-26 06:11:39

Changing status from new to needs_review.


---

Comment by vbraun created at 2012-05-26 06:11:39

I updated the zeromq spkg to remove the .hgignore~

I'll change this ticket to say "make optional package" and we can take it to sage-devel from there. We don't need to vote on that, only to make it standard.


---

Comment by jdemeyer created at 2012-05-26 06:16:40

As long as nothing else in Sage depends on zeromq, obviously zeromq should not be a standard package.


---

Comment by benjaminfjones created at 2012-05-26 06:56:52

Changing status from needs_review to positive_review.


---

Comment by benjaminfjones created at 2012-05-26 06:56:52

Looks good. Positive review.


---

Comment by jdemeyer created at 2012-05-26 07:07:07

Changing component from packages to optional packages.


---

Comment by schilly created at 2012-05-26 13:59:55

both spkges are in the server's list of optional ones and on their way around the world :)


---

Comment by jdemeyer created at 2012-05-26 16:31:47

Resolution: fixed
