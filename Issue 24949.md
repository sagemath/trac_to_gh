# Issue 24949: Use ZZ.random_element for random_prime

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2018-04-17 08:58:45

The switches the random number generation in `random_prime` to use `ZZ.random_element` instead of Python's `random.randint`.

The original motivation is that this gives consistent results between Python 2 and Python 3 (whose `randint` implementations have slight differences).  The results should be the same insofar as providing a uniform distribution, though someone with better knowledge may want to check that the tests still make sense as written.

Unsurprisingly, however, this gives `random_prime` a speedup of roughly 5 times (at least on my system).


---

Comment by embray created at 2018-04-17 16:23:16

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-04-18 06:32:31

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2018-04-18 06:32:31

ok


---

Comment by vbraun created at 2018-05-14 17:35:50

Resolution: fixed
