# Issue 20856: Unhandled case in EllipticCurve_from_cubic()

Issue created by migration from Trac.

Original creator: cremona

Original creation time: 2016-07-25 15:56:48

_I ran into an unexpected error in `EllipticCurve_from_cubic`, with the following cubic and rational point:_

```python
R.<x,y,z> = QQ[]
cubic = -3*x^2*y + 3*x*y^2 + 4*x^2*z + 4*y^2*z - 3*x*z^2 + 3*y*z^2 - 8*z^3
EllipticCurve_from_cubic(cubic, (-4/5, 4/5, 3/5))
```

_Note that it works as expected using instead the different rational point `(1, 1, 0)`._

_On investigation, I found there is a case that isn’t handled correctly. The code computes_

```python
P2 = chord_and_tangent(F, P)
```

_and if `P2` is projectively equivalent to `P` then it uses a different algorithm. If they’re different, it then computes_

```python
P3 = chord_and_tangent(F, P2)
```

_and uses an algorithm that fails if `P3` is equivalent to `P2`._

_I think the attached patch fixes this problem. At least, with this patch it now works for my examples._

----

(From [sage-devel](http://permalink.gmane.org/gmane.comp.mathematics.sage.devel/87847).)



---

Attachment

Patch by Robin Houston as posted on sage-devel.


---

Comment by leif created at 2016-07-25 16:11:24

Duplicate of #21092 (although there the patch isn't attached).


---

Comment by leif created at 2016-07-25 16:11:24

Changing status from new to needs_review.


---

Comment by leif created at 2016-07-25 16:12:11

Changing status from needs_review to positive_review.


---

Comment by embray created at 2016-08-30 13:32:25

Resolution: wontfix


---

Comment by embray created at 2016-08-30 13:32:25

Determined to be invalid/duplicate/wontfix (closing as "wontfix" as a catch-all resolution).
