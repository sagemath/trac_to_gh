# Issue 19375: revert 14243

Issue created by migration from https://trac.sagemath.org/ticket/19612

Original creator: was

Original creation time: 2015-11-21 20:02:52

CC:  dunfield vbraun




---

Comment by fbissey created at 2015-11-21 20:23:35

Suggestion:
#14243 was originally included to avoid interference from installation done outside of `sage`. Something `SMC` and `sage-on-gentoo` don't really have to worry about. A middle ground could be to have `sage`'s python to look for user installed packages in `DOT_SAGE/site-packages`.


---

Comment by was created at 2015-11-22 00:54:32

Replying to [comment:1 fbissey]:
> Suggestion:
> #14243 was originally included to avoid interference from installation done outside of `sage`. 

I realize that.  Yet how many people reported problems with this -- one over 10 years?  I think we should revert #14243, and instead just add something to the FAQ about `export PYTHONNOUSERSITE=yes`.  If somebody really does have ~/.local/ stuff that is interfering with sage's python, they could set `export PYTHONNOUSERSITE=yes` themselves easily enough.


---

Comment by dunfield created at 2015-11-23 13:52:10

I agree with William that #14243 was a mistake.  I make heavy use of the user site-packages directory when working with Sage, so #14243 causes a lot of problems for me.  I think it would be great to revert #14243 now, hopefully making it into Sage 6.10.  

In the long term, having Sage's user site-packages be in a nonstandard location (for example `DOT_SAGE/site-packages` as suggested above) has no negatives that I can see and would make things more robust in certain cases.  On OS X, this is already effectively the case, since any frameworks build of Python (e.g. the system Python or the one from Python.org) uses  `~/Library/Python/2.7/lib/python/site-packages` rather than `~/.local/lib/python/site-packages` as the default user site-packages directory.


---

Comment by jhpalmieri created at 2015-11-23 17:41:41

I don't object to reverting #14243. One disadvantage to putting Sage's packages in a non-standard location is that users might need to install them twice: once for the system Python and once for Sage. This would not be what people expect. I don't know that much about the Python packaging system; can we have Sage's Python look in several different places for packages (`$DOT_SAGE/site-package` and also unless some Sage-specific environment variable is set, `~/.local/lib/python/site-packages` and/or `~/Library/Python/2.7/lib/python/site-packages`)?


---

Comment by novoselt created at 2015-11-24 21:51:31

I am not affected by this exact issue, but pretty much the same one had to be dealt with for enabling R plotting in SageMathCell. So I am of the opinion that Sage should not interfere with users trying to install extra packages (or config files) for its components. For collisions happening because of this, it would be nice to have clear instructions on how to proceed, but no need for silent preventive actions.


---

Comment by mgoerner created at 2016-02-24 03:26:48

Changing status from new to needs_review.


---

Comment by mgoerner created at 2016-02-24 03:26:48

New commits:


---

Comment by vbraun created at 2016-02-25 14:48:44

Author name must be real name


---

Comment by dunfield created at 2016-02-28 17:50:18

Changing status from needs_review to positive_review.


---

Comment by dunfield created at 2016-02-28 17:50:18

Tried it out, and it works as advertised.  Setting status to positive review.


---

Comment by vbraun created at 2016-02-29 19:05:22

Resolution: fixed
