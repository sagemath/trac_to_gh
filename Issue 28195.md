# Issue 28195: Speed-up constructor of Matrix_modn_dense_template

Issue created by migration from https://trac.sagemath.org/ticket/28432

Original creator: cpernet

Original creation time: 2019-08-30 15:41:20

When a new matrix mod p with less than 23 bits is constructed, without specifying the intializing value, the constructor still scans the m x n coefficients (all equal to 0) and reduce them mod p.

This eats up a significant portion of the time taken to compute basic operations such as matrix products.


---

Comment by cpernet created at 2019-08-30 15:44:39

New commits:


---

Comment by cpernet created at 2019-08-30 15:44:39

Changing status from new to needs_review.


---

Comment by chapoton created at 2019-08-31 07:15:52

one possibly related failure in src/sage/matrix/matrix_modn_dense_template.pxi, see patchbot report


---

Comment by cpernet created at 2019-08-31 08:13:31

Yes indeed, I'll look into it.


---

Comment by cpernet created at 2019-08-31 08:13:31

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-10-29 17:29:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-04-14 19:41:51

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.


---

Comment by mkoeppe created at 2021-07-19 00:44:56

Setting a new milestone for this ticket based on a cursory review.
