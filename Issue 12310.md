# Issue 12310: isinstance failure on lazy imported class

Issue created by migration from https://trac.sagemath.org/ticket/12482

Original creator: nthiery

Original creation time: 2012-02-09 16:11:41

Assignee: jason

CC:  rishi jason rlm rbradshaw

isinstance may fail on a lazy imported class, which can cause hard to track history-dependent failures (just been hit)::


```
sage: lazy_import('sage.rings.rational_field', 'RationalField')
sage: isinstance(QQ, RationalField)
False
sage: isinstance(QQ, RationalField)
True
```


Would there be a way to ensure that isinstance triggers the importing of the class *before* its use?


---

Comment by nthiery created at 2012-02-09 16:28:31

Changing keywords from "" to "Cernay2012".


---

Comment by jdemeyer created at 2015-11-29 18:06:07

New commits:


---

Comment by jdemeyer created at 2015-11-29 18:06:07

Changing status from new to needs_review.


---

Comment by vbraun created at 2015-11-30 09:13:54

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2015-11-30 09:18:44

Nicely done Jeroen! Thanks a lot, that will make lazy imported classes much more practical and safe.


---

Comment by vbraun created at 2015-11-30 23:09:39

Resolution: fixed
