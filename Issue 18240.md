# Issue 18240: Update git_trac to the latest commit of the repo

archive/issues_018240.json:
```json
{
    "body": "CC:  jdemeyer vbraun vdelecroix\n\nBy updating Sage's shipped version of git_trac, we make it possible to checkout tickets without having a trac account.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18477\n\n",
    "created_at": "2015-05-22T20:51:13Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Update git_trac to the latest commit of the repo",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18240",
    "user": "ncohen"
}
```
CC:  jdemeyer vbraun vdelecroix

By updating Sage's shipped version of git_trac, we make it possible to checkout tickets without having a trac account.

Issue created by migration from https://trac.sagemath.org/ticket/18477





---

archive/issue_comments_246314.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-22T21:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246314",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_246315.json:
```json
{
    "body": "The tarball is missing a top-level directory (usually called `src` in Sage).",
    "created_at": "2015-05-23T08:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246315",
    "user": "jdemeyer"
}
```

The tarball is missing a top-level directory (usually called `src` in Sage).



---

archive/issue_comments_246316.json:
```json
{
    "body": "Arg, sorry for that. I built it with \"git archive\" but it was not such a good idea after all. Will be fixed in a second.",
    "created_at": "2015-05-23T08:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246316",
    "user": "ncohen"
}
```

Arg, sorry for that. I built it with "git archive" but it was not such a good idea after all. Will be fixed in a second.



---

archive/issue_comments_246317.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-05-23T08:31:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246317",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_246318.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-03T10:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246318",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_246319.json:
```json
{
    "body": "I would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.",
    "created_at": "2015-06-03T10:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246319",
    "user": "jdemeyer"
}
```

I would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.



---

archive/issue_comments_246320.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-03T23:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246320",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_246321.json:
```json
{
    "body": "> I would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.\n\nWell. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function? Or do you think that it's 'oversolving' the problem?\n\nNathann",
    "created_at": "2015-06-04T06:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246321",
    "user": "ncohen"
}
```

> I would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.

Well. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function? Or do you think that it's 'oversolving' the problem?

Nathann



---

archive/issue_comments_246322.json:
```json
{
    "body": "Replying to [comment:12 ncohen]:\n> Well. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function?\nI think that's a good solution. Just make sure that the \"ensure that the `trac` remote exists\" function is cached, in case a scripts needs to call those functions many times.\n\nBut really, this is Volker's code, so it's better to ask him.",
    "created_at": "2015-06-04T07:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246322",
    "user": "jdemeyer"
}
```

Replying to [comment:12 ncohen]:
> Well. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function?
I think that's a good solution. Just make sure that the "ensure that the `trac` remote exists" function is cached, in case a scripts needs to call those functions many times.

But really, this is Volker's code, so it's better to ask him.



---

archive/issue_comments_246323.json:
```json
{
    "body": "> I think that's a good solution.\n\nI trust your sense of 'cleanness' more than I trust mine on those matters.\n\n> But really, this is Volker's code, so it's better to ask him.\n\nYes of course.\n\nNathann",
    "created_at": "2015-06-04T07:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246323",
    "user": "ncohen"
}
```

> I think that's a good solution.

I trust your sense of 'cleanness' more than I trust mine on those matters.

> But really, this is Volker's code, so it's better to ask him.

Yes of course.

Nathann



---

archive/issue_comments_246324.json:
```json
{
    "body": "This is https://github.com/sagemath/git-trac-command/issues/22",
    "created_at": "2015-06-04T08:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18240",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18240#issuecomment-246324",
    "user": "vbraun"
}
```

This is https://github.com/sagemath/git-trac-command/issues/22
