# Issue 21292: Bug in factoring of general symbolic expressions

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2016-09-18 13:24:48


```
sage: (sin(x)^2-1).factor()
(sin(x) + 1)*(sin(x) - 1)
sage: f(x) = function('f')(x)
sage: (f(x)^2-1).factor()
(f(x) + 1)*(f(x) - 1)
sage: f(x).diff(x)
diff(f(x), x)
sage: (f(x).diff(x)^2-1).factor()
...
NotImplementedError: derivative

sage: SR((f(x).diff(x)^2-1)._maxima_().factor())
(diff(f(x), x) + 1)*(diff(f(x), x) - 1)
```

`factor()` falls back to Maxima if it cannot convert the expression to a polynomial. It fails to catch `NotImplementedError` from `expression_conversion.py` however.


---

Comment by rws created at 2016-09-18 13:34:43

Changing status from new to needs_review.


---

Comment by rws created at 2016-09-18 13:34:43

New commits:


---

Comment by mmezzarobba created at 2016-09-20 08:21:37

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-09-21 20:15:37

Resolution: fixed
