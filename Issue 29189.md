# Issue 29189: Make dependencies of optional packages more detailed, no longer depend on all standard packages

Issue created by migration from https://trac.sagemath.org/ticket/29426

Original creator: mkoeppe

Original creation time: 2020-03-29 17:33:24

CC:  embray dimpase jhpalmieri

#28095 (Add `--enable-OPTIONALSPKG` options to `configure`) made it possible to build Sage and a number of optional packages in one pass.

To improve opportunities for build parallelization, we should make dependencies of optional packages more detailed and no longer depend on all standard packages.

This will also make it faster to test builds from scratch to a specific optional package.



---

Comment by mkoeppe created at 2020-04-14 06:33:01

pushing these forward to 9.2


---

Comment by mkoeppe created at 2020-04-15 05:34:23

Tests ran at https://github.com/mkoeppe/sage/actions/runs/77739151

Several optional packages that run their tests with the Sage doctester depend on `ipywidgets` when `SAGE_CHECK=yes`.
See for example https://github.com/mkoeppe/sage/runs/584777416?check_suite_focus=true: 
`sage_numerical_backends_coin`, `p_group_cohomology`
----
New commits:


---

Comment by git created at 2020-04-17 07:29:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-04-17 20:11:53

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2020-04-17 20:12:19

Rebased on top of #26018


---

Comment by mkoeppe created at 2020-04-18 19:00:27

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-04-18 19:21:24

New tests are running at https://github.com/mkoeppe/sage/actions/runs/81669565 (with #29341)


---

Comment by mkoeppe created at 2020-04-19 19:24:33

This seems to work well. Needs review


---

Comment by @kliem created at 2020-04-21 07:48:47

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2020-04-21 07:48:47

LGTM.


---

Comment by mkoeppe created at 2020-04-21 16:11:13

Thanks!


---

Comment by vbraun created at 2020-04-23 22:32:45

Resolution: fixed


---

Comment by mkoeppe created at 2020-08-10 02:41:57

Follow-up: #30324


---

Comment by embray created at 2020-08-31 16:12:33

+1 thanks
