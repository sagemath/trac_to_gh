# Issue 28407: unicode art fails for empty skew partition

Issue created by migration from https://trac.sagemath.org/ticket/28644

Original creator: mantepse

Original creation time: 2019-10-22 10:04:34


```
sage: unicode_art(SkewPartition([[],[]]))
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
<ipython-input-75-4f053427a9a8> in <module>()
----> 1 unicode_art(SkewPartition([[],[]]))

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/misc/lazy_import.pyx in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:3697)()
    352             True
    353         """
--> 354         return self.get_object()(*args, **kwds)
    355 
    356     def __repr__(self):

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/typeset/unicode_art.pyc in unicode_art(*obj, **kwds)
    149         raise ValueError('unknown keyword arguments: {0}'.format(list(kwds)))
    150     if len(obj) == 1:
--> 151         return _unicode_art_factory.build(obj[0], baseline=baseline)
    152     if not isinstance(separator, UnicodeArt):
    153         separator = _unicode_art_factory.build(separator, baseline=sep_baseline)

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/typeset/character_art_factory.pyc in build(self, obj, baseline)
    120             return obj
    121         if isinstance(obj, SageObject):
--> 122             return self.build_from_magic_method(obj, baseline)
    123         if baseline is None:
    124             baseline = 0

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/typeset/character_art_factory.pyc in build_from_magic_method(self, obj, baseline)
    168         """
    169         magic_method = getattr(obj, self.magic_method_name)
--> 170         ret = magic_method()
    171         if baseline is not None:
    172             ret._baseline = baseline

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/skew_partition.pyc in _unicode_art_(self)
    466 
    467         # working with English conventions
--> 468         txt = [s * inn[0] + tl + t * (out[0] - inn[0] - 1) + tr]
    469         for i in range(len(out) - 1):
    470             o0 = out[i]

IndexError: list index out of range
```



---

Comment by chapoton created at 2019-10-23 18:56:24

Changing status from new to needs_review.


---

Comment by chapoton created at 2019-10-23 18:56:24

done
----
New commits:


---

Comment by chapoton created at 2019-10-24 09:03:44

green bot, please review. Note that the case of skew partitions with empty lines is still not working, as explained in the doc.


---

Comment by mantepse created at 2019-10-24 09:07:19

Changing status from needs_review to positive_review.


---

Comment by mantepse created at 2019-10-24 09:07:19

Thank you, very beautiful!


---

Comment by vbraun created at 2019-10-27 10:28:21

Resolution: fixed
