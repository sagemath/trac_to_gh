# Issue 20465: doc fails to build in 7.3.beta1 if `typing` is installed

archive/issues_020465.json:
```json
{
    "body": "CC:  @jdemeyer\n\nIn #20545 `sage_autodoc.py` has been made a little bit closer to `sphinx` original `autodoc.py` this included this piece of code\n\n```\ntry:\n    import typing\nexcept ImportError:\n    typing = None\n```\n\nImporting `typing` in python2 will cause failure due to the lack of `kwonlyargcount` in that version of python as reported upstream in [https://github.com/sphinx-doc/sphinx/issues/2470](https://github.com/sphinx-doc/sphinx/issues/2470). Upstream has a fix and we should use it.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20702\n\n",
    "created_at": "2016-05-29T08:30:23Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "doc fails to build in 7.3.beta1 if `typing` is installed",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20465",
    "user": "https://github.com/kiwifb"
}
```
CC:  @jdemeyer

In #20545 `sage_autodoc.py` has been made a little bit closer to `sphinx` original `autodoc.py` this included this piece of code

```
try:
    import typing
except ImportError:
    typing = None
```

Importing `typing` in python2 will cause failure due to the lack of `kwonlyargcount` in that version of python as reported upstream in [https://github.com/sphinx-doc/sphinx/issues/2470](https://github.com/sphinx-doc/sphinx/issues/2470). Upstream has a fix and we should use it.

Issue created by migration from https://trac.sagemath.org/ticket/20702





---

archive/issue_comments_281929.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-05-29T08:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20465#issuecomment-281929",
    "user": "https://github.com/kiwifb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_281930.json:
```json
{
    "body": "Reproduce fix from [https://github.com/sphinx-doc/sphinx/commit/20b3da5cf6aa4917301b2db2259bc78c3e20a122](https://github.com/sphinx-doc/sphinx/commit/20b3da5cf6aa4917301b2db2259bc78c3e20a122)\n----\nNew commits:",
    "created_at": "2016-05-29T08:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20465#issuecomment-281930",
    "user": "https://github.com/kiwifb"
}
```

Reproduce fix from [https://github.com/sphinx-doc/sphinx/commit/20b3da5cf6aa4917301b2db2259bc78c3e20a122](https://github.com/sphinx-doc/sphinx/commit/20b3da5cf6aa4917301b2db2259bc78c3e20a122)
----
New commits:



---

archive/issue_comments_281931.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-29T10:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20465#issuecomment-281931",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_281932.json:
```json
{
    "body": "Works for them and works for me.",
    "created_at": "2016-05-29T10:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20465#issuecomment-281932",
    "user": "https://github.com/tscrim"
}
```

Works for them and works for me.



---

archive/issue_comments_281933.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-31T07:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20465#issuecomment-281933",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
