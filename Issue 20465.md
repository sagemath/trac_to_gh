# Issue 20465: doc fails to build in 7.3.beta1 if `typing` is installed

Issue created by migration from https://trac.sagemath.org/ticket/20702

Original creator: fbissey

Original creation time: 2016-05-29 08:30:23

CC:  jdemeyer

In #20545 `sage_autodoc.py` has been made a little bit closer to `sphinx` original `autodoc.py` this included this piece of code

```
try:
    import typing
except ImportError:
    typing = None
```

Importing `typing` in python2 will cause failure due to the lack of `kwonlyargcount` in that version of python as reported upstream in [https://github.com/sphinx-doc/sphinx/issues/2470](https://github.com/sphinx-doc/sphinx/issues/2470). Upstream has a fix and we should use it.


---

Comment by fbissey created at 2016-05-29 08:38:09

Changing status from new to needs_review.


---

Comment by fbissey created at 2016-05-29 08:38:09

Reproduce fix from [https://github.com/sphinx-doc/sphinx/commit/20b3da5cf6aa4917301b2db2259bc78c3e20a122](https://github.com/sphinx-doc/sphinx/commit/20b3da5cf6aa4917301b2db2259bc78c3e20a122)
----
New commits:


---

Comment by tscrim created at 2016-05-29 10:39:20

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-05-29 10:39:20

Works for them and works for me.


---

Comment by vbraun created at 2016-05-31 07:29:35

Resolution: fixed
