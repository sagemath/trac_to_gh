# Issue 32861: Add more void packages to distros/void.txt

Issue created by migration from https://trac.sagemath.org/ticket/33098

Original creator: tornaria

Original creation time: 2021-12-30 14:58:21

CC:  mjo

*- The first commit includes all standard packages that can be currently used from system, as well as linbox and maxima which have standing tickets to add (#29631 and #32867 respectively)

 - The second commit includes all python packages that can be used from system after #29665

 - the remaining commits include additional packages that may be useful in the future.




---

Comment by tornaria created at 2021-12-30 14:58:52

New commits:


---

Comment by tornaria created at 2021-12-30 14:58:52

Changing status from new to needs_review.


---

Comment by mjo created at 2021-12-30 16:22:56

Do we have a github (tox) job for Void yet? I'm happy to rubber-stamp this for you if there's no risk of it breaking the CI.


---

Comment by tornaria created at 2021-12-30 17:26:29

Replying to [comment:2 mjo]:
> Do we have a github (tox) job for Void yet? I'm happy to rubber-stamp this for you if there's no risk of it breaking the CI.

I haven't paid much attention to tox yet, but there is #33084 and I'll try to look at that. My template for building sage on void knows which dependencies to install so it's not like we need it; this is more to help someone wanting to build from source on void so the suggestion on which packages to install is correct and complete.

We have https://github.com/void-linux/void-packages/pull/34030 which is building and testing sage; it is using all the packages I added in the first commit (including linbox and maxima via patches taken from #29631 and #32867)

All tests pass in our standard architectures (x86_64, x86_64-musl and i686) using all possible system packages with system python 3.10 (using #30766) and assorted patches needed for doctests to pass (right now github shows a failure on i686 but that's just the timeout reported in #33091; I added a patch to solve that but I didn't push yet to gh).

Of the remaining tickets, only the second one should have any effect and only after patching with #29665 (which is my next goal as I want to try to ship sage 9.5 for void using system packages as much as possible).

Anyway, I don't really know how tox uses these package lists, so I may be missing something...


---

Comment by tornaria created at 2021-12-30 17:54:28

Changing status from needs_review to needs_work.


---

Comment by tornaria created at 2021-12-30 17:54:28

I already found at least one error while trying #29665 (`python3-ipython_ipywidgets` should be `python3-jupyter_ipywidgets`).

Let's hold this until I finish testing #29665.


---

Comment by git created at 2021-12-31 17:10:26

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tornaria created at 2021-12-31 17:15:16

Added the fix mentioned above and added some more packages due to updated #29665.

I've now tested everything with #29665 and all possible system site packages.


---

Comment by tornaria created at 2021-12-31 17:15:16

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2021-12-31 19:09:33

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2022-01-30 15:39:13

Setting milestone to 9.6 now that 9.5 is out.


---

Comment by vbraun created at 2022-02-12 22:04:57

Resolution: fixed
