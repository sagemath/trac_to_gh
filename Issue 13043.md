# Issue 13043: Skew polynomials

archive/issues_013043.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  tfeulner @xcaruso @burcin @johanrosenkilde dlucas @tscrim\n\nKeywords: skew polynomials\n\nIf R is a ring equipped with an endomorphism sigma, the ring of skew polynomials over (R,sigma) is the ring of usual polynomials over R with the modified multiplication given by the rule X*a = sigma(a)*X.\n\nSkew polynomials play an important role in several domains like coding theory or Galois representations theory in positive characteristic.\n\nThe attached patch provides:\n\n1. a basic implementation of skew polynomials over any commutative ring (including addition, multiplication, euclidean division, gcd...)\n2. a more complete implementation of skew polynomials over finite fields (including factoring)\n\nIssue created by migration from https://trac.sagemath.org/ticket/13215\n\n",
    "created_at": "2012-07-09T09:08:46Z",
    "labels": [
        "component: experimental package"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Skew polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13043",
    "user": "https://github.com/xcaruso"
}
```
Assignee: tbd

CC:  tfeulner @xcaruso @burcin @johanrosenkilde dlucas @tscrim

Keywords: skew polynomials

If R is a ring equipped with an endomorphism sigma, the ring of skew polynomials over (R,sigma) is the ring of usual polynomials over R with the modified multiplication given by the rule X*a = sigma(a)*X.

Skew polynomials play an important role in several domains like coding theory or Galois representations theory in positive characteristic.

The attached patch provides:

1. a basic implementation of skew polynomials over any commutative ring (including addition, multiplication, euclidean division, gcd...)
2. a more complete implementation of skew polynomials over finite fields (including factoring)

Issue created by migration from https://trac.sagemath.org/ticket/13215





---

archive/issue_comments_157919.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-09T09:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157919",
    "user": "https://github.com/xcaruso"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_157920.json:
```json
{
    "body": "Attachment [trac_13215_skew_polynomials.2.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13215_skew_polynomials.2.patch) by @xcaruso created at 2012-07-09 22:47:03",
    "created_at": "2012-07-09T22:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157920",
    "user": "https://github.com/xcaruso"
}
```

Attachment [trac_13215_skew_polynomials.2.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13215_skew_polynomials.2.patch) by @xcaruso created at 2012-07-09 22:47:03



---

archive/issue_comments_157921.json:
```json
{
    "body": "File trac_13215_skew_polynomials.2.patch replaces trac_13215_skew_polynomials.patch",
    "created_at": "2012-07-09T22:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157921",
    "user": "https://github.com/xcaruso"
}
```

File trac_13215_skew_polynomials.2.patch replaces trac_13215_skew_polynomials.patch



---

archive/issue_comments_157922.json:
```json
{
    "body": "With your changes it is now possible to test some element in an Univariate Quotient Polynomial Ring to be a unit and to compute its inverse. Unfortunately, this computation gives wrong results:\n\n\n```\nsage: Z16x.<x> = Integers(16)[]\nsage: GR.<y> =  Z16x.quotient(x**2 + x+1 )\nsage: (2*y).is_unit()\nTrue\nsage: (2*y)^(-1)\n15*y + 15\nsage: (2*y)*(2*y)^(-1)\n2\n```\n\n\nThomas",
    "created_at": "2012-07-26T05:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157922",
    "user": "https://trac.sagemath.org/admin/accounts/users/tfeulner"
}
```

With your changes it is now possible to test some element in an Univariate Quotient Polynomial Ring to be a unit and to compute its inverse. Unfortunately, this computation gives wrong results:


```
sage: Z16x.<x> = Integers(16)[]
sage: GR.<y> =  Z16x.quotient(x**2 + x+1 )
sage: (2*y).is_unit()
True
sage: (2*y)^(-1)
15*y + 15
sage: (2*y)*(2*y)^(-1)
2
```


Thomas



---

archive/issue_comments_157923.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-07-26T05:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157923",
    "user": "https://trac.sagemath.org/admin/accounts/users/tfeulner"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_157924.json:
```json
{
    "body": "Thanks for catching this!\n\nI've updated my patch. (I've simply decided to raise a NotImplementedError when the base ring is not a field and, by the way, I've added some doctests.)\n\nPS: apply patch trac_13215_skew_polynomials.patch and forget trac_13215_skew_polynomials.2.patch (is it possible to remove it?)",
    "created_at": "2012-07-26T21:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157924",
    "user": "https://github.com/xcaruso"
}
```

Thanks for catching this!

I've updated my patch. (I've simply decided to raise a NotImplementedError when the base ring is not a field and, by the way, I've added some doctests.)

PS: apply patch trac_13215_skew_polynomials.patch and forget trac_13215_skew_polynomials.2.patch (is it possible to remove it?)



---

archive/issue_comments_157925.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-07-26T21:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157925",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_157926.json:
```json
{
    "body": "Maybe you should produce a seperate trac ticket for the fix of \n\n```\nsage: (2*y)^(-1)\n...\nNotImplementedError: The base ring (=Ring of integers modulo 16) is not a field\n```\n\n\nBy the way, I know that this is a problem which also occurs for usual polynomials (because of the default definition of the reduce function). Do you have any idea how to fix this:\n\n\n```\nsage: Z16x.<x> = SkewPolynomialRing(Integers(16)) \nsage: # Z16x.<x> = Integers(16)[] # has the same behaviour\nsage: GR.<y> =  Z16x.quotient(x**2 + x+1 )\nsage: I = GR.ideal(4)\nsage: I.reduce(6)\n6\n```\n",
    "created_at": "2012-07-27T06:40:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157926",
    "user": "https://trac.sagemath.org/admin/accounts/users/tfeulner"
}
```

Maybe you should produce a seperate trac ticket for the fix of 

```
sage: (2*y)^(-1)
...
NotImplementedError: The base ring (=Ring of integers modulo 16) is not a field
```


By the way, I know that this is a problem which also occurs for usual polynomials (because of the default definition of the reduce function). Do you have any idea how to fix this:


```
sage: Z16x.<x> = SkewPolynomialRing(Integers(16)) 
sage: # Z16x.<x> = Integers(16)[] # has the same behaviour
sage: GR.<y> =  Z16x.quotient(x**2 + x+1 )
sage: I = GR.ideal(4)
sage: I.reduce(6)
6
```




---

archive/issue_comments_157927.json:
```json
{
    "body": "Attachment [trac_13303_invert_polynomial_quotient_rings.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13303_invert_polynomial_quotient_rings.patch) by @xcaruso created at 2012-07-27 08:28:29",
    "created_at": "2012-07-27T08:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157927",
    "user": "https://github.com/xcaruso"
}
```

Attachment [trac_13303_invert_polynomial_quotient_rings.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13303_invert_polynomial_quotient_rings.patch) by @xcaruso created at 2012-07-27 08:28:29



---

archive/issue_comments_157928.json:
```json
{
    "body": "Ok, I split my patch in two parts and I open a new ticket (cf #13303).\n\nI'm afraid I don't understand quite well the problem with reduce. Could you explain it a bit more please?",
    "created_at": "2012-07-27T08:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157928",
    "user": "https://github.com/xcaruso"
}
```

Ok, I split my patch in two parts and I open a new ticket (cf #13303).

I'm afraid I don't understand quite well the problem with reduce. Could you explain it a bit more please?



---

archive/issue_comments_157929.json:
```json
{
    "body": "Please fill in your real name as Author.",
    "created_at": "2012-07-27T20:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157929",
    "user": "https://github.com/jdemeyer"
}
```

Please fill in your real name as Author.



---

archive/issue_comments_157930.json:
```json
{
    "body": "Hi Xavier,\n\nyou are right this is a more general problem. I started a discussion on\nhttps://groups.google.com/d/topic/sage-devel/s5y604ZPiQ8/discussion.\nThe function reduce() does what it says *returning an element of the ring*.\nBut in the definition of a QuotientRing there is the following assumption\n    `I.reduce(x)==I.reduce(y) \\iff x-y \\in I`, and\n    `x-I.reduce(x) \\in I`, for all `x \\in R`.\nWith this default behaviour, the quotient ring is just a copy of the original ring R. \n\nBest, Thomas",
    "created_at": "2012-08-01T05:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157930",
    "user": "https://trac.sagemath.org/admin/accounts/users/tfeulner"
}
```

Hi Xavier,

you are right this is a more general problem. I started a discussion on
https://groups.google.com/d/topic/sage-devel/s5y604ZPiQ8/discussion.
The function reduce() does what it says *returning an element of the ring*.
But in the definition of a QuotientRing there is the following assumption
    `I.reduce(x)==I.reduce(y) \iff x-y \in I`, and
    `x-I.reduce(x) \in I`, for all `x \in R`.
With this default behaviour, the quotient ring is just a copy of the original ring R. 

Best, Thomas



---

archive/issue_comments_157931.json:
```json
{
    "body": "Changing component from experimental package to algebra.",
    "created_at": "2012-08-26T22:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157931",
    "user": "https://github.com/burcin"
}
```

Changing component from experimental package to algebra.



---

archive/issue_comments_157932.json:
```json
{
    "body": "It would be great to have all this in Sage. Thanks a lot for your work.\n\nI haven't had a chance to look at the patches yet. I will try to make some time available for this in the coming weeks. For now, I have two questions,\n\n* Did you consider using Singular's noncommutative component, Plural, as a basic data structure for skew polynomials? I expect the arithmetic to be much faster with Plural than a new implementation in Cython.\n* Can the patches be broken down into smaller components for easier review?",
    "created_at": "2012-08-26T22:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157932",
    "user": "https://github.com/burcin"
}
```

It would be great to have all this in Sage. Thanks a lot for your work.

I haven't had a chance to look at the patches yet. I will try to make some time available for this in the coming weeks. For now, I have two questions,

* Did you consider using Singular's noncommutative component, Plural, as a basic data structure for skew polynomials? I expect the arithmetic to be much faster with Plural than a new implementation in Cython.
* Can the patches be broken down into smaller components for easier review?



---

archive/issue_comments_157933.json:
```json
{
    "body": "I haven't heard about Plural before that... so, I haven't considered using it for skew polynomials yet. I will compare how fast is the arithmetic with Plural and with my own implementation in Cython and let you know.\n\nOk, I will split my patch in several components. (Is two enough or are you expecting more than that?).",
    "created_at": "2012-08-28T19:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157933",
    "user": "https://github.com/xcaruso"
}
```

I haven't heard about Plural before that... so, I haven't considered using it for skew polynomials yet. I will compare how fast is the arithmetic with Plural and with my own implementation in Cython and let you know.

Ok, I will split my patch in several components. (Is two enough or are you expecting more than that?).



---

archive/issue_comments_157934.json:
```json
{
    "body": "Thanks for the prompt response! I am attending a workshop this week and I haven't had a chance to read through your patch properly yet. So please excuse me if I am completely off the mark in my response below. :)\n\nReplying to [comment:15 caruso]:\n> I haven't heard about Plural before that... so, I haven't considered using it for skew polynomials yet. I will compare how fast is the arithmetic with Plural and with my own implementation in Cython and let you know.\n\nYour patch provides more functionality than Plural, for example gcd's and factoring. The coefficient domains supported by Plural are also limited. I suppose your implementation supports more general coefficient domains, basically anything Sage already knows about.\n\nIt would be good to have a clear comparison between Plural and your implementation first. But I imagine having two skew polynomial classes in Sage, a generic implementation from your patch and one based on Plural. We could probably share the high level functionality not provided by Plural using the category framework. \n\nI am not opposed to just including your patch and think about the Plural part later as an optimization if you say that your implementation is more capable.\n\n> Ok, I will split my patch in several components. (Is two enough or are you expecting more than that?).\n\nI don't know yet. It depends on how many functionally independent parts there are. For instance, the short representations for morphisms can be an independent piece that is trivial to review.  The hash functions for morphisms would also be a separate bug fix. Actually, I attempted to fix that a long time ago at #9016.",
    "created_at": "2012-08-29T10:16:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157934",
    "user": "https://github.com/burcin"
}
```

Thanks for the prompt response! I am attending a workshop this week and I haven't had a chance to read through your patch properly yet. So please excuse me if I am completely off the mark in my response below. :)

Replying to [comment:15 caruso]:
> I haven't heard about Plural before that... so, I haven't considered using it for skew polynomials yet. I will compare how fast is the arithmetic with Plural and with my own implementation in Cython and let you know.

Your patch provides more functionality than Plural, for example gcd's and factoring. The coefficient domains supported by Plural are also limited. I suppose your implementation supports more general coefficient domains, basically anything Sage already knows about.

It would be good to have a clear comparison between Plural and your implementation first. But I imagine having two skew polynomial classes in Sage, a generic implementation from your patch and one based on Plural. We could probably share the high level functionality not provided by Plural using the category framework. 

I am not opposed to just including your patch and think about the Plural part later as an optimization if you say that your implementation is more capable.

> Ok, I will split my patch in several components. (Is two enough or are you expecting more than that?).

I don't know yet. It depends on how many functionally independent parts there are. For instance, the short representations for morphisms can be an independent piece that is trivial to review.  The hash functions for morphisms would also be a separate bug fix. Actually, I attempted to fix that a long time ago at #9016.



---

archive/issue_comments_157935.json:
```json
{
    "body": "I had a quick look at the documentation of Plural but I didn't find how to create a skew polynomial ring (i.e. I don't know how to represent a skew polynomial ring as a G-algebra). Could you please learn me this?",
    "created_at": "2012-08-29T12:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157935",
    "user": "https://github.com/xcaruso"
}
```

I had a quick look at the documentation of Plural but I didn't find how to create a skew polynomial ring (i.e. I don't know how to represent a skew polynomial ring as a G-algebra). Could you please learn me this?



---

archive/issue_comments_157936.json:
```json
{
    "body": "Replying to [comment:17 caruso]:\n> I had a quick look at the documentation of Plural but I didn't find how to create a skew polynomial ring (i.e. I don't know how to represent a skew polynomial ring as a G-algebra). Could you please learn me this?\n\nFor example, QQ[n, S:n->n+1] :\n\n\n```\nsage: A.<n, S> = FreeAlgebra(QQ, 2)\nsage: R.<n, S> = A.g_algebra({S*n: n*S + 1})\nsage: R\nNoncommutative Multivariate Polynomial Ring in n, S over Rational Field, nc-relations: {S*n: n*S + 1}\nsage: S*n\nn*S + 1\nsage: S^2*n\nn*S^2 + 2*S\n```\n\n\n\nAfter applying the patches on this ticket and its dependencies, I get the following error:\n\n\n```\nsage: R.<t> = ZZ[]\nsage: sigma = R.hom([t+1])\nsage: S.<x> = R['x',sigma]; S\nSkew Polynomial Ring in x over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1\nsage: x*t\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n...\nsage: %debug\n> /home/burcin/sage/sage-5.2/skewpolynomial_element.pyx(347)sage.rings.polynomial.skewpolynomial_element.SkewPolynomial._list_c (sage/rings/polynomial/skewpolynomial_element.c:4716)()\n\n```\n",
    "created_at": "2012-10-08T13:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157936",
    "user": "https://github.com/burcin"
}
```

Replying to [comment:17 caruso]:
> I had a quick look at the documentation of Plural but I didn't find how to create a skew polynomial ring (i.e. I don't know how to represent a skew polynomial ring as a G-algebra). Could you please learn me this?

For example, QQ[n, S:n->n+1] :


```
sage: A.<n, S> = FreeAlgebra(QQ, 2)
sage: R.<n, S> = A.g_algebra({S*n: n*S + 1})
sage: R
Noncommutative Multivariate Polynomial Ring in n, S over Rational Field, nc-relations: {S*n: n*S + 1}
sage: S*n
n*S + 1
sage: S^2*n
n*S^2 + 2*S
```



After applying the patches on this ticket and its dependencies, I get the following error:


```
sage: R.<t> = ZZ[]
sage: sigma = R.hom([t+1])
sage: S.<x> = R['x',sigma]; S
Skew Polynomial Ring in x over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1
sage: x*t
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
...
sage: %debug
> /home/burcin/sage/sage-5.2/skewpolynomial_element.pyx(347)sage.rings.polynomial.skewpolynomial_element.SkewPolynomial._list_c (sage/rings/polynomial/skewpolynomial_element.c:4716)()

```




---

archive/issue_comments_157937.json:
```json
{
    "body": "Replying to [comment:16 burcin]:\n\n> Replying to [comment:15 caruso]:\n\n> > Ok, I will split my patch in several components. (Is two enough or are you expecting more than that?).\n> \n> I don't know yet. It depends on how many functionally independent parts there are. For instance, the short representations for morphisms can be an independent piece that is trivial to review.  The hash functions for morphisms would also be a separate bug fix. Actually, I attempted to fix that a long time ago at #9016.\n\nFrom a cursory reading of attachment:trac_13215_skew_polynomials.patch, I see these separate parts that should have a ticket of its own:\n\n- short representations for morphisms\n- hash functions for morphisms (#9016)\n- q_jordan\n- modular exponentiation of polynomial_element\n\nA few comments (not a full review):\n\n- the operator `/` always constructs the quotient domain in Sage, even if exact division is possible. Since in this case we need a generic Ore localization for `/`, I suggest you only implement exact division with `//` and raise an error on `/`.\n {{{\n+    sage: d = a * b\n+    sage: d/b == a   # Right division\n+    True\n+\n+    sage: c/b\n+    Traceback (most recent call last):\n+    ...\n+    ValueError: the division is not exact\n }}}\n\n- For the constructor, why don't you check if the argument of the `__getitem__` method is a `Morphism` instead of this:\n {{{\n       from sage.categories.morphism import Morphism\n        if isinstance(x,tuple) and len(x) == 2 and isinstance(x[1],Morphism):\n }}}\n This should remove the limitation of having to specify the variable name on the right hand side as documented here:\n {{{\n+One can also use a shorter syntax::\n+\n+    sage: S.<x> = R['x',sigma]; S\n+    Skew Polynomial Ring in x over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1\n+\n+Be careful, with the latter syntax, one cannot omit the name of the \n+variable neither in LHS nor in RHS. If we omit it in LHS, the variable \n+is not created::\n+\n+    sage: Sy = R['y',sigma]; Sy\n+    Skew Polynomial Ring in y over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1\n+    sage: y.parent()\n+    Traceback (most recent call last):\n+    ...\n+    NameError: name 'y' is not defined    \n+\n+If we omit it in RHS, sage tries to create a polynomial ring and fails::\n+\n+    sage: Sz.<z> = R[sigma]\n+    Traceback (most recent call last):\n+    ...\n+    ValueError: variable names must be alphanumeric, but one is 'Ring endomorphism of Univariate Polynomial Ring in t over Integer Ring\n+      Defn: t |--> t + 1' which is not.\n}}}\n\n- There is a class `SkewPolynomialRing_finite_field` defined in `sage/rings/polynomial/skewpolynomial_ring.py`. There is also a file `sage/rings/polynomial/skewpolynomial_finite_field.pyx`. It seems that the class defined in the latter does not use the latter:\n {{{\ncdef class SkewPolynomial_finite_field_dense (SkewPolynomial_generic_dense):\n}}}\n\n- I suggest using `skew_polynomial` in the file names instead of `skewpolynomial`.\n\n- Are the `Left` and `Right` objects defined in `sage/structure/side.py` really necessary? If `Right` is the default, can't you just have a keyword argument `left=<bool>`?\n\n- There are many functions missing a docstring or tests. Here is partial coverage output:\n {{{\n$ ./sage -coverage devel/sage/sage/rings/polynomial/skew*\n----------------------------------------------------------------------\ndevel/sage/sage/rings/polynomial/skewpolynomial_element.pyx\nERROR: Please add a `TestSuite(s).run()` doctest.\nSCORE devel/sage/sage/rings/polynomial/skewpolynomial_element.pyx: 78% (58 of 74)\n\nMissing documentation:\n* __hash__(self):\n* __richcmp__(left, right, int op):\n* __nonzero__(self):\n* _is_atomic(self):\n* __lshift__(self, k):\n* __rshift__(self, k):\n* is_gen(self):\n* make_generic_skewpolynomial(parent, coeffs):\n* Element _call_(self, x):\n* __init__(self, domain, codomain):\n* Element _call_(self, x):\n* Element _call_with_args(self, x, args=(), kwds={}):\n* section(self):\n\n\nMissing doctests:\n* SkewPolynomial _new_constant_poly(self,RingElement a,Parent P,char check=0):\n* is_unit(self):\n* __copy__(self):\n\n\nPossibly wrong (function name doesn't occur in doctests):\n* ModuleElement _add_(self, ModuleElement right):\n* ModuleElement _sub_(self, ModuleElement right):\n* ModuleElement _neg_(self):\n* ModuleElement _lmul_(self, RingElement right):\n* ModuleElement _rmul_(self, RingElement left):\n* RingElement _mul_(self, RingElement right):\n* RingElement _div_(self, RingElement right):\n\n----------------------------------------------------------------------\n\n----------------------------------------------------------------------\ndevel/sage/sage/rings/polynomial/skewpolynomial_finite_field.pyx\nERROR: Please add a `TestSuite(s).run()` doctest.\nSCORE devel/sage/sage/rings/polynomial/skewpolynomial_finite_field.pyx: 82% (29 of 35)\n\nMissing documentation:\n* __init__(self, parent, x=None, int check=1, is_gen=False, int construct=0, **kwds):\n* reduced_norm_factor(self):\n* _factorizations_rec(self):\n\n\nMissing doctests:\n* _irreducible_divisors(self,side):\n* __init__(self,parent,cutoff=0):\n* __repr__(self):\n\n\nPossibly wrong (function name doesn't occur in doctests):\n* RingElement _mul_(self, RingElement right):\n\n----------------------------------------------------------------------\n\n----------------------------------------------------------------------\ndevel/sage/sage/rings/polynomial/skewpolynomial_ring_constructor.py\nSCORE devel/sage/sage/rings/polynomial/skewpolynomial_ring_constructor.py: 100% (1 of 1)\n----------------------------------------------------------------------\n\n----------------------------------------------------------------------\ndevel/sage/sage/rings/polynomial/skewpolynomial_ring.py\nSCORE devel/sage/sage/rings/polynomial/skewpolynomial_ring.py: 42% (17 of 40)\n\nMissing documentation:\n* _call_ (self, x):\n* __init__(self,domain,codomain,embed,order):\n* _repr_(self):\n* _call_(self,x):\n* section(self):\n* __init__ (self, skew_ring, names=None, sparse=False, element_class=None):\n* __classcall__(cls, base_ring, map, name=None, sparse=False, element_class=None):\n* __init__(self, base_ring, map, name, sparse, element_class):\n* __reduce__(self):\n* _element_constructor_(self, x=None, check=True, is_gen = False, construct=False, **kwds):\n* _coerce_map_from_(self, P):\n* __cmp__(left, right):\n* _repr_(self):\n* _latex_(self):\n* gens_dict(self):\n* __classcall__(cls, base_ring, map, name=None, sparse=False, element_class=None):\n* __init__(self, base_ring, map, name, sparse, element_class):\n\n\nMissing doctests:\n* _repr_ (self):\n* _latex_ (self):\n* parameter(self):\n* is_sparse(self):\n* _new_retraction_map(self,alea=None):\n* _retraction(self,x,newmap=False,alea=None):\n\n----------------------------------------------------------------------\n\n}}}",
    "created_at": "2012-10-08T14:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157937",
    "user": "https://github.com/burcin"
}
```

Replying to [comment:16 burcin]:

> Replying to [comment:15 caruso]:

> > Ok, I will split my patch in several components. (Is two enough or are you expecting more than that?).
> 
> I don't know yet. It depends on how many functionally independent parts there are. For instance, the short representations for morphisms can be an independent piece that is trivial to review.  The hash functions for morphisms would also be a separate bug fix. Actually, I attempted to fix that a long time ago at #9016.

From a cursory reading of attachment:trac_13215_skew_polynomials.patch, I see these separate parts that should have a ticket of its own:

- short representations for morphisms
- hash functions for morphisms (#9016)
- q_jordan
- modular exponentiation of polynomial_element

A few comments (not a full review):

- the operator `/` always constructs the quotient domain in Sage, even if exact division is possible. Since in this case we need a generic Ore localization for `/`, I suggest you only implement exact division with `//` and raise an error on `/`.
 {{{
+    sage: d = a * b
+    sage: d/b == a   # Right division
+    True
+
+    sage: c/b
+    Traceback (most recent call last):
+    ...
+    ValueError: the division is not exact
 }}}

- For the constructor, why don't you check if the argument of the `__getitem__` method is a `Morphism` instead of this:
 {{{
       from sage.categories.morphism import Morphism
        if isinstance(x,tuple) and len(x) == 2 and isinstance(x[1],Morphism):
 }}}
 This should remove the limitation of having to specify the variable name on the right hand side as documented here:
 {{{
+One can also use a shorter syntax::
+
+    sage: S.<x> = R['x',sigma]; S
+    Skew Polynomial Ring in x over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1
+
+Be careful, with the latter syntax, one cannot omit the name of the 
+variable neither in LHS nor in RHS. If we omit it in LHS, the variable 
+is not created::
+
+    sage: Sy = R['y',sigma]; Sy
+    Skew Polynomial Ring in y over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1
+    sage: y.parent()
+    Traceback (most recent call last):
+    ...
+    NameError: name 'y' is not defined    
+
+If we omit it in RHS, sage tries to create a polynomial ring and fails::
+
+    sage: Sz.<z> = R[sigma]
+    Traceback (most recent call last):
+    ...
+    ValueError: variable names must be alphanumeric, but one is 'Ring endomorphism of Univariate Polynomial Ring in t over Integer Ring
+      Defn: t |--> t + 1' which is not.
}}}

- There is a class `SkewPolynomialRing_finite_field` defined in `sage/rings/polynomial/skewpolynomial_ring.py`. There is also a file `sage/rings/polynomial/skewpolynomial_finite_field.pyx`. It seems that the class defined in the latter does not use the latter:
 {{{
cdef class SkewPolynomial_finite_field_dense (SkewPolynomial_generic_dense):
}}}

- I suggest using `skew_polynomial` in the file names instead of `skewpolynomial`.

- Are the `Left` and `Right` objects defined in `sage/structure/side.py` really necessary? If `Right` is the default, can't you just have a keyword argument `left=<bool>`?

- There are many functions missing a docstring or tests. Here is partial coverage output:
 {{{
$ ./sage -coverage devel/sage/sage/rings/polynomial/skew*
----------------------------------------------------------------------
devel/sage/sage/rings/polynomial/skewpolynomial_element.pyx
ERROR: Please add a `TestSuite(s).run()` doctest.
SCORE devel/sage/sage/rings/polynomial/skewpolynomial_element.pyx: 78% (58 of 74)

Missing documentation:
* __hash__(self):
* __richcmp__(left, right, int op):
* __nonzero__(self):
* _is_atomic(self):
* __lshift__(self, k):
* __rshift__(self, k):
* is_gen(self):
* make_generic_skewpolynomial(parent, coeffs):
* Element _call_(self, x):
* __init__(self, domain, codomain):
* Element _call_(self, x):
* Element _call_with_args(self, x, args=(), kwds={}):
* section(self):


Missing doctests:
* SkewPolynomial _new_constant_poly(self,RingElement a,Parent P,char check=0):
* is_unit(self):
* __copy__(self):


Possibly wrong (function name doesn't occur in doctests):
* ModuleElement _add_(self, ModuleElement right):
* ModuleElement _sub_(self, ModuleElement right):
* ModuleElement _neg_(self):
* ModuleElement _lmul_(self, RingElement right):
* ModuleElement _rmul_(self, RingElement left):
* RingElement _mul_(self, RingElement right):
* RingElement _div_(self, RingElement right):

----------------------------------------------------------------------

----------------------------------------------------------------------
devel/sage/sage/rings/polynomial/skewpolynomial_finite_field.pyx
ERROR: Please add a `TestSuite(s).run()` doctest.
SCORE devel/sage/sage/rings/polynomial/skewpolynomial_finite_field.pyx: 82% (29 of 35)

Missing documentation:
* __init__(self, parent, x=None, int check=1, is_gen=False, int construct=0, **kwds):
* reduced_norm_factor(self):
* _factorizations_rec(self):


Missing doctests:
* _irreducible_divisors(self,side):
* __init__(self,parent,cutoff=0):
* __repr__(self):


Possibly wrong (function name doesn't occur in doctests):
* RingElement _mul_(self, RingElement right):

----------------------------------------------------------------------

----------------------------------------------------------------------
devel/sage/sage/rings/polynomial/skewpolynomial_ring_constructor.py
SCORE devel/sage/sage/rings/polynomial/skewpolynomial_ring_constructor.py: 100% (1 of 1)
----------------------------------------------------------------------

----------------------------------------------------------------------
devel/sage/sage/rings/polynomial/skewpolynomial_ring.py
SCORE devel/sage/sage/rings/polynomial/skewpolynomial_ring.py: 42% (17 of 40)

Missing documentation:
* _call_ (self, x):
* __init__(self,domain,codomain,embed,order):
* _repr_(self):
* _call_(self,x):
* section(self):
* __init__ (self, skew_ring, names=None, sparse=False, element_class=None):
* __classcall__(cls, base_ring, map, name=None, sparse=False, element_class=None):
* __init__(self, base_ring, map, name, sparse, element_class):
* __reduce__(self):
* _element_constructor_(self, x=None, check=True, is_gen = False, construct=False, **kwds):
* _coerce_map_from_(self, P):
* __cmp__(left, right):
* _repr_(self):
* _latex_(self):
* gens_dict(self):
* __classcall__(cls, base_ring, map, name=None, sparse=False, element_class=None):
* __init__(self, base_ring, map, name, sparse, element_class):


Missing doctests:
* _repr_ (self):
* _latex_ (self):
* parameter(self):
* is_sparse(self):
* _new_retraction_map(self,alea=None):
* _retraction(self,x,newmap=False,alea=None):

----------------------------------------------------------------------

}}}



---

archive/issue_comments_157938.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-10-08T14:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157938",
    "user": "https://github.com/burcin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_157939.json:
```json
{
    "body": "Here is some more information from Viktor Levandovskyy about Plural and skew polynomials rings over finite fields with the frobenius map.\n\n\n```\n> Plural can be used in the following situations:\n> Let |F|=p^k, where p is a prime.\n> *) always possible: k = 1,2 and k = p-1,p.\n> *) For k=3,...,p-2 there's no general statement, sometimes\n> works, sometimes not. Depends on p and k\n> *) k>p: impossible (with Plural)\n```\n",
    "created_at": "2012-10-10T13:51:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157939",
    "user": "https://github.com/burcin"
}
```

Here is some more information from Viktor Levandovskyy about Plural and skew polynomials rings over finite fields with the frobenius map.


```
> Plural can be used in the following situations:
> Let |F|=p^k, where p is a prime.
> *) always possible: k = 1,2 and k = p-1,p.
> *) For k=3,...,p-2 there's no general statement, sometimes
> works, sometimes not. Depends on p and k
> *) k>p: impossible (with Plural)
```




---

archive/issue_comments_157940.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-10-22T14:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157940",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_157941.json:
```json
{
    "body": "Thanks a lot for all your comments!\n\nReplying to [comment:19 burcin]:\n>  - short representations for morphisms\n>  - hash functions for morphisms (#9016)\n>  - q_jordan\n>  - modular exponentiation of polynomial_element\n\nOk, I've done it (see tickets #13640, #13641 #13642 and old ticket #13214 for \"hash functions for morphisms\").\n\n> After applying the patches on this ticket and its dependencies, I get the following error:\n> \n> {{{\n> sage: R.<t> = ZZ[]\n> sage: sigma = R.hom([t+1])\n> sage: S.<x> = R['x',sigma]; S\n> Skew Polynomial Ring in x over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1\n> sage: x*t\n> ---------------------------------------------------------------------------\n> NotImplementedError                       Traceback (most recent call last)\n> ...\n> sage: %debug\n> > /home/burcin/sage/sage-5.2/skewpolynomial_element.pyx(347)sage.rings.polynomial.skewpolynomial_element.SkewPolynomial._list_c (sage/rings/polynomial/skewpolynomial_element.c:4716)()\n> \n> }}}\n\nIt's now fixed. (I haven't really understood what was the problem. It worked well on sage 5.1.0. I just removed some `inline`\u00a0somewhere.)\n\n>  - the operator `/` always constructs the quotient domain in Sage, even if exact division is possible. Since in this case we need a generic Ore localization for `/`, I suggest you only implement exact division with `//` and raise an error on `/`.\n\nDone.\n\n>  - For the constructor, why don't you check if the argument of the `__getitem__` method is a `Morphism` instead of this:\n>  {{{\n>        from sage.categories.morphism import Morphism\n>         if isinstance(x,tuple) and len(x) == 2 and isinstance(x[1],Morphism):\n>  }}}\n>  This should remove the limitation of having to specify the variable name on the right hand side as documented here:\n\nIt's not possible to remove this limitation this way because of the preparser (you see in the following example that the variable 'x' doesn't appear in the first instruction on the last line).\n\n\n```\nsage: k.<t> = GF(5^3)\nsage: Frob = k.frobenius_endomorphism()\nsage: preparse(S.<x> = k[Frob])\nsage: preparse(\"S.<x> = k[Frob]\")\n'S = k[Frob]; (x,) = S._first_ngens(1)'\n```\n\n\n>  - I suggest using `skew_polynomial` in the file names instead of `skewpolynomial`.\n\nDone.\n\n>  - Are the `Left` and `Right` objects defined in `sage/structure/side.py` really necessary? If `Right` is the default, can't you just have a keyword argument `left=<bool>`?\n\nSometimes, `Left` is the default (for lcm). I agree that we can just have a boolean argument but, when I wrote this code, I thought that it was more elegant to do this way. Anymay, I can change if you insist :-).\n\n>  - There are many functions missing a docstring or tests.\n\nI've added some documentation and doctests (but I'm still far from a 100% coverage).",
    "created_at": "2012-10-22T14:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157941",
    "user": "https://github.com/xcaruso"
}
```

Thanks a lot for all your comments!

Replying to [comment:19 burcin]:
>  - short representations for morphisms
>  - hash functions for morphisms (#9016)
>  - q_jordan
>  - modular exponentiation of polynomial_element

Ok, I've done it (see tickets #13640, #13641 #13642 and old ticket #13214 for "hash functions for morphisms").

> After applying the patches on this ticket and its dependencies, I get the following error:
> 
> {{{
> sage: R.<t> = ZZ[]
> sage: sigma = R.hom([t+1])
> sage: S.<x> = R['x',sigma]; S
> Skew Polynomial Ring in x over Univariate Polynomial Ring in t over Integer Ring twisted by t |--> t + 1
> sage: x*t
> ---------------------------------------------------------------------------
> NotImplementedError                       Traceback (most recent call last)
> ...
> sage: %debug
> > /home/burcin/sage/sage-5.2/skewpolynomial_element.pyx(347)sage.rings.polynomial.skewpolynomial_element.SkewPolynomial._list_c (sage/rings/polynomial/skewpolynomial_element.c:4716)()
> 
> }}}

It's now fixed. (I haven't really understood what was the problem. It worked well on sage 5.1.0. I just removed some `inline` somewhere.)

>  - the operator `/` always constructs the quotient domain in Sage, even if exact division is possible. Since in this case we need a generic Ore localization for `/`, I suggest you only implement exact division with `//` and raise an error on `/`.

Done.

>  - For the constructor, why don't you check if the argument of the `__getitem__` method is a `Morphism` instead of this:
>  {{{
>        from sage.categories.morphism import Morphism
>         if isinstance(x,tuple) and len(x) == 2 and isinstance(x[1],Morphism):
>  }}}
>  This should remove the limitation of having to specify the variable name on the right hand side as documented here:

It's not possible to remove this limitation this way because of the preparser (you see in the following example that the variable 'x' doesn't appear in the first instruction on the last line).


```
sage: k.<t> = GF(5^3)
sage: Frob = k.frobenius_endomorphism()
sage: preparse(S.<x> = k[Frob])
sage: preparse("S.<x> = k[Frob]")
'S = k[Frob]; (x,) = S._first_ngens(1)'
```


>  - I suggest using `skew_polynomial` in the file names instead of `skewpolynomial`.

Done.

>  - Are the `Left` and `Right` objects defined in `sage/structure/side.py` really necessary? If `Right` is the default, can't you just have a keyword argument `left=<bool>`?

Sometimes, `Left` is the default (for lcm). I agree that we can just have a boolean argument but, when I wrote this code, I thought that it was more elegant to do this way. Anymay, I can change if you insist :-).

>  - There are many functions missing a docstring or tests.

I've added some documentation and doctests (but I'm still far from a 100% coverage).



---

archive/issue_comments_157942.json:
```json
{
    "body": "Attachment [trac_13641_short_repr_morphism.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13641_short_repr_morphism.patch) by @xcaruso created at 2012-10-22 14:44:27",
    "created_at": "2012-10-22T14:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157942",
    "user": "https://github.com/xcaruso"
}
```

Attachment [trac_13641_short_repr_morphism.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13641_short_repr_morphism.patch) by @xcaruso created at 2012-10-22 14:44:27



---

archive/issue_comments_157943.json:
```json
{
    "body": "Attachment [trac_13642_modular_exp_polynomial.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13642_modular_exp_polynomial.patch) by @xcaruso created at 2013-06-26 10:27:03",
    "created_at": "2013-06-26T10:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157943",
    "user": "https://github.com/xcaruso"
}
```

Attachment [trac_13642_modular_exp_polynomial.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13642_modular_exp_polynomial.patch) by @xcaruso created at 2013-06-26 10:27:03



---

archive/issue_comments_157944.json:
```json
{
    "body": "Attachment [trac_13214_hom_finite_field.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13214_hom_finite_field.patch) by @xcaruso created at 2013-06-26 10:28:10",
    "created_at": "2013-06-26T10:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157944",
    "user": "https://github.com/xcaruso"
}
```

Attachment [trac_13214_hom_finite_field.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13214_hom_finite_field.patch) by @xcaruso created at 2013-06-26 10:28:10



---

archive/issue_comments_157945.json:
```json
{
    "body": "I've posted an updated version of this patch which should apply at the top of sage 5-10 (hopefully).",
    "created_at": "2013-06-26T10:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157945",
    "user": "https://github.com/xcaruso"
}
```

I've posted an updated version of this patch which should apply at the top of sage 5-10 (hopefully).



---

archive/issue_comments_157946.json:
```json
{
    "body": "Attachment [trac_13215_skew_polynomials.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13215_skew_polynomials.patch) by @jdemeyer created at 2013-08-13 15:35:53",
    "created_at": "2013-08-13T15:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157946",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [trac_13215_skew_polynomials.patch](tarball://root/attachments/some-uuid/ticket13215/trac_13215_skew_polynomials.patch) by @jdemeyer created at 2013-08-13 15:35:53



---

archive/issue_comments_157947.json:
```json
{
    "body": "Needs to be rebased on sage-5.12beta5. The patch fails to apply to sage/structure/all.py.\n\nI'd do it myself but when I try to open the file in gedit, I get:\n\"The file you opened has some invalid characters. If you continue editing this file you could corrupt this document.\nYou can also choose another character encoding and try again.\"\nMight be some accents or umlauts on names.",
    "created_at": "2013-09-12T13:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157947",
    "user": "https://github.com/darijgr"
}
```

Needs to be rebased on sage-5.12beta5. The patch fails to apply to sage/structure/all.py.

I'd do it myself but when I try to open the file in gedit, I get:
"The file you opened has some invalid characters. If you continue editing this file you could corrupt this document.
You can also choose another character encoding and try again."
Might be some accents or umlauts on names.



---

archive/issue_comments_157948.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-02-08T10:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157948",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_157949.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-12T08:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157949",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157950.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-06-13T15:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157950",
    "user": "https://github.com/arpitdm"
}
```

New commits:



---

archive/issue_comments_157951.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-16T10:05:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157951",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157952.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-21T06:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157952",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157953.json:
```json
{
    "body": "I fixed one of the remaining bugs related to coercion of integers to a skew polynomial ring element.\nSome bugs still remain.\n----\nNew commits:",
    "created_at": "2016-06-24T14:55:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157953",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

I fixed one of the remaining bugs related to coercion of integers to a skew polynomial ring element.
Some bugs still remain.
----
New commits:



---

archive/issue_comments_157954.json:
```json
{
    "body": "A little thing I noted: `is_SkewPolynomial` should be removed, I think. Sage\nmoved away from that kind of functions. The category framework should be used\ninstead, but I don't think we need to find a replacement for it just now.",
    "created_at": "2016-06-24T15:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157954",
    "user": "https://github.com/johanrosenkilde"
}
```

A little thing I noted: `is_SkewPolynomial` should be removed, I think. Sage
moved away from that kind of functions. The category framework should be used
instead, but I don't think we need to find a replacement for it just now.



---

archive/issue_comments_157955.json:
```json
{
    "body": "A better idiom is to just use `isinstance(S, SkewPolynomialRing_general)` as it is explicit (and there is no category for skew polynomial rings).",
    "created_at": "2016-06-24T15:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157955",
    "user": "https://github.com/tscrim"
}
```

A better idiom is to just use `isinstance(S, SkewPolynomialRing_general)` as it is explicit (and there is no category for skew polynomial rings).



---

archive/issue_comments_157956.json:
```json
{
    "body": "One of the bugs in the doctest has to do with failing in the proper manner when the twist map is not invertible (this is the `TypeError: bad operand type for unary ~` bug). This is because `self._map ** n` is being called with negative `n`, which will then try to invert `self._map` using the unary `~` operator which is not supported by `self._map` of type `Homomorphism_im_gens`.\n\nBut the code was always supposed to fail! The doc-test just expected the error NotImplementedError, while the error nowadays is this unhelpful unary-~-stuff. \n\nOne solution is therefore simply to catch the strange error and rethrow a NotImplementedException. The following patch should be put in `skew_polynomial_ring.py` (the line numbers are not completely correct):\n\n\n```\n@@ -534,9 +534,18 @@ class SkewPolynomialRing_general(sage.algebras.algebra.Algebra,UniqueRepresentat\n         try:\n             return self._maps[n]\n         except KeyError:\n-            map = self._map**n\n-            self._maps[n] = map\n-            return map\n+            if n >= 0:\n+                map = self._map**n\n+                self._maps[n] = map\n+                return map\n+            else:\n+                try:\n+                    map = self._map**n\n+                except TypeError:\n+                    raise NotImplementedError(\"Inversion of the twist map %s\" % self._map)\n+                self._maps[n] = map\n+                return map\n+                    \n```\n\n\nBest,\nJohan\n----\nNew commits:",
    "created_at": "2016-07-09T18:07:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157956",
    "user": "https://github.com/johanrosenkilde"
}
```

One of the bugs in the doctest has to do with failing in the proper manner when the twist map is not invertible (this is the `TypeError: bad operand type for unary ~` bug). This is because `self._map ** n` is being called with negative `n`, which will then try to invert `self._map` using the unary `~` operator which is not supported by `self._map` of type `Homomorphism_im_gens`.

But the code was always supposed to fail! The doc-test just expected the error NotImplementedError, while the error nowadays is this unhelpful unary-~-stuff. 

One solution is therefore simply to catch the strange error and rethrow a NotImplementedException. The following patch should be put in `skew_polynomial_ring.py` (the line numbers are not completely correct):


```
@@ -534,9 +534,18 @@ class SkewPolynomialRing_general(sage.algebras.algebra.Algebra,UniqueRepresentat
         try:
             return self._maps[n]
         except KeyError:
-            map = self._map**n
-            self._maps[n] = map
-            return map
+            if n >= 0:
+                map = self._map**n
+                self._maps[n] = map
+                return map
+            else:
+                try:
+                    map = self._map**n
+                except TypeError:
+                    raise NotImplementedError("Inversion of the twist map %s" % self._map)
+                self._maps[n] = map
+                return map
+                    
```


Best,
Johan
----
New commits:



---

archive/issue_comments_157957.json:
```json
{
    "body": "Note that I didn't modify any code: the two commits just appear under my message because arpitdm didn't leave a comment after his last push.",
    "created_at": "2016-07-09T18:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157957",
    "user": "https://github.com/johanrosenkilde"
}
```

Note that I didn't modify any code: the two commits just appear under my message because arpitdm didn't leave a comment after his last push.



---

archive/issue_comments_157958.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-07-12T09:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157958",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_157959.json:
```json
{
    "body": "Cherry-picked commits based on fixes by Johan. The segfault from before is now fixed. Various doctest errors still remain. Now breaking up this ticket into smaller pieces so that it will be easier to manage.",
    "created_at": "2016-07-12T09:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157959",
    "user": "https://github.com/arpitdm"
}
```

Cherry-picked commits based on fixes by Johan. The segfault from before is now fixed. Various doctest errors still remain. Now breaking up this ticket into smaller pieces so that it will be easier to manage.



---

archive/issue_comments_157960.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-12T18:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157960",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157961.json:
```json
{
    "body": "The current ticket now contains only the basic framework for skew polynomials. All features related to finite fields, irreducibility, center and karatsuba multiplication will be put into a separate ticket. The aim is to fix the failed doctests in the `skew_polynomial_element.pyx` file and then refactor the code, improve/add documentation and tests, phase out \"side\".",
    "created_at": "2016-07-12T18:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157961",
    "user": "https://github.com/arpitdm"
}
```

The current ticket now contains only the basic framework for skew polynomials. All features related to finite fields, irreducibility, center and karatsuba multiplication will be put into a separate ticket. The aim is to fix the failed doctests in the `skew_polynomial_element.pyx` file and then refactor the code, improve/add documentation and tests, phase out "side".



---

archive/issue_comments_157962.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-13T06:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157962",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157963.json:
```json
{
    "body": "Fixed some nasty errors, and some not so nasty ones.\n----\nNew commits:",
    "created_at": "2016-07-13T20:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157963",
    "user": "https://github.com/johanrosenkilde"
}
```

Fixed some nasty errors, and some not so nasty ones.
----
New commits:



---

archive/issue_comments_157964.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-14T13:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157964",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157965.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-14T19:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157965",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157966.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-16T22:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157966",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157967.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-18T21:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157967",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157968.json:
```json
{
    "body": "We planned on breaking up this skew polynomials ticket into five pieces namely:\n1. Ticket A - The main framework. Skew polynomials, basic operations, coercions, skew polynomial rings, etc.\n2. Ticket B - Class SkewPolynomial_finite_field_dense, class SkewPolynomialRing_finite_field and related methods\n3. Ticket C - cdef class SkewPolynomial_finite_field_karatsuba and related methods\n4. Ticket D - class SectionSkewPolynomialCenterInjection, class SkewPolynomialCenterInjection, class CenterSkewPolynomialRing and related methods\n5. Ticket E - Irreducibility and Factoring related methods.\n\nThe current ticket #13215 has been modified to cover Ticket A. I will post an update here with the links to the remaining tickets once they have been created. For now, based on discussions, the main framework has been refactored, appended to, edited, documented and tested. I'm now opening this ticket for review.",
    "created_at": "2016-07-18T21:11:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157968",
    "user": "https://github.com/arpitdm"
}
```

We planned on breaking up this skew polynomials ticket into five pieces namely:
1. Ticket A - The main framework. Skew polynomials, basic operations, coercions, skew polynomial rings, etc.
2. Ticket B - Class SkewPolynomial_finite_field_dense, class SkewPolynomialRing_finite_field and related methods
3. Ticket C - cdef class SkewPolynomial_finite_field_karatsuba and related methods
4. Ticket D - class SectionSkewPolynomialCenterInjection, class SkewPolynomialCenterInjection, class CenterSkewPolynomialRing and related methods
5. Ticket E - Irreducibility and Factoring related methods.

The current ticket #13215 has been modified to cover Ticket A. I will post an update here with the links to the remaining tickets once they have been created. For now, based on discussions, the main framework has been refactored, appended to, edited, documented and tested. I'm now opening this ticket for review.



---

archive/issue_comments_157969.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-18T21:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157969",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_157970.json:
```json
{
    "body": "Hello,\n\nI started reviewing your work. For now, I mostly read documentation and checked\nformatting, without focusing on the code itself. \nHere are my comments:\n\n## Generic comments:\n\n- For now, there's nothing related to skew polynomials in the index file, so it won't be possible\n  for the user to access the documentation through the online reference manual.\n  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.\n\n- I would also use the experimental decorator here: the code in itself seems stable, but it\n  will allow us to make later name changes (for instance) without putting deprecation warnings\n  all over the place. In particular, I have in mind later implementations of sparse rings and\n  multivariate rings, which might trigger some renaming in the classes implemented here.\n\n## skew_polynomial_ring_constructor.py\n\n- I might be wrong, but it does not seem to have any reason to get both input `name` and `names`.\n  The argument in the `NOTE` block sounds weird to me, especially when reading the code: it seems\n  to be some kind of argument for later enhancements (multivariate skew polynomial rings), as for now\n  it does not work if the list contains more than one element. Furthermore, the input `names` is\n  only used to set `name` if the latter is `None`, and dropped just after.\n  And in any case, I think it's better to use only one input and use type checks.\n  I propose to remove `names`, rename `name` into `variable_names`, and use sanity checks: if it's \n  a string, or a list with a single string, use it, otherwise return an appropriate error.\n  I also suggest to add a line in the note block to say that multivariate rings are not\n  supported (it's only detailed in tests for now).\n- Can you please explicit what `LHS`/`RHS` means?\n- There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.\n  I suggest to remove it for now in order to not confuse the user, and reinstate it later\n  when it will be fully implemented. In this case, also remove all references to this feature\n  in the documentation.\n- `INPUT` block could be enhanced: I would rather explain what's `name` (or `variable_names` if\n  you agree with my comment above) instead of just saying \"a string\". I would also rename `sigma`\n  to something more indicative. What about `base_ring_endomorphism`?\n- As I suggest to remove some not implemented but planned features, it might be a good\n  idea to add a `TODO` block as a reminder of these features (sparse rings, multivariate rings).\n- Module title says \"constructorS for skew polynomial rings\", while there's only one method\n  in this module. `</quibbling>`\n- Module documentation itself is not great. I think it might be a good idea to add a few\n  links to `skew_polynomial_ring.py`, and even to give a small definition of a skew polynomial ring\n  in this module.\n\n## skew_polynomial_ring.py\n\n- The short description of this module:\n  \"Sage implements dense skew univariate polynomials over commutative rings.\",\n  seems unhelpful. I'd rather replace it by something explaining the purpose of this\n  module.\n- I think the definition can be enhanced a bit: for instance, you find references to \"twisting\"\n  all over the examples, but it's not defined everywhere. Reading what's in the `DEFINITION` block\n  should be enough to understand the terminology used in the module, even if you're not familiar with\n  skew polynomials at all.\n- Same remark as above regarding `LHS`/`RHS`.\n- Some imports are not necessary anymore, e.g. `import sage.misc.latex as latex`.\n- Some methods here do not follow the mandatory documentation template.\n  For instance, `__init__` does not have a short description, nor an `INPUT` block...\n- There are a few methods in this file which are commented. If these are no longer useful,\n  I suggest to remove them instead of commeting them.\n- In some methods, documentation is not really helpful: see `twist_map` for instance. \n  If says \"Return the twist map [...]\" which is not very informative... \n- While I'm talking about it, would it be possible to explain why this method might fail\n  if you pass a negative number as input? The sentence \"Sometimes it succeeds\" seems to imply\n  it's more or less random, but if you could investigate this a bit it would lead to a more\n  satisfying documentation.\n\n## skew_polynomial_element.py\n\n- Same remark as above regarding the definition of a skew polynomial ring.\n- Same remark as above regarding imported packages.\n- Same remark as above regarding informativeness of docstrings for some methods.\n- Same remark as above regarding documentation itself: a few methods (e.g. `conjugate`) do\n  not have a short description, while `make_generic_skew_polynomial` does not have documentation at all!\n\nBest,\n\nDavid",
    "created_at": "2016-07-19T13:21:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157970",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello,

I started reviewing your work. For now, I mostly read documentation and checked
formatting, without focusing on the code itself. 
Here are my comments:

## Generic comments:

- For now, there's nothing related to skew polynomials in the index file, so it won't be possible
  for the user to access the documentation through the online reference manual.
  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.

- I would also use the experimental decorator here: the code in itself seems stable, but it
  will allow us to make later name changes (for instance) without putting deprecation warnings
  all over the place. In particular, I have in mind later implementations of sparse rings and
  multivariate rings, which might trigger some renaming in the classes implemented here.

## skew_polynomial_ring_constructor.py

- I might be wrong, but it does not seem to have any reason to get both input `name` and `names`.
  The argument in the `NOTE` block sounds weird to me, especially when reading the code: it seems
  to be some kind of argument for later enhancements (multivariate skew polynomial rings), as for now
  it does not work if the list contains more than one element. Furthermore, the input `names` is
  only used to set `name` if the latter is `None`, and dropped just after.
  And in any case, I think it's better to use only one input and use type checks.
  I propose to remove `names`, rename `name` into `variable_names`, and use sanity checks: if it's 
  a string, or a list with a single string, use it, otherwise return an appropriate error.
  I also suggest to add a line in the note block to say that multivariate rings are not
  supported (it's only detailed in tests for now).
- Can you please explicit what `LHS`/`RHS` means?
- There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.
  I suggest to remove it for now in order to not confuse the user, and reinstate it later
  when it will be fully implemented. In this case, also remove all references to this feature
  in the documentation.
- `INPUT` block could be enhanced: I would rather explain what's `name` (or `variable_names` if
  you agree with my comment above) instead of just saying "a string". I would also rename `sigma`
  to something more indicative. What about `base_ring_endomorphism`?
- As I suggest to remove some not implemented but planned features, it might be a good
  idea to add a `TODO` block as a reminder of these features (sparse rings, multivariate rings).
- Module title says "constructorS for skew polynomial rings", while there's only one method
  in this module. `</quibbling>`
- Module documentation itself is not great. I think it might be a good idea to add a few
  links to `skew_polynomial_ring.py`, and even to give a small definition of a skew polynomial ring
  in this module.

## skew_polynomial_ring.py

- The short description of this module:
  "Sage implements dense skew univariate polynomials over commutative rings.",
  seems unhelpful. I'd rather replace it by something explaining the purpose of this
  module.
- I think the definition can be enhanced a bit: for instance, you find references to "twisting"
  all over the examples, but it's not defined everywhere. Reading what's in the `DEFINITION` block
  should be enough to understand the terminology used in the module, even if you're not familiar with
  skew polynomials at all.
- Same remark as above regarding `LHS`/`RHS`.
- Some imports are not necessary anymore, e.g. `import sage.misc.latex as latex`.
- Some methods here do not follow the mandatory documentation template.
  For instance, `__init__` does not have a short description, nor an `INPUT` block...
- There are a few methods in this file which are commented. If these are no longer useful,
  I suggest to remove them instead of commeting them.
- In some methods, documentation is not really helpful: see `twist_map` for instance. 
  If says "Return the twist map [...]" which is not very informative... 
- While I'm talking about it, would it be possible to explain why this method might fail
  if you pass a negative number as input? The sentence "Sometimes it succeeds" seems to imply
  it's more or less random, but if you could investigate this a bit it would lead to a more
  satisfying documentation.

## skew_polynomial_element.py

- Same remark as above regarding the definition of a skew polynomial ring.
- Same remark as above regarding imported packages.
- Same remark as above regarding informativeness of docstrings for some methods.
- Same remark as above regarding documentation itself: a few methods (e.g. `conjugate`) do
  not have a short description, while `make_generic_skew_polynomial` does not have documentation at all!

Best,

David



---

archive/issue_comments_157971.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-19T13:21:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157971",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_157972.json:
```json
{
    "body": "Replying to [comment:59 dlucas]:\n> - I would also use the experimental decorator here: the code in itself seems stable, but it\n>  will allow us to make later name changes (for instance) without putting deprecation warnings\n>  all over the place. In particular, I have in mind later implementations of sparse rings and\n>  multivariate rings, which might trigger some renaming in the classes implemented here.\n\nIt is okay to change class names as long as the public API doesn't change (although this can entail unpickling issues in either case). I would instead future-proof this by \n\n> - Can you please explicit what `LHS`/`RHS` means?\n\nI think these are such common abbreviations for Left(Right)-Hand Side that being explicit about them will add some clutter.\n\n> - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.\n>  I suggest to remove it for now in order to not confuse the user, and reinstate it later\n>  when it will be fully implemented. In this case, also remove all references to this feature\n>  in the documentation.\n> - As I suggest to remove some not implemented but planned features, it might be a good\n>  idea to add a `TODO` block as a reminder of these features (sparse rings, multivariate rings).\n\nI disagree with these comments. This is documenting an upcoming feature, it helps keeps the API consistent with future plans and other parts of Sage, and tells someone reading the code what is currently not implemented.\n\n> - Some methods here do not follow the mandatory documentation template.\n>  For instance, `__init__` does not have a short description, nor an `INPUT` block...\n\nI treat this more as a strong guideline than a hard rule, but with that being said, anything more non-trivial should at least document its inputs (e.g., the `__init__` would be useful).\n\nI agree with the rest of David's comments.\n\nAlso, from a cursory glance, there seems to be a lot of duplication with the current implementations of polynomials (i.e., the elements). I feel there could be a lot of simplification of the code by either subclassing or creating a mix-in (cython) class that overrides the `_mul_` of polynomials. Is there a reason why you didn't do this? This might entail doing some refactoring/abstracting of the polynomial code though, but it should make the implementation of skew polynomials a lot easier (and bug proof).",
    "created_at": "2016-07-19T13:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157972",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:59 dlucas]:
> - I would also use the experimental decorator here: the code in itself seems stable, but it
>  will allow us to make later name changes (for instance) without putting deprecation warnings
>  all over the place. In particular, I have in mind later implementations of sparse rings and
>  multivariate rings, which might trigger some renaming in the classes implemented here.

It is okay to change class names as long as the public API doesn't change (although this can entail unpickling issues in either case). I would instead future-proof this by 

> - Can you please explicit what `LHS`/`RHS` means?

I think these are such common abbreviations for Left(Right)-Hand Side that being explicit about them will add some clutter.

> - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.
>  I suggest to remove it for now in order to not confuse the user, and reinstate it later
>  when it will be fully implemented. In this case, also remove all references to this feature
>  in the documentation.
> - As I suggest to remove some not implemented but planned features, it might be a good
>  idea to add a `TODO` block as a reminder of these features (sparse rings, multivariate rings).

I disagree with these comments. This is documenting an upcoming feature, it helps keeps the API consistent with future plans and other parts of Sage, and tells someone reading the code what is currently not implemented.

> - Some methods here do not follow the mandatory documentation template.
>  For instance, `__init__` does not have a short description, nor an `INPUT` block...

I treat this more as a strong guideline than a hard rule, but with that being said, anything more non-trivial should at least document its inputs (e.g., the `__init__` would be useful).

I agree with the rest of David's comments.

Also, from a cursory glance, there seems to be a lot of duplication with the current implementations of polynomials (i.e., the elements). I feel there could be a lot of simplification of the code by either subclassing or creating a mix-in (cython) class that overrides the `_mul_` of polynomials. Is there a reason why you didn't do this? This might entail doing some refactoring/abstracting of the polynomial code though, but it should make the implementation of skew polynomials a lot easier (and bug proof).



---

archive/issue_comments_157973.json:
```json
{
    "body": "One last thing, make sure all functions have doctests.",
    "created_at": "2016-07-19T13:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157973",
    "user": "https://github.com/tscrim"
}
```

One last thing, make sure all functions have doctests.



---

archive/issue_comments_157974.json:
```json
{
    "body": "Replying to [comment:59 dlucas]:\n> - For now, there's nothing related to skew polynomials in the index file, so it won't be possible\n>  for the user to access the documentation through the online reference manual.\n>  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.\nI read up a little on Sphinx documentation and from what I understand, I need to add the following in the file you mentioned, right?\n\n\n```\n@sage.misc.superseded.experimental(trac_number=13215)\nSkew Polynomials\n----------------\n\n.. toctree::\n   :maxdepth: 2\n\n   sage/rings/polynomial/skew_polynomial_element\n   sage/rings/polynomial/skew_polynomial_ring_constructor\n   sage/rings/polynomial/skew_polynomial_ring\n```\n\n> - I would also use the experimental decorator here: the code in itself seems stable, but it\n>  will allow us to make later name changes (for instance) without putting deprecation warnings\n>  all over the place. In particular, I have in mind later implementations of sparse rings and\n>  multivariate rings, which might trigger some renaming in the classes implemented here.\nPlacing the experimental warning (like I did above) is not the right way to do it because it does not throw an error. Do I instead place this line at the start of every class in all the three files instead? \n\n> == skew_polynomial_ring_constructor.py\n> \n> - I might be wrong, but it does not seem to have any reason to get both input `name` and `names`.\n>  The argument in the `NOTE` block sounds weird to me, especially when reading the code: it seems\n>  to be some kind of argument for later enhancements (multivariate skew polynomial rings), as for now\n>  it does not work if the list contains more than one element. Furthermore, the input `names` is\n>  only used to set `name` if the latter is `None`, and dropped just after.\n>  And in any case, I think it's better to use only one input and use type checks.\n>  I propose to remove `names`, rename `name` into `variable_names`, and use sanity checks: if it's \n>  a string, or a list with a single string, use it, otherwise return an appropriate error.\n>  I also suggest to add a line in the note block to say that multivariate rings are not\n>  supported (it's only detailed in tests for now).\nI agree. `names` and `name` are both not required and `variable_names` along with tests to check type of the input is cleaner. I've made this change.\n> - Can you please explicit what `LHS`/`RHS` means?\nLike `@`tscrim mentions, I think LHS/RHS are extremely common terms that are used almost everywhere and perhaps don't need explicit description. \n> - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.\n>  I suggest to remove it for now in order to not confuse the user, and reinstate it later\n>  when it will be fully implemented. In this case, also remove all references to this feature\n>  in the documentation.\nThere are a lot of places where a NotImplementedError is raised and not just in this ticket but in other polynomial files as well. I think it makes more sense to have them if they are already there. However, there is then the inconsistency in that derivations in skew polynomials are not implemented and are marked as `todo` as is the multivariate case in some places. Still, I argue for keeping sparse as it is since it is integrated in the framework already unlike the other two. And with the experimental warning showing up, changing this will not create too much trouble.\n\n> - `INPUT` block could be enhanced: I would rather explain what's `name` (or `variable_names` if\n>  you agree with my comment above) instead of just saying \"a string\". I would also rename `sigma`\n>  to something more indicative. What about `base_ring_endomorphism`?\nAn endomorphism that admits an inverse is an automorphism and skew polynomial rings AFAIK are based on automorphisms. Please correct me if I'm mistaken in this. If so, the places where it says that the twist map is not invertible, maybe should say that twist map should be invertible. And accordingly, the name can be changed to `base_ring_automorphism`.\n\n> - Module documentation itself is not great. I think it might be a good idea to add a few\n>  links to `skew_polynomial_ring.py`, and even to give a small definition of a skew polynomial ring\n>  in this module.\nUnderstood. I've made changes and expanded on the definitions and examples from other files. Same goes for all other notes (below) about improving explanations. \n\n> - Some imports are not necessary anymore, e.g. `import sage.misc.latex as latex`.\nI tried to do that with the ones I thought were not needed/deprecated. I've obviously missed a few. I'll go over this once again.\n\n> - Some methods here do not follow the mandatory documentation template.\n>  For instance, `__init__` does not have a short description, nor an `INPUT` block...\nIs there a reference doc or something where I can go through the mandatory documentation template? Or is it that Description, Input, Output, Examples, Tests - should these be present for every method? A lot of places, it doesn't make sense to have all of this.\n\n> - In some methods, documentation is not really helpful: see `twist_map` for instance. \n>  not have a short description, while `make_generic_skew_polynomial` does not have documentation at all!\nOh right! I mentioned this in the email thread with Johan except that I somehow messed up the name. I wasn't sure of what this method was doing.",
    "created_at": "2016-07-19T20:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157974",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:59 dlucas]:
> - For now, there's nothing related to skew polynomials in the index file, so it won't be possible
>  for the user to access the documentation through the online reference manual.
>  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.
I read up a little on Sphinx documentation and from what I understand, I need to add the following in the file you mentioned, right?


```
@sage.misc.superseded.experimental(trac_number=13215)
Skew Polynomials
----------------

.. toctree::
   :maxdepth: 2

   sage/rings/polynomial/skew_polynomial_element
   sage/rings/polynomial/skew_polynomial_ring_constructor
   sage/rings/polynomial/skew_polynomial_ring
```

> - I would also use the experimental decorator here: the code in itself seems stable, but it
>  will allow us to make later name changes (for instance) without putting deprecation warnings
>  all over the place. In particular, I have in mind later implementations of sparse rings and
>  multivariate rings, which might trigger some renaming in the classes implemented here.
Placing the experimental warning (like I did above) is not the right way to do it because it does not throw an error. Do I instead place this line at the start of every class in all the three files instead? 

> == skew_polynomial_ring_constructor.py
> 
> - I might be wrong, but it does not seem to have any reason to get both input `name` and `names`.
>  The argument in the `NOTE` block sounds weird to me, especially when reading the code: it seems
>  to be some kind of argument for later enhancements (multivariate skew polynomial rings), as for now
>  it does not work if the list contains more than one element. Furthermore, the input `names` is
>  only used to set `name` if the latter is `None`, and dropped just after.
>  And in any case, I think it's better to use only one input and use type checks.
>  I propose to remove `names`, rename `name` into `variable_names`, and use sanity checks: if it's 
>  a string, or a list with a single string, use it, otherwise return an appropriate error.
>  I also suggest to add a line in the note block to say that multivariate rings are not
>  supported (it's only detailed in tests for now).
I agree. `names` and `name` are both not required and `variable_names` along with tests to check type of the input is cleaner. I've made this change.
> - Can you please explicit what `LHS`/`RHS` means?
Like `@`tscrim mentions, I think LHS/RHS are extremely common terms that are used almost everywhere and perhaps don't need explicit description. 
> - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.
>  I suggest to remove it for now in order to not confuse the user, and reinstate it later
>  when it will be fully implemented. In this case, also remove all references to this feature
>  in the documentation.
There are a lot of places where a NotImplementedError is raised and not just in this ticket but in other polynomial files as well. I think it makes more sense to have them if they are already there. However, there is then the inconsistency in that derivations in skew polynomials are not implemented and are marked as `todo` as is the multivariate case in some places. Still, I argue for keeping sparse as it is since it is integrated in the framework already unlike the other two. And with the experimental warning showing up, changing this will not create too much trouble.

> - `INPUT` block could be enhanced: I would rather explain what's `name` (or `variable_names` if
>  you agree with my comment above) instead of just saying "a string". I would also rename `sigma`
>  to something more indicative. What about `base_ring_endomorphism`?
An endomorphism that admits an inverse is an automorphism and skew polynomial rings AFAIK are based on automorphisms. Please correct me if I'm mistaken in this. If so, the places where it says that the twist map is not invertible, maybe should say that twist map should be invertible. And accordingly, the name can be changed to `base_ring_automorphism`.

> - Module documentation itself is not great. I think it might be a good idea to add a few
>  links to `skew_polynomial_ring.py`, and even to give a small definition of a skew polynomial ring
>  in this module.
Understood. I've made changes and expanded on the definitions and examples from other files. Same goes for all other notes (below) about improving explanations. 

> - Some imports are not necessary anymore, e.g. `import sage.misc.latex as latex`.
I tried to do that with the ones I thought were not needed/deprecated. I've obviously missed a few. I'll go over this once again.

> - Some methods here do not follow the mandatory documentation template.
>  For instance, `__init__` does not have a short description, nor an `INPUT` block...
Is there a reference doc or something where I can go through the mandatory documentation template? Or is it that Description, Input, Output, Examples, Tests - should these be present for every method? A lot of places, it doesn't make sense to have all of this.

> - In some methods, documentation is not really helpful: see `twist_map` for instance. 
>  not have a short description, while `make_generic_skew_polynomial` does not have documentation at all!
Oh right! I mentioned this in the email thread with Johan except that I somehow messed up the name. I wasn't sure of what this method was doing.



---

archive/issue_comments_157975.json:
```json
{
    "body": "Replying to [comment:62 arpitdm]:\n> Replying to [comment:59 dlucas]:\n> > - For now, there's nothing related to skew polynomials in the index file, so it won't be possible\n> >  for the user to access the documentation through the online reference manual.\n> >  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.\n> I read up a little on Sphinx documentation and from what I understand, I need to add the following in the file you mentioned, right?\n> \n> {{{\n> `@`sage.misc.superseded.experimental(trac_number=13215)\n> Skew Polynomials\n> ----------------\n> \n> .. toctree::\n>    :maxdepth: 2\n> \n>    sage/rings/polynomial/skew_polynomial_element\n>    sage/rings/polynomial/skew_polynomial_ring_constructor\n>    sage/rings/polynomial/skew_polynomial_ring\n> }}}\n\nYup! I you're not sure of what you're doing, here's a way to test it:\nrun `sage --docbuild src/doc/en/reference/polynomial_rings html`, it will compile the \ndoc and give you an address. Copy-paste this address in your browser, and click on \"index\"\nin the page which opens. If what you added in `index.rst` works, you should see it here (and\nyou'll be able to check its formatting as well).\n\\\\\\\\\n\n> > - I would also use the experimental decorator here: the code in itself seems stable, but it\n> >  will allow us to make later name changes (for instance) without putting deprecation warnings\n> >  all over the place. In particular, I have in mind later implementations of sparse rings and\n> >  multivariate rings, which might trigger some renaming in the classes implemented here.\n> Placing the experimental warning (like I did above) is not the right way to do it because it does not throw an error. Do I instead place this line at the start of every class in all the three files instead? \n\nMmh, I reconsidered my position on this thanks to Travis' comment: as we'll not change the public API (which is the method in `skew_polynomial_ring_constructor.py`), I don't think it's necessary to\nput experimental warnings everywhere, as long as we're future proof as Travis suggests.\n\\\\\\\\\n\n> > - Can you please explicit what `LHS`/`RHS` means?\n> Like `@`tscrim mentions, I think LHS/RHS are extremely common terms that are used almost everywhere and perhaps don't need explicit description. \n\nYes, you're both right, let's drop that and keep `LHS`/`RHS`.\n\\\\\\\\\n\n> > - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.\n> >  I suggest to remove it for now in order to not confuse the user, and reinstate it later\n> >  when it will be fully implemented. In this case, also remove all references to this feature\n> >  in the documentation.\n> There are a lot of places where a NotImplementedError is raised and not just in this ticket but in other polynomial files as well. I think it makes more sense to have them if they are already there. However, there is then the inconsistency in that derivations in skew polynomials are not implemented and are marked as `todo` as is the multivariate case in some places. Still, I argue for keeping sparse as it is since it is integrated in the framework already unlike the other two. And with the experimental warning showing up, changing this will not create too much trouble.\n\nYes, thinking again about it, I think you're both right. It's better to be future proof, and if\nit's used elsewhere in `polynomials`, there's definitely no trouble in doing so.\n\\\\\\\\ \n\n\n> > - `INPUT` block could be enhanced: I would rather explain what's `name` (or `variable_names` if\n> >  you agree with my comment above) instead of just saying \"a string\". I would also rename `sigma`\n> >  to something more indicative. What about `base_ring_endomorphism`?\n> An endomorphism that admits an inverse is an automorphism and skew polynomial rings AFAIK are based on automorphisms. Please correct me if I'm mistaken in this. If so, the places where it says that the twist map is not invertible, maybe should say that twist map should be invertible. And accordingly, the name can be changed to `base_ring_automorphism`.\n\nErr, yes my bad. `base_ring_automorphism` sounds good `:)`\n\\\\\\\\\n\n\n> > - Some imports are not necessary anymore, e.g. `import sage.misc.latex as latex`.\n> I tried to do that with the ones I thought were not needed/deprecated. I've obviously missed a few. I'll go over this once again.\n\nDon't worry, it's quite tricky.\n\\\\\\\\\n\n> > - Some methods here do not follow the mandatory documentation template.\n> >  For instance, `__init__` does not have a short description, nor an `INPUT` block...\n> Is there a reference doc or something where I can go through the mandatory documentation template? Or is it that Description, Input, Output, Examples, Tests - should these be present for every method? A lot of places, it doesn't make sense to have all of this.\n\nYou can read this [tutorial](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings) for Sage developers.\nBut I agree this is not strong rules: while I do follow the \"short description, jump line, optional\nlong description\" for my methods, I only write an `OUTPUT` block when the output is not obvious from reading the short description. I always write an `INPUT` block when there's input arguments, as I\nthink that even if the names of the input arguments seems obvious, it's always nice to have an\nexplicit definition. `EXAMPLES` are of course mandatory. `TESTS` are not, I think you should only \nuse them when you want to run a few more tests which do not really make sense for the user. For instance, I use `TESTS` to doctest sanity checks. It's nice to add a doctest to ensure everything is\nsanitized, but it's of little interest for the user.\n\\\\\\\\\n\n> > - In some methods, documentation is not really helpful: see `twist_map` for instance. \n> >  not have a short description, while `make_generic_skew_polynomial` does not have documentation at all!\n> Oh right! I mentioned this in the email thread with Johan except that I somehow messed up the name. I wasn't sure of what this method was doing.\n\nOh ok! I'll read it and try to understand what it does.\n\nBest,\n\nDavid",
    "created_at": "2016-07-20T07:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157975",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Replying to [comment:62 arpitdm]:
> Replying to [comment:59 dlucas]:
> > - For now, there's nothing related to skew polynomials in the index file, so it won't be possible
> >  for the user to access the documentation through the online reference manual.
> >  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.
> I read up a little on Sphinx documentation and from what I understand, I need to add the following in the file you mentioned, right?
> 
> {{{
> `@`sage.misc.superseded.experimental(trac_number=13215)
> Skew Polynomials
> ----------------
> 
> .. toctree::
>    :maxdepth: 2
> 
>    sage/rings/polynomial/skew_polynomial_element
>    sage/rings/polynomial/skew_polynomial_ring_constructor
>    sage/rings/polynomial/skew_polynomial_ring
> }}}

Yup! I you're not sure of what you're doing, here's a way to test it:
run `sage --docbuild src/doc/en/reference/polynomial_rings html`, it will compile the 
doc and give you an address. Copy-paste this address in your browser, and click on "index"
in the page which opens. If what you added in `index.rst` works, you should see it here (and
you'll be able to check its formatting as well).
\\\\

> > - I would also use the experimental decorator here: the code in itself seems stable, but it
> >  will allow us to make later name changes (for instance) without putting deprecation warnings
> >  all over the place. In particular, I have in mind later implementations of sparse rings and
> >  multivariate rings, which might trigger some renaming in the classes implemented here.
> Placing the experimental warning (like I did above) is not the right way to do it because it does not throw an error. Do I instead place this line at the start of every class in all the three files instead? 

Mmh, I reconsidered my position on this thanks to Travis' comment: as we'll not change the public API (which is the method in `skew_polynomial_ring_constructor.py`), I don't think it's necessary to
put experimental warnings everywhere, as long as we're future proof as Travis suggests.
\\\\

> > - Can you please explicit what `LHS`/`RHS` means?
> Like `@`tscrim mentions, I think LHS/RHS are extremely common terms that are used almost everywhere and perhaps don't need explicit description. 

Yes, you're both right, let's drop that and keep `LHS`/`RHS`.
\\\\

> > - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.
> >  I suggest to remove it for now in order to not confuse the user, and reinstate it later
> >  when it will be fully implemented. In this case, also remove all references to this feature
> >  in the documentation.
> There are a lot of places where a NotImplementedError is raised and not just in this ticket but in other polynomial files as well. I think it makes more sense to have them if they are already there. However, there is then the inconsistency in that derivations in skew polynomials are not implemented and are marked as `todo` as is the multivariate case in some places. Still, I argue for keeping sparse as it is since it is integrated in the framework already unlike the other two. And with the experimental warning showing up, changing this will not create too much trouble.

Yes, thinking again about it, I think you're both right. It's better to be future proof, and if
it's used elsewhere in `polynomials`, there's definitely no trouble in doing so.
\\\\ 


> > - `INPUT` block could be enhanced: I would rather explain what's `name` (or `variable_names` if
> >  you agree with my comment above) instead of just saying "a string". I would also rename `sigma`
> >  to something more indicative. What about `base_ring_endomorphism`?
> An endomorphism that admits an inverse is an automorphism and skew polynomial rings AFAIK are based on automorphisms. Please correct me if I'm mistaken in this. If so, the places where it says that the twist map is not invertible, maybe should say that twist map should be invertible. And accordingly, the name can be changed to `base_ring_automorphism`.

Err, yes my bad. `base_ring_automorphism` sounds good `:)`
\\\\


> > - Some imports are not necessary anymore, e.g. `import sage.misc.latex as latex`.
> I tried to do that with the ones I thought were not needed/deprecated. I've obviously missed a few. I'll go over this once again.

Don't worry, it's quite tricky.
\\\\

> > - Some methods here do not follow the mandatory documentation template.
> >  For instance, `__init__` does not have a short description, nor an `INPUT` block...
> Is there a reference doc or something where I can go through the mandatory documentation template? Or is it that Description, Input, Output, Examples, Tests - should these be present for every method? A lot of places, it doesn't make sense to have all of this.

You can read this [tutorial](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings) for Sage developers.
But I agree this is not strong rules: while I do follow the "short description, jump line, optional
long description" for my methods, I only write an `OUTPUT` block when the output is not obvious from reading the short description. I always write an `INPUT` block when there's input arguments, as I
think that even if the names of the input arguments seems obvious, it's always nice to have an
explicit definition. `EXAMPLES` are of course mandatory. `TESTS` are not, I think you should only 
use them when you want to run a few more tests which do not really make sense for the user. For instance, I use `TESTS` to doctest sanity checks. It's nice to add a doctest to ensure everything is
sanitized, but it's of little interest for the user.
\\\\

> > - In some methods, documentation is not really helpful: see `twist_map` for instance. 
> >  not have a short description, while `make_generic_skew_polynomial` does not have documentation at all!
> Oh right! I mentioned this in the email thread with Johan except that I somehow messed up the name. I wasn't sure of what this method was doing.

Oh ok! I'll read it and try to understand what it does.

Best,

David



---

archive/issue_comments_157976.json:
```json
{
    "body": "Replying to [comment:63 dlucas]:\n> Replying to [comment:62 arpitdm]:\n> > Replying to [comment:59 dlucas]:\n> > > - For now, there's nothing related to skew polynomials in the index file, so it won't be possible\n> > >  for the user to access the documentation through the online reference manual.\n> > >  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.\n> > I read up a little on Sphinx documentation and from what I understand, I need to add the following in the file you mentioned, right?\n> > \n> > {{{\n> > `@`sage.misc.superseded.experimental(trac_number=13215)\n> > Skew Polynomials\n> > ----------------\n> > \n> > .. toctree::\n> >    :maxdepth: 2\n> > \n> >    sage/rings/polynomial/skew_polynomial_element\n> >    sage/rings/polynomial/skew_polynomial_ring_constructor\n> >    sage/rings/polynomial/skew_polynomial_ring\n> > }}}\n> \n> Yup! I you're not sure of what you're doing, here's a way to test it:\n> run `sage --docbuild src/doc/en/reference/polynomial_rings html`, it will compile the \n> doc and give you an address. Copy-paste this address in your browser, and click on \"index\"\n> in the page which opens. If what you added in `index.rst` works, you should see it here (and\n> you'll be able to check its formatting as well).\n\nThat command you mentioned didn't work. I get the following error message.\n\n\n```\n'src/doc/en/reference/polynomial_rings' is not a recognized document. Type 'sage --docbuild -D' for a list\nof documents, or 'sage --docbuild --help' for more help.\n\n```\n\n\nI've made the other changes according to the discussions above.",
    "created_at": "2016-07-21T00:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157976",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:63 dlucas]:
> Replying to [comment:62 arpitdm]:
> > Replying to [comment:59 dlucas]:
> > > - For now, there's nothing related to skew polynomials in the index file, so it won't be possible
> > >  for the user to access the documentation through the online reference manual.
> > >  Can you please add a dedicated section in the related index file? See `src/doc/en/reference/polynomial_rings/index.rst`.
> > I read up a little on Sphinx documentation and from what I understand, I need to add the following in the file you mentioned, right?
> > 
> > {{{
> > `@`sage.misc.superseded.experimental(trac_number=13215)
> > Skew Polynomials
> > ----------------
> > 
> > .. toctree::
> >    :maxdepth: 2
> > 
> >    sage/rings/polynomial/skew_polynomial_element
> >    sage/rings/polynomial/skew_polynomial_ring_constructor
> >    sage/rings/polynomial/skew_polynomial_ring
> > }}}
> 
> Yup! I you're not sure of what you're doing, here's a way to test it:
> run `sage --docbuild src/doc/en/reference/polynomial_rings html`, it will compile the 
> doc and give you an address. Copy-paste this address in your browser, and click on "index"
> in the page which opens. If what you added in `index.rst` works, you should see it here (and
> you'll be able to check its formatting as well).

That command you mentioned didn't work. I get the following error message.


```
'src/doc/en/reference/polynomial_rings' is not a recognized document. Type 'sage --docbuild -D' for a list
of documents, or 'sage --docbuild --help' for more help.

```


I've made the other changes according to the discussions above.



---

archive/issue_comments_157977.json:
```json
{
    "body": "Replying to [comment:60 tscrim]:\n> It is okay to change class names as long as the public API doesn't change (although this can entail unpickling issues in either case). I would instead future-proof this by \n>\nWas there supposed to be some ending of this sentence?\n\n> > - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.\n> >  I suggest to remove it for now in order to not confuse the user, and reinstate it later\n> >  when it will be fully implemented. In this case, also remove all references to this feature\n> >  in the documentation.\n> > - As I suggest to remove some not implemented but planned features, it might be a good\n> >  idea to add a `TODO` block as a reminder of these features (sparse rings, multivariate rings).\n> \n> I disagree with these comments. This is documenting an upcoming feature, it helps keeps the API consistent with future plans and other parts of Sage, and tells someone reading the code what is currently not implemented.\n\nThis is debatable: sparse skew polynomials are not very useful whenever there is a derivation (since sparsity is not retained well across operations), and it's not very clear what a multivariate skew ring is. The most natural generalisation of this structure is Ore polynomials, but that would likely be a separate class. I don't think it makes sense to leave implementation artifacts that will, most likely, never lead to real implementations. In the odd case that they *would* lead to implementations, we could reinstate them with no penalty.\n\n> Also, from a cursory glance, there seems to be a lot of duplication with the current implementations of polynomials (i.e., the elements). I feel there could be a lot of simplification of the code by either subclassing or creating a mix-in (cython) class that overrides the `_mul_` of polynomials. Is there a reason why you didn't do this? This might entail doing some refactoring/abstracting of the polynomial code though, but it should make the implementation of skew polynomials a lot easier (and bug proof).\n\nThat's arguably true. To be fair: Xavier Caruso made the code, and Arpit just tried to get it into shape with less than full-rewrite-workload. That said, I would be concerned about subclassing commutative classes that commutative-only code creeps into the skew polynomials: for instance if someone later on adds a method to the parent class and forgets to explicitly overwrite or remove this method in the skew polynomial class. It's really only all the basics that are shared btw commutative/non-commutative: all the substantial and complex properties are not shared at all.",
    "created_at": "2016-07-21T02:00:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157977",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:60 tscrim]:
> It is okay to change class names as long as the public API doesn't change (although this can entail unpickling issues in either case). I would instead future-proof this by 
>
Was there supposed to be some ending of this sentence?

> > - There's an option `sparse=False` which, if set to `True`, returns a `NotImplementedError`.
> >  I suggest to remove it for now in order to not confuse the user, and reinstate it later
> >  when it will be fully implemented. In this case, also remove all references to this feature
> >  in the documentation.
> > - As I suggest to remove some not implemented but planned features, it might be a good
> >  idea to add a `TODO` block as a reminder of these features (sparse rings, multivariate rings).
> 
> I disagree with these comments. This is documenting an upcoming feature, it helps keeps the API consistent with future plans and other parts of Sage, and tells someone reading the code what is currently not implemented.

This is debatable: sparse skew polynomials are not very useful whenever there is a derivation (since sparsity is not retained well across operations), and it's not very clear what a multivariate skew ring is. The most natural generalisation of this structure is Ore polynomials, but that would likely be a separate class. I don't think it makes sense to leave implementation artifacts that will, most likely, never lead to real implementations. In the odd case that they *would* lead to implementations, we could reinstate them with no penalty.

> Also, from a cursory glance, there seems to be a lot of duplication with the current implementations of polynomials (i.e., the elements). I feel there could be a lot of simplification of the code by either subclassing or creating a mix-in (cython) class that overrides the `_mul_` of polynomials. Is there a reason why you didn't do this? This might entail doing some refactoring/abstracting of the polynomial code though, but it should make the implementation of skew polynomials a lot easier (and bug proof).

That's arguably true. To be fair: Xavier Caruso made the code, and Arpit just tried to get it into shape with less than full-rewrite-workload. That said, I would be concerned about subclassing commutative classes that commutative-only code creeps into the skew polynomials: for instance if someone later on adds a method to the parent class and forgets to explicitly overwrite or remove this method in the skew polynomial class. It's really only all the basics that are shared btw commutative/non-commutative: all the substantial and complex properties are not shared at all.



---

archive/issue_comments_157978.json:
```json
{
    "body": "Replying to [comment:65 jsrn]:\n> This is debatable: sparse skew polynomials are not very useful whenever there is a derivation (since sparsity is not retained well across operations),\n\nOh, I just remembered that this patch doesn't provide skew polynomials with derivations :-D So then this comment might be somewhat moot ;-)\n\n> The most natural generalisation of this structure is Ore polynomials,\n\nOne would perhaps add skew polynomials with derivations before full-fledged Ore rings, though :-)\n\nBest,\nJohan",
    "created_at": "2016-07-21T02:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157978",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:65 jsrn]:
> This is debatable: sparse skew polynomials are not very useful whenever there is a derivation (since sparsity is not retained well across operations),

Oh, I just remembered that this patch doesn't provide skew polynomials with derivations :-D So then this comment might be somewhat moot ;-)

> The most natural generalisation of this structure is Ore polynomials,

One would perhaps add skew polynomials with derivations before full-fledged Ore rings, though :-)

Best,
Johan



---

archive/issue_comments_157979.json:
```json
{
    "body": "Replying to [comment:65 jsrn]:\n> Replying to [comment:60 tscrim]:\n> > It is okay to change class names as long as the public API doesn't change (although this can entail unpickling issues in either case). I would instead future-proof this by \n> >\n> Was there supposed to be some ending of this sentence?\n\nThat must of gotten lost when I had connectivity issues. This was suppose to be \"by using a consistent API\".\n\n> > Also, from a cursory glance, there seems to be a lot of duplication with the current implementations of polynomials (i.e., the elements). I feel there could be a lot of simplification of the code by either subclassing or creating a mix-in (cython) class that overrides the `_mul_` of polynomials. Is there a reason why you didn't do this? This might entail doing some refactoring/abstracting of the polynomial code though, but it should make the implementation of skew polynomials a lot easier (and bug proof).\n> \n> That's arguably true. To be fair: Xavier Caruso made the code, and Arpit just tried to get it into shape with less than full-rewrite-workload.\n\nI thank them both for working on this and pushing it forward.\n\n> That said, I would be concerned about subclassing commutative classes that commutative-only code creeps into the skew polynomials: for instance if someone later on adds a method to the parent class and forgets to explicitly overwrite or remove this method in the skew polynomial class. It's really only all the basics that are shared btw commutative/non-commutative: all the substantial and complex properties are not shared at all.\n\nI don't want to diminish their work, but sometimes after having the code there and looking ahead, major refactoring can be needed. However, there would likely need to be refactoring of the usual commutative polynomials to address the issue you brought up. There could also be ways to factor out common code from other algebras across Sage. So in short, what I'm suggesting is to have a common abstract base class for both for the basic/core functionality. If there is only a little overlap (I really haven't looked), then we can just continue in our current fashion.",
    "created_at": "2016-07-21T02:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157979",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:65 jsrn]:
> Replying to [comment:60 tscrim]:
> > It is okay to change class names as long as the public API doesn't change (although this can entail unpickling issues in either case). I would instead future-proof this by 
> >
> Was there supposed to be some ending of this sentence?

That must of gotten lost when I had connectivity issues. This was suppose to be "by using a consistent API".

> > Also, from a cursory glance, there seems to be a lot of duplication with the current implementations of polynomials (i.e., the elements). I feel there could be a lot of simplification of the code by either subclassing or creating a mix-in (cython) class that overrides the `_mul_` of polynomials. Is there a reason why you didn't do this? This might entail doing some refactoring/abstracting of the polynomial code though, but it should make the implementation of skew polynomials a lot easier (and bug proof).
> 
> That's arguably true. To be fair: Xavier Caruso made the code, and Arpit just tried to get it into shape with less than full-rewrite-workload.

I thank them both for working on this and pushing it forward.

> That said, I would be concerned about subclassing commutative classes that commutative-only code creeps into the skew polynomials: for instance if someone later on adds a method to the parent class and forgets to explicitly overwrite or remove this method in the skew polynomial class. It's really only all the basics that are shared btw commutative/non-commutative: all the substantial and complex properties are not shared at all.

I don't want to diminish their work, but sometimes after having the code there and looking ahead, major refactoring can be needed. However, there would likely need to be refactoring of the usual commutative polynomials to address the issue you brought up. There could also be ways to factor out common code from other algebras across Sage. So in short, what I'm suggesting is to have a common abstract base class for both for the basic/core functionality. If there is only a little overlap (I really haven't looked), then we can just continue in our current fashion.



---

archive/issue_comments_157980.json:
```json
{
    "body": "Replying to [comment:67 tscrim]:\n> That must of gotten lost when I had connectivity issues. This was suppose to be \"by using a consistent API\".\n\nAh ok. You're right: aim for a good API. I think that the experimental decorator is still a good idea for such a big, brand-new feature, though. That what it was introduced for.\n\n> I don't want to diminish their work, but sometimes after having the code there and looking ahead, major refactoring can be needed. However, there would likely need to be refactoring of the usual commutative polynomials to address the issue you brought up. There could also be ways to factor out common code from other algebras across Sage. So in short, what I'm suggesting is to have a common abstract base class for both for the basic/core functionality. If there is only a little overlap (I really haven't looked), then we can just continue in our current fashion.\n\nI agree that this would be nice and should be looked at. However, can I suggest\nthat this is for another ticket (cf. Reviewer's Checklist [\"The perfect is the enemy of the good\"][http://doc.sagemath.org/html/en/developer/reviewer_checklist.html](http://doc.sagemath.org/html/en/developer/reviewer_checklist.html)).\n\nThat way, improvements could progress on both ends (improving code sharing between the polynomial types, while improving skew poly functionality, and the coding theory constructions that we will build using skew polynomials).",
    "created_at": "2016-07-21T02:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157980",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:67 tscrim]:
> That must of gotten lost when I had connectivity issues. This was suppose to be "by using a consistent API".

Ah ok. You're right: aim for a good API. I think that the experimental decorator is still a good idea for such a big, brand-new feature, though. That what it was introduced for.

> I don't want to diminish their work, but sometimes after having the code there and looking ahead, major refactoring can be needed. However, there would likely need to be refactoring of the usual commutative polynomials to address the issue you brought up. There could also be ways to factor out common code from other algebras across Sage. So in short, what I'm suggesting is to have a common abstract base class for both for the basic/core functionality. If there is only a little overlap (I really haven't looked), then we can just continue in our current fashion.

I agree that this would be nice and should be looked at. However, can I suggest
that this is for another ticket (cf. Reviewer's Checklist ["The perfect is the enemy of the good"][http://doc.sagemath.org/html/en/developer/reviewer_checklist.html](http://doc.sagemath.org/html/en/developer/reviewer_checklist.html)).

That way, improvements could progress on both ends (improving code sharing between the polynomial types, while improving skew poly functionality, and the coding theory constructions that we will build using skew polynomials).



---

archive/issue_comments_157981.json:
```json
{
    "body": "Replying to [comment:68 jsrn]:\n> Replying to [comment:67 tscrim]:\n> > That must of gotten lost when I had connectivity issues. This was suppose to be \"by using a consistent API\".\n> \n> Ah ok. You're right: aim for a good API. I think that the experimental decorator is still a good idea for such a big, brand-new feature, though. That what it was introduced for.\n\nIn this case we have very similar features that we have had for a long time, in addition to a certain amount of stability with the code. By that, I think we shouldn't scare users with such a warning.\n\n> > I don't want to diminish their work, but sometimes after having the code there and looking ahead, major refactoring can be needed. However, there would likely need to be refactoring of the usual commutative polynomials to address the issue you brought up. There could also be ways to factor out common code from other algebras across Sage. So in short, what I'm suggesting is to have a common abstract base class for both for the basic/core functionality. If there is only a little overlap (I really haven't looked), then we can just continue in our current fashion.\n> \n> I agree that this would be nice and should be looked at. However, can I suggest\n> that this is for another ticket (cf. Reviewer's Checklist [\"The perfect is the enemy of the good\"][http://doc.sagemath.org/html/en/developer/reviewer_checklist.html](http://doc.sagemath.org/html/en/developer/reviewer_checklist.html)).\n\nI'm not asking for perfection. If we do decide to subclass, then it just makes it somewhat harder to refactor once this is included. Just to be clear, I am just raising the question, not making the refactoring a requirement.\n\n> That way, improvements could progress on both ends (improving code sharing between the polynomial types, while improving skew poly functionality, and the coding theory constructions that we will build using skew polynomials).\n\nIf only I had time... :P",
    "created_at": "2016-07-21T03:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157981",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:68 jsrn]:
> Replying to [comment:67 tscrim]:
> > That must of gotten lost when I had connectivity issues. This was suppose to be "by using a consistent API".
> 
> Ah ok. You're right: aim for a good API. I think that the experimental decorator is still a good idea for such a big, brand-new feature, though. That what it was introduced for.

In this case we have very similar features that we have had for a long time, in addition to a certain amount of stability with the code. By that, I think we shouldn't scare users with such a warning.

> > I don't want to diminish their work, but sometimes after having the code there and looking ahead, major refactoring can be needed. However, there would likely need to be refactoring of the usual commutative polynomials to address the issue you brought up. There could also be ways to factor out common code from other algebras across Sage. So in short, what I'm suggesting is to have a common abstract base class for both for the basic/core functionality. If there is only a little overlap (I really haven't looked), then we can just continue in our current fashion.
> 
> I agree that this would be nice and should be looked at. However, can I suggest
> that this is for another ticket (cf. Reviewer's Checklist ["The perfect is the enemy of the good"][http://doc.sagemath.org/html/en/developer/reviewer_checklist.html](http://doc.sagemath.org/html/en/developer/reviewer_checklist.html)).

I'm not asking for perfection. If we do decide to subclass, then it just makes it somewhat harder to refactor once this is included. Just to be clear, I am just raising the question, not making the refactoring a requirement.

> That way, improvements could progress on both ends (improving code sharing between the polynomial types, while improving skew poly functionality, and the coding theory constructions that we will build using skew polynomials).

If only I had time... :P



---

archive/issue_comments_157982.json:
```json
{
    "body": "Replying to [comment:64 arpitdm]:\n\n> That command you mentioned didn't work. I get the following error message.\n> \n> {{{\n> 'src/doc/en/reference/polynomial_rings' is not a recognized document. Type 'sage --docbuild -D' for a list\n> of documents, or 'sage --docbuild --help' for more help.\n> \n> }}}\n> \n> I've made the other changes according to the discussions above.\n\nOh, my mistake, `sage --docbuild reference/polynomial_rings html` is enough... By the way, don't forget to rebuild before compiling documentation. If you don't, changes you made to the docstrings/tests since your last rebuild will not be considered.\n\nBest,\n\nDavid",
    "created_at": "2016-07-21T08:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157982",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Replying to [comment:64 arpitdm]:

> That command you mentioned didn't work. I get the following error message.
> 
> {{{
> 'src/doc/en/reference/polynomial_rings' is not a recognized document. Type 'sage --docbuild -D' for a list
> of documents, or 'sage --docbuild --help' for more help.
> 
> }}}
> 
> I've made the other changes according to the discussions above.

Oh, my mistake, `sage --docbuild reference/polynomial_rings html` is enough... By the way, don't forget to rebuild before compiling documentation. If you don't, changes you made to the docstrings/tests since your last rebuild will not be considered.

Best,

David



---

archive/issue_comments_157983.json:
```json
{
    "body": "Hi David,\n\nThe `name` and `names` that we had agreed upon changing to `variable_names` is giving a problem I did not notice until I was testing stuff today. I think the reason they exist is not just to facilitate multi-variate rings but also to support the diamond bracket notation. `S.<x> = SkewPolynomialRing(R, sigma)` and without it gives TypeError (unexpected keyword argument). Also, this is a syntax present in other ring constructors in Sage. And while we don't support multivariate rings for Skew Polynomials, perhaps this feature might be added later on and we do need the diamond notation. Is there an alternate way in Sage to capture the diamond bracket or should we revert back to the original?",
    "created_at": "2016-07-21T11:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157983",
    "user": "https://github.com/arpitdm"
}
```

Hi David,

The `name` and `names` that we had agreed upon changing to `variable_names` is giving a problem I did not notice until I was testing stuff today. I think the reason they exist is not just to facilitate multi-variate rings but also to support the diamond bracket notation. `S.<x> = SkewPolynomialRing(R, sigma)` and without it gives TypeError (unexpected keyword argument). Also, this is a syntax present in other ring constructors in Sage. And while we don't support multivariate rings for Skew Polynomials, perhaps this feature might be added later on and we do need the diamond notation. Is there an alternate way in Sage to capture the diamond bracket or should we revert back to the original?



---

archive/issue_comments_157984.json:
```json
{
    "body": "Hello,\n\nOh, ok I was not aware of that. I tested it on my side, and indeed whenever you use diamond bracket, it expects an argument called `names`. \nXavier's comments on the `NOTE` block makes sense now.\n\nIn that case, what about removing the argument `name` and keep only `names`?\nThen, through input sanitization, allow only string, list containing one string, fail with a specific error if one passes a list with several strings in it explaining multivariate ring is not yet supported, and fail with a generic error message, e.g. \"You can only pass a string, or a list of string for input `names`\" otherwise.\nI think it does the trick.\n\nDavid",
    "created_at": "2016-07-21T12:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157984",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello,

Oh, ok I was not aware of that. I tested it on my side, and indeed whenever you use diamond bracket, it expects an argument called `names`. 
Xavier's comments on the `NOTE` block makes sense now.

In that case, what about removing the argument `name` and keep only `names`?
Then, through input sanitization, allow only string, list containing one string, fail with a specific error if one passes a list with several strings in it explaining multivariate ring is not yet supported, and fail with a generic error message, e.g. "You can only pass a string, or a list of string for input `names`" otherwise.
I think it does the trick.

David



---

archive/issue_comments_157985.json:
```json
{
    "body": "Replying to [comment:69 tscrim]:\n> In this case we have very similar features that we have had for a long time, in addition to a certain amount of stability with the code. By that, I think we shouldn't scare users with such a warning.\n\nYou have a point. The names and conventions are unlikely to change within the\nlimited scope of this ticket. For the follow-up tickets containing the rest of\nCaruso's code the experimental decorator could be considered.\n\n> I'm not asking for perfection. If we do decide to subclass, then it just makes it somewhat harder to refactor once this is included. Just to be clear, I am just raising the question, not making the refactoring a requirement.\n\nI don't think it makes it harder to refactor later on than now: it's exactly the same work, since the full implementation of skew polynomials has already been written, doctested etc. That's one reason I would suggest leaving it for a future ticket.",
    "created_at": "2016-07-21T12:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157985",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:69 tscrim]:
> In this case we have very similar features that we have had for a long time, in addition to a certain amount of stability with the code. By that, I think we shouldn't scare users with such a warning.

You have a point. The names and conventions are unlikely to change within the
limited scope of this ticket. For the follow-up tickets containing the rest of
Caruso's code the experimental decorator could be considered.

> I'm not asking for perfection. If we do decide to subclass, then it just makes it somewhat harder to refactor once this is included. Just to be clear, I am just raising the question, not making the refactoring a requirement.

I don't think it makes it harder to refactor later on than now: it's exactly the same work, since the full implementation of skew polynomials has already been written, doctested etc. That's one reason I would suggest leaving it for a future ticket.



---

archive/issue_comments_157986.json:
```json
{
    "body": "Replying to [comment:73 jsrn]:\n> Replying to [comment:69 tscrim]:\n> > I'm not asking for perfection. If we do decide to subclass, then it just makes it somewhat harder to refactor once this is included. Just to be clear, I am just raising the question, not making the refactoring a requirement.\n> \n> I don't think it makes it harder to refactor later on than now: it's exactly the same work, since the full implementation of skew polynomials has already been written, doctested etc. That's one reason I would suggest leaving it for a future ticket.\n\nIt just means we have to deal with getting old pickles to work, which might be non-trivial (granted, Sage is not always successful with this).",
    "created_at": "2016-07-21T13:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157986",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:73 jsrn]:
> Replying to [comment:69 tscrim]:
> > I'm not asking for perfection. If we do decide to subclass, then it just makes it somewhat harder to refactor once this is included. Just to be clear, I am just raising the question, not making the refactoring a requirement.
> 
> I don't think it makes it harder to refactor later on than now: it's exactly the same work, since the full implementation of skew polynomials has already been written, doctested etc. That's one reason I would suggest leaving it for a future ticket.

It just means we have to deal with getting old pickles to work, which might be non-trivial (granted, Sage is not always successful with this).



---

archive/issue_comments_157987.json:
```json
{
    "body": "You do want to use `names`:\n\n```\nsage: preparse('R.<x> = PolynomialRing(ZZ)')\n\"R = PolynomialRing(ZZ, names=('x',)); (x,) = R._first_ngens(1)\"\n```\n\n\nSome notes on the code from a skim through:\n\n- You seem to be using the exact same format of polynomials, which contains a lot of old code. For example, don't implement a `_repr_()` that just calls (a *Python* function) `_repr()`. This is useless (even in the usual polynomial ring code it seems); instead just implement `_repr_()`. Similarly, there are a number of methods you could simply `cpdef`.\n- Kill with fire and holy water `is_*` methods. They just trivially call `isinstance`.\n- You can use\n  {{{\nself._no_generic_basering_coercion = True\n  }}}\n  to avoid constructing the coercion from the base ring when initializing the skew polynomial ring.\n- `_cmp_` is planned to be removed. Use `_richcmp_` instead.\n- You should lazy import the ring constructor.\n- You are double importing things in the element class; only keep the `cimport`'s.",
    "created_at": "2016-07-21T14:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157987",
    "user": "https://github.com/tscrim"
}
```

You do want to use `names`:

```
sage: preparse('R.<x> = PolynomialRing(ZZ)')
"R = PolynomialRing(ZZ, names=('x',)); (x,) = R._first_ngens(1)"
```


Some notes on the code from a skim through:

- You seem to be using the exact same format of polynomials, which contains a lot of old code. For example, don't implement a `_repr_()` that just calls (a *Python* function) `_repr()`. This is useless (even in the usual polynomial ring code it seems); instead just implement `_repr_()`. Similarly, there are a number of methods you could simply `cpdef`.
- Kill with fire and holy water `is_*` methods. They just trivially call `isinstance`.
- You can use
  {{{
self._no_generic_basering_coercion = True
  }}}
  to avoid constructing the coercion from the base ring when initializing the skew polynomial ring.
- `_cmp_` is planned to be removed. Use `_richcmp_` instead.
- You should lazy import the ring constructor.
- You are double importing things in the element class; only keep the `cimport`'s.



---

archive/issue_comments_157988.json:
```json
{
    "body": "Hi Travis,\n\nYou seem to understand these things quite well, and we had quite some problems\nwith getting this code to work, so could you please elaborate on the following\nthings:\n\nReplying to [comment:75 tscrim]:\n> - You seem to be using the exact same format of polynomials, which contains a lot of old code. For example, don't implement a `_repr_()` that just calls (a *Python* function) `_repr()`. This is useless (even in the usual polynomial ring code it seems); instead just implement `_repr_()`. Similarly, there are a number of methods you could simply `cpdef`.\n\nThat would be great. Can you give us the full list of the methods for which we can do this, or point us to how we can figure it out?\n\n> - You can use\n>   {{{\n> self._no_generic_basering_coercion = True\n>   }}}\n>   to avoid constructing the coercion from the base ring when initializing the skew polynomial ring.\n\nTo be precise, do you mean that can insert the above line in `SkewPolynomialRing_general.__init__` just before the call to `Algebra.__init__`, and then remove the call to `self._unset_coercions_used()`? Or is there more to it?\n\n> - `_cmp_` is planned to be removed. Use `_richcmp_` instead.\n\nAre you talking about `SkewPolynomial._cmp_`? We spent many hours debugging the comparison code because it threw strange errors and segfaults. To avoid me spending many more hours, could I ask you to tell us exactly how to write the correct comparison code then?\n\nSimon King's tutorial on implementing algebraic structures should be updated to be more informative on this, I think.\n\n> - You should lazy import the ring constructor.\n\nDo you mean `sage.rings.ring` in `skew_polynomial_ring.py`? Why is exactly that one important to lazily import?\n\nThanks for the help!\n\nBest,\nJohan",
    "created_at": "2016-07-21T19:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157988",
    "user": "https://github.com/johanrosenkilde"
}
```

Hi Travis,

You seem to understand these things quite well, and we had quite some problems
with getting this code to work, so could you please elaborate on the following
things:

Replying to [comment:75 tscrim]:
> - You seem to be using the exact same format of polynomials, which contains a lot of old code. For example, don't implement a `_repr_()` that just calls (a *Python* function) `_repr()`. This is useless (even in the usual polynomial ring code it seems); instead just implement `_repr_()`. Similarly, there are a number of methods you could simply `cpdef`.

That would be great. Can you give us the full list of the methods for which we can do this, or point us to how we can figure it out?

> - You can use
>   {{{
> self._no_generic_basering_coercion = True
>   }}}
>   to avoid constructing the coercion from the base ring when initializing the skew polynomial ring.

To be precise, do you mean that can insert the above line in `SkewPolynomialRing_general.__init__` just before the call to `Algebra.__init__`, and then remove the call to `self._unset_coercions_used()`? Or is there more to it?

> - `_cmp_` is planned to be removed. Use `_richcmp_` instead.

Are you talking about `SkewPolynomial._cmp_`? We spent many hours debugging the comparison code because it threw strange errors and segfaults. To avoid me spending many more hours, could I ask you to tell us exactly how to write the correct comparison code then?

Simon King's tutorial on implementing algebraic structures should be updated to be more informative on this, I think.

> - You should lazy import the ring constructor.

Do you mean `sage.rings.ring` in `skew_polynomial_ring.py`? Why is exactly that one important to lazily import?

Thanks for the help!

Best,
Johan



---

archive/issue_comments_157989.json:
```json
{
    "body": "Replying to [comment:75 tscrim]:\nTo add to what Johan is asking,\n> - Kill with fire and holy water `is_*` methods. They just trivially call `isinstance`.\nWhich \"is_\" methods are you referring to? I couldn't really find any that call isinstance directly apart from the is_SkewPolynomialRing. For example, ``is_finite`` returns true if the base ring is finite and has order 1 and false otherwise. And so on. Each have minor conditions that the user could of course check themselves if need be, but its not always a one line call and its not always obvious what methods are available to the user so that they may verify. Should such methods then still be removed?\n\n> - You are double importing things in the element class; only keep the `cimport`'s.\nCould you elaborate with a tiny example or something what you mean by this? \n\nAgain, thank you for your help!\n\nBest,\nArpit.",
    "created_at": "2016-07-21T20:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157989",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:75 tscrim]:
To add to what Johan is asking,
> - Kill with fire and holy water `is_*` methods. They just trivially call `isinstance`.
Which "is_" methods are you referring to? I couldn't really find any that call isinstance directly apart from the is_SkewPolynomialRing. For example, ``is_finite`` returns true if the base ring is finite and has order 1 and false otherwise. And so on. Each have minor conditions that the user could of course check themselves if need be, but its not always a one line call and its not always obvious what methods are available to the user so that they may verify. Should such methods then still be removed?

> - You are double importing things in the element class; only keep the `cimport`'s.
Could you elaborate with a tiny example or something what you mean by this? 

Again, thank you for your help!

Best,
Arpit.



---

archive/issue_comments_157990.json:
```json
{
    "body": "Replying to [comment:77 arpitdm]:\n> Replying to [comment:75 tscrim]:\n> To add to what Johan is asking,\n> > - Kill with fire and holy water `is_*` methods. They just trivially call `isinstance`.\n> Which \"is_\" methods are you referring to? I couldn't really find any that call isinstance directly apart from the is_SkewPolynomialRing. For example, ``is_finite`` returns true if the base ring is finite and has order 1 and false otherwise. And so on. Each have minor conditions that the user could of course check themselves if need be, but its not always a one line call and its not always obvious what methods are available to the user so that they may verify. Should such methods then still be removed?\n\nSorry, I misspoke slightly. It is the `is_*` functions, which as you say are things like `is_SkewPolynomialRing`.\n\n> > - You are double importing things in the element class; only keep the `cimport`'s.\n> Could you elaborate with a tiny example or something what you mean by this? \n\nYou should make this change:\n\n\n```diff\n-from sage.structure.element import Element, AlgebraElement\n from sage.structure.element cimport Element, AlgebraElement, ModuleElement\n from sage.structure.parent cimport Parent\n-from polynomial_compiled import CompiledPolynomialFunction\n from polynomial_compiled cimport CompiledPolynomialFunction\n```\n",
    "created_at": "2016-07-21T21:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157990",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:77 arpitdm]:
> Replying to [comment:75 tscrim]:
> To add to what Johan is asking,
> > - Kill with fire and holy water `is_*` methods. They just trivially call `isinstance`.
> Which "is_" methods are you referring to? I couldn't really find any that call isinstance directly apart from the is_SkewPolynomialRing. For example, ``is_finite`` returns true if the base ring is finite and has order 1 and false otherwise. And so on. Each have minor conditions that the user could of course check themselves if need be, but its not always a one line call and its not always obvious what methods are available to the user so that they may verify. Should such methods then still be removed?

Sorry, I misspoke slightly. It is the `is_*` functions, which as you say are things like `is_SkewPolynomialRing`.

> > - You are double importing things in the element class; only keep the `cimport`'s.
> Could you elaborate with a tiny example or something what you mean by this? 

You should make this change:


```diff
-from sage.structure.element import Element, AlgebraElement
 from sage.structure.element cimport Element, AlgebraElement, ModuleElement
 from sage.structure.parent cimport Parent
-from polynomial_compiled import CompiledPolynomialFunction
 from polynomial_compiled cimport CompiledPolynomialFunction
```




---

archive/issue_comments_157991.json:
```json
{
    "body": "Replying to [comment:76 jsrn]:\n> Replying to [comment:75 tscrim]:\n> > - You seem to be using the exact same format of polynomials, which contains a lot of old code. For example, don't implement a `_repr_()` that just calls (a *Python* function) `_repr()`. This is useless (even in the usual polynomial ring code it seems); instead just implement `_repr_()`. Similarly, there are a number of methods you could simply `cpdef`.\n> \n> That would be great. Can you give us the full list of the methods for which we can do this, or point us to how we can figure it out?\n\nAnything python method (a `def`) which only calls a `cdef` method. Another example is `list` calling `_list_c`. IIRC, you can't do this for `__hash__` because this is a Python special method. I think `_list_c` is the only other one (and you can replace this by just calling the attribute `__coeffs`).\n\n> > - You can use\n> >   {{{\n> > self._no_generic_basering_coercion = True\n> >   }}}\n> >   to avoid constructing the coercion from the base ring when initializing the skew polynomial ring.\n> \n> To be precise, do you mean that can insert the above line in `SkewPolynomialRing_general.__init__` just before the call to `Algebra.__init__`, and then remove the call to `self._unset_coercions_used()`? Or is there more to it?\n\nYes, exactly.\n\n> > - `_cmp_` is planned to be removed. Use `_richcmp_` instead.\n> \n> Are you talking about `SkewPolynomial._cmp_`? We spent many hours debugging the comparison code because it threw strange errors and segfaults. To avoid me spending many more hours, could I ask you to tell us exactly how to write the correct comparison code then?\n\nYou can look at `src/sage/rings/real_arb.pyx` or `src/sage/rings/real_double.pyx` for example. We can include the `_cmp_` as it is now, but it means some more hardship when we finally start converting.\n\n> Simon King's tutorial on implementing algebraic structures should be updated to be more informative on this, I think.\n\nYes, it should be. It was written before we really had to worry about going to Python3.\n\n> > - You should lazy import the ring constructor.\n> \n> Do you mean `sage.rings.ring` in `skew_polynomial_ring.py`? Why is exactly that one important to lazily import?\n\nIt is the thing which imports the rest of the code (once the `is_*` functions are gone). So all of the other files are not imported on startup, which helps keep that down because this is not a \"common\" object that the average user will use (IMO).\n\n> Thanks for the help!\n\nThank you for the good discussions and work.",
    "created_at": "2016-07-21T22:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157991",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:76 jsrn]:
> Replying to [comment:75 tscrim]:
> > - You seem to be using the exact same format of polynomials, which contains a lot of old code. For example, don't implement a `_repr_()` that just calls (a *Python* function) `_repr()`. This is useless (even in the usual polynomial ring code it seems); instead just implement `_repr_()`. Similarly, there are a number of methods you could simply `cpdef`.
> 
> That would be great. Can you give us the full list of the methods for which we can do this, or point us to how we can figure it out?

Anything python method (a `def`) which only calls a `cdef` method. Another example is `list` calling `_list_c`. IIRC, you can't do this for `__hash__` because this is a Python special method. I think `_list_c` is the only other one (and you can replace this by just calling the attribute `__coeffs`).

> > - You can use
> >   {{{
> > self._no_generic_basering_coercion = True
> >   }}}
> >   to avoid constructing the coercion from the base ring when initializing the skew polynomial ring.
> 
> To be precise, do you mean that can insert the above line in `SkewPolynomialRing_general.__init__` just before the call to `Algebra.__init__`, and then remove the call to `self._unset_coercions_used()`? Or is there more to it?

Yes, exactly.

> > - `_cmp_` is planned to be removed. Use `_richcmp_` instead.
> 
> Are you talking about `SkewPolynomial._cmp_`? We spent many hours debugging the comparison code because it threw strange errors and segfaults. To avoid me spending many more hours, could I ask you to tell us exactly how to write the correct comparison code then?

You can look at `src/sage/rings/real_arb.pyx` or `src/sage/rings/real_double.pyx` for example. We can include the `_cmp_` as it is now, but it means some more hardship when we finally start converting.

> Simon King's tutorial on implementing algebraic structures should be updated to be more informative on this, I think.

Yes, it should be. It was written before we really had to worry about going to Python3.

> > - You should lazy import the ring constructor.
> 
> Do you mean `sage.rings.ring` in `skew_polynomial_ring.py`? Why is exactly that one important to lazily import?

It is the thing which imports the rest of the code (once the `is_*` functions are gone). So all of the other files are not imported on startup, which helps keep that down because this is not a "common" object that the average user will use (IMO).

> Thanks for the help!

Thank you for the good discussions and work.



---

archive/issue_comments_157992.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-22T22:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157992",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157993.json:
```json
{
    "body": "Stuff fixed in the commits above based on latest set of discussions:\n1. Improved descriptions for element, ring and ring constructor files\n2. Improved definitions.\n3. Input sanitization and INPUT block for init methods\n4. `name` and `names` merged into a single `names` argument.\n5. Improved documentation and tests for `twist_map`, make_generic_skew_polynomial` and other such methods.\n6. Removed all functions that trivially called `isinstance`. Merged _repr_ and _repr into _repr_. \n7. Improved call to coercion, removed double imports, removed unnecessary imports. Added lazy import where possible.\n8. Solving any doctests that came up in the course of the aforementioned changes.\n\nPlease let me know if I have missed something and of course any other changes that ought to be made. I'm now opening this for review.",
    "created_at": "2016-07-22T23:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157993",
    "user": "https://github.com/arpitdm"
}
```

Stuff fixed in the commits above based on latest set of discussions:
1. Improved descriptions for element, ring and ring constructor files
2. Improved definitions.
3. Input sanitization and INPUT block for init methods
4. `name` and `names` merged into a single `names` argument.
5. Improved documentation and tests for `twist_map`, make_generic_skew_polynomial` and other such methods.
6. Removed all functions that trivially called `isinstance`. Merged _repr_ and _repr into _repr_. 
7. Improved call to coercion, removed double imports, removed unnecessary imports. Added lazy import where possible.
8. Solving any doctests that came up in the course of the aforementioned changes.

Please let me know if I have missed something and of course any other changes that ought to be made. I'm now opening this for review.



---

archive/issue_comments_157994.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-22T23:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157994",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_157995.json:
```json
{
    "body": "Sounds great!\n\nDid you look at the `_cmp_` thing that Travis brought up?\nBest,\nJohan",
    "created_at": "2016-07-23T00:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157995",
    "user": "https://github.com/johanrosenkilde"
}
```

Sounds great!

Did you look at the `_cmp_` thing that Travis brought up?
Best,
Johan



---

archive/issue_comments_157996.json:
```json
{
    "body": "Hello,\n\nGood work on docstrings and module documentation, it's much better now.\nHowever, I have some comments:\n\n- documentation does not compile: it seems you have some formatting errors in bullet lists.\n- you used single backquote notation at some places in the documentation where it should be \n  double backquotes, e.g. in `SkewPolynomial` class, you wrote `self` between single backquotes (which triggers LaTeX formatting) instead of double.\n- a few lines below, `default: False`, `False` should be between double backquotes.\n- you kept the import `import sage.misc.latex as latex`. I'm quite sure you can remove it, but in that case, you'll have to change `latex.latex(self.base_ring())` to `self.base_ring()._latex_()` (l. 359, skew_polynomial_ring.py). There's probably some more to change.\n\nApart from that, it looks good to me.\nPatchbot says some doctests fails, but according to which doctests are failing, I'm quite sure it's not because of this ticket.\n\nBest,\n\nDavid",
    "created_at": "2016-07-25T09:06:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157996",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello,

Good work on docstrings and module documentation, it's much better now.
However, I have some comments:

- documentation does not compile: it seems you have some formatting errors in bullet lists.
- you used single backquote notation at some places in the documentation where it should be 
  double backquotes, e.g. in `SkewPolynomial` class, you wrote `self` between single backquotes (which triggers LaTeX formatting) instead of double.
- a few lines below, `default: False`, `False` should be between double backquotes.
- you kept the import `import sage.misc.latex as latex`. I'm quite sure you can remove it, but in that case, you'll have to change `latex.latex(self.base_ring())` to `self.base_ring()._latex_()` (l. 359, skew_polynomial_ring.py). There's probably some more to change.

Apart from that, it looks good to me.
Patchbot says some doctests fails, but according to which doctests are failing, I'm quite sure it's not because of this ticket.

Best,

David



---

archive/issue_comments_157997.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-25T09:06:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157997",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_157998.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-25T13:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157998",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_157999.json:
```json
{
    "body": "I think I managed to replace the _cmp_ method with _richcmp_. Please let me know if I did it incorrectly or something. Back tick inconsistencies are resolved. The latex import in skew_polynomial_element.pyx was removable, but the skew_polynomial_ring did not allow it. It threw up errors and I think its because the latex method of the self._map does not support it. \n\nAlso, I don't understand what is going wrong when I try to build the documentation. I can't find any indentation errors.\n\n\n```\n[polynomia] loading pickled environment... not yet created\n[polynomia] WARNING: intersphinx inventory '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv'\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:20: WARNING: Definition list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:30: WARNING: Literal block expected; none found.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.make_generic_skew_polynomial:12: WARNING: Literal block expected; none found.\n[polynomia] /home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:70: WARNING: Literal block expected; none found.\n[polynomia] /home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:105: WARNING: Literal block expected; none found.\n[polynomia] /home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_sequence.py:docstring of sage.rings.polynomial.multi_polynomial_sequence:3: WARNING: citation not found: CMR05\n[polynomia] Exception occurred:\n[polynomia] File \"/home/arpit/Documents/GSOC_16/sage/src/sage_setup/docbuild/ext/multidocs.py\", line 286, in link_static_files\n[polynomia] os.symlink(master_static_dir, static_dir)\n[polynomia] OSError: [Errno 17] File exists\n[polynomia] The full traceback has been saved in /tmp/sphinx-err-IsQg2Y.log, if you want to report the issue to the developers.\n[polynomia] Please also report this if it was a user error, so that a better error message can be provided next time.\n[polynomia] A bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/arpit/Documents/GSOC_16/sage/local/lib/python/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/home/arpit/Documents/GSOC_16/sage/local/lib/python/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n    main()\n  File \"/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 1629, in main\n    builder()\n  File \"/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 710, in _wrapper\n    getattr(DocBuilder, build_type)(self, *args, **kwds)\n  File \"/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 103, in f\n    runsphinx()\n  File \"/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py\", line 215, in runsphinx\n    raise exception\nOSError: [polynomia] WARNING: intersphinx inventory '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv'\n\n\nNote: incremental documentation builds sometimes cause spurious\nerror messages. To be certain that these are real errors, run\n\"make doc-clean\" first and try again.\n\n```\n",
    "created_at": "2016-07-25T13:28:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-157999",
    "user": "https://github.com/arpitdm"
}
```

I think I managed to replace the _cmp_ method with _richcmp_. Please let me know if I did it incorrectly or something. Back tick inconsistencies are resolved. The latex import in skew_polynomial_element.pyx was removable, but the skew_polynomial_ring did not allow it. It threw up errors and I think its because the latex method of the self._map does not support it. 

Also, I don't understand what is going wrong when I try to build the documentation. I can't find any indentation errors.


```
[polynomia] loading pickled environment... not yet created
[polynomia] WARNING: intersphinx inventory '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv'
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:20: WARNING: Definition list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:30: WARNING: Literal block expected; none found.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.make_generic_skew_polynomial:12: WARNING: Literal block expected; none found.
[polynomia] /home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:70: WARNING: Literal block expected; none found.
[polynomia] /home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:105: WARNING: Literal block expected; none found.
[polynomia] /home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_sequence.py:docstring of sage.rings.polynomial.multi_polynomial_sequence:3: WARNING: citation not found: CMR05
[polynomia] Exception occurred:
[polynomia] File "/home/arpit/Documents/GSOC_16/sage/src/sage_setup/docbuild/ext/multidocs.py", line 286, in link_static_files
[polynomia] os.symlink(master_static_dir, static_dir)
[polynomia] OSError: [Errno 17] File exists
[polynomia] The full traceback has been saved in /tmp/sphinx-err-IsQg2Y.log, if you want to report the issue to the developers.
[polynomia] Please also report this if it was a user error, so that a better error message can be provided next time.
[polynomia] A bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!
Error building the documentation.
Traceback (most recent call last):
  File "/home/arpit/Documents/GSOC_16/sage/local/lib/python/runpy.py", line 162, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/home/arpit/Documents/GSOC_16/sage/local/lib/python/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
    main()
  File "/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1629, in main
    builder()
  File "/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 710, in _wrapper
    getattr(DocBuilder, build_type)(self, *args, **kwds)
  File "/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 103, in f
    runsphinx()
  File "/home/arpit/Documents/GSOC_16/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py", line 215, in runsphinx
    raise exception
OSError: [polynomia] WARNING: intersphinx inventory '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/home/arpit/Documents/GSOC_16/sage/local/share/doc/sage/inventory/en/reference/objects.inv'


Note: incremental documentation builds sometimes cause spurious
error messages. To be certain that these are real errors, run
"make doc-clean" first and try again.

```




---

archive/issue_comments_158000.json:
```json
{
    "body": "Well, I don't know what happens...\nHere's what I have on my local machine:\n\n\n```\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:20: WARNING: Definition list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:30: WARNING: Literal block expected; none found.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.make_generic_skew_polynomial:12: WARNING: Literal block expected; none found.\n[polynomia] /home/david/Desktop/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:73: WARNING: Literal block expected; none found.\n[polynomia] /home/david/Desktop/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:108: WARNING: Literal block expected; none found.\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/david/Desktop/sage/local/lib/python/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/home/david/Desktop/sage/local/lib/python/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n    main()\n  File \"/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 1630, in main\n    builder()\n  File \"/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 710, in _wrapper\n    getattr(DocBuilder, build_type)(self, *args, **kwds)\n  File \"/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 103, in f\n    runsphinx()\n  File \"/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py\", line 215, in runsphinx\n    raise exception\nOSError: [polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.\n```\n\n\nThis is the kind of error sphinx returns when there's no blank line after a bullet list. \nUsually, it's because you did not indented properly if you put several lines in a single bullet.\nIt should be like this:\n\n```\n- my first line\n  and my second line\n```\n\n\nso it's not 4 whitespaces, it has to be aligned with the first character of the line above.\n\nAnyway, for your issues, I'd say run `make doc-clean` and `make`.\n\nDavid",
    "created_at": "2016-07-26T08:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158000",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Well, I don't know what happens...
Here's what I have on my local machine:


```
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:20: WARNING: Definition list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:30: WARNING: Literal block expected; none found.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.left_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_gcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_lcm:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.right_xgcd:11: WARNING: Bullet list ends without a blank line; unexpected unindent.
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element.make_generic_skew_polynomial:12: WARNING: Literal block expected; none found.
[polynomia] /home/david/Desktop/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:73: WARNING: Literal block expected; none found.
[polynomia] /home/david/Desktop/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/skew_polynomial_ring_constructor.py:docstring of sage.rings.polynomial.skew_polynomial_ring_constructor.SkewPolynomialRing:108: WARNING: Literal block expected; none found.
Error building the documentation.
Traceback (most recent call last):
  File "/home/david/Desktop/sage/local/lib/python/runpy.py", line 162, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/home/david/Desktop/sage/local/lib/python/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
    main()
  File "/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1630, in main
    builder()
  File "/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 710, in _wrapper
    getattr(DocBuilder, build_type)(self, *args, **kwds)
  File "/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 103, in f
    runsphinx()
  File "/home/david/Desktop/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/sphinxbuild.py", line 215, in runsphinx
    raise exception
OSError: [polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.
```


This is the kind of error sphinx returns when there's no blank line after a bullet list. 
Usually, it's because you did not indented properly if you put several lines in a single bullet.
It should be like this:

```
- my first line
  and my second line
```


so it's not 4 whitespaces, it has to be aligned with the first character of the line above.

Anyway, for your issues, I'd say run `make doc-clean` and `make`.

David



---

archive/issue_comments_158001.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-26T13:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158001",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158002.json:
```json
{
    "body": "Hi David,\n\nI finally managed to make sense of the error messages that were showing up in the documentation. For instance,\n[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.\n\nRepresents some error in the 16th line of the documentation of the file and so on..\n\nAnd like you suggested, one set of errors was because it indented incorrectly. Anyway, I think I've solved all the issues (docs build successfully on my system) and I do get a path to all the html files. Can you please confirm this?",
    "created_at": "2016-07-26T13:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158002",
    "user": "https://github.com/arpitdm"
}
```

Hi David,

I finally managed to make sense of the error messages that were showing up in the documentation. For instance,
[polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found.

Represents some error in the 16th line of the documentation of the file and so on..

And like you suggested, one set of errors was because it indented incorrectly. Anyway, I think I've solved all the issues (docs build successfully on my system) and I do get a path to all the html files. Can you please confirm this?



---

archive/issue_comments_158003.json:
```json
{
    "body": "Hello,\n\n> I finally managed to make sense of the error messages that were showing up in the documentation. For instance, [polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found. \n\nOh, sorry, I thought you knew how to read these! Otherwise, I would have told you... It's not the most intuitive error message for sure, and I had some troubles with Sphinx compiler messages when I started working on Sage `:)`.\n\nI just pulled your branch and I'm recompiling the reference manual. \nIf everything goes smoothly, I don't have other remarks, so if Johan and Travis agree, we can set this to `positive_review`.",
    "created_at": "2016-07-26T14:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158003",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello,

> I finally managed to make sense of the error messages that were showing up in the documentation. For instance, [polynomia] docstring of sage.rings.polynomial.skew_polynomial_element:16: WARNING: Literal block expected; none found. 

Oh, sorry, I thought you knew how to read these! Otherwise, I would have told you... It's not the most intuitive error message for sure, and I had some troubles with Sphinx compiler messages when I started working on Sage `:)`.

I just pulled your branch and I'm recompiling the reference manual. 
If everything goes smoothly, I don't have other remarks, so if Johan and Travis agree, we can set this to `positive_review`.



---

archive/issue_comments_158004.json:
```json
{
    "body": "And it worked just fine.\nSo, documentation compiles, tests passes, you fixed what we asked you to, I'm fine with it.\nIf no one objects, I'll set this to `positive_review`.\n\nDavid",
    "created_at": "2016-07-26T15:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158004",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

And it worked just fine.
So, documentation compiles, tests passes, you fixed what we asked you to, I'm fine with it.
If no one objects, I'll set this to `positive_review`.

David



---

archive/issue_comments_158005.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-26T15:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158005",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158006.json:
```json
{
    "body": "The important thing is the first comment. The rest is more polish, but I think a fair amount more is needed.\n\n- *All* methods and functions must have doctests (e.g., the one added to `map.pyx` and hidden methods). Also, I think you should remove the commented out code.\n- You should remove this line from `module_list.py`:\n  {{{\n# depends = numpy_depends),\n  }}}\n- I would swap these lines in `rings.py`:\n  {{{#!diff\n            \n-            from sage.categories.morphism import Morphism\n             if isinstance(arg, tuple):\n+                from sage.categories.morphism import Morphism\n                 if len(arg) == 2 and isinstance(arg[1], Morphism):\n                    from sage.rings.polynomial.skew_polynomial_ring_constructor import SkewPolynomialRing\n                    return SkewPolynomialRing(self, arg[1], names=arg[0])\n                 \n  }}}\n- Remove all trailing whitespace (well, at least do not add any).\n- In `skew_polynomial_element.pyx`, there are a number of things that need to be in latex mode (and an equation using the `.. MATH::` block).\n- I would move most-to-all of the module-level doc to the user entry point and then have a `.. SEEALSO:: block referencing said doc`, so it is visible from the `?` on the command line. This also applies to the parent class(es?) (i.e. module-level to class-level).\n- You should make `list` into a `cpdef` with an output type of `list` and remove `_list_c`.\n- For `__iter__`, just iterate over `self.__coeffs`. Actually, a similar statement applies to many other places you call `_list_c` where you don't expose it to the user or modify the list (e.g., `__getitem__` and `_richcmp_`. The multivariate and sparse versions should be overriding these methods anyways.\n- You should use the cached version of `0` instead of going through coercion and getting a new object in memory:\n  {{{#!diff\n         try:\n             l = (<SkewPolynomial>self)._list_c()[n]\n             return l\n         except IndexError:\n-            c = self.base_ring()(0)\n-            return c\n+            return self.base_ring().zero()\n  }}}\n- Use Python3 syntax for errors: `raise IndexError(\"skew polynomials are immutable\")`.\n- Similar to above: `self.parent()(0)` -> `self.parent().zero()`.\n- `is_nilpotent` should have a short description of what the method should do (as well as the intended operation).\n- `Returns` -> `Return` in a few first-line of docstrings.\n- `.. Note::` -> `.. NOTE::` (this is a consistency thing).\n- You have a blank `.. SEEALSO::` in `__floordiv__`.\n- `is_left_divisible_by` doesn't have a short description. Similar for other such methods.\n- Error messages should start with a lowercase letter (this was something we've agreed upon in somewhat more recent history).\n- There is a preference to have ```True``` in code formatting since it is a Python object/concept.\n- Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.\n\nI might have some more comments later too. However this is looking very good and it will be a great addition to Sage.\n\nAlso, the `_richcmp_` looks correct (although I don't have time right now to run any serious tests).",
    "created_at": "2016-07-26T17:20:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158006",
    "user": "https://github.com/tscrim"
}
```

The important thing is the first comment. The rest is more polish, but I think a fair amount more is needed.

- *All* methods and functions must have doctests (e.g., the one added to `map.pyx` and hidden methods). Also, I think you should remove the commented out code.
- You should remove this line from `module_list.py`:
  {{{
# depends = numpy_depends),
  }}}
- I would swap these lines in `rings.py`:
  {{{#!diff
            
-            from sage.categories.morphism import Morphism
             if isinstance(arg, tuple):
+                from sage.categories.morphism import Morphism
                 if len(arg) == 2 and isinstance(arg[1], Morphism):
                    from sage.rings.polynomial.skew_polynomial_ring_constructor import SkewPolynomialRing
                    return SkewPolynomialRing(self, arg[1], names=arg[0])
                 
  }}}
- Remove all trailing whitespace (well, at least do not add any).
- In `skew_polynomial_element.pyx`, there are a number of things that need to be in latex mode (and an equation using the `.. MATH::` block).
- I would move most-to-all of the module-level doc to the user entry point and then have a `.. SEEALSO:: block referencing said doc`, so it is visible from the `?` on the command line. This also applies to the parent class(es?) (i.e. module-level to class-level).
- You should make `list` into a `cpdef` with an output type of `list` and remove `_list_c`.
- For `__iter__`, just iterate over `self.__coeffs`. Actually, a similar statement applies to many other places you call `_list_c` where you don't expose it to the user or modify the list (e.g., `__getitem__` and `_richcmp_`. The multivariate and sparse versions should be overriding these methods anyways.
- You should use the cached version of `0` instead of going through coercion and getting a new object in memory:
  {{{#!diff
         try:
             l = (<SkewPolynomial>self)._list_c()[n]
             return l
         except IndexError:
-            c = self.base_ring()(0)
-            return c
+            return self.base_ring().zero()
  }}}
- Use Python3 syntax for errors: `raise IndexError("skew polynomials are immutable")`.
- Similar to above: `self.parent()(0)` -> `self.parent().zero()`.
- `is_nilpotent` should have a short description of what the method should do (as well as the intended operation).
- `Returns` -> `Return` in a few first-line of docstrings.
- `.. Note::` -> `.. NOTE::` (this is a consistency thing).
- You have a blank `.. SEEALSO::` in `__floordiv__`.
- `is_left_divisible_by` doesn't have a short description. Similar for other such methods.
- Error messages should start with a lowercase letter (this was something we've agreed upon in somewhat more recent history).
- There is a preference to have ```True``` in code formatting since it is a Python object/concept.
- Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.

I might have some more comments later too. However this is looking very good and it will be a great addition to Sage.

Also, the `_richcmp_` looks correct (although I don't have time right now to run any serious tests).



---

archive/issue_comments_158007.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-26T17:20:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158007",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_158008.json:
```json
{
    "body": "The implemented operator evaluation `__call__` is incorrect. For instance, `1(a) = a` and `x(a) = sigma(a)` in a correct implementation, but that is not the case here. The following implementation works:\n\n\n```\n    if eval_pt not in self._parent:\n        raise TypeError(\"Evaluation point must be a ring element\")\n    sigma = self._parent.twist_map()\n    coefficients = self.coefficients(sparse=False)\n    sum = self._parent.zero()\n    a = eval_pt\n    for c in coefficients:\n        sum += c * a\n        a = sigma(a)\n    return sum\n```\n\n\nI think we should make an effort to cythonize this method. Could you try that Arpit?\n\nBest,\nJohan",
    "created_at": "2016-07-27T13:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158008",
    "user": "https://github.com/johanrosenkilde"
}
```

The implemented operator evaluation `__call__` is incorrect. For instance, `1(a) = a` and `x(a) = sigma(a)` in a correct implementation, but that is not the case here. The following implementation works:


```
    if eval_pt not in self._parent:
        raise TypeError("Evaluation point must be a ring element")
    sigma = self._parent.twist_map()
    coefficients = self.coefficients(sparse=False)
    sum = self._parent.zero()
    a = eval_pt
    for c in coefficients:
        sum += c * a
        a = sigma(a)
    return sum
```


I think we should make an effort to cythonize this method. Could you try that Arpit?

Best,
Johan



---

archive/issue_comments_158009.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-27T15:21:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158010.json:
```json
{
    "body": "Replying to [comment:92 tscrim]:\n> - *All* methods and functions must have doctests (e.g., the one added to `map.pyx` and hidden methods). Also, I think you should remove the commented out code.\nI am still going over the methods to check whether there are any remaining. And I still have some commented code to remove. \n> - I would move most-to-all of the module-level doc to the user entry point and then have a `.. SEEALSO:: block referencing said doc`, so it is visible from the `?` on the command line. This also applies to the parent class(es?) (i.e. module-level to class-level).\nCould you please explain with an example maybe, what this means? Or maybe refer me to some method in some file from where I can read and understand.\n> - You should make `list` into a `cpdef` with an output type of `list` and remove `_list_c`.\nclass `SkewPolynomial_general` inherits from class `SkewPolynomial`. The `_list_c` method is implemented in the former while in the latter it is not. Are you suggesting that I remove _list_c from both classes and only have a `cpdef list list(self)` in the latter class?\n> - For `__iter__`, just iterate over `self.__coeffs`. Actually, a similar statement applies to many other places you call `_list_c` where you don't expose it to the user or modify the list (e.g., `__getitem__` and `_richcmp_`. The multivariate and sparse versions should be overriding these methods anyways.\nThere is no `__coeffs` attribute in class `SkewPolynomial` and it is actually defined in class `SkewPolynomial_general`. Is it Python convention to access from one class, an attribute with double leading underscores of another class? If so, what is the correct way of doing that?\n> - Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.\nCould you please elaborate a little what you mean by this? I'm not sure I follow.",
    "created_at": "2016-07-27T15:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158010",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:92 tscrim]:
> - *All* methods and functions must have doctests (e.g., the one added to `map.pyx` and hidden methods). Also, I think you should remove the commented out code.
I am still going over the methods to check whether there are any remaining. And I still have some commented code to remove. 
> - I would move most-to-all of the module-level doc to the user entry point and then have a `.. SEEALSO:: block referencing said doc`, so it is visible from the `?` on the command line. This also applies to the parent class(es?) (i.e. module-level to class-level).
Could you please explain with an example maybe, what this means? Or maybe refer me to some method in some file from where I can read and understand.
> - You should make `list` into a `cpdef` with an output type of `list` and remove `_list_c`.
class `SkewPolynomial_general` inherits from class `SkewPolynomial`. The `_list_c` method is implemented in the former while in the latter it is not. Are you suggesting that I remove _list_c from both classes and only have a `cpdef list list(self)` in the latter class?
> - For `__iter__`, just iterate over `self.__coeffs`. Actually, a similar statement applies to many other places you call `_list_c` where you don't expose it to the user or modify the list (e.g., `__getitem__` and `_richcmp_`. The multivariate and sparse versions should be overriding these methods anyways.
There is no `__coeffs` attribute in class `SkewPolynomial` and it is actually defined in class `SkewPolynomial_general`. Is it Python convention to access from one class, an attribute with double leading underscores of another class? If so, what is the correct way of doing that?
> - Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.
Could you please elaborate a little what you mean by this? I'm not sure I follow.



---

archive/issue_comments_158011.json:
```json
{
    "body": "Replying to [comment:94 jsrn]:\n> The implemented operator evaluation `__call__` is incorrect. For instance, `1(a) = a` and `x(a) = sigma(a)` in a correct implementation, but that is not the case here. The following implementation works:\nOh! I now recall having this discussion before. Thank you for pointing it out again.\n> I think we should make an effort to cythonize this method. Could you try that Arpit?\nYup. On it. :)\n\nBest,\nArpit",
    "created_at": "2016-07-27T15:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158011",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:94 jsrn]:
> The implemented operator evaluation `__call__` is incorrect. For instance, `1(a) = a` and `x(a) = sigma(a)` in a correct implementation, but that is not the case here. The following implementation works:
Oh! I now recall having this discussion before. Thank you for pointing it out again.
> I think we should make an effort to cythonize this method. Could you try that Arpit?
Yup. On it. :)

Best,
Arpit



---

archive/issue_comments_158012.json:
```json
{
    "body": "Replying to [comment:96 arpitdm]:\n> Replying to [comment:92 tscrim]:\n> > - I would move most-to-all of the module-level doc to the user entry point and then have a `.. SEEALSO:: block referencing said doc`, so it is visible from the `?` on the command line. This also applies to the parent class(es?) (i.e. module-level to class-level).\n> Could you please explain with an example maybe, what this means? Or maybe refer me to some method in some file from where I can read and understand.\n\nI would make a change like this:\n\n```diff\n \"\"\"\n Top/Module-level\n \n-Description\n \"\"\"\n class Foo:\n     \"\"\"\n     Class-level.\n+\n+    Description\n     \"\"\"\n```\n\nThat way when you do `Foo?`, you get `Description`. You also want some cross-linking so that someone using the online doc has links to follow to get to `Description`.\n\n> > - You should make `list` into a `cpdef` with an output type of `list` and remove `_list_c`.\n> class `SkewPolynomial_general` inherits from class `SkewPolynomial`. The `_list_c` method is implemented in the former while in the latter it is not. Are you suggesting that I remove _list_c from both classes and only have a `cpdef list list(self)` in the latter class?\n> > - For `__iter__`, just iterate over `self.__coeffs`. Actually, a similar statement applies to many other places you call `_list_c` where you don't expose it to the user or modify the list (e.g., `__getitem__` and `_richcmp_`. The multivariate and sparse versions should be overriding these methods anyways.\n> There is no `__coeffs` attribute in class `SkewPolynomial` and it is actually defined in class `SkewPolynomial_general`. Is it Python convention to access from one class, an attribute with double leading underscores of another class? If so, what is the correct way of doing that?\n\nDon't make it double underscore (you can also do the explicit name-mangling). In general, I avoid double underscores so you can use the hidden attributes in subclasses (unless you really wanted it to be completely hidden from all subclasses, which is very rare).\n\n> > - Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.\n> Could you please elaborate a little what you mean by this? I'm not sure I follow.\n\nABC = Abstract Base Class, so the methods you have that just raise a `NotImplementedError` (e.g., `_inplace_add`), you should have them be blank (modulo a docstring and a doctest of a concrete implementation) with a ``@`abstract_method`. These then get picked up by a failure of the `TestSuite`.",
    "created_at": "2016-07-27T18:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158012",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:96 arpitdm]:
> Replying to [comment:92 tscrim]:
> > - I would move most-to-all of the module-level doc to the user entry point and then have a `.. SEEALSO:: block referencing said doc`, so it is visible from the `?` on the command line. This also applies to the parent class(es?) (i.e. module-level to class-level).
> Could you please explain with an example maybe, what this means? Or maybe refer me to some method in some file from where I can read and understand.

I would make a change like this:

```diff
 """
 Top/Module-level
 
-Description
 """
 class Foo:
     """
     Class-level.
+
+    Description
     """
```

That way when you do `Foo?`, you get `Description`. You also want some cross-linking so that someone using the online doc has links to follow to get to `Description`.

> > - You should make `list` into a `cpdef` with an output type of `list` and remove `_list_c`.
> class `SkewPolynomial_general` inherits from class `SkewPolynomial`. The `_list_c` method is implemented in the former while in the latter it is not. Are you suggesting that I remove _list_c from both classes and only have a `cpdef list list(self)` in the latter class?
> > - For `__iter__`, just iterate over `self.__coeffs`. Actually, a similar statement applies to many other places you call `_list_c` where you don't expose it to the user or modify the list (e.g., `__getitem__` and `_richcmp_`. The multivariate and sparse versions should be overriding these methods anyways.
> There is no `__coeffs` attribute in class `SkewPolynomial` and it is actually defined in class `SkewPolynomial_general`. Is it Python convention to access from one class, an attribute with double leading underscores of another class? If so, what is the correct way of doing that?

Don't make it double underscore (you can also do the explicit name-mangling). In general, I avoid double underscores so you can use the hidden attributes in subclasses (unless you really wanted it to be completely hidden from all subclasses, which is very rare).

> > - Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.
> Could you please elaborate a little what you mean by this? I'm not sure I follow.

ABC = Abstract Base Class, so the methods you have that just raise a `NotImplementedError` (e.g., `_inplace_add`), you should have them be blank (modulo a docstring and a doctest of a concrete implementation) with a ``@`abstract_method`. These then get picked up by a failure of the `TestSuite`.



---

archive/issue_comments_158013.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-27T22:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158014.json:
```json
{
    "body": "Replying to [comment:98 tscrim]:\n> \n> > > - Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.\n> > Could you please elaborate a little what you mean by this? I'm not sure I follow.\n> \n> ABC = Abstract Base Class, so the methods you have that just raise a `NotImplementedError` (e.g., `_inplace_add`), you should have them be blank (modulo a docstring and a doctest of a concrete implementation) with a ``@`abstract_method`. These then get picked up by a failure of the `TestSuite`.\nI tried adding the `@`abstract_method to the `cdef void _inplace_add` method and I got an error message saying \"Cdef functions/classes cannot take arbitrary decorators.\" According to [their docs](http://docs.cython.org/en/latest/src/tutorial/pure.html), I don't think decorators are implemented yet.",
    "created_at": "2016-07-27T22:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158014",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:98 tscrim]:
> 
> > > - Actually, a number of functions that use `_list_c` should be moved to the concrete class (and maybe an ``@`abstract_method` placeholder done in the ABC.
> > Could you please elaborate a little what you mean by this? I'm not sure I follow.
> 
> ABC = Abstract Base Class, so the methods you have that just raise a `NotImplementedError` (e.g., `_inplace_add`), you should have them be blank (modulo a docstring and a doctest of a concrete implementation) with a ``@`abstract_method`. These then get picked up by a failure of the `TestSuite`.
I tried adding the `@`abstract_method to the `cdef void _inplace_add` method and I got an error message saying "Cdef functions/classes cannot take arbitrary decorators." According to [their docs](http://docs.cython.org/en/latest/src/tutorial/pure.html), I don't think decorators are implemented yet.



---

archive/issue_comments_158015.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-28T10:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158015",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158016.json:
```json
{
    "body": "Oh, I missed that they were `cdef` methods. I don't think you need to declare anything for them for ABCs, but I am not completely sure if Cython allows this.",
    "created_at": "2016-07-28T16:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158016",
    "user": "https://github.com/tscrim"
}
```

Oh, I missed that they were `cdef` methods. I don't think you need to declare anything for them for ABCs, but I am not completely sure if Cython allows this.



---

archive/issue_comments_158017.json:
```json
{
    "body": "Hello,\n\nSome doctests are still missing. If you're not sure you documented everything, use the following command: `sage -coverage <path_to_files>`. On my side, it returns:\n\n\n```\ndavid@david:~/Desktop/sage/src/sage/rings/polynomial$ sage -coverage skew_polynomial_*\n------------------------------------------------------------------------\nSCORE skew_polynomial_element.pyx: 97.4% (76 of 78)\n\nMissing doctests:\n     * line 327: cpdef SkewPolynomial _new_constant_poly(self, RingElement a, Parent P, char check=0)\n     * line 892: def is_nilpotent(self)\n\nPossibly wrong (function name doesn't occur in doctests):\n     * line 2434: def mod(self, other)\n     * line 3129: cpdef Element _call_with_args(self, x, args=(), kwds={})\n------------------------------------------------------------------------\nSCORE skew_polynomial_ring_constructor.py: 100.0% (1 of 1)\n------------------------------------------------------------------------\nSCORE skew_polynomial_ring.py: 78.9% (15 of 19)\n\nMissing documentation:\n     * line 129: def __classcall__(cls, base_ring, map, name=None, sparse=False, element_class=None)\n\nMissing doctests:\n     * line 191: def __reduce__(self)\n     * line 514: def parameter(self)\n     * line 567: def is_sparse(self)\n```\n \n\nAlso, documentation does not compile:\n\n\n```\nsage.rings.polynomial.skew_polynomial_ring.SkewPolynomialRing_general:53: \nWARNING: Block quote ends without a blank line; unexpected unindent.\n```\n\n\n- line 872 in `skew_polynomial_element.pyx`, I think it would be better to return an error message with the exception `ValueError`.\n\n- There are some undocumented methods/classes in `skew_polynomial_element.pyx` (starting at line 2776 with `_left_pow`).\n\n- There's still one old style `raise` statement (l. 494 in `skew_polynomial_ring.py`).\n\n\nDavid",
    "created_at": "2016-08-01T09:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158017",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello,

Some doctests are still missing. If you're not sure you documented everything, use the following command: `sage -coverage <path_to_files>`. On my side, it returns:


```
david@david:~/Desktop/sage/src/sage/rings/polynomial$ sage -coverage skew_polynomial_*
------------------------------------------------------------------------
SCORE skew_polynomial_element.pyx: 97.4% (76 of 78)

Missing doctests:
     * line 327: cpdef SkewPolynomial _new_constant_poly(self, RingElement a, Parent P, char check=0)
     * line 892: def is_nilpotent(self)

Possibly wrong (function name doesn't occur in doctests):
     * line 2434: def mod(self, other)
     * line 3129: cpdef Element _call_with_args(self, x, args=(), kwds={})
------------------------------------------------------------------------
SCORE skew_polynomial_ring_constructor.py: 100.0% (1 of 1)
------------------------------------------------------------------------
SCORE skew_polynomial_ring.py: 78.9% (15 of 19)

Missing documentation:
     * line 129: def __classcall__(cls, base_ring, map, name=None, sparse=False, element_class=None)

Missing doctests:
     * line 191: def __reduce__(self)
     * line 514: def parameter(self)
     * line 567: def is_sparse(self)
```
 

Also, documentation does not compile:


```
sage.rings.polynomial.skew_polynomial_ring.SkewPolynomialRing_general:53: 
WARNING: Block quote ends without a blank line; unexpected unindent.
```


- line 872 in `skew_polynomial_element.pyx`, I think it would be better to return an error message with the exception `ValueError`.

- There are some undocumented methods/classes in `skew_polynomial_element.pyx` (starting at line 2776 with `_left_pow`).

- There's still one old style `raise` statement (l. 494 in `skew_polynomial_ring.py`).


David



---

archive/issue_comments_158018.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-01T09:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158018",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_158019.json:
```json
{
    "body": "I fixed a minor issue with `src/module_list.py`.\n----\nNew commits:",
    "created_at": "2016-08-01T12:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158019",
    "user": "https://github.com/johanrosenkilde"
}
```

I fixed a minor issue with `src/module_list.py`.
----
New commits:



---

archive/issue_comments_158020.json:
```json
{
    "body": "- Is there any sense to the function `make_generic_skew_polynomial`? Shouldn't\n  it just be removed? (incidentally, I don't see the sense of\n  `sage.rings.polynomial.polynomial_element.make_generic_polynomial` either,\n  which presumably was the inspiration to `make_generic_skew_polynomial`.)\n\n- You created `_leftpow_` and `_rightpow_` from `__pow__` to avoid the optional\n  argument `side`. But they are not standard magic functions, so there's no\n  sense in them being underscore-methods. Rather, they should be called\n  something different. E.g `power_left_mod` and `power_right_mod`, where\n  `modulus` is now a mandatory argument.\n\n- I'm worried about the `_inplace_*` methods: they are not doc-tested but are\n  also not indirectly used anywhere (except `_inplace_pow` which is used in\n  `_leftpow` and `_inplace_rmul` which is used in `_inplace_pow`). I only tried\n  to read `_inplace_add` yet, but already found one bug (duplicate line `x +=\n  y[len(x):]`). I would prefer that these methods be removed, possibly\n  reinstated at a later time when they will be used (and hence at least\n  slightly doctested). I believe they were more arduously used in the Karatsuba\n  or factorisation implementations?\n\nBest,\nJohan",
    "created_at": "2016-08-01T14:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158020",
    "user": "https://github.com/johanrosenkilde"
}
```

- Is there any sense to the function `make_generic_skew_polynomial`? Shouldn't
  it just be removed? (incidentally, I don't see the sense of
  `sage.rings.polynomial.polynomial_element.make_generic_polynomial` either,
  which presumably was the inspiration to `make_generic_skew_polynomial`.)

- You created `_leftpow_` and `_rightpow_` from `__pow__` to avoid the optional
  argument `side`. But they are not standard magic functions, so there's no
  sense in them being underscore-methods. Rather, they should be called
  something different. E.g `power_left_mod` and `power_right_mod`, where
  `modulus` is now a mandatory argument.

- I'm worried about the `_inplace_*` methods: they are not doc-tested but are
  also not indirectly used anywhere (except `_inplace_pow` which is used in
  `_leftpow` and `_inplace_rmul` which is used in `_inplace_pow`). I only tried
  to read `_inplace_add` yet, but already found one bug (duplicate line `x +=
  y[len(x):]`). I would prefer that these methods be removed, possibly
  reinstated at a later time when they will be used (and hence at least
  slightly doctested). I believe they were more arduously used in the Karatsuba
  or factorisation implementations?

Best,
Johan



---

archive/issue_comments_158021.json:
```json
{
    "body": "Replying to [comment:103 dlucas]:\n>      * line 892: def is_nilpotent(self)\nThe `is_nilpotent` method is not implemented since order of the automorphism is not supported in Sage yet. How about if I remove this method completely and place the note instead in `def is_unit`? Or should I leave it as it is? \n> Possibly wrong (function name doesn't occur in doctests):\n>      * line 3129: cpdef Element _call_with_args(self, x, args=(), kwds={})\nThere is a `cpdef Element _call_(self, x)` method that does exactly the same thing as the above method. Do we need to keep both or can we keep the more general `_call_with_args` and remove `_call_`?",
    "created_at": "2016-08-01T14:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158021",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:103 dlucas]:
>      * line 892: def is_nilpotent(self)
The `is_nilpotent` method is not implemented since order of the automorphism is not supported in Sage yet. How about if I remove this method completely and place the note instead in `def is_unit`? Or should I leave it as it is? 
> Possibly wrong (function name doesn't occur in doctests):
>      * line 3129: cpdef Element _call_with_args(self, x, args=(), kwds={})
There is a `cpdef Element _call_(self, x)` method that does exactly the same thing as the above method. Do we need to keep both or can we keep the more general `_call_with_args` and remove `_call_`?



---

archive/issue_comments_158022.json:
```json
{
    "body": "> - Is there any sense to the function `make_generic_skew_polynomial`? Shouldn't\n>   it just be removed? (incidentally, I don't see the sense of\n>   `sage.rings.polynomial.polynomial_element.make_generic_polynomial` either,\n>   which presumably was the inspiration to `make_generic_skew_polynomial`.)\nYup. I believe that was the inspiration. And I agree. If one wants to make a generic skew polynomial using coefficients, it can be directly done without using this method. \n> - I'm worried about the `_inplace_*` methods: they are not doc-tested but are\n>   also not indirectly used anywhere (except `_inplace_pow` which is used in\n>   `_leftpow` and `_inplace_rmul` which is used in `_inplace_pow`). I only tried\n>   to read `_inplace_add` yet, but already found one bug (duplicate line `x +=\n>   y[len(x):]`). I would prefer that these methods be removed, possibly\n>   reinstated at a later time when they will be used (and hence at least\n>   slightly doctested). I believe they were more arduously used in the Karatsuba\n>   or factorisation implementations?\nYes. They are used in factorizations and center related methods. Which is why it was not possible to add indirect tests for them either. Alright, removing `_inplace_add`, `_inplace_sub` and `_inplace_rmul`.",
    "created_at": "2016-08-01T14:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158022",
    "user": "https://github.com/arpitdm"
}
```

> - Is there any sense to the function `make_generic_skew_polynomial`? Shouldn't
>   it just be removed? (incidentally, I don't see the sense of
>   `sage.rings.polynomial.polynomial_element.make_generic_polynomial` either,
>   which presumably was the inspiration to `make_generic_skew_polynomial`.)
Yup. I believe that was the inspiration. And I agree. If one wants to make a generic skew polynomial using coefficients, it can be directly done without using this method. 
> - I'm worried about the `_inplace_*` methods: they are not doc-tested but are
>   also not indirectly used anywhere (except `_inplace_pow` which is used in
>   `_leftpow` and `_inplace_rmul` which is used in `_inplace_pow`). I only tried
>   to read `_inplace_add` yet, but already found one bug (duplicate line `x +=
>   y[len(x):]`). I would prefer that these methods be removed, possibly
>   reinstated at a later time when they will be used (and hence at least
>   slightly doctested). I believe they were more arduously used in the Karatsuba
>   or factorisation implementations?
Yes. They are used in factorizations and center related methods. Which is why it was not possible to add indirect tests for them either. Alright, removing `_inplace_add`, `_inplace_sub` and `_inplace_rmul`.



---

archive/issue_comments_158023.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-01T14:52:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158024.json:
```json
{
    "body": "I fixed some other stuff that I came across. Most importantly, I changed the parent type of `SkewPolynomialBaseringInjection` so that it mimics `PolynomialBaseringInjection`: I'm not fully understanding the extend of what this means, but if `PolynomialBaseringInjection` should be a `Morphism` and not a `RingHomomorphism`, then I don't see why it should be different for `SkewPolynomialBaseringInjection`.\n\nI also removed `_call_with_args`: as the name says, it's there for supporting calling an object that takes more than one argument. This makes sense in the very general `PolynomialBaseringInjection` as the example in the source shows. But it doesn't (yet) make any sense for skew polynomial rings, so I've removed it for now. If it should ever be useful, someone can add it at that time. For now, it will simply throw a (somewhat meaningful) error when one tries to apply more than one argument to a call to a `SkewPolynomialBaseringInjection`.",
    "created_at": "2016-08-01T14:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158024",
    "user": "https://github.com/johanrosenkilde"
}
```

I fixed some other stuff that I came across. Most importantly, I changed the parent type of `SkewPolynomialBaseringInjection` so that it mimics `PolynomialBaseringInjection`: I'm not fully understanding the extend of what this means, but if `PolynomialBaseringInjection` should be a `Morphism` and not a `RingHomomorphism`, then I don't see why it should be different for `SkewPolynomialBaseringInjection`.

I also removed `_call_with_args`: as the name says, it's there for supporting calling an object that takes more than one argument. This makes sense in the very general `PolynomialBaseringInjection` as the example in the source shows. But it doesn't (yet) make any sense for skew polynomial rings, so I've removed it for now. If it should ever be useful, someone can add it at that time. For now, it will simply throw a (somewhat meaningful) error when one tries to apply more than one argument to a call to a `SkewPolynomialBaseringInjection`.



---

archive/issue_comments_158025.json:
```json
{
    "body": "Many many thanks (to all of you) for all your hard work on this ticket!\nI really appreciate it and apologize for being silent for such a long time.\n\nI'm looking forward to seeing you soon in SageDays 75.",
    "created_at": "2016-08-01T22:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158025",
    "user": "https://github.com/xcaruso"
}
```

Many many thanks (to all of you) for all your hard work on this ticket!
I really appreciate it and apologize for being silent for such a long time.

I'm looking forward to seeing you soon in SageDays 75.



---

archive/issue_comments_158026.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-08-02T00:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158026",
    "user": "https://github.com/arpitdm"
}
```

New commits:



---

archive/issue_comments_158027.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-02T00:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158027",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158028.json:
```json
{
    "body": "There's a bug in `right_lcm`. I don't yet know what it is but here is an example which makes it blow up:\n\n    {{{\n    k.<a> = GF(3^2,'a')\n    sigma = k.frobenius_endomorphism()\n    S.<x> = k['x', sigma]\n    (x^2 + 1*x + a).right_lcm(x - a)\n    <BOOM>\n    NotImplementedError: the leading coefficient is not a unit\n    }}}\n\nSince we're over a field, it must be the `ZeroDivisionError` causing this, which should never happen.\n\nI also don't see why we should catch the `ZeroDivisionError`: it is never\nexpected behaviour that `V3` is 0?\n\nAs an aside, the naming in this and related methods is terrible: `R` means two very different things in 10 lines, and the skew polynomial variables should not be capitalised.\n\nBest,\nJohan",
    "created_at": "2016-08-02T07:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158028",
    "user": "https://github.com/johanrosenkilde"
}
```

There's a bug in `right_lcm`. I don't yet know what it is but here is an example which makes it blow up:

    {{{
    k.<a> = GF(3^2,'a')
    sigma = k.frobenius_endomorphism()
    S.<x> = k['x', sigma]
    (x^2 + 1*x + a).right_lcm(x - a)
    <BOOM>
    NotImplementedError: the leading coefficient is not a unit
    }}}

Since we're over a field, it must be the `ZeroDivisionError` causing this, which should never happen.

I also don't see why we should catch the `ZeroDivisionError`: it is never
expected behaviour that `V3` is 0?

As an aside, the naming in this and related methods is terrible: `R` means two very different things in 10 lines, and the skew polynomial variables should not be capitalised.

Best,
Johan



---

archive/issue_comments_158029.json:
```json
{
    "body": "The problem comes from the multiplication by the skew polynomial 0 which does not work as expected (it returns a polynomial of positive degree):\n\n```\nsage: k.<a> = GF(5^2)\nsage: S.<x> = SkewPolynomialRing(k, k.frobenius_endomorphism())\nsage: zero = S(0)*x\nsage: zero.degree()\n1\nsage: zero + 1\n + 1\n```\n",
    "created_at": "2016-08-02T08:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158029",
    "user": "https://github.com/xcaruso"
}
```

The problem comes from the multiplication by the skew polynomial 0 which does not work as expected (it returns a polynomial of positive degree):

```
sage: k.<a> = GF(5^2)
sage: S.<x> = SkewPolynomialRing(k, k.frobenius_endomorphism())
sage: zero = S(0)*x
sage: zero.degree()
1
sage: zero + 1
 + 1
```




---

archive/issue_comments_158030.json:
```json
{
    "body": "Thanks Xavier: it turned out that the problem was even with `S(0)`, which got represented as `[0]` instead of `[]`. I fixed it now and added a test for posterity.\n----\nNew commits:",
    "created_at": "2016-08-02T09:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158030",
    "user": "https://github.com/johanrosenkilde"
}
```

Thanks Xavier: it turned out that the problem was even with `S(0)`, which got represented as `[0]` instead of `[]`. I fixed it now and added a test for posterity.
----
New commits:



---

archive/issue_comments_158031.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-02T11:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158031",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158032.json:
```json
{
    "body": "Small doc-string fix in the `lcm`-functions.",
    "created_at": "2016-08-02T11:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158032",
    "user": "https://github.com/johanrosenkilde"
}
```

Small doc-string fix in the `lcm`-functions.



---

archive/issue_comments_158033.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-03T12:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158033",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_158034.json:
```json
{
    "body": "Just skimming the code, not a full review...\n\n1. All this\n\n```\n        if op == 0:\n            return x < y\n        elif op == 1:\n            return x <= y\n        elif op == 2:\n            return x == y\n        elif op == 3:\n            return x != y\n        elif op == 4:\n            return x > y\n        else:\n            return x >= y\n```\n\ncan be replaced by `return PyObject_RichCompare(x, y, op)`, see `src/sage/structure/coerce.pyx` for an example.\n\n2. Lots of private methods are unused:\n\n```\n    cdef void _inplace_add(self, SkewPolynomial_generic_dense right)\n    cdef void _inplace_sub(self, SkewPolynomial_generic_dense right)\n    cdef void _inplace_lmul(self, SkewPolynomial_generic_dense right)\n    cpdef _leftpow_(self,right,modulus=*)\n```\n\nSince these are private, I see no point in implementing them.\n\n3. The `.pxd` file contains too much stuff. In particular, the following all seems unused:\n\n```\ninclude \"cysignals/signals.pxi\"\ninclude \"../../ext/cdefs.pxi\"\ninclude '../../ext/stdsage.pxi'\n\nfrom sage.rings.integer cimport Integer\nfrom polynomial_compiled cimport CompiledPolynomialFunction\n```\n\nSome of this might be needed in `.pyx` files, but then it should be in the `.pyx` file. The `include` statements for `cdefs.pxi` and `stdsage.pxi` should be replaced instead by the relevant `cimport` statements.\n\n4. Use the standard copyright template from http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files\n\n5. `__getslice__` is deprecated.\n\n6. `__mod__` should use the coercion model (#269).\n\n7. `__floordiv__` should use the coercion model (#2034).\n\n8. Replace `trac #13215` by `:trac:`13215``\n\n9. In several places, you use exact type checks of the form `type(x) is foo`. Why not `isinstance(x, foo)`?",
    "created_at": "2016-08-03T12:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158034",
    "user": "https://github.com/jdemeyer"
}
```

Just skimming the code, not a full review...

1. All this

```
        if op == 0:
            return x < y
        elif op == 1:
            return x <= y
        elif op == 2:
            return x == y
        elif op == 3:
            return x != y
        elif op == 4:
            return x > y
        else:
            return x >= y
```

can be replaced by `return PyObject_RichCompare(x, y, op)`, see `src/sage/structure/coerce.pyx` for an example.

2. Lots of private methods are unused:

```
    cdef void _inplace_add(self, SkewPolynomial_generic_dense right)
    cdef void _inplace_sub(self, SkewPolynomial_generic_dense right)
    cdef void _inplace_lmul(self, SkewPolynomial_generic_dense right)
    cpdef _leftpow_(self,right,modulus=*)
```

Since these are private, I see no point in implementing them.

3. The `.pxd` file contains too much stuff. In particular, the following all seems unused:

```
include "cysignals/signals.pxi"
include "../../ext/cdefs.pxi"
include '../../ext/stdsage.pxi'

from sage.rings.integer cimport Integer
from polynomial_compiled cimport CompiledPolynomialFunction
```

Some of this might be needed in `.pyx` files, but then it should be in the `.pyx` file. The `include` statements for `cdefs.pxi` and `stdsage.pxi` should be replaced instead by the relevant `cimport` statements.

4. Use the standard copyright template from http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files

5. `__getslice__` is deprecated.

6. `__mod__` should use the coercion model (#269).

7. `__floordiv__` should use the coercion model (#2034).

8. Replace `trac #13215` by `:trac:`13215``

9. In several places, you use exact type checks of the form `type(x) is foo`. Why not `isinstance(x, foo)`?



---

archive/issue_comments_158035.json:
```json
{
    "body": "10. according to the patchbot, the documentation does not build.",
    "created_at": "2016-08-03T12:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158035",
    "user": "https://github.com/jdemeyer"
}
```

10. according to the patchbot, the documentation does not build.



---

archive/issue_comments_158036.json:
```json
{
    "body": "Hello Jeroen,\n\n> 10. according to the patchbot, the documentation does not build.\n\nThe patchbot might have used an older version of this ticket, because documentation builds just fine on my side.\n\nDavid",
    "created_at": "2016-08-03T13:40:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158036",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello Jeroen,

> 10. according to the patchbot, the documentation does not build.

The patchbot might have used an older version of this ticket, because documentation builds just fine on my side.

David



---

archive/issue_comments_158037.json:
```json
{
    "body": "Hi Jeroen,\n\nI've made changes to the ticket based on your comments. Please do let me know if I've made a mistake and if there are any other changes I should be making.\n\nAlso, as David mentioned, the documentation builds on my system as well. I don't know the patchbot is suggesting otherwise.\n\nBest,\nArpit.\n----\nNew commits:",
    "created_at": "2016-08-04T07:10:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158037",
    "user": "https://github.com/arpitdm"
}
```

Hi Jeroen,

I've made changes to the ticket based on your comments. Please do let me know if I've made a mistake and if there are any other changes I should be making.

Also, as David mentioned, the documentation builds on my system as well. I don't know the patchbot is suggesting otherwise.

Best,
Arpit.
----
New commits:



---

archive/issue_comments_158038.json:
```json
{
    "body": "Just a remark (feel free to change this or not): there is no point in writing `cdef list` here since you're not using the fact that it's a `list`:\n\n```\n        cdef list x = (<SkewPolynomial>left)._coeffs\n        cdef list y = (<SkewPolynomial>right)._coeffs\n        return PyObject_RichCompare(x, y, op)\n```\n\n\nIn general one should avoid such pointless type declarations.\n\nIn this case, it doesn't hurt since Cython knows anyway that it's a list (`_coeffs` is declared to be a `list`).",
    "created_at": "2016-08-04T07:37:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158038",
    "user": "https://github.com/jdemeyer"
}
```

Just a remark (feel free to change this or not): there is no point in writing `cdef list` here since you're not using the fact that it's a `list`:

```
        cdef list x = (<SkewPolynomial>left)._coeffs
        cdef list y = (<SkewPolynomial>right)._coeffs
        return PyObject_RichCompare(x, y, op)
```


In general one should avoid such pointless type declarations.

In this case, it doesn't hurt since Cython knows anyway that it's a list (`_coeffs` is declared to be a `list`).



---

archive/issue_comments_158039.json:
```json
{
    "body": "Replying to [comment:124 arpitdm]:\n> I've made changes to the ticket based on your comments. Please do let me know if I've made a mistake and if there are any other changes I should be making.\n\nYou forgot to change the copyright statements. Apart from that, it looks ok.",
    "created_at": "2016-08-04T07:43:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158039",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:124 arpitdm]:
> I've made changes to the ticket based on your comments. Please do let me know if I've made a mistake and if there are any other changes I should be making.

You forgot to change the copyright statements. Apart from that, it looks ok.



---

archive/issue_comments_158040.json:
```json
{
    "body": "Replying to [comment:127 jdemeyer]:\n> Replying to [comment:124 arpitdm]:\n> > I've made changes to the ticket based on your comments. Please do let me know if I've made a mistake and if there are any other changes I should be making.\n> \n> You forgot to change the copyright statements. Apart from that, it looks ok.\nBy copyright, do you mean add names inside the block too? I added myself and Johan as authors (commit ac109c8)\n\nAs for the cdef list, I went with the rest of the code on the ticket which declares  things similarly at the time. But I can change that.",
    "created_at": "2016-08-04T08:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158040",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:127 jdemeyer]:
> Replying to [comment:124 arpitdm]:
> > I've made changes to the ticket based on your comments. Please do let me know if I've made a mistake and if there are any other changes I should be making.
> 
> You forgot to change the copyright statements. Apart from that, it looks ok.
By copyright, do you mean add names inside the block too? I added myself and Johan as authors (commit ac109c8)

As for the cdef list, I went with the rest of the code on the ticket which declares  things similarly at the time. But I can change that.



---

archive/issue_comments_158041.json:
```json
{
    "body": "> By copyright, do you mean add names inside the block too? I added myself and Johan as authors (commit ac109c8) \n\nActually, there's a template for copyrights in Sage (Jeroen sent you the link yesterday).\n\nThe copyright statements in this ticket are like this:\n\n\n```\n#############################################################################\n#    Copyright (C) 2012 Xavier Caruso <xavier.caruso@normalesup.org>\n#\n#  Distributed under the terms of the GNU General Public License (GPL)\n#\n#                  http://www.gnu.org/licenses/\n#****************************************************************************\n```\n\n\nwhile they should be like this\n\n\n```\n#*****************************************************************************\n#       Copyright (C) 2013 YOUR NAME <your email>\n#\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 2 of the License, or\n# (at your option) any later version.\n#                  http://www.gnu.org/licenses/\n#*****************************************************************************\n```\n\n\nDavid",
    "created_at": "2016-08-04T08:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158041",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

> By copyright, do you mean add names inside the block too? I added myself and Johan as authors (commit ac109c8) 

Actually, there's a template for copyrights in Sage (Jeroen sent you the link yesterday).

The copyright statements in this ticket are like this:


```
#############################################################################
#    Copyright (C) 2012 Xavier Caruso <xavier.caruso@normalesup.org>
#
#  Distributed under the terms of the GNU General Public License (GPL)
#
#                  http://www.gnu.org/licenses/
#****************************************************************************
```


while they should be like this


```
#*****************************************************************************
#       Copyright (C) 2013 YOUR NAME <your email>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 2 of the License, or
# (at your option) any later version.
#                  http://www.gnu.org/licenses/
#*****************************************************************************
```


David



---

archive/issue_comments_158042.json:
```json
{
    "body": "Replying to [comment:128 arpitdm]:\n> > By copyright, do you mean add names inside the block too? I added myself and Johan as authors (commit ac109c8) \n\nYou misspelled my last name. But I've actually recently changed my name to \"Johan Rosenkilde\".\n\nReplying to [comment:129 dlucas]:\n> \n> while they should be like this\n> \n> {{{\n> #*****************************************************************************\n> #       Copyright (C) 2013 YOUR NAME <your email>\n> }}}\n\nOK, stupid copyright stuff leading to an uncomfortable discussion: I think the copyright name should be retained as Xavier Caruso. Arpit should add his name in the list of AUTHORS as he has done (but he should of course fix the rest of the banner).\n\nBest,\nJohan",
    "created_at": "2016-08-04T08:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158042",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:128 arpitdm]:
> > By copyright, do you mean add names inside the block too? I added myself and Johan as authors (commit ac109c8) 

You misspelled my last name. But I've actually recently changed my name to "Johan Rosenkilde".

Replying to [comment:129 dlucas]:
> 
> while they should be like this
> 
> {{{
> #*****************************************************************************
> #       Copyright (C) 2013 YOUR NAME <your email>
> }}}

OK, stupid copyright stuff leading to an uncomfortable discussion: I think the copyright name should be retained as Xavier Caruso. Arpit should add his name in the list of AUTHORS as he has done (but he should of course fix the rest of the banner).

Best,
Johan



---

archive/issue_comments_158043.json:
```json
{
    "body": "> OK, stupid copyright stuff leading to an uncomfortable discussion: I think the copyright name should be retained as Xavier Caruso. Arpit should add his name in the list of AUTHORS as he has done (but he should of course fix the rest of the banner). \n\nYes, I agree.",
    "created_at": "2016-08-04T08:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158043",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

> OK, stupid copyright stuff leading to an uncomfortable discussion: I think the copyright name should be retained as Xavier Caruso. Arpit should add his name in the list of AUTHORS as he has done (but he should of course fix the rest of the banner). 

Yes, I agree.



---

archive/issue_comments_158044.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-04T09:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158045.json:
```json
{
    "body": "Hello,\n\nI've updated the copyright banner. \n\n`@`Johan: Sorry for misspelling your name.\n\nI've kept the `inplace_pow` and `inplace_rmul` methods because they are being used by `power_right_mod` and `power_left_mod`. I'm now opening it for review.\n\nBest,\nArpit.",
    "created_at": "2016-08-04T09:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158045",
    "user": "https://github.com/arpitdm"
}
```

Hello,

I've updated the copyright banner. 

`@`Johan: Sorry for misspelling your name.

I've kept the `inplace_pow` and `inplace_rmul` methods because they are being used by `power_right_mod` and `power_left_mod`. I'm now opening it for review.

Best,
Arpit.



---

archive/issue_comments_158046.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-04T09:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158046",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158047.json:
```json
{
    "body": "Hello,\n\nThere's still some small issues here:\n\n- `ValueError` line 836 in `skew_polynomial_element.pyx` does not have any error message to explain\n  to the user why this exception was raised.\n\n- There's one old raise statement l.528 in `skew_polynomial_ring.py` (`raise IndexError, \"generator n not defined\"`) \n\n- Some methods in `skew_polynomial_element,pyx` are still undocumented. Even if I'm kind of ok with `_call_` not having a short description, I'm definitely not fine with a constructor  (l. 2945) without any description of its input parameters...\n\nBack to `needs_work`.\n\nDavid",
    "created_at": "2016-08-08T07:30:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158047",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello,

There's still some small issues here:

- `ValueError` line 836 in `skew_polynomial_element.pyx` does not have any error message to explain
  to the user why this exception was raised.

- There's one old raise statement l.528 in `skew_polynomial_ring.py` (`raise IndexError, "generator n not defined"`) 

- Some methods in `skew_polynomial_element,pyx` are still undocumented. Even if I'm kind of ok with `_call_` not having a short description, I'm definitely not fine with a constructor  (l. 2945) without any description of its input parameters...

Back to `needs_work`.

David



---

archive/issue_comments_158048.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-08T07:30:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158048",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_158049.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-08T10:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158050.json:
```json
{
    "body": "> - `ValueError` line 836 in `skew_polynomial_element.pyx` does not have any error message to explain\n>  to the user why this exception was raised.\n> \n> - There's one old raise statement l.528 in `skew_polynomial_ring.py` (`raise IndexError, \"generator n not defined\"`) \n> \n> - Some methods in `skew_polynomial_element,pyx` are still undocumented. Even if I'm kind of ok with `_call_` not having a short description, I'm definitely not fine with a constructor  (l. 2945) without any description of its input parameters...\n\nMy apologies for missing out on these. I've made the changes now. \nBack to `needs_review`. :)",
    "created_at": "2016-08-08T10:06:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158050",
    "user": "https://github.com/arpitdm"
}
```

> - `ValueError` line 836 in `skew_polynomial_element.pyx` does not have any error message to explain
>  to the user why this exception was raised.
> 
> - There's one old raise statement l.528 in `skew_polynomial_ring.py` (`raise IndexError, "generator n not defined"`) 
> 
> - Some methods in `skew_polynomial_element,pyx` are still undocumented. Even if I'm kind of ok with `_call_` not having a short description, I'm definitely not fine with a constructor  (l. 2945) without any description of its input parameters...

My apologies for missing out on these. I've made the changes now. 
Back to `needs_review`. :)



---

archive/issue_comments_158051.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-08T10:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158051",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158052.json:
```json
{
    "body": "Hello,\n\nIt seems good to me.\nI just have two remarks:\n\n- You wrote error messages for every exception, including `ZeroDivisionError` and `NotImplementedError`. IMHO, it's not necessary to write (for instance) `ZeroDivisionError(\"division by zero is not valid\")`. To be honest, I would have been fine with it... But you wrote `ZeroDivisionError: division by zero is not valid` which I think is not compatible with Python 3 (not sure though).\n\n- There's a broken doctest:\n\n```\nFile \"../rings/polynomial/rings.py\", line 744, in sage.rings.polynomial.rings.Rings.ParentMethods.__getitem__\nFailed example:\n    k['x',Frob]\nExpected:\n    Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by Frobenius Endomorphism x |-> x^5 on Finite Field in t of size 5^3\nGot:\n    Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by t |--> t^5\n\n```\n\n\nApart from that, I'm fine with your changes, tests pass and a lot of work have been done here. Issues found by reviewers have been fixed, and if no one objects, I'll set this to `positive_review` on the next iteration.\n\nBest,\n\nDavid",
    "created_at": "2016-08-09T09:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158052",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Hello,

It seems good to me.
I just have two remarks:

- You wrote error messages for every exception, including `ZeroDivisionError` and `NotImplementedError`. IMHO, it's not necessary to write (for instance) `ZeroDivisionError("division by zero is not valid")`. To be honest, I would have been fine with it... But you wrote `ZeroDivisionError: division by zero is not valid` which I think is not compatible with Python 3 (not sure though).

- There's a broken doctest:

```
File "../rings/polynomial/rings.py", line 744, in sage.rings.polynomial.rings.Rings.ParentMethods.__getitem__
Failed example:
    k['x',Frob]
Expected:
    Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by Frobenius Endomorphism x |-> x^5 on Finite Field in t of size 5^3
Got:
    Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by t |--> t^5

```


Apart from that, I'm fine with your changes, tests pass and a lot of work have been done here. Issues found by reviewers have been fixed, and if no one objects, I'll set this to `positive_review` on the next iteration.

Best,

David



---

archive/issue_comments_158053.json:
```json
{
    "body": "> - You wrote error messages for every exception, including `ZeroDivisionError` and `NotImplementedError`. IMHO, it's not necessary to write (for instance) `ZeroDivisionError(\"division by zero is not valid\")`. To be honest, I would have been fine with it... But you wrote `ZeroDivisionError: division by zero is not valid` which I think is not compatible with Python 3 (not sure though).\n\nI looked up online if it was required to write an error message along with `ZeroDivisionError` since it seems pretty obvious what the error is. It seems, that depending on the situation, this error can mean different things and people write \"infinity\", \"not valid\" or simply \"division by zero\" as an error message after raising the error (python 3 [docs](https://docs.python.org/3/tutorial/errors.html)). And my thinking behind adding an error message for `NotImplementedError` is to allow the user to understand the reason behind this not being implemented. Should I remove them?",
    "created_at": "2016-08-09T10:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158053",
    "user": "https://github.com/arpitdm"
}
```

> - You wrote error messages for every exception, including `ZeroDivisionError` and `NotImplementedError`. IMHO, it's not necessary to write (for instance) `ZeroDivisionError("division by zero is not valid")`. To be honest, I would have been fine with it... But you wrote `ZeroDivisionError: division by zero is not valid` which I think is not compatible with Python 3 (not sure though).

I looked up online if it was required to write an error message along with `ZeroDivisionError` since it seems pretty obvious what the error is. It seems, that depending on the situation, this error can mean different things and people write "infinity", "not valid" or simply "division by zero" as an error message after raising the error (python 3 [docs](https://docs.python.org/3/tutorial/errors.html)). And my thinking behind adding an error message for `NotImplementedError` is to allow the user to understand the reason behind this not being implemented. Should I remove them?



---

archive/issue_comments_158054.json:
```json
{
    "body": "Replying to [comment:140 arpitdm]:\n> > - You wrote error messages for every exception, including `ZeroDivisionError` and `NotImplementedError`. IMHO, it's not necessary to write (for instance) `ZeroDivisionError(\"division by zero is not valid\")`. To be honest, I would have been fine with it... But you wrote `ZeroDivisionError: division by zero is not valid` which I think is not compatible with Python 3 (not sure though).\n> \n> I looked up online if it was required to write an error message along with `ZeroDivisionError` since it seems pretty obvious what the error is. It seems, that depending on the situation, this error can mean different things and people write \"infinity\", \"not valid\" or simply \"division by zero\" as an error message after raising the error (python 3 [docs](https://docs.python.org/3/tutorial/errors.html)). And my thinking behind adding an error message for `NotImplementedError` is to allow the user to understand the reason behind this not being implemented. Should I remove them?\n\nOh, ok I understand. If it is advised in Python documentation, please do not revert what you did `:)`.\n\nDavid",
    "created_at": "2016-08-09T10:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158054",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Replying to [comment:140 arpitdm]:
> > - You wrote error messages for every exception, including `ZeroDivisionError` and `NotImplementedError`. IMHO, it's not necessary to write (for instance) `ZeroDivisionError("division by zero is not valid")`. To be honest, I would have been fine with it... But you wrote `ZeroDivisionError: division by zero is not valid` which I think is not compatible with Python 3 (not sure though).
> 
> I looked up online if it was required to write an error message along with `ZeroDivisionError` since it seems pretty obvious what the error is. It seems, that depending on the situation, this error can mean different things and people write "infinity", "not valid" or simply "division by zero" as an error message after raising the error (python 3 [docs](https://docs.python.org/3/tutorial/errors.html)). And my thinking behind adding an error message for `NotImplementedError` is to allow the user to understand the reason behind this not being implemented. Should I remove them?

Oh, ok I understand. If it is advised in Python documentation, please do not revert what you did `:)`.

David



---

archive/issue_comments_158055.json:
```json
{
    "body": "> - There's a broken doctest:\n> {{{\n> File \"../rings/polynomial/rings.py\", line 744, in sage.rings.polynomial.rings.Rings.ParentMethods.__getitem__\n> Failed example:\n>     k['x',Frob]\n> Expected:\n>     Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by Frobenius Endomorphism x |-> x^5 on Finite Field in t of size 5^3\n> Got:\n>     Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by t |--> t^5\n> \n> }}}\nThere isn't a `rings.py` file in `sage/rings/polynomial`. That was moved to `sage/categories` and the doctest passes there. Maybe you have some portion of an older version of this ticket?",
    "created_at": "2016-08-09T11:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158055",
    "user": "https://github.com/arpitdm"
}
```

> - There's a broken doctest:
> {{{
> File "../rings/polynomial/rings.py", line 744, in sage.rings.polynomial.rings.Rings.ParentMethods.__getitem__
> Failed example:
>     k['x',Frob]
> Expected:
>     Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by Frobenius Endomorphism x |-> x^5 on Finite Field in t of size 5^3
> Got:
>     Skew Polynomial Ring in x over Finite Field in t of size 5^3 twisted by t |--> t^5
> 
> }}}
There isn't a `rings.py` file in `sage/rings/polynomial`. That was moved to `sage/categories` and the doctest passes there. Maybe you have some portion of an older version of this ticket?



---

archive/issue_comments_158056.json:
```json
{
    "body": "Mmh maybe... But it's weird though because I recompiled 7.3 a few days ago, then made a branch and pulled your branch from #13215. I have the latest version of this ticket on my local branch (commit 88196bf) and there's a file `rings.py` in `rings/polynomial`.\nEven with my clean version of 7.3 as it's available from download (I always keep a clean version of the `develop` branch), I can find such a file...\n\nAnyway, as `git log rings/polynomial/rings.py` returns nothing while `git log categories/rings.py` returns your commits, I probably messed up somewhere.\n\nSo, I guess we're good to go now.\nIf no one objects, I'll set this ticket to positive review.\n\nDavid",
    "created_at": "2016-08-09T11:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158056",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Mmh maybe... But it's weird though because I recompiled 7.3 a few days ago, then made a branch and pulled your branch from #13215. I have the latest version of this ticket on my local branch (commit 88196bf) and there's a file `rings.py` in `rings/polynomial`.
Even with my clean version of 7.3 as it's available from download (I always keep a clean version of the `develop` branch), I can find such a file...

Anyway, as `git log rings/polynomial/rings.py` returns nothing while `git log categories/rings.py` returns your commits, I probably messed up somewhere.

So, I guess we're good to go now.
If no one objects, I'll set this ticket to positive review.

David



---

archive/issue_comments_158057.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-10T12:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158057",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_158058.json:
```json
{
    "body": "As no one objected, I set this ticket to positive review.\n\nBest,\n\nDavid",
    "created_at": "2016-08-10T12:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158058",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

As no one objected, I set this ticket to positive review.

Best,

David



---

archive/issue_comments_158059.json:
```json
{
    "body": "Sorry to object, but I would like to re-insist on adding the experimental decorator on construction of skew polynomials. The reason is that I'm right now talking to a researcher in skew polynomials (Felice Manganiello), and he is making me aware of considerations that might mean some restructuring down the road. In particular, his natural notion of evaluation is *not* operator evaluation, but rather right (resp. left) modulo of `x-a`.\n\nTherefore, it is not clear that the syntax `f(a)` should mean operator evaluation. Perhaps it should be e.g. `f(a, 'operator')` etc. or something different. In any case, it demonstrates that this module is maybe not as mature as we had initially assumed.\n\nBest,\nJohan",
    "created_at": "2016-08-11T19:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158059",
    "user": "https://github.com/johanrosenkilde"
}
```

Sorry to object, but I would like to re-insist on adding the experimental decorator on construction of skew polynomials. The reason is that I'm right now talking to a researcher in skew polynomials (Felice Manganiello), and he is making me aware of considerations that might mean some restructuring down the road. In particular, his natural notion of evaluation is *not* operator evaluation, but rather right (resp. left) modulo of `x-a`.

Therefore, it is not clear that the syntax `f(a)` should mean operator evaluation. Perhaps it should be e.g. `f(a, 'operator')` etc. or something different. In any case, it demonstrates that this module is maybe not as mature as we had initially assumed.

Best,
Johan



---

archive/issue_comments_158060.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-08-11T19:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158060",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_158061.json:
```json
{
    "body": "Hi,\n\n> Sorry to object, but I would like to re-insist on adding the experimental decorator on construction of skew polynomials. The reason is that I'm right now talking to a researcher in skew polynomials (Felice Manganiello), and he is making me aware of considerations that might mean some restructuring down the road. In particular, his natural notion of evaluation is *not* operator evaluation, but rather right (resp. left) modulo of `x-a`.\n\nThis reminds me of the three approaches to evaluating a skew polynomial we discussed once before. One of them was, given a skew polynomial `p` and a point `a`, `p(a) = p.right_quo_rem(x-a)` (resp. left). Which I believe is what you are referring to? I think we now have the features to support this generalization of the remainder evaluation method in the non-commutative case. Or perhaps, we add an option to the `call` method. It takes as argument the algorithm \"remainder\" (or \"operator\") and default is set to one of them. That way the third approach of using normal basis can also be easily added if need be in the future.\n\nBest,\nArpit.",
    "created_at": "2016-08-11T20:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158061",
    "user": "https://github.com/arpitdm"
}
```

Hi,

> Sorry to object, but I would like to re-insist on adding the experimental decorator on construction of skew polynomials. The reason is that I'm right now talking to a researcher in skew polynomials (Felice Manganiello), and he is making me aware of considerations that might mean some restructuring down the road. In particular, his natural notion of evaluation is *not* operator evaluation, but rather right (resp. left) modulo of `x-a`.

This reminds me of the three approaches to evaluating a skew polynomial we discussed once before. One of them was, given a skew polynomial `p` and a point `a`, `p(a) = p.right_quo_rem(x-a)` (resp. left). Which I believe is what you are referring to? I think we now have the features to support this generalization of the remainder evaluation method in the non-commutative case. Or perhaps, we add an option to the `call` method. It takes as argument the algorithm "remainder" (or "operator") and default is set to one of them. That way the third approach of using normal basis can also be easily added if need be in the future.

Best,
Arpit.



---

archive/issue_comments_158062.json:
```json
{
    "body": "Replying to [comment:145 jsrn]:\n> Sorry to object, but I would like to re-insist on adding the experimental decorator on construction of skew polynomials. The reason is that I'm right now talking to a researcher in skew polynomials (Felice Manganiello), and he is making me aware of considerations that might mean some restructuring down the road. In particular, his natural notion of evaluation is *not* operator evaluation, but rather right (resp. left) modulo of `x-a`.\n> \n> Therefore, it is not clear that the syntax `f(a)` should mean operator evaluation. Perhaps it should be e.g. `f(a, 'operator')` etc. or something different. In any case, it demonstrates that this module is maybe not as mature as we had initially assumed.\n\nThe only thing I would agree with being marked experimental in this case would be the evaluation (i.e., `__call__`), which would be the only thing that would really see this (behavioral) change. I also think we should take the time to get this consistent with the conventions of skew polynomial research. Could you give Felice access to the code to experiment with (in particular, to get feedback on what additional features he would want and bottlenecks)?",
    "created_at": "2016-08-11T21:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158062",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:145 jsrn]:
> Sorry to object, but I would like to re-insist on adding the experimental decorator on construction of skew polynomials. The reason is that I'm right now talking to a researcher in skew polynomials (Felice Manganiello), and he is making me aware of considerations that might mean some restructuring down the road. In particular, his natural notion of evaluation is *not* operator evaluation, but rather right (resp. left) modulo of `x-a`.
> 
> Therefore, it is not clear that the syntax `f(a)` should mean operator evaluation. Perhaps it should be e.g. `f(a, 'operator')` etc. or something different. In any case, it demonstrates that this module is maybe not as mature as we had initially assumed.

The only thing I would agree with being marked experimental in this case would be the evaluation (i.e., `__call__`), which would be the only thing that would really see this (behavioral) change. I also think we should take the time to get this consistent with the conventions of skew polynomial research. Could you give Felice access to the code to experiment with (in particular, to get feedback on what additional features he would want and bottlenecks)?



---

archive/issue_comments_158063.json:
```json
{
    "body": "Did anyone look at the compiled documentation? I highly doubt the pdf documentation would build because `\\base_ring_endomorphism` is not valid latex.\n\nLooking more closely, there are also some incorrect statements about the code and many overly verbose statements (e.g., the definition of an automorphism). I'm going over the doc and code now trying to clean things up. However, you currently have an issue in that the skew polynomials themselves do not pickle (which was caught by a `TestSuite(S).run()` test I'm adding). Feel free to push changes and I can merge them into my branch once this is fixed.",
    "created_at": "2016-08-11T22:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158063",
    "user": "https://github.com/tscrim"
}
```

Did anyone look at the compiled documentation? I highly doubt the pdf documentation would build because `\base_ring_endomorphism` is not valid latex.

Looking more closely, there are also some incorrect statements about the code and many overly verbose statements (e.g., the definition of an automorphism). I'm going over the doc and code now trying to clean things up. However, you currently have an issue in that the skew polynomials themselves do not pickle (which was caught by a `TestSuite(S).run()` test I'm adding). Feel free to push changes and I can merge them into my branch once this is fixed.



---

archive/issue_comments_158064.json:
```json
{
    "body": "PDF docs don't build",
    "created_at": "2016-08-11T22:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158064",
    "user": "https://github.com/vbraun"
}
```

PDF docs don't build



---

archive/issue_comments_158065.json:
```json
{
    "body": "My mistake, I did not try to compile the pdf documentation, only the html one...\nI'll check this as well from now on.\n\nDavid",
    "created_at": "2016-08-12T06:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158065",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

My mistake, I did not try to compile the pdf documentation, only the html one...
I'll check this as well from now on.

David



---

archive/issue_comments_158066.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-12T08:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158067.json:
```json
{
    "body": "I often forget to also check that the pdf docs build, but you can usually see bad latex formatting on the html docs IIRC.\n\nLet me also clarify my last comment about pushing, I would prefer pushed changes that fix the pickling. I'm taking care of the docstrings and appreciate not having to deal with trivial merge conflicts.",
    "created_at": "2016-08-12T08:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158067",
    "user": "https://github.com/tscrim"
}
```

I often forget to also check that the pdf docs build, but you can usually see bad latex formatting on the html docs IIRC.

Let me also clarify my last comment about pushing, I would prefer pushed changes that fix the pickling. I'm taking care of the docstrings and appreciate not having to deal with trivial merge conflicts.



---

archive/issue_comments_158068.json:
```json
{
    "body": "Replying to [comment:148 tscrim]:\n> Did anyone look at the compiled documentation? I highly doubt the pdf documentation would build because `\\base_ring_endomorphism` is not valid latex.\nMy mistake too. I did not check for pdf docs. They build now.\n \n> Looking more closely, there are also some incorrect statements about the code and many overly verbose statements (e.g., the definition of an automorphism). I'm going over the doc and code now trying to clean things up. However, you currently have an issue in that the skew polynomials themselves do not pickle (which was caught by a `TestSuite(S).run()` test I'm adding). Feel free to push changes and I can merge them into my branch once this is fixed.\nCan you explain a little more about pickling? Or maybe direct me to a link that does?",
    "created_at": "2016-08-12T08:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158068",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:148 tscrim]:
> Did anyone look at the compiled documentation? I highly doubt the pdf documentation would build because `\base_ring_endomorphism` is not valid latex.
My mistake too. I did not check for pdf docs. They build now.
 
> Looking more closely, there are also some incorrect statements about the code and many overly verbose statements (e.g., the definition of an automorphism). I'm going over the doc and code now trying to clean things up. However, you currently have an issue in that the skew polynomials themselves do not pickle (which was caught by a `TestSuite(S).run()` test I'm adding). Feel free to push changes and I can merge them into my branch once this is fixed.
Can you explain a little more about pickling? Or maybe direct me to a link that does?



---

archive/issue_comments_158069.json:
```json
{
    "body": "Pickling is how Python allows you to save data. In particular, you want\n\n```\nsage: loads(dumps(x)) == x\nTrue\n```\n\nfor (essentially) any object `x`.",
    "created_at": "2016-08-12T08:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158069",
    "user": "https://github.com/tscrim"
}
```

Pickling is how Python allows you to save data. In particular, you want

```
sage: loads(dumps(x)) == x
True
```

for (essentially) any object `x`.



---

archive/issue_comments_158070.json:
```json
{
    "body": "Hi,\n\n> Pickling is how Python allows you to save data. In particular, you want\n> {{{\n> sage: loads(dumps(x)) == x\n> True\n> }}}\n> for (essentially) any object `x`.\n\nSo I ran some examples and here's what I have so far. When the base ring is a finite field of the form `GF(q^m)`, pickling succeeds, but unpickling does not. Specifically, it fails to recognize or coerce the exponent `m` as an integer, I think. I tried pickling various other skew polynomials over Integer Ring, Rational Field, etc. and it works just fine. I don't understand where the problem is coming from. Also,\n\n\n```\nsage: k.<t> = GF(5^3)\nsage: Frob = k.frobenius_endomorphism()\nsage: S.<x> = k['x', Frob]\nsage: loads(dumps(S)) == S\nTraceback:\n...\nValueError: (ValueError('exponent must be an integer',), <function SkewPolynomialRing at 0x7f02ca186140>, (Finite Field in t of size 5^3, Identity endomorphism of Finite Field in t of size 5^3, 'x', False))\n\nsage: loads(dumps(k)) == k\nTrue\nsage: loads(dumps(Frob)) == Frob\nFalse\n```\n",
    "created_at": "2016-08-12T10:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158070",
    "user": "https://github.com/arpitdm"
}
```

Hi,

> Pickling is how Python allows you to save data. In particular, you want
> {{{
> sage: loads(dumps(x)) == x
> True
> }}}
> for (essentially) any object `x`.

So I ran some examples and here's what I have so far. When the base ring is a finite field of the form `GF(q^m)`, pickling succeeds, but unpickling does not. Specifically, it fails to recognize or coerce the exponent `m` as an integer, I think. I tried pickling various other skew polynomials over Integer Ring, Rational Field, etc. and it works just fine. I don't understand where the problem is coming from. Also,


```
sage: k.<t> = GF(5^3)
sage: Frob = k.frobenius_endomorphism()
sage: S.<x> = k['x', Frob]
sage: loads(dumps(S)) == S
Traceback:
...
ValueError: (ValueError('exponent must be an integer',), <function SkewPolynomialRing at 0x7f02ca186140>, (Finite Field in t of size 5^3, Identity endomorphism of Finite Field in t of size 5^3, 'x', False))

sage: loads(dumps(k)) == k
True
sage: loads(dumps(Frob)) == Frob
False
```




---

archive/issue_comments_158071.json:
```json
{
    "body": "The bigger problem is that a skew polynomial itself does not pickle:\n\n```\nsage: R.<t> = ZZ[]\nsage: sigma = R.hom([t+1])\nsage: S.<x> = SkewPolynomialRing(R, sigma)\nsage: loads(dumps(x))\n---------------------------------------------------------------------------\nPicklingError                             Traceback (most recent call last)\n...\nPicklingError: Can't pickle <type 'dictproxy'>: attribute lookup __builtin__.dictproxy failed\n```\n\n\nWith that being said, the above pickling issue with the Frobenius endomorphism is a separate issue that necessitates a ticket:\n\n```\nsage: loads(dumps(Frob))\nIdentity endomorphism of Finite Field in t of size 5^3\n```\n\nin addition to this independent issue:\n\n```\nsage: Frob.parent() is Hom(k, k)\nTrue\nsage: Hom(k, k)(Frob)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: unable to coerce <type 'sage.rings.finite_rings.hom_finite_field_givaro.FrobeniusEndomorphism_givaro'>",
    "created_at": "2016-08-12T12:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158071",
    "user": "https://github.com/tscrim"
}
```

The bigger problem is that a skew polynomial itself does not pickle:

```
sage: R.<t> = ZZ[]
sage: sigma = R.hom([t+1])
sage: S.<x> = SkewPolynomialRing(R, sigma)
sage: loads(dumps(x))
---------------------------------------------------------------------------
PicklingError                             Traceback (most recent call last)
...
PicklingError: Can't pickle <type 'dictproxy'>: attribute lookup __builtin__.dictproxy failed
```


With that being said, the above pickling issue with the Frobenius endomorphism is a separate issue that necessitates a ticket:

```
sage: loads(dumps(Frob))
Identity endomorphism of Finite Field in t of size 5^3
```

in addition to this independent issue:

```
sage: Frob.parent() is Hom(k, k)
True
sage: Hom(k, k)(Frob)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: unable to coerce <type 'sage.rings.finite_rings.hom_finite_field_givaro.FrobeniusEndomorphism_givaro'>



---

archive/issue_comments_158072.json:
```json
{
    "body": "Yes. I was able to recreate this error earlier myself. But I figured that the correct pickling of the ring was dependent on the correct pickling of the underlying automorphism and every other attribute for that matter. \n\nHow can I resolve these coercion errors? Any pointers would be really helpful. I have no idea where these stem from.\n\nBest,\nArpit.",
    "created_at": "2016-08-12T13:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158072",
    "user": "https://github.com/arpitdm"
}
```

Yes. I was able to recreate this error earlier myself. But I figured that the correct pickling of the ring was dependent on the correct pickling of the underlying automorphism and every other attribute for that matter. 

How can I resolve these coercion errors? Any pointers would be really helpful. I have no idea where these stem from.

Best,
Arpit.



---

archive/issue_comments_158073.json:
```json
{
    "body": "Well, the pickling issue doesn't stem from coercion, nor does it have to do with the pickling of the parent (which worked okay). It is likely that you need to implement a `__reduce__` method.\n\nThe *conversion* failure of `Frob` above is likely coming from the generic code for `Homset` being too strict, but as I said, this is an independent issue.",
    "created_at": "2016-08-12T13:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158073",
    "user": "https://github.com/tscrim"
}
```

Well, the pickling issue doesn't stem from coercion, nor does it have to do with the pickling of the parent (which worked okay). It is likely that you need to implement a `__reduce__` method.

The *conversion* failure of `Frob` above is likely coming from the generic code for `Homset` being too strict, but as I said, this is an independent issue.



---

archive/issue_comments_158074.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-12T20:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158074",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158075.json:
```json
{
    "body": "I've added a `__reduce__` method that pickles and unpickles a skew polynomial and a skew polynomial ring over a non-finite base ring correctly now. The error in the earlier example you mentioned is now resolved. However, the problem with the finite fields case persists. I haven't managed to swat that bug away yet. \nAny ideas on what is causing that?",
    "created_at": "2016-08-12T20:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158075",
    "user": "https://github.com/arpitdm"
}
```

I've added a `__reduce__` method that pickles and unpickles a skew polynomial and a skew polynomial ring over a non-finite base ring correctly now. The error in the earlier example you mentioned is now resolved. However, the problem with the finite fields case persists. I haven't managed to swat that bug away yet. 
Any ideas on what is causing that?



---

archive/issue_comments_158076.json:
```json
{
    "body": "The (un)pickling of the Frobenius (well, perhaps its base class) is not setting the `_power` correctly:\n\n```\nsage: Frob.power()\n1\nsage: loads(dumps(Frob)).power()\n0\n```\n\nThe solution is probably to make the `__reduce__` less generic. This will need to be a separate ticket (which we don't have to make as a dependency of this one).",
    "created_at": "2016-08-12T23:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158076",
    "user": "https://github.com/tscrim"
}
```

The (un)pickling of the Frobenius (well, perhaps its base class) is not setting the `_power` correctly:

```
sage: Frob.power()
1
sage: loads(dumps(Frob)).power()
0
```

The solution is probably to make the `__reduce__` less generic. This will need to be a separate ticket (which we don't have to make as a dependency of this one).



---

archive/issue_comments_158077.json:
```json
{
    "body": "About the experimental warning: `@`arpitdm: yes, what you describe is exactly the other evaluation notions, so it is not complicated to implement them - it is only a matter of discussing interface. For progressing with our GSoC, I strongly prefer to take that discussion in a follow-up ticket (e.g. during SD75) and just mark skew polynomials with the experimental warning.\n\n`@`tscrim: Marking *only* `__call__` is certainly an option, and will be less disconcerting to users who wants to take skew polynomials into use soon, and I am also sort of OK with this. However, I prefer to mark the entire module as experimental: this `__call__` issue might just be the first example of other similar conventions. Felice has already asked for a trac account and will look at the functionality when he has time. But in the interest of being able to continue with our other goals, I would strongly prefer to get this major ticket closed before we are sure everything has converged, and the point of the experimental decorator is exactly to be able to do that.\n\nBest,\nJohan",
    "created_at": "2016-08-13T09:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158077",
    "user": "https://github.com/johanrosenkilde"
}
```

About the experimental warning: `@`arpitdm: yes, what you describe is exactly the other evaluation notions, so it is not complicated to implement them - it is only a matter of discussing interface. For progressing with our GSoC, I strongly prefer to take that discussion in a follow-up ticket (e.g. during SD75) and just mark skew polynomials with the experimental warning.

`@`tscrim: Marking *only* `__call__` is certainly an option, and will be less disconcerting to users who wants to take skew polynomials into use soon, and I am also sort of OK with this. However, I prefer to mark the entire module as experimental: this `__call__` issue might just be the first example of other similar conventions. Felice has already asked for a trac account and will look at the functionality when he has time. But in the interest of being able to continue with our other goals, I would strongly prefer to get this major ticket closed before we are sure everything has converged, and the point of the experimental decorator is exactly to be able to do that.

Best,
Johan



---

archive/issue_comments_158078.json:
```json
{
    "body": "I renamed `power_left_mod` to `left_power_mod` similarly for `right`. I suggested the old names myself, but realised that it's much better if all such sided operations begin with left/right (and all the other sided operations already do).\n\nBest,\nJohan\n----\nNew commits:",
    "created_at": "2016-08-13T09:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158078",
    "user": "https://github.com/johanrosenkilde"
}
```

I renamed `power_left_mod` to `left_power_mod` similarly for `right`. I suggested the old names myself, but realised that it's much better if all such sided operations begin with left/right (and all the other sided operations already do).

Best,
Johan
----
New commits:



---

archive/issue_comments_158079.json:
```json
{
    "body": "Replying to [comment:162 jsrn]:\n> About the experimental warning: `@`arpitdm: yes, what you describe is exactly the other evaluation notions, so it is not complicated to implement them - it is only a matter of discussing interface. For progressing with our GSoC, I strongly prefer to take that discussion in a follow-up ticket (e.g. during SD75) and just mark skew polynomials with the experimental warning.\n\nAgreed. We can keep that for SD75.\n\n> `@`tscrim: Marking *only* `__call__` is certainly an option, and will be less disconcerting to users who wants to take skew polynomials into use soon, and I am also sort of OK with this. However, I prefer to mark the entire module as experimental: this `__call__` issue might just be the first example of other similar conventions. Felice has already asked for a trac account and will look at the functionality when he has time. But in the interest of being able to continue with our other goals, I would strongly prefer to get this major ticket closed before we are sure everything has converged, and the point of the experimental decorator is exactly to be able to do that.\n\nIf we are placing the experimental decorator, which I think we should, I second placing it over the entire skew polynomial ticket. Because `call` is not the only one that will be changed. Derivations are missing. Anyone who is working on skew polynomial research will probably point that out immediately. And there could be a bunch of changes to accommodate that.",
    "created_at": "2016-08-13T12:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158079",
    "user": "https://github.com/arpitdm"
}
```

Replying to [comment:162 jsrn]:
> About the experimental warning: `@`arpitdm: yes, what you describe is exactly the other evaluation notions, so it is not complicated to implement them - it is only a matter of discussing interface. For progressing with our GSoC, I strongly prefer to take that discussion in a follow-up ticket (e.g. during SD75) and just mark skew polynomials with the experimental warning.

Agreed. We can keep that for SD75.

> `@`tscrim: Marking *only* `__call__` is certainly an option, and will be less disconcerting to users who wants to take skew polynomials into use soon, and I am also sort of OK with this. However, I prefer to mark the entire module as experimental: this `__call__` issue might just be the first example of other similar conventions. Felice has already asked for a trac account and will look at the functionality when he has time. But in the interest of being able to continue with our other goals, I would strongly prefer to get this major ticket closed before we are sure everything has converged, and the point of the experimental decorator is exactly to be able to do that.

If we are placing the experimental decorator, which I think we should, I second placing it over the entire skew polynomial ticket. Because `call` is not the only one that will be changed. Derivations are missing. Anyone who is working on skew polynomial research will probably point that out immediately. And there could be a bunch of changes to accommodate that.



---

archive/issue_comments_158080.json:
```json
{
    "body": "I've gone through and made some cleanup to the documentation and code. I've made the `SkewPolynomial` actually behave like an ABC that can be subclassed to sparse skew polynomials (mainly, removed the `_coeffs` attribute).\n\nI strongly disagree with marking the entire class with ``@`experimental`. For example, all of the changes I did would not require any deprecation, i.e., the public API and behavior was unchanged. If you know you must change the API/behavior to accommodate something, then this code has no business being in Sage and you should just go ahead and do it. If the behavior could undergo (radical) changes, then the code isn't (IMO) correct and should not be included.\n\n(Personally, I see very little use-cases for ``@`experimental` and no real use at the top-level. People who will actually experiment with the code will be those who can just get the code from the trac server (which requires no login). By marking something at the top-level, nobody will really use the code because there are no guarantees.)\n----\nNew commits:",
    "created_at": "2016-08-13T14:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158080",
    "user": "https://github.com/tscrim"
}
```

I've gone through and made some cleanup to the documentation and code. I've made the `SkewPolynomial` actually behave like an ABC that can be subclassed to sparse skew polynomials (mainly, removed the `_coeffs` attribute).

I strongly disagree with marking the entire class with ``@`experimental`. For example, all of the changes I did would not require any deprecation, i.e., the public API and behavior was unchanged. If you know you must change the API/behavior to accommodate something, then this code has no business being in Sage and you should just go ahead and do it. If the behavior could undergo (radical) changes, then the code isn't (IMO) correct and should not be included.

(Personally, I see very little use-cases for ``@`experimental` and no real use at the top-level. People who will actually experiment with the code will be those who can just get the code from the trac server (which requires no login). By marking something at the top-level, nobody will really use the code because there are no guarantees.)
----
New commits:



---

archive/issue_comments_158081.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-13T14:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158081",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158082.json:
```json
{
    "body": "Hi Travis,\n\nReplying to [comment:166 tscrim]:\n> I've gone through and made some cleanup to the documentation and code. I've made the `SkewPolynomial` actually behave like an ABC that can be subclassed to sparse skew polynomials (mainly, removed the `_coeffs` attribute).\n\nGreat!\n\n> I strongly disagree with marking the entire class with ``@`experimental`. For example, all of the changes I did would not require any deprecation, i.e., the public API and behavior was unchanged. If you know you must change the API/behavior to accommodate something, then this code has no business being in Sage and you should just go ahead and do it. If the behavior could undergo (radical) changes, then the code isn't (IMO) correct and should not be included.\n> \n> (Personally, I see very little use-cases for ``@`experimental` and no real use at the top-level. People who will actually experiment with the code will be those who can just get the code from the trac server (which requires no login). By marking something at the top-level, nobody will really use the code because there are no guarantees.)\n\nI see we disagree on the ``@`experimental` decorator itself. It is a \"local beta\", in that it says: \"you can count on this functionality being in Sage soon in roughly the same shape. If you want to use it already, be prepared that the API might change mildly\". It facilitates Request-for-comments from developers who believe they have well-designed some module, but acknowledge that they might not have considered everything. This goes doubly for math code, since any given math structure can be considered from so many angles, and usually the initial developer considers mostly just one. It allows building other new stuff on top of it (which we really need now: #20970), which postponing the ticket wouldn't, and that new stuff might not need an ``@`experimental` warning itself (for #20970, skew polynomials is just a tool, and its exact API has roughly no bearing on the API of the Gabidulin codes).\n\nThe decorator was originally suggested because without it, it is difficult to start introducing the \"basic\" modules on a new set of functionality, since one can only really judge its design once many things have been developed on top of it. This happened for us in coding theory, where we felt forced to have our own fork of Sage and develop for nine months before making the first pushes to Sage, greatly complicating the development process.\n\nSee also the discussion here:\nhttps://groups.google.com/forum/#!topic/sage-devel/LXWs6KOw0Lk.\nThis ticket is exactly one of the intended use cases for this decorator.\n\nI still insist on the module-wide experimental warning here. I expect I will be active in polishing the skew polynomial module in the coming months, and I really don't want to be burdened/limited by deprecation considerations all the time. On the other hand, we really need this ticket to go into Sage to proceed with the GSoC, and at least >95% of the current functionality and API is good.",
    "created_at": "2016-08-14T10:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158082",
    "user": "https://github.com/johanrosenkilde"
}
```

Hi Travis,

Replying to [comment:166 tscrim]:
> I've gone through and made some cleanup to the documentation and code. I've made the `SkewPolynomial` actually behave like an ABC that can be subclassed to sparse skew polynomials (mainly, removed the `_coeffs` attribute).

Great!

> I strongly disagree with marking the entire class with ``@`experimental`. For example, all of the changes I did would not require any deprecation, i.e., the public API and behavior was unchanged. If you know you must change the API/behavior to accommodate something, then this code has no business being in Sage and you should just go ahead and do it. If the behavior could undergo (radical) changes, then the code isn't (IMO) correct and should not be included.
> 
> (Personally, I see very little use-cases for ``@`experimental` and no real use at the top-level. People who will actually experiment with the code will be those who can just get the code from the trac server (which requires no login). By marking something at the top-level, nobody will really use the code because there are no guarantees.)

I see we disagree on the ``@`experimental` decorator itself. It is a "local beta", in that it says: "you can count on this functionality being in Sage soon in roughly the same shape. If you want to use it already, be prepared that the API might change mildly". It facilitates Request-for-comments from developers who believe they have well-designed some module, but acknowledge that they might not have considered everything. This goes doubly for math code, since any given math structure can be considered from so many angles, and usually the initial developer considers mostly just one. It allows building other new stuff on top of it (which we really need now: #20970), which postponing the ticket wouldn't, and that new stuff might not need an ``@`experimental` warning itself (for #20970, skew polynomials is just a tool, and its exact API has roughly no bearing on the API of the Gabidulin codes).

The decorator was originally suggested because without it, it is difficult to start introducing the "basic" modules on a new set of functionality, since one can only really judge its design once many things have been developed on top of it. This happened for us in coding theory, where we felt forced to have our own fork of Sage and develop for nine months before making the first pushes to Sage, greatly complicating the development process.

See also the discussion here:
https://groups.google.com/forum/#!topic/sage-devel/LXWs6KOw0Lk.
This ticket is exactly one of the intended use cases for this decorator.

I still insist on the module-wide experimental warning here. I expect I will be active in polishing the skew polynomial module in the coming months, and I really don't want to be burdened/limited by deprecation considerations all the time. On the other hand, we really need this ticket to go into Sage to proceed with the GSoC, and at least >95% of the current functionality and API is good.



---

archive/issue_comments_158083.json:
```json
{
    "body": "From the discussion above, there are suggestions of *major* behavioral and API changes, not mild. While this is not the hill I necessarily want to die on, I do have a use-case for this code. By saying the module is \"subject to change without notice\" means I can't build upon it because it could break all of my code, as well as yours for #20970. You say you only need this as a tool, but suppose #20970 is merged before this is stable and then you force whomever has to make changes to this code to also fix your code (which defeats the entire point) or your code gets broken if it is something not doctested.\n\nYou also seem stuck on the idea the code has to be merged in order to proceed with GSoC. You can build other code on top of this, and this doesn't need to be merged by the end of the program for the GSoC to be considered successful (granted, it took a little too long for the knot theory GSoC code to get merged).\n\nAdditionally, if 95% of the code is set, then mark the 5% with ``@`experimental` if you think it is that likely to change. If you disagree, then I am forced to disagree with your assessment of the completeness of the code. As a reminder, *internal* changes do not need to be deprecated (for example, none of the changes I pushed would not require one).",
    "created_at": "2016-08-14T13:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158083",
    "user": "https://github.com/tscrim"
}
```

From the discussion above, there are suggestions of *major* behavioral and API changes, not mild. While this is not the hill I necessarily want to die on, I do have a use-case for this code. By saying the module is "subject to change without notice" means I can't build upon it because it could break all of my code, as well as yours for #20970. You say you only need this as a tool, but suppose #20970 is merged before this is stable and then you force whomever has to make changes to this code to also fix your code (which defeats the entire point) or your code gets broken if it is something not doctested.

You also seem stuck on the idea the code has to be merged in order to proceed with GSoC. You can build other code on top of this, and this doesn't need to be merged by the end of the program for the GSoC to be considered successful (granted, it took a little too long for the knot theory GSoC code to get merged).

Additionally, if 95% of the code is set, then mark the 5% with ``@`experimental` if you think it is that likely to change. If you disagree, then I am forced to disagree with your assessment of the completeness of the code. As a reminder, *internal* changes do not need to be deprecated (for example, none of the changes I pushed would not require one).



---

archive/issue_comments_158084.json:
```json
{
    "body": "If you feel we are at an impasse, then we can ask on sage-devel.",
    "created_at": "2016-08-14T13:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158084",
    "user": "https://github.com/tscrim"
}
```

If you feel we are at an impasse, then we can ask on sage-devel.



---

archive/issue_comments_158085.json:
```json
{
    "body": "Replying to [comment:169 tscrim]:\n> From the discussion above, there are suggestions of *major* behavioral and API changes, not mild.\n\nI don't consider the `__call__` discussion a major change. My current idea for accommodating multiple notions of evaluation would be to throw a warning/error when `__call__` is used before \"setting\" the default evaluation on the skew polynomial ring in question. That's a completely local change (local to `__call__`. But as I mentioned, I prefer to postpone that discussion to a later ticket.\n\n> While this is not the hill I necessarily want to die on, I do have a use-case for this code. By saying the module is \"subject to change without notice\" means I can't build upon it because it could break all of my code, as well as yours for #20970. You say you only need this as a tool, but suppose #20970 is merged before this is stable and then you force whomever has to make changes to this code to also fix your code (which defeats the entire point) or your code gets broken if it is something not doctested.\n\nAs I said, I imagine that it would be an overlapping set of developers (at least me) who would improve skew polynomials in the forseeable future, as well as use it before it was \"stable\", in e.g. #20970. This is, once again, what I would regard the common use-case of ``@`experimental` (whoever adds some feature usually needs it him/herself).\n\nIf you want to build upon this code yourself, I also don't understand your stance: not having ``@`experimental` means that any near-future sensible change to this module's API will be clumsy to accommodate. If you have made use of this module in the mean-time, either included in Sage or not, there's two possible outcomes: the improvement is not done, or it is done and your code will start spewing warnings. I don't see how either outcomes are better than what would happen with the ``@`experimental` warning on.\n\n> You also seem stuck on the idea the code has to be merged in order to proceed with GSoC. You can build other code on top of this, and this doesn't need to be merged by the end of the program for the GSoC to be considered successful (granted, it took a little too long for the knot theory GSoC code to get merged).\n\nYou know how it is: unmerged code just has a much larger probability of rotting on trac or ending up causing a huge workload for the mentors/other interessants of the project. We already have a queue of 4 tickets waiting for this one, and I really want to pop most of them before GSoC runs out!\n\n> Additionally, if 95% of the code is set, then mark the 5% with ``@`experimental` if you think it is that likely to change.\n\nBut I don't *know* what could change! It's my assessment that this is pretty close to stable, and Xavier, Arpit, David, Burcin, you, and me have thought things pretty well through. But it *is* a large, new structure to Sage.\n\n> If you disagree, then I am forced to disagree with your assessment of the completeness of the code. As a reminder, *internal* changes do not need to be deprecated (for example, none of the changes I pushed would not require one).\n\nI am somewhat shocked at how vehemently you are against the ``@`experimental` decorator. Discussion on sage-devel it is, I guess...",
    "created_at": "2016-08-14T16:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158085",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:169 tscrim]:
> From the discussion above, there are suggestions of *major* behavioral and API changes, not mild.

I don't consider the `__call__` discussion a major change. My current idea for accommodating multiple notions of evaluation would be to throw a warning/error when `__call__` is used before "setting" the default evaluation on the skew polynomial ring in question. That's a completely local change (local to `__call__`. But as I mentioned, I prefer to postpone that discussion to a later ticket.

> While this is not the hill I necessarily want to die on, I do have a use-case for this code. By saying the module is "subject to change without notice" means I can't build upon it because it could break all of my code, as well as yours for #20970. You say you only need this as a tool, but suppose #20970 is merged before this is stable and then you force whomever has to make changes to this code to also fix your code (which defeats the entire point) or your code gets broken if it is something not doctested.

As I said, I imagine that it would be an overlapping set of developers (at least me) who would improve skew polynomials in the forseeable future, as well as use it before it was "stable", in e.g. #20970. This is, once again, what I would regard the common use-case of ``@`experimental` (whoever adds some feature usually needs it him/herself).

If you want to build upon this code yourself, I also don't understand your stance: not having ``@`experimental` means that any near-future sensible change to this module's API will be clumsy to accommodate. If you have made use of this module in the mean-time, either included in Sage or not, there's two possible outcomes: the improvement is not done, or it is done and your code will start spewing warnings. I don't see how either outcomes are better than what would happen with the ``@`experimental` warning on.

> You also seem stuck on the idea the code has to be merged in order to proceed with GSoC. You can build other code on top of this, and this doesn't need to be merged by the end of the program for the GSoC to be considered successful (granted, it took a little too long for the knot theory GSoC code to get merged).

You know how it is: unmerged code just has a much larger probability of rotting on trac or ending up causing a huge workload for the mentors/other interessants of the project. We already have a queue of 4 tickets waiting for this one, and I really want to pop most of them before GSoC runs out!

> Additionally, if 95% of the code is set, then mark the 5% with ``@`experimental` if you think it is that likely to change.

But I don't *know* what could change! It's my assessment that this is pretty close to stable, and Xavier, Arpit, David, Burcin, you, and me have thought things pretty well through. But it *is* a large, new structure to Sage.

> If you disagree, then I am forced to disagree with your assessment of the completeness of the code. As a reminder, *internal* changes do not need to be deprecated (for example, none of the changes I pushed would not require one).

I am somewhat shocked at how vehemently you are against the ``@`experimental` decorator. Discussion on sage-devel it is, I guess...



---

archive/issue_comments_158086.json:
```json
{
    "body": "https://groups.google.com/forum/#!topic/sage-devel/JlJXGtxsYr0",
    "created_at": "2016-08-14T17:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158086",
    "user": "https://github.com/johanrosenkilde"
}
```

https://groups.google.com/forum/#!topic/sage-devel/JlJXGtxsYr0



---

archive/issue_comments_158087.json:
```json
{
    "body": "The discussion on sage-devel seems to have tapered off, so we need to take a decision here. We got two pieces of input: leif suggested a compromise with a warning in the doc, and wstein seemed to favour something like not pre-importing the module until the module is deemed \"stable\".\n\nIMHO, neither of the two shared your concerns of not being able to build upon\nthe module, and seemed OK with the idea of accepting not-completely-stable code\ninto Sage. Conversely, they apparently didn't really like `@`experimental in the current form either.\n\nI like both of the alternative suggestions less than just including the module and defining it as stable, handling any possible deprecation warnings that might arise in the near future. However, I still claim that using `@`experimental on the module is the right way to go.\n\nBut in the interest of progressing, I leave it to you Travis: if you are still strongly against a module-level `@`experimental, let's drop it. I guess you are still OK with having `@`experimental on __call__, together with a sensible message in the doc, e.g.\n\n\n```\n    WARNING::\n\n        Currently only \"operator evaluation\" of skew polynomials is implemented. There are two other common notions of evaluation of `f(x)` at some `a` from the base ring, namely the remainder after left or right modulo by `x-a`. The current calling convention might change in the future to accommodate these.\n```\n\n\nBest,\nJohan",
    "created_at": "2016-08-17T08:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158087",
    "user": "https://github.com/johanrosenkilde"
}
```

The discussion on sage-devel seems to have tapered off, so we need to take a decision here. We got two pieces of input: leif suggested a compromise with a warning in the doc, and wstein seemed to favour something like not pre-importing the module until the module is deemed "stable".

IMHO, neither of the two shared your concerns of not being able to build upon
the module, and seemed OK with the idea of accepting not-completely-stable code
into Sage. Conversely, they apparently didn't really like `@`experimental in the current form either.

I like both of the alternative suggestions less than just including the module and defining it as stable, handling any possible deprecation warnings that might arise in the near future. However, I still claim that using `@`experimental on the module is the right way to go.

But in the interest of progressing, I leave it to you Travis: if you are still strongly against a module-level `@`experimental, let's drop it. I guess you are still OK with having `@`experimental on __call__, together with a sensible message in the doc, e.g.


```
    WARNING::

        Currently only "operator evaluation" of skew polynomials is implemented. There are two other common notions of evaluation of `f(x)` at some `a` from the base ring, namely the remainder after left or right modulo by `x-a`. The current calling convention might change in the future to accommodate these.
```


Best,
Johan



---

archive/issue_comments_158088.json:
```json
{
    "body": "Replying to [comment:173 jsrn]:\n> But in the interest of progressing, I leave it to you Travis: if you are still strongly against a module-level `@`experimental, let's drop it. I guess you are still OK with having `@`experimental on __call__, together with a sensible message in the doc, e.g.\n> \n> {{{\n>     WARNING::\n> \n>         Currently only \"operator evaluation\" of skew polynomials is implemented.\n>         There are two other common notions of evaluation of `f(x)` at some `a`\n>         from the base ring, namely the remainder after left or right modulo by `x-a`.\n>         The current calling convention might change in the future to accommodate these.\n> }}}\nI still strongly am against a module-level ``@`experimental`, but I think this is a good compromise. Positive review on my part once this is done. Thank you for your input and work on this!",
    "created_at": "2016-08-17T08:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158088",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:173 jsrn]:
> But in the interest of progressing, I leave it to you Travis: if you are still strongly against a module-level `@`experimental, let's drop it. I guess you are still OK with having `@`experimental on __call__, together with a sensible message in the doc, e.g.
> 
> {{{
>     WARNING::
> 
>         Currently only "operator evaluation" of skew polynomials is implemented.
>         There are two other common notions of evaluation of `f(x)` at some `a`
>         from the base ring, namely the remainder after left or right modulo by `x-a`.
>         The current calling convention might change in the future to accommodate these.
> }}}
I still strongly am against a module-level ``@`experimental`, but I think this is a good compromise. Positive review on my part once this is done. Thank you for your input and work on this!



---

archive/issue_comments_158089.json:
```json
{
    "body": "from the patchbot:\n\n```\n+inside file:  b/src/sage/rings/polynomial/skew_polynomial_ring_constructor.py\n+@@ -0,0 +1,207 @@\n++            ....:     print S\n+python2-only print syntax inserted on 1 non-empty lines\n+Traceback (most recent call last):\n+  File \"/nfs4/home6/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/patchbot.py\", line 1053, in test_a_ticket\n+    baseline=baseline, **kwds)\n+  File \"/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py\", line 368, in oldstyle_print\n+    msg=\"python2-only print syntax\", **kwds)\n+  File \"/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py\", line 214, in exclude_new\n+    raise ValueError(full_msg)\n+ValueError: python2-only print syntax inserted on 1 non-empty lines\n```\n\n\n```\n+inside file:  b/src/sage/rings/polynomial/skew_polynomial_element.pyx\n+@@ -0,0 +1,3019 @@\n++        INPUT::\n+inside file:  b/src/sage/rings/polynomial/skew_polynomial_ring.py\n+@@ -0,0 +1,732 @@\n++        INPUT::\n+Bad Input/Output blocks inserted on 2 non-empty lines\n+Traceback (most recent call last):\n+  File \"/nfs4/home6/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/patchbot.py\", line 1053, in test_a_ticket\n+    baseline=baseline, **kwds)\n+  File \"/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py\", line 352, in input_output_block\n+    msg=\"Bad Input/Output blocks\", **kwds)\n+  File \"/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py\", line 214, in exclude_new\n+    raise ValueError(full_msg)\n+ValueError: Bad Input/Output blocks inserted on 2 non-empty lines\n```\n",
    "created_at": "2016-08-17T11:54:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158089",
    "user": "https://github.com/fchapoton"
}
```

from the patchbot:

```
+inside file:  b/src/sage/rings/polynomial/skew_polynomial_ring_constructor.py
+@@ -0,0 +1,207 @@
++            ....:     print S
+python2-only print syntax inserted on 1 non-empty lines
+Traceback (most recent call last):
+  File "/nfs4/home6/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/patchbot.py", line 1053, in test_a_ticket
+    baseline=baseline, **kwds)
+  File "/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py", line 368, in oldstyle_print
+    msg="python2-only print syntax", **kwds)
+  File "/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py", line 214, in exclude_new
+    raise ValueError(full_msg)
+ValueError: python2-only print syntax inserted on 1 non-empty lines
```


```
+inside file:  b/src/sage/rings/polynomial/skew_polynomial_element.pyx
+@@ -0,0 +1,3019 @@
++        INPUT::
+inside file:  b/src/sage/rings/polynomial/skew_polynomial_ring.py
+@@ -0,0 +1,732 @@
++        INPUT::
+Bad Input/Output blocks inserted on 2 non-empty lines
+Traceback (most recent call last):
+  File "/nfs4/home6/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/patchbot.py", line 1053, in test_a_ticket
+    baseline=baseline, **kwds)
+  File "/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py", line 352, in input_output_block
+    msg="Bad Input/Output blocks", **kwds)
+  File "/usr/labri/vdelecro/.local/lib/python2.7/site-packages/sage_patchbot/plugins.py", line 214, in exclude_new
+    raise ValueError(full_msg)
+ValueError: Bad Input/Output blocks inserted on 2 non-empty lines
```




---

archive/issue_comments_158090.json:
```json
{
    "body": "Oh, you managed to get some feedback from the patchbot?\nI was actually slightly worried about the Python 2 only syntax, but I do not know\nany efficient way to test for this locally...\n\nDavid",
    "created_at": "2016-08-17T12:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158090",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Oh, you managed to get some feedback from the patchbot?
I was actually slightly worried about the Python 2 only syntax, but I do not know
any efficient way to test for this locally...

David



---

archive/issue_comments_158091.json:
```json
{
    "body": "Based on the conclusions reached above, I tried adding the experimental warning to the call method. And I get an error message while building Sage that seems to that it is not possible to add the experimental decorator at all.\n\n```\nError compiling Cython file:\n------------------------------------------------------------\n...\n        else:\n            n = self._new_c([],P)\n        return n\n\n    @experimental(trac_number=13215)\n    def __call__(self, eval_pt):\n   ^\n------------------------------------------------------------\n\nsage/rings/polynomial/skew_polynomial_element.pyx:336:4: special functions of cdef classes cannot have decorators\n```\n\n\nIs there an alternate way to add the experimental warning?",
    "created_at": "2016-08-17T16:12:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158091",
    "user": "https://github.com/arpitdm"
}
```

Based on the conclusions reached above, I tried adding the experimental warning to the call method. And I get an error message while building Sage that seems to that it is not possible to add the experimental decorator at all.

```
Error compiling Cython file:
------------------------------------------------------------
...
        else:
            n = self._new_c([],P)
        return n

    @experimental(trac_number=13215)
    def __call__(self, eval_pt):
   ^
------------------------------------------------------------

sage/rings/polynomial/skew_polynomial_element.pyx:336:4: special functions of cdef classes cannot have decorators
```


Is there an alternate way to add the experimental warning?



---

archive/issue_comments_158092.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-17T20:49:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158093.json:
```json
{
    "body": "I think I've managed to rectify the patchbot errors. How can I check if there are further patchbot errors?",
    "created_at": "2016-08-17T21:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158093",
    "user": "https://github.com/arpitdm"
}
```

I think I've managed to rectify the patchbot errors. How can I check if there are further patchbot errors?



---

archive/issue_comments_158094.json:
```json
{
    "body": "Patchbots should soon come back. Then you have to wait for one of them to look at your ticket. Or run your own patchbot.",
    "created_at": "2016-08-18T07:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158094",
    "user": "https://github.com/fchapoton"
}
```

Patchbots should soon come back. Then you have to wait for one of them to look at your ticket. Or run your own patchbot.



---

archive/issue_comments_158095.json:
```json
{
    "body": "Replying to [comment:177 arpitdm]:\n> Based on the conclusions reached above, I tried adding the experimental warning to the call method. And I get an error message while building Sage that seems to that it is not possible to add the experimental decorator at all.\n\nAh ok, that's a snag. Have you tried looking up the source code for ``@`experimental` in `sage/misc/superseded.py`? You should be able to just print the warning manually as the first line of `__call__`. Perhaps add a comment mentioning this emulates ``@`experimental` such that it can be found if one greps \"`@`experimental\".\n\nBest,\nJohan",
    "created_at": "2016-08-18T08:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158095",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:177 arpitdm]:
> Based on the conclusions reached above, I tried adding the experimental warning to the call method. And I get an error message while building Sage that seems to that it is not possible to add the experimental decorator at all.

Ah ok, that's a snag. Have you tried looking up the source code for ``@`experimental` in `sage/misc/superseded.py`? You should be able to just print the warning manually as the first line of `__call__`. Perhaps add a comment mentioning this emulates ``@`experimental` such that it can be found if one greps "`@`experimental".

Best,
Johan



---

archive/issue_comments_158096.json:
```json
{
    "body": "That's right, it's a Cython issue because double-underscore methods need to be assigned to slots at compile time (or at least be handled in a special way), so decorators don't work on them. I agree with comment:181, just issue the warning yourself.",
    "created_at": "2016-08-18T12:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158096",
    "user": "https://github.com/tscrim"
}
```

That's right, it's a Cython issue because double-underscore methods need to be assigned to slots at compile time (or at least be handled in a special way), so decorators don't work on them. I agree with comment:181, just issue the warning yourself.



---

archive/issue_comments_158097.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-18T13:48:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158098.json:
```json
{
    "body": "Hello,\n\nI've added the experimental warning to the `__call__` method manually based on the source code for `experimental` as suggested by `@`jsrn. There are a couple of doctests that \"fail\" because they issue the experimental warning before returning the correct answer. Should I modify the doctests or keep them as it is?\n\nBest,\nArpit.",
    "created_at": "2016-08-18T13:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158098",
    "user": "https://github.com/arpitdm"
}
```

Hello,

I've added the experimental warning to the `__call__` method manually based on the source code for `experimental` as suggested by `@`jsrn. There are a couple of doctests that "fail" because they issue the experimental warning before returning the correct answer. Should I modify the doctests or keep them as it is?

Best,
Arpit.



---

archive/issue_comments_158099.json:
```json
{
    "body": "You need to make sure all doctests pass, so you need to include the warning in the doctest output.",
    "created_at": "2016-08-18T13:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158099",
    "user": "https://github.com/tscrim"
}
```

You need to make sure all doctests pass, so you need to include the warning in the doctest output.



---

archive/issue_comments_158100.json:
```json
{
    "body": "As warnings are issued only once per session, you can fix this by triggering the experimental warning in a specific \"doctest\" at the top of the file.\nSee what have been done in `rings/asymptotic/asymptotic_ring.py` for instance.",
    "created_at": "2016-08-18T13:57:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158100",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

As warnings are issued only once per session, you can fix this by triggering the experimental warning in a specific "doctest" at the top of the file.
See what have been done in `rings/asymptotic/asymptotic_ring.py` for instance.



---

archive/issue_comments_158101.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-18T14:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158102.json:
```json
{
    "body": "Done. Fixed! \nI'm opening it for review.",
    "created_at": "2016-08-18T14:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158102",
    "user": "https://github.com/arpitdm"
}
```

Done. Fixed! 
I'm opening it for review.



---

archive/issue_comments_158103.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-18T14:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158103",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_158104.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-18T14:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158104",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158105.json:
```json
{
    "body": "Is there a reason you didn't add a single doctest at the top for triggering the warning, as David suggested?",
    "created_at": "2016-08-18T17:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158105",
    "user": "https://github.com/johanrosenkilde"
}
```

Is there a reason you didn't add a single doctest at the top for triggering the warning, as David suggested?



---

archive/issue_comments_158106.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-18T22:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158106",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_158107.json:
```json
{
    "body": "`@`jsm `@`dlucas Warnings for doctests are handled different than in a session. For deprecation warnings, these are done every time the deprecation message is hit, and I believe that behavior extends to all warnings.\n\n`@`arpitdm If you are going to do a redirection, which is good for if evaluation does change provided you give it a more descriptive name (and include it as part of the public API), I believe you can just mark the (Python) function with the decorator without problem (as it is no longer a special method).",
    "created_at": "2016-08-18T22:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158107",
    "user": "https://github.com/tscrim"
}
```

`@`jsm `@`dlucas Warnings for doctests are handled different than in a session. For deprecation warnings, these are done every time the deprecation message is hit, and I believe that behavior extends to all warnings.

`@`arpitdm If you are going to do a redirection, which is good for if evaluation does change provided you give it a more descriptive name (and include it as part of the public API), I believe you can just mark the (Python) function with the decorator without problem (as it is no longer a special method).



---

archive/issue_comments_158108.json:
```json
{
    "body": "Replying to [comment:191 tscrim]:\n> `@`jsm `@`dlucas Warnings for doctests are handled different than in a session. For deprecation warnings, these are done every time the deprecation message is hit, and I believe that behavior extends to all warnings.\n\nIs that a recent behaviour? Because triggering the experimental warning once works just fine in the file I referenced above. I also used this myself in #20284 and it also worked perfectly.",
    "created_at": "2016-08-19T06:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158108",
    "user": "https://trac.sagemath.org/admin/accounts/users/dlucas"
}
```

Replying to [comment:191 tscrim]:
> `@`jsm `@`dlucas Warnings for doctests are handled different than in a session. For deprecation warnings, these are done every time the deprecation message is hit, and I believe that behavior extends to all warnings.

Is that a recent behaviour? Because triggering the experimental warning once works just fine in the file I referenced above. I also used this myself in #20284 and it also worked perfectly.



---

archive/issue_comments_158109.json:
```json
{
    "body": "Replying to [comment:191 tscrim]:\n> `@`jsm `@`dlucas Warnings for doctests are handled different than in a session. For deprecation warnings, these are done every time the deprecation message is hit, and I believe that behavior extends to all warnings.\n\nAs David, I have my doubts about this too...\n\n> `@`arpitdm If you are going to do a redirection, which is good for if evaluation does change provided you give it a more descriptive name (and include it as part of the public API), I believe you can just mark the (Python) function with the decorator without problem (as it is no longer a special method).\n\nAgree, since you did an indirection anyway. `operator_eval` is a more descriptive name. Then the two others that we might add later on could be `left_mod_eval` and `right_mod_eval`; not too long, uses very common abbreviations, and all follow the same style.",
    "created_at": "2016-08-19T08:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158109",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:191 tscrim]:
> `@`jsm `@`dlucas Warnings for doctests are handled different than in a session. For deprecation warnings, these are done every time the deprecation message is hit, and I believe that behavior extends to all warnings.

As David, I have my doubts about this too...

> `@`arpitdm If you are going to do a redirection, which is good for if evaluation does change provided you give it a more descriptive name (and include it as part of the public API), I believe you can just mark the (Python) function with the decorator without problem (as it is no longer a special method).

Agree, since you did an indirection anyway. `operator_eval` is a more descriptive name. Then the two others that we might add later on could be `left_mod_eval` and `right_mod_eval`; not too long, uses very common abbreviations, and all follow the same style.



---

archive/issue_comments_158110.json:
```json
{
    "body": "It's also quite possible that classes and methods/functions are handled differently by the decorator.",
    "created_at": "2016-08-19T23:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158110",
    "user": "https://github.com/tscrim"
}
```

It's also quite possible that classes and methods/functions are handled differently by the decorator.



---

archive/issue_comments_158111.json:
```json
{
    "body": "Here is another issue:\n\n\n```\nsage: k = GF(5^3)\nsage: S.<x> = SkewPolynomialRing(k, k.frobenius_endomorphism())\nsage: x.right_quo_rem(Graphics())\n...\nzsh: segmentation fault (core dumped)  sage\n```\n\n\nAs far as understand, one has to use the decorator ``@`coerce_binop` for all binary operations.",
    "created_at": "2016-08-23T05:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158111",
    "user": "https://github.com/xcaruso"
}
```

Here is another issue:


```
sage: k = GF(5^3)
sage: S.<x> = SkewPolynomialRing(k, k.frobenius_endomorphism())
sage: x.right_quo_rem(Graphics())
...
zsh: segmentation fault (core dumped)  sage
```


As far as understand, one has to use the decorator ``@`coerce_binop` for all binary operations.



---

archive/issue_comments_158112.json:
```json
{
    "body": "`@`tscrim, `@`jsrn - Just to clarify, there is a `__call__` magic function for evaluation of the polynomial which calls an `_call` function. Are you suggesting that I rename the latter to `operator_eval`?\n\n`@`Caruso - What does Graphics()`",
    "created_at": "2016-08-23T05:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158112",
    "user": "https://github.com/arpitdm"
}
```

`@`tscrim, `@`jsrn - Just to clarify, there is a `__call__` magic function for evaluation of the polynomial which calls an `_call` function. Are you suggesting that I rename the latter to `operator_eval`?

`@`Caruso - What does Graphics()`



---

archive/issue_comments_158113.json:
```json
{
    "body": "Graphics() is an empty plot. It is not a skew polynomials; that's the point.",
    "created_at": "2016-08-23T05:55:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158113",
    "user": "https://github.com/xcaruso"
}
```

Graphics() is an empty plot. It is not a skew polynomials; that's the point.



---

archive/issue_comments_158114.json:
```json
{
    "body": "Do you really need the `__call__` function for this ticket? Otherwise, I would suggest to forget it for now and reintroduce it only when needed.",
    "created_at": "2016-08-23T05:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158114",
    "user": "https://github.com/xcaruso"
}
```

Do you really need the `__call__` function for this ticket? Otherwise, I would suggest to forget it for now and reintroduce it only when needed.



---

archive/issue_comments_158115.json:
```json
{
    "body": "Replying to [comment:196 arpitdm]:\n> `@`tscrim, `@`jsrn - Just to clarify, there is a `__call__` magic function for evaluation of the polynomial which calls an `_call` function. Are you suggesting that I rename the latter to `operator_eval`?\n\nYes.",
    "created_at": "2016-08-23T11:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158115",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:196 arpitdm]:
> `@`tscrim, `@`jsrn - Just to clarify, there is a `__call__` magic function for evaluation of the polynomial which calls an `_call` function. Are you suggesting that I rename the latter to `operator_eval`?

Yes.



---

archive/issue_comments_158116.json:
```json
{
    "body": "Replying to [comment:198 caruso]:\n> Do you really need the `__call__` function for this ticket? Otherwise, I would suggest to forget it for now and reintroduce it only when needed.\n\nWe need it for Gabidulin codes (for which we need #21131)",
    "created_at": "2016-08-23T11:35:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158116",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:198 caruso]:
> Do you really need the `__call__` function for this ticket? Otherwise, I would suggest to forget it for now and reintroduce it only when needed.

We need it for Gabidulin codes (for which we need #21131)



---

archive/issue_comments_158117.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-23T15:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158117",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158118.json:
```json
{
    "body": "A helper function `def _call` has been added that acts as a helper function to accommodate for operator evaluation. The `def operator_eval` is available as a public method. And the experimental warning is triggered at the top of the module. The segmentation fault due to `Graphics()` for `def right_quo_rem` (resp. left) have been resolved.",
    "created_at": "2016-08-23T15:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158118",
    "user": "https://github.com/arpitdm"
}
```

A helper function `def _call` has been added that acts as a helper function to accommodate for operator evaluation. The `def operator_eval` is available as a public method. And the experimental warning is triggered at the top of the module. The segmentation fault due to `Graphics()` for `def right_quo_rem` (resp. left) have been resolved.



---

archive/issue_comments_158119.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-23T18:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158120.json:
```json
{
    "body": "The `coerce_binop` decorator is added to the relevant methods to resolve the remaining segmentation fault methods.",
    "created_at": "2016-08-23T18:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158120",
    "user": "https://github.com/arpitdm"
}
```

The `coerce_binop` decorator is added to the relevant methods to resolve the remaining segmentation fault methods.



---

archive/issue_comments_158121.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-23T18:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158121",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158122.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-23T19:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158122",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_158123.json:
```json
{
    "body": "- You need to change the docstring of `_call` to reflect that its existence is only because of ``@`experimental`:\n\n```\nHelper function for the ``__call__`` method to accommodate\nthe ``@experimental`` decorator.\n```\n\n- I think you should make `operator_eval` into a `cpdef` method as it will likely be an important method (and should have a C version). You also need to change\n  {{{#!diff\n-(<RingElement> c)*a\n+c * a\n  }}}\n  so the skew polynomial ring can support non-`RingElement` classes as a coefficients and to avoid an unneeded type check by Cython.\n- You have added extra coercion checks for each step of things like `left_xgcd`. I feel that you would be better having a public method that does ``@`coerce_binop` and then private (`cdef`?) functions that assume both elements belong to the same parent. If you don't think this is so important, than don't feel compelled to change it.\n- Are the `*_monic` methods useful to have at the public namespace (instead of (effectively hidden) `cdef` methods)? I feel one can just divide by the leading coefficient and that this operation will not be called frequently by a user.",
    "created_at": "2016-08-23T19:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158123",
    "user": "https://github.com/tscrim"
}
```

- You need to change the docstring of `_call` to reflect that its existence is only because of ``@`experimental`:

```
Helper function for the ``__call__`` method to accommodate
the ``@experimental`` decorator.
```

- I think you should make `operator_eval` into a `cpdef` method as it will likely be an important method (and should have a C version). You also need to change
  {{{#!diff
-(<RingElement> c)*a
+c * a
  }}}
  so the skew polynomial ring can support non-`RingElement` classes as a coefficients and to avoid an unneeded type check by Cython.
- You have added extra coercion checks for each step of things like `left_xgcd`. I feel that you would be better having a public method that does ``@`coerce_binop` and then private (`cdef`?) functions that assume both elements belong to the same parent. If you don't think this is so important, than don't feel compelled to change it.
- Are the `*_monic` methods useful to have at the public namespace (instead of (effectively hidden) `cdef` methods)? I feel one can just divide by the leading coefficient and that this operation will not be called frequently by a user.



---

archive/issue_comments_158124.json:
```json
{
    "body": "Replying to [comment:206 tscrim]:\n> - You have added extra coercion checks for each step of things like `left_xgcd`. I feel that you would be better having a public method that does ``@`coerce_binop` and then private (`cdef`?) functions that assume both elements belong to the same parent. If you don't think this is so important, than don't feel compelled to change it.\n\nSeems like the gain would currently be very small, since these methods now mostly do not call each other internally. If this changes later on, the private method can be added at this time.\n\n> - Are the `*_monic` methods useful to have at the public namespace (instead of (effectively hidden) `cdef` methods)? I feel one can just divide by the leading coefficient and that this operation will not be called frequently by a user.\n\nUsual commutative polynomials have a `monic` method. This is the analogue for non-commutative polynomials.\n\nBest,\nJohan",
    "created_at": "2016-08-23T22:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158124",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:206 tscrim]:
> - You have added extra coercion checks for each step of things like `left_xgcd`. I feel that you would be better having a public method that does ``@`coerce_binop` and then private (`cdef`?) functions that assume both elements belong to the same parent. If you don't think this is so important, than don't feel compelled to change it.

Seems like the gain would currently be very small, since these methods now mostly do not call each other internally. If this changes later on, the private method can be added at this time.

> - Are the `*_monic` methods useful to have at the public namespace (instead of (effectively hidden) `cdef` methods)? I feel one can just divide by the leading coefficient and that this operation will not be called frequently by a user.

Usual commutative polynomials have a `monic` method. This is the analogue for non-commutative polynomials.

Best,
Johan



---

archive/issue_comments_158125.json:
```json
{
    "body": "Replying to [comment:207 jsrn]:\n> Replying to [comment:206 tscrim]:\n> > - You have added extra coercion checks for each step of things like `left_xgcd`. I feel that you would be better having a public method that does ``@`coerce_binop` and then private (`cdef`?) functions that assume both elements belong to the same parent. If you don't think this is so important, than don't feel compelled to change it.\n> \n> Seems like the gain would currently be very small, since these methods now mostly do not call each other internally. If this changes later on, the private method can be added at this time.\n\nHowever this feels it could be used in tight loops, and so while individual calls are marginal, the net sum over 10000 loops can add up. I leave it up to you.\n\n> > - Are the `*_monic` methods useful to have at the public namespace (instead of (effectively hidden) `cdef` methods)? I feel one can just divide by the leading coefficient and that this operation will not be called frequently by a user.\n> \n> Usual commutative polynomials have a `monic` method. This is the analogue for non-commutative polynomials.\n\nOnly for univariate, and in that case all it does is divide by the leading coefficient. However, in that case it extends the base ring so the leading coefficient is a unit, which is different than the behavior here. Also, I don't necessarily see the point of having `monic` in the public API for commutative polynomials (and don't take that as a guide for what must/should be included in the API).",
    "created_at": "2016-08-23T22:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158125",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:207 jsrn]:
> Replying to [comment:206 tscrim]:
> > - You have added extra coercion checks for each step of things like `left_xgcd`. I feel that you would be better having a public method that does ``@`coerce_binop` and then private (`cdef`?) functions that assume both elements belong to the same parent. If you don't think this is so important, than don't feel compelled to change it.
> 
> Seems like the gain would currently be very small, since these methods now mostly do not call each other internally. If this changes later on, the private method can be added at this time.

However this feels it could be used in tight loops, and so while individual calls are marginal, the net sum over 10000 loops can add up. I leave it up to you.

> > - Are the `*_monic` methods useful to have at the public namespace (instead of (effectively hidden) `cdef` methods)? I feel one can just divide by the leading coefficient and that this operation will not be called frequently by a user.
> 
> Usual commutative polynomials have a `monic` method. This is the analogue for non-commutative polynomials.

Only for univariate, and in that case all it does is divide by the leading coefficient. However, in that case it extends the base ring so the leading coefficient is a unit, which is different than the behavior here. Also, I don't necessarily see the point of having `monic` in the public API for commutative polynomials (and don't take that as a guide for what must/should be included in the API).



---

archive/issue_comments_158126.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-24T05:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158126",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158127.json:
```json
{
    "body": "Replying to [comment:208 tscrim]:\n> However this feels it could be used in tight loops, and so while individual calls are marginal, the net sum over 10000 loops can add up. I leave it up to you.\n\nIt's mostly the relative gain that's important, which is still low as long as the functions don't call each other a lot.\n\n> Only for univariate, and in that case all it does is divide by the leading coefficient. However, in that case it extends the base ring so the leading coefficient is a unit, which is different than the behavior here. Also, I don't necessarily see the point of having `monic` in the public API for commutative polynomials (and don't take that as a guide for what must/should be included in the API).\n\nI think it's a handy helper function that I think people will expect. I've used `monic` for univariate polynomials many times. (for multivariate polynomials, it's much more ambiguous what can be meant so the helper function is less useful).",
    "created_at": "2016-08-24T12:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158127",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:208 tscrim]:
> However this feels it could be used in tight loops, and so while individual calls are marginal, the net sum over 10000 loops can add up. I leave it up to you.

It's mostly the relative gain that's important, which is still low as long as the functions don't call each other a lot.

> Only for univariate, and in that case all it does is divide by the leading coefficient. However, in that case it extends the base ring so the leading coefficient is a unit, which is different than the behavior here. Also, I don't necessarily see the point of having `monic` in the public API for commutative polynomials (and don't take that as a guide for what must/should be included in the API).

I think it's a handy helper function that I think people will expect. I've used `monic` for univariate polynomials many times. (for multivariate polynomials, it's much more ambiguous what can be meant so the helper function is less useful).



---

archive/issue_comments_158128.json:
```json
{
    "body": "Replying to [comment:208 tscrim]:\n> However this feels it could be used in tight loops, and so while individual calls are marginal, the net sum over 10000 loops can add up. I leave it up to you.\n\nMaybe, we can leave as it currently is for this ticket and come back to this in ticket #21088 where inplace fast functions are designed.",
    "created_at": "2016-08-24T13:05:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158128",
    "user": "https://github.com/xcaruso"
}
```

Replying to [comment:208 tscrim]:
> However this feels it could be used in tight loops, and so while individual calls are marginal, the net sum over 10000 loops can add up. I leave it up to you.

Maybe, we can leave as it currently is for this ticket and come back to this in ticket #21088 where inplace fast functions are designed.



---

archive/issue_comments_158129.json:
```json
{
    "body": "I've made the `operator_eval` method a cpdef method. And I've edited the docstring to mention that it is a helper function to accommodate the ``@`experimental`decorator. \n\nBest,\nArpit.",
    "created_at": "2016-08-24T13:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158129",
    "user": "https://github.com/arpitdm"
}
```

I've made the `operator_eval` method a cpdef method. And I've edited the docstring to mention that it is a helper function to accommodate the ``@`experimental`decorator. 

Best,
Arpit.



---

archive/issue_comments_158130.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-24T13:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158130",
    "user": "https://github.com/arpitdm"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_158131.json:
```json
{
    "body": "I am okay with the current state. Any other objections?",
    "created_at": "2016-08-24T17:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158131",
    "user": "https://github.com/tscrim"
}
```

I am okay with the current state. Any other objections?



---

archive/issue_comments_158132.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-08-24T22:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_158133.json:
```json
{
    "body": "I went through all docs a last time, polishing many docs and also modifying a few tests and even an implementation or two. Please review.\n\nBest,\nJohan",
    "created_at": "2016-08-24T22:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158133",
    "user": "https://github.com/johanrosenkilde"
}
```

I went through all docs a last time, polishing many docs and also modifying a few tests and even an implementation or two. Please review.

Best,
Johan



---

archive/issue_comments_158134.json:
```json
{
    "body": "I disagree with the following:\n\n- This is probably not true:\n  {{{\n        - ``monic`` -- boolean (default: ``True``). Return whether the right gcd\n          should be normalized to be monic. This parameter must be passed as a\n          named argument.\n  }}}\n  At least I don't see a reason why must go `monic=True` as an argument (for everything but `left_xgcd`).\n  Actually, I don't see why `left_xgcd` has unlimited number of arguments but `right_xgcd` does not.\n- This change make it seem like there is one unique skew polynomial ring (to rule them all :P).\n  {{{#!diff\n-    Return the globally unique skew polynomial ring with given\n-    properties and variable name or names.\n+    Return the globally unique skew polynomial ring.\n  }}}\n- The part about the general case not being implemented should be in a `.. NOTE::` or `.. WARNING::` block:\n  {{{#!diff\n         r\"\"\"\n         Return ``True`` if this skew polynomial is a unit.\n \n-        .. NOTE::\n+        When the base ring `R` is an integral domain, then a skew polynomial `f`\n+        is a unit if and only if degree of `f` is `0` and `f` is then a unit in\n+        `R`.\n \n-            When the base ring `R` is an integral domain, then a skew\n-            polynomial `f` is a unit if and only if degree of `f` is\n-            `0` and `f` is then a unit in `R`. The general case is not\n-            yet implemented.\n+        The case when `R` is not an integral domain is not yet implemented.\n \n         EXAMPLES::\n  }}}\n- You should revert this change so we keep it under 80 characters/line:\n  {{{#!diff\n             else:\n                 return False\n         else:\n-            raise NotImplementedError(\"support for determining if skew polynomial\"\n-                                      \" is a unit is not available when the base\"\n-                                      \" ring of the parent skew polynomial\"\n-                                      \" ring is not an integral domain\")\n+            raise NotImplementedError(\"is_unit is not implemented for skew polynomial rings over base rings which are not integral domains.\")\n \n     def is_nilpotent(self):\n         r\"\"\"\n  }}}\n- You should not break `:trac:`13215`` across multiple lines (I might just be paranoid for this one though).\n- AFAIK, only operator evaluation is implemented, so I don't understand this removal:\n  {{{#!diff\n         .. NOTE::\n \n-            Currently, only \"operator evaluation\" of skew polynomials is implemented\n-            (see :meth:`.operator_eval`).\n             There are two other common notions of evaluation of `f(x)` at some element `a`\n             from the base ring, namely the remainder after left or right modulo by `x-a`.\n  }}}\n- ``__call__`` is not latex, it should be `:meth:`__call__`` (or ```__call__```).\n\nOtherwise all your changes look good to me.",
    "created_at": "2016-08-24T23:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158134",
    "user": "https://github.com/tscrim"
}
```

I disagree with the following:

- This is probably not true:
  {{{
        - ``monic`` -- boolean (default: ``True``). Return whether the right gcd
          should be normalized to be monic. This parameter must be passed as a
          named argument.
  }}}
  At least I don't see a reason why must go `monic=True` as an argument (for everything but `left_xgcd`).
  Actually, I don't see why `left_xgcd` has unlimited number of arguments but `right_xgcd` does not.
- This change make it seem like there is one unique skew polynomial ring (to rule them all :P).
  {{{#!diff
-    Return the globally unique skew polynomial ring with given
-    properties and variable name or names.
+    Return the globally unique skew polynomial ring.
  }}}
- The part about the general case not being implemented should be in a `.. NOTE::` or `.. WARNING::` block:
  {{{#!diff
         r"""
         Return ``True`` if this skew polynomial is a unit.
 
-        .. NOTE::
+        When the base ring `R` is an integral domain, then a skew polynomial `f`
+        is a unit if and only if degree of `f` is `0` and `f` is then a unit in
+        `R`.
 
-            When the base ring `R` is an integral domain, then a skew
-            polynomial `f` is a unit if and only if degree of `f` is
-            `0` and `f` is then a unit in `R`. The general case is not
-            yet implemented.
+        The case when `R` is not an integral domain is not yet implemented.
 
         EXAMPLES::
  }}}
- You should revert this change so we keep it under 80 characters/line:
  {{{#!diff
             else:
                 return False
         else:
-            raise NotImplementedError("support for determining if skew polynomial"
-                                      " is a unit is not available when the base"
-                                      " ring of the parent skew polynomial"
-                                      " ring is not an integral domain")
+            raise NotImplementedError("is_unit is not implemented for skew polynomial rings over base rings which are not integral domains.")
 
     def is_nilpotent(self):
         r"""
  }}}
- You should not break `:trac:`13215`` across multiple lines (I might just be paranoid for this one though).
- AFAIK, only operator evaluation is implemented, so I don't understand this removal:
  {{{#!diff
         .. NOTE::
 
-            Currently, only "operator evaluation" of skew polynomials is implemented
-            (see :meth:`.operator_eval`).
             There are two other common notions of evaluation of `f(x)` at some element `a`
             from the base ring, namely the remainder after left or right modulo by `x-a`.
  }}}
- ``__call__`` is not latex, it should be `:meth:`__call__`` (or ```__call__```).

Otherwise all your changes look good to me.



---

archive/issue_comments_158135.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T07:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158136.json:
```json
{
    "body": "Thanks for carefully going through all the modifications.\n\nReplying to [comment:217 tscrim]:\n> - This is probably not true:\n>   {{{\n>         - ``monic`` -- boolean (default: ``True``). Return whether the right gcd\n>           should be normalized to be monic. This parameter must be passed as a\n>           named argument.\n>   }}}\n>   At least I don't see a reason why must go `monic=True` as an argument (for everything but `left_xgcd`).\n>   Actually, I don't see why `left_xgcd` has unlimited number of arguments but `right_xgcd` does not.\n\nIndeed. I've chatted with Xavier, and the original reason for the \"This parameter must be passed as named argument\" (and perhaps the `*` in `left_xgcd`) is the broken behaviour of `coerce_binop`. This has now been fixed, see #21322. Therefore I've now set the doc and the code to what it should be as soon as #21322 is merged.\n\n> - This change make it seem like there is one unique skew polynomial ring (to rule them all :P).\n\nOK, that change was a bit fast ;-)\n\n> - The part about the general case not being implemented should be in a `.. NOTE::` or `.. WARNING::` block:\n\nI found this overkill, which is why I removed it. But if you insist.\n\n> - You should revert this change so we keep it under 80 characters/line:\n\nI disagree. It makes the source code look terrible. Also:\n\n\n```\n$ grep  '.\\{80,\\}' -r src/sage | grep \"raise\" | wc -l \n4703\n```\n\n\nSo the 80 chars/line is defacto not a convention upheld in raise-statements.\n\n> - You should not break `:trac:`13215`` across multiple lines (I might just be paranoid for this one though).\n\nIndeed. Emacs reflow doesn't understand Sphinx magic syntax probably doesn't allow line breaks :-)\n\n> - AFAIK, only operator evaluation is implemented, so I don't understand this removal:\n>   {{{#!diff\n>          .. NOTE::\n>  \n> -            Currently, only \"operator evaluation\" of skew polynomials is implemented\n> -            (see :meth:`.operator_eval`).\n>              There are two other common notions of evaluation of `f(x)` at some element `a`\n>              from the base ring, namely the remainder after left or right modulo by `x-a`.\n>   }}}\n\nThe entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.\n\n> - ``__call__`` is not latex, it should be `:meth:`__call__`` (or ```__call__```).\n\nIndeed.\n\n> Otherwise all your changes look good to me.\n\nGreat!",
    "created_at": "2016-08-25T07:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158136",
    "user": "https://github.com/johanrosenkilde"
}
```

Thanks for carefully going through all the modifications.

Replying to [comment:217 tscrim]:
> - This is probably not true:
>   {{{
>         - ``monic`` -- boolean (default: ``True``). Return whether the right gcd
>           should be normalized to be monic. This parameter must be passed as a
>           named argument.
>   }}}
>   At least I don't see a reason why must go `monic=True` as an argument (for everything but `left_xgcd`).
>   Actually, I don't see why `left_xgcd` has unlimited number of arguments but `right_xgcd` does not.

Indeed. I've chatted with Xavier, and the original reason for the "This parameter must be passed as named argument" (and perhaps the `*` in `left_xgcd`) is the broken behaviour of `coerce_binop`. This has now been fixed, see #21322. Therefore I've now set the doc and the code to what it should be as soon as #21322 is merged.

> - This change make it seem like there is one unique skew polynomial ring (to rule them all :P).

OK, that change was a bit fast ;-)

> - The part about the general case not being implemented should be in a `.. NOTE::` or `.. WARNING::` block:

I found this overkill, which is why I removed it. But if you insist.

> - You should revert this change so we keep it under 80 characters/line:

I disagree. It makes the source code look terrible. Also:


```
$ grep  '.\{80,\}' -r src/sage | grep "raise" | wc -l 
4703
```


So the 80 chars/line is defacto not a convention upheld in raise-statements.

> - You should not break `:trac:`13215`` across multiple lines (I might just be paranoid for this one though).

Indeed. Emacs reflow doesn't understand Sphinx magic syntax probably doesn't allow line breaks :-)

> - AFAIK, only operator evaluation is implemented, so I don't understand this removal:
>   {{{#!diff
>          .. NOTE::
>  
> -            Currently, only "operator evaluation" of skew polynomials is implemented
> -            (see :meth:`.operator_eval`).
>              There are two other common notions of evaluation of `f(x)` at some element `a`
>              from the base ring, namely the remainder after left or right modulo by `x-a`.
>   }}}

The entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.

> - ``__call__`` is not latex, it should be `:meth:`__call__`` (or ```__call__```).

Indeed.

> Otherwise all your changes look good to me.

Great!



---

archive/issue_comments_158137.json:
```json
{
    "body": "Another remark: Should we define the methods `left_quo` and `right_quo` as well? And create aliases `left_rem` and `right_rem` for `left_mod` and `right_mod` respectively?",
    "created_at": "2016-08-25T12:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158137",
    "user": "https://github.com/xcaruso"
}
```

Another remark: Should we define the methods `left_quo` and `right_quo` as well? And create aliases `left_rem` and `right_rem` for `left_mod` and `right_mod` respectively?



---

archive/issue_comments_158138.json:
```json
{
    "body": "Replying to [comment:219 jsrn]:\n> Thanks for carefully going through all the modifications.\n\nThank you for your work on this (and dealing with my griping).\n\n> Replying to [comment:217 tscrim]:\n> > - This is probably not true:\n> >   {{{\n> >         - ``monic`` -- boolean (default: ``True``). Return whether the right gcd\n> >           should be normalized to be monic. This parameter must be passed as a\n> >           named argument.\n> >   }}}\n> >   At least I don't see a reason why must go `monic=True` as an argument (for everything but `left_xgcd`).\n> >   Actually, I don't see why `left_xgcd` has unlimited number of arguments but `right_xgcd` does not.\n> \n> Indeed. I've chatted with Xavier, and the original reason for the \"This parameter must be passed as named argument\" (and perhaps the `*` in `left_xgcd`) is the broken behaviour of `coerce_binop`. This has now been fixed, see #21322. Therefore I've now set the doc and the code to what it should be as soon as #21322 is merged.\n\nDoes #21322 need to be a dependency of this ticket then?\n\n> > - You should revert this change so we keep it under 80 characters/line:\n> \n> I disagree. It makes the source code look terrible. Also:\n> \n> {{{\n> $ grep  '.\\{80,\\}' -r src/sage | grep \"raise\" | wc -l \n> 4703\n> }}}\n> \n> So the 80 chars/line is defacto not a convention upheld in raise-statements.\n\nIt makes the source code look fine if you are using < ~160 chars wide editors. We do try to stick to ~80 character lines overall in the code, but it is not absolute. Plus, there is a big difference between 90 chars and ~160 chars. IMO, a more fair comparison would be to look at how many `raise` statements are 80,90,100,100+ lines. I do not see the gain for the long line unless you have an editor with a very large character line limit (literally).\n\n> > - AFAIK, only operator evaluation is implemented, so I don't understand this removal:\n> >   {{{#!diff\n> >          .. NOTE::\n> >  \n> > -            Currently, only \"operator evaluation\" of skew polynomials is implemented\n> > -            (see :meth:`.operator_eval`).\n> >              There are two other common notions of evaluation of `f(x)` at some element `a`\n> >              from the base ring, namely the remainder after left or right modulo by `x-a`.\n> >   }}}\n> \n> The entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.\n\nThe key word is \"only\", and the `__call__` doc does not mention this (nor is it anywhere else IIRC).",
    "created_at": "2016-08-25T14:16:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158138",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:219 jsrn]:
> Thanks for carefully going through all the modifications.

Thank you for your work on this (and dealing with my griping).

> Replying to [comment:217 tscrim]:
> > - This is probably not true:
> >   {{{
> >         - ``monic`` -- boolean (default: ``True``). Return whether the right gcd
> >           should be normalized to be monic. This parameter must be passed as a
> >           named argument.
> >   }}}
> >   At least I don't see a reason why must go `monic=True` as an argument (for everything but `left_xgcd`).
> >   Actually, I don't see why `left_xgcd` has unlimited number of arguments but `right_xgcd` does not.
> 
> Indeed. I've chatted with Xavier, and the original reason for the "This parameter must be passed as named argument" (and perhaps the `*` in `left_xgcd`) is the broken behaviour of `coerce_binop`. This has now been fixed, see #21322. Therefore I've now set the doc and the code to what it should be as soon as #21322 is merged.

Does #21322 need to be a dependency of this ticket then?

> > - You should revert this change so we keep it under 80 characters/line:
> 
> I disagree. It makes the source code look terrible. Also:
> 
> {{{
> $ grep  '.\{80,\}' -r src/sage | grep "raise" | wc -l 
> 4703
> }}}
> 
> So the 80 chars/line is defacto not a convention upheld in raise-statements.

It makes the source code look fine if you are using < ~160 chars wide editors. We do try to stick to ~80 character lines overall in the code, but it is not absolute. Plus, there is a big difference between 90 chars and ~160 chars. IMO, a more fair comparison would be to look at how many `raise` statements are 80,90,100,100+ lines. I do not see the gain for the long line unless you have an editor with a very large character line limit (literally).

> > - AFAIK, only operator evaluation is implemented, so I don't understand this removal:
> >   {{{#!diff
> >          .. NOTE::
> >  
> > -            Currently, only "operator evaluation" of skew polynomials is implemented
> > -            (see :meth:`.operator_eval`).
> >              There are two other common notions of evaluation of `f(x)` at some element `a`
> >              from the base ring, namely the remainder after left or right modulo by `x-a`.
> >   }}}
> 
> The entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.

The key word is "only", and the `__call__` doc does not mention this (nor is it anywhere else IIRC).



---

archive/issue_comments_158139.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T14:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158140.json:
```json
{
    "body": "I went through the docs once and clarified them in some places where it was not clear/missing and made some small changes to standardize the docs whereever possible.\n\nBased on discussions with `@`caruso and `@`jsrn, the `def reverse` method is inappropriate in that, reversing a skew polynomial actually involves creating a new skew polynomial ring over the inverse twist map. And that requires more consideration since twist map cannot always be inverted in Sage and also perhaps since \"dual_ring\" or something like that could also be nice to have.\n\nBest,\nArpit.",
    "created_at": "2016-08-25T14:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158140",
    "user": "https://github.com/arpitdm"
}
```

I went through the docs once and clarified them in some places where it was not clear/missing and made some small changes to standardize the docs whereever possible.

Based on discussions with `@`caruso and `@`jsrn, the `def reverse` method is inappropriate in that, reversing a skew polynomial actually involves creating a new skew polynomial ring over the inverse twist map. And that requires more consideration since twist map cannot always be inverted in Sage and also perhaps since "dual_ring" or something like that could also be nice to have.

Best,
Arpit.



---

archive/issue_comments_158141.json:
```json
{
    "body": "Changes like:\n\n```diff\n@@ -134,7 +134,7 @@ cdef class SkewPolynomial(AlgebraElement):\n     where `\\sigma` is the base ring automorphism. This is called\n     the *operator evaluation* method.\n \n-    EXAMPLES:\n+    EXAMPLES::\n \n     We illustrate some functionalities implemented in this class.\n \n```\n\nare wrong because text follows, not (indented) code. So the last commit should be reverted. Also, I disagree with changing the `.. TODO::` block because it is a TODO.\n\nOne other thing I just noticed, a better test than `if not isinstance(base_ring, ring.CommutativeRing):` would be `if base_ring not in Rings().Commutative():` as it is a mathematical check, not an implementation check.\n\nIt is also okay to have methods that rely on others than can error out in certain cases when implementations are not done yet. Just FYI.\n\nYou also did not need to change `r\"\"\"` for every docstring (it doesn't hurt, but it is only necessary when you have escape `\\` characters).",
    "created_at": "2016-08-25T14:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158141",
    "user": "https://github.com/tscrim"
}
```

Changes like:

```diff
@@ -134,7 +134,7 @@ cdef class SkewPolynomial(AlgebraElement):
     where `\sigma` is the base ring automorphism. This is called
     the *operator evaluation* method.
 
-    EXAMPLES:
+    EXAMPLES::
 
     We illustrate some functionalities implemented in this class.
 
```

are wrong because text follows, not (indented) code. So the last commit should be reverted. Also, I disagree with changing the `.. TODO::` block because it is a TODO.

One other thing I just noticed, a better test than `if not isinstance(base_ring, ring.CommutativeRing):` would be `if base_ring not in Rings().Commutative():` as it is a mathematical check, not an implementation check.

It is also okay to have methods that rely on others than can error out in certain cases when implementations are not done yet. Just FYI.

You also did not need to change `r"""` for every docstring (it doesn't hurt, but it is only necessary when you have escape `\` characters).



---

archive/issue_comments_158142.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T14:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158142",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158143.json:
```json
{
    "body": "> -    EXAMPLES:\n> +    EXAMPLES::\n> }}}\n> are wrong because text follows, not (indented) code. So the last commit should be reverted. \nI just checked whether the html documentation builds and in this particular case, it did not give an error while in a couple of other places it did.   \n\n>Also, I disagree with changing the `.. TODO::` block because it is a TODO.\n> \nDo you mean, changing the name from `TODO` to `NOTE` or the description as well?\n\n> One other thing I just noticed, a better test than `if not isinstance(base_ring, ring.CommutativeRing):` would be `if base_ring not in Rings().Commutative():` as it is a mathematical check, not an implementation check.\n> \nOkay. I will change that. \n> It is also okay to have methods that rely on others than can error out in certain cases when implementations are not done yet. Just FYI.\n> \n> You also did not need to change `r\"\"\"` for every docstring (it doesn't hurt, but it is only necessary when you have escape `\\` characters).\nI was just trying to follow the conventions in other files where I saw that `r\"\"\"` is used everywhere. So while, I was going through the code, I figured, it didn't hurt to change it.",
    "created_at": "2016-08-25T15:05:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158143",
    "user": "https://github.com/arpitdm"
}
```

> -    EXAMPLES:
> +    EXAMPLES::
> }}}
> are wrong because text follows, not (indented) code. So the last commit should be reverted. 
I just checked whether the html documentation builds and in this particular case, it did not give an error while in a couple of other places it did.   

>Also, I disagree with changing the `.. TODO::` block because it is a TODO.
> 
Do you mean, changing the name from `TODO` to `NOTE` or the description as well?

> One other thing I just noticed, a better test than `if not isinstance(base_ring, ring.CommutativeRing):` would be `if base_ring not in Rings().Commutative():` as it is a mathematical check, not an implementation check.
> 
Okay. I will change that. 
> It is also okay to have methods that rely on others than can error out in certain cases when implementations are not done yet. Just FYI.
> 
> You also did not need to change `r"""` for every docstring (it doesn't hurt, but it is only necessary when you have escape `\` characters).
I was just trying to follow the conventions in other files where I saw that `r"""` is used everywhere. So while, I was going through the code, I figured, it didn't hurt to change it.



---

archive/issue_comments_158144.json:
```json
{
    "body": "Replying to [comment:227 arpitdm]:\n> >Also, I disagree with changing the `.. TODO::` block because it is a TODO.\n> > \n> Do you mean, changing the name from `TODO` to `NOTE` or the description as well?\n\nYou made a change `.. TODO::` -> `.. NOTE::`, where the message is describing a TODO.\n\n> > You also did not need to change `r\"\"\"` for every docstring (it doesn't hurt, but it is only necessary when you have escape `\\` characters).\n> I was just trying to follow the conventions in other files where I saw that `r\"\"\"` is used everywhere. So while, I was going through the code, I figured, it didn't hurt to change it.\n\nYes, it's perfectly fine (in some aspects, it should be the standard way we do docstrings in Sage). This was another just FYI and future reference.",
    "created_at": "2016-08-25T15:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158144",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:227 arpitdm]:
> >Also, I disagree with changing the `.. TODO::` block because it is a TODO.
> > 
> Do you mean, changing the name from `TODO` to `NOTE` or the description as well?

You made a change `.. TODO::` -> `.. NOTE::`, where the message is describing a TODO.

> > You also did not need to change `r"""` for every docstring (it doesn't hurt, but it is only necessary when you have escape `\` characters).
> I was just trying to follow the conventions in other files where I saw that `r"""` is used everywhere. So while, I was going through the code, I figured, it didn't hurt to change it.

Yes, it's perfectly fine (in some aspects, it should be the standard way we do docstrings in Sage). This was another just FYI and future reference.



---

archive/issue_comments_158145.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T15:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158146.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T21:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158147.json:
```json
{
    "body": "Replying to [comment:221 tscrim]:\n> Does #21322 need to be a dependency of this ticket then?\n\nNot in our opinion: what we do here is the intended behaviour of coerce_binop,\nand the decorated methods works as well as all other methods in Sage decorated\nwith coerce_binop. So #21322 is just a (already known) bug that should be fixed.\n\n> It makes the source code look fine if you are using < ~160 chars wide editors.\n\n??? The line is 141 chars. Also, having a < 160 chars editor doesn't make the\nold 4-line wrapping look good.\n\n> We do try to stick to ~80 character lines overall in the code, but it is not\nabsolute.\n\nIndeed my point before.\n\n> Plus, there is a big difference between 90 chars and ~160 chars. IMO, a more\n> fair comparison would be to look at how many `raise` statements are\n> 80,90,100,100+ lines. I do not see the gain for the long line unless you have an\n> editor with a very large character line limit (literally).\n\n\n```\n    $ grep  '.\\{100,\\}' -r src/sage | grep \"raise\" | wc -l\n    1628\n\n    $ grep  '.\\{120,\\}' -r src/sage | grep \"raise\" | wc -l\n    588\n\n    $ grep  '.\\{140,\\}' -r src/sage | grep \"raise\" | wc -l\n    210\n```\n\n\nAlso, btw:\n\n\n```\n    $ grep  '.\\{140,\\}' -r src/sage | wc -l\n    10459\n```\n\n\nSo it's not like you're not likely to come across a long line in your editor\nwhile editing Sage codes.\n\n> \n> > > - AFAIK, only operator evaluation is implemented, so I don't understand this removal:\n> > >   {{{#!diff\n> > >          .. NOTE::\n> > >  \n> > > -            Currently, only \"operator evaluation\" of skew polynomials is implemented\n> > > -            (see :meth:`.operator_eval`).\n> > >              There are two other common notions of evaluation of `f(x)` at some element `a`\n> > >              from the base ring, namely the remainder after left or right modulo by `x-a`.\n> > >   }}}\n> > \n> > The entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.\n> \n> The key word is \"only\", and the `__call__` doc does not mention this (nor is it anywhere else IIRC).\n\nIt says \"The current calling convention might change in the future to\naccommodate these. Therefore, the current method has been marked as\nexperimental.\". Try to read the doc-string in its entirety -- it really does say\neverything.\n\nBest,\nJohan",
    "created_at": "2016-08-25T21:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158147",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:221 tscrim]:
> Does #21322 need to be a dependency of this ticket then?

Not in our opinion: what we do here is the intended behaviour of coerce_binop,
and the decorated methods works as well as all other methods in Sage decorated
with coerce_binop. So #21322 is just a (already known) bug that should be fixed.

> It makes the source code look fine if you are using < ~160 chars wide editors.

??? The line is 141 chars. Also, having a < 160 chars editor doesn't make the
old 4-line wrapping look good.

> We do try to stick to ~80 character lines overall in the code, but it is not
absolute.

Indeed my point before.

> Plus, there is a big difference between 90 chars and ~160 chars. IMO, a more
> fair comparison would be to look at how many `raise` statements are
> 80,90,100,100+ lines. I do not see the gain for the long line unless you have an
> editor with a very large character line limit (literally).


```
    $ grep  '.\{100,\}' -r src/sage | grep "raise" | wc -l
    1628

    $ grep  '.\{120,\}' -r src/sage | grep "raise" | wc -l
    588

    $ grep  '.\{140,\}' -r src/sage | grep "raise" | wc -l
    210
```


Also, btw:


```
    $ grep  '.\{140,\}' -r src/sage | wc -l
    10459
```


So it's not like you're not likely to come across a long line in your editor
while editing Sage codes.

> 
> > > - AFAIK, only operator evaluation is implemented, so I don't understand this removal:
> > >   {{{#!diff
> > >          .. NOTE::
> > >  
> > > -            Currently, only "operator evaluation" of skew polynomials is implemented
> > > -            (see :meth:`.operator_eval`).
> > >              There are two other common notions of evaluation of `f(x)` at some element `a`
> > >              from the base ring, namely the remainder after left or right modulo by `x-a`.
> > >   }}}
> > 
> > The entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.
> 
> The key word is "only", and the `__call__` doc does not mention this (nor is it anywhere else IIRC).

It says "The current calling convention might change in the future to
accommodate these. Therefore, the current method has been marked as
experimental.". Try to read the doc-string in its entirety -- it really does say
everything.

Best,
Johan



---

archive/issue_comments_158148.json:
```json
{
    "body": "Oh yeah, forgot to add about the whole wrapping thing: I now pushed a compromise where the line is wrapped in two but takes up 92 chars.",
    "created_at": "2016-08-25T21:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158148",
    "user": "https://github.com/johanrosenkilde"
}
```

Oh yeah, forgot to add about the whole wrapping thing: I now pushed a compromise where the line is wrapped in two but takes up 92 chars.



---

archive/issue_comments_158149.json:
```json
{
    "body": "Changing keywords from \"skew polynomials\" to \"skew polynomials, sd75\".",
    "created_at": "2016-08-25T21:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158149",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing keywords from "skew polynomials" to "skew polynomials, sd75".



---

archive/issue_comments_158150.json:
```json
{
    "body": "This ticket is still open for review. Are there any further objections?\n\n-Arpit.",
    "created_at": "2016-08-26T11:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158150",
    "user": "https://github.com/arpitdm"
}
```

This ticket is still open for review. Are there any further objections?

-Arpit.



---

archive/issue_comments_158151.json:
```json
{
    "body": "Replying to [comment:231 jsrn]:\n> Replying to [comment:221 tscrim]:\n> > It makes the source code look fine if you are using < ~160 chars wide editors.\n> \n> ??? The line is 141 chars. Also, having a < 160 chars editor doesn't make the\n> old 4-line wrapping look good.\n\nIt makes it more consistent and it is a standard way to split long lines of text by PEP8.\n\n> > We do try to stick to ~80 character lines overall in the code, but it is not\n> absolute.\n> \n> Indeed my point before.\n\nI can accept the 92 char lines as a compromise.\n\n> Also, btw:\n> \n> {{{\n>     $ grep  '.\\{140,\\}' -r src/sage | wc -l\n>     10459\n> }}}\n> \n> So it's not like you're not likely to come across a long line in your editor\n> while editing Sage codes.\n\nThere are a number of lines that are forced to be long because they are large numbers with no spaces. Plus, I have no idea exactly how many lines of code we have in Sage, but this smells of a fallacy.\n\n> > > > - AFAIK, only operator evaluation is implemented, so I don't understand this removal:\n> > > >   {{{#!diff\n> > > >          .. NOTE::\n> > > >  \n> > > > -            Currently, only \"operator evaluation\" of skew polynomials is implemented\n> > > > -            (see :meth:`.operator_eval`).\n> > > >              There are two other common notions of evaluation of `f(x)` at some element `a`\n> > > >              from the base ring, namely the remainder after left or right modulo by `x-a`.\n> > > >   }}}\n> > > \n> > > The entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.\n> > \n> > The key word is \"only\", and the `__call__` doc does not mention this (nor is it anywhere else IIRC).\n> \n> It says \"The current calling convention might change in the future to\n> accommodate these. Therefore, the current method has been marked as\n> experimental.\". Try to read the doc-string in its entirety -- it really does say\n> everything.\n\nI very carefully had read it, and no, it does not say everything. It does not say that this is the *only* type of evaluation currently implemented. I know this is dangerously close to bikeshedding because this is only visible at the code level. Yet, I think it is important to state why we are (currently) doing things this way: there currently is no other option.",
    "created_at": "2016-08-26T14:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158151",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:231 jsrn]:
> Replying to [comment:221 tscrim]:
> > It makes the source code look fine if you are using < ~160 chars wide editors.
> 
> ??? The line is 141 chars. Also, having a < 160 chars editor doesn't make the
> old 4-line wrapping look good.

It makes it more consistent and it is a standard way to split long lines of text by PEP8.

> > We do try to stick to ~80 character lines overall in the code, but it is not
> absolute.
> 
> Indeed my point before.

I can accept the 92 char lines as a compromise.

> Also, btw:
> 
> {{{
>     $ grep  '.\{140,\}' -r src/sage | wc -l
>     10459
> }}}
> 
> So it's not like you're not likely to come across a long line in your editor
> while editing Sage codes.

There are a number of lines that are forced to be long because they are large numbers with no spaces. Plus, I have no idea exactly how many lines of code we have in Sage, but this smells of a fallacy.

> > > > - AFAIK, only operator evaluation is implemented, so I don't understand this removal:
> > > >   {{{#!diff
> > > >          .. NOTE::
> > > >  
> > > > -            Currently, only "operator evaluation" of skew polynomials is implemented
> > > > -            (see :meth:`.operator_eval`).
> > > >              There are two other common notions of evaluation of `f(x)` at some element `a`
> > > >              from the base ring, namely the remainder after left or right modulo by `x-a`.
> > > >   }}}
> > > 
> > > The entirety of the `__call__` doc reads better now, IMHO: the first line clearly states that operator evaluation is considered. So the note doesn't need to repeat this.
> > 
> > The key word is "only", and the `__call__` doc does not mention this (nor is it anywhere else IIRC).
> 
> It says "The current calling convention might change in the future to
> accommodate these. Therefore, the current method has been marked as
> experimental.". Try to read the doc-string in its entirety -- it really does say
> everything.

I very carefully had read it, and no, it does not say everything. It does not say that this is the *only* type of evaluation currently implemented. I know this is dangerously close to bikeshedding because this is only visible at the code level. Yet, I think it is important to state why we are (currently) doing things this way: there currently is no other option.



---

archive/issue_comments_158152.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-27T06:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158152",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158153.json:
```json
{
    "body": "Replying to [comment:235 tscrim]:\n> I very carefully had read it, and no, it does not say everything. It does not say that this is the *only* type of evaluation currently implemented. I know this is dangerously close to bikeshedding because this is only visible at the code level. Yet, I think it is important to state why we are (currently) doing things this way: there currently is no other option.\n\nBikeshedding indeed...",
    "created_at": "2016-08-27T06:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158153",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:235 tscrim]:
> I very carefully had read it, and no, it does not say everything. It does not say that this is the *only* type of evaluation currently implemented. I know this is dangerously close to bikeshedding because this is only visible at the code level. Yet, I think it is important to state why we are (currently) doing things this way: there currently is no other option.

Bikeshedding indeed...



---

archive/issue_comments_158154.json:
```json
{
    "body": "Replying to [comment:237 jsrn]:\n> Bikeshedding indeed...\n\nSorry for this grumbling. I shouldn't reply to comments before my morning coffee.\n\nAnyway, it seems the issues are getting exponentially less important, so perhaps we can positive review this ticket soon.\nBest,\nJohan",
    "created_at": "2016-08-27T06:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158154",
    "user": "https://github.com/johanrosenkilde"
}
```

Replying to [comment:237 jsrn]:
> Bikeshedding indeed...

Sorry for this grumbling. I shouldn't reply to comments before my morning coffee.

Anyway, it seems the issues are getting exponentially less important, so perhaps we can positive review this ticket soon.
Best,
Johan



---

archive/issue_comments_158155.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-27T16:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158155",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_158156.json:
```json
{
    "body": "Sorry I have a bit of a stick up my `@`$* about this, but I'd like to get this right. So we don't have to deal with issues because someone came along and changed things due to a lack of documentation.\n\nAnyways, I believe we are at a positive review.",
    "created_at": "2016-08-27T16:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158156",
    "user": "https://github.com/tscrim"
}
```

Sorry I have a bit of a stick up my `@`$* about this, but I'd like to get this right. So we don't have to deal with issues because someone came along and changed things due to a lack of documentation.

Anyways, I believe we are at a positive review.



---

archive/issue_comments_158157.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-08-28T08:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158157",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_158158.json:
```json
{
    "body": "PDF docs fail\n\n```\n[docpdf] LaTeX Warning: Hyper reference `sage/rings/polynomial/skew_polynomial_element:s\n[docpdf] age.rings.polynomial.skew_polynomial_element.SkewPolynomialBaseringInjection' o\n[docpdf] n page 471 undefined on input line 39011.\n[docpdf] \n[docpdf] ! Missing { inserted.\n[docpdf] <to be read again> \n[docpdf]                    _\n[docpdf] l.39015 The current semantics of \\(__\n[docpdf]                                      call__\\) are experimental, so a warning...\n[docpdf] \n[docpdf] ? \n[docpdf] ! Emergency stop.\n[docpdf] <to be read again> \n[docpdf]                    _\n[docpdf] l.39015 The current semantics of \\(__\n[docpdf]                                      call__\\) are experimental, so a warning...\n[docpdf] \n[docpdf] !  ==> Fatal error occurred, no output PDF file produced!\n[docpdf] Transcript written on polynomial_rings.log.\n```\n",
    "created_at": "2016-08-28T08:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158158",
    "user": "https://github.com/vbraun"
}
```

PDF docs fail

```
[docpdf] LaTeX Warning: Hyper reference `sage/rings/polynomial/skew_polynomial_element:s
[docpdf] age.rings.polynomial.skew_polynomial_element.SkewPolynomialBaseringInjection' o
[docpdf] n page 471 undefined on input line 39011.
[docpdf] 
[docpdf] ! Missing { inserted.
[docpdf] <to be read again> 
[docpdf]                    _
[docpdf] l.39015 The current semantics of \(__
[docpdf]                                      call__\) are experimental, so a warning...
[docpdf] 
[docpdf] ? 
[docpdf] ! Emergency stop.
[docpdf] <to be read again> 
[docpdf]                    _
[docpdf] l.39015 The current semantics of \(__
[docpdf]                                      call__\) are experimental, so a warning...
[docpdf] 
[docpdf] !  ==> Fatal error occurred, no output PDF file produced!
[docpdf] Transcript written on polynomial_rings.log.
```




---

archive/issue_comments_158159.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-29T13:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158159",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158160.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-08-29T13:57:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158160",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_158161.json:
```json
{
    "body": "I'm assuming that you wanted this back to needs review.",
    "created_at": "2016-08-29T13:57:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158161",
    "user": "https://github.com/tscrim"
}
```

I'm assuming that you wanted this back to needs review.



---

archive/issue_comments_158162.json:
```json
{
    "body": "Indeed, thanks. I seem to have too many things on my stack today ;-)",
    "created_at": "2016-08-29T14:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158162",
    "user": "https://github.com/johanrosenkilde"
}
```

Indeed, thanks. I seem to have too many things on my stack today ;-)



---

archive/issue_comments_158163.json:
```json
{
    "body": "This is now one less. :)",
    "created_at": "2016-08-29T14:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158163",
    "user": "https://github.com/tscrim"
}
```

This is now one less. :)



---

archive/issue_comments_158164.json:
```json
{
    "body": "Fails on 32-bit\n\n```\nsage -t --long src/sage/rings/polynomial/skew_polynomial_element.pyx\n**********************************************************************\nFile \"src/sage/rings/polynomial/skew_polynomial_element.pyx\", line 299, in sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.__hash__\nFailed example:\n    h = hash(a); h\nExpected:\n    -1717348446110052408\nGot:\n    -368406584\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.__hash__\n    [722 tests, 1 failure, 0.57 s]\n```\n",
    "created_at": "2016-08-29T22:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158164",
    "user": "https://github.com/vbraun"
}
```

Fails on 32-bit

```
sage -t --long src/sage/rings/polynomial/skew_polynomial_element.pyx
**********************************************************************
File "src/sage/rings/polynomial/skew_polynomial_element.pyx", line 299, in sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.__hash__
Failed example:
    h = hash(a); h
Expected:
    -1717348446110052408
Got:
    -368406584
**********************************************************************
1 item had failures:
   1 of   6 in sage.rings.polynomial.skew_polynomial_element.SkewPolynomial.__hash__
    [722 tests, 1 failure, 0.57 s]
```




---

archive/issue_comments_158165.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-08-29T22:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158165",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_158166.json:
```json
{
    "body": "Ah, right 32v64 bit. `@`jsm `@`arpitdm I would just make the doctest `hash(a) == hash(a)` and you can set a positive review on my behalf once that is done.",
    "created_at": "2016-08-30T04:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158166",
    "user": "https://github.com/tscrim"
}
```

Ah, right 32v64 bit. `@`jsm `@`arpitdm I would just make the doctest `hash(a) == hash(a)` and you can set a positive review on my behalf once that is done.



---

archive/issue_comments_158167.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-30T07:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158167",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158168.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-30T07:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158168",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_158169.json:
```json
{
    "body": "Done. Let's try again :-)",
    "created_at": "2016-08-30T07:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158169",
    "user": "https://github.com/johanrosenkilde"
}
```

Done. Let's try again :-)



---

archive/issue_comments_158170.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-08-30T07:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158170",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_158171.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-30T22:20:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13043",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13043#issuecomment-158171",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
