# Issue 30086: Optimize degree_iterator and introduce other degree functions

archive/issues_030086.json:
```json
{
    "body": "CC:  @tscrim @dcoudert\n\nKeywords: gsoc2020 graph degree\n\nIn `degree_iterator()` of generic_graph.py, there are unoptimal usages of lambdas which should be removed. \n\nAs well, we introduce two new functions based on graph degree: `vertex_with_degree(degree)` in generic_graph.py and `is_path()` in graph.py \n\nIssue created by migration from https://trac.sagemath.org/ticket/30323\n\n",
    "created_at": "2020-08-09T20:34:11Z",
    "labels": [
        "combinatorics",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Optimize degree_iterator and introduce other degree functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30086",
    "user": "@sgrosser"
}
```
CC:  @tscrim @dcoudert

Keywords: gsoc2020 graph degree

In `degree_iterator()` of generic_graph.py, there are unoptimal usages of lambdas which should be removed. 

As well, we introduce two new functions based on graph degree: `vertex_with_degree(degree)` in generic_graph.py and `is_path()` in graph.py 

Issue created by migration from https://trac.sagemath.org/ticket/30323





---

archive/issue_comments_427736.json:
```json
{
    "body": "I believe you could rewrite the `vertices_with_degree()` simply as\n\n```python\nreturn [v for v,d in self.degree_iterator(labels=True) if d == degree]\n```\n\n\nI would write `is_path()` as\n\n```python\n        if len(self) == 1:  # Special case\n            return not self.has_loops()\n        deg_one_counter = 0\n        for v in self:\n            deg = self._backend.degree(v, False)\n            if deg == 1:\n                deg_one_counter += 1\n                if deg_one_counter > 2:\n                    return False\n\n            elif deg != 2:\n                return False\n        return deg_one_counter == 2\n```\n\n----\nNew commits:",
    "created_at": "2020-08-09T23:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427736",
    "user": "@tscrim"
}
```

I believe you could rewrite the `vertices_with_degree()` simply as

```python
return [v for v,d in self.degree_iterator(labels=True) if d == degree]
```


I would write `is_path()` as

```python
        if len(self) == 1:  # Special case
            return not self.has_loops()
        deg_one_counter = 0
        for v in self:
            deg = self._backend.degree(v, False)
            if deg == 1:
                deg_one_counter += 1
                if deg_one_counter > 2:
                    return False

            elif deg != 2:
                return False
        return deg_one_counter == 2
```

----
New commits:



---

archive/issue_comments_427737.json:
```json
{
    "body": "For `is_path()`, don't you have to check if it is connected? You have could a disjoint union of a path and a cycle. As it is above, this would return true for that case. \n\nReplying to [comment:2 tscrim]:\n> I believe you could rewrite the `vertices_with_degree()` simply as\n> {{{#!python\n> return [v for v,d in self.degree_iterator(labels=True) if d == degree]\n> }}}\n> \n> I would write `is_path()` as\n> {{{#!python\n>         if len(self) == 1:  # Special case\n>             return not self.has_loops()\n>         deg_one_counter = 0\n>         for v in self:\n>             deg = self._backend.degree(v, False)\n>             if deg == 1:\n>                 deg_one_counter += 1\n>                 if deg_one_counter > 2:\n>                     return False\n> \n>             elif deg != 2:\n>                 return False\n>         return deg_one_counter == 2\n> }}}\n> ----\n> New commits:\n> ||[f5aadab](https://git.sagemath.org/sage.git/commit?id=f5aadaba8843615249b6a39231b0d57fa85e395a)||`changed degree_iterator and added vertices_with_degree and is_path`||",
    "created_at": "2020-08-09T23:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427737",
    "user": "@sgrosser"
}
```

For `is_path()`, don't you have to check if it is connected? You have could a disjoint union of a path and a cycle. As it is above, this would return true for that case. 

Replying to [comment:2 tscrim]:
> I believe you could rewrite the `vertices_with_degree()` simply as
> {{{#!python
> return [v for v,d in self.degree_iterator(labels=True) if d == degree]
> }}}
> 
> I would write `is_path()` as
> {{{#!python
>         if len(self) == 1:  # Special case
>             return not self.has_loops()
>         deg_one_counter = 0
>         for v in self:
>             deg = self._backend.degree(v, False)
>             if deg == 1:
>                 deg_one_counter += 1
>                 if deg_one_counter > 2:
>                     return False
> 
>             elif deg != 2:
>                 return False
>         return deg_one_counter == 2
> }}}
> ----
> New commits:
> ||[f5aadab](https://git.sagemath.org/sage.git/commit?id=f5aadaba8843615249b6a39231b0d57fa85e395a)||`changed degree_iterator and added vertices_with_degree and is_path`||



---

archive/issue_comments_427738.json:
```json
{
    "body": "Ah, right. Then please keep that portion. However, note that we only need to check if `deg_one_counter > 2` if it changes.\n\nPlease also add tests for the disjoint union of a path and a cycle, a single vertex (with and without a loop), and a tree.",
    "created_at": "2020-08-09T23:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427738",
    "user": "@tscrim"
}
```

Ah, right. Then please keep that portion. However, note that we only need to check if `deg_one_counter > 2` if it changes.

Please also add tests for the disjoint union of a path and a cycle, a single vertex (with and without a loop), and a tree.



---

archive/issue_comments_427739.json:
```json
{
    "body": "Hello,\n\nthis ticket addresses 3 different issues that could each deserve a specific ticket.\n\n1. the use of lambdas in `degree_iterator`. The proposed solution is good.\n\n2. A method to extract the subset of vertices with a given degree. We have several places in the graph module where we use the one line solution of #comment:2 and a unified method could improve the readability of the code. However, I think it would be more interesting to add a filter option to `vertices` and `vertex_iterator` (somehow already suggested in #1048). This would offer more functionalities without the addition of another method.\n\n3. the `is_path` method. This is a special case of `is_tree` that we need (we also need a method for checking if a subgraph is an (induced) path, but this is another story). To improve the current method, you should:\n   * fix definitions for the empty graph and the graph of order 1\n   * add tests for graphs with 0 or 1 vertex\n   * check that `G.order() == G.size() + 1`. A path is a tree. Actually, this also handle the case of 1 vertex graph.\n   * select for root of the DFS: `root = next(G.vertex_iterator())`. No need to build first the full list of vertices\n   * use an extra variable to store the degree of v\n \nWe could later add a similar method to check is a digraph is a directed path.",
    "created_at": "2020-08-10T10:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427739",
    "user": "@dcoudert"
}
```

Hello,

this ticket addresses 3 different issues that could each deserve a specific ticket.

1. the use of lambdas in `degree_iterator`. The proposed solution is good.

2. A method to extract the subset of vertices with a given degree. We have several places in the graph module where we use the one line solution of #comment:2 and a unified method could improve the readability of the code. However, I think it would be more interesting to add a filter option to `vertices` and `vertex_iterator` (somehow already suggested in #1048). This would offer more functionalities without the addition of another method.

3. the `is_path` method. This is a special case of `is_tree` that we need (we also need a method for checking if a subgraph is an (induced) path, but this is another story). To improve the current method, you should:
   * fix definitions for the empty graph and the graph of order 1
   * add tests for graphs with 0 or 1 vertex
   * check that `G.order() == G.size() + 1`. A path is a tree. Actually, this also handle the case of 1 vertex graph.
   * select for root of the DFS: `root = next(G.vertex_iterator())`. No need to build first the full list of vertices
   * use an extra variable to store the degree of v
 
We could later add a similar method to check is a digraph is a directed path.



---

archive/issue_comments_427740.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-16T20:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427740",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427741.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-16T20:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427741",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427742.json:
```json
{
    "body": "- instead of parameter `degree`, we could have a more general solution like:\n\n```\n        - ``property`` -- function (default: ``None``); a function that inputs\n          a vertex and outputs a boolean value, i.e., a vertex ``v`` is kept if\n          ``property(v) == True``\n...\n        if property is not None:\n            for v in self._backend.iterator_verts(vertices):\n                if property(v):\n                    yield v\n            return\n```\n\n\n\n- in `is_path`:\n\n```diff\n-        Return true if the graph is a path (has degree sequence of n-2 2's and two 1's).\n+        Check whether ``self`` is a path.\n+\n+        A connected graph of order `n \\geq 2` is a path if it is a tree (see :meth:`is_tree`)\n+        with `n-2` vertices of degree 2 and two of degree 1.\n+        By convention, a graph of order 1 without loops is a path, but the empty graph is not a path.\n```\n\n  the link to method `is_tree` might not be correct.\n\n- may be better like that ?\n\n```diff\n-            return True if order else False\n+            return order == 1\n```\n",
    "created_at": "2020-08-17T07:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427742",
    "user": "@dcoudert"
}
```

- instead of parameter `degree`, we could have a more general solution like:

```
        - ``property`` -- function (default: ``None``); a function that inputs
          a vertex and outputs a boolean value, i.e., a vertex ``v`` is kept if
          ``property(v) == True``
...
        if property is not None:
            for v in self._backend.iterator_verts(vertices):
                if property(v):
                    yield v
            return
```



- in `is_path`:

```diff
-        Return true if the graph is a path (has degree sequence of n-2 2's and two 1's).
+        Check whether ``self`` is a path.
+
+        A connected graph of order `n \geq 2` is a path if it is a tree (see :meth:`is_tree`)
+        with `n-2` vertices of degree 2 and two of degree 1.
+        By convention, a graph of order 1 without loops is a path, but the empty graph is not a path.
```

  the link to method `is_tree` might not be correct.

- may be better like that ?

```diff
-            return True if order else False
+            return order == 1
```




---

archive/issue_comments_427743.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-17T18:14:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427743",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427744.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-17T18:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427744",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427745.json:
```json
{
    "body": "Tests seem to be failing with `vertex_property` being called even if it is `None`.",
    "created_at": "2020-08-17T18:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427745",
    "user": "@sgrosser"
}
```

Tests seem to be failing with `vertex_property` being called even if it is `None`.



---

archive/issue_comments_427746.json:
```json
{
    "body": "of course, you have to update the d'octets to the new input parameter of method `vertex_iterator`.",
    "created_at": "2020-08-17T19:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427746",
    "user": "@dcoudert"
}
```

of course, you have to update the d'octets to the new input parameter of method `vertex_iterator`.



---

archive/issue_comments_427747.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-17T20:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427747",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427748.json:
```json
{
    "body": "Tests are still failing even with this change.\n\n`Unhandled SIGABRT: An abort() occurred. This probably occurred because a *compiled* module has a bug in it and is not properly wrapped with sig_on(), sig_off(). Python will now terminate.`\n\nBuilding Sage seems just fine, and running the tests individually works. I don't think I forgot any other doctests to change.",
    "created_at": "2020-08-17T20:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427748",
    "user": "@sgrosser"
}
```

Tests are still failing even with this change.

`Unhandled SIGABRT: An abort() occurred. This probably occurred because a *compiled* module has a bug in it and is not properly wrapped with sig_on(), sig_off(). Python will now terminate.`

Building Sage seems just fine, and running the tests individually works. I don't think I forgot any other doctests to change.



---

archive/issue_comments_427749.json:
```json
{
    "body": "I am -1 on only having `vertex_property` because then it becomes much slower to filter by degrees with all of those extra Python lambda function calls. It is also more work for the user for something that is used with some frequency. I think we should allow for certain shortcuts.",
    "created_at": "2020-08-17T22:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427749",
    "user": "@tscrim"
}
```

I am -1 on only having `vertex_property` because then it becomes much slower to filter by degrees with all of those extra Python lambda function calls. It is also more work for the user for something that is used with some frequency. I think we should allow for certain shortcuts.



---

archive/issue_comments_427750.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-17T23:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427750",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427751.json:
```json
{
    "body": "Replying to [comment:15 tscrim]:\n> I am -1 on only having `vertex_property` because then it becomes much slower to filter by degrees with all of those extra Python lambda function calls. It is also more work for the user for something that is used with some frequency. I think we should allow for certain shortcuts.\n\nWe already have the \"vertices\" shortcut (I'm not sure it's used), so why not having another shortcut.",
    "created_at": "2020-08-18T07:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427751",
    "user": "@dcoudert"
}
```

Replying to [comment:15 tscrim]:
> I am -1 on only having `vertex_property` because then it becomes much slower to filter by degrees with all of those extra Python lambda function calls. It is also more work for the user for something that is used with some frequency. I think we should allow for certain shortcuts.

We already have the "vertices" shortcut (I'm not sure it's used), so why not having another shortcut.



---

archive/issue_comments_427752.json:
```json
{
    "body": "Replying to [comment:17 dcoudert]:\n> Replying to [comment:15 tscrim]:\n> > I am -1 on only having `vertex_property` because then it becomes much slower to filter by degrees with all of those extra Python lambda function calls. It is also more work for the user for something that is used with some frequency. I think we should allow for certain shortcuts.\n> \n> We already have the \"vertices\" shortcut (I'm not sure it's used), so why not having another shortcut. \n\nSorry, I am not quite sure I understand. Do you mean you are okay with adding another shortcut for `degree`?",
    "created_at": "2020-08-18T23:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427752",
    "user": "@tscrim"
}
```

Replying to [comment:17 dcoudert]:
> Replying to [comment:15 tscrim]:
> > I am -1 on only having `vertex_property` because then it becomes much slower to filter by degrees with all of those extra Python lambda function calls. It is also more work for the user for something that is used with some frequency. I think we should allow for certain shortcuts.
> 
> We already have the "vertices" shortcut (I'm not sure it's used), so why not having another shortcut. 

Sorry, I am not quite sure I understand. Do you mean you are okay with adding another shortcut for `degree`?



---

archive/issue_comments_427753.json:
```json
{
    "body": "Yes. However, it should be clear that this shortcut is for equality with given value.",
    "created_at": "2020-08-19T08:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427753",
    "user": "@dcoudert"
}
```

Yes. However, it should be clear that this shortcut is for equality with given value.



---

archive/issue_comments_427754.json:
```json
{
    "body": "Alright, I'll make the degree argument with some clear docs on its usage",
    "created_at": "2020-08-20T19:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427754",
    "user": "@sgrosser"
}
```

Alright, I'll make the degree argument with some clear docs on its usage



---

archive/issue_comments_427755.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-22T16:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427755",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427756.json:
```json
{
    "body": "please make sure that all comments are aligned in 80 columns mode.",
    "created_at": "2020-08-22T16:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427756",
    "user": "@dcoudert"
}
```

please make sure that all comments are aligned in 80 columns mode.



---

archive/issue_comments_427757.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-22T16:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427757",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427758.json:
```json
{
    "body": "I did also like David's suggestion of having a `vertex_property` method, which would work in conjunction with the `degree` input. I was proposing just adding that to the previous version you had at the time.",
    "created_at": "2020-08-23T08:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427758",
    "user": "@tscrim"
}
```

I did also like David's suggestion of having a `vertex_property` method, which would work in conjunction with the `degree` input. I was proposing just adding that to the previous version you had at the time.



---

archive/issue_comments_427759.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-24T04:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427759",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427760.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-24T04:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427760",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427761.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-24T04:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427761",
    "user": "@sgrosser"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_427762.json:
```json
{
    "body": "I am a little worried that `yield from [a list]` will needlessly create a list and increase the memory usage. I think you can just do `yield from (a generator)`.",
    "created_at": "2020-08-24T05:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427762",
    "user": "@tscrim"
}
```

I am a little worried that `yield from [a list]` will needlessly create a list and increase the memory usage. I think you can just do `yield from (a generator)`.



---

archive/issue_comments_427763.json:
```json
{
    "body": "I think the right solution here is to use standard for loops.",
    "created_at": "2020-08-24T07:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427763",
    "user": "@dcoudert"
}
```

I think the right solution here is to use standard for loops.



---

archive/issue_comments_427764.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-24T13:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427764",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427765.json:
```json
{
    "body": "for the last case in `vertex_iterator`, have you tried `return self._backend.iterator_verts(vertices)` or `yield from self._backend.iterator_verts(vertices)` ?",
    "created_at": "2020-08-24T13:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427765",
    "user": "@dcoudert"
}
```

for the last case in `vertex_iterator`, have you tried `return self._backend.iterator_verts(vertices)` or `yield from self._backend.iterator_verts(vertices)` ?



---

archive/issue_comments_427766.json:
```json
{
    "body": "I don't think one should mix yielding and returning, but I could definitely switch it to `yield from`",
    "created_at": "2020-08-24T14:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427766",
    "user": "@sgrosser"
}
```

I don't think one should mix yielding and returning, but I could definitely switch it to `yield from`



---

archive/issue_comments_427767.json:
```json
{
    "body": "I expect it to be better than another loop, but I may be wrong ;)",
    "created_at": "2020-08-24T14:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427767",
    "user": "@dcoudert"
}
```

I expect it to be better than another loop, but I may be wrong ;)



---

archive/issue_comments_427768.json:
```json
{
    "body": "Using `return` causes a bunch of crashing; Python doesn't seem to like putting returns and yields together. Updated to `yield from`!",
    "created_at": "2020-08-24T14:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427768",
    "user": "@sgrosser"
}
```

Using `return` causes a bunch of crashing; Python doesn't seem to like putting returns and yields together. Updated to `yield from`!



---

archive/issue_comments_427769.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-24T14:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427769",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427770.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-24T14:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427770",
    "user": "@dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_427771.json:
```json
{
    "body": "LGTM.",
    "created_at": "2020-08-24T14:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427771",
    "user": "@dcoudert"
}
```

LGTM.



---

archive/issue_comments_427772.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-30T08:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30086#issuecomment-427772",
    "user": "@vbraun"
}
```

Resolution: fixed
