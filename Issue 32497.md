# Issue 32497: Remove .all import of infinity

archive/issues_032497.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/32734\n\n",
    "created_at": "2021-10-21T05:28:38Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Remove .all import of infinity",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32497",
    "user": "mkoeppe"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/32734





---

archive/issue_comments_463525.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-21T05:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463525",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_463526.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-10-21T05:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463526",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_463527.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-21T06:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463527",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463528.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-21T16:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463528",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463529.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-21T16:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463529",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463530.json:
```json
{
    "body": "The failure in `src/sage/rings/integer.pyx` is not from this ticket.",
    "created_at": "2021-10-21T20:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463530",
    "user": "mkoeppe"
}
```

The failure in `src/sage/rings/integer.pyx` is not from this ticket.



---

archive/issue_comments_463531.json:
```json
{
    "body": "What is the new policy? Do we intend to remove all `all.py` eventually? If not, what should(can) remain in `all.py`? Or this is determined by how we split sage library? The last case is not good, I think... \n\nOr there won't be no change in `all.py` but we stop importing things from it in Sage library?",
    "created_at": "2021-10-28T04:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463531",
    "user": "klee"
}
```

What is the new policy? Do we intend to remove all `all.py` eventually? If not, what should(can) remain in `all.py`? Or this is determined by how we split sage library? The last case is not good, I think... 

Or there won't be no change in `all.py` but we stop importing things from it in Sage library?



---

archive/issue_comments_463532.json:
```json
{
    "body": "All `all.py` are kept, for the purpose of populating the global interactive environment (`sage.all`).\n\nWe are just getting rid of imports from `sage.PAC.KAGE.all` within the Sage library. In particular, the imports from those packages `sage.PAC.KAGE` that become namespace packages, i.e., filled with modules from several distributions.",
    "created_at": "2021-10-28T04:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463532",
    "user": "mkoeppe"
}
```

All `all.py` are kept, for the purpose of populating the global interactive environment (`sage.all`).

We are just getting rid of imports from `sage.PAC.KAGE.all` within the Sage library. In particular, the imports from those packages `sage.PAC.KAGE` that become namespace packages, i.e., filled with modules from several distributions.



---

archive/issue_comments_463533.json:
```json
{
    "body": "I am asking because you keep lines like\n\n`from sage.rings.all import AA, QQbar, CC`",
    "created_at": "2021-10-28T04:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463533",
    "user": "klee"
}
```

I am asking because you keep lines like

`from sage.rings.all import AA, QQbar, CC`



---

archive/issue_comments_463534.json:
```json
{
    "body": "Just because I can't do everything on the same ticket. These will also go away, or perhaps it is already done on another ticket.",
    "created_at": "2021-10-28T04:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463534",
    "user": "mkoeppe"
}
```

Just because I can't do everything on the same ticket. These will also go away, or perhaps it is already done on another ticket.



---

archive/issue_comments_463535.json:
```json
{
    "body": "`CC`, for example, is subject of #30741",
    "created_at": "2021-10-28T04:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463535",
    "user": "mkoeppe"
}
```

`CC`, for example, is subject of #30741



---

archive/issue_comments_463536.json:
```json
{
    "body": "Replying to [comment:10 mkoeppe]:\n> Just because I can't do everything on the same ticket. These will also go away, or perhaps it is already done on another ticket.\n\nOkay.\n\nMay I understand the new policy as that we never import from `.all` within the Sage library?",
    "created_at": "2021-10-28T04:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463536",
    "user": "klee"
}
```

Replying to [comment:10 mkoeppe]:
> Just because I can't do everything on the same ticket. These will also go away, or perhaps it is already done on another ticket.

Okay.

May I understand the new policy as that we never import from `.all` within the Sage library?



---

archive/issue_comments_463537.json:
```json
{
    "body": "That would be a safe and easy to understand way to phrase a new policy.\n\nBut that policy would be broader than what is technically needed. For example, I have no plans to split up `sage.plot` into several distributions (`sage.plot` will remain an ordinary package with `__init__.py`). So it does not matter whether library code imports from `sage.plot.all` or `sage.plot.plot`.",
    "created_at": "2021-10-28T04:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463537",
    "user": "mkoeppe"
}
```

That would be a safe and easy to understand way to phrase a new policy.

But that policy would be broader than what is technically needed. For example, I have no plans to split up `sage.plot` into several distributions (`sage.plot` will remain an ordinary package with `__init__.py`). So it does not matter whether library code imports from `sage.plot.all` or `sage.plot.plot`.



---

archive/issue_comments_463538.json:
```json
{
    "body": "These changes seem to increase startup time slightly. But I think we can allow this.",
    "created_at": "2021-10-28T04:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463538",
    "user": "klee"
}
```

These changes seem to increase startup time slightly. But I think we can allow this.



---

archive/issue_comments_463539.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-28T04:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463539",
    "user": "klee"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_463540.json:
```json
{
    "body": "Thanks for reviewing!",
    "created_at": "2021-10-28T05:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463540",
    "user": "mkoeppe"
}
```

Thanks for reviewing!



---

archive/issue_comments_463541.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-31T22:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32497#issuecomment-463541",
    "user": "vbraun"
}
```

Resolution: fixed
