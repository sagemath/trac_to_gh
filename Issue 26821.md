# Issue 26821: Upgrade to Cython 0.29.2

Issue created by migration from https://trac.sagemath.org/ticket/27058

Original creator: slelievre

Original creation time: 2019-01-15 01:01:55

CC:  embray fbissey jdemeyer saraedum slelievre

Keywords: upgrade, cython

Upgrade to Cython 0.29.2.

Tarball: https://files.pythonhosted.org/packages/c1/f2/d1207fd0dfe5cb4dbb06a035eb127653821510d896ce952b5c66ca3dafa4/Cython-0.29.2.tar.gz

This is required for upgrading to NumPy 1.16.0 (#27000).


---

Comment by jdemeyer created at 2019-01-15 08:51:45

I wonder why numpy insists on Cython 0.29.2, but this upgrade should be trivial.


---

Comment by fbissey created at 2019-01-15 08:58:56

Have been using it in sage-on-gentoo since 17/12/2018 and I have done quite a few builds and doctests runs with that. So I think it is OK :) 

Positive review from me when you are ready.
----
New commits:


---

Comment by jdemeyer created at 2019-01-15 09:07:39

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2019-01-15 09:07:46

Changing status from needs_review to positive_review.


---

Comment by embray created at 2019-01-15 14:15:28

According to the release notes for Numpy 1.16 it requires just `Cython>=0.29`.  I'm not sure where the "0.29.2" claim is coming from, though it's possible that it fixes some bugs that affect either Numpy or Sage.


---

Comment by embray created at 2019-01-15 14:18:51

Well, it comes directly from the release announcement: https://mail.python.org/pipermail/numpy-discussion/2019-January/079130.html  Though in the Numpy 1.16 tag itself it only specifies "Cython>=0.29".  I think I'm on numpy-discussion so I'll ask, though at this point it's mostly just for edification.


---

Comment by jdemeyer created at 2019-01-15 15:07:20

Don't worry about it. It's not really important whether it requires Cython-0.29 or Cython-0.29.2. I was just asking for curiosity.

It's not a bad idea to upgrade Cython anyway, since it is supposed to fix a memory leak.


---

Comment by embray created at 2019-01-15 15:29:23

I didn't bother asking but I did find the relevant issue in Numpy and it was exactly because of said memory leak.


---

Comment by slelievre created at 2019-01-22 08:33:59

Changing status from positive_review to needs_review.


---

Comment by slelievre created at 2019-01-22 08:33:59

Fixed by #26969.


---

Comment by embray created at 2019-01-23 10:33:18

Resolution: duplicate


---

Comment by embray created at 2019-01-23 10:33:18

Yes, apparently so...


---

Comment by slelievre created at 2019-01-23 11:35:38

If I understand correctly, our convention for duplicate/invalid/wontfix is to have
no author and only a reviewer (who reviewed that this is duplicate/invalid/wontfix).
