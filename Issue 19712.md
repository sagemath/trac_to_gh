# Issue 19712: composition of symbolic subring functors

archive/issues_019712.json:
```json
{
    "body": "CC:  @dkrenn @tscrim\n\nThis ticket is a follow-up to #19259:\n\nCurrently, subrings of symbolic subrings cannot be created. This can be changed by implementing a composition of the subring functor and letting the respective factory just call the \"correct\" functor.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19949\n\n",
    "created_at": "2016-01-23T17:52:36Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "composition of symbolic subring functors",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19712",
    "user": "https://github.com/behackl"
}
```
CC:  @dkrenn @tscrim

This ticket is a follow-up to #19259:

Currently, subrings of symbolic subrings cannot be created. This can be changed by implementing a composition of the subring functor and letting the respective factory just call the "correct" functor.

Issue created by migration from https://trac.sagemath.org/ticket/19949





---

archive/issue_comments_270671.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2016-01-23T17:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19712#issuecomment-270671",
    "user": "https://github.com/behackl"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_270672.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to symbolics.",
    "created_at": "2016-01-23T17:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19712#issuecomment-270672",
    "user": "https://github.com/behackl"
}
```

Changing component from PLEASE CHANGE to symbolics.



---

archive/issue_comments_270673.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2016-01-24T00:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19712#issuecomment-270673",
    "user": "https://github.com/behackl"
}
```

Last 10 new commits:



---

archive/issue_comments_270674.json:
```json
{
    "body": "Rebased\n----\nNew commits:",
    "created_at": "2021-07-06T16:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19712#issuecomment-270674",
    "user": "https://github.com/mkoeppe"
}
```

Rebased
----
New commits:



---

archive/issue_comments_270675.json:
```json
{
    "body": "Given that #19259 was merged 5 years ago, I think `SymbolicSubring` should not introduce a new positional parameter at the beginning but add it as a keyword parameter. I would also suggest to rename it from `parent` to `ambient` or something like this.\n\nAlso, I think `SymbolicSubringFactory` does not achieve unique representation semantics because the same subring can be created using different (functor, parent) pairs.\nI think a possible way to fix it would be to give `UniqueRepresentation` to `GenericSymbolicSubringFunctor` and `GenericSymbolicSubring`, and to turn `SymbolicSubringFactory` into a simple function.",
    "created_at": "2021-07-06T16:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19712",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19712#issuecomment-270675",
    "user": "https://github.com/mkoeppe"
}
```

Given that #19259 was merged 5 years ago, I think `SymbolicSubring` should not introduce a new positional parameter at the beginning but add it as a keyword parameter. I would also suggest to rename it from `parent` to `ambient` or something like this.

Also, I think `SymbolicSubringFactory` does not achieve unique representation semantics because the same subring can be created using different (functor, parent) pairs.
I think a possible way to fix it would be to give `UniqueRepresentation` to `GenericSymbolicSubringFunctor` and `GenericSymbolicSubring`, and to turn `SymbolicSubringFactory` into a simple function.
