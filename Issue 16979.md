# Issue 16979: Poset / LatticePoset: [meet|join]matrix algorithm

archive/issues_016979.json:
```json
{
    "body": "CC:  @nathanncohen\n\nFirst, because `meet()` is defined on `LatticePoset`, not on `Poset`, it is logical to also move `meet_matrix()` there.\n\nSecond, `hasse_diagram.py` contains\n\n\n```\nle = copy(self.lequal_matrix())\nfor i in range(n): le[i,i] = 1\n```\n\n\nThis is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly.\n\nThird, maybe the whole algorithm could be written better.\n\nAll this applies dually to `join`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17216\n\n",
    "created_at": "2014-10-24T19:11:11Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Poset / LatticePoset: [meet|join]matrix algorithm",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16979",
    "user": "@jm58660"
}
```
CC:  @nathanncohen

First, because `meet()` is defined on `LatticePoset`, not on `Poset`, it is logical to also move `meet_matrix()` there.

Second, `hasse_diagram.py` contains


```
le = copy(self.lequal_matrix())
for i in range(n): le[i,i] = 1
```


This is unneeded, because `lequal_matrix()` already contains ones at diagonal. We can use `_leq_matrix` directly.

Third, maybe the whole algorithm could be written better.

All this applies dually to `join`.

Issue created by migration from https://trac.sagemath.org/ticket/17216





---

archive/issue_comments_225075.json:
```json
{
    "body": "A slightly better(?) version for `_meet()` is done. Somebody could check if I did something stupid.\n\nIt seems to already have a complexity on `O(n^2.5)`. I'm not sure if it would be much faster to just check if a poset is meet-semilattice. Probably no.\n----\nNew commits:",
    "created_at": "2014-10-25T13:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225075",
    "user": "@jm58660"
}
```

A slightly better(?) version for `_meet()` is done. Somebody could check if I did something stupid.

It seems to already have a complexity on `O(n^2.5)`. I'm not sure if it would be much faster to just check if a poset is meet-semilattice. Probably no.
----
New commits:



---

archive/issue_comments_225076.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-25T16:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225076",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225077.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-25T19:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225077",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225078.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-10-25T19:17:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225078",
    "user": "@jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_225079.json:
```json
{
    "body": "Hello !\n\nThanks you for this branch, it is nice code.\n\nA couple of comments and it can go:\n\n1) The tests do not pass in the combinat/poset/ folder.\n\n2) The code of `_join` would be simpled if you called \"min(T)\" instead of relabelling all points as `n-1-y`.\n\nNathann",
    "created_at": "2014-10-26T11:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225079",
    "user": "@nathanncohen"
}
```

Hello !

Thanks you for this branch, it is nice code.

A couple of comments and it can go:

1) The tests do not pass in the combinat/poset/ folder.

2) The code of `_join` would be simpled if you called "min(T)" instead of relabelling all points as `n-1-y`.

Nathann



---

archive/issue_comments_225080.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-26T11:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225080",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_225081.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-27T07:42:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225081",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225082.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-27T07:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225082",
    "user": "@jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_225083.json:
```json
{
    "body": "1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)\n\n2) Hmm... I think I'll think about this on next round iterating throught the code.",
    "created_at": "2014-10-27T07:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225083",
    "user": "@jm58660"
}
```

1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)

2) Hmm... I think I'll think about this on next round iterating throught the code.



---

archive/issue_comments_225084.json:
```json
{
    "body": "Yo !\n\n> 1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)\n\nWell. I just asked a friend, and as usual it depends on the definition that you prefer. He told me that a lattice should have a maximum and minimum element. The definition I prefer is that \"any two guys have both a meet and a join\", which hold for an empty set. I do not mind much to be honest, I always suspect other to use different conventions than I, so I usually do not trust softwares for that `:-P`\n\n> 2) Hmm... I think I'll think about this on next round iterating throught the code.\n\nOh, I had not seen that the code was already like that before you modified it. Well, looks good to go !\n\nNathann",
    "created_at": "2014-10-27T13:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225084",
    "user": "@nathanncohen"
}
```

Yo !

> 1) Should empty set be a lattice? Anyways, this is now corrected. Should have a test suite containing tests for empty semilattices too. Actually a test suite should test all properties for 0- and 1-element posets. (How about `is_chain()`, for example?)

Well. I just asked a friend, and as usual it depends on the definition that you prefer. He told me that a lattice should have a maximum and minimum element. The definition I prefer is that "any two guys have both a meet and a join", which hold for an empty set. I do not mind much to be honest, I always suspect other to use different conventions than I, so I usually do not trust softwares for that `:-P`

> 2) Hmm... I think I'll think about this on next round iterating throught the code.

Oh, I had not seen that the code was already like that before you modified it. Well, looks good to go !

Nathann



---

archive/issue_comments_225085.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-27T13:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225085",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_225086.json:
```json
{
    "body": "Has anyone checked that we do get speedups in meet/join matrix?\n\nFor the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.\n\nAlso could you make the very minor change:\n\n```diff\n-        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)] for\n-                           x in range(n)])\n+        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)]\n+                           for x in range(n)])\n```\n\nIMO it makes the code easier to read, but feel free to disregard.",
    "created_at": "2014-10-27T14:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225086",
    "user": "@tscrim"
}
```

Has anyone checked that we do get speedups in meet/join matrix?

For the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.

Also could you make the very minor change:

```diff
-        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)] for
-                           x in range(n)])
+        return matrix(ZZ, [[n-1-join[n-1-x][n-1-y] for y in range(n)]
+                           for x in range(n)])
```

IMO it makes the code easier to read, but feel free to disregard.



---

archive/issue_comments_225087.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2014-10-27T14:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225087",
    "user": "@tscrim"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_225088.json:
```json
{
    "body": "Actually, you can't remove that function from the category without deprecating it.",
    "created_at": "2014-10-27T14:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225088",
    "user": "@tscrim"
}
```

Actually, you can't remove that function from the category without deprecating it.



---

archive/issue_comments_225089.json:
```json
{
    "body": "About speedup: For example after `P7=Posets(7).list()` it took 630 ms to run `sum([P.is_lattice() for P in P7])`, after this patch 280 ms. Same can be seen in several test runs.\n\nSuggestion of code formatting is good.\n\nWhen is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?",
    "created_at": "2014-10-27T15:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225089",
    "user": "@jm58660"
}
```

About speedup: For example after `P7=Posets(7).list()` it took 630 ms to run `sum([P.is_lattice() for P in P7])`, after this patch 280 ms. Same can be seen in several test runs.

Suggestion of code formatting is good.

When is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?



---

archive/issue_comments_225090.json:
```json
{
    "body": "> Has anyone checked that we do get speedups in meet/join matrix?\n\nLook at the code, and you will see that the algorithm never changed. It is only code simplification. For instance a call to 'max' instead of computing the max by hand, for instance list-comprehension instead of successive calls to 'append'. And a copy of a matrix is avoided too.\n\n> For the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.\n\nTravis, please read the code for your question is answered there.\n\n> Also could you make the very minor change:\n\nPlease don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.\n\nNathann",
    "created_at": "2014-10-27T15:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225090",
    "user": "@nathanncohen"
}
```

> Has anyone checked that we do get speedups in meet/join matrix?

Look at the code, and you will see that the algorithm never changed. It is only code simplification. For instance a call to 'max' instead of computing the max by hand, for instance list-comprehension instead of successive calls to 'append'. And a copy of a matrix is avoided too.

> For the definition of a lattice, I've also been told you want a *unique* meet and join. Otherwise just the existence is something like regular poset, sorry I forget the exact term right now.

Travis, please read the code for your question is answered there.

> Also could you make the very minor change:

Please don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.

Nathann



---

archive/issue_comments_225091.json:
```json
{
    "body": "> Actually, you can't remove that function from the category without deprecating it.\n\nIf such an object exists somewhere in Sage then we should not move the function from the category file to the lattice file, for that would be a regression.\n\nIf such an object does not exist there is no reason to add a deprecation.\n\nBear in mind that an object that currently belongs to the category of `Lattices` and is not a `FiniteLattice` must implement its own `is_meet_semilattice` and `is_join_semilattice`.\n\nNathann",
    "created_at": "2014-10-27T15:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225091",
    "user": "@nathanncohen"
}
```

> Actually, you can't remove that function from the category without deprecating it.

If such an object exists somewhere in Sage then we should not move the function from the category file to the lattice file, for that would be a regression.

If such an object does not exist there is no reason to add a deprecation.

Bear in mind that an object that currently belongs to the category of `Lattices` and is not a `FiniteLattice` must implement its own `is_meet_semilattice` and `is_join_semilattice`.

Nathann



---

archive/issue_comments_225092.json:
```json
{
    "body": "> When is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?\n\nHere is the thing: some guys in Sage rewrote method inheritance and call that \"categories\". A Lattice belongs to several \"categories\" by default:\n\n\n```\nsage: LatticePoset(Poset()).category()\nJoin of Category of finite lattice posets and Category of finite enumerated sets and Category of facade sets\n```\n\n\nNow, you can create any class and make it belong to the category of `Lattices`. It will consequently inherit from the methods defined in the \"lattices\" category file. This being said, `is_lattice` called `is_join_semilattice` and `is_meet_semilattice` which are defined in the usual `poset/lattices.py` file.\n\nWhich means that if you want the `is_lattice` method to work on an object which is not an instance of `FiniteLattice`, then it must implement its own `is_join_semilattice` and `is_meet_semilattice`.\n\nAnd chances are that nobody ever did that, for removing that function from the category while re-implementing it in the poset files did not break any doctest.\n\nNathann",
    "created_at": "2014-10-27T15:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225092",
    "user": "@nathanncohen"
}
```

> When is `is_lattice()` on category tried to run? I don't quite understand --- what happens if both `finite_posets.py` on categories and `posets.py` on combinats define same function?

Here is the thing: some guys in Sage rewrote method inheritance and call that "categories". A Lattice belongs to several "categories" by default:


```
sage: LatticePoset(Poset()).category()
Join of Category of finite lattice posets and Category of finite enumerated sets and Category of facade sets
```


Now, you can create any class and make it belong to the category of `Lattices`. It will consequently inherit from the methods defined in the "lattices" category file. This being said, `is_lattice` called `is_join_semilattice` and `is_meet_semilattice` which are defined in the usual `poset/lattices.py` file.

Which means that if you want the `is_lattice` method to work on an object which is not an instance of `FiniteLattice`, then it must implement its own `is_join_semilattice` and `is_meet_semilattice`.

And chances are that nobody ever did that, for removing that function from the category while re-implementing it in the poset files did not break any doctest.

Nathann



---

archive/issue_comments_225093.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2014-10-27T18:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225093",
    "user": "@tscrim"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_225094.json:
```json
{
    "body": "First off, I changed the status because there was no evidence that people had run any timings. This is why I changed it to `needs_info`. I never trust code that *should* be faster to really be faster; overhead and idiosyncrasies of python can make things slower, even if asymptotically it is a better algorithm (my go-to example is sorting, for (very) small lists, we just use bubble sort because of overhead). Also the algorithm to check that the finite poset is a lattice has changed (using `has_top` and `has_bottom` instead of the matrix).\n\nCategories also can carry mathematical information as well, in particular for morphisms. The issue I'm raising about why the method needs to be deprecated is this. Suppose I have some personal code for a finite poset that does not inherit from `FinitePoset`, but is a parent belonging to the category of `FinitePosets`. Thus I have `is_lattice` from the category. However, with this patch, all of a sudden my code is (horribly) broken because I no longer have the `is_lattice` method.\n\nThere is likely some duplication from things in `FinitePoset` that should be up in the category coming from the initial implementation of the class and when we transitioned to using categories. So what should happen is you should delete the method in the `FinitePoset` class (which doesn't need a deprecation because you get it from the category).",
    "created_at": "2014-10-27T18:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225094",
    "user": "@tscrim"
}
```

First off, I changed the status because there was no evidence that people had run any timings. This is why I changed it to `needs_info`. I never trust code that *should* be faster to really be faster; overhead and idiosyncrasies of python can make things slower, even if asymptotically it is a better algorithm (my go-to example is sorting, for (very) small lists, we just use bubble sort because of overhead). Also the algorithm to check that the finite poset is a lattice has changed (using `has_top` and `has_bottom` instead of the matrix).

Categories also can carry mathematical information as well, in particular for morphisms. The issue I'm raising about why the method needs to be deprecated is this. Suppose I have some personal code for a finite poset that does not inherit from `FinitePoset`, but is a parent belonging to the category of `FinitePosets`. Thus I have `is_lattice` from the category. However, with this patch, all of a sudden my code is (horribly) broken because I no longer have the `is_lattice` method.

There is likely some duplication from things in `FinitePoset` that should be up in the category coming from the initial implementation of the class and when we transitioned to using categories. So what should happen is you should delete the method in the `FinitePoset` class (which doesn't need a deprecation because you get it from the category).



---

archive/issue_comments_225095.json:
```json
{
    "body": "Replying to [comment:14 ncohen]:\n\n> Please don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.\n\nBut Travis had also other points. It does not bother me, because this is an enhancement, not a bug (and nothing like changing `O(2^n)` to `O(n^2)` or similar).\n\nI don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly. But anyways, I'll put a deprecation to categories code.",
    "created_at": "2014-10-27T19:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225095",
    "user": "@jm58660"
}
```

Replying to [comment:14 ncohen]:

> Please don't change the status of a ticket that has been reviewed unless you see something which is actually wrong. Something more important than moving a 'for' around.

But Travis had also other points. It does not bother me, because this is an enhancement, not a bug (and nothing like changing `O(2^n)` to `O(n^2)` or similar).

I don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly. But anyways, I'll put a deprecation to categories code.



---

archive/issue_comments_225096.json:
```json
{
    "body": "Replying to [comment:18 jmantysalo]:\n> I don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly.\n\nWell, no one currently has a need for those categories, or at least could put any generic code in them.\n\n> But anyways, I'll put a deprecation to categories code.\n\nI think you're better off removing the one in `FinitePoset` and reinstating the category one; no deprecation needed. (It's like moving the method up in the class hierarchy.)",
    "created_at": "2014-10-27T21:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225096",
    "user": "@tscrim"
}
```

Replying to [comment:18 jmantysalo]:
> I don't quite get this category thing. For example there is no category for semilattices, but there is for lattices if I remember correctly.

Well, no one currently has a need for those categories, or at least could put any generic code in them.

> But anyways, I'll put a deprecation to categories code.

I think you're better off removing the one in `FinitePoset` and reinstating the category one; no deprecation needed. (It's like moving the method up in the class hierarchy.)



---

archive/issue_comments_225097.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-28T09:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225097",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_225098.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-28T09:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225098",
    "user": "@jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_225099.json:
```json
{
    "body": "Rollback done, `for` moved to other line.\n\nIs it so that function on \"real\" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.\n\nAnyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.",
    "created_at": "2014-10-28T09:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225099",
    "user": "@jm58660"
}
```

Rollback done, `for` moved to other line.

Is it so that function on "real" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.

Anyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.



---

archive/issue_comments_225100.json:
```json
{
    "body": "Replying to [comment:21 jmantysalo]:\n> Rollback done, `for` moved to other line.\n\nThanks.\n\n> Is it so that function on \"real\" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.\n\nYes, that's correct. Such a method would be a good benefit, although it might be good for it to also be an enumerated set. However a lattice morphism is stronger than a poset morphism, in that we must also have `f(a ^ b) = f(a) ^ f(b)` and similarly for joins. See http://en.wikipedia.org/wiki/Lattice_(order). So for two lattices `L,P`, we have `Hom(L, P) <= Hom(L, P, category=Posets())` (the first one is the category of `Lattices`).\n\n> Anyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.\n\nHow most (from my experience) people get documentation is interactively (i.e. `P.is_lattice?`), so it doesn't make a difference where the method is located.",
    "created_at": "2014-10-28T16:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225100",
    "user": "@tscrim"
}
```

Replying to [comment:21 jmantysalo]:
> Rollback done, `for` moved to other line.

Thanks.

> Is it so that function on "real" class overrides function with same name in category? If so, then in principle there could be `meet_matrix()` defined on category --- it would loop over elements and construct a matrix. Basic implementation of lattice would only have `meet()`, but better on could have it's own and better `meet_matrix()`(?) This is basically what could be done in good old C++.

Yes, that's correct. Such a method would be a good benefit, although it might be good for it to also be an enumerated set. However a lattice morphism is stronger than a poset morphism, in that we must also have `f(a ^ b) = f(a) ^ f(b)` and similarly for joins. See http://en.wikipedia.org/wiki/Lattice_(order). So for two lattices `L,P`, we have `Hom(L, P) <= Hom(L, P, category=Posets())` (the first one is the category of `Lattices`).

> Anyways, this is now ready for review. Another thing is making documentation better. There is simply no point to make user to look different places for `is_meet_semilattice()` and `is_lattice()`.

How most (from my experience) people get documentation is interactively (i.e. `P.is_lattice?`), so it doesn't make a difference where the method is located.



---

archive/issue_comments_225101.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-28T16:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225101",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_225102.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-29T10:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16979#issuecomment-225102",
    "user": "@vbraun"
}
```

Resolution: fixed
