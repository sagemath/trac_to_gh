# Issue 14132: update M4RIE to version 20130416

Issue created by migration from Trac.

Original creator: malb

Original creation time: 2013-03-22 13:54:00

Assignee: tbd

M4RIE version 20130416 extends the supported finite field size to 2<sup>16</sup> (from 2<sup>10</sup>). Furthermore, it can be built with 256MB of RAM.


---

Comment by malb created at 2013-03-23 13:09:23

Changing status from new to needs_review.


---

Comment by Snark created at 2013-03-23 22:26:21

It took two hours to compile it on my arm box, and the desktop interface was still running. Compared to the previous version which needed me to shut down X and kill as many services as possible, and where conversion.c took just by itself about six hours to compile, I think I can say this is a marked improvement!

Congrats!


---

Comment by jdemeyer created at 2013-04-08 07:26:00

Please don't make needless whitespace changes. Those will only lead to merge conflicts and makes it harder to review.


---

Comment by malb created at 2013-04-08 07:35:44

Yeah, sorry bout that. I'll not do it again.


---

Comment by vbraun created at 2013-04-18 10:10:36

Can you take out the empty patch hunks (pure whitespace)?


---

Comment by vbraun created at 2013-04-18 10:11:31

Also, the patch doesn't apply to sage-5.9.beta5


---

Comment by malb created at 2013-04-18 12:28:42

I've rebased the patch and stripped whitespace only changes. The patch is still relatively large (50K) because the randomness source of random_matrix changed for some matrices (it's not driven by Givaro any more)


---

Attachment

Updated patch to fix a doctest failure which was caused by some whitespace change.


---

Comment by vbraun created at 2013-04-18 16:04:31

Positive review


---

Comment by vbraun created at 2013-04-18 16:04:31

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-29 06:27:19

Resolution: fixed


---

Comment by zimmerma created at 2013-05-07 07:40:26

when I try to import the patch in Sage 5.9 (with `hg_sage.import_patch("/tmp/m4rie_new_version.patch")`), I get a `diff -git` output,
then it enters my editor. It seems a commit log is missing in this patch.

Paul


---

Comment by zimmerma created at 2013-05-07 07:42:19

after adding a dummy commit log message, I get:

```
Cythonizing sage/matrix/matrix_double_dense.pyx
warning: sage/matrix/matrix_double_dense.pyx:1871:26: Unreachable code
```

Is it wanted?

Paul


---

Comment by malb created at 2013-05-07 13:50:10

Hi Paul, * strangely, enough the patch does have a commit message. Maybe the use of git style diffs is tripping things up?
 * the patch (doesn't seem to) touch matrix_double_dense.pyx.
