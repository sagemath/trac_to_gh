# Issue 26259: Add the Habib Maurer algorithm for modular decomposition to graphs

archive/issues_026259.json:
```json
{
    "body": "Experience has shown that the modern modular decomposition linear algorithms are extremely tricky to implement correctly.  Adding an implementation of the much more straightforward O(n<sup>3</sup>)algorithm from Habib and Maurer \"On the X-Join decomposition for undirected graphs\" would give us a baseline to test against.\n\nAlso move modular decomposition into the graph decompositions directory.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26496\n\n",
    "created_at": "2018-10-16T16:20:05Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Add the Habib Maurer algorithm for modular decomposition to graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26259",
    "user": "https://github.com/deinst"
}
```
Experience has shown that the modern modular decomposition linear algorithms are extremely tricky to implement correctly.  Adding an implementation of the much more straightforward O(n<sup>3</sup>)algorithm from Habib and Maurer "On the X-Join decomposition for undirected graphs" would give us a baseline to test against.

Also move modular decomposition into the graph decompositions directory.

Issue created by migration from https://trac.sagemath.org/ticket/26496





---

archive/issue_comments_369569.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-10-16T16:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369569",
    "user": "https://github.com/deinst"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_369570.json:
```json
{
    "body": "The code should now be functional.  I need to fix up the documentation and add a bunch of tests.\n\n---\nNew commits:",
    "created_at": "2018-10-16T21:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369570",
    "user": "https://github.com/deinst"
}
```

The code should now be functional.  I need to fix up the documentation and add a bunch of tests.

---
New commits:



---

archive/issue_comments_369571.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-18T02:48:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369571",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369572.json:
```json
{
    "body": "Some comments:\n- instead of inner function `vertex_set`, use:\n\n```\nfrom itertools import chain\nfrozenset(chain.from_iterable(loe))\n```\n- Do you really need to sort vertices ? For instance, the gamma function returns a dictionary keyed by tuples of sorted vertices. Can't you instead use frozensets as keys ? similarly, you could keyed dictionary `components` by frozensets to avoid `e = tuple(sorted((v1, v)))`. Sinc ewe are working on the transition to Python3 that forbid comparison of objects of different types, it is better to avoid sorting when not needed. Also, sorting takes some time.\n- When you do `components[old_edge] = components[e]` wouldn't it be more efficient to use union-find (`DisjointSet`) ? If I understand well, you merge groups of edges, right ? \n- what is `either_connected_or_not_connected` ?",
    "created_at": "2018-10-18T12:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369572",
    "user": "https://github.com/dcoudert"
}
```

Some comments:
- instead of inner function `vertex_set`, use:

```
from itertools import chain
frozenset(chain.from_iterable(loe))
```
- Do you really need to sort vertices ? For instance, the gamma function returns a dictionary keyed by tuples of sorted vertices. Can't you instead use frozensets as keys ? similarly, you could keyed dictionary `components` by frozensets to avoid `e = tuple(sorted((v1, v)))`. Sinc ewe are working on the transition to Python3 that forbid comparison of objects of different types, it is better to avoid sorting when not needed. Also, sorting takes some time.
- When you do `components[old_edge] = components[e]` wouldn't it be more efficient to use union-find (`DisjointSet`) ? If I understand well, you merge groups of edges, right ? 
- what is `either_connected_or_not_connected` ?



---

archive/issue_comments_369573.json:
```json
{
    "body": "Thanks for looking at this.\n\nYour first three points are accurate, and I will fix things accordingly (I'll also change the other places where I use sorted tuples to identify subtrees).  I wasn't aware of `DisjointSet`, it's very cool.\n\n`either_connected_or_disconnected` is a part of the existing modular decomposition infrastructure. It tests if a given vertex is either connected to all the vertices in the module or is disconnected from all the vertices in the module.",
    "created_at": "2018-10-18T12:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369573",
    "user": "https://github.com/deinst"
}
```

Thanks for looking at this.

Your first three points are accurate, and I will fix things accordingly (I'll also change the other places where I use sorted tuples to identify subtrees).  I wasn't aware of `DisjointSet`, it's very cool.

`either_connected_or_disconnected` is a part of the existing modular decomposition infrastructure. It tests if a given vertex is either connected to all the vertices in the module or is disconnected from all the vertices in the module.



---

archive/issue_comments_369574.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T01:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369575.json:
```json
{
    "body": "I also added a bunch of other stuff in that commit, replaced the sorted lists with frozen sets, added `itertools.chain` and `DisjointSet` to  the Gamma class code.  I apologize for doing too many things at once.  All that has to be done is to clean the code up a bit and write some human comprehensible documentation.",
    "created_at": "2018-10-19T02:49:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369575",
    "user": "https://github.com/deinst"
}
```

I also added a bunch of other stuff in that commit, replaced the sorted lists with frozen sets, added `itertools.chain` and `DisjointSet` to  the Gamma class code.  I apologize for doing too many things at once.  All that has to be done is to clean the code up a bit and write some human comprehensible documentation.



---

archive/issue_comments_369576.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-22T18:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369577.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-22T18:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369577",
    "user": "https://github.com/deinst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_369578.json:
```json
{
    "body": "Most of the new code is to support the random tests.",
    "created_at": "2018-10-22T18:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369578",
    "user": "https://github.com/deinst"
}
```

Most of the new code is to support the random tests.



---

archive/issue_comments_369579.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-10-23T02:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369579",
    "user": "https://github.com/deinst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_369580.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-23T02:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369581.json:
```json
{
    "body": "A few comments:\n\n- use iterator over vertices and edges when there is no need to create a list\n\n```diff\n- pieces = DisjointSet([frozenset(e) for e in graph.edges(labels=False, sort=False)])\n- for v in graph.vertices():\n+ pieces = DisjointSet(frozenset(e) for e in graph.edge_iterator(labels=False))\n+ for v in graph:\n```\n\n- Testing if something is 0 or empty can be done like that\n\n```diff\n- if graph.order() == 0:\n+ if not graph.order():\n```\n\n- \n\n```diff\n- elif not graph.complement().is_connected():\n-    root = create_series_node()\n-    root.children = [habib_maurer_algorithm(graph.subgraph(vertices=sg), g_classes)\n-             for sg in graph.complement().connected_components()]\n-    return root\n+ g_comp = graph.complement()\n+ if g_comp.is_connected():\n+     root = create_series_node()\n+     root.children = [habib_maurer_algorithm(graph.subgraph(vertices=sg), g_classes)\n+                 for sg in g_comp.connected_components()]\n+     return root\n```\n\n- \n\n```diff\n- if g_classes == None:\n+ if g_classes is None:\n```\n\n- \n\n```diff\n- vertex_set = frozenset(graph.vertices())\n+ vertex_set = frozenset(G.vertex_iterator())\n```\n\n- `sub.neighbors(v)` -> `sub.neighbor_iterator(v)`",
    "created_at": "2018-10-23T09:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369581",
    "user": "https://github.com/dcoudert"
}
```

A few comments:

- use iterator over vertices and edges when there is no need to create a list

```diff
- pieces = DisjointSet([frozenset(e) for e in graph.edges(labels=False, sort=False)])
- for v in graph.vertices():
+ pieces = DisjointSet(frozenset(e) for e in graph.edge_iterator(labels=False))
+ for v in graph:
```

- Testing if something is 0 or empty can be done like that

```diff
- if graph.order() == 0:
+ if not graph.order():
```

- 

```diff
- elif not graph.complement().is_connected():
-    root = create_series_node()
-    root.children = [habib_maurer_algorithm(graph.subgraph(vertices=sg), g_classes)
-             for sg in graph.complement().connected_components()]
-    return root
+ g_comp = graph.complement()
+ if g_comp.is_connected():
+     root = create_series_node()
+     root.children = [habib_maurer_algorithm(graph.subgraph(vertices=sg), g_classes)
+                 for sg in g_comp.connected_components()]
+     return root
```

- 

```diff
- if g_classes == None:
+ if g_classes is None:
```

- 

```diff
- vertex_set = frozenset(graph.vertices())
+ vertex_set = frozenset(G.vertex_iterator())
```

- `sub.neighbors(v)` -> `sub.neighbor_iterator(v)`



---

archive/issue_comments_369582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-23T16:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369583.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-10-23T18:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369583",
    "user": "https://github.com/deinst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_369584.json:
```json
{
    "body": "I thank you for all the work that you've done to improve this.  A few more silly questions.\n\nI'm not fond of using frozensets of two numbers to identify edges of an undirected graph, but do not see any other way to work it without sorting.  \n\nAlso the last patchbot run complained of non-ascii characters:  I cannot find any.  There were also complaints from the coverage tests of 6 missing doctests.  Is there any way to figure out exactly what it wants?",
    "created_at": "2018-10-23T18:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369584",
    "user": "https://github.com/deinst"
}
```

I thank you for all the work that you've done to improve this.  A few more silly questions.

I'm not fond of using frozensets of two numbers to identify edges of an undirected graph, but do not see any other way to work it without sorting.  

Also the last patchbot run complained of non-ascii characters:  I cannot find any.  There were also complaints from the coverage tests of 6 missing doctests.  Is there any way to figure out exactly what it wants?



---

archive/issue_comments_369585.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-24T18:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369586.json:
```json
{
    "body": "Ok this should cover the complaints about the coverage.  I broke down and RTFM'd and it should work now.\nI don't know what to do about the startup time complaint.  Nothing I did should affect the startup time, should it?",
    "created_at": "2018-10-24T18:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369586",
    "user": "https://github.com/deinst"
}
```

Ok this should cover the complaints about the coverage.  I broke down and RTFM'd and it should work now.
I don't know what to do about the startup time complaint.  Nothing I did should affect the startup time, should it?



---

archive/issue_comments_369587.json:
```json
{
    "body": "Ok, I have no idea what is going on with the patchbot.  Of course src/sage/graphs/modular_decomposition.py does not exist.  Why is it looking for it?  I'm more than willing to admit fault, but I have no idea what I did.",
    "created_at": "2018-10-25T15:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369587",
    "user": "https://github.com/deinst"
}
```

Ok, I have no idea what is going on with the patchbot.  Of course src/sage/graphs/modular_decomposition.py does not exist.  Why is it looking for it?  I'm more than willing to admit fault, but I have no idea what I did.



---

archive/issue_comments_369588.json:
```json
{
    "body": "The patchbot can be quite dumb, so don't always read so much into it. Some quick comments:\n\n```diff\n         EXAMPLES::\n+\n             sage: from sage.graphs.graph_decompositions.modular_decomposition import *\n             sage: NodeType.PARALLEL\n             PARALLEL\n```\n(although the `__str__` is actually not being tested because you explicitly need to call `str(NodeType.PARALLEL`, but the method is unnecessary in this case IIRC; worst-case a simple alias `__str__ = __repr__` can be done).\n\n`TODO:` -> `.. TODO::` (and putting the todo part in an indented block).\n\nYour `INPUT:` items should start with a lowercase letter and not end with a period (unless they are multiple sentences).\n\nI think the example graphs, e.g., from Marc Tedder, should be with the usual `EXAMPLES:` block. Moreover, I don't see why you need two `TESTS:` blocks.\n\nI would add a reference to the Habib and Maurer paper.\n\n`$O(n^3)$` -> ``O(n^3)``",
    "created_at": "2018-10-26T04:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369588",
    "user": "https://github.com/tscrim"
}
```

The patchbot can be quite dumb, so don't always read so much into it. Some quick comments:

```diff
         EXAMPLES::
+
             sage: from sage.graphs.graph_decompositions.modular_decomposition import *
             sage: NodeType.PARALLEL
             PARALLEL
```
(although the `__str__` is actually not being tested because you explicitly need to call `str(NodeType.PARALLEL`, but the method is unnecessary in this case IIRC; worst-case a simple alias `__str__ = __repr__` can be done).

`TODO:` -> `.. TODO::` (and putting the todo part in an indented block).

Your `INPUT:` items should start with a lowercase letter and not end with a period (unless they are multiple sentences).

I think the example graphs, e.g., from Marc Tedder, should be with the usual `EXAMPLES:` block. Moreover, I don't see why you need two `TESTS:` blocks.

I would add a reference to the Habib and Maurer paper.

`$O(n^3)$` -> ``O(n^3)``



---

archive/issue_comments_369589.json:
```json
{
    "body": "You should rebuild on last beta and resolve merge conflicts.",
    "created_at": "2018-12-01T20:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369589",
    "user": "https://github.com/dcoudert"
}
```

You should rebuild on last beta and resolve merge conflicts.



---

archive/issue_comments_369590.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-07T21:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369591.json:
```json
{
    "body": "Some more comments, mostly cosmetic.\n\n1. in `graph.py`:\n\n```diff\n-        - ``algorithm`` -- (default: ``'tedder'``) specifies the algorithm to\n-          use among:\n+        - ``algorithm`` -- string (default: ``'tedder'``); specifies the\n+          algorithm to use among:\n```\n\n\n- `When ``algorithm=tedder``` -> `When ``algorithm='tedder'```\n- `When ``algorithm=habib``` -> `When ``algorithm='habib'```\n \n\n```diff\n-        - ``algorithm`` -- (default: ``'tedder'``) specifies the algorithm to\n-          use to find the modular decomposition from among:\n+        - ``algorithm`` -- string (default: ``'tedder'``); specifies the\n+          algorithm to use among:\n```\n\n2. in `modular_decomposition.py`\n\nin `__str__`, `__repr__`, `__init__`\n\n```diff\n-            sage: from sage.graphs.graph_decompositions.modular_decomposition import *\n+            sage: from sage.graphs.graph_decompositions.modular_decomposition import NodeType\n```\n\nThis could be better\n\n```\n-    NodeSplit is an enumeration class which is used to specify the split that\n-    has occurred at the node or at any of its descendants.\n+    Enumeration class specifying the split that occurred at a node or any of\n+    its descendants.\n```\n\n\n```diff\n-    * If the graph is not fragile (neither it or its complement is\n-    disconnected) then there is exactly one class that visits all the\n-    vertices of the graph, and this class consists of just the edges\n-    that connect the maximal strong modules of that graph.\n+    * If the graph is not fragile (neither it or its complement is\n+      disconnected) then there is exactly one class that visits all the\n+      vertices of the graph, and this class consists of just the edges\n+      that connect the maximal strong modules of that graph.\n```\n\nAlign in 80 columns mode:\n\n```\n+    The gamma_classes of the octahedral graph are the three 4-cycles corresponding to\n+    the slices through the center of the octahedron::\n```\n\nRemove blank lines\n\n```\n+    \"\"\"\n+\n+\n+    from itertools import chain\n```\n\n- `graph.edges(labels=False, sort=False)` -> `graph.edge_iterator(labels=False)`\n\n```diff\n-    - ``g_classes`` -- a dictionary whose values are the gamma classes of the\n-      graph, and whose keys are a frozenset of the vertices corresponding to\n-      the class. Used internally.\n+    - ``g_classes`` -- dictionary (default: ``None``); a dictionary whose values\n+      are the gamma classes of the graph, and whose keys are a frozenset of the\n+      vertices corresponding to the class. Used internally.\n```\n\n\n```diff\n-    - ``root`` -- The root of the modular decomposition tree.\n+    - ``root`` -- the root of the modular decomposition tree\n```\n\n```diff\n-    - ``nest`` -- A nested tuple of the form returned by ``tree_to_nested_tuple``.\n+    - ``nest`` -- a nested tuple of the form returned by ``tree_to_nested_tuple``\n```\n\n```diff\n-    - ``root`` -- The root of the tree.\n+    - ``root`` -- the root of the tree\n```\n\n```diff\n-        perm = dict( [ i, perm(i) ] for i in get_vertices(root) )\n+        perm = {i: perm(i) for i in get_vertices(root)}\n```\n\n```diff\n-        raise TypeError(\"Type of perm is not supported for relabeling.\")\n+        raise TypeError(\"type of perm is not supported for relabeling\")\n```\n\n80 columns mode for\n\n```\n+    Check that a graph and its permuted relabeling have the same modular decomposition.\n```\n\nIn general, all comments must be in 80 columns mode.\n\n  \n\n```diff\n-        random_perm = Permutations(list(g1.vertices())).random_element()\n+        random_perm = Permutations(list(g1)).random_element()\n```\n\nDon't put a `.` at the end of itemize like this, unless you have several sentences.\n\n```\n+    - ``max_depth`` -- the maximum depth of the tree.\n```\n\n+================================================================================",
    "created_at": "2018-12-08T20:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369591",
    "user": "https://github.com/dcoudert"
}
```

Some more comments, mostly cosmetic.

1. in `graph.py`:

```diff
-        - ``algorithm`` -- (default: ``'tedder'``) specifies the algorithm to
-          use among:
+        - ``algorithm`` -- string (default: ``'tedder'``); specifies the
+          algorithm to use among:
```


- `When ``algorithm=tedder``` -> `When ``algorithm='tedder'```
- `When ``algorithm=habib``` -> `When ``algorithm='habib'```
 

```diff
-        - ``algorithm`` -- (default: ``'tedder'``) specifies the algorithm to
-          use to find the modular decomposition from among:
+        - ``algorithm`` -- string (default: ``'tedder'``); specifies the
+          algorithm to use among:
```

2. in `modular_decomposition.py`

in `__str__`, `__repr__`, `__init__`

```diff
-            sage: from sage.graphs.graph_decompositions.modular_decomposition import *
+            sage: from sage.graphs.graph_decompositions.modular_decomposition import NodeType
```

This could be better

```
-    NodeSplit is an enumeration class which is used to specify the split that
-    has occurred at the node or at any of its descendants.
+    Enumeration class specifying the split that occurred at a node or any of
+    its descendants.
```


```diff
-    * If the graph is not fragile (neither it or its complement is
-    disconnected) then there is exactly one class that visits all the
-    vertices of the graph, and this class consists of just the edges
-    that connect the maximal strong modules of that graph.
+    * If the graph is not fragile (neither it or its complement is
+      disconnected) then there is exactly one class that visits all the
+      vertices of the graph, and this class consists of just the edges
+      that connect the maximal strong modules of that graph.
```

Align in 80 columns mode:

```
+    The gamma_classes of the octahedral graph are the three 4-cycles corresponding to
+    the slices through the center of the octahedron::
```

Remove blank lines

```
+    """
+
+
+    from itertools import chain
```

- `graph.edges(labels=False, sort=False)` -> `graph.edge_iterator(labels=False)`

```diff
-    - ``g_classes`` -- a dictionary whose values are the gamma classes of the
-      graph, and whose keys are a frozenset of the vertices corresponding to
-      the class. Used internally.
+    - ``g_classes`` -- dictionary (default: ``None``); a dictionary whose values
+      are the gamma classes of the graph, and whose keys are a frozenset of the
+      vertices corresponding to the class. Used internally.
```


```diff
-    - ``root`` -- The root of the modular decomposition tree.
+    - ``root`` -- the root of the modular decomposition tree
```

```diff
-    - ``nest`` -- A nested tuple of the form returned by ``tree_to_nested_tuple``.
+    - ``nest`` -- a nested tuple of the form returned by ``tree_to_nested_tuple``
```

```diff
-    - ``root`` -- The root of the tree.
+    - ``root`` -- the root of the tree
```

```diff
-        perm = dict( [ i, perm(i) ] for i in get_vertices(root) )
+        perm = {i: perm(i) for i in get_vertices(root)}
```

```diff
-        raise TypeError("Type of perm is not supported for relabeling.")
+        raise TypeError("type of perm is not supported for relabeling")
```

80 columns mode for

```
+    Check that a graph and its permuted relabeling have the same modular decomposition.
```

In general, all comments must be in 80 columns mode.

  

```diff
-        random_perm = Permutations(list(g1.vertices())).random_element()
+        random_perm = Permutations(list(g1)).random_element()
```

Don't put a `.` at the end of itemize like this, unless you have several sentences.

```
+    - ``max_depth`` -- the maximum depth of the tree.
```

+================================================================================



---

archive/issue_events_065845.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-08T20:49:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65845"
}
```



---

archive/issue_comments_369592.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-23T18:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369592",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369593.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-25T22:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369593",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369594.json:
```json
{
    "body": "two superficial questions:\n\n* would it be sensible / feasable / outside the scope of this ticket to make `modular_decomposition` actually return a `LabelledRootedTree`?\n\n* it would be more emacs-friendly to use\n\n```\n            sage: from sage.graphs.graph_decompositions.modular_decomposition \\\n            ....:      import NodeType\n```\ninstead of\n\n```\n            sage: from sage.graphs.graph_decompositions.modular_decomposition \\\n                       import NodeType\n```",
    "created_at": "2019-02-08T09:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369594",
    "user": "https://github.com/mantepse"
}
```

two superficial questions:

* would it be sensible / feasable / outside the scope of this ticket to make `modular_decomposition` actually return a `LabelledRootedTree`?

* it would be more emacs-friendly to use

```
            sage: from sage.graphs.graph_decompositions.modular_decomposition \
            ....:      import NodeType
```
instead of

```
            sage: from sage.graphs.graph_decompositions.modular_decomposition \
                       import NodeType
```



---

archive/issue_comments_369595.json:
```json
{
    "body": "It is certainly possible to add a parameter to choose the output format.",
    "created_at": "2019-02-08T09:59:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369595",
    "user": "https://github.com/dcoudert"
}
```

It is certainly possible to add a parameter to choose the output format.



---

archive/issue_comments_369596.json:
```json
{
    "body": "Sorry for the delay in reviewing this ticket. It is almost ready.\n\n* consider comment #26496#comment:25\n\n* Ensure that comments are in 80 columns formatting mode. For instance, this should be too long\n\n```\n+        - ``algorithm`` -- string (default: ``'tedder'``); specifies the algorithm to\n+          use among:\n```\n\n\n* indentation\n\n```diff\n-          4\n-         5\n+          4\n+          5\n```\n\n\n* avoid calls to `.vertices()` whenever possible (i.e., when it is not required to sort the vertices)\n\n```diff\n-            for v in g.vertices():\n-                if v not in module:\n+            for v in g:\n+                if v not in module:\n```\n\n\n* Method `md_tree_to_graph` could made more visible (could be useful not only for testing) and possibly renamed something like `modular_decomposition_tree_to_graph`.\n\n\nIn a future ticket, we could create a class `ModularDecomposition` that computes de decomposition and provides access to various format of the result (tree, `LabelledRootedTree`, nested tuples, etc.) and ease access to methods like `md_tree_to_graph`.",
    "created_at": "2019-02-08T10:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369596",
    "user": "https://github.com/dcoudert"
}
```

Sorry for the delay in reviewing this ticket. It is almost ready.

* consider comment #26496#comment:25

* Ensure that comments are in 80 columns formatting mode. For instance, this should be too long

```
+        - ``algorithm`` -- string (default: ``'tedder'``); specifies the algorithm to
+          use among:
```


* indentation

```diff
-          4
-         5
+          4
+          5
```


* avoid calls to `.vertices()` whenever possible (i.e., when it is not required to sort the vertices)

```diff
-            for v in g.vertices():
-                if v not in module:
+            for v in g:
+                if v not in module:
```


* Method `md_tree_to_graph` could made more visible (could be useful not only for testing) and possibly renamed something like `modular_decomposition_tree_to_graph`.


In a future ticket, we could create a class `ModularDecomposition` that computes de decomposition and provides access to various format of the result (tree, `LabelledRootedTree`, nested tuples, etc.) and ease access to methods like `md_tree_to_graph`.



---

archive/issue_comments_369597.json:
```json
{
    "body": "Here is a translation routine:\n\n```\ndef to_labelled_rooted_tree(m):\n    if m.node_type.name == \"NORMAL\":\n        return LabelledRootedTree([], label=m.children[0])\n    else:\n        return LabelledRootedTree(map(to_labelled_rooted_tree, m.children),\n                                  label=m.node_type)\n```\n\nA comment: I think it is quite unusual in sage to have properties (as opposed to methods that only take `self` as argument).  They may be practical here, but are probably confusing for users.",
    "created_at": "2019-02-08T11:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369597",
    "user": "https://github.com/mantepse"
}
```

Here is a translation routine:

```
def to_labelled_rooted_tree(m):
    if m.node_type.name == "NORMAL":
        return LabelledRootedTree([], label=m.children[0])
    else:
        return LabelledRootedTree(map(to_labelled_rooted_tree, m.children),
                                  label=m.node_type)
```

A comment: I think it is quite unusual in sage to have properties (as opposed to methods that only take `self` as argument).  They may be practical here, but are probably confusing for users.



---

archive/issue_comments_369598.json:
```json
{
    "body": "Replying to [comment:25 mantepse]:\n> * it would be more emacs-friendly to use\n> \n> ```\n>             sage: from sage.graphs.graph_decompositions.modular_decomposition \\\n>             ....:      import NodeType\n> ```\n> instead of\n> \n> ```\n>             sage: from sage.graphs.graph_decompositions.modular_decomposition \\\n>                        import NodeType\n> ```\n\n\nThe former is how it would appear as actual Sage input, so IMO that would be the preferable thing to have.",
    "created_at": "2019-02-08T13:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369598",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:25 mantepse]:
> * it would be more emacs-friendly to use
> 
> ```
>             sage: from sage.graphs.graph_decompositions.modular_decomposition \
>             ....:      import NodeType
> ```
> instead of
> 
> ```
>             sage: from sage.graphs.graph_decompositions.modular_decomposition \
>                        import NodeType
> ```


The former is how it would appear as actual Sage input, so IMO that would be the preferable thing to have.



---

archive/issue_comments_369599.json:
```json
{
    "body": "I stumbled over a strange problem:\n\n```\nsage: from sage.graphs.graph_decompositions.modular_decomposition import NodeType\nsage: LabelledRootedTree([LabelledRootedTree([], label=NodeType(1)), LabelledRootedTree([], label=NodeType(2))])\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-341-93c36028eb0d> in <module>()\n----> 1 LabelledRootedTree([LabelledRootedTree([], label=NodeType(Integer(1))), LabelledRootedTree([], label=NodeType(Integer(2)))])\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1700)()\n    328         \"\"\"\n    329         if cls.classcall is not None:\n--> 330             return cls.classcall(cls, *args, **kwds)\n    331         else:\n    332             # Fast version of type.__call__(cls, *args, **kwds)\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/rooted_tree.pyc in __classcall_private__(cls, *args, **opts)\n    866             <class 'sage.combinat.rooted_tree.LabelledRootedTrees_all_with_category.element_class'>\n    867         \"\"\"\n--> 868         return cls._auto_parent.element_class(cls._auto_parent, *args, **opts)\n    869 \n    870     @lazy_class_attribute\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1725)()\n    331         else:\n    332             # Fast version of type.__call__(cls, *args, **kwds)\n--> 333             return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n    334 \n    335     def __get__(cls, instance, owner):\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/abstract_tree.pyc in __init__(self, parent, children, label, check)\n   2091         else:\n   2092             self._label = label\n-> 2093         super(AbstractLabelledTree, self).__init__(parent, children, check=check)\n   2094 \n   2095     def _repr_(self):\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/rooted_tree.pyc in __init__(self, parent, children, check)\n    197         #        and children.parent() == parent):\n    198         children = [self.__class__(parent, x) for x in children]\n--> 199         NormalizedClonableList.__init__(self, parent, children, check=check)\n    200 \n    201     def sort_key(self):\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/structure/list_clone.pyx in sage.structure.list_clone.NormalizedClonableList.__init__ (build/cythonized/sage/structure/list_clone.c:12917)()\n   1815         \"\"\"\n   1816         ClonableList.__init__(self, parent, lst, False, False)\n-> 1817         self.normalize()\n   1818         self._is_immutable = immutable\n   1819         if check:\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/structure/list_clone.pyx in sage.structure.list_clone.NormalizedClonableList.normalize (build/cythonized/sage/structure/list_clone.c:13217)()\n   1837         return ClonableList.__exit__(self, typ, value, tracback)\n   1838 \n-> 1839     cpdef normalize(self):\n   1840         \"\"\"\n   1841         Normalize ``self``\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/rooted_tree.pyc in normalize(self)\n    299         for st in self:\n    300             assert st.is_immutable(), \"Subtree {} is not normalized\".format(st)\n--> 301         self._get_list().sort(key=lambda t: t.sort_key())\n    302         # ensure unique representation\n    303         self.set_immutable()\n\n/home/martin/sage-develop/local/lib/python2.7/site-packages/enum/__init__.pyc in __lt__(self, other)\n    728 \n    729     def __lt__(self, other):\n--> 730         raise TypeError(\"unorderable types: %s() < %s()\" % (self.__class__.__name__, other.__class__.__name__))\n    731     temp_enum_dict['__lt__'] = __lt__\n    732     del __lt__\n\nTypeError: unorderable types: NodeType() < NodeType()\n```",
    "created_at": "2019-02-08T19:29:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369599",
    "user": "https://github.com/mantepse"
}
```

I stumbled over a strange problem:

```
sage: from sage.graphs.graph_decompositions.modular_decomposition import NodeType
sage: LabelledRootedTree([LabelledRootedTree([], label=NodeType(1)), LabelledRootedTree([], label=NodeType(2))])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-341-93c36028eb0d> in <module>()
----> 1 LabelledRootedTree([LabelledRootedTree([], label=NodeType(Integer(1))), LabelledRootedTree([], label=NodeType(Integer(2)))])

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1700)()
    328         """
    329         if cls.classcall is not None:
--> 330             return cls.classcall(cls, *args, **kwds)
    331         else:
    332             # Fast version of type.__call__(cls, *args, **kwds)

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/rooted_tree.pyc in __classcall_private__(cls, *args, **opts)
    866             <class 'sage.combinat.rooted_tree.LabelledRootedTrees_all_with_category.element_class'>
    867         """
--> 868         return cls._auto_parent.element_class(cls._auto_parent, *args, **opts)
    869 
    870     @lazy_class_attribute

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/misc/classcall_metaclass.pyx in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1725)()
    331         else:
    332             # Fast version of type.__call__(cls, *args, **kwds)
--> 333             return (<PyTypeObject*>type).tp_call(cls, args, kwds)
    334 
    335     def __get__(cls, instance, owner):

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/abstract_tree.pyc in __init__(self, parent, children, label, check)
   2091         else:
   2092             self._label = label
-> 2093         super(AbstractLabelledTree, self).__init__(parent, children, check=check)
   2094 
   2095     def _repr_(self):

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/rooted_tree.pyc in __init__(self, parent, children, check)
    197         #        and children.parent() == parent):
    198         children = [self.__class__(parent, x) for x in children]
--> 199         NormalizedClonableList.__init__(self, parent, children, check=check)
    200 
    201     def sort_key(self):

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/structure/list_clone.pyx in sage.structure.list_clone.NormalizedClonableList.__init__ (build/cythonized/sage/structure/list_clone.c:12917)()
   1815         """
   1816         ClonableList.__init__(self, parent, lst, False, False)
-> 1817         self.normalize()
   1818         self._is_immutable = immutable
   1819         if check:

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/structure/list_clone.pyx in sage.structure.list_clone.NormalizedClonableList.normalize (build/cythonized/sage/structure/list_clone.c:13217)()
   1837         return ClonableList.__exit__(self, typ, value, tracback)
   1838 
-> 1839     cpdef normalize(self):
   1840         """
   1841         Normalize ``self``

/home/martin/sage-develop/local/lib/python2.7/site-packages/sage/combinat/rooted_tree.pyc in normalize(self)
    299         for st in self:
    300             assert st.is_immutable(), "Subtree {} is not normalized".format(st)
--> 301         self._get_list().sort(key=lambda t: t.sort_key())
    302         # ensure unique representation
    303         self.set_immutable()

/home/martin/sage-develop/local/lib/python2.7/site-packages/enum/__init__.pyc in __lt__(self, other)
    728 
    729     def __lt__(self, other):
--> 730         raise TypeError("unorderable types: %s() < %s()" % (self.__class__.__name__, other.__class__.__name__))
    731     temp_enum_dict['__lt__'] = __lt__
    732     del __lt__

TypeError: unorderable types: NodeType() < NodeType()
```



---

archive/issue_comments_369600.json:
```json
{
    "body": "Another tiny comment: lines 425--447 are duplicate.",
    "created_at": "2019-02-08T19:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369600",
    "user": "https://github.com/mantepse"
}
```

Another tiny comment: lines 425--447 are duplicate.



---

archive/issue_comments_369601.json:
```json
{
    "body": "Yet another question:  there are three graphs on six vertices where `habib_maurer` and `modular_decomposition` yield different results:\n\n```\nsage: def to_labelled_rooted_tree(m):\n....:    if m.node_type.name == \"NORMAL\":\n....:        return LabelledRootedTree([], label=m.children[0])\n....:    else:\n....:        return LabelledRootedTree(map(to_labelled_rooted_tree, m.children), label=(m.node_type.value,))\n\nsage: view([(G, to_labelled_rooted_tree(modular_decomposition(G)), to_labelled_rooted_tree(habib_maurer_algorithm(G))) for G in graphs(6) if to_labelled_rooted_tree(modular_decomposition(G)) != to_labelled_rooted_tree(habib_maurer_algorithm(G))])\n```\nI am guessing that Habib-Maurer is more reliable, right?  If so, maybe it would make sense to indicate this problem in `modular_decomposition`?",
    "created_at": "2019-02-08T21:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369601",
    "user": "https://github.com/mantepse"
}
```

Yet another question:  there are three graphs on six vertices where `habib_maurer` and `modular_decomposition` yield different results:

```
sage: def to_labelled_rooted_tree(m):
....:    if m.node_type.name == "NORMAL":
....:        return LabelledRootedTree([], label=m.children[0])
....:    else:
....:        return LabelledRootedTree(map(to_labelled_rooted_tree, m.children), label=(m.node_type.value,))

sage: view([(G, to_labelled_rooted_tree(modular_decomposition(G)), to_labelled_rooted_tree(habib_maurer_algorithm(G))) for G in graphs(6) if to_labelled_rooted_tree(modular_decomposition(G)) != to_labelled_rooted_tree(habib_maurer_algorithm(G))])
```
I am guessing that Habib-Maurer is more reliable, right?  If so, maybe it would make sense to indicate this problem in `modular_decomposition`?



---

archive/issue_comments_369602.json:
```json
{
    "body": "I feel stupid now.  Please excuse, I just discovered `G.modular_decomposition`...",
    "created_at": "2019-02-08T21:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369602",
    "user": "https://github.com/mantepse"
}
```

I feel stupid now.  Please excuse, I just discovered `G.modular_decomposition`...



---

archive/issue_comments_369603.json:
```json
{
    "body": "Ok, I'll fix the cosmetic bugs later tonight.\n\nI am loath to make a sweeping change to the return type until I figure out all the places that modular decomposition is used.  I agree that the rooted tree is a more sensible return type than the nested tuples, but changing the return type will break things in Poset, and possibly other places.  I would be more than willing to do the work, but I think that it should be in another ticket.\n\nThe habib-maurer algorithm should be more reliable, the algorithm is much simpler (albeit theoretically slower) than the other algorithm.  It is also much more heavily tested.",
    "created_at": "2019-02-08T22:25:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369603",
    "user": "https://github.com/deinst"
}
```

Ok, I'll fix the cosmetic bugs later tonight.

I am loath to make a sweeping change to the return type until I figure out all the places that modular decomposition is used.  I agree that the rooted tree is a more sensible return type than the nested tuples, but changing the return type will break things in Poset, and possibly other places.  I would be more than willing to do the work, but I think that it should be in another ticket.

The habib-maurer algorithm should be more reliable, the algorithm is much simpler (albeit theoretically slower) than the other algorithm.  It is also much more heavily tested.



---

archive/issue_comments_369604.json:
```json
{
    "body": "Wonderful!\n\nHowever, I think it would be important to make it the default in `graph.py`, since the current version is definitively wrong for graphs of size 6.",
    "created_at": "2019-02-09T07:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369604",
    "user": "https://github.com/mantepse"
}
```

Wonderful!

However, I think it would be important to make it the default in `graph.py`, since the current version is definitively wrong for graphs of size 6.



---

archive/issue_comments_369605.json:
```json
{
    "body": "PS: I retract my comment about properties vs. methods.  I think it is more efficient to change the return type in a later ticket, and then the properties aren't user-visible anymore anyway.",
    "created_at": "2019-02-09T07:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369605",
    "user": "https://github.com/mantepse"
}
```

PS: I retract my comment about properties vs. methods.  I think it is more efficient to change the return type in a later ticket, and then the properties aren't user-visible anymore anyway.



---

archive/issue_comments_369606.json:
```json
{
    "body": "One more superficiality: I believe that `__str__` defaults to using `__repr__`, so the code in `class NodeType` and in `class Node` can be simplified.",
    "created_at": "2019-02-09T15:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369606",
    "user": "https://github.com/mantepse"
}
```

One more superficiality: I believe that `__str__` defaults to using `__repr__`, so the code in `class NodeType` and in `class Node` can be simplified.



---

archive/issue_comments_369607.json:
```json
{
    "body": "Replying to [comment:34 deinst]:\n> I am loath to make a sweeping change to the return type until I figure out all the places that modular decomposition is used.  I agree that the rooted tree is a more sensible return type than the nested tuples, but changing the return type will break things in Poset, and possibly other places.  I would be more than willing to do the work, but I think that it should be in another ticket.\n\n\nI just checked by printing a warning in `sage.graphs.graph_decompositions.modular_decomposition.modular_decomposition` and `.habib_maurer`, and running all doctests (with `--long`): at least in current develop `modular_decomposition` is only called in `sage.graphs.graph.Graph.is_prime` and `sage.graphs.graph.Graph.modular_decomposition`.\n\nSo there shouldn't be any problem, but I agree that it's better to do that in a separate ticket.",
    "created_at": "2019-02-09T17:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369607",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:34 deinst]:
> I am loath to make a sweeping change to the return type until I figure out all the places that modular decomposition is used.  I agree that the rooted tree is a more sensible return type than the nested tuples, but changing the return type will break things in Poset, and possibly other places.  I would be more than willing to do the work, but I think that it should be in another ticket.


I just checked by printing a warning in `sage.graphs.graph_decompositions.modular_decomposition.modular_decomposition` and `.habib_maurer`, and running all doctests (with `--long`): at least in current develop `modular_decomposition` is only called in `sage.graphs.graph.Graph.is_prime` and `sage.graphs.graph.Graph.modular_decomposition`.

So there shouldn't be any problem, but I agree that it's better to do that in a separate ticket.



---

archive/issue_comments_369608.json:
```json
{
    "body": "May be you can already open a ticket with a todo list ? We also have to fix #25872...",
    "created_at": "2019-02-09T18:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369608",
    "user": "https://github.com/dcoudert"
}
```

May be you can already open a ticket with a todo list ? We also have to fix #25872...



---

archive/issue_comments_369609.json:
```json
{
    "body": "I'm on it - I actually prepared a patch.  Should the default be 'habib' or 'tedder'?  Unfortunately, the ordering of the output changed?",
    "created_at": "2019-02-09T18:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369609",
    "user": "https://github.com/mantepse"
}
```

I'm on it - I actually prepared a patch.  Should the default be 'habib' or 'tedder'?  Unfortunately, the ordering of the output changed?



---

archive/issue_comments_369610.json:
```json
{
    "body": "as long as #25872 is not fixed, `'habib'` seems a better choice...\n\nCan e do something for the ordering of the output ? may be just change doctest to be more robust (independent of ordering) ?",
    "created_at": "2019-02-09T18:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369610",
    "user": "https://github.com/dcoudert"
}
```

as long as #25872 is not fixed, `'habib'` seems a better choice...

Can e do something for the ordering of the output ? may be just change doctest to be more robust (independent of ordering) ?



---

archive/issue_comments_369611.json:
```json
{
    "body": "A simple way would be to use explicitely `algorithm='tedder'` in the doctest.",
    "created_at": "2019-02-09T19:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369611",
    "user": "https://github.com/mantepse"
}
```

A simple way would be to use explicitely `algorithm='tedder'` in the doctest.



---

archive/issue_comments_369612.json:
```json
{
    "body": "The output style issue is #27247.\n\nI also added the `....:` stuff there.",
    "created_at": "2019-02-09T19:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369612",
    "user": "https://github.com/mantepse"
}
```

The output style issue is #27247.

I also added the `....:` stuff there.



---

archive/issue_comments_369613.json:
```json
{
    "body": "There is something very strange:\n\nboth `modular_decomposition` and `habib_maurer` return `NORMAL [0]` for the graph with one vertex, but this is manually changed to `PRIME` in the method.  Why so?  A similar thing is done to the empty graph.",
    "created_at": "2019-02-09T19:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369613",
    "user": "https://github.com/mantepse"
}
```

There is something very strange:

both `modular_decomposition` and `habib_maurer` return `NORMAL [0]` for the graph with one vertex, but this is manually changed to `PRIME` in the method.  Why so?  A similar thing is done to the empty graph.



---

archive/issue_comments_369614.json:
```json
{
    "body": "In response to comment 44:  The normal nodes are leaf nodes, and the graph with one node should return one prime node with one leaf as a child, as a graph with one node is indecomposible.  This is much like the discussions about whether 1 is prime in Z.  I just made habib-maurer mimic the extant behavior.  When I started, I expected bug #25872 to eventually be fixed, so made as little change as possible to the existing interface.\n\nIn response to comment 27:  The strange indentation is intentional, the indentation represents the depth of the leaf in the tree.  Again, this was not my choice for the way of representing the tree.",
    "created_at": "2019-02-09T20:59:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369614",
    "user": "https://github.com/deinst"
}
```

In response to comment 44:  The normal nodes are leaf nodes, and the graph with one node should return one prime node with one leaf as a child, as a graph with one node is indecomposible.  This is much like the discussions about whether 1 is prime in Z.  I just made habib-maurer mimic the extant behavior.  When I started, I expected bug #25872 to eventually be fixed, so made as little change as possible to the existing interface.

In response to comment 27:  The strange indentation is intentional, the indentation represents the depth of the leaf in the tree.  Again, this was not my choice for the way of representing the tree.



---

archive/issue_comments_369615.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-09T21:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369616.json:
```json
{
    "body": "I am sorry, I made a mistake in comment:37 concerning `__str__` in `__repr__`.  See #27247 for a more correct fix, also for the ordering problem.",
    "created_at": "2019-02-10T05:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369616",
    "user": "https://github.com/mantepse"
}
```

I am sorry, I made a mistake in comment:37 concerning `__str__` in `__repr__`.  See #27247 for a more correct fix, also for the ordering problem.



---

archive/issue_events_065846.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-02-10T18:49:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65846"
}
```



---

archive/issue_events_065847.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-02-10T18:49:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65847"
}
```



---

archive/issue_comments_369617.json:
```json
{
    "body": "Replying to [comment:47 mantepse]:\n> I am sorry, I made a mistake in comment:37 concerning `__str__` in `__repr__`.  See #27247 for a more correct fix, also for the ordering problem.\n\nSo we should revert changes about `__str__` and `__repr__`, right ?",
    "created_at": "2019-02-10T18:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369617",
    "user": "https://github.com/dcoudert"
}
```

Replying to [comment:47 mantepse]:
> I am sorry, I made a mistake in comment:37 concerning `__str__` in `__repr__`.  See #27247 for a more correct fix, also for the ordering problem.

So we should revert changes about `__str__` and `__repr__`, right ?



---

archive/issue_comments_369618.json:
```json
{
    "body": "Replying to [comment:48 dcoudert]:\n> Replying to [comment:47 mantepse]:\n> > I am sorry, I made a mistake in comment:37 concerning `__str__` in `__repr__`.  See #27247 for a more correct fix, also for the ordering problem.\n\n> So we should revert changes about `__str__` and `__repr__`, right ?\n\nI did\n\n```\n    __str__ = __repr__\n```\n(and please excuse me, I wanted to write 'possibly more correct', because I don't know much about python)\n\nFor the ordering problem, I think it's best to specify the algorithm explicitely in the doctests:\n\n```\nsage: graphs.PetersenGraph().modular_decomposition(algorithm='tedder')\n```\nor alternatively\n\n```\nsage: graphs.PetersenGraph().modular_decomposition(algorithm='habib')\n```\nand additionally adapt the result.",
    "created_at": "2019-02-10T18:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369618",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:48 dcoudert]:
> Replying to [comment:47 mantepse]:
> > I am sorry, I made a mistake in comment:37 concerning `__str__` in `__repr__`.  See #27247 for a more correct fix, also for the ordering problem.

> So we should revert changes about `__str__` and `__repr__`, right ?

I did

```
    __str__ = __repr__
```
(and please excuse me, I wanted to write 'possibly more correct', because I don't know much about python)

For the ordering problem, I think it's best to specify the algorithm explicitely in the doctests:

```
sage: graphs.PetersenGraph().modular_decomposition(algorithm='tedder')
```
or alternatively

```
sage: graphs.PetersenGraph().modular_decomposition(algorithm='habib')
```
and additionally adapt the result.



---

archive/issue_comments_369619.json:
```json
{
    "body": "Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369619",
    "user": "https://github.com/embray"
}
```

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_065848.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65848"
}
```



---

archive/issue_events_065849.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65849"
}
```



---

archive/issue_comments_369620.json:
```json
{
    "body": "> For the ordering problem, I think it's best to specify the algorithm explicitely in the doctests:\n> \n> ```\n> sage: graphs.PetersenGraph().modular_decomposition(algorithm='tedder')\n> ```\n> or alternatively\n> \n> ```\n> sage: graphs.PetersenGraph().modular_decomposition(algorithm='habib')\n> ```\n> and additionally adapt the result.\n\n\nSorry, I forgot to answer and lost track of the discussion.... I agree with your proposal.",
    "created_at": "2019-03-28T17:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369620",
    "user": "https://github.com/dcoudert"
}
```

> For the ordering problem, I think it's best to specify the algorithm explicitely in the doctests:
> 
> ```
> sage: graphs.PetersenGraph().modular_decomposition(algorithm='tedder')
> ```
> or alternatively
> 
> ```
> sage: graphs.PetersenGraph().modular_decomposition(algorithm='habib')
> ```
> and additionally adapt the result.


Sorry, I forgot to answer and lost track of the discussion.... I agree with your proposal.



---

archive/issue_comments_369621.json:
```json
{
    "body": "I rebased the branch on 8.8.beta3, fixed merge conflicts, and fixed a few issues for Python3. The new branch is in `public/`, so you can modify it.\n\n---\nNew commits:",
    "created_at": "2019-04-20T12:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369621",
    "user": "https://github.com/dcoudert"
}
```

I rebased the branch on 8.8.beta3, fixed merge conflicts, and fixed a few issues for Python3. The new branch is in `public/`, so you can modify it.

---
New commits:



---

archive/issue_comments_369622.json:
```json
{
    "body": "We have some failing doctests in `graph.py` both with Python2 and 3 that I have not fixed. It's due to the order of vertices in each module. We should find a solution to have better doctests here without introducing sorting inside the methods.\n\nIn `modular_decomposition.py`, I marked 1 doctest as `# py2`. Same issue.",
    "created_at": "2019-04-20T12:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369622",
    "user": "https://github.com/dcoudert"
}
```

We have some failing doctests in `graph.py` both with Python2 and 3 that I have not fixed. It's due to the order of vertices in each module. We should find a solution to have better doctests here without introducing sorting inside the methods.

In `modular_decomposition.py`, I marked 1 doctest as `# py2`. Same issue.



---

archive/issue_comments_369623.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-16T13:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369623",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369624.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-16T13:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369625.json:
```json
{
    "body": "I corrected the doctests for Python 2 and Python 3. I'm not happy with the solution (mark doctests as py2 or py3), but I don't have a better one.\n\nFor me this patch is good to go. With it, we will get a correct algorithm. Further improvements can be done in other tickets.\n\nCan you double check that everything is ok for you so that I can finalize the review ?",
    "created_at": "2019-05-16T14:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369625",
    "user": "https://github.com/dcoudert"
}
```

I corrected the doctests for Python 2 and Python 3. I'm not happy with the solution (mark doctests as py2 or py3), but I don't have a better one.

For me this patch is good to go. With it, we will get a correct algorithm. Further improvements can be done in other tickets.

Can you double check that everything is ok for you so that I can finalize the review ?



---

archive/issue_comments_369626.json:
```json
{
    "body": "Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369626",
    "user": "https://github.com/embray"
}
```

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_065850.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65850"
}
```



---

archive/issue_events_065851.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65851"
}
```



---

archive/issue_comments_369627.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-08T13:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369628.json:
```json
{
    "body": "This way it will be more visible in the documentation.\n\nIs it OK for you ? if so, you can set this ticket to positive review on my behalf. Thanks.",
    "created_at": "2019-07-08T13:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369628",
    "user": "https://github.com/dcoudert"
}
```

This way it will be more visible in the documentation.

Is it OK for you ? if so, you can set this ticket to positive review on my behalf. Thanks.



---

archive/issue_comments_369629.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-20T15:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369629",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369630.json:
```json
{
    "body": "I fixed some issues. Now the html documentation should build properly. More can certainly be done in another ticket...",
    "created_at": "2019-08-20T15:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369630",
    "user": "https://github.com/dcoudert"
}
```

I fixed some issues. Now the html documentation should build properly. More can certainly be done in another ticket...



---

archive/issue_comments_369631.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-09-14T17:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369631",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_369632.json:
```json
{
    "body": "red branch",
    "created_at": "2019-09-14T17:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369632",
    "user": "https://github.com/fchapoton"
}
```

red branch



---

archive/issue_comments_369633.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-14T17:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369634.json:
```json
{
    "body": "fixed.",
    "created_at": "2019-09-14T17:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369634",
    "user": "https://github.com/dcoudert"
}
```

fixed.



---

archive/issue_comments_369635.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-14T17:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369635",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_369636.json:
```json
{
    "body": "now its green ;)",
    "created_at": "2019-09-14T22:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369636",
    "user": "https://github.com/dcoudert"
}
```

now its green ;)



---

archive/issue_comments_369637.json:
```json
{
    "body": "please do not use `\\` to break long lines in doctests, but `....:`\n\nEDIT: or do not wrap them if this does not work (for import lines)",
    "created_at": "2019-09-15T06:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369637",
    "user": "https://github.com/fchapoton"
}
```

please do not use `\` to break long lines in doctests, but `....:`

EDIT: or do not wrap them if this does not work (for import lines)



---

archive/issue_comments_369638.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-15T11:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369639.json:
```json
{
    "body": "I used some `from ... import *` instead of a long list of imports. I also tried to improve parts of the code / comments. More can certainly be done.",
    "created_at": "2019-09-15T11:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369639",
    "user": "https://github.com/dcoudert"
}
```

I used some `from ... import *` instead of a long list of imports. I also tried to improve parts of the code / comments. More can certainly be done.



---

archive/issue_comments_369640.json:
```json
{
    "body": "I've just launched my bot on it.",
    "created_at": "2019-09-15T11:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369640",
    "user": "https://github.com/fchapoton"
}
```

I've just launched my bot on it.



---

archive/issue_comments_369641.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-15T16:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369641",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369642.json:
```json
{
    "body": "ok, let us say \"good to go\"",
    "created_at": "2019-09-15T16:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369642",
    "user": "https://github.com/fchapoton"
}
```

ok, let us say "good to go"



---

archive/issue_comments_369643.json:
```json
{
    "body": "Thanks.",
    "created_at": "2019-09-15T16:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369643",
    "user": "https://github.com/dcoudert"
}
```

Thanks.



---

archive/issue_events_065852.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-30T08:12:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65852"
}
```



---

archive/issue_events_065853.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-30T08:12:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65853"
}
```



---

archive/issue_comments_369644.json:
```json
{
    "body": "moving milestone to 9.0 (after release of 8.9)",
    "created_at": "2019-09-30T08:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369644",
    "user": "https://github.com/fchapoton"
}
```

moving milestone to 9.0 (after release of 8.9)



---

archive/issue_events_065854.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-03T17:58:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26259#event-65854"
}
```



---

archive/issue_comments_369645.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-03T17:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26259",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26259#issuecomment-369645",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
