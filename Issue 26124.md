# Issue 26124: Glucose SAT solver

archive/issues_026124.json:
```json
{
    "body": "This ticket adds a glucose optional package, and fixes the old glucose interface.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26361\n\n",
    "created_at": "2018-09-28T17:40:11Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Glucose SAT solver",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26124",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
This ticket adds a glucose optional package, and fixes the old glucose interface.

Issue created by migration from https://trac.sagemath.org/ticket/26361





---

archive/issue_comments_367930.json:
```json
{
    "body": "I did not notice that before packaging: the parallel version (which is the interesting one) uses a modified MIT license, and adds:\n\n- *The parallel version of Glucose (all files modified since Glucose 3.0 releases, 2013) cannot be used in any competitive event (sat competitions/evaluations) without the express permission of the authors (Gilles Audemard / Laurent Simon). This is also the case for any competitive event using Glucose Parallel as an embedded SAT engine (single core or not).*\n\nShall we distribute that ? Shall we add a warning during the install procedure ?",
    "created_at": "2018-09-28T18:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367930",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

I did not notice that before packaging: the parallel version (which is the interesting one) uses a modified MIT license, and adds:

- *The parallel version of Glucose (all files modified since Glucose 3.0 releases, 2013) cannot be used in any competitive event (sat competitions/evaluations) without the express permission of the authors (Gilles Audemard / Laurent Simon). This is also the case for any competitive event using Glucose Parallel as an embedded SAT engine (single core or not).*

Shall we distribute that ? Shall we add a warning during the install procedure ?



---

archive/issue_comments_367931.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-28T19:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367931",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-28T20:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367932",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367933.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-29T10:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367933",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367934.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-07T11:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367934",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_367935.json:
```json
{
    "body": "Porting the modif I did in #26552 that were not here.\n----\nNew commits:",
    "created_at": "2018-10-25T19:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367935",
    "user": "https://github.com/seblabbe"
}
```

Porting the modif I did in #26552 that were not here.
----
New commits:



---

archive/issue_comments_367936.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-10-25T19:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367936",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367937.json:
```json
{
    "body": "I removed the commit `887989a` from this ticket because glucose-syrup does not work: it writes an empty output file. I will move that commit to my other ticket #26552 and I will update its goal.",
    "created_at": "2018-10-25T19:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367937",
    "user": "https://github.com/seblabbe"
}
```

I removed the commit `887989a` from this ticket because glucose-syrup does not work: it writes an empty output file. I will move that commit to my other ticket #26552 and I will update its goal.



---

archive/issue_comments_367938.json:
```json
{
    "body": "I give a positive review to your commits.\nDo you agree with my changes? If so, you may set this to positive review.",
    "created_at": "2018-10-25T19:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367938",
    "user": "https://github.com/seblabbe"
}
```

I give a positive review to your commits.
Do you agree with my changes? If so, you may set this to positive review.



---

archive/issue_comments_367939.json:
```json
{
    "body": "Changing keywords from \"\" to \"thursdaysbdx\".",
    "created_at": "2018-11-06T21:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367939",
    "user": "https://github.com/seblabbe"
}
```

Changing keywords from "" to "thursdaysbdx".



---

archive/issue_comments_367940.json:
```json
{
    "body": "Salut Thierry, est-ce que mes commits te conviennent? Je vais faire du sage jeudi matin si tu veux que je change des choses dans mes commits.",
    "created_at": "2018-11-06T21:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367940",
    "user": "https://github.com/seblabbe"
}
```

Salut Thierry, est-ce que mes commits te conviennent? Je vais faire du sage jeudi matin si tu veux que je change des choses dans mes commits.



---

archive/issue_comments_367941.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-11-21T14:29:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367941",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_367942.json:
```json
{
    "body": "Where is `spkg-check`?",
    "created_at": "2018-11-21T14:29:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367942",
    "user": "https://github.com/videlec"
}
```

Where is `spkg-check`?



---

archive/issue_comments_367943.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2018-11-21T14:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367943",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_367944.json:
```json
{
    "body": "In `spkg-install` the following is not needed\n\n```\nif [ \"$SAGE_LOCAL\" = \"\" ]; then\n   echo \"SAGE_LOCAL undefined ... exiting\";\n   echo \"Maybe run 'sage -sh'?\"\n   exit 1\nfi\n```\n",
    "created_at": "2018-11-21T14:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367944",
    "user": "https://github.com/videlec"
}
```

In `spkg-install` the following is not needed

```
if [ "$SAGE_LOCAL" = "" ]; then
   echo "SAGE_LOCAL undefined ... exiting";
   echo "Maybe run 'sage -sh'?"
   exit 1
fi
```




---

archive/issue_comments_367945.json:
```json
{
    "body": "And what is `LFLAGS`!?",
    "created_at": "2018-11-21T14:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367945",
    "user": "https://github.com/videlec"
}
```

And what is `LFLAGS`!?



---

archive/issue_comments_367946.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-22T09:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367946",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367947.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-11-22T09:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367947",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367948.json:
```json
{
    "body": "Ok, I removed the `SAGE_LOCAL` check part from the `spkg-install`.\n\nI keep the LFLAGS since the template makefile `glucose-syrup-4.1/mtl/template.mk` contains a line\n\n\n```\nLFLAGS    ?= -Wall -lpthread \n```\n\n\nso I guess Thierry wrote that in the `spkg-install` for some good reason.\n\nWhat should be the content of the `spkg-check` ? There does seem to be any `check` target in the makefile of glucose...",
    "created_at": "2018-11-22T09:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367948",
    "user": "https://github.com/seblabbe"
}
```

Ok, I removed the `SAGE_LOCAL` check part from the `spkg-install`.

I keep the LFLAGS since the template makefile `glucose-syrup-4.1/mtl/template.mk` contains a line


```
LFLAGS    ?= -Wall -lpthread 
```


so I guess Thierry wrote that in the `spkg-install` for some good reason.

What should be the content of the `spkg-check` ? There does seem to be any `check` target in the makefile of glucose...



---

archive/issue_comments_367949.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-11-22T09:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367949",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_367950.json:
```json
{
    "body": "The copy paste in the description is not so nice.\n\n```\nThis page summarizes the techniques embedded in all the versions of\nglucose. \n```\n",
    "created_at": "2018-11-25T19:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367950",
    "user": "https://github.com/videlec"
}
```

The copy paste in the description is not so nice.

```
This page summarizes the techniques embedded in all the versions of
glucose. 
```




---

archive/issue_comments_367951.json:
```json
{
    "body": "The tarball is full of junk (from mac OSX)\n\n```\n./utils/._System.h\n./utils/._System.cc\n./utils/._ParseUtils.h\n./utils/._Options.h\n./utils/._Options.cc\n./utils/._Makefile\n./._utils\n./simp/._SimpSolver.h\n./simp/._SimpSolver.cc\n./simp/._Makefile\n./simp/._Main.cc\n./._simp\n./._README\n./parallel/._SolverConfiguration.h\n./parallel/._SolverConfiguration.cc\n./parallel/._SolverCompanion.h\n./parallel/._SolverCompanion.cc\n./parallel/._SharedCompanion.h\n./parallel/._SharedCompanion.cc\n./parallel/._ParallelSolver.h\n./parallel/._ParallelSolver.cc\n./parallel/._MultiSolvers.h\n./parallel/._MultiSolvers.cc\n./parallel/._Makefile\n./parallel/._Main.cc\n./parallel/._ClausesBuffer.h\n./parallel/._ClausesBuffer.cc\n./._parallel\n./mtl/._XAlloc.h\n./mtl/._VecThreads.h\n./mtl/._Vec.h\n./mtl/._template.mk\n./mtl/._Sort.h\n./mtl/._Queue.h\n./mtl/._Map.h\n./mtl/._IntTypes.h\n./mtl/._Heap.h\n./mtl/._config.mk\n./mtl/._Clone.h\n./mtl/._Alloc.h\n./mtl/._Alg.h\n./._mtl\n./._LICENCE\n./core/._SolverTypes.h\n./core/._SolverStats.h\n./core/._Solver.h\n./core/._Solver.cc\n./core/._Makefile\n./core/._Dimacs.h\n./core/._Constants.h\n./core/._BoundedQueue.h\n./._core\n./._Changelog\n```\n",
    "created_at": "2018-11-25T19:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367951",
    "user": "https://github.com/videlec"
}
```

The tarball is full of junk (from mac OSX)

```
./utils/._System.h
./utils/._System.cc
./utils/._ParseUtils.h
./utils/._Options.h
./utils/._Options.cc
./utils/._Makefile
./._utils
./simp/._SimpSolver.h
./simp/._SimpSolver.cc
./simp/._Makefile
./simp/._Main.cc
./._simp
./._README
./parallel/._SolverConfiguration.h
./parallel/._SolverConfiguration.cc
./parallel/._SolverCompanion.h
./parallel/._SolverCompanion.cc
./parallel/._SharedCompanion.h
./parallel/._SharedCompanion.cc
./parallel/._ParallelSolver.h
./parallel/._ParallelSolver.cc
./parallel/._MultiSolvers.h
./parallel/._MultiSolvers.cc
./parallel/._Makefile
./parallel/._Main.cc
./parallel/._ClausesBuffer.h
./parallel/._ClausesBuffer.cc
./._parallel
./mtl/._XAlloc.h
./mtl/._VecThreads.h
./mtl/._Vec.h
./mtl/._template.mk
./mtl/._Sort.h
./mtl/._Queue.h
./mtl/._Map.h
./mtl/._IntTypes.h
./mtl/._Heap.h
./mtl/._config.mk
./mtl/._Clone.h
./mtl/._Alloc.h
./mtl/._Alg.h
./._mtl
./._LICENCE
./core/._SolverTypes.h
./core/._SolverStats.h
./core/._Solver.h
./core/._Solver.cc
./core/._Makefile
./core/._Dimacs.h
./core/._Constants.h
./core/._BoundedQueue.h
./._core
./._Changelog
```




---

archive/issue_comments_367952.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-12T20:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367952",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367953.json:
```json
{
    "body": "I fixed the description. \n\nI asked Laurent to redo a new tarball with no junk files. I do not know how long it will take. Vincent: do you want to wait for the new tarball or are you okay with some junk files for now? This issue of junk files shall be fixed in a later version of glucose.\n\nFor now, the goal of this ticket is to make version 4.1 of glucose an optional package of sage. Later versions of glucose will be dealt in another ticket.\n\nNeeds review!",
    "created_at": "2018-12-12T20:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367953",
    "user": "https://github.com/seblabbe"
}
```

I fixed the description. 

I asked Laurent to redo a new tarball with no junk files. I do not know how long it will take. Vincent: do you want to wait for the new tarball or are you okay with some junk files for now? This issue of junk files shall be fixed in a later version of glucose.

For now, the goal of this ticket is to make version 4.1 of glucose an optional package of sage. Later versions of glucose will be dealt in another ticket.

Needs review!



---

archive/issue_comments_367954.json:
```json
{
    "body": "`glucose` is really terrible in terms of packaging. For the time being I would rather propose to make it an experimental package.",
    "created_at": "2018-12-13T10:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367954",
    "user": "https://github.com/videlec"
}
```

`glucose` is really terrible in terms of packaging. For the time being I would rather propose to make it an experimental package.



---

archive/issue_comments_367955.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-12-13T13:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367955",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367956.json:
```json
{
    "body": "Fine for me. I changed it to experimental.\n\nI also rebased the branch on top of 8.5.rc0 to avoid 3 merge commits inside a single ticket.\n\nNeeds review!",
    "created_at": "2018-12-13T13:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367956",
    "user": "https://github.com/seblabbe"
}
```

Fine for me. I changed it to experimental.

I also rebased the branch on top of 8.5.rc0 to avoid 3 merge commits inside a single ticket.

Needs review!



---

archive/issue_comments_367957.json:
```json
{
    "body": "I consider myself now more of a author for this ticket than a reviewer.",
    "created_at": "2018-12-13T13:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367957",
    "user": "https://github.com/seblabbe"
}
```

I consider myself now more of a author for this ticket than a reviewer.



---

archive/issue_comments_367958.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-12-13T20:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367958",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_367959.json:
```json
{
    "body": "Laurent might provide me with a new tarbal with no junk file by tomorrow... So I put the review on hold for now.",
    "created_at": "2018-12-13T20:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367959",
    "user": "https://github.com/seblabbe"
}
```

Laurent might provide me with a new tarbal with no junk file by tomorrow... So I put the review on hold for now.



---

archive/issue_comments_367960.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2018-12-20T10:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367960",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_367961.json:
```json
{
    "body": "No tarball received by today. Let's move forward with an experimental package for now.",
    "created_at": "2018-12-20T10:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367961",
    "user": "https://github.com/seblabbe"
}
```

No tarball received by today. Let's move forward with an experimental package for now.



---

archive/issue_comments_367962.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-12-20T15:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367962",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_367963.json:
```json
{
    "body": "Changing component from packages: optional to packages: experimental.",
    "created_at": "2018-12-20T15:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367963",
    "user": "https://github.com/videlec"
}
```

Changing component from packages: optional to packages: experimental.



---

archive/issue_comments_367964.json:
```json
{
    "body": "Reviewer name is missing...",
    "created_at": "2018-12-22T23:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367964",
    "user": "https://github.com/vbraun"
}
```

Reviewer name is missing...



---

archive/issue_comments_367965.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-12-22T23:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367965",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_367966.json:
```json
{
    "body": "Sorry for not being active during the past month. I really do not understand why the package has to be experimental. Does someone have problem to compile it ? Does someone experience wrong results with it ? Note that having a package set to experimental makes it less tested (one have to manualy add it to the `--optional` test option).",
    "created_at": "2018-12-23T00:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367966",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Sorry for not being active during the past month. I really do not understand why the package has to be experimental. Does someone have problem to compile it ? Does someone experience wrong results with it ? Note that having a package set to experimental makes it less tested (one have to manualy add it to the `--optional` test option).



---

archive/issue_comments_367967.json:
```json
{
    "body": "The reasons are explained above\n- no tests provided\n- tarball contains a lot of spurious files",
    "created_at": "2018-12-23T09:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367967",
    "user": "https://github.com/videlec"
}
```

The reasons are explained above
- no tests provided
- tarball contains a lot of spurious files



---

archive/issue_comments_367968.json:
```json
{
    "body": "Does are, imho, not good reasons.\n\nReplying to [comment:33 vdelecroix]:\n> The reasons are explained above\n> - no tests provided\n\nThe existence of `spkg-check` is conditioned to the existence of self-tests, see https://doc.sagemath.org/html/en/developer/packaging.html#self-tests. Many standard/optional packages do not provide self tests, and some self-tests of standard packages are broken in various officially supported platforms (starting with python which is never self-tested, see https://doc.sagemath.org/html/en/installation/source.html#index-28). On Sage 8.4, only 82 over a total of 286 packages do have a `spkg-check` file.\n\nNote that, setting a package type to experimental implies that classical sage tests tagged with that package are not run with a usual `sage --test --all --long` command, the package must be explicitly added by hand (and then only the explicitly added packages will be tested). This implies that actually, the package behaviour in sage will be even less tested than if it was optional.\n\n> - tarball contains a lot of spurious files\n\nThis is an aesthetical judgment. They do not interfere with the compilation. Note that even with those files, the tarball size is pretty small.\n\nIf this was a real concern (it is not), the appropriate fix would have been to provide a `spkg-src` with something like:\n\n\n```\nfind -name '._*' -exec rm {} \\;\n```\n\n\nSee https://doc.sagemath.org/html/en/developer/packaging.html#modified-tarballs note that i am not in favor of this option either as is breaks upstream integrity (everyone can check that the hashes correspond) for no real benefit.",
    "created_at": "2018-12-23T12:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367968",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Does are, imho, not good reasons.

Replying to [comment:33 vdelecroix]:
> The reasons are explained above
> - no tests provided

The existence of `spkg-check` is conditioned to the existence of self-tests, see https://doc.sagemath.org/html/en/developer/packaging.html#self-tests. Many standard/optional packages do not provide self tests, and some self-tests of standard packages are broken in various officially supported platforms (starting with python which is never self-tested, see https://doc.sagemath.org/html/en/installation/source.html#index-28). On Sage 8.4, only 82 over a total of 286 packages do have a `spkg-check` file.

Note that, setting a package type to experimental implies that classical sage tests tagged with that package are not run with a usual `sage --test --all --long` command, the package must be explicitly added by hand (and then only the explicitly added packages will be tested). This implies that actually, the package behaviour in sage will be even less tested than if it was optional.

> - tarball contains a lot of spurious files

This is an aesthetical judgment. They do not interfere with the compilation. Note that even with those files, the tarball size is pretty small.

If this was a real concern (it is not), the appropriate fix would have been to provide a `spkg-src` with something like:


```
find -name '._*' -exec rm {} \;
```


See https://doc.sagemath.org/html/en/developer/packaging.html#modified-tarballs note that i am not in favor of this option either as is breaks upstream integrity (everyone can check that the hashes correspond) for no real benefit.



---

archive/issue_comments_367969.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-12-31T12:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367969",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_367970.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-31T12:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367970",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_367971.json:
```json
{
    "body": "Personally, I agree to set it to optional.\n\nI just forced pushed the penultimate commit \u200b66d1983.\n\nI added the name of Vincent in the reviewer field since he was involved in the review up to now and to avoid forgeting it a second time.\n\nNeeds review.",
    "created_at": "2018-12-31T12:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367971",
    "user": "https://github.com/seblabbe"
}
```

Personally, I agree to set it to optional.

I just forced pushed the penultimate commit ​66d1983.

I added the name of Vincent in the reviewer field since he was involved in the review up to now and to avoid forgeting it a second time.

Needs review.



---

archive/issue_comments_367972.json:
```json
{
    "body": "Changing component from packages: experimental to packages: optional.",
    "created_at": "2018-12-31T12:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367972",
    "user": "https://github.com/seblabbe"
}
```

Changing component from packages: experimental to packages: optional.



---

archive/issue_comments_367973.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-12-31T13:31:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367973",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_367974.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-23T14:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26124",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26124#issuecomment-367974",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
