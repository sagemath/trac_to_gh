# Issue 19810: upgrade the sage notebook

Issue created by migration from https://trac.sagemath.org/ticket/20047

Original creator: fbissey

Original creation time: 2016-02-14 09:06:33

CC:  kcrisman

#20030 will need a matching change in `sagenb`.


---

Comment by jdemeyer created at 2016-02-14 12:01:00

Changing priority from major to blocker.


---

Comment by jdemeyer created at 2016-02-14 12:01:00

Changing type from PLEASE CHANGE to enhancement.


---

Comment by jdemeyer created at 2016-02-14 12:01:00

Changing component from PLEASE CHANGE to packages: standard.


---

Comment by kcrisman created at 2016-02-17 02:19:04

Don't have any more time tonight but I've merged all the things in question and will package soon.  Sorry for some extra merge commits, btw.


---

Comment by kcrisman created at 2016-02-23 17:59:09

New commits:


---

Comment by kcrisman created at 2016-02-23 17:59:09

Changing status from new to needs_review.


---

Comment by kcrisman created at 2016-02-23 18:01:59

I think I did everything correctly, try it out!  Be sure to test that the notebook help works etc.


---

Comment by jdemeyer created at 2016-02-23 19:48:54

Merged #20030 in the branch.
----
New commits:


---

Comment by jdemeyer created at 2016-02-23 20:56:03

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2016-02-23 20:56:03

It doesn't install for me:

```
Processing dependencies for Flask-AutoIndex==0.6
Searching for future>=0.13.0

Note: Bypassing https://pypi.python.org/simple/future/ (disallowed host; see http://bit.ly/1dg9ijs for details).

Couldn't find index page for 'future' (maybe misspelled?)
Scanning index of all packages (this may take a while)

Note: Bypassing https://pypi.python.org/simple/ (disallowed host; see http://bit.ly/1dg9ijs for details).

No local packages or download links found for future>=0.13.0
error: Could not find suitable distribution for Requirement.parse('future>=0.13.0')
Error: Installing Flask-AutoIndex-0.6.tar.gz failed.
```



---

Comment by fbissey created at 2016-02-23 21:57:38

Looks like the dependencies weren't packaged properly or something was included that shouldn't. For future I am guessing we are talking about http://python-future.org/.


---

Comment by jdemeyer created at 2016-02-23 22:06:29

`Flask-AutoIndex` was upgraded from 0.5 to 0.6. Is that upgrade required? If not, reverting it might solve this problem.


---

Comment by fbissey created at 2016-02-23 22:55:04

Compared to 0.11.6.1 I think all the dependency upgrade are gratuitous. All that was merged are the PR for the tickets in the summary. Sure it is good to keep on top but I don't think any of them are strictly necessary.


---

Comment by kcrisman created at 2016-02-24 03:37:24

No, no upgrades are required.  But I don't know exactly how to (automatically, that is) revert such things.  I guess I can do it manually by unpacking a previous tarball.  I think that the `dist.sh` script just downloads whatever the most recent version is.   I won't have time tomorrow for this, though.


---

Comment by jdemeyer created at 2016-02-24 07:17:08

I can repackage sagenb-0.11.7 by reverting to `Flask-AutoIndex-0.5`


---

Comment by jdemeyer created at 2016-02-24 08:49:10

Changing status from needs_work to needs_review.


---

Comment by git created at 2016-02-24 08:49:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2016-02-24 08:51:21

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2016-02-24 08:51:21

Sorry, still doesn't work.


---

Comment by jdemeyer created at 2016-02-24 09:01:53

It *does* work. However, if you tested an old version of this ticket, you need to delete the previous installation of `Flask-AutoIndex` or you need `make distclean`.


---

Comment by jdemeyer created at 2016-02-24 09:01:53

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2016-02-24 09:15:16

Just tested it and SageNB seems to work fine.

I did find a serious bug [https://github.com/sagemath/sagenb/issues/368](https://github.com/sagemath/sagenb/issues/368) but given that it's also in the current sagenb, it shouldn't block this ticket.


---

Comment by jdemeyer created at 2016-02-24 09:15:16

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-02-25 20:08:52

Resolution: fixed
