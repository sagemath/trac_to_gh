# Issue 30055: is_pyramid returns a wrong certificate

archive/issues_030055.json:
```json
{
    "body": "CC:  jipilab @kliem\n\nKeywords: polytope, combinatorialpolyhedron, is_pyramid\n\nThe method `is_pyramid` of `CombinatorialPolyhedron` returns a wrong certificate:\n\n```\nsage: Polyhedron([[0, -1, -1], [0, -1, 1], [0, 1, -1], [0, 1, 1], [1, 0, 0]]).is_pyramid(certificate=True)\n(True, A vertex at (0, -1, -1))\n```\n\n\nThis bug introduced in #29189; the indexing in `_face_iter(True, 0)` is different from the indexing in `Vrepresentation`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30292\n\n",
    "created_at": "2020-08-05T12:37:08Z",
    "labels": [
        "geometry",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "is_pyramid returns a wrong certificate",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30055",
    "user": "@LaisRast"
}
```
CC:  jipilab @kliem

Keywords: polytope, combinatorialpolyhedron, is_pyramid

The method `is_pyramid` of `CombinatorialPolyhedron` returns a wrong certificate:

```
sage: Polyhedron([[0, -1, -1], [0, -1, 1], [0, 1, -1], [0, 1, 1], [1, 0, 0]]).is_pyramid(certificate=True)
(True, A vertex at (0, -1, -1))
```


This bug introduced in #29189; the indexing in `_face_iter(True, 0)` is different from the indexing in `Vrepresentation`.

Issue created by migration from https://trac.sagemath.org/ticket/30292





---

archive/issue_comments_427173.json:
```json
{
    "body": "Thanks for catching this. Stupid mistake.",
    "created_at": "2020-08-10T16:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427173",
    "user": "@kliem"
}
```

Thanks for catching this. Stupid mistake.



---

archive/issue_comments_427174.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-08-10T16:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427174",
    "user": "@kliem"
}
```

New commits:



---

archive/issue_comments_427175.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-10T16:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427175",
    "user": "@kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_427176.json:
```json
{
    "body": "Perhaps there should be a _test... method that checks the certificate?",
    "created_at": "2020-08-10T18:51:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427176",
    "user": "mkoeppe"
}
```

Perhaps there should be a _test... method that checks the certificate?



---

archive/issue_comments_427177.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-10T19:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427177",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_427178.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-10T22:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427178",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_427179.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2020-08-10T22:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427179",
    "user": "mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_427180.json:
```json
{
    "body": "Thank you.",
    "created_at": "2020-08-11T04:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427180",
    "user": "@kliem"
}
```

Thank you.



---

archive/issue_comments_427181.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-12T19:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30055#issuecomment-427181",
    "user": "vbraun"
}
```

Resolution: fixed
