# Issue 30055: is_pyramid returns a wrong certificate

Issue created by migration from https://trac.sagemath.org/ticket/30292

Original creator: @LaisRast

Original creation time: 2020-08-05 12:37:08

CC:  jipilab @kliem

Keywords: polytope, combinatorialpolyhedron, is_pyramid

The method `is_pyramid` of `CombinatorialPolyhedron` returns a wrong certificate:

```
sage: Polyhedron([[0, -1, -1], [0, -1, 1], [0, 1, -1], [0, 1, 1], [1, 0, 0]]).is_pyramid(certificate=True)
(True, A vertex at (0, -1, -1))
```


This bug introduced in #29189; the indexing in `_face_iter(True, 0)` is different from the indexing in `Vrepresentation`.


---

Comment by @kliem created at 2020-08-10 16:10:11

Thanks for catching this. Stupid mistake.


---

Comment by @kliem created at 2020-08-10 16:17:30

New commits:


---

Comment by @kliem created at 2020-08-10 16:17:30

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-08-10 18:51:22

Perhaps there should be a _test... method that checks the certificate?


---

Comment by git created at 2020-08-10 19:57:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-08-10 22:29:07

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-08-10 22:29:32

Changing priority from major to critical.


---

Comment by @kliem created at 2020-08-11 04:47:42

Thank you.


---

Comment by vbraun created at 2020-08-12 19:53:50

Resolution: fixed
