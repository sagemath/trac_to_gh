# Issue 15428: Error with edges in empty immutable graph

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2014-01-12 07:30:52

Assignee: tscrim

CC:  ncohen

Using the default backend, it works:

```
sage: Graph().edges()
[]
```

but making the graph immutable does not:

```
sage: Graph(immutable=True).edges()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-10-140959f52625> in <module>()
----> 1 Graph(immutable=True).edges()

/home/travis/sage/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in edges(self, labels, sort, key)
   9397         if not(sort) and key:
   9398             raise ValueError('sort keyword is False, yet a key function is given')
-> 9399         L = list(self.edge_iterator(labels=labels))
   9400         if sort:
   9401             L.sort(key=key)

/home/travis/sage/local/lib/python2.7/site-packages/sage/graphs/base/static_sparse_backend.so in iterator_edges (sage/graphs/base/static_sparse_backend.c:7820)()

/home/travis/sage/local/lib/python2.7/site-packages/sage/misc/bitset.so in sage.misc.bitset.FrozenBitset.__init__ (sage/misc/bitset.c:5548)()

ValueError: Bitsets must not be empty
```



---

Comment by ncohen created at 2014-01-12 07:34:27

Why wouldn't this be an error with bitsets ? `:-P`

Nathann


---

Comment by ncohen created at 2014-01-12 08:03:51

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-01-12 08:03:51

Weird, I was sure I had fixed this already,somewhere...

Anyway. I also fixed a stupid waste of time, somewhere `;-)`

Nathann


---

Comment by git created at 2014-01-12 08:04:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2014-01-12 08:06:32

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2014-01-12 08:06:32

Thanks Nathann.


---

Comment by vbraun created at 2014-01-16 19:22:47

Resolution: fixed
