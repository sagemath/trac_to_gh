# Issue 14480: Convert between free group elements considering generator names.

Issue created by migration from Trac.

Original creator: mmarco

Original creation time: 2013-06-04 01:11:06

Assignee: joyner

CC:  vbraun sydahmad vdelecroix jhpalmieri tjolivet rbeezer dimpase dshurbert

Keywords: free groups

Right now, when we try to convert elements between free groups, they just get converted to the Tietze list, forgeting about the names of the generators. This can cause strange behaviour like: 

```
sage: F.<a,b>=FreeGroup()
sage: G.<b,a>=FreeGroup()
sage: F(a) 
b
```


This patch solves this, looking for generators with matching names.


---

Comment by mmarco created at 2013-06-04 01:17:08

Changing status from new to needs_review.


---

Attachment


---

Comment by mmarco created at 2013-06-05 17:51:11

Changing assignee from joyner to mmarco.


---

Comment by mmarco created at 2013-06-07 14:12:42

Changing priority from minor to major.


---

Comment by vdelecroix created at 2014-08-25 14:26:35

Changing status from needs_review to needs_info.


---

Comment by vdelecroix created at 2014-08-25 14:26:35

Hello,

I created a branch from the ticket with `sage -dev`. The review can starts from there.

What's the point of the following code in `_element_constructor_`?

```
if hasattr(P, '_freegroup_'):
    if P.FreeGroup() is self:
        return self.element_class(self, x.Tietze(), **kwds)
```

As far as I looked, there is no object in Sage with a `_freegroup_` attribute.

Vincent
----
New commits:


---

Comment by mmarco created at 2014-08-25 14:40:46

It is an error. It should be _free_group (finitely presented groups have that attribute, that contains the free group after which they are defined).


Apparently it works even without that because the element_class init first tries to get the Tietze list anyways.


---

Comment by vdelecroix created at 2014-08-25 14:44:44

So please, fix that!


---

Comment by vdelecroix created at 2014-08-25 14:44:52

Changing status from needs_info to needs_work.


---

Comment by mmarco created at 2014-08-25 16:27:40

Fixed.


---

Comment by vdelecroix created at 2014-08-25 16:33:48

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2014-08-25 16:33:48

Thanks. If it is, your commit should appear on this page... and it does not. I only see your commit at `u/mmarco/ticket/14684` (`public/14684` is one commit back). I switch back to the name of the branch that you used. If you want to commit to a specific branch use `git push trac HEAD:public/14684`.

Vincent
----
New commits:


---

Comment by vdelecroix created at 2014-08-25 17:10:48

Perfect!

Vincent


---

Comment by vdelecroix created at 2014-08-25 17:10:48

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-08-25 19:39:36

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2014-08-25 19:39:36

Author name should be real name, not trac username


---

Comment by mmarco created at 2014-08-25 19:52:44

Sorry, i always forget those details.


---

Comment by vbraun created at 2014-08-25 20:10:41

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2014-08-26 13:02:45

Resolution: fixed
