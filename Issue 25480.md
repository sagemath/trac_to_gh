# Issue 25480: doctest coverage 100% ntl library

Issue created by migration from Trac.

Original creator: lftabera

Original creation time: 2018-06-30 17:40:14

Keywords: days94

Add documentation, tests and/or examples to every method in the ntl library wrappers.


---

Comment by lftabera created at 2018-06-30 22:02:41

New commits:


---

Comment by git created at 2018-07-02 16:25:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lftabera created at 2018-07-02 16:30:29

The coverage was not bad. I have added some documentations to some methods that lacked one and several examples and test.

There were occasions were sage segfaults, mainly division by zero errors. I hope I have found all. I have added sig_on sig_off and tests in those places.


---

Comment by lftabera created at 2018-07-02 16:42:21

Changing status from new to needs_review.


---

Comment by lftabera created at 2018-07-02 16:43:02

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-07-03 07:18:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lftabera created at 2018-07-03 07:21:49

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2018-07-03 07:58:18

A few comments:

- You need to add your (real) name to the authors field.
- `def IsIdent(self, n = None):` -> `def IsIdent(self, n=None):`
- `See `self.__truediv__`` -> `See :meth:`self.__truediv__``
- `if modulus<=0:` -> `if modulus <= :`
- Bad copy/paste:
  {{{
    def __repr__(self):
        """
        Return the degree of self
  }}}
  Also should be ```self``.` (same for `degree`).
- Errors should start with a lower case letter (this is a Python convention that is not always followed in Sage).
- (I know this is done elsewhere in the file, but it is wrong) Change
  {{{#!diff
         INPUT:
 
-            modulus - a monic `ntl_ZZ_pX` object of degree less than that of `self`.
+        - ``modulus`` -- a monic ``ntl_ZZ_pX`` object of degree less than that of ``self``
 
         OUTPUT:
 
-            b - An element such that `self*b==1 mod modulus`.
+        An element ``b`` such that ``self * b == 1`` mod ``modulus``.
  }}}
- Change
  {{{#!diff
-Only really makes mathematical sense when n divides self.c.p
+Only really makes mathematical sense when ``n`` divides ``self.c.p``.
  }}}
- You should doctest those places where Sage was segfaulting with zero division errors show that Sage now simply raises an error.


---

Comment by lftabera created at 2018-07-03 08:35:33

Changing status from needs_review to needs_work.


---

Comment by lftabera created at 2018-07-03 08:35:33

Thanks for your comments, I will update this.

Concerning this

Replying to [comment:9 tscrim]:
> - You should doctest those places where Sage was segfaulting with zero division errors show that Sage now simply raises an error.

The tests are already there, I even added some where sage does not segfault right now but to check that errors rise. I can add a docstring stating that those are a segfault tests.


---

Comment by tscrim created at 2018-07-03 08:40:31

Replying to [comment:10 lftabera]:
> Thanks for your comments, I will update this.
> 
> Concerning this
> 
> Replying to [comment:9 tscrim]:
> > - You should doctest those places where Sage was segfaulting with zero division errors show that Sage now simply raises an error.
> 
> The tests are already there, I even added some where sage does not segfault right now but to check that errors rise. I can add a docstring stating that those are a segfault tests.

It would be good to add a quick statement saying something like `Check that :trac:`25717` is fixed::`.


---

Comment by lftabera created at 2018-07-03 10:44:21

Replying to [comment:9 tscrim]:
> - Bad copy/paste:
>   {{{
>     def __repr__(self):
>         """
>         Return the degree of self
>   }}}
>   Also should be ```self``.` (same for `degree`).

I change this for notmal methods, but I think that for __repr__ I should delete the sentence, I have not documented standard underscore python methods.


---

Comment by tscrim created at 2018-07-03 10:48:54

Replying to [comment:12 lftabera]:
> Replying to [comment:9 tscrim]:
> > - Bad copy/paste:
> >   {{{
> >     def __repr__(self):
> >         """
> >         Return the degree of self
> >   }}}
> >   Also should be ```self``.` (same for `degree`).
> 
> I change this for notmal methods, but I think that for __repr__ I should delete the sentence, I have not documented standard underscore python methods.

That's fine. When I do it, I add a simple one-liner, but I don't care at all.


---

Comment by git created at 2019-07-16 10:26:25

Branch pushed to git repo; I updated commit sha1. New commits:
