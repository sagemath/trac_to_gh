# Issue 18143: New class for CombinatorialObject +  Element + ClasscallMetaclass

Issue created by migration from https://trac.sagemath.org/ticket/18380

Original creator: jdemeyer

Original creation time: 2015-05-08 08:53:18

CC:  nthiery

The combination

```
class Foo(CombinatorialObject, Element):
    __metaclass__ = ClasscallMetaclass
```


occurs often enough in `combinat` that it makes sense to define a new class for this.


---

Comment by jdemeyer created at 2015-05-08 10:57:54

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-05-08 10:57:54

New commits:


---

Comment by tscrim created at 2015-05-08 15:28:53

Hey Jeroen,

Thank you for your work on this. The current long-term goal is to do a similar replacement with (the cythonized) `ClonableArray`, although I'm not quite sure how much more work it would be to switch from `CombinatorialElement`, but maybe we can try that here. Additionally with your recent work with allowing extension classes to support metaclasses, perhaps we can put the `classcall_metaclass` directly into there? Or keep with the inbetween c/python class. Thoughts (and from Nicolas in cc)?


---

Comment by jdemeyer created at 2015-05-08 15:35:13

Replying to [comment:3 tscrim]:
> Hey Jeroen,
> 
> Thank you for your work on this. The current long-term goal is to do a similar replacement with (the cythonized) `ClonableArray`, although I'm not quite sure how much more work it would be to switch from `CombinatorialElement`, but maybe we can try that here.
Well, my main reason for this ticket here is to simplify #18329, so I would prefer to merge this ticket quickly and postpone the switch to `ClonableArray` to a different ticket.

> Additionally with your recent work with allowing extension classes to support metaclasses, perhaps we can put the `classcall_metaclass` directly into there?
Well, `ClasscallMetaclass` doesn't quite work yet from Cython. The Cython metaclass mechanism from #18330 is still a bit of a hack and in particular it will not work when the metaclass has attributes.


---

Comment by tscrim created at 2015-05-09 23:17:39

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2015-05-09 23:17:39

I tried to make the change and, while it seems easy enough, it will take a little bit of work. So then this will make it easier to move in that direction; positive review.


---

Comment by vbraun created at 2015-05-13 11:33:52

Resolution: fixed
