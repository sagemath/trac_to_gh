# Issue 12089: Bring Doctest coverage for element_ext_pari.py to 100%

Issue created by migration from Trac.

Original creator: roed

Original creation time: 2012-01-04 13:27:31

Assignee: mvngu

CC:  robertwb

Part of metaticket #12024


---

Comment by roed created at 2012-01-04 14:32:28

Changing status from new to needs_review.


---

Attachment


---

Comment by kcrisman created at 2012-01-27 03:45:18

I'm finding it hard to find any problems with this that aren't nearly trivial.  Comments that may or may not warrant addressing:
 * Typo 
  {{{
The has of this element 
  }}}
 * `def __compat(self, other):` removed because...?  (I assume this is obvious to someone familiar with this code, but they haven't reviewed this.)
 * I really like that you actually mention that the doctests are indirect when they are.  We need to do that more.
 * You got 'em:

```
$ ../../sage -coverage ../../devel/sage/sage/rings/finite_rings/element_ext_pari.py
----------------------------------------------------------------------
../../devel/sage/sage/rings/finite_rings/element_ext_pari.py
SCORE ../../devel/sage/sage/rings/finite_rings/element_ext_pari.py: 100% (31 of 31)
----------------------------------------------------------------------
```

   and testing seems fine.
 * Although not really part of this ticket, one _could_ add this to the reference manual; if so, might as well change `See self.square_root()` to `See :meth:`square_root`` or whatever the right syntax is.
 * Really picky; is it Pari or pari, officially?  I feel like this was unified at some point in our docs.
 * There is a typo that has nothing to do with this ticket but should be fixed - `probabalistic`
 
Let me know what you want to deal with on a refresh (probably at least the typos) and otherwise this should go in.


---

Attachment

Apply this patch only


---

Comment by roed created at 2012-02-02 09:17:02

Sorry: I should have made a reviewer patch rather than a whole new one.  But I'd already qrefreshed...


---

Comment by kcrisman created at 2012-02-02 18:24:52

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2012-02-02 18:24:52

That's ok.    Patch is fine.

I don't feel comfortable giving final positive review because of the `__compat` issue - again, I'm sure this is obvious to those in the know, but I don't want to be responsible for removing a function it turns out is crucial to someone (even an underscore function).

Also (less crucially) now I realize that I think the [folks in Bordeaux](http://pari.math.u-bordeaux.fr/) _really_ want PARI and not Pari... I just don't know, and hate all that stuff, but it's probably important to them.

Jeroen probably also won't accept this due to the commit "message".  I'm really sorry... I know from experience how much work doctest upgrades end up taking when you think they will be a 5-minute job.


---

Comment by roed created at 2012-02-02 20:02:50

Most recent update


---

Attachment

No problem.  I'm not convinced that we need to worry about the `__compat` function since it's a double underscore method (and does something useful only to coercion), but oh well: I added a deprecation warning instead.

I also updated the commit message and changed Pari to PARI.


---

Comment by roed created at 2012-02-02 20:04:50

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2012-02-02 20:18:11

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2012-02-02 20:18:11

As I suspected, changing `raise` to `Raise` would cause problems.

```
./sage -b
<snip>
SyntaxError: invalid syntax (element_ext_pari.py, line 653)
Error importing ipy_profile_sage - perhaps you should run %upgrade?
WARNING: Loading of ipy_profile_sage failed.
```

I don't mind you removing that function!  I just don't know what it does or why it can now be removed - actually, upon reading it, it does make sense.  If someone else (e.g., robertwb) can verify that the same functionality of checking that two such elements come from the same finite field is in Sage, I am very happy with reducing our doctest needs by removing that.


---

Comment by roed created at 2012-02-02 20:44:29

Even more recent update.  It would be nice to be able to delete patches....


---

Comment by roed created at 2012-02-02 20:46:10

Changing status from needs_work to needs_review.


---

Attachment

Oops.  Command C on a Mac capitalizes things; that was not intentional.

I've removed `__compat` again. I'll find someone else to sign off on it.

Apply 12261.4.patch only.


---

Comment by aly.deines created at 2012-02-02 23:10:26

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-02-06 21:25:47

Resolution: fixed
