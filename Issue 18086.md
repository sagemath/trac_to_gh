# Issue 18086: switch to C++11

archive/issues_018086.json:
```json
{
    "body": "Keywords: c++ gcc cxx gcc5\n\nC++11 is at least needed by NTL and a development version of Pynac, and it's the default with gcc5.\n\nhttps://en.wikipedia.org/wiki/C%2B%2B11\n\nThe complications are eg compile errors in lcalc headers:\n\n```\nIn file included from ../local/include/libLfunction/Lglobals.h:48:0,\n                 from ../local/include/libLfunction/L.h:40,\n                 from build/cythonized/sage/libs/lcalc/lcalc_sage.h:1,\n                 from build/cythonized/sage/libs/lcalc/lcalc_Lfunction.cpp:337:\n../local/include/libLfunction/Lcommon.h: In member function \u2018void smallPoly<T>::resize(int)\u2019:\n../local/include/libLfunction/Lcommon.h:71:23: error: expected \u2018;\u2019 before \u2018i\u2019\n   loop(i,this->N,N)\n                       ^\n../local/include/libLfunction/Lcommon.h:71:36: error: \u2018i\u2019 was not declared in this scope\n   loop(i,this->N,N)\n                                    ^\n../local/include/libLfunction/Lcommon.h: In function \u2018smallPoly<T>::poly operator*(const poly&, const poly&)\u2019:\n../local/include/libLfunction/Lcommon.h:87:15: error: there are no arguments to \u2018typeof\u2019 that depend on a template parameter, so a declaration of \u2018typeof\u2019 must be available [-fpermissive]\n   loop(i,0,f.N) result[i]=0;\n               ^\n../local/include/libLfunction/Lcommon.h:87:15: note: (if you use \u2018-fpermissive\u2019, G++ will accept your code, but allowing the use of an undeclared name is deprecated)\n```\n\nWe don't want these to go through with `-fpermissive`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18323\n\n",
    "created_at": "2015-04-28T16:11:00Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "switch to C++11",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18086",
    "user": "@rwst"
}
```
Keywords: c++ gcc cxx gcc5

C++11 is at least needed by NTL and a development version of Pynac, and it's the default with gcc5.

https://en.wikipedia.org/wiki/C%2B%2B11

The complications are eg compile errors in lcalc headers:

```
In file included from ../local/include/libLfunction/Lglobals.h:48:0,
                 from ../local/include/libLfunction/L.h:40,
                 from build/cythonized/sage/libs/lcalc/lcalc_sage.h:1,
                 from build/cythonized/sage/libs/lcalc/lcalc_Lfunction.cpp:337:
../local/include/libLfunction/Lcommon.h: In member function ‘void smallPoly<T>::resize(int)’:
../local/include/libLfunction/Lcommon.h:71:23: error: expected ‘;’ before ‘i’
   loop(i,this->N,N)
                       ^
../local/include/libLfunction/Lcommon.h:71:36: error: ‘i’ was not declared in this scope
   loop(i,this->N,N)
                                    ^
../local/include/libLfunction/Lcommon.h: In function ‘smallPoly<T>::poly operator*(const poly&, const poly&)’:
../local/include/libLfunction/Lcommon.h:87:15: error: there are no arguments to ‘typeof’ that depend on a template parameter, so a declaration of ‘typeof’ must be available [-fpermissive]
   loop(i,0,f.N) result[i]=0;
               ^
../local/include/libLfunction/Lcommon.h:87:15: note: (if you use ‘-fpermissive’, G++ will accept your code, but allowing the use of an undeclared name is deprecated)
```

We don't want these to go through with `-fpermissive`.

Issue created by migration from https://trac.sagemath.org/ticket/18323





---

archive/issue_comments_243665.json:
```json
{
    "body": "Well, we don't **have to** compile everything in C++ (implicitly or explicitly) with `-std=c++11`, but Lcalc's special anyway (cf. http://trac.sagemath.org/ticket/12437#comment:15 for example).  See also #12426 and many (already closed) tickets dealing with C++11/GCC 4.7, 5.x.",
    "created_at": "2015-04-28T17:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243665",
    "user": "@nexttime"
}
```

Well, we don't **have to** compile everything in C++ (implicitly or explicitly) with `-std=c++11`, but Lcalc's special anyway (cf. http://trac.sagemath.org/ticket/12437#comment:15 for example).  See also #12426 and many (already closed) tickets dealing with C++11/GCC 4.7, 5.x.



---

archive/issue_comments_243666.json:
```json
{
    "body": "P.S.:  While the GCC 4.6 and 4.7 series reached \"end of life\", there are still (LTS) distros using these.",
    "created_at": "2015-04-28T17:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243666",
    "user": "@nexttime"
}
```

P.S.:  While the GCC 4.6 and 4.7 series reached "end of life", there are still (LTS) distros using these.



---

archive/issue_comments_243667.json:
```json
{
    "body": "Remember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?",
    "created_at": "2015-04-28T23:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243667",
    "user": "@kiwifb"
}
```

Remember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?



---

archive/issue_comments_243668.json:
```json
{
    "body": "We should list all the other tickets for `C++11` or have a meta ticket somewhere.",
    "created_at": "2015-04-29T00:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243668",
    "user": "@kiwifb"
}
```

We should list all the other tickets for `C++11` or have a meta ticket somewhere.



---

archive/issue_comments_243669.json:
```json
{
    "body": "Replying to [comment:3 fbissey]:\n> Remember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?\n\nAhem, like #18326, which is a duplicate of #18247? B)",
    "created_at": "2015-04-29T01:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243669",
    "user": "@nexttime"
}
```

Replying to [comment:3 fbissey]:
> Remember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?

Ahem, like #18326, which is a duplicate of #18247? B)



---

archive/issue_comments_243670.json:
```json
{
    "body": "Replying to [comment:4 fbissey]:\n> We should list all the other tickets for `C++11` or have a meta ticket somewhere. \n\nWe've already done a lot in that direction in the past, see for example the closed metaticket on GCC 4.7.0 (#12751), or [search for C++11 on trac](http://trac.sagemath.org/search?q=C%2B%2B11&noquickjump=1&ticket=on).\n\nRelated: #12426 (Metaticket for Clang; at least some issues are related to C++ or GNUisms)",
    "created_at": "2015-04-29T09:27:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243670",
    "user": "@nexttime"
}
```

Replying to [comment:4 fbissey]:
> We should list all the other tickets for `C++11` or have a meta ticket somewhere. 

We've already done a lot in that direction in the past, see for example the closed metaticket on GCC 4.7.0 (#12751), or [search for C++11 on trac](http://trac.sagemath.org/search?q=C%2B%2B11&noquickjump=1&ticket=on).

Related: #12426 (Metaticket for Clang; at least some issues are related to C++ or GNUisms)



---

archive/issue_comments_243671.json:
```json
{
    "body": "I like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301now...",
    "created_at": "2015-04-29T09:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243671",
    "user": "@kiwifb"
}
```

I like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301now...



---

archive/issue_comments_243672.json:
```json
{
    "body": "Replying to [comment:7 fbissey]:\n> I like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301 now...\n\nThere's a thread \"Issues with GCC 5.x\" on sage-devel.  Besides MPIR, Lcalc, and ncurses (all fixed), I'm having problems with gf2x on x86_64 (work-around: `-O0` or `GF2X_CONFIGURE=--disable-hardware-specific-code`).",
    "created_at": "2015-04-29T10:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243672",
    "user": "@nexttime"
}
```

Replying to [comment:7 fbissey]:
> I like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301 now...

There's a thread "Issues with GCC 5.x" on sage-devel.  Besides MPIR, Lcalc, and ncurses (all fixed), I'm having problems with gf2x on x86_64 (work-around: `-O0` or `GF2X_CONFIGURE=--disable-hardware-specific-code`).



---

archive/issue_comments_243673.json:
```json
{
    "body": "I just confirmed that you simply cannot compile a package with C++11 and expect the `.so` file to match all references generated by libsage compilation using a pre-C++11 compile. Specifically the template `class std::vector<GiNaC::ex>` will create incompatible code.\n\nOkay, you knew that beforehand, but I had to prove it to myself.",
    "created_at": "2015-04-30T07:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243673",
    "user": "@rwst"
}
```

I just confirmed that you simply cannot compile a package with C++11 and expect the `.so` file to match all references generated by libsage compilation using a pre-C++11 compile. Specifically the template `class std::vector<GiNaC::ex>` will create incompatible code.

Okay, you knew that beforehand, but I had to prove it to myself.



---

archive/issue_comments_243674.json:
```json
{
    "body": "Sorry for specializing but only this guarantees that I will be working on it.",
    "created_at": "2015-04-30T07:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243674",
    "user": "@rwst"
}
```

Sorry for specializing but only this guarantees that I will be working on it.



---

archive/issue_comments_243675.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-30T08:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243675",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_243676.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-30T08:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243676",
    "user": "@rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_243677.json:
```json
{
    "body": "I'll be picky.\n 1) I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.\n 2) cosmetic, the indentation is wrong.\n 3) do you need to define a variable with an extra long name to replace what is just `-std=c++11` in only three different places? It feels overkill. I would have tolerated a variable with a shorter name, to switch `C++11` on - we'll see more of that certainly. Unless you plan to add more flags in the near future, I don't see why it should be symbolics specific",
    "created_at": "2015-04-30T09:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243677",
    "user": "@kiwifb"
}
```

I'll be picky.
 1) I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.
 2) cosmetic, the indentation is wrong.
 3) do you need to define a variable with an extra long name to replace what is just `-std=c++11` in only three different places? It feels overkill. I would have tolerated a variable with a shorter name, to switch `C++11` on - we'll see more of that certainly. Unless you plan to add more flags in the near future, I don't see why it should be symbolics specific



---

archive/issue_comments_243678.json:
```json
{
    "body": "Thanks for the input. We could as well wait until gcc5 is mandatory in Sage, or even earlier, as soon as all C++ packages compile with C++11, and then switch globally. It's not that there is pressing interest in Pynac right now.",
    "created_at": "2015-04-30T12:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243678",
    "user": "@rwst"
}
```

Thanks for the input. We could as well wait until gcc5 is mandatory in Sage, or even earlier, as soon as all C++ packages compile with C++11, and then switch globally. It's not that there is pressing interest in Pynac right now.



---

archive/issue_comments_243679.json:
```json
{
    "body": "Just for the record:  `g++` 5.x doesn't default to `-std=c++11`, not even `-std=gnu++11` or `-std=gnu++0x`, but `-std=gnu++98`.",
    "created_at": "2015-04-30T14:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243679",
    "user": "@nexttime"
}
```

Just for the record:  `g++` 5.x doesn't default to `-std=c++11`, not even `-std=gnu++11` or `-std=gnu++0x`, but `-std=gnu++98`.



---

archive/issue_comments_243680.json:
```json
{
    "body": "... and the first `g++` version said to be C++11 feature-complete is 4.8.1.\n\nSince we already have 4.9.2 in Sage, we'd \"just\" have to `SAGE_INSTALL_GCC` on systems with 4.8.0 (if such exist at all), 4.7, 4.6, and earlier.\n\nUbuntu 12.04 with 5-year LTS still ships with \"Ubuntu/Linaro GCC\" 4.6 for example.",
    "created_at": "2015-04-30T14:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243680",
    "user": "@nexttime"
}
```

... and the first `g++` version said to be C++11 feature-complete is 4.8.1.

Since we already have 4.9.2 in Sage, we'd "just" have to `SAGE_INSTALL_GCC` on systems with 4.8.0 (if such exist at all), 4.7, 4.6, and earlier.

Ubuntu 12.04 with 5-year LTS still ships with "Ubuntu/Linaro GCC" 4.6 for example.



---

archive/issue_comments_243681.json:
```json
{
    "body": "If you have time, you could try building Sage with `-Werror=c++11-compat` in `CXXFLAGS` (`CFLAGS` for modules built by distutils, or added to `extra_compile_args`)... :P",
    "created_at": "2015-04-30T16:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243681",
    "user": "@nexttime"
}
```

If you have time, you could try building Sage with `-Werror=c++11-compat` in `CXXFLAGS` (`CFLAGS` for modules built by distutils, or added to `extra_compile_args`)... :P



---

archive/issue_comments_243682.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-03T11:07:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243682",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_243683.json:
```json
{
    "body": "You should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.",
    "created_at": "2015-05-03T11:07:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243683",
    "user": "@jdemeyer"
}
```

You should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.



---

archive/issue_comments_243684.json:
```json
{
    "body": "Replying to [comment:20 jdemeyer]:\n> You should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.\nHow do I do that? The manual says nothing of it:\n\n\"A definition file can contain:\n\n* Any kind of C type declaration.\n* extern C function or variable declarations.\n* Declarations of C functions defined in the module.\n* The definition part of an extension type (see below).\"",
    "created_at": "2015-05-27T07:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243684",
    "user": "@rwst"
}
```

Replying to [comment:20 jdemeyer]:
> You should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.
How do I do that? The manual says nothing of it:

"A definition file can contain:

* Any kind of C type declaration.
* extern C function or variable declarations.
* Declarations of C functions defined in the module.
* The definition part of an extension type (see below)."



---

archive/issue_comments_243685.json:
```json
{
    "body": "See #18450 (note that this ticket might also conflict with that)",
    "created_at": "2015-05-27T07:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243685",
    "user": "@jdemeyer"
}
```

See #18450 (note that this ticket might also conflict with that)



---

archive/issue_comments_243686.json:
```json
{
    "body": "This works now but still relies on a C++11 compiler. It was discussed above what efforts were already done to make the rest of Sage gcc5 compatible. My mistake was to assume that with gcc5 we would automatically get C++11. So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?\n----\nNew commits:",
    "created_at": "2015-05-27T09:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243686",
    "user": "@rwst"
}
```

This works now but still relies on a C++11 compiler. It was discussed above what efforts were already done to make the rest of Sage gcc5 compatible. My mistake was to assume that with gcc5 we would automatically get C++11. So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?
----
New commits:



---

archive/issue_comments_243687.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-27T09:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243687",
    "user": "@rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_243688.json:
```json
{
    "body": "If those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.",
    "created_at": "2015-05-27T09:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243688",
    "user": "@jdemeyer"
}
```

If those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.



---

archive/issue_comments_243689.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-27T09:38:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243689",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_243690.json:
```json
{
    "body": "This needs [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381): therefore, it needs to depend on #18450 or you need to wait for the next Cython release.",
    "created_at": "2015-05-27T09:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243690",
    "user": "@jdemeyer"
}
```

This needs [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381): therefore, it needs to depend on #18450 or you need to wait for the next Cython release.



---

archive/issue_comments_243691.json:
```json
{
    "body": "Replying to [comment:24 rws]:\n> So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?\n\nI don't think we should ever make `GCC 4.9.x` mandatory. What could be discussed is making `C++0x` or `C++11` support mandatory.",
    "created_at": "2015-05-27T09:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243691",
    "user": "@jdemeyer"
}
```

Replying to [comment:24 rws]:
> So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?

I don't think we should ever make `GCC 4.9.x` mandatory. What could be discussed is making `C++0x` or `C++11` support mandatory.



---

archive/issue_comments_243692.json:
```json
{
    "body": "Replying to [comment:25 jdemeyer]:\n> If those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.\nIndeed, it boils down to `expression.pxd`.\n> it needs to depend on #18450 or you need to wait for the next Cython release.\nIt's pending, so just wait. I expect some friction with mandatory C++11, anyway.\n----\nNew commits:",
    "created_at": "2015-05-27T10:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243692",
    "user": "@rwst"
}
```

Replying to [comment:25 jdemeyer]:
> If those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.
Indeed, it boils down to `expression.pxd`.
> it needs to depend on #18450 or you need to wait for the next Cython release.
It's pending, so just wait. I expect some friction with mandatory C++11, anyway.
----
New commits:



---

archive/issue_comments_243693.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-27T10:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243693",
    "user": "@rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_243694.json:
```json
{
    "body": "Replying to [comment:30 rws]:\n> Indeed, it boils down to `expression.pxd`.\n\nReally? Not `ginac.pxd`?",
    "created_at": "2015-05-27T10:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243694",
    "user": "@jdemeyer"
}
```

Replying to [comment:30 rws]:
> Indeed, it boils down to `expression.pxd`.

Really? Not `ginac.pxd`?



---

archive/issue_comments_243695.json:
```json
{
    "body": "Replying to [comment:31 jdemeyer]:\n> Replying to [comment:30 rws]:\n> > Indeed, it boils down to `expression.pxd`.\n> \n> Really? Not `ginac.pxd`?\n\nNever had a look at that: both work because the same files are affected. Granted, it would fit better with `ginac.pxd`.",
    "created_at": "2015-05-27T13:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243695",
    "user": "@rwst"
}
```

Replying to [comment:31 jdemeyer]:
> Replying to [comment:30 rws]:
> > Indeed, it boils down to `expression.pxd`.
> 
> Really? Not `ginac.pxd`?

Never had a look at that: both work because the same files are affected. Granted, it would fit better with `ginac.pxd`.



---

archive/issue_comments_243696.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-27T13:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243696",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_243697.json:
```json
{
    "body": "Replying to [comment:30 rws]:\n> I expect some friction with mandatory C++11, anyway.\nPersonally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).\n\nI put back the dependency on #18450 since otherwise this patch won't work properly.",
    "created_at": "2015-05-27T15:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243697",
    "user": "@jdemeyer"
}
```

Replying to [comment:30 rws]:
> I expect some friction with mandatory C++11, anyway.
Personally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).

I put back the dependency on #18450 since otherwise this patch won't work properly.



---

archive/issue_comments_243698.json:
```json
{
    "body": "Replying to [comment:34 jdemeyer]:\n> Replying to [comment:30 rws]:\n> > I expect some friction with mandatory C++11, anyway.\n> Personally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).\nFrom a table I have here 4.6 is missing `override`. I could hold back usage of `override`, no problem.",
    "created_at": "2015-05-27T16:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243698",
    "user": "@rwst"
}
```

Replying to [comment:34 jdemeyer]:
> Replying to [comment:30 rws]:
> > I expect some friction with mandatory C++11, anyway.
> Personally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).
From a table I have here 4.6 is missing `override`. I could hold back usage of `override`, no problem.



---

archive/issue_comments_243699.json:
```json
{
    "body": "Coming back to this... We could check for the feature that are necessary. If you need `override` we can first check for `c++11` as suggested by Jeroen, once we know that we have a `c++11` switch we can check for particular features like `override` it is just a matter of writing a test in `configure.ac`.\n\nBut making a decision on what we should want as minimal features for the compiler should be matter of debate on sage-devel.",
    "created_at": "2015-09-22T03:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243699",
    "user": "@kiwifb"
}
```

Coming back to this... We could check for the feature that are necessary. If you need `override` we can first check for `c++11` as suggested by Jeroen, once we know that we have a `c++11` switch we can check for particular features like `override` it is just a matter of writing a test in `configure.ac`.

But making a decision on what we should want as minimal features for the compiler should be matter of debate on sage-devel.



---

archive/issue_comments_243700.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-22T08:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243700",
    "user": "@jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_243701.json:
```json
{
    "body": "Replying to [comment:14 fbissey]:\n> I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.\n\nI totally agree. Close as \"wontfix\"?",
    "created_at": "2015-09-22T08:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243701",
    "user": "@jdemeyer"
}
```

Replying to [comment:14 fbissey]:
> I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.

I totally agree. Close as "wontfix"?



---

archive/issue_comments_243702.json:
```json
{
    "body": "Replying to [comment:37 jdemeyer]:\n> Replying to [comment:14 fbissey]:\n> > I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.\n> \n> I totally agree. Close as \"wontfix\"?\n\nI am fine with closing. We should open a new ticket when we have decided exactly what we want on sage-devel.",
    "created_at": "2015-09-22T08:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243702",
    "user": "@kiwifb"
}
```

Replying to [comment:37 jdemeyer]:
> Replying to [comment:14 fbissey]:
> > I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.
> 
> I totally agree. Close as "wontfix"?

I am fine with closing. We should open a new ticket when we have decided exactly what we want on sage-devel.



---

archive/issue_comments_243703.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-22T08:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243703",
    "user": "@kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_243704.json:
```json
{
    "body": "I disagree. Holding back on allowing C++11 just means \n* taking on more technical debt as authors can't take advantage of the new features, writing code that may have to be changed later\n* prevent contributors from being exposed to new C++11 features, slowing down their learning\n* online C++ resources increasingly include C++11 features, making it even more difficult to learn how to not use them \n* delaying the inevitable, we'll have to shitlist broken compilers anyways",
    "created_at": "2015-09-25T08:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243704",
    "user": "@vbraun"
}
```

I disagree. Holding back on allowing C++11 just means 
* taking on more technical debt as authors can't take advantage of the new features, writing code that may have to be changed later
* prevent contributors from being exposed to new C++11 features, slowing down their learning
* online C++ resources increasingly include C++11 features, making it even more difficult to learn how to not use them 
* delaying the inevitable, we'll have to shitlist broken compilers anyways



---

archive/issue_comments_243705.json:
```json
{
    "body": "This ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.\n\nBesides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.",
    "created_at": "2015-09-25T08:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243705",
    "user": "@jdemeyer"
}
```

This ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.

Besides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.



---

archive/issue_comments_243706.json:
```json
{
    "body": "Replying to [comment:40 jdemeyer]:\n> This ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.\n> \n\nAnd a separate ticket wasn't the right place for it.\n\n> Besides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.\n\nThis ticket is not the right forum for the discussion. \n\nNevertheless which minimum `gcc` would we be aiming for?",
    "created_at": "2015-09-25T08:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243706",
    "user": "@kiwifb"
}
```

Replying to [comment:40 jdemeyer]:
> This ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.
> 

And a separate ticket wasn't the right place for it.

> Besides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.

This ticket is not the right forum for the discussion. 

Nevertheless which minimum `gcc` would we be aiming for?



---

archive/issue_comments_243707.json:
```json
{
    "body": "Replying to [comment:41 fbissey]:\n> This ticket is not the right forum for the discussion.\nRight, there is already a thread on sage-devel. Let's just close this discussion here.",
    "created_at": "2015-09-25T08:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243707",
    "user": "@jdemeyer"
}
```

Replying to [comment:41 fbissey]:
> This ticket is not the right forum for the discussion.
Right, there is already a thread on sage-devel. Let's just close this discussion here.



---

archive/issue_comments_243708.json:
```json
{
    "body": "Replying to [comment:40 jdemeyer]:\n>  Once their code gets in Sage, we make the switch in Sage.\n\nWe are facing this problem for the update of LinBox Givaro and fflas-ffpack in #17635.",
    "created_at": "2015-09-25T08:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243708",
    "user": "@ClementPernet"
}
```

Replying to [comment:40 jdemeyer]:
>  Once their code gets in Sage, we make the switch in Sage.

We are facing this problem for the update of LinBox Givaro and fflas-ffpack in #17635.



---

archive/issue_comments_243709.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2015-09-30T21:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18086",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18086#issuecomment-243709",
    "user": "@vbraun"
}
```

Resolution: wontfix
