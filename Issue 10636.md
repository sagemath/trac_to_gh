# Issue 10636: new method RootSystem.root_poset

Issue created by migration from Trac.

Original creator: stumpc5

Original creation time: 2011-01-26 02:57:54

Assignee: sage-combinat

Keywords: root system, root poset

This patch contains the implementation of the root poset for root systems.


---

Comment by nthiery created at 2011-01-26 07:34:19

Hi Christian!

Thanks for this useful feature!

A couple suggestions:

 - Thanks for being careful with potential conflicts with #6588 (so far so good :-))
 - I would prefer to call the method as
   RootSystem(["A",3]).root_lattice().root_poset() (possibly with a shortcut from root system, to possibly let the user choose in which realization the roots are returned
 - The code could be written generically for any RootLatticeRealization by computing scalar products with coweights.
 - Even without using scalar products, there should be no need to use dict's. Better use instead something like:


```
   for (i,c) in alpha:
       if beta[i] < c: ...
```


 - The root comparison function could be extracted as a separate method, as it could be of more general use

Cheers,
                                 Nicolas


---

Comment by stumpc5 created at 2011-01-26 23:26:24

>  - I would prefer to call the method as
>    RootSystem(["A",3]).root_lattice().root_poset() (possibly with a shortcut from root system, to possibly let the user choose in which realization the roots are returned

I only moved the method to the root lattice realization for now.

>  - The code could be written generically for any RootLatticeRealization by computing scalar products with coweights.

this is still not done.

>  - Even without using scalar products, there should be no need to use dict's.

done.

>  - The root comparison function could be extracted as a separate method, as it could be of more general use

done, maybe there should be a better name, and it might be good to exclude negative roots.


---

Comment by stumpc5 created at 2011-06-10 16:32:14

Changing status from new to needs_review.


---

Comment by chapoton created at 2011-06-10 19:01:31

I have read the patch, I have two comments.

1) Maybe the doc could make use of Sphinx markup, to replace alpha and beta by true greek letters.

2) Maybe one could also implement the poset of positive-but-not-simple-roots (under what name, I do not know) ? This is another very useful poset, at least for me.


---

Comment by stumpc5 created at 2011-06-10 23:15:20

Replying to [comment:4 chapoton]:
> 1) Maybe the doc could make use of Sphinx markup, to replace alpha and beta by true greek letters.

done

> 2) Maybe one could also implement the poset of positive-but-not-simple-roots (under what name, I do not know) ? This is another very useful poset, at least for me.

It is! I added an optional argument `restricted` which can be used to obtain this *restricted root poset*. If you know a better name, feel free to change it...


---

Comment by chapoton created at 2011-06-11 20:42:22

ok, this is nice, but I would like to see the result of the Sphinx markup. I have doubts about the capital at the beginning of \Leftrightarrow... could you put this patch in the combinat queue ?


---

Comment by stumpc5 created at 2011-06-11 21:38:16

Replying to [comment:6 chapoton]:
> ok, this is nice, but I would like to see the result of the Sphinx markup. I have doubts about the capital at the beginning of \Leftrightarrow... could you put this patch in the combinat queue ?

I pushed it to the queue -- I build the doc yesterday and looked at it, this patch seems to build properly.


---

Comment by chapoton created at 2011-06-13 18:53:41

The Sphinx markup does not work nicely. I wonder why you used the latex command '\text' instead of just closing the latex environnement.


---

Comment by stumpc5 created at 2011-06-13 19:46:09

Replying to [comment:8 chapoton]:
> The Sphinx markup does not work nicely. I wonder why you used the latex command '\text' instead of just closing the latex environnement.

How do I actually check if a patch contains any warnings or errors? When I build it, I don't see anything wrong looking at the (html) output.

I used '\text' to have this statement written in latex text style rather than in the usual text style. I found this output emphasising the statement better.

Best, Christian


---

Attachment


---

Comment by stumpc5 created at 2011-06-13 20:42:58

Replying to [comment:9 stumpc5]:
> Replying to [comment:8 chapoton]:
> > The Sphinx markup does not work nicely. I wonder why you used the latex command '\text' instead of just closing the latex environnement.

I also found another typo, so I changed it according to your suggestion...


---

Comment by chapoton created at 2011-06-16 18:26:49

Everything looks good, so positive review.


---

Comment by chapoton created at 2011-06-16 18:26:56

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-06-18 09:23:02

This needs to be rebased to sage-4.7.1.alpha2.


---

Comment by jdemeyer created at 2011-06-18 09:23:02

Changing status from positive_review to needs_work.


---

Attachment

rebased to 4.7.1.alpha2


---

Comment by niles created at 2011-06-19 10:57:20

rebased; no other changes.


---

Comment by niles created at 2011-06-19 10:57:20

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2011-07-22 12:49:30

Resolution: fixed
