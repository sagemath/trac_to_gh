# Issue 20399: Add pictures to contour_plot.py

Issue created by migration from https://trac.sagemath.org/ticket/20636

Original creator: jhonrubia6

Original creation time: 2016-05-19 20:14:53

CC:  paulmasson

Add pictures to the documentation using .. PLOT:: directive


---

Comment by jhonrubia6 created at 2016-05-21 17:15:44

Changing status from new to needs_review.


---

Comment by jhonrubia6 created at 2016-05-21 17:15:44

New commits:


---

Comment by git created at 2016-05-21 17:49:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhonrubia6 created at 2016-05-21 17:54:25

The commit 5e7bfbc is incorrect (it belongs to another ticket)


---

Comment by git created at 2016-05-21 22:36:38

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tscrim created at 2016-05-29 08:09:01

Thank you for your work on adding the pictures and improving the documentation.

While it is good to be PEP8 compliant, strictly enforcing it can make things less readable, especially for someone who it looking at the doc on the webpages. In particular, when you move one argument to a second line when it only goes over 80 characters by a little bit makes it more difficult on the user (in particular, the new user/student). For example:

```diff
+        sage: contour_plot(f, (0, pi),
+        ....:              (0, pi)).show(axes=True) # These are equivalent
```


```diff
-        sage: contour_plot(x**2-y**2, (x,-2, 2), (y,-2, 2),region=x-y,plot_points=300)
+        sage: contour_plot(x**2-y**2, (x,-2, 2), (y,-2, 2), region=x - y,
+        ....:              plot_points=300)
```


```diff
-        sage: implicit_plot(mandel(7), (-0.3, 0.05), (-1.15, -0.9),plot_points=50)
+        sage: implicit_plot(mandel(7), (-0.3, 0.05), (-1.15, -0.9),
+        ....:               plot_points=50)
```


```diff
-        sage: region_plot([x^2+y^2<1, x<y], (x,-2,2), (y,-2,2), plot_points=400)
+        sage: region_plot([x^2+y^2<1, x<y], (x,-2,2), (y,-2,2),
+        ....:             plot_points=400)
```


```diff
-        sage: region_plot(lambda x,y: x^2+y^2<1 or x<y, (x,-2,2), (y,-2,2), plot_points=400)
+        sage: region_plot(lambda x,y: x^2+y^2<1 or x<y, (x,-2,2), (y,-2,2),
+        ....:             plot_points=400)
```


```diff
-        sage: region_plot([y>0, x>0, x^2+y^2<1], (x,-1.1, 1.1), (y,-1.1, 1.1), plot_points = 400)
+        sage: region_plot([y>0, x>0, x^2+y^2<1], (x,-1.1, 1.1), (y,-1.1, 1.1),
+        ....:             plot_points = 400)
```


This same philosophy applies to the code itself. Also, you should revert the change to the copyright header. All of these comments apply to the other plotting tickets.

Your alignment is off on these changes:

```diff
-        sage: region_plot(sin(x)*sin(y) >= 1/4, (x,-10,10), (y,-10,10), incol='yellow', bordercol='black', borderstyle='dashed', plot_points=250)
+        sage: region_plot(sin(x)*sin(y) >= 1/4, (x,-10,10), (y,-10,10),
+        ....:            incol='yellow', bordercol='black',
+        ....:            borderstyle='dashed', plot_points=250)
```


```diff
-        sage: P=contour_plot(y^2 + 1 - x^3 - x, (x,-pi,pi), (y,-pi,pi), \
-        ...    fill=False, cmap='hsv', labels=True, label_inline_spacing=1)
+        sage: P = contour_plot(y^2 + 1 - x^3 - x, (x, -pi, pi), (y, -pi, pi),
+        ....:                fill=False, cmap='hsv', labels=True,
+        ....:                label_inline_spacing=1)
```



---

Comment by git created at 2016-05-30 15:39:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhonrubia6 created at 2016-05-30 15:43:56

I tried to use common sense on what did you mean by 'going over 80 char by a little bit'. I maintained it where it was more readable for me now. I'm open nevertheless to undo all of them if you disagree.
I have also corrected the indenting


---

Comment by paulmasson created at 2016-06-24 21:20:32

Docs build just fine and pictures look good. Same goes for #20637 and #20649.

As a minor point, shouldn't there be more consistency in white space between arguments? If major arguments are mostly separated by "comma space" shouldn't they all be done that way? And if most tuples don't have any interior white space, shouldn't they all match?


---

Comment by tscrim created at 2016-06-25 05:02:52

Sorry this fell off my radar. This looks good, except for this one:

```diff
-    f = [equify(g) for g in f if not (is_Expression(g) and g.operator() is operator.eq)]
+    f = [equify(g)
+         for g in f if not (is_Expression(g) and g.operator() is operator.eq)]
```

although I don't really care about this. `@`paulmasson I do agree that more consistency would be good (and a space between arguments of functions). I will leave it up to you if you want to have these changes in this ticket or to set it to a positive review as-in.


---

Comment by paulmasson created at 2016-06-27 22:54:59

I'd prefer that the white space be made consistent from the start.

Javier, have you gotten your authentication issue resolved?


---

Comment by jhonrubia6 created at 2016-06-29 19:03:53

I have my trac configuration fixed, and I would like to ask you about the spacing. What is better?

```
cmap = get_cmap([(i, i, i) for i in xsrange(0, 1, 1/contours)])
```

or

```
cmap = get_cmap([(i,i,i) for i in xsrange(0, 1, 1/contours)])
```

If I understand you correctly since `(i,i,i)` is a tuple should be without spaces, but it triggers an error in my pep8 checker.
(by the way, my trac config is finally fixed, thanks :-) )


---

Comment by git created at 2016-06-29 19:38:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulmasson created at 2016-06-29 20:41:01

Since PEP8 is about appearance of code and not meaning, I wouldn't worry about that. For the specific example you ask, I would close the white space both in the tuple and in the xsrange.

When I recommended have a space between arguments of functions, I should have been more specific and said that should apply to the right-hand side with many arguments. I see you changed `f(x,y)` to `f(x, y)` consistently on left-hand sides, but if it's not too much trouble I would ask you to change that back by omitting the space.

You've gotten most of the other things I saw, except there are three cases where `),plot_points` should be `), plot_points` and two cases where `),fill` should be `), fill`.

Also, the one plot with


```
contour_plot(x^2-y^3+10*sin(x*y),
+        ....:              (x,-4,4),
+        ....:              (y,-4,4),
+        ....:              plot_points=121, cmap='hsv')
```


would look better


```
contour_plot(x^2-y^3+10*sin(x*y), (x,-4,4), (y,-4,4),
+        ....:              plot_points=121, cmap='hsv')

```


With those changes I'll stop being so picky! Thanks for the patience.


---

Comment by git created at 2016-06-30 18:24:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulmasson created at 2016-06-30 21:15:21

Changing status from needs_review to positive_review.


---

Comment by paulmasson created at 2016-06-30 21:15:21

Looks good. Thanks!


---

Comment by vbraun created at 2016-07-01 16:56:58

Resolution: fixed
