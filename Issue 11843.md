# Issue 11843: L-series attached to general Euler products

Issue created by migration from Trac.

Original creator: was

Original creation time: 2011-11-12 18:20:39

Assignee: was

CC:  jdemeyer

This summer I wrote a package for psage (see http://code.google.com/p/purplesage/source/browse/psage/lseries/eulerprod.py) that allows one to compute with L-series attached to general Euler products, and implemented many cases, included everything supported in Sage, and a lot more.  This also did things that worked instead of the buggier #11631.   This code is similar to the L-series package in Magma, I guess (http://magma.maths.usyd.edu.au/magma/handbook/text/1503). 

It would be useful to have a stable version of this code in Sage, at least the parts that don't depend on 64-bit only stuff in psage (like smalljac).   The point of this ticket is to to do that. 


---

Attachment

first patch -- this implements all functionality for first version and passes all its tests.  Unfortunately, the doctest coverage score is 36%.  To finish this ticket, I have to get it to 100% and deal with the bugs that getting the coverage up reveals.


---

Comment by kcrisman created at 2012-01-10 03:59:04

Changing keywords from "" to "sd35.5".


---

Attachment

Second patch - Added a small function an, the class LSeriesTripleProduct, and some new doctests.  Unfortunately, adding more code outbalanced the new doctests so the coverage is still very low.  Noticed some bugs as well, such as zeros not being implemented, anlist allowing negative inputs, and taylor_series failing on some cases where it shouldn't.  Much work yet to be done.


---

Comment by was created at 2012-02-05 17:31:44

The patch trac_12015-part1_updated.patch has some issues:
  
  1. It patches a file called `sage/lfunctions/eulerprod_with_tripleprod.py` that is not even in my patch.   I'm guessing you took some old file from Sage days I had provided and started working on it.  However, that has little to do with the code in the patch I posted to this ticket. 

  2. Why was this change made?

```
        118	 	sage: K.<a> = NumberField(x^2-x-1) 
 	119	        sage: K.<a> = NumberField(x^2+1) 
```


  3. The code needs to be indented here, but isn't (in your patch):

```
        174	        EXAMPLES:: 
 	175	 
 	176	        sage: from sage.lfunctions.eulerprod import LSeries 
 	177	        sage: from sage.lfunctions.eulerprod import LSeriesDerivative 
 	178	        sage: K.<a>=NumberField(x^2+1) 
 	179	        sage: L=LSeries(K); L 
```


   4. Here in your patch the code is indented (good), but there is only one colon (instead of two) after EXAMPLES:

```
 	508	        EXAMPLES: 
 	509	 
 	510	            sage: from sage.lfunctions.eulerprod import LSeriesAbstract 
 	511	            sage: L1 = LSeriesAbstract(conductor=1, hodge_numbers=[0], weight=1, epsilon=1, poles=[1], residues=[-1], base_field=QQ) 
```



---

Comment by tornaria created at 2014-09-03 14:57:49

I have made a git commit with the first patch, and also a commit updating and fixing the existing doctests. The coverage score is still 36%, though.
----
New commits:


---

Comment by chapoton created at 2019-02-19 19:29:01

Changing keywords from "sd35.5" to "sd35.5, lseries".


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by chapoton created at 2019-04-27 17:22:55

adapted to python3
----
New commits:


---

Comment by git created at 2019-04-27 17:40:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-04-27 19:23:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-04-27 19:55:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-04-27 19:59:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-04-30 20:01:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by embray created at 2019-06-14 14:54:19

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).


---

Comment by chapoton created at 2019-08-24 19:55:59

There is a pari syntax error appearing in the doctests..


---

Comment by alexjbest created at 2019-09-05 17:09:36

I fixed a couple of tests that I had locally at https://github.com/alexjbest/psage . I think one major problem here still is the mix of things defined in eulerprod.py vs. dockchitser.py many functions like residues, epsilon should probably be for any dockchitser L-function if they are calling pari, with a wrapper in the LSeriesAbstract class?
----
New commits:


---

Comment by git created at 2022-06-07 06:23:48

Branch pushed to git repo; I updated commit sha1. New commits:
