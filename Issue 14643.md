# Issue 14643: Whittaker functions

archive/issues_014643.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat bump tscrim\n\nKeywords: Whittaker functions, nonsymmetric Macdonald polynomials\n\nThis patch implements Whittaker functions. It depends on #14102.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14847\n\n",
    "created_at": "2013-07-01T20:49:47Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "Whittaker functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14643",
    "user": "aschilling"
}
```
Assignee: sage-combinat

CC:  sage-combinat bump tscrim

Keywords: Whittaker functions, nonsymmetric Macdonald polynomials

This patch implements Whittaker functions. It depends on #14102.

Issue created by migration from https://trac.sagemath.org/ticket/14847





---

archive/issue_comments_186402.json:
```json
{
    "body": "Attachment [trac_14847-whittaker.patch](tarball://root/attachments/some-uuid/ticket14847/trac_14847-whittaker.patch) by bump created at 2013-08-12 18:18:58",
    "created_at": "2013-08-12T18:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186402",
    "user": "bump"
}
```

Attachment [trac_14847-whittaker.patch](tarball://root/attachments/some-uuid/ticket14847/trac_14847-whittaker.patch) by bump created at 2013-08-12 18:18:58



---

archive/issue_comments_186403.json:
```json
{
    "body": "Changing assignee from sage-combinat to bump.",
    "created_at": "2013-08-12T18:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186403",
    "user": "bump"
}
```

Changing assignee from sage-combinat to bump.



---

archive/issue_comments_186404.json:
```json
{
    "body": "I've imported the patch, but currently there are three failing doctests:\n\n\n```\nFailed example:\n    whittaker_function(omega[1], w, -1, v)\nExpected:\n    v^2*B[(-1, -1, 3)] + (v^2-v)*B[(-1, 1, 1)] + (v^2-v)*B[(-1, 0, 2)] + (v^2-v)*B[(0, -1, 2)] + (v^2-2*v+1)*B[(0, 0, 1)]\nGot:\n    B[(-1, -1, 3)] + (-v+1)*B[(-1, 1, 1)] + (-v+1)*B[(-1, 2, 0)] + (-v+1)*B[(-1, 0, 2)] + (v^2-2*v+1)*B[(1, 0, 0)] + (-v+1)*B[(1, -1, 1)] + (-v+1)*B[(0, -1, 2)] + (v^2-2*v+1)*B[(0, 1, 0)] + (v^2-2*v+1)*B[(0, 0, 1)]\n**********************************************************************\nFile \"src/sage/combinat/root_system/whittaker_function.py\", line 20, in sage.combinat.root_system.whittaker_function.whittaker_function\nFailed example:\n    whittaker_function(omega[1], w, -1, v)\nExpected:\n    v^2*B[(-1, -1, 3)] + (v^2-v)*B[(-1, 1, 1)] + (v^2-v)*B[(-1, 0, 2)] + (v^2-v)*B[(0, -1, 2)] + (v^2-2*v+1)*B[(0, 0, 1)]\nGot:\n    -B[(-1, 2)] + (v-1)*B[(1, 0)] + (v-1)*B[(0, 1)]\n**********************************************************************\nFile \"src/sage/combinat/root_system/whittaker_function.py\", line 22, in sage.combinat.root_system.whittaker_function.whittaker_function\nFailed example:\n    whittaker_function(omega[1], w, -1, v)\nExpected:\n    (v^2-v)*B[(-1, 1)] + v^2*B[(-1, 0)] + (v^2-v)*B[(0, 0)]\nGot:\n    -B[(-1, 2)] + (v-1)*B[(1, 0)] + (v-1)*B[(0, 1)]\n```\n\n----\nNew commits:",
    "created_at": "2014-08-03T15:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186404",
    "user": "jkeitel"
}
```

I've imported the patch, but currently there are three failing doctests:


```
Failed example:
    whittaker_function(omega[1], w, -1, v)
Expected:
    v^2*B[(-1, -1, 3)] + (v^2-v)*B[(-1, 1, 1)] + (v^2-v)*B[(-1, 0, 2)] + (v^2-v)*B[(0, -1, 2)] + (v^2-2*v+1)*B[(0, 0, 1)]
Got:
    B[(-1, -1, 3)] + (-v+1)*B[(-1, 1, 1)] + (-v+1)*B[(-1, 2, 0)] + (-v+1)*B[(-1, 0, 2)] + (v^2-2*v+1)*B[(1, 0, 0)] + (-v+1)*B[(1, -1, 1)] + (-v+1)*B[(0, -1, 2)] + (v^2-2*v+1)*B[(0, 1, 0)] + (v^2-2*v+1)*B[(0, 0, 1)]
**********************************************************************
File "src/sage/combinat/root_system/whittaker_function.py", line 20, in sage.combinat.root_system.whittaker_function.whittaker_function
Failed example:
    whittaker_function(omega[1], w, -1, v)
Expected:
    v^2*B[(-1, -1, 3)] + (v^2-v)*B[(-1, 1, 1)] + (v^2-v)*B[(-1, 0, 2)] + (v^2-v)*B[(0, -1, 2)] + (v^2-2*v+1)*B[(0, 0, 1)]
Got:
    -B[(-1, 2)] + (v-1)*B[(1, 0)] + (v-1)*B[(0, 1)]
**********************************************************************
File "src/sage/combinat/root_system/whittaker_function.py", line 22, in sage.combinat.root_system.whittaker_function.whittaker_function
Failed example:
    whittaker_function(omega[1], w, -1, v)
Expected:
    (v^2-v)*B[(-1, 1)] + v^2*B[(-1, 0)] + (v^2-v)*B[(0, 0)]
Got:
    -B[(-1, 2)] + (v-1)*B[(1, 0)] + (v-1)*B[(0, 1)]
```

----
New commits:



---

archive/issue_comments_186405.json:
```json
{
    "body": "This needs more documentation.\n\nMaybe the failing doctests are due to a change in the behaviour of 'an_element' ?\n----\nNew commits:",
    "created_at": "2014-12-27T20:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186405",
    "user": "chapoton"
}
```

This needs more documentation.

Maybe the failing doctests are due to a change in the behaviour of 'an_element' ?
----
New commits:



---

archive/issue_comments_186406.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-27T20:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186406",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_186407.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2015-11-14T19:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186407",
    "user": "chapoton"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_186408.json:
```json
{
    "body": "If somebody is still interested, could she please check the doctests ?",
    "created_at": "2015-11-14T19:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186408",
    "user": "chapoton"
}
```

If somebody is still interested, could she please check the doctests ?



---

archive/issue_comments_186409.json:
```json
{
    "body": "Nicolas and I wrote #14102 at a semester program at ICERM and left this ticket for the number theorists at ICERM to get Sage experience. We were hoping they (Ben Brubaker, ...) would finish this!",
    "created_at": "2015-11-15T01:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186409",
    "user": "aschilling"
}
```

Nicolas and I wrote #14102 at a semester program at ICERM and left this ticket for the number theorists at ICERM to get Sage experience. We were hoping they (Ben Brubaker, ...) would finish this!



---

archive/issue_comments_186410.json:
```json
{
    "body": "I can ask Ben if he would like to (help) finish this when I see him on Monday.",
    "created_at": "2015-11-15T02:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186410",
    "user": "tscrim"
}
```

I can ask Ben if he would like to (help) finish this when I see him on Monday.



---

archive/issue_comments_186411.json:
```json
{
    "body": "so, six years after, and nobody showing any interest, maybe we should close this one ?",
    "created_at": "2022-03-03T16:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186411",
    "user": "chapoton"
}
```

so, six years after, and nobody showing any interest, maybe we should close this one ?



---

archive/issue_comments_186412.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2022-03-03T16:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186412",
    "user": "chapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_186413.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-04T00:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186413",
    "user": "tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_186414.json:
```json
{
    "body": "More wishlist, but IMO closing a ticket due to a lack of interest is not a good precedent to set.",
    "created_at": "2022-03-04T00:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14643",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14643#issuecomment-186414",
    "user": "tscrim"
}
```

More wishlist, but IMO closing a ticket due to a lack of interest is not a good precedent to set.
