# Issue 31899: Add parameter 'induced' to `connected_subgraphs_iterator`

Issue created by migration from https://trac.sagemath.org/ticket/32136

Original creator: @galen-dorp

Original creation time: 2021-07-05 15:28:28

CC:  dcoudert

Keywords: connected graph, subgraph

Currently the `connected_subgraphs_iterator` returns sets of vertices whose induced subgraphs are connected. Instead, add a parameter `induced` to `connected_subgraphs_iterator`. When `induced` is set to False, the iterator should return the connected subgraphs themselves, rather than the vertices that induce connected subgraphs.

This ticket was opened based on a suggestion from dcoudert on Ticket #32047.


---

Comment by dcoudert created at 2022-10-15 18:03:15

Changing status from new to needs_review.


---

Comment by dcoudert created at 2022-10-15 18:03:15

This is a proposal for iterating over all non-induced subgraphs of a graph. I'm not sure that the name of the method is the best choice, but I don't have better proposals.
----
New commits:


---

Comment by git created at 2022-10-16 13:05:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2022-10-16 13:14:35

green bot, please review.


---

Comment by vdelecroix created at 2022-10-26 19:46:10

How complicated would it be to have parameters `min_num_edges`/`max_num_edges` in `connected_full_subgraphs`? I am asking because of https://gitlab.com/modulispaces/admcycles/-/issues/102.


---

Comment by dcoudert created at 2022-10-27 14:20:00

This is not difficult. I just need to figure out how to use some bitset intrisic to count the number of 1s in an unsigned long.


---

Comment by vdelecroix created at 2022-10-27 14:30:32

Isn't it `static inline long _bitset_len(mp_limb_t* bits, mp_bitcnt_t limbs)` from `bitset_intrinsics.h`?


---

Comment by dcoudert created at 2022-10-27 16:15:16

Yes. For some (unkown) reason, I crashed my sage installation while trying to fix the problem. I'm currently recompiling from scratch. I'll try again soon.


---

Comment by git created at 2022-10-28 10:42:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2022-10-28 10:43:55

This should answer #comment:8. I also fixed the output for digraphs.


---

Comment by vdelecroix created at 2022-10-28 10:53:57

Thanks! Let me check this afternoon how it performs in admcycles. Also, I don't remember if I want a fixed number of edges or rather a fixed weight (as each edge carries a positive integral weight there).


---

Comment by dcoudert created at 2022-10-28 11:02:49

It is possible to also consider weights, but not efficiently. This can be considered in another ticket.


---

Comment by vdelecroix created at 2022-10-28 11:47:21

Replying to [comment:15 David Coudert]:
> It is possible to also consider weights, but not efficiently. This can be considered in another ticket.

+1


---

Comment by dcoudert created at 2022-11-19 13:06:47

The random doctest errors reported by the patchbot in `src/sage/homology/tests.py` have been reported in #32544


---

Comment by vdelecroix created at 2022-11-20 15:04:42

Replying to [comment:16 Vincent Delecroix]:
> Replying to [comment:15 David Coudert]:
> > It is possible to also consider weights, but not efficiently. This can be considered in another ticket.
> 
> +1

In my application I have a simple graph `G` with positive integer weights on its edges and an integer `k`. I need to iterate through subset of edges 
- whose corresponding subgraph is connected
- of size at most `k` (the argument `min_edges` works for this)
- of total weight at least `k` (there is no such thing yet)

This ticket is still a good step forward. Thanks.


---

Comment by dcoudert created at 2022-12-10 13:17:08

If you are happy with this ticket, can we set it to positive review ? the patchbot is green
