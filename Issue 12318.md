# Issue 12318: Create a role :trac: to link to trac ticket in sphinx

Issue created by migration from Trac.

Original creator: hivert

Original creation time: 2012-02-10 13:23:38

Assignee: mvngu

CC:  kini ncohen novoselt

Keywords: Sphinx trac link

In the doc, putting `:trac:`5534`` adds a link to #5534.

I think its cool and useful.

Florent


---

Comment by hivert created at 2012-02-10 13:24:29

Changing keywords from "Sphinx trac link" to "Sphinx trac link Cernay2012".


---

Comment by hivert created at 2012-02-10 16:46:42

Changing status from new to needs_review.


---

Comment by ncohen created at 2012-02-10 18:05:06

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2012-02-10 18:05:06

Changing type from PLEASE CHANGE to enhancement.


---

Comment by ncohen created at 2012-02-10 18:05:06

Looks good ! Now we must remember to use this new syntax in the patches `:-)`

Perhaps it is worth sending a message to sage-devel to tell everybody about it ?

Nathann


---

Comment by hivert created at 2012-02-10 23:58:14

I forgot to add a log message in the header of the patch. I just uploaded a new patch which just add one. I don't think this need a re-review.


---

Comment by jdemeyer created at 2012-02-11 00:30:38

Please write a proper commit message for your patch, use hg qrefresh -e for this.


---

Comment by jdemeyer created at 2012-02-11 00:30:38

Changing status from positive_review to needs_work.


---

Comment by hivert created at 2012-02-11 00:56:11

Changing status from needs_work to positive_review.


---

Comment by hivert created at 2012-02-11 00:56:11

Replying to [comment:6 jdemeyer]:
> Please write a proper commit message for your patch, use hg qrefresh -e for this.

That's precisely why I uploaded a new patch 1 hour ago. Is there any problem with my message ?


---

Comment by jdemeyer created at 2012-02-11 09:29:14

Excellent!  There was a race condition between me checking patches and you uploading a new patch.


---

Comment by jdemeyer created at 2012-02-11 10:01:15

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2012-02-11 10:01:15

If you copy a doctest, you should copy it completely:

```
sage -t  "devel/sage/doc/en/developer/sage_manuals.rst"
**********************************************************************
File "/usr/local/src/sage-5.0.beta1/devel/sage/doc/en/developer/sage_manuals.rst", line 165:
    sage: x = sage.combinat.subword.smallest_positions(w, ww); ww
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-5.0.beta1/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/usr/local/src/sage-5.0.beta1/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/usr/local/src/sage-5.0.beta1/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_0[2]>", line 1, in <module>
        x = sage.combinat.subword.smallest_positions(w, ww); ww###line 165:
    sage: x = sage.combinat.subword.smallest_positions(w, ww); ww
    NameError: name 'w' is not defined
**********************************************************************
```



---

Comment by hivert created at 2012-02-11 10:39:50

Replying to [comment:9 jdemeyer]:
> If you copy a doctest, you should copy it completely:

Oups ! We forgot to run the test of the doc too ! Sorry !

The test was extracted from `sage/combinat/subword.py`. I extracted it in full.


---

Comment by hivert created at 2012-02-11 10:44:12

Changing status from needs_work to needs_review.


---

Attachment

Here is the corrected patch. Can I put it back myself to positive review ?


---

Comment by jdemeyer created at 2012-02-13 16:09:05

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2012-02-13 16:10:18

I was just about to do it !! Thank you `:-)`

Nathann


---

Comment by jdemeyer created at 2012-02-14 14:24:04

Resolution: fixed
