# Issue 24732: Upgrade R to 3.4.4

archive/issues_024732.json:
```json
{
    "body": "CC:  dimpase embray slelievre\n\nKeywords: r-projects\n\n... for the usual reasons.\n\nTiccket open for test purposes with the RC candidate. The upstream source will be added when available.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24969\n\n",
    "created_at": "2018-03-13T20:20:51Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Upgrade R to 3.4.4",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24732",
    "user": "charpent"
}
```
CC:  dimpase embray slelievre

Keywords: r-projects

... for the usual reasons.

Ticcket open for test purposes with the RC candidate. The upstream source will be added when available.

Issue created by migration from https://trac.sagemath.org/ticket/24969





---

archive/issue_comments_347215.json:
```json
{
    "body": "This version\n* Passes ptest long.\n* Sort-of passes its own testsuite (expected failures in internet).\n\n==> `needs_review`.\n\nAs usual, attention welcome on Cygwin and Macintoshes.",
    "created_at": "2018-03-15T13:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347215",
    "user": "charpent"
}
```

This version
* Passes ptest long.
* Sort-of passes its own testsuite (expected failures in internet).

==> `needs_review`.

As usual, attention welcome on Cygwin and Macintoshes.



---

archive/issue_comments_347216.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-15T13:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347216",
    "user": "charpent"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_347217.json:
```json
{
    "body": "Author Name field is empty ==> no patchbot\n----\nNew commits:",
    "created_at": "2018-03-16T10:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347217",
    "user": "chapoton"
}
```

Author Name field is empty ==> no patchbot
----
New commits:



---

archive/issue_comments_347218.json:
```json
{
    "body": "and spkg ticket mean patchbot will not test anything, just the sha of the spkg",
    "created_at": "2018-03-16T10:59:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347218",
    "user": "chapoton"
}
```

and spkg ticket mean patchbot will not test anything, just the sha of the spkg



---

archive/issue_comments_347219.json:
```json
{
    "body": "Replying to [comment:5 chapoton]:\n> Author Name field is empty ==> no patchbot\n\nThanks. I am a multirecidivist about this one...\n\n> ----\n> New commits:\n> ||[e559941](https://git.sagemath.org/sage.git/commit?id=e55994100b4671c47215b544ff46f21db7f597f6)||`R 3.4.4 : New tarball, rebased patches, updated checksums.`||\n\nHuh ? What does that means ?",
    "created_at": "2018-03-16T11:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347219",
    "user": "charpent"
}
```

Replying to [comment:5 chapoton]:
> Author Name field is empty ==> no patchbot

Thanks. I am a multirecidivist about this one...

> ----
> New commits:
> ||[e559941](https://git.sagemath.org/sage.git/commit?id=e55994100b4671c47215b544ff46f21db7f597f6)||`R 3.4.4 : New tarball, rebased patches, updated checksums.`||

Huh ? What does that means ?



---

archive/issue_comments_347220.json:
```json
{
    "body": "The \"new commit\" line is not by me, it was added automatically by trac",
    "created_at": "2018-03-16T12:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347220",
    "user": "chapoton"
}
```

The "new commit" line is not by me, it was added automatically by trac



---

archive/issue_comments_347221.json:
```json
{
    "body": "Changing keywords from \"r-projects\" to \"r-project\".",
    "created_at": "2018-04-08T07:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347221",
    "user": "slelievre"
}
```

Changing keywords from "r-projects" to "r-project".



---

archive/issue_comments_347222.json:
```json
{
    "body": "let me test this on OSX.",
    "created_at": "2018-04-08T07:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347222",
    "user": "dimpase"
}
```

let me test this on OSX.



---

archive/issue_comments_347223.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-08T08:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347223",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_347224.json:
```json
{
    "body": "looks good to me.",
    "created_at": "2018-04-08T08:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347224",
    "user": "dimpase"
}
```

looks good to me.



---

archive/issue_comments_347225.json:
```json
{
    "body": "R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html",
    "created_at": "2018-05-07T11:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347225",
    "user": "@timokau"
}
```

R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html



---

archive/issue_comments_347226.json:
```json
{
    "body": "Replying to [comment:13 gh-timokau]:\n> R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html\n\nUpgrading there is tempting, indeed. But...\n\nFrom the announcement :\n\n\n>    * chooseCRANmirror() and chooseBioCmirror() no longer have a\n>      useHTTPS argument, not needed now all R builds support https://\n>      downloads.\n\nThis currently implies OpenSSL. But we can't include it (its relicensing isn't yet isn't yet complete).\n\nTherefore, we have to implement #24107. Doing this \"brutally\" is easy. I've tried to find a way to allow for the wish of some developers to be able to compile without OpenSSL. This turns out to be hard...\n\nI'm tempted to explicitly depend on a systemwide  OpenSSL (stageb 1, as described in #24107), keeping in mind to add the possibility to add it in the Sage tree if necessary when relicensing is complete (stage 2, not yet started). This ignores the wish to compile sage without OpenSSL support.\n\nIn any case, having 3.4.4 in R is useful., I'm tempted to lobby for inclusion of the present ticket as it is in 8.3beta1, and to open a new ticket, depending on #24107, to upgrade to 3.5.0.\n\nAdvice ?",
    "created_at": "2018-05-10T05:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347226",
    "user": "charpent"
}
```

Replying to [comment:13 gh-timokau]:
> R 3.5.0 is released: https://stat.ethz.ch/pipermail/r-announce/2018/000628.html

Upgrading there is tempting, indeed. But...

From the announcement :


>    * chooseCRANmirror() and chooseBioCmirror() no longer have a
>      useHTTPS argument, not needed now all R builds support https://
>      downloads.

This currently implies OpenSSL. But we can't include it (its relicensing isn't yet isn't yet complete).

Therefore, we have to implement #24107. Doing this "brutally" is easy. I've tried to find a way to allow for the wish of some developers to be able to compile without OpenSSL. This turns out to be hard...

I'm tempted to explicitly depend on a systemwide  OpenSSL (stageb 1, as described in #24107), keeping in mind to add the possibility to add it in the Sage tree if necessary when relicensing is complete (stage 2, not yet started). This ignores the wish to compile sage without OpenSSL support.

In any case, having 3.4.4 in R is useful., I'm tempted to lobby for inclusion of the present ticket as it is in 8.3beta1, and to open a new ticket, depending on #24107, to upgrade to 3.5.0.

Advice ?



---

archive/issue_comments_347227.json:
```json
{
    "body": "Changing keywords from \"r-project\" to \"r-project, upgrade\".",
    "created_at": "2018-05-10T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347227",
    "user": "slelievre"
}
```

Changing keywords from "r-project" to "r-project, upgrade".



---

archive/issue_comments_347228.json:
```json
{
    "body": "I agree with Emmanuel: let's get R 3.4.4 in Sage now,\nby merging it in Sage 8.3.beta1 if possible.\n\nThen let's open another ticket for upgrading to R 3.5.0.",
    "created_at": "2018-05-10T10:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347228",
    "user": "slelievre"
}
```

I agree with Emmanuel: let's get R 3.4.4 in Sage now,
by merging it in Sage 8.3.beta1 if possible.

Then let's open another ticket for upgrading to R 3.5.0.



---

archive/issue_comments_347229.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-12T11:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24732#issuecomment-347229",
    "user": "vbraun"
}
```

Resolution: fixed
