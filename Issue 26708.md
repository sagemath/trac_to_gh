# Issue 26708: Plumbing graphs

archive/issues_026708.json:
```json
{
    "body": "CC:  pportilla\n\nKeywords: plumbing graph, 3-manifolds, graph manifolds\n\nWe implement the calculus described in [Neu1981]. The plumbing\nconstruction creates a graph manifold (three dimensional) specified by a\nplumbing graph. Each vertex of the graph specifies an S^1-bundle over a\nsurface, and for each edge, the corresponding bundles are glued together\nin a specific way. Each vertex is decorated by the Euler number of the\ncorresponding S^1-bundle, the genus of the base of the fibration, and\nthe number of boundary components of the surface, r. Each edge is\ndecorated by +1 or -1, which specify different gluings.\n\nThe calculus of Neumann [Neu1981] consists of several operations, or\nmoves, which can be applied to a plumbing graph to get the same\nmanifold. The main result is that two graphs inducing homeomorphic (or,\nequivalently, diffeomorphic) plumbed manifolds are related by a finite\nsequence of these operations, or their inverses. Furthermore, each\nequivalence class of graphs by these operations contains a unique\nelement, the minimal representative of this manifold, which can be\nobtained from any representative by applying the moves while possible.\n\nAs a special case, the resolution graph of an isolated surface\nsingularity is a plumbing graph which describes the link of the\nsingularity. A plumbing graph is so obtained if and only if all genera\nare positive, all edges are positive, and the associated intersection\nmatrix is negative definite.\n\nAnother case related to singularity theory: As proved by N\\'emethi and\nSzil\\'ard [], the boundary of the Milnor fiber of a reduced hypersurface\nsingularity in complex 3-space is plumbed manifold.  These do not\nnecessarily have negative definite plumbing graphs, and may have\nnegative edges as well.\n\nWe implement a class PlumbingGraph which keeps track of the graph and\nthe associated data. This class has as functions all the moves\nintroduced by Neumann in [Neu1981], as well as checking all the\nminimality steps, and a function which reduces the graph to its minimal\nrepresentative (so far, the function which reduces the graph to its\nminimal representative is not implemented, but it's being worked on). In\nthe future, we should also implement a class which is associated with\nthe graph a multiplicity system for a plumbing graph, as this allows for\na lot of constructions, such as computing resolution graphs for\nsusupension singularities, and the boundary of Milnor fibers in some\nspecial cases.\n\n[Neu1981] Walter D. Neumann, *A calculus for plumbing applied to the topology of complex surface singularities and degenerating complex curves*, Transactions of the American Mathematical Society, Vol. 268, No. 2 (Dec., 1981), pp. 4807--4823\n\nIssue created by migration from https://trac.sagemath.org/ticket/26945\n\n",
    "created_at": "2018-12-23T09:13:17Z",
    "labels": [
        "geometry",
        "major",
        "enhancement"
    ],
    "title": "Plumbing graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26708",
    "user": "@baldursigurds"
}
```
CC:  pportilla

Keywords: plumbing graph, 3-manifolds, graph manifolds

We implement the calculus described in [Neu1981]. The plumbing
construction creates a graph manifold (three dimensional) specified by a
plumbing graph. Each vertex of the graph specifies an S^1-bundle over a
surface, and for each edge, the corresponding bundles are glued together
in a specific way. Each vertex is decorated by the Euler number of the
corresponding S^1-bundle, the genus of the base of the fibration, and
the number of boundary components of the surface, r. Each edge is
decorated by +1 or -1, which specify different gluings.

The calculus of Neumann [Neu1981] consists of several operations, or
moves, which can be applied to a plumbing graph to get the same
manifold. The main result is that two graphs inducing homeomorphic (or,
equivalently, diffeomorphic) plumbed manifolds are related by a finite
sequence of these operations, or their inverses. Furthermore, each
equivalence class of graphs by these operations contains a unique
element, the minimal representative of this manifold, which can be
obtained from any representative by applying the moves while possible.

As a special case, the resolution graph of an isolated surface
singularity is a plumbing graph which describes the link of the
singularity. A plumbing graph is so obtained if and only if all genera
are positive, all edges are positive, and the associated intersection
matrix is negative definite.

Another case related to singularity theory: As proved by N\'emethi and
Szil\'ard [], the boundary of the Milnor fiber of a reduced hypersurface
singularity in complex 3-space is plumbed manifold.  These do not
necessarily have negative definite plumbing graphs, and may have
negative edges as well.

We implement a class PlumbingGraph which keeps track of the graph and
the associated data. This class has as functions all the moves
introduced by Neumann in [Neu1981], as well as checking all the
minimality steps, and a function which reduces the graph to its minimal
representative (so far, the function which reduces the graph to its
minimal representative is not implemented, but it's being worked on). In
the future, we should also implement a class which is associated with
the graph a multiplicity system for a plumbing graph, as this allows for
a lot of constructions, such as computing resolution graphs for
susupension singularities, and the boundary of Milnor fibers in some
special cases.

[Neu1981] Walter D. Neumann, *A calculus for plumbing applied to the topology of complex surface singularities and degenerating complex curves*, Transactions of the American Mathematical Society, Vol. 268, No. 2 (Dec., 1981), pp. 4807--4823

Issue created by migration from https://trac.sagemath.org/ticket/26945





---

archive/issue_comments_375568.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-23T09:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375568",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375569.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-24T07:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375569",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375570.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-24T07:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375570",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375571.json:
```json
{
    "body": "Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375571",
    "user": "embray"
}
```

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_375572.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T06:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375572",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375573.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2019-01-17T17:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375573",
    "user": "pportilla"
}
```

Last 10 new commits:



---

archive/issue_comments_375574.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-01-19T22:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375574",
    "user": "@baldursigurds"
}
```

New commits:



---

archive/issue_comments_375575.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-01T05:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375575",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375576.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-03T04:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375576",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375577.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-11T04:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375577",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375578.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-11T05:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375578",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375579.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-02-11T05:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375579",
    "user": "@baldursigurds"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_375580.json:
```json
{
    "body": "At this point, I've introduced moves R1-8, conditions N1-6 and steps 1-6, as well as several other functions, auxiliary or otherwise. All functions have an example. Adding the examples revealed a few errors, but the thing is running more or less.",
    "created_at": "2019-02-11T05:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375580",
    "user": "@baldursigurds"
}
```

At this point, I've introduced moves R1-8, conditions N1-6 and steps 1-6, as well as several other functions, auxiliary or otherwise. All functions have an example. Adding the examples revealed a few errors, but the thing is running more or less.



---

archive/issue_comments_375581.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-12T03:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375581",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-12T17:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375582",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375583.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-13T02:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375583",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375584.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-14T14:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375584",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375585.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-14T14:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375585",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375586.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-20T02:33:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375586",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375587.json:
```json
{
    "body": "Why does this contain the t\u00eate-\u00e0-t\u00eate branch ? Does this ticket depend on #22016 ?",
    "created_at": "2019-02-24T19:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375587",
    "user": "chapoton"
}
```

Why does this contain the tête-à-tête branch ? Does this ticket depend on #22016 ?



---

archive/issue_comments_375588.json:
```json
{
    "body": "So yeah, this is a bit embarrasing, the ticket does not depend on #22016. The ticket got pulled into a directory where work was being conducted on that ticket, and by magical reasons, it got merged or something. The ticket should really only modify three files, that is the new file plumbing_graph.py, the corresponding sage/geometry/all.py, and then a reference to the article by Neumann in the appropriate bibliography. When I noticed that some extra files are in there, I tried deleting them, but I haven't figured out how to simply undo the merge somehow using appropriate git commands.",
    "created_at": "2019-02-26T14:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375588",
    "user": "@baldursigurds"
}
```

So yeah, this is a bit embarrasing, the ticket does not depend on #22016. The ticket got pulled into a directory where work was being conducted on that ticket, and by magical reasons, it got merged or something. The ticket should really only modify three files, that is the new file plumbing_graph.py, the corresponding sage/geometry/all.py, and then a reference to the article by Neumann in the appropriate bibliography. When I noticed that some extra files are in there, I tried deleting them, but I haven't figured out how to simply undo the merge somehow using appropriate git commands.



---

archive/issue_comments_375589.json:
```json
{
    "body": "I would suggest :\n* to copy the file plumbing_graph.py somewhere outside of sage,\n* to recreate a clean new branch from the most recent develop, re-copy the file plumbing_graph.py in sage and redo the other minor changes.\n* commit and then\n* push --force the new branch here",
    "created_at": "2019-02-26T15:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375589",
    "user": "chapoton"
}
```

I would suggest :
* to copy the file plumbing_graph.py somewhere outside of sage,
* to recreate a clean new branch from the most recent develop, re-copy the file plumbing_graph.py in sage and redo the other minor changes.
* commit and then
* push --force the new branch here



---

archive/issue_comments_375590.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-02-26T20:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375590",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_375591.json:
```json
{
    "body": "good. Much better with a clean branch.\n\nThere should be an empty line after every line `EXAMPLES::`\n\nYou should build the doc and glance at the doc of your new module, to check that it looks fine.",
    "created_at": "2019-02-27T16:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375591",
    "user": "chapoton"
}
```

good. Much better with a clean branch.

There should be an empty line after every line `EXAMPLES::`

You should build the doc and glance at the doc of your new module, to check that it looks fine.



---

archive/issue_comments_375592.json:
```json
{
    "body": "I would rather not import `'genus_hash', 'big_genus_hash'` in the global namespace.",
    "created_at": "2019-02-27T19:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375592",
    "user": "chapoton"
}
```

I would rather not import `'genus_hash', 'big_genus_hash'` in the global namespace.



---

archive/issue_comments_375593.json:
```json
{
    "body": "The doc is not formatted correctly\n\ntypically, instead of\n\n```\n+        EXAMPLES::\n+\n+        We test all the examples on p. 315 of [Neu1981].\n+\n+        The first example, only one vertex:\n+\n+            sage: P = PlumbingGraph()\n```\n\nthe double colon after EXAMPLES should be a single one, and the single colon after vertex should be a double one. Double colons should be followed by an indented block.\n\n* one typo:\n\n```\n+        EXAPMLES::\n```\n\n\n* The first verb in any documentation string should be in imperative mode (no final s), for example: Check, Return, Compute, etc\n\n* typos \"apprears\", chechs\"\n\n* this could be written in one line\n\n```\n+        if self.N6_c_find_candidate() == -1:\n+            return False\n+        else:\n+            return True\n```\n\ncould be\n\n```\nreturn self.N6_c_find_candidate() != -1\n```\n\nand then the method itself becomes rather useless..\n\n* calls to references take a final underscore: `[Neu1981]_`\n\n* This\n\n```\n+        if len(L) == 0:\n```\n\ncould be `if not L:`\n\n* typo `realation`",
    "created_at": "2019-02-27T19:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375593",
    "user": "chapoton"
}
```

The doc is not formatted correctly

typically, instead of

```
+        EXAMPLES::
+
+        We test all the examples on p. 315 of [Neu1981].
+
+        The first example, only one vertex:
+
+            sage: P = PlumbingGraph()
```

the double colon after EXAMPLES should be a single one, and the single colon after vertex should be a double one. Double colons should be followed by an indented block.

* one typo:

```
+        EXAPMLES::
```


* The first verb in any documentation string should be in imperative mode (no final s), for example: Check, Return, Compute, etc

* typos "apprears", chechs"

* this could be written in one line

```
+        if self.N6_c_find_candidate() == -1:
+            return False
+        else:
+            return True
```

could be

```
return self.N6_c_find_candidate() != -1
```

and then the method itself becomes rather useless..

* calls to references take a final underscore: `[Neu1981]_`

* This

```
+        if len(L) == 0:
```

could be `if not L:`

* typo `realation`



---

archive/issue_comments_375594.json:
```json
{
    "body": "I will go through everything with your comments in mind soon. Some questions:\n\nThe functions genus_hash and big_genus_hash are used inside some functions in PlumbingGraph, and so if I change the line in all.py so that it only imports PlumbingGraph, then running ./sage -t gives errors. What line should I put in all.py so that 'correct' things are imported?\n\nDo you know a good reference for where these double colons are explained in details? I'm really just imitating other code, I haven't found the actual protocols for this.\n\nAlso, if it makes sense, I'll add a line to src/doc/en/reference/discrete_geometry/index.rst in order to make the documentation get built. I'm getting errors now, so I'll have something to work on. I'll get on it and push something later today.",
    "created_at": "2019-02-27T22:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375594",
    "user": "@baldursigurds"
}
```

I will go through everything with your comments in mind soon. Some questions:

The functions genus_hash and big_genus_hash are used inside some functions in PlumbingGraph, and so if I change the line in all.py so that it only imports PlumbingGraph, then running ./sage -t gives errors. What line should I put in all.py so that 'correct' things are imported?

Do you know a good reference for where these double colons are explained in details? I'm really just imitating other code, I haven't found the actual protocols for this.

Also, if it makes sense, I'll add a line to src/doc/en/reference/discrete_geometry/index.rst in order to make the documentation get built. I'm getting errors now, so I'll have something to work on. I'll get on it and push something later today.



---

archive/issue_comments_375595.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2019-02-28T04:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375595",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_375596.json:
```json
{
    "body": "* for genus_hash and the other one, you should just start their own doctests with one line importing them. \n\n* See http://doc.sagemath.org/html/en/developer/index.html#writing-code-for-sage\n\n  for precise instructions on how the doc should be formatted",
    "created_at": "2019-02-28T07:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375596",
    "user": "chapoton"
}
```

* for genus_hash and the other one, you should just start their own doctests with one line importing them. 

* See http://doc.sagemath.org/html/en/developer/index.html#writing-code-for-sage

  for precise instructions on how the doc should be formatted



---

archive/issue_comments_375597.json:
```json
{
    "body": "Why did you go back to your bad branch on top of tete-a-tete ???",
    "created_at": "2019-02-28T07:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375597",
    "user": "chapoton"
}
```

Why did you go back to your bad branch on top of tete-a-tete ???



---

archive/issue_comments_375598.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-28T20:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375598",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375599.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-28T23:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375599",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375600.json:
```json
{
    "body": "Ok, the merge was not supposed to happen, I reverted it. The colons and double colons should be correct now, as well as the underscores for citations. I looked through the docs, they seem fine. The actual code will get some work asap.",
    "created_at": "2019-02-28T23:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375600",
    "user": "@baldursigurds"
}
```

Ok, the merge was not supposed to happen, I reverted it. The colons and double colons should be correct now, as well as the underscores for citations. I looked through the docs, they seem fine. The actual code will get some work asap.



---

archive/issue_comments_375601.json:
```json
{
    "body": "concerning imports of genus_hash and big_genus_hash:\n\n* remove their lazy imports\n\n* add `sage: from sage.geometry.plumbing_graph import genus_hash` before the first test line here:\n\n```\n+    EXAMPLES::\n+\n+        sage: genus_hash(2,3)\n```\n\n\nand the same thing in the doctests of big_genus_hash",
    "created_at": "2019-03-01T07:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375601",
    "user": "chapoton"
}
```

concerning imports of genus_hash and big_genus_hash:

* remove their lazy imports

* add `sage: from sage.geometry.plumbing_graph import genus_hash` before the first test line here:

```
+    EXAMPLES::
+
+        sage: genus_hash(2,3)
```


and the same thing in the doctests of big_genus_hash



---

archive/issue_comments_375602.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-01T08:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375602",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375603.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-01T16:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375603",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375604.json:
```json
{
    "body": "* this is missing a final :\n\n```\n+        OUTPUT\n```\n\n* Do not use this kind of doctest:\n\n```\n+            sage: P.nodes\n+            <bound method PlumbingGraph.nodes of A plumbing graph with 7 vertices>\n```\n\nbut rather doctests that really call the methods.\n* This\n\n```\n+        if mc == set():\n```\n\nshould rather be `if not mc` which is faster\n\n* typo\n\n```\n+        EXAPMLES::\n```\n",
    "created_at": "2019-03-01T19:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375604",
    "user": "chapoton"
}
```

* this is missing a final :

```
+        OUTPUT
```

* Do not use this kind of doctest:

```
+            sage: P.nodes
+            <bound method PlumbingGraph.nodes of A plumbing graph with 7 vertices>
```

but rather doctests that really call the methods.
* This

```
+        if mc == set():
```

should rather be `if not mc` which is faster

* typo

```
+        EXAPMLES::
```




---

archive/issue_comments_375605.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-01T21:20:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375605",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375606.json:
```json
{
    "body": "Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375606",
    "user": "embray"
}
```

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_375607.json:
```json
{
    "body": "* Comparison to None should use `is not` instead of `j != None`\n\n* add some cross-references using `.. SEEALSO` between the various `add_something` methods\n\n* do not use abreviated forms of verbs (Can't, don't, isn't, etc)\n\n* When possible, the first sentence of the doc of each method should be a short description, followed by a blank line.\n\n* This\n\n```\n+        if len(self.adj[e]) == 1:\n+            return True\n+        else:\n+            return False\n```\n\ncould be just\n\n```\nreturn len(self.adj[e]) == 1\n```\n\n\n* \n\n```\n+        if len(L) == 0:\n```\n\nshould be `if L` (and same at least in another place)\n\n* range(0,n) should be range(n)\n\n* `while not S == set({}):` should be `while S`\n\n* This `if s%2 == 1:` could be just `if s % 2:`",
    "created_at": "2019-03-30T17:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375607",
    "user": "chapoton"
}
```

* Comparison to None should use `is not` instead of `j != None`

* add some cross-references using `.. SEEALSO` between the various `add_something` methods

* do not use abreviated forms of verbs (Can't, don't, isn't, etc)

* When possible, the first sentence of the doc of each method should be a short description, followed by a blank line.

* This

```
+        if len(self.adj[e]) == 1:
+            return True
+        else:
+            return False
```

could be just

```
return len(self.adj[e]) == 1
```


* 

```
+        if len(L) == 0:
```

should be `if L` (and same at least in another place)

* range(0,n) should be range(n)

* `while not S == set({}):` should be `while S`

* This `if s%2 == 1:` could be just `if s % 2:`



---

archive/issue_comments_375608.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-01T20:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375608",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375609.json:
```json
{
    "body": "This\n\n```\n-            if s%2 == 0:\n+            if not s%2:\n                 self.add_vertex(e, 1, 0)\n-            if s%2 == 1:\n+            if s%2:\n                 self.add_vertex(e, -2, 0)\n```\n\ncould use an `elif`",
    "created_at": "2019-04-25T11:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375609",
    "user": "chapoton"
}
```

This

```
-            if s%2 == 0:
+            if not s%2:
                 self.add_vertex(e, 1, 0)
-            if s%2 == 1:
+            if s%2:
                 self.add_vertex(e, -2, 0)
```

could use an `elif`



---

archive/issue_comments_375610.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-25T16:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375610",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375611.json:
```json
{
    "body": "Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375611",
    "user": "embray"
}
```

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_comments_375612.json:
```json
{
    "body": "Hi Baldur, I didn't know that you were working on this, it is a nice addition. \n\nDid you consider inheriting from graph (I think it would make sense since plumbing graphs are basically graphs with some extra decoration, but maybe that would be too much overhead). That way, for example, you would have methods to compute connectivity invariants, or to plot them, for free.",
    "created_at": "2019-07-12T23:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375612",
    "user": "mmarco"
}
```

Hi Baldur, I didn't know that you were working on this, it is a nice addition. 

Did you consider inheriting from graph (I think it would make sense since plumbing graphs are basically graphs with some extra decoration, but maybe that would be too much overhead). That way, for example, you would have methods to compute connectivity invariants, or to plot them, for free.



---

archive/issue_comments_375613.json:
```json
{
    "body": "Hi Miguel,\n\nI first used the graph class to encode the graph, but the problem I ran into is that in that class, you have vertices enumerated by a list, but the edges are just specified by the associated vertices. It feels a lot more natural to me to have a list of vertices, a list of edges, and a set of adjacent vertices associated with each edge. This way you can add and delete edges in a way that feels more natural.\n\nMore importantly, if you have an actual set of edges, you can define functions on that set, such as the plus/minus decoration. In further development, this kind of decorations will probably show up more and more, especially in algorithms translating one graph to another, such as between plumbing and splice graphs. Therefore, I would not like to express the +/- decorations by specifying the number of positive and number of negative edges joining any given pair of vertices, it seems that the code for that would be incomprehensible.\n\nIf anybody knows of a standard way to specify a function on the set of edges of a graph (using the graph class), let me know, it would probably be better, since you have all those graph theoretic functions for free. But this would mean that the graph class held on to an actual list of named edges, like it does for vertices, and it doesn't seem to me that this is the case.\n\nIf you have specific plumbing related algorithms in mind, let me know (or you can implement them when you want :). I thought about a few things to do with this, such as Oka's algorithm for Newton non-degenerate surface singularities, the splice-quotient construction, the zeta function of N\u00e9methi or Campillo-Delgado-Gusein-Zade. There are also some algorithms that compute the boundary of the Milnor fiber of a nonisolated hypersurface. I haven't started these, but they will each get a ticket in good time.",
    "created_at": "2019-07-15T21:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375613",
    "user": "@baldursigurds"
}
```

Hi Miguel,

I first used the graph class to encode the graph, but the problem I ran into is that in that class, you have vertices enumerated by a list, but the edges are just specified by the associated vertices. It feels a lot more natural to me to have a list of vertices, a list of edges, and a set of adjacent vertices associated with each edge. This way you can add and delete edges in a way that feels more natural.

More importantly, if you have an actual set of edges, you can define functions on that set, such as the plus/minus decoration. In further development, this kind of decorations will probably show up more and more, especially in algorithms translating one graph to another, such as between plumbing and splice graphs. Therefore, I would not like to express the +/- decorations by specifying the number of positive and number of negative edges joining any given pair of vertices, it seems that the code for that would be incomprehensible.

If anybody knows of a standard way to specify a function on the set of edges of a graph (using the graph class), let me know, it would probably be better, since you have all those graph theoretic functions for free. But this would mean that the graph class held on to an actual list of named edges, like it does for vertices, and it doesn't seem to me that this is the case.

If you have specific plumbing related algorithms in mind, let me know (or you can implement them when you want :). I thought about a few things to do with this, such as Oka's algorithm for Newton non-degenerate surface singularities, the splice-quotient construction, the zeta function of Némethi or Campillo-Delgado-Gusein-Zade. There are also some algorithms that compute the boundary of the Milnor fiber of a nonisolated hypersurface. I haven't started these, but they will each get a ticket in good time.



---

archive/issue_comments_375614.json:
```json
{
    "body": "I see. In that case, at least a method to construct the underlying graph with the corresponding decorations would be nice (and would certainly be less work that writing a plot method).",
    "created_at": "2019-07-16T08:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375614",
    "user": "mmarco"
}
```

I see. In that case, at least a method to construct the underlying graph with the corresponding decorations would be nice (and would certainly be less work that writing a plot method).



---

archive/issue_comments_375615.json:
```json
{
    "body": "red branch, meaning that it needs to be rebased on the latest beta",
    "created_at": "2019-08-27T18:04:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375615",
    "user": "chapoton"
}
```

red branch, meaning that it needs to be rebased on the latest beta



---

archive/issue_comments_375616.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-08-27T18:04:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375616",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_375617.json:
```json
{
    "body": "Hi, sorry for the absence. And also for for the ignorance. How do I rebase on the latest beta?",
    "created_at": "2019-12-15T01:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375617",
    "user": "@baldursigurds"
}
```

Hi, sorry for the absence. And also for for the ignorance. How do I rebase on the latest beta?



---

archive/issue_comments_375618.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375618",
    "user": "embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_375619.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-01-28T17:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375619",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_375620.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-28T20:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375620",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375621.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-28T22:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375621",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375622.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-09T00:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375622",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375623.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-10T15:59:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375623",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375624.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-14T18:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375624",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375625.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-14T18:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375625",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375626.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-20T16:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375626",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375627.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-24T18:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375627",
    "user": "@baldursigurds"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_375628.json:
```json
{
    "body": "This seems to pass the tests now. Feel welcome to review it :)",
    "created_at": "2020-02-24T18:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375628",
    "user": "@baldursigurds"
}
```

This seems to pass the tests now. Feel welcome to review it :)



---

archive/issue_comments_375629.json:
```json
{
    "body": "You can label the edges of the graph, which works reasonably well for multiedge graphs too. Would this work? Have you also considered just using your plumbing graph class as a fa\u00e7ade class for a Sage graph (i.e., you implement the methods you want and store the graph as some `_graph` attribute)?\n\nAlso another quick comment, I think the `stepX()` methods should be hidden, i.e., `_stepX()`.",
    "created_at": "2020-03-06T00:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375629",
    "user": "tscrim"
}
```

You can label the edges of the graph, which works reasonably well for multiedge graphs too. Would this work? Have you also considered just using your plumbing graph class as a façade class for a Sage graph (i.e., you implement the methods you want and store the graph as some `_graph` attribute)?

Also another quick comment, I think the `stepX()` methods should be hidden, i.e., `_stepX()`.



---

archive/issue_comments_375630.json:
```json
{
    "body": "When I started this project, I imagined it woud be easier to just use a Graph() for the graph, and work around that. But I got frustrated not being able to specify an edge directly, and eded up working with just a set of vertices (integers) and edges (again integers), which seems straightforward enough. At some point, I added a function which exports the graph to a Graph(), just to have access to the .plot() function, but the tests said it took too long to load, and didn't approve it, so I commented it out.\n\nI thought about making the step functions hidden, but these are the steps in the original article, and I imagine that people who have read it might want to have them available, it coud be useful. Even if just to see what happens to their favorite graph along each step.",
    "created_at": "2020-03-18T20:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375630",
    "user": "@baldursigurds"
}
```

When I started this project, I imagined it woud be easier to just use a Graph() for the graph, and work around that. But I got frustrated not being able to specify an edge directly, and eded up working with just a set of vertices (integers) and edges (again integers), which seems straightforward enough. At some point, I added a function which exports the graph to a Graph(), just to have access to the .plot() function, but the tests said it took too long to load, and didn't approve it, so I commented it out.

I thought about making the step functions hidden, but these are the steps in the original article, and I imagine that people who have read it might want to have them available, it coud be useful. Even if just to see what happens to their favorite graph along each step.



---

archive/issue_comments_375631.json:
```json
{
    "body": "Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375631",
    "user": "mkoeppe"
}
```

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_375632.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-14T12:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375632",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_375633.json:
```json
{
    "body": "red branch => needs work",
    "created_at": "2020-08-14T12:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375633",
    "user": "chapoton"
}
```

red branch => needs work



---

archive/issue_comments_375634.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375634",
    "user": "mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_375635.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-15T10:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375635",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_375636.json:
```json
{
    "body": "I went through rebasing the code, and all tests passed. Let's see if it works this time :)",
    "created_at": "2021-06-15T10:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375636",
    "user": "@baldursigurds"
}
```

I went through rebasing the code, and all tests passed. Let's see if it works this time :)



---

archive/issue_comments_375637.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-15T10:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375637",
    "user": "@baldursigurds"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_375638.json:
```json
{
    "body": "Thank you for updating this. A few things from a quick look-through:\n\n- For the `INPUT:`, your input lines should not end in a period/full-stop.\n- In `reverse_edge_signs_neg`, do you want to raise an error instead of just printing a message?\n- Error messages should start with a lowercase and have no period. This is a Python convention we try to follow.\n- I would rename `move_R` to `R_move` as it feels like a more natural name. What does the boolean output mean as well?\n- You have a comment to address around `export_to_graph()`.\n- `add_Seifert` -> `add_seifert` following PEP8 method naming conventions.\n- I would have `PlumbingGraph` inherit from `SageObject`, which you can then rename `__repr__` -> `_repr_`.\n- I would make the `step_X()` methods private `_step_X()` since they seem internal to a longer computation.\n- Similar for the `N6_*` methods (although perhaps not all of them).\n- Please update the documentation of `N4()` to be more formal.\n- For some of the `NX()` methods, perhaps you could add an extra option to return a certificate of success/failure (where appropriate).\n- Similar for `normal_form()`, where a success should be `0` and a failure should be a positive number. (This is similar to how string comparisons work in C code.) This method name needs to be changed irregardless as I would expect it to return (or put the graph into) a normal form.\n- In `minimal_representative_analytic()`, it should raise a `TypeError` rather than an assert for an invalid operation.\n- Add some latex formatting to the class-level doc, mainly ``S^1``.\n- `[big_]genius_hash` should not be imported into the global namespace.\n\nI might have more comments after a more serious (re-)reading.",
    "created_at": "2021-06-16T03:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375638",
    "user": "tscrim"
}
```

Thank you for updating this. A few things from a quick look-through:

- For the `INPUT:`, your input lines should not end in a period/full-stop.
- In `reverse_edge_signs_neg`, do you want to raise an error instead of just printing a message?
- Error messages should start with a lowercase and have no period. This is a Python convention we try to follow.
- I would rename `move_R` to `R_move` as it feels like a more natural name. What does the boolean output mean as well?
- You have a comment to address around `export_to_graph()`.
- `add_Seifert` -> `add_seifert` following PEP8 method naming conventions.
- I would have `PlumbingGraph` inherit from `SageObject`, which you can then rename `__repr__` -> `_repr_`.
- I would make the `step_X()` methods private `_step_X()` since they seem internal to a longer computation.
- Similar for the `N6_*` methods (although perhaps not all of them).
- Please update the documentation of `N4()` to be more formal.
- For some of the `NX()` methods, perhaps you could add an extra option to return a certificate of success/failure (where appropriate).
- Similar for `normal_form()`, where a success should be `0` and a failure should be a positive number. (This is similar to how string comparisons work in C code.) This method name needs to be changed irregardless as I would expect it to return (or put the graph into) a normal form.
- In `minimal_representative_analytic()`, it should raise a `TypeError` rather than an assert for an invalid operation.
- Add some latex formatting to the class-level doc, mainly ``S^1``.
- `[big_]genius_hash` should not be imported into the global namespace.

I might have more comments after a more serious (re-)reading.



---

archive/issue_comments_375639.json:
```json
{
    "body": "Thanks a lot for the feedback, tscrim. This is very useful, since my background in programming is very informal. I will put some time into this, hopefully no later than this weekend, to go through this. Some quick comments:\n\n- About the `export_to_graph()` function, I implemented this, but then the tests started to complain that loading the code was too slow, if I included the `Graph()` class. I got lost in trying to use the `Graph()` class, which includes all kinds of functions, which was one of the reasons I didn't use it in the first place.\n\n- I don't know what inherit from `SageObject` means. I'll see if I can look that up, but if you have a reference, that would maybe help.\n\n- About the step_X() functions, I feel like it would be worth it to have these available, since they are explicitly described in Neumann's article. I can imagine it being useful for my research to be able to see the steps explicitly, if not just to understand the article better.",
    "created_at": "2021-06-16T04:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375639",
    "user": "@baldursigurds"
}
```

Thanks a lot for the feedback, tscrim. This is very useful, since my background in programming is very informal. I will put some time into this, hopefully no later than this weekend, to go through this. Some quick comments:

- About the `export_to_graph()` function, I implemented this, but then the tests started to complain that loading the code was too slow, if I included the `Graph()` class. I got lost in trying to use the `Graph()` class, which includes all kinds of functions, which was one of the reasons I didn't use it in the first place.

- I don't know what inherit from `SageObject` means. I'll see if I can look that up, but if you have a reference, that would maybe help.

- About the step_X() functions, I feel like it would be worth it to have these available, since they are explicitly described in Neumann's article. I can imagine it being useful for my research to be able to see the steps explicitly, if not just to understand the article better.



---

archive/issue_comments_375640.json:
```json
{
    "body": "Replying to [comment:70 gh-baldursigurds]:\n> - About the `export_to_graph()` function, I implemented this, but then the tests started to complain that loading the code was too slow, if I included the `Graph()` class. I got lost in trying to use the `Graph()` class, which includes all kinds of functions, which was one of the reasons I didn't use it in the first place.\n\nThat's fine, but I think it should just be removed in the final version.\n \n> - I don't know what inherit from `SageObject` means. I'll see if I can look that up, but if you have a reference, that would maybe help.\n\nJust standard Python inheritance. So\n\n```python\nfrom sage.structure.sage_object import SageObject\nclass PlumbingGraph(SageObject):\n```\n\n\n> - About the step_X() functions, I feel like it would be worth it to have these available, since they are explicitly described in Neumann's article. I can imagine it being useful for my research to be able to see the steps explicitly, if not just to understand the article better.\n\nYou can add a `verbose` option to the main call and/or make a note in the documentation that they are available. Right now they clutter tab completion with very vague method names IMO.",
    "created_at": "2021-06-16T04:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375640",
    "user": "tscrim"
}
```

Replying to [comment:70 gh-baldursigurds]:
> - About the `export_to_graph()` function, I implemented this, but then the tests started to complain that loading the code was too slow, if I included the `Graph()` class. I got lost in trying to use the `Graph()` class, which includes all kinds of functions, which was one of the reasons I didn't use it in the first place.

That's fine, but I think it should just be removed in the final version.
 
> - I don't know what inherit from `SageObject` means. I'll see if I can look that up, but if you have a reference, that would maybe help.

Just standard Python inheritance. So

```python
from sage.structure.sage_object import SageObject
class PlumbingGraph(SageObject):
```


> - About the step_X() functions, I feel like it would be worth it to have these available, since they are explicitly described in Neumann's article. I can imagine it being useful for my research to be able to see the steps explicitly, if not just to understand the article better.

You can add a `verbose` option to the main call and/or make a note in the documentation that they are available. Right now they clutter tab completion with very vague method names IMO.



---

archive/issue_comments_375641.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-22T11:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375641",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375642.json:
```json
{
    "body": "Replying to [comment:69 tscrim]:\n\nThanks again for the comments, I have now gone through them more \ncarefully.\n\n> Thank you for updating this. A few things from a quick look-through:\n>\n> - For the `INPUT:`, your input lines should not end in a period/full-stop.\nI removed periods and also commas ',' from the end of any line in an\nINPUT: block.\n\n> - In `reverse_edge_signs_neg`, do you want to raise an error instead of just printing a message?\nIn `reverse_edge_signs_pos` and `reverse_edge_signs_pos` I added an\nassert line.\n\n> - Error messages should start with a lowercase and have no period. This is a Python convention we try to follow.\nFixed case and periods in error messages.\n\n> - I would rename `move_R` to `R_move` as it feels like a more natural name. What does the boolean output mean as well?\nI renamed `move_R` -> `R_move`. Also, you mention the output of the\nmove functions. That was an early bad decision on my behalf. I changed\nit so that the move functions don't return anything, but they have\nassertions checking whether the input is good.\n\n> - You have a comment to address around `export_to_graph()`.\nI uncommented the export_to_graph function, since it should be useful.\nI did have some problems with loading times, so I threw the `import`\nstatement into the function. If this is nonsense, I'll change this, or\njust delete the function. It is in no way essential to the project,\nbut it could be useful to people.\n\n> - `add_Seifert` -> `add_seifert` following PEP8 method naming conventions.\nI lowered the case of Seifert appearing in function names, so\n`add_seifert` and `seifert_graph_exchange`.\n\n> - I would have `PlumbingGraph` inherit from `SageObject`, which you can then rename `__repr__` -> `_repr_`.\nI made the class inherit from SageObject and renamed __repr__ to\n_repr_.\n\n> - I would make the `step_X()` methods private `_step_X()` since they seem internal to a longer computation.\n> - Similar for the `N6_*` methods (although perhaps not all of them).\n\nMy intention was, and is, to implement Neumann's calculus described in\n[Neu1981]. I feel like this project would be incomplete without these\nfunctions available, since they are explicitly described in the article.\n\n> - Please update the documentation of `N4()` to be more formal.\nThe documentation for `N4()` has been formalised, I think it's better.\n\n> - For some of the `NX()` methods, perhaps you could add an extra option to return a certificate of success/failure (where appropriate).\nRight. I don't really know what would be the best way to implement\nsomething like that.\n\n> - Similar for `normal_form()`, where a success should be `0` and a failure should be a positive number. (This is similar to how string comparisons work in C code.) This method name needs to be changed irregardless as I would expect it to return (or put the graph into) a normal form.\n\nAgain, I'm not sure how to implement the communication of such data.\n\nI made the following changes, I think it's more consistent:\n\n- `normal_form()` -> `is_normal()` since this function checks whether\n   the graph is in normal form.\n\n- `minimal_representative()` -> `make_normal()` since this function\n  makes the graph normal.\n\n- `is_analytic_link()` -> `is_good_resolution()` since this function checks\n  whether the graph comes directly from a good resolution. An analytic\n  link can be represented by a graph which is not like that.\n\n- `minimal_representative_analytic()` ->\n  `make_minimal_good_resolution()` since this function takes a\n  good resolution graph and finds the corresponding minimal good\n  resolution graph.\n\n\n> - In `minimal_representative_analytic()`, it should raise a `TypeError` rather than an assert for an invalid operation.\nI put in a check that raises a `TypeError` if the graph is not a good\nresolution graph.\n\n> - Add some latex formatting to the class-level doc, mainly ``S^1``.\nAdded it. I also went quickly through all the documentation and added\nquotes to some places.\n\n> - `[big_]genius_hash` should not be imported into the global namespace.\nRemoved the genus hash functions from src/sage/geometry/all.py. Now it\nhas to be imported to be used.\n\n>\n> I might have more comments after a more serious (re-)reading.\nThat's great, thanks :)",
    "created_at": "2021-06-22T11:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375642",
    "user": "@baldursigurds"
}
```

Replying to [comment:69 tscrim]:

Thanks again for the comments, I have now gone through them more 
carefully.

> Thank you for updating this. A few things from a quick look-through:
>
> - For the `INPUT:`, your input lines should not end in a period/full-stop.
I removed periods and also commas ',' from the end of any line in an
INPUT: block.

> - In `reverse_edge_signs_neg`, do you want to raise an error instead of just printing a message?
In `reverse_edge_signs_pos` and `reverse_edge_signs_pos` I added an
assert line.

> - Error messages should start with a lowercase and have no period. This is a Python convention we try to follow.
Fixed case and periods in error messages.

> - I would rename `move_R` to `R_move` as it feels like a more natural name. What does the boolean output mean as well?
I renamed `move_R` -> `R_move`. Also, you mention the output of the
move functions. That was an early bad decision on my behalf. I changed
it so that the move functions don't return anything, but they have
assertions checking whether the input is good.

> - You have a comment to address around `export_to_graph()`.
I uncommented the export_to_graph function, since it should be useful.
I did have some problems with loading times, so I threw the `import`
statement into the function. If this is nonsense, I'll change this, or
just delete the function. It is in no way essential to the project,
but it could be useful to people.

> - `add_Seifert` -> `add_seifert` following PEP8 method naming conventions.
I lowered the case of Seifert appearing in function names, so
`add_seifert` and `seifert_graph_exchange`.

> - I would have `PlumbingGraph` inherit from `SageObject`, which you can then rename `__repr__` -> `_repr_`.
I made the class inherit from SageObject and renamed __repr__ to
_repr_.

> - I would make the `step_X()` methods private `_step_X()` since they seem internal to a longer computation.
> - Similar for the `N6_*` methods (although perhaps not all of them).

My intention was, and is, to implement Neumann's calculus described in
[Neu1981]. I feel like this project would be incomplete without these
functions available, since they are explicitly described in the article.

> - Please update the documentation of `N4()` to be more formal.
The documentation for `N4()` has been formalised, I think it's better.

> - For some of the `NX()` methods, perhaps you could add an extra option to return a certificate of success/failure (where appropriate).
Right. I don't really know what would be the best way to implement
something like that.

> - Similar for `normal_form()`, where a success should be `0` and a failure should be a positive number. (This is similar to how string comparisons work in C code.) This method name needs to be changed irregardless as I would expect it to return (or put the graph into) a normal form.

Again, I'm not sure how to implement the communication of such data.

I made the following changes, I think it's more consistent:

- `normal_form()` -> `is_normal()` since this function checks whether
   the graph is in normal form.

- `minimal_representative()` -> `make_normal()` since this function
  makes the graph normal.

- `is_analytic_link()` -> `is_good_resolution()` since this function checks
  whether the graph comes directly from a good resolution. An analytic
  link can be represented by a graph which is not like that.

- `minimal_representative_analytic()` ->
  `make_minimal_good_resolution()` since this function takes a
  good resolution graph and finds the corresponding minimal good
  resolution graph.


> - In `minimal_representative_analytic()`, it should raise a `TypeError` rather than an assert for an invalid operation.
I put in a check that raises a `TypeError` if the graph is not a good
resolution graph.

> - Add some latex formatting to the class-level doc, mainly ``S^1``.
Added it. I also went quickly through all the documentation and added
quotes to some places.

> - `[big_]genius_hash` should not be imported into the global namespace.
Removed the genus hash functions from src/sage/geometry/all.py. Now it
has to be imported to be used.

>
> I might have more comments after a more serious (re-)reading.
That's great, thanks :)



---

archive/issue_comments_375643.json:
```json
{
    "body": "Replying to [comment:71 tscrim]:\n> Replying to [comment:70 gh-baldursigurds]:\n> > - About the `export_to_graph()` function, I implemented this, but then the tests started to complain that loading the code was too slow, if I included the `Graph()` class. I got lost in trying to use the `Graph()` class, which includes all kinds of functions, which was one of the reasons I didn't use it in the first place.\n>\n> That's fine, but I think it should just be removed in the final version.\n>\n> > - I don't know what inherit from `SageObject` means. I'll see if I can look that up, but if you have a reference, that would maybe help.\n>\n> Just standard Python inheritance. So\n> {{{#!python\n> from sage.structure.sage_object import SageObject\n> class PlumbingGraph(SageObject):\n> }}}\n>\n> > - About the step_X() functions, I feel like it would be worth it to have these available, since they are explicitly described in Neumann's article. I can imagine it being useful for my research to be able to see the steps explicitly, if not just to understand the article better.\n>\n> You can add a `verbose` option to the main call and/or make a note in the documentation that they are available. Right now they clutter tab completion with very vague method names IMO.\nI renamed these functions make_normal_step_X(), if that's better. I don't know what `verbose` option means, but I'm open to any suggestions.",
    "created_at": "2021-06-22T11:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375643",
    "user": "@baldursigurds"
}
```

Replying to [comment:71 tscrim]:
> Replying to [comment:70 gh-baldursigurds]:
> > - About the `export_to_graph()` function, I implemented this, but then the tests started to complain that loading the code was too slow, if I included the `Graph()` class. I got lost in trying to use the `Graph()` class, which includes all kinds of functions, which was one of the reasons I didn't use it in the first place.
>
> That's fine, but I think it should just be removed in the final version.
>
> > - I don't know what inherit from `SageObject` means. I'll see if I can look that up, but if you have a reference, that would maybe help.
>
> Just standard Python inheritance. So
> {{{#!python
> from sage.structure.sage_object import SageObject
> class PlumbingGraph(SageObject):
> }}}
>
> > - About the step_X() functions, I feel like it would be worth it to have these available, since they are explicitly described in Neumann's article. I can imagine it being useful for my research to be able to see the steps explicitly, if not just to understand the article better.
>
> You can add a `verbose` option to the main call and/or make a note in the documentation that they are available. Right now they clutter tab completion with very vague method names IMO.
I renamed these functions make_normal_step_X(), if that's better. I don't know what `verbose` option means, but I'm open to any suggestions.



---

archive/issue_comments_375644.json:
```json
{
    "body": "Thank you for your changes. Can you rebase this on the latest beta?",
    "created_at": "2021-07-02T06:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375644",
    "user": "tscrim"
}
```

Thank you for your changes. Can you rebase this on the latest beta?



---

archive/issue_comments_375645.json:
```json
{
    "body": "Replying to [comment:75 tscrim]:\n> Thank you for your changes. Can you rebase this on the latest beta?\n\nRight, I did that the other day, and I'm looking into doing this again right now. In order not to have to spend too much time on this step, do you know of a magic way of just saying that I want my branch to be like develop, but with a specified pach? Because I know exactly what the diff should be, i.e. add one file, and add a couple of lines into references and an all.py file. I get the feeling that they way I'm rebasing is a stupid noob way of doing git, and it takes forever.",
    "created_at": "2021-07-02T09:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375645",
    "user": "@baldursigurds"
}
```

Replying to [comment:75 tscrim]:
> Thank you for your changes. Can you rebase this on the latest beta?

Right, I did that the other day, and I'm looking into doing this again right now. In order not to have to spend too much time on this step, do you know of a magic way of just saying that I want my branch to be like develop, but with a specified pach? Because I know exactly what the diff should be, i.e. add one file, and add a couple of lines into references and an all.py file. I get the feeling that they way I'm rebasing is a stupid noob way of doing git, and it takes forever.



---

archive/issue_comments_375646.json:
```json
{
    "body": "Something like this might do the trick:\n\n```\ngit fetch origin develop\ngit rebase origin/develop\n```\n",
    "created_at": "2021-07-02T12:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375646",
    "user": "slelievre"
}
```

Something like this might do the trick:

```
git fetch origin develop
git rebase origin/develop
```




---

archive/issue_comments_375647.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375647",
    "user": "mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_comments_375648.json:
```json
{
    "body": "red branch => needs work\n\nTo rebase :\n\n```\n1) git checkout develop\n2) git pull trac develop\n3) git checkout develop -b my_new_branch_name\n4) git pull trac u/gh-baldursigurds/plumbing_graph\nThis will warns about conflicting files : fix the conflicts.\n5) git commit -a\n6) git push trac HEAD:u/gh-baldursigurds/plumbing_graph\n```\n",
    "created_at": "2021-08-01T06:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375648",
    "user": "chapoton"
}
```

red branch => needs work

To rebase :

```
1) git checkout develop
2) git pull trac develop
3) git checkout develop -b my_new_branch_name
4) git pull trac u/gh-baldursigurds/plumbing_graph
This will warns about conflicting files : fix the conflicts.
5) git commit -a
6) git push trac HEAD:u/gh-baldursigurds/plumbing_graph
```




---

archive/issue_comments_375649.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-01T06:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26708#issuecomment-375649",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.
