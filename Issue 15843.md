# Issue 15843: Python 3 preparation: Handle the renaming of "urllib" and "urllib2"

Issue created by migration from https://trac.sagemath.org/ticket/16080

Original creator: wluebbe

Original creation time: 2014-04-07 09:04:08

Keywords: python3

The tool 2to3 changes the respective import statements to the new Py3 names.


But the code has to depend on the Python version!

There are 16 effected modules. 

This ticket is tracked as a dependency of meta-ticket ticket:16052.


---

Comment by chapoton created at 2015-11-15 08:52:41

Changing status from new to needs_review.


---

Comment by chapoton created at 2015-11-15 08:52:41

New commits:


---

Comment by git created at 2015-11-15 12:40:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-11-15 13:40:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ohanar created at 2015-11-16 00:17:02

Could you use `six.moves.urllib` instead? We already include six as a standard package, so it is fine to use it.


---

Comment by vbraun created at 2015-11-16 02:14:30

+1 to six.moves.urlib. Rest is great!


---

Comment by chapoton created at 2015-11-16 08:00:26

I was using this page 

http://python3porting.com/stdlib.html

as a reference, and it says that six could not handle urllib. Maybe this is outdated ?

Do we really gain something by using six instead of the "try except" ? In other words, do you really want me to spend more time on that ? I may have other things to do.


---

Comment by git created at 2015-11-16 16:49:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2015-11-16 18:37:58

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-11-16 19:05:39

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2015-11-16 19:05:39

merge conflict, probably with #19296


---

Comment by chapoton created at 2015-11-17 18:19:08

This does not work. Some imports have to be modified. Work in progress.


---

Comment by git created at 2015-11-17 18:48:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-11-23 08:30:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-11-23 08:31:10

Better wait for the bot's green light before setting back to positive review.


---

Comment by chapoton created at 2015-11-23 08:31:10

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2015-11-23 13:53:07

ok, seems to be good to go. Volker, do you approve ?


---

Comment by vbraun created at 2015-11-23 13:54:00

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-11-24 13:01:31

Resolution: fixed
