# Issue 33207: Update portability testing tutorial

Issue created by migration from https://trac.sagemath.org/ticket/33444

Original creator: mkoeppe

Original creation time: 2022-03-01 22:24:07

Replacing the `ratpoints` example by another package
as suggested in #33442#comment:2



---

Comment by tornaria created at 2022-03-02 01:57:28

In case it's useful, let me document with more detail my issues when I try to follow the tutorial in https://doc.sagemath.org/html/en/developer/portability_testing.html#generating-dockerfiles as close as possible with 9.5 head

a. missing `libgap-dev`: because of `build/pkgs/gap/distros/debian.txt` contains `libgap-dev` the `Dockerfile` wants to `apt-get libgap-dev` which doesn't exist in the current `ubuntu:latest`. Seems related to #31534.

b. After working around that one (e.g. remove `build/pkgs/gap/distros/debian.txt`) the docker build command still builds the whole of sage because of the last step is "make ptest". It seems one needs to also add `--build-arg TARGETS_OPTIONAL=ratpoints` to avoid this.
