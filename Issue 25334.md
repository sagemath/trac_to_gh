# Issue 25334: minor cleanup of doc in cluster algebras

archive/issues_025334.json:
```json
{
    "body": "CC:  @etn40ff drupel stumpc5\n\nand one code change\n\nIssue created by migration from https://trac.sagemath.org/ticket/25571\n\n",
    "closed_at": "2018-06-23T19:58:34Z",
    "created_at": "2018-06-13T12:12:05Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "minor cleanup of doc in cluster algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25334",
    "user": "https://github.com/fchapoton"
}
```
CC:  @etn40ff drupel stumpc5

and one code change

Issue created by migration from https://trac.sagemath.org/ticket/25571





---

archive/issue_comments_356739.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-13T12:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356739",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_356740.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-06-13T12:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356740",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_356741.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-13T12:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356742.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-14T07:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356743.json:
```json
{
    "body": "could you please check the little change code (getting rid of reduce) ?",
    "created_at": "2018-06-14T07:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356743",
    "user": "https://github.com/fchapoton"
}
```

could you please check the little change code (getting rid of reduce) ?



---

archive/issue_comments_356744.json:
```json
{
    "body": "Isn't\n\n```\nreduce(lambda x, y: isinstance(y, str), seqq, 1)\n```\nequivalent to\n\n```\nisinstance(seqq[-1], str) if seqq else 1\n```\n\nI don't know what the intention of the original code was, but it might be safer to replace the code by equivalent code.",
    "created_at": "2018-06-14T09:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356744",
    "user": "https://github.com/jdemeyer"
}
```

Isn't

```
reduce(lambda x, y: isinstance(y, str), seqq, 1)
```
equivalent to

```
isinstance(seqq[-1], str) if seqq else 1
```

I don't know what the intention of the original code was, but it might be safer to replace the code by equivalent code.



---

archive/issue_comments_356745.json:
```json
{
    "body": "I asked at #19339, let's see if somebody remembers.",
    "created_at": "2018-06-14T09:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356745",
    "user": "https://github.com/jdemeyer"
}
```

I asked at #19339, let's see if somebody remembers.



---

archive/issue_comments_356746.json:
```json
{
    "body": "ping ? Dylan, Salvatore or Christian, your opinion is required on a strange line of code..",
    "created_at": "2018-06-19T16:01:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356746",
    "user": "https://github.com/fchapoton"
}
```

ping ? Dylan, Salvatore or Christian, your opinion is required on a strange line of code..



---

archive/issue_comments_356747.json:
```json
{
    "body": "this `reduce` is really a weird line of code:\n\n```\n5ccae7c18f2 (Ben Strasser        2016-07-01 01:58:34 +0000 2484)         # These boolean variables classify the input type\n8b05a7c9cc4 (benstrasser         2017-08-11 15:52:36 -0500 2485)         is_vertices = set(seqq).issubset(set(seed._nlist))\n9a446c868b4 (Ben Strasser        2016-08-10 03:04:55 +0000 2486)         is_indices = set(seqq).issubset(set(range(n)))\na66a6a5f159 (Travis Scrimshaw    2017-08-14 20:49:19 -0500 2487) \ndfedfbf362f (Fr\u00e9d\u00e9ric Chapoton   2018-01-21 21:13:09 +0100 2488)         # Note - this does not guarantee that the sequence consists of\ndfedfbf362f (Fr\u00e9d\u00e9ric Chapoton   2018-01-21 21:13:09 +0100 2489)         # cluster variables, it only rules out some possibilities.\n8b05a7c9cc4 (benstrasser         2017-08-11 15:52:36 -0500 2490)         is_cluster_vars = reduce(lambda x, y: isinstance(y, str), seqq, 1) and seed._use_fpolys\n```",
    "created_at": "2018-06-20T13:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356747",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

this `reduce` is really a weird line of code:

```
5ccae7c18f2 (Ben Strasser        2016-07-01 01:58:34 +0000 2484)         # These boolean variables classify the input type
8b05a7c9cc4 (benstrasser         2017-08-11 15:52:36 -0500 2485)         is_vertices = set(seqq).issubset(set(seed._nlist))
9a446c868b4 (Ben Strasser        2016-08-10 03:04:55 +0000 2486)         is_indices = set(seqq).issubset(set(range(n)))
a66a6a5f159 (Travis Scrimshaw    2017-08-14 20:49:19 -0500 2487) 
dfedfbf362f (Frédéric Chapoton   2018-01-21 21:13:09 +0100 2488)         # Note - this does not guarantee that the sequence consists of
dfedfbf362f (Frédéric Chapoton   2018-01-21 21:13:09 +0100 2489)         # cluster variables, it only rules out some possibilities.
8b05a7c9cc4 (benstrasser         2017-08-11 15:52:36 -0500 2490)         is_cluster_vars = reduce(lambda x, y: isinstance(y, str), seqq, 1) and seed._use_fpolys
```



---

archive/issue_comments_356748.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-20T13:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356748",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_356749.json:
```json
{
    "body": "Reviewer name...",
    "created_at": "2018-06-21T17:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356749",
    "user": "https://github.com/vbraun"
}
```

Reviewer name...



---

archive/issue_comments_356750.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-06-21T17:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356750",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_356751.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-06-21T17:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356751",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_356752.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-23T19:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25334#issuecomment-356752",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_064102.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-23T19:58:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25334",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25334#event-64102"
}
```
