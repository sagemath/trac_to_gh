# Issue 25334: minor cleanup of doc in cluster algebras

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2018-06-13 12:12:05

CC:  ​etn40ff drupel stumpc5




---

Comment by chapoton created at 2018-06-13 12:17:58

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-06-13 12:17:58

New commits:


---

Comment by git created at 2018-06-13 12:19:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-14 07:23:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-06-14 07:25:32

could you please check the little change code (getting rid of reduce) ?


---

Comment by jdemeyer created at 2018-06-14 09:07:12

Isn't

```
reduce(lambda x, y: isinstance(y, str), seqq, 1)
```

equivalent to

```
isinstance(seqq[-1], str) if seqq else 1
```


I don't know what the intention of the original code was, but it might be safer to replace the code by equivalent code.


---

Comment by jdemeyer created at 2018-06-14 09:21:45

I asked at #19339, let's see if somebody remembers.


---

Comment by chapoton created at 2018-06-19 16:01:02

ping ? Dylan, Salvatore or Christian, your opinion is required on a strange line of code..


---

Comment by stumpc5 created at 2018-06-20 13:30:43

this `reduce` is really a weird line of code:

```
5ccae7c18f2 (Ben Strasser        2016-07-01 01:58:34 +0000 2484)         # These boolean variables classify the input type
8b05a7c9cc4 (benstrasser         2017-08-11 15:52:36 -0500 2485)         is_vertices = set(seqq).issubset(set(seed._nlist))
9a446c868b4 (Ben Strasser        2016-08-10 03:04:55 +0000 2486)         is_indices = set(seqq).issubset(set(range(n)))
a66a6a5f159 (Travis Scrimshaw    2017-08-14 20:49:19 -0500 2487) 
dfedfbf362f (Frédéric Chapoton   2018-01-21 21:13:09 +0100 2488)         # Note - this does not guarantee that the sequence consists of
dfedfbf362f (Frédéric Chapoton   2018-01-21 21:13:09 +0100 2489)         # cluster variables, it only rules out some possibilities.
8b05a7c9cc4 (benstrasser         2017-08-11 15:52:36 -0500 2490)         is_cluster_vars = reduce(lambda x, y: isinstance(y, str), seqq, 1) and seed._use_fpolys
```



---

Comment by stumpc5 created at 2018-06-20 13:31:46

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-06-21 17:36:52

Reviewer name...


---

Comment by vbraun created at 2018-06-21 17:36:52

Changing status from positive_review to needs_work.


---

Comment by stumpc5 created at 2018-06-21 17:51:03

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2018-06-23 19:58:34

Resolution: fixed
