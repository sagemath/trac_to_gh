# Issue 15364: Implementation of power series using PARI

archive/issues_015364.json:
```json
{
    "body": "Keywords: pari series performance\n\nAdd a class `PowerSeries_pari` for power series based on PARI's `t_SER` type.  At least if the base ring is a finite field, this is much faster than the existing implementation based on NTL polynomials.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15601\n\n",
    "created_at": "2013-12-28T17:06:24Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "title": "Implementation of power series using PARI",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15364",
    "user": "pbruin"
}
```
Keywords: pari series performance

Add a class `PowerSeries_pari` for power series based on PARI's `t_SER` type.  At least if the base ring is a finite field, this is much faster than the existing implementation based on NTL polynomials.

Issue created by migration from https://trac.sagemath.org/ticket/15601





---

archive/issue_comments_198087.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-28T18:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198087",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198088.json:
```json
{
    "body": "The current branch enables the new power series class if the base field is of type `FiniteField_pari_ffelt`, since it yields a noticeable improvement at least in that case.\n\nHere is a more or less random example with power series over a PARI finite field.\n\nSetup:\n\n```\nsage: F.<a> = FiniteField(29^10)\nsage: v = [F.random_element() for i in range(100)]\nsage: w = [F.random_element() for i in range(100)]\nsage: R.<x> = PowerSeriesRing(F, implementation=....)\nsage: f = R(v, 100); g = R(w, 100)\n```\n\nTimings (with `-c -r 1`, in milliseconds):\n\n```\n           pari     poly\nR(v, 100)  0.252    23.6\nf.list()   0.460    6.28\nf + g      0.0328   0.204\nf * g      6.24     6.64\n~f         6.84     29.6\nf^2        3.2      6.44\n```\n",
    "created_at": "2013-12-28T19:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198088",
    "user": "pbruin"
}
```

The current branch enables the new power series class if the base field is of type `FiniteField_pari_ffelt`, since it yields a noticeable improvement at least in that case.

Here is a more or less random example with power series over a PARI finite field.

Setup:

```
sage: F.<a> = FiniteField(29^10)
sage: v = [F.random_element() for i in range(100)]
sage: w = [F.random_element() for i in range(100)]
sage: R.<x> = PowerSeriesRing(F, implementation=....)
sage: f = R(v, 100); g = R(w, 100)
```

Timings (with `-c -r 1`, in milliseconds):

```
           pari     poly
R(v, 100)  0.252    23.6
f.list()   0.460    6.28
f + g      0.0328   0.204
f * g      6.24     6.64
~f         6.84     29.6
f^2        3.2      6.44
```




---

archive/issue_comments_198089.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-28T19:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198089",
    "user": "pbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_198090.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-28T20:55:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198090",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198091.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-12-30T13:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198091",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198092.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-13T12:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198092",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198093.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-17T22:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198093",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198094.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-25T15:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198094",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198095.json:
```json
{
    "body": "I'm confused. If I click on the branch here the file `power_series_poly.pyx` containing `class PowerSeries_poly` is shown as deleted. Is this intended?",
    "created_at": "2014-04-22T13:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198095",
    "user": "rws"
}
```

I'm confused. If I click on the branch here the file `power_series_poly.pyx` containing `class PowerSeries_poly` is shown as deleted. Is this intended?



---

archive/issue_comments_198096.json:
```json
{
    "body": "Replying to [comment:10 rws]:\n> I'm confused. If I click on the branch here the file `power_series_poly.pyx` containing `class PowerSeries_poly` is shown as deleted. Is this intended?\nNo, this is a Trac bug.  If you check out this branch you can see the real changes with `git diff develop...ticket/15601` (substitute your local branch name).",
    "created_at": "2014-04-22T13:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198096",
    "user": "pbruin"
}
```

Replying to [comment:10 rws]:
> I'm confused. If I click on the branch here the file `power_series_poly.pyx` containing `class PowerSeries_poly` is shown as deleted. Is this intended?
No, this is a Trac bug.  If you check out this branch you can see the real changes with `git diff develop...ticket/15601` (substitute your local branch name).



---

archive/issue_comments_198097.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-25T15:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198097",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198098.json:
```json
{
    "body": "There are a few doctest failures after merging in #15767, caused by what seems to be a PARI bug:\n\n```\ngp > f = Ser(Mod(0, 3), 'x)\n%1 = Mod(0, 3) + O(x^16)\ngp > valuation(f, 'x)\n%2 = 0\ngp > f * 1\n%3 = Mod(0, 3)*x^15 + O(x^16)\n```\n",
    "created_at": "2014-08-19T12:14:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198098",
    "user": "pbruin"
}
```

There are a few doctest failures after merging in #15767, caused by what seems to be a PARI bug:

```
gp > f = Ser(Mod(0, 3), 'x)
%1 = Mod(0, 3) + O(x^16)
gp > valuation(f, 'x)
%2 = 0
gp > f * 1
%3 = Mod(0, 3)*x^15 + O(x^16)
```




---

archive/issue_comments_198099.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-08-19T12:14:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198099",
    "user": "pbruin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198100.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-25T20:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198100",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198101.json:
```json
{
    "body": "Replied to related existing bug report at http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1587.",
    "created_at": "2014-08-25T20:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198101",
    "user": "pbruin"
}
```

Replied to related existing bug report at http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1587.



---

archive/issue_comments_198102.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-25T21:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198102",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198103.json:
```json
{
    "body": "There were some glitches in PARI's handling of various kinds of zeroes in series.  These are fixed by a sequence of upstream commits  (e0167bc, 3e727c1, f6fece5, 480e7ae, f8e1592) related to PARI bug report 1587.  It's probably easiest to wait for the next stable PARI version including these fixes.",
    "created_at": "2014-09-11T12:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198103",
    "user": "pbruin"
}
```

There were some glitches in PARI's handling of various kinds of zeroes in series.  These are fixed by a sequence of upstream commits  (e0167bc, 3e727c1, f6fece5, 480e7ae, f8e1592) related to PARI bug report 1587.  It's probably easiest to wait for the next stable PARI version including these fixes.



---

archive/issue_comments_198104.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-06T16:42:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198104",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198105.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-03-06T16:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198105",
    "user": "pbruin"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198106.json:
```json
{
    "body": "The bugs mentioned in comment:19 are fixed as of #16997.",
    "created_at": "2015-03-06T16:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198106",
    "user": "pbruin"
}
```

The bugs mentioned in comment:19 are fixed as of #16997.



---

archive/issue_comments_198107.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-03-06T17:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198107",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198108.json:
```json
{
    "body": "1. Replace `PY_TYPE_CHECK` by `isinstance`.\n\n2. Is this still relevant?\n\n```\n# Substitution of p-adic numbers in power series is\n# currently not implemented in PARI (2.5.5).\n```\n\n\n3. This looks fishy:\n\n```\nif isinstance(n, slice):\n    # get values from slice object\n    start = n.start if n.start is not None else 0\n    stop = self._prec if n.stop is None else n.stop\n    if stop is infinity:\n        stop = self.polynomial().degree() + 1\n    step = 1 if n.step is None else n.step\n\n    # find corresponding polynomial\n    poly = self.polynomial()[start:stop]\n    if step is not None:\n        coeffs = poly.padded_list(stop)\n        for i in range(start, stop):\n            if (i - start) % step:\n                coeffs[i] = 0\n        poly = self._parent._poly_ring()(coeffs)\n```\n\nI think you can (more or less) replace all the above code by\n\n```\ncoeffs = self.padded_list()[n]\npoly = self._parent._poly_ring()(coeffs)\n```\n",
    "created_at": "2015-03-06T17:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198108",
    "user": "jdemeyer"
}
```

1. Replace `PY_TYPE_CHECK` by `isinstance`.

2. Is this still relevant?

```
# Substitution of p-adic numbers in power series is
# currently not implemented in PARI (2.5.5).
```


3. This looks fishy:

```
if isinstance(n, slice):
    # get values from slice object
    start = n.start if n.start is not None else 0
    stop = self._prec if n.stop is None else n.stop
    if stop is infinity:
        stop = self.polynomial().degree() + 1
    step = 1 if n.step is None else n.step

    # find corresponding polynomial
    poly = self.polynomial()[start:stop]
    if step is not None:
        coeffs = poly.padded_list(stop)
        for i in range(start, stop):
            if (i - start) % step:
                coeffs[i] = 0
        poly = self._parent._poly_ring()(coeffs)
```

I think you can (more or less) replace all the above code by

```
coeffs = self.padded_list()[n]
poly = self._parent._poly_ring()(coeffs)
```




---

archive/issue_comments_198109.json:
```json
{
    "body": "In error message like\n\n```\nraise ValueError('unknown power series implementation: %s' % implementation)\n```\n\nI prefer to see `%r` instead of `%s` (this will print strings with quotes and it might also print non-strings more nicely)",
    "created_at": "2015-03-06T17:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198109",
    "user": "jdemeyer"
}
```

In error message like

```
raise ValueError('unknown power series implementation: %s' % implementation)
```

I prefer to see `%r` instead of `%s` (this will print strings with quotes and it might also print non-strings more nicely)



---

archive/issue_comments_198110.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-07T08:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198110",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198111.json:
```json
{
    "body": "Replying to [comment:22 jdemeyer]:\n> 1. Replace `PY_TYPE_CHECK` by `isinstance`.\nOK, done.\n> 2. Is this still relevant?\n> {{{\n> # Substitution of p-adic numbers in power series is\n> # currently not implemented in PARI (2.5.5).\n> }}}\nYes, unfortunately.\n> 3. This looks fishy: [...] I think you can (more or less) replace all the above code by\n> {{{\n> coeffs = self.padded_list()[n]\n> poly = self._parent._poly_ring()(coeffs)\n> }}}\nThis was adapted from `power_series_poly.pyx`.  I would prefer to solve this using\n\n```\npoly = self.polynomial()[n]\n```\n\nto also handle negative `start`/`stop`/`step` correctly.  Unfortunately, the `__getitem__()` methods of polynomials do not yet implement `f[start:stop:step]` with `step != 1`.  Maybe we should open a ticket for this and then simplify `__getitem__()` for power series to use the one for polynomials?",
    "created_at": "2015-03-07T08:21:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198111",
    "user": "pbruin"
}
```

Replying to [comment:22 jdemeyer]:
> 1. Replace `PY_TYPE_CHECK` by `isinstance`.
OK, done.
> 2. Is this still relevant?
> {{{
> # Substitution of p-adic numbers in power series is
> # currently not implemented in PARI (2.5.5).
> }}}
Yes, unfortunately.
> 3. This looks fishy: [...] I think you can (more or less) replace all the above code by
> {{{
> coeffs = self.padded_list()[n]
> poly = self._parent._poly_ring()(coeffs)
> }}}
This was adapted from `power_series_poly.pyx`.  I would prefer to solve this using

```
poly = self.polynomial()[n]
```

to also handle negative `start`/`stop`/`step` correctly.  Unfortunately, the `__getitem__()` methods of polynomials do not yet implement `f[start:stop:step]` with `step != 1`.  Maybe we should open a ticket for this and then simplify `__getitem__()` for power series to use the one for polynomials?



---

archive/issue_comments_198112.json:
```json
{
    "body": "Replying to [comment:25 pbruin]:\n> Unfortunately, the `__getitem__()` methods of polynomials do not yet implement `f[start:stop:step]` with `step != 1`.  Maybe we should open a ticket for this and then simplify `__getitem__()` for power series to use the one for polynomials?\nThis is now #18940.",
    "created_at": "2015-07-22T20:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198112",
    "user": "pbruin"
}
```

Replying to [comment:25 pbruin]:
> Unfortunately, the `__getitem__()` methods of polynomials do not yet implement `f[start:stop:step]` with `step != 1`.  Maybe we should open a ticket for this and then simplify `__getitem__()` for power series to use the one for polynomials?
This is now #18940.



---

archive/issue_comments_198113.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-14T21:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198113",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198114.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-14T21:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198114",
    "user": "pbruin"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198115.json:
```json
{
    "body": "(Note to reviewers: the dependency #18940 has not been merged into this ticket.)",
    "created_at": "2015-10-14T21:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198115",
    "user": "pbruin"
}
```

(Note to reviewers: the dependency #18940 has not been merged into this ticket.)



---

archive/issue_comments_198116.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-14T22:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198116",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198117.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-06T21:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198117",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198118.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-22T00:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198118",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198119.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-01-22T20:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198119",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_198120.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-01-22T20:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198120",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_198121.json:
```json
{
    "body": "Why are you wrapping a Python `gen` instead of a PARI `GEN` (like for `element_pari_ffelt`)? Wrapping a wrapper sounds inefficient.\n\nEdit: I'm not saying this is a needs_work issue, but I would like to know the reason.",
    "created_at": "2016-01-23T10:44:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198121",
    "user": "jdemeyer"
}
```

Why are you wrapping a Python `gen` instead of a PARI `GEN` (like for `element_pari_ffelt`)? Wrapping a wrapper sounds inefficient.

Edit: I'm not saying this is a needs_work issue, but I would like to know the reason.



---

archive/issue_comments_198122.json:
```json
{
    "body": "I would like to see some basic examples added to the top-level docstring of `src/sage/rings/power_series_pari.pyx`. In particular, it would be good to have examples over various base rings (it is the default implementation over ffelt, but it works over other rings too, right?).",
    "created_at": "2016-01-23T10:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198122",
    "user": "jdemeyer"
}
```

I would like to see some basic examples added to the top-level docstring of `src/sage/rings/power_series_pari.pyx`. In particular, it would be good to have examples over various base rings (it is the default implementation over ffelt, but it works over other rings too, right?).



---

archive/issue_comments_198123.json:
```json
{
    "body": "Replace\n\n```\nfrom sage.libs.pari.pari_instance cimport PariInstance\nimport sage.libs.pari.all\ncdef PariInstance pari = sage.libs.pari.all.pari\n```\n\nby\n\n```\nfrom sage.libs.pari.pari_instance cimport pari_instance as pari\n```\n",
    "created_at": "2016-01-23T10:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198123",
    "user": "jdemeyer"
}
```

Replace

```
from sage.libs.pari.pari_instance cimport PariInstance
import sage.libs.pari.all
cdef PariInstance pari = sage.libs.pari.all.pari
```

by

```
from sage.libs.pari.pari_instance cimport pari_instance as pari
```




---

archive/issue_comments_198124.json:
```json
{
    "body": "\n```\ndef __init__(self, parent, f=0, prec=infinity, check=True)\n```\n\nis missing an `INPUT:` block. Moreover, it seems that the argument `check` makes *functional* changes to `__init__` and I don't know if that is supposed to be like that.\n\nI suggest to rename `check=True` to `value_from_pari=False` and replace `if not check and isinstance(f, pari_gen):` by `if value_from_pari:`.\n\n**EDIT**: maybe it's better to move this code completely out of `__init__` and make a new classmethod `def construct_from_pari()` which bypasses `__init__` completely.",
    "created_at": "2016-01-23T10:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198124",
    "user": "jdemeyer"
}
```


```
def __init__(self, parent, f=0, prec=infinity, check=True)
```

is missing an `INPUT:` block. Moreover, it seems that the argument `check` makes *functional* changes to `__init__` and I don't know if that is supposed to be like that.

I suggest to rename `check=True` to `value_from_pari=False` and replace `if not check and isinstance(f, pari_gen):` by `if value_from_pari:`.

**EDIT**: maybe it's better to move this code completely out of `__init__` and make a new classmethod `def construct_from_pari()` which bypasses `__init__` completely.



---

archive/issue_comments_198125.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-01-23T10:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198125",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198126.json:
```json
{
    "body": "Still in `__init__`, I don't think you use the fact that `v` is of type `str`, so replace\n\n```\ncdef str v = parent.variable_name()\n```\n\nby\n\n```\nv = parent.variable_name()\n```\n",
    "created_at": "2016-01-23T10:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198126",
    "user": "jdemeyer"
}
```

Still in `__init__`, I don't think you use the fact that `v` is of type `str`, so replace

```
cdef str v = parent.variable_name()
```

by

```
v = parent.variable_name()
```




---

archive/issue_comments_198127.json:
```json
{
    "body": "Same thing in `__invert__` and `__pow__` and `_div_`: replace\n\n```\ncdef pari_gen h = ...\n```\n\nby\n\n```\nh = ...\n```\n",
    "created_at": "2016-01-23T11:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198127",
    "user": "jdemeyer"
}
```

Same thing in `__invert__` and `__pow__` and `_div_`: replace

```
cdef pari_gen h = ...
```

by

```
h = ...
```




---

archive/issue_comments_198128.json:
```json
{
    "body": "Replace\n\n```\nuse_lazy_mpoly_ring=False\n```\n\nby\n\n```\nuse_lazy_mpoly_ring=None\n```\n\nand\n\n```\nif use_lazy_mpoly_ring:\n    deprecation(...)\n```\n\nby\n\n```\nif use_lazy_mpoly_ring is not None:\n    deprecation(...)\n```\n",
    "created_at": "2016-01-23T11:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198128",
    "user": "jdemeyer"
}
```

Replace

```
use_lazy_mpoly_ring=False
```

by

```
use_lazy_mpoly_ring=None
```

and

```
if use_lazy_mpoly_ring:
    deprecation(...)
```

by

```
if use_lazy_mpoly_ring is not None:
    deprecation(...)
```




---

archive/issue_comments_198129.json:
```json
{
    "body": "Before:\n\n```\nsage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x.reverse()\nx + O(x^20)\n```\n\nAfter:\n\n```\nsage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x.reverse()\n...\nAttributeError: 'sage.rings.power_series_pari.PowerSeries_pari' object has no attribute 'reverse'\n```\n",
    "created_at": "2016-01-23T11:53:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198129",
    "user": "jdemeyer"
}
```

Before:

```
sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x.reverse()
x + O(x^20)
```

After:

```
sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x.reverse()
...
AttributeError: 'sage.rings.power_series_pari.PowerSeries_pari' object has no attribute 'reverse'
```




---

archive/issue_comments_198130.json:
```json
{
    "body": "Before:\n\n```\nsage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x\n1\n```\n\n\nAfter:\n\n```\nsage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x\n...\nTypeError: unsupported operand type(s) for //: 'sage.rings.power_series_pari.PowerSeries_pari' and 'sage.rings.power_series_pari.PowerSeries_pari'\n```\n\n\n(but note #2034)",
    "created_at": "2016-01-23T11:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198130",
    "user": "jdemeyer"
}
```

Before:

```
sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x
1
```


After:

```
sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x
...
TypeError: unsupported operand type(s) for //: 'sage.rings.power_series_pari.PowerSeries_pari' and 'sage.rings.power_series_pari.PowerSeries_pari'
```


(but note #2034)



---

archive/issue_comments_198131.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-23T12:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198131",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198132.json:
```json
{
    "body": "Replying to [comment:43 jdemeyer]:\n> Before:\n> {{{\n> sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x\n> 1\n> }}}\n> \n> After:\n> {{{\n> sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x\n> ...\n> TypeError: unsupported operand type(s) for //: 'sage.rings.power_series_pari.PowerSeries_pari' and 'sage.rings.power_series_pari.PowerSeries_pari'\n> }}}\n> \n> (but note #2034)\nWhat is `__floordiv__()` supposed to do anyway?  I can't immediately think of a case where it should behave differently from `__div__`, and the documentation of `PowerSeries_poly.__floordiv__()` doesn't help either.",
    "created_at": "2016-01-23T13:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198132",
    "user": "pbruin"
}
```

Replying to [comment:43 jdemeyer]:
> Before:
> {{{
> sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x
> 1
> }}}
> 
> After:
> {{{
> sage: R.<x> = PowerSeriesRing(GF(31^20, 'a')); x // x
> ...
> TypeError: unsupported operand type(s) for //: 'sage.rings.power_series_pari.PowerSeries_pari' and 'sage.rings.power_series_pari.PowerSeries_pari'
> }}}
> 
> (but note #2034)
What is `__floordiv__()` supposed to do anyway?  I can't immediately think of a case where it should behave differently from `__div__`, and the documentation of `PowerSeries_poly.__floordiv__()` doesn't help either.



---

archive/issue_comments_198133.json:
```json
{
    "body": "Replying to [comment:35 jdemeyer]:\n> Why are you wrapping a Python `gen` instead of a PARI `GEN` (like for `element_pari_ffelt`)? Wrapping a wrapper sounds inefficient.\nIt seemed more efficient in terms of developer time...  Power series are probably less time-critical than finite field elements.",
    "created_at": "2016-01-23T13:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198133",
    "user": "pbruin"
}
```

Replying to [comment:35 jdemeyer]:
> Why are you wrapping a Python `gen` instead of a PARI `GEN` (like for `element_pari_ffelt`)? Wrapping a wrapper sounds inefficient.
It seemed more efficient in terms of developer time...  Power series are probably less time-critical than finite field elements.



---

archive/issue_comments_198134.json:
```json
{
    "body": "Replying to [comment:45 pbruin]:\n> What is `__floordiv__()` supposed to do anyway?\n\nInteresting question. Looking at the code, it seems to be the same as ordinary division.\n\nIt is very old code from\n\n```\ncommit 4a1096784560180aa9497d70cffe1a9c93d41ab1\nAuthor: robertwb <robertwb@math.washington.edu>\nDate:   Tue Aug 8 23:43:19 2006 +0000\n\n    [project @ ring and power series coercion, floordiv for polynomials]\n\n```\n",
    "created_at": "2016-01-23T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198134",
    "user": "jdemeyer"
}
```

Replying to [comment:45 pbruin]:
> What is `__floordiv__()` supposed to do anyway?

Interesting question. Looking at the code, it seems to be the same as ordinary division.

It is very old code from

```
commit 4a1096784560180aa9497d70cffe1a9c93d41ab1
Author: robertwb <robertwb@math.washington.edu>
Date:   Tue Aug 8 23:43:19 2006 +0000

    [project @ ring and power series coercion, floordiv for polynomials]

```




---

archive/issue_comments_198135.json:
```json
{
    "body": "Anyway, my point was not very specific about floor division, just that certain things are implemented for ordinary power series, but not for PARI power series. This is bad because it might break existing code.",
    "created_at": "2016-01-23T19:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198135",
    "user": "jdemeyer"
}
```

Anyway, my point was not very specific about floor division, just that certain things are implemented for ordinary power series, but not for PARI power series. This is bad because it might break existing code.



---

archive/issue_comments_198136.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-16T10:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198136",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198137.json:
```json
{
    "body": "Replying to [comment:48 jdemeyer]:\n> Anyway, my point was not very specific about floor division, just that certain things are implemented for ordinary power series, but not for PARI power series. This is bad because it might break existing code.\nThis is now #20062.",
    "created_at": "2016-02-16T11:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198137",
    "user": "pbruin"
}
```

Replying to [comment:48 jdemeyer]:
> Anyway, my point was not very specific about floor division, just that certain things are implemented for ordinary power series, but not for PARI power series. This is bad because it might break existing code.
This is now #20062.



---

archive/issue_comments_198138.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-29T09:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198138",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198139.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-02T13:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198139",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198140.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-26T10:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198140",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198141.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-26T12:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198141",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198142.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-05-26T12:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198142",
    "user": "pbruin"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198143.json:
```json
{
    "body": "I think all reviewer comments so far have now been taken into account.",
    "created_at": "2016-05-26T12:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198143",
    "user": "pbruin"
}
```

I think all reviewer comments so far have now been taken into account.



---

archive/issue_comments_198144.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-30T10:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198144",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198145.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-13T14:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198145",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198146.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-25T07:00:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198146",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198147.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-11T09:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198147",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198148.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-10-24T09:02:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198148",
    "user": "pbruin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198149.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-25T05:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198149",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198150.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-10-25T05:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198150",
    "user": "pbruin"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198151.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-18T08:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198151",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198152.json:
```json
{
    "body": "Split off some parts as separate tickets, updated and squashed the branch.",
    "created_at": "2017-01-23T09:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198152",
    "user": "pbruin"
}
```

Split off some parts as separate tickets, updated and squashed the branch.



---

archive/issue_comments_198153.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-25T10:50:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198153",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198154.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-26T07:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198154",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198155.json:
```json
{
    "body": "I made some minor revisions and python3 compatibility. I also removed the deprecation and the corresponding one in the PARI polynomials. If my changes are good, then you can set a positive review.\n----\nNew commits:",
    "created_at": "2017-01-28T23:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198155",
    "user": "tscrim"
}
```

I made some minor revisions and python3 compatibility. I also removed the deprecation and the corresponding one in the PARI polynomials. If my changes are good, then you can set a positive review.
----
New commits:



---

archive/issue_comments_198156.json:
```json
{
    "body": "Replying to [comment:68 tscrim]:\n> I made some minor revisions and python3 compatibility. I also removed the deprecation and the corresponding one in the PARI polynomials. If my changes are good, then you can set a positive review.\nThanks.  I see that the deprecated function alias is almost 2 years old, so removing it is fine.\n\nJust out of curiosity: did you have a particular reason for changing `\"\"\"` to `r\"\"\"` in some docstrings?  As far as I know this is only needed if the docstring contains backslashes that should be left alone.",
    "created_at": "2017-01-30T06:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198156",
    "user": "pbruin"
}
```

Replying to [comment:68 tscrim]:
> I made some minor revisions and python3 compatibility. I also removed the deprecation and the corresponding one in the PARI polynomials. If my changes are good, then you can set a positive review.
Thanks.  I see that the deprecated function alias is almost 2 years old, so removing it is fine.

Just out of curiosity: did you have a particular reason for changing `"""` to `r"""` in some docstrings?  As far as I know this is only needed if the docstring contains backslashes that should be left alone.



---

archive/issue_comments_198157.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-30T06:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198157",
    "user": "pbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_198158.json:
```json
{
    "body": "Replying to [comment:69 pbruin]:\n> Just out of curiosity: did you have a particular reason for changing `\"\"\"` to `r\"\"\"` in some docstrings?  As far as I know this is only needed if the docstring contains backslashes that should be left alone.\n\nEither it was more of a habit (i.e., I didn't notice I did it) or I was being paranoid about things.",
    "created_at": "2017-01-30T06:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198158",
    "user": "tscrim"
}
```

Replying to [comment:69 pbruin]:
> Just out of curiosity: did you have a particular reason for changing `"""` to `r"""` in some docstrings?  As far as I know this is only needed if the docstring contains backslashes that should be left alone.

Either it was more of a habit (i.e., I didn't notice I did it) or I was being paranoid about things.



---

archive/issue_comments_198159.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-02T22:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15364",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15364#issuecomment-198159",
    "user": "vbraun"
}
```

Resolution: fixed
