# Issue 11652: Bug in ring_generators for relative orders

archive/issues_011652.json:
```json
{
    "body": "Assignee: davidloeffler\n\nKeywords: relative order\n\nThe function \"ring_generators\" crashes for orders in relative number fields:\n\n\n```\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nsage: K.<a,b> = NumberField([x^2 + 1, x^2 - 2])\nsage: OK = K.maximal_order()\nsage: OK.ring_generators()\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n| Sage Version 4.7.1, Release Date: 2011-08-11                       |\n| Type notebook() for the GUI, and license() for information.        |\n/home/masiao/<ipython console> in <module>()\n\n/usr/local/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/rings/number_field/order.pyc in ring_generators(self)\n    586             K = self._K\n    587             n = []\n--> 588             V, from_V, to_V = self._K.vector_space()\n    589             A = ZZ**self.rank()\n    590             remaining = [x for x in self.basis() if x != 1]\n\n/usr/local/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/rings/number_field/number_field_rel.pyc in vector_space(self)\n   1310 \n   1311         \"\"\"\n-> 1312         raise NotImplementedError, \"For a relative number field L you must use either L.relative_vector_space() or L.absolute_vector_space() as appropriate\"\n   1313         \n   1314     def absolute_base_field(self):\n\nNotImplementedError: For a relative number field L you must use either L.relative_vector_space() or L.absolute_vector_space() as appropriate\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/11824\n\n",
    "created_at": "2011-09-21T07:23:37Z",
    "labels": [
        "number fields",
        "major",
        "bug"
    ],
    "title": "Bug in ring_generators for relative orders",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11652",
    "user": "davidloeffler"
}
```
Assignee: davidloeffler

Keywords: relative order

The function "ring_generators" crashes for orders in relative number fields:


```
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: K.<a,b> = NumberField([x^2 + 1, x^2 - 2])
sage: OK = K.maximal_order()
sage: OK.ring_generators()
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
| Sage Version 4.7.1, Release Date: 2011-08-11                       |
| Type notebook() for the GUI, and license() for information.        |
/home/masiao/<ipython console> in <module>()

/usr/local/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/rings/number_field/order.pyc in ring_generators(self)
    586             K = self._K
    587             n = []
--> 588             V, from_V, to_V = self._K.vector_space()
    589             A = ZZ**self.rank()
    590             remaining = [x for x in self.basis() if x != 1]

/usr/local/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/rings/number_field/number_field_rel.pyc in vector_space(self)
   1310 
   1311         """
-> 1312         raise NotImplementedError, "For a relative number field L you must use either L.relative_vector_space() or L.absolute_vector_space() as appropriate"
   1313         
   1314     def absolute_base_field(self):

NotImplementedError: For a relative number field L you must use either L.relative_vector_space() or L.absolute_vector_space() as appropriate
```


Issue created by migration from https://trac.sagemath.org/ticket/11824





---

archive/issue_comments_131743.json:
```json
{
    "body": "Attachment [trac_11824-relative_orders.patch](tarball://root/attachments/some-uuid/ticket11824/trac_11824-relative_orders.patch) by davidloeffler created at 2011-09-21 09:02:20\n\nPatch against 4.7.2.alpha2",
    "created_at": "2011-09-21T09:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11652#issuecomment-131743",
    "user": "davidloeffler"
}
```

Attachment [trac_11824-relative_orders.patch](tarball://root/attachments/some-uuid/ticket11824/trac_11824-relative_orders.patch) by davidloeffler created at 2011-09-21 09:02:20

Patch against 4.7.2.alpha2



---

archive/issue_comments_131744.json:
```json
{
    "body": "Here's a patch. Doctests pass on 64-bit Linux and on Solaris (skynet/mark2).",
    "created_at": "2011-09-21T09:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11652#issuecomment-131744",
    "user": "davidloeffler"
}
```

Here's a patch. Doctests pass on 64-bit Linux and on Solaris (skynet/mark2).



---

archive/issue_comments_131745.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-09-21T09:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11652#issuecomment-131745",
    "user": "davidloeffler"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_131746.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-21T21:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11652#issuecomment-131746",
    "user": "fwclarke"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_131747.json:
```json
{
    "body": "Solves the problem. \u00a0Positive review.",
    "created_at": "2011-09-21T21:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11652#issuecomment-131747",
    "user": "fwclarke"
}
```

Solves the problem. Â Positive review.



---

archive/issue_comments_131748.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-09-27T17:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11652#issuecomment-131748",
    "user": "leif"
}
```

Resolution: fixed
