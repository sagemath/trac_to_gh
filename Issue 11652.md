# Issue 11652: Bug in ring_generators for relative orders

Issue created by migration from https://trac.sagemath.org/ticket/11824

Original creator: davidloeffler

Original creation time: 2011-09-21 07:23:37

Assignee: davidloeffler

Keywords: relative order

The function "ring_generators" crashes for orders in relative number fields:


```
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: K.<a,b> = NumberField([x^2 + 1, x^2 - 2])
sage: OK = K.maximal_order()
sage: OK.ring_generators()
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
| Sage Version 4.7.1, Release Date: 2011-08-11                       |
| Type notebook() for the GUI, and license() for information.        |
/home/masiao/<ipython console> in <module>()

/usr/local/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/rings/number_field/order.pyc in ring_generators(self)
    586             K = self._K
    587             n = []
--> 588             V, from_V, to_V = self._K.vector_space()
    589             A = ZZ**self.rank()
    590             remaining = [x for x in self.basis() if x != 1]

/usr/local/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/rings/number_field/number_field_rel.pyc in vector_space(self)
   1310 
   1311         """
-> 1312         raise NotImplementedError, "For a relative number field L you must use either L.relative_vector_space() or L.absolute_vector_space() as appropriate"
   1313         
   1314     def absolute_base_field(self):

NotImplementedError: For a relative number field L you must use either L.relative_vector_space() or L.absolute_vector_space() as appropriate
```



---

Attachment

Patch against 4.7.2.alpha2


---

Comment by davidloeffler created at 2011-09-21 09:03:28

Here's a patch. Doctests pass on 64-bit Linux and on Solaris (skynet/mark2).


---

Comment by davidloeffler created at 2011-09-21 09:03:28

Changing status from new to needs_review.


---

Comment by fwclarke created at 2011-09-21 21:57:19

Changing status from needs_review to positive_review.


---

Comment by fwclarke created at 2011-09-21 21:57:19

Solves the problem. Â Positive review.


---

Comment by leif created at 2011-09-27 17:41:51

Resolution: fixed
