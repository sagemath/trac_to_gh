# Issue 10719: primes can have better functionallity.

Issue created by migration from Trac.

Original creator: mderickx

Original creation time: 2011-02-15 09:52:21

Assignee: tbd

CC:  niles

In this topic:
http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50

D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.


```
(3) primes(10, infinity) should work. 
Since we're just calling next_prime, there's no reason to require the 
upper limit to be an integer. 
Wouldn't mind a proof=False option which calls next_probable_prime 
instead, either. 
```



---

Comment by mderickx created at 2011-02-15 09:52:54

Changing component from PLEASE CHANGE to number theory.


---

Comment by mderickx created at 2011-02-15 09:52:54

Changing type from PLEASE CHANGE to enhancement.


---

Comment by mderickx created at 2011-02-15 09:52:54

Changing assignee from tbd to was.


---

Attachment

allow +infinity, proof


---

Comment by dsm created at 2011-02-16 03:57:55

Patch attached to allow support for infinity as upper bound and proof option (with same semantics as next_prime's proof option: it's simply passed through to next_prime).

First idea was to avoid casting to ZZ entirely, which would allow primes(2, 100/3), but that can lead to some mysterious error messages.  Current approach simply special-cases infinity as an upper bound -- allowing -infinity as a lower bound isn't that useful, because unlike the case of an infinite upper bound, that can be easily worked around from outside the function, and so problems with the bounds are caught at first iteration, which seems better.


---

Comment by niles created at 2011-02-16 15:10:25

Changing status from new to needs_review.


---

Comment by niles created at 2011-02-16 15:10:25

Looks really good -- I've marked it as 'beginner', meaning that this is a patch which someone who is just beginning could review.  If no one beats me to it, I'll go ahead and review it :)


---

Comment by niles created at 2011-02-16 15:10:25

Changing keywords from "" to "prime, iterator, beginner".


---

Comment by kcrisman created at 2011-03-13 02:30:08

This is a great patch, nicely tested.  I've made some minor tweaks in the documentation to remove some errors in the docbuild and a few other things like indentation, and added one doctest.  Positive review.


---

Comment by kcrisman created at 2011-03-13 02:30:08

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2011-03-13 02:31:00

Apply after initial patch


---

Attachment

Apply attachment:trac_10784_primes_enhancements.patch and attachment:trac_10784-reviewer.patch


---

Comment by jdemeyer created at 2011-03-18 13:41:09

Resolution: fixed
