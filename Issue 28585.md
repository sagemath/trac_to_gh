# Issue 28585: Use assert on a condition that should always be true

Issue created by migration from https://trac.sagemath.org/ticket/28822

Original creator: @BrentBaccala

Original creation time: 2019-11-30 00:11:21

Keywords: function field

When creating an order, the function field code searches for an element in the order (an integral element) that also generates the function field.  It does so by looping over the order's basis elements to find one whose minimal polynomial has the same degree as the field extension.  If none of the basis elements meet this condition, the code currently detects this with an `if` statement, but will probably throw an exception when it tries to access an attribute (`_kummer_places`) that never got assigned because it was in the `if` block.

The condition is always met for all of our test cases, and I suspect that it will always be met, though I don't have a proof for this right now.  If it is possible that the condition might not be met, then the current code would trigger an eventual exception.

This ticket replaces the `if` block with an `assert`, which I think is more in the spirit of what this code is doing.


---

Comment by @BrentBaccala created at 2019-12-01 04:38:40

Changing status from new to needs_review.


---

Comment by @BrentBaccala created at 2019-12-01 04:38:40

New commits:


---

Comment by @mwageringel created at 2019-12-01 11:44:28

This looks good to me and the bot is green. If in the future someone finds an example where the assertion is not met, the implementation can be changed to cover that case or to raise a NotImplementedError.


---

Comment by @mwageringel created at 2019-12-01 11:44:28

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-12-04 22:43:21

Resolution: fixed
