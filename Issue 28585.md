# Issue 28585: Use assert on a condition that should always be true

archive/issues_028585.json:
```json
{
    "body": "Keywords: function field\n\nWhen creating an order, the function field code searches for an element in the order (an integral element) that also generates the function field.  It does so by looping over the order's basis elements to find one whose minimal polynomial has the same degree as the field extension.  If none of the basis elements meet this condition, the code currently detects this with an `if` statement, but will probably throw an exception when it tries to access an attribute (`_kummer_places`) that never got assigned because it was in the `if` block.\n\nThe condition is always met for all of our test cases, and I suspect that it will always be met, though I don't have a proof for this right now.  If it is possible that the condition might not be met, then the current code would trigger an eventual exception.\n\nThis ticket replaces the `if` block with an `assert`, which I think is more in the spirit of what this code is doing.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28822\n\n",
    "created_at": "2019-11-30T00:11:21Z",
    "labels": [
        "algebraic geometry",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Use assert on a condition that should always be true",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28585",
    "user": "@BrentBaccala"
}
```
Keywords: function field

When creating an order, the function field code searches for an element in the order (an integral element) that also generates the function field.  It does so by looping over the order's basis elements to find one whose minimal polynomial has the same degree as the field extension.  If none of the basis elements meet this condition, the code currently detects this with an `if` statement, but will probably throw an exception when it tries to access an attribute (`_kummer_places`) that never got assigned because it was in the `if` block.

The condition is always met for all of our test cases, and I suspect that it will always be met, though I don't have a proof for this right now.  If it is possible that the condition might not be met, then the current code would trigger an eventual exception.

This ticket replaces the `if` block with an `assert`, which I think is more in the spirit of what this code is doing.

Issue created by migration from https://trac.sagemath.org/ticket/28822





---

archive/issue_comments_403507.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-12-01T04:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28585#issuecomment-403507",
    "user": "@BrentBaccala"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_403508.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-12-01T04:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28585#issuecomment-403508",
    "user": "@BrentBaccala"
}
```

New commits:



---

archive/issue_comments_403509.json:
```json
{
    "body": "This looks good to me and the bot is green. If in the future someone finds an example where the assertion is not met, the implementation can be changed to cover that case or to raise a NotImplementedError.",
    "created_at": "2019-12-01T11:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28585#issuecomment-403509",
    "user": "@mwageringel"
}
```

This looks good to me and the bot is green. If in the future someone finds an example where the assertion is not met, the implementation can be changed to cover that case or to raise a NotImplementedError.



---

archive/issue_comments_403510.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-01T11:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28585#issuecomment-403510",
    "user": "@mwageringel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_403511.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-04T22:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28585#issuecomment-403511",
    "user": "vbraun"
}
```

Resolution: fixed
