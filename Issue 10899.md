# Issue 10899: Resultant for polynomials over RDF and CDF not implemented

archive/issues_010899.json:
```json
{
    "body": "Assignee: @aghitza\n\nKeywords: polynomial, resultant\n\nCalling the resultant method for a polynomial defined over RDF or CDF returns a NotImplementedError. It would appear that this results from it not being implemented in Singular. \n\n\n```\nsage: R.<x> = PolynomialRing(CDF)\nsage: f = R(1 - I*x + (0.5)*x^2 + (1.7)*x^3)\nsage: g = f.derivative()\nsage: f.resultant(g)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/Users/simonspicer/<ipython console> in <module>()\n\n/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_singular_interface.pyc in resultant(self, other, variable)\n    351         return lcm_func(self, singular, have_ring)\n    352     def resultant(self, other, variable=None):\n--> 353         return resultant_func(self, other, variable)\n    354 \n    355 def _singular_func(self, singular=singular_default, have_ring=False):\n\n/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_singular_interface.pyc in resultant_func(self, other, variable)\n    499     if variable is None:\n    500         variable = self.parent().gen(0)\n--> 501     rt = self._singular_().resultant(other._singular_(), variable._singular_())\n    502     r = rt.sage_poly(self.parent())\n    503     if self.parent().ngens() <= 1 and r.degree() <= 0:\n\n/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/expect.pyc in __call__(self, *args, **kwds)\n   1481 \n   1482     def __call__(self, *args, **kwds):\n-> 1483         return self._obj.parent().function_call(self._name, [self._obj] + list(args), kwds)\n   1484     \n   1485     def help(self):\n\n/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/expect.pyc in function_call(self, function, args, kwds)\n   1380                                        [s.name() for s in args],\n   1381                                        ['%s=%s'%(key,value.name()) for key, value in kwds.items()])\n-> 1382         return self.new(s)\n   1383 \n   1384     def _function_call_string(self, function, args, kwds):\n\n/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/expect.pyc in new(self, code)\n   1161 \n   1162     def new(self, code):\n-> 1163         return self(code)\n   1164 \n   1165     ###################################################################\n\n/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/singular.pyc in __call__(self, x, type)\n    659             x = str(x)[1:-1]\n    660 \n--> 661         return SingularElement(self, type, x, False)\n    662 \n    663     def has_coerce_map_from_impl(self, S):\n\n/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/singular.pyc in __init__(self, parent, type, value, is_name)\n   1122             except (RuntimeError, TypeError, KeyboardInterrupt), x:\n   1123                 self._session_number = -1\n-> 1124                 raise TypeError, x\n   1125         else:\n   1126             self._name = value\n\nTypeError: Singular error:\n   ? not implemented\n   ? error occurred in or before STDIN line 94: `def sage19=resultant(sage17,sage18,sage15);`\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10978\n\n",
    "created_at": "2011-03-21T23:22:27Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Resultant for polynomials over RDF and CDF not implemented",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10899",
    "user": "https://github.com/haikona"
}
```
Assignee: @aghitza

Keywords: polynomial, resultant

Calling the resultant method for a polynomial defined over RDF or CDF returns a NotImplementedError. It would appear that this results from it not being implemented in Singular. 


```
sage: R.<x> = PolynomialRing(CDF)
sage: f = R(1 - I*x + (0.5)*x^2 + (1.7)*x^3)
sage: g = f.derivative()
sage: f.resultant(g)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/Users/simonspicer/<ipython console> in <module>()

/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_singular_interface.pyc in resultant(self, other, variable)
    351         return lcm_func(self, singular, have_ring)
    352     def resultant(self, other, variable=None):
--> 353         return resultant_func(self, other, variable)
    354 
    355 def _singular_func(self, singular=singular_default, have_ring=False):

/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_singular_interface.pyc in resultant_func(self, other, variable)
    499     if variable is None:
    500         variable = self.parent().gen(0)
--> 501     rt = self._singular_().resultant(other._singular_(), variable._singular_())
    502     r = rt.sage_poly(self.parent())
    503     if self.parent().ngens() <= 1 and r.degree() <= 0:

/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/expect.pyc in __call__(self, *args, **kwds)
   1481 
   1482     def __call__(self, *args, **kwds):
-> 1483         return self._obj.parent().function_call(self._name, [self._obj] + list(args), kwds)
   1484     
   1485     def help(self):

/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/expect.pyc in function_call(self, function, args, kwds)
   1380                                        [s.name() for s in args],
   1381                                        ['%s=%s'%(key,value.name()) for key, value in kwds.items()])
-> 1382         return self.new(s)
   1383 
   1384     def _function_call_string(self, function, args, kwds):

/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/expect.pyc in new(self, code)
   1161 
   1162     def new(self, code):
-> 1163         return self(code)
   1164 
   1165     ###################################################################

/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/singular.pyc in __call__(self, x, type)
    659             x = str(x)[1:-1]
    660 
--> 661         return SingularElement(self, type, x, False)
    662 
    663     def has_coerce_map_from_impl(self, S):

/Users/simonspicer/sage/local/lib/python2.6/site-packages/sage/interfaces/singular.pyc in __init__(self, parent, type, value, is_name)
   1122             except (RuntimeError, TypeError, KeyboardInterrupt), x:
   1123                 self._session_number = -1
-> 1124                 raise TypeError, x
   1125         else:
   1126             self._name = value

TypeError: Singular error:
   ? not implemented
   ? error occurred in or before STDIN line 94: `def sage19=resultant(sage17,sage18,sage15);`
```


Issue created by migration from https://trac.sagemath.org/ticket/10978





---

archive/issue_comments_116602.json:
```json
{
    "body": "I think I've tracked down the issue after some digging. From rings/polynomial/polynomial_singular_interface.py/, class Polynomial_singular_repr:\n\"Due to the incompatibility of Python extension classes and multiple inheritance, this just defers to module-level functions.\"\n\nThis appears to be a Cython multiple inheritance issue - polynomials over RDF and CDF are examples of the Polynomial_generic_field, which are subclasses of Polynomial_singular_repr. The .resultant() method there fails for these objects but the .resultant() method of the Polynomial parent class (which does work) gets skipped overdue to the multiple inheritance issue.\n\nAs such, this should be fixed in an upcoming version of Cython.",
    "created_at": "2011-03-22T00:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10899#issuecomment-116602",
    "user": "https://github.com/haikona"
}
```

I think I've tracked down the issue after some digging. From rings/polynomial/polynomial_singular_interface.py/, class Polynomial_singular_repr:
"Due to the incompatibility of Python extension classes and multiple inheritance, this just defers to module-level functions."

This appears to be a Cython multiple inheritance issue - polynomials over RDF and CDF are examples of the Polynomial_generic_field, which are subclasses of Polynomial_singular_repr. The .resultant() method there fails for these objects but the .resultant() method of the Polynomial parent class (which does work) gets skipped overdue to the multiple inheritance issue.

As such, this should be fixed in an upcoming version of Cython.



---

archive/issue_comments_116603.json:
```json
{
    "body": "Replying to [comment:1 spice]:\n> As such, this should be fixed in an upcoming version of Cython.\nThe issue is unchanged 3 years later.",
    "created_at": "2014-03-16T08:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10899#issuecomment-116603",
    "user": "https://github.com/rwst"
}
```

Replying to [comment:1 spice]:
> As such, this should be fixed in an upcoming version of Cython.
The issue is unchanged 3 years later.



---

archive/issue_comments_116604.json:
```json
{
    "body": "duplicate of #2693",
    "created_at": "2019-05-01T15:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10899#issuecomment-116604",
    "user": "https://github.com/fchapoton"
}
```

duplicate of #2693



---

archive/issue_comments_116605.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-05-01T15:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10899#issuecomment-116605",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_116606.json:
```json
{
    "body": "I confirm the duplication, and the described behavior changed after #2693.",
    "created_at": "2019-08-22T09:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10899#issuecomment-116606",
    "user": "https://github.com/bgrenet"
}
```

I confirm the duplication, and the described behavior changed after #2693.



---

archive/issue_comments_116607.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-08-22T09:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10899#issuecomment-116607",
    "user": "https://github.com/bgrenet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_116608.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2019-08-22T10:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10899#issuecomment-116608",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate
