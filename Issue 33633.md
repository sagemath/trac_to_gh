# Issue 33633: Dummy script package _sagemath, record downstream package of Sage in distributions

Issue created by migration from https://trac.sagemath.org/ticket/33870

Original creator: mkoeppe

Original creation time: 2022-05-19 16:22:16

CC:  arojas fbissey isuruf @collares tornaria thansen jhpalmieri slabbe nbruin klee

To generate info in `src/doc/en/installation/linux.rst`
and to provision devcontainers that launch downstream Sage as packaged by distributions (as done in #33671 for archlinux, conda)


---

Comment by git created at 2022-05-19 16:50:55

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2022-05-19 16:59:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-05-19 17:07:28

I have taken the information about the packages from repology; please help to make this information accurate

Also https://trac.sagemath.org/wiki/Distribution#Packagemanagers probably needs updating - I've come across some broken links etc.


---

Comment by git created at 2022-05-19 17:16:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-07-04 01:55:19

Changing status from new to needs_review.


---

Comment by git created at 2022-08-02 01:47:47

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by klee created at 2022-08-02 03:20:40


```diff
diff --git a/build/pkgs/_sagemath/SPKG.rst b/build/pkgs/_sagemath/SPKG.rst
index c0021422ad..5f38af716d 100644
--- a/build/pkgs/_sagemath/SPKG.rst
+++ b/build/pkgs/_sagemath/SPKG.rst
@@ -12,4 +12,4 @@ including documentation and Jupyter.
 Downstream Contact
 ------------------
 
-See https://trac.sagemath.org/wiki/Distribution#Packagemanagers
+See :trac:`wiki/Distribution#Packagemanagers`.
```



---

Comment by klee created at 2022-08-02 03:41:02

Before the above change, there was an error in building the documentation. But with the above change, it shows as 

```
See trac ticket #wiki/Distribution#Packagemanagers.
```



---

Comment by mkoeppe created at 2022-08-02 03:54:36

Somewhere else we use 

```
:trac:`Trac wiki page Distribution <wiki/Distribution>`
```

I'll change it to that.


---

Comment by git created at 2022-08-02 03:55:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2022-08-02 04:00:38

These "dummy script packages" might be of type "dummy" so that they are not mixed with real standard and optional packages.


---

Comment by klee created at 2022-08-02 04:01:53

Please leave "dependencies" blank instead of "none". It will look better.


---

Comment by klee created at 2022-08-02 04:10:27

Could a dummy package be really installable? Specifically, how about "_recommended" package?


---

Comment by mkoeppe created at 2022-08-02 04:11:10

The word "None" is generated by `build/bin/sage-spkg-info`. Do you suggest I should change that and leave the "Dependencies" section blank in general in this case?


---

Comment by mkoeppe created at 2022-08-02 04:11:45

No, dummy packages are not installable. That's what makes them dummy. _recommended is not installable either


---

Comment by klee created at 2022-08-02 04:13:23

Then the type of a dummy package is not significant?


---

Comment by klee created at 2022-08-02 04:16:09

Replying to [comment:18 mkoeppe]:
> The word "None" is generated by `build/bin/sage-spkg-info`. Do you suggest I should change that and leave the "Dependencies" section blank in general in this case?

For documentation look and feel, yes. But if you think "None" is better for other considerations, then I would not insist.


---

Comment by mkoeppe created at 2022-08-02 04:18:22

The output is only about look and feel. I'll change it.


---

Comment by git created at 2022-08-02 04:19:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-02 04:21:49

Replying to [comment:20 klee]:
> Then the type of a dummy package is not significant?

I think they are all "optional", there's no additional distinction


---

Comment by klee created at 2022-08-02 04:22:38

Replying to [comment:15 klee]:
> These "dummy script packages" might be of type "dummy" so that they are not mixed with real standard and optional packages. 

Just an idea for another ticket...


---

Comment by mkoeppe created at 2022-08-02 04:25:40

I'd say "dummy script" is a "source type", not a "package type", see https://doc.sagemath.org/html/en/developer/packaging.html#package-source-types


---

Comment by mkoeppe created at 2022-08-02 04:28:58

Replying to [comment:24 mkoeppe]:
> Replying to [comment:20 klee]:
> > Then the type of a dummy package is not significant?
> 
> I think they are all "optional", there's no additional distinction

Except for `_prereq`, which is a standard dummy script package.


---

Comment by klee created at 2022-08-02 04:36:25

Replying to [comment:26 mkoeppe]:
> I'd say "dummy script" is a "source type", not a "package type", see https://doc.sagemath.org/html/en/developer/packaging.html#package-source-types

But "dummy package" is a package type. 

More seriously it seems that the last two lines are also auto-generated, and not suitable for a dummy package. 

```
...
nix:

$ nix-env --install sage
void:

$ sudo xbps-install  sagemath
See https://repology.org/project/sagemath/versions

However, these system packages will not be used for building Sage 
because spkg-configure.m4 has not been written for this package; see trac ticket #27330
```


So these dummy packages really should be treated separately. But for this, later.

There is a typo:

```
See <../reference/spkg/index.html>`_ for the names of packages ...
```

Missing apostrophe?


---

Comment by git created at 2022-08-02 04:41:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-02 04:50:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-02 04:54:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2022-08-02 05:12:00

Thanks for updating stuffs for dummy packages.

It looks good to me.


---

Comment by klee created at 2022-08-02 05:12:00

Changing priority from major to minor.


---

Comment by klee created at 2022-08-02 05:12:00

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-08-02 07:19:46

Thank you!


---

Comment by vbraun created at 2022-08-06 07:43:34

Resolution: fixed
