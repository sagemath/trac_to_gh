# Issue 33633: Dummy script package _sagemath, record downstream package of Sage in distributions

archive/issues_033633.json:
```json
{
    "body": "CC:  @antonio-rojas @kiwifb @isuruf @collares @tornaria @tobihan @jhpalmieri @seblabbe @nbruin @kwankyu\n\nTo generate info in `src/doc/en/installation/linux.rst`\nand to provision devcontainers that launch downstream Sage as packaged by distributions (as done in #33671 for archlinux, conda)\n\nIssue created by migration from https://trac.sagemath.org/ticket/33870\n\n",
    "created_at": "2022-05-19T16:22:16Z",
    "labels": [
        "documentation",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Dummy script package _sagemath, record downstream package of Sage in distributions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33633",
    "user": "@mkoeppe"
}
```
CC:  @antonio-rojas @kiwifb @isuruf @collares @tornaria @tobihan @jhpalmieri @seblabbe @nbruin @kwankyu

To generate info in `src/doc/en/installation/linux.rst`
and to provision devcontainers that launch downstream Sage as packaged by distributions (as done in #33671 for archlinux, conda)

Issue created by migration from https://trac.sagemath.org/ticket/33870





---

archive/issue_comments_478852.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-05-19T16:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478852",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_478853.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-19T16:59:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478853",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_478854.json:
```json
{
    "body": "I have taken the information about the packages from repology; please help to make this information accurate\n\nAlso https://trac.sagemath.org/wiki/Distribution#Packagemanagers probably needs updating - I've come across some broken links etc.",
    "created_at": "2022-05-19T17:07:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478854",
    "user": "@mkoeppe"
}
```

I have taken the information about the packages from repology; please help to make this information accurate

Also https://trac.sagemath.org/wiki/Distribution#Packagemanagers probably needs updating - I've come across some broken links etc.



---

archive/issue_comments_478855.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-19T17:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478855",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_478856.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-04T01:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478856",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_478857.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-08-02T01:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478857",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_478858.json:
```json
{
    "body": "\n```diff\ndiff --git a/build/pkgs/_sagemath/SPKG.rst b/build/pkgs/_sagemath/SPKG.rst\nindex c0021422ad..5f38af716d 100644\n--- a/build/pkgs/_sagemath/SPKG.rst\n+++ b/build/pkgs/_sagemath/SPKG.rst\n@@ -12,4 +12,4 @@ including documentation and Jupyter.\n Downstream Contact\n ------------------\n \n-See https://trac.sagemath.org/wiki/Distribution#Packagemanagers\n+See :trac:`wiki/Distribution#Packagemanagers`.\n```\n",
    "created_at": "2022-08-02T03:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478858",
    "user": "@kwankyu"
}
```


```diff
diff --git a/build/pkgs/_sagemath/SPKG.rst b/build/pkgs/_sagemath/SPKG.rst
index c0021422ad..5f38af716d 100644
--- a/build/pkgs/_sagemath/SPKG.rst
+++ b/build/pkgs/_sagemath/SPKG.rst
@@ -12,4 +12,4 @@ including documentation and Jupyter.
 Downstream Contact
 ------------------
 
-See https://trac.sagemath.org/wiki/Distribution#Packagemanagers
+See :trac:`wiki/Distribution#Packagemanagers`.
```




---

archive/issue_comments_478859.json:
```json
{
    "body": "Before the above change, there was an error in building the documentation. But with the above change, it shows as \n\n```\nSee trac ticket #wiki/Distribution#Packagemanagers.\n```\n",
    "created_at": "2022-08-02T03:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478859",
    "user": "@kwankyu"
}
```

Before the above change, there was an error in building the documentation. But with the above change, it shows as 

```
See trac ticket #wiki/Distribution#Packagemanagers.
```




---

archive/issue_comments_478860.json:
```json
{
    "body": "Somewhere else we use \n\n```\n:trac:`Trac wiki page Distribution <wiki/Distribution>`\n```\n\nI'll change it to that.",
    "created_at": "2022-08-02T03:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478860",
    "user": "@mkoeppe"
}
```

Somewhere else we use 

```
:trac:`Trac wiki page Distribution <wiki/Distribution>`
```

I'll change it to that.



---

archive/issue_comments_478861.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-02T03:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478861",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_478862.json:
```json
{
    "body": "These \"dummy script packages\" might be of type \"dummy\" so that they are not mixed with real standard and optional packages.",
    "created_at": "2022-08-02T04:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478862",
    "user": "@kwankyu"
}
```

These "dummy script packages" might be of type "dummy" so that they are not mixed with real standard and optional packages.



---

archive/issue_comments_478863.json:
```json
{
    "body": "Please leave \"dependencies\" blank instead of \"none\". It will look better.",
    "created_at": "2022-08-02T04:01:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478863",
    "user": "@kwankyu"
}
```

Please leave "dependencies" blank instead of "none". It will look better.



---

archive/issue_comments_478864.json:
```json
{
    "body": "Could a dummy package be really installable? Specifically, how about \"_recommended\" package?",
    "created_at": "2022-08-02T04:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478864",
    "user": "@kwankyu"
}
```

Could a dummy package be really installable? Specifically, how about "_recommended" package?



---

archive/issue_comments_478865.json:
```json
{
    "body": "The word \"None\" is generated by `build/bin/sage-spkg-info`. Do you suggest I should change that and leave the \"Dependencies\" section blank in general in this case?",
    "created_at": "2022-08-02T04:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478865",
    "user": "@mkoeppe"
}
```

The word "None" is generated by `build/bin/sage-spkg-info`. Do you suggest I should change that and leave the "Dependencies" section blank in general in this case?



---

archive/issue_comments_478866.json:
```json
{
    "body": "No, dummy packages are not installable. That's what makes them dummy. _recommended is not installable either",
    "created_at": "2022-08-02T04:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478866",
    "user": "@mkoeppe"
}
```

No, dummy packages are not installable. That's what makes them dummy. _recommended is not installable either



---

archive/issue_comments_478867.json:
```json
{
    "body": "Then the type of a dummy package is not significant?",
    "created_at": "2022-08-02T04:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478867",
    "user": "@kwankyu"
}
```

Then the type of a dummy package is not significant?



---

archive/issue_comments_478868.json:
```json
{
    "body": "Replying to [comment:18 mkoeppe]:\n> The word \"None\" is generated by `build/bin/sage-spkg-info`. Do you suggest I should change that and leave the \"Dependencies\" section blank in general in this case?\n\nFor documentation look and feel, yes. But if you think \"None\" is better for other considerations, then I would not insist.",
    "created_at": "2022-08-02T04:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478868",
    "user": "@kwankyu"
}
```

Replying to [comment:18 mkoeppe]:
> The word "None" is generated by `build/bin/sage-spkg-info`. Do you suggest I should change that and leave the "Dependencies" section blank in general in this case?

For documentation look and feel, yes. But if you think "None" is better for other considerations, then I would not insist.



---

archive/issue_comments_478869.json:
```json
{
    "body": "The output is only about look and feel. I'll change it.",
    "created_at": "2022-08-02T04:18:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478869",
    "user": "@mkoeppe"
}
```

The output is only about look and feel. I'll change it.



---

archive/issue_comments_478870.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-02T04:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478870",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_478871.json:
```json
{
    "body": "Replying to [comment:20 klee]:\n> Then the type of a dummy package is not significant?\n\nI think they are all \"optional\", there's no additional distinction",
    "created_at": "2022-08-02T04:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478871",
    "user": "@mkoeppe"
}
```

Replying to [comment:20 klee]:
> Then the type of a dummy package is not significant?

I think they are all "optional", there's no additional distinction



---

archive/issue_comments_478872.json:
```json
{
    "body": "Replying to [comment:15 klee]:\n> These \"dummy script packages\" might be of type \"dummy\" so that they are not mixed with real standard and optional packages. \n\nJust an idea for another ticket...",
    "created_at": "2022-08-02T04:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478872",
    "user": "@kwankyu"
}
```

Replying to [comment:15 klee]:
> These "dummy script packages" might be of type "dummy" so that they are not mixed with real standard and optional packages. 

Just an idea for another ticket...



---

archive/issue_comments_478873.json:
```json
{
    "body": "I'd say \"dummy script\" is a \"source type\", not a \"package type\", see https://doc.sagemath.org/html/en/developer/packaging.html#package-source-types",
    "created_at": "2022-08-02T04:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478873",
    "user": "@mkoeppe"
}
```

I'd say "dummy script" is a "source type", not a "package type", see https://doc.sagemath.org/html/en/developer/packaging.html#package-source-types



---

archive/issue_comments_478874.json:
```json
{
    "body": "Replying to [comment:24 mkoeppe]:\n> Replying to [comment:20 klee]:\n> > Then the type of a dummy package is not significant?\n> \n> I think they are all \"optional\", there's no additional distinction\n\nExcept for `_prereq`, which is a standard dummy script package.",
    "created_at": "2022-08-02T04:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478874",
    "user": "@mkoeppe"
}
```

Replying to [comment:24 mkoeppe]:
> Replying to [comment:20 klee]:
> > Then the type of a dummy package is not significant?
> 
> I think they are all "optional", there's no additional distinction

Except for `_prereq`, which is a standard dummy script package.



---

archive/issue_comments_478875.json:
```json
{
    "body": "Replying to [comment:26 mkoeppe]:\n> I'd say \"dummy script\" is a \"source type\", not a \"package type\", see https://doc.sagemath.org/html/en/developer/packaging.html#package-source-types\n\nBut \"dummy package\" is a package type. \n\nMore seriously it seems that the last two lines are also auto-generated, and not suitable for a dummy package. \n\n```\n...\nnix:\n\n$ nix-env --install sage\nvoid:\n\n$ sudo xbps-install  sagemath\nSee https://repology.org/project/sagemath/versions\n\nHowever, these system packages will not be used for building Sage \nbecause spkg-configure.m4 has not been written for this package; see trac ticket #27330\n```\n\n\nSo these dummy packages really should be treated separately. But for this, later.\n\nThere is a typo:\n\n```\nSee <../reference/spkg/index.html>`_ for the names of packages ...\n```\n\nMissing apostrophe?",
    "created_at": "2022-08-02T04:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478875",
    "user": "@kwankyu"
}
```

Replying to [comment:26 mkoeppe]:
> I'd say "dummy script" is a "source type", not a "package type", see https://doc.sagemath.org/html/en/developer/packaging.html#package-source-types

But "dummy package" is a package type. 

More seriously it seems that the last two lines are also auto-generated, and not suitable for a dummy package. 

```
...
nix:

$ nix-env --install sage
void:

$ sudo xbps-install  sagemath
See https://repology.org/project/sagemath/versions

However, these system packages will not be used for building Sage 
because spkg-configure.m4 has not been written for this package; see trac ticket #27330
```


So these dummy packages really should be treated separately. But for this, later.

There is a typo:

```
See <../reference/spkg/index.html>`_ for the names of packages ...
```

Missing apostrophe?



---

archive/issue_comments_478876.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-02T04:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478876",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_478877.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-02T04:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478877",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_478878.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-02T04:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478878",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_478879.json:
```json
{
    "body": "Thanks for updating stuffs for dummy packages.\n\nIt looks good to me.",
    "created_at": "2022-08-02T05:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478879",
    "user": "@kwankyu"
}
```

Thanks for updating stuffs for dummy packages.

It looks good to me.



---

archive/issue_comments_478880.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2022-08-02T05:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478880",
    "user": "@kwankyu"
}
```

Changing priority from major to minor.



---

archive/issue_comments_478881.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-02T05:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478881",
    "user": "@kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_478882.json:
```json
{
    "body": "Thank you!",
    "created_at": "2022-08-02T07:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478882",
    "user": "@mkoeppe"
}
```

Thank you!



---

archive/issue_comments_478883.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-06T07:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33633#issuecomment-478883",
    "user": "@vbraun"
}
```

Resolution: fixed
