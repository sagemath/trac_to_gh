# Issue 11307: SAT Solver Interface

Issue created by migration from https://trac.sagemath.org/ticket/11479

Original creator: fichtejo

Original creation time: 2011-06-14 13:42:28

Assignee: jason

CC:  malb ncohen schilly tmonteil

Since sage does not have any boolean satisfiablity support, we should change this :-)

Implement a simple interface to SAT solvers:

Ideas:
1) Data structures
  - clauses
  - cnf formulas (implements DIMACS converting...)
  - results
2) Additional features to CNF class
  - various implementations of at most k variables are true
3) Some examples
  - e.g., Sudoku, vertex cover via binary search
4) Solver shell/string parsing interface for:
  - MiniSAT
  - RSAT
  - Berkmin
  - Siege
  - zChaff

Further ideas:
5) direct C++ Interface (suggested by Martin)
  - MiniSAT
  - RSAT
  - CryptMiniSat


Some ideas are attached:
- sat.py implements 
    - Clause (set of integers inherits from set)
    - CNFFormula (list of Clauses)
        - features:
        - create DIMACS
        - read from DIMACS
        - is_satisfiable (calls sat solver)
        - solve (calls sat solver and returns additional information), next step: obtain satisfiable assignments from solvers
        - is_horn (do we have HORN clauses only)
        - is_2cnf (do we have 2 CNF clauses only)
        - at_most_k_variables_true (adds clauses such that at most k variables are true)

- backend.py
   - SolverResult (simple result class, needs improvement)
   - Solver (call SAT solver, process string solver result) 


---

Attachment

Basic backend


---

Comment by fichtejo created at 2011-06-14 13:44:06

Clause, CNFFormula


---

Attachment

String Processing for MiniSAT


---

Attachment


---

Comment by was created at 2012-01-04 21:22:39

See also #418.


---

Comment by kcrisman created at 2012-06-04 19:15:24

> See also #418. 
Given recent activity there, is this a dup?  Of course, there is code here (and #11479) which could be useful, so I won't make that call.


---

Comment by fichtejo created at 2012-06-04 20:10:57

#418 interacts only with cryptominisat. #5671 gives a wrapper for miniSAT. RSat and others are still interesting. I suggested here to create a common wrapper for many solvers, but also to create a string-based interface (create DIMACS and parse output) for solvers that are neither open source nor provide a wrapper. I think we should merge the work.


---

Comment by malb created at 2012-06-04 21:02:42

Agreed! I started from scratch because it was simpler for me but we should merge. Perhaps you could add a "DIMACS" solver to sage.sat.solvers which would understand the same commands as my cryptominisat solver interface (which we can change to suite your needs as well). This way my higher level code would still be applicable, e.g., the ANF to CNF conversion and the solve() function?


---

Comment by malb created at 2012-06-15 16:20:01

I added DIMACS solvers to !#418.


---

Comment by malb created at 2012-12-19 14:06:52

What are we going to do with this ticket? There hasn't been any movement in months and there's #418? Close it?


---

Comment by mmezzarobba created at 2014-03-14 15:31:46

Changing status from new to needs_review.


---

Comment by mmezzarobba created at 2014-03-14 15:31:46

Most of the suggested features now seem to be available in `sage.sat`, but some ideas may still be relevant. What do people think?


---

Comment by malb created at 2014-03-14 15:47:23

Wouldn't it be better to open a new ticket for (each of) the features that you consider missing from `sage.sat`?


---

Comment by kcrisman created at 2014-03-14 15:49:45

> Wouldn't it be better to open a new ticket for (each of) the features that you consider missing from `sage.sat`?
I agree.  With that in mind, let's also close #5671 and open new tickets for new features.  mmezzarobba, is that okay?


---

Comment by mmezzarobba created at 2014-03-14 16:15:19

Replying to [comment:12 kcrisman]:
> > Wouldn't it be better to open a new ticket for (each of) the features that you consider missing from `sage.sat`?
> I agree.  With that in mind, let's also close #5671 and open new tickets for new features.  mmezzarobba, is that okay?

Sorry, apparently I wasn't clear: I was actually suggesting to close this ticket (hence the change to the milestone field), and I don't feel a need for new tickets about the ideas listed here, but I thought some of the ticket's participants might.


---

Comment by ncohen created at 2014-03-14 20:28:15

Oh. PLease add me in CC of any sat-related ticket you might create :-)

Nathann


---

Comment by ncohen created at 2014-03-25 10:33:00

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-03-31 12:31:02

Resolution: fixed
