# Issue 15910: abs for elements of number fields provided with a complex embedding ignores it

archive/issues_015910.json:
```json
{
    "body": "\nSee [http://ask.sagemath.org/question/3967/qqextension-with-embedding-incorrect-modulus](http://ask.sagemath.org/question/3967/qqextension-with-embedding-incorrect-modulus)\n\n```\nsage: x = polygen(ZZ)\nsage: f = x^3 - x - 1\nsage: beta = f.complex_roots()[0]; beta\n1.32471795724475\nsage: K.<b> = NumberField(f, embedding=beta)\nsage: b.abs()\n0.868836961832709\nsage: [r.abs() for r in f.complex_roots()]\n[1.32471795724475, 0.868836961832709, 0.868836961832709]\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16147\n\n",
    "created_at": "2014-04-12T09:14:06Z",
    "labels": [
        "component: number fields",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "abs for elements of number fields provided with a complex embedding ignores it",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15910",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

See [http://ask.sagemath.org/question/3967/qqextension-with-embedding-incorrect-modulus](http://ask.sagemath.org/question/3967/qqextension-with-embedding-incorrect-modulus)

```
sage: x = polygen(ZZ)
sage: f = x^3 - x - 1
sage: beta = f.complex_roots()[0]; beta
1.32471795724475
sage: K.<b> = NumberField(f, embedding=beta)
sage: b.abs()
0.868836961832709
sage: [r.abs() for r in f.complex_roots()]
[1.32471795724475, 0.868836961832709, 0.868836961832709]
```


Issue created by migration from https://trac.sagemath.org/ticket/16147





---

archive/issue_events_047574.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15910#event-47574"
}
```



---

archive/issue_comments_206412.json:
```json
{
    "body": "I provided a simple fix... needs review!\n\nVincent\n----\nNew commits:",
    "created_at": "2014-06-29T12:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15910#issuecomment-206412",
    "user": "https://github.com/videlec"
}
```

I provided a simple fix... needs review!

Vincent
----
New commits:



---

archive/issue_comments_206413.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-29T12:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15910#issuecomment-206413",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_206414.json:
```json
{
    "body": "Does the job very neatly: positive review.",
    "created_at": "2014-06-29T19:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15910#issuecomment-206414",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Does the job very neatly: positive review.



---

archive/issue_comments_206415.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-29T19:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15910#issuecomment-206415",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_206416.json:
```json
{
    "body": "Replying to [comment:3 fwclarke]:\n> Does the job very neatly: positive review.\n\nGreat! thanks!\n\nWhen you finish the review, you might better fill the reviewer field with your name (otherwise the release manager has extra job to do). It should be filled with your full name. I did it for you anyway.\n\nVincent\n\nPS: Actually, I thought that the default answer of .abs() could be an element of QQbar (whenever an embedding in QQbar is defined). That way we would have an exact algebraic number and not an approximation. But in order to do that, there is something to fix with embeddings:\n\n```\nsage: K.<cbrt2> = NumberField(x^3 - 2, embedding=1)\nsage: QQbar.has_coerce_map_from(K)\nFalse\n```\n",
    "created_at": "2014-06-29T20:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15910#issuecomment-206416",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:3 fwclarke]:
> Does the job very neatly: positive review.

Great! thanks!

When you finish the review, you might better fill the reviewer field with your name (otherwise the release manager has extra job to do). It should be filled with your full name. I did it for you anyway.

Vincent

PS: Actually, I thought that the default answer of .abs() could be an element of QQbar (whenever an embedding in QQbar is defined). That way we would have an exact algebraic number and not an approximation. But in order to do that, there is something to fix with embeddings:

```
sage: K.<cbrt2> = NumberField(x^3 - 2, embedding=1)
sage: QQbar.has_coerce_map_from(K)
False
```




---

archive/issue_comments_206417.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-30T16:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15910#issuecomment-206417",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_047575.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T16:33:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15910",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15910#event-47575"
}
```
