# Issue 23044: Rounding for floating point p-adics

Issue created by migration from https://trac.sagemath.org/ticket/23281

Original creator: caruso

Original creation time: 2017-06-19 21:30:09

CC:  roed saraedum

Currently, we have:


```
sage: R = ZpFP(2)   # prec = 20
sage: R(1+2^19) + R(1+2^19)
2
```


I think that the answer should rather be `2 + 2^20`, i.e. we should first perform the addition and then round the result according to its valuation. Any objection?

By the way, I believe that it does not really make sense to define the methods `precision_absolute` and `precision_relative` for a p-adic float because p-adic floats have to be considered as exact p-adics (what are non-exact are the operations on them).


---

Comment by roed created at 2018-07-22 20:41:38

Changing keywords from "" to "padicIMA".


---

Comment by caruso created at 2018-07-27 00:29:34

I finally have an objection :-)

If we do this, then the opposite of `x = 1` would be `y = 2^20 - 1` and `x+y` would be equal to `2^20`, meaning that we would break the axiom `x + (-x) = 0`. The correct way to handle this is to choose balanced representatives but it's a lot of work...


---

Comment by roed created at 2019-09-07 13:02:25

Changing priority from major to minor.
