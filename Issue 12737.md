# Issue 12737: gdmodule: don't use /sw/include include path

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2012-05-05 21:02:25

Assignee: tbd

The `gdmodule` spkg should not use `/sw/include` as include path, as some Fink stuff there can interfere badly with Sage.


---

Comment by robertwb created at 2012-05-05 22:22:06

Changing status from new to needs_review.


---

Comment by robertwb created at 2012-05-05 22:22:06

New spkg up at http://sage.math.washington.edu/home/robertwb/patches/gdmodule-0.56.p8.spkg


---

Comment by robertwb created at 2012-05-05 22:25:53


```
robertwb-macbookpro:standard robertwb$ diff -u -r gdmodule-0.56.p7 gdmodule-0.56.p8 | grep -v '/.hg'
diff -u -r gdmodule-0.56.p7/patches/Setup.py gdmodule-0.56.p8/patches/Setup.py
--- gdmodule-0.56.p7/patches/Setup.py	2012-05-05 15:14:01.000000000 -0700
+++ gdmodule-0.56.p8/patches/Setup.py	2012-05-05 15:15:00.000000000 -0700
`@``@` -41,7 +41,7 `@``@`
 
 libdirs = dirtest([
     os.environ["SAGE_LOCAL"]+"/lib",
-    "/usr/local/lib", "/sw/lib", "/usr/lib",
+    "/usr/local/lib", "/usr/lib",
     "/usr/lib/X11", "/usr/X11R6/lib",
     "/opt/gnome/lib",
 ])
`@``@` -51,7 +51,7 `@``@`
 
 incdirs = dirtest([
     os.environ["SAGE_LOCAL"]+"/include",
-    "/usr/local/include", "/sw/include", "/usr/include",
+    "/usr/local/include", "/usr/include",
     "/usr/include/X11", "/usr/X11R6/include",
     "/opt/gnome/include",
 ])
diff -u -r gdmodule-0.56.p7/patches/Setup.py.patch gdmodule-0.56.p8/patches/Setup.py.patch
--- gdmodule-0.56.p7/patches/Setup.py.patch	2012-05-05 15:14:01.000000000 -0700
+++ gdmodule-0.56.p8/patches/Setup.py.patch	2012-05-05 15:15:46.000000000 -0700
`@``@` -1,5 +1,23 `@``@`
---- ../src/Setup.py	2007-01-10 10:23:03.000000000 -0800
-+++ Setup.py	2010-04-06 11:16:30.316434351 -0700
+--- ../src/Setup.py	2012-05-05 15:14:14.000000000 -0700
++++ Setup.py	2012-05-05 15:15:00.000000000 -0700
+`@``@` -41,7 +41,7 `@``@`
+ 
+ libdirs = dirtest([
+     os.environ["SAGE_LOCAL"]+"/lib",
+-    "/usr/local/lib", "/sw/lib", "/usr/lib",
++    "/usr/local/lib", "/usr/lib",
+     "/usr/lib/X11", "/usr/X11R6/lib",
+     "/opt/gnome/lib",
+ ])
+`@``@` -51,7 +51,7 `@``@`
+ 
+ incdirs = dirtest([
+     os.environ["SAGE_LOCAL"]+"/include",
+-    "/usr/local/include", "/sw/include", "/usr/include",
++    "/usr/local/include", "/usr/include",
+     "/usr/include/X11", "/usr/X11R6/include",
+     "/opt/gnome/include",
+ ])
 `@``@` -61,13 +61,12 `@``@`
  import os
  if os.uname()[0][:6] == "CYGWIN":
```



---

Comment by jdemeyer created at 2012-05-05 23:05:27

I did some further clean-up of the SPKG, needs review.


---

Comment by vbraun created at 2012-05-07 14:29:45

Looks good to me. Positive review if you commit the changes...


---

Comment by jdemeyer created at 2012-05-07 14:59:33

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-05-07 14:59:33

Replying to [comment:7 vbraun]:
> Looks good to me. Positive review if you commit the changes...
Done.


---

Comment by dimpase created at 2012-05-07 15:08:26

libdirs field in setup.py still has /usr/local/lib in it.
Is it on purpose?


---

Comment by jdemeyer created at 2012-05-07 15:16:07

Replying to [comment:10 dimpase]:
> libdirs field in setup.py still has /usr/local/lib in it.
> Is it on purpose?

No, that's a mistake.


---

Attachment


---

Comment by jdemeyer created at 2012-05-07 15:29:46

Fixed.


---

Comment by jdemeyer created at 2012-05-08 20:30:17

Resolution: fixed
