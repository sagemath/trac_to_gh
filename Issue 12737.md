# Issue 12737: gdmodule: don't use /sw/include include path

archive/issues_012737.json:
```json
{
    "body": "Assignee: tbd\n\nThe `gdmodule` spkg should not use `/sw/include` as include path, as some Fink stuff there can interfere badly with Sage.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12909\n\n",
    "created_at": "2012-05-05T21:02:25Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "gdmodule: don't use /sw/include include path",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12737",
    "user": "jdemeyer"
}
```
Assignee: tbd

The `gdmodule` spkg should not use `/sw/include` as include path, as some Fink stuff there can interfere badly with Sage.

Issue created by migration from https://trac.sagemath.org/ticket/12909





---

archive/issue_comments_152592.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-05T22:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152592",
    "user": "robertwb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_152593.json:
```json
{
    "body": "New spkg up at http://sage.math.washington.edu/home/robertwb/patches/gdmodule-0.56.p8.spkg",
    "created_at": "2012-05-05T22:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152593",
    "user": "robertwb"
}
```

New spkg up at http://sage.math.washington.edu/home/robertwb/patches/gdmodule-0.56.p8.spkg



---

archive/issue_comments_152594.json:
```json
{
    "body": "\n```\nrobertwb-macbookpro:standard robertwb$ diff -u -r gdmodule-0.56.p7 gdmodule-0.56.p8 | grep -v '/.hg'\ndiff -u -r gdmodule-0.56.p7/patches/Setup.py gdmodule-0.56.p8/patches/Setup.py\n--- gdmodule-0.56.p7/patches/Setup.py\t2012-05-05 15:14:01.000000000 -0700\n+++ gdmodule-0.56.p8/patches/Setup.py\t2012-05-05 15:15:00.000000000 -0700\n@@ -41,7 +41,7 @@\n \n libdirs = dirtest([\n     os.environ[\"SAGE_LOCAL\"]+\"/lib\",\n-    \"/usr/local/lib\", \"/sw/lib\", \"/usr/lib\",\n+    \"/usr/local/lib\", \"/usr/lib\",\n     \"/usr/lib/X11\", \"/usr/X11R6/lib\",\n     \"/opt/gnome/lib\",\n ])\n@@ -51,7 +51,7 @@\n \n incdirs = dirtest([\n     os.environ[\"SAGE_LOCAL\"]+\"/include\",\n-    \"/usr/local/include\", \"/sw/include\", \"/usr/include\",\n+    \"/usr/local/include\", \"/usr/include\",\n     \"/usr/include/X11\", \"/usr/X11R6/include\",\n     \"/opt/gnome/include\",\n ])\ndiff -u -r gdmodule-0.56.p7/patches/Setup.py.patch gdmodule-0.56.p8/patches/Setup.py.patch\n--- gdmodule-0.56.p7/patches/Setup.py.patch\t2012-05-05 15:14:01.000000000 -0700\n+++ gdmodule-0.56.p8/patches/Setup.py.patch\t2012-05-05 15:15:46.000000000 -0700\n@@ -1,5 +1,23 @@\n---- ../src/Setup.py\t2007-01-10 10:23:03.000000000 -0800\n-+++ Setup.py\t2010-04-06 11:16:30.316434351 -0700\n+--- ../src/Setup.py\t2012-05-05 15:14:14.000000000 -0700\n++++ Setup.py\t2012-05-05 15:15:00.000000000 -0700\n+@@ -41,7 +41,7 @@\n+ \n+ libdirs = dirtest([\n+     os.environ[\"SAGE_LOCAL\"]+\"/lib\",\n+-    \"/usr/local/lib\", \"/sw/lib\", \"/usr/lib\",\n++    \"/usr/local/lib\", \"/usr/lib\",\n+     \"/usr/lib/X11\", \"/usr/X11R6/lib\",\n+     \"/opt/gnome/lib\",\n+ ])\n+@@ -51,7 +51,7 @@\n+ \n+ incdirs = dirtest([\n+     os.environ[\"SAGE_LOCAL\"]+\"/include\",\n+-    \"/usr/local/include\", \"/sw/include\", \"/usr/include\",\n++    \"/usr/local/include\", \"/usr/include\",\n+     \"/usr/include/X11\", \"/usr/X11R6/include\",\n+     \"/opt/gnome/include\",\n+ ])\n @@ -61,13 +61,12 @@\n  import os\n  if os.uname()[0][:6] == \"CYGWIN\":\n```\n",
    "created_at": "2012-05-05T22:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152594",
    "user": "robertwb"
}
```


```
robertwb-macbookpro:standard robertwb$ diff -u -r gdmodule-0.56.p7 gdmodule-0.56.p8 | grep -v '/.hg'
diff -u -r gdmodule-0.56.p7/patches/Setup.py gdmodule-0.56.p8/patches/Setup.py
--- gdmodule-0.56.p7/patches/Setup.py	2012-05-05 15:14:01.000000000 -0700
+++ gdmodule-0.56.p8/patches/Setup.py	2012-05-05 15:15:00.000000000 -0700
@@ -41,7 +41,7 @@
 
 libdirs = dirtest([
     os.environ["SAGE_LOCAL"]+"/lib",
-    "/usr/local/lib", "/sw/lib", "/usr/lib",
+    "/usr/local/lib", "/usr/lib",
     "/usr/lib/X11", "/usr/X11R6/lib",
     "/opt/gnome/lib",
 ])
@@ -51,7 +51,7 @@
 
 incdirs = dirtest([
     os.environ["SAGE_LOCAL"]+"/include",
-    "/usr/local/include", "/sw/include", "/usr/include",
+    "/usr/local/include", "/usr/include",
     "/usr/include/X11", "/usr/X11R6/include",
     "/opt/gnome/include",
 ])
diff -u -r gdmodule-0.56.p7/patches/Setup.py.patch gdmodule-0.56.p8/patches/Setup.py.patch
--- gdmodule-0.56.p7/patches/Setup.py.patch	2012-05-05 15:14:01.000000000 -0700
+++ gdmodule-0.56.p8/patches/Setup.py.patch	2012-05-05 15:15:46.000000000 -0700
@@ -1,5 +1,23 @@
---- ../src/Setup.py	2007-01-10 10:23:03.000000000 -0800
-+++ Setup.py	2010-04-06 11:16:30.316434351 -0700
+--- ../src/Setup.py	2012-05-05 15:14:14.000000000 -0700
++++ Setup.py	2012-05-05 15:15:00.000000000 -0700
+@@ -41,7 +41,7 @@
+ 
+ libdirs = dirtest([
+     os.environ["SAGE_LOCAL"]+"/lib",
+-    "/usr/local/lib", "/sw/lib", "/usr/lib",
++    "/usr/local/lib", "/usr/lib",
+     "/usr/lib/X11", "/usr/X11R6/lib",
+     "/opt/gnome/lib",
+ ])
+@@ -51,7 +51,7 @@
+ 
+ incdirs = dirtest([
+     os.environ["SAGE_LOCAL"]+"/include",
+-    "/usr/local/include", "/sw/include", "/usr/include",
++    "/usr/local/include", "/usr/include",
+     "/usr/include/X11", "/usr/X11R6/include",
+     "/opt/gnome/include",
+ ])
 @@ -61,13 +61,12 @@
  import os
  if os.uname()[0][:6] == "CYGWIN":
```




---

archive/issue_comments_152595.json:
```json
{
    "body": "I did some further clean-up of the SPKG, needs review.",
    "created_at": "2012-05-05T23:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152595",
    "user": "jdemeyer"
}
```

I did some further clean-up of the SPKG, needs review.



---

archive/issue_comments_152596.json:
```json
{
    "body": "Looks good to me. Positive review if you commit the changes...",
    "created_at": "2012-05-07T14:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152596",
    "user": "vbraun"
}
```

Looks good to me. Positive review if you commit the changes...



---

archive/issue_comments_152597.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-07T14:59:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152597",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_152598.json:
```json
{
    "body": "Replying to [comment:7 vbraun]:\n> Looks good to me. Positive review if you commit the changes...\nDone.",
    "created_at": "2012-05-07T14:59:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152598",
    "user": "jdemeyer"
}
```

Replying to [comment:7 vbraun]:
> Looks good to me. Positive review if you commit the changes...
Done.



---

archive/issue_comments_152599.json:
```json
{
    "body": "libdirs field in setup.py still has /usr/local/lib in it.\nIs it on purpose?",
    "created_at": "2012-05-07T15:08:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152599",
    "user": "dimpase"
}
```

libdirs field in setup.py still has /usr/local/lib in it.
Is it on purpose?



---

archive/issue_comments_152600.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n> libdirs field in setup.py still has /usr/local/lib in it.\n> Is it on purpose?\n\nNo, that's a mistake.",
    "created_at": "2012-05-07T15:16:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152600",
    "user": "jdemeyer"
}
```

Replying to [comment:10 dimpase]:
> libdirs field in setup.py still has /usr/local/lib in it.
> Is it on purpose?

No, that's a mistake.



---

archive/issue_comments_152601.json:
```json
{
    "body": "Attachment [gdmodule-0.56.p7-p8.diff](tarball://root/attachments/some-uuid/ticket12909/gdmodule-0.56.p7-p8.diff) by jdemeyer created at 2012-05-07 15:19:32",
    "created_at": "2012-05-07T15:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152601",
    "user": "jdemeyer"
}
```

Attachment [gdmodule-0.56.p7-p8.diff](tarball://root/attachments/some-uuid/ticket12909/gdmodule-0.56.p7-p8.diff) by jdemeyer created at 2012-05-07 15:19:32



---

archive/issue_comments_152602.json:
```json
{
    "body": "Fixed.",
    "created_at": "2012-05-07T15:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152602",
    "user": "jdemeyer"
}
```

Fixed.



---

archive/issue_comments_152603.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-05-08T20:30:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12737",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12737#issuecomment-152603",
    "user": "jdemeyer"
}
```

Resolution: fixed
