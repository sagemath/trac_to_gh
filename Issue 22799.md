# Issue 22799: Speedup KR rigged configurations

archive/issues_022799.json:
```json
{
    "body": "CC:  sage-combinat @anneschilling @bsalisbury1\n\nKeywords: crystals, rigged configurations\n\nFollow-up to #22992. Each time we call `CartanType.classical()`, it has to call the `CartanType` constructor. Because this is done so often, it takes a significant amount of time. However, we can work around this by using `_rc_index`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23036\n\n",
    "created_at": "2017-05-19T18:49:04Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Speedup KR rigged configurations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22799",
    "user": "@tscrim"
}
```
CC:  sage-combinat @anneschilling @bsalisbury1

Keywords: crystals, rigged configurations

Follow-up to #22992. Each time we call `CartanType.classical()`, it has to call the `CartanType` constructor. Because this is done so often, it takes a significant amount of time. However, we can work around this by using `_rc_index`.

Issue created by migration from https://trac.sagemath.org/ticket/23036





---

archive/issue_comments_318780.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-19T18:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318780",
    "user": "@tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_318781.json:
```json
{
    "body": "New:\n\n```\nsage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])\nsage: %time len([x for x in RC])\nCPU times: user 3.8 s, sys: 28 ms, total: 3.83 s\nWall time: 3.78 s\n7533\n```\n\nOld:\n\n```\nsage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])\nsage: %time len([x for x in RC])\nCPU times: user 6.78 s, sys: 8 ms, total: 6.79 s\nWall time: 6.78 s\n7533\n```\n\n----\nNew commits:",
    "created_at": "2017-05-19T18:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318781",
    "user": "@tscrim"
}
```

New:

```
sage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])
sage: %time len([x for x in RC])
CPU times: user 3.8 s, sys: 28 ms, total: 3.83 s
Wall time: 3.78 s
7533
```

Old:

```
sage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])
sage: %time len([x for x in RC])
CPU times: user 6.78 s, sys: 8 ms, total: 6.79 s
Wall time: 6.78 s
7533
```

----
New commits:



---

archive/issue_comments_318782.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-19T19:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318782",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318783.json:
```json
{
    "body": "Bad news...\n\n\n```\n----------------------------------------------------------------------\nsage -t --long src/sage/combinat/rigged_configurations/rigged_configurations.py  # 5 doctests failed\nsage -t --long src/sage/combinat/rigged_configurations/rigged_configuration_element.py  # 2 doctests failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2017-05-19T19:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318783",
    "user": "@bsalisbury1"
}
```

Bad news...


```
----------------------------------------------------------------------
sage -t --long src/sage/combinat/rigged_configurations/rigged_configurations.py  # 5 doctests failed
sage -t --long src/sage/combinat/rigged_configurations/rigged_configuration_element.py  # 2 doctests failed
----------------------------------------------------------------------
```




---

archive/issue_comments_318784.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-19T19:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318784",
    "user": "@bsalisbury1"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_318785.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-19T19:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318785",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318786.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-19T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318786",
    "user": "@tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_318787.json:
```json
{
    "body": "This should fix it. I thought I re-ran the tests after making that change, but I guess not.",
    "created_at": "2017-05-19T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318787",
    "user": "@tscrim"
}
```

This should fix it. I thought I re-ran the tests after making that change, but I guess not.



---

archive/issue_comments_318788.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-20T01:50:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318788",
    "user": "@bsalisbury1"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_318789.json:
```json
{
    "body": "Looks good now.",
    "created_at": "2017-05-20T01:50:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318789",
    "user": "@bsalisbury1"
}
```

Looks good now.



---

archive/issue_comments_318790.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-21T10:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22799#issuecomment-318790",
    "user": "@vbraun"
}
```

Resolution: fixed
