# Issue 22799: Speedup KR rigged configurations

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2017-05-19 18:49:04

CC:  sage-combinat aschilling bsalisbury1

Keywords: crystals, rigged configurations

Follow-up to #22992. Each time we call `CartanType.classical()`, it has to call the `CartanType` constructor. Because this is done so often, it takes a significant amount of time. However, we can work around this by using `_rc_index`.


---

Comment by tscrim created at 2017-05-19 18:51:00

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-05-19 18:51:00

New:

```
sage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])
sage: %time len([x for x in RC])
CPU times: user 3.8 s, sys: 28 ms, total: 3.83 s
Wall time: 3.78 s
7533
```

Old:

```
sage: RC = RiggedConfigurations(['B',4,1], [[3,1],[1,1],[1,1]])
sage: %time len([x for x in RC])
CPU times: user 6.78 s, sys: 8 ms, total: 6.79 s
Wall time: 6.78 s
7533
```

----
New commits:


---

Comment by git created at 2017-05-19 19:17:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bsalisbury1 created at 2017-05-19 19:18:27

Bad news...


```
----------------------------------------------------------------------
sage -t --long src/sage/combinat/rigged_configurations/rigged_configurations.py  # 5 doctests failed
sage -t --long src/sage/combinat/rigged_configurations/rigged_configuration_element.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

Comment by bsalisbury1 created at 2017-05-19 19:18:27

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-05-19 19:20:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-05-19 19:21:16

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2017-05-19 19:21:16

This should fix it. I thought I re-ran the tests after making that change, but I guess not.


---

Comment by bsalisbury1 created at 2017-05-20 01:50:46

Changing status from needs_review to positive_review.


---

Comment by bsalisbury1 created at 2017-05-20 01:50:46

Looks good now.


---

Comment by vbraun created at 2017-05-21 10:08:16

Resolution: fixed
