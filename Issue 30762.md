# Issue 30762: expose method hyperbolicity in graphs

archive/issues_030762.json:
```json
{
    "body": "CC:  @jfraymond\n\nThe notion of hyperbolicity in graphs is a tree likeness parameter that measures how far is the distance metric of a graph from a tree metric. This parameter was added in #13808 but not exposed in graphs.\nWith this ticket, we can now do:\n\n```\nsage: G = graphs.PetersenGraph()\nsage: G.hyperbolicity()\n(1/2, [6, 7, 8, 9], 1/2)\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/30999\n\n",
    "closed_at": "2022-03-03T22:19:19Z",
    "created_at": "2020-12-03T19:34:48Z",
    "labels": [
        "component: graph theory",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "expose method hyperbolicity in graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30762",
    "user": "https://github.com/dcoudert"
}
```
CC:  @jfraymond

The notion of hyperbolicity in graphs is a tree likeness parameter that measures how far is the distance metric of a graph from a tree metric. This parameter was added in #13808 but not exposed in graphs.
With this ticket, we can now do:

```
sage: G = graphs.PetersenGraph()
sage: G.hyperbolicity()
(1/2, [6, 7, 8, 9], 1/2)
```

Issue created by migration from https://trac.sagemath.org/ticket/30999





---

archive/issue_comments_439169.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-12-03T19:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439169",
    "user": "https://github.com/dcoudert"
}
```

New commits:



---

archive/issue_comments_439170.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-03T19:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439170",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_439171.json:
```json
{
    "body": "apart from the pyflakes of mcqd, we have green bot.",
    "created_at": "2020-12-04T23:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439171",
    "user": "https://github.com/dcoudert"
}
```

apart from the pyflakes of mcqd, we have green bot.



---

archive/issue_comments_439172.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439172",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_080949.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30762#event-80949"
}
```



---

archive/issue_comments_439173.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439173",
    "user": "https://github.com/mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_080950.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30762#event-80950"
}
```



---

archive/issue_events_080951.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30762#event-80951"
}
```



---

archive/issue_comments_439174.json:
```json
{
    "body": "Hello! I got the following error:\n\n```python\nsage: g = graphs.PetersenGraph()                                                                                                          \nsage: g.hyperbolicity()                                                                                                                   \n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-2-b74d57c08f95> in <module>\n----> 1 g.hyperbolicity()\n\n~/sage/local/lib/python3.9/site-packages/sage/graphs/hyperbolicity.pyx in sage.graphs.hyperbolicity.hyperbolicity (build/cythonized/sage/graphs/hyperbolicity.c:9075)()\n   1048 \n   1049 \n-> 1050 def hyperbolicity(G,\n   1051                   algorithm='BCCM',\n   1052                   approximation_factor=None,\n\nTypeError: hyperbolicity() takes at least 1 positional argument (0 given)\n\n```\n\nAfter looking at other cython files it seems that the problem can be fixed by adding `# cython: binding=True` at the beginning of `hyperbolicity.pyx`. Due to my ignorance about cython I don't know if this is the best fix.\n\nIn `graph.py` I would put `hyperbolicity` in the category `Distances` rather than `Graph properties` which is essentially used for functions returning a Boolean (like `is_tree`, `is_apex`, etc.).",
    "created_at": "2021-09-14T12:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439174",
    "user": "https://github.com/jfraymond"
}
```

Hello! I got the following error:

```python
sage: g = graphs.PetersenGraph()                                                                                                          
sage: g.hyperbolicity()                                                                                                                   
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-2-b74d57c08f95> in <module>
----> 1 g.hyperbolicity()

~/sage/local/lib/python3.9/site-packages/sage/graphs/hyperbolicity.pyx in sage.graphs.hyperbolicity.hyperbolicity (build/cythonized/sage/graphs/hyperbolicity.c:9075)()
   1048 
   1049 
-> 1050 def hyperbolicity(G,
   1051                   algorithm='BCCM',
   1052                   approximation_factor=None,

TypeError: hyperbolicity() takes at least 1 positional argument (0 given)

```

After looking at other cython files it seems that the problem can be fixed by adding `# cython: binding=True` at the beginning of `hyperbolicity.pyx`. Due to my ignorance about cython I don't know if this is the best fix.

In `graph.py` I would put `hyperbolicity` in the category `Distances` rather than `Graph properties` which is essentially used for functions returning a Boolean (like `is_tree`, `is_apex`, etc.).



---

archive/issue_comments_439175.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-14T18:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_439176.json:
```json
{
    "body": "Good catch. I fixed the issues and changed the category. Thanks.",
    "created_at": "2021-09-14T18:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439176",
    "user": "https://github.com/dcoudert"
}
```

Good catch. I fixed the issues and changed the category. Thanks.



---

archive/issue_comments_439177.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-15T07:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439177",
    "user": "https://github.com/jfraymond"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_439178.json:
```json
{
    "body": "Thank you.",
    "created_at": "2021-09-15T09:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439178",
    "user": "https://github.com/dcoudert"
}
```

Thank you.



---

archive/issue_comments_439179.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-10-23T23:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439179",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_439180.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2021-10-23T23:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439180",
    "user": "https://github.com/vbraun"
}
```

Merge conflict



---

archive/issue_comments_439181.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-24T00:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_439182.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-10-24T00:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439182",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_439183.json:
```json
{
    "body": "Can we set this ticket back to positive ?",
    "created_at": "2021-12-07T08:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439183",
    "user": "https://github.com/dcoudert"
}
```

Can we set this ticket back to positive ?



---

archive/issue_comments_439184.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-24T08:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439184",
    "user": "https://github.com/jfraymond"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_439185.json:
```json
{
    "body": "Thank you.",
    "created_at": "2021-12-24T11:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439185",
    "user": "https://github.com/dcoudert"
}
```

Thank you.



---

archive/issue_comments_439186.json:
```json
{
    "body": "Can you add a tiny bit of text in the ticket description?",
    "created_at": "2021-12-24T19:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439186",
    "user": "https://github.com/slel"
}
```

Can you add a tiny bit of text in the ticket description?



---

archive/issue_events_080952.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-28T23:03:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30762#event-80952"
}
```



---

archive/issue_events_080953.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-28T23:03:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30762#event-80953"
}
```



---

archive/issue_events_080954.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-03T22:19:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30762#event-80954"
}
```



---

archive/issue_comments_439187.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-03T22:19:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30762",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30762#issuecomment-439187",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
