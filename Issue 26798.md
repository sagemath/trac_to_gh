# Issue 26798: giac fails to build (clang/clang++)

Issue created by migration from https://trac.sagemath.org/ticket/27035

Original creator: vdelecroix

Original creation time: 2019-01-09 16:00:48


```
solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                      ^~~~~
solve.cc:5751:23: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                      ^~~~~
                      static_cast<short>( )
solve.cc:5751:29: error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                            ^~~~~~~
solve.cc:5751:29: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                            ^~~~~~~
                            static_cast<unsigned char>( )
solve.cc:6962:21: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
    order_t order_={order.val,0};
                    ^~~~~~~~~
solve.cc:6962:21: note: insert an explicit cast to silence this issue
    order_t order_={order.val,0};
                    ^~~~~~~~~
                    static_cast<short>( )
```


See also [this message on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/rRhIQk2uxOc)


---

Comment by dimpase created at 2019-01-09 16:03:32

You need giac 1.5 on recent clangs. Please look up the giac upgrade ticket


---

Comment by vdelecroix created at 2019-01-09 16:06:16

Changing status from new to needs_review.


---

Comment by embray created at 2019-01-09 16:16:29

Resolution: duplicate


---

Comment by dimpase created at 2019-01-09 16:23:58

see #26315 for a tentative fix (with giac 1.5).
