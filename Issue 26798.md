# Issue 26798: giac fails to build (clang/clang++)

archive/issues_026798.json:
```json
{
    "body": "\n```\nsolve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n      order_t order_={order,lexvars};\n                      ^~~~~\nsolve.cc:5751:23: note: insert an explicit cast to silence this issue\n      order_t order_={order,lexvars};\n                      ^~~~~\n                      static_cast<short>( )\nsolve.cc:5751:29: error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]\n      order_t order_={order,lexvars};\n                            ^~~~~~~\nsolve.cc:5751:29: note: insert an explicit cast to silence this issue\n      order_t order_={order,lexvars};\n                            ^~~~~~~\n                            static_cast<unsigned char>( )\nsolve.cc:6962:21: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]\n    order_t order_={order.val,0};\n                    ^~~~~~~~~\nsolve.cc:6962:21: note: insert an explicit cast to silence this issue\n    order_t order_={order.val,0};\n                    ^~~~~~~~~\n                    static_cast<short>( )\n```\n\n\nSee also [this message on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/rRhIQk2uxOc)\n\nIssue created by migration from https://trac.sagemath.org/ticket/27035\n\n",
    "created_at": "2019-01-09T16:00:48Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "giac fails to build (clang/clang++)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26798",
    "user": "https://github.com/videlec"
}
```

```
solve.cc:5751:23: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                      ^~~~~
solve.cc:5751:23: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                      ^~~~~
                      static_cast<short>( )
solve.cc:5751:29: error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]
      order_t order_={order,lexvars};
                            ^~~~~~~
solve.cc:5751:29: note: insert an explicit cast to silence this issue
      order_t order_={order,lexvars};
                            ^~~~~~~
                            static_cast<unsigned char>( )
solve.cc:6962:21: error: non-constant-expression cannot be narrowed from type 'int' to 'short' in initializer list [-Wc++11-narrowing]
    order_t order_={order.val,0};
                    ^~~~~~~~~
solve.cc:6962:21: note: insert an explicit cast to silence this issue
    order_t order_={order.val,0};
                    ^~~~~~~~~
                    static_cast<short>( )
```


See also [this message on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/rRhIQk2uxOc)

Issue created by migration from https://trac.sagemath.org/ticket/27035





---

archive/issue_comments_376494.json:
```json
{
    "body": "You need giac 1.5 on recent clangs. Please look up the giac upgrade ticket",
    "created_at": "2019-01-09T16:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26798#issuecomment-376494",
    "user": "https://github.com/dimpase"
}
```

You need giac 1.5 on recent clangs. Please look up the giac upgrade ticket



---

archive/issue_comments_376495.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-09T16:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26798#issuecomment-376495",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_376496.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2019-01-09T16:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26798#issuecomment-376496",
    "user": "https://github.com/embray"
}
```

Resolution: duplicate



---

archive/issue_events_024882.json:
```json
{
    "actor": "@embray",
    "created_at": "2019-01-09T16:16:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26798",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26798#event-24882"
}
```



---

archive/issue_comments_376497.json:
```json
{
    "body": "see #26315 for a tentative fix (with giac 1.5).",
    "created_at": "2019-01-09T16:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26798#issuecomment-376497",
    "user": "https://github.com/dimpase"
}
```

see #26315 for a tentative fix (with giac 1.5).
