# Issue 19153: Update the documentation of Graph/DiGraph constructors

archive/issues_019153.json:
```json
{
    "body": "CC:  vdelecroix dcoudert borassi tscrim simonking\n\nAll this documentation was pretty outdated, and some formats were missing.\n\nI also tried to make it easier to read/parse, by displaying at the beginning of the INPUT blocks the different formats (and not just by giving their names).\n\nIn particular, I do not think that it is very important to burden the users with a 'format' flag in most cases, when there is no ambiguity. However, when the input is a matrix and the behaviour depends on its properties, it is advertised.\n\nA lot of documentation is also removed: some of it is replaced by links toward dedicated modules (i.e. 'how to access the graph catalog') or simply removed: the `__init__` entry in th reference manual is no place to explain how to compute connected components.\n\nThere is still a lot of verbosity in this module, and in particular all the file formats *also* appear in the module's documentation (and are, of course, outdated). This will be for later.\n\nOne of the points of this branch is also to ease maintainability: when the same things are documented in different places at once, we forget to update all of it when it would be needed. Short, and to the point: that's a reference manual, not a tutorial.\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/19390\n\n",
    "created_at": "2015-10-11T09:37:07Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Update the documentation of Graph/DiGraph constructors",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19153",
    "user": "ncohen"
}
```
CC:  vdelecroix dcoudert borassi tscrim simonking

All this documentation was pretty outdated, and some formats were missing.

I also tried to make it easier to read/parse, by displaying at the beginning of the INPUT blocks the different formats (and not just by giving their names).

In particular, I do not think that it is very important to burden the users with a 'format' flag in most cases, when there is no ambiguity. However, when the input is a matrix and the behaviour depends on its properties, it is advertised.

A lot of documentation is also removed: some of it is replaced by links toward dedicated modules (i.e. 'how to access the graph catalog') or simply removed: the `__init__` entry in th reference manual is no place to explain how to compute connected components.

There is still a lot of verbosity in this module, and in particular all the file formats *also* appear in the module's documentation (and are, of course, outdated). This will be for later.

One of the points of this branch is also to ease maintainability: when the same things are documented in different places at once, we forget to update all of it when it would be needed. Short, and to the point: that's a reference manual, not a tutorial.

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/19390





---

archive/issue_comments_262845.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2015-10-11T09:38:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262845",
    "user": "ncohen"
}
```

Last 10 new commits:



---

archive/issue_comments_262846.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-11T09:38:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262846",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_262847.json:
```json
{
    "body": "will be long to review...\n\nin digraph.py\n- `<http://en.wikipedia.org/wiki/Digraph_%28mathematics%29>`_.For a collection`  one space missing\n- ```DiGraph({1: {2: 'a', 3:'b'} ,3:{2:'c'}})`` -- return a graph by`  a digraph. Same in several places\n- `DiGraph(a_nonsquare_matrix)`  an incidence matrix ?\n- `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`\n- ```DiGraph(another_digraph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?\n\n\nin graph.py\n- `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`\n- ```Graph(another_graph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?\n- `only the integers 0, ..., n-1, where n is the number of vertices.`  math mode around 0, ..., n-1 and n ?\n\nmay be more later ;)",
    "created_at": "2015-10-11T10:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262847",
    "user": "dcoudert"
}
```

will be long to review...

in digraph.py
- `<http://en.wikipedia.org/wiki/Digraph_%28mathematics%29>`_.For a collection`  one space missing
- ```DiGraph({1: {2: 'a', 3:'b'} ,3:{2:'c'}})`` -- return a graph by`  a digraph. Same in several places
- `DiGraph(a_nonsquare_matrix)`  an incidence matrix ?
- `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`
- ```DiGraph(another_digraph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?


in graph.py
- `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`
- ```Graph(another_graph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?
- `only the integers 0, ..., n-1, where n is the number of vertices.`  math mode around 0, ..., n-1 and n ?

may be more later ;)



---

archive/issue_comments_262848.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-11T13:44:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262848",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262849.json:
```json
{
    "body": "Helloooooo,\n\n> in digraph.py\n> - `<http://en.wikipedia.org/wiki/Digraph_%28mathematics%29>`_.For a collection`  one space missing\n\nDone.\n\n> - ```DiGraph({1: {2: 'a', 3:'b'} ,3:{2:'c'}})`` -- return a graph by`  a digraph. Same in several places\n\nSorry... Done.\n\n> - `DiGraph(a_nonsquare_matrix)`  an incidence matrix ?\n\nI did not change that, but I will change it if you want me to: let me just tell you why I wrote it this way. I chose to say \"nonsquare_matrix\" to hint that this is how a matrix is \"automatically detected\" to be an incidence matrix, and that to make sure one should use the explicit 'format' flag. That's why. If you think that it is still better the other way, tell me and I will update.\n\n> - `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`\n\nDone.\n\n> - ```DiGraph(another_digraph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?\n\nDone.\n\n\n> in graph.py\n> - `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`\nDone.\n\n> - ```Graph(another_graph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?\nDone.\n> - `only the integers 0, ..., n-1, where n is the number of vertices.`  math mode around 0, ..., n-1 and n ?\n\nDone, though I will do something about this parameter because it does not make any sense. It was apparently added during the igraph tickets, but its name (`vertex_labels`) does not hint *at all* at igraph. The doc does not either. People could wonder about its effect with every other possible combinations of inputs, and it only appears in the code because of igraph. So I think we should remove it quick and deal with the igraph case otherwise.\n\nNathann",
    "created_at": "2015-10-11T13:50:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262849",
    "user": "ncohen"
}
```

Helloooooo,

> in digraph.py
> - `<http://en.wikipedia.org/wiki/Digraph_%28mathematics%29>`_.For a collection`  one space missing

Done.

> - ```DiGraph({1: {2: 'a', 3:'b'} ,3:{2:'c'}})`` -- return a graph by`  a digraph. Same in several places

Sorry... Done.

> - `DiGraph(a_nonsquare_matrix)`  an incidence matrix ?

I did not change that, but I will change it if you want me to: let me just tell you why I wrote it this way. I chose to say "nonsquare_matrix" to hint that this is how a matrix is "automatically detected" to be an incidence matrix, and that to make sure one should use the explicit 'format' flag. That's why. If you think that it is still better the other way, tell me and I will update.

> - `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`

Done.

> - ```DiGraph(another_digraph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?

Done.


> in graph.py
> - `edge `u,f` whenever ``f(u,v)`` is ``True```   -> edge `u,v`
Done.

> - ```Graph(another_graph)`` -- return a graph from a Sage graph,`  from a Sage graph or digraph ?
Done.
> - `only the integers 0, ..., n-1, where n is the number of vertices.`  math mode around 0, ..., n-1 and n ?

Done, though I will do something about this parameter because it does not make any sense. It was apparently added during the igraph tickets, but its name (`vertex_labels`) does not hint *at all* at igraph. The doc does not either. People could wonder about its effect with every other possible combinations of inputs, and it only appears in the code because of igraph. So I think we should remove it quick and deal with the igraph case otherwise.

Nathann



---

archive/issue_comments_262850.json:
```json
{
    "body": "Hellooooooo!\n\nSorry if I am not very active in these tickets, but I'm quite busy in these days...\n\nJust to say that when I inserted `igraph`, the variable `vertex_labels` was already there, and I only used it in my code. Indeed, you can find examples (written before igraph) where this variable was used (for instance, in `cliques_get_max_clique_graph`).\n\nThough, I have no idea what it was used for! The comment in the code before my modifications was:\n\n\n```\n\u00a0\u00a0\u00a0 -\u00a0 ``vertex_labels`` - only for implementation == 'c_graph'.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 Whether to allow any object as a vertex (slower), or\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 only the integers 0, ..., n-1, where n is the number of vertices.\n```\n\nHope this helps!\n\nMichele\n\n> > - `only the integers 0, ..., n-1, where n is the number of vertices.`  math mode around 0, ..., n-1 and n ?\n> > \n> \n> Done, though I will do something about this parameter because it does not make any sense. It was apparently added during the igraph tickets, but its name (`vertex_labels`) does not hint *at all* at igraph. The doc does not either. People could wonder about its effect with every other possible combinations of inputs, and it only appears in the code because of igraph. So I think we should remove it quick and deal with the igraph case otherwise.\n> \n> Nathann",
    "created_at": "2015-10-11T14:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262850",
    "user": "borassi"
}
```

Hellooooooo!

Sorry if I am not very active in these tickets, but I'm quite busy in these days...

Just to say that when I inserted `igraph`, the variable `vertex_labels` was already there, and I only used it in my code. Indeed, you can find examples (written before igraph) where this variable was used (for instance, in `cliques_get_max_clique_graph`).

Though, I have no idea what it was used for! The comment in the code before my modifications was:


```
    -  ``vertex_labels`` - only for implementation == 'c_graph'.
       Whether to allow any object as a vertex (slower), or
       only the integers 0, ..., n-1, where n is the number of vertices.
```

Hope this helps!

Michele

> > - `only the integers 0, ..., n-1, where n is the number of vertices.`  math mode around 0, ..., n-1 and n ?
> > 
> 
> Done, though I will do something about this parameter because it does not make any sense. It was apparently added during the igraph tickets, but its name (`vertex_labels`) does not hint *at all* at igraph. The doc does not either. People could wonder about its effect with every other possible combinations of inputs, and it only appears in the code because of igraph. So I think we should remove it quick and deal with the igraph case otherwise.
> 
> Nathann



---

archive/issue_comments_262851.json:
```json
{
    "body": "Yooooooo,\n\n> Sorry if I am not very active in these tickets, but I'm quite busy in these days...\n\nOkay okay. I write these tickets because I want to have some `Graph(filename)` constructor in order to not meet again this problem I had with your .nde files.\n\n> Just to say that when I inserted `igraph`, the variable `vertex_labels` was already there, and I only used it in my code. Indeed, you can find examples (written before igraph) where this variable was used (for instance, in `cliques_get_max_clique_graph`).\n> \n> Though, I have no idea what it was used for!\n\nIn `cliques_get_max_clique_graph` it seems to be an argument of `.show()` (to display the labels) not an argument of `Graph.__init__`. In the constructor, the only occurrence of this `vertex_labels` argument is in the igraph code. If it is user anywhere else, well, it is actually ignored. It is not very bad anyway, just something that has to be done.\n\nNathann",
    "created_at": "2015-10-11T14:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262851",
    "user": "ncohen"
}
```

Yooooooo,

> Sorry if I am not very active in these tickets, but I'm quite busy in these days...

Okay okay. I write these tickets because I want to have some `Graph(filename)` constructor in order to not meet again this problem I had with your .nde files.

> Just to say that when I inserted `igraph`, the variable `vertex_labels` was already there, and I only used it in my code. Indeed, you can find examples (written before igraph) where this variable was used (for instance, in `cliques_get_max_clique_graph`).
> 
> Though, I have no idea what it was used for!

In `cliques_get_max_clique_graph` it seems to be an argument of `.show()` (to display the labels) not an argument of `Graph.__init__`. In the constructor, the only occurrence of this `vertex_labels` argument is in the igraph code. If it is user anywhere else, well, it is actually ignored. It is not very bad anyway, just something that has to be done.

Nathann



---

archive/issue_comments_262852.json:
```json
{
    "body": "> > - `DiGraph(a_nonsquare_matrix)`  an incidence matrix ?\n> \n> I did not change that, but I will change it if you want me to: let me just tell you why I wrote it this way. I chose to say \"nonsquare_matrix\" to hint that this is how a matrix is \"automatically detected\" to be an incidence matrix, and that to make sure one should use the explicit 'format' flag. That's why. If you think that it is still better the other way, tell me and I will update.\nNow I understand and I agree with you.",
    "created_at": "2015-10-11T14:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262852",
    "user": "dcoudert"
}
```

> > - `DiGraph(a_nonsquare_matrix)`  an incidence matrix ?
> 
> I did not change that, but I will change it if you want me to: let me just tell you why I wrote it this way. I chose to say "nonsquare_matrix" to hint that this is how a matrix is "automatically detected" to be an incidence matrix, and that to make sure one should use the explicit 'format' flag. That's why. If you think that it is still better the other way, tell me and I will update.
Now I understand and I agree with you.



---

archive/issue_comments_262853.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-15T06:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262853",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262854.json:
```json
{
    "body": "Added a mention that a function must be symmetric, because of the following thread: https://groups.google.com/d/topic/sage-devel/TYpyrKCw8Zc/discussion",
    "created_at": "2015-10-15T06:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262854",
    "user": "ncohen"
}
```

Added a mention that a function must be symmetric, because of the following thread: https://groups.google.com/d/topic/sage-devel/TYpyrKCw8Zc/discussion



---

archive/issue_comments_262855.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-16T10:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262855",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262856.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-16T10:36:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262856",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262857.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-10-16T10:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262857",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_262858.json:
```json
{
    "body": "Hello,\n\nthe patch passes all tests and the produced doc is much better.\nFor me the patch is good to go, but you will certainly have to rebase it on last beta first.\n\nDavid.",
    "created_at": "2015-10-24T12:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262858",
    "user": "dcoudert"
}
```

Hello,

the patch passes all tests and the produced doc is much better.
For me the patch is good to go, but you will certainly have to rebase it on last beta first.

David.



---

archive/issue_comments_262859.json:
```json
{
    "body": "Hello !\n\nThank you for the review ! It seems that there is nothing to rebase -- there is no conflict with the latest beta.\n\nNathann",
    "created_at": "2015-10-25T07:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262859",
    "user": "ncohen"
}
```

Hello !

Thank you for the review ! It seems that there is nothing to rebase -- there is no conflict with the latest beta.

Nathann



---

archive/issue_comments_262860.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-25T07:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262860",
    "user": "ncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_262861.json:
```json
{
    "body": "Good.",
    "created_at": "2015-10-25T11:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262861",
    "user": "dcoudert"
}
```

Good.



---

archive/issue_comments_262862.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-25T22:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19153#issuecomment-262862",
    "user": "vbraun"
}
```

Resolution: fixed
