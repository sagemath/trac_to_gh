# Issue 33625: doc-build.yml: Set NETLIFY_ALIAS to the tag name

Issue created by migration from https://trac.sagemath.org/ticket/33862

Original creator: mkoeppe

Original creation time: 2022-05-17 16:09:52

CC:  @tobiasdiez schilly dimpase

From https://github.com/sagemath/documentation/issues/24#issuecomment-1109102774

When the workflow is invoked on `GITHUB_REF` of the form `refs/tags/TAG_NAME`, set `NETLIFY_ALIAS=TAG_NAME`. The resulting URL can then be referred to in a redirect rule. https://github.com/sagemath/documentation/issues/24#issuecomment-1108225322


---

Comment by mkoeppe created at 2022-05-17 16:29:04

Untested, help welcome
----
New commits:


---

Comment by mkoeppe created at 2022-05-17 17:40:19

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-05-17 17:40:19

Still works for non-tag invocations of the workflow.


---

Comment by @tobiasdiez created at 2022-05-18 00:09:06

Changing status from needs_review to needs_work.


---

Comment by @tobiasdiez created at 2022-05-18 00:09:06

I don't think this works for the following reasons:
- you edited the step that is only run for branches != develop
- the workflow currently only runs on the sagetrac mirror but there tags no longer are created when one believes https://github.com/sagemath/sagetrac-mirror/tags


---

Comment by mkoeppe created at 2022-05-18 00:14:05

Good catch.


---

Comment by mkoeppe created at 2022-05-18 00:14:50

Should we run it on sagemath/sage then for release tags?


---

Comment by @tobiasdiez created at 2022-05-18 13:16:43

I don't know. It's still not clear to me why there are actually two github mirrors/repos and what should be run where.


---

Comment by slelievre created at 2022-08-13 04:47:12

Changing status from needs_work to needs_info.
