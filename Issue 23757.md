# Issue 23757: Checking if a graph is semi-Hamiltonian

Issue created by migration from https://trac.sagemath.org/ticket/23994

Original creator: jmantysalo

Original creation time: 2017-10-09 09:13:45

Currently `is_eulerian()` accepts parameter `path`, but `is_hamiltonian` does not. This patch will correct that and makes Sage more orthogonal.


---

Comment by jmantysalo created at 2017-10-09 09:19:15

Trivial patch to review.

I do not understand why `hamiltonian_path` returns `None` and `hamiltonian_cycle` raises an exception, but that is a place for another ticket.
----
New commits:


---

Comment by jmantysalo created at 2017-10-09 09:19:15

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-10-10 15:32:41

LGTM.


---

Comment by tscrim created at 2017-10-10 15:32:41

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2017-10-10 17:04:36

Changing status from positive_review to needs_work.


---

Comment by dcoudert created at 2017-10-10 17:04:36

`The Petergraph is not, but it is semi-Hamiltonian` -> `The Petersen graph is not, but it is semi-Hamiltonian`.


I'm not able to find the name of the class on [http://www.graphclasses.org](http://www.graphclasses.org). We could however add `is_hamiltonian` to `graph_classes` (file `isgci.py`) [http://www.graphclasses.org/classes/gc_1092.html](http://www.graphclasses.org/classes/gc_1092.html). Could be in another patch if we don't have the name for semi-hamiltonian.


---

Comment by git created at 2017-10-10 17:46:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2017-10-10 17:52:20

Changing status from needs_work to needs_review.


---

Comment by jmantysalo created at 2017-10-10 17:52:20

Replying to [comment:4 dcoudert]:
> `The Petergraph is not, but it is semi-Hamiltonian` -> `The Petersen graph is not, but it is semi-Hamiltonian`.

Good catch, corrected and also one unrelated typo in the same time.

> I'm not able to find the name of the class on [http://www.graphclasses.org](http://www.graphclasses.org). We could however add `is_hamiltonian` to `graph_classes` (file `isgci.py`) [http://www.graphclasses.org/classes/gc_1092.html](http://www.graphclasses.org/classes/gc_1092.html). Could be in another patch if we don't have the name for semi-hamiltonian.

The list does not have even Eulerian... The list should be checked against properties known to Sage.


---

Comment by dcoudert created at 2017-10-10 18:51:47

You forgot `Petergraph` -> `Petersen`


For the classes, we should open a ticket to update the list.


---

Comment by git created at 2017-10-10 18:54:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2017-10-10 18:55:37

Replying to [comment:7 dcoudert]:
> You forgot `Petergraph` -> `Petersen`

Duh. Going to sleep now.


---

Comment by dcoudert created at 2017-10-10 19:28:45

Now it looks good to me too ;)


---

Comment by dcoudert created at 2017-10-10 19:28:45

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2017-10-14 07:57:59

see discussion at ​https://groups.google.com/forum/#!topic/sage-devel/56sS2HnsOIg


---

Comment by dcoudert created at 2017-10-14 07:57:59

Changing status from positive_review to needs_info.


---

Comment by jmantysalo created at 2017-10-14 09:08:05

Replying to [comment:11 dcoudert]:
> see discussion at ​https://groups.google.com/forum/#!topic/sage-devel/56sS2HnsOIg

Clearly this one could be made better, but I still think that `path`-parameter to this is a good thing. It will make Sage more orthogonal. We can do more changes later.


---

Comment by tscrim created at 2017-10-17 04:00:00

Should we consider that as back to positive review?


---

Comment by jmantysalo created at 2017-10-17 04:16:56

Replying to [comment:13 tscrim]:
> Should we consider that as back to positive review?

No, I guess the discussion at sage-devel should be done first. I made another suggestion where we would have four functions, what you think about these:

- is_eulerian
- is_traversable
- is_hamiltonian
- is_traceable


---

Comment by jmantysalo created at 2017-10-18 12:59:27

`graphs.CycleGraph(4).is_eulerian(path=True)` => `False`.

What?


---

Comment by tscrim created at 2017-10-18 15:48:44

Replying to [comment:15 jmantysalo]:
> `graphs.CycleGraph(4).is_eulerian(path=True)` => `False`.
> 
> What?

There is not a *non-closed* path that visits every edge. So this is the correct answer (with the current definitions).


---

Comment by jmantysalo created at 2017-10-18 15:51:32

Replying to [comment:16 tscrim]:
> Replying to [comment:15 jmantysalo]:
> > `graphs.CycleGraph(4).is_eulerian(path=True)` => `False`.
> > 
> > What?
> 
> There is not a *non-closed* path that visits every edge. So this is the correct answer (with the current definitions).

OK... Maybe we should change the definition. And then `.is_eulerian()` gives True/False, but `is_eulerian(path=True)` gives a path or `False`. Very interesting design we see here.


---

Comment by tscrim created at 2017-10-18 15:58:42

Replying to [comment:17 jmantysalo]:
> Replying to [comment:16 tscrim]:
> > Replying to [comment:15 jmantysalo]:
> > > `graphs.CycleGraph(4).is_eulerian(path=True)` => `False`.
> > > 
> > > What?
> > 
> > There is not a *non-closed* path that visits every edge. So this is the correct answer (with the current definitions).
> 
> OK... Maybe we should change the definition.

I'm not a graph theorist, but there could be a good reason for differentiating between Eulerian and "strictly" semi-Eulerian.

> And then `.is_eulerian()` gives True/False, but `is_eulerian(path=True)` gives a path or `False`.

This is bad behavior IMO to have this inconsistent output. I feel like it should have another argument `certificate` that determines whether or not a tuple is returned with the circuit/path.


---

Comment by tscrim created at 2017-10-18 15:59:07

However, that is a separate issue for its own ticket.


---

Comment by dcoudert created at 2017-10-18 16:06:02

The best way to avoid confusion is to have different methods with clear names and with seealso blocks pointing to other methods.


---

Comment by jmantysalo created at 2017-10-18 16:47:16

Replying to [comment:19 tscrim]:
> However, that is a separate issue for its own ticket.

I don't think so. The whole ticket started when I noticed an un-orthogonal design. Functions relating to "Hamiltonian properties" should mimic those relating "Eulerian properties" if possible.

I will ask more on sage-devel.


---

Comment by dcoudert created at 2017-10-18 18:37:00

OK, so let this method have parameter `path`.

Then we should have a parameter `certificate` and to be complete, two parameters `u=None` and `v=None` so that we can ask whether the graph has a hamiltonian path between u and v, and may be a hamiltonian path starting at u.

I agree it's more work, but that would make the method very complete. The same should be done for `ie_eulerian` in another ticket.


---

Comment by jmantysalo created at 2017-10-18 19:35:10

Replying to [comment:22 dcoudert]:
> OK, so let this method have parameter `path`.

I have no clear opinion between `path`-parameter vs. separate `is_traversable()` function. So yes, we can do that, but I would like to have some opinions at sage-devel. Should we wait for few days?


---

Comment by dcoudert created at 2017-10-19 06:29:53

Yes, we can wait.
