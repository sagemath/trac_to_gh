# Issue 24332: py3 : caring for range again

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2018-01-19 14:58:32

CC:  jdemeyer tscrim fbissey embray

part of #16081


---

Comment by chapoton created at 2018-01-19 14:58:56

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-01-19 14:58:56

New commits:


---

Comment by chapoton created at 2018-01-19 16:02:45

green bot


---

Comment by tscrim created at 2018-01-20 13:43:59

The `zip` should be able to handle this:

```diff
diff --git a/src/sage/plot/plot.py b/src/sage/plot/plot.py
index 4322987..2928e09 100644
--- a/src/sage/plot/plot.py
+++ b/src/sage/plot/plot.py
`@``@` -3292,7 +3292,7 `@``@` def list_plot_semilogy(data, plotjoined=False, **kwds):
 
         ::
 
-            sage: xl = [2**k for k in range(12)]; yl = range(len(xl))
+            sage: xl = [2**k for k in range(12)]; yl = list(range(len(xl)))
             sage: list_plot_semilogy(list(zip(xl,yl))) # plot empty due to (1,0)
             Graphics object consisting of 1 graphics primitive
 
```

and generates a list of tuples (via `list(zip(...))`). So I think that change is unnecessary.


---

Comment by git created at 2018-01-20 17:09:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-01-20 17:11:13

indeed. Undone


---

Comment by tscrim created at 2018-01-20 22:25:57

Thanks.


---

Comment by tscrim created at 2018-01-20 22:25:57

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-01-22 07:58:24

Resolution: fixed


---

Comment by chapoton created at 2018-01-30 07:14:58

too late, but still (found by patchbot on #16081)

```
File "src/sage/plot/plot.py", line 3301, in sage.plot.plot.list_plot_semilogy
Failed example:
    list_plot_semilogy(list(zip(xl[1:],yl[1:])))
Exception raised:
    Traceback (most recent call last):
      File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 533, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 936, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.plot.plot.list_plot_semilogy[4]>", line 1, in <module>
        list_plot_semilogy(list(zip(xl[Integer(1):],yl[Integer(1):])))
    TypeError: sequence index must be integer, not 'slice'
```

