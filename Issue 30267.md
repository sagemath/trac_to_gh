# Issue 30267: Support getting system packages from MacPorts

Issue created by migration from https://trac.sagemath.org/ticket/30504

Original creator: slelievre

Original creation time: 2020-09-04 14:35:19

CC:  mkoeppe slelievre

MacPorts is a common package manager on macOS.

So far we support using system packages from Homebrew.

This ticket is about offering the same support for MacPorts.


---

Comment by slelievre created at 2020-09-04 14:36:19

Inspired by a report on sage-support:

- https://groups.google.com/d/topic/sage-support/GCasfFMwOOI/discussion


---

Comment by slelievre created at 2020-12-21 20:07:05

Another request:

- [Ask Sage question 54790: Build Sage with OpenSSL from /opt/local/{bin,lib,include}](https://ask.sagemath.org/question/54790)


---

Comment by mkoeppe created at 2020-12-21 20:11:10

You know what to do... add system package information, https://repology.org/


---

Comment by slelievre created at 2021-03-17 00:25:15

Last 10 new commits:


---

Comment by slelievre created at 2021-03-17 00:25:15

Changing status from new to needs_review.


---

Comment by slelievre created at 2021-03-17 00:25:15

Changing keywords from "" to "macports".


---

Comment by slelievre created at 2021-03-17 00:50:03

Changing status from needs_review to needs_work.


---

Comment by slelievre created at 2021-03-17 00:50:03

Not ready yet.


---

Comment by mkoeppe created at 2021-03-17 00:54:20

Wow, thanks a lot for this work.

Some comments: 

- Don't add `pypi.txt` files. This information is in `install-requires.txt` (see https://wiki.sagemath.org/ReleaseTours/sage-9.3#For_developers_and_packagers:_Version_constraints_for_Python_packages)

- Is `raspbian` different from `debian`? That would be annoying - so far we just consider all debian derivatives as just `debian`


---

Comment by mkoeppe created at 2021-03-17 00:57:46

See also #30124, in which I started to add package info for packages related to the Jupyter notebook


---

Comment by mkoeppe created at 2021-03-17 02:31:23

The necessary changes to `build/bin/sage-print-system-package-command` are in #31505.


---

Comment by slelievre created at 2021-03-17 09:58:43

Replying to [comment:8 mkoeppe]:
> Wow, thanks a lot for this work.
> 
> Some comments: 
> 
> - Don't add `pypi.txt` files. This information is in `install-requires.txt` (see https://wiki.sagemath.org/ReleaseTours/sage-9.3#For_developers_and_packagers:_Version_constraints_for_Python_packages)
> 
> - Is `raspbian` different from `debian`? That would be annoying - so far we just consider all debian derivatives as just `debian`

Thanks for warning about this, I'll drop pypi and raspbian.

Are the distros we write files for listed somewhere,
along with the filenames to use?


---

Comment by slelievre created at 2021-03-17 10:12:01

Answering my own question: from the Sage root directory:

```
$ ls build/pkgs/*/distros | grep ".txt" | sort | uniq
alpine.txt
arch.txt
centos.txt
conda.txt
cpan.txt
cygwin.txt
debian.txt
docutils.txt
fedora.txt
freebsd.txt
gentoo.txt
homebrew.txt
nix.txt
opensuse.txt
repology.txt
slackware.txt
void.txt
```



---

Comment by mkoeppe created at 2021-03-17 14:35:25

docutils.txt must be a typo

centos.txt - we actually use fedora.txt for CentOS and hopefully centos.txt can be removed


---

Comment by mkoeppe created at 2021-03-17 16:10:02


```
$ find build/pkgs -name centos.txt
build/pkgs/ninja_build/distros/centos.txt
$ cat build/pkgs/ninja_build/distros/centos.txt
ninja-build
$ cat build/pkgs/ninja_build/distros/fedora.txt
ninja-build
```

Indeed, could you just remove this centos.txt as part of this ticket? It's not needed


---

Comment by mkoeppe created at 2021-03-17 16:13:09


```
$ ls build/pkgs/docutils/distros/
conda.txt       docutils.txt    repology.txt
```

This `docutils.txt` should be renamed to `opensuse.txt` - it's a typo introduced in #30619


---

Comment by git created at 2021-03-17 16:26:07

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2021-03-17 16:46:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slelievre created at 2021-03-17 16:47:58

Not sure how to deal with `_bootstrap`, `_prereq` and `_recommended`.


---

Comment by slelievre created at 2021-03-17 16:47:58

Changing status from needs_work to needs_review.


---

Comment by slelievre created at 2021-03-17 16:50:28

Please fix any mistakes in `pkgconf` and `pkg-config` package info.


---

Comment by git created at 2021-03-17 16:55:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slelievre created at 2021-03-17 16:56:18

Here is an attempt for `_bootstrap`, `_prereq` and `_recommended`.


---

Comment by mkoeppe created at 2021-03-17 18:20:23

`_bootstrap` and `_prereq` I already did in #31505...


---

Comment by git created at 2021-03-17 21:05:57

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by slelievre created at 2021-03-17 21:07:08

Here is a replacement commit with only `_recommended`.


---

Comment by mkoeppe created at 2021-03-17 21:08:36

Thanks. 

I started to test this together with #31505 using `tox -e local-macports-standard`.
It built a number of packages and then errored with

```
--->  Fetching distfiles for zmq
--->  Attempting to fetch libzmq-4.3.4.tar.gz from https://github.com/zeromq/libzmq/tarball/v4.3.4
--->  Verifying checksums for zmq
--->  Extracting zmq
--->  Applying patches to zmq
--->  Configuring zmq
--->  Building zmq
--->  Staging zmq into destroot
--->  Installing zmq @4.3.4_0
--->  Activating zmq @4.3.4_0
--->  Cleaning zmq
--->  Computing dependencies for zmq-devel
Error: Can't install zmq-devel because conflicting ports are active: zmq
Error: Follow https://guide.macports.org/#project.tickets to report a bug.
Error: Processing of port zmq-devel failed
```



---

Comment by mkoeppe created at 2021-03-17 21:24:01

Making this change (and removing the `zmq` installed in the previous run) removes this error:

```
diff --git a/build/pkgs/zeromq/distros/macports.txt b/build/pkgs/zeromq/distros/macports.txt
index ca5bd03220..3f0b992756 100644
--- a/build/pkgs/zeromq/distros/macports.txt
+++ b/build/pkgs/zeromq/distros/macports.txt
@@ -1,2 +1 @@
-zmq
 zmq-devel
```



---

Comment by git created at 2021-03-17 21:35:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slelievre created at 2021-03-17 21:36:40

Thanks for catching that. Updated now.


---

Comment by mkoeppe created at 2021-03-18 01:38:25

Same thing for openblas:

```
--->  Extracting OpenBLAS
--->  Applying patches to OpenBLAS
--->  Configuring OpenBLAS
--->  Building OpenBLAS
--->  Staging OpenBLAS into destroot
--->  Installing OpenBLAS @0.3.13_0+gcc10+lapack
--->  Activating OpenBLAS @0.3.13_0+gcc10+lapack
--->  Cleaning OpenBLAS
--->  Computing dependencies for OpenBLAS-devel
Error: Can't install OpenBLAS-devel because conflicting ports are active: OpenBLAS
Error: Follow https://guide.macports.org/#project.tickets to report a bug.
Error: Processing of port OpenBLAS-devel failed
```



---

Comment by mkoeppe created at 2021-03-18 04:22:46

With this change:

```
diff --git a/build/pkgs/openblas/distros/macports.txt b/build/pkgs/openblas/distros/macports.txt
index 0b58445cee..137d8c4f4f 100644
--- a/build/pkgs/openblas/distros/macports.txt
+++ b/build/pkgs/openblas/distros/macports.txt
@@ -1,2 +1 @@
-OpenBLAS
 OpenBLAS-devel
```

it successfully installs all requested packages.
Then `./configure` shows:

```
## ----------------------------------------------------------------------- ##
## Build status for each package:                                          ##
## ----------------------------------------------------------------------- ##
4ti2-1.6.7.p0:                               does not support check for system package; optional, use "./configure --enable-4ti2" to install
admcycles-none:                              does not support check for system package; optional pip package; use "./sage -i admcycles" to install
alabaster-0.7.12:                            does not support check for system package; will be installed as an SPKG
appnope-0.1.0.p0:                            does not support check for system package; will be installed as an SPKG
arb-2.18.1:                                  no suitable system package; will be installed as an SPKG
argon2_cffi-20.1.0:                          does not support check for system package; will be installed as an SPKG
atlas-3.10.2.p3:                             not required on your platform; SPKG will not be installed
attrs-19.3.0:                                does not support check for system package; will be installed as an SPKG
awali-1.0.2-190218:                          does not support check for system package; experimental, use "./configure --enable-awali" to install
babel-2.6.0:                                 does not support check for system package; will be installed as an SPKG
backcall-0.1.0:                              does not support check for system package; will be installed as an SPKG
barvinok-0.41.1:                             does not support check for system package; optional, use "./configure --enable-barvinok" to install
beautifulsoup4-none:                         does not support check for system package; optional pip package; use "./sage -i beautifulsoup4" to install
benzene-20130630:                            does not support check for system package; optional, use "./configure --enable-benzene" to install
biopython-none:                              does not support check for system package; optional pip package; use "./sage -i biopython" to install
bleach-3.1.5:                                does not support check for system package; will be installed as an SPKG
bliss-0.73+debian-1+sage-2016-08-02.p0:      does not support check for system package; optional, use "./configure --enable-bliss" to install
boost-1_66_0:                                using system package; SPKG will not be installed
boost_cropped-1.66.0.p0:                     using system package; SPKG will not be installed
brial-1.2.8:                                 no suitable system package; will be installed as an SPKG
buckygen-1.1:                                does not support check for system package; optional, use "./configure --enable-buckygen" to install
bzip2-1.0.6-20150304.p0:                     using system package; SPKG will not be installed
cbc-2.9.4.p0:                                no suitable system package; optional, use "./configure --enable-cbc" to install
ccache-3.3.4:                                does not support check for system package; optional, use "./configure --enable-ccache" to install
cddlib-0.94j:                                no suitable system package; will be installed as an SPKG
certifi-2020.11.8:                           does not support check for system package; will be installed as an SPKG
cffi-1.14.5:                                 does not support check for system package; will be installed as an SPKG
cliquer-1.22:                                already installed as an SPKG
cmake-3.19.3:                                using system package; SPKG will not be installed
cocoalib-0.99564:                            does not support check for system package; experimental, use "./configure --enable-cocoalib" to install
combinatorial_designs-20140630.p0:           does not support check for system package; will be installed as an SPKG
compilerwrapper-1.2:                         does not support check for system package; experimental, use "./configure --enable-compilerwrapper" to install
configure-d57188beedceca00617aadbd9ca512d19970a8fe:does not support check for system package; came preinstalled with the SageMath tarball
conway_polynomials-0.5:                      does not support check for system package; will be installed as an SPKG
coxeter3-8ac9c71723c8ca57a836d6381aed125261e44e9e.p0:no suitable system package; optional, use "./configure --enable-coxeter3" to install
cryptominisat-5.6.8:                         does not support check for system package; optional, use "./configure --enable-cryptominisat" to install
csdp-6.2.p0:                                 does not support check for system package; optional, use "./configure --enable-csdp" to install
cunningham_tables-1.0:                       does not support check for system package; optional, use "./configure --enable-cunningham_tables" to install
curl-7.62.0.p0:                              using system package; SPKG will not be installed
cvxopt-1.2.5:                                does not support check for system package; will be installed as an SPKG
cycler-0.10.0.p0:                            does not support check for system package; will be installed as an SPKG
cypari-2.1.2:                                does not support check for system package; will be installed as an SPKG
cysignals-1.10.2:                            does not support check for system package; will be installed as an SPKG
cython-0.29.21:                              does not support check for system package; will be installed as an SPKG
d3js-3.4.8:                                  does not support check for system package; optional, use "./configure --enable-d3js" to install
database_cremona_ellcurve-20190911:          does not support check for system package; optional, use "./configure --enable-database_cremona_ellcurve" to install
database_jones_numfield-4:                   does not support check for system package; optional, use "./configure --enable-database_jones_numfield" to install
database_kohel-20160724:                     does not support check for system package; optional, use "./configure --enable-database_kohel" to install
database_mutation_class-1.0:                 does not support check for system package; optional, use "./configure --enable-database_mutation_class" to install
database_odlyzko_zeta-20061209:              does not support check for system package; optional, use "./configure --enable-database_odlyzko_zeta" to install
database_stein_watkins-20110713:             does not support check for system package; optional, use "./configure --enable-database_stein_watkins" to install
database_stein_watkins_mini-20070827:        does not support check for system package; optional, use "./configure --enable-database_stein_watkins_mini" to install
database_symbolic_data-20070206:             does not support check for system package; optional, use "./configure --enable-database_symbolic_data" to install
dateutil-2.8.1:                              does not support check for system package; will be installed as an SPKG
decorator-4.4.2:                             does not support check for system package; will be installed as an SPKG
deformation-d05941b.p0:                      does not support check for system package; experimental, use "./configure --enable-deformation" to install
defusedxml-0.6.0:                            does not support check for system package; will be installed as an SPKG
docutils-0.14:                               does not support check for system package; will be installed as an SPKG
dot2tex-2.11.3.p0:                           does not support check for system package; optional, use "./configure --enable-dot2tex" to install
e_antic-0.1.9:                               does not support check for system package; optional, use "./configure --enable-e_antic" to install
ecl-21.2.1:                                  does not support check for system package; will be installed as an SPKG
eclib-20190909:                              no suitable system package; will be installed as an SPKG
ecm-7.0.4.p2:                                already installed as an SPKG
elliptic_curves-0.8.1:                       does not support check for system package; will be installed as an SPKG
entrypoints-0.3:                             does not support check for system package; will be installed as an SPKG
fflas_ffpack-2.4.3.p0:                       no suitable system package; will be installed as an SPKG
flint-2.6.3:                                 no suitable system package; will be installed as an SPKG
flintqs-1.0.p0:                              no suitable system package; will be installed as an SPKG
fplll-5.4.0:                                 already installed as an SPKG
fpylll-0.5.5:                                does not support check for system package; will be installed as an SPKG
freetype-2.10.1:                             no suitable system package; will be installed as an SPKG
fricas-1.3.6:                                does not support check for system package; optional, use "./configure --enable-fricas" to install
frobby-0.9.0.p2:                             does not support check for system package; optional, use "./configure --enable-frobby" to install
gambit-15.1.1.p0:                            does not support check for system package; experimental, use "./configure --enable-gambit" to install
gap-4.11.0.p1:                               does not support check for system package; will be installed as an SPKG
gap3-04jul17:                                does not support check for system package; experimental, use "./configure --enable-gap3" to install
gap_jupyter-0.9:                             does not support check for system package; optional, use "./configure --enable-gap_jupyter" to install
gap_packages-4.11.0.p1:                      does not support check for system package; optional, use "./configure --enable-gap_packages" to install
gc-8.0.4:                                    using system package; SPKG will not be installed
gcc-9.2.0:                                   using system package; SPKG will not be installed
gdb-8.2:                                     does not support check for system package; experimental, use "./configure --enable-gdb" to install
gf2x-1.3.0:                                  already installed as an SPKG
gfan-0.6.2.p1:                               no suitable system package; will be installed as an SPKG
gfortran-9.2.0:                              no suitable system package; will be installed as an SPKG
giac-1.6.0.47p2:                             no suitable system package; will be installed as an SPKG
git-2.11.0:                                  using system package; SPKG will not be installed
givaro-4.1.1:                                already installed as an SPKG
glpk-5.0.p0:                                 already installed as an SPKG
glucose-4.1:                                 does not support check for system package; optional, use "./configure --enable-glucose" to install
gmp-6.2.0:                                   using system package; SPKG will not be installed
gmpy2-2.1.0b5:                               does not support check for system package; will be installed as an SPKG
gp2c-0.0.10.p0:                              no suitable system package; optional, use "./configure --enable-gp2c" to install
graphs-20161026.p0:                          does not support check for system package; will be installed as an SPKG
graphviz-none:                               no suitable system package; optional, use "./configure --enable-graphviz" to install
gsl-2.6:                                     no suitable system package; will be installed as an SPKG
html5lib-1.0.1:                              does not support check for system package; will be installed as an SPKG
iconv-1.15:                                  using system package; SPKG will not be installed
igraph-0.8.3:                                no suitable system package; optional, use "./configure --enable-igraph" to install
imagesize-1.1.0:                             does not support check for system package; will be installed as an SPKG
iml-1.0.4p1.p2:                              already installed as an SPKG
importlib_metadata-1.7.0:                    does not support check for system package; will be installed as an SPKG
ipykernel-5.2.1:                             does not support check for system package; will be installed as an SPKG
ipython-7.16.1:                              does not support check for system package; will be installed as an SPKG
ipython_genutils-0.2.0:                      does not support check for system package; will be installed as an SPKG
ipywidgets-7.6.3:                            does not support check for system package; will be installed as an SPKG
isl-0.20:                                    using system package; SPKG will not be installed
jedi-0.17.2:                                 does not support check for system package; will be installed as an SPKG
jinja2-2.11.2:                               does not support check for system package; will be installed as an SPKG
jmol-14.29.52:                               does not support check for system package; will be installed as an SPKG
jsonschema-3.2.0:                            does not support check for system package; will be installed as an SPKG
jupymake-0.9:                                does not support check for system package; optional, use "./configure --enable-jupymake" to install
jupyter_client-6.1.6:                        does not support check for system package; will be installed as an SPKG
jupyter_core-4.6.3:                          does not support check for system package; will be installed as an SPKG
jupyter_jsmol-0.2.4:                         does not support check for system package; will be installed as an SPKG
jupyterlab-none:                             does not support check for system package; optional pip package; use "./sage -i jupyterlab" to install
jupyterlab_widgets-2.0:                      does not support check for system package; optional, use "./configure --enable-jupyterlab_widgets" to install
kenzo-1.1.9:                                 does not support check for system package; optional, use "./configure --enable-kenzo" to install
kiwisolver-1.0.1:                            does not support check for system package; will be installed as an SPKG
latte_int-1.7.5.p0:                          does not support check for system package; optional, use "./configure --enable-latte_int" to install
lcalc-1.23.p20:                              no suitable system package; will be installed as an SPKG
libatomic_ops-7.6.10:                        using system package; SPKG will not be installed
libbraiding-1.1:                             already installed as an SPKG
libffi-3.2.1:                                using system package; SPKG will not be installed
libgd-2.1.1.1.p1:                            no suitable system package; will be installed as an SPKG
libhomfly-1.02r6:                            already installed as an SPKG
libnauty-none:                               no suitable system package; optional, use "./configure --enable-libnauty" to install
libogg-1.3.1.p0:                             does not support check for system package; optional, use "./configure --enable-libogg" to install
libpng-1.6.29.p1:                            already installed as an SPKG
libsemigroups-1.0.9:                         no suitable system package; optional, use "./configure --enable-libsemigroups" to install
libtheora-1.1.1:                             does not support check for system package; experimental, use "./configure --enable-libtheora" to install
libxml2-none:                                using system package; SPKG will not be installed
lidia-2.3.0+latte-patches-2019-05-02:        does not support check for system package; optional, use "./configure --enable-lidia" to install
lie-2.2.2:                                   does not support check for system package; experimental, use "./configure --enable-lie" to install
linbox-1.6.3.p1:                             does not support check for system package; will be installed as an SPKG
lrcalc-1.2.p1:                               already installed as an SPKG
lrslib-062+autotools-2017-03-03.p1:          does not support check for system package; optional, use "./configure --enable-lrslib" to install
m4ri-20200115:                               already installed as an SPKG
m4rie-20200115:                              no suitable system package; will be installed as an SPKG
markupsafe-1.1.1:                            does not support check for system package; will be installed as an SPKG
mathjax-2.7.4.p0:                            does not support check for system package; will be installed as an SPKG
matplotlib-3.3.2:                            does not support check for system package; will be installed as an SPKG
maxima-5.44.0:                               does not support check for system package; will be installed as an SPKG
mcqd-1.0.p0:                                 does not support check for system package; optional, use "./configure --enable-mcqd" to install
meataxe-1.0.1:                               does not support check for system package; optional, use "./configure --enable-meataxe" to install
mistune-0.8.4:                               does not support check for system package; will be installed as an SPKG
modular_decomposition-20100607:              does not support check for system package; experimental, use "./configure --enable-modular_decomposition" to install
mpc-1.1.0:                                   using system package; SPKG will not be installed
mpfi-1.5.2:                                  using system package; SPKG will not be installed
mpfr-4.0.1.p0:                               using system package; SPKG will not be installed
mpfrcx-0.5:                                  does not support check for system package; optional, use "./configure --enable-mpfrcx" to install
mpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0:using system package; SPKG will not be installed
mpmath-1.1.0:                                does not support check for system package; will be installed as an SPKG
nauty-27r1.p1:                               no suitable system package; will be installed as an SPKG
nbconvert-5.6.1:                             does not support check for system package; will be installed as an SPKG
nbformat-5.0.7:                              does not support check for system package; will be installed as an SPKG
ncurses-6.0.p0:                              using system package; SPKG will not be installed
networkx-2.5:                                does not support check for system package; will be installed as an SPKG
nibabel-none:                                does not support check for system package; optional pip package; use "./sage -i nibabel" to install
ninja_build-1.8.2:                           using system package; SPKG will not be installed
nodeenv-none:                                does not support check for system package; optional pip package; use "./sage -i nodeenv" to install
nodejs-12.18.3:                              does not support check for system package; optional, use "./configure --enable-nodejs" to install
normaliz-3.8.9:                              does not support check for system package; optional, use "./configure --enable-normaliz" to install
nose-1.3.7:                                  does not support check for system package; will be installed as an SPKG
notebook-6.1.1:                              does not support check for system package; will be installed as an SPKG
notedown-1.5.1:                              does not support check for system package; optional, use "./configure --enable-notedown" to install
ntl-11.4.3:                                  no suitable system package; will be installed as an SPKG
numpy-1.19.4:                                does not support check for system package; will be installed as an SPKG
openblas-0.3.13:                             no suitable system package; will be installed as an SPKG
openssl-3.0.0-alpha12:                       using system package; SPKG will not be installed
ore_algebra-none:                            does not support check for system package; optional pip package; use "./sage -i ore_algebra" to install
p_group_cohomology-3.3.2:                    does not support check for system package; optional, use "./configure --enable-p_group_cohomology" to install
packaging-20.4:                              does not support check for system package; will be installed as an SPKG
palp-2.11:                                   no suitable system package; will be installed as an SPKG
pandoc-none:                                 no suitable system package; optional, use "./configure --enable-pandoc" to install
pandoc_attributes-8bc82f6d:                  does not support check for system package; optional, use "./configure --enable-pandoc_attributes" to install
pandocfilters-1.4.2:                         does not support check for system package; will be installed as an SPKG
pari-2.11.4.p1:                              no suitable system package; will be installed as an SPKG
pari_elldata-20161017:                       no suitable system package; optional, use "./configure --enable-pari_elldata" to install
pari_galdata-20080411.p0:                    already installed as an SPKG
pari_galpol-20180625:                        no suitable system package; optional, use "./configure --enable-pari_galpol" to install
pari_jupyter-1.3.2:                          does not support check for system package; optional, use "./configure --enable-pari_jupyter" to install
pari_nftables-20080929:                      no suitable system package; optional, use "./configure --enable-pari_nftables" to install
pari_seadata-20090618:                       no suitable system package; optional, use "./configure --enable-pari_seadata" to install
pari_seadata_small-20090618.p0:              already installed as an SPKG
parso-0.7.0:                                 does not support check for system package; will be installed as an SPKG
patch-2.7.5:                                 already installed as an SPKG
pcre-8.40.p2:                                using system package; SPKG will not be installed
perl_cpan_polymake_prereq-none:              no suitable system package; optional, use "./configure --enable-perl_cpan_polymake_prereq" to install
perl_term_readline_gnu-1.35:                 no suitable system package; experimental, use "./configure --enable-perl_term_readline_gnu" to install
pexpect-4.8.0:                               does not support check for system package; will be installed as an SPKG
pickleshare-0.7.5:                           does not support check for system package; will be installed as an SPKG
pillow-8.0.1:                                does not support check for system package; will be installed as an SPKG
pip-21.0.1:                                  does not support check for system package; will be installed as an SPKG
pip2pi-none:                                 does not support check for system package; optional pip package; use "./sage -i pip2pi" to install
pkgconf-0.9.7.p2:                            using system package; SPKG will not be installed
pkgconfig-1.5.1:                             does not support check for system package; will be installed as an SPKG
planarity-3.0.1.0:                           already installed as an SPKG
plantri-4.5:                                 does not support check for system package; optional, use "./configure --enable-plantri" to install
polylib-5.22.5:                              does not support check for system package; optional, use "./configure --enable-polylib" to install
polymake-3.4:                                does not support check for system package; experimental, use "./configure --enable-polymake" to install
polytopes_db-20170220.p0:                    does not support check for system package; will be installed as an SPKG
polytopes_db_4d-1.0:                         does not support check for system package; optional, use "./configure --enable-polytopes_db_4d" to install
ppl-1.2.p1:                                  no suitable system package; will be installed as an SPKG
pplpy-0.8.6:                                 does not support check for system package; will be installed as an SPKG
primecount-5.1:                              does not support check for system package; optional, use "./configure --enable-primecount" to install
prometheus_client-0.8.0:                     does not support check for system package; will be installed as an SPKG
prompt_toolkit-3.0.5:                        does not support check for system package; will be installed as an SPKG
psutil-5.2.0.p2:                             does not support check for system package; will be installed as an SPKG
ptyprocess-0.5.1.p0:                         does not support check for system package; will be installed as an SPKG
pybind11-2.6.0:                              does not support check for system package; will be installed as an SPKG
pybtex-none:                                 does not support check for system package; optional pip package; use "./sage -i pybtex" to install
pycosat-0.6.3:                               does not support check for system package; optional, use "./configure --enable-pycosat" to install
pycparser-2.20:                              does not support check for system package; will be installed as an SPKG
pycygwin-0.1:                                does not support check for system package; will be installed as an SPKG
pyflakes-none:                               does not support check for system package; optional pip package; use "./sage -i pyflakes" to install
pygments-2.3.1.p0:                           does not support check for system package; will be installed as an SPKG
pygraphviz-none:                             does not support check for system package; optional pip package; use "./sage -i pygraphviz" to install
pynac-0.7.27.p1:                             does not support check for system package; will be installed as an SPKG
pynormaliz-2.13:                             does not support check for system package; optional, use "./configure --enable-pynormaliz" to install
pyopenssl-none:                              does not support check for system package; optional pip package; use "./sage -i pyopenssl" to install
pyparsing-2.4.7:                             does not support check for system package; will be installed as an SPKG
pyrsistent-0.16.0:                           does not support check for system package; will be installed as an SPKG
pysingular-0.9.5:                            does not support check for system package; optional, use "./configure --enable-pysingular" to install
pytest-none:                                 does not support check for system package; optional pip package; use "./sage -i pytest" to install
python3-3.9.2:                               using system package; SPKG will not be installed
python_igraph-0.8.3:                         does not support check for system package; optional, use "./configure --enable-python_igraph" to install
pytz-2020.4:                                 does not support check for system package; will be installed as an SPKG
pyx-none:                                    does not support check for system package; optional pip package; use "./sage -i pyx" to install
pyzmq-19.0.2:                                does not support check for system package; will be installed as an SPKG
qepcad-B.1.72:                               does not support check for system package; experimental, use "./configure --enable-qepcad" to install
qhull-2015-src-7.2.0.p1:                     does not support check for system package; optional, use "./configure --enable-qhull" to install
r-3.6.3:                                     no suitable system package; will be installed as an SPKG
r_jupyter-none:                              does not support check for system package; optional, use "./configure --enable-r_jupyter" to install
ratpoints-2.1.3.p5:                          does not support check for system package; will be installed as an SPKG
readline-8.0:                                already installed as an SPKG
requests-2.13.0:                             does not support check for system package; will be installed as an SPKG
rpy2-3.3.6:                                  does not support check for system package; will be installed as an SPKG
rst2ipynb-0.2.2.p0:                          does not support check for system package; optional, use "./configure --enable-rst2ipynb" to install
rubiks-20070912.p21:                         does not support check for system package; optional, use "./configure --enable-rubiks" to install
rw-0.9:                                      already installed as an SPKG
saclib-2.2.7:                                does not support check for system package; optional, use "./configure --enable-saclib" to install
sage_conf-none:                              does not support check for system package; will be installed as an SPKG
sage_docbuild-9.3.beta9:                     does not support check for system package; will be installed as an SPKG
sage_flatsurf-none:                          does not support check for system package; optional pip package; use "./sage -i sage_flatsurf" to install
sage_numerical_backends_coin-9.0b12:         does not support check for system package; optional, use "./configure --enable-sage_numerical_backends_coin" to install
sage_numerical_backends_cplex-9.0b12:        does not support check for system package; optional, use "./configure --enable-sage_numerical_backends_cplex" to install
sage_numerical_backends_gurobi-9.0.0:        does not support check for system package; optional, use "./configure --enable-sage_numerical_backends_gurobi" to install
sage_sws2rst-none:                           does not support check for system package; optional, use "./configure --enable-sage_sws2rst" to install
sagelib-9.3.beta9:                           does not support check for system package; will be installed as an SPKG
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagemath_categories/type" is missing.  Leftovers from another branch?
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagemath_linbox/type" is missing.  Leftovers from another branch?
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagemath_objects/type" is missing.  Leftovers from another branch?
sagenb_export-3.3:                           does not support check for system package; will be installed as an SPKG
sagetex-3.5:                                 does not support check for system package; will be installed as an SPKG
scandir-1.9.0:                               does not support check for system package; will be installed as an SPKG
scikit_spatial-5.2.0:                        does not support check for system package; optional, use "./configure --enable-scikit_spatial" to install
scipoptsuite-5.0.1:                          does not support check for system package; experimental, use "./configure --enable-scipoptsuite" to install
scipy-1.5.4:                                 does not support check for system package; will be installed as an SPKG
send2trash-1.5.0:                            does not support check for system package; will be installed as an SPKG
setuptools-51.1.1:                           does not support check for system package; will be installed as an SPKG
setuptools_scm-5.0.1:                        does not support check for system package; will be installed as an SPKG
setuptools_wheel-51.1.1:                     does not support check for system package; will be installed as an SPKG
simplegeneric-0.8.1.p0:                      does not support check for system package; will be installed as an SPKG
singular-4.1.1p2.p0:                         does not support check for system package; will be installed as an SPKG
singular_jupyter-0.9.7:                      does not support check for system package; optional, use "./configure --enable-singular_jupyter" to install
sip-4.18:                                    does not support check for system package; optional, use "./configure --enable-sip" to install
sirocco-2.0.2:                               does not support check for system package; optional, use "./configure --enable-sirocco" to install
six-1.15.0:                                  does not support check for system package; will be installed as an SPKG
slabbe-none:                                 does not support check for system package; optional pip package; use "./sage -i slabbe" to install
snappy-none:                                 does not support check for system package; optional pip package; use "./sage -i snappy" to install
snowballstemmer-1.2.1.p0:                    does not support check for system package; will be installed as an SPKG
speaklater-1.3.p0:                           does not support check for system package; optional, use "./configure --enable-speaklater" to install
sphinx-3.1.2.p0:                             does not support check for system package; will be installed as an SPKG
sphinxcontrib_applehelp-1.0.2:               does not support check for system package; will be installed as an SPKG
sphinxcontrib_devhelp-1.0.2:                 does not support check for system package; will be installed as an SPKG
sphinxcontrib_htmlhelp-1.0.3:                does not support check for system package; will be installed as an SPKG
sphinxcontrib_jsmath-1.0.1:                  does not support check for system package; will be installed as an SPKG
sphinxcontrib_qthelp-1.0.3:                  does not support check for system package; will be installed as an SPKG
sphinxcontrib_serializinghtml-1.1.4:         does not support check for system package; will be installed as an SPKG
sphinxcontrib_websupport-1.2.1:              does not support check for system package; will be installed as an SPKG
sqlalchemy-none:                             does not support check for system package; optional pip package; use "./sage -i sqlalchemy" to install
sqlite-3290000:                              not required on your platform; SPKG will not be installed
suitesparse-5.6.0:                           no suitable system package; will be installed as an SPKG
surf-1.0.6-gcc6:                             does not support check for system package; experimental, use "./configure --enable-surf" to install
surface_dynamics-none:                       does not support check for system package; optional pip package; use "./sage -i surface_dynamics" to install
symengine-0.6.0:                             does not support check for system package; optional, use "./configure --enable-symengine" to install
symengine_py-0.6.1:                          does not support check for system package; optional, use "./configure --enable-symengine_py" to install
symmetrica-3.0.1:                            no suitable system package; will be installed as an SPKG
sympow-2.023.6:                              no suitable system package; will be installed as an SPKG
sympy-1.7:                                   does not support check for system package; will be installed as an SPKG
tachyon-0.98.9.p7:                           already installed as an SPKG
tdlib-0.3.1.p0:                              does not support check for system package; optional, use "./configure --enable-tdlib" to install
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/termcap/type" is missing.  Leftovers from another branch?
terminado-0.8.3:                             does not support check for system package; will be installed as an SPKG
testpath-0.4.4:                              does not support check for system package; will be installed as an SPKG
texlive-none:                                does not support check for system package; optional, use "./configure --enable-texlive" to install
texttable-1.6.3:                             does not support check for system package; optional, use "./configure --enable-texttable" to install
thebe-9624e0a0.p0:                           does not support check for system package; will be installed as an SPKG
threejs-r122:                                does not support check for system package; will be installed as an SPKG
tides-2.0.p0:                                does not support check for system package; optional, use "./configure --enable-tides" to install
topcom-0.17.7:                               does not support check for system package; optional, use "./configure --enable-topcom" to install
tornado-6.0.4:                               does not support check for system package; will be installed as an SPKG
tox-none:                                    no suitable system package; optional pip package; use "./sage -i tox" to install
traitlets-4.3.3:                             does not support check for system package; will be installed as an SPKG
tzlocal-2.1:                                 does not support check for system package; will be installed as an SPKG
valgrind-3.14.0:                             does not support check for system package; experimental, use "./configure --enable-valgrind" to install
vcversioner-2.16.0.0.p0:                     does not support check for system package; will be installed as an SPKG
wcwidth-0.1.7.p0:                            does not support check for system package; will be installed as an SPKG
webencodings-0.5.1:                          does not support check for system package; will be installed as an SPKG
wheel-0.36.2:                                does not support check for system package; will be installed as an SPKG
widgetsnbextension-3.5.1.p0:                 does not support check for system package; will be installed as an SPKG
xz-5.2.2.p0:                                 using system package; SPKG will not be installed
yasm-1.3.0.p0:                               not required on your platform; SPKG will not be installed
zeromq-4.2.5:                                using system package; SPKG will not be installed
zipp-0.5.2:                                  does not support check for system package; will be installed as an SPKG
zlib-1.2.11.p0:                              using system package; SPKG will not be installed
zn_poly-0.9.2:                               no suitable system package; will be installed as an SPKG
```



---

Comment by mkoeppe created at 2021-03-18 04:26:13

In particular it does not find system `gfortran`, which causes many other packages to be rejected


---

Comment by git created at 2021-03-18 10:28:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slelievre created at 2021-03-18 10:29:25

I fixed `openblas` info and added gcc / gfortran.


---

Comment by slelievre created at 2021-03-18 11:29:38

Is it a problem that MacPorts uses `gpatch` for `patch`?


---

Comment by slelievre created at 2021-03-18 11:33:14

Some reading about gfortran and MacPorts:

- [Stack Overflow question 51822999: Installing gfortran via MacPorts](https://stackoverflow.com/q/51822999)


---

Comment by mkoeppe created at 2021-03-18 17:20:28

Thanks for the pointer!


---

Comment by slelievre created at 2021-03-18 19:30:24

For `gcc` and `gfortran` I put `gcc9`, should I put `gcc10` instead?

Feel free to change anything if it's useful.


---

Comment by mkoeppe created at 2021-03-18 19:34:17

Yes, the build was successful with these changes:

```
diff --git a/build/pkgs/gcc/distros/macports.txt b/build/pkgs/gcc/distros/macports.txt
deleted file mode 100644
index 9609b73af4..0000000000
--- a/build/pkgs/gcc/distros/macports.txt
+++ /dev/null
@@ -1 +0,0 @@
-gcc9
diff --git a/build/pkgs/gfortran/distros/macports.txt b/build/pkgs/gfortran/distros/macports.txt
index 9609b73af4..c2878adf89 100644
--- a/build/pkgs/gfortran/distros/macports.txt
+++ b/build/pkgs/gfortran/distros/macports.txt
@@ -1 +1 @@
-gcc9
+gcc10 +gfortran
```



---

Comment by mkoeppe created at 2021-03-18 19:35:33

With latest #31505 merged, I am now getting:

```
## ----------------------------------------------------------------------- ##
## Build status for each package:                                          ##
## ----------------------------------------------------------------------- ##
4ti2-1.6.7.p0:                               does not support check for system package; optional, use "./configure --enable-4ti2" to install
admcycles-none:                              does not support check for system package; optional pip package; use "./sage -i admcycles" to install
alabaster-0.7.12:                            does not support check for system package; will be installed as an SPKG
appnope-0.1.0.p0:                            does not support check for system package; will be installed as an SPKG
arb-2.18.1:                                  already installed as an SPKG
argon2_cffi-20.1.0:                          does not support check for system package; will be installed as an SPKG
atlas-3.10.2.p3:                             not required on your platform; SPKG will not be installed
attrs-19.3.0:                                does not support check for system package; will be installed as an SPKG
awali-1.0.2-190218:                          does not support check for system package; experimental, use "./configure --enable-awali" to install
babel-2.6.0:                                 does not support check for system package; will be installed as an SPKG
backcall-0.1.0:                              does not support check for system package; will be installed as an SPKG
barvinok-0.41.1:                             does not support check for system package; optional, use "./configure --enable-barvinok" to install
beautifulsoup4-none:                         does not support check for system package; optional pip package; use "./sage -i beautifulsoup4" to install
benzene-20130630:                            does not support check for system package; optional, use "./configure --enable-benzene" to install
biopython-none:                              does not support check for system package; optional pip package; use "./sage -i biopython" to install
bleach-3.1.5:                                does not support check for system package; will be installed as an SPKG
bliss-0.73+debian-1+sage-2016-08-02.p0:      does not support check for system package; optional, use "./configure --enable-bliss" to install
boost-1_66_0:                                using system package; SPKG will not be installed
boost_cropped-1.66.0.p0:                     using system package; SPKG will not be installed
brial-1.2.8:                                 already installed as an SPKG
buckygen-1.1:                                does not support check for system package; optional, use "./configure --enable-buckygen" to install
bzip2-1.0.6-20150304.p0:                     using system package; SPKG will not be installed
cbc-2.9.4.p0:                                no suitable system package; optional, use "./configure --enable-cbc" to install
ccache-3.3.4:                                does not support check for system package; optional, use "./configure --enable-ccache" to install
cddlib-0.94j:                                already installed as an SPKG
certifi-2020.11.8:                           does not support check for system package; will be installed as an SPKG
cffi-1.14.5:                                 does not support check for system package; will be installed as an SPKG
cliquer-1.22:                                already installed as an SPKG
cmake-3.19.3:                                using system package; SPKG will not be installed
cocoalib-0.99564:                            does not support check for system package; experimental, use "./configure --enable-cocoalib" to install
combinatorial_designs-20140630.p0:           does not support check for system package; will be installed as an SPKG
compilerwrapper-1.2:                         does not support check for system package; experimental, use "./configure --enable-compilerwrapper" to install
configure-d57188beedceca00617aadbd9ca512d19970a8fe:does not support check for system package; came preinstalled with the SageMath tarball
conway_polynomials-0.5:                      does not support check for system package; will be installed as an SPKG
coxeter3-8ac9c71723c8ca57a836d6381aed125261e44e9e.p0:no suitable system package; optional, use "./configure --enable-coxeter3" to install
cryptominisat-5.6.8:                         does not support check for system package; optional, use "./configure --enable-cryptominisat" to install
csdp-6.2.p0:                                 does not support check for system package; optional, use "./configure --enable-csdp" to install
cunningham_tables-1.0:                       does not support check for system package; optional, use "./configure --enable-cunningham_tables" to install
curl-7.62.0.p0:                              using system package; SPKG will not be installed
cvxopt-1.2.5:                                does not support check for system package; will be installed as an SPKG
cycler-0.10.0.p0:                            does not support check for system package; will be installed as an SPKG
cypari-2.1.2:                                does not support check for system package; will be installed as an SPKG
cysignals-1.10.2:                            does not support check for system package; will be installed as an SPKG
cython-0.29.21:                              does not support check for system package; will be installed as an SPKG
d3js-3.4.8:                                  does not support check for system package; optional, use "./configure --enable-d3js" to install
database_cremona_ellcurve-20190911:          does not support check for system package; optional, use "./configure --enable-database_cremona_ellcurve" to install
database_jones_numfield-4:                   does not support check for system package; optional, use "./configure --enable-database_jones_numfield" to install
database_kohel-20160724:                     does not support check for system package; optional, use "./configure --enable-database_kohel" to install
database_mutation_class-1.0:                 does not support check for system package; optional, use "./configure --enable-database_mutation_class" to install
database_odlyzko_zeta-20061209:              does not support check for system package; optional, use "./configure --enable-database_odlyzko_zeta" to install
database_stein_watkins-20110713:             does not support check for system package; optional, use "./configure --enable-database_stein_watkins" to install
database_stein_watkins_mini-20070827:        does not support check for system package; optional, use "./configure --enable-database_stein_watkins_mini" to install
database_symbolic_data-20070206:             does not support check for system package; optional, use "./configure --enable-database_symbolic_data" to install
dateutil-2.8.1:                              does not support check for system package; will be installed as an SPKG
decorator-4.4.2:                             does not support check for system package; will be installed as an SPKG
deformation-d05941b.p0:                      does not support check for system package; experimental, use "./configure --enable-deformation" to install
defusedxml-0.6.0:                            does not support check for system package; will be installed as an SPKG
docutils-0.14:                               does not support check for system package; will be installed as an SPKG
dot2tex-2.11.3.p0:                           does not support check for system package; optional, use "./configure --enable-dot2tex" to install
e_antic-0.1.9:                               does not support check for system package; optional, use "./configure --enable-e_antic" to install
ecl-21.2.1:                                  does not support check for system package; will be installed as an SPKG
eclib-20190909:                              already installed as an SPKG
ecm-7.0.4.p2:                                already installed as an SPKG
elliptic_curves-0.8.1:                       does not support check for system package; will be installed as an SPKG
entrypoints-0.3:                             does not support check for system package; will be installed as an SPKG
fflas_ffpack-2.4.3.p0:                       already installed as an SPKG
flint-2.6.3:                                 already installed as an SPKG
flintqs-1.0.p0:                              already installed as an SPKG
fplll-5.4.0:                                 already installed as an SPKG
fpylll-0.5.5:                                does not support check for system package; will be installed as an SPKG
freetype-2.10.1:                             already installed as an SPKG
fricas-1.3.6:                                does not support check for system package; optional, use "./configure --enable-fricas" to install
frobby-0.9.0.p2:                             does not support check for system package; optional, use "./configure --enable-frobby" to install
gambit-15.1.1.p0:                            does not support check for system package; experimental, use "./configure --enable-gambit" to install
gap-4.11.0.p1:                               does not support check for system package; will be installed as an SPKG
gap3-04jul17:                                does not support check for system package; experimental, use "./configure --enable-gap3" to install
gap_jupyter-0.9:                             does not support check for system package; optional, use "./configure --enable-gap_jupyter" to install
gap_packages-4.11.0.p1:                      does not support check for system package; optional, use "./configure --enable-gap_packages" to install
gc-8.0.4:                                    using system package; SPKG will not be installed
gcc-9.2.0:                                   using system package; SPKG will not be installed
gdb-8.2:                                     does not support check for system package; experimental, use "./configure --enable-gdb" to install
gf2x-1.3.0:                                  already installed as an SPKG
gfan-0.6.2.p1:                               already installed as an SPKG
gfortran-9.2.0:                              using system package; SPKG will not be installed
giac-1.6.0.47p2:                             already installed as an SPKG
git-2.11.0:                                  using system package; SPKG will not be installed
givaro-4.1.1:                                already installed as an SPKG
glpk-5.0.p0:                                 already installed as an SPKG
glucose-4.1:                                 does not support check for system package; optional, use "./configure --enable-glucose" to install
gmp-6.2.0:                                   using system package; SPKG will not be installed
gmpy2-2.1.0b5:                               does not support check for system package; will be installed as an SPKG
gp2c-0.0.10.p0:                              no suitable system package; optional, use "./configure --enable-gp2c" to install
graphs-20161026.p0:                          does not support check for system package; will be installed as an SPKG
graphviz-none:                               no suitable system package; optional, use "./configure --enable-graphviz" to install
gsl-2.6:                                     already installed as an SPKG
html5lib-1.0.1:                              does not support check for system package; will be installed as an SPKG
iconv-1.15:                                  using system package; SPKG will not be installed
igraph-0.8.3:                                no suitable system package; optional, use "./configure --enable-igraph" to install
imagesize-1.1.0:                             does not support check for system package; will be installed as an SPKG
iml-1.0.4p1.p2:                              already installed as an SPKG
importlib_metadata-1.7.0:                    does not support check for system package; will be installed as an SPKG
ipykernel-5.2.1:                             does not support check for system package; will be installed as an SPKG
ipython-7.16.1:                              does not support check for system package; will be installed as an SPKG
ipython_genutils-0.2.0:                      does not support check for system package; will be installed as an SPKG
ipywidgets-7.6.3:                            does not support check for system package; will be installed as an SPKG
isl-0.20:                                    using system package; SPKG will not be installed
jedi-0.17.2:                                 does not support check for system package; will be installed as an SPKG
jinja2-2.11.2:                               does not support check for system package; will be installed as an SPKG
jmol-14.29.52:                               does not support check for system package; will be installed as an SPKG
jsonschema-3.2.0:                            does not support check for system package; will be installed as an SPKG
jupymake-0.9:                                does not support check for system package; optional, use "./configure --enable-jupymake" to install
jupyter_client-6.1.6:                        does not support check for system package; will be installed as an SPKG
jupyter_core-4.6.3:                          does not support check for system package; will be installed as an SPKG
jupyter_jsmol-0.2.4:                         does not support check for system package; will be installed as an SPKG
jupyterlab-none:                             does not support check for system package; optional pip package; use "./sage -i jupyterlab" to install
jupyterlab_widgets-2.0:                      does not support check for system package; optional, use "./configure --enable-jupyterlab_widgets" to install
kenzo-1.1.9:                                 does not support check for system package; optional, use "./configure --enable-kenzo" to install
kiwisolver-1.0.1:                            does not support check for system package; will be installed as an SPKG
latte_int-1.7.5.p0:                          does not support check for system package; optional, use "./configure --enable-latte_int" to install
lcalc-1.23.p20:                              already installed as an SPKG
libatomic_ops-7.6.10:                        using system package; SPKG will not be installed
libbraiding-1.1:                             already installed as an SPKG
libffi-3.2.1:                                using system package; SPKG will not be installed
libgd-2.1.1.1.p1:                            already installed as an SPKG
libhomfly-1.02r6:                            already installed as an SPKG
libnauty-none:                               no suitable system package; optional, use "./configure --enable-libnauty" to install
libogg-1.3.1.p0:                             does not support check for system package; optional, use "./configure --enable-libogg" to install
libpng-1.6.29.p1:                            already installed as an SPKG
libsemigroups-1.0.9:                         no suitable system package; optional, use "./configure --enable-libsemigroups" to install
libtheora-1.1.1:                             does not support check for system package; experimental, use "./configure --enable-libtheora" to install
libxml2-none:                                using system package; SPKG will not be installed
lidia-2.3.0+latte-patches-2019-05-02:        does not support check for system package; optional, use "./configure --enable-lidia" to install
lie-2.2.2:                                   does not support check for system package; experimental, use "./configure --enable-lie" to install
linbox-1.6.3.p1:                             does not support check for system package; will be installed as an SPKG
lrcalc-1.2.p1:                               already installed as an SPKG
lrslib-062+autotools-2017-03-03.p1:          does not support check for system package; optional, use "./configure --enable-lrslib" to install
m4ri-20200115:                               already installed as an SPKG
m4rie-20200115:                              already installed as an SPKG
markupsafe-1.1.1:                            does not support check for system package; will be installed as an SPKG
mathjax-2.7.4.p0:                            does not support check for system package; will be installed as an SPKG
matplotlib-3.3.2:                            does not support check for system package; will be installed as an SPKG
maxima-5.44.0:                               does not support check for system package; will be installed as an SPKG
mcqd-1.0.p0:                                 does not support check for system package; optional, use "./configure --enable-mcqd" to install
meataxe-1.0.1:                               does not support check for system package; optional, use "./configure --enable-meataxe" to install
mistune-0.8.4:                               does not support check for system package; will be installed as an SPKG
modular_decomposition-20100607:              does not support check for system package; experimental, use "./configure --enable-modular_decomposition" to install
mpc-1.1.0:                                   using system package; SPKG will not be installed
mpfi-1.5.2:                                  using system package; SPKG will not be installed
mpfr-4.0.1.p0:                               using system package; SPKG will not be installed
mpfrcx-0.5:                                  does not support check for system package; optional, use "./configure --enable-mpfrcx" to install
mpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0:using system package; SPKG will not be installed
mpmath-1.1.0:                                does not support check for system package; will be installed as an SPKG
nauty-27r1.p1:                               already installed as an SPKG
nbconvert-5.6.1:                             does not support check for system package; will be installed as an SPKG
nbformat-5.0.7:                              does not support check for system package; will be installed as an SPKG
ncurses-6.0.p0:                              using system package; SPKG will not be installed
networkx-2.5:                                does not support check for system package; will be installed as an SPKG
nibabel-none:                                does not support check for system package; optional pip package; use "./sage -i nibabel" to install
ninja_build-1.8.2:                           using system package; SPKG will not be installed
nodeenv-none:                                does not support check for system package; optional pip package; use "./sage -i nodeenv" to install
nodejs-12.18.3:                              does not support check for system package; optional, use "./configure --enable-nodejs" to install
normaliz-3.8.9:                              does not support check for system package; optional, use "./configure --enable-normaliz" to install
nose-1.3.7:                                  does not support check for system package; will be installed as an SPKG
notebook-6.1.1:                              does not support check for system package; will be installed as an SPKG
notedown-1.5.1:                              does not support check for system package; optional, use "./configure --enable-notedown" to install
ntl-11.4.3:                                  already installed as an SPKG
numpy-1.19.4:                                does not support check for system package; will be installed as an SPKG
openblas-0.3.13:                             using system package; SPKG will not be installed
openssl-3.0.0-alpha12:                       using system package; SPKG will not be installed
ore_algebra-none:                            does not support check for system package; optional pip package; use "./sage -i ore_algebra" to install
p_group_cohomology-3.3.2:                    does not support check for system package; optional, use "./configure --enable-p_group_cohomology" to install
packaging-20.4:                              does not support check for system package; will be installed as an SPKG
palp-2.11:                                   already installed as an SPKG
pandoc-none:                                 no suitable system package; optional, use "./configure --enable-pandoc" to install
pandoc_attributes-8bc82f6d:                  does not support check for system package; optional, use "./configure --enable-pandoc_attributes" to install
pandocfilters-1.4.2:                         does not support check for system package; will be installed as an SPKG
pari-2.11.4.p1:                              already installed as an SPKG
pari_elldata-20161017:                       no suitable system package; optional, use "./configure --enable-pari_elldata" to install
pari_galdata-20080411.p0:                    already installed as an SPKG
pari_galpol-20180625:                        no suitable system package; optional, use "./configure --enable-pari_galpol" to install
pari_jupyter-1.3.2:                          does not support check for system package; optional, use "./configure --enable-pari_jupyter" to install
pari_nftables-20080929:                      no suitable system package; optional, use "./configure --enable-pari_nftables" to install
pari_seadata-20090618:                       no suitable system package; optional, use "./configure --enable-pari_seadata" to install
pari_seadata_small-20090618.p0:              already installed as an SPKG
parso-0.7.0:                                 does not support check for system package; will be installed as an SPKG
patch-2.7.5:                                 already installed as an SPKG
pcre-8.40.p2:                                using system package; SPKG will not be installed
perl_cpan_polymake_prereq-none:              no suitable system package; optional, use "./configure --enable-perl_cpan_polymake_prereq" to install
perl_term_readline_gnu-1.35:                 no suitable system package; experimental, use "./configure --enable-perl_term_readline_gnu" to install
pexpect-4.8.0:                               does not support check for system package; will be installed as an SPKG
pickleshare-0.7.5:                           does not support check for system package; will be installed as an SPKG
pillow-8.0.1:                                does not support check for system package; will be installed as an SPKG
pip-21.0.1:                                  does not support check for system package; will be installed as an SPKG
pip2pi-none:                                 does not support check for system package; optional pip package; use "./sage -i pip2pi" to install
pkgconf-0.9.7.p2:                            using system package; SPKG will not be installed
pkgconfig-1.5.1:                             does not support check for system package; will be installed as an SPKG
planarity-3.0.1.0:                           already installed as an SPKG
plantri-4.5:                                 does not support check for system package; optional, use "./configure --enable-plantri" to install
polylib-5.22.5:                              does not support check for system package; optional, use "./configure --enable-polylib" to install
polymake-3.4:                                does not support check for system package; experimental, use "./configure --enable-polymake" to install
polytopes_db-20170220.p0:                    does not support check for system package; will be installed as an SPKG
polytopes_db_4d-1.0:                         does not support check for system package; optional, use "./configure --enable-polytopes_db_4d" to install
ppl-1.2.p1:                                  already installed as an SPKG
pplpy-0.8.6:                                 does not support check for system package; will be installed as an SPKG
primecount-5.1:                              does not support check for system package; optional, use "./configure --enable-primecount" to install
prometheus_client-0.8.0:                     does not support check for system package; will be installed as an SPKG
prompt_toolkit-3.0.5:                        does not support check for system package; will be installed as an SPKG
psutil-5.2.0.p2:                             does not support check for system package; will be installed as an SPKG
ptyprocess-0.5.1.p0:                         does not support check for system package; will be installed as an SPKG
pybind11-2.6.0:                              does not support check for system package; will be installed as an SPKG
pybtex-none:                                 does not support check for system package; optional pip package; use "./sage -i pybtex" to install
pycosat-0.6.3:                               does not support check for system package; optional, use "./configure --enable-pycosat" to install
pycparser-2.20:                              does not support check for system package; will be installed as an SPKG
pycygwin-0.1:                                does not support check for system package; will be installed as an SPKG
pyflakes-none:                               does not support check for system package; optional pip package; use "./sage -i pyflakes" to install
pygments-2.3.1.p0:                           does not support check for system package; will be installed as an SPKG
pygraphviz-none:                             does not support check for system package; optional pip package; use "./sage -i pygraphviz" to install
pynac-0.7.27.p1:                             does not support check for system package; will be installed as an SPKG
pynormaliz-2.13:                             does not support check for system package; optional, use "./configure --enable-pynormaliz" to install
pyopenssl-none:                              does not support check for system package; optional pip package; use "./sage -i pyopenssl" to install
pyparsing-2.4.7:                             does not support check for system package; will be installed as an SPKG
pyrsistent-0.16.0:                           does not support check for system package; will be installed as an SPKG
pysingular-0.9.5:                            does not support check for system package; optional, use "./configure --enable-pysingular" to install
pytest-none:                                 does not support check for system package; optional pip package; use "./sage -i pytest" to install
python3-3.9.2:                               using system package; SPKG will not be installed
python_igraph-0.8.3:                         does not support check for system package; optional, use "./configure --enable-python_igraph" to install
pytz-2020.4:                                 does not support check for system package; will be installed as an SPKG
pyx-none:                                    does not support check for system package; optional pip package; use "./sage -i pyx" to install
pyzmq-19.0.2:                                does not support check for system package; will be installed as an SPKG
qepcad-B.1.72:                               does not support check for system package; experimental, use "./configure --enable-qepcad" to install
qhull-2015-src-7.2.0.p1:                     does not support check for system package; optional, use "./configure --enable-qhull" to install
r-3.6.3:                                     using system package; SPKG will not be installed
r_jupyter-none:                              does not support check for system package; optional, use "./configure --enable-r_jupyter" to install
ratpoints-2.1.3.p5:                          does not support check for system package; will be installed as an SPKG
readline-8.0:                                using system package; SPKG will not be installed
requests-2.13.0:                             does not support check for system package; will be installed as an SPKG
rpy2-3.3.6:                                  does not support check for system package; will be installed as an SPKG
rst2ipynb-0.2.2.p0:                          does not support check for system package; optional, use "./configure --enable-rst2ipynb" to install
rubiks-20070912.p21:                         does not support check for system package; optional, use "./configure --enable-rubiks" to install
rw-0.9:                                      already installed as an SPKG
saclib-2.2.7:                                does not support check for system package; optional, use "./configure --enable-saclib" to install
sage_conf-none:                              does not support check for system package; will be installed as an SPKG
sage_docbuild-9.3.beta9:                     does not support check for system package; will be installed as an SPKG
sage_flatsurf-none:                          does not support check for system package; optional pip package; use "./sage -i sage_flatsurf" to install
sage_numerical_backends_coin-9.0b12:         does not support check for system package; optional, use "./configure --enable-sage_numerical_backends_coin" to install
sage_numerical_backends_cplex-9.0b12:        does not support check for system package; optional, use "./configure --enable-sage_numerical_backends_cplex" to install
sage_numerical_backends_gurobi-9.0.0:        does not support check for system package; optional, use "./configure --enable-sage_numerical_backends_gurobi" to install
sage_sws2rst-none:                           does not support check for system package; optional, use "./configure --enable-sage_sws2rst" to install
sagelib-9.3.beta9:                           does not support check for system package; will be installed as an SPKG
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagemath_categories/type" is missing.  Leftovers from another branch?
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagemath_linbox/type" is missing.  Leftovers from another branch?
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagemath_objects/type" is missing.  Leftovers from another branch?
sagenb_export-3.3:                           does not support check for system package; will be installed as an SPKG
sagetex-3.5:                                 does not support check for system package; will be installed as an SPKG
scandir-1.9.0:                               does not support check for system package; will be installed as an SPKG
scikit_spatial-5.2.0:                        does not support check for system package; optional, use "./configure --enable-scikit_spatial" to install
scipoptsuite-5.0.1:                          does not support check for system package; experimental, use "./configure --enable-scipoptsuite" to install
scipy-1.5.4:                                 does not support check for system package; will be installed as an SPKG
send2trash-1.5.0:                            does not support check for system package; will be installed as an SPKG
setuptools-51.1.1:                           does not support check for system package; will be installed as an SPKG
setuptools_scm-5.0.1:                        does not support check for system package; will be installed as an SPKG
setuptools_wheel-51.1.1:                     does not support check for system package; will be installed as an SPKG
simplegeneric-0.8.1.p0:                      does not support check for system package; will be installed as an SPKG
singular-4.1.1p2.p0:                         does not support check for system package; will be installed as an SPKG
singular_jupyter-0.9.7:                      does not support check for system package; optional, use "./configure --enable-singular_jupyter" to install
sip-4.18:                                    does not support check for system package; optional, use "./configure --enable-sip" to install
sirocco-2.0.2:                               does not support check for system package; optional, use "./configure --enable-sirocco" to install
six-1.15.0:                                  does not support check for system package; will be installed as an SPKG
slabbe-none:                                 does not support check for system package; optional pip package; use "./sage -i slabbe" to install
snappy-none:                                 does not support check for system package; optional pip package; use "./sage -i snappy" to install
snowballstemmer-1.2.1.p0:                    does not support check for system package; will be installed as an SPKG
speaklater-1.3.p0:                           does not support check for system package; optional, use "./configure --enable-speaklater" to install
sphinx-3.1.2.p0:                             does not support check for system package; will be installed as an SPKG
sphinxcontrib_applehelp-1.0.2:               does not support check for system package; will be installed as an SPKG
sphinxcontrib_devhelp-1.0.2:                 does not support check for system package; will be installed as an SPKG
sphinxcontrib_htmlhelp-1.0.3:                does not support check for system package; will be installed as an SPKG
sphinxcontrib_jsmath-1.0.1:                  does not support check for system package; will be installed as an SPKG
sphinxcontrib_qthelp-1.0.3:                  does not support check for system package; will be installed as an SPKG
sphinxcontrib_serializinghtml-1.1.4:         does not support check for system package; will be installed as an SPKG
sphinxcontrib_websupport-1.2.1:              does not support check for system package; will be installed as an SPKG
sqlalchemy-none:                             does not support check for system package; optional pip package; use "./sage -i sqlalchemy" to install
sqlite-3290000:                              not required on your platform; SPKG will not be installed
suitesparse-5.6.0:                           already installed as an SPKG
surf-1.0.6-gcc6:                             does not support check for system package; experimental, use "./configure --enable-surf" to install
surface_dynamics-none:                       does not support check for system package; optional pip package; use "./sage -i surface_dynamics" to install
symengine-0.6.0:                             does not support check for system package; optional, use "./configure --enable-symengine" to install
symengine_py-0.6.1:                          does not support check for system package; optional, use "./configure --enable-symengine_py" to install
symmetrica-3.0.1:                            already installed as an SPKG
sympow-2.023.6:                              already installed as an SPKG
sympy-1.7:                                   does not support check for system package; will be installed as an SPKG
tachyon-0.98.9.p7:                           already installed as an SPKG
tdlib-0.3.1.p0:                              does not support check for system package; optional, use "./configure --enable-tdlib" to install
configure: WARNING: "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/termcap/type" is missing.  Leftovers from another branch?
terminado-0.8.3:                             does not support check for system package; will be installed as an SPKG
testpath-0.4.4:                              does not support check for system package; will be installed as an SPKG
texlive-none:                                does not support check for system package; optional, use "./configure --enable-texlive" to install
texttable-1.6.3:                             does not support check for system package; optional, use "./configure --enable-texttable" to install
thebe-9624e0a0.p0:                           does not support check for system package; will be installed as an SPKG
threejs-r122:                                does not support check for system package; will be installed as an SPKG
tides-2.0.p0:                                does not support check for system package; optional, use "./configure --enable-tides" to install
topcom-0.17.7:                               does not support check for system package; optional, use "./configure --enable-topcom" to install
tornado-6.0.4:                               does not support check for system package; will be installed as an SPKG
tox-none:                                    no suitable system package; optional pip package; use "./sage -i tox" to install
traitlets-4.3.3:                             does not support check for system package; will be installed as an SPKG
tzlocal-2.1:                                 does not support check for system package; will be installed as an SPKG
valgrind-3.14.0:                             does not support check for system package; experimental, use "./configure --enable-valgrind" to install
vcversioner-2.16.0.0.p0:                     does not support check for system package; will be installed as an SPKG
wcwidth-0.1.7.p0:                            does not support check for system package; will be installed as an SPKG
webencodings-0.5.1:                          does not support check for system package; will be installed as an SPKG
wheel-0.36.2:                                does not support check for system package; will be installed as an SPKG
widgetsnbextension-3.5.1.p0:                 does not support check for system package; will be installed as an SPKG
xz-5.2.2.p0:                                 using system package; SPKG will not be installed
yasm-1.3.0.p0:                               not required on your platform; SPKG will not be installed
zeromq-4.2.5:                                using system package; SPKG will not be installed
zipp-0.5.2:                                  does not support check for system package; will be installed as an SPKG
zlib-1.2.11.p0:                              using system package; SPKG will not be installed
zn_poly-0.9.2:                               already installed as an SPKG
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating build/make/Makefile-auto
config.status: creating build/make/Makefile
config.status: creating src/bin/sage-env-config
config.status: creating src/bin/sage-src-env-config
config.status: creating build/bin/sage-build-env-config
config.status: creating build/pkgs/sage_conf/src/sage_conf.py
config.status: creating build/pkgs/sage_conf/src/setup.cfg
config.status: executing depfiles commands
config.status: executing mkdirs commands
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/logs/pkgs
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local/bin
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local/etc
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local/include
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local/lib
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local/lib/pkgconfig
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local/share
config.status: creating directory /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macports-standard/local/var/lib/sage/installed
configure:

    notice: the following SPKGs did not find equivalent system packages:

        _recommended cbc coxeter3 gp2c graphviz igraph libnauty libsemigroups pandoc pari_elldata pari_galpol pari_nftables pari_seadata perl_cpan_polymake_prereq perl_term_readline_gnu tox
        
checking for the package system in use... macports
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):

      $ sudo port  install ffmpeg imagemagick texinfo graphviz igraph nauty pandoc p5-term-readline-gnu py-tox
    
    MacPorts does not provide unversioned gcc and gfortran executables by default
    To make gfortran available (and build with gcc from XCode), use:
    
      $ export FC=gfortran-mp-10
    
    Alternatively, to use gcc and gfortran from Macports, use:
    
      $ sudo  port select --set gcc mp-gcc10

    After installation, re-run configure using:

      $ ./config.status --recheck && ./config.status
                
make: `config.status' is up to date.
_____________________________________________________________________________ summary _____________________________________________________________________________
  local-macports-standard: commands succeeded
  congratulations :)
```



---

Comment by mkoeppe created at 2021-03-18 19:37:03

Replying to [comment:34 slelievre]:
> Is it a problem that MacPorts uses `gpatch` for `patch`?
Our scripts don't check for `gpatch`. It's a tiny package, no urgent action needed.


---

Comment by mkoeppe created at 2021-03-18 19:54:53

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-03-18 19:54:53

I'd say this is good enough. Thanks a lot for this work. Further refinements can be done in follow up tickets.
----
New commits:


---

Comment by git created at 2021-03-18 19:57:38

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by git created at 2021-03-18 19:57:38

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2021-03-18 19:57:54

(fixed up the merge)


---

Comment by mkoeppe created at 2021-03-18 19:57:54

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-03-18 20:10:32

Thanks!


---

Comment by vbraun created at 2021-03-20 15:27:37

Resolution: fixed


---

Comment by slelievre created at 2021-03-20 15:52:49

Thanks for merging!
