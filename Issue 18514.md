# Issue 18514: Add test if a matroid is ternary

Issue created by migration from https://trac.sagemath.org/ticket/18751

Original creator: Rudi

Original creation time: 2015-06-20 20:45:09

CC:  yomcat

There is a straightforward test to see if a matroid is ternary: generate the ternary representation local to a basis, and check matroid isomorphism. Implement this algorithm. See Matroid.is_binary(), ticket #18448.


---

Comment by Rudi created at 2015-06-20 20:47:38

New commits:


---

Comment by Rudi created at 2015-06-20 20:47:38

Set assignee to Rudi.


---

Comment by git created at 2015-06-20 20:57:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-21 10:08:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-21 10:58:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-22 07:36:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-22 14:53:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-22 15:07:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Rudi created at 2015-06-22 15:09:24

Changing status from new to needs_review.


---

Comment by Rudi created at 2015-06-22 15:09:24

All done as far as I can tell.


---

Comment by yomcat created at 2015-06-22 19:05:34

Two bits of extra whitespace, both in `linear_matroid.pyx`:

```
            :meth:`M.ternary_matroid() 
```

(this line, twice)


---

Comment by yomcat created at 2015-06-22 19:05:34

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-06-22 19:30:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Rudi created at 2015-06-22 19:32:43

Argh, I really thought they were all gone.

Needs review again.


---

Comment by Rudi created at 2015-06-22 19:32:43

Changing status from needs_work to needs_review.


---

Comment by yomcat created at 2015-06-23 06:25:34

Replying to [comment:13 Rudi]:
> Argh, I really thought they were all gone.
If you use `git trac review 18751` it gives you all of them highlighted with nasty red squares. For me at least.
> 
> Needs review again.
Happy with it. Just one question: If `M` is not ternary, then `M.ternary_matroid()` returns `None`, which appears to be a silent fail. Would an explicit error of some type be a better idea?


---

Comment by yomcat created at 2015-06-23 06:25:34

Changing status from needs_review to needs_info.


---

Comment by Rudi created at 2015-06-23 07:01:51

Replying to [comment:14 yomcat]:
> Replying to [comment:13 Rudi]:
> > Argh, I really thought they were all gone.
> If you use `git trac review 18751` it gives you all of them highlighted with nasty red squares. For me at least.
> > 
> > Needs review again.
> Happy with it. Just one question: If `M` is not ternary, then `M.ternary_matroid()` returns `None`, which appears to be a silent fail. Would an explicit error of some type be a better idea?

It's a matter of preference, I guess. Returning None is not a fail, it's giving information, and the docstring is quite explicit about that. If you are not certain if the matroid is ternary, you can test the output of ternary_matroid. This way, you can get the answer and the possible certificate in one fell swoop. If you just want to test, use is_ternary. Similarly, M.isomorphism(N) will also output None if the matroids are not isomorphic and is_isomorphic just performs the test. 

To me, raising errors is what you do when something abnormal occurs. It is not abnormal that a matroid is not ternary.


---

Comment by yomcat created at 2015-06-23 07:06:23

Fair enough. All good now.


---

Comment by yomcat created at 2015-06-23 07:06:23

Changing status from needs_info to positive_review.


---

Comment by tscrim created at 2015-06-23 07:18:24

Reviewer name.


---

Comment by Rudi created at 2015-06-23 07:19:36

Thanks for reviewing!


---

Comment by vbraun created at 2015-06-23 22:34:23

Resolution: fixed
