# Issue 17608: Clean up conjugacy classes

Issue created by migration from https://trac.sagemath.org/ticket/17845

Original creator: vdelecroix

Original creation time: 2015-02-23 22:32:17

CC:  tscrim vbraun jlopez

The method .conjugacy_class is defined in too much places:
 - `categories/finite_groups.py`
 - `groups/matrix_gps/group_element.py`
 - `groups/perm_gps/permgroup_element.pyx`
We move the basic definition on elements into the category of groups and on parents in the category of groups and `GroupMixinLibGAP`.

As a consequence much more groups beneficiate from the GAP implementation (e.g. Weyl groups).

We also implement the cardinality using `Size()` from GAP (the fallback is the useless `_cardinality_from_iterator`).


---

Comment by vdelecroix created at 2015-02-23 22:33:14

New commits:


---

Comment by vdelecroix created at 2015-02-23 22:33:14

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-02-24 10:23:52

Looks good, and all tests pass.

It also seems that right now, the `__contains__` method of `ConjugacyClass` calls `.set()`, even when the group is supported by GAP. 

The more I think about inheritance, the less I like it. It does hide a lot of things that should be reimplemented properly.

Nathann


---

Comment by ncohen created at 2015-02-24 10:23:52

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2015-02-24 10:36:23

Indeed, within GAP we have the magic `IsConjugate` stuff

```
gap> IsConjugate(SymmetricGroup(5),(1,2),(3,4));
true
```

I opened #17846 for that.


---

Comment by vdelecroix created at 2015-02-24 10:36:54

Replying to [comment:2 ncohen]:

> The more I think about inheritance, the less I like it. It does hide a lot of things that should be reimplemented properly.

Especially if the parent is completely useless ;-)


---

Comment by vbraun created at 2015-02-25 22:34:16

Resolution: fixed
