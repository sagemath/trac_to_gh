# Issue 20598: Systematic encoder for linear codes

archive/issues_020598.json:
```json
{
    "body": "CC:  jsrn cpernet\n\nThis ticket introduces a generic systematic encoder for linear codes.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20835\n\n",
    "created_at": "2016-06-16T13:34:15Z",
    "labels": [
        "coding theory",
        "major",
        "enhancement"
    ],
    "title": "Systematic encoder for linear codes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20598",
    "user": "dlucas"
}
```
CC:  jsrn cpernet

This ticket introduces a generic systematic encoder for linear codes.

Issue created by migration from https://trac.sagemath.org/ticket/20835





---

archive/issue_comments_284420.json:
```json
{
    "body": "I pushed the code, this ticket is now open for review.\n----\nNew commits:",
    "created_at": "2016-06-16T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284420",
    "user": "dlucas"
}
```

I pushed the code, this ticket is now open for review.
----
New commits:



---

archive/issue_comments_284421.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-16T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284421",
    "user": "dlucas"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_284422.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-17T12:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284422",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284423.json:
```json
{
    "body": "I made some changes to this ticket:\n\n- I simplified the output message of `_repr_` and `_latex_`. I also noticed other encoders in `linear_code.py` were outputting `Encoder blah for the Code blah`, while Sage convention is to write `Encoder blah for Code blah`. I fixed this as well.\n\n- I renamed `rank_profile_column_indices` into `systematic_positions`, and utterly simplified its implementation.\n\n- I also added details on the encoding, and what we call \"systematic form\" to the class docstring.\n\nThis is still open for review.",
    "created_at": "2016-06-17T12:57:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284423",
    "user": "dlucas"
}
```

I made some changes to this ticket:

- I simplified the output message of `_repr_` and `_latex_`. I also noticed other encoders in `linear_code.py` were outputting `Encoder blah for the Code blah`, while Sage convention is to write `Encoder blah for Code blah`. I fixed this as well.

- I renamed `rank_profile_column_indices` into `systematic_positions`, and utterly simplified its implementation.

- I also added details on the encoding, and what we call "systematic form" to the class docstring.

This is still open for review.



---

archive/issue_comments_284424.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-17T13:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284424",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284425.json:
```json
{
    "body": "As this ticket introduces a new generic encoder, I merged in #20840 and made the appropriate changes.\nIt now depends on #20840 and is still open for review (and I'm done pushing changes now `;)`)\n\nDavid",
    "created_at": "2016-06-17T13:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284425",
    "user": "dlucas"
}
```

As this ticket introduces a new generic encoder, I merged in #20840 and made the appropriate changes.
It now depends on #20840 and is still open for review (and I'm done pushing changes now `;)`)

David



---

archive/issue_comments_284426.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-29T11:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284426",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284427.json:
```json
{
    "body": "As `LinearCodeParityCheckEncoder` and `LinearCodeSystematicEncoder` were actually doing the same thing, I modified the latter so it now uses a parity check matrix when computing a generator matrix if it is the default encoder. I also deprecated the former.\nI also merged in latest version of #20840 and fixed conflicts.\n\nThis is open for review.\n\nDavid",
    "created_at": "2016-06-29T11:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284427",
    "user": "dlucas"
}
```

As `LinearCodeParityCheckEncoder` and `LinearCodeSystematicEncoder` were actually doing the same thing, I modified the latter so it now uses a parity check matrix when computing a generator matrix if it is the default encoder. I also deprecated the former.
I also merged in latest version of #20840 and fixed conflicts.

This is open for review.

David



---

archive/issue_comments_284428.json:
```json
{
    "body": "In `AbstractLinearCode.generator_matrix_systematic`, shouldn't the method call `AbstractLinearCode.encoder` in order to use a possible cached systematic encoder?\n\nAlso, perhaps this ticket is as good a place as any to rename that method into `systematic_generator_matrix` and deprecate the old name.\n\nBest,\nJohan",
    "created_at": "2016-08-02T13:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284428",
    "user": "jsrn"
}
```

In `AbstractLinearCode.generator_matrix_systematic`, shouldn't the method call `AbstractLinearCode.encoder` in order to use a possible cached systematic encoder?

Also, perhaps this ticket is as good a place as any to rename that method into `systematic_generator_matrix` and deprecate the old name.

Best,
Johan



---

archive/issue_comments_284429.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-03T07:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284429",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_284430.json:
```json
{
    "body": "Hello,\n\nI made the requested changes.\n\nDavid",
    "created_at": "2016-08-03T07:35:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284430",
    "user": "dlucas"
}
```

Hello,

I made the requested changes.

David



---

archive/issue_comments_284431.json:
```json
{
    "body": "Good job with the patch. I made a few improvements to the doc. I also added a\ncheck to avoid infinite recursion in case the user made a class with the systematic encoder as default encoder but forgot to override parity check matrix.\n\nIf you can accept my changes, please set the ticket to positive review.\nBest,\nJohan\n----\nNew commits:",
    "created_at": "2016-08-03T13:24:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284431",
    "user": "jsrn"
}
```

Good job with the patch. I made a few improvements to the doc. I also added a
check to avoid infinite recursion in case the user made a class with the systematic encoder as default encoder but forgot to override parity check matrix.

If you can accept my changes, please set the ticket to positive review.
Best,
Johan
----
New commits:



---

archive/issue_comments_284432.json:
```json
{
    "body": "Tests pass, documentation compiles and I accept your changes, I set this ticket to positive review.\n\nDavid",
    "created_at": "2016-08-03T13:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284432",
    "user": "dlucas"
}
```

Tests pass, documentation compiles and I accept your changes, I set this ticket to positive review.

David



---

archive/issue_comments_284433.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-03T13:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284433",
    "user": "dlucas"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_284434.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-07T20:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20598#issuecomment-284434",
    "user": "vbraun"
}
```

Resolution: fixed
