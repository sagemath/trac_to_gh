# Issue 14667: method blocks_and_cuts_tree of a graph

Issue created by migration from https://trac.sagemath.org/ticket/14871

Original creator: chapoton

Original creation time: 2013-07-09 14:58:45

Assignee: jason, ncohen, rlm

CC:  ncohen

Keywords: graph, tree

This ticket provides the blocks_and_cuts_tree of a graph.

This is easy to do using the existing blocks_and_cut_vertices method.


---

Comment by ncohen created at 2013-07-09 15:01:18

Hmmm.. What would you think of implementing this feature as an option to `blocks_and_cut_vertices` then ? It could be renamed to `blocks_and_cuts` and return what `blocks_and_cut_vertices` does, or your tree instead, depending on the flags ?

Nathann


---

Comment by chapoton created at 2013-07-09 15:06:49

I can do this if you prefer, sure. But will it really be simpler ? 

Gain : one method less

Loss : a more complicated method, with more parameters

I hesitate..


---

Comment by chapoton created at 2013-07-09 15:10:22

Changing status from new to needs_review.


---

Comment by ncohen created at 2013-07-09 15:23:05

Yeah, I know... Having two is simpler.

I just don't like it, and I don't have any good argument for it. Sorry for that `:-/`

Could you add some documentation saying what the tree actually returns ? I would have expected the output graph to be a block graph (http://en.wikipedia.org/wiki/Block_graph), i.e. the graph that you obtain from the input by adding an edge between any two vertices contained in the same block.

What you do makes sense, but it would be nice to say that the new graph has different vertices, some of which representing the blocks some other vertices from the graph.

I cannot see your code without thinking of 

```
sage: g = Graph(); 
sage: g.add_path([0,(1,2),1,2]);
sage: g.blocks_and_cuts_tree().is_tree()
False
```


I know it's a stupid use case... What do you think ?

Nathann


---

Comment by ncohen created at 2013-07-09 15:23:14

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2013-07-09 15:53:30

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2013-07-09 15:53:30

new patch with better doc. 

Do you think I should handle your code-breaking use-case ? I would rather keep the code simple.


---

Comment by ncohen created at 2013-07-09 16:23:13

> new patch with better doc. 

Thanks !

> Do you think I should handle your code-breaking use-case ? I would rather keep the code simple.

It would be nice indeed. What do you use this graph for, however ? Would the other definition of a "block tree" I gave above work for you ? It would be a way to avoid the problem, but if this tree does something you need that this other definition would not provide...

I also think that it would be better to have a simple code `^^;`

Nathann


---

Attachment

ok, here is a new patch.

I am not really *using* these trees in this way (attached to the block/cut decomposition  of graphs), but they have a role in what I am doing. And no other variant would be correct.


---

Comment by ncohen created at 2013-07-10 09:54:20

Hellooooooooo !!

> ok, here is a new patch.

Well, with these names for blocks and vertices we should be fine `:-)`

> I am not really *using* these trees in this way (attached to the block/cut decomposition  of graphs), but they have a role in what I am doing. And no other variant would be correct.

Okayy.. Anyway it is nice to be able to visualise this easily. And we will be able to change it eventually if we think of a better design.

`Thaaaaaaaaaaaaanks` !

Nathann


---

Comment by ncohen created at 2013-07-10 09:54:20

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2013-07-10 09:55:06

Argggggg... I just noticed that these two functions have nothing to do in generic_graph.py. They should be in graph.py `:-/`

Anyway. One of these days I really should go through all of them and move them where they belong `^^;`

Nathann


---

Comment by jdemeyer created at 2013-08-16 21:14:24

Resolution: fixed
