# Issue 24139: Upgrade notedown

archive/issues_024139.json:
```json
{
    "body": "CC:  @nthiery tmonteil\n\nThe current version of notedown does not work with the latest Jupyter notebook version:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/src/sage-config/local/bin/notedown\", line 11, in <module>\n    load_entry_point('notedown==1.5.0', 'console_scripts', 'notedown')()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 561, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2631, in load_entry_point\n    return ep.load()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2291, in load\n    return self.resolve()\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2297, in resolve\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/notedown/__init__.py\", line 8, in <module>\n    from .contentsmanager import NotedownContentsManager\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/notedown/contentsmanager.py\", line 8, in <module>\n    from notebook.services.contents.filemanager import FileContentsManager\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/notebook/services/contents/filemanager.py\", line 21, in <module>\n    from .manager import ContentsManager\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/notebook/services/contents/manager.py\", line 38, in <module>\n    class ContentsManager(LoggingConfigurable):\n  File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/notebook/services/contents/manager.py\", line 70, in ContentsManager\n    untitled_notebook = Unicode(_(\"Untitled\"), config=True,\nNameError: name '_' is not defined\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/24376\n\n",
    "created_at": "2017-12-14T14:27:20Z",
    "labels": [
        "packages: optional",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Upgrade notedown",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24139",
    "user": "@jdemeyer"
}
```
CC:  @nthiery tmonteil

The current version of notedown does not work with the latest Jupyter notebook version:

```
Traceback (most recent call last):
  File "/usr/local/src/sage-config/local/bin/notedown", line 11, in <module>
    load_entry_point('notedown==1.5.0', 'console_scripts', 'notedown')()
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 561, in load_entry_point
    return get_distribution(dist).load_entry_point(group, name)
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2631, in load_entry_point
    return ep.load()
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2291, in load
    return self.resolve()
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 2297, in resolve
    module = __import__(self.module_name, fromlist=['__name__'], level=0)
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/notedown/__init__.py", line 8, in <module>
    from .contentsmanager import NotedownContentsManager
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/notedown/contentsmanager.py", line 8, in <module>
    from notebook.services.contents.filemanager import FileContentsManager
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/notebook/services/contents/filemanager.py", line 21, in <module>
    from .manager import ContentsManager
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/notebook/services/contents/manager.py", line 38, in <module>
    class ContentsManager(LoggingConfigurable):
  File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/notebook/services/contents/manager.py", line 70, in ContentsManager
    untitled_notebook = Unicode(_("Untitled"), config=True,
NameError: name '_' is not defined
```


Issue created by migration from https://trac.sagemath.org/ticket/24376





---

archive/issue_comments_338369.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-12-14T14:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24139#issuecomment-338369",
    "user": "@jdemeyer"
}
```

New commits:



---

archive/issue_comments_338370.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-12-14T14:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24139#issuecomment-338370",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_338371.json:
```json
{
    "body": "Checked that `rst2ipynb`, works correctly with it.",
    "created_at": "2017-12-17T18:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24139#issuecomment-338371",
    "user": "tmonteil"
}
```

Checked that `rst2ipynb`, works correctly with it.



---

archive/issue_comments_338372.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-12-17T18:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24139#issuecomment-338372",
    "user": "tmonteil"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_338373.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-22T23:29:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24139#issuecomment-338373",
    "user": "@vbraun"
}
```

Resolution: fixed
