# Issue 18820: Upgrade R to 3.2.1

archive/issues_018583.json:
```json
{
    "body": "This minor update (mostly bugfixes) deserves admission in R in order to be able to get support on R-help.\n\nOriginal tarball [here](http://cran.r-project.org/src/base/R-3/R-3.2.1.tar.gz) (too fat to be attached).\n\nKeywords: r-project\n\nBranch/Commit: b46fa1a5b3d462e89223e0cdf37d84c67d483e35\n\nReviewer: Nathann Cohen\n\nAuthor: Emmanuel Charpentier\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18820\n\n",
    "closed_at": "2015-07-02T20:09:17Z",
    "created_at": "2015-06-30T05:32:20Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Upgrade R to 3.2.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18820",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
This minor update (mostly bugfixes) deserves admission in R in order to be able to get support on R-help.

Original tarball [here](http://cran.r-project.org/src/base/R-3/R-3.2.1.tar.gz) (too fat to be attached).

Keywords: r-project

Branch/Commit: b46fa1a5b3d462e89223e0cdf37d84c67d483e35

Reviewer: Nathann Cohen

Author: Emmanuel Charpentier

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18820





---

archive/issue_comments_327609.json:
```json
{
    "body": "Changing branch from \"\" to \"u/charpent/upgrade_r_to_3_2_1\"",
    "created_at": "2015-06-30T06:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327609",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing branch from "" to "u/charpent/upgrade_r_to_3_2_1"



---

archive/issue_comments_327610.json:
```json
{
    "body": "<a id='comment:2'></a>\nUsed the new convention allowing capitalized tarball names.\n\nPasses ptestlong on Debian testing.",
    "created_at": "2015-06-30T06:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327610",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:2'></a>
Used the new convention allowing capitalized tarball names.

Passes ptestlong on Debian testing.



---

archive/issue_comments_327611.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-30T06:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327611",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_327612.json:
```json
{
    "body": "Changing commit from \"\" to \"9a9c4ccd78dda128da41df76089fb87462a870a4\"",
    "created_at": "2015-06-30T06:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327612",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing commit from "" to "9a9c4ccd78dda128da41df76089fb87462a870a4"



---

archive/issue_comments_327613.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This minor update deserves admission in R in order to be able to get support on R-help.\n+This minor update (mostly bugfixes) deserves admission in R in order to be able to get support on R-help.\n``````\n",
    "created_at": "2015-06-30T06:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327613",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-This minor update deserves admission in R in order to be able to get support on R-help.
+This minor update (mostly bugfixes) deserves admission in R in order to be able to get support on R-help.
``````




---

archive/issue_comments_327614.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-06-30T07:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327614",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_327615.json:
```json
{
    "body": "<a id='comment:3'></a>\nWhere is the tarball?...",
    "created_at": "2015-06-30T07:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327615",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
Where is the tarball?...



---

archive/issue_comments_327616.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-06-30T08:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327616",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_327617.json:
```json
{
    "body": "<a id='comment:4'></a>\n<Wups !> Forgot the (link to) the tarball... Fixed.",
    "created_at": "2015-06-30T08:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327617",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:4'></a>
<Wups !> Forgot the (link to) the tarball... Fixed.



---

archive/issue_comments_327618.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n This minor update (mostly bugfixes) deserves admission in R in order to be able to get support on R-help.\n+\n+Original tarball [here](http://cran.r-project.org/src/base/R-3/R-3.2.1.tar.gz) (too fat to be attached).\n``````\n",
    "created_at": "2015-06-30T08:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327618",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 This minor update (mostly bugfixes) deserves admission in R in order to be able to get support on R-help.
+
+Original tarball [here](http://cran.r-project.org/src/base/R-3/R-3.2.1.tar.gz) (too fat to be attached).
``````




---

archive/issue_comments_327619.json:
```json
{
    "body": "<a id='comment:5'></a>\nWhy did you remove the `spkg-src` file?",
    "created_at": "2015-06-30T10:04:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327619",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
Why did you remove the `spkg-src` file?



---

archive/issue_comments_327620.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [ncohen](#comment%3A5):\n\nDear Nathaan,\n\n> Why did you remove the `spkg-src` file?\n\n\nYou advised (see #16711 about upgrade to 3.1.1) adding this file to document the renaming of the tarball (from R-x-y-z.tar.gz to r-x-y-z.tar.gz), needed by the then-current convention of all-lowercase tarball names.\n\nSince this convention has been obsoleted (see #18229 for the previous upgrade to 3.2.0), this renaming is no longer necessary and one can use the original tarball. There is nothing to document. Since, according to [the developer's guide](http://doc.sagemath.org/html/en/developer/packaging.html), this file is optional, it becomes superfluous. QED.\n\nDo you advise keeping a no-op `spkg-src` ?",
    "created_at": "2015-06-30T10:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327620",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:6'></a>
Replying to [ncohen](#comment%3A5):

Dear Nathaan,

> Why did you remove the `spkg-src` file?


You advised (see #16711 about upgrade to 3.1.1) adding this file to document the renaming of the tarball (from R-x-y-z.tar.gz to r-x-y-z.tar.gz), needed by the then-current convention of all-lowercase tarball names.

Since this convention has been obsoleted (see #18229 for the previous upgrade to 3.2.0), this renaming is no longer necessary and one can use the original tarball. There is nothing to document. Since, according to [the developer's guide](http://doc.sagemath.org/html/en/developer/packaging.html), this file is optional, it becomes superfluous. QED.

Do you advise keeping a no-op `spkg-src` ?



---

archive/issue_comments_327621.json:
```json
{
    "body": "<a id='comment:7'></a>\nHellooooooo,\n\n> You advised (see #16711 about upgrade to 3.1.1) adding this file to document the renaming of the tarball (from R-x-y-z.tar.gz to r-x-y-z.tar.gz), needed by the then-current convention of all-lowercase tarball names.\n\n\nA `spkg-src` file to document a renaming? Why? `O_o`\n\n> Do you advise keeping a no-op `spkg-src` ?\n\n\nNo. I advise to keep a file that re-builds the archive from network ressources only. Then it becomes easier to check that the archive's content is what it should be. I do not see anything wrong with a script that downloads a distant file (whose url is generated from the locally stored version number), and does nothing else to it if there is nothing else to do.\n\nActually, I will try to solve this once and for all. I'll write some 'sage --sanity-check-package whatever' that uses whatever's spkg-src script (if any), and checks whether the content of the file in `upstream/` matches it.\n\nThis way, checking that the archive is legit will only be a call to 'sanity-check'. In this setting, your spkg-src, even though it just downloads something, will be useful.\n\nNathann",
    "created_at": "2015-06-30T10:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327621",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Hellooooooo,

> You advised (see #16711 about upgrade to 3.1.1) adding this file to document the renaming of the tarball (from R-x-y-z.tar.gz to r-x-y-z.tar.gz), needed by the then-current convention of all-lowercase tarball names.


A `spkg-src` file to document a renaming? Why? `O_o`

> Do you advise keeping a no-op `spkg-src` ?


No. I advise to keep a file that re-builds the archive from network ressources only. Then it becomes easier to check that the archive's content is what it should be. I do not see anything wrong with a script that downloads a distant file (whose url is generated from the locally stored version number), and does nothing else to it if there is nothing else to do.

Actually, I will try to solve this once and for all. I'll write some 'sage --sanity-check-package whatever' that uses whatever's spkg-src script (if any), and checks whether the content of the file in `upstream/` matches it.

This way, checking that the archive is legit will only be a call to 'sanity-check'. In this setting, your spkg-src, even though it just downloads something, will be useful.

Nathann



---

archive/issue_comments_327622.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [ncohen](#comment%3A7):\n> Hellooooooo,\n> \n> > You advised (see #16711 about upgrade to 3.1.1) adding this file to document the renaming of the tarball (from R-x-y-z.tar.gz to r-x-y-z.tar.gz), needed by the then-current convention of all-lowercase tarball names.\n\n> \n> A `spkg-src` file to document a renaming? Why? `O_o`\n> \n> > Do you advise keeping a no-op `spkg-src` ?\n\n> \n> No. I advise to keep a file that re-builds the archive from network ressources only.\n\n\nPlease don't do that (unless you have a solid reason to do so) : some firewall setup do exceedingly annoying thing to network downloads. The recent \"enhancement\" to downloads that tries to select the closest/fastest mirror left me with an unupdateable tree (and, yes, this machines lives behind a \"corporate-style\" fascist firewall, run by incompetents...). I didn't yet had time to figure out how to unwedge it in order to test your (and vbraun's) solution)....\n\n> Then it becomes easier to check that the archive's content is what it should be. I do not see anything wrong with a script that downloads a distant file (whose url is generated from the locally stored version number), and does nothing else to it if there is nothing else to do.\n> \n> Actually, I will try to solve this once and for all. I'll write some 'sage --sanity-check-package whatever' that uses whatever's spkg-src script (if any), and checks whether the content of the file in `upstream/` matches it.\n> \n> This way, checking that the archive is legit will only be a call to 'sanity-check'. In this setting, your spkg-src, even though it just downloads something, will be useful.\n\n\nAgain, ponder what you're planning. Im currently in a hell paved of yur good intentins.\n\nWhatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !",
    "created_at": "2015-06-30T12:34:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327622",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:8'></a>
Replying to [ncohen](#comment%3A7):
> Hellooooooo,
> 
> > You advised (see #16711 about upgrade to 3.1.1) adding this file to document the renaming of the tarball (from R-x-y-z.tar.gz to r-x-y-z.tar.gz), needed by the then-current convention of all-lowercase tarball names.

> 
> A `spkg-src` file to document a renaming? Why? `O_o`
> 
> > Do you advise keeping a no-op `spkg-src` ?

> 
> No. I advise to keep a file that re-builds the archive from network ressources only.


Please don't do that (unless you have a solid reason to do so) : some firewall setup do exceedingly annoying thing to network downloads. The recent "enhancement" to downloads that tries to select the closest/fastest mirror left me with an unupdateable tree (and, yes, this machines lives behind a "corporate-style" fascist firewall, run by incompetents...). I didn't yet had time to figure out how to unwedge it in order to test your (and vbraun's) solution)....

> Then it becomes easier to check that the archive's content is what it should be. I do not see anything wrong with a script that downloads a distant file (whose url is generated from the locally stored version number), and does nothing else to it if there is nothing else to do.
> 
> Actually, I will try to solve this once and for all. I'll write some 'sage --sanity-check-package whatever' that uses whatever's spkg-src script (if any), and checks whether the content of the file in `upstream/` matches it.
> 
> This way, checking that the archive is legit will only be a call to 'sanity-check'. In this setting, your spkg-src, even though it just downloads something, will be useful.


Again, ponder what you're planning. Im currently in a hell paved of yur good intentins.

Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !



---

archive/issue_comments_327623.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-30T12:40:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327623",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_327624.json:
```json
{
    "body": "<a id='comment:9'></a>\n> Please don't do that (unless you have a solid reason to do so) : some firewall setup do exceedingly annoying thing to network downloads.\n\n\nHow are the two connected? Nobody will be forced to run the script I just wrote.\n\n> Again, ponder what you're planning. Im currently in a hell paved of yur good intentins.\n> \n> Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !\n\n\nI had no intention to do it here. I was about to mail to sage-devel, as this is a much larger change. What I will do here, however, is ask you to not remove the spkg-src script.\n\nNathann",
    "created_at": "2015-06-30T12:40:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327624",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
> Please don't do that (unless you have a solid reason to do so) : some firewall setup do exceedingly annoying thing to network downloads.


How are the two connected? Nobody will be forced to run the script I just wrote.

> Again, ponder what you're planning. Im currently in a hell paved of yur good intentins.
> 
> Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !


I had no intention to do it here. I was about to mail to sage-devel, as this is a much larger change. What I will do here, however, is ask you to not remove the spkg-src script.

Nathann



---

archive/issue_comments_327625.json:
```json
{
    "body": "<a id='comment:10'></a>\n> > Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !\n\n\nPlease provide the list of the other tickets that you think I hijacked.\n\nNathann",
    "created_at": "2015-06-30T12:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327625",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
> > Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !


Please provide the list of the other tickets that you think I hijacked.

Nathann



---

archive/issue_comments_327626.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [ncohen](#comment%3A10):\n> > > Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !\n\n> \n> Please provide the list of the other tickets that you think I hijacked.\n\n\nWhoa ! I didn't say **YOU** hijacked them. Apologies for loose redaction. \n\nI said that R upgrades (which should be very plain vanilla affairs) seem to attract delays from unrelated issues. From memory (not real time to dig them out)\n\n- Upgrade to 3.2.0 was hijacked by the lowercase-tarball-convention reversing\n\n- A couple of versions before, hijacking for cygnus-building issues\n\n- [ I don't have the exact third issue on hand nor on memory, but I know that the Cignus-related one wasn't the first. I'll have to look with a bit more time ]\n\nSo your use of a previously unused spkg-src file would have been the fourth time...\n\nEmmanuel Charpentier",
    "created_at": "2015-06-30T13:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327626",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:11'></a>
Replying to [ncohen](#comment%3A10):
> > > Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !

> 
> Please provide the list of the other tickets that you think I hijacked.


Whoa ! I didn't say **YOU** hijacked them. Apologies for loose redaction. 

I said that R upgrades (which should be very plain vanilla affairs) seem to attract delays from unrelated issues. From memory (not real time to dig them out)

- Upgrade to 3.2.0 was hijacked by the lowercase-tarball-convention reversing

- A couple of versions before, hijacking for cygnus-building issues

- [ I don't have the exact third issue on hand nor on memory, but I know that the Cignus-related one wasn't the first. I'll have to look with a bit more time ]

So your use of a previously unused spkg-src file would have been the fourth time...

Emmanuel Charpentier



---

archive/issue_comments_327627.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [ncohen](#comment%3A9):\n> > Please don't do that (unless you have a solid reason to do so) : some firewall setup do exceedingly annoying thing to network downloads.\n\n> \n> How are the two connected? Nobody will be forced to run the script I just wrote.\n> \n> > Again, ponder what you're planning. Im currently in a hell paved of yur good intentins.\n> > \n> > Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !\n\n> \n> I had no intention to do it here. I was about to mail to sage-devel, as this is a much larger change. What I will do here, however, is ask you to not remove the spkg-src script.\n\n\nOkay. I'll post a new commit tonight (can't do that now : I'm at work, and I prepare tickets on a home machine).\n\nI intend to discuss your proposal seriously : it entails creating a spkg-src file for **all** packages, thus making it mandatory. And making mandatory the use of a functional Internet connection for any installation/update. No more updates for an isolated/firewalled machine...\n\nAnd since we pay this price, it should be logical to limit Sage tarballs to a very bare minimum of sage-specific files and patches.\n\nI'm not sure that's where we should go... But this is the subject of your proposal-to-be, that will be discussed on its ticket.",
    "created_at": "2015-06-30T13:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327627",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:12'></a>
Replying to [ncohen](#comment%3A9):
> > Please don't do that (unless you have a solid reason to do so) : some firewall setup do exceedingly annoying thing to network downloads.

> 
> How are the two connected? Nobody will be forced to run the script I just wrote.
> 
> > Again, ponder what you're planning. Im currently in a hell paved of yur good intentins.
> > 
> > Whatever you decide to do, could you please open a SEPARATE ticket, instead of hijacking this innocent R upgrade YET AGAIN (that would be the fourth time...) ? Thanks in advance !

> 
> I had no intention to do it here. I was about to mail to sage-devel, as this is a much larger change. What I will do here, however, is ask you to not remove the spkg-src script.


Okay. I'll post a new commit tonight (can't do that now : I'm at work, and I prepare tickets on a home machine).

I intend to discuss your proposal seriously : it entails creating a spkg-src file for **all** packages, thus making it mandatory. And making mandatory the use of a functional Internet connection for any installation/update. No more updates for an isolated/firewalled machine...

And since we pay this price, it should be logical to limit Sage tarballs to a very bare minimum of sage-specific files and patches.

I'm not sure that's where we should go... But this is the subject of your proposal-to-be, that will be discussed on its ticket.



---

archive/issue_comments_327628.json:
```json
{
    "body": "<a id='comment:13'></a>\n> Whoa ! I didn't say **YOU** hijacked them. Apologies for loose redaction. \n\n\nOh. I did misread it a bit too, apparently. Sorry.\n\nNathann",
    "created_at": "2015-06-30T13:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327628",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
> Whoa ! I didn't say **YOU** hijacked them. Apologies for loose redaction. 


Oh. I did misread it a bit too, apparently. Sorry.

Nathann



---

archive/issue_comments_327629.json:
```json
{
    "body": "<a id='comment:14'></a>\n> I intend to discuss your proposal seriously : it entails creating a spkg-src file for **all** packages, thus making it mandatory. And making mandatory the use of a functional Internet connection for any installation/update. No more updates for an isolated/firewalled machine...\n\n\nNonono, it is much more innocent than that. I just want to have some script that reviewers can run whenever they review a package, to make sure everything is fine. I don't plan to make it automatic at all. Just a helper code for reviewers.\n\n> And since we pay this price, it should be logical to limit Sage tarballs to a very bare minimum of sage-specific files and patches.\n\n\nIt would help with that, for sure. There have been recent complaints about how we sometimes change upstream's package, and how it is not always said explicitly.\n\n> I'm not sure that's where we should go... But this is the subject of your proposal-to-be, that will be discussed on its ticket.\n\n\nOn #18826, right.\n\nNathann",
    "created_at": "2015-06-30T13:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327629",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
> I intend to discuss your proposal seriously : it entails creating a spkg-src file for **all** packages, thus making it mandatory. And making mandatory the use of a functional Internet connection for any installation/update. No more updates for an isolated/firewalled machine...


Nonono, it is much more innocent than that. I just want to have some script that reviewers can run whenever they review a package, to make sure everything is fine. I don't plan to make it automatic at all. Just a helper code for reviewers.

> And since we pay this price, it should be logical to limit Sage tarballs to a very bare minimum of sage-specific files and patches.


It would help with that, for sure. There have been recent complaints about how we sometimes change upstream's package, and how it is not always said explicitly.

> I'm not sure that's where we should go... But this is the subject of your proposal-to-be, that will be discussed on its ticket.


On #18826, right.

Nathann



---

archive/issue_comments_327630.json:
```json
{
    "body": "Changing commit from \"9a9c4ccd78dda128da41df76089fb87462a870a4\" to \"769fc49bba2c1508cc61df75d91f4ea9c7214965\"",
    "created_at": "2015-06-30T19:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327630",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9a9c4ccd78dda128da41df76089fb87462a870a4" to "769fc49bba2c1508cc61df75d91f4ea9c7214965"



---

archive/issue_comments_327631.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[769fc49](https://github.com/sagemath/sagetrac-mirror/commit/769fc49bba2c1508cc61df75d91f4ea9c7214965)|`Restored spkg-src.`|",
    "created_at": "2015-06-30T19:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327631",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[769fc49](https://github.com/sagemath/sagetrac-mirror/commit/769fc49bba2c1508cc61df75d91f4ea9c7214965)|`Restored spkg-src.`|



---

archive/issue_comments_327632.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-30T19:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327632",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_327633.json:
```json
{
    "body": "<a id='comment:16'></a>\nNathaan,\n\nVoluntatem tuam satisfeci. Hoc super caput tuum requiet.\n\nEmmanuel Charpentier",
    "created_at": "2015-06-30T19:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327633",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:16'></a>
Nathaan,

Voluntatem tuam satisfeci. Hoc super caput tuum requiet.

Emmanuel Charpentier



---

archive/issue_comments_327634.json:
```json
{
    "body": "<a id='comment:17'></a>\nHello again,\n\nIn its new version, your branch removes *one* line from the spkg-src. It is not that I care much about this line, but rather that the next one has absolutely no meaning: you removed the instruction that moves the archive to upstream/, but left the one which updates the pacakges' checksums using the information from upstream/.\n\nCould you sort this out (in the way that you prefer)? You can then set this ticket to `positive_review`.\n\nTHaaaaaaaaaanks,\n\nNathann",
    "created_at": "2015-07-01T08:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327634",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>
Hello again,

In its new version, your branch removes *one* line from the spkg-src. It is not that I care much about this line, but rather that the next one has absolutely no meaning: you removed the instruction that moves the archive to upstream/, but left the one which updates the pacakges' checksums using the information from upstream/.

Could you sort this out (in the way that you prefer)? You can then set this ticket to `positive_review`.

THaaaaaaaaaanks,

Nathann



---

archive/issue_comments_327635.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nathann Cohen\"",
    "created_at": "2015-07-01T08:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327635",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Nathann Cohen"



---

archive/issue_comments_327636.json:
```json
{
    "body": "<a id='comment:19'></a>\nGiven that you're not actually *using* the `spkg-src` script, why don't you just remove it?",
    "created_at": "2015-07-01T09:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327636",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
Given that you're not actually *using* the `spkg-src` script, why don't you just remove it?



---

archive/issue_comments_327637.json:
```json
{
    "body": "<a id='comment:20'></a>\n> Given that you're not actually *using* the `spkg-src` script, why don't you just remove it?\n\n\nHe did, and I asked him not to. You can tell from the history of this ticket.\n\nI asked him to keep that file in, because we may need it if we end up using #18826.\n\nNathann",
    "created_at": "2015-07-01T09:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327637",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
> Given that you're not actually *using* the `spkg-src` script, why don't you just remove it?


He did, and I asked him not to. You can tell from the history of this ticket.

I asked him to keep that file in, because we may need it if we end up using #18826.

Nathann



---

archive/issue_comments_327638.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[b46fa1a](https://github.com/sagemath/sagetrac-mirror/commit/b46fa1a5b3d462e89223e0cdf37d84c67d483e35)|`Restored ORIGINAL non-functional spkg-src as par Nathaann Cohen's request.`|",
    "created_at": "2015-07-01T13:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[b46fa1a](https://github.com/sagemath/sagetrac-mirror/commit/b46fa1a5b3d462e89223e0cdf37d84c67d483e35)|`Restored ORIGINAL non-functional spkg-src as par Nathaann Cohen's request.`|



---

archive/issue_comments_327639.json:
```json
{
    "body": "Changing commit from \"769fc49bba2c1508cc61df75d91f4ea9c7214965\" to \"b46fa1a5b3d462e89223e0cdf37d84c67d483e35\"",
    "created_at": "2015-07-01T13:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "769fc49bba2c1508cc61df75d91f4ea9c7214965" to "b46fa1a5b3d462e89223e0cdf37d84c67d483e35"



---

archive/issue_comments_327640.json:
```json
{
    "body": "<a id='comment:22'></a>\nHey hey...\n\nIt's not exactly what \"Could you sort this out (in the way that you prefer)\" means.\n\nNathann",
    "created_at": "2015-07-01T13:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327640",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>
Hey hey...

It's not exactly what "Could you sort this out (in the way that you prefer)" means.

Nathann



---

archive/issue_comments_327641.json:
```json
{
    "body": "<a id='comment:23'></a>\nThis `spkg-src` does not produce the tarball in the ticket description.",
    "created_at": "2015-07-01T13:23:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327641",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
This `spkg-src` does not produce the tarball in the ticket description.



---

archive/issue_comments_327642.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-07-01T13:23:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327642",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_327643.json:
```json
{
    "body": "<a id='comment:24'></a>\n..............\n\nWhat exactly are you trying to achieve, Jeroen ? Let this ticket go, he just wants to upgrade his package and his ticket does the job. His branch does not even touch the spkg-src file. Since when can a reviewer block a ticket like that?\n\nNathann",
    "created_at": "2015-07-01T13:25:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327643",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
..............

What exactly are you trying to achieve, Jeroen ? Let this ticket go, he just wants to upgrade his package and his ticket does the job. His branch does not even touch the spkg-src file. Since when can a reviewer block a ticket like that?

Nathann



---

archive/issue_comments_327644.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-07-01T13:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327644",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_327645.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [ncohen](#comment%3A24):\n> His branch does not even touch the spkg-src file.\n\nRight...",
    "created_at": "2015-07-01T13:28:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327645",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Replying to [ncohen](#comment%3A24):
> His branch does not even touch the spkg-src file.

Right...



---

archive/issue_comments_327646.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [ncohen](#comment%3A22):\n> Hey hey...\n> \n> It's not exactly what \"Could you sort this out (in the way that you prefer)\" means.\n\n\nSorry, Nathaan, sorry, Jeroen. I'm still running //Homo Sapiens Sapiens// version 1.0 : no telepathic interface. I do **not** understand nor guess what you two ghouls want.\n\nPlease feel free to do it yourself (if you can manage to agree on something...). I might review it.\n\nEmmanuel Charpentier",
    "created_at": "2015-07-01T13:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327646",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:27'></a>
Replying to [ncohen](#comment%3A22):
> Hey hey...
> 
> It's not exactly what "Could you sort this out (in the way that you prefer)" means.


Sorry, Nathaan, sorry, Jeroen. I'm still running //Homo Sapiens Sapiens// version 1.0 : no telepathic interface. I do **not** understand nor guess what you two ghouls want.

Please feel free to do it yourself (if you can manage to agree on something...). I might review it.

Emmanuel Charpentier



---

archive/issue_comments_327647.json:
```json
{
    "body": "<a id='comment:28'></a>\n> > It's not exactly what \"Could you sort this out (in the way that you prefer)\" means.\n\n> \n> Sorry, Nathaan, sorry, Jeroen. I'm still running //Homo Sapiens Sapiens// version 1.0 : no telepathic interface. I do **not** understand nor guess what you two ghouls want.\n\n\nMy message was not clear: I was answering to your commit message. The commit is fine. Your commit message is \"Restored ORIGINAL non-functional spkg-src as par Nathaann Cohen's request\", which seemed a bit more abrupt than my previous \"in the way that you prefer\".\n\nThe branch is fine, I thank you for doing this last modifications, and I am sorry that we don't seem able in this community to sort this all out while preserving a light mood.\n\nYour branch is okay, and does the job. We will probably rewrite the spkg-src script later anyway, if #18826 ends up being merged.\n\nNathann",
    "created_at": "2015-07-01T13:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327647",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
> > It's not exactly what "Could you sort this out (in the way that you prefer)" means.

> 
> Sorry, Nathaan, sorry, Jeroen. I'm still running //Homo Sapiens Sapiens// version 1.0 : no telepathic interface. I do **not** understand nor guess what you two ghouls want.


My message was not clear: I was answering to your commit message. The commit is fine. Your commit message is "Restored ORIGINAL non-functional spkg-src as par Nathaann Cohen's request", which seemed a bit more abrupt than my previous "in the way that you prefer".

The branch is fine, I thank you for doing this last modifications, and I am sorry that we don't seem able in this community to sort this all out while preserving a light mood.

Your branch is okay, and does the job. We will probably rewrite the spkg-src script later anyway, if #18826 ends up being merged.

Nathann



---

archive/issue_comments_327648.json:
```json
{
    "body": "Changing branch from \"u/charpent/upgrade_r_to_3_2_1\" to \"b46fa1a5b3d462e89223e0cdf37d84c67d483e35\"",
    "created_at": "2015-07-02T20:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327648",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/charpent/upgrade_r_to_3_2_1" to "b46fa1a5b3d462e89223e0cdf37d84c67d483e35"



---

archive/issue_comments_327649.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-07-02T20:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18820#issuecomment-327649",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_067606.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-02T20:09:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18820",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18820#event-67606"
}
```
