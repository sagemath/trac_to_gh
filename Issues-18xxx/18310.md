# Issue 18310: Finite dimensional modules with basis: improved conversions to vectors and matrices

archive/issues_018073.json:
```json
{
    "assignees": [],
    "body": "This ticket:\n\n- Implements the option `sparse` for `CombinatorialFreeModule.Element._vector_`\n- Implements `Modules.WithBasis.FiniteDimensional.ParentMethods.matrix` for building a matrix from a list of elements\n- Refactors `Modules.WithBasis.FiniteDimensional.MorphismMethods.matrix` to use the latter and accept the option `sparse`\n\nThis is a follow up to #11111.\n\nIt's based on #16659 due to a trivial syntactic conflict. Since #16659\nis likely to be positive reviewed very soon, it's probably not worth\nit making it independent.\n\n\n**CC:**  @hivert @saliola @avirmaux sage-combinat @tscrim @darijgr\n\n**Branch:** [public/categories/fin_dim_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/fin_dim_modules_with_basis_vector_matrix-18310)\n\n**Commit:** [f4f4e20ce84e476c401738cadbc6b6b88bc43043](https://github.com/sagemath/sagetrac-mirror/commit/f4f4e20ce84e476c401738cadbc6b6b88bc43043)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Nicolas M. Thi\u00e9ry\n\nIssue created by migration from https://trac.sagemath.org/ticket/18310\n\n",
    "created_at": "2015-04-27T10:21:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Finite dimensional modules with basis: improved conversions to vectors and matrices",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/18310",
    "user": "https://github.com/nthiery"
}
```
This ticket:

- Implements the option `sparse` for `CombinatorialFreeModule.Element._vector_`
- Implements `Modules.WithBasis.FiniteDimensional.ParentMethods.matrix` for building a matrix from a list of elements
- Refactors `Modules.WithBasis.FiniteDimensional.MorphismMethods.matrix` to use the latter and accept the option `sparse`

This is a follow up to #11111.

It's based on #16659 due to a trivial syntactic conflict. Since #16659
is likely to be positive reviewed very soon, it's probably not worth
it making it independent.


**CC:**  @hivert @saliola @avirmaux sage-combinat @tscrim @darijgr

**Branch:** [public/categories/fin_dim_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/fin_dim_modules_with_basis_vector_matrix-18310)

**Commit:** [f4f4e20ce84e476c401738cadbc6b6b88bc43043](https://github.com/sagemath/sagetrac-mirror/commit/f4f4e20ce84e476c401738cadbc6b6b88bc43043)

**Reviewer:** Travis Scrimshaw

**Author:** Nicolas M. Thi√©ry

Issue created by migration from https://trac.sagemath.org/ticket/18310





---

archive/issue_events_223787.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-04-27T10:21:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223787"
}
```



---

archive/issue_events_223788.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-04-27T10:21:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
    "label_color": "08517b",
    "label_name": "component: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223788"
}
```



---

archive/issue_events_223789.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-04-27T10:21:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223789"
}
```



---

archive/issue_comments_254006.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n - Implements the option `sparse` for `CombinatorialFreeModule.Element._vector_`\n - Implements `Modules.WithBasis.FiniteDimensional.ParentMethods.matrix` for building a matrix from a list of elements\n - Refactors `Modules.WithBasis.FiniteDimensional.MorphismMethods.matrix` to use the latter and accept the option `sparse`\n+\n+This is a follow up to #11111\n``````\n",
    "created_at": "2015-04-27T10:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254006",
    "user": "https://github.com/nthiery"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 - Implements the option `sparse` for `CombinatorialFreeModule.Element._vector_`
 - Implements `Modules.WithBasis.FiniteDimensional.ParentMethods.matrix` for building a matrix from a list of elements
 - Refactors `Modules.WithBasis.FiniteDimensional.MorphismMethods.matrix` to use the latter and accept the option `sparse`
+
+This is a follow up to #11111
``````




---

archive/issue_comments_254007.json:
```json
{
    "body": "**Branch:** [u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310)",
    "created_at": "2015-04-27T15:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254007",
    "user": "https://github.com/nthiery"
}
```

**Branch:** [u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310)



---

archive/issue_comments_254008.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c44982418b96b37731814a0e949471b61270084\">0c44982</a></td><td><code>17696: use is_identity_decomposition_into_orthogonal_idempotents in the examples</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cba7c8d1adcad21ace893b5827777348c2e486ef\">cba7c8d</a></td><td><code>17696: factored out of the examples a basic implementation of the 0-Hecke monoid</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e81e4b500f7698446fd19de792744a33667eafa\">6e81e4b</a></td><td><code>16659: proofreading and little additions to the doc; small refactoring of the code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19756de9e9367efc85add11872bbf03d873b948f\">19756de</a></td><td><code>16659: minor line-split in the doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd8e1ad375037e078905ae220bc9e543d65a67be\">fd8e1ad</a></td><td><code>16659: refactored _orthogonal_decomposition and updated doctests accordingly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc327efe6f3a221ae089d68558e5296cc9fc295c\">cc327ef</a></td><td><code>16659: improved documentation for _orthogonal_decomposition</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e00dfdb8c49ba0105922aeeabab5bcb234bceaf0\">e00dfdb</a></td><td><code>16659: improved documentation for _orthogonal_decomposition</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cce7d3db05f6f10fec8c19a055987c61eee4b771\">cce7d3d</a></td><td><code>17696: added crosslinks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/faf83a1380dde69c2dfd7849c1b8b8d24dcbecd6\">faf83a1</a></td><td><code>16659: added missing hecke_monoid.py file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/223e55834daf91167b517b7c80f0af92ef627fba\">223e558</a></td><td><code>18310: Finite dimensional modules with basis: improved conversions to vectors and matrices</code></td></tr></table>\n",
    "created_at": "2015-04-27T15:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254008",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:4'>**Comment 4:**</a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c44982418b96b37731814a0e949471b61270084">0c44982</a></td><td><code>17696: use is_identity_decomposition_into_orthogonal_idempotents in the examples</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cba7c8d1adcad21ace893b5827777348c2e486ef">cba7c8d</a></td><td><code>17696: factored out of the examples a basic implementation of the 0-Hecke monoid</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e81e4b500f7698446fd19de792744a33667eafa">6e81e4b</a></td><td><code>16659: proofreading and little additions to the doc; small refactoring of the code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19756de9e9367efc85add11872bbf03d873b948f">19756de</a></td><td><code>16659: minor line-split in the doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd8e1ad375037e078905ae220bc9e543d65a67be">fd8e1ad</a></td><td><code>16659: refactored _orthogonal_decomposition and updated doctests accordingly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc327efe6f3a221ae089d68558e5296cc9fc295c">cc327ef</a></td><td><code>16659: improved documentation for _orthogonal_decomposition</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e00dfdb8c49ba0105922aeeabab5bcb234bceaf0">e00dfdb</a></td><td><code>16659: improved documentation for _orthogonal_decomposition</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cce7d3db05f6f10fec8c19a055987c61eee4b771">cce7d3d</a></td><td><code>17696: added crosslinks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/faf83a1380dde69c2dfd7849c1b8b8d24dcbecd6">faf83a1</a></td><td><code>16659: added missing hecke_monoid.py file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/223e55834daf91167b517b7c80f0af92ef627fba">223e558</a></td><td><code>18310: Finite dimensional modules with basis: improved conversions to vectors and matrices</code></td></tr></table>




---

archive/issue_comments_254009.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,9 @@\n - Implements `Modules.WithBasis.FiniteDimensional.ParentMethods.matrix` for building a matrix from a list of elements\n - Refactors `Modules.WithBasis.FiniteDimensional.MorphismMethods.matrix` to use the latter and accept the option `sparse`\n \n-This is a follow up to #11111\n+This is a follow up to #11111.\n+\n+It's based on #16659 due to a trivial syntactic conflict. Since #16659\n+is likely to be positive reviewed very soon, it's probably not worth\n+it making it independent.\n+\n``````\n",
    "created_at": "2015-04-27T15:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254009",
    "user": "https://github.com/nthiery"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,9 @@
 - Implements `Modules.WithBasis.FiniteDimensional.ParentMethods.matrix` for building a matrix from a list of elements
 - Refactors `Modules.WithBasis.FiniteDimensional.MorphismMethods.matrix` to use the latter and accept the option `sparse`
 
-This is a follow up to #11111
+This is a follow up to #11111.
+
+It's based on #16659 due to a trivial syntactic conflict. Since #16659
+is likely to be positive reviewed very soon, it's probably not worth
+it making it independent.
+
``````




---

archive/issue_comments_254010.json:
```json
{
    "body": "**Commit:** [223e55834daf91167b517b7c80f0af92ef627fba](https://github.com/sagemath/sagetrac-mirror/commit/223e55834daf91167b517b7c80f0af92ef627fba)",
    "created_at": "2015-04-27T15:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254010",
    "user": "https://github.com/nthiery"
}
```

**Commit:** [223e55834daf91167b517b7c80f0af92ef627fba](https://github.com/sagemath/sagetrac-mirror/commit/223e55834daf91167b517b7c80f0af92ef627fba)



---

archive/issue_comments_254011.json:
```json
{
    "body": "**Changing commit** from \"[223e55834daf91167b517b7c80f0af92ef627fba](https://github.com/sagemath/sagetrac-mirror/commit/223e55834daf91167b517b7c80f0af92ef627fba)\" to \"[3a433dc8318f07f85622c0f14116de51dac8bd20](https://github.com/sagemath/sagetrac-mirror/commit/3a433dc8318f07f85622c0f14116de51dac8bd20)\".",
    "created_at": "2015-04-27T16:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254011",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[223e55834daf91167b517b7c80f0af92ef627fba](https://github.com/sagemath/sagetrac-mirror/commit/223e55834daf91167b517b7c80f0af92ef627fba)" to "[3a433dc8318f07f85622c0f14116de51dac8bd20](https://github.com/sagemath/sagetrac-mirror/commit/3a433dc8318f07f85622c0f14116de51dac8bd20)".



---

archive/issue_comments_254012.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a433dc8318f07f85622c0f14116de51dac8bd20\">3a433dc</a></td><td><code>18310: cleanup and documentation</code></td></tr></table>\n",
    "created_at": "2015-04-27T16:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254012",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>**Comment 5:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a433dc8318f07f85622c0f14116de51dac8bd20">3a433dc</a></td><td><code>18310: cleanup and documentation</code></td></tr></table>




---

archive/issue_comments_254013.json:
```json
{
    "body": "**Author:** Nicolas M. Thi\u00e9ry",
    "created_at": "2015-04-27T16:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254013",
    "user": "https://github.com/nthiery"
}
```

**Author:** Nicolas M. Thi√©ry



---

archive/issue_events_223790.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2015-04-27T16:58:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223790"
}
```



---

archive/issue_comments_254014.json:
```json
{
    "body": "**Changing commit** from \"[3a433dc8318f07f85622c0f14116de51dac8bd20](https://github.com/sagemath/sagetrac-mirror/commit/3a433dc8318f07f85622c0f14116de51dac8bd20)\" to \"[e3fd9394117180fd542e34eafa088bd95928488c](https://github.com/sagemath/sagetrac-mirror/commit/e3fd9394117180fd542e34eafa088bd95928488c)\".",
    "created_at": "2015-05-16T22:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254014",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[3a433dc8318f07f85622c0f14116de51dac8bd20](https://github.com/sagemath/sagetrac-mirror/commit/3a433dc8318f07f85622c0f14116de51dac8bd20)" to "[e3fd9394117180fd542e34eafa088bd95928488c](https://github.com/sagemath/sagetrac-mirror/commit/e3fd9394117180fd542e34eafa088bd95928488c)".



---

archive/issue_comments_254015.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2015-05-16T22:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254015",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_254016.json:
```json
{
    "body": "**Changing branch** from \"[u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310)\" to \"[public/categories/fin_dim_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/fin_dim_modules_with_basis_vector_matrix-18310)\".",
    "created_at": "2015-05-16T22:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254016",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310)" to "[public/categories/fin_dim_modules_with_basis_vector_matrix-18310](https://github.com/sagemath/sagetrac-mirror/tree/public/categories/fin_dim_modules_with_basis_vector_matrix-18310)".



---

archive/issue_comments_254017.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nLooks good overall; I made some minor doc formatting tweaks. This was something Darij and I wondered about when looking at Lie algebras (something I will need to change on that ticket). However I have a question about the `column` attribute in `FDModWithBasis.ParentMethods.matrix`. You currently have `assert not columns` in the method. Did you want that to be a `NotImplementedError`, or did you want to have that do something in this ticket?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b055669a1a57633bd827871b4bf20c3db7ce3d3e\">b055669</a></td><td><code>Merge branch 'u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310' of trac.sagemath.org:sage into public/categories/fin_dim_modules_with_basis_vector_matrix-18310</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3fd9394117180fd542e34eafa088bd95928488c\">e3fd939</a></td><td><code>Some trivial doc formatting cleanup from reviewer.</code></td></tr></table>\n",
    "created_at": "2015-05-16T22:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254017",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'>**Comment 7:**</a>
Looks good overall; I made some minor doc formatting tweaks. This was something Darij and I wondered about when looking at Lie algebras (something I will need to change on that ticket). However I have a question about the `column` attribute in `FDModWithBasis.ParentMethods.matrix`. You currently have `assert not columns` in the method. Did you want that to be a `NotImplementedError`, or did you want to have that do something in this ticket?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b055669a1a57633bd827871b4bf20c3db7ce3d3e">b055669</a></td><td><code>Merge branch 'u/nthiery/categories/finite_dimensinonal_modules_with_basis_vector_matrix-18310' of trac.sagemath.org:sage into public/categories/fin_dim_modules_with_basis_vector_matrix-18310</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3fd9394117180fd542e34eafa088bd95928488c">e3fd939</a></td><td><code>Some trivial doc formatting cleanup from reviewer.</code></td></tr></table>




---

archive/issue_comments_254018.json:
```json
{
    "body": "**Changing commit** from \"[e3fd9394117180fd542e34eafa088bd95928488c](https://github.com/sagemath/sagetrac-mirror/commit/e3fd9394117180fd542e34eafa088bd95928488c)\" to \"[642ab71f657054a9643b6f9de109f92d77cef421](https://github.com/sagemath/sagetrac-mirror/commit/642ab71f657054a9643b6f9de109f92d77cef421)\".",
    "created_at": "2015-05-17T20:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254018",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e3fd9394117180fd542e34eafa088bd95928488c](https://github.com/sagemath/sagetrac-mirror/commit/e3fd9394117180fd542e34eafa088bd95928488c)" to "[642ab71f657054a9643b6f9de109f92d77cef421](https://github.com/sagemath/sagetrac-mirror/commit/642ab71f657054a9643b6f9de109f92d77cef421)".



---

archive/issue_comments_254019.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/642ab71f657054a9643b6f9de109f92d77cef421\">642ab71</a></td><td><code>18310: implement columns option for matrix</code></td></tr></table>\n",
    "created_at": "2015-05-17T20:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254019",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>**Comment 8:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/642ab71f657054a9643b6f9de109f92d77cef421">642ab71</a></td><td><code>18310: implement columns option for matrix</code></td></tr></table>




---

archive/issue_comments_254020.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nReplying to [@tscrim](#comment%3A7):\n> Looks good overall; I made some minor doc formatting tweaks.\n\nI am happy with them; thanks! Isn't triple quoting of strings kind of\noverkill? Not that I really mind, but it's kind of heavy handed and\nreally Sphinx should do that for us ...\n\n> However I have a question about the `column` attribute in `FDModWithBasis.ParentMethods.matrix`. You currently have `assert not columns` in the method. Did you want that to be a `NotImplementedError`, or did you want to have that do something in this ticket?\n\nOops; just a marker I had left for myself and I later forgot. There is\na basic implementation now! Back to needs review.\n\nCheers,",
    "created_at": "2015-05-17T20:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254020",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:9'>**Comment 9:**</a>
Replying to [@tscrim](#comment%3A7):
> Looks good overall; I made some minor doc formatting tweaks.

I am happy with them; thanks! Isn't triple quoting of strings kind of
overkill? Not that I really mind, but it's kind of heavy handed and
really Sphinx should do that for us ...

> However I have a question about the `column` attribute in `FDModWithBasis.ParentMethods.matrix`. You currently have `assert not columns` in the method. Did you want that to be a `NotImplementedError`, or did you want to have that do something in this ticket?

Oops; just a marker I had left for myself and I later forgot. There is
a basic implementation now! Back to needs review.

Cheers,



---

archive/issue_events_223791.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-05-18T04:46:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223791"
}
```



---

archive/issue_events_223792.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-05-18T04:46:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223792"
}
```



---

archive/issue_comments_254021.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nReplying to [@nthiery](#comment%3A9):\n> Replying to [@tscrim](#comment%3A7):\n> > Looks good overall; I made some minor doc formatting tweaks.\n\n> \n> I am happy with them; thanks! Isn't triple quoting of strings kind of\n> overkill? Not that I really mind, but it's kind of heavy handed and\n> really Sphinx should do that for us ...\n\nIt's 2 backticks and then a quote, so it gives it that nice code look in the (non-interactive) doc (I prefer this because it is meant to reflect exact user input).\n\n> > However I have a question about the `column` attribute in `FDModWithBasis.ParentMethods.matrix`. You currently have `assert not columns` in the method. Did you want that to be a `NotImplementedError`, or did you want to have that do something in this ticket?\n\n> \n> Oops; just a marker I had left for myself and I later forgot. There is\n> a basic implementation now! Back to needs review.\n\nThanks. Positive review.",
    "created_at": "2015-05-18T04:46:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254021",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'>**Comment 10:**</a>
Replying to [@nthiery](#comment%3A9):
> Replying to [@tscrim](#comment%3A7):
> > Looks good overall; I made some minor doc formatting tweaks.

> 
> I am happy with them; thanks! Isn't triple quoting of strings kind of
> overkill? Not that I really mind, but it's kind of heavy handed and
> really Sphinx should do that for us ...

It's 2 backticks and then a quote, so it gives it that nice code look in the (non-interactive) doc (I prefer this because it is meant to reflect exact user input).

> > However I have a question about the `column` attribute in `FDModWithBasis.ParentMethods.matrix`. You currently have `assert not columns` in the method. Did you want that to be a `NotImplementedError`, or did you want to have that do something in this ticket?

> 
> Oops; just a marker I had left for myself and I later forgot. There is
> a basic implementation now! Back to needs review.

Thanks. Positive review.



---

archive/issue_comments_254022.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nThe `base_ring` argument of `matrix()` is not documented in the `INPUT` block.\n\nIMHO, this belongs in the discussion on Trac, not in the docstring, especially the reference to a future hypothetical fix for #18312:\n\n```\nConstructing a sparse matrix with this method is currently\nreally much faster than building it from sparse vectors;\nsee :trac:`18312`::\n\n    sage: n = 10^3; F = CombinatorialFreeModule(QQ, range(n)); vectors = [F.zero()]*n\n    sage: %timeit m = F.matrix(vectors, sparse=True) # not tested\n    The slowest run ...\n    1000 loops, best of 3: 466 \u00b5s per loop\n    sage: %timeit m = matrix(QQ, [v._vector_(sparse=True) for v in vectors], sparse=True) # not tested\n    1 loops, best of 3: 1.19 s per loop\n\nWhen :trac:`18312` will be fixed, using this method is\nlikely to still save some constant time factor.\n```\n\nAnd finally a question: is this new code relevant only for combinatorial free modules or also \"normal\" free modules?",
    "created_at": "2015-05-18T07:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254022",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>**Comment 11:**</a>
The `base_ring` argument of `matrix()` is not documented in the `INPUT` block.

IMHO, this belongs in the discussion on Trac, not in the docstring, especially the reference to a future hypothetical fix for #18312:

```
Constructing a sparse matrix with this method is currently
really much faster than building it from sparse vectors;
see :trac:`18312`::

    sage: n = 10^3; F = CombinatorialFreeModule(QQ, range(n)); vectors = [F.zero()]*n
    sage: %timeit m = F.matrix(vectors, sparse=True) # not tested
    The slowest run ...
    1000 loops, best of 3: 466 ¬µs per loop
    sage: %timeit m = matrix(QQ, [v._vector_(sparse=True) for v in vectors], sparse=True) # not tested
    1 loops, best of 3: 1.19 s per loop

When :trac:`18312` will be fixed, using this method is
likely to still save some constant time factor.
```

And finally a question: is this new code relevant only for combinatorial free modules or also "normal" free modules?



---

archive/issue_events_223793.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-18T07:28:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223793"
}
```



---

archive/issue_events_223794.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-18T07:28:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223794"
}
```



---

archive/issue_comments_254023.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/035418cccaab72f73565c50d3e5b6391d294a467\">035418c</a></td><td><code>18310: document base_ring option</code></td></tr></table>\n",
    "created_at": "2015-05-18T09:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254023",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>**Comment 12:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/035418cccaab72f73565c50d3e5b6391d294a467">035418c</a></td><td><code>18310: document base_ring option</code></td></tr></table>




---

archive/issue_comments_254024.json:
```json
{
    "body": "**Changing commit** from \"[642ab71f657054a9643b6f9de109f92d77cef421](https://github.com/sagemath/sagetrac-mirror/commit/642ab71f657054a9643b6f9de109f92d77cef421)\" to \"[035418cccaab72f73565c50d3e5b6391d294a467](https://github.com/sagemath/sagetrac-mirror/commit/035418cccaab72f73565c50d3e5b6391d294a467)\".",
    "created_at": "2015-05-18T09:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254024",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[642ab71f657054a9643b6f9de109f92d77cef421](https://github.com/sagemath/sagetrac-mirror/commit/642ab71f657054a9643b6f9de109f92d77cef421)" to "[035418cccaab72f73565c50d3e5b6391d294a467](https://github.com/sagemath/sagetrac-mirror/commit/035418cccaab72f73565c50d3e5b6391d294a467)".



---

archive/issue_comments_254025.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nReplying to [@jdemeyer](#comment%3A11):\n> And finally a question: is this new code relevant only for combinatorial free modules or also \"normal\" free modules?\n\nAnswering my own question: for normal free modules, it seems that `matrix()` just returns `basis_matrix()`. That's an annoying inconsistency. I actually see no reason to have this `matrix()` alias for `basis_matrix()`.\n\nProposal: define `matrix(*args, **kwds)` in free modules which calls `basis_matrix()` if no arguments are given (this should be deprecated) and calls the modified(*) categories implementation if any argument is supplied.\n\n(*) The `base_ring` of the resulting matrix should be the `coordinate_ring`, not the `base_ring` of the free module.",
    "created_at": "2015-05-18T09:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254025",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'>**Comment 13:**</a>
Replying to [@jdemeyer](#comment%3A11):
> And finally a question: is this new code relevant only for combinatorial free modules or also "normal" free modules?

Answering my own question: for normal free modules, it seems that `matrix()` just returns `basis_matrix()`. That's an annoying inconsistency. I actually see no reason to have this `matrix()` alias for `basis_matrix()`.

Proposal: define `matrix(*args, **kwds)` in free modules which calls `basis_matrix()` if no arguments are given (this should be deprecated) and calls the modified(*) categories implementation if any argument is supplied.

(*) The `base_ring` of the resulting matrix should be the `coordinate_ring`, not the `base_ring` of the free module.



---

archive/issue_comments_254026.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nReplying to [@jdemeyer](#comment%3A11):\n> The `base_ring` argument of `matrix()` is not documented in the `INPUT` block.\n\nOops, fixed. Thanks!\n\n> IMHO, this belongs in the discussion on Trac, not in the docstring, especially the reference to a future hypothetical fix for #18312:\n\nI don't agree. This is not a discussion about how to implement this\nticket, but an information for the user, indicating the relevance of\nthis method in the short and long term. She has little chance to find\nthis information if it's only on trac.\n\n> And finally a question: is this new code relevant only for\n> combinatorial free modules or also \"normal\" free modules?\n\nIt's meant for any FiniteDimensionalModulesWithBasis. When \"normal\"\nfree modules will finally be in this category, they will benefit from\nthis code; one of the thing to settle for this is the syntax to\niterate through the terms. Up to this syntax detail, I believe this\ngeneric code from this ticket should work properly.\n\nAh, this raises a good point: FreeModule already defines a `matrix`\nmethod, so we have a name conflict. Any good alternative name\nsuggestion?\n\nCheers,\n                             Nicolas",
    "created_at": "2015-05-18T09:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254026",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:14'>**Comment 14:**</a>
Replying to [@jdemeyer](#comment%3A11):
> The `base_ring` argument of `matrix()` is not documented in the `INPUT` block.

Oops, fixed. Thanks!

> IMHO, this belongs in the discussion on Trac, not in the docstring, especially the reference to a future hypothetical fix for #18312:

I don't agree. This is not a discussion about how to implement this
ticket, but an information for the user, indicating the relevance of
this method in the short and long term. She has little chance to find
this information if it's only on trac.

> And finally a question: is this new code relevant only for
> combinatorial free modules or also "normal" free modules?

It's meant for any FiniteDimensionalModulesWithBasis. When "normal"
free modules will finally be in this category, they will benefit from
this code; one of the thing to settle for this is the syntax to
iterate through the terms. Up to this syntax detail, I believe this
generic code from this ticket should work properly.

Ah, this raises a good point: FreeModule already defines a `matrix`
method, so we have a name conflict. Any good alternative name
suggestion?

Cheers,
                             Nicolas



---

archive/issue_comments_254027.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nReplying to [@nthiery](#comment%3A14):\n> but an information for the user, indicating the relevance of\n> this method in the short and long term. She has little chance to find\n> this information if it's only on trac.\n\nCompromise: at least remove the sentence <code>When :trac:\\`18312\\` will be fixed, using this method is likely to still save some constant time factor.</code>",
    "created_at": "2015-05-18T09:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254027",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>**Comment 15:**</a>
Replying to [@nthiery](#comment%3A14):
> but an information for the user, indicating the relevance of
> this method in the short and long term. She has little chance to find
> this information if it's only on trac.

Compromise: at least remove the sentence <code>When :trac:\`18312\` will be fixed, using this method is likely to still save some constant time factor.</code>



---

archive/issue_comments_254028.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nHi Jeroen!\n\nReplying to [@jdemeyer](#comment%3A15):\n> Replying to [@nthiery](#comment%3A14):\n> > but an information for the user, indicating the relevance of\n> > this method in the short and long term. She has little chance to find\n> > this information if it's only on trac.\n\n> \n> Compromise: at least remove the sentence <code>When :trac:\\`18312\\` will be fixed, using this method is likely to still save some constant time factor.</code>\n\nWith the idea that we will update the comment when `18312` will be fixed? That sounds very reasonable indeed. I am just slightly hesitant, because I would not want the user to believe that this method is just a workaround, when it's actually a way to better express a typical intention, to give a chance to the system to better optimize it. If you think it does not read that way I am happy to remove this sentence.",
    "created_at": "2015-05-18T11:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254028",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:16'>**Comment 16:**</a>
Hi Jeroen!

Replying to [@jdemeyer](#comment%3A15):
> Replying to [@nthiery](#comment%3A14):
> > but an information for the user, indicating the relevance of
> > this method in the short and long term. She has little chance to find
> > this information if it's only on trac.

> 
> Compromise: at least remove the sentence <code>When :trac:\`18312\` will be fixed, using this method is likely to still save some constant time factor.</code>

With the idea that we will update the comment when `18312` will be fixed? That sounds very reasonable indeed. I am just slightly hesitant, because I would not want the user to believe that this method is just a workaround, when it's actually a way to better express a typical intention, to give a chance to the system to better optimize it. If you think it does not read that way I am happy to remove this sentence.



---

archive/issue_comments_254029.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nReplying to [@jdemeyer](#comment%3A13):\n> Answering my own question: for normal free modules, it seems that `matrix()` just returns `basis_matrix()`. That's an annoying inconsistency. I actually see no reason to have this `matrix()` alias for `basis_matrix()`.\n> \n> Proposal: define `matrix(*args, **kwds)` in free modules which calls `basis_matrix()` if no arguments are given (this should be deprecated) and calls the modified(*) categories implementation if any argument is supplied.\n\n+1.\n\nDo you agree that this should go in #10672 rather than here? It would\nbe weird to have matrix call a method that is not yet available from\nthe categories. As a first step, we could just deprecate\n`FreeModule.matrix` for now. What do you think?\n\n> (*) The `base_ring` of the resulting matrix should be the `coordinate_ring`, not the `base_ring` of the free module.\n\nGasp, another inconsistency: most other modules in Sage (polynomial\nrings, matrix space, ...) don't define coordinate_ring: there it's\nassumed that the coefficients of elements live in `base_ring`.  Ok,\nclarifying this is for #10672 since it's not about this specific\nmethod, but about all uses of `base_ring`.\n\nThanks for the thoughts\n\nCheers,\n                               Nicolas",
    "created_at": "2015-05-18T12:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254029",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'>**Comment 17:**</a>
Replying to [@jdemeyer](#comment%3A13):
> Answering my own question: for normal free modules, it seems that `matrix()` just returns `basis_matrix()`. That's an annoying inconsistency. I actually see no reason to have this `matrix()` alias for `basis_matrix()`.
> 
> Proposal: define `matrix(*args, **kwds)` in free modules which calls `basis_matrix()` if no arguments are given (this should be deprecated) and calls the modified(*) categories implementation if any argument is supplied.

+1.

Do you agree that this should go in #10672 rather than here? It would
be weird to have matrix call a method that is not yet available from
the categories. As a first step, we could just deprecate
`FreeModule.matrix` for now. What do you think?

> (*) The `base_ring` of the resulting matrix should be the `coordinate_ring`, not the `base_ring` of the free module.

Gasp, another inconsistency: most other modules in Sage (polynomial
rings, matrix space, ...) don't define coordinate_ring: there it's
assumed that the coefficients of elements live in `base_ring`.  Ok,
clarifying this is for #10672 since it's not about this specific
method, but about all uses of `base_ring`.

Thanks for the thoughts

Cheers,
                               Nicolas



---

archive/issue_comments_254030.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nReplying to [@nthiery](#comment%3A17):\n> Gasp, another inconsistency: most other modules in Sage (polynomial\n> rings, matrix space, ...) don't define coordinate_ring: there it's\n> assumed that the coefficients of elements live in `base_ring`.\n\nThat's easily worked around by defining `coordinate_ring` as an alias of `base_ring` in the category code. Then it can be overridden in specific cases where needed.",
    "created_at": "2015-05-18T13:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254030",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'>**Comment 18:**</a>
Replying to [@nthiery](#comment%3A17):
> Gasp, another inconsistency: most other modules in Sage (polynomial
> rings, matrix space, ...) don't define coordinate_ring: there it's
> assumed that the coefficients of elements live in `base_ring`.

That's easily worked around by defining `coordinate_ring` as an alias of `base_ring` in the category code. Then it can be overridden in specific cases where needed.



---

archive/issue_comments_254031.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nReplying to [@jdemeyer](#comment%3A18):\n> Replying to [@nthiery](#comment%3A17):\n> > Gasp, another inconsistency: most other modules in Sage (polynomial\n> > rings, matrix space, ...) don't define coordinate_ring: there it's\n> > assumed that the coefficients of elements live in `base_ring`.\n\n> That's easily worked around by defining `coordinate_ring` as an alias of `base_ring` in the category code. Then it can be overridden in specific cases where needed.\n\nYes. And making sure all the category (and users) code calls `coordinate_ring` instead of `base_ring` whenever appropriate. That's certainly doable, but we want to make sure we want this feature generally before adding this little additional layer of complexity.\nAnyway, that's for #10672.",
    "created_at": "2015-05-18T14:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254031",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'>**Comment 19:**</a>
Replying to [@jdemeyer](#comment%3A18):
> Replying to [@nthiery](#comment%3A17):
> > Gasp, another inconsistency: most other modules in Sage (polynomial
> > rings, matrix space, ...) don't define coordinate_ring: there it's
> > assumed that the coefficients of elements live in `base_ring`.

> That's easily worked around by defining `coordinate_ring` as an alias of `base_ring` in the category code. Then it can be overridden in specific cases where needed.

Yes. And making sure all the category (and users) code calls `coordinate_ring` instead of `base_ring` whenever appropriate. That's certainly doable, but we want to make sure we want this feature generally before adding this little additional layer of complexity.
Anyway, that's for #10672.



---

archive/issue_comments_254032.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/485ae1952374751ee2e0d2ba31ad7e59a9897f65\">485ae19</a></td><td><code>Rebase over 8.1.beta9.</code></td></tr></table>\n",
    "created_at": "2017-10-26T05:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254032",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>**Comment 20:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/485ae1952374751ee2e0d2ba31ad7e59a9897f65">485ae19</a></td><td><code>Rebase over 8.1.beta9.</code></td></tr></table>




---

archive/issue_comments_254033.json:
```json
{
    "body": "**Changing commit** from \"[035418cccaab72f73565c50d3e5b6391d294a467](https://github.com/sagemath/sagetrac-mirror/commit/035418cccaab72f73565c50d3e5b6391d294a467)\" to \"[485ae1952374751ee2e0d2ba31ad7e59a9897f65](https://github.com/sagemath/sagetrac-mirror/commit/485ae1952374751ee2e0d2ba31ad7e59a9897f65)\".",
    "created_at": "2017-10-26T05:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254033",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[035418cccaab72f73565c50d3e5b6391d294a467](https://github.com/sagemath/sagetrac-mirror/commit/035418cccaab72f73565c50d3e5b6391d294a467)" to "[485ae1952374751ee2e0d2ba31ad7e59a9897f65](https://github.com/sagemath/sagetrac-mirror/commit/485ae1952374751ee2e0d2ba31ad7e59a9897f65)".



---

archive/issue_events_223795.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T05:17:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223795"
}
```



---

archive/issue_events_223796.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T05:17:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223796"
}
```



---

archive/issue_comments_254034.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nI rebased this over 8.1.beta9, but I'm not sure if there is anything that needs to be addressed from the conversion above. Jeroen, do you happen to remember or can recreate?",
    "created_at": "2017-10-26T05:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254034",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'>**Comment 21:**</a>
I rebased this over 8.1.beta9, but I'm not sure if there is anything that needs to be addressed from the conversion above. Jeroen, do you happen to remember or can recreate?



---

archive/issue_events_223797.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T05:17:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223797"
}
```



---

archive/issue_events_223798.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-26T05:17:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223798"
}
```



---

archive/issue_comments_254035.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/758537354cb93d2f3dad16e065baf017fa5ed0ad\">7585373</a></td><td><code>Merge branch 'public/categories/fin_dim_modules_with_basis_vector_matrix-18310' of git://trac.sagemath.org/sage into public/categories/fin_dim_modules_with_basis_vector_matrix-18310</code></td></tr></table>\n",
    "created_at": "2018-07-29T22:21:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254035",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>**Comment 22:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/758537354cb93d2f3dad16e065baf017fa5ed0ad">7585373</a></td><td><code>Merge branch 'public/categories/fin_dim_modules_with_basis_vector_matrix-18310' of git://trac.sagemath.org/sage into public/categories/fin_dim_modules_with_basis_vector_matrix-18310</code></td></tr></table>




---

archive/issue_comments_254036.json:
```json
{
    "body": "**Changing commit** from \"[485ae1952374751ee2e0d2ba31ad7e59a9897f65](https://github.com/sagemath/sagetrac-mirror/commit/485ae1952374751ee2e0d2ba31ad7e59a9897f65)\" to \"[758537354cb93d2f3dad16e065baf017fa5ed0ad](https://github.com/sagemath/sagetrac-mirror/commit/758537354cb93d2f3dad16e065baf017fa5ed0ad)\".",
    "created_at": "2018-07-29T22:21:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254036",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[485ae1952374751ee2e0d2ba31ad7e59a9897f65](https://github.com/sagemath/sagetrac-mirror/commit/485ae1952374751ee2e0d2ba31ad7e59a9897f65)" to "[758537354cb93d2f3dad16e065baf017fa5ed0ad](https://github.com/sagemath/sagetrac-mirror/commit/758537354cb93d2f3dad16e065baf017fa5ed0ad)".



---

archive/issue_events_223799.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-04T05:16:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223799"
}
```



---

archive/issue_events_223800.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-04T05:16:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223800"
}
```



---

archive/issue_comments_254037.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\nIs this ticket still relevant? It would need rebasing",
    "created_at": "2020-07-04T05:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254037",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'>**Comment 23:**</a>
Is this ticket still relevant? It would need rebasing



---

archive/issue_events_223801.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-04T05:16:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223801"
}
```



---

archive/issue_events_223802.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-04T05:16:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223802"
}
```



---

archive/issue_comments_254038.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nI am pretty sure it is still relevant as this adds extra features like the ability to specify sparseness.",
    "created_at": "2020-07-04T07:30:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254038",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'>**Comment 24:**</a>
I am pretty sure it is still relevant as this adds extra features like the ability to specify sparseness.



---

archive/issue_comments_254039.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4f4e20ce84e476c401738cadbc6b6b88bc43043\">f4f4e20</a></td><td><code>Finite dimensional modules with basis: improved conversions to vectors and matrices (squashed)</code></td></tr></table>\n",
    "created_at": "2020-07-05T23:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254039",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>**Comment 25:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4f4e20ce84e476c401738cadbc6b6b88bc43043">f4f4e20</a></td><td><code>Finite dimensional modules with basis: improved conversions to vectors and matrices (squashed)</code></td></tr></table>




---

archive/issue_comments_254040.json:
```json
{
    "body": "**Changing commit** from \"[758537354cb93d2f3dad16e065baf017fa5ed0ad](https://github.com/sagemath/sagetrac-mirror/commit/758537354cb93d2f3dad16e065baf017fa5ed0ad)\" to \"[f4f4e20ce84e476c401738cadbc6b6b88bc43043](https://github.com/sagemath/sagetrac-mirror/commit/f4f4e20ce84e476c401738cadbc6b6b88bc43043)\".",
    "created_at": "2020-07-05T23:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254040",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[758537354cb93d2f3dad16e065baf017fa5ed0ad](https://github.com/sagemath/sagetrac-mirror/commit/758537354cb93d2f3dad16e065baf017fa5ed0ad)" to "[f4f4e20ce84e476c401738cadbc6b6b88bc43043](https://github.com/sagemath/sagetrac-mirror/commit/f4f4e20ce84e476c401738cadbc6b6b88bc43043)".



---

archive/issue_comments_254041.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nSquashed. Still on top of 8.3.rc3",
    "created_at": "2020-07-05T23:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254041",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'>**Comment 26:**</a>
Squashed. Still on top of 8.3.rc3



---

archive/issue_comments_254042.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nMerging 9.2.beta3 creates some merge conflicts that look like they will be easy to resolve ... for people who know this code well",
    "created_at": "2020-07-05T23:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254042",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'>**Comment 27:**</a>
Merging 9.2.beta3 creates some merge conflicts that look like they will be easy to resolve ... for people who know this code well



---

archive/issue_events_223803.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T23:31:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223803"
}
```



---

archive/issue_events_223804.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T23:31:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223804"
}
```



---

archive/issue_events_223805.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223805"
}
```



---

archive/issue_events_223806.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223806"
}
```



---

archive/issue_events_223807.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223807"
}
```



---

archive/issue_events_223808.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223808"
}
```



---

archive/issue_comments_254043.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254043",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'>**Comment 30:**</a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_254044.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18310#issuecomment-254044",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'>**Comment 31:**</a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_223809.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223809"
}
```



---

archive/issue_events_223810.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223810"
}
```



---

archive/issue_events_223811.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223811"
}
```



---

archive/issue_events_223812.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223812"
}
```



---

archive/issue_events_223813.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223813"
}
```



---

archive/issue_events_223814.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223814"
}
```



---

archive/issue_events_223815.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223815"
}
```



---

archive/issue_events_223816.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18310",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18310#event-223816"
}
```
