# Issue 18031: Bug in saturation for elliptic curves over Q

archive/issues_017794.json:
```json
{
    "body": "A bug in eclib's saturation function is revealed here:\n\n```\nsage: E = EllipticCurve([0,-1,1,-266,968])\nsage: Q1 = E([-1995,3674,125])\nsage: Q2 = E([157,1950,1])\nsage: E.saturation([Q1,Q2])                                                                                     \n([(-399/25 : 3674/125 : 1), (157 : 1950 : 1)], 1, 7.21429780216482)\nsage: P1, P2 = E.gens()                                                                                         \nsage: E.regulator()\n0.801588644684980\nsage: E.regulator_of_points([Q1,Q2])\n7.21429780216482\n```\nThe points Q1,Q2 generate a subgroup of index 3 but the computed bound on the index is between 2 and 3.  This will be fixed upstream.\n\nNote that for this curve E.gens() gives correct generators but E.simon_two_descent() gives the above two points.\n\nNew upstream source at [http://boxen.math.washington.edu/home/cremona/eclib-20150323.tar.bz2](http://boxen.math.washington.edu/home/cremona/eclib-20150323.tar.bz2) \n\nKeywords: saturation\n\nUpstream: Fixed upstream, in a later stable release.\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: John Cremona\n\nBranch: acefe94db857b8ae9de051203a5a61ff74df7d0c\n\nCommit: acefe94db857b8ae9de051203a5a61ff74df7d0c\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18031\n\n",
    "closed_at": "2015-03-25T00:26:44Z",
    "created_at": "2015-03-21T14:38:50Z",
    "labels": [
        "component: elliptic curves",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Bug in saturation for elliptic curves over Q",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18031",
    "user": "https://github.com/JohnCremona"
}
```
A bug in eclib's saturation function is revealed here:

```
sage: E = EllipticCurve([0,-1,1,-266,968])
sage: Q1 = E([-1995,3674,125])
sage: Q2 = E([157,1950,1])
sage: E.saturation([Q1,Q2])                                                                                     
([(-399/25 : 3674/125 : 1), (157 : 1950 : 1)], 1, 7.21429780216482)
sage: P1, P2 = E.gens()                                                                                         
sage: E.regulator()
0.801588644684980
sage: E.regulator_of_points([Q1,Q2])
7.21429780216482
```
The points Q1,Q2 generate a subgroup of index 3 but the computed bound on the index is between 2 and 3.  This will be fixed upstream.

Note that for this curve E.gens() gives correct generators but E.simon_two_descent() gives the above two points.

New upstream source at [http://boxen.math.washington.edu/home/cremona/eclib-20150323.tar.bz2](http://boxen.math.washington.edu/home/cremona/eclib-20150323.tar.bz2) 

Keywords: saturation

Upstream: Fixed upstream, in a later stable release.

Reviewer: Fran√ßois Bissey

Author: John Cremona

Branch: acefe94db857b8ae9de051203a5a61ff74df7d0c

Commit: acefe94db857b8ae9de051203a5a61ff74df7d0c

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18031





---

archive/issue_comments_238173.json:
```json
{
    "body": "<a id='comment:1'></a>Bug in eclib fixed.  After testing, will update the upstream sources and the package information.",
    "created_at": "2015-03-21T17:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238173",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:1'></a>Bug in eclib fixed.  After testing, will update the upstream sources and the package information.



---

archive/issue_comments_238174.json:
```json
{
    "body": "<a id='comment:3'></a>With upstream eclib-20150323:\n\n```\nsage: E = EllipticCurve([0,-1,1,-266,968])\nsage: Q1 = E([-1995,3674,125])\nsage: Q2 = E([157,1950,1])\nsage: E.saturation([Q1,Q2])\n([(1 : -27 : 1), (157 : 1950 : 1)], 3, 0.801588644684981)\n```\nwhich will be put in as a doctest.",
    "created_at": "2015-03-23T21:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238174",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:3'></a>With upstream eclib-20150323:

```
sage: E = EllipticCurve([0,-1,1,-266,968])
sage: Q1 = E([-1995,3674,125])
sage: Q2 = E([157,1950,1])
sage: E.saturation([Q1,Q2])
([(1 : -27 : 1), (157 : 1950 : 1)], 3, 0.801588644684981)
```
which will be put in as a doctest.



---

archive/issue_comments_238175.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2015-03-23T21:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238175",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_238176.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-23T21:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238176",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_238177.json:
```json
{
    "body": "<a id='comment:7'></a>lgtm",
    "created_at": "2015-03-24T02:50:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238177",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>lgtm



---

archive/issue_comments_238178.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-24T02:50:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238178",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_238179.json:
```json
{
    "body": "<a id='comment:8'></a>Thanks!\n\nRelease manager -- compared to 20150228 which was already merged, this only changes one source file, there are no API changes so this is a minor bug-fix release.  Sorry it comes so soon after the previous one, but that's when I discovered the bug.",
    "created_at": "2015-03-24T12:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238179",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:8'></a>Thanks!

Release manager -- compared to 20150228 which was already merged, this only changes one source file, there are no API changes so this is a minor bug-fix release.  Sorry it comes so soon after the previous one, but that's when I discovered the bug.



---

archive/issue_comments_238180.json:
```json
{
    "body": "<a id='comment:9'></a>I am making this a blocker, that'll get Volker's attention.",
    "created_at": "2015-03-24T18:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238180",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>I am making this a blocker, that'll get Volker's attention.



---

archive/issue_comments_238181.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2015-03-24T18:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238181",
    "user": "https://github.com/kiwifb"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_238182.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-03-25T00:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18031#issuecomment-238182",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051204.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-25T00:26:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18031",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18031#event-51204"
}
```
