# Issue 18498: Sierpinski graph

archive/issues_018261.json:
```json
{
    "body": "CC:  @nathanncohen\n\nKeywords: graph\n\nNice examples of graphs, related to the Sierpinski fractal.\n\nlet us have them\n\nIssue created by migration from https://trac.sagemath.org/ticket/18498\n\n",
    "closed_at": "2015-06-06T12:47:37Z",
    "created_at": "2015-05-25T13:45:14Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Sierpinski graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18498",
    "user": "https://github.com/fchapoton"
}
```
CC:  @nathanncohen

Keywords: graph

Nice examples of graphs, related to the Sierpinski fractal.

let us have them

Issue created by migration from https://trac.sagemath.org/ticket/18498





---

archive/issue_comments_246423.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-05-25T13:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246423",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_246424.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-25T13:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246424",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_246425.json:
```json
{
    "body": "Hello,\n\nyou should add the definition of this graph. Indeed, you apparently assume that it is defined as a directed graph, while others consider that it is an undirected graph http://mathworld.wolfram.com/SierpinskiSieveGraph.html\n\nDavid.",
    "created_at": "2015-05-25T14:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246425",
    "user": "https://github.com/dcoudert"
}
```

Hello,

you should add the definition of this graph. Indeed, you apparently assume that it is defined as a directed graph, while others consider that it is an undirected graph http://mathworld.wolfram.com/SierpinskiSieveGraph.html

David.



---

archive/issue_comments_246426.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-25T14:14:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246426",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_246427.json:
```json
{
    "body": "You wrote that `n` is the order of the graph. This is confusing here since it is not the number of vertices. Recall that we have `G.order()==G.num_verts()`.\nCan't you  use another term here?",
    "created_at": "2015-05-25T14:14:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246427",
    "user": "https://github.com/dcoudert"
}
```

You wrote that `n` is the order of the graph. This is confusing here since it is not the number of vertices. Recall that we have `G.order()==G.num_verts()`.
Can't you  use another term here?



---

archive/issue_comments_246428.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-25T14:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246429.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-25T16:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246429",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_246430.json:
```json
{
    "body": "I have used the word \"generation\", maybe better ?",
    "created_at": "2015-05-25T16:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246430",
    "user": "https://github.com/fchapoton"
}
```

I have used the word "generation", maybe better ?



---

archive/issue_comments_246431.json:
```json
{
    "body": "> I have used the word \"generation\", maybe better ?\n\n\nIt is better. You must also provide a definition of the graph you define, though you must also justify the creation of a \"Sierpinski digraph\", preferably from existing papers. When you google \"sierpinski graph\", all that you find are undirected graphs.\n\nFurthermore, some sem to hint that those graphs [1] are (in some cases) isomorphic to Hanoi Tower graphs. But the pictures from Wolfram [2] and those that we can produce with Sage clearly disagree\n\n```\n    sage: graphs.HanoiTowerGraph(3,4).show(vertex_labels=False)\n```\n\nThere is something fishy there.\n\nNathann\n\n[1] See page 2, third paragraph of http://www.gregas.eu/publications/preprints/klavzar-hamming-dimension-of-a-graph-the-case-of-sierpinski-graphs\n[2] http://mathworld.wolfram.com/SierpinskiSieveGraph.html",
    "created_at": "2015-05-25T16:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246431",
    "user": "https://github.com/nathanncohen"
}
```

> I have used the word "generation", maybe better ?


It is better. You must also provide a definition of the graph you define, though you must also justify the creation of a "Sierpinski digraph", preferably from existing papers. When you google "sierpinski graph", all that you find are undirected graphs.

Furthermore, some sem to hint that those graphs [1] are (in some cases) isomorphic to Hanoi Tower graphs. But the pictures from Wolfram [2] and those that we can produce with Sage clearly disagree

```
    sage: graphs.HanoiTowerGraph(3,4).show(vertex_labels=False)
```

There is something fishy there.

Nathann

[1] See page 2, third paragraph of http://www.gregas.eu/publications/preprints/klavzar-hamming-dimension-of-a-graph-the-case-of-sierpinski-graphs
[2] http://mathworld.wolfram.com/SierpinskiSieveGraph.html



---

archive/issue_comments_246432.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-25T18:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246433.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-25T18:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246433",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246434.json:
```json
{
    "body": "What about putting this method in a new file dedicated to families of directed graphs in directory `generators` (similar to file `families.py` for undirected graphs), adding it an extra parameter `directed=True/False`, and then calling it from both `graphs` and `digraphs` with appropriate parameters?\n\nInside the method, it should be enough to have `G = DiGraph() if directed else Graph()` and the rest will be the same.\nI don't know if there is a trick to avoid the `directed` parameter. May be there is. Nathann?",
    "created_at": "2015-05-25T20:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246434",
    "user": "https://github.com/dcoudert"
}
```

What about putting this method in a new file dedicated to families of directed graphs in directory `generators` (similar to file `families.py` for undirected graphs), adding it an extra parameter `directed=True/False`, and then calling it from both `graphs` and `digraphs` with appropriate parameters?

Inside the method, it should be enough to have `G = DiGraph() if directed else Graph()` and the rest will be the same.
I don't know if there is a trick to avoid the `directed` parameter. May be there is. Nathann?



---

archive/issue_comments_246435.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-05-26T05:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246435",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_246436.json:
```json
{
    "body": "> I don't know if there is a trick to avoid the `directed` parameter. May be there is. Nathann?\n\n\nWhat you propose \"can be done\", it is not a big problem. And the only 'trick' I see to avoid the additional keyword and the private method would be to 1) create the Graph 2) orient its edges. This way the digraph constructor would merely call the graph constructor, and know what to do because it knows what the vertex set is.\n\nOf course, that only works if ths orientation can be easily deduced from each edge.\n\nFor the moment, however, I am much more concerned that what is a Sierpinski graph in Sage is what is called a Sierpinski graph in the litterature.\n\nNathann\n\nP.S.: I set this ticket to `needs_info`, as your code contains a \"REFERENCES: todo\"",
    "created_at": "2015-05-26T05:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246436",
    "user": "https://github.com/nathanncohen"
}
```

> I don't know if there is a trick to avoid the `directed` parameter. May be there is. Nathann?


What you propose "can be done", it is not a big problem. And the only 'trick' I see to avoid the additional keyword and the private method would be to 1) create the Graph 2) orient its edges. This way the digraph constructor would merely call the graph constructor, and know what to do because it knows what the vertex set is.

Of course, that only works if ths orientation can be easily deduced from each edge.

For the moment, however, I am much more concerned that what is a Sierpinski graph in Sage is what is called a Sierpinski graph in the litterature.

Nathann

P.S.: I set this ticket to `needs_info`, as your code contains a "REFERENCES: todo"



---

archive/issue_comments_246437.json:
```json
{
    "body": "I think these graphs should be called the \"Sierpinski gasket graphs\"\nand the one related to Hanoi towers should be called \"Sierpinski graphs\"\n\nSee the following ref for this terminology and many references.\n\nhttp://dx.doi.org/10.1007/s00224-010-9286-3\n\nI have found some other references:\n\n* Chang, Shu-Chiuan; Chen, Lung-Chi; Yang, Wei-Shih Spanning trees on the Sierpinski gasket\n\nand several other articles by the same authors.",
    "created_at": "2015-05-27T08:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246437",
    "user": "https://github.com/fchapoton"
}
```

I think these graphs should be called the "Sierpinski gasket graphs"
and the one related to Hanoi towers should be called "Sierpinski graphs"

See the following ref for this terminology and many references.

http://dx.doi.org/10.1007/s00224-010-9286-3

I have found some other references:

* Chang, Shu-Chiuan; Chen, Lung-Chi; Yang, Wei-Shih Spanning trees on the Sierpinski gasket

and several other articles by the same authors.



---

archive/issue_comments_246438.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-29T20:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246439.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-30T19:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246439",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246440.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-31T08:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246441.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-03T18:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246442.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-06-03T18:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246442",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_246443.json:
```json
{
    "body": "Ok, here is something that needs review.\n\nI have called them `SierpinskiGasket` graphs, as in the reference that I give.\n\nI have linked the doc to `HanoiTowerGraph` for the other possible Sierpinski graphs.",
    "created_at": "2015-06-03T18:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246443",
    "user": "https://github.com/fchapoton"
}
```

Ok, here is something that needs review.

I have called them `SierpinskiGasket` graphs, as in the reference that I give.

I have linked the doc to `HanoiTowerGraph` for the other possible Sierpinski graphs.



---

archive/issue_comments_246444.json:
```json
{
    "body": "Hellooooooo Fr\u00e9d\u00e9ric!\n\nSeveral remarks:\n\n- The name of a `Graph` usually ends with `Graph`. I agree that it is a terrible\n  standard, considering that even `digraphs.*` do not follow it.\n\n- Isn't there something wrong with the number of vertices as given in the\n  function's docstring? You say that it is equal to `3 (3^{n-1}-1)/2`, though:\n  {{{\n  sage: [graphs.SierpinskiGasket(x).order() for x in range(1,8)]\n  [3, 6, 15, 42, 123, 366, 1095]\n  sage: [3*(3**(n-1)-1)/2 for n in range(1,8)]\n  [0, 3, 12, 39, 120, 363, 1092]\n  }}}\n\n- You mention twice the `HanoiTowerGraph`: could you merge those two similar\n  remarks into one?\n\n- It is only my personal opinion, but I believe that the 'gasket' keyword is a\n  sufficient protection to avoid misunderstandings. I do not believe that a\n  'warning' is needed here (especially above the 'input' block). I would not see\n  anything wrong with only a 'seealso', to help redirect lost users.\n\n- Is there any reason to give those names to the vertices? Or is it only because\n  of the positions? If they have no specific meaning, what would you think of\n  relabelling the graph to integers before returning it (a call to `.relabel()`\n  does that automatically)?\n\nI added a commit at public/18498 with a couple of modifications:\n\n- A modified 'vertical' layout\n\n- A picture of the graph in its documentation\n\nI you agree with those, you can cherry-pick that commit on your branch.\n\nThanks,\n\nNathann",
    "created_at": "2015-06-04T08:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246444",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooooo Frédéric!

Several remarks:

- The name of a `Graph` usually ends with `Graph`. I agree that it is a terrible
  standard, considering that even `digraphs.*` do not follow it.

- Isn't there something wrong with the number of vertices as given in the
  function's docstring? You say that it is equal to `3 (3^{n-1}-1)/2`, though:
  {{{
  sage: [graphs.SierpinskiGasket(x).order() for x in range(1,8)]
  [3, 6, 15, 42, 123, 366, 1095]
  sage: [3*(3**(n-1)-1)/2 for n in range(1,8)]
  [0, 3, 12, 39, 120, 363, 1092]
  }}}

- You mention twice the `HanoiTowerGraph`: could you merge those two similar
  remarks into one?

- It is only my personal opinion, but I believe that the 'gasket' keyword is a
  sufficient protection to avoid misunderstandings. I do not believe that a
  'warning' is needed here (especially above the 'input' block). I would not see
  anything wrong with only a 'seealso', to help redirect lost users.

- Is there any reason to give those names to the vertices? Or is it only because
  of the positions? If they have no specific meaning, what would you think of
  relabelling the graph to integers before returning it (a call to `.relabel()`
  does that automatically)?

I added a commit at public/18498 with a couple of modifications:

- A modified 'vertical' layout

- A picture of the graph in its documentation

I you agree with those, you can cherry-pick that commit on your branch.

Thanks,

Nathann



---

archive/issue_comments_246445.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-04T08:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246445",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_246446.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-04T18:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246447.json:
```json
{
    "body": "Hello, merci !\n\nI think I have made the required changes.",
    "created_at": "2015-06-04T18:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246447",
    "user": "https://github.com/fchapoton"
}
```

Hello, merci !

I think I have made the required changes.



---

archive/issue_comments_246448.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-04T18:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246448",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_246449.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-05T07:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246449",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_246450.json:
```json
{
    "body": "> I think I have made the required changes.\n\n\nGreat, let's get it merged. Thanks for this addition!\n\nNathann",
    "created_at": "2015-06-05T07:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246450",
    "user": "https://github.com/nathanncohen"
}
```

> I think I have made the required changes.


Great, let's get it merged. Thanks for this addition!

Nathann



---

archive/issue_events_052019.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-06T12:47:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18498#event-52019"
}
```



---

archive/issue_comments_246451.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-06T12:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18498#issuecomment-246451",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
