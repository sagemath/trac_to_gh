# Issue 18001: Implement category for H, L, R, J trivials monoids

archive/issues_017764.json:
```json
{
    "body": "The aim is to integrate in the main Sage library the mature methods and examples for\n* H-trivial monoids\n* R-trivial monoids\n* L-trivial monoids\n* J-trivial monoids\n\nfrom the Sage-Semigroups package.   https://github.com/nthiery/sage-semigroups\n\nCC:  @nthiery @hivert @tscrim @saliola\n\nKeywords: monoids, days64\n\nBranch: public/18001\n\nStatus: new\n\nCommit: ea4a971931a876e5a4bc32671100c2c6c2e52920\n\nIssue created by migration from https://trac.sagemath.org/ticket/18001\n\n",
    "created_at": "2015-03-19T19:51:03Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Implement category for H, L, R, J trivials monoids",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18001",
    "user": "https://github.com/avirmaux"
}
```
The aim is to integrate in the main Sage library the mature methods and examples for
* H-trivial monoids
* R-trivial monoids
* L-trivial monoids
* J-trivial monoids

from the Sage-Semigroups package.   https://github.com/nthiery/sage-semigroups

CC:  @nthiery @hivert @tscrim @saliola

Keywords: monoids, days64

Branch: public/18001

Status: new

Commit: ea4a971931a876e5a4bc32671100c2c6c2e52920

Issue created by migration from https://trac.sagemath.org/ticket/18001





---

archive/issue_comments_237620.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2015-04-21T08:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237620",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_237621.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-13T13:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237622.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-27T15:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_051141.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-06-03T08:52:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51141"
}
```



---

archive/issue_events_051142.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-12T18:36:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51142"
}
```



---

archive/issue_events_051143.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-12T18:36:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51143"
}
```



---

archive/issue_comments_237623.json:
```json
{
    "body": "<a id='comment:7'></a>I have made a cleaner branch, starting from u/virmaux/develop.\n\nI have also corrected a few typos in the new files.\n\n---\nNew commits:",
    "created_at": "2016-08-12T18:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237623",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>I have made a cleaner branch, starting from u/virmaux/develop.

I have also corrected a few typos in the new files.

---
New commits:



---

archive/issue_comments_237624.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-12T18:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237625.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-12T18:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_051144.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-02-05T16:20:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51144"
}
```



---

archive/issue_events_051145.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-02-05T16:20:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51145"
}
```



---

archive/issue_comments_237626.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-28T13:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237627.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-28T17:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237628.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-29T06:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237628",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237629.json:
```json
{
    "body": "<a id='comment:18'></a>there is one non-obvious failing doctest remaining..",
    "created_at": "2018-05-01T10:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237629",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>there is one non-obvious failing doctest remaining..



---

archive/issue_comments_237630.json:
```json
{
    "body": "<a id='comment:19'></a>The failure comes from the fact that the category of `RTrivialMonoids().Finite()` is not enumerated, as opposed to the category of `Semigroups().Finite().FinitelyGenerated()`. So I think you just have to add `.FinitelyGenerated()`.\n\nFrom the code, it also looks like you want `JTrivialMonoids().Finite()` to imply `FinitelyGenerated()` since you are giving it a distinguished generating set.\n\nQuick doc comment: Sphinx doesn't like `*`H`-preorder*`; instead use ``H`-*preorder*`. Also, typo `preoder`.",
    "created_at": "2018-05-01T12:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237630",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>The failure comes from the fact that the category of `RTrivialMonoids().Finite()` is not enumerated, as opposed to the category of `Semigroups().Finite().FinitelyGenerated()`. So I think you just have to add `.FinitelyGenerated()`.

From the code, it also looks like you want `JTrivialMonoids().Finite()` to imply `FinitelyGenerated()` since you are giving it a distinguished generating set.

Quick doc comment: Sphinx doesn't like `*`H`-preorder*`; instead use ``H`-*preorder*`. Also, typo `preoder`.



---

archive/issue_comments_237631.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-01T15:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237631",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237632.json:
```json
{
    "body": "<a id='comment:21'></a>I have fixed your doc comments.\n\nConcerning the failing doctest, I have tried adding `.FinitelyGenerated()` but this does not fix it.",
    "created_at": "2018-05-05T09:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237632",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>I have fixed your doc comments.

Concerning the failing doctest, I have tried adding `.FinitelyGenerated()` but this does not fix it.



---

archive/issue_comments_237633.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-05T13:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237634.json:
```json
{
    "body": "<a id='comment:23'></a>Well, it does fix one problem: the enumeration and the lack of a `list()` method. (I'm not sure if that means some of these methods should actually belong to the finite finitely-generated semigroups category, and I have swept the problem under the run.)\n\nHowever, it then shows another problem, which seems to be rooted in the test itself. The method `j_transversal_of_idempotents` returns a list, but this test seems to be expecting a `dict`. So either the `j_transversal_of_idempotents` should now return a family whose keys are `index_of_regular_j_class` or the test itself needs to change. (BTW, there is a bug with `j_transversal_of_idempotents`; the output is cached, but it is a mutable list.)",
    "created_at": "2018-05-05T13:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237634",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>Well, it does fix one problem: the enumeration and the lack of a `list()` method. (I'm not sure if that means some of these methods should actually belong to the finite finitely-generated semigroups category, and I have swept the problem under the run.)

However, it then shows another problem, which seems to be rooted in the test itself. The method `j_transversal_of_idempotents` returns a list, but this test seems to be expecting a `dict`. So either the `j_transversal_of_idempotents` should now return a family whose keys are `index_of_regular_j_class` or the test itself needs to change. (BTW, there is a bug with `j_transversal_of_idempotents`; the output is cached, but it is a mutable list.)



---

archive/issue_comments_237635.json:
```json
{
    "body": "<a id='comment:24'></a>and also a superfluous import\n\n```\n+src/sage/categories/finite_semigroups.py:16: 'sage.categories.finite_enumerated_sets.FiniteEnumeratedSets' imported but unused\n```",
    "created_at": "2018-05-05T13:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237635",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>and also a superfluous import

```
+src/sage/categories/finite_semigroups.py:16: 'sage.categories.finite_enumerated_sets.FiniteEnumeratedSets' imported but unused
```



---

archive/issue_comments_237636.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-06T13:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_051146.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-07-07T13:21:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51146"
}
```



---

archive/issue_events_051147.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-07-07T13:21:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51147"
}
```



---

archive/issue_comments_237637.json:
```json
{
    "body": "<a id='comment:26'></a>any interest on this ? Nicolas ou Florent, \u00e7a vous motive un peu ou pas ?",
    "created_at": "2020-07-07T13:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237637",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>any interest on this ? Nicolas ou Florent, ça vous motive un peu ou pas ?



---

archive/issue_comments_237638.json:
```json
{
    "body": "<a id='comment:27'></a>I have interest, but no time. `:/`",
    "created_at": "2020-07-08T01:48:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237638",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>I have interest, but no time. `:/`



---

archive/issue_comments_237639.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-09T09:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_051148.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T16:37:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51148"
}
```



---

archive/issue_events_051149.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T16:37:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51149"
}
```



---

archive/issue_comments_237640.json:
```json
{
    "body": "<a id='comment:30'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237640",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_051150.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51150"
}
```



---

archive/issue_events_051151.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51151"
}
```



---

archive/issue_comments_237641.json:
```json
{
    "body": "<a id='comment:31'></a>or is this just a duplicate of #18265 ?",
    "created_at": "2021-07-01T07:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18001#issuecomment-237641",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>or is this just a duplicate of #18265 ?



---

archive/issue_events_051152.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51152"
}
```



---

archive/issue_events_051153.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51153"
}
```



---

archive/issue_events_051154.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51154"
}
```



---

archive/issue_events_051155.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51155"
}
```



---

archive/issue_events_051156.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T04:32:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51156"
}
```



---

archive/issue_events_051157.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T04:32:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51157"
}
```



---

archive/issue_events_051158.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51158"
}
```



---

archive/issue_events_051159.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18001",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18001#event-51159"
}
```
