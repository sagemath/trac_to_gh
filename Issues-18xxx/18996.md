# Issue 18996: pyzmq depends on cython

archive/issues_018759.json:
```json
{
    "body": "CC:  @kiwifb\n\n```\n[...]\ncopying zmq/utils/pyversion_compat.h -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils\ncopying zmq/utils/zmq_compat.h -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils\ncopying zmq/utils/zmq_constants.h -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils\ncopying zmq/utils/config.json -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils\ncopying zmq/utils/compiler.json -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils\nrunning build_ext\nrunning configure\nConfigure: Autodetecting ZMQ settings...\n    Custom ZMQ dir:       /mnt/disk/home/buildslave-sage/slave/sage_git/build/local\n************************************************\ncreating build/temp.linux-x86_64-2.7-pydebug/scratch/tmp\ncc -c /tmp/timer_createeGy6q5.c -o build/temp.linux-x86_64-2.7-pydebug/scratch/tmp/timer_createeGy6q5.o\n/tmp/timer_createeGy6q5.c:1:1: warning: return type defaults to 'int' [-Wimplicit-int]\n main (int argc, char **argv) {\n ^\n/tmp/timer_createeGy6q5.c: In function 'main':\n/tmp/timer_createeGy6q5.c:2:5: warning: implicit declaration of function 'timer_create' [-Wimplicit-function-declaration]\n     timer_create();\n     ^\ncc build/temp.linux-x86_64-2.7-pydebug/scratch/tmp/timer_createeGy6q5.o -o build/temp.linux-x86_64-2.7-pydebug/scratch/a.out\nbuild/temp.linux-x86_64-2.7-pydebug/scratch/tmp/timer_createeGy6q5.o: In function `main':\ntimer_createeGy6q5.c:(.text+0x15): undefined reference to `timer_create'\ncollect2: error: ld returned 1 exit status\ngcc -fno-strict-aliasing -g -O2 -g -O0 -Wall -fPIC -I/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/include -Izmq/utils -Izmq/backend/cython -Izmq/devices -c build/temp.linux-x86_64-2.7-pydebug/scratch/vers.c -o build/temp.linux-x86_64-2.7-pydebug/scratch/vers.o\ngcc build/temp.linux-x86_64-2.7-pydebug/scratch/vers.o -L/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -Wl,-R/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -lzmq -lrt -o build/temp.linux-x86_64-2.7-pydebug/scratch/vers\n    ZMQ version detected: 4.0.5\n************************************************\nfailed to import Cython: No module named Compiler.Main\nerror: Cython does not appear to be installed\n\nreal 0m1.548s\nuser 0m0.560s\nsys 0m0.175s\n************************************************************************\nError installing package pyzmq-14.3.0\n************************************************************************\nPlease email sage-devel (http://groups.google.com/group/sage-devel)\nexplaining the problem and including the relevant part of the log file\n  /mnt/disk/home/buildslave-sage/slave/sage_git/build/logs/pkgs/pyzmq-14.3.0.log\nDescribe your computer, operating system, etc.\nIf you want to try to fix the problem yourself, *don't* just cd to\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/pyzmq-14.3.0 and type 'make' or whatever is appropriate.\nInstead, the following commands setup all environment variables\ncorrectly and load a subshell for you to debug the error:\n  (cd '/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/pyzmq-14.3.0' && '/mnt/disk/home/buildslave-sage/slave/sage_git/build/sage' --sh)\nWhen you are done debugging, you can type \"exit\" to leave the subshell.\n************************************************************************\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/18996\n\n",
    "closed_at": "2015-08-06T20:16:47Z",
    "created_at": "2015-08-06T12:08:11Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "pyzmq depends on cython",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18996",
    "user": "https://github.com/vbraun"
}
```
CC:  @kiwifb

```
[...]
copying zmq/utils/pyversion_compat.h -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils
copying zmq/utils/zmq_compat.h -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils
copying zmq/utils/zmq_constants.h -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils
copying zmq/utils/config.json -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils
copying zmq/utils/compiler.json -> build/lib.linux-x86_64-2.7-pydebug/zmq/utils
running build_ext
running configure
Configure: Autodetecting ZMQ settings...
    Custom ZMQ dir:       /mnt/disk/home/buildslave-sage/slave/sage_git/build/local
************************************************
creating build/temp.linux-x86_64-2.7-pydebug/scratch/tmp
cc -c /tmp/timer_createeGy6q5.c -o build/temp.linux-x86_64-2.7-pydebug/scratch/tmp/timer_createeGy6q5.o
/tmp/timer_createeGy6q5.c:1:1: warning: return type defaults to 'int' [-Wimplicit-int]
 main (int argc, char **argv) {
 ^
/tmp/timer_createeGy6q5.c: In function 'main':
/tmp/timer_createeGy6q5.c:2:5: warning: implicit declaration of function 'timer_create' [-Wimplicit-function-declaration]
     timer_create();
     ^
cc build/temp.linux-x86_64-2.7-pydebug/scratch/tmp/timer_createeGy6q5.o -o build/temp.linux-x86_64-2.7-pydebug/scratch/a.out
build/temp.linux-x86_64-2.7-pydebug/scratch/tmp/timer_createeGy6q5.o: In function `main':
timer_createeGy6q5.c:(.text+0x15): undefined reference to `timer_create'
collect2: error: ld returned 1 exit status
gcc -fno-strict-aliasing -g -O2 -g -O0 -Wall -fPIC -I/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/include -Izmq/utils -Izmq/backend/cython -Izmq/devices -c build/temp.linux-x86_64-2.7-pydebug/scratch/vers.c -o build/temp.linux-x86_64-2.7-pydebug/scratch/vers.o
gcc build/temp.linux-x86_64-2.7-pydebug/scratch/vers.o -L/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -Wl,-R/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib -lzmq -lrt -o build/temp.linux-x86_64-2.7-pydebug/scratch/vers
    ZMQ version detected: 4.0.5
************************************************
failed to import Cython: No module named Compiler.Main
error: Cython does not appear to be installed

real 0m1.548s
user 0m0.560s
sys 0m0.175s
************************************************************************
Error installing package pyzmq-14.3.0
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the relevant part of the log file
  /mnt/disk/home/buildslave-sage/slave/sage_git/build/logs/pkgs/pyzmq-14.3.0.log
Describe your computer, operating system, etc.
If you want to try to fix the problem yourself, *don't* just cd to
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/pyzmq-14.3.0 and type 'make' or whatever is appropriate.
Instead, the following commands setup all environment variables
correctly and load a subshell for you to debug the error:
  (cd '/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/var/tmp/sage/build/pyzmq-14.3.0' && '/mnt/disk/home/buildslave-sage/slave/sage_git/build/sage' --sh)
When you are done debugging, you can type "exit" to leave the subshell.
************************************************************************
```

Issue created by migration from https://trac.sagemath.org/ticket/18996





---

archive/issue_comments_255830.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: standard.",
    "created_at": "2015-08-06T12:09:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18996#issuecomment-255830",
    "user": "https://github.com/vbraun"
}
```

Changing component from PLEASE CHANGE to packages: standard.



---

archive/issue_comments_255831.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2015-08-06T12:09:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18996#issuecomment-255831",
    "user": "https://github.com/vbraun"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_255832.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-06T12:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18996#issuecomment-255832",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_255833.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-08-06T12:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18996#issuecomment-255833",
    "user": "https://github.com/vbraun"
}
```

New commits:



---

archive/issue_comments_255834.json:
```json
{
    "body": "The message is fairly clear. It looks like this dependency may be missing in the Gentoo ebuild too . Upstream pyzmq doesn't list cython as a dependency but clearly should just looking at setup.py.",
    "created_at": "2015-08-06T12:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18996#issuecomment-255834",
    "user": "https://github.com/kiwifb"
}
```

The message is fairly clear. It looks like this dependency may be missing in the Gentoo ebuild too . Upstream pyzmq doesn't list cython as a dependency but clearly should just looking at setup.py.



---

archive/issue_comments_255835.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-08-06T12:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18996#issuecomment-255835",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_255836.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-08-06T20:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18996#issuecomment-255836",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_052910.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-08-06T20:16:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18996",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18996#event-52910"
}
```
