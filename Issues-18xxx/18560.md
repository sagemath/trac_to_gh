# Issue 18560: Upgrade arb to 2.6.0

archive/issues_018323.json:
```json
{
    "assignees": [],
    "body": "Upgrade the optional arb spkg to version 2.6.0.\n\nTar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n\nCC:  @mezzarobba @fredrik-johansson @jhpalmieri\n\nKeywords: **arb**\n\nBranch/Commit: **[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Clemens Heuberger**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18560_\n\n",
    "closed_at": "2015-06-06T12:47:46Z",
    "created_at": "2015-05-31T09:32:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade arb to 2.6.0",
    "type": "issue",
    "updated_at": "2015-06-06T12:47:46Z",
    "url": "https://github.com/sagemath/sage/issues/18560",
    "user": "https://github.com/cheuberg"
}
```
Upgrade the optional arb spkg to version 2.6.0.

Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)

CC:  @mezzarobba @fredrik-johansson @jhpalmieri

Keywords: **arb**

Branch/Commit: **[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**

Reviewer: **Jeroen Demeyer**

Author: **Clemens Heuberger**

_Issue created by migration from https://trac.sagemath.org/ticket/18560_





---

archive/issue_events_246117.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246117"
}
```



---

archive/issue_events_246118.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246118"
}
```



---

archive/issue_events_246119.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246119"
}
```



---

archive/issue_events_246120.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246120"
}
```



---

archive/issue_comments_260328.json:
```json
{
    "body": "Branch: **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)**",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260328",
    "user": "https://github.com/cheuberg"
}
```

Branch: **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)**



---

archive/issue_comments_260329.json:
```json
{
    "body": "Commit: **[adad105](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)**",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260329",
    "user": "https://github.com/cheuberg"
}
```

Commit: **[adad105](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)**



---

archive/issue_events_246121.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:53:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246121"
}
```



---

archive/issue_comments_260330.json:
```json
{
    "body": "Changed keywords from **** to **arb**",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260330",
    "user": "https://github.com/cheuberg"
}
```

Changed keywords from **** to **arb**



---

archive/issue_comments_260331.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc\">adad105</a></td><td><code>Trac 18560: Upgrade arb to 2.6.0</code></td></tr></table>\n",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260331",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc">adad105</a></td><td><code>Trac 18560: Upgrade arb to 2.6.0</code></td></tr></table>




---

archive/issue_comments_260332.json:
```json
{
    "body": "Changed commit from **[adad105](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)** to **[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)**",
    "created_at": "2015-05-31T10:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[adad105](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)** to **[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)**



---

archive/issue_comments_260333.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574\">8d0b599</a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>\n",
    "created_at": "2015-05-31T10:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260333",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574">8d0b599</a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>




---

archive/issue_comments_260334.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReplying to [git](#comment%3A2):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574\">8d0b599</a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>\n\nPerhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?",
    "created_at": "2015-06-01T07:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260334",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:3'>Comment 3:</a>
Replying to [git](#comment%3A2):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574">8d0b599</a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>

Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?



---

archive/issue_comments_260335.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@mezzarobba](#comment%3A3):\n> Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?\n\n- I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?\n- I think that at least some kind of plausibility checking is interesting --- if the old and new balls do not intersect, we'd be in trouble.\n- On the other hand, changing doctests with each new revision of arb seems to be uncomfortable, too.",
    "created_at": "2015-06-01T07:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260335",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@mezzarobba](#comment%3A3):
> Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?

- I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?
- I think that at least some kind of plausibility checking is interesting --- if the old and new balls do not intersect, we'd be in trouble.
- On the other hand, changing doctests with each new revision of arb seems to be uncomfortable, too.



---

archive/issue_comments_260336.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@cheuberg](#comment%3A4):\n> Replying to [@mezzarobba](#comment%3A3):\n> > Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?\n\n> \n> - I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?\n\nThe tolerance simply applies independently to the center and the radius, so that in many cases `# abs tol 1e-15` will do something reasonable.",
    "created_at": "2015-06-01T07:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260336",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@cheuberg](#comment%3A4):
> Replying to [@mezzarobba](#comment%3A3):
> > Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?

> 
> - I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?

The tolerance simply applies independently to the center and the radius, so that in many cases `# abs tol 1e-15` will do something reasonable.



---

archive/issue_comments_260337.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThis builds and passes its test suite on OS X 10.10.3.",
    "created_at": "2015-06-01T15:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260337",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'>Comment 6:</a>
This builds and passes its test suite on OS X 10.10.3.



---

archive/issue_events_246122.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T15:50:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246122"
}
```



---

archive/issue_events_246123.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T15:50:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246123"
}
```



---

archive/issue_comments_260338.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n\n```\nbash-3.2$ ./sage -i arb\nFound local metadata for arb-2.6.0\nFound local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\nChecksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3\nInvalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n```",
    "created_at": "2015-06-01T15:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260338",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>

```
bash-3.2$ ./sage -i arb
Found local metadata for arb-2.6.0
Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3
Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
```



---

archive/issue_comments_260339.json:
```json
{
    "body": "Changed commit from **[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)** to **[6b54edc](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)**",
    "created_at": "2015-06-01T16:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260339",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)** to **[6b54edc](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)**



---

archive/issue_comments_260340.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48680efd43f706cc5083024c281b5c617c71cf0b\">48680ef</a></td><td><code>Revert \"Trac #18560: fix doctests after arb upgrade\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea\">6b54edc</a></td><td><code>Trac #18560: add tolerance for doctests</code></td></tr></table>\n",
    "created_at": "2015-06-01T16:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260340",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48680efd43f706cc5083024c281b5c617c71cf0b">48680ef</a></td><td><code>Revert "Trac #18560: fix doctests after arb upgrade"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea">6b54edc</a></td><td><code>Trac #18560: add tolerance for doctests</code></td></tr></table>




---

archive/issue_comments_260341.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@jdemeyer](#comment%3A7):\n> \n> ```\n> bash-3.2$ ./sage -i arb\n> Found local metadata for arb-2.6.0\n> Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n> Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3\n> Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n> ```\n\nI do not understand what happened.\nI just tried it again:\n\n```\n$ wget https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz\n...\n$ sha1sum 2.6.0.tar.gz \ne8c367b9f617262b4a7e9956cf49b6acf5c0db24  2.6.0.tar.gz\n```\nwhich is what the checksum should be.\n\nI now put a copy of the tar.gz file to http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz , could you please try that file (which also has a better file name for our purposes)? Thank you.\n\nAs I cannot reproduce the problem, I set the ticket back to needs_review.",
    "created_at": "2015-06-01T16:17:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260341",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@jdemeyer](#comment%3A7):
> 
> ```
> bash-3.2$ ./sage -i arb
> Found local metadata for arb-2.6.0
> Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
> Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3
> Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
> ```

I do not understand what happened.
I just tried it again:

```
$ wget https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz
...
$ sha1sum 2.6.0.tar.gz 
e8c367b9f617262b4a7e9956cf49b6acf5c0db24  2.6.0.tar.gz
```
which is what the checksum should be.

I now put a copy of the tar.gz file to http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz , could you please try that file (which also has a better file name for our purposes)? Thank you.

As I cannot reproduce the problem, I set the ticket back to needs_review.



---

archive/issue_events_246124.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-01T16:17:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246124"
}
```



---

archive/issue_events_246125.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-01T16:17:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246125"
}
```



---

archive/issue_comments_260342.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Upgrade the optional arb spkg to version 2.6.0.\n \n-Tar.gz file at [https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz](https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz)\n+Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n``````\n",
    "created_at": "2015-06-01T16:32:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260342",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Upgrade the optional arb spkg to version 2.6.0.
 
-Tar.gz file at [https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz](https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz)
+Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
``````




---

archive/issue_comments_260343.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Upgrade the optional arb spkg to version 2.6.0.\n \n-Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n+Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n``````\n",
    "created_at": "2015-06-01T16:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260343",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Upgrade the optional arb spkg to version 2.6.0.
 
-Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
+Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
``````




---

archive/issue_comments_260344.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nOK, the problem was that `curl` (which I used to download the package) doesn't follow redirects.",
    "created_at": "2015-06-01T16:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260344",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'>Comment 13:</a>
OK, the problem was that `curl` (which I used to download the package) doesn't follow redirects.



---

archive/issue_comments_260345.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nWhy are you choosing absolute tolerances over relative tolerances in the doctests?",
    "created_at": "2015-06-02T12:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260345",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'>Comment 14:</a>
Why are you choosing absolute tolerances over relative tolerances in the doctests?



---

archive/issue_comments_260346.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nCan you make the files `spkg-install` and `spkg-check` executable please?",
    "created_at": "2015-06-02T12:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260346",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Can you make the files `spkg-install` and `spkg-check` executable please?



---

archive/issue_comments_260347.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nAbout the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.",
    "created_at": "2015-06-02T12:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260347",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.



---

archive/issue_events_246126.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T12:31:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246126"
}
```



---

archive/issue_events_246127.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T12:31:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246127"
}
```



---

archive/issue_comments_260348.json:
```json
{
    "body": "Changed commit from **[6b54edc](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)** to **[3b534cb](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)**",
    "created_at": "2015-06-02T18:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260348",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6b54edc](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)** to **[3b534cb](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)**



---

archive/issue_comments_260349.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e\">3b534cb</a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>\n",
    "created_at": "2015-06-02T18:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260349",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e">3b534cb</a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>




---

archive/issue_comments_260350.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nReplying to [@jdemeyer](#comment%3A14):\n> Why are you choosing absolute tolerances over relative tolerances in the doctests?\n\nIn most cases, the relative changes in the radius is around 0.1, but I would not like to allow a relative tolerance of 0.1 for the center of the ball. Unless there is a way of specifying different relative tolerances for radius and center of the ball?",
    "created_at": "2015-06-02T18:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260350",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:19'>Comment 19:</a>
Replying to [@jdemeyer](#comment%3A14):
> Why are you choosing absolute tolerances over relative tolerances in the doctests?

In most cases, the relative changes in the radius is around 0.1, but I would not like to allow a relative tolerance of 0.1 for the center of the ball. Unless there is a way of specifying different relative tolerances for radius and center of the ball?



---

archive/issue_comments_260351.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@jdemeyer](#comment%3A16):\n> About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.\n\nIt might well be the case that the tolerances I introduced above might be too small when the upgrade to the next arb version or that other tests require new tolerances. At the moment, we could easily go back to the modified doctests I already reverted once. And switching back to tolerances when we realize that we keep changing doctests with every arb version would not to be hard, either.\n\nOTOH: I am not sure whether all machines will return the same error in all computations, but that's perhaps something that Fredrik could comment on?\n\nMarc, you suggested using tolerances. Any further comments on this issue?",
    "created_at": "2015-06-02T18:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260351",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@jdemeyer](#comment%3A16):
> About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.

It might well be the case that the tolerances I introduced above might be too small when the upgrade to the next arb version or that other tests require new tolerances. At the moment, we could easily go back to the modified doctests I already reverted once. And switching back to tolerances when we realize that we keep changing doctests with every arb version would not to be hard, either.

OTOH: I am not sure whether all machines will return the same error in all computations, but that's perhaps something that Fredrik could comment on?

Marc, you suggested using tolerances. Any further comments on this issue?



---

archive/issue_comments_260352.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@cheuberg](#comment%3A20):\n> OTOH: I am not sure whether all machines will return the same error in all computations\n\nAs far as I understand, yes, they will.\n\n> Marc, you suggested using tolerances. Any further comments on this issue?\n\nNot really. I agree with you on the choice of absolute tolerances, and I don't understand Jeroen's argument against tolerances, but honestly I don't care much.",
    "created_at": "2015-06-03T06:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260352",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@cheuberg](#comment%3A20):
> OTOH: I am not sure whether all machines will return the same error in all computations

As far as I understand, yes, they will.

> Marc, you suggested using tolerances. Any further comments on this issue?

Not really. I agree with you on the choice of absolute tolerances, and I don't understand Jeroen's argument against tolerances, but honestly I don't care much.



---

archive/issue_comments_260353.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@mezzarobba](#comment%3A21):\n> I don't understand Jeroen's argument against tolerances, but honestly I don't care much.\n\nThe problem with tolerances is:\n1. since a ball is defined by 2 numbers, it will always be awkward to use tolerances since you cannot easily give different tolerances for the center and radius.\n2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense\n3. `arb` is supposed to be system-independent, so we actually want to know if even the last digit of some result is wrong.",
    "created_at": "2015-06-03T08:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260353",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@mezzarobba](#comment%3A21):
> I don't understand Jeroen's argument against tolerances, but honestly I don't care much.

The problem with tolerances is:
1. since a ball is defined by 2 numbers, it will always be awkward to use tolerances since you cannot easily give different tolerances for the center and radius.
2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense
3. `arb` is supposed to be system-independent, so we actually want to know if even the last digit of some result is wrong.



---

archive/issue_comments_260354.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nResults can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided, but it's safest to think of arb as actually employing randomization, which unfortunately doesn't play well with doctesting. Two reasonable workarounds would be:\n\n1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n\n2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).",
    "created_at": "2015-06-03T13:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260354",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:23'>Comment 23:</a>
Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided, but it's safest to think of arb as actually employing randomization, which unfortunately doesn't play well with doctesting. Two reasonable workarounds would be:

1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.

2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).



---

archive/issue_comments_260355.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nThe two statements seem to contradict each other:\n\nReplying to [@fredrik-johansson](#comment%3A23):\n> Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided\n\n> it's safest to think of arb as actually employing randomization",
    "created_at": "2015-06-04T06:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260355",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>Comment 24:</a>
The two statements seem to contradict each other:

Replying to [@fredrik-johansson](#comment%3A23):
> Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided

> it's safest to think of arb as actually employing randomization



---

archive/issue_comments_260356.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@fredrik-johansson](#comment%3A23):\n> 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n\nIf we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.\n\n> 2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).\n\nThis would require writing a much more complicated doctest parser (remember you don't just want balls, but also polynomials/lists/matrices with ball coefficients and then you'll also want support for complex numbers, mpfi intervals and who knows what), I don't think this is a realistic solution.",
    "created_at": "2015-06-04T06:20:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260356",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@fredrik-johansson](#comment%3A23):
> 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.

If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.

> 2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).

This would require writing a much more complicated doctest parser (remember you don't just want balls, but also polynomials/lists/matrices with ball coefficients and then you'll also want support for complex numbers, mpfi intervals and who knows what), I don't think this is a realistic solution.



---

archive/issue_comments_260357.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@jdemeyer](#comment%3A22):\n> 2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense\n\nI cannot tell whether it is harder to review tolerances or changes to doctests like in commit [8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574).",
    "created_at": "2015-06-04T07:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260357",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@jdemeyer](#comment%3A22):
> 2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense

I cannot tell whether it is harder to review tolerances or changes to doctests like in commit [8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574).



---

archive/issue_comments_260358.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@jdemeyer](#comment%3A25):\n> Replying to [@fredrik-johansson](#comment%3A23):\n> > 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n\n> If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.\n\nI do not like the idea of always printing less information than we actually have. After all, we precisely know the error, so dilluting it seems somehow crude.",
    "created_at": "2015-06-04T07:13:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260358",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@jdemeyer](#comment%3A25):
> Replying to [@fredrik-johansson](#comment%3A23):
> > 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.

> If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.

I do not like the idea of always printing less information than we actually have. After all, we precisely know the error, so dilluting it seems somehow crude.



---

archive/issue_comments_260359.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nReplying to [@cheuberg](#comment%3A27):\n> I do not like the idea of always printing less information than we actually have.\n\nOn the other hand, when do you really care about seeing the last few digits in a many-digit number? Like I said, we are already printing elements of `RR` like that and I don't think anybody ever complained about it.",
    "created_at": "2015-06-04T07:37:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260359",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'>Comment 28:</a>
Replying to [@cheuberg](#comment%3A27):
> I do not like the idea of always printing less information than we actually have.

On the other hand, when do you really care about seeing the last few digits in a many-digit number? Like I said, we are already printing elements of `RR` like that and I don't think anybody ever complained about it.



---

archive/issue_comments_260360.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nReplying to [@jdemeyer](#comment%3A24):\n> The two statements seem to contradict each other:\n> \n> Replying to [@fredrik-johansson](#comment%3A23):\n> > Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided\n\n> \n> > it's safest to think of arb as actually employing randomization\n\nWhat I mean is that you might run through billions of values before you see a difference, but if you assume that a difference *never* occurs and implicitly base your code on this assumption (perhaps forgoing using the radius information before converting output to floating-point numbers), then it could potentially bite you in a serious way when it does.",
    "created_at": "2015-06-04T11:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260360",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:29'>Comment 29:</a>
Replying to [@jdemeyer](#comment%3A24):
> The two statements seem to contradict each other:
> 
> Replying to [@fredrik-johansson](#comment%3A23):
> > Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided

> 
> > it's safest to think of arb as actually employing randomization

What I mean is that you might run through billions of values before you see a difference, but if you assume that a difference *never* occurs and implicitly base your code on this assumption (perhaps forgoing using the radius information before converting output to floating-point numbers), then it could potentially bite you in a serious way when it does.



---

archive/issue_comments_260361.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@fredrik-johansson](#comment%3A29):\n> it could potentially bite you in a serious way when it does.\n\nWell, doctests never \"bite you in a serious way\" so I'm willing to take my chances here.\n\nIf the problem turns out to be more common then expected, we can still change our strategy.",
    "created_at": "2015-06-04T11:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260361",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@fredrik-johansson](#comment%3A29):
> it could potentially bite you in a serious way when it does.

Well, doctests never "bite you in a serious way" so I'm willing to take my chances here.

If the problem turns out to be more common then expected, we can still change our strategy.



---

archive/issue_comments_260362.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nAs for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:\n\n`RBF = RealBallField(53, print_digits=10)`",
    "created_at": "2015-06-04T11:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260362",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:31'>Comment 31:</a>
As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:

`RBF = RealBallField(53, print_digits=10)`



---

archive/issue_comments_260363.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@fredrik-johansson](#comment%3A31):\n> As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:\n> \n> `RBF = RealBallField(53, print_digits=10)`\n\n-1 because it clutters the doctests for no obvious advantage.",
    "created_at": "2015-06-04T11:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260363",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@fredrik-johansson](#comment%3A31):
> As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:
> 
> `RBF = RealBallField(53, print_digits=10)`

-1 because it clutters the doctests for no obvious advantage.



---

archive/issue_comments_260364.json:
```json
{
    "body": "Changed branch from **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)** to **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)**",
    "created_at": "2015-06-04T15:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260364",
    "user": "https://github.com/cheuberg"
}
```

Changed branch from **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)** to **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)**



---

archive/issue_events_246128.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-04T15:15:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246128"
}
```



---

archive/issue_events_246129.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-04T15:15:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246129"
}
```



---

archive/issue_comments_260365.json:
```json
{
    "body": "Changed commit from **[3b534cb](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)** to **[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**",
    "created_at": "2015-06-04T15:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260365",
    "user": "https://github.com/cheuberg"
}
```

Changed commit from **[3b534cb](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)** to **[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**



---

archive/issue_comments_260366.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nReplying to [@jdemeyer](#comment%3A30):\n> Well, doctests never \"bite you in a serious way\" so I'm willing to take my chances here.\n> \n> If the problem turns out to be more common then expected, we can still change our strategy.\n\nThere is only one way to find out how common that problem will be ...\n\nThus I attach a branch without tolerances, but with modified doctests (as before), plus `spkg-{check,install}` executable as discussed above.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd\">922b674</a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>\n",
    "created_at": "2015-06-04T15:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260366",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:33'>Comment 33:</a>
Replying to [@jdemeyer](#comment%3A30):
> Well, doctests never "bite you in a serious way" so I'm willing to take my chances here.
> 
> If the problem turns out to be more common then expected, we can still change our strategy.

There is only one way to find out how common that problem will be ...

Thus I attach a branch without tolerances, but with modified doctests (as before), plus `spkg-{check,install}` executable as discussed above.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd">922b674</a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>




---

archive/issue_comments_260367.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-06-05T11:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260367",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_246130.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-05T11:42:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246130"
}
```



---

archive/issue_events_246131.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-05T11:42:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246131"
}
```



---

archive/issue_comments_260368.json:
```json
{
    "body": "Changed branch from **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)** to **[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**",
    "created_at": "2015-06-06T12:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-260368",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)** to **[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**



---

archive/issue_events_246132.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-06T12:47:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246132"
}
```



---

archive/issue_events_246133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "46bf8a299cfd25b0df12f902b4f422b76018f07a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-06-06T12:47:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-246133"
}
```
