# Issue 18560: Upgrade arb to 2.6.0

archive/issues_018323.json:
```json
{
    "body": "Upgrade the optional arb spkg to version 2.6.0.\n\nTar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n\nCC:  @mezzarobba @fredrik-johansson @jhpalmieri\n\nKeywords: arb\n\nBranch/Commit: [922b67430ff5863f5dd2426bf42aa3b9bde83cfd](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)\n\nReviewer: Jeroen Demeyer\n\nAuthor: Clemens Heuberger\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18560\n\n",
    "closed_at": "2015-06-06T12:47:46Z",
    "created_at": "2015-05-31T09:32:48Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Upgrade arb to 2.6.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18560",
    "user": "https://github.com/cheuberg"
}
```
Upgrade the optional arb spkg to version 2.6.0.

Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)

CC:  @mezzarobba @fredrik-johansson @jhpalmieri

Keywords: arb

Branch/Commit: [922b67430ff5863f5dd2426bf42aa3b9bde83cfd](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)

Reviewer: Jeroen Demeyer

Author: Clemens Heuberger

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18560





---

archive/issue_comments_329441.json:
```json
{
    "body": "Changing branch from \"\" to \"u/cheuberg/libs/arb-2.6.0\"",
    "created_at": "2015-05-31T09:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329441",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "" to "u/cheuberg/libs/arb-2.6.0"



---

archive/issue_comments_329442.json:
```json
{
    "body": "Changing commit from \"\" to \"adad105f55f46fbefc951bda91950513219cf3bc\"",
    "created_at": "2015-05-31T09:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329442",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "" to "adad105f55f46fbefc951bda91950513219cf3bc"



---

archive/issue_comments_329443.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-31T09:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329443",
    "user": "https://github.com/cheuberg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_329444.json:
```json
{
    "body": "Changing keywords from \"\" to \"arb\".",
    "created_at": "2015-05-31T09:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329444",
    "user": "https://github.com/cheuberg"
}
```

Changing keywords from "" to "arb".



---

archive/issue_comments_329445.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[adad105](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)|`Trac 18560: Upgrade arb to 2.6.0`|",
    "created_at": "2015-05-31T09:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329445",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[adad105](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)|`Trac 18560: Upgrade arb to 2.6.0`|



---

archive/issue_comments_329446.json:
```json
{
    "body": "Changing commit from \"adad105f55f46fbefc951bda91950513219cf3bc\" to \"8d0b5995900b15f4594421f9baac0fe0faaa6574\"",
    "created_at": "2015-05-31T10:18:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "adad105f55f46fbefc951bda91950513219cf3bc" to "8d0b5995900b15f4594421f9baac0fe0faaa6574"



---

archive/issue_comments_329447.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)|`Trac #18560: fix doctests after arb upgrade`|",
    "created_at": "2015-05-31T10:18:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329447",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)|`Trac #18560: fix doctests after arb upgrade`|



---

archive/issue_comments_329448.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [git](#comment%3A2):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                          |                                             |\n> |------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n> |[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)|`Trac #18560: fix doctests after arb upgrade`|\n\n\nPerhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?",
    "created_at": "2015-06-01T07:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329448",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:3'></a>
Replying to [git](#comment%3A2):
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                          |                                             |
> |------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
> |[8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)|`Trac #18560: fix doctests after arb upgrade`|


Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?



---

archive/issue_comments_329449.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [mmezzarobba](#comment%3A3):\n> Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?\n\n\n- I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?\n- I think that at least some kind of plausibility checking is interesting --- if the old and new balls do not intersect, we'd be in trouble.\n- On the other hand, changing doctests with each new revision of arb seems to be uncomfortable, too.",
    "created_at": "2015-06-01T07:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329449",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:4'></a>
Replying to [mmezzarobba](#comment%3A3):
> Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?


- I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?
- I think that at least some kind of plausibility checking is interesting --- if the old and new balls do not intersect, we'd be in trouble.
- On the other hand, changing doctests with each new revision of arb seems to be uncomfortable, too.



---

archive/issue_comments_329450.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [cheuberg](#comment%3A4):\n> Replying to [mmezzarobba](#comment%3A3):\n> > Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?\n\n> \n> - I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?\n\n\nThe tolerance simply applies independently to the center and the radius, so that in many cases `# abs tol 1e-15` will do something reasonable.",
    "created_at": "2015-06-01T07:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329450",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:5'></a>
Replying to [cheuberg](#comment%3A4):
> Replying to [mmezzarobba](#comment%3A3):
> > Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?

> 
> - I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?


The tolerance simply applies independently to the center and the radius, so that in many cases `# abs tol 1e-15` will do something reasonable.



---

archive/issue_comments_329451.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis builds and passes its test suite on OS X 10.10.3.",
    "created_at": "2015-06-01T15:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329451",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
This builds and passes its test suite on OS X 10.10.3.



---

archive/issue_comments_329452.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-01T15:50:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329452",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_329453.json:
```json
{
    "body": "<a id='comment:7'></a>\n\n```\nbash-3.2$ ./sage -i arb\nFound local metadata for arb-2.6.0\nFound local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\nChecksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3\nInvalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n```",
    "created_at": "2015-06-01T15:50:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329453",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>

```
bash-3.2$ ./sage -i arb
Found local metadata for arb-2.6.0
Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3
Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
```



---

archive/issue_comments_329454.json:
```json
{
    "body": "Changing commit from \"8d0b5995900b15f4594421f9baac0fe0faaa6574\" to \"6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea\"",
    "created_at": "2015-06-01T16:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329454",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8d0b5995900b15f4594421f9baac0fe0faaa6574" to "6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea"



---

archive/issue_comments_329455.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[48680ef](https://github.com/sagemath/sagetrac-mirror/commit/48680efd43f706cc5083024c281b5c617c71cf0b)|`Revert \"Trac #18560: fix doctests after arb upgrade\"`|\n|[6b54edc](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)|`Trac #18560: add tolerance for doctests`|",
    "created_at": "2015-06-01T16:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329455",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[48680ef](https://github.com/sagemath/sagetrac-mirror/commit/48680efd43f706cc5083024c281b5c617c71cf0b)|`Revert "Trac #18560: fix doctests after arb upgrade"`|
|[6b54edc](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)|`Trac #18560: add tolerance for doctests`|



---

archive/issue_comments_329456.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [jdemeyer](#comment%3A7):\n> {{{\n> bash-3.2$ ./sage -i arb\n> Found local metadata for arb-2.6.0\n> Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n> Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3\n> Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n> }}}\n\n\nI do not understand what happened.\nI just tried it again:\n\n```\n$ wget https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz\n...\n$ sha1sum 2.6.0.tar.gz \ne8c367b9f617262b4a7e9956cf49b6acf5c0db24  2.6.0.tar.gz\n```\nwhich is what the checksum should be.\n\nI now put a copy of the tar.gz file to http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz , could you please try that file (which also has a better file name for our purposes)? Thank you.\n\nAs I cannot reproduce the problem, I set the ticket back to needs_review.",
    "created_at": "2015-06-01T16:17:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329456",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:9'></a>
Replying to [jdemeyer](#comment%3A7):
> {{{
> bash-3.2$ ./sage -i arb
> Found local metadata for arb-2.6.0
> Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
> Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3
> Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
> }}}


I do not understand what happened.
I just tried it again:

```
$ wget https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz
...
$ sha1sum 2.6.0.tar.gz 
e8c367b9f617262b4a7e9956cf49b6acf5c0db24  2.6.0.tar.gz
```
which is what the checksum should be.

I now put a copy of the tar.gz file to http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz , could you please try that file (which also has a better file name for our purposes)? Thank you.

As I cannot reproduce the problem, I set the ticket back to needs_review.



---

archive/issue_comments_329457.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-01T16:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329457",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_329458.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Upgrade the optional arb spkg to version 2.6.0.\n \n-Tar.gz file at [https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz](https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz)\n+Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n``````\n",
    "created_at": "2015-06-01T16:32:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329458",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Upgrade the optional arb spkg to version 2.6.0.
 
-Tar.gz file at [https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz](https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz)
+Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
``````




---

archive/issue_comments_329459.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Upgrade the optional arb spkg to version 2.6.0.\n \n-Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n+Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n``````\n",
    "created_at": "2015-06-01T16:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329459",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Upgrade the optional arb spkg to version 2.6.0.
 
-Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
+Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
``````




---

archive/issue_comments_329460.json:
```json
{
    "body": "<a id='comment:13'></a>\nOK, the problem was that `curl` (which I used to download the package) doesn't follow redirects.",
    "created_at": "2015-06-01T16:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329460",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
OK, the problem was that `curl` (which I used to download the package) doesn't follow redirects.



---

archive/issue_comments_329461.json:
```json
{
    "body": "<a id='comment:14'></a>\nWhy are you choosing absolute tolerances over relative tolerances in the doctests?",
    "created_at": "2015-06-02T12:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329461",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Why are you choosing absolute tolerances over relative tolerances in the doctests?



---

archive/issue_comments_329462.json:
```json
{
    "body": "<a id='comment:15'></a>\nCan you make the files `spkg-install` and `spkg-check` executable please?",
    "created_at": "2015-06-02T12:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329462",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Can you make the files `spkg-install` and `spkg-check` executable please?



---

archive/issue_comments_329463.json:
```json
{
    "body": "<a id='comment:16'></a>\nAbout the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.",
    "created_at": "2015-06-02T12:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329463",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.



---

archive/issue_comments_329464.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-02T12:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329464",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_329465.json:
```json
{
    "body": "Changing commit from \"6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea\" to \"3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e\"",
    "created_at": "2015-06-02T18:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea" to "3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e"



---

archive/issue_comments_329466.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[3b534cb](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)|`Trac #18560: spkg-{check,install} executable`|",
    "created_at": "2015-06-02T18:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329466",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[3b534cb](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)|`Trac #18560: spkg-{check,install} executable`|



---

archive/issue_comments_329467.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [jdemeyer](#comment%3A14):\n> Why are you choosing absolute tolerances over relative tolerances in the doctests?\n\n\nIn most cases, the relative changes in the radius is around 0.1, but I would not like to allow a relative tolerance of 0.1 for the center of the ball. Unless there is a way of specifying different relative tolerances for radius and center of the ball?",
    "created_at": "2015-06-02T18:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329467",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:19'></a>
Replying to [jdemeyer](#comment%3A14):
> Why are you choosing absolute tolerances over relative tolerances in the doctests?


In most cases, the relative changes in the radius is around 0.1, but I would not like to allow a relative tolerance of 0.1 for the center of the ball. Unless there is a way of specifying different relative tolerances for radius and center of the ball?



---

archive/issue_comments_329468.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [jdemeyer](#comment%3A16):\n> About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.\n\n\nIt might well be the case that the tolerances I introduced above might be too small when the upgrade to the next arb version or that other tests require new tolerances. At the moment, we could easily go back to the modified doctests I already reverted once. And switching back to tolerances when we realize that we keep changing doctests with every arb version would not to be hard, either.\n\nOTOH: I am not sure whether all machines will return the same error in all computations, but that's perhaps something that Fredrik could comment on?\n\nMarc, you suggested using tolerances. Any further comments on this issue?",
    "created_at": "2015-06-02T18:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329468",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:20'></a>
Replying to [jdemeyer](#comment%3A16):
> About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.


It might well be the case that the tolerances I introduced above might be too small when the upgrade to the next arb version or that other tests require new tolerances. At the moment, we could easily go back to the modified doctests I already reverted once. And switching back to tolerances when we realize that we keep changing doctests with every arb version would not to be hard, either.

OTOH: I am not sure whether all machines will return the same error in all computations, but that's perhaps something that Fredrik could comment on?

Marc, you suggested using tolerances. Any further comments on this issue?



---

archive/issue_comments_329469.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [cheuberg](#comment%3A20):\n> OTOH: I am not sure whether all machines will return the same error in all computations\n\n\nAs far as I understand, yes, they will.\n\n> Marc, you suggested using tolerances. Any further comments on this issue?\n\n\nNot really. I agree with you on the choice of absolute tolerances, and I don't understand Jeroen's argument against tolerances, but honestly I don't care much.",
    "created_at": "2015-06-03T06:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329469",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:21'></a>
Replying to [cheuberg](#comment%3A20):
> OTOH: I am not sure whether all machines will return the same error in all computations


As far as I understand, yes, they will.

> Marc, you suggested using tolerances. Any further comments on this issue?


Not really. I agree with you on the choice of absolute tolerances, and I don't understand Jeroen's argument against tolerances, but honestly I don't care much.



---

archive/issue_comments_329470.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [mmezzarobba](#comment%3A21):\n> I don't understand Jeroen's argument against tolerances, but honestly I don't care much.\n\nThe problem with tolerances is:\n1. since a ball is defined by 2 numbers, it will always be awkward to use tolerances since you cannot easily give different tolerances for the center and radius.\n2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense\n3. `arb` is supposed to be system-independent, so we actually want to know if even the last digit of some result is wrong.",
    "created_at": "2015-06-03T08:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329470",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Replying to [mmezzarobba](#comment%3A21):
> I don't understand Jeroen's argument against tolerances, but honestly I don't care much.

The problem with tolerances is:
1. since a ball is defined by 2 numbers, it will always be awkward to use tolerances since you cannot easily give different tolerances for the center and radius.
2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense
3. `arb` is supposed to be system-independent, so we actually want to know if even the last digit of some result is wrong.



---

archive/issue_comments_329471.json:
```json
{
    "body": "<a id='comment:23'></a>\nResults can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided, but it's safest to think of arb as actually employing randomization, which unfortunately doesn't play well with doctesting. Two reasonable workarounds would be:\n\n1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n\n2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).",
    "created_at": "2015-06-03T13:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329471",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:23'></a>
Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided, but it's safest to think of arb as actually employing randomization, which unfortunately doesn't play well with doctesting. Two reasonable workarounds would be:

1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.

2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).



---

archive/issue_comments_329472.json:
```json
{
    "body": "<a id='comment:24'></a>\nThe two statements seem to contradict each other:\n\nReplying to [fredrik.johansson](#comment%3A23):\n> Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided\n\n\n> it's safest to think of arb as actually employing randomization",
    "created_at": "2015-06-04T06:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329472",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
The two statements seem to contradict each other:

Replying to [fredrik.johansson](#comment%3A23):
> Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided


> it's safest to think of arb as actually employing randomization



---

archive/issue_comments_329473.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [fredrik.johansson](#comment%3A23):\n> 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n  \nIf we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.\n\n> 2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).\n\n\nThis would require writing a much more complicated doctest parser (remember you don't just want balls, but also polynomials/lists/matrices with ball coefficients and then you'll also want support for complex numbers, mpfi intervals and who knows what), I don't think this is a realistic solution.",
    "created_at": "2015-06-04T06:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329473",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
Replying to [fredrik.johansson](#comment%3A23):
> 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.
  
If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.

> 2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).


This would require writing a much more complicated doctest parser (remember you don't just want balls, but also polynomials/lists/matrices with ball coefficients and then you'll also want support for complex numbers, mpfi intervals and who knows what), I don't think this is a realistic solution.



---

archive/issue_comments_329474.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [jdemeyer](#comment%3A22):\n> 2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense\n\n\nI cannot tell whether it is harder to review tolerances or changes to doctests like in commit [8d0b599](http://git.sagemath.org/sage.git/commit/?h=3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e&id=8d0b5995900b15f4594421f9baac0fe0faaa6574).",
    "created_at": "2015-06-04T07:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329474",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:26'></a>
Replying to [jdemeyer](#comment%3A22):
> 2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense


I cannot tell whether it is harder to review tolerances or changes to doctests like in commit [8d0b599](http://git.sagemath.org/sage.git/commit/?h=3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e&id=8d0b5995900b15f4594421f9baac0fe0faaa6574).



---

archive/issue_comments_329475.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [jdemeyer](#comment%3A25):\n> Replying to [fredrik.johansson](#comment%3A23):\n> > 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n  \n> If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.\n\nI do not like the idea of always printing less information than we actually have. After all, we precisely know the error, so dilluting it seems somehow crude.",
    "created_at": "2015-06-04T07:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329475",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:27'></a>
Replying to [jdemeyer](#comment%3A25):
> Replying to [fredrik.johansson](#comment%3A23):
> > 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.
  
> If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.

I do not like the idea of always printing less information than we actually have. After all, we precisely know the error, so dilluting it seems somehow crude.



---

archive/issue_comments_329476.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [cheuberg](#comment%3A27):\n> I do not like the idea of always printing less information than we actually have.\n\nOn the other hand, when do you really care about seeing the last few digits in a many-digit number? Like I said, we are already printing elements of `RR` like that and I don't think anybody ever complained about it.",
    "created_at": "2015-06-04T07:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329476",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
Replying to [cheuberg](#comment%3A27):
> I do not like the idea of always printing less information than we actually have.

On the other hand, when do you really care about seeing the last few digits in a many-digit number? Like I said, we are already printing elements of `RR` like that and I don't think anybody ever complained about it.



---

archive/issue_comments_329477.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [jdemeyer](#comment%3A24):\n> The two statements seem to contradict each other:\n> \n> Replying to [fredrik.johansson](#comment%3A23):\n> > Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided\n\n> \n> > it's safest to think of arb as actually employing randomization\n\n\nWhat I mean is that you might run through billions of values before you see a difference, but if you assume that a difference *never* occurs and implicitly base your code on this assumption (perhaps forgoing using the radius information before converting output to floating-point numbers), then it could potentially bite you in a serious way when it does.",
    "created_at": "2015-06-04T11:20:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329477",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:29'></a>
Replying to [jdemeyer](#comment%3A24):
> The two statements seem to contradict each other:
> 
> Replying to [fredrik.johansson](#comment%3A23):
> > Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided

> 
> > it's safest to think of arb as actually employing randomization


What I mean is that you might run through billions of values before you see a difference, but if you assume that a difference *never* occurs and implicitly base your code on this assumption (perhaps forgoing using the radius information before converting output to floating-point numbers), then it could potentially bite you in a serious way when it does.



---

archive/issue_comments_329478.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [fredrik.johansson](#comment%3A29):\n> it could potentially bite you in a serious way when it does.\n\nWell, doctests never \"bite you in a serious way\" so I'm willing to take my chances here.\n\nIf the problem turns out to be more common then expected, we can still change our strategy.",
    "created_at": "2015-06-04T11:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329478",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
Replying to [fredrik.johansson](#comment%3A29):
> it could potentially bite you in a serious way when it does.

Well, doctests never "bite you in a serious way" so I'm willing to take my chances here.

If the problem turns out to be more common then expected, we can still change our strategy.



---

archive/issue_comments_329479.json:
```json
{
    "body": "<a id='comment:31'></a>\nAs for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:\n\n`RBF = RealBallField(53, print_digits=10)`",
    "created_at": "2015-06-04T11:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329479",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:31'></a>
As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:

`RBF = RealBallField(53, print_digits=10)`



---

archive/issue_comments_329480.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [fredrik.johansson](#comment%3A31):\n> As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:\n> \n> `RBF = RealBallField(53, print_digits=10)`\n\n-1 because it clutters the doctests for no obvious advantage.",
    "created_at": "2015-06-04T11:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329480",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
Replying to [fredrik.johansson](#comment%3A31):
> As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:
> 
> `RBF = RealBallField(53, print_digits=10)`

-1 because it clutters the doctests for no obvious advantage.



---

archive/issue_comments_329481.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/libs/arb-2.6.0\" to \"u/cheuberg/libs/arb-2.6.0-no-tolerance\"",
    "created_at": "2015-06-04T15:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329481",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/cheuberg/libs/arb-2.6.0" to "u/cheuberg/libs/arb-2.6.0-no-tolerance"



---

archive/issue_comments_329482.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-04T15:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329482",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_329483.json:
```json
{
    "body": "Changing commit from \"3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e\" to \"922b67430ff5863f5dd2426bf42aa3b9bde83cfd\"",
    "created_at": "2015-06-04T15:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329483",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e" to "922b67430ff5863f5dd2426bf42aa3b9bde83cfd"



---

archive/issue_comments_329484.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [jdemeyer](#comment%3A30):\n> Well, doctests never \"bite you in a serious way\" so I'm willing to take my chances here.\n> \n> If the problem turns out to be more common then expected, we can still change our strategy.\n\n\nThere is only one way to find out how common that problem will be ...\n\nThus I attach a branch without tolerances, but with modified doctests (as before), plus `spkg-{check,install}` executable as discussed above.\n\n---\nNew commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)|`Trac #18560: spkg-{check,install} executable`|",
    "created_at": "2015-06-04T15:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329484",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:33'></a>
Replying to [jdemeyer](#comment%3A30):
> Well, doctests never "bite you in a serious way" so I'm willing to take my chances here.
> 
> If the problem turns out to be more common then expected, we can still change our strategy.


There is only one way to find out how common that problem will be ...

Thus I attach a branch without tolerances, but with modified doctests (as before), plus `spkg-{check,install}` executable as discussed above.

---
New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[922b674](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)|`Trac #18560: spkg-{check,install} executable`|



---

archive/issue_comments_329485.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2015-06-05T11:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329485",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_329486.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-05T11:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329486",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_329487.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-06T12:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329487",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_329488.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/libs/arb-2.6.0-no-tolerance\" to \"922b67430ff5863f5dd2426bf42aa3b9bde83cfd\"",
    "created_at": "2015-06-06T12:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18560#issuecomment-329488",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/libs/arb-2.6.0-no-tolerance" to "922b67430ff5863f5dd2426bf42aa3b9bde83cfd"



---

archive/issue_events_059311.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-06T12:47:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18560",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18560#event-59311"
}
```
