# Issue 18560: Upgrade arb to 2.6.0

archive/issues_018323.json:
```json
{
    "assignees": [],
    "body": "Upgrade the optional arb spkg to version 2.6.0.\n\nTar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n\nCC:  @mezzarobba @fredrik-johansson @jhpalmieri\n\nKeywords: **arb**\n\nBranch/Commit: **[`922b674`](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Clemens Heuberger**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18560_\n\n",
    "closed_at": "2015-06-06T12:47:46Z",
    "created_at": "2015-05-31T09:32:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade arb to 2.6.0",
    "type": "issue",
    "updated_at": "2015-06-06T12:47:46Z",
    "url": "https://github.com/sagemath/sage/issues/18560",
    "user": "https://github.com/cheuberg"
}
```
Upgrade the optional arb spkg to version 2.6.0.

Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)

CC:  @mezzarobba @fredrik-johansson @jhpalmieri

Keywords: **arb**

Branch/Commit: **[`922b674`](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**

Reviewer: **Jeroen Demeyer**

Author: **Clemens Heuberger**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/18560_





---

archive/issue_events_263853.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263853"
}
```



---

archive/issue_events_263854.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263854"
}
```



---

archive/issue_events_263855.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263855"
}
```



---

archive/issue_events_263856.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:32:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263856"
}
```



---

archive/issue_comments_257811.json:
```json
{
    "body": "Branch: **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)**",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257811",
    "user": "https://github.com/cheuberg"
}
```

Branch: **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)**



---

archive/issue_comments_257812.json:
```json
{
    "body": "Commit: **[`adad105`](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)**",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257812",
    "user": "https://github.com/cheuberg"
}
```

Commit: **[`adad105`](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)**



---

archive/issue_events_263857.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-05-31T09:53:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263857"
}
```



---

archive/issue_comments_257813.json:
```json
{
    "body": "Changed keywords from none to **arb**",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257813",
    "user": "https://github.com/cheuberg"
}
```

Changed keywords from none to **arb**



---

archive/issue_comments_257814.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc\"><code>adad105</code></a></td><td><code>Trac 18560: Upgrade arb to 2.6.0</code></td></tr></table>\n",
    "created_at": "2015-05-31T09:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257814",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc"><code>adad105</code></a></td><td><code>Trac 18560: Upgrade arb to 2.6.0</code></td></tr></table>




---

archive/issue_comments_257815.json:
```json
{
    "body": "Changed commit from **[`adad105`](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)** to **[`8d0b599`](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)**",
    "created_at": "2015-05-31T10:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257815",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`adad105`](https://github.com/sagemath/sagetrac-mirror/commit/adad105f55f46fbefc951bda91950513219cf3bc)** to **[`8d0b599`](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)**



---

archive/issue_comments_257816.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574\"><code>8d0b599</code></a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>\n",
    "created_at": "2015-05-31T10:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257816",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574"><code>8d0b599</code></a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>




---

archive/issue_comments_257817.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@sagetrac-git](#comment:2):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574\"><code>8d0b599</code></a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>\n\nPerhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?",
    "created_at": "2015-06-01T07:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257817",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@sagetrac-git](#comment:2):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574"><code>8d0b599</code></a></td><td><code>Trac #18560: fix doctests after arb upgrade</code></td></tr></table>

Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?



---

archive/issue_comments_257818.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@mezzarobba](#comment:3):\n> Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?\n\n- I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?\n- I think that at least some kind of plausibility checking is interesting --- if the old and new balls do not intersect, we'd be in trouble.\n- On the other hand, changing doctests with each new revision of arb seems to be uncomfortable, too.",
    "created_at": "2015-06-01T07:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257818",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@mezzarobba](#comment:3):
> Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?

- I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?
- I think that at least some kind of plausibility checking is interesting --- if the old and new balls do not intersect, we'd be in trouble.
- On the other hand, changing doctests with each new revision of arb seems to be uncomfortable, too.



---

archive/issue_comments_257819.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@cheuberg](#comment:4):\n> Replying to [@mezzarobba](#comment:3):\n> > Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?\n\n> \n> - I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?\n\nThe tolerance simply applies independently to the center and the radius, so that in many cases `# abs tol 1e-15` will do something reasonable.",
    "created_at": "2015-06-01T07:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257819",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@cheuberg](#comment:4):
> Replying to [@mezzarobba](#comment:3):
> > Perhaps it would be better to add tolerances so that the tests pass with both versions of arb. What do you think?

> 
> - I do not know whether the doctest framework can handle this --- how would it cope with the special representation of a `RealBall`?

The tolerance simply applies independently to the center and the radius, so that in many cases `# abs tol 1e-15` will do something reasonable.



---

archive/issue_comments_257820.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis builds and passes its test suite on OS X 10.10.3.",
    "created_at": "2015-06-01T15:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257820",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

This builds and passes its test suite on OS X 10.10.3.



---

archive/issue_events_263858.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T15:50:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263858"
}
```



---

archive/issue_events_263859.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T15:50:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263859"
}
```



---

archive/issue_comments_257821.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n\n```\nbash-3.2$ ./sage -i arb\nFound local metadata for arb-2.6.0\nFound local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\nChecksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3\nInvalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n```",
    "created_at": "2015-06-01T15:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257821",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>


```
bash-3.2$ ./sage -i arb
Found local metadata for arb-2.6.0
Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3
Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
```



---

archive/issue_comments_257822.json:
```json
{
    "body": "Changed commit from **[`8d0b599`](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)** to **[`6b54edc`](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)**",
    "created_at": "2015-06-01T16:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257822",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8d0b599`](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574)** to **[`6b54edc`](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)**



---

archive/issue_comments_257823.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48680efd43f706cc5083024c281b5c617c71cf0b\"><code>48680ef</code></a></td><td><code>Revert \"Trac #18560: fix doctests after arb upgrade\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea\"><code>6b54edc</code></a></td><td><code>Trac #18560: add tolerance for doctests</code></td></tr></table>\n",
    "created_at": "2015-06-01T16:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257823",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48680efd43f706cc5083024c281b5c617c71cf0b"><code>48680ef</code></a></td><td><code>Revert "Trac #18560: fix doctests after arb upgrade"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea"><code>6b54edc</code></a></td><td><code>Trac #18560: add tolerance for doctests</code></td></tr></table>




---

archive/issue_comments_257824.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jdemeyer](#comment:7):\n> \n> ```\n> bash-3.2$ ./sage -i arb\n> Found local metadata for arb-2.6.0\n> Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n> Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3\n> Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz\n> ```\n\nI do not understand what happened.\nI just tried it again:\n\n```\n$ wget https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz\n...\n$ sha1sum 2.6.0.tar.gz \ne8c367b9f617262b4a7e9956cf49b6acf5c0db24  2.6.0.tar.gz\n```\nwhich is what the checksum should be.\n\nI now put a copy of the tar.gz file to http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz , could you please try that file (which also has a better file name for our purposes)? Thank you.\n\nAs I cannot reproduce the problem, I set the ticket back to needs_review.",
    "created_at": "2015-06-01T16:17:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257824",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jdemeyer](#comment:7):
> 
> ```
> bash-3.2$ ./sage -i arb
> Found local metadata for arb-2.6.0
> Found local sources at /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
> Checksum: e8c367b9f617262b4a7e9956cf49b6acf5c0db24 vs 096b61d0576821d9ef6c1d0880df3d225f8bfdf3
> Invalid checksum for /Users/jdemeyer/sage/upstream/arb-2.6.0.tar.gz
> ```

I do not understand what happened.
I just tried it again:

```
$ wget https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz
...
$ sha1sum 2.6.0.tar.gz 
e8c367b9f617262b4a7e9956cf49b6acf5c0db24  2.6.0.tar.gz
```
which is what the checksum should be.

I now put a copy of the tar.gz file to http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz , could you please try that file (which also has a better file name for our purposes)? Thank you.

As I cannot reproduce the problem, I set the ticket back to needs_review.



---

archive/issue_events_263860.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-01T16:17:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263860"
}
```



---

archive/issue_events_263861.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-01T16:17:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263861"
}
```



---

archive/issue_comments_257825.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Upgrade the optional arb spkg to version 2.6.0.\n \n-Tar.gz file at [https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz](https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz)\n+Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n``````\n",
    "created_at": "2015-06-01T16:32:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257825",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Upgrade the optional arb spkg to version 2.6.0.
 
-Tar.gz file at [https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz](https://github.com/fredrik-johansson/arb/archive/2.6.0.tar.gz)
+Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
``````




---

archive/issue_comments_257826.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Upgrade the optional arb spkg to version 2.6.0.\n \n-Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n+Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)\n``````\n",
    "created_at": "2015-06-01T16:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257826",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Upgrade the optional arb spkg to version 2.6.0.
 
-Tar.gz file at [http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](http://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
+Tar.gz file at [https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz](https://www.math.aau.at/user/cheuberg/sage/arb-2.6.0.tar.gz)
``````




---

archive/issue_comments_257827.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOK, the problem was that `curl` (which I used to download the package) doesn't follow redirects.",
    "created_at": "2015-06-01T16:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257827",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

OK, the problem was that `curl` (which I used to download the package) doesn't follow redirects.



---

archive/issue_comments_257828.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWhy are you choosing absolute tolerances over relative tolerances in the doctests?",
    "created_at": "2015-06-02T12:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257828",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Why are you choosing absolute tolerances over relative tolerances in the doctests?



---

archive/issue_comments_257829.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nCan you make the files `spkg-install` and `spkg-check` executable please?",
    "created_at": "2015-06-02T12:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257829",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Can you make the files `spkg-install` and `spkg-check` executable please?



---

archive/issue_comments_257830.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAbout the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.",
    "created_at": "2015-06-02T12:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257830",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.



---

archive/issue_events_263862.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T12:31:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263862"
}
```



---

archive/issue_events_263863.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T12:31:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263863"
}
```



---

archive/issue_comments_257831.json:
```json
{
    "body": "Changed commit from **[`6b54edc`](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)** to **[`3b534cb`](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)**",
    "created_at": "2015-06-02T18:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257831",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6b54edc`](https://github.com/sagemath/sagetrac-mirror/commit/6b54edc6663dbe00c9fa185ccd3d4af02b41d0ea)** to **[`3b534cb`](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)**



---

archive/issue_comments_257832.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e\"><code>3b534cb</code></a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>\n",
    "created_at": "2015-06-02T18:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257832",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e"><code>3b534cb</code></a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>




---

archive/issue_comments_257833.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment:14):\n> Why are you choosing absolute tolerances over relative tolerances in the doctests?\n\nIn most cases, the relative changes in the radius is around 0.1, but I would not like to allow a relative tolerance of 0.1 for the center of the ball. Unless there is a way of specifying different relative tolerances for radius and center of the ball?",
    "created_at": "2015-06-02T18:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257833",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment:14):
> Why are you choosing absolute tolerances over relative tolerances in the doctests?

In most cases, the relative changes in the radius is around 0.1, but I would not like to allow a relative tolerance of 0.1 for the center of the ball. Unless there is a way of specifying different relative tolerances for radius and center of the ball?



---

archive/issue_comments_257834.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment:16):\n> About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.\n\nIt might well be the case that the tolerances I introduced above might be too small when the upgrade to the next arb version or that other tests require new tolerances. At the moment, we could easily go back to the modified doctests I already reverted once. And switching back to tolerances when we realize that we keep changing doctests with every arb version would not to be hard, either.\n\nOTOH: I am not sure whether all machines will return the same error in all computations, but that's perhaps something that Fredrik could comment on?\n\nMarc, you suggested using tolerances. Any further comments on this issue?",
    "created_at": "2015-06-02T18:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257834",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment:16):
> About the doctests: I would actually prefer to just change the doctests without tolerance. It's kind of ugly to have to add tolerances everywhere. And most tests don't change, so it's not so bad.

It might well be the case that the tolerances I introduced above might be too small when the upgrade to the next arb version or that other tests require new tolerances. At the moment, we could easily go back to the modified doctests I already reverted once. And switching back to tolerances when we realize that we keep changing doctests with every arb version would not to be hard, either.

OTOH: I am not sure whether all machines will return the same error in all computations, but that's perhaps something that Fredrik could comment on?

Marc, you suggested using tolerances. Any further comments on this issue?



---

archive/issue_comments_257835.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@cheuberg](#comment:20):\n> OTOH: I am not sure whether all machines will return the same error in all computations\n\nAs far as I understand, yes, they will.\n\n> Marc, you suggested using tolerances. Any further comments on this issue?\n\nNot really. I agree with you on the choice of absolute tolerances, and I don't understand Jeroen's argument against tolerances, but honestly I don't care much.",
    "created_at": "2015-06-03T06:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257835",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@cheuberg](#comment:20):
> OTOH: I am not sure whether all machines will return the same error in all computations

As far as I understand, yes, they will.

> Marc, you suggested using tolerances. Any further comments on this issue?

Not really. I agree with you on the choice of absolute tolerances, and I don't understand Jeroen's argument against tolerances, but honestly I don't care much.



---

archive/issue_comments_257836.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@mezzarobba](#comment:21):\n> I don't understand Jeroen's argument against tolerances, but honestly I don't care much.\n\nThe problem with tolerances is:\n1. since a ball is defined by 2 numbers, it will always be awkward to use tolerances since you cannot easily give different tolerances for the center and radius.\n2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense\n3. `arb` is supposed to be system-independent, so we actually want to know if even the last digit of some result is wrong.",
    "created_at": "2015-06-03T08:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257836",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@mezzarobba](#comment:21):
> I don't understand Jeroen's argument against tolerances, but honestly I don't care much.

The problem with tolerances is:
1. since a ball is defined by 2 numbers, it will always be awkward to use tolerances since you cannot easily give different tolerances for the center and radius.
2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense
3. `arb` is supposed to be system-independent, so we actually want to know if even the last digit of some result is wrong.



---

archive/issue_comments_257837.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nResults can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided, but it's safest to think of arb as actually employing randomization, which unfortunately doesn't play well with doctesting. Two reasonable workarounds would be:\n\n1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n\n2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).",
    "created_at": "2015-06-03T13:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257837",
    "user": "https://github.com/fredrik-johansson"
}
```

<div id="comment:23" align="right">comment:23</div>

Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided, but it's safest to think of arb as actually employing randomization, which unfortunately doesn't play well with doctesting. Two reasonable workarounds would be:

1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.

2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).



---

archive/issue_comments_257838.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe two statements seem to contradict each other:\n\nReplying to [@fredrik-johansson](#comment:23):\n> Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided\n\n> it's safest to think of arb as actually employing randomization",
    "created_at": "2015-06-04T06:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257838",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

The two statements seem to contradict each other:

Replying to [@fredrik-johansson](#comment:23):
> Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided

> it's safest to think of arb as actually employing randomization



---

archive/issue_comments_257839.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@fredrik-johansson](#comment:23):\n> 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n\nIf we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.\n\n> 2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).\n\nThis would require writing a much more complicated doctest parser (remember you don't just want balls, but also polynomials/lists/matrices with ball coefficients and then you'll also want support for complex numbers, mpfi intervals and who knows what), I don't think this is a realistic solution.",
    "created_at": "2015-06-04T06:20:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257839",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@fredrik-johansson](#comment:23):
> 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.

If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.

> 2. Implement a doctest directive that parses intervals and checks whether the actual and expected outputs overlap (this could also take a tolerance and verify that the new actual output is not too imprecise, e.g. 53-bit pi suddenly coming out as [3.1 +/- 0.1]).

This would require writing a much more complicated doctest parser (remember you don't just want balls, but also polynomials/lists/matrices with ball coefficients and then you'll also want support for complex numbers, mpfi intervals and who knows what), I don't think this is a realistic solution.



---

archive/issue_comments_257840.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jdemeyer](#comment:22):\n> 2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense\n\nI cannot tell whether it is harder to review tolerances or changes to doctests like in commit [8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574).",
    "created_at": "2015-06-04T07:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257840",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jdemeyer](#comment:22):
> 2. it makes reviewing harder, since a reviewer must check whether all the given tolerances make sense

I cannot tell whether it is harder to review tolerances or changes to doctests like in commit [8d0b599](https://github.com/sagemath/sagetrac-mirror/commit/8d0b5995900b15f4594421f9baac0fe0faaa6574).



---

archive/issue_comments_257841.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jdemeyer](#comment:25):\n> Replying to [@fredrik-johansson](#comment:23):\n> > 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.\n\n> If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.\n\nI do not like the idea of always printing less information than we actually have. After all, we precisely know the error, so dilluting it seems somehow crude.",
    "created_at": "2015-06-04T07:13:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257841",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jdemeyer](#comment:25):
> Replying to [@fredrik-johansson](#comment:23):
> > 1. Print doctest examples with a few digits less than the computed precision, so that most of the radius bound in the printed output comes from the decimal rounding. This will only rarely cause a last digit to flip over unpredictably. The disadvantage is that the doctest does not show the actual computed interval. On the other hand, the output is a neater representation of the mathematical value. For example, if you print pi to 10 digits, you should always get [3.141592654 +/- 4.11e-10] beyond a certain working precision (from 43 bits, in fact) since the actual difference between pi and 3.141592654 is 4.102...e-10.

> If we go with this, I would not make a difference between normal interactive Sage output and doctests. Just print balls with fewer digits always, like we already do for `RR`.

I do not like the idea of always printing less information than we actually have. After all, we precisely know the error, so dilluting it seems somehow crude.



---

archive/issue_comments_257842.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@cheuberg](#comment:27):\n> I do not like the idea of always printing less information than we actually have.\n\nOn the other hand, when do you really care about seeing the last few digits in a many-digit number? Like I said, we are already printing elements of `RR` like that and I don't think anybody ever complained about it.",
    "created_at": "2015-06-04T07:37:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257842",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@cheuberg](#comment:27):
> I do not like the idea of always printing less information than we actually have.

On the other hand, when do you really care about seeing the last few digits in a many-digit number? Like I said, we are already printing elements of `RR` like that and I don't think anybody ever complained about it.



---

archive/issue_comments_257843.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@jdemeyer](#comment:24):\n> The two statements seem to contradict each other:\n> \n> Replying to [@fredrik-johansson](#comment:23):\n> > Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided\n\n> \n> > it's safest to think of arb as actually employing randomization\n\nWhat I mean is that you might run through billions of values before you see a difference, but if you assume that a difference *never* occurs and implicitly base your code on this assumption (perhaps forgoing using the radius information before converting output to floating-point numbers), then it could potentially bite you in a serious way when it does.",
    "created_at": "2015-06-04T11:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257843",
    "user": "https://github.com/fredrik-johansson"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@jdemeyer](#comment:24):
> The two statements seem to contradict each other:
> 
> Replying to [@fredrik-johansson](#comment:23):
> > Results can differ on 32-bit and 64-bit system but this should not happen often. Gratuitous nondeterminism is avoided

> 
> > it's safest to think of arb as actually employing randomization

What I mean is that you might run through billions of values before you see a difference, but if you assume that a difference *never* occurs and implicitly base your code on this assumption (perhaps forgoing using the radius information before converting output to floating-point numbers), then it could potentially bite you in a serious way when it does.



---

archive/issue_comments_257844.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@fredrik-johansson](#comment:29):\n> it could potentially bite you in a serious way when it does.\n\nWell, doctests never \"bite you in a serious way\" so I'm willing to take my chances here.\n\nIf the problem turns out to be more common then expected, we can still change our strategy.",
    "created_at": "2015-06-04T11:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257844",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@fredrik-johansson](#comment:29):
> it could potentially bite you in a serious way when it does.

Well, doctests never "bite you in a serious way" so I'm willing to take my chances here.

If the problem turns out to be more common then expected, we can still change our strategy.



---

archive/issue_comments_257845.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAs for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:\n\n`RBF = RealBallField(53, print_digits=10)`",
    "created_at": "2015-06-04T11:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257845",
    "user": "https://github.com/fredrik-johansson"
}
```

<div id="comment:31" align="right">comment:31</div>

As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:

`RBF = RealBallField(53, print_digits=10)`



---

archive/issue_comments_257846.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@fredrik-johansson](#comment:31):\n> As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:\n> \n> `RBF = RealBallField(53, print_digits=10)`\n\n-1 because it clutters the doctests for no obvious advantage.",
    "created_at": "2015-06-04T11:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257846",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@fredrik-johansson](#comment:31):
> As for the number of digits to print, why not print many digits by default but do something like this in (some of the) doctests:
> 
> `RBF = RealBallField(53, print_digits=10)`

-1 because it clutters the doctests for no obvious advantage.



---

archive/issue_comments_257847.json:
```json
{
    "body": "Changed branch from **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)** to **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)**",
    "created_at": "2015-06-04T15:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257847",
    "user": "https://github.com/cheuberg"
}
```

Changed branch from **[u/cheuberg/libs/arb-2.6.0](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0)** to **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)**



---

archive/issue_events_263864.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-04T15:15:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263864"
}
```



---

archive/issue_events_263865.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-06-04T15:15:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263865"
}
```



---

archive/issue_comments_257848.json:
```json
{
    "body": "Changed commit from **[`3b534cb`](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)** to **[`922b674`](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**",
    "created_at": "2015-06-04T15:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257848",
    "user": "https://github.com/cheuberg"
}
```

Changed commit from **[`3b534cb`](https://github.com/sagemath/sagetrac-mirror/commit/3b534cbb91702fb1f7fd1dfd4b69974bb0411b4e)** to **[`922b674`](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**



---

archive/issue_comments_257849.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@jdemeyer](#comment:30):\n> Well, doctests never \"bite you in a serious way\" so I'm willing to take my chances here.\n> \n> If the problem turns out to be more common then expected, we can still change our strategy.\n\nThere is only one way to find out how common that problem will be ...\n\nThus I attach a branch without tolerances, but with modified doctests (as before), plus `spkg-{check,install}` executable as discussed above.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd\"><code>922b674</code></a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>\n",
    "created_at": "2015-06-04T15:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257849",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@jdemeyer](#comment:30):
> Well, doctests never "bite you in a serious way" so I'm willing to take my chances here.
> 
> If the problem turns out to be more common then expected, we can still change our strategy.

There is only one way to find out how common that problem will be ...

Thus I attach a branch without tolerances, but with modified doctests (as before), plus `spkg-{check,install}` executable as discussed above.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd"><code>922b674</code></a></td><td><code>Trac #18560: spkg-{check,install} executable</code></td></tr></table>




---

archive/issue_comments_257850.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-06-05T11:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257850",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_263866.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-05T11:42:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263866"
}
```



---

archive/issue_events_263867.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-05T11:42:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263867"
}
```



---

archive/issue_comments_257851.json:
```json
{
    "body": "Changed branch from **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)** to **[`922b674`](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**",
    "created_at": "2015-06-06T12:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18560#issuecomment-257851",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cheuberg/libs/arb-2.6.0-no-tolerance](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/libs/arb-2.6.0-no-tolerance)** to **[`922b674`](https://github.com/sagemath/sagetrac-mirror/commit/922b67430ff5863f5dd2426bf42aa3b9bde83cfd)**



---

archive/issue_events_263868.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-06T12:47:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263868"
}
```



---

archive/issue_events_263869.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "46bf8a299cfd25b0df12f902b4f422b76018f07a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-06-06T12:47:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18560",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18560#event-263869"
}
```
