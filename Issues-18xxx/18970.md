# Issue 18970: Log function and documentation revamp

archive/issues_018733.json:
```json
{
    "body": "From https://groups.google.com/forum/?hl=en#!topic/sage-devel/hwm-7V8S3hE\n\n```\nsage: log(int(8),2)\nlog(8)/log(2)\nsage: log(8,int(2))\nlog(8)/log(2)\nsage: log(8,2)\n3\n\nAlso:\nsage: log(1/8,2)\nlog(1/8)/log(2)\n```\n\n```\nsage: ((-1)^(-I*log(3)/pi)).n()\n3.00000000000000\nsage: log(3,-1)\n...\nValueError: m must be positive\n```\n\n**Branch/Commit:** [b0486c8b520b278960485499f2b46fdacc2fce83](https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Ralf Stephan\n\n**Dependencies:** #21623, #21517, #21518\n\nIssue created by migration from https://trac.sagemath.org/ticket/18970\n\n",
    "closed_at": "2017-10-29T10:32:17Z",
    "created_at": "2015-07-30T06:51:22Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Log function and documentation revamp",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18970",
    "user": "https://github.com/rwst"
}
```
From https://groups.google.com/forum/?hl=en#!topic/sage-devel/hwm-7V8S3hE

```
sage: log(int(8),2)
log(8)/log(2)
sage: log(8,int(2))
log(8)/log(2)
sage: log(8,2)
3

Also:
sage: log(1/8,2)
log(1/8)/log(2)
```

```
sage: ((-1)^(-I*log(3)/pi)).n()
3.00000000000000
sage: log(3,-1)
...
ValueError: m must be positive
```

**Branch/Commit:** [b0486c8b520b278960485499f2b46fdacc2fce83](https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83)

**Reviewer:** Travis Scrimshaw

**Author:** Ralf Stephan

**Dependencies:** #21623, #21517, #21518

Issue created by migration from https://trac.sagemath.org/ticket/18970





---

archive/issue_events_060374.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "rename": {
        "from": "always simplify log(a^m,a) to m for any m coercible to Integer",
        "to": "always simplify log(a^m,a) to m for any a,m coercible to Integer"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60374"
}
```



---

archive/issue_comments_321927.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,5 +7,9 @@\n log(8)/log(2)\n sage: log(8,2)\n 3\n+\n+Also:\n+sage: log(1/8,2)\n+log(1/8)/log(2)\n ```\n \n``````\n",
    "created_at": "2015-07-30T06:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321927",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,5 +7,9 @@
 log(8)/log(2)
 sage: log(8,2)
 3
+
+Also:
+sage: log(1/8,2)
+log(1/8)/log(2)
 ```
 
``````




---

archive/issue_comments_321928.json:
```json
{
    "body": "**Branch:** [u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer)",
    "created_at": "2015-07-30T07:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321928",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer)



---

archive/issue_comments_321929.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2015-07-30T07:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321929",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_321930.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0086ec09a89cbdf71ba5b718818dd2de324e892a\">0086ec0</a></td><td><code>18970: always simplify log(a^m,a) if possible</code></td></tr></table>\n",
    "created_at": "2015-07-30T07:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321930",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0086ec09a89cbdf71ba5b718818dd2de324e892a">0086ec0</a></td><td><code>18970: always simplify log(a^m,a) if possible</code></td></tr></table>




---

archive/issue_comments_321931.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-07-30T07:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321931",
    "user": "https://github.com/rwst"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_321932.json:
```json
{
    "body": "**Commit:** [0086ec09a89cbdf71ba5b718818dd2de324e892a](https://github.com/sagemath/sagetrac-mirror/commit/0086ec09a89cbdf71ba5b718818dd2de324e892a)",
    "created_at": "2015-07-30T07:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321932",
    "user": "https://github.com/rwst"
}
```

**Commit:** [0086ec09a89cbdf71ba5b718818dd2de324e892a](https://github.com/sagemath/sagetrac-mirror/commit/0086ec09a89cbdf71ba5b718818dd2de324e892a)



---

archive/issue_comments_321933.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92d9762ad28880ef81a4781a0eee34b50accc1c6\">92d9762</a></td><td><code>18970: fix</code></td></tr></table>\n",
    "created_at": "2015-07-30T07:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321933",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92d9762ad28880ef81a4781a0eee34b50accc1c6">92d9762</a></td><td><code>18970: fix</code></td></tr></table>




---

archive/issue_comments_321934.json:
```json
{
    "body": "**Changing commit** from \"[0086ec09a89cbdf71ba5b718818dd2de324e892a](https://github.com/sagemath/sagetrac-mirror/commit/0086ec09a89cbdf71ba5b718818dd2de324e892a)\" to \"[92d9762ad28880ef81a4781a0eee34b50accc1c6](https://github.com/sagemath/sagetrac-mirror/commit/92d9762ad28880ef81a4781a0eee34b50accc1c6)\".",
    "created_at": "2015-07-30T07:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321934",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0086ec09a89cbdf71ba5b718818dd2de324e892a](https://github.com/sagemath/sagetrac-mirror/commit/0086ec09a89cbdf71ba5b718818dd2de324e892a)" to "[92d9762ad28880ef81a4781a0eee34b50accc1c6](https://github.com/sagemath/sagetrac-mirror/commit/92d9762ad28880ef81a4781a0eee34b50accc1c6)".



---

archive/issue_comments_321935.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2015-07-30T08:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321935",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_321936.json:
```json
{
    "body": "<a id='comment:6'></a>\nBefore this patch\n\n```\nsage: %timeit log(QQ(8),2)\nThe slowest run took 5.08 times longer than the fastest. This could mean that an intermediate result is being cached \n10000 loops, best of 3: 39.4 \u00b5s per loop\nsage: %timeit log(QQ(8),3)\n10000 loops, best of 3: 38.1 \u00b5s per loop\nsage: %timeit log(ZZ(8),3)\n10000 loops, best of 3: 32.8 \u00b5s per loop\nsage: %timeit log(ZZ(8),2)\nThe slowest run took 14.52 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 1.12 \u00b5s per loop\n```\nAfter\n\n```\nsage: %timeit log(QQ(8),3)\nThe slowest run took 37.28 times longer than the fastest. This could mean that an intermediate result is being cached \n10000 loops, best of 3: 48.8 \u00b5s per loop\nsage: %timeit log(QQ(8),2)\nThe slowest run took 8.69 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 5.43 \u00b5s per loop\nsage: %timeit log(ZZ(8),3)\n10000 loops, best of 3: 48.4 \u00b5s per loop\nsage: %timeit log(ZZ(8),2)\nThe slowest run took 8.80 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 5.34 \u00b5s per loop\n```\n\nI've repeated (differently) it due to the caching-warnings. Before\n\n```\nsage: timeit('log(QQ(8),3)', number=1, repeat=1)\n1 loops, best of 1: 191 \u00b5s per loop\nsage: timeit('log(QQ(8),2)', number=1, repeat=1)\n1 loops, best of 1: 150 \u00b5s per loop\nsage: timeit('log(ZZ(8),3)', number=1, repeat=1)\n1 loops, best of 1: 125 \u00b5s per loop\nsage: timeit('log(ZZ(8),2)', number=1, repeat=1)\n1 loops, best of 1: 24.1 \u00b5s per loop\n```\nAfter\n\n```\nsage: timeit('log(QQ(8),3)', number=1, repeat=1)\n1 loops, best of 1: 1.93 ms per loop\nsage: timeit('log(QQ(8),2)', number=1, repeat=1)\n1 loops, best of 1: 45.1 \u00b5s per loop\nsage: timeit('log(ZZ(8),3)', number=1, repeat=1)\n1 loops, best of 1: 158 \u00b5s per loop\nsage: timeit('log(ZZ(8),2)', number=1, repeat=1)\n1 loops, best of 1: 45.1 \u00b5s per loop\n```\n\nIn particular `log(QQ(8),3)` becomes much slower (and only `log(QQ(8),2)` gains speed).",
    "created_at": "2015-07-30T08:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321936",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:6'></a>
Before this patch

```
sage: %timeit log(QQ(8),2)
The slowest run took 5.08 times longer than the fastest. This could mean that an intermediate result is being cached 
10000 loops, best of 3: 39.4 µs per loop
sage: %timeit log(QQ(8),3)
10000 loops, best of 3: 38.1 µs per loop
sage: %timeit log(ZZ(8),3)
10000 loops, best of 3: 32.8 µs per loop
sage: %timeit log(ZZ(8),2)
The slowest run took 14.52 times longer than the fastest. This could mean that an intermediate result is being cached 
1000000 loops, best of 3: 1.12 µs per loop
```
After

```
sage: %timeit log(QQ(8),3)
The slowest run took 37.28 times longer than the fastest. This could mean that an intermediate result is being cached 
10000 loops, best of 3: 48.8 µs per loop
sage: %timeit log(QQ(8),2)
The slowest run took 8.69 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 5.43 µs per loop
sage: %timeit log(ZZ(8),3)
10000 loops, best of 3: 48.4 µs per loop
sage: %timeit log(ZZ(8),2)
The slowest run took 8.80 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 5.34 µs per loop
```

I've repeated (differently) it due to the caching-warnings. Before

```
sage: timeit('log(QQ(8),3)', number=1, repeat=1)
1 loops, best of 1: 191 µs per loop
sage: timeit('log(QQ(8),2)', number=1, repeat=1)
1 loops, best of 1: 150 µs per loop
sage: timeit('log(ZZ(8),3)', number=1, repeat=1)
1 loops, best of 1: 125 µs per loop
sage: timeit('log(ZZ(8),2)', number=1, repeat=1)
1 loops, best of 1: 24.1 µs per loop
```
After

```
sage: timeit('log(QQ(8),3)', number=1, repeat=1)
1 loops, best of 1: 1.93 ms per loop
sage: timeit('log(QQ(8),2)', number=1, repeat=1)
1 loops, best of 1: 45.1 µs per loop
sage: timeit('log(ZZ(8),3)', number=1, repeat=1)
1 loops, best of 1: 158 µs per loop
sage: timeit('log(ZZ(8),2)', number=1, repeat=1)
1 loops, best of 1: 45.1 µs per loop
```

In particular `log(QQ(8),3)` becomes much slower (and only `log(QQ(8),2)` gains speed).



---

archive/issue_comments_321937.json:
```json
{
    "body": "<a id='comment:7'></a>\n\n```\nsage: log(QQ(8),2).parent()\nInteger Ring\n```\nwhich is a different behavior compared to the common/similar arithmetic operations (e.g. `(QQ(2)^ZZ(1)).parent()` is `Rational Field` and not `Integer Ring`) and I would expect that the logarithm of a rational is again a rational (if possible) or something where QQ coerces into (but not out of something which coerces into QQ).",
    "created_at": "2015-07-30T08:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321937",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:7'></a>

```
sage: log(QQ(8),2).parent()
Integer Ring
```
which is a different behavior compared to the common/similar arithmetic operations (e.g. `(QQ(2)^ZZ(1)).parent()` is `Rational Field` and not `Integer Ring`) and I would expect that the logarithm of a rational is again a rational (if possible) or something where QQ coerces into (but not out of something which coerces into QQ).



---

archive/issue_comments_321938.json:
```json
{
    "body": "<a id='comment:8'></a>\nIs this a one-time comment, or do you plan to review to the end?",
    "created_at": "2015-07-30T08:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321938",
    "user": "https://github.com/rwst"
}
```

<a id='comment:8'></a>
Is this a one-time comment, or do you plan to review to the end?



---

archive/issue_comments_321939.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [rws](#comment%3A8):\n> Is this a one-time comment, or do you plan to review to the end?\n\n\nDoes this make a difference on how to react to my comment? ;) ....or more seriously: I am not sure if I feel qualified enough to review a change in the `log`-function. I just saw the discussion on sage-devel and looked into the ticket and decided to give some comments.",
    "created_at": "2015-07-30T09:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321939",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:9'></a>
Replying to [rws](#comment%3A8):
> Is this a one-time comment, or do you plan to review to the end?


Does this make a difference on how to react to my comment? ;) ....or more seriously: I am not sure if I feel qualified enough to review a change in the `log`-function. I just saw the discussion on sage-devel and looked into the ticket and decided to give some comments.



---

archive/issue_events_060375.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-08-29T18:40:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60375"
}
```



---

archive/issue_comments_321940.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe code at hand unconditionally tries to coerce the arguments into ZZ,QQ instead of checking the type first. Apart from the speed issue it also would benefit from moving completely into GiNaC: atm some cases are intercepted unnecessarily in `Function_log.__call__` which itself awkwardly calls Pynac.",
    "created_at": "2016-08-30T15:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321940",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
The code at hand unconditionally tries to coerce the arguments into ZZ,QQ instead of checking the type first. Apart from the speed issue it also would benefit from moving completely into GiNaC: atm some cases are intercepted unnecessarily in `Function_log.__call__` which itself awkwardly calls Pynac.



---

archive/issue_comments_321941.json:
```json
{
    "body": "**Changing status** from needs_info to needs_work.",
    "created_at": "2016-08-30T15:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321941",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_info to needs_work.



---

archive/issue_comments_321942.json:
```json
{
    "body": "<a id='comment:12'></a>\nI guess some of the speed regression is due to the at least partially redundant checking whether `arg == base**v`, and of course now *in addition* computing the valuation first in case the latter does *not* hold.  (At least it seemed to when I looked at it yesterday...)\n\nNot sure how much the probably superfluous coercion contributes.",
    "created_at": "2016-08-30T15:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321942",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>
I guess some of the speed regression is due to the at least partially redundant checking whether `arg == base**v`, and of course now *in addition* computing the valuation first in case the latter does *not* hold.  (At least it seemed to when I looked at it yesterday...)

Not sure how much the probably superfluous coercion contributes.



---

archive/issue_comments_321943.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer)\" to \"[u/rws/18970-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-1)\".",
    "created_at": "2016-09-07T08:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321943",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/always_simplify_log_a_m_a__to_m_for_any_a_m_coercible_to_integer)" to "[u/rws/18970-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-1)".



---

archive/issue_comments_321944.json:
```json
{
    "body": "**Dependencies:** pynac-0.6.91",
    "created_at": "2016-09-07T08:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321944",
    "user": "https://github.com/rwst"
}
```

**Dependencies:** pynac-0.6.91



---

archive/issue_comments_321945.json:
```json
{
    "body": "<a id='comment:14'></a>\nNew branch depends on Pynac git master.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11a81ee44404bf5baa8d2de942796f44f785de4c\">11a81ee</a></td><td><code>18970: add two-arg log()</code></td></tr></table>\n",
    "created_at": "2016-09-07T08:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321945",
    "user": "https://github.com/rwst"
}
```

<a id='comment:14'></a>
New branch depends on Pynac git master.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11a81ee44404bf5baa8d2de942796f44f785de4c">11a81ee</a></td><td><code>18970: add two-arg log()</code></td></tr></table>




---

archive/issue_comments_321946.json:
```json
{
    "body": "**Changing commit** from \"[92d9762ad28880ef81a4781a0eee34b50accc1c6](https://github.com/sagemath/sagetrac-mirror/commit/92d9762ad28880ef81a4781a0eee34b50accc1c6)\" to \"[11a81ee44404bf5baa8d2de942796f44f785de4c](https://github.com/sagemath/sagetrac-mirror/commit/11a81ee44404bf5baa8d2de942796f44f785de4c)\".",
    "created_at": "2016-09-07T08:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321946",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[92d9762ad28880ef81a4781a0eee34b50accc1c6](https://github.com/sagemath/sagetrac-mirror/commit/92d9762ad28880ef81a4781a0eee34b50accc1c6)" to "[11a81ee44404bf5baa8d2de942796f44f785de4c](https://github.com/sagemath/sagetrac-mirror/commit/11a81ee44404bf5baa8d2de942796f44f785de4c)".



---

archive/issue_comments_321947.json:
```json
{
    "body": "<a id='comment:15'></a>\nTimings with this branch. Before:\n\n```\nsage: %timeit log(QQ(8),2)\nThe slowest run took 10.96 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 40.1 \u00b5s per loop\nsage: %timeit log(QQ(8),2)\n10000 loops, best of 3: 40.2 \u00b5s per loop\nsage: %timeit log(QQ(8),3)\n10000 loops, best of 3: 40.5 \u00b5s per loop\nsage: %timeit log(ZZ(8),3)\n10000 loops, best of 3: 34.4 \u00b5s per loop\nsage: %timeit log(ZZ(8),2)\nThe slowest run took 19.11 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 886 ns per loop\n```\nAfter:\n\n```\nsage: %timeit log(QQ(8),2)\nThe slowest run took 15.53 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 26.7 \u00b5s per loop\nsage: %timeit log(QQ(8),3)\nThe slowest run took 10.80 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 26.8 \u00b5s per loop\nsage: %timeit log(ZZ(8),3)\n10000 loops, best of 3: 30.2 \u00b5s per loop\nsage: %timeit log(ZZ(8),2)\nThe slowest run took 17.37 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 686 ns per loop\n```\nThe single run measurements vary so much from run to run that I refrain from giving them here. The After values of `timeit('log(QQ(8),3)', number=1, repeat=1)` are however in the same range as the Before values (as well as the others).",
    "created_at": "2016-09-07T08:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321947",
    "user": "https://github.com/rwst"
}
```

<a id='comment:15'></a>
Timings with this branch. Before:

```
sage: %timeit log(QQ(8),2)
The slowest run took 10.96 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 40.1 µs per loop
sage: %timeit log(QQ(8),2)
10000 loops, best of 3: 40.2 µs per loop
sage: %timeit log(QQ(8),3)
10000 loops, best of 3: 40.5 µs per loop
sage: %timeit log(ZZ(8),3)
10000 loops, best of 3: 34.4 µs per loop
sage: %timeit log(ZZ(8),2)
The slowest run took 19.11 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 886 ns per loop
```
After:

```
sage: %timeit log(QQ(8),2)
The slowest run took 15.53 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 26.7 µs per loop
sage: %timeit log(QQ(8),3)
The slowest run took 10.80 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 26.8 µs per loop
sage: %timeit log(ZZ(8),3)
10000 loops, best of 3: 30.2 µs per loop
sage: %timeit log(ZZ(8),2)
The slowest run took 17.37 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 686 ns per loop
```
The single run measurements vary so much from run to run that I refrain from giving them here. The After values of `timeit('log(QQ(8),3)', number=1, repeat=1)` are however in the same range as the Before values (as well as the others).



---

archive/issue_comments_321948.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,3 +13,10 @@\n log(1/8)/log(2)\n ```\n \n+```\n+sage: ((-1)^(-I*log(3)/pi)).n()\n+3.00000000000000\n+sage: log(3,-1)\n+...\n+ValueError: m must be positive\n+```\n``````\n",
    "created_at": "2016-09-07T15:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321948",
    "user": "https://github.com/rwst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,3 +13,10 @@
 log(1/8)/log(2)
 ```
 
+```
+sage: ((-1)^(-I*log(3)/pi)).n()
+3.00000000000000
+sage: log(3,-1)
+...
+ValueError: m must be positive
+```
``````




---

archive/issue_events_060376.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "rename": {
        "from": "always simplify log(a^m,a) to m for any a,m coercible to Integer",
        "to": "Log function bugs with int and negative base"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60376"
}
```



---

archive/issue_comments_321949.json:
```json
{
    "body": "**Changing commit** from \"[11a81ee44404bf5baa8d2de942796f44f785de4c](https://github.com/sagemath/sagetrac-mirror/commit/11a81ee44404bf5baa8d2de942796f44f785de4c)\" to \"\".",
    "created_at": "2016-09-18T06:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321949",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[11a81ee44404bf5baa8d2de942796f44f785de4c](https://github.com/sagemath/sagetrac-mirror/commit/11a81ee44404bf5baa8d2de942796f44f785de4c)" to "".



---

archive/issue_comments_321950.json:
```json
{
    "body": "**Changing dependencies** from \"pynac-0.6.91\" to \"pynac-0.6.91, #21517, #21518\".",
    "created_at": "2016-09-18T06:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321950",
    "user": "https://github.com/rwst"
}
```

**Changing dependencies** from "pynac-0.6.91" to "pynac-0.6.91, #21517, #21518".



---

archive/issue_comments_321951.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/18970-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-1)\" to \"\".",
    "created_at": "2016-09-18T06:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321951",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/18970-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-1)" to "".



---

archive/issue_comments_321952.json:
```json
{
    "body": "**Branch:** [u/rws/log_function_bugs_with_int_and_negative_base](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/log_function_bugs_with_int_and_negative_base)",
    "created_at": "2016-10-02T14:43:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321952",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/log_function_bugs_with_int_and_negative_base](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/log_function_bugs_with_int_and_negative_base)



---

archive/issue_comments_321953.json:
```json
{
    "body": "**Commit:** [02427f6475206379a32c0ac9119d83d7832a34c4](https://github.com/sagemath/sagetrac-mirror/commit/02427f6475206379a32c0ac9119d83d7832a34c4)",
    "created_at": "2016-10-02T14:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321953",
    "user": "https://github.com/rwst"
}
```

**Commit:** [02427f6475206379a32c0ac9119d83d7832a34c4](https://github.com/sagemath/sagetrac-mirror/commit/02427f6475206379a32c0ac9119d83d7832a34c4)



---

archive/issue_comments_321954.json:
```json
{
    "body": "**Changing dependencies** from \"pynac-0.6.91, #21517, #21518\" to \"#21623, #21517, #21518\".",
    "created_at": "2016-10-02T14:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321954",
    "user": "https://github.com/rwst"
}
```

**Changing dependencies** from "pynac-0.6.91, #21517, #21518" to "#21623, #21517, #21518".



---

archive/issue_comments_321955.json:
```json
{
    "body": "<a id='comment:19'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02427f6475206379a32c0ac9119d83d7832a34c4\">02427f6</a></td><td><code>redo log function</code></td></tr></table>\n",
    "created_at": "2016-10-02T14:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321955",
    "user": "https://github.com/rwst"
}
```

<a id='comment:19'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02427f6475206379a32c0ac9119d83d7832a34c4">02427f6</a></td><td><code>redo log function</code></td></tr></table>




---

archive/issue_comments_321956.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-10-02T14:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321956",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_321957.json:
```json
{
    "body": "**Changing commit** from \"[02427f6475206379a32c0ac9119d83d7832a34c4](https://github.com/sagemath/sagetrac-mirror/commit/02427f6475206379a32c0ac9119d83d7832a34c4)\" to \"[456cc14d40a5dd9f1e7924bea9b97e097dd10b5d](https://github.com/sagemath/sagetrac-mirror/commit/456cc14d40a5dd9f1e7924bea9b97e097dd10b5d)\".",
    "created_at": "2016-10-25T06:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321957",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[02427f6475206379a32c0ac9119d83d7832a34c4](https://github.com/sagemath/sagetrac-mirror/commit/02427f6475206379a32c0ac9119d83d7832a34c4)" to "[456cc14d40a5dd9f1e7924bea9b97e097dd10b5d](https://github.com/sagemath/sagetrac-mirror/commit/456cc14d40a5dd9f1e7924bea9b97e097dd10b5d)".



---

archive/issue_comments_321958.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/584c4f3b1e9e3fd35ada6ea282e71c38d6da88e8\">584c4f3</a></td><td><code>Merge branch 'develop' into t/18970/log_function_bugs_with_int_and_negative_base</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/456cc14d40a5dd9f1e7924bea9b97e097dd10b5d\">456cc14</a></td><td><code>18970: doc restructuring to get the most out of typing log?</code></td></tr></table>\n",
    "created_at": "2016-10-25T06:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321958",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/584c4f3b1e9e3fd35ada6ea282e71c38d6da88e8">584c4f3</a></td><td><code>Merge branch 'develop' into t/18970/log_function_bugs_with_int_and_negative_base</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/456cc14d40a5dd9f1e7924bea9b97e097dd10b5d">456cc14</a></td><td><code>18970: doc restructuring to get the most out of typing log?</code></td></tr></table>




---

archive/issue_events_060377.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "rename": {
        "from": "Log function bugs with int and negative base",
        "to": "Log function and documentation revamp"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60377"
}
```



---

archive/issue_comments_321959.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/log_function_bugs_with_int_and_negative_base](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/log_function_bugs_with_int_and_negative_base)\" to \"[u/rws/18970](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970)\".",
    "created_at": "2016-11-07T06:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321959",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/log_function_bugs_with_int_and_negative_base](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/log_function_bugs_with_int_and_negative_base)" to "[u/rws/18970](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970)".



---

archive/issue_comments_321960.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/18970](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970)\" to \"[u/rws/18970-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-2)\".",
    "created_at": "2017-04-13T07:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321960",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/18970](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970)" to "[u/rws/18970-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-2)".



---

archive/issue_comments_321961.json:
```json
{
    "body": "**Changing commit** from \"[456cc14d40a5dd9f1e7924bea9b97e097dd10b5d](https://github.com/sagemath/sagetrac-mirror/commit/456cc14d40a5dd9f1e7924bea9b97e097dd10b5d)\" to \"[838c1fd515514355bc2ad86a866514667109b60d](https://github.com/sagemath/sagetrac-mirror/commit/838c1fd515514355bc2ad86a866514667109b60d)\".",
    "created_at": "2017-04-13T07:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321961",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[456cc14d40a5dd9f1e7924bea9b97e097dd10b5d](https://github.com/sagemath/sagetrac-mirror/commit/456cc14d40a5dd9f1e7924bea9b97e097dd10b5d)" to "[838c1fd515514355bc2ad86a866514667109b60d](https://github.com/sagemath/sagetrac-mirror/commit/838c1fd515514355bc2ad86a866514667109b60d)".



---

archive/issue_comments_321962.json:
```json
{
    "body": "<a id='comment:25'></a>\nCompleted coverage.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/838c1fd515514355bc2ad86a866514667109b60d\">838c1fd</a></td><td><code>18970: Log function and documentation revamp</code></td></tr></table>\n",
    "created_at": "2017-04-13T07:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321962",
    "user": "https://github.com/rwst"
}
```

<a id='comment:25'></a>
Completed coverage.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/838c1fd515514355bc2ad86a866514667109b60d">838c1fd</a></td><td><code>18970: Log function and documentation revamp</code></td></tr></table>




---

archive/issue_events_060378.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-04-13T07:54:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60378"
}
```



---

archive/issue_events_060379.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-04-13T07:54:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60379"
}
```



---

archive/issue_comments_321963.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c340011c02cd3881b6661dc2114a1696ad81c8e\">3c34001</a></td><td><code>Merge branch 'develop' into t/18970/18970-2</code></td></tr></table>\n",
    "created_at": "2017-08-24T13:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321963",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c340011c02cd3881b6661dc2114a1696ad81c8e">3c34001</a></td><td><code>Merge branch 'develop' into t/18970/18970-2</code></td></tr></table>




---

archive/issue_comments_321964.json:
```json
{
    "body": "**Changing commit** from \"[838c1fd515514355bc2ad86a866514667109b60d](https://github.com/sagemath/sagetrac-mirror/commit/838c1fd515514355bc2ad86a866514667109b60d)\" to \"[3c340011c02cd3881b6661dc2114a1696ad81c8e](https://github.com/sagemath/sagetrac-mirror/commit/3c340011c02cd3881b6661dc2114a1696ad81c8e)\".",
    "created_at": "2017-08-24T13:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321964",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[838c1fd515514355bc2ad86a866514667109b60d](https://github.com/sagemath/sagetrac-mirror/commit/838c1fd515514355bc2ad86a866514667109b60d)" to "[3c340011c02cd3881b6661dc2114a1696ad81c8e](https://github.com/sagemath/sagetrac-mirror/commit/3c340011c02cd3881b6661dc2114a1696ad81c8e)".



---

archive/issue_events_060380.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-24T13:30:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60380"
}
```



---

archive/issue_events_060381.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-08-24T13:30:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60381"
}
```



---

archive/issue_comments_321965.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-10-20T20:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321965",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_321966.json:
```json
{
    "body": "<a id='comment:29'></a>\ndoes not apply",
    "created_at": "2017-10-20T20:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321966",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'></a>
does not apply



---

archive/issue_comments_321967.json:
```json
{
    "body": "**Changing commit** from \"[3c340011c02cd3881b6661dc2114a1696ad81c8e](https://github.com/sagemath/sagetrac-mirror/commit/3c340011c02cd3881b6661dc2114a1696ad81c8e)\" to \"[e46bc475d7e399d4e4d5c9785a0e1e84335a0f59](https://github.com/sagemath/sagetrac-mirror/commit/e46bc475d7e399d4e4d5c9785a0e1e84335a0f59)\".",
    "created_at": "2017-10-21T05:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321967",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3c340011c02cd3881b6661dc2114a1696ad81c8e](https://github.com/sagemath/sagetrac-mirror/commit/3c340011c02cd3881b6661dc2114a1696ad81c8e)" to "[e46bc475d7e399d4e4d5c9785a0e1e84335a0f59](https://github.com/sagemath/sagetrac-mirror/commit/e46bc475d7e399d4e4d5c9785a0e1e84335a0f59)".



---

archive/issue_comments_321968.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94cc4a5dcf6c3e99407cc89ff210b0acde7cede6\">94cc4a5</a></td><td><code>Merge branch 'develop' into t/18970/18970-2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e46bc475d7e399d4e4d5c9785a0e1e84335a0f59\">e46bc47</a></td><td><code>18970: fix and robustify doctests</code></td></tr></table>\n",
    "created_at": "2017-10-21T05:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321968",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94cc4a5dcf6c3e99407cc89ff210b0acde7cede6">94cc4a5</a></td><td><code>Merge branch 'develop' into t/18970/18970-2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e46bc475d7e399d4e4d5c9785a0e1e84335a0f59">e46bc47</a></td><td><code>18970: fix and robustify doctests</code></td></tr></table>




---

archive/issue_comments_321969.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-10-21T05:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321969",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_321970.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-10-23T23:26:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321970",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_321971.json:
```json
{
    "body": "<a id='comment:32'></a>\nNeeds another rebase over beta9.",
    "created_at": "2017-10-23T23:26:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321971",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'></a>
Needs another rebase over beta9.



---

archive/issue_comments_321972.json:
```json
{
    "body": "**Changing commit** from \"[e46bc475d7e399d4e4d5c9785a0e1e84335a0f59](https://github.com/sagemath/sagetrac-mirror/commit/e46bc475d7e399d4e4d5c9785a0e1e84335a0f59)\" to \"[7ab331ecfa18257d276d66b8eeda5d01616e54c5](https://github.com/sagemath/sagetrac-mirror/commit/7ab331ecfa18257d276d66b8eeda5d01616e54c5)\".",
    "created_at": "2017-10-24T06:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321972",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e46bc475d7e399d4e4d5c9785a0e1e84335a0f59](https://github.com/sagemath/sagetrac-mirror/commit/e46bc475d7e399d4e4d5c9785a0e1e84335a0f59)" to "[7ab331ecfa18257d276d66b8eeda5d01616e54c5](https://github.com/sagemath/sagetrac-mirror/commit/7ab331ecfa18257d276d66b8eeda5d01616e54c5)".



---

archive/issue_comments_321973.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ab331ecfa18257d276d66b8eeda5d01616e54c5\">7ab331e</a></td><td><code>Merge branch 'develop' into t/18970/18970-2</code></td></tr></table>\n",
    "created_at": "2017-10-24T06:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321973",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ab331ecfa18257d276d66b8eeda5d01616e54c5">7ab331e</a></td><td><code>Merge branch 'develop' into t/18970/18970-2</code></td></tr></table>




---

archive/issue_comments_321974.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-10-24T06:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321974",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_321975.json:
```json
{
    "body": "**Changing commit** from \"[7ab331ecfa18257d276d66b8eeda5d01616e54c5](https://github.com/sagemath/sagetrac-mirror/commit/7ab331ecfa18257d276d66b8eeda5d01616e54c5)\" to \"[b3b9a525146b9a32e0c2e1bc77b1883255e239ec](https://github.com/sagemath/sagetrac-mirror/commit/b3b9a525146b9a32e0c2e1bc77b1883255e239ec)\".",
    "created_at": "2017-10-24T15:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7ab331ecfa18257d276d66b8eeda5d01616e54c5](https://github.com/sagemath/sagetrac-mirror/commit/7ab331ecfa18257d276d66b8eeda5d01616e54c5)" to "[b3b9a525146b9a32e0c2e1bc77b1883255e239ec](https://github.com/sagemath/sagetrac-mirror/commit/b3b9a525146b9a32e0c2e1bc77b1883255e239ec)".



---

archive/issue_comments_321976.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3b9a525146b9a32e0c2e1bc77b1883255e239ec\">b3b9a52</a></td><td><code>18970: fix log usage</code></td></tr></table>\n",
    "created_at": "2017-10-24T15:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321976",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3b9a525146b9a32e0c2e1bc77b1883255e239ec">b3b9a52</a></td><td><code>18970: fix log usage</code></td></tr></table>




---

archive/issue_comments_321977.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/18970-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-2)\" to \"[u/rws/18970-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-3)\".",
    "created_at": "2017-10-24T15:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321977",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/18970-2](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-2)" to "[u/rws/18970-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-3)".



---

archive/issue_comments_321978.json:
```json
{
    "body": "**Changing commit** from \"[b3b9a525146b9a32e0c2e1bc77b1883255e239ec](https://github.com/sagemath/sagetrac-mirror/commit/b3b9a525146b9a32e0c2e1bc77b1883255e239ec)\" to \"[b0486c8b520b278960485499f2b46fdacc2fce83](https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83)\".",
    "created_at": "2017-10-24T15:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321978",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[b3b9a525146b9a32e0c2e1bc77b1883255e239ec](https://github.com/sagemath/sagetrac-mirror/commit/b3b9a525146b9a32e0c2e1bc77b1883255e239ec)" to "[b0486c8b520b278960485499f2b46fdacc2fce83](https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83)".



---

archive/issue_comments_321979.json:
```json
{
    "body": "<a id='comment:37'></a>\nFixes were added, cruft removed, and it all squashed.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83\">b0486c8</a></td><td><code>18970: Log function and documentation revamp</code></td></tr></table>\n",
    "created_at": "2017-10-24T15:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321979",
    "user": "https://github.com/rwst"
}
```

<a id='comment:37'></a>
Fixes were added, cruft removed, and it all squashed.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83">b0486c8</a></td><td><code>18970: Log function and documentation revamp</code></td></tr></table>




---

archive/issue_comments_321980.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-10-25T14:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321980",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_321981.json:
```json
{
    "body": "<a id='comment:38'></a>\nLGTM. Timings on my laptop with branch:\n\n```\nsage: %timeit log(QQ(8),2)\nThe slowest run took 29.31 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 1.57 \u00b5s per loop\nsage: %timeit log(QQ(8),3)\nThe slowest run took 4.03 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 35.5 \u00b5s per loop\nsage: %timeit log(ZZ(8),3)\n10000 loops, best of 3: 33 \u00b5s per loop\nsage: %timeit log(ZZ(8),2)\nThe slowest run took 16.93 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 887 ns per loop\n```\nvs. with `develop`:\n\n```\nsage: %timeit log(QQ(8),2)\nThe slowest run took 14987.26 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 1.6 \u00b5s per loop\nsage: %timeit log(QQ(8),3)\n10000 loops, best of 3: 43.2 \u00b5s per loop\nsage: %timeit log(ZZ(8),3)\nThe slowest run took 4.42 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 38.9 \u00b5s per loop\nsage: %timeit log(ZZ(8),2)\nThe slowest run took 14.23 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000000 loops, best of 3: 1.06 \u00b5s per loop\n```",
    "created_at": "2017-10-25T14:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321981",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:38'></a>
LGTM. Timings on my laptop with branch:

```
sage: %timeit log(QQ(8),2)
The slowest run took 29.31 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 1.57 µs per loop
sage: %timeit log(QQ(8),3)
The slowest run took 4.03 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 35.5 µs per loop
sage: %timeit log(ZZ(8),3)
10000 loops, best of 3: 33 µs per loop
sage: %timeit log(ZZ(8),2)
The slowest run took 16.93 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 887 ns per loop
```
vs. with `develop`:

```
sage: %timeit log(QQ(8),2)
The slowest run took 14987.26 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 1.6 µs per loop
sage: %timeit log(QQ(8),3)
10000 loops, best of 3: 43.2 µs per loop
sage: %timeit log(ZZ(8),3)
The slowest run took 4.42 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 38.9 µs per loop
sage: %timeit log(ZZ(8),2)
The slowest run took 14.23 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 1.06 µs per loop
```



---

archive/issue_comments_321982.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-10-25T14:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321982",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_321983.json:
```json
{
    "body": "<a id='comment:39'></a>\nThanks.",
    "created_at": "2017-10-26T06:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321983",
    "user": "https://github.com/rwst"
}
```

<a id='comment:39'></a>
Thanks.



---

archive/issue_comments_321984.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/18970-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-3)\" to \"[b0486c8b520b278960485499f2b46fdacc2fce83](https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83)\".",
    "created_at": "2017-10-29T10:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18970#issuecomment-321984",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/rws/18970-3](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18970-3)" to "[b0486c8b520b278960485499f2b46fdacc2fce83](https://github.com/sagemath/sagetrac-mirror/commit/b0486c8b520b278960485499f2b46fdacc2fce83)".



---

archive/issue_events_060382.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-29T10:32:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18970",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18970#event-60382"
}
```
