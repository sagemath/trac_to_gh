# Issue 18032: Broken copy, plot in sandpile

archive/issues_017795.json:
```json
{
    "assignees": [],
    "body": "The inherited copy method does not work\n\n```\nsage: g = {0:[1,2], 1:[0,3], 2:[0,3], 3:[1,2]}\nsage: G = Sandpile(g,3)\nsage: G.copy()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-11-3cacdf1124d3> in <module>()\n----> 1 G.copy()\n\n/home/vbraun/Code/sage.git/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __copy__(self, weighted, implementation, data_structure, sparse, immutable)\n   1025                            boundary=copy(self._boundary), weighted=weighted,\n   1026                            implementation=implementation,\n-> 1027                            data_structure=data_structure)\n   1028 \n   1029         attributes_to_copy = ('_assoc', '_embedding')\n\nTypeError: __init__() got an unexpected keyword argument 'weighted'\n```\nThis messes up other inherited methods, e.g. `plot`\n\nCC:  @nathanncohen @dimpase @sagetrac-mhampton @sagetrac-dperkinson\n\nKeywords: **sd66**\n\nBranch/Commit: **[`e4c701d`](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Peter Wicks Stringfield, Volker Braun**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18032_\n\n",
    "closed_at": "2015-04-14T19:43:43Z",
    "created_at": "2015-03-21T14:45:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Broken copy, plot in sandpile",
    "type": "issue",
    "updated_at": "2015-04-14T19:43:43Z",
    "url": "https://github.com/sagemath/sage/issues/18032",
    "user": "https://github.com/vbraun"
}
```
The inherited copy method does not work

```
sage: g = {0:[1,2], 1:[0,3], 2:[0,3], 3:[1,2]}
sage: G = Sandpile(g,3)
sage: G.copy()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-11-3cacdf1124d3> in <module>()
----> 1 G.copy()

/home/vbraun/Code/sage.git/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __copy__(self, weighted, implementation, data_structure, sparse, immutable)
   1025                            boundary=copy(self._boundary), weighted=weighted,
   1026                            implementation=implementation,
-> 1027                            data_structure=data_structure)
   1028 
   1029         attributes_to_copy = ('_assoc', '_embedding')

TypeError: __init__() got an unexpected keyword argument 'weighted'
```
This messes up other inherited methods, e.g. `plot`

CC:  @nathanncohen @dimpase @sagetrac-mhampton @sagetrac-dperkinson

Keywords: **sd66**

Branch/Commit: **[`e4c701d`](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**

Reviewer: **Nathann Cohen**

Author: **Peter Wicks Stringfield, Volker Braun**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/18032_





---

archive/issue_events_254136.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254136"
}
```



---

archive/issue_events_254137.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254137"
}
```



---

archive/issue_events_254138.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254138"
}
```



---

archive/issue_events_254139.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254139"
}
```



---

archive/issue_comments_245442.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIf somebody actually knows this file, it would be nice to think of what should be done with `random_dag`, `random_digraph` and `random_tree`, which are all exported into the global namespace (and we have `graphs.<tab>` for these things already).",
    "created_at": "2015-03-21T15:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245442",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1" align="right">comment:1</div>

If somebody actually knows this file, it would be nice to think of what should be done with `random_dag`, `random_digraph` and `random_tree`, which are all exported into the global namespace (and we have `graphs.<tab>` for these things already).



---

archive/issue_comments_245443.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nBut please post your conclusion on the `random_*` methods on a separate ticket.",
    "created_at": "2015-03-21T16:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245443",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:2" align="right">comment:2</div>

But please post your conclusion on the `random_*` methods on a separate ticket.



---

archive/issue_comments_245444.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOf course of course, this belongs to a separate ticket. I do not believe in opening tickets which I do not address myself, so I hoped that the guy who will know that file and work on this ticket can do something about that too.\n\nBut in another ticket, of course.\n\nNathann",
    "created_at": "2015-03-21T16:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245444",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:3" align="right">comment:3</div>

Of course of course, this belongs to a separate ticket. I do not believe in opening tickets which I do not address myself, so I hoped that the guy who will know that file and work on this ticket can do something about that too.

But in another ticket, of course.

Nathann



---

archive/issue_comments_245445.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe inherited `__copy__` method was broken because Sandpile changed the signature of __init__.\n\nI fixed this by moving the part of `__copy__` that depends on __init__'s signature into its own function and overriding it in Sandpile.\n\nThis could also be fixed by copy+pasting the entire `__copy__` method into Sandpile and tweaking it a bit. I think that's uglier than this though, though maybe not by much.\n\nWhat does everyone else think?",
    "created_at": "2015-03-29T19:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245445",
    "user": "https://github.com/sagetrac-peterwicksstringfield"
}
```

<div id="comment:5" align="right">comment:5</div>

The inherited `__copy__` method was broken because Sandpile changed the signature of __init__.

I fixed this by moving the part of `__copy__` that depends on __init__'s signature into its own function and overriding it in Sandpile.

This could also be fixed by copy+pasting the entire `__copy__` method into Sandpile and tweaking it a bit. I think that's uglier than this though, though maybe not by much.

What does everyone else think?



---

archive/issue_comments_245446.json:
```json
{
    "body": "Branch: **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)**",
    "created_at": "2015-03-29T19:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245446",
    "user": "https://github.com/sagetrac-peterwicksstringfield"
}
```

Branch: **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)**



---

archive/issue_comments_245447.json:
```json
{
    "body": "Commit: **[`595a889`](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)**",
    "created_at": "2015-03-29T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245447",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`595a889`](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)**



---

archive/issue_comments_245448.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a15b92f7e0fe83cf39064c334d26195b7ff5a056\"><code>a15b92f</code></a></td><td><code>Fix minor typo.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac\"><code>595a889</code></a></td><td><code>Fix trac #18032 by making sandpiles copyable.</code></td></tr></table>\n",
    "created_at": "2015-03-29T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245448",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a15b92f7e0fe83cf39064c334d26195b7ff5a056"><code>a15b92f</code></a></td><td><code>Fix minor typo.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac"><code>595a889</code></a></td><td><code>Fix trac #18032 by making sandpiles copyable.</code></td></tr></table>




---

archive/issue_events_254140.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-30T14:35:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254140"
}
```



---

archive/issue_comments_245449.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHello,\n\nThere are several problems with your code:\n\n- Why do you add this new `_make_copy` method in `GenericGraph`? I am not sure\n  that I understand your goal, but I suspect that you may want to learn about\n  the 'super' function of Python:\n\n  http://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods\n\n  Perhaps you only want to call `super().__copy__()` somewhere?\n\n- The way you added `*args` and `**kwds` to the `__init__` method of !Sandpile,\n  the constructor now accepts anything as input,\n  e.g. `Sandpile(heyheyhey=\"heyheyhey\")` which has no meaning. When you use such\n  a syntax, please ensure that one of the two following points is verified:\n\n  a) The method checks that all the arguments that it is given are actually used,\n    and raises an exception otherwise\n\n  b) The method forwards all of `args` and `kwds` to another function\n\n  This way we make sure that all arguments are read at least once, and that none\n  of the input is ignored. This is especially useful to detect typos like\n  `Sandpile(weithged=True)`, which would otherwise return no warning.\n\n- All functions should have an INPUT and a TEST section:\n\n  http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content\n\nNathann",
    "created_at": "2015-03-30T14:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245449",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Hello,

There are several problems with your code:

- Why do you add this new `_make_copy` method in `GenericGraph`? I am not sure
  that I understand your goal, but I suspect that you may want to learn about
  the 'super' function of Python:

  http://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods

  Perhaps you only want to call `super().__copy__()` somewhere?

- The way you added `*args` and `**kwds` to the `__init__` method of !Sandpile,
  the constructor now accepts anything as input,
  e.g. `Sandpile(heyheyhey="heyheyhey")` which has no meaning. When you use such
  a syntax, please ensure that one of the two following points is verified:

  a) The method checks that all the arguments that it is given are actually used,
    and raises an exception otherwise

  b) The method forwards all of `args` and `kwds` to another function

  This way we make sure that all arguments are read at least once, and that none
  of the input is ignored. This is especially useful to detect typos like
  `Sandpile(weithged=True)`, which would otherwise return no warning.

- All functions should have an INPUT and a TEST section:

  http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content

Nathann



---

archive/issue_events_254141.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-30T14:35:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254141"
}
```



---

archive/issue_events_254142.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-30T14:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254142"
}
```



---

archive/issue_comments_245450.json:
```json
{
    "body": "Changed keywords from none to **sd66**",
    "created_at": "2015-03-30T14:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245450",
    "user": "https://github.com/nathanncohen"
}
```

Changed keywords from none to **sd66**



---

archive/issue_comments_245451.json:
```json
{
    "body": "Changed branch from **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)** to **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)**",
    "created_at": "2015-04-09T00:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245451",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)** to **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)**



---

archive/issue_comments_245452.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI added a override for copy. \n\nI don't like the `GenericGraph.__copy__` implementation, for starters its not making a copy. If you want to provide a way to change backends then call the ctor, or provide an appropriately-named method. A copy is not something with completely different innards that happens to compare equal. In any case, its best to not touch it from the Sandpile side.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a\"><code>c500bfa</code></a></td><td><code>Make Sandpiles copyable</code></td></tr></table>\n",
    "created_at": "2015-04-09T00:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245452",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">comment:11</div>

I added a override for copy. 

I don't like the `GenericGraph.__copy__` implementation, for starters its not making a copy. If you want to provide a way to change backends then call the ctor, or provide an appropriately-named method. A copy is not something with completely different innards that happens to compare equal. In any case, its best to not touch it from the Sandpile side.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a"><code>c500bfa</code></a></td><td><code>Make Sandpiles copyable</code></td></tr></table>




---

archive/issue_comments_245453.json:
```json
{
    "body": "Author: **Peter Wicks Stringfield, Volker Braun**",
    "created_at": "2015-04-09T00:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245453",
    "user": "https://github.com/vbraun"
}
```

Author: **Peter Wicks Stringfield, Volker Braun**



---

archive/issue_events_254143.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T00:15:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254143"
}
```



---

archive/issue_events_254144.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T00:15:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254144"
}
```



---

archive/issue_comments_245454.json:
```json
{
    "body": "Changed commit from **[`595a889`](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)** to **[`c500bfa`](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)**",
    "created_at": "2015-04-09T00:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245454",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`595a889`](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)** to **[`c500bfa`](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)**



---

archive/issue_comments_245455.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2015-04-09T06:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245455",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_245456.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHelloooooo,\n\nLooks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`\n\nNathann",
    "created_at": "2015-04-09T06:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245456",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Helloooooo,

Looks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`

Nathann



---

archive/issue_events_254145.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T06:54:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254145"
}
```



---

archive/issue_events_254146.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T06:54:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254146"
}
```



---

archive/issue_comments_245457.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@nathanncohen](#comment%3A12):\n> Looks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`\n\nNo, `G.copy` does not do what I expect it to do. I've never before seen a copy method with a dozen arguments. I expect it to make a copy of ``self``, and I expect it to do nothing else.  \n\nBy the same argument, how about we rename `Matrix.change_ring` to `Matrix.copy` since a) the changed-ring matrix is still `==` comparable, and b) you could pass in the same ring to make a copy. But I hope you can agree that this would be ridiculous.",
    "created_at": "2015-04-09T07:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245457",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@nathanncohen](#comment%3A12):
> Looks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`

No, `G.copy` does not do what I expect it to do. I've never before seen a copy method with a dozen arguments. I expect it to make a copy of ``self``, and I expect it to do nothing else.  

By the same argument, how about we rename `Matrix.change_ring` to `Matrix.copy` since a) the changed-ring matrix is still `==` comparable, and b) you could pass in the same ring to make a copy. But I hope you can agree that this would be ridiculous.



---

archive/issue_comments_245458.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHello,\n\n> No, `G.copy` does not do what I expect it to do.\n\nYou misread. I was talking about `G.copy()` (no arguments). It does exactly what you expect it to.\n\nDo you think that it is a problem for a `copy` function to take optional arguments? If so, can you explain why?\n\nI do not believe that there is any risk of confusion possible, the meaning of `G.copy(immutable=True)` or `G.copy(data_structure=\"static_sparse_graph\")` is rather obvious to anybody who reads it.\n\nNathann",
    "created_at": "2015-04-09T08:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245458",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

Hello,

> No, `G.copy` does not do what I expect it to do.

You misread. I was talking about `G.copy()` (no arguments). It does exactly what you expect it to.

Do you think that it is a problem for a `copy` function to take optional arguments? If so, can you explain why?

I do not believe that there is any risk of confusion possible, the meaning of `G.copy(immutable=True)` or `G.copy(data_structure="static_sparse_graph")` is rather obvious to anybody who reads it.

Nathann



---

archive/issue_comments_245459.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIs `G.copy` implementing deep copy or shallow copy? The answer is clearly \"neither\" (or, more precisely, deep copy plus a grab bag of stuff that is not copy). So it should be labeled more accurately. Then people that subclass GenericGraph wouldn't be so confused by it, this ticket is plain evidence that it is confusing. I overrode `__copy__` which now means that the grab bag of non-copy stuff is gone from Sandpile. I say good riddance. But it does make it inconsistent with what is going on in the base class.",
    "created_at": "2015-04-09T08:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245459",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

Is `G.copy` implementing deep copy or shallow copy? The answer is clearly "neither" (or, more precisely, deep copy plus a grab bag of stuff that is not copy). So it should be labeled more accurately. Then people that subclass GenericGraph wouldn't be so confused by it, this ticket is plain evidence that it is confusing. I overrode `__copy__` which now means that the grab bag of non-copy stuff is gone from Sandpile. I say good riddance. But it does make it inconsistent with what is going on in the base class.



---

archive/issue_comments_245460.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThe problem that you met here is not related to copy. The problem is that `SandPile` inherits from `Graph`, but that its `__init__` function does not accept all arguments that `Graph.__init__` accepts.\n\nNathann",
    "created_at": "2015-04-09T08:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245460",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

The problem that you met here is not related to copy. The problem is that `SandPile` inherits from `Graph`, but that its `__init__` function does not accept all arguments that `Graph.__init__` accepts.

Nathann



---

archive/issue_events_254147.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T09:10:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254147"
}
```



---

archive/issue_events_254148.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T09:10:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254148"
}
```



---

archive/issue_comments_245461.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI know, but that is fair game in OOP. The standard lore is that you need to provide a copy ctor (`__copy__`) if you change the ctor (`__init__`) arguments. Then you can always make copies as needed. The ctor makes instances (and its arguments may change in subclasses), the copy ctor makes identical (as far as possible) copies (and takes the same = no arguments all the time).\n\nEven with this ticket `Sandpile.copy == GenericGraph.__copy__` still doesn't work. That is fine with me since it doesn't make a copy anyways. But `plot()` also calls `copy(immutable=False)`, so plot is still broken. Why can't we plot immutable graphs to start with? Also, copies should be mutable, that usually the point of copying the immutable object. See e.g.:\n\n```\nsage: v = vector([1, 2, 3])\nsage: v.is_immutable()\nFalse\nsage: v.set_immutable()\nsage: v.is_immutable()\nTrue\nsage: copy(v).is_immutable()\nFalse\n```",
    "created_at": "2015-04-09T09:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245461",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

I know, but that is fair game in OOP. The standard lore is that you need to provide a copy ctor (`__copy__`) if you change the ctor (`__init__`) arguments. Then you can always make copies as needed. The ctor makes instances (and its arguments may change in subclasses), the copy ctor makes identical (as far as possible) copies (and takes the same = no arguments all the time).

Even with this ticket `Sandpile.copy == GenericGraph.__copy__` still doesn't work. That is fine with me since it doesn't make a copy anyways. But `plot()` also calls `copy(immutable=False)`, so plot is still broken. Why can't we plot immutable graphs to start with? Also, copies should be mutable, that usually the point of copying the immutable object. See e.g.:

```
sage: v = vector([1, 2, 3])
sage: v.is_immutable()
False
sage: v.set_immutable()
sage: v.is_immutable()
True
sage: copy(v).is_immutable()
False
```



---

archive/issue_comments_245462.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nWell, add a `**kwds` to the constructor, forward everything to `super().__init__` and you are done.\n\nNathann",
    "created_at": "2015-04-09T09:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245462",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:19" align="right">comment:19</div>

Well, add a `**kwds` to the constructor, forward everything to `super().__init__` and you are done.

Nathann



---

archive/issue_comments_245463.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nNuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.",
    "created_at": "2015-04-09T09:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245463",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

Nuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.



---

archive/issue_comments_245464.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n> Nuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.\n\nIf your `copy` accept `**kwds` and you forward everything to the constructor then it should work, shouldn't it?\n\nNathann",
    "created_at": "2015-04-09T09:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245464",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

> Nuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.

If your `copy` accept `**kwds` and you forward everything to the constructor then it should work, shouldn't it?

Nathann



---

archive/issue_comments_245465.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIn other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...",
    "created_at": "2015-04-09T09:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245465",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

In other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...



---

archive/issue_comments_245466.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> In other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...\n\nThe same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.\n\nNow, if you look at `Sandpile.<tab>` and most methods do not make sense to you, then perhaps `Sandpile` should not inherit from `Graph` but merely have a `._graph` variable.\n\nNathann",
    "created_at": "2015-04-09T09:55:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245466",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

> In other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...

The same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.

Now, if you look at `Sandpile.<tab>` and most methods do not make sense to you, then perhaps `Sandpile` should not inherit from `Graph` but merely have a `._graph` variable.

Nathann



---

archive/issue_comments_245467.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@nathanncohen](#comment%3A23):\n> The same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.\n\nExcept that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem.",
    "created_at": "2015-04-09T09:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245467",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@nathanncohen](#comment%3A23):
> The same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.

Except that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem.



---

archive/issue_comments_245468.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n> Except that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem. \n\nFeel free to replace `GenericGraph.__copy__` by a new function with no arguments that calls `.copy()` (with no argument). I fail to see how that is an improvement, but if that makes it simpler for you I do not mind.\n\nNathann",
    "created_at": "2015-04-09T09:58:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245468",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

> Except that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem. 

Feel free to replace `GenericGraph.__copy__` by a new function with no arguments that calls `.copy()` (with no argument). I fail to see how that is an improvement, but if that makes it simpler for you I do not mind.

Nathann



---

archive/issue_comments_245469.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThats not an improvement since `plot()` still calls `G.copy()` (which shouldn't have been called copy) instead of `G.__copy__()`  to make a copy.",
    "created_at": "2015-04-09T10:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245469",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

Thats not an improvement since `plot()` still calls `G.copy()` (which shouldn't have been called copy) instead of `G.__copy__()`  to make a copy.



---

archive/issue_comments_245470.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n> Thats not an improvement since `plot()` still calls `G.copy()`\n\nI agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.\n\nI think that the easiest is to accept `**kwds` in your copy function and to forward it to the constructor. Same in the constructor, which will forward everything to `Graph.__init__`.\n\nNathann",
    "created_at": "2015-04-09T10:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245470",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:27" align="right">comment:27</div>

> Thats not an improvement since `plot()` still calls `G.copy()`

I agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.

I think that the easiest is to accept `**kwds` in your copy function and to forward it to the constructor. Same in the constructor, which will forward everything to `Graph.__init__`.

Nathann



---

archive/issue_comments_245471.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@nathanncohen](#comment%3A27):\n> I agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.\n\nBut `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.",
    "created_at": "2015-04-09T10:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245471",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@nathanncohen](#comment%3A27):
> I agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.

But `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.



---

archive/issue_comments_245472.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n> But `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.\n\nI fail to see why this problem could happen with `__copy__` and not with other functions.\n\nNathann",
    "created_at": "2015-04-09T10:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245472",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:29" align="right">comment:29</div>

> But `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.

I fail to see why this problem could happen with `__copy__` and not with other functions.

Nathann



---

archive/issue_comments_245473.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266\"><code>e4c701d</code></a></td><td><code>Implement GenericGraph.__copy__</code></td></tr></table>\n",
    "created_at": "2015-04-09T12:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245473",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266"><code>e4c701d</code></a></td><td><code>Implement GenericGraph.__copy__</code></td></tr></table>




---

archive/issue_comments_245474.json:
```json
{
    "body": "Changed commit from **[`c500bfa`](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)** to **[`e4c701d`](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**",
    "created_at": "2015-04-09T12:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245474",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c500bfa`](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)** to **[`e4c701d`](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**



---

archive/issue_events_254149.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T12:04:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254149"
}
```



---

archive/issue_events_254150.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T12:04:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254150"
}
```



---

archive/issue_comments_245475.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMaybe its clearer now, just fixing `GenericGraph.__copy__` also fixes the Sandpile plotting.",
    "created_at": "2015-04-09T12:04:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245475",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

Maybe its clearer now, just fixing `GenericGraph.__copy__` also fixes the Sandpile plotting.



---

archive/issue_comments_245476.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nYou are making the default behaviour of `copy` to *change* the backend?\n\nNathann",
    "created_at": "2015-04-09T12:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245476",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:32" align="right">comment:32</div>

You are making the default behaviour of `copy` to *change* the backend?

Nathann



---

archive/issue_events_254151.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T12:20:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254151"
}
```



---

archive/issue_events_254152.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T12:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254152"
}
```



---

archive/issue_comments_245477.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOnly if necessary (i.e. only if the current backend doesn't support mutable graphs). The expected behavior of copy is that the copy is mutable.",
    "created_at": "2015-04-10T10:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245477",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

Only if necessary (i.e. only if the current backend doesn't support mutable graphs). The expected behavior of copy is that the copy is mutable.



---

archive/issue_comments_245478.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n> The expected behavior of copy is that the copy is mutable.\n\nNo.\n\n```\nsage: copy((1,2,3))\n(1, 2, 3)\n```\n\nNathann",
    "created_at": "2015-04-10T10:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245478",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:34" align="right">comment:34</div>

> The expected behavior of copy is that the copy is mutable.

No.

```
sage: copy((1,2,3))
(1, 2, 3)
```

Nathann



---

archive/issue_comments_245479.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nIts a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.",
    "created_at": "2015-04-10T10:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245479",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:35" align="right">comment:35</div>

Its a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.



---

archive/issue_comments_245480.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n> Its a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.\n\nI disagree with the change that you propose. Now as you have a way to fix your bug with 4 lines of code please implement that.\n\nNathann",
    "created_at": "2015-04-10T10:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245480",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

> Its a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.

I disagree with the change that you propose. Now as you have a way to fix your bug with 4 lines of code please implement that.

Nathann



---

archive/issue_comments_245481.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nIts the same interface that vectors and matrices have. If you disagree with these too then fine. But my change is a big improvement to the graph code.",
    "created_at": "2015-04-10T10:41:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245481",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

Its the same interface that vectors and matrices have. If you disagree with these too then fine. But my change is a big improvement to the graph code.



---

archive/issue_events_254153.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-10T19:03:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254153"
}
```



---

archive/issue_events_254154.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-10T19:03:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254154"
}
```



---

archive/issue_comments_245482.json:
```json
{
    "body": "Changed branch from **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)** to **[`e4c701d`](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**",
    "created_at": "2015-04-14T19:43:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-245482",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)** to **[`e4c701d`](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**



---

archive/issue_events_254155.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254155"
}
```



---

archive/issue_events_254156.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cb47efd0cf44cfb19f02dfdeb6e2995e1e152c3a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-14T19:43:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-254156"
}
```
