# Issue 18032: Broken copy, plot in sandpile

archive/issues_017795.json:
```json
{
    "assignees": [],
    "body": "The inherited copy method does not work\n\n```\nsage: g = {0:[1,2], 1:[0,3], 2:[0,3], 3:[1,2]}\nsage: G = Sandpile(g,3)\nsage: G.copy()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-11-3cacdf1124d3> in <module>()\n----> 1 G.copy()\n\n/home/vbraun/Code/sage.git/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __copy__(self, weighted, implementation, data_structure, sparse, immutable)\n   1025                            boundary=copy(self._boundary), weighted=weighted,\n   1026                            implementation=implementation,\n-> 1027                            data_structure=data_structure)\n   1028 \n   1029         attributes_to_copy = ('_assoc', '_embedding')\n\nTypeError: __init__() got an unexpected keyword argument 'weighted'\n```\nThis messes up other inherited methods, e.g. `plot`\n\nCC:  @nathanncohen @dimpase mhampton dperkinson\n\nKeywords: **sd66**\n\nBranch/Commit: **[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Peter Wicks Stringfield, Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18032_\n\n",
    "closed_at": "2015-04-14T19:43:43Z",
    "created_at": "2015-03-21T14:45:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Broken copy, plot in sandpile",
    "type": "issue",
    "updated_at": "2015-04-14T19:43:43Z",
    "url": "https://github.com/sagemath/sage/issues/18032",
    "user": "https://github.com/vbraun"
}
```
The inherited copy method does not work

```
sage: g = {0:[1,2], 1:[0,3], 2:[0,3], 3:[1,2]}
sage: G = Sandpile(g,3)
sage: G.copy()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-11-3cacdf1124d3> in <module>()
----> 1 G.copy()

/home/vbraun/Code/sage.git/local/lib/python2.7/site-packages/sage/graphs/generic_graph.pyc in __copy__(self, weighted, implementation, data_structure, sparse, immutable)
   1025                            boundary=copy(self._boundary), weighted=weighted,
   1026                            implementation=implementation,
-> 1027                            data_structure=data_structure)
   1028 
   1029         attributes_to_copy = ('_assoc', '_embedding')

TypeError: __init__() got an unexpected keyword argument 'weighted'
```
This messes up other inherited methods, e.g. `plot`

CC:  @nathanncohen @dimpase mhampton dperkinson

Keywords: **sd66**

Branch/Commit: **[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**

Reviewer: **Nathann Cohen**

Author: **Peter Wicks Stringfield, Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/18032_





---

archive/issue_events_230151.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230151"
}
```



---

archive/issue_events_230152.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230152"
}
```



---

archive/issue_events_230153.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230153"
}
```



---

archive/issue_events_230154.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-21T14:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230154"
}
```



---

archive/issue_comments_248013.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nIf somebody actually knows this file, it would be nice to think of what should be done with `random_dag`, `random_digraph` and `random_tree`, which are all exported into the global namespace (and we have `graphs.<tab>` for these things already).",
    "created_at": "2015-03-21T15:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248013",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'>Comment 1:</a>
If somebody actually knows this file, it would be nice to think of what should be done with `random_dag`, `random_digraph` and `random_tree`, which are all exported into the global namespace (and we have `graphs.<tab>` for these things already).



---

archive/issue_comments_248014.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBut please post your conclusion on the `random_*` methods on a separate ticket.",
    "created_at": "2015-03-21T16:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248014",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'>Comment 2:</a>
But please post your conclusion on the `random_*` methods on a separate ticket.



---

archive/issue_comments_248015.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nOf course of course, this belongs to a separate ticket. I do not believe in opening tickets which I do not address myself, so I hoped that the guy who will know that file and work on this ticket can do something about that too.\n\nBut in another ticket, of course.\n\nNathann",
    "created_at": "2015-03-21T16:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248015",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'>Comment 3:</a>
Of course of course, this belongs to a separate ticket. I do not believe in opening tickets which I do not address myself, so I hoped that the guy who will know that file and work on this ticket can do something about that too.

But in another ticket, of course.

Nathann



---

archive/issue_comments_248016.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThe inherited `__copy__` method was broken because Sandpile changed the signature of __init__.\n\nI fixed this by moving the part of `__copy__` that depends on __init__'s signature into its own function and overriding it in Sandpile.\n\nThis could also be fixed by copy+pasting the entire `__copy__` method into Sandpile and tweaking it a bit. I think that's uglier than this though, though maybe not by much.\n\nWhat does everyone else think?",
    "created_at": "2015-03-29T19:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248016",
    "user": "https://github.com/sagetrac-peterwicksstringfield"
}
```

<a id='comment:5'>Comment 5:</a>
The inherited `__copy__` method was broken because Sandpile changed the signature of __init__.

I fixed this by moving the part of `__copy__` that depends on __init__'s signature into its own function and overriding it in Sandpile.

This could also be fixed by copy+pasting the entire `__copy__` method into Sandpile and tweaking it a bit. I think that's uglier than this though, though maybe not by much.

What does everyone else think?



---

archive/issue_comments_248017.json:
```json
{
    "body": "Branch: **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)**",
    "created_at": "2015-03-29T19:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248017",
    "user": "https://github.com/sagetrac-peterwicksstringfield"
}
```

Branch: **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)**



---

archive/issue_comments_248018.json:
```json
{
    "body": "Commit: **[595a889](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)**",
    "created_at": "2015-03-29T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248018",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[595a889](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)**



---

archive/issue_comments_248019.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a15b92f7e0fe83cf39064c334d26195b7ff5a056\">a15b92f</a></td><td><code>Fix minor typo.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac\">595a889</a></td><td><code>Fix trac #18032 by making sandpiles copyable.</code></td></tr></table>\n",
    "created_at": "2015-03-29T19:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248019",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a15b92f7e0fe83cf39064c334d26195b7ff5a056">a15b92f</a></td><td><code>Fix minor typo.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac">595a889</a></td><td><code>Fix trac #18032 by making sandpiles copyable.</code></td></tr></table>




---

archive/issue_events_230155.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-30T14:35:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230155"
}
```



---

archive/issue_comments_248020.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nHello,\n\nThere are several problems with your code:\n\n- Why do you add this new `_make_copy` method in `GenericGraph`? I am not sure\n  that I understand your goal, but I suspect that you may want to learn about\n  the 'super' function of Python:\n\n  http://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods\n\n  Perhaps you only want to call `super().__copy__()` somewhere?\n\n- The way you added `*args` and `**kwds` to the `__init__` method of !Sandpile,\n  the constructor now accepts anything as input,\n  e.g. `Sandpile(heyheyhey=\"heyheyhey\")` which has no meaning. When you use such\n  a syntax, please ensure that one of the two following points is verified:\n\n  a) The method checks that all the arguments that it is given are actually used,\n    and raises an exception otherwise\n\n  b) The method forwards all of `args` and `kwds` to another function\n\n  This way we make sure that all arguments are read at least once, and that none\n  of the input is ignored. This is especially useful to detect typos like\n  `Sandpile(weithged=True)`, which would otherwise return no warning.\n\n- All functions should have an INPUT and a TEST section:\n\n  http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content\n\nNathann",
    "created_at": "2015-03-30T14:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248020",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'>Comment 7:</a>
Hello,

There are several problems with your code:

- Why do you add this new `_make_copy` method in `GenericGraph`? I am not sure
  that I understand your goal, but I suspect that you may want to learn about
  the 'super' function of Python:

  http://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods

  Perhaps you only want to call `super().__copy__()` somewhere?

- The way you added `*args` and `**kwds` to the `__init__` method of !Sandpile,
  the constructor now accepts anything as input,
  e.g. `Sandpile(heyheyhey="heyheyhey")` which has no meaning. When you use such
  a syntax, please ensure that one of the two following points is verified:

  a) The method checks that all the arguments that it is given are actually used,
    and raises an exception otherwise

  b) The method forwards all of `args` and `kwds` to another function

  This way we make sure that all arguments are read at least once, and that none
  of the input is ignored. This is especially useful to detect typos like
  `Sandpile(weithged=True)`, which would otherwise return no warning.

- All functions should have an INPUT and a TEST section:

  http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content

Nathann



---

archive/issue_events_230156.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-30T14:35:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230156"
}
```



---

archive/issue_events_230157.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-03-30T14:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230157"
}
```



---

archive/issue_comments_248021.json:
```json
{
    "body": "Changed keywords from **** to **sd66**",
    "created_at": "2015-03-30T14:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248021",
    "user": "https://github.com/nathanncohen"
}
```

Changed keywords from **** to **sd66**



---

archive/issue_comments_248022.json:
```json
{
    "body": "Changed branch from **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)** to **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)**",
    "created_at": "2015-04-09T00:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248022",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/peterwicksstringfield/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/peterwicksstringfield/ticket/18032)** to **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)**



---

archive/issue_comments_248023.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI added a override for copy. \n\nI don't like the `GenericGraph.__copy__` implementation, for starters its not making a copy. If you want to provide a way to change backends then call the ctor, or provide an appropriately-named method. A copy is not something with completely different innards that happens to compare equal. In any case, its best to not touch it from the Sandpile side.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a\">c500bfa</a></td><td><code>Make Sandpiles copyable</code></td></tr></table>\n",
    "created_at": "2015-04-09T00:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248023",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'>Comment 11:</a>
I added a override for copy. 

I don't like the `GenericGraph.__copy__` implementation, for starters its not making a copy. If you want to provide a way to change backends then call the ctor, or provide an appropriately-named method. A copy is not something with completely different innards that happens to compare equal. In any case, its best to not touch it from the Sandpile side.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a">c500bfa</a></td><td><code>Make Sandpiles copyable</code></td></tr></table>




---

archive/issue_comments_248024.json:
```json
{
    "body": "Author: **Peter Wicks Stringfield, Volker Braun**",
    "created_at": "2015-04-09T00:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248024",
    "user": "https://github.com/vbraun"
}
```

Author: **Peter Wicks Stringfield, Volker Braun**



---

archive/issue_events_230158.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T00:15:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230158"
}
```



---

archive/issue_events_230159.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T00:15:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230159"
}
```



---

archive/issue_comments_248025.json:
```json
{
    "body": "Changed commit from **[595a889](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)** to **[c500bfa](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)**",
    "created_at": "2015-04-09T00:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248025",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[595a889](https://github.com/sagemath/sagetrac-mirror/commit/595a889044e8910542c992f1d6783cb03500fdac)** to **[c500bfa](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)**



---

archive/issue_comments_248026.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2015-04-09T06:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248026",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_248027.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nHelloooooo,\n\nLooks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`\n\nNathann",
    "created_at": "2015-04-09T06:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248027",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'>Comment 12:</a>
Helloooooo,

Looks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`

Nathann



---

archive/issue_events_230160.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T06:54:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230160"
}
```



---

archive/issue_events_230161.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T06:54:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230161"
}
```



---

archive/issue_comments_248028.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@nathanncohen](#comment%3A12):\n> Looks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`\n\nNo, `G.copy` does not do what I expect it to do. I've never before seen a copy method with a dozen arguments. I expect it to make a copy of ``self``, and I expect it to do nothing else.  \n\nBy the same argument, how about we rename `Matrix.change_ring` to `Matrix.copy` since a) the changed-ring matrix is still `==` comparable, and b) you could pass in the same ring to make a copy. But I hope you can agree that this would be ridiculous.",
    "created_at": "2015-04-09T07:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248028",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@nathanncohen](#comment%3A12):
> Looks good. About the graph's `copy` function, you will appreciate that `G.copy()` does precisely what you expect. Then, if you ask it to do more it will do... What you ask it to `:-P`

No, `G.copy` does not do what I expect it to do. I've never before seen a copy method with a dozen arguments. I expect it to make a copy of ``self``, and I expect it to do nothing else.  

By the same argument, how about we rename `Matrix.change_ring` to `Matrix.copy` since a) the changed-ring matrix is still `==` comparable, and b) you could pass in the same ring to make a copy. But I hope you can agree that this would be ridiculous.



---

archive/issue_comments_248029.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nHello,\n\n> No, `G.copy` does not do what I expect it to do.\n\nYou misread. I was talking about `G.copy()` (no arguments). It does exactly what you expect it to.\n\nDo you think that it is a problem for a `copy` function to take optional arguments? If so, can you explain why?\n\nI do not believe that there is any risk of confusion possible, the meaning of `G.copy(immutable=True)` or `G.copy(data_structure=\"static_sparse_graph\")` is rather obvious to anybody who reads it.\n\nNathann",
    "created_at": "2015-04-09T08:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248029",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'>Comment 15:</a>
Hello,

> No, `G.copy` does not do what I expect it to do.

You misread. I was talking about `G.copy()` (no arguments). It does exactly what you expect it to.

Do you think that it is a problem for a `copy` function to take optional arguments? If so, can you explain why?

I do not believe that there is any risk of confusion possible, the meaning of `G.copy(immutable=True)` or `G.copy(data_structure="static_sparse_graph")` is rather obvious to anybody who reads it.

Nathann



---

archive/issue_comments_248030.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nIs `G.copy` implementing deep copy or shallow copy? The answer is clearly \"neither\" (or, more precisely, deep copy plus a grab bag of stuff that is not copy). So it should be labeled more accurately. Then people that subclass GenericGraph wouldn't be so confused by it, this ticket is plain evidence that it is confusing. I overrode `__copy__` which now means that the grab bag of non-copy stuff is gone from Sandpile. I say good riddance. But it does make it inconsistent with what is going on in the base class.",
    "created_at": "2015-04-09T08:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248030",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'>Comment 16:</a>
Is `G.copy` implementing deep copy or shallow copy? The answer is clearly "neither" (or, more precisely, deep copy plus a grab bag of stuff that is not copy). So it should be labeled more accurately. Then people that subclass GenericGraph wouldn't be so confused by it, this ticket is plain evidence that it is confusing. I overrode `__copy__` which now means that the grab bag of non-copy stuff is gone from Sandpile. I say good riddance. But it does make it inconsistent with what is going on in the base class.



---

archive/issue_comments_248031.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nThe problem that you met here is not related to copy. The problem is that `SandPile` inherits from `Graph`, but that its `__init__` function does not accept all arguments that `Graph.__init__` accepts.\n\nNathann",
    "created_at": "2015-04-09T08:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248031",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'>Comment 17:</a>
The problem that you met here is not related to copy. The problem is that `SandPile` inherits from `Graph`, but that its `__init__` function does not accept all arguments that `Graph.__init__` accepts.

Nathann



---

archive/issue_events_230162.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T09:10:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230162"
}
```



---

archive/issue_events_230163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T09:10:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230163"
}
```



---

archive/issue_comments_248032.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI know, but that is fair game in OOP. The standard lore is that you need to provide a copy ctor (`__copy__`) if you change the ctor (`__init__`) arguments. Then you can always make copies as needed. The ctor makes instances (and its arguments may change in subclasses), the copy ctor makes identical (as far as possible) copies (and takes the same = no arguments all the time).\n\nEven with this ticket `Sandpile.copy == GenericGraph.__copy__` still doesn't work. That is fine with me since it doesn't make a copy anyways. But `plot()` also calls `copy(immutable=False)`, so plot is still broken. Why can't we plot immutable graphs to start with? Also, copies should be mutable, that usually the point of copying the immutable object. See e.g.:\n\n```\nsage: v = vector([1, 2, 3])\nsage: v.is_immutable()\nFalse\nsage: v.set_immutable()\nsage: v.is_immutable()\nTrue\nsage: copy(v).is_immutable()\nFalse\n```",
    "created_at": "2015-04-09T09:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248032",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>Comment 18:</a>
I know, but that is fair game in OOP. The standard lore is that you need to provide a copy ctor (`__copy__`) if you change the ctor (`__init__`) arguments. Then you can always make copies as needed. The ctor makes instances (and its arguments may change in subclasses), the copy ctor makes identical (as far as possible) copies (and takes the same = no arguments all the time).

Even with this ticket `Sandpile.copy == GenericGraph.__copy__` still doesn't work. That is fine with me since it doesn't make a copy anyways. But `plot()` also calls `copy(immutable=False)`, so plot is still broken. Why can't we plot immutable graphs to start with? Also, copies should be mutable, that usually the point of copying the immutable object. See e.g.:

```
sage: v = vector([1, 2, 3])
sage: v.is_immutable()
False
sage: v.set_immutable()
sage: v.is_immutable()
True
sage: copy(v).is_immutable()
False
```



---

archive/issue_comments_248033.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nWell, add a `**kwds` to the constructor, forward everything to `super().__init__` and you are done.\n\nNathann",
    "created_at": "2015-04-09T09:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248033",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'>Comment 19:</a>
Well, add a `**kwds` to the constructor, forward everything to `super().__init__` and you are done.

Nathann



---

archive/issue_comments_248034.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nNuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.",
    "created_at": "2015-04-09T09:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248034",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'>Comment 20:</a>
Nuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.



---

archive/issue_comments_248035.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\n> Nuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.\n\nIf your `copy` accept `**kwds` and you forward everything to the constructor then it should work, shouldn't it?\n\nNathann",
    "created_at": "2015-04-09T09:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248035",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'>Comment 21:</a>
> Nuuh, `GenericGraph.copy` will still not pass positional arguments to `Sandpile.__init__`.

If your `copy` accept `**kwds` and you forward everything to the constructor then it should work, shouldn't it?

Nathann



---

archive/issue_comments_248036.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nIn other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...",
    "created_at": "2015-04-09T09:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248036",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'>Comment 22:</a>
In other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...



---

archive/issue_comments_248037.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\n> In other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...\n\nThe same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.\n\nNow, if you look at `Sandpile.<tab>` and most methods do not make sense to you, then perhaps `Sandpile` should not inherit from `Graph` but merely have a `._graph` variable.\n\nNathann",
    "created_at": "2015-04-09T09:55:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248037",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'>Comment 23:</a>
> In other words I also have to override `copy` in addition to `__copy__`. How very convenient. This is why Peter originally factored out the `self.__class__` call inside `__copy__`, to provide a hook to override this call. It is all a logical consequence of having `__copy__` do non-copy stuff...

The same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.

Now, if you look at `Sandpile.<tab>` and most methods do not make sense to you, then perhaps `Sandpile` should not inherit from `Graph` but merely have a `._graph` variable.

Nathann



---

archive/issue_comments_248038.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@nathanncohen](#comment%3A23):\n> The same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.\n\nExcept that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem.",
    "created_at": "2015-04-09T09:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248038",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@nathanncohen](#comment%3A23):
> The same would have happened with any other function. If a class B inherits from A but B.f has fewer arguments than A.f, then of course something is going to break.

Except that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem.



---

archive/issue_comments_248039.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\n> Except that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem. \n\nFeel free to replace `GenericGraph.__copy__` by a new function with no arguments that calls `.copy()` (with no argument). I fail to see how that is an improvement, but if that makes it simpler for you I do not mind.\n\nNathann",
    "created_at": "2015-04-09T09:58:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248039",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'>Comment 25:</a>
> Except that `__copy__` isn't supposed to have any arguments, and if Graphs would follow that simple rule then we wouldn't have the problem. 

Feel free to replace `GenericGraph.__copy__` by a new function with no arguments that calls `.copy()` (with no argument). I fail to see how that is an improvement, but if that makes it simpler for you I do not mind.

Nathann



---

archive/issue_comments_248040.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nThats not an improvement since `plot()` still calls `G.copy()` (which shouldn't have been called copy) instead of `G.__copy__()`  to make a copy.",
    "created_at": "2015-04-09T10:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248040",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'>Comment 26:</a>
Thats not an improvement since `plot()` still calls `G.copy()` (which shouldn't have been called copy) instead of `G.__copy__()`  to make a copy.



---

archive/issue_comments_248041.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\n> Thats not an improvement since `plot()` still calls `G.copy()`\n\nI agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.\n\nI think that the easiest is to accept `**kwds` in your copy function and to forward it to the constructor. Same in the constructor, which will forward everything to `Graph.__init__`.\n\nNathann",
    "created_at": "2015-04-09T10:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248041",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'>Comment 27:</a>
> Thats not an improvement since `plot()` still calls `G.copy()`

I agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.

I think that the easiest is to accept `**kwds` in your copy function and to forward it to the constructor. Same in the constructor, which will forward everything to `Graph.__init__`.

Nathann



---

archive/issue_comments_248042.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nReplying to [@nathanncohen](#comment%3A27):\n> I agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.\n\nBut `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.",
    "created_at": "2015-04-09T10:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248042",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'>Comment 28:</a>
Replying to [@nathanncohen](#comment%3A27):
> I agree. Which totally proves that the problem is not that `__copy__` takes arguments, but that you inherit a function which you overwrite while accepting fewer arguments.

But `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.



---

archive/issue_comments_248043.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\n> But `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.\n\nI fail to see why this problem could happen with `__copy__` and not with other functions.\n\nNathann",
    "created_at": "2015-04-09T10:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248043",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'>Comment 29:</a>
> But `__copy__` is not supposed to take arguments precisely because you would then fall into this trap.

I fail to see why this problem could happen with `__copy__` and not with other functions.

Nathann



---

archive/issue_comments_248044.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266\">e4c701d</a></td><td><code>Implement GenericGraph.__copy__</code></td></tr></table>\n",
    "created_at": "2015-04-09T12:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248044",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:30'>Comment 30:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266">e4c701d</a></td><td><code>Implement GenericGraph.__copy__</code></td></tr></table>




---

archive/issue_comments_248045.json:
```json
{
    "body": "Changed commit from **[c500bfa](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)** to **[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**",
    "created_at": "2015-04-09T12:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248045",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c500bfa](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)** to **[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**



---

archive/issue_events_230164.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T12:04:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230164"
}
```



---

archive/issue_events_230165.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-09T12:04:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230165"
}
```



---

archive/issue_comments_248046.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nMaybe its clearer now, just fixing `GenericGraph.__copy__` also fixes the Sandpile plotting.",
    "created_at": "2015-04-09T12:04:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248046",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'>Comment 31:</a>
Maybe its clearer now, just fixing `GenericGraph.__copy__` also fixes the Sandpile plotting.



---

archive/issue_comments_248047.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nYou are making the default behaviour of `copy` to *change* the backend?\n\nNathann",
    "created_at": "2015-04-09T12:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248047",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'>Comment 32:</a>
You are making the default behaviour of `copy` to *change* the backend?

Nathann



---

archive/issue_events_230166.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T12:20:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230166"
}
```



---

archive/issue_events_230167.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-09T12:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230167"
}
```



---

archive/issue_comments_248048.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nOnly if necessary (i.e. only if the current backend doesn't support mutable graphs). The expected behavior of copy is that the copy is mutable.",
    "created_at": "2015-04-10T10:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248048",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'>Comment 33:</a>
Only if necessary (i.e. only if the current backend doesn't support mutable graphs). The expected behavior of copy is that the copy is mutable.



---

archive/issue_comments_248049.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\n> The expected behavior of copy is that the copy is mutable.\n\nNo.\n\n```\nsage: copy((1,2,3))\n(1, 2, 3)\n```\n\nNathann",
    "created_at": "2015-04-10T10:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248049",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'>Comment 34:</a>
> The expected behavior of copy is that the copy is mutable.

No.

```
sage: copy((1,2,3))
(1, 2, 3)
```

Nathann



---

archive/issue_comments_248050.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nIts a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.",
    "created_at": "2015-04-10T10:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248050",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'>Comment 35:</a>
Its a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.



---

archive/issue_comments_248051.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\n> Its a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.\n\nI disagree with the change that you propose. Now as you have a way to fix your bug with 4 lines of code please implement that.\n\nNathann",
    "created_at": "2015-04-10T10:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248051",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:36'>Comment 36:</a>
> Its a Sage convention, not a Python convention. Python doesn't have a concept of (imm)mutability for a single class, just completely different classes. Of course copy has to return an instance of the same class.

I disagree with the change that you propose. Now as you have a way to fix your bug with 4 lines of code please implement that.

Nathann



---

archive/issue_comments_248052.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nIts the same interface that vectors and matrices have. If you disagree with these too then fine. But my change is a big improvement to the graph code.",
    "created_at": "2015-04-10T10:41:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248052",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:37'>Comment 37:</a>
Its the same interface that vectors and matrices have. If you disagree with these too then fine. But my change is a big improvement to the graph code.



---

archive/issue_events_230168.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-10T19:03:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230168"
}
```



---

archive/issue_events_230169.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-10T19:03:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230169"
}
```



---

archive/issue_comments_248053.json:
```json
{
    "body": "Changed branch from **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)** to **[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**",
    "created_at": "2015-04-14T19:43:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18032#issuecomment-248053",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vbraun/ticket/18032](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/ticket/18032)** to **[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)**



---

archive/issue_events_230170.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230170"
}
```



---

archive/issue_events_230171.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cb47efd0cf44cfb19f02dfdeb6e2995e1e152c3a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-14T19:43:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18032",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18032#event-230171"
}
```
