# Issue 18158: wrap more libgap objects as `GapElement_List`

archive/issues_017921.json:
```json
{
    "body": "Some objects in GAP are not PList but does support indexation.\n\n```\ngap> S := SymmetricGroup(5);;\ngap> irr := Irr(S);;\ngap> irr[3][1];\n5\n```\nor\n\n```\ngap> gens := GeneratorsOfGroup(SL(2,GF(5)));;\ngap> m := gens[1];;\ngap> m[1];\n[ Z(5), 0*Z(5) ]\ngap> m[2];\n[ 0*Z(5), Z(5)^3 ]\n```\nAnd Sage currently fails to recognize them as lists\n\n```\nsage: S = libgap.SymmetricGroup(5)\nsage: irr = S.Irr()[3]\nsage: irr[0]\nTraceback (most recent call last):\n...\nTypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'\n\nsage: gens = libgap.GeneratorsOfGroup(SL(2,GF(5)))\nsage: m = gens[0]\nsage: m[0]\nTraceback (most recent call last):\n...\nTypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'\n```\n\nIn this branch:\n\n- We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular we make possible the access to elements in the above example.\n\n- we move the methods `vector` and `matrix` to `GapElement_List`\n\nCC:  @vbraun @dimpase\n\nBranch/Commit: dbf8aeac7bdcb1c458711b9c4d2f57a6d4fbac1c\n\nReviewer: Dima Pasechnik\n\nAuthor: Vincent Delecroix\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18158\n\n",
    "closed_at": "2016-05-17T07:16:48Z",
    "created_at": "2015-04-11T11:20:07Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "wrap more libgap objects as `GapElement_List`",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18158",
    "user": "https://github.com/videlec"
}
```
Some objects in GAP are not PList but does support indexation.

```
gap> S := SymmetricGroup(5);;
gap> irr := Irr(S);;
gap> irr[3][1];
5
```
or

```
gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;
gap> m := gens[1];;
gap> m[1];
[ Z(5), 0*Z(5) ]
gap> m[2];
[ 0*Z(5), Z(5)^3 ]
```
And Sage currently fails to recognize them as lists

```
sage: S = libgap.SymmetricGroup(5)
sage: irr = S.Irr()[3]
sage: irr[0]
Traceback (most recent call last):
...
TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'

sage: gens = libgap.GeneratorsOfGroup(SL(2,GF(5)))
sage: m = gens[0]
sage: m[0]
Traceback (most recent call last):
...
TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'
```

In this branch:

- We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular we make possible the access to elements in the above example.

- we move the methods `vector` and `matrix` to `GapElement_List`

CC:  @vbraun @dimpase

Branch/Commit: dbf8aeac7bdcb1c458711b9c4d2f57a6d4fbac1c

Reviewer: Dima Pasechnik

Author: Vincent Delecroix

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18158





---

archive/issue_comments_314122.json:
```json
{
    "body": "<a id='comment:1'></a>libgap lists are python-iterable, so `__getitem__` needs to start at 0. otherwise you'd have `list(x)[0] != x[0]`",
    "created_at": "2015-04-11T12:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314122",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'></a>libgap lists are python-iterable, so `__getitem__` needs to start at 0. otherwise you'd have `list(x)[0] != x[0]`



---

archive/issue_comments_314123.json:
```json
{
    "body": "<a id='comment:2'></a>Replying to [comment:1 vbraun]:\n> libgap lists are python-iterable, so `__getitem__` needs to start at 0. otherwise you'd have `list(x)[0] != x[0]`\n\n\ngap lists are Python iterable as well\n\n```\nsage: list(gap.List([1,2,3]))\n[1, 2, 3]\n```\nand having `list(x)[0] != x[0]` is not breaking any rule.",
    "created_at": "2015-04-11T12:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314123",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>Replying to [comment:1 vbraun]:
> libgap lists are python-iterable, so `__getitem__` needs to start at 0. otherwise you'd have `list(x)[0] != x[0]`


gap lists are Python iterable as well

```
sage: list(gap.List([1,2,3]))
[1, 2, 3]
```
and having `list(x)[0] != x[0]` is not breaking any rule.



---

archive/issue_comments_314124.json:
```json
{
    "body": "<a id='comment:3'></a>It does break the rule of least surprise, e.g.\n\n```\nsage: l = some_computation()\nsage: l \n[ 1, 2, 3 ]\nsage: l[0]     # guess what?\n```",
    "created_at": "2015-04-11T12:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314124",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>It does break the rule of least surprise, e.g.

```
sage: l = some_computation()
sage: l 
[ 1, 2, 3 ]
sage: l[0]     # guess what?
```



---

archive/issue_comments_314125.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 vbraun]:\n> It does break the rule of least surprise, e.g.\n> \n> ```\n> sage: l = some_computation()\n> sage: l \n> [ 1, 2, 3 ]\n> sage: l[0]     # guess what?\n> ```\n\n\nI agree with your example. On the other hand, gap permutations starts at 1 and it is coherent with their lists starting at 1.\n\nMore importantly, for who is intended the gap/libgap interface objects (and more generally Sage interface objects):\n- everybody\n- Sage programmers\n- users knowing gap (pari, singular, etc)\n- ?\nI rarely use `._pari_()`, `._gap_()` when doing actual computations. When I do, it is that Sage is lacking some interface.\n\nVincent",
    "created_at": "2015-04-11T12:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314125",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>Replying to [comment:3 vbraun]:
> It does break the rule of least surprise, e.g.
> 
> ```
> sage: l = some_computation()
> sage: l 
> [ 1, 2, 3 ]
> sage: l[0]     # guess what?
> ```


I agree with your example. On the other hand, gap permutations starts at 1 and it is coherent with their lists starting at 1.

More importantly, for who is intended the gap/libgap interface objects (and more generally Sage interface objects):
- everybody
- Sage programmers
- users knowing gap (pari, singular, etc)
- ?
I rarely use `._pari_()`, `._gap_()` when doing actual computations. When I do, it is that Sage is lacking some interface.

Vincent



---

archive/issue_comments_314126.json:
```json
{
    "body": "<a id='comment:5'></a>Sage also redefines indexing for PARI objects (PARI starts counting at 1, Sage at 0):\n\n```\nsage: pari(\"[1,2,3][1]\")\n1\nsage: pari(\"[1,2,3]\")[1]\n2\n```",
    "created_at": "2015-04-11T12:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314126",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>Sage also redefines indexing for PARI objects (PARI starts counting at 1, Sage at 0):

```
sage: pari("[1,2,3][1]")
1
sage: pari("[1,2,3]")[1]
2
```



---

archive/issue_comments_314127.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 jdemeyer]:\n> Sage also redefines indexing for PARI objects (PARI starts counting at 1, Sage at 0):\n> \n> ```\n> sage: pari(\"[1,2,3][1]\")\n> 1\n> sage: pari(\"[1,2,3]\")[1]\n> 2\n> ```\n\n\nAll right, this is as much consistent as gap vs libgap\n\n```\nsage: pari(\"[1,2,3]\")[1]\n2\nsage: gp(\"[1,2,3]\")[1]\n1\n```\n\nI will just add some warning in the doc and try to implement this `__getitem__` support in libgap.\n\nVincent",
    "created_at": "2015-04-11T13:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314127",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>Replying to [comment:5 jdemeyer]:
> Sage also redefines indexing for PARI objects (PARI starts counting at 1, Sage at 0):
> 
> ```
> sage: pari("[1,2,3][1]")
> 1
> sage: pari("[1,2,3]")[1]
> 2
> ```


All right, this is as much consistent as gap vs libgap

```
sage: pari("[1,2,3]")[1]
2
sage: gp("[1,2,3]")[1]
1
```

I will just add some warning in the doc and try to implement this `__getitem__` support in libgap.

Vincent



---

archive/issue_comments_314128.json:
```json
{
    "body": "<a id='comment:7'></a>I guess this is far from being optimal but it is at least very useful to me!\n\nVincent\n\n---\nNew commits:",
    "created_at": "2015-04-11T14:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314128",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>I guess this is far from being optimal but it is at least very useful to me!

Vincent

---
New commits:



---

archive/issue_comments_314129.json:
```json
{
    "body": "Changing author from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-04-11T14:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314129",
    "user": "https://github.com/videlec"
}
```

Changing author from "" to "Vincent Delecroix"



---

archive/issue_comments_314130.json:
```json
{
    "body": "Changing commit from \"\" to \"ee6506d15b2bbb976c738d6b804edf864a6ab24e\"",
    "created_at": "2015-04-11T14:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314130",
    "user": "https://github.com/videlec"
}
```

Changing commit from "" to "ee6506d15b2bbb976c738d6b804edf864a6ab24e"



---

archive/issue_comments_314131.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-11T14:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314131",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_314132.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/18158\"",
    "created_at": "2015-04-11T14:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314132",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/18158"



---

archive/issue_comments_314133.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,29 +1,12 @@\n-There are two issue with `__getitem__` on gap vs libgap elements:\n-- gap indices start with `1`. This is respected with the gap interface but not with the libgap interface\n-- most libgap elements lacks a `__getitem__`\n-\n-Compare:\n+Some objects in GAP are not list but does support indexation\n \n ```\n-sage: irr = libgap.Irr(libgap.CharacterTable(S))\n-sage: irr[0]\n-Character( CharacterTable( Sym( [ 1 .. 10 ] ) ), [ 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 1, -1, -1, 1, -1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1 ] )\n-sage: irr[0][0]\n-Traceback (most recent call last):\n-...\n-TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'\n+gap> S := SymmetricGroup(5);;\n+gap> irr := Irr(S)[3];;\n+gap> irr[1];\n+5\n ```\n-with\n-\n-```\n-sage: irr = gap.Irr(gap.CharacterTable(S))\n-sage: irr[1]\n-Character( CharacterTable( SymmetricGroup( [ 1 .. 10 ] ) ), \n-[ 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 1, -1, 1, -1, 1, -1, 1, -1, 1, \n-  -1, 1, -1, 1, 1, -1, -1, 1, -1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1 ] )\n-sage: irr[1][1]\n-1\n-```\n+We provide in this ticket a generic `__getitem__` on `GapElement`.\n \n Comment: 1\n \n``````\n",
    "created_at": "2015-04-11T14:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314133",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,29 +1,12 @@
-There are two issue with `__getitem__` on gap vs libgap elements:
-- gap indices start with `1`. This is respected with the gap interface but not with the libgap interface
-- most libgap elements lacks a `__getitem__`
-
-Compare:
+Some objects in GAP are not list but does support indexation
 
 ```
-sage: irr = libgap.Irr(libgap.CharacterTable(S))
-sage: irr[0]
-Character( CharacterTable( Sym( [ 1 .. 10 ] ) ), [ 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 1, -1, -1, 1, -1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1 ] )
-sage: irr[0][0]
-Traceback (most recent call last):
-...
-TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'
+gap> S := SymmetricGroup(5);;
+gap> irr := Irr(S)[3];;
+gap> irr[1];
+5
 ```
-with
-
-```
-sage: irr = gap.Irr(gap.CharacterTable(S))
-sage: irr[1]
-Character( CharacterTable( SymmetricGroup( [ 1 .. 10 ] ) ), 
-[ 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 1, -1, 1, -1, 1, -1, 1, -1, 1, 
-  -1, 1, -1, 1, 1, -1, -1, 1, -1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1 ] )
-sage: irr[1][1]
-1
-```
+We provide in this ticket a generic `__getitem__` on `GapElement`.
 
 Comment: 1
 
``````




---

archive/issue_comments_314134.json:
```json
{
    "body": "<a id='comment:8'></a>Getitem without length is IMHO useless. The GAP function `IsList` just calls `IS_LIST` internally, so we should perhaps use that instead of `IS_PLIST` to decide when to wrap it in a `GapElement_List`",
    "created_at": "2015-06-19T08:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314134",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>Getitem without length is IMHO useless. The GAP function `IsList` just calls `IS_LIST` internally, so we should perhaps use that instead of `IS_PLIST` to decide when to wrap it in a `GapElement_List`



---

archive/issue_comments_314135.json:
```json
{
    "body": "Changing commit from \"ee6506d15b2bbb976c738d6b804edf864a6ab24e\" to \"c27056e7be55c28870ff781ff431b0fe58d927d5\"",
    "created_at": "2016-04-30T21:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee6506d15b2bbb976c738d6b804edf864a6ab24e" to "c27056e7be55c28870ff781ff431b0fe58d927d5"



---

archive/issue_comments_314136.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-30T21:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_314137.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,23 @@\n+Some objects in GAP are not PList but does support indexation\n \n+```\n+gap> S := SymmetricGroup(5);;\n+gap> irr := Irr(S)[3];;\n+gap> irr[1];\n+5\n+```\n+or\n+\n+```\n+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;\n+gap> m := gens[1];;\n+gap> m[1];\n+[ Z(5), 0*Z(5) ]\n+gap> m[2];\n+[ 0*Z(5), Z(5)^3 ]\n+```\n+\n+We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`.\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-04-30T21:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314137",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,23 @@
+Some objects in GAP are not PList but does support indexation
 
+```
+gap> S := SymmetricGroup(5);;
+gap> irr := Irr(S)[3];;
+gap> irr[1];
+5
+```
+or
+
+```
+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;
+gap> m := gens[1];;
+gap> m[1];
+[ Z(5), 0*Z(5) ]
+gap> m[2];
+[ 0*Z(5), Z(5)^3 ]
+```
+
+We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`.
 
 Comment: 1
 
``````




---

archive/issue_comments_314138.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 vbraun]:\n> Getitem without length is IMHO useless. The GAP function `IsList` just calls `IS_LIST` internally, so we should perhaps use that instead of `IS_PLIST` to decide when to wrap it in a `GapElement_List`\n\n\nIndeed it is much more robust and general. That way libgap vectors and matrices are also considered as lists\n\n```\nsage: M = libgap.eval('SL(2,GF(5))').GeneratorsOfGroup()[1]\nsage: M\n[ [ Z(5)^2, Z(5)^0 ], [ Z(5)^2, 0*Z(5) ] ]\nsage: M[0]\n[ Z(5)^2, Z(5)^0 ]\n```",
    "created_at": "2016-04-30T21:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314138",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>Replying to [comment:8 vbraun]:
> Getitem without length is IMHO useless. The GAP function `IsList` just calls `IS_LIST` internally, so we should perhaps use that instead of `IS_PLIST` to decide when to wrap it in a `GapElement_List`


Indeed it is much more robust and general. That way libgap vectors and matrices are also considered as lists

```
sage: M = libgap.eval('SL(2,GF(5))').GeneratorsOfGroup()[1]
sage: M
[ [ Z(5)^2, Z(5)^0 ], [ Z(5)^2, 0*Z(5) ] ]
sage: M[0]
[ Z(5)^2, Z(5)^0 ]
```



---

archive/issue_events_051394.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-04-30T21:26:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18158#event-51394"
}
```



---

archive/issue_comments_314139.json:
```json
{
    "body": "<a id='comment:11'></a>I don't really get the purpose of this ticket; e.g.\n`m = libgap.eval('[[Z(2^2), Z(2)^0],[0*Z(2), Z(2<sup>2)</sup>2]]')`\ncan just as well be done as follows, without an `eval`:\n\n```\nF=libgap.GF(4)\na=F.PrimitiveElement()\nm = libgap([[a,a^0],[0*a,a^2]])\n```",
    "created_at": "2016-05-03T18:52:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314139",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>I don't really get the purpose of this ticket; e.g.
`m = libgap.eval('[[Z(2^2), Z(2)^0],[0*Z(2), Z(2<sup>2)</sup>2]]')`
can just as well be done as follows, without an `eval`:

```
F=libgap.GF(4)
a=F.PrimitiveElement()
m = libgap([[a,a^0],[0*a,a^2]])
```



---

archive/issue_comments_314140.json:
```json
{
    "body": "<a id='comment:12'></a>What are you exactly complaining about? With the branch, I am providing access to `__getitem__` and `__len__` for more gap objects. What `eval` has to do with all of this!?",
    "created_at": "2016-05-03T20:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314140",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>What are you exactly complaining about? With the branch, I am providing access to `__getitem__` and `__len__` for more gap objects. What `eval` has to do with all of this!?



---

archive/issue_comments_314141.json:
```json
{
    "body": "<a id='comment:13'></a>Sorry, well, look at your branch yourself. It seems that you have removed and re-inserted a big chunk. Namely, that `m = libgap.eval('[[Z(2^2), Z(2)^0],[0*Z(2), Z(2<sup>2)</sup>2]]')` is from \"green\" part, and so I assumed that is a part of the ticket contribution...",
    "created_at": "2016-05-03T20:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314141",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>Sorry, well, look at your branch yourself. It seems that you have removed and re-inserted a big chunk. Namely, that `m = libgap.eval('[[Z(2^2), Z(2)^0],[0*Z(2), Z(2<sup>2)</sup>2]]')` is from "green" part, and so I assumed that is a part of the ticket contribution...



---

archive/issue_comments_314142.json:
```json
{
    "body": "<a id='comment:14'></a>Indeed, I moved `matrix` and `vector` from `GapElement` to `GapElement_List`.\n\nThough, I can simplify the line that you don't like.",
    "created_at": "2016-05-03T21:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314142",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>Indeed, I moved `matrix` and `vector` from `GapElement` to `GapElement_List`.

Though, I can simplify the line that you don't like.



---

archive/issue_comments_314143.json:
```json
{
    "body": "Changing commit from \"c27056e7be55c28870ff781ff431b0fe58d927d5\" to \"dbf8aeac7bdcb1c458711b9c4d2f57a6d4fbac1c\"",
    "created_at": "2016-05-03T21:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314143",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c27056e7be55c28870ff781ff431b0fe58d927d5" to "dbf8aeac7bdcb1c458711b9c4d2f57a6d4fbac1c"



---

archive/issue_comments_314144.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-03T21:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314145.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,23 @@\n+Some objects in GAP are not PList but does support indexation\n \n+```\n+gap> S := SymmetricGroup(5);;\n+gap> irr := Irr(S)[3];;\n+gap> irr[1];\n+5\n+```\n+or\n+\n+```\n+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;\n+gap> m := gens[1];;\n+gap> m[1];\n+[ Z(5), 0*Z(5) ]\n+gap> m[2];\n+[ 0*Z(5), Z(5)^3 ]\n+```\n+\n+We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular the examples above previously failed inside Sage.\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-05-03T21:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314145",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,23 @@
+Some objects in GAP are not PList but does support indexation
 
+```
+gap> S := SymmetricGroup(5);;
+gap> irr := Irr(S)[3];;
+gap> irr[1];
+5
+```
+or
+
+```
+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;
+gap> m := gens[1];;
+gap> m[1];
+[ Z(5), 0*Z(5) ]
+gap> m[2];
+[ 0*Z(5), Z(5)^3 ]
+```
+
+We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular the examples above previously failed inside Sage.
 
 Comment: 1
 
``````




---

archive/issue_comments_314146.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,29 @@\n+Some objects in GAP are not PList but does support indexation.\n \n+```\n+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;\n+gap> m := gens[1];;\n+gap> m[1];\n+[ Z(5), 0*Z(5) ]\n+gap> m[2];\n+[ 0*Z(5), Z(5)^3 ]\n+```\n+Sage currently fails to recognize them as lists\n+\n+```\n+sage: gens = libgap.GeneratorsOfGroup(SL(2,GF(5)))\n+sage: m = gens[0]\n+sage: m[0]\n+Traceback (most recent call last):\n+...\n+TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'\n+```\n+\n+In this branch:\n+\n+- We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular we make possible the access to elements in the above example.\n+\n+- we move the methods `vector` and `matrix` to `GapElement_List`\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-05-08T03:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314146",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,29 @@
+Some objects in GAP are not PList but does support indexation.
 
+```
+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;
+gap> m := gens[1];;
+gap> m[1];
+[ Z(5), 0*Z(5) ]
+gap> m[2];
+[ 0*Z(5), Z(5)^3 ]
+```
+Sage currently fails to recognize them as lists
+
+```
+sage: gens = libgap.GeneratorsOfGroup(SL(2,GF(5)))
+sage: m = gens[0]
+sage: m[0]
+Traceback (most recent call last):
+...
+TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'
+```
+
+In this branch:
+
+- We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular we make possible the access to elements in the above example.
+
+- we move the methods `vector` and `matrix` to `GapElement_List`
 
 Comment: 1
 
``````




---

archive/issue_comments_314147.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,44 @@\n+Some objects in GAP are not PList but does support indexation.\n \n+```\n+gap> S := SymmetricGroup(5);;\n+gap> irr := Irr(S);;\n+gap> irr[3][1];\n+5\n+```\n+or\n+\n+```\n+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;\n+gap> m := gens[1];;\n+gap> m[1];\n+[ Z(5), 0*Z(5) ]\n+gap> m[2];\n+[ 0*Z(5), Z(5)^3 ]\n+```\n+And Sage currently fails to recognize them as lists\n+\n+```\n+sage: S = libgap.SymmetricGroup(5)\n+sage: irr = S.Irr()[3]\n+sage: irr[0]\n+Traceback (most recent call last):\n+...\n+TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'\n+\n+sage: gens = libgap.GeneratorsOfGroup(SL(2,GF(5)))\n+sage: m = gens[0]\n+sage: m[0]\n+Traceback (most recent call last):\n+...\n+TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'\n+```\n+\n+In this branch:\n+\n+- We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular we make possible the access to elements in the above example.\n+\n+- we move the methods `vector` and `matrix` to `GapElement_List`\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-05-08T03:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314147",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,44 @@
+Some objects in GAP are not PList but does support indexation.
 
+```
+gap> S := SymmetricGroup(5);;
+gap> irr := Irr(S);;
+gap> irr[3][1];
+5
+```
+or
+
+```
+gap> gens := GeneratorsOfGroup(SL(2,GF(5)));;
+gap> m := gens[1];;
+gap> m[1];
+[ Z(5), 0*Z(5) ]
+gap> m[2];
+[ 0*Z(5), Z(5)^3 ]
+```
+And Sage currently fails to recognize them as lists
+
+```
+sage: S = libgap.SymmetricGroup(5)
+sage: irr = S.Irr()[3]
+sage: irr[0]
+Traceback (most recent call last):
+...
+TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'
+
+sage: gens = libgap.GeneratorsOfGroup(SL(2,GF(5)))
+sage: m = gens[0]
+sage: m[0]
+Traceback (most recent call last):
+...
+TypeError: 'sage.libs.gap.element.GapElement' object has no attribute '__getitem__'
+```
+
+In this branch:
+
+- We change the way gap lists are detected and hence more objects are now wrapped as `GapElement_List`. In particular we make possible the access to elements in the above example.
+
+- we move the methods `vector` and `matrix` to `GapElement_List`
 
 Comment: 1
 
``````




---

archive/issue_comments_314148.json:
```json
{
    "body": "<a id='comment:18'></a>Is the description helpful enough? I can revamp the commits if you like.",
    "created_at": "2016-05-08T03:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314148",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>Is the description helpful enough? I can revamp the commits if you like.



---

archive/issue_comments_314149.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-09T14:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314149",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_314150.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2016-05-09T14:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314150",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_314151.json:
```json
{
    "body": "<a id='comment:19'></a>looks good to me.",
    "created_at": "2016-05-09T14:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314151",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>looks good to me.



---

archive/issue_comments_314152.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/18158\" to \"dbf8aeac7bdcb1c458711b9c4d2f57a6d4fbac1c\"",
    "created_at": "2016-05-17T07:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314152",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vdelecroix/18158" to "dbf8aeac7bdcb1c458711b9c4d2f57a6d4fbac1c"



---

archive/issue_comments_314153.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-17T07:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18158#issuecomment-314153",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051395.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-17T07:16:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18158",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18158#event-51395"
}
```
