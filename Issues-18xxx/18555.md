# Issue 18555: Pickling and otherwise enhancing global options

archive/issues_018318.json:
```json
{
    "assignees": [],
    "body": "Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)\n\nIn addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it \"would be nice\" if we could implement the syntax used in the IPython configuration:\n\n```\n\n    A.options.foobar = 1\n\nin addition to\n\n    A.options(foobar=1)\n```\nThis ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n\nAs was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. \n\nThe pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.\n\n\n\nCC:  @nathanncohen @tscrim\n\nKeywords: **days78, options**\n\nBranch/Commit: **[ba7dd98](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Andrew Mathas**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18555_\n\n",
    "closed_at": "2016-07-12T07:25:18Z",
    "created_at": "2015-05-31T05:54:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Pickling and otherwise enhancing global options",
    "type": "issue",
    "updated_at": "2016-07-12T07:25:18Z",
    "url": "https://github.com/sagemath/sage/issues/18555",
    "user": "https://github.com/AndrewAtLarge"
}
```
Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)

In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it "would be nice" if we could implement the syntax used in the IPython configuration:

```

    A.options.foobar = 1

in addition to

    A.options(foobar=1)
```
This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.

As was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. 

The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.



CC:  @nathanncohen @tscrim

Keywords: **days78, options**

Branch/Commit: **[ba7dd98](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)**

Reviewer: **Travis Scrimshaw**

Author: **Andrew Mathas**

_Issue created by migration from https://trac.sagemath.org/ticket/18555_





---

archive/issue_events_237148.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2015-05-31T05:54:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237148"
}
```



---

archive/issue_events_237149.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2015-05-31T05:54:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237149"
}
```



---

archive/issue_comments_260099.json:
```json
{
    "body": "Changed keywords from **** to **options**",
    "created_at": "2015-06-03T17:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260099",
    "user": "https://github.com/AndrewAtLarge"
}
```

Changed keywords from **** to **options**



---

archive/issue_comments_260100.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,14 @@\n+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.\n \n+In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it \"would be nice\" if we could implement the syntax used in the IPython configuration:\n+\n+```\n+\n+    A.options.foobar = 1\n+\n+in addition to\n+\n+    A.options(foobar=1)\n+```\n+\n+This (soon to be uploaded) patch will implement both of these features.\n``````\n",
    "created_at": "2015-06-03T17:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260100",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,14 @@
+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.
 
+In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it "would be nice" if we could implement the syntax used in the IPython configuration:
+
+```
+
+    A.options.foobar = 1
+
+in addition to
+
+    A.options(foobar=1)
+```
+
+This (soon to be uploaded) patch will implement both of these features.
``````




---

archive/issue_events_237150.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2015-06-03T17:09:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "component: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237150"
}
```



---

archive/issue_events_237151.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2015-06-03T17:09:15Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "title_is": "Pickling and otherwise enhancing global options",
    "title_was": "Pickling global options",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237151"
}
```



---

archive/issue_events_237152.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2015-06-03T17:09:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237152"
}
```



---

archive/issue_comments_260101.json:
```json
{
    "body": "Author: **Andrew Mathas**",
    "created_at": "2015-06-03T17:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260101",
    "user": "https://github.com/AndrewAtLarge"
}
```

Author: **Andrew Mathas**



---

archive/issue_comments_260102.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nAs I am cleaning this up a related question comes to mind: the name `GlobalOptions` is slightly unfortunate because instances of this class are really just options for an associated family of objects. I can sort of forgive myself for using this name for the class, but in all of the instances of this class the associated \"parent\" classes have a `global_options` method that points back to its options class. This method is now being enshrined more firmly inside the code because it is exploited to allow pickling. I would be happier if these methods were simply called `options`, rather than `global_options`, even though this change would necessitate deprecating the existing `global_options` methods.\n\nThoughts?",
    "created_at": "2015-06-03T17:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260102",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:3'>Comment 3:</a>
As I am cleaning this up a related question comes to mind: the name `GlobalOptions` is slightly unfortunate because instances of this class are really just options for an associated family of objects. I can sort of forgive myself for using this name for the class, but in all of the instances of this class the associated "parent" classes have a `global_options` method that points back to its options class. This method is now being enshrined more firmly inside the code because it is exploited to allow pickling. I would be happier if these methods were simply called `options`, rather than `global_options`, even though this change would necessitate deprecating the existing `global_options` methods.

Thoughts?



---

archive/issue_comments_260103.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.\n+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)\n \n In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it \"would be nice\" if we could implement the syntax used in the IPython configuration:\n \n@@ -10,5 +10,6 @@\n \n     A.options(foobar=1)\n ```\n+Implementing this is an enhancement, which is why this ticket is listed as an enhancement!\n \n This (soon to be uploaded) patch will implement both of these features.\n``````\n",
    "created_at": "2015-06-03T17:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260103",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.
+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)
 
 In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it "would be nice" if we could implement the syntax used in the IPython configuration:
 
@@ -10,5 +10,6 @@
 
     A.options(foobar=1)
 ```
+Implementing this is an enhancement, which is why this ticket is listed as an enhancement!
 
 This (soon to be uploaded) patch will implement both of these features.
``````




---

archive/issue_comments_260104.json:
```json
{
    "body": "Branch: **[u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)**",
    "created_at": "2015-06-03T18:18:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260104",
    "user": "https://github.com/AndrewAtLarge"
}
```

Branch: **[u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)**



---

archive/issue_comments_260105.json:
```json
{
    "body": "Commit: **[2ba392f](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)**",
    "created_at": "2015-06-03T18:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260105",
    "user": "https://github.com/AndrewAtLarge"
}
```

Commit: **[2ba392f](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)**



---

archive/issue_comments_260106.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f006a84f233734e6e3793c457053051540c4f265\">f006a84</a></td><td><code>Adding pickling methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e\">2ba392f</a></td><td><code>Initial version - some failing doctests</code></td></tr></table>\n",
    "created_at": "2015-06-03T18:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260106",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:7'>Comment 7:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f006a84f233734e6e3793c457053051540c4f265">f006a84</a></td><td><code>Adding pickling methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e">2ba392f</a></td><td><code>Initial version - some failing doctests</code></td></tr></table>




---

archive/issue_comments_260107.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,4 @@\n ```\n Implementing this is an enhancement, which is why this ticket is listed as an enhancement!\n \n-This (soon to be uploaded) patch will implement both of these features.\n+The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.\n``````\n",
    "created_at": "2015-06-03T18:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260107",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,4 @@
 ```
 Implementing this is an enhancement, which is why this ticket is listed as an enhancement!
 
-This (soon to be uploaded) patch will implement both of these features.
+The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.
``````




---

archive/issue_comments_260108.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,6 @@\n \n     A.options(foobar=1)\n ```\n-Implementing this is an enhancement, which is why this ticket is listed as an enhancement!\n+Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!\n \n The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.\n``````\n",
    "created_at": "2015-06-03T18:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260108",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,6 @@
 
     A.options(foobar=1)
 ```
-Implementing this is an enhancement, which is why this ticket is listed as an enhancement!
+Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!
 
 The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.
``````




---

archive/issue_comments_260109.json:
```json
{
    "body": "Changed commit from **[2ba392f](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)** to **[12cb846](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)**",
    "created_at": "2016-06-26T10:58:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2ba392f](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)** to **[12cb846](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)**



---

archive/issue_comments_260110.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a4a9d2ec5b7a70d59cfa4a31e1d04065be6106a\">3a4a9d2</a></td><td><code>20618: imported sage.modules.tutorial_free_modules and thematic_tutorials/tutorial-implementing-algebraic-structures from the Sage-Combinat queue</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e3e35003c2dd1bc3b7d7a96c28ab222adae4537\">3e3e350</a></td><td><code>20618: fixed missing file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/500d2d89e53512e7637d52f262df0d1067ae0aee\">500d2d8</a></td><td><code>Global options to options</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52d7cf60b9caa7a2f2ff4e9842580f68faeba0ae\">52d7cf6</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64d0209d4b239ad41a960fc434c68fa951c7a1df\">64d0209</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25ab72f69b7a0b8edb128b43e2bdcda4e596fce7\">25ab72f</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23f2c5602c59a6ad8ec9658b6377f6123f9dc936\">23f2c56</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef\">12cb846</a></td><td><code>Fixing more doc-tests</code></td></tr></table>\n",
    "created_at": "2016-06-26T10:58:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260110",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a4a9d2ec5b7a70d59cfa4a31e1d04065be6106a">3a4a9d2</a></td><td><code>20618: imported sage.modules.tutorial_free_modules and thematic_tutorials/tutorial-implementing-algebraic-structures from the Sage-Combinat queue</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e3e35003c2dd1bc3b7d7a96c28ab222adae4537">3e3e350</a></td><td><code>20618: fixed missing file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/500d2d89e53512e7637d52f262df0d1067ae0aee">500d2d8</a></td><td><code>Global options to options</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52d7cf60b9caa7a2f2ff4e9842580f68faeba0ae">52d7cf6</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64d0209d4b239ad41a960fc434c68fa951c7a1df">64d0209</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25ab72f69b7a0b8edb128b43e2bdcda4e596fce7">25ab72f</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23f2c5602c59a6ad8ec9658b6377f6123f9dc936">23f2c56</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef">12cb846</a></td><td><code>Fixing more doc-tests</code></td></tr></table>




---

archive/issue_comments_260111.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,8 @@\n \n     A.options(foobar=1)\n ```\n-Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!\n+ This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n \n-The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.\n+The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.\n+\n+As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. \n``````\n",
    "created_at": "2016-06-26T11:13:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260111",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,8 @@
 
     A.options(foobar=1)
 ```
-Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!
+ This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.
 
-The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.
+The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.
+
+As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. 
``````




---

archive/issue_comments_260112.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6768643ac710412731fe8c649fb474005418514\">c676864</a></td><td><code>Global options to options</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9313ce83fb8b880b27d0bce9a4672c8ed8864f33\">9313ce8</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11a13f4929807f13e6b9662136c0bc8e4d6df7bf\">11a13f4</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/217b5b4654d4d1a5d510c7d310b2b678bf3a409a\">217b5b4</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b761fecd183af46b6335eeef227447c0a1224eeb\">b761fec</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caabdb08c9e690267abdd8adb4c6d0900dbf6814\">caabdb0</a></td><td><code>Fixing more doc-tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125\">11b7080</a></td><td><code>More doc-tests</code></td></tr></table>\n",
    "created_at": "2016-06-26T11:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260112",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6768643ac710412731fe8c649fb474005418514">c676864</a></td><td><code>Global options to options</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9313ce83fb8b880b27d0bce9a4672c8ed8864f33">9313ce8</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11a13f4929807f13e6b9662136c0bc8e4d6df7bf">11a13f4</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/217b5b4654d4d1a5d510c7d310b2b678bf3a409a">217b5b4</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b761fecd183af46b6335eeef227447c0a1224eeb">b761fec</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caabdb08c9e690267abdd8adb4c6d0900dbf6814">caabdb0</a></td><td><code>Fixing more doc-tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125">11b7080</a></td><td><code>More doc-tests</code></td></tr></table>




---

archive/issue_comments_260113.json:
```json
{
    "body": "Changed commit from **[12cb846](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)** to **[11b7080](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)**",
    "created_at": "2016-06-26T11:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[12cb846](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)** to **[11b7080](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)**



---

archive/issue_comments_260114.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [git](#comment%3A11):\n\nThis was to remove 20618 from the commit tree as it shouldn't have been there...",
    "created_at": "2016-06-26T11:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260114",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [git](#comment%3A11):

This was to remove 20618 from the commit tree as it shouldn't have been there...



---

archive/issue_comments_260115.json:
```json
{
    "body": "Changed branch from **[u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)** to **[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)**",
    "created_at": "2016-07-02T00:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260115",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)** to **[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)**



---

archive/issue_events_237153.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-02T00:58:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237153"
}
```



---

archive/issue_comments_260116.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nOkay, I fixed the doctest failures with `permutation.py`. The issue was that the `_Option` (now `Option` so it appears in the doc) did not define a `__ne__` method, and so it returned `True` for things like `opt != X` even when `opt == X`.\n\nThe other doctest failures were due to lack of conversion to `options` from `global_options`.\n\nThis is a very nice improvement over the current interface to (global) options. If the doctest pass for you and my changes are good, then you can set this to a positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0636c87363f225dffe3c899a7469dc6a52ae543d\">0636c87</a></td><td><code>Merge branch 'u/andrew.mathas/pickling_global_options' of trac.sagemath.org:sage into public/misc/pickling_global_options-18555</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9642057dcc814a815f526849427772130b07493f\">9642057</a></td><td><code>Making everything work with the new API.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2\">f42beb4</a></td><td><code>Rename _Option to Option and some PEP8 to global_options.py.</code></td></tr></table>\n",
    "created_at": "2016-07-02T00:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260116",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'>Comment 13:</a>
Okay, I fixed the doctest failures with `permutation.py`. The issue was that the `_Option` (now `Option` so it appears in the doc) did not define a `__ne__` method, and so it returned `True` for things like `opt != X` even when `opt == X`.

The other doctest failures were due to lack of conversion to `options` from `global_options`.

This is a very nice improvement over the current interface to (global) options. If the doctest pass for you and my changes are good, then you can set this to a positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0636c87363f225dffe3c899a7469dc6a52ae543d">0636c87</a></td><td><code>Merge branch 'u/andrew.mathas/pickling_global_options' of trac.sagemath.org:sage into public/misc/pickling_global_options-18555</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9642057dcc814a815f526849427772130b07493f">9642057</a></td><td><code>Making everything work with the new API.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2">f42beb4</a></td><td><code>Rename _Option to Option and some PEP8 to global_options.py.</code></td></tr></table>




---

archive/issue_comments_260117.json:
```json
{
    "body": "Changed commit from **[11b7080](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)** to **[f42beb4](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)**",
    "created_at": "2016-07-02T00:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260117",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[11b7080](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)** to **[f42beb4](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)**



---

archive/issue_comments_260118.json:
```json
{
    "body": "Changed keywords from **options** to **days78, options**",
    "created_at": "2016-07-02T00:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260118",
    "user": "https://github.com/tscrim"
}
```

Changed keywords from **options** to **days78, options**



---

archive/issue_comments_260119.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410\">4013abb</a></td><td><code>Fixing failing doctests identified by the patchbot</code></td></tr></table>\n",
    "created_at": "2016-07-04T15:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260119",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410">4013abb</a></td><td><code>Fixing failing doctests identified by the patchbot</code></td></tr></table>




---

archive/issue_comments_260120.json:
```json
{
    "body": "Changed commit from **[f42beb4](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)** to **[4013abb](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)**",
    "created_at": "2016-07-04T15:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260120",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f42beb4](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)** to **[4013abb](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)**



---

archive/issue_comments_260121.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nThere's some doc issues in the `manifold.py` options: `EXAMPLES::` and everything including and after `sage: latex(f)` is over indented.",
    "created_at": "2016-07-05T07:08:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260121",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'>Comment 15:</a>
There's some doc issues in the `manifold.py` options: `EXAMPLES::` and everything including and after `sage: latex(f)` is over indented.



---

archive/issue_comments_260122.json:
```json
{
    "body": "Changed commit from **[4013abb](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)** to **[3f5e0e9](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)**",
    "created_at": "2016-07-05T10:17:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260122",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4013abb](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)** to **[3f5e0e9](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)**



---

archive/issue_comments_260123.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890\">3f5e0e9</a></td><td><code>Fixing manifold documemtation issues and collecting all deprecation messages at the end of the files</code></td></tr></table>\n",
    "created_at": "2016-07-05T10:17:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260123",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890">3f5e0e9</a></td><td><code>Fixing manifold documemtation issues and collecting all deprecation messages at the end of the files</code></td></tr></table>




---

archive/issue_comments_260124.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,8 +10,10 @@\n \n     A.options(foobar=1)\n ```\n- This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n+This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n+\n+As was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. \n \n The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.\n \n-As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. \n+\n``````\n",
    "created_at": "2016-07-05T10:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260124",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,8 +10,10 @@
 
     A.options(foobar=1)
 ```
- This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.
+This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.
+
+As was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. 
 
 The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.
 
-As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. 
+
``````




---

archive/issue_comments_260125.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nThanks Travis. Fixed. I have also cleaned up the deprecation messages, putting them in the same place, so that they will be easier to remove in future.\n\nFinally, should the `reset` method be `_reset()` or `Reset()`? Currently it is `_reset()` but it probably shouldn't be hidden.",
    "created_at": "2016-07-05T10:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260125",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:17'>Comment 17:</a>
Thanks Travis. Fixed. I have also cleaned up the deprecation messages, putting them in the same place, so that they will be easier to remove in future.

Finally, should the `reset` method be `_reset()` or `Reset()`? Currently it is `_reset()` but it probably shouldn't be hidden.



---

archive/issue_events_237154.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-06T08:18:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237154"
}
```



---

archive/issue_events_237155.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-06T08:18:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237155"
}
```



---

archive/issue_comments_260126.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\n`Reset()` breaks python conventions, so that is a -1 from me. I think `reset()` or `_reset()` are both fine. Yet there is not so much a good general reason to go back to defaults other than for testing purposes in my mind. Hence the hidden `_reset()` is better IMO.\n\nOne last thing, you added an `__init__` method in `interval_poset.py`. Is this necessary? If so, it needs a doctest. Once this is done, this will be at a positive review.",
    "created_at": "2016-07-06T08:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260126",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'>Comment 18:</a>
`Reset()` breaks python conventions, so that is a -1 from me. I think `reset()` or `_reset()` are both fine. Yet there is not so much a good general reason to go back to defaults other than for testing purposes in my mind. Hence the hidden `_reset()` is better IMO.

One last thing, you added an `__init__` method in `interval_poset.py`. Is this necessary? If so, it needs a doctest. Once this is done, this will be at a positive review.



---

archive/issue_comments_260127.json:
```json
{
    "body": "Changed commit from **[3f5e0e9](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)** to **[8322fd5](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)**",
    "created_at": "2016-07-06T11:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260127",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f5e0e9](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)** to **[8322fd5](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)**



---

archive/issue_comments_260128.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f\">8322fd5</a></td><td><code>Removing `__init__` from interval_poset.py</code></td></tr></table>\n",
    "created_at": "2016-07-06T11:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260128",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f">8322fd5</a></td><td><code>Removing `__init__` from interval_poset.py</code></td></tr></table>




---

archive/issue_comments_260129.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nFixed -- not sure how that got in there. Thanks Travis!",
    "created_at": "2016-07-06T11:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260129",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:20'>Comment 20:</a>
Fixed -- not sure how that got in there. Thanks Travis!



---

archive/issue_events_237156.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2016-07-06T11:37:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237156"
}
```



---

archive/issue_events_237157.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2016-07-06T11:37:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237157"
}
```



---

archive/issue_comments_260130.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReviewer name is missing",
    "created_at": "2016-07-06T19:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260130",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'>Comment 21:</a>
Reviewer name is missing



---

archive/issue_events_237158.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-06T19:56:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237158"
}
```



---

archive/issue_events_237159.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-06T19:56:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237159"
}
```



---

archive/issue_events_237160.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-06T21:04:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237160"
}
```



---

archive/issue_events_237161.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-06T21:04:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237161"
}
```



---

archive/issue_comments_260131.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-07-06T21:04:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260131",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_260132.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nMerge conflict, try next beta",
    "created_at": "2016-07-07T19:56:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260132",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'>Comment 23:</a>
Merge conflict, try next beta



---

archive/issue_events_237162.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-07T19:56:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237162"
}
```



---

archive/issue_events_237163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-07T19:56:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237163"
}
```



---

archive/issue_comments_260133.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38\">ed5070d</a></td><td><code>Merging 7.3.beta7</code></td></tr></table>\n",
    "created_at": "2016-07-08T15:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260133",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38">ed5070d</a></td><td><code>Merging 7.3.beta7</code></td></tr></table>




---

archive/issue_comments_260134.json:
```json
{
    "body": "Changed commit from **[8322fd5](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)** to **[ed5070d](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)**",
    "created_at": "2016-07-08T15:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260134",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8322fd5](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)** to **[ed5070d](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)**



---

archive/issue_comments_260135.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nMerged into 7.3.beta7. Tests pass.",
    "created_at": "2016-07-08T15:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260135",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:25'>Comment 25:</a>
Merged into 7.3.beta7. Tests pass.



---

archive/issue_events_237164.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2016-07-08T15:51:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237164"
}
```



---

archive/issue_events_237165.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2016-07-08T15:51:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237165"
}
```



---

archive/issue_events_237166.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-09T16:28:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237166"
}
```



---

archive/issue_events_237167.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-09T16:28:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237167"
}
```



---

archive/issue_comments_260136.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nFails on 32-bit\n\n```\nsage -t --long src/sage/structure/global_options.py\n**********************************************************************\nFile \"src/sage/structure/global_options.py\", line 599, in sage.structure.global_options.Option.__hash__\nFailed example:\n    hash( Tableaux.options.convention ) # indirect doc-test\nExpected:\n    -6673246059928475433\nGot:\n    -1691342633\n**********************************************************************\n1 item had failures:\n   1 of   2 in sage.structure.global_options.Option.__hash__\n    [135 tests, 1 failure, 0.03 s]\n```",
    "created_at": "2016-07-09T16:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260136",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'>Comment 26:</a>
Fails on 32-bit

```
sage -t --long src/sage/structure/global_options.py
**********************************************************************
File "src/sage/structure/global_options.py", line 599, in sage.structure.global_options.Option.__hash__
Failed example:
    hash( Tableaux.options.convention ) # indirect doc-test
Expected:
    -6673246059928475433
Got:
    -1691342633
**********************************************************************
1 item had failures:
   1 of   2 in sage.structure.global_options.Option.__hash__
    [135 tests, 1 failure, 0.03 s]
```



---

archive/issue_comments_260137.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nThis just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.",
    "created_at": "2016-07-09T19:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260137",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'>Comment 27:</a>
This just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.



---

archive/issue_comments_260138.json:
```json
{
    "body": "Changed commit from **[ed5070d](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)** to **[ba7dd98](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)**",
    "created_at": "2016-07-11T10:59:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260138",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ed5070d](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)** to **[ba7dd98](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)**



---

archive/issue_comments_260139.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47\">ba7dd98</a></td><td><code>Fixing hashed doct-test</code></td></tr></table>\n",
    "created_at": "2016-07-11T10:59:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260139",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47">ba7dd98</a></td><td><code>Fixing hashed doct-test</code></td></tr></table>




---

archive/issue_events_237168.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2016-07-11T11:00:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237168"
}
```



---

archive/issue_events_237169.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2016-07-11T11:00:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237169"
}
```



---

archive/issue_comments_260140.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nReplying to [@tscrim](#comment%3A27):\n> This just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.\n\nThanks Travis! Fixed and changed back to a positive review.",
    "created_at": "2016-07-11T11:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260140",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:29'>Comment 29:</a>
Replying to [@tscrim](#comment%3A27):
> This just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.

Thanks Travis! Fixed and changed back to a positive review.



---

archive/issue_comments_260141.json:
```json
{
    "body": "Changed branch from **[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)** to **[ba7dd98](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)**",
    "created_at": "2016-07-12T07:25:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18555#issuecomment-260141",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)** to **[ba7dd98](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)**



---

archive/issue_events_237170.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-12T07:25:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237170"
}
```



---

archive/issue_events_237171.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "34bbc1345f959ba2813c3a0a1a394240e4511b07",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-12T07:25:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18555",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18555#event-237171"
}
```
