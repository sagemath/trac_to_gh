# Issue 18555: Pickling and otherwise enhancing global options

archive/issues_018318.json:
```json
{
    "body": "Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)\n\nIn addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it \"would be nice\" if we could implement the syntax used in the IPython configuration:\n\n```\n\n    A.options.foobar = 1\n\nin addition to\n\n    A.options(foobar=1)\n```\nThis ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n\nAs was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. \n\nThe pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.\n\n\n\n**CC:**  @nathanncohen @tscrim\n\n**Keywords:** days78, options\n\n**Branch/Commit:** [ba7dd9836386ed119c257d9bb42030149e091b47](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Andrew Mathas\n\nIssue created by migration from https://trac.sagemath.org/ticket/18555\n\n",
    "closed_at": "2016-07-12T07:25:18Z",
    "created_at": "2015-05-31T05:54:27Z",
    "labels": [
        "component: interfaces",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Pickling and otherwise enhancing global options",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18555",
    "user": "https://github.com/AndrewAtLarge"
}
```
Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)

In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it "would be nice" if we could implement the syntax used in the IPython configuration:

```

    A.options.foobar = 1

in addition to

    A.options(foobar=1)
```
This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.

As was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. 

The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.



**CC:**  @nathanncohen @tscrim

**Keywords:** days78, options

**Branch/Commit:** [ba7dd9836386ed119c257d9bb42030149e091b47](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)

**Reviewer:** Travis Scrimshaw

**Author:** Andrew Mathas

Issue created by migration from https://trac.sagemath.org/ticket/18555





---

archive/issue_comments_312225.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"options\".",
    "created_at": "2015-06-03T17:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312225",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Changing keywords** from "" to "options".



---

archive/issue_comments_312226.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,14 @@\n+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.\n \n+In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it \"would be nice\" if we could implement the syntax used in the IPython configuration:\n+\n+```\n+\n+    A.options.foobar = 1\n+\n+in addition to\n+\n+    A.options(foobar=1)\n+```\n+\n+This (soon to be uploaded) patch will implement both of these features.\n``````\n",
    "created_at": "2015-06-03T17:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312226",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,14 @@
+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.
 
+In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it "would be nice" if we could implement the syntax used in the IPython configuration:
+
+```
+
+    A.options.foobar = 1
+
+in addition to
+
+    A.options(foobar=1)
+```
+
+This (soon to be uploaded) patch will implement both of these features.
``````




---

archive/issue_events_058903.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "rename": {
        "from": "Pickling global options",
        "to": "Pickling and otherwise enhancing global options"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18555#event-58903"
}
```



---

archive/issue_comments_312227.json:
```json
{
    "body": "**Author:** Andrew Mathas",
    "created_at": "2015-06-03T17:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312227",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Author:** Andrew Mathas



---

archive/issue_comments_312228.json:
```json
{
    "body": "<a id='comment:3'></a>\nAs I am cleaning this up a related question comes to mind: the name `GlobalOptions` is slightly unfortunate because instances of this class are really just options for an associated family of objects. I can sort of forgive myself for using this name for the class, but in all of the instances of this class the associated \"parent\" classes have a `global_options` method that points back to its options class. This method is now being enshrined more firmly inside the code because it is exploited to allow pickling. I would be happier if these methods were simply called `options`, rather than `global_options`, even though this change would necessitate deprecating the existing `global_options` methods.\n\nThoughts?",
    "created_at": "2015-06-03T17:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312228",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:3'></a>
As I am cleaning this up a related question comes to mind: the name `GlobalOptions` is slightly unfortunate because instances of this class are really just options for an associated family of objects. I can sort of forgive myself for using this name for the class, but in all of the instances of this class the associated "parent" classes have a `global_options` method that points back to its options class. This method is now being enshrined more firmly inside the code because it is exploited to allow pickling. I would be happier if these methods were simply called `options`, rather than `global_options`, even though this change would necessitate deprecating the existing `global_options` methods.

Thoughts?



---

archive/issue_comments_312229.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.\n+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)\n \n In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it \"would be nice\" if we could implement the syntax used in the IPython configuration:\n \n@@ -10,5 +10,6 @@\n \n     A.options(foobar=1)\n ```\n+Implementing this is an enhancement, which is why this ticket is listed as an enhancement!\n \n This (soon to be uploaded) patch will implement both of these features.\n``````\n",
    "created_at": "2015-06-03T17:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312229",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems.
+Instances of the [GlobalOptions](http://doc.sagemath.org/html/en/reference/structure/sage/structure/global_options.html) class in `sage.structure.global_options` do not pickle, which is annoying and causes various problems. (This is a defect.)
 
 In addition, when the `GlobalOptions` class was introduced it was suggested in [sage-dev](https://groups.google.com/forum/#!searchin/sage-devel/globabloptions/sage-devel/7ApZgwBTU4U/Qe6QoeuYgvAJ) that it "would be nice" if we could implement the syntax used in the IPython configuration:
 
@@ -10,5 +10,6 @@
 
     A.options(foobar=1)
 ```
+Implementing this is an enhancement, which is why this ticket is listed as an enhancement!
 
 This (soon to be uploaded) patch will implement both of these features.
``````




---

archive/issue_comments_312230.json:
```json
{
    "body": "**Branch:** [u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)",
    "created_at": "2015-06-03T18:18:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312230",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Branch:** [u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)



---

archive/issue_comments_312231.json:
```json
{
    "body": "**Commit:** [2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)",
    "created_at": "2015-06-03T18:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312231",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Commit:** [2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)



---

archive/issue_comments_312232.json:
```json
{
    "body": "<a id='comment:7'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f006a84f233734e6e3793c457053051540c4f265\">f006a84</a></td><td><code>Adding pickling methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e\">2ba392f</a></td><td><code>Initial version - some failing doctests</code></td></tr></table>\n",
    "created_at": "2015-06-03T18:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312232",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:7'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f006a84f233734e6e3793c457053051540c4f265">f006a84</a></td><td><code>Adding pickling methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e">2ba392f</a></td><td><code>Initial version - some failing doctests</code></td></tr></table>




---

archive/issue_comments_312233.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,4 +12,4 @@\n ```\n Implementing this is an enhancement, which is why this ticket is listed as an enhancement!\n \n-This (soon to be uploaded) patch will implement both of these features.\n+The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.\n``````\n",
    "created_at": "2015-06-03T18:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312233",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,4 +12,4 @@
 ```
 Implementing this is an enhancement, which is why this ticket is listed as an enhancement!
 
-This (soon to be uploaded) patch will implement both of these features.
+The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.
``````




---

archive/issue_comments_312234.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,6 +10,6 @@\n \n     A.options(foobar=1)\n ```\n-Implementing this is an enhancement, which is why this ticket is listed as an enhancement!\n+Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!\n \n The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.\n``````\n",
    "created_at": "2015-06-03T18:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312234",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,6 +10,6 @@
 
     A.options(foobar=1)
 ```
-Implementing this is an enhancement, which is why this ticket is listed as an enhancement!
+Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!
 
 The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.
``````




---

archive/issue_comments_312235.json:
```json
{
    "body": "**Changing commit** from \"[2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)\" to \"[12cb84666d10cab49c8d8b21aad73485c2fedaef](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)\".",
    "created_at": "2016-06-26T10:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e](https://github.com/sagemath/sagetrac-mirror/commit/2ba392f42e9ee4b362cf61e8ddd2a9d419f0787e)" to "[12cb84666d10cab49c8d8b21aad73485c2fedaef](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)".



---

archive/issue_comments_312236.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a4a9d2ec5b7a70d59cfa4a31e1d04065be6106a\">3a4a9d2</a></td><td><code>20618: imported sage.modules.tutorial_free_modules and thematic_tutorials/tutorial-implementing-algebraic-structures from the Sage-Combinat queue</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e3e35003c2dd1bc3b7d7a96c28ab222adae4537\">3e3e350</a></td><td><code>20618: fixed missing file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/500d2d89e53512e7637d52f262df0d1067ae0aee\">500d2d8</a></td><td><code>Global options to options</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52d7cf60b9caa7a2f2ff4e9842580f68faeba0ae\">52d7cf6</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64d0209d4b239ad41a960fc434c68fa951c7a1df\">64d0209</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25ab72f69b7a0b8edb128b43e2bdcda4e596fce7\">25ab72f</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23f2c5602c59a6ad8ec9658b6377f6123f9dc936\">23f2c56</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef\">12cb846</a></td><td><code>Fixing more doc-tests</code></td></tr></table>\n",
    "created_at": "2016-06-26T10:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a4a9d2ec5b7a70d59cfa4a31e1d04065be6106a">3a4a9d2</a></td><td><code>20618: imported sage.modules.tutorial_free_modules and thematic_tutorials/tutorial-implementing-algebraic-structures from the Sage-Combinat queue</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e3e35003c2dd1bc3b7d7a96c28ab222adae4537">3e3e350</a></td><td><code>20618: fixed missing file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/500d2d89e53512e7637d52f262df0d1067ae0aee">500d2d8</a></td><td><code>Global options to options</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52d7cf60b9caa7a2f2ff4e9842580f68faeba0ae">52d7cf6</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64d0209d4b239ad41a960fc434c68fa951c7a1df">64d0209</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25ab72f69b7a0b8edb128b43e2bdcda4e596fce7">25ab72f</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23f2c5602c59a6ad8ec9658b6377f6123f9dc936">23f2c56</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef">12cb846</a></td><td><code>Fixing more doc-tests</code></td></tr></table>




---

archive/issue_comments_312237.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,6 +10,8 @@\n \n     A.options(foobar=1)\n ```\n-Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!\n+ This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n \n-The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.\n+The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.\n+\n+As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. \n``````\n",
    "created_at": "2016-06-26T11:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312237",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,6 +10,8 @@
 
     A.options(foobar=1)
 ```
-Implementing this is an enhancement, and most of the work, which is why this ticket is listed as an enhancement!
+ This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.
 
-The attached patch implements both of these features. There are a few failing doc-tests that I need to fix but is seems basically OK.
+The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.
+
+As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. 
``````




---

archive/issue_comments_312238.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6768643ac710412731fe8c649fb474005418514\">c676864</a></td><td><code>Global options to options</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9313ce83fb8b880b27d0bce9a4672c8ed8864f33\">9313ce8</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11a13f4929807f13e6b9662136c0bc8e4d6df7bf\">11a13f4</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/217b5b4654d4d1a5d510c7d310b2b678bf3a409a\">217b5b4</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b761fecd183af46b6335eeef227447c0a1224eeb\">b761fec</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/caabdb08c9e690267abdd8adb4c6d0900dbf6814\">caabdb0</a></td><td><code>Fixing more doc-tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125\">11b7080</a></td><td><code>More doc-tests</code></td></tr></table>\n",
    "created_at": "2016-06-26T11:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312238",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6768643ac710412731fe8c649fb474005418514">c676864</a></td><td><code>Global options to options</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9313ce83fb8b880b27d0bce9a4672c8ed8864f33">9313ce8</a></td><td><code>Recasting options as attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11a13f4929807f13e6b9662136c0bc8e4d6df7bf">11a13f4</a></td><td><code>Global options as class attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/217b5b4654d4d1a5d510c7d310b2b678bf3a409a">217b5b4</a></td><td><code>Fixing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b761fecd183af46b6335eeef227447c0a1224eeb">b761fec</a></td><td><code>Merging into 7.3.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/caabdb08c9e690267abdd8adb4c6d0900dbf6814">caabdb0</a></td><td><code>Fixing more doc-tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125">11b7080</a></td><td><code>More doc-tests</code></td></tr></table>




---

archive/issue_comments_312239.json:
```json
{
    "body": "**Changing commit** from \"[12cb84666d10cab49c8d8b21aad73485c2fedaef](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)\" to \"[11b7080fb16f62f64d39bca2286d0912c55a2125](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)\".",
    "created_at": "2016-06-26T11:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312239",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[12cb84666d10cab49c8d8b21aad73485c2fedaef](https://github.com/sagemath/sagetrac-mirror/commit/12cb84666d10cab49c8d8b21aad73485c2fedaef)" to "[11b7080fb16f62f64d39bca2286d0912c55a2125](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)".



---

archive/issue_comments_312240.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [git](#comment%3A11):\n\nThis was to remove 20618 from the commit tree as it shouldn't have been there...",
    "created_at": "2016-06-26T11:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312240",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:12'></a>
Replying to [git](#comment%3A11):

This was to remove 20618 from the commit tree as it shouldn't have been there...



---

archive/issue_comments_312241.json:
```json
{
    "body": "**Changing branch** from \"[u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)\" to \"[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)\".",
    "created_at": "2016-07-02T00:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312241",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/andrew.mathas/pickling_global_options](https://github.com/sagemath/sagetrac-mirror/tree/u/andrew.mathas/pickling_global_options)" to "[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)".



---

archive/issue_comments_312242.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-07-02T00:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312242",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_312243.json:
```json
{
    "body": "<a id='comment:13'></a>\nOkay, I fixed the doctest failures with `permutation.py`. The issue was that the `_Option` (now `Option` so it appears in the doc) did not define a `__ne__` method, and so it returned `True` for things like `opt != X` even when `opt == X`.\n\nThe other doctest failures were due to lack of conversion to `options` from `global_options`.\n\nThis is a very nice improvement over the current interface to (global) options. If the doctest pass for you and my changes are good, then you can set this to a positive review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0636c87363f225dffe3c899a7469dc6a52ae543d\">0636c87</a></td><td><code>Merge branch 'u/andrew.mathas/pickling_global_options' of trac.sagemath.org:sage into public/misc/pickling_global_options-18555</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9642057dcc814a815f526849427772130b07493f\">9642057</a></td><td><code>Making everything work with the new API.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2\">f42beb4</a></td><td><code>Rename _Option to Option and some PEP8 to global_options.py.</code></td></tr></table>\n",
    "created_at": "2016-07-02T00:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312243",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
Okay, I fixed the doctest failures with `permutation.py`. The issue was that the `_Option` (now `Option` so it appears in the doc) did not define a `__ne__` method, and so it returned `True` for things like `opt != X` even when `opt == X`.

The other doctest failures were due to lack of conversion to `options` from `global_options`.

This is a very nice improvement over the current interface to (global) options. If the doctest pass for you and my changes are good, then you can set this to a positive review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0636c87363f225dffe3c899a7469dc6a52ae543d">0636c87</a></td><td><code>Merge branch 'u/andrew.mathas/pickling_global_options' of trac.sagemath.org:sage into public/misc/pickling_global_options-18555</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9642057dcc814a815f526849427772130b07493f">9642057</a></td><td><code>Making everything work with the new API.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2">f42beb4</a></td><td><code>Rename _Option to Option and some PEP8 to global_options.py.</code></td></tr></table>




---

archive/issue_comments_312244.json:
```json
{
    "body": "**Changing commit** from \"[11b7080fb16f62f64d39bca2286d0912c55a2125](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)\" to \"[f42beb4a800cf4fd9c07acfbd054fd91b896edb2](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)\".",
    "created_at": "2016-07-02T00:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312244",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[11b7080fb16f62f64d39bca2286d0912c55a2125](https://github.com/sagemath/sagetrac-mirror/commit/11b7080fb16f62f64d39bca2286d0912c55a2125)" to "[f42beb4a800cf4fd9c07acfbd054fd91b896edb2](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)".



---

archive/issue_comments_312245.json:
```json
{
    "body": "**Changing keywords** from \"options\" to \"days78, options\".",
    "created_at": "2016-07-02T00:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312245",
    "user": "https://github.com/tscrim"
}
```

**Changing keywords** from "options" to "days78, options".



---

archive/issue_comments_312246.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410\">4013abb</a></td><td><code>Fixing failing doctests identified by the patchbot</code></td></tr></table>\n",
    "created_at": "2016-07-04T15:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312246",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410">4013abb</a></td><td><code>Fixing failing doctests identified by the patchbot</code></td></tr></table>




---

archive/issue_comments_312247.json:
```json
{
    "body": "**Changing commit** from \"[f42beb4a800cf4fd9c07acfbd054fd91b896edb2](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)\" to \"[4013abb4bbea7687da60f3240127027475d5e410](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)\".",
    "created_at": "2016-07-04T15:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312247",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f42beb4a800cf4fd9c07acfbd054fd91b896edb2](https://github.com/sagemath/sagetrac-mirror/commit/f42beb4a800cf4fd9c07acfbd054fd91b896edb2)" to "[4013abb4bbea7687da60f3240127027475d5e410](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)".



---

archive/issue_comments_312248.json:
```json
{
    "body": "<a id='comment:15'></a>\nThere's some doc issues in the `manifold.py` options: `EXAMPLES::` and everything including and after `sage: latex(f)` is over indented.",
    "created_at": "2016-07-05T07:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312248",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
There's some doc issues in the `manifold.py` options: `EXAMPLES::` and everything including and after `sage: latex(f)` is over indented.



---

archive/issue_comments_312249.json:
```json
{
    "body": "**Changing commit** from \"[4013abb4bbea7687da60f3240127027475d5e410](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)\" to \"[3f5e0e91e2289dcee18ad56b30c6884f9d26c890](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)\".",
    "created_at": "2016-07-05T10:17:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312249",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4013abb4bbea7687da60f3240127027475d5e410](https://github.com/sagemath/sagetrac-mirror/commit/4013abb4bbea7687da60f3240127027475d5e410)" to "[3f5e0e91e2289dcee18ad56b30c6884f9d26c890](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)".



---

archive/issue_comments_312250.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890\">3f5e0e9</a></td><td><code>Fixing manifold documemtation issues and collecting all deprecation messages at the end of the files</code></td></tr></table>\n",
    "created_at": "2016-07-05T10:17:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312250",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890">3f5e0e9</a></td><td><code>Fixing manifold documemtation issues and collecting all deprecation messages at the end of the files</code></td></tr></table>




---

archive/issue_comments_312251.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,8 +10,10 @@\n \n     A.options(foobar=1)\n ```\n- This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n+This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.\n+\n+As was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. \n \n The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.\n \n-As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The \"stand-alone\" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their \"parent\" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. \n+\n``````\n",
    "created_at": "2016-07-05T10:21:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312251",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,8 +10,10 @@
 
     A.options(foobar=1)
 ```
- This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.
+This ticket implements both of these features and, in addition, makes it possible to construct options classes dynamically.
+
+As was also suggested on sage-dev, I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes where they are accessible using the `options` method (`global_options` methods have been deprecated). This is cleaned up the code a little and it seems to speed up the sage start-up time. 
 
 The pickling is done by adding an extra `module` argument to the `GlobalOptions` that specifies the module which contains the class that the options are attached -- `name` of of the class defaults to the name of the options class but this can be explicitly set using the `options_class` argument. The options class is assumed to have an `options` method, and this is used to unpickle a pickle for an options class. `GlobalOptions` that do not arise as options methods for standard sage classes cannot be unpickled. The reason why the name of the module and class are passed, as strings, to `GlobalOptions` rather than the actual class is that this approach allows the options to be constructed during the initialisation of the (instance of the) class and, in turn, this allows the class to dynamically construct their options classes.
 
-As suggested on sage-dev I have also renamed all of the global_options methods simply as options, with the global_options variants being deprecated. The "stand-alone" options classes such as `PartitionOoptions`, `TableauxOptions`, ... have also been deprecated and, instead, put inside their "parent" classes. This is cleaned up the code a little and it seems to speed up the sage start-up time. 
+
``````




---

archive/issue_comments_312252.json:
```json
{
    "body": "<a id='comment:17'></a>\nThanks Travis. Fixed. I have also cleaned up the deprecation messages, putting them in the same place, so that they will be easier to remove in future.\n\nFinally, should the `reset` method be `_reset()` or `Reset()`? Currently it is `_reset()` but it probably shouldn't be hidden.",
    "created_at": "2016-07-05T10:21:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312252",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:17'></a>
Thanks Travis. Fixed. I have also cleaned up the deprecation messages, putting them in the same place, so that they will be easier to remove in future.

Finally, should the `reset` method be `_reset()` or `Reset()`? Currently it is `_reset()` but it probably shouldn't be hidden.



---

archive/issue_events_058904.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-07-06T08:18:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18555#event-58904"
}
```



---

archive/issue_comments_312253.json:
```json
{
    "body": "<a id='comment:18'></a>\n`Reset()` breaks python conventions, so that is a -1 from me. I think `reset()` or `_reset()` are both fine. Yet there is not so much a good general reason to go back to defaults other than for testing purposes in my mind. Hence the hidden `_reset()` is better IMO.\n\nOne last thing, you added an `__init__` method in `interval_poset.py`. Is this necessary? If so, it needs a doctest. Once this is done, this will be at a positive review.",
    "created_at": "2016-07-06T08:18:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312253",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
`Reset()` breaks python conventions, so that is a -1 from me. I think `reset()` or `_reset()` are both fine. Yet there is not so much a good general reason to go back to defaults other than for testing purposes in my mind. Hence the hidden `_reset()` is better IMO.

One last thing, you added an `__init__` method in `interval_poset.py`. Is this necessary? If so, it needs a doctest. Once this is done, this will be at a positive review.



---

archive/issue_comments_312254.json:
```json
{
    "body": "**Changing commit** from \"[3f5e0e91e2289dcee18ad56b30c6884f9d26c890](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)\" to \"[8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)\".",
    "created_at": "2016-07-06T11:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312254",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3f5e0e91e2289dcee18ad56b30c6884f9d26c890](https://github.com/sagemath/sagetrac-mirror/commit/3f5e0e91e2289dcee18ad56b30c6884f9d26c890)" to "[8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)".



---

archive/issue_comments_312255.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f\">8322fd5</a></td><td><code>Removing `__init__` from interval_poset.py</code></td></tr></table>\n",
    "created_at": "2016-07-06T11:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312255",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f">8322fd5</a></td><td><code>Removing `__init__` from interval_poset.py</code></td></tr></table>




---

archive/issue_comments_312256.json:
```json
{
    "body": "<a id='comment:20'></a>\nFixed -- not sure how that got in there. Thanks Travis!",
    "created_at": "2016-07-06T11:37:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312256",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:20'></a>
Fixed -- not sure how that got in there. Thanks Travis!



---

archive/issue_comments_312257.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-07-06T11:37:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312257",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_312258.json:
```json
{
    "body": "<a id='comment:21'></a>\nReviewer name is missing",
    "created_at": "2016-07-06T19:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312258",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>
Reviewer name is missing



---

archive/issue_comments_312259.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2016-07-06T19:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312259",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_312260.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2016-07-06T21:04:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312260",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_312261.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-07-06T21:04:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312261",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_312262.json:
```json
{
    "body": "<a id='comment:23'></a>\nMerge conflict, try next beta",
    "created_at": "2016-07-07T19:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312262",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>
Merge conflict, try next beta



---

archive/issue_comments_312263.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2016-07-07T19:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312263",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_312264.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38\">ed5070d</a></td><td><code>Merging 7.3.beta7</code></td></tr></table>\n",
    "created_at": "2016-07-08T15:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38">ed5070d</a></td><td><code>Merging 7.3.beta7</code></td></tr></table>




---

archive/issue_comments_312265.json:
```json
{
    "body": "**Changing commit** from \"[8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)\" to \"[ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)\".",
    "created_at": "2016-07-08T15:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f](https://github.com/sagemath/sagetrac-mirror/commit/8322fd5fe18b1bb624b78fbeccf2a8c37bd5e69f)" to "[ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)".



---

archive/issue_comments_312266.json:
```json
{
    "body": "<a id='comment:25'></a>\nMerged into 7.3.beta7. Tests pass.",
    "created_at": "2016-07-08T15:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312266",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:25'></a>
Merged into 7.3.beta7. Tests pass.



---

archive/issue_comments_312267.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2016-07-08T15:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312267",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_312268.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2016-07-09T16:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312268",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_312269.json:
```json
{
    "body": "<a id='comment:26'></a>\nFails on 32-bit\n\n```\nsage -t --long src/sage/structure/global_options.py\n**********************************************************************\nFile \"src/sage/structure/global_options.py\", line 599, in sage.structure.global_options.Option.__hash__\nFailed example:\n    hash( Tableaux.options.convention ) # indirect doc-test\nExpected:\n    -6673246059928475433\nGot:\n    -1691342633\n**********************************************************************\n1 item had failures:\n   1 of   2 in sage.structure.global_options.Option.__hash__\n    [135 tests, 1 failure, 0.03 s]\n```",
    "created_at": "2016-07-09T16:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312269",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
Fails on 32-bit

```
sage -t --long src/sage/structure/global_options.py
**********************************************************************
File "src/sage/structure/global_options.py", line 599, in sage.structure.global_options.Option.__hash__
Failed example:
    hash( Tableaux.options.convention ) # indirect doc-test
Expected:
    -6673246059928475433
Got:
    -1691342633
**********************************************************************
1 item had failures:
   1 of   2 in sage.structure.global_options.Option.__hash__
    [135 tests, 1 failure, 0.03 s]
```



---

archive/issue_comments_312270.json:
```json
{
    "body": "<a id='comment:27'></a>\nThis just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.",
    "created_at": "2016-07-09T19:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312270",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
This just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.



---

archive/issue_comments_312271.json:
```json
{
    "body": "**Changing commit** from \"[ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)\" to \"[ba7dd9836386ed119c257d9bb42030149e091b47](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)\".",
    "created_at": "2016-07-11T10:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38](https://github.com/sagemath/sagetrac-mirror/commit/ed5070dd7ed52b0cbb405cb77cb651fb6d6f2f38)" to "[ba7dd9836386ed119c257d9bb42030149e091b47](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)".



---

archive/issue_comments_312272.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47\">ba7dd98</a></td><td><code>Fixing hashed doct-test</code></td></tr></table>\n",
    "created_at": "2016-07-11T10:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47">ba7dd98</a></td><td><code>Fixing hashed doct-test</code></td></tr></table>




---

archive/issue_comments_312273.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2016-07-11T11:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312273",
    "user": "https://github.com/AndrewAtLarge"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_312274.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [tscrim](#comment%3A27):\n> This just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.\n\n\nThanks Travis! Fixed and changed back to a positive review.",
    "created_at": "2016-07-11T11:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312274",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:29'></a>
Replying to [tscrim](#comment%3A27):
> This just needs to mark the different output as `# 32-bit` and `# 64-bit`, but I'd change the actual test to `hash(Tableaux.options.convention) == hash(Tableaux.options('convention')` (it also doesn't need the `# indirect doctest` marker). Sorry for not catching that sooner.


Thanks Travis! Fixed and changed back to a positive review.



---

archive/issue_comments_312275.json:
```json
{
    "body": "**Changing branch** from \"[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)\" to \"[ba7dd9836386ed119c257d9bb42030149e091b47](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)\".",
    "created_at": "2016-07-12T07:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18555#issuecomment-312275",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/misc/pickling_global_options-18555](https://github.com/sagemath/sagetrac-mirror/tree/public/misc/pickling_global_options-18555)" to "[ba7dd9836386ed119c257d9bb42030149e091b47](https://github.com/sagemath/sagetrac-mirror/commit/ba7dd9836386ed119c257d9bb42030149e091b47)".



---

archive/issue_events_058905.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-12T07:25:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18555",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18555#event-58905"
}
```
