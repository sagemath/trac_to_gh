# Issue 18331: Introduce initial distribution for Markov chains

archive/issues_018094.json:
```json
{
    "body": "We introduce the attribute `FSMState.initial_probability`. It is the probability of starting in this state of a Markov chain.\nIn `FiniteStateMachine.is_Markov_chain`, we additionally check whether the sum of the initial probabilities over all states is one or all initial probabilities are set to None.\n\nCC:  @dkrenn @cheuberg\n\nKeywords: Markov chain, initial distribution\n\nBranch/Commit: eb01c428d1a48ebdf02c67333fe4eb3b390d31c2\n\nReviewer: Clemens Heuberger\n\nAuthor: Sara Kropf, Clemens Heuberger\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18331\n\n",
    "closed_at": "2015-07-28T22:47:05Z",
    "created_at": "2015-04-29T09:45:19Z",
    "labels": [
        "component: finite state machines"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Introduce initial distribution for Markov chains",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18331",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```
We introduce the attribute `FSMState.initial_probability`. It is the probability of starting in this state of a Markov chain.
In `FiniteStateMachine.is_Markov_chain`, we additionally check whether the sum of the initial probabilities over all states is one or all initial probabilities are set to None.

CC:  @dkrenn @cheuberg

Keywords: Markov chain, initial distribution

Branch/Commit: eb01c428d1a48ebdf02c67333fe4eb3b390d31c2

Reviewer: Clemens Heuberger

Author: Sara Kropf, Clemens Heuberger

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18331





---

archive/issue_comments_314448.json:
```json
{
    "body": "Changing branch from \"\" to \"u/skropf/fsm/is_markov_chain\"",
    "created_at": "2015-05-04T11:32:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314448",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing branch from "" to "u/skropf/fsm/is_markov_chain"



---

archive/issue_comments_314449.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|\n|[f63f8e5](https://github.com/sagemath/sagetrac-mirror/commit/f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f)|`Introduce FSMState.initial_probability and check the sum in is_Markov_chain()`|",
    "created_at": "2015-05-04T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314449",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
|[f63f8e5](https://github.com/sagemath/sagetrac-mirror/commit/f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f)|`Introduce FSMState.initial_probability and check the sum in is_Markov_chain()`|



---

archive/issue_comments_314450.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-04T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314450",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_314451.json:
```json
{
    "body": "Changing commit from \"\" to \"f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f\"",
    "created_at": "2015-05-04T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314451",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing commit from "" to "f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f"



---

archive/issue_comments_314452.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Clemens Heuberger\"",
    "created_at": "2015-05-07T05:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314452",
    "user": "https://github.com/cheuberg"
}
```

Changing reviewer from "" to "Clemens Heuberger"



---

archive/issue_comments_314453.json:
```json
{
    "body": "Changing branch from \"u/skropf/fsm/is_markov_chain\" to \"u/cheuberg/fsm/is_markov_chain\"",
    "created_at": "2015-05-07T05:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314453",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/skropf/fsm/is_markov_chain" to "u/cheuberg/fsm/is_markov_chain"



---

archive/issue_comments_314454.json:
```json
{
    "body": "Changing commit from \"f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f\" to \"\"",
    "created_at": "2015-05-07T05:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314454",
    "user": "https://github.com/cheuberg"
}
```

Changing commit from "f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f" to ""



---

archive/issue_comments_314455.json:
```json
{
    "body": "Changing commit from \"\" to \"f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f\"",
    "created_at": "2015-05-07T05:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314455",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f"



---

archive/issue_comments_314456.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|\n|[f63f8e5](https://github.com/sagemath/sagetrac-mirror/commit/f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f)|`Introduce FSMState.initial_probability and check the sum in is_Markov_chain()`|",
    "created_at": "2015-05-07T05:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314456",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
|[f63f8e5](https://github.com/sagemath/sagetrac-mirror/commit/f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f)|`Introduce FSMState.initial_probability and check the sum in is_Markov_chain()`|



---

archive/issue_comments_314457.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[9fcae9e](https://github.com/sagemath/sagetrac-mirror/commit/9fcae9e0adbf8fa70174ea565387d3d25a19e0b7)|`Trac #18331: import FSMState`|\n|[ce5d3bb](https://github.com/sagemath/sagetrac-mirror/commit/ce5d3bb07e97d77eb1d3e37fb5703262a1bba52d)|`Trac #18331: Minor rewordings of documentation`|\n|[2c31e70](https://github.com/sagemath/sagetrac-mirror/commit/2c31e70c85e0309252cec0506b072f3b7d3daa50)|`Trac #18331: Iterate over iter_states() instead of .states()`|",
    "created_at": "2015-05-07T05:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[9fcae9e](https://github.com/sagemath/sagetrac-mirror/commit/9fcae9e0adbf8fa70174ea565387d3d25a19e0b7)|`Trac #18331: import FSMState`|
|[ce5d3bb](https://github.com/sagemath/sagetrac-mirror/commit/ce5d3bb07e97d77eb1d3e37fb5703262a1bba52d)|`Trac #18331: Minor rewordings of documentation`|
|[2c31e70](https://github.com/sagemath/sagetrac-mirror/commit/2c31e70c85e0309252cec0506b072f3b7d3daa50)|`Trac #18331: Iterate over iter_states() instead of .states()`|



---

archive/issue_comments_314458.json:
```json
{
    "body": "Changing commit from \"f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f\" to \"2c31e70c85e0309252cec0506b072f3b7d3daa50\"",
    "created_at": "2015-05-07T05:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f63f8e5e1bf07b1c4dddf1c356a8d68a275b1b6f" to "2c31e70c85e0309252cec0506b072f3b7d3daa50"



---

archive/issue_comments_314459.json:
```json
{
    "body": "<a id='comment:6'></a>\nAdded a few reviewer commits. Please cross-check.\n\nI think that copying states and comparing states should also take `initial_probability` into account.",
    "created_at": "2015-05-07T05:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314459",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:6'></a>
Added a few reviewer commits. Please cross-check.

I think that copying states and comparing states should also take `initial_probability` into account.



---

archive/issue_comments_314460.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-07T05:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314460",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_314461.json:
```json
{
    "body": "Changing work_issues from \"\" to \"copy, compare\"",
    "created_at": "2015-05-07T05:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314461",
    "user": "https://github.com/cheuberg"
}
```

Changing work_issues from "" to "copy, compare"



---

archive/issue_comments_314462.json:
```json
{
    "body": "Changing commit from \"2c31e70c85e0309252cec0506b072f3b7d3daa50\" to \"435d8f6eaa3de4990fc7b4608e353171afe5cb2c\"",
    "created_at": "2015-05-26T16:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314462",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2c31e70c85e0309252cec0506b072f3b7d3daa50" to "435d8f6eaa3de4990fc7b4608e353171afe5cb2c"



---

archive/issue_comments_314463.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|\n|[435d8f6](https://github.com/sagemath/sagetrac-mirror/commit/435d8f6eaa3de4990fc7b4608e353171afe5cb2c)|`Trac #18331: adapt doctest/sources due to ignored doctests in new attribute`|",
    "created_at": "2015-05-26T16:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314463",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
|[435d8f6](https://github.com/sagemath/sagetrac-mirror/commit/435d8f6eaa3de4990fc7b4608e353171afe5cb2c)|`Trac #18331: adapt doctest/sources due to ignored doctests in new attribute`|



---

archive/issue_comments_314464.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[c550d1e](https://github.com/sagemath/sagetrac-mirror/commit/c550d1eb25fb4444f9133a3fccce44fe1aac9d96)|`Trac #18331: copy/deepcopy/comparison use initial_probability`|\n|[a7e755e](https://github.com/sagemath/sagetrac-mirror/commit/a7e755ea311aa86421c5c3674f21871a84c78e43)|`Merge branch 'u/cheuberg/fsm/is_markov_chain' of trac.sagemath.org:sage into t/18331/fsm/is_markov_chain`|\n|[eb01c42](https://github.com/sagemath/sagetrac-mirror/commit/eb01c428d1a48ebdf02c67333fe4eb3b390d31c2)|`Trac #18331: Additional doctests for _copy_`|",
    "created_at": "2015-07-11T11:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[c550d1e](https://github.com/sagemath/sagetrac-mirror/commit/c550d1eb25fb4444f9133a3fccce44fe1aac9d96)|`Trac #18331: copy/deepcopy/comparison use initial_probability`|
|[a7e755e](https://github.com/sagemath/sagetrac-mirror/commit/a7e755ea311aa86421c5c3674f21871a84c78e43)|`Merge branch 'u/cheuberg/fsm/is_markov_chain' of trac.sagemath.org:sage into t/18331/fsm/is_markov_chain`|
|[eb01c42](https://github.com/sagemath/sagetrac-mirror/commit/eb01c428d1a48ebdf02c67333fe4eb3b390d31c2)|`Trac #18331: Additional doctests for _copy_`|



---

archive/issue_comments_314465.json:
```json
{
    "body": "Changing commit from \"435d8f6eaa3de4990fc7b4608e353171afe5cb2c\" to \"eb01c428d1a48ebdf02c67333fe4eb3b390d31c2\"",
    "created_at": "2015-07-11T11:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "435d8f6eaa3de4990fc7b4608e353171afe5cb2c" to "eb01c428d1a48ebdf02c67333fe4eb3b390d31c2"



---

archive/issue_events_066608.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2015-07-11T11:33:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18331#event-66608"
}
```



---

archive/issue_comments_314466.json:
```json
{
    "body": "Changing work_issues from \"copy, compare\" to \"\"",
    "created_at": "2015-07-11T11:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314466",
    "user": "https://github.com/cheuberg"
}
```

Changing work_issues from "copy, compare" to ""



---

archive/issue_comments_314467.json:
```json
{
    "body": "<a id='comment:9'></a>\nI reviewed your changes in [c550d1e](https://github.com/sagemath/sagetrac-mirror/commit/c550d1eb25fb4444f9133a3fccce44fe1aac9d96) and added more doctests for `__copy__`.\n\nPlease cross-review my changes.",
    "created_at": "2015-07-11T11:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314467",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:9'></a>
I reviewed your changes in [c550d1e](https://github.com/sagemath/sagetrac-mirror/commit/c550d1eb25fb4444f9133a3fccce44fe1aac9d96) and added more doctests for `__copy__`.

Please cross-review my changes.



---

archive/issue_comments_314468.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-07-11T11:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314468",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_314469.json:
```json
{
    "body": "Changing author from \"Sara Kropf\" to \"Sara Kropf, Clemens Heuberger\"",
    "created_at": "2015-07-11T11:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314469",
    "user": "https://github.com/cheuberg"
}
```

Changing author from "Sara Kropf" to "Sara Kropf, Clemens Heuberger"



---

archive/issue_comments_314470.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-07-28T13:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314470",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_314471.json:
```json
{
    "body": "<a id='comment:10'></a>\nFor me this is a positive review.",
    "created_at": "2015-07-28T13:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314471",
    "user": "https://trac.sagemath.org/admin/accounts/users/skropf"
}
```

<a id='comment:10'></a>
For me this is a positive review.



---

archive/issue_events_066609.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-28T22:47:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18331#event-66609"
}
```



---

archive/issue_comments_314472.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-07-28T22:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314472",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_314473.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/fsm/is_markov_chain\" to \"eb01c428d1a48ebdf02c67333fe4eb3b390d31c2\"",
    "created_at": "2015-07-28T22:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18331#issuecomment-314473",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/fsm/is_markov_chain" to "eb01c428d1a48ebdf02c67333fe4eb3b390d31c2"
