# Issue 18050: Implement dual equivalence graphs

archive/issues_017813.json:
```json
{
    "body": "Implement methods for dual equivalence graphs coming from standard tableaux of a fixed shape and as weight 0 crystal spaces.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @anneschilling @darijgr troby\n\nKeywords: dual equivalence graphs, sd67\n\nBranch/Commit: [7594b9532a274d71b65a78f45b67c26cc75045ca](https://github.com/sagemath/sagetrac-mirror/commit/7594b9532a274d71b65a78f45b67c26cc75045ca)\n\nReviewer: Darij Grinberg\n\nAuthor: Travis Scrimshaw\n\nDependencies: #18032\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18050\n\n",
    "closed_at": "2015-04-14T23:01:32Z",
    "created_at": "2015-03-25T03:18:44Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Implement dual equivalence graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18050",
    "user": "https://github.com/tscrim"
}
```
Implement methods for dual equivalence graphs coming from standard tableaux of a fixed shape and as weight 0 crystal spaces.

Assignee: sage-combinat

CC:  sage-combinat @anneschilling @darijgr troby

Keywords: dual equivalence graphs, sd67

Branch/Commit: [7594b9532a274d71b65a78f45b67c26cc75045ca](https://github.com/sagemath/sagetrac-mirror/commit/7594b9532a274d71b65a78f45b67c26cc75045ca)

Reviewer: Darij Grinberg

Author: Travis Scrimshaw

Dependencies: #18032

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18050





---

archive/issue_comments_315280.json:
```json
{
    "body": "Changing commit from \"\" to \"ae0e900471e967896aa63602ddef81ed9430e880\"",
    "created_at": "2015-03-25T03:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315280",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "ae0e900471e967896aa63602ddef81ed9430e880"



---

archive/issue_comments_315281.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-25T03:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315281",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_315282.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[ae0e900](https://github.com/sagemath/sagetrac-mirror/commit/ae0e900471e967896aa63602ddef81ed9430e880)|`Implement dual equivalence graph methods.`|",
    "created_at": "2015-03-25T03:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315282",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[ae0e900](https://github.com/sagemath/sagetrac-mirror/commit/ae0e900471e967896aa63602ddef81ed9430e880)|`Implement dual equivalence graph methods.`|



---

archive/issue_comments_315283.json:
```json
{
    "body": "Changing branch from \"\" to \"public/crystals/dual_equivalence-18050\"",
    "created_at": "2015-03-25T03:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315283",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/crystals/dual_equivalence-18050"



---

archive/issue_comments_315284.json:
```json
{
    "body": "Changing commit from \"ae0e900471e967896aa63602ddef81ed9430e880\" to \"c1b36373ccd085a893736c93e06294b461cbe193\"",
    "created_at": "2015-03-25T16:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ae0e900471e967896aa63602ddef81ed9430e880" to "c1b36373ccd085a893736c93e06294b461cbe193"



---

archive/issue_comments_315285.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[c1b3637](https://github.com/sagemath/sagetrac-mirror/commit/c1b36373ccd085a893736c93e06294b461cbe193)|`Fixing a bug so that isolated vertices are included.`|",
    "created_at": "2015-03-25T16:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[c1b3637](https://github.com/sagemath/sagetrac-mirror/commit/c1b36373ccd085a893736c93e06294b461cbe193)|`Fixing a bug so that isolated vertices are included.`|



---

archive/issue_comments_315286.json:
```json
{
    "body": "<a id='comment:4'></a>\nsome failing doctests, see patchbot report",
    "created_at": "2015-04-01T18:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315286",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
some failing doctests, see patchbot report



---

archive/issue_comments_315287.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-01T18:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315287",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_315288.json:
```json
{
    "body": "<a id='comment:5'></a>\nIn other news, here's something I've been long since curious about:\n\n```\n+ - :meth:`~sage.categories.regular_crystals.RegularCrystals.ParentMethods.dual_equivalence_graph`\n+ - :meth:`sage.combinat.partition.Partition.dual_equivalence_graph`\n```\nWhat is the difference between the syntax with the tilde and that without?",
    "created_at": "2015-04-01T18:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315288",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:5'></a>
In other news, here's something I've been long since curious about:

```
+ - :meth:`~sage.categories.regular_crystals.RegularCrystals.ParentMethods.dual_equivalence_graph`
+ - :meth:`sage.combinat.partition.Partition.dual_equivalence_graph`
```
What is the difference between the syntax with the tilde and that without?



---

archive/issue_comments_315289.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe tilde only displays the last thing after a dot, without displays the entire path.",
    "created_at": "2015-04-01T18:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315289",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
The tilde only displays the last thing after a dot, without displays the entire path.



---

archive/issue_comments_315290.json:
```json
{
    "body": "<a id='comment:7'></a>\nAh, thank you!",
    "created_at": "2015-04-01T18:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315290",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:7'></a>
Ah, thank you!



---

archive/issue_comments_315291.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[274a018](https://github.com/sagemath/sagetrac-mirror/commit/274a0187d4382d8fd24bf6a72f0b54bb5a64b580)|`Fixing doctest (because I'm stupid) and added directed options.`|",
    "created_at": "2015-04-01T19:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315291",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[274a018](https://github.com/sagemath/sagetrac-mirror/commit/274a0187d4382d8fd24bf6a72f0b54bb5a64b580)|`Fixing doctest (because I'm stupid) and added directed options.`|



---

archive/issue_comments_315292.json:
```json
{
    "body": "Changing commit from \"c1b36373ccd085a893736c93e06294b461cbe193\" to \"274a0187d4382d8fd24bf6a72f0b54bb5a64b580\"",
    "created_at": "2015-04-01T19:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315292",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c1b36373ccd085a893736c93e06294b461cbe193" to "274a0187d4382d8fd24bf6a72f0b54bb5a64b580"



---

archive/issue_comments_315293.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-01T19:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315293",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_315294.json:
```json
{
    "body": "<a id='comment:10'></a>\nStupid question:\n\nAssuming that your dual equivalence graph is the graph `\\mathcal{G}(\\mathcal{X})` defined in Section 4 of the Assaf preprint you are citing, is your condition `\\varepsilon_j(b) = \\varphi_j(b)` really equivalent to her (4.1) ? If so, what are the connections between your `\\varepsilon` and `\\varphi` and her `\\varepsilon` and `\\delta`?",
    "created_at": "2015-04-01T20:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315294",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:10'></a>
Stupid question:

Assuming that your dual equivalence graph is the graph `\mathcal{G}(\mathcal{X})` defined in Section 4 of the Assaf preprint you are citing, is your condition `\varepsilon_j(b) = \varphi_j(b)` really equivalent to her (4.1) ? If so, what are the connections between your `\varepsilon` and `\varphi` and her `\varepsilon` and `\delta`?



---

archive/issue_comments_315295.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe `\\varepsilon_j(b) = \\varphi_j(b)` comes from the crystal axiom `\\varphi_j(b) = \\varepsilon_j(b) + wt(b)` (`wt` is the weight) and we are looking at the `wt(b) = 0` elements. Her `\\varepsilon` is the same as mine and the `\\delta` is something related but slightly different (see towards the beginning of section 2).",
    "created_at": "2015-04-01T20:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315295",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
The `\varepsilon_j(b) = \varphi_j(b)` comes from the crystal axiom `\varphi_j(b) = \varepsilon_j(b) + wt(b)` (`wt` is the weight) and we are looking at the `wt(b) = 0` elements. Her `\varepsilon` is the same as mine and the `\delta` is something related but slightly different (see towards the beginning of section 2).



---

archive/issue_comments_315296.json:
```json
{
    "body": "<a id='comment:12'></a>\nI think the docstring of `Partition.dual_equivalence_graph` could be clearer.  I suggest\n\n```\nTwo permutations `p` and `q` differ by an elementary dual Knuth\nrelation (of color `i`), when, in one line notation, the letter\n`i` does not occur between `i-1` and `i+1`, and `q` is obtained \nfrom `p` by switching the places of `i-1` and `i+1`.\n\nTwo standard Young tableaux of shape `\\lambda` differ by an\nelementary dual Knuth relation (of color `i`), if their content\nreading words differ by an elementary dual Knuth relation (of\ncolor `i`).\n\nThe *dual equivalence graph* is the edge-colored graph formed by\nthe set of standard Young tableaux of shape `\\lambda` where edges\ncolored by `i` are given by dual equivalences of color `i`.\n```",
    "created_at": "2015-04-01T21:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315296",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:12'></a>
I think the docstring of `Partition.dual_equivalence_graph` could be clearer.  I suggest

```
Two permutations `p` and `q` differ by an elementary dual Knuth
relation (of color `i`), when, in one line notation, the letter
`i` does not occur between `i-1` and `i+1`, and `q` is obtained 
from `p` by switching the places of `i-1` and `i+1`.

Two standard Young tableaux of shape `\lambda` differ by an
elementary dual Knuth relation (of color `i`), if their content
reading words differ by an elementary dual Knuth relation (of
color `i`).

The *dual equivalence graph* is the edge-colored graph formed by
the set of standard Young tableaux of shape `\lambda` where edges
colored by `i` are given by dual equivalences of color `i`.
```



---

archive/issue_comments_315297.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [tscrim](#comment%3A11):\n> The `\\varepsilon_j(b) = \\varphi_j(b)` comes from the crystal axiom `\\varphi_j(b) = \\varepsilon_j(b) + wt(b)` (`wt` is the weight) and we are looking at the `wt(b) = 0` elements. Her `\\varepsilon` is the same as mine and the `\\delta` is something related but slightly different (see towards the beginning of section 2).\n\n\nOh. Is `\\delta_j(b)` the same as your `-\\varphi_j(b)`? And what does the `= 0 or 1` part of Assaf's (4.1) correspond to in your definition?",
    "created_at": "2015-04-01T21:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315297",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:13'></a>
Replying to [tscrim](#comment%3A11):
> The `\varepsilon_j(b) = \varphi_j(b)` comes from the crystal axiom `\varphi_j(b) = \varepsilon_j(b) + wt(b)` (`wt` is the weight) and we are looking at the `wt(b) = 0` elements. Her `\varepsilon` is the same as mine and the `\delta` is something related but slightly different (see towards the beginning of section 2).


Oh. Is `\delta_j(b)` the same as your `-\varphi_j(b)`? And what does the `= 0 or 1` part of Assaf's (4.1) correspond to in your definition?



---

archive/issue_comments_315298.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [darij](#comment%3A13):\n> Oh. Is `\\delta_j(b)` the same as your `-\\varphi_j(b)`?\n\n\nYes.\n\n> And what does the `= 0 or 1` part of Assaf's (4.1) correspond to in your definition?\n\n\nIt means that we can do the `e_i` operation exactly 0 or 1 times before it falls off the crystal graph. In other words, these conditions state that if there is an `i`-arrow in the crystal graph going through `b`, then the entire chain of `i`-arrows containing `b` has length 2 with `b` in the middle.\n\n`@`mantepse I will make those changes in a minute.",
    "created_at": "2015-04-01T22:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315298",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
Replying to [darij](#comment%3A13):
> Oh. Is `\delta_j(b)` the same as your `-\varphi_j(b)`?


Yes.

> And what does the `= 0 or 1` part of Assaf's (4.1) correspond to in your definition?


It means that we can do the `e_i` operation exactly 0 or 1 times before it falls off the crystal graph. In other words, these conditions state that if there is an `i`-arrow in the crystal graph going through `b`, then the entire chain of `i`-arrows containing `b` has length 2 with `b` in the middle.

`@`mantepse I will make those changes in a minute.



---

archive/issue_comments_315299.json:
```json
{
    "body": "Changing commit from \"274a0187d4382d8fd24bf6a72f0b54bb5a64b580\" to \"63c702746f422cb1467e40ca4051b05398873585\"",
    "created_at": "2015-04-01T22:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "274a0187d4382d8fd24bf6a72f0b54bb5a64b580" to "63c702746f422cb1467e40ca4051b05398873585"



---

archive/issue_comments_315300.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[63c7027](https://github.com/sagemath/sagetrac-mirror/commit/63c702746f422cb1467e40ca4051b05398873585)|`Changed the wording of docstring for DEG in partition.`|",
    "created_at": "2015-04-01T22:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[63c7027](https://github.com/sagemath/sagetrac-mirror/commit/63c702746f422cb1467e40ca4051b05398873585)|`Changed the wording of docstring for DEG in partition.`|



---

archive/issue_comments_315301.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|\n|[2ad1a17](https://github.com/sagemath/sagetrac-mirror/commit/2ad1a176d9e1bf622cac433d7aae2fb4323f308b)|`correct a few typos in crystals doc, and make notations consistent (phi and epsilon become varphi and varepsilon)`|\n|[6c70848](https://github.com/sagemath/sagetrac-mirror/commit/6c70848a5b6f1d888139d0d10ac6aa734579c872)|`some more, hopefully correct, doc fixes`|\n|[65ddba1](https://github.com/sagemath/sagetrac-mirror/commit/65ddba1c9e657a5315b815418d6d336acb07caff)|`review of the changes in sage/combinat/partition.py`|",
    "created_at": "2015-04-02T00:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|
|[2ad1a17](https://github.com/sagemath/sagetrac-mirror/commit/2ad1a176d9e1bf622cac433d7aae2fb4323f308b)|`correct a few typos in crystals doc, and make notations consistent (phi and epsilon become varphi and varepsilon)`|
|[6c70848](https://github.com/sagemath/sagetrac-mirror/commit/6c70848a5b6f1d888139d0d10ac6aa734579c872)|`some more, hopefully correct, doc fixes`|
|[65ddba1](https://github.com/sagemath/sagetrac-mirror/commit/65ddba1c9e657a5315b815418d6d336acb07caff)|`review of the changes in sage/combinat/partition.py`|



---

archive/issue_comments_315302.json:
```json
{
    "body": "Changing commit from \"63c702746f422cb1467e40ca4051b05398873585\" to \"65ddba1c9e657a5315b815418d6d336acb07caff\"",
    "created_at": "2015-04-02T00:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "63c702746f422cb1467e40ca4051b05398873585" to "65ddba1c9e657a5315b815418d6d336acb07caff"



---

archive/issue_comments_315303.json:
```json
{
    "body": "<a id='comment:17'></a>\nI've been through (the easy) part of the code. Nice to see this going into Sage!\n\nMy question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?\n\nAlso, I had to change the meaning of \"head\" (of a directed edge) in the partitions.py method; please check whether it is correctly used in the other file.\n\nIn regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?",
    "created_at": "2015-04-02T00:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315303",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:17'></a>
I've been through (the easy) part of the code. Nice to see this going into Sage!

My question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?

Also, I had to change the meaning of "head" (of a directed edge) in the partitions.py method; please check whether it is correctly used in the other file.

In regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?



---

archive/issue_comments_315304.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [darij](#comment%3A17):\n> I've been through (the easy) part of the code. Nice to see this going into Sage!\n\n\nThanks for doing the review.\n\n> My question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?\n\n\nIt's in the code, see this line:\n\n```\nif x.epsilon(i) == 1 and x.epsilon(im) == 0:\n```\nNote that because I considered the directed, I make it slightly more specific than Assaf's definition by saying `\\varepsilon_j(b) = 1`. A similar statement appears in the doc.\n\n> Also, I had to change the meaning of \"head\" (of a directed edge) in the partitions.py method; please check whether it is correctly used in the other file.\n\n\nIt looks okay. I think instead of writing `a - b` we should do `a \\to b` in both files for directed edges (especially since it's in latex).\n\nI also feel this statement is too verbose:\n\n```\n- In the one-line notation of the permutation `p`, the letter\n  `i` appears either to the left of both `i-1` and `i+1`, or\n  to the right of both `i-1` and `i+1` (but not between the\n  two).\n```\nand we should just say `i` does not appear between `i-1` and `i+1`. Does this sound okay?\n\n> In regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?\n\n\nNo, I wanted it to be as general as possible (at least this is what I needed for my research; I didn't necessarily know if my set of elements was the full dual equivalence class).",
    "created_at": "2015-04-02T05:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315304",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
Replying to [darij](#comment%3A17):
> I've been through (the easy) part of the code. Nice to see this going into Sage!


Thanks for doing the review.

> My question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?


It's in the code, see this line:

```
if x.epsilon(i) == 1 and x.epsilon(im) == 0:
```
Note that because I considered the directed, I make it slightly more specific than Assaf's definition by saying `\varepsilon_j(b) = 1`. A similar statement appears in the doc.

> Also, I had to change the meaning of "head" (of a directed edge) in the partitions.py method; please check whether it is correctly used in the other file.


It looks okay. I think instead of writing `a - b` we should do `a \to b` in both files for directed edges (especially since it's in latex).

I also feel this statement is too verbose:

```
- In the one-line notation of the permutation `p`, the letter
  `i` appears either to the left of both `i-1` and `i+1`, or
  to the right of both `i-1` and `i+1` (but not between the
  two).
```
and we should just say `i` does not appear between `i-1` and `i+1`. Does this sound okay?

> In regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?


No, I wanted it to be as general as possible (at least this is what I needed for my research; I didn't necessarily know if my set of elements was the full dual equivalence class).



---

archive/issue_comments_315305.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [tscrim](#comment%3A18):\n> > My question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?\n\n> \n> It's in the code, see this line:\n> \n> ```\n> if x.epsilon(i) == 1 and x.epsilon(im) == 0:\n> ```\n\n\nBut what about the doc? Without this condition it sounds like your graph has a lot more (isolated) vertices than it should have.\n\n> Note that because I considered the directed, I make it slightly more specific than Assaf's definition by saying `\\varepsilon_j(b) = 1`. A similar statement appears in the doc.\n> \n> > Also, I had to change the meaning of \"head\" (of a directed edge) in the partitions.py method; please check whether it is correctly used in the other file.\n\n> \n> It looks okay. I think instead of writing `a - b` we should do `a \\to b` in both files for directed edges (especially since it's in latex).\n\n\nI think it's fine the way it is. The edge is undirected a priori; we direct it by assigning it a head. You'd have to reword my definition if you want to put an arrow there.\n\n> I also feel this statement is too verbose:\n> \n> ```\n> - In the one-line notation of the permutation `p`, the letter\n>   `i` appears either to the left of both `i-1` and `i+1`, or\n>   to the right of both `i-1` and `i+1` (but not between the\n>   two).\n> ```\n> and we should just say `i` does not appear between `i-1` and `i+1`. Does this sound okay?\n\n\nThat's fine; feel free to change it (I won't return to this until tomorrow).\n\n> > In regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?\n\n> \n> No, I wanted it to be as general as possible (at least this is what I needed for my research; I didn't necessarily know if my set of elements was the full dual equivalence class).\n\n\nOK, but it seems (from a brief glance) that if you don't have a union of equivalence classes, then your code can leak some non-X vertices into the graph by constructing edges one of whose endpoints is not in X. Is that OK to you?",
    "created_at": "2015-04-02T05:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315305",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:19'></a>
Replying to [tscrim](#comment%3A18):
> > My question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?

> 
> It's in the code, see this line:
> 
> ```
> if x.epsilon(i) == 1 and x.epsilon(im) == 0:
> ```


But what about the doc? Without this condition it sounds like your graph has a lot more (isolated) vertices than it should have.

> Note that because I considered the directed, I make it slightly more specific than Assaf's definition by saying `\varepsilon_j(b) = 1`. A similar statement appears in the doc.
> 
> > Also, I had to change the meaning of "head" (of a directed edge) in the partitions.py method; please check whether it is correctly used in the other file.

> 
> It looks okay. I think instead of writing `a - b` we should do `a \to b` in both files for directed edges (especially since it's in latex).


I think it's fine the way it is. The edge is undirected a priori; we direct it by assigning it a head. You'd have to reword my definition if you want to put an arrow there.

> I also feel this statement is too verbose:
> 
> ```
> - In the one-line notation of the permutation `p`, the letter
>   `i` appears either to the left of both `i-1` and `i+1`, or
>   to the right of both `i-1` and `i+1` (but not between the
>   two).
> ```
> and we should just say `i` does not appear between `i-1` and `i+1`. Does this sound okay?


That's fine; feel free to change it (I won't return to this until tomorrow).

> > In regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?

> 
> No, I wanted it to be as general as possible (at least this is what I needed for my research; I didn't necessarily know if my set of elements was the full dual equivalence class).


OK, but it seems (from a brief glance) that if you don't have a union of equivalence classes, then your code can leak some non-X vertices into the graph by constructing edges one of whose endpoints is not in X. Is that OK to you?



---

archive/issue_comments_315306.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|\n|[cf29b8d](https://github.com/sagemath/sagetrac-mirror/commit/cf29b8d7d5013914d8903dd290020db0e87125b4)|`Merge branch 'public/crystals/dual_equivalence-18050' of trac.sagemath.org:sage into public/crystals/dual_equivalence-18050`|\n|[618141c](https://github.com/sagemath/sagetrac-mirror/commit/618141c49451360ea24abc512fb4fe86f74ca469)|`Addressing some issues and doing some tweaks.`|",
    "created_at": "2015-04-13T13:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
|[cf29b8d](https://github.com/sagemath/sagetrac-mirror/commit/cf29b8d7d5013914d8903dd290020db0e87125b4)|`Merge branch 'public/crystals/dual_equivalence-18050' of trac.sagemath.org:sage into public/crystals/dual_equivalence-18050`|
|[618141c](https://github.com/sagemath/sagetrac-mirror/commit/618141c49451360ea24abc512fb4fe86f74ca469)|`Addressing some issues and doing some tweaks.`|



---

archive/issue_comments_315307.json:
```json
{
    "body": "Changing commit from \"65ddba1c9e657a5315b815418d6d336acb07caff\" to \"618141c49451360ea24abc512fb4fe86f74ca469\"",
    "created_at": "2015-04-13T13:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "65ddba1c9e657a5315b815418d6d336acb07caff" to "618141c49451360ea24abc512fb4fe86f74ca469"



---

archive/issue_comments_315308.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [darij](#comment%3A19):\n> Replying to [tscrim](#comment%3A18):\n> > > My question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?\n\n> > \n> > It's in the code, see this line:\n> > \n> > ```\n> > if x.epsilon(i) == 1 and x.epsilon(im) == 0:\n> > ```\n\n> \n> But what about the doc? Without this condition it sounds like your graph has a lot more (isolated) vertices than it should have.\n\n\nI forgot to say that this is in the doc as well.\n\n> > It looks okay. I think instead of writing `a - b` we should do `a \\to b` in both files for directed edges (especially since it's in latex).\n\n> \n> I think it's fine the way it is. The edge is undirected a priori; we direct it by assigning it a head. You'd have to reword my definition if you want to put an arrow there.\n\n\nI made a change which I think is more clear. Comments welcomed.\n\n> > I also feel this statement is too verbose:\n> > \n> > ```\n> > - In the one-line notation of the permutation `p`, the letter\n> >   `i` appears either to the left of both `i-1` and `i+1`, or\n> >   to the right of both `i-1` and `i+1` (but not between the\n> >   two).\n> > ```\n> > and we should just say `i` does not appear between `i-1` and `i+1`. Does this sound okay?\n\n> \n> That's fine; feel free to change it (I won't return to this until tomorrow).\n\n\nI've made this change.\n\n> > > In regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?\n\n> > \n> > No, I wanted it to be as general as possible (at least this is what I needed for my research; I didn't necessarily know if my set of elements was the full dual equivalence class).\n\n> \n> OK, but it seems (from a brief glance) that if you don't have a union of equivalence classes, then your code can leak some non-X vertices into the graph by constructing edges one of whose endpoints is not in X. Is that OK to you?\n\n\nEeek, you're right. I made changes so that non-X vertices are not added to the DEG.",
    "created_at": "2015-04-13T13:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315308",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>
Replying to [darij](#comment%3A19):
> Replying to [tscrim](#comment%3A18):
> > > My question is still standing: Where are the `= 0 or 1` conditions in Assaf's (4.1) reflected in your code and doc? Or are they redundant, or wrong, or your notion of dual equivalence graphs different?

> > 
> > It's in the code, see this line:
> > 
> > ```
> > if x.epsilon(i) == 1 and x.epsilon(im) == 0:
> > ```

> 
> But what about the doc? Without this condition it sounds like your graph has a lot more (isolated) vertices than it should have.


I forgot to say that this is in the doc as well.

> > It looks okay. I think instead of writing `a - b` we should do `a \to b` in both files for directed edges (especially since it's in latex).

> 
> I think it's fine the way it is. The edge is undirected a priori; we direct it by assigning it a head. You'd have to reword my definition if you want to put an arrow there.


I made a change which I think is more clear. Comments welcomed.

> > I also feel this statement is too verbose:
> > 
> > ```
> > - In the one-line notation of the permutation `p`, the letter
> >   `i` appears either to the left of both `i-1` and `i+1`, or
> >   to the right of both `i-1` and `i+1` (but not between the
> >   two).
> > ```
> > and we should just say `i` does not appear between `i-1` and `i+1`. Does this sound okay?

> 
> That's fine; feel free to change it (I won't return to this until tomorrow).


I've made this change.

> > > In regular_crystals.py, what is required of X ? Should it be closed under e_i and f_i?

> > 
> > No, I wanted it to be as general as possible (at least this is what I needed for my research; I didn't necessarily know if my set of elements was the full dual equivalence class).

> 
> OK, but it seems (from a brief glance) that if you don't have a union of equivalence classes, then your code can leak some non-X vertices into the graph by constructing edges one of whose endpoints is not in X. Is that OK to you?


Eeek, you're right. I made changes so that non-X vertices are not added to the DEG.



---

archive/issue_comments_315309.json:
```json
{
    "body": "<a id='comment:22'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[60d9e86](https://github.com/sagemath/sagetrac-mirror/commit/60d9e864296b072a2249e104980cf3a935665711)|`Merge branch 'public/crystals/dual_equivalence-18050' of`|\n|[5634e38](https://github.com/sagemath/sagetrac-mirror/commit/5634e388a8be33413483c1f0e3bee515e65f93c4)|`doc changes`|",
    "created_at": "2015-04-13T16:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[60d9e86](https://github.com/sagemath/sagetrac-mirror/commit/60d9e864296b072a2249e104980cf3a935665711)|`Merge branch 'public/crystals/dual_equivalence-18050' of`|
|[5634e38](https://github.com/sagemath/sagetrac-mirror/commit/5634e388a8be33413483c1f0e3bee515e65f93c4)|`doc changes`|



---

archive/issue_comments_315310.json:
```json
{
    "body": "Changing commit from \"618141c49451360ea24abc512fb4fe86f74ca469\" to \"5634e388a8be33413483c1f0e3bee515e65f93c4\"",
    "created_at": "2015-04-13T16:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "618141c49451360ea24abc512fb4fe86f74ca469" to "5634e388a8be33413483c1f0e3bee515e65f93c4"



---

archive/issue_comments_315311.json:
```json
{
    "body": "Changing keywords from \"dual equivalence graphs\" to \"dual equivalence graphs, days67\".",
    "created_at": "2015-04-13T16:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315311",
    "user": "https://github.com/darijgr"
}
```

Changing keywords from "dual equivalence graphs" to "dual equivalence graphs, days67".



---

archive/issue_comments_315312.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[15b01be](https://github.com/sagemath/sagetrac-mirror/commit/15b01bec20ffb4e20c122590368ac9b2a908b192)|`more precise doc`|",
    "created_at": "2015-04-13T16:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[15b01be](https://github.com/sagemath/sagetrac-mirror/commit/15b01bec20ffb4e20c122590368ac9b2a908b192)|`more precise doc`|



---

archive/issue_comments_315313.json:
```json
{
    "body": "Changing commit from \"5634e388a8be33413483c1f0e3bee515e65f93c4\" to \"15b01bec20ffb4e20c122590368ac9b2a908b192\"",
    "created_at": "2015-04-13T16:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5634e388a8be33413483c1f0e3bee515e65f93c4" to "15b01bec20ffb4e20c122590368ac9b2a908b192"



---

archive/issue_comments_315314.json:
```json
{
    "body": "Changing commit from \"15b01bec20ffb4e20c122590368ac9b2a908b192\" to \"b1d7a08e1bc2713625faae6ca9c09ddd1eecf39f\"",
    "created_at": "2015-04-13T16:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "15b01bec20ffb4e20c122590368ac9b2a908b192" to "b1d7a08e1bc2713625faae6ca9c09ddd1eecf39f"



---

archive/issue_comments_315315.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[b1d7a08](https://github.com/sagemath/sagetrac-mirror/commit/b1d7a08e1bc2713625faae6ca9c09ddd1eecf39f)|`document the definition of a DEG`|",
    "created_at": "2015-04-13T16:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[b1d7a08](https://github.com/sagemath/sagetrac-mirror/commit/b1d7a08e1bc2713625faae6ca9c09ddd1eecf39f)|`document the definition of a DEG`|



---

archive/issue_comments_315316.json:
```json
{
    "body": "Changing keywords from \"dual equivalence graphs, days67\" to \"dual equivalence graphs, sd67\".",
    "created_at": "2015-04-13T16:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315316",
    "user": "https://github.com/nthiery"
}
```

Changing keywords from "dual equivalence graphs, days67" to "dual equivalence graphs, sd67".



---

archive/issue_comments_315317.json:
```json
{
    "body": "Changing commit from \"b1d7a08e1bc2713625faae6ca9c09ddd1eecf39f\" to \"23883c9f056ecd0afed75c071e89a67533ea4397\"",
    "created_at": "2015-04-13T17:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b1d7a08e1bc2713625faae6ca9c09ddd1eecf39f" to "23883c9f056ecd0afed75c071e89a67533ea4397"



---

archive/issue_comments_315318.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[23883c9](https://github.com/sagemath/sagetrac-mirror/commit/23883c9f056ecd0afed75c071e89a67533ea4397)|`review of dual_equivalence_graph`|",
    "created_at": "2015-04-13T17:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[23883c9](https://github.com/sagemath/sagetrac-mirror/commit/23883c9f056ecd0afed75c071e89a67533ea4397)|`review of dual_equivalence_graph`|



---

archive/issue_comments_315319.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[bb38b57](https://github.com/sagemath/sagetrac-mirror/commit/bb38b575ab8f01413a0911e4999a2621008d9f16)|`final changes`|",
    "created_at": "2015-04-13T20:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[bb38b57](https://github.com/sagemath/sagetrac-mirror/commit/bb38b575ab8f01413a0911e4999a2621008d9f16)|`final changes`|



---

archive/issue_comments_315320.json:
```json
{
    "body": "Changing commit from \"23883c9f056ecd0afed75c071e89a67533ea4397\" to \"bb38b575ab8f01413a0911e4999a2621008d9f16\"",
    "created_at": "2015-04-13T20:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "23883c9f056ecd0afed75c071e89a67533ea4397" to "bb38b575ab8f01413a0911e4999a2621008d9f16"



---

archive/issue_comments_315321.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Darij Grinberg\"",
    "created_at": "2015-04-13T20:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315321",
    "user": "https://github.com/darijgr"
}
```

Changing reviewer from "" to "Darij Grinberg"



---

archive/issue_comments_315322.json:
```json
{
    "body": "Changing commit from \"bb38b575ab8f01413a0911e4999a2621008d9f16\" to \"52160856cc06c831501dbe49ada0c59c92107f10\"",
    "created_at": "2015-04-13T20:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bb38b575ab8f01413a0911e4999a2621008d9f16" to "52160856cc06c831501dbe49ada0c59c92107f10"



---

archive/issue_comments_315323.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[5216085](https://github.com/sagemath/sagetrac-mirror/commit/52160856cc06c831501dbe49ada0c59c92107f10)|`Another conversion is in order I suspect.`|",
    "created_at": "2015-04-13T20:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[5216085](https://github.com/sagemath/sagetrac-mirror/commit/52160856cc06c831501dbe49ada0c59c92107f10)|`Another conversion is in order I suspect.`|



---

archive/issue_comments_315324.json:
```json
{
    "body": "<a id='comment:31'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[9868571](https://github.com/sagemath/sagetrac-mirror/commit/98685710c58df3d36baf74b63467387057af1531)|`response changes`|",
    "created_at": "2015-04-13T20:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[9868571](https://github.com/sagemath/sagetrac-mirror/commit/98685710c58df3d36baf74b63467387057af1531)|`response changes`|



---

archive/issue_comments_315325.json:
```json
{
    "body": "Changing commit from \"52160856cc06c831501dbe49ada0c59c92107f10\" to \"98685710c58df3d36baf74b63467387057af1531\"",
    "created_at": "2015-04-13T20:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "52160856cc06c831501dbe49ada0c59c92107f10" to "98685710c58df3d36baf74b63467387057af1531"



---

archive/issue_comments_315326.json:
```json
{
    "body": "Changing commit from \"98685710c58df3d36baf74b63467387057af1531\" to \"ad57c6df083325fceead8b7160da53d3ab0bc7c6\"",
    "created_at": "2015-04-13T20:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "98685710c58df3d36baf74b63467387057af1531" to "ad57c6df083325fceead8b7160da53d3ab0bc7c6"



---

archive/issue_comments_315327.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[ad57c6d](https://github.com/sagemath/sagetrac-mirror/commit/ad57c6df083325fceead8b7160da53d3ab0bc7c6)|`and the same on dual_equivalence_class`|",
    "created_at": "2015-04-13T20:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[ad57c6d](https://github.com/sagemath/sagetrac-mirror/commit/ad57c6df083325fceead8b7160da53d3ab0bc7c6)|`and the same on dual_equivalence_class`|



---

archive/issue_comments_315328.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-13T20:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315328",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_315329.json:
```json
{
    "body": "<a id='comment:34'></a>\nPositive review by Travis who was standing over my shoulders and explaining what I should not do. :P",
    "created_at": "2015-04-13T20:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315329",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:34'></a>
Positive review by Travis who was standing over my shoulders and explaining what I should not do. :P



---

archive/issue_comments_315330.json:
```json
{
    "body": "Changing commit from \"ad57c6df083325fceead8b7160da53d3ab0bc7c6\" to \"765cc78cbdcc6f2626840f139ba98e6fdc42d0ab\"",
    "created_at": "2015-04-14T06:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ad57c6df083325fceead8b7160da53d3ab0bc7c6" to "765cc78cbdcc6f2626840f139ba98e6fdc42d0ab"



---

archive/issue_comments_315331.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-04-14T06:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_315332.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[765cc78](https://github.com/sagemath/sagetrac-mirror/commit/765cc78cbdcc6f2626840f139ba98e6fdc42d0ab)|`more crystal doc corrections`|",
    "created_at": "2015-04-14T06:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[765cc78](https://github.com/sagemath/sagetrac-mirror/commit/765cc78cbdcc6f2626840f139ba98e6fdc42d0ab)|`more crystal doc corrections`|



---

archive/issue_comments_315333.json:
```json
{
    "body": "<a id='comment:36'></a>\nCouldn't resist fixing a few docstrings which made an iterator sound like it was a list and lists pretend to be iterators. Can you review this last bit, Travis? Thanks!",
    "created_at": "2015-04-14T06:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315333",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:36'></a>
Couldn't resist fixing a few docstrings which made an iterator sound like it was a list and lists pretend to be iterators. Can you review this last bit, Travis? Thanks!



---

archive/issue_comments_315334.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-14T13:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315334",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_315335.json:
```json
{
    "body": "<a id='comment:37'></a>\nNP.",
    "created_at": "2015-04-14T13:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315335",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>
NP.



---

archive/issue_comments_315336.json:
```json
{
    "body": "<a id='comment:38'></a>\nFor your coloring scheme, why don't you do it with a dictionary rather than the long list of if statements?\n\nAnne",
    "created_at": "2015-04-14T14:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315336",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:38'></a>
For your coloring scheme, why don't you do it with a dictionary rather than the long list of if statements?

Anne



---

archive/issue_comments_315337.json:
```json
{
    "body": "Changing commit from \"765cc78cbdcc6f2626840f139ba98e6fdc42d0ab\" to \"7abfd44fa4700de59fc5b1b6eab077de0c59a91d\"",
    "created_at": "2015-04-14T15:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "765cc78cbdcc6f2626840f139ba98e6fdc42d0ab" to "7abfd44fa4700de59fc5b1b6eab077de0c59a91d"



---

archive/issue_comments_315338.json:
```json
{
    "body": "<a id='comment:39'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                          |                                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[7abfd44](https://github.com/sagemath/sagetrac-mirror/commit/7abfd44fa4700de59fc5b1b6eab077de0c59a91d)|`Changing to a dict for coloring and adding option to passing a list or dict.`|",
    "created_at": "2015-04-14T15:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315338",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                          |                                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[7abfd44](https://github.com/sagemath/sagetrac-mirror/commit/7abfd44fa4700de59fc5b1b6eab077de0c59a91d)|`Changing to a dict for coloring and adding option to passing a list or dict.`|



---

archive/issue_comments_315339.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-04-14T15:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_315340.json:
```json
{
    "body": "Changing commit from \"7abfd44fa4700de59fc5b1b6eab077de0c59a91d\" to \"09320d95cc880c8fb1ae8a05795c7f9666f56a30\"",
    "created_at": "2015-04-14T15:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7abfd44fa4700de59fc5b1b6eab077de0c59a91d" to "09320d95cc880c8fb1ae8a05795c7f9666f56a30"



---

archive/issue_comments_315341.json:
```json
{
    "body": "<a id='comment:40'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[a15b92f](https://github.com/sagemath/sagetrac-mirror/commit/a15b92f7e0fe83cf39064c334d26195b7ff5a056)|`Fix minor typo.`|\n|[c500bfa](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)|`Make Sandpiles copyable`|\n|[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)|`Implement GenericGraph.__copy__`|\n|[3497edd](https://github.com/sagemath/sagetrac-mirror/commit/3497edddf6cbea6738867ba4dccf1598d819c550)|`Merge branch 'u/vbraun/ticket/18032' of trac.sagemath.org:sage into public/crystals/dual_equivalence-18050`|\n|[09320d9](https://github.com/sagemath/sagetrac-mirror/commit/09320d95cc880c8fb1ae8a05795c7f9666f56a30)|`Implementing a custom cache for the DEG. Marked a test as long.`|",
    "created_at": "2015-04-14T15:45:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[a15b92f](https://github.com/sagemath/sagetrac-mirror/commit/a15b92f7e0fe83cf39064c334d26195b7ff5a056)|`Fix minor typo.`|
|[c500bfa](https://github.com/sagemath/sagetrac-mirror/commit/c500bfa13492c6c51ea52a5b9c0b91fe7b47806a)|`Make Sandpiles copyable`|
|[e4c701d](https://github.com/sagemath/sagetrac-mirror/commit/e4c701d3c7c713de540b8e351674093a9ceb6266)|`Implement GenericGraph.__copy__`|
|[3497edd](https://github.com/sagemath/sagetrac-mirror/commit/3497edddf6cbea6738867ba4dccf1598d819c550)|`Merge branch 'u/vbraun/ticket/18032' of trac.sagemath.org:sage into public/crystals/dual_equivalence-18050`|
|[09320d9](https://github.com/sagemath/sagetrac-mirror/commit/09320d95cc880c8fb1ae8a05795c7f9666f56a30)|`Implementing a custom cache for the DEG. Marked a test as long.`|



---

archive/issue_comments_315342.json:
```json
{
    "body": "<a id='comment:41'></a>\nThat's a much better method to get the colors. I also pulled in #18032 because we needed to get immutable copies of the graph so I could write a custom cache which does not regenerate the graph when we only want a different coloring.\n\nI also marked a test as long since it took nearly 20s on my computer.\n\nSomeone check my changes please.",
    "created_at": "2015-04-14T15:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315342",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:41'></a>
That's a much better method to get the colors. I also pulled in #18032 because we needed to get immutable copies of the graph so I could write a custom cache which does not regenerate the graph when we only want a different coloring.

I also marked a test as long since it took nearly 20s on my computer.

Someone check my changes please.



---

archive/issue_comments_315343.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#18032\"",
    "created_at": "2015-04-14T15:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315343",
    "user": "https://github.com/tscrim"
}
```

Changing dependencies from "" to "#18032"



---

archive/issue_comments_315344.json:
```json
{
    "body": "<a id='comment:42'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[7594b95](https://github.com/sagemath/sagetrac-mirror/commit/7594b9532a274d71b65a78f45b67c26cc75045ca)|`Simplifying the copying.`|",
    "created_at": "2015-04-14T15:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[7594b95](https://github.com/sagemath/sagetrac-mirror/commit/7594b9532a274d71b65a78f45b67c26cc75045ca)|`Simplifying the copying.`|



---

archive/issue_comments_315345.json:
```json
{
    "body": "Changing commit from \"09320d95cc880c8fb1ae8a05795c7f9666f56a30\" to \"7594b9532a274d71b65a78f45b67c26cc75045ca\"",
    "created_at": "2015-04-14T15:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "09320d95cc880c8fb1ae8a05795c7f9666f56a30" to "7594b9532a274d71b65a78f45b67c26cc75045ca"



---

archive/issue_comments_315346.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-14T16:33:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315346",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_058270.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T23:01:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18050#event-58270"
}
```



---

archive/issue_comments_315347.json:
```json
{
    "body": "Changing branch from \"public/crystals/dual_equivalence-18050\" to \"7594b9532a274d71b65a78f45b67c26cc75045ca\"",
    "created_at": "2015-04-14T23:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315347",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/crystals/dual_equivalence-18050" to "7594b9532a274d71b65a78f45b67c26cc75045ca"



---

archive/issue_comments_315348.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-14T23:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18050#issuecomment-315348",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
