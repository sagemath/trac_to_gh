# Issue 18340: PARI/GP does not gracefully handle out-of-memory

archive/issues_018103.json:
```json
{
    "assignees": [],
    "body": "The following will eat all your memory:\n\n```\n$ ( ulimit -s unlimited; ./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py )\n```\nThis sets the stack size to \"unlimited\". The `gp` process which is executed by this doctest will then use a very large amount of memory.\n\nThis happens in particular with GNU `make` < 3.82 due to [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)\n\nThis can be solved by upgrading PARI/GP.\n\n**Upstream**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz)\n\n---\n\nSee https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion\n\n(Older) Thread on sage-release: [http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757)\n\nCC:  @jdemeyer\n\nKeywords: **PARI gp ptestlong doctesting lseries_ell.py**\n\nBranch/Commit: **[5249809](https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd)**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nReviewer: **Vincent Delecroix, John Cremona, Leif Leonhardy**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18340_\n\n",
    "closed_at": "2015-05-04T19:04:39Z",
    "created_at": "2015-04-29T22:17:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "PARI/GP does not gracefully handle out-of-memory",
    "type": "issue",
    "updated_at": "2015-05-04T19:04:39Z",
    "url": "https://github.com/sagemath/sage/issues/18340",
    "user": "https://github.com/novoselt"
}
```
The following will eat all your memory:

```
$ ( ulimit -s unlimited; ./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py )
```
This sets the stack size to "unlimited". The `gp` process which is executed by this doctest will then use a very large amount of memory.

This happens in particular with GNU `make` < 3.82 due to [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)

This can be solved by upgrading PARI/GP.

**Upstream**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz)

---

See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion

(Older) Thread on sage-release: [http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757)

CC:  @jdemeyer

Keywords: **PARI gp ptestlong doctesting lseries_ell.py**

Branch/Commit: **[5249809](https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd)**

Upstream: **Fixed upstream, but not in a stable release.**

Reviewer: **Vincent Delecroix, John Cremona, Leif Leonhardy**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/18340_





---

archive/issue_events_242992.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2015-04-29T22:17:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242992"
}
```



---

archive/issue_events_242993.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2015-04-29T22:17:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242993"
}
```



---

archive/issue_events_242994.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2015-04-29T22:17:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242994"
}
```



---

archive/issue_events_242995.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-30T00:10:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "title_is": "Memory issues while testing (gp process)",
    "title_was": "Memory issues while testing",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242995"
}
```



---

archive/issue_comments_254666.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nThis has also been reported on sage-release; it happens presumably since the last update of PARI.",
    "created_at": "2015-04-30T00:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254666",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:1" align="right">Comment 1</div>

This has also been reported on sage-release; it happens presumably since the last update of PARI.



---

archive/issue_comments_254667.json:
```json
{
    "body": "Changed keywords from **** to **PARI gp ptestlong doctesting**",
    "created_at": "2015-04-30T00:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254667",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **** to **PARI gp ptestlong doctesting**



---

archive/issue_comments_254668.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nFor me, on one machine it happens each time I run `make ptestlong` unless I delete `~/.sage/timings*` before doing so.  (Deleting these files \"disables\" the IMHO useless and rather counter-productive *sorting of doctests by previous runtime*.)\n\nJohn C. reported it happened to him even with `make testlong`, i.e., without testing in parallel.",
    "created_at": "2015-04-30T00:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254668",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:2" align="right">Comment 2</div>

For me, on one machine it happens each time I run `make ptestlong` unless I delete `~/.sage/timings*` before doing so.  (Deleting these files "disables" the IMHO useless and rather counter-productive *sorting of doctests by previous runtime*.)

John C. reported it happened to him even with `make testlong`, i.e., without testing in parallel.



---

archive/issue_comments_254669.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,11 @@\n See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion\n+\n+---\n+\n+Work-around I currently use (with `bash`):\n+\n+```\n+$ (ulimit -v 4000000; make ptestlong)  # e.g.; limits virtual memory\n+                                       # of *each* (sub)process to ~4MB\n+```\n+Interestingly, all test pass despite the greedy `gp` process getting killed.\n``````\n",
    "created_at": "2015-04-30T00:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254669",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,11 @@
 See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion
+
+---
+
+Work-around I currently use (with `bash`):
+
+```
+$ (ulimit -v 4000000; make ptestlong)  # e.g.; limits virtual memory
+                                       # of *each* (sub)process to ~4MB
+```
+Interestingly, all test pass despite the greedy `gp` process getting killed.
``````




---

archive/issue_comments_254670.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nOoops, GB, not MB... 8)",
    "created_at": "2015-04-30T00:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254670",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:3" align="right">Comment 3</div>

Ooops, GB, not MB... 8)



---

archive/issue_comments_254671.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,6 @@\n \n ```\n $ (ulimit -v 4000000; make ptestlong)  # e.g.; limits virtual memory\n-                                       # of *each* (sub)process to ~4MB\n+                                       # of *each* (sub)process to ~4GB\n ```\n Interestingly, all test pass despite the greedy `gp` process getting killed.\n``````\n",
    "created_at": "2015-04-30T00:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254671",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,6 @@
 
 ```
 $ (ulimit -v 4000000; make ptestlong)  # e.g.; limits virtual memory
-                                       # of *each* (sub)process to ~4MB
+                                       # of *each* (sub)process to ~4GB
 ```
 Interestingly, all test pass despite the greedy `gp` process getting killed.
``````




---

archive/issue_comments_254672.json:
```json
{
    "body": "Changed keywords from **PARI gp ptestlong doctesting** to **PARI gp ptestlong doctesting lseries_ell.py**",
    "created_at": "2015-04-30T00:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254672",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **PARI gp ptestlong doctesting** to **PARI gp ptestlong doctesting lseries_ell.py**



---

archive/issue_comments_254673.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion\n+\n+(Older) Thread on sage-release: [http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757)\n \n ---\n \n``````\n",
    "created_at": "2015-04-30T00:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254673",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion
+
+(Older) Thread on sage-release: [http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757)
 
 ---
 
``````




---

archive/issue_comments_254674.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nWhy don't we always limit doctesting by some sensible number (4GB per process seems fine to me) and report failed tests if it is triggered? It is one thing when my old laptop get unresponsive with a new version of Sage, it is a completely different story when \"my\" server goes down which is used by several researches and hundreds of students.",
    "created_at": "2015-04-30T00:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254674",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:5" align="right">Comment 5</div>

Why don't we always limit doctesting by some sensible number (4GB per process seems fine to me) and report failed tests if it is triggered? It is one thing when my old laptop get unresponsive with a new version of Sage, it is a completely different story when "my" server goes down which is used by several researches and hundreds of students.



---

archive/issue_comments_254675.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nWell, whether `ulimit` works depends on the OS AFAIK.\n\nAnd as I said, I do not even get a \"Killed\" from Sage; the doctest passes even though its child process got killed.\n\nI haven't yet been able to reproduce this other than by running `make ptestlong`;  `./sage -tp --long --warn-long 0.0001 src/sage/schemes/elliptic_curves/` for example doesn't show the behaviour even on an already loaded machine.",
    "created_at": "2015-04-30T01:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254675",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:6" align="right">Comment 6</div>

Well, whether `ulimit` works depends on the OS AFAIK.

And as I said, I do not even get a "Killed" from Sage; the doctest passes even though its child process got killed.

I haven't yet been able to reproduce this other than by running `make ptestlong`;  `./sage -tp --long --warn-long 0.0001 src/sage/schemes/elliptic_curves/` for example doesn't show the behaviour even on an already loaded machine.



---

archive/issue_comments_254676.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@nexttime](#comment%3A6):\n> I haven't yet been able to reproduce this other than by running `make ptestlong`;  `./sage -tp --long --warn-long 0.0001 src/sage/schemes/elliptic_curves/` for example doesn't show the behaviour even on an already loaded machine.\n\nVaguely thought of that already, and we indeed need (GNU) `make`, and a sufficiently old one:\n\n```sh\necho \"WARNING:  'gp' may eat up up to ~16GB with the following\"\n(ulimit -v 16000000; printf \"all:\\n\\t./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py\\n\" | make -f -)\n```\n\nWith `make` 3.81, `gp` runs amok; with `make` 4.1, everything's fine.\n\n(We had a similar issue with ECL and/or GAP quite a while ago IIRC, and the `make` version without issues was 3.82 and later I think.)",
    "created_at": "2015-04-30T02:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254676",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@nexttime](#comment%3A6):
> I haven't yet been able to reproduce this other than by running `make ptestlong`;  `./sage -tp --long --warn-long 0.0001 src/sage/schemes/elliptic_curves/` for example doesn't show the behaviour even on an already loaded machine.

Vaguely thought of that already, and we indeed need (GNU) `make`, and a sufficiently old one:

```sh
echo "WARNING:  'gp' may eat up up to ~16GB with the following"
(ulimit -v 16000000; printf "all:\n\t./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py\n" | make -f -)
```

With `make` 3.81, `gp` runs amok; with `make` 4.1, everything's fine.

(We had a similar issue with ECL and/or GAP quite a while ago IIRC, and the `make` version without issues was 3.82 and later I think.)



---

archive/issue_comments_254677.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\n\n```\nnovoselt@sagenb:~$ make --version\nGNU Make 3.81\nCopyright (C) 2006  Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\nPARTICULAR PURPOSE.\n\nThis program built for x86_64-pc-linux-gnu\n```\nECL fails some tests on this machine unless I compile with some flags for Bulldozer... I guess updating to jessie may help, but I can't risk breaking things right before the term starts.",
    "created_at": "2015-04-30T02:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254677",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:8" align="right">Comment 8</div>


```
novoselt@sagenb:~$ make --version
GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for x86_64-pc-linux-gnu
```
ECL fails some tests on this machine unless I compile with some flags for Bulldozer... I guess updating to jessie may help, but I can't risk breaking things right before the term starts.



---

archive/issue_comments_254678.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIn case it's really GNU make's fault: [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)\n\nFixed in 3.82, as I guessed.\n\nNote that not just Ubuntu 10.04, but also 12.04 and even 14.04!!! (just checked and couldn't believe) still come with the dead old and broken version 3.81 of 2006.",
    "created_at": "2015-04-30T03:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254678",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">Comment 9</div>

In case it's really GNU make's fault: [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)

Fixed in 3.82, as I guessed.

Note that not just Ubuntu 10.04, but also 12.04 and even 14.04!!! (just checked and couldn't believe) still come with the dead old and broken version 3.81 of 2006.



---

archive/issue_comments_254679.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@novoselt](#comment%3A8):\n> \n> ```\n> novoselt@sagenb:~$ make --version\n> GNU Make 3.81\n> Copyright (C) 2006  Free Software Foundation, Inc.\n> This is free software; see the source for copying conditions.\n> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\n> PARTICULAR PURPOSE.\n> \n> This program built for x86_64-pc-linux-gnu\n> ```\n> ECL fails some tests on this machine unless I compile with some flags for Bulldozer... I guess updating to jessie may help, but I can't risk breaking things right before the term starts.\n\nWell, just grab some newer version (3.82, 4.0 or 4.1) from [http://ftp.gnu.org/gnu/make/](http://ftp.gnu.org/gnu/make/), untar it, and run `configure && make && sudo make install` (by default into `/usr/local`).",
    "created_at": "2015-04-30T03:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254679",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@novoselt](#comment%3A8):
> 
> ```
> novoselt@sagenb:~$ make --version
> GNU Make 3.81
> Copyright (C) 2006  Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.
> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
> PARTICULAR PURPOSE.
> 
> This program built for x86_64-pc-linux-gnu
> ```
> ECL fails some tests on this machine unless I compile with some flags for Bulldozer... I guess updating to jessie may help, but I can't risk breaking things right before the term starts.

Well, just grab some newer version (3.82, 4.0 or 4.1) from [http://ftp.gnu.org/gnu/make/](http://ftp.gnu.org/gnu/make/), untar it, and run `configure && make && sudo make install` (by default into `/usr/local`).



---

archive/issue_comments_254680.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@nexttime](#comment%3A9):\n> In case it's really GNU make's fault: [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)\n\nHmmm, I'm still not sure whether it's really this.  Ubuntu apparently patched their `make`, as it does **not** touch the resource limits, while my GNU make 4.1 limits the stack size to 8MB (soft):\n\n```sh\nfor make in /usr/local/bin/make /usr/bin/make; do $make --version | head -1; printf \"all:\\n\\t: ; ulimit -sH\\n\\t: ; ulimit -sS\\n\" | $make -f -; done\nGNU Make 4.1\n: ; ulimit -sH\nunlimited\n: ; ulimit -sS\n8192\nGNU Make 3.81\n: ; ulimit -sH\nunlimited\n: ; ulimit -sS\nunlimited\n```\n\nAnother cause could be GNU make 3.81 messing up file descriptors somehow.",
    "created_at": "2015-04-30T04:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254680",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@nexttime](#comment%3A9):
> In case it's really GNU make's fault: [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)

Hmmm, I'm still not sure whether it's really this.  Ubuntu apparently patched their `make`, as it does **not** touch the resource limits, while my GNU make 4.1 limits the stack size to 8MB (soft):

```sh
for make in /usr/local/bin/make /usr/bin/make; do $make --version | head -1; printf "all:\n\t: ; ulimit -sH\n\t: ; ulimit -sS\n" | $make -f -; done
GNU Make 4.1
: ; ulimit -sH
unlimited
: ; ulimit -sS
8192
GNU Make 3.81
: ; ulimit -sH
unlimited
: ; ulimit -sS
unlimited
```

Another cause could be GNU make 3.81 messing up file descriptors somehow.



---

archive/issue_comments_254681.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@nexttime](#comment%3A10):\n> Well, just grab some newer version (3.82, 4.0 or 4.1) from [http://ftp.gnu.org/gnu/make/](http://ftp.gnu.org/gnu/make/), untar it, and run `configure && make && sudo make install` (by default into `/usr/local`).\n\nAlternatively, I can just not test Sage. But it does not fix the issue for other users. If it is a bug in `make`, but it is a widely adopted version, it still makes sense to work around it. Wheezy is likely to be around for another 3 years.",
    "created_at": "2015-04-30T04:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254681",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@nexttime](#comment%3A10):
> Well, just grab some newer version (3.82, 4.0 or 4.1) from [http://ftp.gnu.org/gnu/make/](http://ftp.gnu.org/gnu/make/), untar it, and run `configure && make && sudo make install` (by default into `/usr/local`).

Alternatively, I can just not test Sage. But it does not fix the issue for other users. If it is a bug in `make`, but it is a widely adopted version, it still makes sense to work around it. Wheezy is likely to be around for another 3 years.



---

archive/issue_comments_254682.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@nexttime](#comment%3A11):\n> Replying to [@nexttime](#comment%3A9):\n> > In case it's really GNU make's fault: [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)\n\n> \n> Hmmm, I'm still not sure whether it's really this.  Ubuntu apparently patched their `make`, as it does **not** touch the resource limits, while my GNU make 4.1 limits the stack size to 8MB (soft):\n> \n> ```sh\n> for make in /usr/local/bin/make /usr/bin/make; do $make --version | head -1; printf \"all:\\n\\t: ; ulimit -sH\\n\\t: ; ulimit -sS\\n\" | $make -f -; done\n> GNU Make 4.1\n> : ; ulimit -sH\n> unlimited\n> : ; ulimit -sS\n> 8192\n> GNU Make 3.81\n> : ; ulimit -sH\n> unlimited\n> : ; ulimit -sS\n> unlimited\n> ```\n\nWhat is the `ulimit -s` outside of `make`? I get\n\n```\njdemeyer@tamiyo:~$ ulimit -s\n8192\n```\nso if `make` changes that to `unlimited`, that's [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010) indeed.",
    "created_at": "2015-04-30T05:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254682",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@nexttime](#comment%3A11):
> Replying to [@nexttime](#comment%3A9):
> > In case it's really GNU make's fault: [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)

> 
> Hmmm, I'm still not sure whether it's really this.  Ubuntu apparently patched their `make`, as it does **not** touch the resource limits, while my GNU make 4.1 limits the stack size to 8MB (soft):
> 
> ```sh
> for make in /usr/local/bin/make /usr/bin/make; do $make --version | head -1; printf "all:\n\t: ; ulimit -sH\n\t: ; ulimit -sS\n" | $make -f -; done
> GNU Make 4.1
> : ; ulimit -sH
> unlimited
> : ; ulimit -sS
> 8192
> GNU Make 3.81
> : ; ulimit -sH
> unlimited
> : ; ulimit -sS
> unlimited
> ```

What is the `ulimit -s` outside of `make`? I get

```
jdemeyer@tamiyo:~$ ulimit -s
8192
```
so if `make` changes that to `unlimited`, that's [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010) indeed.



---

archive/issue_comments_254683.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@novoselt](#comment%3A12):\n> If it is a bug in `make`, but it is a widely adopted version, it still makes sense to work around it. Wheezy is likely to be around for another 3 years.\n\nThe fixed version of GNU `make` has been released almost 5 years ago. There is really no excuse for still using `make` 3.81. Like leif said, you can easily install that manually outside of the distro.",
    "created_at": "2015-04-30T05:38:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254683",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@novoselt](#comment%3A12):
> If it is a bug in `make`, but it is a widely adopted version, it still makes sense to work around it. Wheezy is likely to be around for another 3 years.

The fixed version of GNU `make` has been released almost 5 years ago. There is really no excuse for still using `make` 3.81. Like leif said, you can easily install that manually outside of the distro.



---

archive/issue_events_242996.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-30T08:03:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242996"
}
```



---

archive/issue_events_242997.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-30T08:03:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "title_is": "If given unlimited stack, gp uses it all",
    "title_was": "Memory issues while testing (gp process)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242997"
}
```



---

archive/issue_comments_254684.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,14 @@\n+The following will eat all your memory:\n+\n+```\n+$ ( ulimit -s unlimited; ./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py )\n+```\n+This sets the stack size to \"unlimited\". The `gp` process which is executed by this doctest will then use a very large amount of memory.\n+\n+This happens in particular with GNU `make` < 3.82 due to [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)\n+\n+---\n+\n See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion\n \n (Older) Thread on sage-release: [http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757)\n-\n----\n-\n-Work-around I currently use (with `bash`):\n-\n-```\n-$ (ulimit -v 4000000; make ptestlong)  # e.g.; limits virtual memory\n-                                       # of *each* (sub)process to ~4GB\n-```\n-Interestingly, all test pass despite the greedy `gp` process getting killed.\n``````\n",
    "created_at": "2015-04-30T08:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254684",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,14 @@
+The following will eat all your memory:
+
+```
+$ ( ulimit -s unlimited; ./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py )
+```
+This sets the stack size to "unlimited". The `gp` process which is executed by this doctest will then use a very large amount of memory.
+
+This happens in particular with GNU `make` < 3.82 due to [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)
+
+---
+
 See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion
 
 (Older) Thread on sage-release: [http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757](http://thread.gmane.org/gmane.comp.mathematics.sage.release/2757)
-
----
-
-Work-around I currently use (with `bash`):
-
-```
-$ (ulimit -v 4000000; make ptestlong)  # e.g.; limits virtual memory
-                                       # of *each* (sub)process to ~4GB
-```
-Interestingly, all test pass despite the greedy `gp` process getting killed.
``````




---

archive/issue_comments_254685.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nI can confirm the issue.",
    "created_at": "2015-04-30T08:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254685",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">Comment 15</div>

I can confirm the issue.



---

archive/issue_comments_254686.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nI'm now trying to see why `gp` uses so much stack memory.",
    "created_at": "2015-04-30T08:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254686",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">Comment 16</div>

I'm now trying to see why `gp` uses so much stack memory.



---

archive/issue_comments_254687.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2015-04-30T08:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254687",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_254688.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nOK, this is my analysis: at some point, the dokchitser `gp` script is really trying to compute a vector of length `348804762364674`. This obviously fails with a PARI stack overflow (this \"stack\" has nothing to do with the `ulimit -s` stack). As a result, Sage tries to increase `gp`'s memory with the `allocatemem()` command. But since this vector is really too big, it fails no matter how much memory is allocated. At some point, allocating more memory from the system fails and it seems that PARI/GP does not gracefully handle this out-of-memory condition.\n\nThe solution: upgrade PARI/GP.",
    "created_at": "2015-04-30T08:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254688",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

OK, this is my analysis: at some point, the dokchitser `gp` script is really trying to compute a vector of length `348804762364674`. This obviously fails with a PARI stack overflow (this "stack" has nothing to do with the `ulimit -s` stack). As a result, Sage tries to increase `gp`'s memory with the `allocatemem()` command. But since this vector is really too big, it fails no matter how much memory is allocated. At some point, allocating more memory from the system fails and it seems that PARI/GP does not gracefully handle this out-of-memory condition.

The solution: upgrade PARI/GP.



---

archive/issue_comments_254689.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,10 @@\n \n This happens in particular with GNU `make` < 3.82 due to [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)\n \n+This can be solved by upgrading PARI/GP.\n+\n+**Upstream**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz)\n+\n ---\n \n See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion\n``````\n",
    "created_at": "2015-04-30T09:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254689",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,10 @@
 
 This happens in particular with GNU `make` < 3.82 due to [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010)
 
+This can be solved by upgrading PARI/GP.
+
+**Upstream**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.8-1545-gd04cdd3.tar.gz)
+
 ---
 
 See https://groups.google.com/d/topic/sage-devel/ydDfHsCxpAc/discussion
``````




---

archive/issue_comments_254690.json:
```json
{
    "body": "Branch: **[u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all)**",
    "created_at": "2015-04-30T09:57:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254690",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all)**



---

archive/issue_comments_254691.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nThis fixes the issue, currently running `make ptestlong`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84ebf31d352e519253a07247c9fe2d3c3fa85b6a\">84ebf31</a></td><td><code>Upgrade PARI/GP</code></td></tr></table>\n",
    "created_at": "2015-04-30T09:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254691",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">Comment 20</div>

This fixes the issue, currently running `make ptestlong`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84ebf31d352e519253a07247c9fe2d3c3fa85b6a">84ebf31</a></td><td><code>Upgrade PARI/GP</code></td></tr></table>




---

archive/issue_comments_254692.json:
```json
{
    "body": "Commit: **[84ebf31](https://github.com/sagemath/sagetrac-mirror/commit/84ebf31d352e519253a07247c9fe2d3c3fa85b6a)**",
    "created_at": "2015-04-30T09:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254692",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[84ebf31](https://github.com/sagemath/sagetrac-mirror/commit/84ebf31d352e519253a07247c9fe2d3c3fa85b6a)**



---

archive/issue_events_242998.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-30T09:58:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242998"
}
```



---

archive/issue_comments_254693.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nThis is **not** floating point noise\n\n```diff\n sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')\n- 85.1885681951527\n+ 84.1818153922297\n```\nThe value of the integral computed with gsl is\n\n```\nsage: numerical_integral(sin(x)+sin(x^2)+x,0,13)\n(85.18856819515268, 1.3572929447036586e-09)\n```\nSo Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.",
    "created_at": "2015-04-30T10:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254693",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">Comment 21</div>

This is **not** floating point noise

```diff
 sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')
- 85.1885681951527
+ 84.1818153922297
```
The value of the integral computed with gsl is

```
sage: numerical_integral(sin(x)+sin(x^2)+x,0,13)
(85.18856819515268, 1.3572929447036586e-09)
```
So Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.



---

archive/issue_comments_254694.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da46c953bd22e80790ec6437cfe529484c858dec\">da46c95</a></td><td><code>Auto-generated PARI files should depend on decl.pxi</code></td></tr></table>\n",
    "created_at": "2015-04-30T10:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254694",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da46c953bd22e80790ec6437cfe529484c858dec">da46c95</a></td><td><code>Auto-generated PARI files should depend on decl.pxi</code></td></tr></table>




---

archive/issue_comments_254695.json:
```json
{
    "body": "Changed commit from **[84ebf31](https://github.com/sagemath/sagetrac-mirror/commit/84ebf31d352e519253a07247c9fe2d3c3fa85b6a)** to **[da46c95](https://github.com/sagemath/sagetrac-mirror/commit/da46c953bd22e80790ec6437cfe529484c858dec)**",
    "created_at": "2015-04-30T10:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254695",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[84ebf31](https://github.com/sagemath/sagetrac-mirror/commit/84ebf31d352e519253a07247c9fe2d3c3fa85b6a)** to **[da46c95](https://github.com/sagemath/sagetrac-mirror/commit/da46c953bd22e80790ec6437cfe529484c858dec)**



---

archive/issue_events_242999.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-30T10:15:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-242999"
}
```



---

archive/issue_events_243000.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-30T10:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243000"
}
```



---

archive/issue_comments_254696.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2015-04-30T10:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254696",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_254697.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@videlec](#comment%3A21):\n> This is **not** floating point noise\n> \n> ```diff\n>  sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')\n> - 85.1885681951527\n> + 84.1818153922297\n> ```\n> The value of the integral computed with gsl is\n> \n> ```\n> sage: numerical_integral(sin(x)+sin(x^2)+x,0,13)\n> (85.18856819515268, 1.3572929447036586e-09)\n> ```\n> So Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.\n\nIt's much worse. Note the `85` became `84`.",
    "created_at": "2015-04-30T10:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254697",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@videlec](#comment%3A21):
> This is **not** floating point noise
> 
> ```diff
>  sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')
> - 85.1885681951527
> + 84.1818153922297
> ```
> The value of the integral computed with gsl is
> 
> ```
> sage: numerical_integral(sin(x)+sin(x^2)+x,0,13)
> (85.18856819515268, 1.3572929447036586e-09)
> ```
> So Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.

It's much worse. Note the `85` became `84`.



---

archive/issue_comments_254698.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@jdemeyer](#comment%3A24):\n> Replying to [@videlec](#comment%3A21):\n> > This is **not** floating point noise\n> > \n> > ```diff\n> >  sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')\n> > - 85.1885681951527\n> > + 84.1818153922297\n> > ```\n> > The value of the integral computed with gsl is\n> > \n> > ```\n> > sage: numerical_integral(sin(x)+sin(x^2)+x,0,13)\n> > (85.18856819515268, 1.3572929447036586e-09)\n> > ```\n> > So Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.\n\n> It's much worse. Note the `85` became `84`.\n\nIndeed! I can confirm the behavior on the freshly compiled pari master `development 17795-d04cdd3`.",
    "created_at": "2015-04-30T10:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254698",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@jdemeyer](#comment%3A24):
> Replying to [@videlec](#comment%3A21):
> > This is **not** floating point noise
> > 
> > ```diff
> >  sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')
> > - 85.1885681951527
> > + 84.1818153922297
> > ```
> > The value of the integral computed with gsl is
> > 
> > ```
> > sage: numerical_integral(sin(x)+sin(x^2)+x,0,13)
> > (85.18856819515268, 1.3572929447036586e-09)
> > ```
> > So Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.

> It's much worse. Note the `85` became `84`.

Indeed! I can confirm the behavior on the freshly compiled pari master `development 17795-d04cdd3`.



---

archive/issue_comments_254699.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@videlec](#comment%3A25):\n> Replying to [@jdemeyer](#comment%3A24):\n> > Replying to [@videlec](#comment%3A21):\n> > > This is **not** floating point noise\n> > > \n> > > ```diff\n> > >  sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')\n> > > - 85.1885681951527\n> > > + 84.1818153922297\n> > > ```\n> > > The value of the integral computed with gsl is\n> > > \n> > > ```\n> > > sage: numerical_integral(sin(x)+sin(x^2)+x,0,13)\n> > > (85.18856819515268, 1.3572929447036586e-09)\n> > > ```\n> > > So Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.\n\n> > It's much worse. Note the `85` became `84`.\n\n> \n> Indeed! I can confirm the behavior on the freshly compiled pari master `development 17795-d04cdd3`.\n\nThis is rather disjoint from this ticket, I opened #18342 to track the issue.",
    "created_at": "2015-04-30T10:27:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254699",
    "user": "https://github.com/videlec"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@videlec](#comment%3A25):
> Replying to [@jdemeyer](#comment%3A24):
> > Replying to [@videlec](#comment%3A21):
> > > This is **not** floating point noise
> > > 
> > > ```diff
> > >  sage: pari('intnum(x=0,13,sin(x)+sin(x^2) + x)')
> > > - 85.1885681951527
> > > + 84.1818153922297
> > > ```
> > > The value of the integral computed with gsl is
> > > 
> > > ```
> > > sage: numerical_integral(sin(x)+sin(x^2)+x,0,13)
> > > (85.18856819515268, 1.3572929447036586e-09)
> > > ```
> > > So Pari was right up to 10<sup>-11</sup> and now it gets down to 10<sup>-4</sup>. This is not acceptable.

> > It's much worse. Note the `85` became `84`.

> 
> Indeed! I can confirm the behavior on the freshly compiled pari master `development 17795-d04cdd3`.

This is rather disjoint from this ticket, I opened #18342 to track the issue.



---

archive/issue_comments_254700.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nThere are also doctest failures in `src/sage/calculus/calculus.py` due to this.",
    "created_at": "2015-04-30T11:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254700",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">Comment 27</div>

There are also doctest failures in `src/sage/calculus/calculus.py` due to this.



---

archive/issue_comments_254701.json:
```json
{
    "body": "Changed commit from **[da46c95](https://github.com/sagemath/sagetrac-mirror/commit/da46c953bd22e80790ec6437cfe529484c858dec)** to **[23a0110](https://github.com/sagemath/sagetrac-mirror/commit/23a01103840dd8dd37197f7a18c9b1ac8635bd47)**",
    "created_at": "2015-04-30T11:43:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254701",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[da46c95](https://github.com/sagemath/sagetrac-mirror/commit/da46c953bd22e80790ec6437cfe529484c858dec)** to **[23a0110](https://github.com/sagemath/sagetrac-mirror/commit/23a01103840dd8dd37197f7a18c9b1ac8635bd47)**



---

archive/issue_comments_254702.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23a01103840dd8dd37197f7a18c9b1ac8635bd47\">23a0110</a></td><td><code>Fix call to PARI qfminim() in shortest_vector()</code></td></tr></table>\n",
    "created_at": "2015-04-30T11:43:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254702",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28" align="right">Comment 28</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23a01103840dd8dd37197f7a18c9b1ac8635bd47">23a0110</a></td><td><code>Fix call to PARI qfminim() in shortest_vector()</code></td></tr></table>




---

archive/issue_comments_254703.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@jdemeyer](#comment%3A13):\n> What is the `ulimit -s` outside of `make`? I get\n> \n> ```\n> jdemeyer@tamiyo:~$ ulimit -s\n> 8192\n> ```\n> so if `make` changes that to `unlimited`, that's [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010) indeed.\n\nYep, missed that:  Outside of `make`, the stack size is (already) soft-limited to 8MB, which GNU make 3.81 in the distros resets to `unlimited`.\n\nThe original bug report was actually about the opposite:  Changing it from `unlimited` to some huge value.\n\nBut the real bug is that (the old) `make` touches the resource limits of (non-`make`) subprocesses at all.",
    "created_at": "2015-04-30T13:46:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254703",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@jdemeyer](#comment%3A13):
> What is the `ulimit -s` outside of `make`? I get
> 
> ```
> jdemeyer@tamiyo:~$ ulimit -s
> 8192
> ```
> so if `make` changes that to `unlimited`, that's [https://savannah.gnu.org/bugs/?22010](https://savannah.gnu.org/bugs/?22010) indeed.

Yep, missed that:  Outside of `make`, the stack size is (already) soft-limited to 8MB, which GNU make 3.81 in the distros resets to `unlimited`.

The original bug report was actually about the opposite:  Changing it from `unlimited` to some huge value.

But the real bug is that (the old) `make` touches the resource limits of (non-`make`) subprocesses at all.



---

archive/issue_comments_254704.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11ce9814729ea25384715b293ea3711f0354b6a2\">11ce981</a></td><td><code>More integration doctest fixes</code></td></tr></table>\n",
    "created_at": "2015-05-02T06:35:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254704",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30" align="right">Comment 30</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11ce9814729ea25384715b293ea3711f0354b6a2">11ce981</a></td><td><code>More integration doctest fixes</code></td></tr></table>




---

archive/issue_comments_254705.json:
```json
{
    "body": "Changed commit from **[23a0110](https://github.com/sagemath/sagetrac-mirror/commit/23a01103840dd8dd37197f7a18c9b1ac8635bd47)** to **[11ce981](https://github.com/sagemath/sagetrac-mirror/commit/11ce9814729ea25384715b293ea3711f0354b6a2)**",
    "created_at": "2015-05-02T06:35:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254705",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[23a0110](https://github.com/sagemath/sagetrac-mirror/commit/23a01103840dd8dd37197f7a18c9b1ac8635bd47)** to **[11ce981](https://github.com/sagemath/sagetrac-mirror/commit/11ce9814729ea25384715b293ea3711f0354b6a2)**



---

archive/issue_events_243001.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-02T06:36:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243001"
}
```



---

archive/issue_events_243002.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-02T06:36:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243002"
}
```



---

archive/issue_events_243003.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-02T06:37:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "title_is": "PARI/GP does not gracefully handle out-of-memory",
    "title_was": "If given unlimited stack, gp uses it all",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243003"
}
```



---

archive/issue_comments_254706.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nBut *\"PARI/GP does not gracefully handle out-of-memory\"* is *\"Fixed upstream, but not in a stable release\"*, right?",
    "created_at": "2015-05-02T15:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254706",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:33" align="right">Comment 33</div>

But *"PARI/GP does not gracefully handle out-of-memory"* is *"Fixed upstream, but not in a stable release"*, right?



---

archive/issue_comments_254707.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2015-05-02T16:45:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254707",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_254708.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nUsing bzip2 would save 0.5 MB... (2.9 MB vs. 3.4 MB)",
    "created_at": "2015-05-02T16:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254708",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:35" align="right">Comment 35</div>

Using bzip2 would save 0.5 MB... (2.9 MB vs. 3.4 MB)



---

archive/issue_comments_254709.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nWith Sage 6.7.beta3 and GCC 5.1.0 on Linux x86_64, PARI and eclib pass their test suites (Lcalc no longer has one), and ptestlong passes modulo one unrelated test (I already reported for 6.7.beta3 on sage-release).\n\nAlso\n\n```sh\n(ulimit -s unlimited; ./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py)\n```\nworks as expected.\n\nHaven't looked very closely at the patches though.\n\nThe changed behaviour of PARI's `intnum()` should IMHO be documented, on #18342, where also the doctest could be changed (not just its output).",
    "created_at": "2015-05-02T17:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254709",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:36" align="right">Comment 36</div>

With Sage 6.7.beta3 and GCC 5.1.0 on Linux x86_64, PARI and eclib pass their test suites (Lcalc no longer has one), and ptestlong passes modulo one unrelated test (I already reported for 6.7.beta3 on sage-release).

Also

```sh
(ulimit -s unlimited; ./sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py)
```
works as expected.

Haven't looked very closely at the patches though.

The changed behaviour of PARI's `intnum()` should IMHO be documented, on #18342, where also the doctest could be changed (not just its output).



---

archive/issue_comments_254710.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nP.S.:\n\nThese aren't new, i.e., no regression:\n\n```\n../src/modules/mpqs.c:376:16: warning: array subscript is above array bounds [-Warray-bounds]\n../src/modules/mpqs.c:378:22: warning: array subscript is above array bounds [-Warray-bounds]\n../src/modules/mpqs.c:380:24: warning: array subscript is above array bounds [-Warray-bounds]\n../src/modules/mpqs.c:380:24: warning: array subscript is above array bounds [-Warray-bounds]\n../src/modules/mpqs.c:381:14: warning: array subscript is above array bounds [-Warray-bounds]\n```",
    "created_at": "2015-05-02T17:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254710",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:37" align="right">Comment 37</div>

P.S.:

These aren't new, i.e., no regression:

```
../src/modules/mpqs.c:376:16: warning: array subscript is above array bounds [-Warray-bounds]
../src/modules/mpqs.c:378:22: warning: array subscript is above array bounds [-Warray-bounds]
../src/modules/mpqs.c:380:24: warning: array subscript is above array bounds [-Warray-bounds]
../src/modules/mpqs.c:380:24: warning: array subscript is above array bounds [-Warray-bounds]
../src/modules/mpqs.c:381:14: warning: array subscript is above array bounds [-Warray-bounds]
```



---

archive/issue_comments_254711.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nOk, patches look reasonable as well.",
    "created_at": "2015-05-02T17:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254711",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:38" align="right">Comment 38</div>

Ok, patches look reasonable as well.



---

archive/issue_comments_254712.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nJust triggered a build on a (slow) x86 machine; this will presumably take at least half a day...",
    "created_at": "2015-05-02T21:49:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254712",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:39" align="right">Comment 39</div>

Just triggered a build on a (slow) x86 machine; this will presumably take at least half a day...



---

archive/issue_comments_254713.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nLooks good to me -- all tests pass (64 bit).  If Leif's test passes OK on a 32-bit machine let's approve this.  Thanks, Jeroen.",
    "created_at": "2015-05-03T10:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254713",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:40" align="right">Comment 40</div>

Looks good to me -- all tests pass (64 bit).  If Leif's test passes OK on a 32-bit machine let's approve this.  Thanks, Jeroen.



---

archive/issue_comments_254714.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nReplying to [@nexttime](#comment%3A39):\n> Just triggered a build on a (slow) x86 machine; this will presumably take at least half a day...\n\nThat was probably an estimate for a few releases ago; the last test run is still in progress...",
    "created_at": "2015-05-03T22:09:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254714",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:41" align="right">Comment 41</div>

Replying to [@nexttime](#comment%3A39):
> Just triggered a build on a (slow) x86 machine; this will presumably take at least half a day...

That was probably an estimate for a few releases ago; the last test run is still in progress...



---

archive/issue_events_243004.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-04T06:00:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243004"
}
```



---

archive/issue_events_243005.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-04T06:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243005"
}
```



---

archive/issue_comments_254715.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nReplying to [@nexttime](#comment%3A41):\n> Replying to [@nexttime](#comment%3A39):\n> > Just triggered a build on a (slow) x86 machine; this will presumably take at least half a day...\n\n> \n> That was probably an estimate for a few releases ago; the last test run is still in progress...\n\nIt finally finished without errors.  (This was on a Pentium4 Prescott, Ubuntu 10.04.4, FSF GCC 4.8.2 with `-O3`, native build, FWIW.)\n\n\n\n\nI haven't tested building with FLTK, but it looks as if PARI's \"configure\" would meanwhile work.",
    "created_at": "2015-05-04T06:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254715",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:42" align="right">Comment 42</div>

Replying to [@nexttime](#comment%3A41):
> Replying to [@nexttime](#comment%3A39):
> > Just triggered a build on a (slow) x86 machine; this will presumably take at least half a day...

> 
> That was probably an estimate for a few releases ago; the last test run is still in progress...

It finally finished without errors.  (This was on a Pentium4 Prescott, Ubuntu 10.04.4, FSF GCC 4.8.2 with `-O3`, native build, FWIW.)




I haven't tested building with FLTK, but it looks as if PARI's "configure" would meanwhile work.



---

archive/issue_comments_254716.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix, John Cremona, Leif Leonhardy**",
    "created_at": "2015-05-04T06:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254716",
    "user": "https://github.com/nexttime"
}
```

Reviewer: **Vincent Delecroix, John Cremona, Leif Leonhardy**



---

archive/issue_comments_254717.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nOoops, just noticed `get_fltk.patch` should then also get removed from `patches/README.txt`, but that's really a minor issue.",
    "created_at": "2015-05-04T06:10:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254717",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:43" align="right">Comment 43</div>

Ooops, just noticed `get_fltk.patch` should then also get removed from `patches/README.txt`, but that's really a minor issue.



---

archive/issue_events_243006.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-05-04T06:44:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243006"
}
```



---

archive/issue_events_243007.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-05-04T06:44:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243007"
}
```



---

archive/issue_comments_254718.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd\">5249809</a></td><td><code>Remove mention of get_fltk.patch</code></td></tr></table>\n",
    "created_at": "2015-05-04T06:44:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254718",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44" align="right">Comment 44</div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd">5249809</a></td><td><code>Remove mention of get_fltk.patch</code></td></tr></table>




---

archive/issue_comments_254719.json:
```json
{
    "body": "Changed commit from **[11ce981](https://github.com/sagemath/sagetrac-mirror/commit/11ce9814729ea25384715b293ea3711f0354b6a2)** to **[5249809](https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd)**",
    "created_at": "2015-05-04T06:44:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254719",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[11ce981](https://github.com/sagemath/sagetrac-mirror/commit/11ce9814729ea25384715b293ea3711f0354b6a2)** to **[5249809](https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd)**



---

archive/issue_events_243008.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-04T06:48:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243008"
}
```



---

archive/issue_events_243009.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-04T06:48:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243009"
}
```



---

archive/issue_events_243010.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-04T19:04:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243010"
}
```



---

archive/issue_events_243011.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "da5382f242abb1b2bdfeb359c1b38695d1de6cf0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-04T19:04:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18340#event-243011"
}
```



---

archive/issue_comments_254720.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all)** to **[5249809](https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd)**",
    "created_at": "2015-05-04T19:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18340#issuecomment-254720",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/if_given_unlimited_stack__gp_uses_it_all)** to **[5249809](https://github.com/sagemath/sagetrac-mirror/commit/5249809481c4366e0ea5f9efc0f89b27ce7bc7fd)**
