# Issue 18839: Boost Dominator Tree

archive/issues_018602.json:
```json
{
    "assignees": [],
    "body": "Use Boost to compute the dominator tree of a digraph.\n\nThis function is not available in Sagemath.\n\nDepends on #18811\nDepends on #18564\n\nCC:  @nathanncohen @dcoudert\n\nKeywords: **Dominator tree, Boost**\n\nBranch/Commit: **[`b42de69`](https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d)**\n\nReviewer: **Nathann Cohen, David Coudert**\n\nAuthor: **Michele Borassi**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18839_\n\n",
    "closed_at": "2015-07-12T13:00:57Z",
    "created_at": "2015-07-02T08:16:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Boost Dominator Tree",
    "type": "issue",
    "updated_at": "2015-07-12T13:00:57Z",
    "url": "https://github.com/sagemath/sage/issues/18839",
    "user": "https://github.com/sagetrac-borassi"
}
```
Use Boost to compute the dominator tree of a digraph.

This function is not available in Sagemath.

Depends on #18811
Depends on #18564

CC:  @nathanncohen @dcoudert

Keywords: **Dominator tree, Boost**

Branch/Commit: **[`b42de69`](https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d)**

Reviewer: **Nathann Cohen, David Coudert**

Author: **Michele Borassi**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/18839_





---

archive/issue_events_265104.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-02T08:16:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265104"
}
```



---

archive/issue_events_265105.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-02T08:16:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265105"
}
```



---

archive/issue_events_265106.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-02T08:20:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265106"
}
```



---

archive/issue_comments_263411.json:
```json
{
    "body": "Dependencies: **18811, 18564**",
    "created_at": "2015-07-02T08:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263411",
    "user": "https://github.com/sagetrac-borassi"
}
```

Dependencies: **18811, 18564**



---

archive/issue_comments_263412.json:
```json
{
    "body": "Author: **Michele Borassi**",
    "created_at": "2015-07-02T08:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263412",
    "user": "https://github.com/sagetrac-borassi"
}
```

Author: **Michele Borassi**



---

archive/issue_events_265107.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-02T08:20:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265107"
}
```



---

archive/issue_comments_263413.json:
```json
{
    "body": "Changed keywords from none to **Dominator tree, Boost**",
    "created_at": "2015-07-02T08:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263413",
    "user": "https://github.com/sagetrac-borassi"
}
```

Changed keywords from none to **Dominator tree, Boost**



---

archive/issue_comments_263414.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+Use Boost to compute the dominator tree of a digraph.\n \n+This function is not available in Sagemath.\n``````\n",
    "created_at": "2015-07-02T08:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263414",
    "user": "https://github.com/sagetrac-borassi"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+Use Boost to compute the dominator tree of a digraph.
 
+This function is not available in Sagemath.
``````




---

archive/issue_comments_263415.json:
```json
{
    "body": "Changed dependencies from **18811, 18564** to **#18811, #18564**",
    "created_at": "2015-07-02T10:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263415",
    "user": "https://github.com/nathanncohen"
}
```

Changed dependencies from **18811, 18564** to **#18811, #18564**



---

archive/issue_comments_263416.json:
```json
{
    "body": "Branch: **[u/borassi/boost_dominator_tree](https://github.com/sagemath/sagetrac-mirror/tree/u/borassi/boost_dominator_tree)**",
    "created_at": "2015-07-02T10:47:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263416",
    "user": "https://github.com/sagetrac-borassi"
}
```

Branch: **[u/borassi/boost_dominator_tree](https://github.com/sagemath/sagetrac-mirror/tree/u/borassi/boost_dominator_tree)**



---

archive/issue_events_265108.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-02T10:48:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265108"
}
```



---

archive/issue_comments_263417.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis is the first draft of the Boost algorithm for computing dominator trees (see https://en.wikipedia.org/wiki/Dominator_%28graph_theory%29 for the definition of dominator tree).\n\n---\nNew commits:\n\n|                                                                                                                                                   |               |\n|---------------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n| [283c61b](https://github.com/sagemath/sagetrac-mirror/commit/283c61be9357902ff555843b27c0ffed6fed6ea4) | `First draft` |\n| [18bd01a](https://github.com/sagemath/sagetrac-mirror/commit/18bd01ab82cf0b9d064d4fe680f17df908bed0da) | `Applied Nathann's suggestions` |\n| [99bd994](https://github.com/sagemath/sagetrac-mirror/commit/99bd994335f70455d898c83f1a13b3d38e8f5064) | `Few corrections in the reference manual` |\n| [40df844](https://github.com/sagemath/sagetrac-mirror/commit/40df844cee8e59bc4bb57f5d7f4374e009053cb3) | `trac #18811: Review` |\n| [6c8d49b](https://github.com/sagemath/sagetrac-mirror/commit/6c8d49bc6d0101f897c489124d52c5e4a252a959) | `More reviewer comments` |\n| [c365d02](https://github.com/sagemath/sagetrac-mirror/commit/c365d0294528fac6b0487b48996da831efc96c44) | `Removed \"vertices is None\" from boost_clustering_coeff` |\n| [582ce34](https://github.com/sagemath/sagetrac-mirror/commit/582ce3466d9dff303532a84f9738cdd4f581d5a9) | `Changed for v in G.vertices() => for v in G` |\n| [6eb8a83](https://github.com/sagemath/sagetrac-mirror/commit/6eb8a83b5fe2040a665b3a4e79ecd2b67f3db63b) | `Added a typedef for vertex index (before, it was int).` |\n| [337726e](https://github.com/sagemath/sagetrac-mirror/commit/337726e2dcfbe1d8dc5bb61c9bd248e26bed7e99) | `First draft` |\n| [4d1b5ac](https://github.com/sagemath/sagetrac-mirror/commit/4d1b5ac6214a68ed2d918443bdac80f039dc2841) | `Removed trailing whitespaces` |",
    "created_at": "2015-07-02T10:48:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263417",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:5" align="right">comment:5</div>

This is the first draft of the Boost algorithm for computing dominator trees (see https://en.wikipedia.org/wiki/Dominator_%28graph_theory%29 for the definition of dominator tree).

---
New commits:

|                                                                                                                                                   |               |
|---------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| [283c61b](https://github.com/sagemath/sagetrac-mirror/commit/283c61be9357902ff555843b27c0ffed6fed6ea4) | `First draft` |
| [18bd01a](https://github.com/sagemath/sagetrac-mirror/commit/18bd01ab82cf0b9d064d4fe680f17df908bed0da) | `Applied Nathann's suggestions` |
| [99bd994](https://github.com/sagemath/sagetrac-mirror/commit/99bd994335f70455d898c83f1a13b3d38e8f5064) | `Few corrections in the reference manual` |
| [40df844](https://github.com/sagemath/sagetrac-mirror/commit/40df844cee8e59bc4bb57f5d7f4374e009053cb3) | `trac #18811: Review` |
| [6c8d49b](https://github.com/sagemath/sagetrac-mirror/commit/6c8d49bc6d0101f897c489124d52c5e4a252a959) | `More reviewer comments` |
| [c365d02](https://github.com/sagemath/sagetrac-mirror/commit/c365d0294528fac6b0487b48996da831efc96c44) | `Removed "vertices is None" from boost_clustering_coeff` |
| [582ce34](https://github.com/sagemath/sagetrac-mirror/commit/582ce3466d9dff303532a84f9738cdd4f581d5a9) | `Changed for v in G.vertices() => for v in G` |
| [6eb8a83](https://github.com/sagemath/sagetrac-mirror/commit/6eb8a83b5fe2040a665b3a4e79ecd2b67f3db63b) | `Added a typedef for vertex index (before, it was int).` |
| [337726e](https://github.com/sagemath/sagetrac-mirror/commit/337726e2dcfbe1d8dc5bb61c9bd248e26bed7e99) | `First draft` |
| [4d1b5ac](https://github.com/sagemath/sagetrac-mirror/commit/4d1b5ac6214a68ed2d918443bdac80f039dc2841) | `Removed trailing whitespaces` |



---

archive/issue_comments_263418.json:
```json
{
    "body": "Commit: **[`4d1b5ac`](https://github.com/sagemath/sagetrac-mirror/commit/4d1b5ac6214a68ed2d918443bdac80f039dc2841)**",
    "created_at": "2015-07-02T10:48:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263418",
    "user": "https://github.com/sagetrac-borassi"
}
```

Commit: **[`4d1b5ac`](https://github.com/sagemath/sagetrac-mirror/commit/4d1b5ac6214a68ed2d918443bdac80f039dc2841)**



---

archive/issue_comments_263419.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nNicely done.\n\nMay be you could combine methods  `dominator_tree_dictionary` and `dominator_tree` using an optional parameter (e.g., `return_dict=False`) ?\n\nActually I don't know which is the most useful: the tree or the dictionary.\n\nAlso, I suggest\n\n```\n- edges = [[v,dom_tree_dict[v]] for v in dom_tree_dict.keys() if dom_tree_dict[v] is not None]\n+ edges = [[v,dom_v] for v,dom_v in dom_tree_dict.iteritems() if not dom_v is None]\n```",
    "created_at": "2015-07-03T17:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263419",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:6" align="right">comment:6</div>

Nicely done.

May be you could combine methods  `dominator_tree_dictionary` and `dominator_tree` using an optional parameter (e.g., `return_dict=False`) ?

Actually I don't know which is the most useful: the tree or the dictionary.

Also, I suggest

```
- edges = [[v,dom_tree_dict[v]] for v in dom_tree_dict.keys() if dom_tree_dict[v] is not None]
+ edges = [[v,dom_v] for v,dom_v in dom_tree_dict.iteritems() if not dom_v is None]
```



---

archive/issue_comments_263420.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> May be you could combine methods  `dominator_tree_dictionary` and `dominator_tree` using an optional parameter (e.g., `return_dict=False`) ?\n\n+1\n\nAlso, you do not need to write two functions (with doc+test) when everything it does is call another function defined outside, in a module. You will find many such examples at the bottom of `generic_graph.py`.\n\nNathann",
    "created_at": "2015-07-03T17:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263420",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

> May be you could combine methods  `dominator_tree_dictionary` and `dominator_tree` using an optional parameter (e.g., `return_dict=False`) ?

+1

Also, you do not need to write two functions (with doc+test) when everything it does is call another function defined outside, in a module. You will find many such examples at the bottom of `generic_graph.py`.

Nathann



---

archive/issue_comments_263421.json:
```json
{
    "body": "Changed commit from **[`4d1b5ac`](https://github.com/sagemath/sagetrac-mirror/commit/4d1b5ac6214a68ed2d918443bdac80f039dc2841)** to **[`a6f3f9a`](https://github.com/sagemath/sagetrac-mirror/commit/a6f3f9accc844816a3fa720eb8abd154c4a3a805)**",
    "created_at": "2015-07-06T07:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263421",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4d1b5ac`](https://github.com/sagemath/sagetrac-mirror/commit/4d1b5ac6214a68ed2d918443bdac80f039dc2841)** to **[`a6f3f9a`](https://github.com/sagemath/sagetrac-mirror/commit/a6f3f9accc844816a3fa720eb8abd154c4a3a805)**



---

archive/issue_comments_263422.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6f3f9accc844816a3fa720eb8abd154c4a3a805\"><code>a6f3f9a</code></a></td><td><code>Reviewer's suggestions</code></td></tr></table>\n",
    "created_at": "2015-07-06T07:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263422",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6f3f9accc844816a3fa720eb8abd154c4a3a805"><code>a6f3f9a</code></a></td><td><code>Reviewer's suggestions</code></td></tr></table>




---

archive/issue_comments_263423.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nDone everything!",
    "created_at": "2015-07-06T07:44:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263423",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:9" align="right">comment:9</div>

Done everything!



---

archive/issue_comments_263424.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nInstall OK, docbuild OK, doc looks good.\n\nHowever, I have questions on the expected behavior:\n- with 1-vertex graph:\n\n```\nsage: G = graphs.PathGraph(1)\nsage: G.dominator_tree(0)\n{0: None}\nsage: G.dominator_tree(0, return_dict=False)\nGraph on 0 vertices\n```\n- With disconnected graphs\n\n```\nsage: G = 2 * graphs.PathGraph(1)\nsage: G.dominator_tree(0)\n{0: None, 1: None}\nsage: G = 2 * graphs.PathGraph(2)\nsage: G.dominator_tree(0)\n{0: None, 1: 0, 2: None, 3: None}\n```\nIf this is effectively what we expect, then I will finalize the review.",
    "created_at": "2015-07-06T15:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263424",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">comment:10</div>

Install OK, docbuild OK, doc looks good.

However, I have questions on the expected behavior:
- with 1-vertex graph:

```
sage: G = graphs.PathGraph(1)
sage: G.dominator_tree(0)
{0: None}
sage: G.dominator_tree(0, return_dict=False)
Graph on 0 vertices
```
- With disconnected graphs

```
sage: G = 2 * graphs.PathGraph(1)
sage: G.dominator_tree(0)
{0: None, 1: None}
sage: G = 2 * graphs.PathGraph(2)
sage: G.dominator_tree(0)
{0: None, 1: 0, 2: None, 3: None}
```
If this is effectively what we expect, then I will finalize the review.



---

archive/issue_comments_263425.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81e4ee11c8db417b6f5b5ec478da01bdcfd19ab7\"><code>81e4ee1</code></a></td><td><code>Added support if dominator tree is empty</code></td></tr></table>\n",
    "created_at": "2015-07-06T15:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263425",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81e4ee11c8db417b6f5b5ec478da01bdcfd19ab7"><code>81e4ee1</code></a></td><td><code>Added support if dominator tree is empty</code></td></tr></table>




---

archive/issue_comments_263426.json:
```json
{
    "body": "Changed commit from **[`a6f3f9a`](https://github.com/sagemath/sagetrac-mirror/commit/a6f3f9accc844816a3fa720eb8abd154c4a3a805)** to **[`81e4ee1`](https://github.com/sagemath/sagetrac-mirror/commit/81e4ee11c8db417b6f5b5ec478da01bdcfd19ab7)**",
    "created_at": "2015-07-06T15:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263426",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a6f3f9a`](https://github.com/sagemath/sagetrac-mirror/commit/a6f3f9accc844816a3fa720eb8abd154c4a3a805)** to **[`81e4ee1`](https://github.com/sagemath/sagetrac-mirror/commit/81e4ee11c8db417b6f5b5ec478da01bdcfd19ab7)**



---

archive/issue_comments_263427.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHelloooooo again,\n\nIs there any reason why you kept two functions with the same name (dominator_tree)? If you moved the 'graph output' to the one defined in `boost_graph.pyx`, you would only have to import it in the `GenericGraph` object. No duplication of doc/doctest.\n\nNathann",
    "created_at": "2015-07-06T15:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263427",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Helloooooo again,

Is there any reason why you kept two functions with the same name (dominator_tree)? If you moved the 'graph output' to the one defined in `boost_graph.pyx`, you would only have to import it in the `GenericGraph` object. No duplication of doc/doctest.

Nathann



---

archive/issue_comments_263428.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n> However, I have questions on the expected behavior:\n> - with 1-vertex graph:\n> \n> ```\n> sage: G = graphs.[wiki:PathGraph](1)\n> sage: G.dominator_tree(0)\n> {0: None}\n> sage: G.dominator_tree(0, return_dict=False)\n> Graph on 0 vertices\n> ```\n\nYou are right, if the dominator tree is empty (that is, if from the root we cannot reach any other vertex) it is better to output a 1-vertex graph containing the root, not an empty graph. For the dictionary, I think the behavior is correct.\n\n> - With disconnected graphs\n> \n> ```\n> sage: G = 2 * graphs.[wiki:PathGraph](1)\n> sage: G.dominator_tree(0)\n> {0: None, 1: None}\n> sage: G = 2 * graphs.[wiki:PathGraph](2)\n> sage: G.dominator_tree(0)\n> {0: None, 1: 0, 2: None, 3: None}\n> ```\n> If this is effectively what we expect, then I will finalize the review.\n\nHere, the behavior is correct, in my opinion. I have changed the doc to better explain this case, by adding an \"OUTPUT\" block.",
    "created_at": "2015-07-06T15:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263428",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:13" align="right">comment:13</div>

> However, I have questions on the expected behavior:
> - with 1-vertex graph:
> 
> ```
> sage: G = graphs.[wiki:PathGraph](1)
> sage: G.dominator_tree(0)
> {0: None}
> sage: G.dominator_tree(0, return_dict=False)
> Graph on 0 vertices
> ```

You are right, if the dominator tree is empty (that is, if from the root we cannot reach any other vertex) it is better to output a 1-vertex graph containing the root, not an empty graph. For the dictionary, I think the behavior is correct.

> - With disconnected graphs
> 
> ```
> sage: G = 2 * graphs.[wiki:PathGraph](1)
> sage: G.dominator_tree(0)
> {0: None, 1: None}
> sage: G = 2 * graphs.[wiki:PathGraph](2)
> sage: G.dominator_tree(0)
> {0: None, 1: 0, 2: None, 3: None}
> ```
> If this is effectively what we expect, then I will finalize the review.

Here, the behavior is correct, in my opinion. I have changed the doc to better explain this case, by adding an "OUTPUT" block.



---

archive/issue_comments_263429.json:
```json
{
    "body": "Changed commit from **[`81e4ee1`](https://github.com/sagemath/sagetrac-mirror/commit/81e4ee11c8db417b6f5b5ec478da01bdcfd19ab7)** to **[`7b72043`](https://github.com/sagemath/sagetrac-mirror/commit/7b72043f2af4fc29ece5e6aad5996a9a9a49539a)**",
    "created_at": "2015-07-06T15:41:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263429",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`81e4ee1`](https://github.com/sagemath/sagetrac-mirror/commit/81e4ee11c8db417b6f5b5ec478da01bdcfd19ab7)** to **[`7b72043`](https://github.com/sagemath/sagetrac-mirror/commit/7b72043f2af4fc29ece5e6aad5996a9a9a49539a)**



---

archive/issue_comments_263430.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b72043f2af4fc29ece5e6aad5996a9a9a49539a\"><code>7b72043</code></a></td><td><code>Improved doc (unreachable vertices)</code></td></tr></table>\n",
    "created_at": "2015-07-06T15:41:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263430",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b72043f2af4fc29ece5e6aad5996a9a9a49539a"><code>7b72043</code></a></td><td><code>Improved doc (unreachable vertices)</code></td></tr></table>




---

archive/issue_comments_263431.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYou mean that I should move all the code in boost_graph.pyx, and then import this function through something like\n\n`GenericGraph.dominator_tree = types.MethodType(sage.graphs.base.boost_graph.dominator_tree(GenericGraph, ???))`\n\nCould you tell me the exact command? The three examples I have found in `generic_graph.py` do not have arguments...\n\nReplying to [@nathanncohen](#comment:12):\n\n\n> Helloooooo again,\n> \n> Is there any reason why you kept two functions with the same name (dominator_tree)? If you moved the 'graph output' to the one defined in `boost_graph.pyx`, you would only have to import it in the `GenericGraph` object. No duplication of doc/doctest.\n> \n> Nathann",
    "created_at": "2015-07-06T15:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263431",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:15" align="right">comment:15</div>

You mean that I should move all the code in boost_graph.pyx, and then import this function through something like

`GenericGraph.dominator_tree = types.MethodType(sage.graphs.base.boost_graph.dominator_tree(GenericGraph, ???))`

Could you tell me the exact command? The three examples I have found in `generic_graph.py` do not have arguments...

Replying to [@nathanncohen](#comment:12):


> Helloooooo again,
> 
> Is there any reason why you kept two functions with the same name (dominator_tree)? If you moved the 'graph output' to the one defined in `boost_graph.pyx`, you would only have to import it in the `GenericGraph` object. No duplication of doc/doctest.
> 
> Nathann



---

archive/issue_comments_263432.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nA good example is  `GenericGraph.diameter = types.MethodType(sage.graphs.distances_all_pairs.diameter, None, GenericGraph)`.\nIt has several arguments (e.g. `method='iFUB'`).",
    "created_at": "2015-07-06T17:18:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263432",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:16" align="right">comment:16</div>

A good example is  `GenericGraph.diameter = types.MethodType(sage.graphs.distances_all_pairs.diameter, None, GenericGraph)`.
It has several arguments (e.g. `method='iFUB'`).



---

archive/issue_comments_263433.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHellooooooo!\n\nI have done it, but there is a problem: in order to obtain this result, `generic_graph` should import `boost_graph`, which imports `directed_graph`, which imports `generic_graph`, and I have cyclic dependencies. I tried to put\n\n```\nimport types\nfrom sage.graphs.generic_graph import GenericGraph\nGenericGraph.dominator_tree = types.MethodType(dominator_tree, None, GenericGraph)\n```\ninside boost_graph, but it is not imported when Sage starts, so I have to import boost_graph before running dominator_tree (and I don't like it). Any suggestion?\n\nReplying to [@dcoudert](#comment:16):\n\n\n> A good example is  `GenericGraph.diameter = types.MethodType(sage.graphs.distances_all_pairs.diameter, None, GenericGraph)`.\n> It has several arguments (e.g. `method='iFUB'`).",
    "created_at": "2015-07-06T19:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263433",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:17" align="right">comment:17</div>

Hellooooooo!

I have done it, but there is a problem: in order to obtain this result, `generic_graph` should import `boost_graph`, which imports `directed_graph`, which imports `generic_graph`, and I have cyclic dependencies. I tried to put

```
import types
from sage.graphs.generic_graph import GenericGraph
GenericGraph.dominator_tree = types.MethodType(dominator_tree, None, GenericGraph)
```
inside boost_graph, but it is not imported when Sage starts, so I have to import boost_graph before running dominator_tree (and I don't like it). Any suggestion?

Replying to [@dcoudert](#comment:16):


> A good example is  `GenericGraph.diameter = types.MethodType(sage.graphs.distances_all_pairs.diameter, None, GenericGraph)`.
> It has several arguments (e.g. `method='iFUB'`).



---

archive/issue_comments_263434.json:
```json
{
    "body": "Reviewer: **Nathann Cohen, David Coudert**",
    "created_at": "2015-07-06T20:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263434",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **Nathann Cohen, David Coudert**



---

archive/issue_comments_263435.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis is weird since for instance the `distances_all_pairs` module imports `Graph` many times.\n\nCould you try the following: in the `boost_graph.pyx` file, move the `from sage.graphs.graph import Graph` statement inside all the methods using it. Same for `DiGraph` etc.\n\nDavid.",
    "created_at": "2015-07-06T20:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263435",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:18" align="right">comment:18</div>

This is weird since for instance the `distances_all_pairs` module imports `Graph` many times.

Could you try the following: in the `boost_graph.pyx` file, move the `from sage.graphs.graph import Graph` statement inside all the methods using it. Same for `DiGraph` etc.

David.



---

archive/issue_comments_263436.json:
```json
{
    "body": "Changed commit from **[`7b72043`](https://github.com/sagemath/sagetrac-mirror/commit/7b72043f2af4fc29ece5e6aad5996a9a9a49539a)** to **[`ec55207`](https://github.com/sagemath/sagetrac-mirror/commit/ec55207fb866c9a92d51fc1270690bf8fdfe8055)**",
    "created_at": "2015-07-06T20:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263436",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7b72043`](https://github.com/sagemath/sagetrac-mirror/commit/7b72043f2af4fc29ece5e6aad5996a9a9a49539a)** to **[`ec55207`](https://github.com/sagemath/sagetrac-mirror/commit/ec55207fb866c9a92d51fc1270690bf8fdfe8055)**



---

archive/issue_comments_263437.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/344e41bd738db460707dc17e709055d982e3a15a\"><code>344e41b</code></a></td><td><code>Boost dominator tree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec55207fb866c9a92d51fc1270690bf8fdfe8055\"><code>ec55207</code></a></td><td><code>Removed trailing whitespaces</code></td></tr></table>\n",
    "created_at": "2015-07-06T20:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263437",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/344e41bd738db460707dc17e709055d982e3a15a"><code>344e41b</code></a></td><td><code>Boost dominator tree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec55207fb866c9a92d51fc1270690bf8fdfe8055"><code>ec55207</code></a></td><td><code>Removed trailing whitespaces</code></td></tr></table>




---

archive/issue_comments_263438.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHelloooooo!\n\nThank you very much: it worked! Now, I have rebased all my commits, so that the history of generic_graph is correct, and I have moved everything to boost_graph.\n\nReplying to [@dcoudert](#comment:18):\n\n\n> This is weird since for instance the `distances_all_pairs` module imports `Graph` many times.\n> \n> Could you try the following: in the `boost_graph.pyx` file, move the `from sage.graphs.graph import Graph` statement inside all the methods using it. Same for `DiGraph` etc.\n> \n> David.",
    "created_at": "2015-07-06T20:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263438",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:20" align="right">comment:20</div>

Helloooooo!

Thank you very much: it worked! Now, I have rebased all my commits, so that the history of generic_graph is correct, and I have moved everything to boost_graph.

Replying to [@dcoudert](#comment:18):


> This is weird since for instance the `distances_all_pairs` module imports `Graph` many times.
> 
> Could you try the following: in the `boost_graph.pyx` file, move the `from sage.graphs.graph import Graph` statement inside all the methods using it. Same for `DiGraph` etc.
> 
> David.



---

archive/issue_comments_263439.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nSomething goes wrong with your last commits, some conflicts. I don't know how to solve that (not git expert).",
    "created_at": "2015-07-06T20:48:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263439",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:21" align="right">comment:21</div>

Something goes wrong with your last commits, some conflicts. I don't know how to solve that (not git expert).



---

archive/issue_comments_263440.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nStrange, in my computer it works correctly... Maybe you have to perform a forced pull, since I had to perform a forced push, or try to remove your local branch and re-download it... Nathann?",
    "created_at": "2015-07-06T20:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263440",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:22" align="right">comment:22</div>

Strange, in my computer it works correctly... Maybe you have to perform a forced pull, since I had to perform a forced push, or try to remove your local branch and re-download it... Nathann?



---

archive/issue_comments_263441.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI also see conflicts. And the branch's name of thi ticket appears in red, which is a sign too.\n\nNathann",
    "created_at": "2015-07-07T06:46:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263441",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

I also see conflicts. And the branch's name of thi ticket appears in red, which is a sign too.

Nathann



---

archive/issue_comments_263442.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nMichele: are you running beta7? If not, that's the reason.\n\nNathann",
    "created_at": "2015-07-07T06:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263442",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Michele: are you running beta7? If not, that's the reason.

Nathann



---

archive/issue_comments_263443.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20a8625d9085eea4a3851471d2df2aa59e76703b\"><code>20a8625</code></a></td><td><code>Dominator tree through Boost</code></td></tr></table>\n",
    "created_at": "2015-07-07T12:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263443",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20a8625d9085eea4a3851471d2df2aa59e76703b"><code>20a8625</code></a></td><td><code>Dominator tree through Boost</code></td></tr></table>




---

archive/issue_comments_263444.json:
```json
{
    "body": "Changed commit from **[`ec55207`](https://github.com/sagemath/sagetrac-mirror/commit/ec55207fb866c9a92d51fc1270690bf8fdfe8055)** to **[`20a8625`](https://github.com/sagemath/sagetrac-mirror/commit/20a8625d9085eea4a3851471d2df2aa59e76703b)**",
    "created_at": "2015-07-07T12:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263444",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec55207`](https://github.com/sagemath/sagetrac-mirror/commit/ec55207fb866c9a92d51fc1270690bf8fdfe8055)** to **[`20a8625`](https://github.com/sagemath/sagetrac-mirror/commit/20a8625d9085eea4a3851471d2df2aa59e76703b)**



---

archive/issue_comments_263445.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nNow it should work: I have downloaded beta7, and I have added the missing parts.",
    "created_at": "2015-07-07T12:18:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263445",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:26" align="right">comment:26</div>

Now it should work: I have downloaded beta7, and I have added the missing parts.



---

archive/issue_comments_263446.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nNow it's working and I'm trying to understand the expected behavior of the method.\n\n- is it normal that the resulting tree is always a star ?\n\n```\nsage: G = graphs.RandomBarabasiAlbert(1000,2)\nsage: H = G.dominator_tree(0, return_dict=False)\nsage: H.is_tree() and H.diameter()<=2\nTrue\nsage: H = G.dominator_tree(193, return_dict=False)\nsage: H.is_tree() and H.diameter()<=2\nTrue\n```\n\n\n- I suggest to set parameter `return_dict=False` by default. Well I don't know which is the most useful\n\n- There is a labeling problem with the root.\n\n```\nsage: G = graphs.Grid2dGraph(4,4)\nsage: G.dominator_tree((0,0), return_dict=False).vertices()\n[0,\n (0, 1),\n (0, 2),\n (0, 3),\n (1, 0),\n (1, 1),\n (1, 2),\n (1, 3),\n (2, 0),\n (2, 1),\n (2, 2),\n (2, 3),\n (3, 0),\n (3, 1),\n (3, 2),\n (3, 3)]\nsage: G.dominator_tree((1,1), return_dict=False).vertices()\n[5,\n (0, 0),\n (0, 1),\n (0, 2),\n (0, 3),\n (1, 0),\n (1, 2),\n (1, 3),\n (2, 0),\n (2, 1),\n (2, 2),\n (2, 3),\n (3, 0),\n (3, 1),\n (3, 2),\n (3, 3)]\n```\n\n- Try also this. The output digraph is not connected and you have some labeling problems.\n\n```\nsage: D = digraphs.DeBruijn(2,4)\nsage: D.dominator_tree('0000', return_dict=False).show()\n```\n\nDavid.",
    "created_at": "2015-07-07T18:28:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263446",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:27" align="right">comment:27</div>

Now it's working and I'm trying to understand the expected behavior of the method.

- is it normal that the resulting tree is always a star ?

```
sage: G = graphs.RandomBarabasiAlbert(1000,2)
sage: H = G.dominator_tree(0, return_dict=False)
sage: H.is_tree() and H.diameter()<=2
True
sage: H = G.dominator_tree(193, return_dict=False)
sage: H.is_tree() and H.diameter()<=2
True
```


- I suggest to set parameter `return_dict=False` by default. Well I don't know which is the most useful

- There is a labeling problem with the root.

```
sage: G = graphs.Grid2dGraph(4,4)
sage: G.dominator_tree((0,0), return_dict=False).vertices()
[0,
 (0, 1),
 (0, 2),
 (0, 3),
 (1, 0),
 (1, 1),
 (1, 2),
 (1, 3),
 (2, 0),
 (2, 1),
 (2, 2),
 (2, 3),
 (3, 0),
 (3, 1),
 (3, 2),
 (3, 3)]
sage: G.dominator_tree((1,1), return_dict=False).vertices()
[5,
 (0, 0),
 (0, 1),
 (0, 2),
 (0, 3),
 (1, 0),
 (1, 2),
 (1, 3),
 (2, 0),
 (2, 1),
 (2, 2),
 (2, 3),
 (3, 0),
 (3, 1),
 (3, 2),
 (3, 3)]
```

- Try also this. The output digraph is not connected and you have some labeling problems.

```
sage: D = digraphs.DeBruijn(2,4)
sage: D.dominator_tree('0000', return_dict=False).show()
```

David.



---

archive/issue_events_265109.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-07-07T18:28:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265109"
}
```



---

archive/issue_events_265110.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-07-07T18:28:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265110"
}
```



---

archive/issue_comments_263447.json:
```json
{
    "body": "Changed commit from **[`20a8625`](https://github.com/sagemath/sagetrac-mirror/commit/20a8625d9085eea4a3851471d2df2aa59e76703b)** to **[`512cfdf`](https://github.com/sagemath/sagetrac-mirror/commit/512cfdf27fc1bd53f0bc3e06ba032fd23895ac01)**",
    "created_at": "2015-07-07T20:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263447",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`20a8625`](https://github.com/sagemath/sagetrac-mirror/commit/20a8625d9085eea4a3851471d2df2aa59e76703b)** to **[`512cfdf`](https://github.com/sagemath/sagetrac-mirror/commit/512cfdf27fc1bd53f0bc3e06ba032fd23895ac01)**



---

archive/issue_comments_263448.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/512cfdf27fc1bd53f0bc3e06ba032fd23895ac01\"><code>512cfdf</code></a></td><td><code>Reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-07-07T20:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263448",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/512cfdf27fc1bd53f0bc3e06ba032fd23895ac01"><code>512cfdf</code></a></td><td><code>Reviewer's comments</code></td></tr></table>




---

archive/issue_comments_263449.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@dcoudert](#comment:27):\n\n> Now it's working and I'm trying to understand the expected behavior of the method.\n> \n> - is it normal that the resulting tree is always a star ?\n> \n> ```\n> sage: G = graphs.[wiki:RandomBarabasiAlbert](1000,2)\n> sage: H = G.dominator_tree(0, return_dict=False)\n> sage: H.is_tree() and H.diameter()<=2\n> True\n> sage: H = G.dominator_tree(193, return_dict=False)\n> sage: H.is_tree() and H.diameter()<=2\n> True\n> ```\n\nYes, it is: if the input is undirected, the dominator tree is a star if and only the if the graph is biconnected. In a Barabasi-Albert graph, the minimum degree is 2, so I believe it is.\n\n> \n> - I suggest to set parameter `return_dict=False` by default. Well I don't know which is the most useful\n\nDone!\n\n> - There is a labeling problem with the root.\n> \n> ```\n> sage: G = graphs.Grid2dGraph(4,4)\n> sage: G.dominator_tree((0,0), return_dict=False).vertices()\n> [0,\n> (0, 1),\n> (0, 2),\n> (0, 3),\n> (1, 0),\n> (1, 1),\n> (1, 2),\n> (1, 3),\n> (2, 0),\n> (2, 1),\n> (2, 2),\n> (2, 3),\n> (3, 0),\n> (3, 1),\n> (3, 2),\n> (3, 3)]\n> sage: G.dominator_tree((1,1), return_dict=False).vertices()\n> [5,\n> (0, 0),\n> (0, 1),\n> (0, 2),\n> (0, 3),\n> (1, 0),\n> (1, 2),\n> (1, 3),\n> (2, 0),\n> (2, 1),\n> (2, 2),\n> (2, 3),\n> (3, 0),\n> (3, 1),\n> (3, 2),\n> (3, 3)]\n> ```\n> \n> - Try also this. The output digraph is not connected and you have some labeling problems.\n> \n> ```\n> sage: D = digraphs.[wiki:DeBruijn](2,4)\n> sage: D.dominator_tree('0000', return_dict=False).show()\n> ```\n\nYes, you are right, I did not \"translate\" properly the Boost vertices into Sage labels. I have corrected that line and I have added a test to check that the translation is correct. The new line is:\n\n```\nedges = [[int_to_vertex[result[vertex_to_int[v]]], v] for v in g.vertices() if result[vertex_to_int[v]] != no_parent]\n```\nThank you very much!",
    "created_at": "2015-07-07T21:00:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263449",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@dcoudert](#comment:27):

> Now it's working and I'm trying to understand the expected behavior of the method.
> 
> - is it normal that the resulting tree is always a star ?
> 
> ```
> sage: G = graphs.[wiki:RandomBarabasiAlbert](1000,2)
> sage: H = G.dominator_tree(0, return_dict=False)
> sage: H.is_tree() and H.diameter()<=2
> True
> sage: H = G.dominator_tree(193, return_dict=False)
> sage: H.is_tree() and H.diameter()<=2
> True
> ```

Yes, it is: if the input is undirected, the dominator tree is a star if and only the if the graph is biconnected. In a Barabasi-Albert graph, the minimum degree is 2, so I believe it is.

> 
> - I suggest to set parameter `return_dict=False` by default. Well I don't know which is the most useful

Done!

> - There is a labeling problem with the root.
> 
> ```
> sage: G = graphs.Grid2dGraph(4,4)
> sage: G.dominator_tree((0,0), return_dict=False).vertices()
> [0,
> (0, 1),
> (0, 2),
> (0, 3),
> (1, 0),
> (1, 1),
> (1, 2),
> (1, 3),
> (2, 0),
> (2, 1),
> (2, 2),
> (2, 3),
> (3, 0),
> (3, 1),
> (3, 2),
> (3, 3)]
> sage: G.dominator_tree((1,1), return_dict=False).vertices()
> [5,
> (0, 0),
> (0, 1),
> (0, 2),
> (0, 3),
> (1, 0),
> (1, 2),
> (1, 3),
> (2, 0),
> (2, 1),
> (2, 2),
> (2, 3),
> (3, 0),
> (3, 1),
> (3, 2),
> (3, 3)]
> ```
> 
> - Try also this. The output digraph is not connected and you have some labeling problems.
> 
> ```
> sage: D = digraphs.[wiki:DeBruijn](2,4)
> sage: D.dominator_tree('0000', return_dict=False).show()
> ```

Yes, you are right, I did not "translate" properly the Boost vertices into Sage labels. I have corrected that line and I have added a test to check that the translation is correct. The new line is:

```
edges = [[int_to_vertex[result[vertex_to_int[v]]], v] for v in g.vertices() if result[vertex_to_int[v]] != no_parent]
```
Thank you very much!



---

archive/issue_events_265111.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-07T21:00:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265111"
}
```



---

archive/issue_events_265112.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-07T21:00:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265112"
}
```



---

archive/issue_comments_263450.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n> Yes, it is: if the input is undirected, the dominator tree is a star if and only the if the graph is biconnected. In a Barabasi-Albert graph, the minimum degree is 2, so I believe it is.\n\nSo for undirected graphs, we can first test if is it connected. If true, then we can directly construct and return the star (or the dict) without using boost, right? If False, then what's the output ?\n\nWhat for directed graphs?\n\nDavid.",
    "created_at": "2015-07-08T07:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263450",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:30" align="right">comment:30</div>

> Yes, it is: if the input is undirected, the dominator tree is a star if and only the if the graph is biconnected. In a Barabasi-Albert graph, the minimum degree is 2, so I believe it is.

So for undirected graphs, we can first test if is it connected. If true, then we can directly construct and return the star (or the dict) without using boost, right? If False, then what's the output ?

What for directed graphs?

David.



---

archive/issue_comments_263451.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nHellooooo!\n\nReplying to [@dcoudert](#comment:30):\n\n> So for undirected graphs, we can first test if is it connected. If true, then we can directly construct and return the star (or the dict) without using boost, right? If False, then what's the output ?\n\nWell, not connected but biconnected. In any case, probably the dominator tree in the undirected case can be found by computing biconnected components and cut vertices. There is a linear algorithm for biconnected components, but it is not very easy to implement, and the Boost algorithm is O(m log m), which is not much worse than O(m). Is the linear algorithm for BCC implemented in the hyperbolicity algorithm?\n\n> \n> What for directed graphs?\n\nWell, it is more complicated... I heard that finding linear algorithms for this problem is an open issue, and the Boost algorithm should be optimal. For more information, see the Boost help page http://www.boost.org/doc/libs/1_58_0/libs/graph/doc/lengauer_tarjan_dominator.htm.\n\nMichele",
    "created_at": "2015-07-08T08:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263451",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:31" align="right">comment:31</div>

Hellooooo!

Replying to [@dcoudert](#comment:30):

> So for undirected graphs, we can first test if is it connected. If true, then we can directly construct and return the star (or the dict) without using boost, right? If False, then what's the output ?

Well, not connected but biconnected. In any case, probably the dominator tree in the undirected case can be found by computing biconnected components and cut vertices. There is a linear algorithm for biconnected components, but it is not very easy to implement, and the Boost algorithm is O(m log m), which is not much worse than O(m). Is the linear algorithm for BCC implemented in the hyperbolicity algorithm?

> 
> What for directed graphs?

Well, it is more complicated... I heard that finding linear algorithms for this problem is an open issue, and the Boost algorithm should be optimal. For more information, see the Boost help page http://www.boost.org/doc/libs/1_58_0/libs/graph/doc/lengauer_tarjan_dominator.htm.

Michele



---

archive/issue_comments_263452.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@sagetrac-borassi](#comment:31):\n> Hellooooo!\n> \n> Replying to [@dcoudert](#comment:30):\n> \n> > So for undirected graphs, we can first test if is it connected. If true, then we can directly construct and return the star (or the dict) without using boost, right? If False, then what's the output ?\n\n> \n> Well, not connected but biconnected. \n\nOK, I see. Could you mention this in the description of the method? and perhaps add a simple example of a graph with 2 biconnected components. For Instance\n\n```\nsage: G = 2*graphs.CycleGraph(3)\nsage: G.add_edge(0,3)\nsage: G.dominator_tree(0, return_dict=True)\n{0: None, 1: 0, 2: 0, 3: 0, 4: 3, 5: 3}\n```\n\n> In any case, probably the dominator tree in the undirected case can be found by computing biconnected components and cut vertices. There is a linear algorithm for biconnected components, but it is not very easy to implement, and the Boost algorithm is O(m log m), which is not much worse than O(m). Is the linear algorithm for BCC implemented in the hyperbolicity algorithm?\n\nFor undirected graphs, we have `B,C = G.blocks_and_cut_vertices()`, where `B` is the list of blocks (list of vertices of each biconnected component) and `C` is the list of cut vertices. It's a Python implementation, but it's efficient. We use it for the hyperbolicity and many other algorithms.\n\nHowever, now that I have a better understanding of the method, I think it is better to let it as it is. So improve the doc and it should be ok.\n\nDavid.",
    "created_at": "2015-07-08T09:33:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263452",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@sagetrac-borassi](#comment:31):
> Hellooooo!
> 
> Replying to [@dcoudert](#comment:30):
> 
> > So for undirected graphs, we can first test if is it connected. If true, then we can directly construct and return the star (or the dict) without using boost, right? If False, then what's the output ?

> 
> Well, not connected but biconnected. 

OK, I see. Could you mention this in the description of the method? and perhaps add a simple example of a graph with 2 biconnected components. For Instance

```
sage: G = 2*graphs.CycleGraph(3)
sage: G.add_edge(0,3)
sage: G.dominator_tree(0, return_dict=True)
{0: None, 1: 0, 2: 0, 3: 0, 4: 3, 5: 3}
```

> In any case, probably the dominator tree in the undirected case can be found by computing biconnected components and cut vertices. There is a linear algorithm for biconnected components, but it is not very easy to implement, and the Boost algorithm is O(m log m), which is not much worse than O(m). Is the linear algorithm for BCC implemented in the hyperbolicity algorithm?

For undirected graphs, we have `B,C = G.blocks_and_cut_vertices()`, where `B` is the list of blocks (list of vertices of each biconnected component) and `C` is the list of cut vertices. It's a Python implementation, but it's efficient. We use it for the hyperbolicity and many other algorithms.

However, now that I have a better understanding of the method, I think it is better to let it as it is. So improve the doc and it should be ok.

David.



---

archive/issue_comments_263453.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23b1952b8b3cbca30aeafdcb4242aa5261cd4cb8\"><code>23b1952</code></a></td><td><code>Improved documentation</code></td></tr></table>\n",
    "created_at": "2015-07-08T13:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263453",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23b1952b8b3cbca30aeafdcb4242aa5261cd4cb8"><code>23b1952</code></a></td><td><code>Improved documentation</code></td></tr></table>




---

archive/issue_comments_263454.json:
```json
{
    "body": "Changed commit from **[`512cfdf`](https://github.com/sagemath/sagetrac-mirror/commit/512cfdf27fc1bd53f0bc3e06ba032fd23895ac01)** to **[`23b1952`](https://github.com/sagemath/sagetrac-mirror/commit/23b1952b8b3cbca30aeafdcb4242aa5261cd4cb8)**",
    "created_at": "2015-07-08T13:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263454",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`512cfdf`](https://github.com/sagemath/sagetrac-mirror/commit/512cfdf27fc1bd53f0bc3e06ba032fd23895ac01)** to **[`23b1952`](https://github.com/sagemath/sagetrac-mirror/commit/23b1952b8b3cbca30aeafdcb4242aa5261cd4cb8)**



---

archive/issue_comments_263455.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n> However, now that I have a better understanding of the method, I think it is better to let it as it is. So improve the doc and it should be ok.\n\nDone!",
    "created_at": "2015-07-08T13:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263455",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:34" align="right">comment:34</div>

> However, now that I have a better understanding of the method, I think it is better to let it as it is. So improve the doc and it should be ok.

Done!



---

archive/issue_events_265113.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-07-08T14:00:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265113"
}
```



---

archive/issue_events_265114.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-07-08T14:00:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265114"
}
```



---

archive/issue_comments_263456.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nFor me the patch is now good to go!",
    "created_at": "2015-07-08T14:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263456",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:35" align="right">comment:35</div>

For me the patch is now good to go!



---

archive/issue_comments_263457.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFails on 32-bit\n\n```\nsage -t --long src/sage/graphs/base/boost_graph.pyx\n**********************************************************************\nFile \"src/sage/graphs/base/boost_graph.pyx\", line 101, in sage.graphs.base.boost_graph.edge_connectivity\nFailed example:\n    edge_connectivity(g)\nExpected:\n    [4, [(0, 1), (0, 2), (0, 3), (0, 4)]]\nGot:\n    [4L, [(0L, 1L), (0L, 2L), (0L, 3L), (0L, 4L)]]\n**********************************************************************\n1 item had failures:\n```",
    "created_at": "2015-07-08T22:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263457",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>

Fails on 32-bit

```
sage -t --long src/sage/graphs/base/boost_graph.pyx
**********************************************************************
File "src/sage/graphs/base/boost_graph.pyx", line 101, in sage.graphs.base.boost_graph.edge_connectivity
Failed example:
    edge_connectivity(g)
Expected:
    [4, [(0, 1), (0, 2), (0, 3), (0, 4)]]
Got:
    [4L, [(0L, 1L), (0L, 2L), (0L, 3L), (0L, 4L)]]
**********************************************************************
1 item had failures:
```



---

archive/issue_events_265115.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-08T22:38:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265115"
}
```



---

archive/issue_events_265116.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-08T22:38:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265116"
}
```



---

archive/issue_comments_263458.json:
```json
{
    "body": "Changed commit from **[`23b1952`](https://github.com/sagemath/sagetrac-mirror/commit/23b1952b8b3cbca30aeafdcb4242aa5261cd4cb8)** to **[`010f213`](https://github.com/sagemath/sagetrac-mirror/commit/010f213e4ba1b41b6655e89331a631b810eec82d)**",
    "created_at": "2015-07-09T07:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263458",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`23b1952`](https://github.com/sagemath/sagetrac-mirror/commit/23b1952b8b3cbca30aeafdcb4242aa5261cd4cb8)** to **[`010f213`](https://github.com/sagemath/sagetrac-mirror/commit/010f213e4ba1b41b6655e89331a631b810eec82d)**



---

archive/issue_comments_263459.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/010f213e4ba1b41b6655e89331a631b810eec82d\"><code>010f213</code></a></td><td><code>Changed default vertex type to int</code></td></tr></table>\n",
    "created_at": "2015-07-09T07:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263459",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/010f213e4ba1b41b6655e89331a631b810eec82d"><code>010f213</code></a></td><td><code>Changed default vertex type to int</code></td></tr></table>




---

archive/issue_comments_263460.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI think the problem is that on 32bit the C++ unsigned int is converted to a long. I replaced unsigned int with int for vertices, and now it should work. How can I test it on 32bit?",
    "created_at": "2015-07-09T07:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263460",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:38" align="right">comment:38</div>

I think the problem is that on 32bit the C++ unsigned int is converted to a long. I replaced unsigned int with int for vertices, and now it should work. How can I test it on 32bit?



---

archive/issue_events_265117.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-09T07:39:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265117"
}
```



---

archive/issue_events_265118.json:
```json
{
    "actor": "https://github.com/sagetrac-borassi",
    "created_at": "2015-07-09T07:39:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265118"
}
```



---

archive/issue_comments_263461.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nTo test on 32bits, you need a 32bits cpu. \nMay be one of the machines of the patchbot is 32bits and so you will get the answer soon.\nD.",
    "created_at": "2015-07-09T20:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263461",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:39" align="right">comment:39</div>

To test on 32bits, you need a 32bits cpu. 
May be one of the machines of the patchbot is 32bits and so you will get the answer soon.
D.



---

archive/issue_comments_263462.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d\"><code>b42de69</code></a></td><td><code>Modified the Boost interface</code></td></tr></table>\n",
    "created_at": "2015-07-10T08:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263462",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d"><code>b42de69</code></a></td><td><code>Modified the Boost interface</code></td></tr></table>




---

archive/issue_comments_263463.json:
```json
{
    "body": "Changed commit from **[`010f213`](https://github.com/sagemath/sagetrac-mirror/commit/010f213e4ba1b41b6655e89331a631b810eec82d)** to **[`b42de69`](https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d)**",
    "created_at": "2015-07-10T08:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263463",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`010f213`](https://github.com/sagemath/sagetrac-mirror/commit/010f213e4ba1b41b6655e89331a631b810eec82d)** to **[`b42de69`](https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d)**



---

archive/issue_comments_263464.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nHelloooooo!\n\nI have made a small modification in the Boost interface: now the Boost graph \"knows\" (through a vertex_property) the number associated to each vertex. This way, if the result is an vector, where in position i there is a property of vertex i, this vector is generated directly from Boost, without conversion.\n\nHowever, after this modification, I think this patch needs a new review, at least for this part.\n\nThank you very much!\n\nMichele\n\nPS: I still have no idea on how to test 32bit Sagemath, and I hope modifying the vertex name from unsigned int to int worked! Anyone is able to test it?",
    "created_at": "2015-07-10T08:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263464",
    "user": "https://github.com/sagetrac-borassi"
}
```

<div id="comment:41" align="right">comment:41</div>

Helloooooo!

I have made a small modification in the Boost interface: now the Boost graph "knows" (through a vertex_property) the number associated to each vertex. This way, if the result is an vector, where in position i there is a property of vertex i, this vector is generated directly from Boost, without conversion.

However, after this modification, I think this patch needs a new review, at least for this part.

Thank you very much!

Michele

PS: I still have no idea on how to test 32bit Sagemath, and I hope modifying the vertex name from unsigned int to int worked! Anyone is able to test it?



---

archive/issue_comments_263465.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nFor me the patch is good to go.\nI tried the patch successfully using an old computer on which I can only use cplex 32bits and not cplex 64bits. So I assume it is 32bits... \nI cannot do better test.",
    "created_at": "2015-07-11T14:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263465",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:42" align="right">comment:42</div>

For me the patch is good to go.
I tried the patch successfully using an old computer on which I can only use cplex 32bits and not cplex 64bits. So I assume it is 32bits... 
I cannot do better test.



---

archive/issue_events_265119.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-07-11T14:13:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265119"
}
```



---

archive/issue_events_265120.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-07-11T14:13:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265120"
}
```



---

archive/issue_events_265121.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-12T13:00:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265121"
}
```



---

archive/issue_events_265122.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f1f7da6385ca44afaf2774c33ec0fe0d9d921034",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-12T13:00:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18839#event-265122"
}
```



---

archive/issue_comments_263466.json:
```json
{
    "body": "Changed branch from **[u/borassi/boost_dominator_tree](https://github.com/sagemath/sagetrac-mirror/tree/u/borassi/boost_dominator_tree)** to **[`b42de69`](https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d)**",
    "created_at": "2015-07-12T13:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18839",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18839#issuecomment-263466",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/borassi/boost_dominator_tree](https://github.com/sagemath/sagetrac-mirror/tree/u/borassi/boost_dominator_tree)** to **[`b42de69`](https://github.com/sagemath/sagetrac-mirror/commit/b42de69ea7631fcc9110e0490205f0d4a09ec90d)**
