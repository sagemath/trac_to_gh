# Issue 18798: Jucys-Murphy Elements for Brauer Algebra

archive/issues_018561.json:
```json
{
    "body": "Nazarov's 1996 paper titled \"Young's Orthogonal Form for Brauer's Centralizer Algebra,\" outlines a form for the Jucys-Murphy elements that are analogous to the JM elements for the symmetric group algebra. Implementing these into Sage would require a few lines of code but would prove very useful for work done with the Brauer algebra.\n\nCC:  @alauve @srdoty @saliola @tscrim\n\nKeywords: days65, partition algebra, diagram algebra, jucys-murphy\n\nBranch/Commit: 9613ee37a939b0a2b5fda54696f91dafc225a65a\n\nReviewer: Travis Scrimshaw\n\nAuthor: George H. Seelinger\n\nDependencies: #18762\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18798\n\n",
    "closed_at": "2015-10-20T22:32:44Z",
    "created_at": "2015-06-26T18:14:58Z",
    "labels": [
        "component: algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Jucys-Murphy Elements for Brauer Algebra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18798",
    "user": "https://github.com/ghseeli"
}
```
Nazarov's 1996 paper titled "Young's Orthogonal Form for Brauer's Centralizer Algebra," outlines a form for the Jucys-Murphy elements that are analogous to the JM elements for the symmetric group algebra. Implementing these into Sage would require a few lines of code but would prove very useful for work done with the Brauer algebra.

CC:  @alauve @srdoty @saliola @tscrim

Keywords: days65, partition algebra, diagram algebra, jucys-murphy

Branch/Commit: 9613ee37a939b0a2b5fda54696f91dafc225a65a

Reviewer: Travis Scrimshaw

Author: George H. Seelinger

Dependencies: #18762

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18798





---

archive/issue_comments_331573.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to algebra.",
    "created_at": "2015-06-26T18:33:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331573",
    "user": "https://github.com/ghseeli"
}
```

Changing component from PLEASE CHANGE to algebra.



---

archive/issue_comments_331574.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ghseeli/jucys_murphy_elements_for_brauer_algebra\"",
    "created_at": "2015-07-04T02:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331574",
    "user": "https://github.com/ghseeli"
}
```

Changing branch from "" to "u/ghseeli/jucys_murphy_elements_for_brauer_algebra"



---

archive/issue_comments_331575.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-23T01:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_331576.json:
```json
{
    "body": "Changing commit from \"\" to \"639c9f6b52d0740126e83cf13b2cb51066f35e1f\"",
    "created_at": "2015-07-23T01:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "639c9f6b52d0740126e83cf13b2cb51066f35e1f"



---

archive/issue_events_052572.json:
```json
{
    "actor": "https://github.com/ghseeli",
    "created_at": "2015-08-06T00:35:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18798#event-52572"
}
```



---

archive/issue_events_052573.json:
```json
{
    "actor": "https://github.com/ghseeli",
    "created_at": "2015-10-12T02:05:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18798#event-52573"
}
```



---

archive/issue_events_052574.json:
```json
{
    "actor": "https://github.com/ghseeli",
    "created_at": "2015-10-12T02:05:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18798#event-52574"
}
```



---

archive/issue_comments_331577.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2015-10-15T00:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_331578.json:
```json
{
    "body": "Changing commit from \"639c9f6b52d0740126e83cf13b2cb51066f35e1f\" to \"ab6b6807d6337122883b9438d078de17189324bb\"",
    "created_at": "2015-10-15T00:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "639c9f6b52d0740126e83cf13b2cb51066f35e1f" to "ab6b6807d6337122883b9438d078de17189324bb"



---

archive/issue_comments_331579.json:
```json
{
    "body": "<a id='comment:7'></a>Sorry, this git history is hard to read! The only change this ticket should include over 18762 is the `jucys_murphy` method within the `BrauerAlgebra` class.",
    "created_at": "2015-10-15T00:19:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331579",
    "user": "https://github.com/ghseeli"
}
```

<a id='comment:7'></a>Sorry, this git history is hard to read! The only change this ticket should include over 18762 is the `jucys_murphy` method within the `BrauerAlgebra` class.



---

archive/issue_comments_331580.json:
```json
{
    "body": "<a id='comment:8'></a>Is this ready for review? A few things from a quick lookover: Make the reference key `[N]` longer to avoid potential conflicts and docstrings should be declarative (so it will start with `Return`).",
    "created_at": "2015-10-15T04:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331580",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>Is this ready for review? A few things from a quick lookover: Make the reference key `[N]` longer to avoid potential conflicts and docstrings should be declarative (so it will start with `Return`).



---

archive/issue_comments_331581.json:
```json
{
    "body": "Changing commit from \"ab6b6807d6337122883b9438d078de17189324bb\" to \"15aa5a132c33abfa833a6f5a8974bcf93b3776b0\"",
    "created_at": "2015-10-16T00:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331581",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ab6b6807d6337122883b9438d078de17189324bb" to "15aa5a132c33abfa833a6f5a8974bcf93b3776b0"



---

archive/issue_comments_331582.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-16T00:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_331583.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-16T00:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331583",
    "user": "https://github.com/ghseeli"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_331584.json:
```json
{
    "body": "<a id='comment:10'></a>Yeah, this is ready for review. Thank you for the suggestions thus far!",
    "created_at": "2015-10-16T00:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331584",
    "user": "https://github.com/ghseeli"
}
```

<a id='comment:10'></a>Yeah, this is ready for review. Thank you for the suggestions thus far!



---

archive/issue_comments_331585.json:
```json
{
    "body": "<a id='comment:11'></a>A couple of suggestions:\n\n```diff\n     def jucys_murphy(self, j):\n         r\"\"\"\n-        Return a generalized Jucys-Murphy elements for the Brauer algebra.\n-        These are outlined in [Naz]_.\n+        Return the ``j``-th generalized Jucys-Murphy element of ``self``.\n \n+        Could you give a more detailed description of how the elements are defined?\n+\n         REFERENCES:\n \n         .. [Naz] Maxim Nazarov, Young's Orthogonal Form for Brauer's Centralizer\n-               Algebra. Journal of Algebra 182 (1996), 664--693.\n+           Algebra. Journal of Algebra 182 (1996), 664--693.\n \n         EXAMPLES:\n \n             sage: z = var('z')\n             sage: B = BrauerAlgebra(3,z)\n             sage: B.jucys_murphy(1)\n             1/2*z - 1/2\n             sage: B.jucys_murphy(3)\n-            -B{{-3, -2}, {-1, 1}, {2, 3}} - B{{-3, -1}, {-2, 2}, {1, 3}} + B{{-3, 1}, {-2, 2}, {-1, 3}} + B{{-3, 2}, {-2, 3}, {-1, 1}} + (1/2*z-1/2)*B{{-3, 3}, {-2, 2}, {-1, 1}}\n+            -B{{-3, -2}, {-1, 1}, {2, 3}} - B{{-3, -1}, {-2, 2}, {1, 3}}\n+            + B{{-3, 1}, {-2, 2}, {-1, 3}} + B{{-3, 2}, {-2, 3}, {-1, 1}}\n+            + (1/2*z-1/2)*B{{-3, 3}, {-2, 2}, {-1, 1}}\n         \"\"\"\n-        B = self\n-        return (B._q-1)/2 + sum(B([[i,-j],[j,-i]]) - B([[i,j],[-i,-j]]) for i in range(1,j))\n+        I = self._indices\n+        one = self.base_ring().one()\n+        return ((self._q-1)/2\n+                + self._from_dict({I([[i,-j],[j,-i]]): one for i in range(1,j)}, remove_zeros=False)\n+                - self._from_dict({I([[i,j],[-i,-j]]): one for i in range(1,j)}, remove_zeros=False))\n```\nDo you think we should also make this a cached method? What about when `j > n`, what happens then (or is it even defined)?",
    "created_at": "2015-10-16T19:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331585",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>A couple of suggestions:

```diff
     def jucys_murphy(self, j):
         r"""
-        Return a generalized Jucys-Murphy elements for the Brauer algebra.
-        These are outlined in [Naz]_.
+        Return the ``j``-th generalized Jucys-Murphy element of ``self``.
 
+        Could you give a more detailed description of how the elements are defined?
+
         REFERENCES:
 
         .. [Naz] Maxim Nazarov, Young's Orthogonal Form for Brauer's Centralizer
-               Algebra. Journal of Algebra 182 (1996), 664--693.
+           Algebra. Journal of Algebra 182 (1996), 664--693.
 
         EXAMPLES:
 
             sage: z = var('z')
             sage: B = BrauerAlgebra(3,z)
             sage: B.jucys_murphy(1)
             1/2*z - 1/2
             sage: B.jucys_murphy(3)
-            -B{{-3, -2}, {-1, 1}, {2, 3}} - B{{-3, -1}, {-2, 2}, {1, 3}} + B{{-3, 1}, {-2, 2}, {-1, 3}} + B{{-3, 2}, {-2, 3}, {-1, 1}} + (1/2*z-1/2)*B{{-3, 3}, {-2, 2}, {-1, 1}}
+            -B{{-3, -2}, {-1, 1}, {2, 3}} - B{{-3, -1}, {-2, 2}, {1, 3}}
+            + B{{-3, 1}, {-2, 2}, {-1, 3}} + B{{-3, 2}, {-2, 3}, {-1, 1}}
+            + (1/2*z-1/2)*B{{-3, 3}, {-2, 2}, {-1, 1}}
         """
-        B = self
-        return (B._q-1)/2 + sum(B([[i,-j],[j,-i]]) - B([[i,j],[-i,-j]]) for i in range(1,j))
+        I = self._indices
+        one = self.base_ring().one()
+        return ((self._q-1)/2
+                + self._from_dict({I([[i,-j],[j,-i]]): one for i in range(1,j)}, remove_zeros=False)
+                - self._from_dict({I([[i,j],[-i,-j]]): one for i in range(1,j)}, remove_zeros=False))
```
Do you think we should also make this a cached method? What about when `j > n`, what happens then (or is it even defined)?



---

archive/issue_comments_331586.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-17T19:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_331587.json:
```json
{
    "body": "Changing commit from \"15aa5a132c33abfa833a6f5a8974bcf93b3776b0\" to \"5406172502891b43a78426ef76746dc8a73e264b\"",
    "created_at": "2015-10-17T19:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "15aa5a132c33abfa833a6f5a8974bcf93b3776b0" to "5406172502891b43a78426ef76746dc8a73e264b"



---

archive/issue_comments_331588.json:
```json
{
    "body": "<a id='comment:13'></a>Alright, I added a small explanation to the docstring, and also took into account the one element of base ring. However, the problem with your `_from_dict` rewrite is that it does not pass the doctests. This is because when you call the element constructor, it \"fills in\" information you don't give it, but the `BrauerDiagram` class does not do this. Is there a reason to prefer using the `_from_dict` approach? Finally, I believe it probably could be a cached method, although it also isn't a terribly intense computation.",
    "created_at": "2015-10-17T19:05:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331588",
    "user": "https://github.com/ghseeli"
}
```

<a id='comment:13'></a>Alright, I added a small explanation to the docstring, and also took into account the one element of base ring. However, the problem with your `_from_dict` rewrite is that it does not pass the doctests. This is because when you call the element constructor, it "fills in" information you don't give it, but the `BrauerDiagram` class does not do this. Is there a reason to prefer using the `_from_dict` approach? Finally, I believe it probably could be a cached method, although it also isn't a terribly intense computation.



---

archive/issue_comments_331589.json:
```json
{
    "body": "Changing commit from \"5406172502891b43a78426ef76746dc8a73e264b\" to \"9613ee37a939b0a2b5fda54696f91dafc225a65a\"",
    "created_at": "2015-10-17T21:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331589",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "5406172502891b43a78426ef76746dc8a73e264b" to "9613ee37a939b0a2b5fda54696f91dafc225a65a"



---

archive/issue_comments_331590.json:
```json
{
    "body": "Changing branch from \"u/ghseeli/jucys_murphy_elements_for_brauer_algebra\" to \"u/tscrim/jucys_murphy_elements-18798\"",
    "created_at": "2015-10-17T21:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331590",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/ghseeli/jucys_murphy_elements_for_brauer_algebra" to "u/tscrim/jucys_murphy_elements-18798"



---

archive/issue_comments_331591.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2015-10-17T21:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331591",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_331592.json:
```json
{
    "body": "<a id='comment:14'></a>I made some minor tweaks to the documentation. The reason why I use the `_from_dict` to avoid the coercion framework, and it has a two-fold advantage of being faster and not invoking the coercion framework (which has in the past led to annoying consequences). My changes also fix a bug that the first Jucys-Murphy element was not in the Brauer algebra. If you're happy with my changes, then you can set a positive review.\n\n---\nNew commits:",
    "created_at": "2015-10-17T21:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331592",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>I made some minor tweaks to the documentation. The reason why I use the `_from_dict` to avoid the coercion framework, and it has a two-fold advantage of being faster and not invoking the coercion framework (which has in the past led to annoying consequences). My changes also fix a bug that the first Jucys-Murphy element was not in the Brauer algebra. If you're happy with my changes, then you can set a positive review.

---
New commits:



---

archive/issue_comments_331593.json:
```json
{
    "body": "<a id='comment:15'></a>Alright. I am satisfied with these changes. Good catch on the first element!",
    "created_at": "2015-10-18T20:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331593",
    "user": "https://github.com/ghseeli"
}
```

<a id='comment:15'></a>Alright. I am satisfied with these changes. Good catch on the first element!



---

archive/issue_comments_331594.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-18T20:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331594",
    "user": "https://github.com/ghseeli"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_052575.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-20T22:32:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18798#event-52575"
}
```



---

archive/issue_comments_331595.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-20T22:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331595",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_331596.json:
```json
{
    "body": "Changing branch from \"u/tscrim/jucys_murphy_elements-18798\" to \"9613ee37a939b0a2b5fda54696f91dafc225a65a\"",
    "created_at": "2015-10-20T22:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18798",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18798#issuecomment-331596",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/tscrim/jucys_murphy_elements-18798" to "9613ee37a939b0a2b5fda54696f91dafc225a65a"
