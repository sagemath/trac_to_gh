# Issue 18508: Various python 3 issues

archive/issues_018271.json:
```json
{
    "assignees": [],
    "body": "There are a number of really small issues when trying to build with python 3:\n\n1. sagenb is a marked as dependency of jmol, even though this is no longer the case\n2. sagenb is marked as a runtime dependency of sage, again this is no longer the case\n3. scons and sagenb don't work with python 3, so they should only be a standard package for python 2\n4. atlas needs a small change to make its build script work with python 3\n\nCC:  @vbraun @nathanncohen\n\nBranch/Commit: **[83e849e](https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **R. Andrew Ohana**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18508_\n\n",
    "closed_at": "2015-06-02T14:42:10Z",
    "created_at": "2015-05-26T00:29:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Various python 3 issues",
    "type": "issue",
    "updated_at": "2015-06-02T14:42:10Z",
    "url": "https://github.com/sagemath/sage/issues/18508",
    "user": "https://github.com/ohanar"
}
```
There are a number of really small issues when trying to build with python 3:

1. sagenb is a marked as dependency of jmol, even though this is no longer the case
2. sagenb is marked as a runtime dependency of sage, again this is no longer the case
3. scons and sagenb don't work with python 3, so they should only be a standard package for python 2
4. atlas needs a small change to make its build script work with python 3

CC:  @vbraun @nathanncohen

Branch/Commit: **[83e849e](https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff)**

Reviewer: **Jeroen Demeyer**

Author: **R. Andrew Ohana**

_Issue created by migration from https://trac.sagemath.org/ticket/18508_





---

archive/issue_events_245243.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-26T00:29:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245243"
}
```



---

archive/issue_events_245244.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-26T00:29:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245244"
}
```



---

archive/issue_events_245245.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-26T00:29:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245245"
}
```



---

archive/issue_events_245246.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-26T00:29:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245246"
}
```



---

archive/issue_comments_258182.json:
```json
{
    "body": "Dependencies: **#17607**",
    "created_at": "2015-05-26T00:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258182",
    "user": "https://github.com/ohanar"
}
```

Dependencies: **#17607**



---

archive/issue_comments_258183.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThe `notebook()` command uses sagenb, so its a runtime dependency. See also #18512\n\nI'm fine with EOL'ing SageNB with Python2, but you should probably post to sage-devel to see if anybody is interested in maintaining it.",
    "created_at": "2015-05-26T07:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258183",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">Comment 3</div>

The `notebook()` command uses sagenb, so its a runtime dependency. See also #18512

I'm fine with EOL'ing SageNB with Python2, but you should probably post to sage-devel to see if anybody is interested in maintaining it.



---

archive/issue_comments_258184.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@vbraun](#comment%3A3):\n> The `notebook()` command uses sagenb, so its a runtime dependency.\n\nNo, it's not a run-time dependency, since Sage works without the Sage notebook. Of course, the `notebook()` command doesn't work, but that doesn't matter.",
    "created_at": "2015-05-26T08:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258184",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@vbraun](#comment%3A3):
> The `notebook()` command uses sagenb, so its a runtime dependency.

No, it's not a run-time dependency, since Sage works without the Sage notebook. Of course, the `notebook()` command doesn't work, but that doesn't matter.



---

archive/issue_comments_258185.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nUnless you add support for the `python2standard` package type, this branch isn't going to work.",
    "created_at": "2015-05-26T08:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258185",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">Comment 5</div>

Unless you add support for the `python2standard` package type, this branch isn't going to work.



---

archive/issue_events_245247.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T08:56:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245247"
}
```



---

archive/issue_events_245248.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T08:56:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245248"
}
```



---

archive/issue_comments_258186.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThere are other packages that could be removed yet Sage would still starts up; of course some functionality is then missing. I don't see how sagenb is different. Define \"works\". If you mean \"works enough to create the conway polynomial pickles\" then I guess so.\n\nThe `python2standard` type is from #17607",
    "created_at": "2015-05-26T09:01:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258186",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">Comment 6</div>

There are other packages that could be removed yet Sage would still starts up; of course some functionality is then missing. I don't see how sagenb is different. Define "works". If you mean "works enough to create the conway polynomial pickles" then I guess so.

The `python2standard` type is from #17607



---

archive/issue_comments_258187.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@vbraun](#comment%3A6):\n> Define \"works\".\n\nThis is actually documented in `build/deps`:\n\n```\n# Everything needed to start up Sage using \"./sage\".  Of course, not\n# every part of Sage will work.  It does not include Maxima for example.\n```",
    "created_at": "2015-05-26T09:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258187",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@vbraun](#comment%3A6):
> Define "works".

This is actually documented in `build/deps`:

```
# Everything needed to start up Sage using "./sage".  Of course, not
# every part of Sage will work.  It does not include Maxima for example.
```



---

archive/issue_comments_258188.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI guess a formal definition of \"works\" is that\n\n```\n./sage -c \"\"\n```\nhas exit status `0`.",
    "created_at": "2015-05-26T09:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258188",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">Comment 8</div>

I guess a formal definition of "works" is that

```
./sage -c ""
```
has exit status `0`.



---

archive/issue_events_245249.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T09:27:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245249"
}
```



---

archive/issue_events_245250.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T09:27:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245250"
}
```



---

archive/issue_comments_258189.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nI don't like this from #17607:\n\n```\n    if [ \"$1\" = all ]; then\n        PKG_VAR=PYTHON\n        if [ \"$SAGE_PYTHON3\" = yes ]; then\n            PKG_NAME=python3\n        else\n            PKG_NAME=python2\n        fi\n        PKG_VERSION=$(newest_version $PKG_NAME)\n        echo \"$PKG_NAME $PKG_VERSION $PKG_VAR\"\n    fi\n```\n\nJust define `PYTHON` as alias of `PYTHON2` or `PYTHON3`, analogous how `build/install` deals with `GMP/MPIR` and the toolchain. See the `SAGE_MP_LIBRARY` and `TOOLCHAIN` variables.",
    "created_at": "2015-05-26T10:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258189",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">Comment 10</div>

I don't like this from #17607:

```
    if [ "$1" = all ]; then
        PKG_VAR=PYTHON
        if [ "$SAGE_PYTHON3" = yes ]; then
            PKG_NAME=python3
        else
            PKG_NAME=python2
        fi
        PKG_VERSION=$(newest_version $PKG_NAME)
        echo "$PKG_NAME $PKG_VERSION $PKG_VAR"
    fi
```

Just define `PYTHON` as alias of `PYTHON2` or `PYTHON3`, analogous how `build/install` deals with `GMP/MPIR` and the toolchain. See the `SAGE_MP_LIBRARY` and `TOOLCHAIN` variables.



---

archive/issue_comments_258190.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nWe will have to remove python2 in the not so distant future so I don't see the value in winning any beauty contests in the meantime.",
    "created_at": "2015-05-26T10:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258190",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">Comment 11</div>

We will have to remove python2 in the not so distant future so I don't see the value in winning any beauty contests in the meantime.



---

archive/issue_comments_258191.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@vbraun](#comment%3A11):\n> We will have to remove python2 in the not so distant future\n\nI think that future might be more distant than you think... but that is besides the point anyway.\n\n> I don't see the value in winning any beauty contests in the meantime.\n\nThis isn't just about beauty. It's about writing code which is easy to understand by doing things in a consistent way.",
    "created_at": "2015-05-26T10:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258191",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@vbraun](#comment%3A11):
> We will have to remove python2 in the not so distant future

I think that future might be more distant than you think... but that is besides the point anyway.

> I don't see the value in winning any beauty contests in the meantime.

This isn't just about beauty. It's about writing code which is easy to understand by doing things in a consistent way.



---

archive/issue_comments_258192.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\n> This isn't just about beauty. It's about writing code which is easy to understand by doing things in a consistent way.\n\n+1\n\nPlus we might also want to work on the build/ files to make them more readable, and that task is not made simpler if we have to clean \"workarounds\" on the way.\n\nNathann\n\nP.S.: this does not exactly give the impression of a 'clean job'.\n\n```\n(GRRR|\u2026)~/.Sage/build/pkgs$ head python3/checksums.ini -n 1\ntarball=Python-VERSION.tar.gz\n(GRRR|\u2026)~/.Sage/build/pkgs$ head python2/checksums.ini -n 1\ntarball=python-VERSION.tar.gz\n```",
    "created_at": "2015-05-26T10:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258192",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">Comment 13</div>

> This isn't just about beauty. It's about writing code which is easy to understand by doing things in a consistent way.

+1

Plus we might also want to work on the build/ files to make them more readable, and that task is not made simpler if we have to clean "workarounds" on the way.

Nathann

P.S.: this does not exactly give the impression of a 'clean job'.

```
(GRRR|…)~/.Sage/build/pkgs$ head python3/checksums.ini -n 1
tarball=Python-VERSION.tar.gz
(GRRR|…)~/.Sage/build/pkgs$ head python2/checksums.ini -n 1
tarball=python-VERSION.tar.gz
```



---

archive/issue_comments_258193.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@nathanncohen](#comment%3A13):\n> Plus we might also want to work on the build/ files to make them more readable\n\nLike strip out the Python 2.x stuff in a little bit over 4 years?",
    "created_at": "2015-05-26T10:42:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258193",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@nathanncohen](#comment%3A13):
> Plus we might also want to work on the build/ files to make them more readable

Like strip out the Python 2.x stuff in a little bit over 4 years?



---

archive/issue_comments_258194.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@vbraun](#comment%3A6):\n> The `python2standard` type is from #17607\n\n...and I will remove it in #18517 since it's a very ugly hack to add to the build system.",
    "created_at": "2015-05-26T11:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258194",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@vbraun](#comment%3A6):
> The `python2standard` type is from #17607

...and I will remove it in #18517 since it's a very ugly hack to add to the build system.



---

archive/issue_comments_258195.json:
```json
{
    "body": "Changed dependencies from **#17607** to **#17607, #18517**",
    "created_at": "2015-05-26T13:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258195",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17607** to **#17607, #18517**



---

archive/issue_comments_258196.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nWhat exactly are you trying to achieve with making `scons` build on Python 2 only? How do you solve the problem that `c_lib` still requires `scons` to build?",
    "created_at": "2015-05-26T13:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258196",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">Comment 16</div>

What exactly are you trying to achieve with making `scons` build on Python 2 only? How do you solve the problem that `c_lib` still requires `scons` to build?



---

archive/issue_events_245251.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T13:09:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245251"
}
```



---

archive/issue_events_245252.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T13:09:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245252"
}
```



---

archive/issue_comments_258197.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nFor `sagenb`, you could instead edit `build/pkgs/sagenb/spkg-install` to skip the package on Python 3.",
    "created_at": "2015-05-26T13:11:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258197",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

For `sagenb`, you could instead edit `build/pkgs/sagenb/spkg-install` to skip the package on Python 3.



---

archive/issue_comments_258198.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\n`scons` doesn't support Python 3 at this point.",
    "created_at": "2015-05-26T14:14:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258198",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">Comment 18</div>

`scons` doesn't support Python 3 at this point.



---

archive/issue_comments_258199.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nReplying to [@vbraun](#comment%3A18):\n> `scons` doesn't support Python 3 at this point.\n\nI know, but read my question: How do you solve the problem that `c_lib` still requires `scons` to build? In other words: what's the gain from removing `SCONS` as standard package if it's still a dependency of `csage`?",
    "created_at": "2015-05-26T14:47:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258199",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">Comment 19</div>

Replying to [@vbraun](#comment%3A18):
> `scons` doesn't support Python 3 at this point.

I know, but read my question: How do you solve the problem that `c_lib` still requires `scons` to build? In other words: what's the gain from removing `SCONS` as standard package if it's still a dependency of `csage`?



---

archive/issue_comments_258200.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nI don't claim to have solved that, but we might want to get rid of scons. I think Andrew did some work towards autotoolizing polybori. We might want to do the same for `c_lib`, though its not the only option.",
    "created_at": "2015-05-26T16:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258200",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">Comment 20</div>

I don't claim to have solved that, but we might want to get rid of scons. I think Andrew did some work towards autotoolizing polybori. We might want to do the same for `c_lib`, though its not the only option.



---

archive/issue_comments_258201.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@vbraun](#comment%3A20):\n> I don't claim to have solved that, but we might want to get rid of scons.\n\nIf it helps you, I propose to make `scons` an optional package. It will still be built by default since it's needed as dependency of `polybori` and `c_lib`.\n\n> We might want to do the same for `c_lib`, though its not the only option.\n\nI assume you are aware of #17854?",
    "created_at": "2015-05-26T16:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258201",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@vbraun](#comment%3A20):
> I don't claim to have solved that, but we might want to get rid of scons.

If it helps you, I propose to make `scons` an optional package. It will still be built by default since it's needed as dependency of `polybori` and `c_lib`.

> We might want to do the same for `c_lib`, though its not the only option.

I assume you are aware of #17854?



---

archive/issue_comments_258202.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@jdemeyer](#comment%3A21):\n> Replying to [@vbraun](#comment%3A20):\n> > I don't claim to have solved that, but we might want to get rid of scons.\n\n> If it helps you, I propose to make `scons` an optional package. It will still be built by default since it's needed as dependency of `polybori` and `c_lib`.\n\nYes, I agree that this is cleaner than what I did. I'll make a patch sometime today updating this.\n\n> > We might want to do the same for `c_lib`, though its not the only option.\n\n> I assume you are aware of #17854?\n\nI've been basically assuming that #17854 will be done in the not too distant future, which will remove half of the scons dependency.",
    "created_at": "2015-05-26T17:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258202",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@jdemeyer](#comment%3A21):
> Replying to [@vbraun](#comment%3A20):
> > I don't claim to have solved that, but we might want to get rid of scons.

> If it helps you, I propose to make `scons` an optional package. It will still be built by default since it's needed as dependency of `polybori` and `c_lib`.

Yes, I agree that this is cleaner than what I did. I'll make a patch sometime today updating this.

> > We might want to do the same for `c_lib`, though its not the only option.

> I assume you are aware of #17854?

I've been basically assuming that #17854 will be done in the not too distant future, which will remove half of the scons dependency.



---

archive/issue_comments_258203.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1628a11e1ffbc062bf0d45558dabed30a3ad7e5f\">1628a11</a></td><td><code>fix scons and sagenb to work with #18517</code></td></tr></table>\n",
    "created_at": "2015-05-26T18:31:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258203",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1628a11e1ffbc062bf0d45558dabed30a3ad7e5f">1628a11</a></td><td><code>fix scons and sagenb to work with #18517</code></td></tr></table>




---

archive/issue_comments_258204.json:
```json
{
    "body": "Changed commit from **[9d2af12](https://github.com/sagemath/sagetrac-mirror/commit/9d2af12245346ddaff1d6727fe968fdfbbc4cb84)** to **[1628a11](https://github.com/sagemath/sagetrac-mirror/commit/1628a11e1ffbc062bf0d45558dabed30a3ad7e5f)**",
    "created_at": "2015-05-26T18:31:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258204",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9d2af12](https://github.com/sagemath/sagetrac-mirror/commit/9d2af12245346ddaff1d6727fe968fdfbbc4cb84)** to **[1628a11](https://github.com/sagemath/sagetrac-mirror/commit/1628a11e1ffbc062bf0d45558dabed30a3ad7e5f)**



---

archive/issue_events_245253.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-26T18:47:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245253"
}
```



---

archive/issue_events_245254.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-26T18:47:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245254"
}
```



---

archive/issue_comments_258205.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nRelated: https://github.com/sagemath/sagenb/issues/343",
    "created_at": "2015-05-26T18:52:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258205",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:25" align="right">Comment 25</div>

Related: https://github.com/sagemath/sagenb/issues/343



---

archive/issue_comments_258206.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@ohanar](#comment%3A22):\n> I've been basically assuming that #17854 will be done in the not too distant future\n\nIt's only `ntl_wrap` which remains (#18367). Moving `ntl_wrap` to the Sage library is relatively easy I think but a lot of boring work.",
    "created_at": "2015-05-26T18:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258206",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@ohanar](#comment%3A22):
> I've been basically assuming that #17854 will be done in the not too distant future

It's only `ntl_wrap` which remains (#18367). Moving `ntl_wrap` to the Sage library is relatively easy I think but a lot of boring work.



---

archive/issue_events_245255.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T20:08:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245255"
}
```



---

archive/issue_events_245256.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-26T20:08:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245256"
}
```



---

archive/issue_comments_258207.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\n\n```\nThe content of \"/usr/local/src/sage-config/build/pkgs/sagenb/type\" must be 'base', 'standard', 'optional' or 'experimental'\n```\n(just set back the type to `standard`, see #18517)",
    "created_at": "2015-05-26T20:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258207",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">Comment 27</div>


```
The content of "/usr/local/src/sage-config/build/pkgs/sagenb/type" must be 'base', 'standard', 'optional' or 'experimental'
```
(just set back the type to `standard`, see #18517)



---

archive/issue_comments_258208.json:
```json
{
    "body": "Changed commit from **[1628a11](https://github.com/sagemath/sagetrac-mirror/commit/1628a11e1ffbc062bf0d45558dabed30a3ad7e5f)** to **[6fe3896](https://github.com/sagemath/sagetrac-mirror/commit/6fe3896ab7a602239f16628ec55242f163c6fe22)**",
    "created_at": "2015-05-27T01:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258208",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1628a11](https://github.com/sagemath/sagetrac-mirror/commit/1628a11e1ffbc062bf0d45558dabed30a3ad7e5f)** to **[6fe3896](https://github.com/sagemath/sagetrac-mirror/commit/6fe3896ab7a602239f16628ec55242f163c6fe22)**



---

archive/issue_comments_258209.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fe3896ab7a602239f16628ec55242f163c6fe22\">6fe3896</a></td><td><code>make sagenb a standard package again</code></td></tr></table>\n",
    "created_at": "2015-05-27T01:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258209",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28" align="right">Comment 28</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fe3896ab7a602239f16628ec55242f163c6fe22">6fe3896</a></td><td><code>make sagenb a standard package again</code></td></tr></table>




---

archive/issue_events_245257.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-27T01:44:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245257"
}
```



---

archive/issue_events_245258.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2015-05-27T01:44:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245258"
}
```



---

archive/issue_comments_258210.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nThis is probably good, but I'd rather wait for Sage 6.8.beta1 to formally review this.",
    "created_at": "2015-05-27T11:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258210",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">Comment 30</div>

This is probably good, but I'd rather wait for Sage 6.8.beta1 to formally review this.



---

archive/issue_comments_258211.json:
```json
{
    "body": "Changed branch from **[u/ohanar/python3smallfixes](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/python3smallfixes)** to **[u/jdemeyer/python3smallfixes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/python3smallfixes)**",
    "created_at": "2015-05-30T09:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258211",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/ohanar/python3smallfixes](https://github.com/sagemath/sagetrac-mirror/tree/u/ohanar/python3smallfixes)** to **[u/jdemeyer/python3smallfixes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/python3smallfixes)**



---

archive/issue_comments_258212.json:
```json
{
    "body": "Changed commit from **[6fe3896](https://github.com/sagemath/sagetrac-mirror/commit/6fe3896ab7a602239f16628ec55242f163c6fe22)** to **[83e849e](https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff)**",
    "created_at": "2015-05-30T09:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258212",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[6fe3896](https://github.com/sagemath/sagetrac-mirror/commit/6fe3896ab7a602239f16628ec55242f163c6fe22)** to **[83e849e](https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff)**



---

archive/issue_comments_258213.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff\">83e849e</a></td><td><code>Merge tag '6.8.beta2' into t/18508/python3smallfixes</code></td></tr></table>\n",
    "created_at": "2015-05-30T09:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258213",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">Comment 32</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff">83e849e</a></td><td><code>Merge tag '6.8.beta2' into t/18508/python3smallfixes</code></td></tr></table>




---

archive/issue_comments_258214.json:
```json
{
    "body": "Changed dependencies from **#17607, #18517** to none",
    "created_at": "2015-05-30T09:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258214",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17607, #18517** to none



---

archive/issue_events_245259.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T09:36:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245259"
}
```



---

archive/issue_events_245260.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T09:36:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245260"
}
```



---

archive/issue_comments_258215.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nReviewer name is missing",
    "created_at": "2015-05-30T14:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258215",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:34" align="right">Comment 34</div>

Reviewer name is missing



---

archive/issue_events_245261.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-30T14:14:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245261"
}
```



---

archive/issue_events_245262.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-30T14:14:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245262"
}
```



---

archive/issue_events_245263.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T14:26:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245263"
}
```



---

archive/issue_events_245264.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T14:26:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245264"
}
```



---

archive/issue_comments_258216.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-05-30T14:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258216",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_258217.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/python3smallfixes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/python3smallfixes)** to **[83e849e](https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff)**",
    "created_at": "2015-06-02T14:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18508#issuecomment-258217",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/python3smallfixes](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/python3smallfixes)** to **[83e849e](https://github.com/sagemath/sagetrac-mirror/commit/83e849e176c5906cfc6a20a5d83129ee5ad62dff)**



---

archive/issue_events_245265.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-02T14:42:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245265"
}
```



---

archive/issue_events_245266.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "56643b7bcad6cd5da3200d824ea0f2025564a283",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-06-02T14:42:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18508",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18508#event-245266"
}
```
