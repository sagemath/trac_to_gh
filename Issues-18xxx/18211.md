# Issue 18211: Computing Ehrhart polynomials with LattE

archive/issues_017974.json:
```json
{
    "body": "We just call LattE (command `count`) through the command line to get the Ehrhart polynomial of a lattice polytope.\n\nFor complete doctesting you should run both of the following command (with and without `--long`)\n\n```\nsage -t --optional=sage,latte_int $SAGE_ROOT/src/sage/geometry/polyhedron/\nsage -t $SAGE_ROOT/src/sage/geometry/polyhedron/\n```\n\nFollow up: #18232\n\n**CC:**  @fchapoton bedutra @mkoeppe @vbraun @nathanncohen\n\n**Branch:** [d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)\n\n**Reviewer:** Matthias Koeppe, Nathann Cohen\n\n**Author:** Vincent Delecroix\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18211\n\n",
    "closed_at": "2015-04-19T01:52:07Z",
    "created_at": "2015-04-15T19:53:50Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Computing Ehrhart polynomials with LattE",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18211",
    "user": "https://github.com/videlec"
}
```
We just call LattE (command `count`) through the command line to get the Ehrhart polynomial of a lattice polytope.

For complete doctesting you should run both of the following command (with and without `--long`)

```
sage -t --optional=sage,latte_int $SAGE_ROOT/src/sage/geometry/polyhedron/
sage -t $SAGE_ROOT/src/sage/geometry/polyhedron/
```

Follow up: #18232

**CC:**  @fchapoton bedutra @mkoeppe @vbraun @nathanncohen

**Branch:** [d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)

**Reviewer:** Matthias Koeppe, Nathann Cohen

**Author:** Vincent Delecroix

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/18211





---

archive/issue_comments_319260.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-04-15T19:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319260",
    "user": "https://github.com/videlec"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_319261.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/18211](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18211)",
    "created_at": "2015-04-15T19:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319261",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/18211](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18211)



---

archive/issue_comments_319262.json:
```json
{
    "body": "**Commit:** [5110cc954a88ce5477b7f35b60551aae69d9a788](https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788)",
    "created_at": "2015-04-15T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319262",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [5110cc954a88ce5477b7f35b60551aae69d9a788](https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788)



---

archive/issue_comments_319263.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788\">5110cc9</a></td><td><code>Trac 18211: use LattE to compute the Ehrhart polynomial</code></td></tr></table>\n",
    "created_at": "2015-04-15T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788">5110cc9</a></td><td><code>Trac 18211: use LattE to compute the Ehrhart polynomial</code></td></tr></table>




---

archive/issue_comments_319264.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis looks great to me. \n\nIn the docstring, could you fix the spelling: \"LattE integral\" -> \"LattE integrale\"\n\nAlso, LattE has many options that control the type of algorithm used. \nFor example, for many examples \"--maxdet=1000\" will make the calculation much faster.  \nIs there a way to allow the user to pass such options to LattE?",
    "created_at": "2015-04-15T20:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319264",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
This looks great to me. 

In the docstring, could you fix the spelling: "LattE integral" -> "LattE integrale"

Also, LattE has many options that control the type of algorithm used. 
For example, for many examples "--maxdet=1000" will make the calculation much faster.  
Is there a way to allow the user to pass such options to LattE?



---

archive/issue_comments_319265.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-We just call LattE (command `count`) through the command line to get the Ehrhard polynomial of a lattice polytope.\n+We just call LattE (command `count`) through the command line to get the Ehrhart polynomial of a lattice polytope.\n``````\n",
    "created_at": "2015-04-15T20:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319265",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-We just call LattE (command `count`) through the command line to get the Ehrhard polynomial of a lattice polytope.
+We just call LattE (command `count`) through the command line to get the Ehrhart polynomial of a lattice polytope.
``````




---

archive/issue_comments_319266.json:
```json
{
    "body": "<a id='comment:5'></a>\nHello Matthias,\n\nReplying to [mkoeppe](#comment%3A3):\n> This looks great to me. \n> \n> In the docstring, could you fix the spelling: \"LattE integral\" -> \"LattE integrale\"\n\n\nWill do. Thanks. I was not sure if I needed to cite people for LattE contribution, should I?\n  \n> Also, LattE has many options that control the type of algorithm used. \n> For example, for many examples \"--maxdet=1000\" will make the calculation much faster.  \n> Is there a way to allow the user to pass such options to LattE?\n\n\nYes, whatever you want. The function `Popen` of python is flexible to send any option to the command line. Could you describe the set of option that will be interesting to have?\n\n(I am currently testing the new method on the Sage library of polytopes... and I found plenty of bugs!)\n\nVincent",
    "created_at": "2015-04-15T20:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319266",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
Hello Matthias,

Replying to [mkoeppe](#comment%3A3):
> This looks great to me. 
> 
> In the docstring, could you fix the spelling: "LattE integral" -> "LattE integrale"


Will do. Thanks. I was not sure if I needed to cite people for LattE contribution, should I?
  
> Also, LattE has many options that control the type of algorithm used. 
> For example, for many examples "--maxdet=1000" will make the calculation much faster.  
> Is there a way to allow the user to pass such options to LattE?


Yes, whatever you want. The function `Popen` of python is flexible to send any option to the command line. Could you describe the set of option that will be interesting to have?

(I am currently testing the new method on the Sage library of polytopes... and I found plenty of bugs!)

Vincent



---

archive/issue_comments_319267.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-04-15T20:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319267",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_319268.json:
```json
{
    "body": "<a id='comment:7'></a>\nError checking would be nice. Probably just use `subprocess.check_output`",
    "created_at": "2015-04-15T20:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319268",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
Error checking would be nice. Probably just use `subprocess.check_output`



---

archive/issue_comments_319269.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [vbraun](#comment%3A7):\n> Error checking would be nice. Probably just use `subprocess.check_output`\n\n\nIs `check_output` compatible with `Popen`? Is the following ok\n\n```\nlatte_proc = Popen(*args)\nans, err = latte_proc.communicate()\nret_code = latte_proc.poll()\nif ret_code:\n    raise ValueError\n```",
    "created_at": "2015-04-15T20:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319269",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Replying to [vbraun](#comment%3A7):
> Error checking would be nice. Probably just use `subprocess.check_output`


Is `check_output` compatible with `Popen`? Is the following ok

```
latte_proc = Popen(*args)
ans, err = latte_proc.communicate()
ret_code = latte_proc.poll()
if ret_code:
    raise ValueError
```



---

archive/issue_comments_319270.json:
```json
{
    "body": "**Changing commit** from \"[5110cc954a88ce5477b7f35b60551aae69d9a788](https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788)\" to \"[d52053c18a593a621af90b43608851304bc32052](https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052)\".",
    "created_at": "2015-04-15T21:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5110cc954a88ce5477b7f35b60551aae69d9a788](https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788)" to "[d52053c18a593a621af90b43608851304bc32052](https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052)".



---

archive/issue_comments_319271.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf2a10f56ecacf682d57bb355ddfd9980eaee001\">cf2a10f</a></td><td><code>Trac 18211: another example using Birkhoff_polytope</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca8da5a732ca6247cc4ffd375f94f859b6cdf0b1\">ca8da5a</a></td><td><code>Trac 18211: fixed spelling LattE integral*e*</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052\">d52053c</a></td><td><code>Trac 18211: check error + options</code></td></tr></table>\n",
    "created_at": "2015-04-15T21:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf2a10f56ecacf682d57bb355ddfd9980eaee001">cf2a10f</a></td><td><code>Trac 18211: another example using Birkhoff_polytope</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca8da5a732ca6247cc4ffd375f94f859b6cdf0b1">ca8da5a</a></td><td><code>Trac 18211: fixed spelling LattE integral*e*</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052">d52053c</a></td><td><code>Trac 18211: check error + options</code></td></tr></table>




---

archive/issue_comments_319272.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-04-15T21:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319272",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_319273.json:
```json
{
    "body": "<a id='comment:10'></a>\nAll right, LattE is correctly spelled, output is checked and options are taken into account! Needs review again.\n\nVincent",
    "created_at": "2015-04-15T21:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319273",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
All right, LattE is correctly spelled, output is checked and options are taken into account! Needs review again.

Vincent



---

archive/issue_comments_319274.json:
```json
{
    "body": "<a id='comment:11'></a>\nBy the way, I am not sure about the place where I put the code. It is currently in `base_ZZ.py` which means that the polytope has to be defined with equations with coefficients in `ZZ`. But it might be that some polyhedron with coefficients in `QQ` actually give a lattice polytope. If anybody has an idea about that.",
    "created_at": "2015-04-15T21:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319274",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
By the way, I am not sure about the place where I put the code. It is currently in `base_ZZ.py` which means that the polytope has to be defined with equations with coefficients in `ZZ`. But it might be that some polyhedron with coefficients in `QQ` actually give a lattice polytope. If anybody has an idea about that.



---

archive/issue_comments_319275.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe LattE command line options need to be written with dashes, not underscores:\n\n--irrational_primal --> --irrational-primal\n--irrational_all_primal --> --irrational-all-primal\n\nThe docstring mentions no_decomposition, but it is not handled in the code",
    "created_at": "2015-04-15T21:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319275",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
The LattE command line options need to be written with dashes, not underscores:

--irrational_primal --> --irrational-primal
--irrational_all_primal --> --irrational-all-primal

The docstring mentions no_decomposition, but it is not handled in the code



---

archive/issue_comments_319276.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [mkoeppe](#comment%3A12):\n> The LattE command line options need to be written with dashes, not underscores:\n> \n> --irrational_primal --> --irrational-primal\n> --irrational_all_primal --> --irrational-all-primal\n\n\nRight... LattE did not complain very hard.\n\n> The docstring mentions no_decomposition, but it is not handled in the code\n\n\nWill do.\n\nIf you have time, could you provide more details about the command line option. I found the LattE documentation quite cryptic to that respect.\n\nVincent",
    "created_at": "2015-04-15T21:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319276",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
Replying to [mkoeppe](#comment%3A12):
> The LattE command line options need to be written with dashes, not underscores:
> 
> --irrational_primal --> --irrational-primal
> --irrational_all_primal --> --irrational-all-primal


Right... LattE did not complain very hard.

> The docstring mentions no_decomposition, but it is not handled in the code


Will do.

If you have time, could you provide more details about the command line option. I found the LattE documentation quite cryptic to that respect.

Vincent



---

archive/issue_comments_319277.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7\">0f5122b</a></td><td><code>Trac 18211: fix command line arguments</code></td></tr></table>\n",
    "created_at": "2015-04-15T22:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7">0f5122b</a></td><td><code>Trac 18211: fix command line arguments</code></td></tr></table>




---

archive/issue_comments_319278.json:
```json
{
    "body": "**Changing commit** from \"[d52053c18a593a621af90b43608851304bc32052](https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052)\" to \"[0f5122bddee5f104a3e2ff65715129eb275452e7](https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7)\".",
    "created_at": "2015-04-15T22:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d52053c18a593a621af90b43608851304bc32052](https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052)" to "[0f5122bddee5f104a3e2ff65715129eb275452e7](https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7)".



---

archive/issue_comments_319279.json:
```json
{
    "body": "<a id='comment:15'></a>\nFor complete argument checking, it should probably say \"if maxdet is not None\".",
    "created_at": "2015-04-16T00:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319279",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
For complete argument checking, it should probably say "if maxdet is not None".



---

archive/issue_comments_319280.json:
```json
{
    "body": "<a id='comment:16'></a>\nInstead of using `is_package_installed()`, I would prefer the more Pythonic\n\n```\ntry:\n    latte_proc = Popen(args, stdin = PIPE, stdout=PIPE, stderr=PIPE)\nexcept OSError:\n    raise ValueError(\"The package latte_int must be installed!\\n\" + package_mesg())\n```",
    "created_at": "2015-04-16T06:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319280",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Instead of using `is_package_installed()`, I would prefer the more Pythonic

```
try:
    latte_proc = Popen(args, stdin = PIPE, stdout=PIPE, stderr=PIPE)
except OSError:
    raise ValueError("The package latte_int must be installed!\n" + package_mesg())
```



---

archive/issue_comments_319281.json:
```json
{
    "body": "<a id='comment:18'></a>\nIs this `if maxdet` ok or should it be `if maxdet is not None` ? I am wondering about the case `maxdet=0` (if it makes any sense).",
    "created_at": "2015-04-16T10:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319281",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
Is this `if maxdet` ok or should it be `if maxdet is not None` ? I am wondering about the case `maxdet=0` (if it makes any sense).



---

archive/issue_comments_319282.json:
```json
{
    "body": "<a id='comment:19'></a>\n(oops sorry mkoeppe. I had not noticed you had made this comment already)\n\nI get a broken doctest about a parent:\n\n```\nFile \"polyhedron/base_ZZ.py\", line 191, in sage.geometry.polyhedron.base_ZZ.Polyhedron_ZZ.?\nFailed example:\n    parent(_)\nExpected:\n    Univariate Polynomial Ring in t over Rational Field\nGot:\n    <type 'int'>\n```\n\nThis is apparently solved with a `optional - latte_int`",
    "created_at": "2015-04-16T11:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319282",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'></a>
(oops sorry mkoeppe. I had not noticed you had made this comment already)

I get a broken doctest about a parent:

```
File "polyhedron/base_ZZ.py", line 191, in sage.geometry.polyhedron.base_ZZ.Polyhedron_ZZ.?
Failed example:
    parent(_)
Expected:
    Univariate Polynomial Ring in t over Rational Field
Got:
    <type 'int'>
```

This is apparently solved with a `optional - latte_int`



---

archive/issue_comments_319283.json:
```json
{
    "body": "<a id='comment:20'></a>\nOnce the package is installed, I get another broken doctest\n\n```\nFile \"polyhedron/library.py\", line 179, in sage.geometry.polyhedron.library.Polytopes.Birkhoff_polytope\nFailed example:\n    p3 = b3.ehrhart_polynomial()     # optional - latte_int\nExpected:\n    1/8*t^4 + 3/4*t^3 + 15/8*t^2 + 9/4*t + 1\nGot:\n    <BLANKLINE>\n```\n\nI have a question about the way you call the process, however. The way it is done, it seems that no output is being printed before the process has ended. If the user asked for verbosity, wouldn't it be better to just let the process print to stdout so that one can get some info on the process *while* it is running? \n\nIt seems that you only need to do `stdout=(None if verbose else PIPE)`.\n\nNathann",
    "created_at": "2015-04-16T11:31:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319283",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
Once the package is installed, I get another broken doctest

```
File "polyhedron/library.py", line 179, in sage.geometry.polyhedron.library.Polytopes.Birkhoff_polytope
Failed example:
    p3 = b3.ehrhart_polynomial()     # optional - latte_int
Expected:
    1/8*t^4 + 3/4*t^3 + 15/8*t^2 + 9/4*t + 1
Got:
    <BLANKLINE>
```

I have a question about the way you call the process, however. The way it is done, it seems that no output is being printed before the process has ended. If the user asked for verbosity, wouldn't it be better to just let the process print to stdout so that one can get some info on the process *while* it is running? 

It seems that you only need to do `stdout=(None if verbose else PIPE)`.

Nathann



---

archive/issue_comments_319284.json:
```json
{
    "body": "**Changing commit** from \"[0f5122bddee5f104a3e2ff65715129eb275452e7](https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7)\" to \"[b877932445212ddfd72fd70079c53f17df6d5fd9](https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9)\".",
    "created_at": "2015-04-16T13:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0f5122bddee5f104a3e2ff65715129eb275452e7](https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7)" to "[b877932445212ddfd72fd70079c53f17df6d5fd9](https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9)".



---

archive/issue_comments_319285.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9\">b877932</a></td><td><code>Trac 18211: fix arguments + doctests + cwd=SAGE_TMP</code></td></tr></table>\n",
    "created_at": "2015-04-16T13:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9">b877932</a></td><td><code>Trac 18211: fix arguments + doctests + cwd=SAGE_TMP</code></td></tr></table>




---

archive/issue_comments_319286.json:
```json
{
    "body": "<a id='comment:22'></a>\n`count` is annoying as it always creates the two files `latte_stats` and `totalTime`. And possibly: `tri.ead`, `tri.ecd`, `tri.ext`, `tri.iad`, `tri.icd`, `tri.ine` depending on the options... I modified the execution path to be `SAGE_TMP` (the option `cwd` in `Popen`).\n\nI also sorted out all other comments except [comment:20](#comment%3A20). If I set `stderr` or `stdout` to something else than `PIPE` then I am not able to get the result of the command back when doing `process.communicate()`.",
    "created_at": "2015-04-16T13:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319286",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
`count` is annoying as it always creates the two files `latte_stats` and `totalTime`. And possibly: `tri.ead`, `tri.ecd`, `tri.ext`, `tri.iad`, `tri.icd`, `tri.ine` depending on the options... I modified the execution path to be `SAGE_TMP` (the option `cwd` in `Popen`).

I also sorted out all other comments except [comment:20](#comment%3A20). If I set `stderr` or `stdout` to something else than `PIPE` then I am not able to get the result of the command back when doing `process.communicate()`.



---

archive/issue_comments_319287.json:
```json
{
    "body": "<a id='comment:23'></a>\n> I also sorted out all other comments except [comment:20](#comment%3A20). If I set `stderr` or `stdout` to something else than `PIPE` then I am not able to get the result of the command back when doing `process.communicate()`.\n\n\nGod. I had not noticed that you were reading the result from the output `:-D`\n\nWith the code from [1] you can do whatever you want with the output:\n\n```\nsage: from subprocess import Popen, PIPE\nsage: p = Popen(\"ls\",stdout=PIPE)\nsage: for line in iter(p.stdout.readline,''):\n....:     print line.strip()\n```\n\nAnd to check that it does not wait for the process to end, you can run a 'tail -f' on some (existing) temporary file\n\n```\nsage: p = Popen([\"tail\",\"-f\",\"/tmp/eee\"],stdout=PIPE)\nsage: for line in iter(p.stdout.readline,''):\n....:     print line.strip()\n```\n\nA new line appears in python every time you type \"echo artartaert >> /tmp/eee\" in a terminal.\n\n[1] http://stackoverflow.com/questions/2804543/read-subprocess-stdout-line-by-line",
    "created_at": "2015-04-16T14:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319287",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>
> I also sorted out all other comments except [comment:20](#comment%3A20). If I set `stderr` or `stdout` to something else than `PIPE` then I am not able to get the result of the command back when doing `process.communicate()`.


God. I had not noticed that you were reading the result from the output `:-D`

With the code from [1] you can do whatever you want with the output:

```
sage: from subprocess import Popen, PIPE
sage: p = Popen("ls",stdout=PIPE)
sage: for line in iter(p.stdout.readline,''):
....:     print line.strip()
```

And to check that it does not wait for the process to end, you can run a 'tail -f' on some (existing) temporary file

```
sage: p = Popen(["tail","-f","/tmp/eee"],stdout=PIPE)
sage: for line in iter(p.stdout.readline,''):
....:     print line.strip()
```

A new line appears in python every time you type "echo artartaert >> /tmp/eee" in a terminal.

[1] http://stackoverflow.com/questions/2804543/read-subprocess-stdout-line-by-line



---

archive/issue_comments_319288.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n We just call LattE (command `count`) through the command line to get the Ehrhart polynomial of a lattice polytope.\n+\n+For complete doctesting you should run both of the following command (with and without `--long`)\n+\n+```\n+sage -t --optional=sage,latte_int $SAGE_ROOT/src/sage/geometry/polyhedron/\n+sage -t $SAGE_ROOT/src/sage/geometry/polyhedron/\n+```\n``````\n",
    "created_at": "2015-04-16T14:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319288",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,8 @@
 We just call LattE (command `count`) through the command line to get the Ehrhart polynomial of a lattice polytope.
+
+For complete doctesting you should run both of the following command (with and without `--long`)
+
+```
+sage -t --optional=sage,latte_int $SAGE_ROOT/src/sage/geometry/polyhedron/
+sage -t $SAGE_ROOT/src/sage/geometry/polyhedron/
+```
``````




---

archive/issue_comments_319289.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [ncohen](#comment%3A23):\n> > I also sorted out all other comments except [comment:20](#comment%3A20). If I set `stderr` or `stdout` to something else than `PIPE` then I am not able to get the result of the command back when doing `process.communicate()`.\n\n> \n> God. I had not noticed that you were reading the result from the output `:-D`\n> \n> With the code from [1] you can do whatever you want with the output:\n\n\nThoug, I do not find it very usable in the current context.",
    "created_at": "2015-04-16T14:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319289",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>
Replying to [ncohen](#comment%3A23):
> > I also sorted out all other comments except [comment:20](#comment%3A20). If I set `stderr` or `stdout` to something else than `PIPE` then I am not able to get the result of the command back when doing `process.communicate()`.

> 
> God. I had not noticed that you were reading the result from the output `:-D`
> 
> With the code from [1] you can do whatever you want with the output:


Thoug, I do not find it very usable in the current context.



---

archive/issue_comments_319290.json:
```json
{
    "body": "<a id='comment:26'></a>\n> Thoug, I do not find it very usable in the current context.\n\n\nWhat's the problem?",
    "created_at": "2015-04-16T14:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319290",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:26'></a>
> Thoug, I do not find it very usable in the current context.


What's the problem?



---

archive/issue_comments_319291.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [ncohen](#comment%3A26):\n> > Thoug, I do not find it very usable in the current context.\n\n> \n> What's the problem?\n\n\nThe Ehrhart polynomial appears on `stdout` (it is not the last line but the one before). While most of the information about the computation appears on `stderr`. I do not see how to achieve what you suggests in less then 10 unreadable lines. But feel free to have a try on top of commit `b877932`.",
    "created_at": "2015-04-16T14:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319291",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
Replying to [ncohen](#comment%3A26):
> > Thoug, I do not find it very usable in the current context.

> 
> What's the problem?


The Ehrhart polynomial appears on `stdout` (it is not the last line but the one before). While most of the information about the computation appears on `stderr`. I do not see how to achieve what you suggests in less then 10 unreadable lines. But feel free to have a try on top of commit `b877932`.



---

archive/issue_comments_319292.json:
```json
{
    "body": "<a id='comment:28'></a>\nThen why don't you just let stderr be printed to the screen and only intercept stdout ?\n\nNathann",
    "created_at": "2015-04-16T14:39:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319292",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
Then why don't you just let stderr be printed to the screen and only intercept stdout ?

Nathann



---

archive/issue_comments_319293.json:
```json
{
    "body": "**Changing commit** from \"[b877932445212ddfd72fd70079c53f17df6d5fd9](https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9)\" to \"[1ee5281fcc157a083bcdca71106562b056fcd27d](https://github.com/sagemath/sagetrac-mirror/commit/1ee5281fcc157a083bcdca71106562b056fcd27d)\".",
    "created_at": "2015-04-16T14:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319293",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b877932445212ddfd72fd70079c53f17df6d5fd9](https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9)" to "[1ee5281fcc157a083bcdca71106562b056fcd27d](https://github.com/sagemath/sagetrac-mirror/commit/1ee5281fcc157a083bcdca71106562b056fcd27d)".



---

archive/issue_comments_319294.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ee5281fcc157a083bcdca71106562b056fcd27d\">1ee5281</a></td><td><code>Trac 18211: much better `verbose` handling!</code></td></tr></table>\n",
    "created_at": "2015-04-16T14:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319294",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ee5281fcc157a083bcdca71106562b056fcd27d">1ee5281</a></td><td><code>Trac 18211: much better `verbose` handling!</code></td></tr></table>




---

archive/issue_comments_319295.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [ncohen](#comment%3A28):\n> Then why don't you just let stderr be printed to the screen and only intercept stdout ?\n\n\nright right right! see last commit! Thanks.",
    "created_at": "2015-04-16T14:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319295",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>
Replying to [ncohen](#comment%3A28):
> Then why don't you just let stderr be printed to the screen and only intercept stdout ?


right right right! see last commit! Thanks.



---

archive/issue_comments_319296.json:
```json
{
    "body": "<a id='comment:31'></a>\nHello !\n\nThere was still a (very unimportant) problem when `verbose=True` and the process returns with an error. In this case the exception displays an (empty) variable `err`.\n\nI fixed this nonexisting problem at public/18211, though I have not been able to make the process return with an error. Even when I changed \"--cdd\" with \"--crghalruhaldd\" it returned 'normaly' `:-P`\n\nNathann",
    "created_at": "2015-04-16T15:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319296",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:31'></a>
Hello !

There was still a (very unimportant) problem when `verbose=True` and the process returns with an error. In this case the exception displays an (empty) variable `err`.

I fixed this nonexisting problem at public/18211, though I have not been able to make the process return with an error. Even when I changed "--cdd" with "--crghalruhaldd" it returned 'normaly' `:-P`

Nathann



---

archive/issue_comments_319297.json:
```json
{
    "body": "<a id='comment:32'></a>\nP.S. : you probably got a 10000x speedup with the replacement in `Birkhoff_polytope` `:-P`",
    "created_at": "2015-04-16T15:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319297",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'></a>
P.S. : you probably got a 10000x speedup with the replacement in `Birkhoff_polytope` `:-P`



---

archive/issue_comments_319298.json:
```json
{
    "body": "<a id='comment:33'></a>\n(just added another commits with 'seealsos')",
    "created_at": "2015-04-16T15:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319298",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'></a>
(just added another commits with 'seealsos')



---

archive/issue_comments_319299.json:
```json
{
    "body": "<a id='comment:34'></a>\nI do not want your `SEEALSO` here. Could we postpone it to #18213?",
    "created_at": "2015-04-16T15:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319299",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'></a>
I do not want your `SEEALSO` here. Could we postpone it to #18213?



---

archive/issue_comments_319300.json:
```json
{
    "body": "<a id='comment:35'></a>\n> I do not want your `SEEALSO` here.\n\n\n`O_o`\n\nSorry?",
    "created_at": "2015-04-16T15:28:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319300",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:35'></a>
> I do not want your `SEEALSO` here.


`O_o`

Sorry?



---

archive/issue_comments_319301.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [ncohen](#comment%3A35):\n> > I do not want your `SEEALSO` here.\n\n> \n> `O_o`\n> \n> Sorry?\n\n\nBy \"here\" I meant \"in this ticket\". Your commit is likely to create a conflict with #18213. It would be easier to move your changes on top of #18213.",
    "created_at": "2015-04-16T15:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319301",
    "user": "https://github.com/videlec"
}
```

<a id='comment:36'></a>
Replying to [ncohen](#comment%3A35):
> > I do not want your `SEEALSO` here.

> 
> `O_o`
> 
> Sorry?


By "here" I meant "in this ticket". Your commit is likely to create a conflict with #18213. It would be easier to move your changes on top of #18213.



---

archive/issue_comments_319302.json:
```json
{
    "body": "<a id='comment:37'></a>\n> By \"here\" I meant \"in this ticket\". Your commit is likely to create a conflict with #18213. It would be easier to move your changes on top of #18213.\n\n\nOh. Well, yeah no problem: just cherry-pick it on the top of your other branch if it is easier.\n\nNathann",
    "created_at": "2015-04-16T15:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319302",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'></a>
> By "here" I meant "in this ticket". Your commit is likely to create a conflict with #18213. It would be easier to move your changes on top of #18213.


Oh. Well, yeah no problem: just cherry-pick it on the top of your other branch if it is easier.

Nathann



---

archive/issue_comments_319303.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9ce4616099f6d0a5fc3d8a80c3ae76dca5874c7\">a9ce461</a></td><td><code>trac #18211: print stderr when verbose=False</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b\">9307916</a></td><td><code>Trac 18211: \"in in\" -> \"in\"</code></td></tr></table>\n",
    "created_at": "2015-04-16T15:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9ce4616099f6d0a5fc3d8a80c3ae76dca5874c7">a9ce461</a></td><td><code>trac #18211: print stderr when verbose=False</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b">9307916</a></td><td><code>Trac 18211: "in in" -> "in"</code></td></tr></table>




---

archive/issue_comments_319304.json:
```json
{
    "body": "**Changing commit** from \"[1ee5281fcc157a083bcdca71106562b056fcd27d](https://github.com/sagemath/sagetrac-mirror/commit/1ee5281fcc157a083bcdca71106562b056fcd27d)\" to \"[930791639042e46c339ba40720456d73dcad1d1b](https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b)\".",
    "created_at": "2015-04-16T15:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1ee5281fcc157a083bcdca71106562b056fcd27d](https://github.com/sagemath/sagetrac-mirror/commit/1ee5281fcc157a083bcdca71106562b056fcd27d)" to "[930791639042e46c339ba40720456d73dcad1d1b](https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b)".



---

archive/issue_comments_319305.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-04-16T15:36:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319305",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_319306.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2015-04-16T15:36:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319306",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_comments_319307.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [ncohen](#comment%3A37):\n> > By \"here\" I meant \"in this ticket\". Your commit is likely to create a conflict with #18213. It would be easier to move your changes on top of #18213.\n\n> \n> Oh. Well, yeah no problem: just cherry-pick it on the top of your other branch if it is easier.\n\n\ndone!",
    "created_at": "2015-04-16T15:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319307",
    "user": "https://github.com/videlec"
}
```

<a id='comment:40'></a>
Replying to [ncohen](#comment%3A37):
> > By "here" I meant "in this ticket". Your commit is likely to create a conflict with #18213. It would be easier to move your changes on top of #18213.

> 
> Oh. Well, yeah no problem: just cherry-pick it on the top of your other branch if it is easier.


done!



---

archive/issue_comments_319308.json:
```json
{
    "body": "**Changing reviewer** from \"Nathann Cohen\" to \"Matthias K\u00f6ppe, Nathann Cohen\".",
    "created_at": "2015-04-16T15:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319308",
    "user": "https://github.com/videlec"
}
```

**Changing reviewer** from "Nathann Cohen" to "Matthias KÃ¶ppe, Nathann Cohen".



---

archive/issue_comments_319309.json:
```json
{
    "body": "<a id='comment:41'></a>\nThanks for the review! (I added Matthias to the reviewer list too)",
    "created_at": "2015-04-16T15:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319309",
    "user": "https://github.com/videlec"
}
```

<a id='comment:41'></a>
Thanks for the review! (I added Matthias to the reviewer list too)



---

archive/issue_comments_319310.json:
```json
{
    "body": "<a id='comment:42'></a>\nThis looks great, thanks a lot for your work.\n\nThere are, however, quite a few more LattE options that are useful, at least for expert users. \nBelow I list the ones (this is cut and paste from \"count --help\") that make sense for the \"--ehrhart-polynomial\" mode.\n\n```\n  --compute-vertex-cones={cdd,lrs,4ti2}    Use this method for computing vertex cones\n  --smith-form={ilio,lidia}\n  --dualization={cdd,4ti2}\n  --triangulation={cddlib,4ti2,topcom,...}\n  --triangulation-max-height=HEIGHT        Use a uniform distribution of height from 1 to HEIGHT.\n```",
    "created_at": "2015-04-16T15:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319310",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
This looks great, thanks a lot for your work.

There are, however, quite a few more LattE options that are useful, at least for expert users. 
Below I list the ones (this is cut and paste from "count --help") that make sense for the "--ehrhart-polynomial" mode.

```
  --compute-vertex-cones={cdd,lrs,4ti2}    Use this method for computing vertex cones
  --smith-form={ilio,lidia}
  --dualization={cdd,4ti2}
  --triangulation={cddlib,4ti2,topcom,...}
  --triangulation-max-height=HEIGHT        Use a uniform distribution of height from 1 to HEIGHT.
```



---

archive/issue_comments_319311.json:
```json
{
    "body": "<a id='comment:43'></a>\nwill add it... (sorry Nathann)",
    "created_at": "2015-04-16T15:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319311",
    "user": "https://github.com/videlec"
}
```

<a id='comment:43'></a>
will add it... (sorry Nathann)



---

archive/issue_comments_319312.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2015-04-16T15:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319312",
    "user": "https://github.com/videlec"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_319313.json:
```json
{
    "body": "**Changing commit** from \"[930791639042e46c339ba40720456d73dcad1d1b](https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b)\" to \"[a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414](https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414)\".",
    "created_at": "2015-04-16T16:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[930791639042e46c339ba40720456d73dcad1d1b](https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b)" to "[a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414](https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414)".



---

archive/issue_comments_319314.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414\">a6d03cd</a></td><td><code>Trac 18211: any option to the command  (using **kwds)</code></td></tr></table>\n",
    "created_at": "2015-04-16T16:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414">a6d03cd</a></td><td><code>Trac 18211: any option to the command  (using **kwds)</code></td></tr></table>




---

archive/issue_comments_319315.json:
```json
{
    "body": "<a id='comment:45'></a>\nAll right, you can now send whatever option you like to `count` even if its not documented!",
    "created_at": "2015-04-16T16:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319315",
    "user": "https://github.com/videlec"
}
```

<a id='comment:45'></a>
All right, you can now send whatever option you like to `count` even if its not documented!



---

archive/issue_comments_319316.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-04-16T16:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319316",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_319317.json:
```json
{
    "body": "<a id='comment:46'></a>\nBut now you really have a problem with the error code returned by 'count'\n\n```\nsage: P.ehrhart_polynomial(argaerh=3)\n...\nIndexError: list index out of range\n```",
    "created_at": "2015-04-16T16:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319317",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:46'></a>
But now you really have a problem with the error code returned by 'count'

```
sage: P.ehrhart_polynomial(argaerh=3)
...
IndexError: list index out of range
```



---

archive/issue_comments_319318.json:
```json
{
    "body": "<a id='comment:47'></a>\nAnd also now there is no tab completion for the known keyword arguments any more, which is inconvenient",
    "created_at": "2015-04-16T16:23:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319318",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
And also now there is no tab completion for the known keyword arguments any more, which is inconvenient



---

archive/issue_comments_319319.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6\">c935177</a></td><td><code>Trac 18211: handle bad output from count</code></td></tr></table>\n",
    "created_at": "2015-04-16T16:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6">c935177</a></td><td><code>Trac 18211: handle bad output from count</code></td></tr></table>




---

archive/issue_comments_319320.json:
```json
{
    "body": "**Changing commit** from \"[a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414](https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414)\" to \"[c935177688734f81eec5dd96a1d85c76e7239df6](https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6)\".",
    "created_at": "2015-04-16T16:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414](https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414)" to "[c935177688734f81eec5dd96a1d85c76e7239df6](https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6)".



---

archive/issue_comments_319321.json:
```json
{
    "body": "<a id='comment:49'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c075b2a87ad5690faf548e021900b70a2873cea\">3c075b2</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr></table>\n",
    "created_at": "2015-04-16T16:40:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c075b2a87ad5690faf548e021900b70a2873cea">3c075b2</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr></table>




---

archive/issue_comments_319322.json:
```json
{
    "body": "**Changing commit** from \"[c935177688734f81eec5dd96a1d85c76e7239df6](https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6)\" to \"[3c075b2a87ad5690faf548e021900b70a2873cea](https://github.com/sagemath/sagetrac-mirror/commit/3c075b2a87ad5690faf548e021900b70a2873cea)\".",
    "created_at": "2015-04-16T16:40:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c935177688734f81eec5dd96a1d85c76e7239df6](https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6)" to "[3c075b2a87ad5690faf548e021900b70a2873cea](https://github.com/sagemath/sagetrac-mirror/commit/3c075b2a87ad5690faf548e021900b70a2873cea)".



---

archive/issue_comments_319323.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [mkoeppe](#comment%3A47):\n> And also now there is no tab completion for the known keyword arguments any more, which is inconvenient\n\n\ncorrected in 3c075b2",
    "created_at": "2015-04-16T16:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319323",
    "user": "https://github.com/videlec"
}
```

<a id='comment:50'></a>
Replying to [mkoeppe](#comment%3A47):
> And also now there is no tab completion for the known keyword arguments any more, which is inconvenient


corrected in 3c075b2



---

archive/issue_comments_319324.json:
```json
{
    "body": "**Changing commit** from \"[3c075b2a87ad5690faf548e021900b70a2873cea](https://github.com/sagemath/sagetrac-mirror/commit/3c075b2a87ad5690faf548e021900b70a2873cea)\" to \"[70e70d8cb73405ca0de84cbdfe3731785ae9a994](https://github.com/sagemath/sagetrac-mirror/commit/70e70d8cb73405ca0de84cbdfe3731785ae9a994)\".",
    "created_at": "2015-04-16T16:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3c075b2a87ad5690faf548e021900b70a2873cea](https://github.com/sagemath/sagetrac-mirror/commit/3c075b2a87ad5690faf548e021900b70a2873cea)" to "[70e70d8cb73405ca0de84cbdfe3731785ae9a994](https://github.com/sagemath/sagetrac-mirror/commit/70e70d8cb73405ca0de84cbdfe3731785ae9a994)".



---

archive/issue_comments_319325.json:
```json
{
    "body": "<a id='comment:51'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70e70d8cb73405ca0de84cbdfe3731785ae9a994\">70e70d8</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr></table>\n",
    "created_at": "2015-04-16T16:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70e70d8cb73405ca0de84cbdfe3731785ae9a994">70e70d8</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr></table>




---

archive/issue_comments_319326.json:
```json
{
    "body": "<a id='comment:52'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334\">7215956</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr></table>\n",
    "created_at": "2015-04-16T16:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334">7215956</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr></table>




---

archive/issue_comments_319327.json:
```json
{
    "body": "**Changing commit** from \"[70e70d8cb73405ca0de84cbdfe3731785ae9a994](https://github.com/sagemath/sagetrac-mirror/commit/70e70d8cb73405ca0de84cbdfe3731785ae9a994)\" to \"[7215956eea81f8750a96184ca1f16173ef27c334](https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334)\".",
    "created_at": "2015-04-16T16:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[70e70d8cb73405ca0de84cbdfe3731785ae9a994](https://github.com/sagemath/sagetrac-mirror/commit/70e70d8cb73405ca0de84cbdfe3731785ae9a994)" to "[7215956eea81f8750a96184ca1f16173ef27c334](https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334)".



---

archive/issue_comments_319328.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [vdelecroix](#comment%3A50):\n> Replying to [mkoeppe](#comment%3A47):\n> > And also now there is no tab completion for the known keyword arguments any more, which is inconvenient\n\n> \n> corrected in 3c075b2\n\n\nMuch better with 7215956",
    "created_at": "2015-04-16T16:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319328",
    "user": "https://github.com/videlec"
}
```

<a id='comment:53'></a>
Replying to [vdelecroix](#comment%3A50):
> Replying to [mkoeppe](#comment%3A47):
> > And also now there is no tab completion for the known keyword arguments any more, which is inconvenient

> 
> corrected in 3c075b2


Much better with 7215956



---

archive/issue_comments_319329.json:
```json
{
    "body": "<a id='comment:54'></a>\nI added a commit at public/18211. If it's fine for you, you can change the status.\n\nNathann",
    "created_at": "2015-04-16T17:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319329",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:54'></a>
I added a commit at public/18211. If it's fine for you, you can change the status.

Nathann



---

archive/issue_comments_319330.json:
```json
{
    "body": "<a id='comment:55'></a>\nAbout the error message: instead of the dictionary it prints the actual command. It may help debug things a bit better than the dictionary, in particular with the '_' -> '-' replacement.",
    "created_at": "2015-04-16T17:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319330",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:55'></a>
About the error message: instead of the dictionary it prints the actual command. It may help debug things a bit better than the dictionary, in particular with the '_' -> '-' replacement.



---

archive/issue_comments_319331.json:
```json
{
    "body": "<a id='comment:56'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6\">74ef0f1</a></td><td><code>trac #18211: Nothing important</code></td></tr></table>\n",
    "created_at": "2015-04-16T17:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6">74ef0f1</a></td><td><code>trac #18211: Nothing important</code></td></tr></table>




---

archive/issue_comments_319332.json:
```json
{
    "body": "**Changing commit** from \"[7215956eea81f8750a96184ca1f16173ef27c334](https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334)\" to \"[74ef0f1721a9f73dacf442d29c45acc7a18a1ff6](https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6)\".",
    "created_at": "2015-04-16T17:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7215956eea81f8750a96184ca1f16173ef27c334](https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334)" to "[74ef0f1721a9f73dacf442d29c45acc7a18a1ff6](https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6)".



---

archive/issue_comments_319333.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-04-16T17:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319333",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_319334.json:
```json
{
    "body": "<a id='comment:57'></a>\nNice! Thanks!",
    "created_at": "2015-04-16T17:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319334",
    "user": "https://github.com/videlec"
}
```

<a id='comment:57'></a>
Nice! Thanks!



---

archive/issue_comments_319335.json:
```json
{
    "body": "<a id='comment:58'></a>\nHas the question of ZZ vs. QQ been resolved? \n\nPerhaps more examples should be added that make uses of some of LattE's options. \nFor example, an Ehrhart polynomial of a cross-polytope, which benefits from irrational_all_primal.",
    "created_at": "2015-04-16T17:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319335",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>
Has the question of ZZ vs. QQ been resolved? 

Perhaps more examples should be added that make uses of some of LattE's options. 
For example, an Ehrhart polynomial of a cross-polytope, which benefits from irrational_all_primal.



---

archive/issue_comments_319336.json:
```json
{
    "body": "<a id='comment:59'></a>\nReplying to [mkoeppe](#comment%3A58):\n> Has the question of ZZ vs. QQ been resolved? \n\n\nActually, in the current state there is not much to do about this. The method `self.cdd_Hrepresentation` is only available for polytopes defined over ZZ.\n\n> Perhaps more examples should be added that make uses of some of LattE's options. \n> For example, an Ehrhart polynomial of a cross-polytope, which benefits from irrational_all_primal.\n\n\nThat would be good indeed. You can propose a commit on top of what I did on the ticket #18213.\n\nVincent",
    "created_at": "2015-04-16T19:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319336",
    "user": "https://github.com/videlec"
}
```

<a id='comment:59'></a>
Replying to [mkoeppe](#comment%3A58):
> Has the question of ZZ vs. QQ been resolved? 


Actually, in the current state there is not much to do about this. The method `self.cdd_Hrepresentation` is only available for polytopes defined over ZZ.

> Perhaps more examples should be added that make uses of some of LattE's options. 
> For example, an Ehrhart polynomial of a cross-polytope, which benefits from irrational_all_primal.


That would be good indeed. You can propose a commit on top of what I did on the ticket #18213.

Vincent



---

archive/issue_comments_319337.json:
```json
{
    "body": "<a id='comment:60'></a>\nIn the doctests, is it wise to hard-code the version number of LattE?\nLooks like this could cause trouble whenever the package is updated?\n\n```\n            sage: p = P.ehrhart_polynomial(irrational_primal=True, verbose=True)   # optional - latte_int\n            This is LattE integrale 1.7.2\n            ...\n            Invocation: count --ehrhart-polynomial '--redundancy-check=none' --irrational-primal --cdd ...\n            ...\n            sage: p   # optional - latte_int\n            1/2*t^2 + 3/2*t + 1\n\n```",
    "created_at": "2015-04-16T22:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319337",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:60'></a>
In the doctests, is it wise to hard-code the version number of LattE?
Looks like this could cause trouble whenever the package is updated?

```
            sage: p = P.ehrhart_polynomial(irrational_primal=True, verbose=True)   # optional - latte_int
            This is LattE integrale 1.7.2
            ...
            Invocation: count --ehrhart-polynomial '--redundancy-check=none' --irrational-primal --cdd ...
            ...
            sage: p   # optional - latte_int
            1/2*t^2 + 3/2*t + 1

```



---

archive/issue_comments_319338.json:
```json
{
    "body": "<a id='comment:61'></a>\nReplying to [mkoeppe](#comment%3A60):\n> In the doctests, is it wise to hard-code the version number of LattE?\n> Looks like this could cause trouble whenever the package is updated?\n\n\nI hope that in the next version of LattE we will have a better return code than 0 in case of errors. So anyway, this code will be partly rewritten. The code is very much adapted to the current LattE, so it is good that when the package will be updated, people take care of this.",
    "created_at": "2015-04-16T22:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319338",
    "user": "https://github.com/videlec"
}
```

<a id='comment:61'></a>
Replying to [mkoeppe](#comment%3A60):
> In the doctests, is it wise to hard-code the version number of LattE?
> Looks like this could cause trouble whenever the package is updated?


I hope that in the next version of LattE we will have a better return code than 0 in case of errors. So anyway, this code will be partly rewritten. The code is very much adapted to the current LattE, so it is good that when the package will be updated, people take care of this.



---

archive/issue_comments_319339.json:
```json
{
    "body": "<a id='comment:62'></a>\nI see...  The return code 0 on errors is a regression in LattE's count, introduced in a recent version.  I was not aware of this.\n\nWe'll fix this in the next release of LattE.",
    "created_at": "2015-04-16T23:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319339",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:62'></a>
I see...  The return code 0 on errors is a regression in LattE's count, introduced in a recent version.  I was not aware of this.

We'll fix this in the next release of LattE.



---

archive/issue_comments_319340.json:
```json
{
    "body": "<a id='comment:63'></a>\nReplying to [mkoeppe](#comment%3A62):\n> I see...  The return code 0 on errors is a regression in LattE's count, introduced in a recent version.  I was not aware of this.\n> \n> We'll fix this in the next release of LattE.\n\n\nNice!",
    "created_at": "2015-04-17T11:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319340",
    "user": "https://github.com/videlec"
}
```

<a id='comment:63'></a>
Replying to [mkoeppe](#comment%3A62):
> I see...  The return code 0 on errors is a regression in LattE's count, introduced in a recent version.  I was not aware of this.
> 
> We'll fix this in the next release of LattE.


Nice!



---

archive/issue_comments_319341.json:
```json
{
    "body": "<a id='comment:64'></a>\nDoes this then replicate some of the functionality of polymake?  (I'm never quite sure of the relationship between the two programs.)",
    "created_at": "2015-04-17T18:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319341",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:64'></a>
Does this then replicate some of the functionality of polymake?  (I'm never quite sure of the relationship between the two programs.)



---

archive/issue_comments_319342.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,3 +6,5 @@\n sage -t --optional=sage,latte_int $SAGE_ROOT/src/sage/geometry/polyhedron/\n sage -t $SAGE_ROOT/src/sage/geometry/polyhedron/\n ```\n+\n+Follow up: #18232\n``````\n",
    "created_at": "2015-04-17T19:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319342",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,3 +6,5 @@
 sage -t --optional=sage,latte_int $SAGE_ROOT/src/sage/geometry/polyhedron/
 sage -t $SAGE_ROOT/src/sage/geometry/polyhedron/
 ```
+
+Follow up: #18232
``````




---

archive/issue_comments_319343.json:
```json
{
    "body": "<a id='comment:66'></a>\nReplying to [kcrisman](#comment%3A64):\n> Does this then replicate some of the functionality of polymake?  (I'm never quite sure of the relationship between the two programs.)\n\n\nJust like Sage, polymake interfaces with many libraries and programs. polymake does have a LattE interface for a subset of LattE's features.",
    "created_at": "2015-04-18T00:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319343",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:66'></a>
Replying to [kcrisman](#comment%3A64):
> Does this then replicate some of the functionality of polymake?  (I'm never quite sure of the relationship between the two programs.)


Just like Sage, polymake interfaces with many libraries and programs. polymake does have a LattE interface for a subset of LattE's features.



---

archive/issue_comments_319344.json:
```json
{
    "body": "<a id='comment:67'></a>\nA doctest fails. Am I allowed to correct it?",
    "created_at": "2015-04-18T09:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319344",
    "user": "https://github.com/videlec"
}
```

<a id='comment:67'></a>
A doctest fails. Am I allowed to correct it?



---

archive/issue_comments_319345.json:
```json
{
    "body": "**Changing commit** from \"[74ef0f1721a9f73dacf442d29c45acc7a18a1ff6](https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6)\" to \"[d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)\".",
    "created_at": "2015-04-18T09:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[74ef0f1721a9f73dacf442d29c45acc7a18a1ff6](https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6)" to "[d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)".



---

archive/issue_comments_319346.json:
```json
{
    "body": "<a id='comment:68'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148\">d09d8a5</a></td><td><code>Trac 18211: forgot a # optional in the doctest</code></td></tr></table>\n",
    "created_at": "2015-04-18T09:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148">d09d8a5</a></td><td><code>Trac 18211: forgot a # optional in the doctest</code></td></tr></table>




---

archive/issue_comments_319347.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2015-04-18T09:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_319348.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-04-18T10:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319348",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_319349.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2015-04-19T01:52:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319349",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_319350.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/18211](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18211)\" to \"[d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)\".",
    "created_at": "2015-04-19T01:52:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319350",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vdelecroix/18211](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18211)" to "[d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)".



---

archive/issue_events_058523.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-19T01:52:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18211#event-58523"
}
```



---

archive/issue_comments_319351.json:
```json
{
    "body": "**Changing reviewer** from \"Matthias K\u00f6ppe, Nathann Cohen\" to \"Matthias Koeppe, Nathann Cohen\".",
    "created_at": "2016-01-30T15:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319351",
    "user": "https://github.com/kcrisman"
}
```

**Changing reviewer** from "Matthias KÃ¶ppe, Nathann Cohen" to "Matthias Koeppe, Nathann Cohen".



---

archive/issue_comments_319352.json:
```json
{
    "body": "**Changing commit** from \"[d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)\" to \"\".",
    "created_at": "2016-01-30T15:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18211#issuecomment-319352",
    "user": "https://github.com/kcrisman"
}
```

**Changing commit** from "[d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148](https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148)" to "".
