# Issue 18945: Game Theory: Build class for extensive form games

archive/issues_018708.json:
```json
{
    "assignees": [],
    "body": "Include class for extensive form games:\n\n- Ability to generate tree like structure.\n- Have graphical representation.\n- Implement conversion to and from Gambit, which include ability to find Nash using Gambit. \n\n**CC:**  @drvinceknight @ptigwe @theref FRWard\n\n**Keywords:** Game Theory, Extensive Form Games\n\n**Branch:** [public/18945_extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/public/18945_extensiveform)\n\n**Commit:** [51303a7a69337709f9ea1455e3422f7be6fc04c3](https://github.com/sagemath/sagetrac-mirror/commit/51303a7a69337709f9ea1455e3422f7be6fc04c3)\n\n**Author:** Hannah Lorrimore, Vincent Knight\n\nIssue created by migration from https://trac.sagemath.org/ticket/18945\n\n",
    "created_at": "2015-07-23T14:25:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20game%20theory",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Game Theory: Build class for extensive form games",
    "type": "issue",
    "updated_at": "2018-07-28T14:45:13Z",
    "url": "https://github.com/sagemath/sage/issues/18945",
    "user": "https://github.com/sagetrac-hhlorrimore"
}
```
Include class for extensive form games:

- Ability to generate tree like structure.
- Have graphical representation.
- Implement conversion to and from Gambit, which include ability to find Nash using Gambit. 

**CC:**  @drvinceknight @ptigwe @theref FRWard

**Keywords:** Game Theory, Extensive Form Games

**Branch:** [public/18945_extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/public/18945_extensiveform)

**Commit:** [51303a7a69337709f9ea1455e3422f7be6fc04c3](https://github.com/sagemath/sagetrac-mirror/commit/51303a7a69337709f9ea1455e3422f7be6fc04c3)

**Author:** Hannah Lorrimore, Vincent Knight

Issue created by migration from https://trac.sagemath.org/ticket/18945





---

archive/issue_comments_268609.json:
```json
{
    "body": "**Commit:** [f8e521fb2117c8c35d804b0dc72ac97e76730cca](https://github.com/sagemath/sagetrac-mirror/commit/f8e521fb2117c8c35d804b0dc72ac97e76730cca)",
    "created_at": "2015-07-23T14:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268609",
    "user": "https://github.com/sagetrac-hhlorrimore"
}
```

**Commit:** [f8e521fb2117c8c35d804b0dc72ac97e76730cca](https://github.com/sagemath/sagetrac-mirror/commit/f8e521fb2117c8c35d804b0dc72ac97e76730cca)



---

archive/issue_comments_268610.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39a701e88285abcfb26a8ab48358a1d41622489b\">39a701e</a></td><td><code>Added more optional gambit tags where needed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2949b006a7e4adba3fdfeafff13ea84b3d036ea8\">2949b00</a></td><td><code>Changes varialbe names in tests and adjusted info set graph output so actions are no longer on the output and it is now a digraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b2775efddb05b6e028f4d762727bf0866b67398\">8b2775e</a></td><td><code>Added errors for obtain_nash. Also changed some wording on some docs and leaf input error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54fbdb21f6fbf6fe71e79c548f67d3bb41a85cdf\">54fbdb2</a></td><td><code>Added more docstings and changed wording of docstrings again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24af6e0049b71a96e6616f4fdfb016d89284c98c\">24af6e0</a></td><td><code>Adding Hannah as Author.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c65c3ba062402848b3f182ef69467f70572f721e\">c65c3ba</a></td><td><code>Changed parsing method and minor changes to strings and variable names</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f59e971bc68d6dfb0f33cbc6d6170a2021d6dd10\">f59e971</a></td><td><code>Merge branch 'extensiveform' of github.com:theref/sage-game-theory into extensiveform</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf06463748d35f25961c096a831aef01a887dfad\">bf06463</a></td><td><code>Fixing PEP8 for a multiline boolean.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e73a9def140f98df9382c63b10efabedf513ca98\">e73a9de</a></td><td><code>PEP8 and minor tweaks.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8e521fb2117c8c35d804b0dc72ac97e76730cca\">f8e521f</a></td><td><code>PEP8 in parser.</code></td></tr></table>\n",
    "created_at": "2015-07-23T14:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268610",
    "user": "https://github.com/sagetrac-hhlorrimore"
}
```

<a id='comment:1'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39a701e88285abcfb26a8ab48358a1d41622489b">39a701e</a></td><td><code>Added more optional gambit tags where needed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2949b006a7e4adba3fdfeafff13ea84b3d036ea8">2949b00</a></td><td><code>Changes varialbe names in tests and adjusted info set graph output so actions are no longer on the output and it is now a digraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b2775efddb05b6e028f4d762727bf0866b67398">8b2775e</a></td><td><code>Added errors for obtain_nash. Also changed some wording on some docs and leaf input error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54fbdb21f6fbf6fe71e79c548f67d3bb41a85cdf">54fbdb2</a></td><td><code>Added more docstings and changed wording of docstrings again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24af6e0049b71a96e6616f4fdfb016d89284c98c">24af6e0</a></td><td><code>Adding Hannah as Author.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c65c3ba062402848b3f182ef69467f70572f721e">c65c3ba</a></td><td><code>Changed parsing method and minor changes to strings and variable names</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f59e971bc68d6dfb0f33cbc6d6170a2021d6dd10">f59e971</a></td><td><code>Merge branch 'extensiveform' of github.com:theref/sage-game-theory into extensiveform</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf06463748d35f25961c096a831aef01a887dfad">bf06463</a></td><td><code>Fixing PEP8 for a multiline boolean.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e73a9def140f98df9382c63b10efabedf513ca98">e73a9de</a></td><td><code>PEP8 and minor tweaks.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8e521fb2117c8c35d804b0dc72ac97e76730cca">f8e521f</a></td><td><code>PEP8 in parser.</code></td></tr></table>




---

archive/issue_comments_268611.json:
```json
{
    "body": "**Branch:** [u/hhlorrimore/extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/u/hhlorrimore/extensiveform)",
    "created_at": "2015-07-23T14:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268611",
    "user": "https://github.com/sagetrac-hhlorrimore"
}
```

**Branch:** [u/hhlorrimore/extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/u/hhlorrimore/extensiveform)



---

archive/issue_events_170401.json:
```json
{
    "actor": "https://github.com/sagetrac-hhlorrimore",
    "created_at": "2015-07-23T14:45:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18945#event-170401"
}
```



---

archive/issue_comments_268612.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis is ready for review. The file is long but this is due to an extensive test suite that requires a lot of boiler plate code (setup of gambit games etc).\n\nNote that the docs don't build at present, but I believe that this is due to the version of develop that is merged in.",
    "created_at": "2015-07-23T14:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268612",
    "user": "https://github.com/sagetrac-hhlorrimore"
}
```

<a id='comment:2'></a>
This is ready for review. The file is long but this is due to an extensive test suite that requires a lot of boiler plate code (setup of gambit games etc).

Note that the docs don't build at present, but I believe that this is due to the version of develop that is merged in.



---

archive/issue_events_170402.json:
```json
{
    "actor": "https://github.com/drvinceknight",
    "created_at": "2015-07-23T15:19:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18945#event-170402"
}
```



---

archive/issue_events_170403.json:
```json
{
    "actor": "https://github.com/drvinceknight",
    "created_at": "2015-07-23T15:19:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18945#event-170403"
}
```



---

archive/issue_comments_268613.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dde247b8d5faafdf0f27090610b7ed92c870e46a\">dde247b</a></td><td><code>Updated doctests in `extensive_form_game`</code></td></tr></table>\n",
    "created_at": "2015-07-25T00:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268613",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dde247b8d5faafdf0f27090610b7ed92c870e46a">dde247b</a></td><td><code>Updated doctests in `extensive_form_game`</code></td></tr></table>




---

archive/issue_comments_268614.json:
```json
{
    "body": "**Changing commit** from \"[f8e521fb2117c8c35d804b0dc72ac97e76730cca](https://github.com/sagemath/sagetrac-mirror/commit/f8e521fb2117c8c35d804b0dc72ac97e76730cca)\" to \"[dde247b8d5faafdf0f27090610b7ed92c870e46a](https://github.com/sagemath/sagetrac-mirror/commit/dde247b8d5faafdf0f27090610b7ed92c870e46a)\".",
    "created_at": "2015-07-25T00:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268614",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f8e521fb2117c8c35d804b0dc72ac97e76730cca](https://github.com/sagemath/sagetrac-mirror/commit/f8e521fb2117c8c35d804b0dc72ac97e76730cca)" to "[dde247b8d5faafdf0f27090610b7ed92c870e46a](https://github.com/sagemath/sagetrac-mirror/commit/dde247b8d5faafdf0f27090610b7ed92c870e46a)".



---

archive/issue_comments_268615.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7634248b840ada7832778b071672cb8a2f726d61\">7634248</a></td><td><code>Adding a reference to gambit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0b301f28b6398e9ec577a1d5b65f3d90da497a3\">d0b301f</a></td><td><code>Another question.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1324c8bf3e36b0ab6e61395de82e26671dbe6ac\">b1324c8</a></td><td><code>Merge branch 'extensiveform' of github.com:theref/sage-game-theory into extensiveform</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/546c09bc8db2d4a4f7c959673e7b9572d3b4de34\">546c09b</a></td><td><code>Rewritten tests for parser</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8d7b100d8ec1fc68bb24cc201a3c7eaee8740cb\">b8d7b10</a></td><td><code>Parsing modified all tests passed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bc35024b425c718e01651e49300aeda990fd5bc\">2bc3502</a></td><td><code>Changed obtain_nash tests within efg to reflect changes to parsing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71f6c76b7a2f94abf3b780e5aa872df67d03f72a\">71f6c76</a></td><td><code>Altered code to simplify loops</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/213d31d4b3afaa10d90726491cc31e297bde6f29\">213d31d</a></td><td><code>Added another method for gambit_to_sage for indexing nodes, to help make the code clearer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1496dc045847418c6f5fe8c862ed2d35ace342eb\">1496dc0</a></td><td><code>Added two plots to docs to make information set graph explaining clearer, and also added labels to the nodes in those tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de\">98f7557</a></td><td><code>Changed docs to represent changes to parser, and made it so docs now make</code></td></tr></table>\n",
    "created_at": "2015-08-09T14:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268615",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7634248b840ada7832778b071672cb8a2f726d61">7634248</a></td><td><code>Adding a reference to gambit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0b301f28b6398e9ec577a1d5b65f3d90da497a3">d0b301f</a></td><td><code>Another question.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1324c8bf3e36b0ab6e61395de82e26671dbe6ac">b1324c8</a></td><td><code>Merge branch 'extensiveform' of github.com:theref/sage-game-theory into extensiveform</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/546c09bc8db2d4a4f7c959673e7b9572d3b4de34">546c09b</a></td><td><code>Rewritten tests for parser</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8d7b100d8ec1fc68bb24cc201a3c7eaee8740cb">b8d7b10</a></td><td><code>Parsing modified all tests passed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bc35024b425c718e01651e49300aeda990fd5bc">2bc3502</a></td><td><code>Changed obtain_nash tests within efg to reflect changes to parsing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71f6c76b7a2f94abf3b780e5aa872df67d03f72a">71f6c76</a></td><td><code>Altered code to simplify loops</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/213d31d4b3afaa10d90726491cc31e297bde6f29">213d31d</a></td><td><code>Added another method for gambit_to_sage for indexing nodes, to help make the code clearer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1496dc045847418c6f5fe8c862ed2d35ace342eb">1496dc0</a></td><td><code>Added two plots to docs to make information set graph explaining clearer, and also added labels to the nodes in those tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de">98f7557</a></td><td><code>Changed docs to represent changes to parser, and made it so docs now make</code></td></tr></table>




---

archive/issue_comments_268616.json:
```json
{
    "body": "**Changing commit** from \"[dde247b8d5faafdf0f27090610b7ed92c870e46a](https://github.com/sagemath/sagetrac-mirror/commit/dde247b8d5faafdf0f27090610b7ed92c870e46a)\" to \"[98f75571975d46eada81f091ac649dd849d487de](https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de)\".",
    "created_at": "2015-08-09T14:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268616",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[dde247b8d5faafdf0f27090610b7ed92c870e46a](https://github.com/sagemath/sagetrac-mirror/commit/dde247b8d5faafdf0f27090610b7ed92c870e46a)" to "[98f75571975d46eada81f091ac649dd849d487de](https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de)".



---

archive/issue_comments_268617.json:
```json
{
    "body": "<a id='comment:7'></a>\nIs this now ready for review?",
    "created_at": "2015-08-09T18:54:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268617",
    "user": "https://github.com/theref"
}
```

<a id='comment:7'></a>
Is this now ready for review?



---

archive/issue_comments_268618.json:
```json
{
    "body": "<a id='comment:8'></a>\nYes, it's now ready for review. As this is a large ticket, Hannah suggests the following break up of the review process (which could be done by multiple people):\n\nPart 1:\n\n   `ExtensiveFormGame`\n1. `__init__` (not worrying about having a gambit Game generator)\n2. _check_node_names_and_find_players (as a direct result of looking at `__init__`)\n\n   `EFG_Node`, `EFG_Leaf`, `EFG_Player`:\n1. (all of their methods)\n\nPart 2:\n   `ExtensiveFormGame`\n1. _gambit_to_sage and all its own methods (and hence might want to look at __init and generating the game with a gambit Game)\n2. sage_to_gambit and all its own methods\n\nPart 3:\n   `ExtensiveFormGame`\n1. set_info_set\n2. remove_info_set\n3. perfect_info\n4. plot (and all its related hidden methods, i.e. _grow_tree, _grow_tree_dictionary)\n5. plot_info_sets (and all its related hidden methods i.e. _grow_info_set_graph, _grow_info_set_graph_dictionary)\n6. obtain_nash\n7. is_constant_sum",
    "created_at": "2015-08-10T06:24:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268618",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:8'></a>
Yes, it's now ready for review. As this is a large ticket, Hannah suggests the following break up of the review process (which could be done by multiple people):

Part 1:

   `ExtensiveFormGame`
1. `__init__` (not worrying about having a gambit Game generator)
2. _check_node_names_and_find_players (as a direct result of looking at `__init__`)

   `EFG_Node`, `EFG_Leaf`, `EFG_Player`:
1. (all of their methods)

Part 2:
   `ExtensiveFormGame`
1. _gambit_to_sage and all its own methods (and hence might want to look at __init and generating the game with a gambit Game)
2. sage_to_gambit and all its own methods

Part 3:
   `ExtensiveFormGame`
1. set_info_set
2. remove_info_set
3. perfect_info
4. plot (and all its related hidden methods, i.e. _grow_tree, _grow_tree_dictionary)
5. plot_info_sets (and all its related hidden methods i.e. _grow_info_set_graph, _grow_info_set_graph_dictionary)
6. obtain_nash
7. is_constant_sum



---

archive/issue_comments_268619.json:
```json
{
    "body": "<a id='comment:10'></a>\nJust a few observations from looking at the initialization methods:\n \n* Would it be possible to automatically name the players, in a similar manner that the nodes are automatically named if no name is given.\n* The function \"_player_check\" needs a test for the case where a player is correctly passed as a parameter\n* It might be better if the '_player_check' function was called when the node is created rather than when multiple nodes have been created. This way you can easily tell which node caused the error.\n* Test the structure of the graph generated in '_grow_tree_dictionary'\n* Indicate in the documentation that the current implementation doesn't support chance (nature) nodes. And possibly catch the error generated when trying to convert a gambit game with a chance node. For example, (https://github.com/gambitproject/gambit/blob/0860191f942fb81f296232b2064456806ed1341c/contrib/games/bayes1a.efg)\n\n```\nExtensiveFormGame(gambit.Game.read_game(\"bayes1a.efg\"))\n```\nyields\n\n```\nKeyError: <Player [CHANCE] in game 'General Bayes game, one stage'>\n```",
    "created_at": "2015-11-28T02:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268619",
    "user": "https://github.com/ptigwe"
}
```

<a id='comment:10'></a>
Just a few observations from looking at the initialization methods:
 
* Would it be possible to automatically name the players, in a similar manner that the nodes are automatically named if no name is given.
* The function "_player_check" needs a test for the case where a player is correctly passed as a parameter
* It might be better if the '_player_check' function was called when the node is created rather than when multiple nodes have been created. This way you can easily tell which node caused the error.
* Test the structure of the graph generated in '_grow_tree_dictionary'
* Indicate in the documentation that the current implementation doesn't support chance (nature) nodes. And possibly catch the error generated when trying to convert a gambit game with a chance node. For example, (https://github.com/gambitproject/gambit/blob/0860191f942fb81f296232b2064456806ed1341c/contrib/games/bayes1a.efg)

```
ExtensiveFormGame(gambit.Game.read_game("bayes1a.efg"))
```
yields

```
KeyError: <Player [CHANCE] in game 'General Bayes game, one stage'>
```



---

archive/issue_comments_268620.json:
```json
{
    "body": "<a id='comment:11'></a>\nSuper helpful Tobenna. Immediate thoughts below (mainly agreeing). I will get on this as soon as I get a moment.\n\nReplying to [@ptigwe](#comment%3A10):\n> Just a few observations from looking at the initialization methods:\n>  \n> * Would it be possible to automatically name the players, in a similar manner that the nodes are automatically named if no name is given.\n\nGood idea!\n\n> * The function \"_player_check\" needs a test for the case where a player is correctly passed as a parameter\n\nYup.\n\n> * It might be better if the '_player_check' function was called when the node is created rather than when multiple nodes have been created. This way you can easily tell which node caused the error.\n\nSounds sensible.\n\n> * Test the structure of the graph generated in '_grow_tree_dictionary'\n\nYup.\n\n> * Indicate in the documentation that the current implementation doesn't support chance (nature) nodes. And possibly catch the error generated when trying to convert a gambit game with a chance node. For example, (https://github.com/gambitproject/gambit/blob/0860191f942fb81f296232b2064456806ed1341c/contrib/games/bayes1a.efg)\n> \n> ```\n> ExtensiveFormGame(gambit.Game.read_game(\"bayes1a.efg\"))\n> ```\n> yields\n> \n> ```\n> KeyError: <Player [CHANCE] in game 'General Bayes game, one stage'>\n> ```\n\n\nAh excellent catch! Yes this is needed.",
    "created_at": "2015-11-29T15:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268620",
    "user": "https://github.com/drvinceknight"
}
```

<a id='comment:11'></a>
Super helpful Tobenna. Immediate thoughts below (mainly agreeing). I will get on this as soon as I get a moment.

Replying to [@ptigwe](#comment%3A10):
> Just a few observations from looking at the initialization methods:
>  
> * Would it be possible to automatically name the players, in a similar manner that the nodes are automatically named if no name is given.

Good idea!

> * The function "_player_check" needs a test for the case where a player is correctly passed as a parameter

Yup.

> * It might be better if the '_player_check' function was called when the node is created rather than when multiple nodes have been created. This way you can easily tell which node caused the error.

Sounds sensible.

> * Test the structure of the graph generated in '_grow_tree_dictionary'

Yup.

> * Indicate in the documentation that the current implementation doesn't support chance (nature) nodes. And possibly catch the error generated when trying to convert a gambit game with a chance node. For example, (https://github.com/gambitproject/gambit/blob/0860191f942fb81f296232b2064456806ed1341c/contrib/games/bayes1a.efg)
> 
> ```
> ExtensiveFormGame(gambit.Game.read_game("bayes1a.efg"))
> ```
> yields
> 
> ```
> KeyError: <Player [CHANCE] in game 'General Bayes game, one stage'>
> ```


Ah excellent catch! Yes this is needed.



---

archive/issue_comments_268621.json:
```json
{
    "body": "<a id='comment:12'></a>\nThis no longer merges.",
    "created_at": "2018-07-28T09:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268621",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:12'></a>
This no longer merges.



---

archive/issue_events_170404.json:
```json
{
    "actor": "https://github.com/bryangingechen",
    "created_at": "2018-07-28T09:18:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18945#event-170404"
}
```



---

archive/issue_events_170405.json:
```json
{
    "actor": "https://github.com/bryangingechen",
    "created_at": "2018-07-28T09:18:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18945#event-170405"
}
```



---

archive/issue_events_170406.json:
```json
{
    "actor": "https://github.com/bryangingechen",
    "created_at": "2018-07-28T14:45:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18945#event-170406"
}
```



---

archive/issue_events_170407.json:
```json
{
    "actor": "https://github.com/bryangingechen",
    "created_at": "2018-07-28T14:45:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18945#event-170407"
}
```



---

archive/issue_comments_268622.json:
```json
{
    "body": "**Changing commit** from \"[98f75571975d46eada81f091ac649dd849d487de](https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de)\" to \"[51303a7a69337709f9ea1455e3422f7be6fc04c3](https://github.com/sagemath/sagetrac-mirror/commit/51303a7a69337709f9ea1455e3422f7be6fc04c3)\".",
    "created_at": "2018-07-28T14:45:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268622",
    "user": "https://github.com/bryangingechen"
}
```

**Changing commit** from "[98f75571975d46eada81f091ac649dd849d487de](https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de)" to "[51303a7a69337709f9ea1455e3422f7be6fc04c3](https://github.com/sagemath/sagetrac-mirror/commit/51303a7a69337709f9ea1455e3422f7be6fc04c3)".



---

archive/issue_comments_268623.json:
```json
{
    "body": "<a id='comment:13'></a>\n... but it was easy enough to get it to merge and I went ahead and fixed some doctests as well. I will leave this as needs_work though since there are some unaddressed issues from the comments above.\n  \n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1324c8bf3e36b0ab6e61395de82e26671dbe6ac\">b1324c8</a></td><td><code>Merge branch 'extensiveform' of github.com:theref/sage-game-theory into extensiveform</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/546c09bc8db2d4a4f7c959673e7b9572d3b4de34\">546c09b</a></td><td><code>Rewritten tests for parser</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8d7b100d8ec1fc68bb24cc201a3c7eaee8740cb\">b8d7b10</a></td><td><code>Parsing modified all tests passed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bc35024b425c718e01651e49300aeda990fd5bc\">2bc3502</a></td><td><code>Changed obtain_nash tests within efg to reflect changes to parsing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71f6c76b7a2f94abf3b780e5aa872df67d03f72a\">71f6c76</a></td><td><code>Altered code to simplify loops</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/213d31d4b3afaa10d90726491cc31e297bde6f29\">213d31d</a></td><td><code>Added another method for gambit_to_sage for indexing nodes, to help make the code clearer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1496dc045847418c6f5fe8c862ed2d35ace342eb\">1496dc0</a></td><td><code>Added two plots to docs to make information set graph explaining clearer, and also added labels to the nodes in those tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de\">98f7557</a></td><td><code>Changed docs to represent changes to parser, and made it so docs now make</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa4075229b51c222c1e603706c5375edd6bfe0a0\">aa40752</a></td><td><code>Merge branch 'u/hhlorrimore/extensiveform' of git://trac.sagemath.org/sage into 18945_extensiveform</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51303a7a69337709f9ea1455e3422f7be6fc04c3\">51303a7</a></td><td><code>Fix broken doctests</code></td></tr></table>\n",
    "created_at": "2018-07-28T14:45:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268623",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:13'></a>
... but it was easy enough to get it to merge and I went ahead and fixed some doctests as well. I will leave this as needs_work though since there are some unaddressed issues from the comments above.
  
---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1324c8bf3e36b0ab6e61395de82e26671dbe6ac">b1324c8</a></td><td><code>Merge branch 'extensiveform' of github.com:theref/sage-game-theory into extensiveform</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/546c09bc8db2d4a4f7c959673e7b9572d3b4de34">546c09b</a></td><td><code>Rewritten tests for parser</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8d7b100d8ec1fc68bb24cc201a3c7eaee8740cb">b8d7b10</a></td><td><code>Parsing modified all tests passed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bc35024b425c718e01651e49300aeda990fd5bc">2bc3502</a></td><td><code>Changed obtain_nash tests within efg to reflect changes to parsing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71f6c76b7a2f94abf3b780e5aa872df67d03f72a">71f6c76</a></td><td><code>Altered code to simplify loops</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/213d31d4b3afaa10d90726491cc31e297bde6f29">213d31d</a></td><td><code>Added another method for gambit_to_sage for indexing nodes, to help make the code clearer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1496dc045847418c6f5fe8c862ed2d35ace342eb">1496dc0</a></td><td><code>Added two plots to docs to make information set graph explaining clearer, and also added labels to the nodes in those tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98f75571975d46eada81f091ac649dd849d487de">98f7557</a></td><td><code>Changed docs to represent changes to parser, and made it so docs now make</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa4075229b51c222c1e603706c5375edd6bfe0a0">aa40752</a></td><td><code>Merge branch 'u/hhlorrimore/extensiveform' of git://trac.sagemath.org/sage into 18945_extensiveform</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51303a7a69337709f9ea1455e3422f7be6fc04c3">51303a7</a></td><td><code>Fix broken doctests</code></td></tr></table>




---

archive/issue_comments_268624.json:
```json
{
    "body": "**Changing branch** from \"[u/hhlorrimore/extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/u/hhlorrimore/extensiveform)\" to \"[public/18945_extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/public/18945_extensiveform)\".",
    "created_at": "2018-07-28T14:45:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18945#issuecomment-268624",
    "user": "https://github.com/bryangingechen"
}
```

**Changing branch** from "[u/hhlorrimore/extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/u/hhlorrimore/extensiveform)" to "[public/18945_extensiveform](https://github.com/sagemath/sagetrac-mirror/tree/public/18945_extensiveform)".
