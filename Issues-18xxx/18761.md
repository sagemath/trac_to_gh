# Issue 18761: method submatrix of matrix_mod2_dense needs default arguments

archive/issues_018524.json:
```json
{
    "body": "The `submatrix` methods for dense matrices mod 2<sup>e</sup> have a different signature than the other `submatrix` methods; the latter treat their last two arguments as optional. This leads to errors like this (from 6.8.beta5):\n\n```\nsage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])\nsage: d0._echelon_form_PID()---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: submatrix() takes exactly 4 positional arguments (2 given)\n``` \n\nor this\n\n```\nsage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])\nsage: d1=matrix(GF(2),[[1, 1, 0, 0],\n [1, 1, 0, 0],\n [1, 1, 1, 1],\n [1, 1, 1, 1],\n [0, 0, 1, 1],\n [0, 0, 1, 1]]\n)\nsage: C=ChainComplex(data=(d0,d1))\nsage: C.homology(1,generators=True)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: submatrix() takes exactly 4 positional arguments (2 given)\n```\n\nCC:  @malb\n\nKeywords: dense matrix, sub matrix\n\nBranch/Commit: 3549edfeec4bdcc3976963b021f19807afd9eaa6\n\nReviewer: Martin Albrecht\n\nAuthor: Christian Nassau\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18761\n\n",
    "closed_at": "2015-06-24T20:11:28Z",
    "created_at": "2015-06-22T18:07:58Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "method submatrix of matrix_mod2_dense needs default arguments",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18761",
    "user": "https://github.com/cnassau"
}
```
The `submatrix` methods for dense matrices mod 2<sup>e</sup> have a different signature than the other `submatrix` methods; the latter treat their last two arguments as optional. This leads to errors like this (from 6.8.beta5):

```
sage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])
sage: d0._echelon_form_PID()---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: submatrix() takes exactly 4 positional arguments (2 given)
``` 

or this

```
sage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])
sage: d1=matrix(GF(2),[[1, 1, 0, 0],
 [1, 1, 0, 0],
 [1, 1, 1, 1],
 [1, 1, 1, 1],
 [0, 0, 1, 1],
 [0, 0, 1, 1]]
)
sage: C=ChainComplex(data=(d0,d1))
sage: C.homology(1,generators=True)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: submatrix() takes exactly 4 positional arguments (2 given)
```

CC:  @malb

Keywords: dense matrix, sub matrix

Branch/Commit: 3549edfeec4bdcc3976963b021f19807afd9eaa6

Reviewer: Martin Albrecht

Author: Christian Nassau

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18761





---

archive/issue_comments_251646.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251646",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_251647.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251647",
    "user": "https://github.com/cnassau"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_251648.json:
```json
{
    "body": "<a id='comment:2'></a>I have given the submatrix methods the same signature as in file \"matrix1.pyx\". This includes a name change of the arguments, because in parts of Sage (eg, `ChainComplex._homology_generators_snf`) the method is called with named arguments.\n\nI also made this change: \n\n```\n-        if self._ncols == 0 or self._nrows == 0:\n+        if ncols == 0 or nrows == 0:\n```\nThis fixed a segfault in my tests, and also seems to make more sense that the original: one returns an uninitialized matrix if *it* is empty, not if *self* is empty.\n\nCaveat: I have no detailed understanding of m4rie, someone knowledgeable might want to have a look at my changes.",
    "created_at": "2015-06-22T19:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251648",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:2'></a>I have given the submatrix methods the same signature as in file "matrix1.pyx". This includes a name change of the arguments, because in parts of Sage (eg, `ChainComplex._homology_generators_snf`) the method is called with named arguments.

I also made this change: 

```
-        if self._ncols == 0 or self._nrows == 0:
+        if ncols == 0 or nrows == 0:
```
This fixed a segfault in my tests, and also seems to make more sense that the original: one returns an uninitialized matrix if *it* is empty, not if *self* is empty.

Caveat: I have no detailed understanding of m4rie, someone knowledgeable might want to have a look at my changes.



---

archive/issue_comments_251649.json:
```json
{
    "body": "<a id='comment:5'></a>Looks good to me.",
    "created_at": "2015-06-23T08:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251649",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>Looks good to me.



---

archive/issue_comments_251650.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-23T08:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251650",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_251651.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-06-24T10:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251651",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_251652.json:
```json
{
    "body": "<a id='comment:6'></a>Reviewer name is missing",
    "created_at": "2015-06-24T10:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251652",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>Reviewer name is missing



---

archive/issue_comments_251653.json:
```json
{
    "body": "<a id='comment:7'></a>I have added the name of the reviewer, and taken the liberty to revert the status to positive-review again myself.",
    "created_at": "2015-06-24T10:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251653",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:7'></a>I have added the name of the reviewer, and taken the liberty to revert the status to positive-review again myself.



---

archive/issue_comments_251654.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-06-24T10:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251654",
    "user": "https://github.com/cnassau"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_251655.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-24T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-251655",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_052505.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-24T20:11:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18761#event-52505"
}
```
