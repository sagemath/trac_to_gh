# Issue 18761: method submatrix of matrix_mod2_dense needs default arguments

archive/issues_018524.json:
```json
{
    "body": "The `submatrix` methods for dense matrices mod 2<sup>e</sup> have a different signature than the other `submatrix` methods; the latter treat their last two arguments as optional. This leads to errors like this (from 6.8.beta5):\n\n```\nsage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])\nsage: d0._echelon_form_PID()---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: submatrix() takes exactly 4 positional arguments (2 given)\n``` \n\nor this\n\n```\nsage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])\nsage: d1=matrix(GF(2),[[1, 1, 0, 0],\n [1, 1, 0, 0],\n [1, 1, 1, 1],\n [1, 1, 1, 1],\n [0, 0, 1, 1],\n [0, 0, 1, 1]]\n)\nsage: C=ChainComplex(data=(d0,d1))\nsage: C.homology(1,generators=True)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: submatrix() takes exactly 4 positional arguments (2 given)\n```\n\nCC:  @malb\n\nKeywords: dense matrix, sub matrix\n\nBranch/Commit: 3549edfeec4bdcc3976963b021f19807afd9eaa6\n\nReviewer: Martin Albrecht\n\nAuthor: Christian Nassau\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18761\n\n",
    "closed_at": "2015-06-24T20:11:28Z",
    "created_at": "2015-06-22T18:07:58Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "method submatrix of matrix_mod2_dense needs default arguments",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18761",
    "user": "https://github.com/cnassau"
}
```
The `submatrix` methods for dense matrices mod 2<sup>e</sup> have a different signature than the other `submatrix` methods; the latter treat their last two arguments as optional. This leads to errors like this (from 6.8.beta5):

```
sage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])
sage: d0._echelon_form_PID()---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: submatrix() takes exactly 4 positional arguments (2 given)
``` 

or this

```
sage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])
sage: d1=matrix(GF(2),[[1, 1, 0, 0],
 [1, 1, 0, 0],
 [1, 1, 1, 1],
 [1, 1, 1, 1],
 [0, 0, 1, 1],
 [0, 0, 1, 1]]
)
sage: C=ChainComplex(data=(d0,d1))
sage: C.homology(1,generators=True)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: submatrix() takes exactly 4 positional arguments (2 given)
```

CC:  @malb

Keywords: dense matrix, sub matrix

Branch/Commit: 3549edfeec4bdcc3976963b021f19807afd9eaa6

Reviewer: Martin Albrecht

Author: Christian Nassau

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18761





---

archive/issue_comments_326337.json:
```json
{
    "body": "Changing commit from \"\" to \"3549edfeec4bdcc3976963b021f19807afd9eaa6\"",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326337",
    "user": "https://github.com/cnassau"
}
```

Changing commit from "" to "3549edfeec4bdcc3976963b021f19807afd9eaa6"



---

archive/issue_comments_326338.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[3549edf](https://github.com/sagemath/sagetrac-mirror/commit/3549edfeec4bdcc3976963b021f19807afd9eaa6)|`Ticket #18761 - change the signature of the submatrix method for dense`|",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326338",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[3549edf](https://github.com/sagemath/sagetrac-mirror/commit/3549edfeec4bdcc3976963b021f19807afd9eaa6)|`Ticket #18761 - change the signature of the submatrix method for dense`|



---

archive/issue_comments_326339.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326339",
    "user": "https://github.com/cnassau"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_326340.json:
```json
{
    "body": "Changing branch from \"\" to \"u/cnassau/submatrix_signature\"",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326340",
    "user": "https://github.com/cnassau"
}
```

Changing branch from "" to "u/cnassau/submatrix_signature"



---

archive/issue_comments_326341.json:
```json
{
    "body": "<a id='comment:2'></a>\nI have given the submatrix methods the same signature as in file \"matrix1.pyx\". This includes a name change of the arguments, because in parts of Sage (eg, `ChainComplex._homology_generators_snf`) the method is called with named arguments.\n\nI also made this change: \n\n```\n-        if self._ncols == 0 or self._nrows == 0:\n+        if ncols == 0 or nrows == 0:\n```\nThis fixed a segfault in my tests, and also seems to make more sense that the original: one returns an uninitialized matrix if *it* is empty, not if *self* is empty.\n\nCaveat: I have no detailed understanding of m4rie, someone knowledgeable might want to have a look at my changes.",
    "created_at": "2015-06-22T19:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326341",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:2'></a>
I have given the submatrix methods the same signature as in file "matrix1.pyx". This includes a name change of the arguments, because in parts of Sage (eg, `ChainComplex._homology_generators_snf`) the method is called with named arguments.

I also made this change: 

```
-        if self._ncols == 0 or self._nrows == 0:
+        if ncols == 0 or nrows == 0:
```
This fixed a segfault in my tests, and also seems to make more sense that the original: one returns an uninitialized matrix if *it* is empty, not if *self* is empty.

Caveat: I have no detailed understanding of m4rie, someone knowledgeable might want to have a look at my changes.



---

archive/issue_comments_326342.json:
```json
{
    "body": "Changing author from \"\" to \"Christian Nassau\"",
    "created_at": "2015-06-22T19:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326342",
    "user": "https://github.com/cnassau"
}
```

Changing author from "" to "Christian Nassau"



---

archive/issue_comments_326343.json:
```json
{
    "body": "<a id='comment:5'></a>\nLooks good to me.",
    "created_at": "2015-06-23T08:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326343",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>
Looks good to me.



---

archive/issue_comments_326344.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-23T08:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326344",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_326345.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-06-24T10:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326345",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_326346.json:
```json
{
    "body": "<a id='comment:6'></a>\nReviewer name is missing",
    "created_at": "2015-06-24T10:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326346",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
Reviewer name is missing



---

archive/issue_comments_326347.json:
```json
{
    "body": "<a id='comment:7'></a>\nI have added the name of the reviewer, and taken the liberty to revert the status to positive-review again myself.",
    "created_at": "2015-06-24T10:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326347",
    "user": "https://github.com/cnassau"
}
```

<a id='comment:7'></a>
I have added the name of the reviewer, and taken the liberty to revert the status to positive-review again myself.



---

archive/issue_comments_326348.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Martin Albrecht\"",
    "created_at": "2015-06-24T10:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326348",
    "user": "https://github.com/cnassau"
}
```

Changing reviewer from "" to "Martin Albrecht"



---

archive/issue_comments_326349.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-06-24T10:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326349",
    "user": "https://github.com/cnassau"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_326350.json:
```json
{
    "body": "Changing branch from \"u/cnassau/submatrix_signature\" to \"3549edfeec4bdcc3976963b021f19807afd9eaa6\"",
    "created_at": "2015-06-24T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326350",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cnassau/submatrix_signature" to "3549edfeec4bdcc3976963b021f19807afd9eaa6"



---

archive/issue_comments_326351.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-24T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18761#issuecomment-326351",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_067483.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-24T20:11:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18761",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18761#event-67483"
}
```
