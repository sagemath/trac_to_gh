# Issue 18722: Fix weight of Nakajima monomials

archive/issues_018485.json:
```json
{
    "body": "With #18453, all weights are computed as the difference of the highest weight to what should be the weight. In particular, any highest weight element has weight 0.\n\n```\nsage: La = RootSystem(['A',2]).weight_lattice().fundamental_weights()\nsage: M = crystals.NakajimaMonomials(['A',2], La[1])\nsage: M.module_generators[0].weight()\n(0, 0, 0)\n```\nI also make Nakajima monomials as classical crystals for the finite types.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @bsalisbury1 @anneschilling\n\nKeywords: crystals, nakajima monomials\n\nBranch/Commit: 4eb38e26d5448c620c5653de6a4eb6d998395c09\n\nReviewer: Ben Salisbury\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18722\n\n",
    "closed_at": "2015-06-19T08:24:55Z",
    "created_at": "2015-06-17T20:10:24Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Fix weight of Nakajima monomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18722",
    "user": "https://github.com/tscrim"
}
```
With #18453, all weights are computed as the difference of the highest weight to what should be the weight. In particular, any highest weight element has weight 0.

```
sage: La = RootSystem(['A',2]).weight_lattice().fundamental_weights()
sage: M = crystals.NakajimaMonomials(['A',2], La[1])
sage: M.module_generators[0].weight()
(0, 0, 0)
```
I also make Nakajima monomials as classical crystals for the finite types.

Assignee: sage-combinat

CC:  sage-combinat @bsalisbury1 @anneschilling

Keywords: crystals, nakajima monomials

Branch/Commit: 4eb38e26d5448c620c5653de6a4eb6d998395c09

Reviewer: Ben Salisbury

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18722





---

archive/issue_comments_267397.json:
```json
{
    "body": "<a id='comment:1'></a>Last 10 new commits:",
    "created_at": "2015-06-17T20:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267397",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>Last 10 new commits:



---

archive/issue_comments_267398.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-17T20:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267398",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_267399.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n With #18453, all weights are computed as the difference of the highest weight to what should be the weight. In particular, any highest weight element has weight 0.\n+\n+```\n+sage: La = RootSystem(['A',2]).weight_lattice().fundamental_weights()\n+sage: M = crystals.NakajimaMonomials(['A',2], La[1])\n+sage: M.module_generators[0].weight()\n+(0, 0, 0)\n+```\n+I also make Nakajima monomials as classical crystals for the finite types.\n \n Author: Travis Scrimshaw\n \n``````\n",
    "created_at": "2015-06-17T20:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267399",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,12 @@
 With #18453, all weights are computed as the difference of the highest weight to what should be the weight. In particular, any highest weight element has weight 0.
+
+```
+sage: La = RootSystem(['A',2]).weight_lattice().fundamental_weights()
+sage: M = crystals.NakajimaMonomials(['A',2], La[1])
+sage: M.module_generators[0].weight()
+(0, 0, 0)
+```
+I also make Nakajima monomials as classical crystals for the finite types.
 
 Author: Travis Scrimshaw
 
``````




---

archive/issue_comments_267400.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2015-06-17T20:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267400",
    "user": "https://github.com/tscrim"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_267401.json:
```json
{
    "body": "<a id='comment:3'></a>The following example failed with the original commit:\n\n```\nsage: M = crystals.NakajimaMonomials(['A',2,1], RootSystem(['A',2,1]).weight_lattice(extended=True).fundamental_weight(0))\nsage: m = M.module_generators[0]\nsage: m.weight()\nLambda[0]\n```\nA conditional was added to `__classcall_private__` of `CrystalsOfNakajimaMonomials` to ensure the weight lattice being used is the extended weight lattice with the underlying Cartan type is affine.\n\nSome doctests needed to be updated so that the input used the extended weight lattice in affine examples.\n\nDoctests passed on my machine, so if you agree with these changes, then you may set the ticket to positive review on my behalf.",
    "created_at": "2015-06-17T20:46:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267401",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:3'></a>The following example failed with the original commit:

```
sage: M = crystals.NakajimaMonomials(['A',2,1], RootSystem(['A',2,1]).weight_lattice(extended=True).fundamental_weight(0))
sage: m = M.module_generators[0]
sage: m.weight()
Lambda[0]
```
A conditional was added to `__classcall_private__` of `CrystalsOfNakajimaMonomials` to ensure the weight lattice being used is the extended weight lattice with the underlying Cartan type is affine.

Some doctests needed to be updated so that the input used the extended weight lattice in affine examples.

Doctests passed on my machine, so if you agree with these changes, then you may set the ticket to positive review on my behalf.



---

archive/issue_comments_267402.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-17T20:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_267403.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-17T20:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267403",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_267404.json:
```json
{
    "body": "<a id='comment:5'></a>Works for me. Thanks!",
    "created_at": "2015-06-17T20:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267404",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>Works for me. Thanks!



---

archive/issue_comments_267405.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-19T08:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18722#issuecomment-267405",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_052431.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-19T08:24:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18722",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18722#event-52431"
}
```
