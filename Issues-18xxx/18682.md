# Issue 18682: Add SetSystem.is_connected()

archive/issues_018445.json:
```json
{
    "body": "Add a routine for testing connectivity of a SetSystem.\n\nAssignee: Rudi\n\nCC:  @chaoxu @videlec\n\nReviewer: Nathann Cohen\n\nAuthor: Rudi Pendavingh\n\nBranch: 7b136abb135ee7872ef4999b06d1893d79905f4a\n\nCommit: 7b136abb135ee7872ef4999b06d1893d79905f4a\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18682\n\n",
    "closed_at": "2015-06-14T21:43:33Z",
    "created_at": "2015-06-11T19:11:22Z",
    "labels": [
        "component: matroid theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Add SetSystem.is_connected()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18682",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```
Add a routine for testing connectivity of a SetSystem.

Assignee: Rudi

CC:  @chaoxu @videlec

Reviewer: Nathann Cohen

Author: Rudi Pendavingh

Branch: 7b136abb135ee7872ef4999b06d1893d79905f4a

Commit: 7b136abb135ee7872ef4999b06d1893d79905f4a

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18682





---

archive/issue_comments_250289.json:
```json
{
    "body": "<a id='comment:2'></a>First try.\n\n```\nsage: from sage.matroids.set_system import SetSystem\nsage: M = Matroid(MatrixSpace(GF(2), 500,1000).random_element())\nsage: B = M.basis()\nsage: %time FC = [M.fundamental_cocircuit(B,e) for e in B]\nCPU times: user 27.5 ms, sys: 3.13 ms, total: 30.7 ms\nWall time: 30.4 ms\nsage: %time S = SetSystem(list(M.groundset()), FC)\nCPU times: user 5.06 ms, sys: 106 \u00b5s, total: 5.17 ms\nWall time: 5.18 ms\nsage: timeit(\"S.is_connected()\")\n625 loops, best of 3: 12.8 \u00b5s per loop\n```\n\n---\nNew commits:",
    "created_at": "2015-06-11T19:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250289",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:2'></a>First try.

```
sage: from sage.matroids.set_system import SetSystem
sage: M = Matroid(MatrixSpace(GF(2), 500,1000).random_element())
sage: B = M.basis()
sage: %time FC = [M.fundamental_cocircuit(B,e) for e in B]
CPU times: user 27.5 ms, sys: 3.13 ms, total: 30.7 ms
Wall time: 30.4 ms
sage: %time S = SetSystem(list(M.groundset()), FC)
CPU times: user 5.06 ms, sys: 106 µs, total: 5.17 ms
Wall time: 5.18 ms
sage: timeit("S.is_connected()")
625 loops, best of 3: 12.8 µs per loop
```

---
New commits:



---

archive/issue_comments_250290.json:
```json
{
    "body": "<a id='comment:3'></a>`Hypergraph.is_connected()` `:-/`\n\nGuys, we are doing this work twice `:-/`\n\nNathann",
    "created_at": "2015-06-11T20:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250290",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>`Hypergraph.is_connected()` `:-/`

Guys, we are doing this work twice `:-/`

Nathann



---

archive/issue_comments_250291.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 ncohen]:\n> `Hypergraph.is_connected()` `:-/`\n> \n> Guys, we are doing this work twice `:-/`\n\n\nI'm helping to speed up the code in this ticket #18539, for that we just need a fast connectivity checker. I tried Sage's Hypergraph first, but look at this (same example as above):\n\n```\nsage: %time S = Hypergraph(points = list(M.groundset()), blocks =FC)\nCPU times: user 1.17 s, sys: 20.9 ms, total: 1.19 s\nWall time: 1.18 s\nsage: %time S.is_connected()\nCPU times: user 50.7 s, sys: 593 ms, total: 51.3 s\nWall time: 50.7 s\nTrue\n```\nCompared to SetSystem, the Hypergraph I want takes 200 times longer to construct, and finding out if it is connected takes about 4 million times longer. \n\nSo what would you do in this case?",
    "created_at": "2015-06-11T21:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250291",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:4'></a>Replying to [comment:3 ncohen]:
> `Hypergraph.is_connected()` `:-/`
> 
> Guys, we are doing this work twice `:-/`


I'm helping to speed up the code in this ticket #18539, for that we just need a fast connectivity checker. I tried Sage's Hypergraph first, but look at this (same example as above):

```
sage: %time S = Hypergraph(points = list(M.groundset()), blocks =FC)
CPU times: user 1.17 s, sys: 20.9 ms, total: 1.19 s
Wall time: 1.18 s
sage: %time S.is_connected()
CPU times: user 50.7 s, sys: 593 ms, total: 51.3 s
Wall time: 50.7 s
True
```
Compared to SetSystem, the Hypergraph I want takes 200 times longer to construct, and finding out if it is connected takes about 4 million times longer. 

So what would you do in this case?



---

archive/issue_comments_250292.json:
```json
{
    "body": "<a id='comment:5'></a>> Compared to SetSystem, the Hypergraph I want takes 200 times longer to construct, and finding out if it is connected takes about 4 million times longer. \n> \n> So what would you do in this case?\n\n\nYou got me wrong: I did not claim that Hypergraph's version was faster (just look at the code, you will see why it is slow), but I hope that I do not need to convince you that having two class with the same purpose (Hypergraph and SetSystem) and developping them in parallel is a very very bad idea.\n\nNathann",
    "created_at": "2015-06-11T21:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250292",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>> Compared to SetSystem, the Hypergraph I want takes 200 times longer to construct, and finding out if it is connected takes about 4 million times longer. 
> 
> So what would you do in this case?


You got me wrong: I did not claim that Hypergraph's version was faster (just look at the code, you will see why it is slow), but I hope that I do not need to convince you that having two class with the same purpose (Hypergraph and SetSystem) and developping them in parallel is a very very bad idea.

Nathann



---

archive/issue_comments_250293.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 ncohen]:\n> You got me wrong: I did not claim that Hypergraph's version was faster (just look at the code, you will see why it is slow), but I hope that I do not need to convince you that having two class with the same purpose (Hypergraph and SetSystem) and developping them in parallel is a very very bad idea.\n\n\nI agree, but what would you suggest? I do not want to open up SetSystem for public use and on the other hand, to get what I want from Hypergraph I would need to make changes to it's internal datastructure, using bitsets from the ground up. This would affect nearly every line of code in 'incidence_structures.py'. Apart from it being a bit of work, I hesitate to make such radical changes to other people's work. What there is probably works well for the application it was written for.\n\nSo who are working that part of sage right now? They might want to consider re-implementing this stuff using bitsets themselves. Bitsets simply work for this kind of thing.",
    "created_at": "2015-06-11T22:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250293",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:6'></a>Replying to [comment:5 ncohen]:
> You got me wrong: I did not claim that Hypergraph's version was faster (just look at the code, you will see why it is slow), but I hope that I do not need to convince you that having two class with the same purpose (Hypergraph and SetSystem) and developping them in parallel is a very very bad idea.


I agree, but what would you suggest? I do not want to open up SetSystem for public use and on the other hand, to get what I want from Hypergraph I would need to make changes to it's internal datastructure, using bitsets from the ground up. This would affect nearly every line of code in 'incidence_structures.py'. Apart from it being a bit of work, I hesitate to make such radical changes to other people's work. What there is probably works well for the application it was written for.

So who are working that part of sage right now? They might want to consider re-implementing this stuff using bitsets themselves. Bitsets simply work for this kind of thing.



---

archive/issue_comments_250294.json:
```json
{
    "body": "<a id='comment:7'></a>> I agree, but what would you suggest? I do not want to open up SetSystem for public use and on the other hand, to get what I want from Hypergraph I would need to make changes to it's internal datastructure, using bitsets from the ground up. This would affect nearly every line of code in 'incidence_structures.py'. Apart from it being a bit of work, I hesitate to make such radical changes to other people's work. What there is probably works well for the application it was written for.\n\n\nHMmmm... Makes sense, but still.. Maybe we could have at least some generic class for the high-level functions `:-/`\n\n> So who are working that part of sage right now? They might want to consider re-implementing this stuff using bitsets themselves. Bitsets simply work for this kind of thing.\n\n\nNot if you store 3-uniform hypergraphs on a large ground set. You would waste a lot of memory. It's like for graphs, you would need different data structures for different purposes `:-/`\n\nNathann",
    "created_at": "2015-06-11T22:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250294",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>> I agree, but what would you suggest? I do not want to open up SetSystem for public use and on the other hand, to get what I want from Hypergraph I would need to make changes to it's internal datastructure, using bitsets from the ground up. This would affect nearly every line of code in 'incidence_structures.py'. Apart from it being a bit of work, I hesitate to make such radical changes to other people's work. What there is probably works well for the application it was written for.


HMmmm... Makes sense, but still.. Maybe we could have at least some generic class for the high-level functions `:-/`

> So who are working that part of sage right now? They might want to consider re-implementing this stuff using bitsets themselves. Bitsets simply work for this kind of thing.


Not if you store 3-uniform hypergraphs on a large ground set. You would waste a lot of memory. It's like for graphs, you would need different data structures for different purposes `:-/`

Nathann



---

archive/issue_comments_250295.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 ncohen]:\n\n== ==\n\n> > So who are working that part of sage right now? They might want to consider re-implementing this stuff using bitsets themselves. Bitsets simply work for this kind of thing.\n\n> \n> Not if you store 3-uniform hypergraphs on a large ground set. You would waste a lot of memory. It's like for graphs, you would need different data structures for different purposes `:-/`\n\n\nHmm, that's true. You need a sparse data structure too. So how about just replacing that incidence-matrix in there with one over GF(2)? There's dense and sparse versions of such matrices. I think I also saw a data_structures/bitset_matrix.pxi , perhaps use that for the dense version.",
    "created_at": "2015-06-12T05:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250295",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:8'></a>Replying to [comment:7 ncohen]:

== ==

> > So who are working that part of sage right now? They might want to consider re-implementing this stuff using bitsets themselves. Bitsets simply work for this kind of thing.

> 
> Not if you store 3-uniform hypergraphs on a large ground set. You would waste a lot of memory. It's like for graphs, you would need different data structures for different purposes `:-/`


Hmm, that's true. You need a sparse data structure too. So how about just replacing that incidence-matrix in there with one over GF(2)? There's dense and sparse versions of such matrices. I think I also saw a data_structures/bitset_matrix.pxi , perhaps use that for the dense version.



---

archive/issue_comments_250296.json:
```json
{
    "body": "<a id='comment:9'></a>> Hmm, that's true. You need a sparse data structure too. So how about just replacing that incidence-matrix in there with one over GF(2)? There's dense and sparse versions of such matrices. I think I also saw a data_structures/bitset_matrix.pxi , perhaps use that for the dense version.\n\n\nIf you think that by doing that we can unify the two classes then why not?",
    "created_at": "2015-06-12T07:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250296",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>> Hmm, that's true. You need a sparse data structure too. So how about just replacing that incidence-matrix in there with one over GF(2)? There's dense and sparse versions of such matrices. I think I also saw a data_structures/bitset_matrix.pxi , perhaps use that for the dense version.


If you think that by doing that we can unify the two classes then why not?



---

archive/issue_comments_250297.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 ncohen]:\n> If you think that by doing that we can unify the two classes then why not?\n\nReplacing the incidence matrix would be a good start for speeding up the existing Hypergraph, but it will take a very long time before I can replace Setsystem. Not because the code would remain inefficient (it won't) but because I need something in the matroid code that on a very low level agrees with that code. (My SetSystems are really just a thinly veiled arrays of bitsets, which I use to avoid unnecessary translation between bitsets and python sets in the matroid code.)\n\nThe alternative is that I at some point write a new class Hypergraph from the ground up, and then we work afterwards to make that class mimick the interface of the current class Hypergraph. Would that work for you?",
    "created_at": "2015-06-12T17:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250297",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:10'></a>Replying to [comment:9 ncohen]:
> If you think that by doing that we can unify the two classes then why not?

Replacing the incidence matrix would be a good start for speeding up the existing Hypergraph, but it will take a very long time before I can replace Setsystem. Not because the code would remain inefficient (it won't) but because I need something in the matroid code that on a very low level agrees with that code. (My SetSystems are really just a thinly veiled arrays of bitsets, which I use to avoid unnecessary translation between bitsets and python sets in the matroid code.)

The alternative is that I at some point write a new class Hypergraph from the ground up, and then we work afterwards to make that class mimick the interface of the current class Hypergraph. Would that work for you?



---

archive/issue_comments_250298.json:
```json
{
    "body": "<a id='comment:11'></a>> The alternative is that I at some point write a new class Hypergraph from the ground up, and then we work afterwards to make that class mimick the interface of the current class Hypergraph. Would that work for you?  \n\n\nHmmm.. Do you think we could settle that with having some high-level Hypergraph classes, and some low-level hypergraph classes? That's how it works for graphs at the moment:\n\n```\nsage: graphs.PetersenGraph()._backend\n<type 'sage.graphs.base.sparse_graph.SparseGraphBackend'>\n```\n\nThis way we would have data-structure-specific code in data-structure-specific files, and high-level code in high-level files?\n\nNathann",
    "created_at": "2015-06-12T18:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250298",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'></a>> The alternative is that I at some point write a new class Hypergraph from the ground up, and then we work afterwards to make that class mimick the interface of the current class Hypergraph. Would that work for you?  


Hmmm.. Do you think we could settle that with having some high-level Hypergraph classes, and some low-level hypergraph classes? That's how it works for graphs at the moment:

```
sage: graphs.PetersenGraph()._backend
<type 'sage.graphs.base.sparse_graph.SparseGraphBackend'>
```

This way we would have data-structure-specific code in data-structure-specific files, and high-level code in high-level files?

Nathann



---

archive/issue_comments_250299.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 ncohen]:\n\n> Hmmm.. Do you think we could settle that with having some high-level Hypergraph classes, and some low-level hypergraph classes? \n  \nSounds right. So how about I come up with a barebones HypergraphDense (or whatever name you like) at some point, and then we talk about how to integrate this in a parent class Hypergraph?",
    "created_at": "2015-06-12T19:22:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250299",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:12'></a>Replying to [comment:11 ncohen]:

> Hmmm.. Do you think we could settle that with having some high-level Hypergraph classes, and some low-level hypergraph classes? 
  
Sounds right. So how about I come up with a barebones HypergraphDense (or whatever name you like) at some point, and then we talk about how to integrate this in a parent class Hypergraph?



---

archive/issue_comments_250300.json:
```json
{
    "body": "<a id='comment:13'></a>Yo !\n\n> Sounds right. So how about I come up with a barebones HypergraphDense (or whatever name you like) at some point, and then we talk about how to integrate this in a parent class Hypergraph?\n\n\nHmmmm... Assuming that you did not mean \"parent\" like in \"`Parent/Element`\", then yes `:-P`\nBut let's discuss the design a bit, first.\n\nI am looking at `matroid/set_system` at the moment, and it seems that most of what you have inside are private methods. It really does not look like it should be used from the outside indeed `O_o`\n\nIs there any reason why `SetSystemIterator` is a class? Could that be because it was written before 'yield' became a Cython keyword?\n\nNathann",
    "created_at": "2015-06-12T21:16:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250300",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>Yo !

> Sounds right. So how about I come up with a barebones HypergraphDense (or whatever name you like) at some point, and then we talk about how to integrate this in a parent class Hypergraph?


Hmmmm... Assuming that you did not mean "parent" like in "`Parent/Element`", then yes `:-P`
But let's discuss the design a bit, first.

I am looking at `matroid/set_system` at the moment, and it seems that most of what you have inside are private methods. It really does not look like it should be used from the outside indeed `O_o`

Is there any reason why `SetSystemIterator` is a class? Could that be because it was written before 'yield' became a Cython keyword?

Nathann



---

archive/issue_comments_250301.json:
```json
{
    "body": "<a id='comment:14'></a>Hello again,\n\nI agree with this ticket, and added a small commit at `public/18682`. It is only style and doc:\n- The first line of the docstring must be a short sentence\n- A link toward `SetSystem` instead of plain text\n- Comments in the code\n\nIt was a bit hard to read at first, for many variables hide their meaning:\n- `_len` is the number of subsets (it could have been the number of points)\n- `_temp` is a shipped bitset of size \"number of points\"\n\nAnyway. If that's okay with you, then you can set this ticket to `positive_review`.\n\nNathann",
    "created_at": "2015-06-12T21:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250301",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>Hello again,

I agree with this ticket, and added a small commit at `public/18682`. It is only style and doc:
- The first line of the docstring must be a short sentence
- A link toward `SetSystem` instead of plain text
- Comments in the code

It was a bit hard to read at first, for many variables hide their meaning:
- `_len` is the number of subsets (it could have been the number of points)
- `_temp` is a shipped bitset of size "number of points"

Anyway. If that's okay with you, then you can set this ticket to `positive_review`.

Nathann



---

archive/issue_comments_250302.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 ncohen]:\n> Hello again,\n> \n> I agree with this ticket, and added a small commit at `public/18682`. It is only style and doc:\n> - The first line of the docstring must be a short sentence\n> - A link toward `SetSystem` instead of plain text\n> - Comments in the code\n> \n\n\nAgreed.\n\n> It was a bit hard to read at first, for many variables hide their meaning:\n> - `_len` is the number of subsets (it could have been the number of points)\n> - `_temp` is a shipped bitset of size \"number of points\"\n> \n \nThe style is pretty terrible, I'll grant you that. I was learning python/cython while I was writing the whole thing, so there are several things I would do differently if I had to start over. \n\nThis in perhaps one of the reasons why making a entirely fresh start for Hypergraph (as opposed to re-using SetSystem) is a good idea. This SetSystem class essentially popped out of work on matroids and became much more of a separate entity than I had intended when I started writing the whole matroid code. So now it looks independent, but really isn't, with all kinds of backdoors for the matroid code I have to preserve.\n\nOn the positive side, I always did a lot of experimenting to see what actually gave the best efficiency. That experience should be reusable (even if it does create some uglyness in the code at times).\n\n> Anyway. If that's okay with you, then you can set this ticket to `positive_review`.\n  \n>\nI will, thanks. My first review before I even asked for one! :)",
    "created_at": "2015-06-13T08:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250302",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:15'></a>Replying to [comment:14 ncohen]:
> Hello again,
> 
> I agree with this ticket, and added a small commit at `public/18682`. It is only style and doc:
> - The first line of the docstring must be a short sentence
> - A link toward `SetSystem` instead of plain text
> - Comments in the code
> 


Agreed.

> It was a bit hard to read at first, for many variables hide their meaning:
> - `_len` is the number of subsets (it could have been the number of points)
> - `_temp` is a shipped bitset of size "number of points"
> 
 
The style is pretty terrible, I'll grant you that. I was learning python/cython while I was writing the whole thing, so there are several things I would do differently if I had to start over. 

This in perhaps one of the reasons why making a entirely fresh start for Hypergraph (as opposed to re-using SetSystem) is a good idea. This SetSystem class essentially popped out of work on matroids and became much more of a separate entity than I had intended when I started writing the whole matroid code. So now it looks independent, but really isn't, with all kinds of backdoors for the matroid code I have to preserve.

On the positive side, I always did a lot of experimenting to see what actually gave the best efficiency. That experience should be reusable (even if it does create some uglyness in the code at times).

> Anyway. If that's okay with you, then you can set this ticket to `positive_review`.
  
>
I will, thanks. My first review before I even asked for one! :)



---

archive/issue_comments_250303.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-13T08:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250303",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_250304.json:
```json
{
    "body": "<a id='comment:16'></a>First let's see how the patchbot likes it..",
    "created_at": "2015-06-13T08:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250304",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:16'></a>First let's see how the patchbot likes it..



---

archive/issue_comments_250305.json:
```json
{
    "body": "<a id='comment:17'></a>It likes it.",
    "created_at": "2015-06-13T10:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250305",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>It likes it.



---

archive/issue_comments_250306.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-13T15:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250306",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_250307.json:
```json
{
    "body": "<a id='comment:18'></a>Great!",
    "created_at": "2015-06-13T15:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250307",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:18'></a>Great!



---

archive/issue_comments_250308.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-06-13T16:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250308",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_250309.json:
```json
{
    "body": "<a id='comment:19'></a>Could you add my commit to your branch?",
    "created_at": "2015-06-13T16:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250309",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'></a>Could you add my commit to your branch?



---

archive/issue_comments_250310.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:19 ncohen]:\n> Could you add my commit to your branch?\n\nSorry, I thought you had already committed these changes to this branch. \n\nI'm afraid I'm too much of a git novice to know how to pull/merge your commit in public/18682. What git command do I give?",
    "created_at": "2015-06-13T17:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250310",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:20'></a>Replying to [comment:19 ncohen]:
> Could you add my commit to your branch?

Sorry, I thought you had already committed these changes to this branch. 

I'm afraid I'm too much of a git novice to know how to pull/merge your commit in public/18682. What git command do I give?



---

archive/issue_comments_250311.json:
```json
{
    "body": "<a id='comment:21'></a>Helloooooooooo,\n\n> I'm afraid I'm too much of a git novice to know how to pull/merge your commit in public/18682. What git command do I give?\n\n\nThe most trivial method to do it is simply to change the branch's name to public/18682, though that's how you would learn the least.\n\nYou have several other ways to do it. The first would be, as you say, to merge my branch with yours. This would mean:\n\n```\ngit pull trac public/18682\n```\n\nIn theory, that should create a merge commit atop your branch and atop mine, containing the changes of both. In practice, as my branch is merely yours with an additional commit, that would just move your branch's tip where mine is.\n\nYou can then push your branch, as usual, at its current location.\n\nNathann",
    "created_at": "2015-06-13T23:17:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250311",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'></a>Helloooooooooo,

> I'm afraid I'm too much of a git novice to know how to pull/merge your commit in public/18682. What git command do I give?


The most trivial method to do it is simply to change the branch's name to public/18682, though that's how you would learn the least.

You have several other ways to do it. The first would be, as you say, to merge my branch with yours. This would mean:

```
git pull trac public/18682
```

In theory, that should create a merge commit atop your branch and atop mine, containing the changes of both. In practice, as my branch is merely yours with an additional commit, that would just move your branch's tip where mine is.

You can then push your branch, as usual, at its current location.

Nathann



---

archive/issue_comments_250312.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-14T12:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_250313.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-06-14T12:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250313",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_250314.json:
```json
{
    "body": "<a id='comment:24'></a>Perfect!",
    "created_at": "2015-06-14T13:07:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250314",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>Perfect!



---

archive/issue_comments_250315.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 ncohen]:\n> Perfect!\n\n\nI had a good teacher :)\n\nSo if I want to politely propose a change in the work someone else did on a ticket, then this the way to go, push my modified branch somewhere else as in `git trac push public/some_name`? Excellent, I was wondering about that before.",
    "created_at": "2015-06-14T13:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250315",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:25'></a>Replying to [comment:24 ncohen]:
> Perfect!


I had a good teacher :)

So if I want to politely propose a change in the work someone else did on a ticket, then this the way to go, push my modified branch somewhere else as in `git trac push public/some_name`? Excellent, I was wondering about that before.



---

archive/issue_comments_250316.json:
```json
{
    "body": "<a id='comment:26'></a>Helloooooooo,\n\n> So if I want to politely propose a change in the work someone else did on a ticket, then this the way to go, push my modified branch somewhere else as in `git trac push public/some_name`? Excellent, I was wondering about that before. \n\n\nThat's how I work, and I believe that it is indeed the \"most polite way\" to proceed. I always find it a bit unpleasant when I see that the branch's name has been changed by somebody else who pushed commits I don't like on a ticket I'm working on, sometimes without even explaining what they do.\n\nBy pushing that stuff to another branch, you propose them to the author and if he likes them he can merge them to his ticket. If he does not like them, you can either forget about them or propose them on another ticket of your own.\n\nNathann",
    "created_at": "2015-06-14T13:21:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250316",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:26'></a>Helloooooooo,

> So if I want to politely propose a change in the work someone else did on a ticket, then this the way to go, push my modified branch somewhere else as in `git trac push public/some_name`? Excellent, I was wondering about that before. 


That's how I work, and I believe that it is indeed the "most polite way" to proceed. I always find it a bit unpleasant when I see that the branch's name has been changed by somebody else who pushed commits I don't like on a ticket I'm working on, sometimes without even explaining what they do.

By pushing that stuff to another branch, you propose them to the author and if he likes them he can merge them to his ticket. If he does not like them, you can either forget about them or propose them on another ticket of your own.

Nathann



---

archive/issue_events_052364.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-14T21:43:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18682#event-52364"
}
```



---

archive/issue_comments_250317.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-14T21:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18682#issuecomment-250317",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
