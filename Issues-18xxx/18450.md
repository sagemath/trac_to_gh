# Issue 18450: Define library dependencies in .pxd files

archive/issues_018213.json:
```json
{
    "body": "Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.\n\nIn this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries. We still leave the libraries explicitly in `module_list.py` when needed as dependency of another library, for example `mpfr` depends on `gmp`.\n\nOne annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, many extensions will be compiled with a different library order than before.\n\nTo clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).\n\n---\n\nThese are all modules where the list of libraries was actually changed:\n\nThese were probably underlinked before:\n* `sage/rings/polynomial/pbori`: added `gmp`\n* `sage/rings/real_arb` (optional): added `gmp`\n\nThese use inline functions or macros of libraries but don't use exported functions. So they don't need to link to the library, but it's added anyway:\n* `sage/rings/rational`: added `pari`\n* `sage/rings/padics/common_conversion`: added `pari`\n\nModules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:\n* `sage/rings/padics/padic_capped_absolute_element`: added `pari`\n* `sage/rings/padics/padic_capped_relative_element`: added `pari`\n* `sage/rings/padics/padic_fixed_mod_element`: added `pari`\n* `sage/rings/real_double`: added `pari`\n\nThis branch adds `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:\n* `sage/combinat/debruijn_sequence`: added `gmp`\n* `sage/combinat/words/word_char`: added `gmp`\n* `sage/graphs/base/static_sparse_backend`: added `gmp`\n* `sage/graphs/weakly_chordal`: added `gmp`\n\nUnused libraries are removed:\n* `sage/graphs/graph_generators_pyx`: removed `gmp`\n* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`\n* `sage/modular/modsym/p1list`: removed `gmp`\n* `sage/modules/vector_mod2_dense`: removed `gmp`\n\n---\n\nWe need 1 patch to upstream Cython to fix dependency handling:\n* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)\n\n**CC:**  jpflori gouezel\n\n**Branch:** [0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Reviewer:** Sebastien Gouezel\n\n**Author:** Jeroen Demeyer\n\n**Dependencies:** #18455\n\nIssue created by migration from https://trac.sagemath.org/ticket/18450\n\n",
    "closed_at": "2015-06-03T23:22:41Z",
    "created_at": "2015-05-19T12:56:01Z",
    "labels": [
        "component: cython",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "title": "Define library dependencies in .pxd files",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/18450",
    "user": "https://github.com/jdemeyer"
}
```
Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.

In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries. We still leave the libraries explicitly in `module_list.py` when needed as dependency of another library, for example `mpfr` depends on `gmp`.

One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, many extensions will be compiled with a different library order than before.

To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).

---

These are all modules where the list of libraries was actually changed:

These were probably underlinked before:
* `sage/rings/polynomial/pbori`: added `gmp`
* `sage/rings/real_arb` (optional): added `gmp`

These use inline functions or macros of libraries but don't use exported functions. So they don't need to link to the library, but it's added anyway:
* `sage/rings/rational`: added `pari`
* `sage/rings/padics/common_conversion`: added `pari`

Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:
* `sage/rings/padics/padic_capped_absolute_element`: added `pari`
* `sage/rings/padics/padic_capped_relative_element`: added `pari`
* `sage/rings/padics/padic_fixed_mod_element`: added `pari`
* `sage/rings/real_double`: added `pari`

This branch adds `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:
* `sage/combinat/debruijn_sequence`: added `gmp`
* `sage/combinat/words/word_char`: added `gmp`
* `sage/graphs/base/static_sparse_backend`: added `gmp`
* `sage/graphs/weakly_chordal`: added `gmp`

Unused libraries are removed:
* `sage/graphs/graph_generators_pyx`: removed `gmp`
* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`
* `sage/modular/modsym/p1list`: removed `gmp`
* `sage/modules/vector_mod2_dense`: removed `gmp`

---

We need 1 patch to upstream Cython to fix dependency handling:
* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)

**CC:**  jpflori gouezel

**Branch:** [0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)

**Upstream:** Fixed upstream, but not in a stable release.

**Reviewer:** Sebastien Gouezel

**Author:** Jeroen Demeyer

**Dependencies:** #18455

Issue created by migration from https://trac.sagemath.org/ticket/18450





---

archive/issue_comments_256955.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.\n \n-One annoying part is that the order of libraries is not defined, so we need to manually re-order them.\n+One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.\n \n **Needed upstream bug fix**: [http://trac.cython.org/ticket/845](http://trac.cython.org/ticket/845) (patch included in this branch)\n``````\n",
    "created_at": "2015-05-19T12:57:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256955",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.
 
-One annoying part is that the order of libraries is not defined, so we need to manually re-order them.
+One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.
 
 **Needed upstream bug fix**: [http://trac.cython.org/ticket/845](http://trac.cython.org/ticket/845) (patch included in this branch)
``````




---

archive/issue_comments_256956.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n-Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.\n+Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are. In this branch, we do this as proof-of-concept only for `gmp`.\n \n One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.\n \n+To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).\n+\n **Needed upstream bug fix**: [http://trac.cython.org/ticket/845](http://trac.cython.org/ticket/845) (patch included in this branch)\n``````\n",
    "created_at": "2015-05-19T15:51:24Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256956",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
-Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.
+Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are. In this branch, we do this as proof-of-concept only for `gmp`.
 
 One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.
 
+To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).
+
 **Needed upstream bug fix**: [http://trac.cython.org/ticket/845](http://trac.cython.org/ticket/845) (patch included in this branch)
``````




---

archive/issue_comments_256957.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are. In this branch, we do this as proof-of-concept only for `gmp`.\n+Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.\n+\n+In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.\n \n One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.\n \n``````\n",
    "created_at": "2015-05-19T15:54:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256957",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are. In this branch, we do this as proof-of-concept only for `gmp`.
+Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.
+
+In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.
 
 One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.
 
``````




---

archive/issue_comments_256958.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.\n \n-One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.\n+One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, a lot of guesses have to be what the \"correct\" library order is.\n \n To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).\n \n``````\n",
    "created_at": "2015-05-19T16:08:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256958",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.
 
-One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order.
+One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, a lot of guesses have to be what the "correct" library order is.
 
 To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).
 
``````




---

archive/issue_comments_256959.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.\n \n-One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, a lot of guesses have to be what the \"correct\" library order is.\n+One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, many extensions will be compiled with a different library order than before.\n \n To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).\n \n``````\n",
    "created_at": "2015-05-19T16:10:01Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256959",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.
 
-One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, a lot of guesses have to be what the "correct" library order is.
+One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, many extensions will be compiled with a different library order than before.
 
 To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).
 
``````




---

archive/issue_comments_256960.json:
```json
{
    "body": "**Dependencies:** #18455",
    "created_at": "2015-05-19T20:46:18Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256960",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #18455



---

archive/issue_comments_256961.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/define_library_dependencies_in__pxd_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/define_library_dependencies_in__pxd_files)",
    "created_at": "2015-05-19T21:47:18Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256961",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/define_library_dependencies_in__pxd_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/define_library_dependencies_in__pxd_files)



---

archive/issue_comments_256962.json:
```json
{
    "body": "**Changing upstream** from \"Fixed upstream, but not in a stable release.\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2015-05-20T05:49:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256962",
    "user": "https://github.com/jdemeyer"
}
```

**Changing upstream** from "Fixed upstream, but not in a stable release." to "Reported upstream. No feedback yet.".



---

archive/issue_comments_256963.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ed346b88143b4f0417432cd5546e9aed00b55e2\">2ed346b</a></td><td><code>Remove unneeded inclusions of cdefs.pxi</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1eb2b8c1c5b158629b6af50ea5b8eaed6c05a94\">c1eb2b8</a></td><td><code>Add Cython patches to improve handling of dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49029fd4db2d1a2874fab1011c8683ecd7a4bb02\">49029fd</a></td><td><code>Define some library dependencies in .pxd/.pxi files</code></td></tr></table>\n",
    "created_at": "2015-05-20T05:49:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256963",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ed346b88143b4f0417432cd5546e9aed00b55e2">2ed346b</a></td><td><code>Remove unneeded inclusions of cdefs.pxi</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1eb2b8c1c5b158629b6af50ea5b8eaed6c05a94">c1eb2b8</a></td><td><code>Add Cython patches to improve handling of dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49029fd4db2d1a2874fab1011c8683ecd7a4bb02">49029fd</a></td><td><code>Define some library dependencies in .pxd/.pxi files</code></td></tr></table>




---

archive/issue_comments_256964.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,4 +6,6 @@\n \n To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).\n \n-**Needed upstream bug fix**: [http://trac.cython.org/ticket/845](http://trac.cython.org/ticket/845) (patch included in this branch)\n+We need 2 patches to upstream Cython to fix dependency handling:\n+* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381)\n+* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392)\n``````\n",
    "created_at": "2015-05-20T05:49:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256964",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,4 +6,6 @@
 
 To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).
 
-**Needed upstream bug fix**: [http://trac.cython.org/ticket/845](http://trac.cython.org/ticket/845) (patch included in this branch)
+We need 2 patches to upstream Cython to fix dependency handling:
+* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381)
+* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392)
``````




---

archive/issue_comments_256965.json:
```json
{
    "body": "**Commit:** [49029fd4db2d1a2874fab1011c8683ecd7a4bb02](https://github.com/sagemath/sagetrac-mirror/commit/49029fd4db2d1a2874fab1011c8683ecd7a4bb02)",
    "created_at": "2015-05-20T05:49:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256965",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [49029fd4db2d1a2874fab1011c8683ecd7a4bb02](https://github.com/sagemath/sagetrac-mirror/commit/49029fd4db2d1a2874fab1011c8683ecd7a4bb02)



---

archive/issue_comments_256966.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,21 @@\n \n To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).\n \n+---\n+\n+These are all modules where the list of libraries was actually changed:\n+\n+This branch *adds* `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:\n+* `sage/combinat/debruijn_sequence`\n+* `sage/combinat/words/word_char`\n+* `sage/graphs/base/static_sparse_backend`\n+\n+This branch *removes* unused libraries:\n+* `sage/graphs/graph_generators_pyx`: removes `gmp`\n+* `sage/combinat/partitions`: removes `gmp` and `mpfr`\n+\n+---\n+\n We need 2 patches to upstream Cython to fix dependency handling:\n * [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381)\n * [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392)\n``````\n",
    "created_at": "2015-05-20T07:48:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256966",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,21 @@
 
 To clean up, we also remove the explicit mention of `stdc++` for `c++` code (which is automatically added anyway).
 
+---
+
+These are all modules where the list of libraries was actually changed:
+
+This branch *adds* `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:
+* `sage/combinat/debruijn_sequence`
+* `sage/combinat/words/word_char`
+* `sage/graphs/base/static_sparse_backend`
+
+This branch *removes* unused libraries:
+* `sage/graphs/graph_generators_pyx`: removes `gmp`
+* `sage/combinat/partitions`: removes `gmp` and `mpfr`
+
+---
+
 We need 2 patches to upstream Cython to fix dependency handling:
 * [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381)
 * [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392)
``````




---

archive/issue_comments_256967.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,9 +14,11 @@\n * `sage/combinat/debruijn_sequence`\n * `sage/combinat/words/word_char`\n * `sage/graphs/base/static_sparse_backend`\n+* `sage/graphs/weakly_chordal`\n \n This branch *removes* unused libraries:\n * `sage/graphs/graph_generators_pyx`: removes `gmp`\n+* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removes `gmp`\n * `sage/combinat/partitions`: removes `gmp` and `mpfr`\n \n ---\n``````\n",
    "created_at": "2015-05-20T07:51:56Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256967",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -14,9 +14,11 @@
 * `sage/combinat/debruijn_sequence`
 * `sage/combinat/words/word_char`
 * `sage/graphs/base/static_sparse_backend`
+* `sage/graphs/weakly_chordal`
 
 This branch *removes* unused libraries:
 * `sage/graphs/graph_generators_pyx`: removes `gmp`
+* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removes `gmp`
 * `sage/combinat/partitions`: removes `gmp` and `mpfr`
 
 ---
``````




---

archive/issue_comments_256968.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,11 +10,18 @@\n \n These are all modules where the list of libraries was actually changed:\n \n+These were underlinked before:\n+* `sage/rings/rational`: added `pari`\n+* `sage/rings/real_arb` (optional): added `gmp`\n+\n This branch *adds* `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:\n * `sage/combinat/debruijn_sequence`\n * `sage/combinat/words/word_char`\n * `sage/graphs/base/static_sparse_backend`\n * `sage/graphs/weakly_chordal`\n+\n+Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:\n+* `sage/rings/real_double`\n \n This branch *removes* unused libraries:\n * `sage/graphs/graph_generators_pyx`: removes `gmp`\n``````\n",
    "created_at": "2015-05-20T08:18:56Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256968",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,11 +10,18 @@
 
 These are all modules where the list of libraries was actually changed:
 
+These were underlinked before:
+* `sage/rings/rational`: added `pari`
+* `sage/rings/real_arb` (optional): added `gmp`
+
 This branch *adds* `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:
 * `sage/combinat/debruijn_sequence`
 * `sage/combinat/words/word_char`
 * `sage/graphs/base/static_sparse_backend`
 * `sage/graphs/weakly_chordal`
+
+Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:
+* `sage/rings/real_double`
 
 This branch *removes* unused libraries:
 * `sage/graphs/graph_generators_pyx`: removes `gmp`
``````




---

archive/issue_comments_256969.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -23,10 +23,11 @@\n Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:\n * `sage/rings/real_double`\n \n-This branch *removes* unused libraries:\n+Unused libraries are removed:\n+* `sage/combinat/partitions`: removes `gmp` and `mpfr`\n * `sage/graphs/graph_generators_pyx`: removes `gmp`\n * `sage/groups/semimonomial_transformations/semimonomial_transformation`: removes `gmp`\n-* `sage/combinat/partitions`: removes `gmp` and `mpfr`\n+* `sage/modular/modsym/p1list`: removes `gmp`\n \n ---\n \n``````\n",
    "created_at": "2015-05-20T08:23:50Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256969",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -23,10 +23,11 @@
 Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:
 * `sage/rings/real_double`
 
-This branch *removes* unused libraries:
+Unused libraries are removed:
+* `sage/combinat/partitions`: removes `gmp` and `mpfr`
 * `sage/graphs/graph_generators_pyx`: removes `gmp`
 * `sage/groups/semimonomial_transformations/semimonomial_transformation`: removes `gmp`
-* `sage/combinat/partitions`: removes `gmp` and `mpfr`
+* `sage/modular/modsym/p1list`: removes `gmp`
 
 ---
 
``````




---

archive/issue_comments_256970.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,7 +10,8 @@\n \n These are all modules where the list of libraries was actually changed:\n \n-These were underlinked before:\n+These were probably underlinked before:\n+* `sage/rings/polynomial/pbori`: added `gmp`\n * `sage/rings/rational`: added `pari`\n * `sage/rings/real_arb` (optional): added `gmp`\n \n``````\n",
    "created_at": "2015-05-20T09:02:15Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256970",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,7 +10,8 @@
 
 These are all modules where the list of libraries was actually changed:
 
-These were underlinked before:
+These were probably underlinked before:
+* `sage/rings/polynomial/pbori`: added `gmp`
 * `sage/rings/rational`: added `pari`
 * `sage/rings/real_arb` (optional): added `gmp`
 
``````




---

archive/issue_comments_256971.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,20 +15,20 @@\n * `sage/rings/rational`: added `pari`\n * `sage/rings/real_arb` (optional): added `gmp`\n \n-This branch *adds* `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:\n-* `sage/combinat/debruijn_sequence`\n-* `sage/combinat/words/word_char`\n-* `sage/graphs/base/static_sparse_backend`\n-* `sage/graphs/weakly_chordal`\n+This branch adds `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:\n+* `sage/combinat/debruijn_sequence`: added `gmp`\n+* `sage/combinat/words/word_char`: added `gmp`\n+* `sage/graphs/base/static_sparse_backend`: added `gmp`\n+* `sage/graphs/weakly_chordal`: added `gmp`\n \n Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:\n-* `sage/rings/real_double`\n+* `sage/rings/real_double`: added `pari`\n \n Unused libraries are removed:\n-* `sage/combinat/partitions`: removes `gmp` and `mpfr`\n-* `sage/graphs/graph_generators_pyx`: removes `gmp`\n-* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removes `gmp`\n-* `sage/modular/modsym/p1list`: removes `gmp`\n+* `sage/combinat/partitions`: removed `gmp` and `mpfr`\n+* `sage/graphs/graph_generators_pyx`: removed `gmp`\n+* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`\n+* `sage/modular/modsym/p1list`: removed `gmp`\n \n ---\n \n``````\n",
    "created_at": "2015-05-20T09:03:08Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256971",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,20 +15,20 @@
 * `sage/rings/rational`: added `pari`
 * `sage/rings/real_arb` (optional): added `gmp`
 
-This branch *adds* `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:
-* `sage/combinat/debruijn_sequence`
-* `sage/combinat/words/word_char`
-* `sage/graphs/base/static_sparse_backend`
-* `sage/graphs/weakly_chordal`
+This branch adds `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:
+* `sage/combinat/debruijn_sequence`: added `gmp`
+* `sage/combinat/words/word_char`: added `gmp`
+* `sage/graphs/base/static_sparse_backend`: added `gmp`
+* `sage/graphs/weakly_chordal`: added `gmp`
 
 Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:
-* `sage/rings/real_double`
+* `sage/rings/real_double`: added `pari`
 
 Unused libraries are removed:
-* `sage/combinat/partitions`: removes `gmp` and `mpfr`
-* `sage/graphs/graph_generators_pyx`: removes `gmp`
-* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removes `gmp`
-* `sage/modular/modsym/p1list`: removes `gmp`
+* `sage/combinat/partitions`: removed `gmp` and `mpfr`
+* `sage/graphs/graph_generators_pyx`: removed `gmp`
+* `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`
+* `sage/modular/modsym/p1list`: removed `gmp`
 
 ---
 
``````




---

archive/issue_comments_256972.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -33,5 +33,5 @@\n ---\n \n We need 2 patches to upstream Cython to fix dependency handling:\n-* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381)\n-* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392)\n+* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)\n+* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (no feedback yet)\n``````\n",
    "created_at": "2015-05-20T09:05:53Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256972",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -33,5 +33,5 @@
 ---
 
 We need 2 patches to upstream Cython to fix dependency handling:
-* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381)
-* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392)
+* [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)
+* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (no feedback yet)
``````




---

archive/issue_comments_256973.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,8 +12,17 @@\n \n These were probably underlinked before:\n * `sage/rings/polynomial/pbori`: added `gmp`\n+* `sage/rings/real_arb` (optional): added `gmp`\n+\n+These use inline functions or macros of libraries but don't use exported functions. So they don't need to link to the library, but it's added anyway:\n * `sage/rings/rational`: added `pari`\n-* `sage/rings/real_arb` (optional): added `gmp`\n+* `sage/rings/padics/common_conversion`: added `pari`\n+\n+Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:\n+* `sage/rings/padics/padic_capped_absolute_element`: added `pari`\n+* `sage/rings/padics/padic_capped_relative_element`: added `pari`\n+* `sage/rings/padics/padic_fixed_mod_element`: added `pari`\n+* `sage/rings/real_double`: added `pari`\n \n This branch adds `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:\n * `sage/combinat/debruijn_sequence`: added `gmp`\n@@ -21,14 +30,12 @@\n * `sage/graphs/base/static_sparse_backend`: added `gmp`\n * `sage/graphs/weakly_chordal`: added `gmp`\n \n-Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:\n-* `sage/rings/real_double`: added `pari`\n-\n Unused libraries are removed:\n * `sage/combinat/partitions`: removed `gmp` and `mpfr`\n * `sage/graphs/graph_generators_pyx`: removed `gmp`\n * `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`\n * `sage/modular/modsym/p1list`: removed `gmp`\n+* `sage/modules/vector_mod2_dense`: removed `gmp`\n \n ---\n \n``````\n",
    "created_at": "2015-05-20T09:25:12Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256973",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,8 +12,17 @@
 
 These were probably underlinked before:
 * `sage/rings/polynomial/pbori`: added `gmp`
+* `sage/rings/real_arb` (optional): added `gmp`
+
+These use inline functions or macros of libraries but don't use exported functions. So they don't need to link to the library, but it's added anyway:
 * `sage/rings/rational`: added `pari`
-* `sage/rings/real_arb` (optional): added `gmp`
+* `sage/rings/padics/common_conversion`: added `pari`
+
+Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:
+* `sage/rings/padics/padic_capped_absolute_element`: added `pari`
+* `sage/rings/padics/padic_capped_relative_element`: added `pari`
+* `sage/rings/padics/padic_fixed_mod_element`: added `pari`
+* `sage/rings/real_double`: added `pari`
 
 This branch adds `gmp` for all modules where bitsets are used. Some bitset functions require GMP, others do not. These modules were only using the ones not implemented using GMP:
 * `sage/combinat/debruijn_sequence`: added `gmp`
@@ -21,14 +30,12 @@
 * `sage/graphs/base/static_sparse_backend`: added `gmp`
 * `sage/graphs/weakly_chordal`: added `gmp`
 
-Modules using the Sage/PARI interface but not directly using PARI will now link against `pari`. Strictly speaking, this is a bug but it's hard to avoid:
-* `sage/rings/real_double`: added `pari`
-
 Unused libraries are removed:
 * `sage/combinat/partitions`: removed `gmp` and `mpfr`
 * `sage/graphs/graph_generators_pyx`: removed `gmp`
 * `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`
 * `sage/modular/modsym/p1list`: removed `gmp`
+* `sage/modules/vector_mod2_dense`: removed `gmp`
 
 ---
 
``````




---

archive/issue_comments_256974.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57e92784a5df59af03c6f9a778a9fc295b41e038\">57e9278</a></td><td><code>More removals of cdefs.pxi</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370106df8a115b314ef4c50ac1ae494458c4d1b1\">370106d</a></td><td><code>Even more removals of cdefs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca87ba37df8810760a3c86ec8a67a86465e45da1\">ca87ba3</a></td><td><code>Add Cython patches to improve handling of dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1ad51c116ae506ff08e50100b6f83f7c0faec4d\">a1ad51c</a></td><td><code>Define some library dependencies in .pxd/.pxi files</code></td></tr></table>\n",
    "created_at": "2015-05-20T09:28:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57e92784a5df59af03c6f9a778a9fc295b41e038">57e9278</a></td><td><code>More removals of cdefs.pxi</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370106df8a115b314ef4c50ac1ae494458c4d1b1">370106d</a></td><td><code>Even more removals of cdefs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca87ba37df8810760a3c86ec8a67a86465e45da1">ca87ba3</a></td><td><code>Add Cython patches to improve handling of dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1ad51c116ae506ff08e50100b6f83f7c0faec4d">a1ad51c</a></td><td><code>Define some library dependencies in .pxd/.pxi files</code></td></tr></table>




---

archive/issue_comments_256975.json:
```json
{
    "body": "**Changing commit** from \"[49029fd4db2d1a2874fab1011c8683ecd7a4bb02](https://github.com/sagemath/sagetrac-mirror/commit/49029fd4db2d1a2874fab1011c8683ecd7a4bb02)\" to \"[a1ad51c116ae506ff08e50100b6f83f7c0faec4d](https://github.com/sagemath/sagetrac-mirror/commit/a1ad51c116ae506ff08e50100b6f83f7c0faec4d)\".",
    "created_at": "2015-05-20T09:28:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[49029fd4db2d1a2874fab1011c8683ecd7a4bb02](https://github.com/sagemath/sagetrac-mirror/commit/49029fd4db2d1a2874fab1011c8683ecd7a4bb02)" to "[a1ad51c116ae506ff08e50100b6f83f7c0faec4d](https://github.com/sagemath/sagetrac-mirror/commit/a1ad51c116ae506ff08e50100b6f83f7c0faec4d)".



---

archive/issue_events_165747.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-20T09:29:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165747"
}
```



---

archive/issue_comments_256976.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.\n \n-In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.\n+In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries. We still leave the libraries explicitly in `module_list.py` when needed as dependency of another library, for example `mpfr` depends on `gmp`.\n \n One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, many extensions will be compiled with a different library order than before.\n \n``````\n",
    "created_at": "2015-05-20T09:45:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256976",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Rather than defining libraries in `module_list.py` or in `.pyx` files, we should add them to the `.pxd` files where the declarations are.
 
-In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries.
+In this branch, we do this as proof-of-concept for `pari` and `gmp`. Other tickets can be opened later for other libraries. We still leave the libraries explicitly in `module_list.py` when needed as dependency of another library, for example `mpfr` depends on `gmp`.
 
 One annoying part is that the order of libraries is not defined, so we need to manually re-order them using one global library order. Since the order of libraries currently specified in `src/module_list.py` is far from a DAG, many extensions will be compiled with a different library order than before.
 
``````




---

archive/issue_events_165748.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-23T11:58:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165748"
}
```



---

archive/issue_events_165749.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-23T11:58:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165749"
}
```



---

archive/issue_comments_256977.json:
```json
{
    "body": "**Work_Issues:** rebase",
    "created_at": "2015-05-23T11:58:26Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256977",
    "user": "https://github.com/jdemeyer"
}
```

**Work_Issues:** rebase



---

archive/issue_comments_256978.json:
```json
{
    "body": "**Changing commit** from \"[a1ad51c116ae506ff08e50100b6f83f7c0faec4d](https://github.com/sagemath/sagetrac-mirror/commit/a1ad51c116ae506ff08e50100b6f83f7c0faec4d)\" to \"[941fa7420f1942114f88bb3a03bd84bb1997d896](https://github.com/sagemath/sagetrac-mirror/commit/941fa7420f1942114f88bb3a03bd84bb1997d896)\".",
    "created_at": "2015-05-23T20:47:48Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256978",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a1ad51c116ae506ff08e50100b6f83f7c0faec4d](https://github.com/sagemath/sagetrac-mirror/commit/a1ad51c116ae506ff08e50100b6f83f7c0faec4d)" to "[941fa7420f1942114f88bb3a03bd84bb1997d896](https://github.com/sagemath/sagetrac-mirror/commit/941fa7420f1942114f88bb3a03bd84bb1997d896)".



---

archive/issue_comments_256979.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/941fa7420f1942114f88bb3a03bd84bb1997d896\">941fa74</a></td><td><code>Merge tag '6.8.beta0' into t/18450/define_library_dependencies_in__pxd_files</code></td></tr></table>\n",
    "created_at": "2015-05-23T20:47:48Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256979",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/941fa7420f1942114f88bb3a03bd84bb1997d896">941fa74</a></td><td><code>Merge tag '6.8.beta0' into t/18450/define_library_dependencies_in__pxd_files</code></td></tr></table>




---

archive/issue_comments_256980.json:
```json
{
    "body": "**Changing work_issues** from \"rebase\" to \"\".",
    "created_at": "2015-05-23T20:48:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256980",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work_issues** from "rebase" to "".



---

archive/issue_events_165750.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-23T20:48:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165750"
}
```



---

archive/issue_events_165751.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-23T20:48:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165751"
}
```



---

archive/issue_events_165752.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-23T20:48:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165752"
}
```



---

archive/issue_events_165753.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-23T20:48:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165753"
}
```



---

archive/issue_comments_256981.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Reported upstream. Developers deny it's a bug.\".",
    "created_at": "2015-05-25T18:26:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256981",
    "user": "https://github.com/jdemeyer"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "Reported upstream. Developers deny it's a bug.".



---

archive/issue_comments_256982.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -41,4 +41,4 @@\n \n We need 2 patches to upstream Cython to fix dependency handling:\n * [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)\n-* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (no feedback yet)\n+* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (upstream doesn't like it)\n``````\n",
    "created_at": "2015-05-25T18:26:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256982",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -41,4 +41,4 @@
 
 We need 2 patches to upstream Cython to fix dependency handling:
 * [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)
-* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (no feedback yet)
+* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (upstream doesn't like it)
``````




---

archive/issue_comments_256983.json:
```json
{
    "body": "<a id='comment:27'></a>\nTo potential reviewers: if the upstream status of the second Cython patch is what prevents you from reviewing this ticket, I can add a quick work-around for that. Just let me know.",
    "created_at": "2015-06-01T10:13:05Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256983",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
To potential reviewers: if the upstream status of the second Cython patch is what prevents you from reviewing this ticket, I can add a quick work-around for that. Just let me know.



---

archive/issue_comments_256984.json:
```json
{
    "body": "<a id='comment:28'></a>\nPlease do!\n\nI had a look at the upstream ticket and did not get any strong feeling yet.",
    "created_at": "2015-06-01T10:20:15Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256984",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:28'></a>
Please do!

I had a look at the upstream ticket and did not get any strong feeling yet.



---

archive/issue_events_165754.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T11:19:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165754"
}
```



---

archive/issue_events_165755.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T11:19:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165755"
}
```



---

archive/issue_comments_256985.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -39,6 +39,5 @@\n \n ---\n \n-We need 2 patches to upstream Cython to fix dependency handling:\n+We need 1 patch to upstream Cython to fix dependency handling:\n * [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)\n-* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (upstream doesn't like it)\n``````\n",
    "created_at": "2015-06-01T11:19:07Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256985",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -39,6 +39,5 @@
 
 ---
 
-We need 2 patches to upstream Cython to fix dependency handling:
+We need 1 patch to upstream Cython to fix dependency handling:
 * [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381) (accepted)
-* [https://github.com/cython/cython/pull/392](https://github.com/cython/cython/pull/392) (upstream doesn't like it)
``````




---

archive/issue_comments_256986.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. Developers deny it's a bug.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2015-06-01T11:19:07Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256986",
    "user": "https://github.com/jdemeyer"
}
```

**Changing upstream** from "Reported upstream. Developers deny it's a bug." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_256987.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae16699e4cf30899c05576b637e34866924622b2\">ae16699</a></td><td><code>Merge tag '6.8.beta2' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b83481163b70d58d3d2f3cf036e55bbb80297fb\">8b83481</a></td><td><code>Move pari/decl.pxi to pari/paridecl.pxd</code></td></tr></table>\n",
    "created_at": "2015-06-01T12:05:19Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256987",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae16699e4cf30899c05576b637e34866924622b2">ae16699</a></td><td><code>Merge tag '6.8.beta2' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b83481163b70d58d3d2f3cf036e55bbb80297fb">8b83481</a></td><td><code>Move pari/decl.pxi to pari/paridecl.pxd</code></td></tr></table>




---

archive/issue_comments_256988.json:
```json
{
    "body": "**Changing commit** from \"[941fa7420f1942114f88bb3a03bd84bb1997d896](https://github.com/sagemath/sagetrac-mirror/commit/941fa7420f1942114f88bb3a03bd84bb1997d896)\" to \"[8b83481163b70d58d3d2f3cf036e55bbb80297fb](https://github.com/sagemath/sagetrac-mirror/commit/8b83481163b70d58d3d2f3cf036e55bbb80297fb)\".",
    "created_at": "2015-06-01T12:05:19Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[941fa7420f1942114f88bb3a03bd84bb1997d896](https://github.com/sagemath/sagetrac-mirror/commit/941fa7420f1942114f88bb3a03bd84bb1997d896)" to "[8b83481163b70d58d3d2f3cf036e55bbb80297fb](https://github.com/sagemath/sagetrac-mirror/commit/8b83481163b70d58d3d2f3cf036e55bbb80297fb)".



---

archive/issue_events_165756.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T12:07:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165756"
}
```



---

archive/issue_events_165757.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-01T12:07:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165757"
}
```



---

archive/issue_comments_256989.json:
```json
{
    "body": "<a id='comment:32'></a>\nWith the patch, `mpfr` is not picked when compiling `partitions_c` (on cygwin)\nPart of the log:\n\n```\nbuild/temp.cygwin-1.7.35-x86_64-2.7/sage/combinat/partitions_c.o: dans la fonction \u00ab compute_current_precision \u00bb:\n/home/Sebastien/sage13/sage/src/sage/combinat/partitions_c.cc:448: r\u00e9f\u00e9rence ind\u00e9finie vers \u00ab __imp_mpfr_init2 \u00bb\n/home/Sebastien/sage13/sage/src/sage/combinat/partitions_c.cc:448:(.text+0x16): relocalisation tronqu\u00e9e pour concorder avec la taille: R_X86_64_PC32 vers le symbole ind\u00e9fini __imp_mpfr_init2\n/home/Sebastien/sage13/sage/src/sage/combinat/partitions_c.cc:452: r\u00e9f\u00e9rence ind\u00e9finie vers \u00ab __imp_mpfr_set_d \u00bb\n```\nFull log on request.",
    "created_at": "2015-06-02T07:29:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256989",
    "user": "https://trac.sagemath.org/admin/accounts/users/gouezel"
}
```

<a id='comment:32'></a>
With the patch, `mpfr` is not picked when compiling `partitions_c` (on cygwin)
Part of the log:

```
build/temp.cygwin-1.7.35-x86_64-2.7/sage/combinat/partitions_c.o: dans la fonction « compute_current_precision »:
/home/Sebastien/sage13/sage/src/sage/combinat/partitions_c.cc:448: référence indéfinie vers « __imp_mpfr_init2 »
/home/Sebastien/sage13/sage/src/sage/combinat/partitions_c.cc:448:(.text+0x16): relocalisation tronquée pour concorder avec la taille: R_X86_64_PC32 vers le symbole indéfini __imp_mpfr_init2
/home/Sebastien/sage13/sage/src/sage/combinat/partitions_c.cc:452: référence indéfinie vers « __imp_mpfr_set_d »
```
Full log on request.



---

archive/issue_events_165758.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gouezel",
    "created_at": "2015-06-02T07:29:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165758"
}
```



---

archive/issue_events_165759.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gouezel",
    "created_at": "2015-06-02T07:29:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165759"
}
```



---

archive/issue_comments_256990.json:
```json
{
    "body": "<a id='comment:33'></a>\nRight, it's `partitions_c.cc` which needs those libraries, not the Cython code...",
    "created_at": "2015-06-02T07:43:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256990",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'></a>
Right, it's `partitions_c.cc` which needs those libraries, not the Cython code...



---

archive/issue_comments_256991.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -31,7 +31,6 @@\n * `sage/graphs/weakly_chordal`: added `gmp`\n \n Unused libraries are removed:\n-* `sage/combinat/partitions`: removed `gmp` and `mpfr`\n * `sage/graphs/graph_generators_pyx`: removed `gmp`\n * `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`\n * `sage/modular/modsym/p1list`: removed `gmp`\n``````\n",
    "created_at": "2015-06-02T07:43:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256991",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -31,7 +31,6 @@
 * `sage/graphs/weakly_chordal`: added `gmp`
 
 Unused libraries are removed:
-* `sage/combinat/partitions`: removed `gmp` and `mpfr`
 * `sage/graphs/graph_generators_pyx`: removed `gmp`
 * `sage/groups/semimonomial_transformations/semimonomial_transformation`: removed `gmp`
 * `sage/modular/modsym/p1list`: removed `gmp`
``````




---

archive/issue_comments_256992.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c72dd60c5daddd9f3fae41692bb11d4e029f70c\">1c72dd6</a></td><td><code>partitions_c.cc needs gmp and mpfr libraries</code></td></tr></table>\n",
    "created_at": "2015-06-02T07:49:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256992",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c72dd60c5daddd9f3fae41692bb11d4e029f70c">1c72dd6</a></td><td><code>partitions_c.cc needs gmp and mpfr libraries</code></td></tr></table>




---

archive/issue_comments_256993.json:
```json
{
    "body": "**Changing commit** from \"[8b83481163b70d58d3d2f3cf036e55bbb80297fb](https://github.com/sagemath/sagetrac-mirror/commit/8b83481163b70d58d3d2f3cf036e55bbb80297fb)\" to \"[1c72dd60c5daddd9f3fae41692bb11d4e029f70c](https://github.com/sagemath/sagetrac-mirror/commit/1c72dd60c5daddd9f3fae41692bb11d4e029f70c)\".",
    "created_at": "2015-06-02T07:49:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256993",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8b83481163b70d58d3d2f3cf036e55bbb80297fb](https://github.com/sagemath/sagetrac-mirror/commit/8b83481163b70d58d3d2f3cf036e55bbb80297fb)" to "[1c72dd60c5daddd9f3fae41692bb11d4e029f70c](https://github.com/sagemath/sagetrac-mirror/commit/1c72dd60c5daddd9f3fae41692bb11d4e029f70c)".



---

archive/issue_events_165760.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T07:49:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165760"
}
```



---

archive/issue_events_165761.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T07:49:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165761"
}
```



---

archive/issue_comments_256994.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87be62bd136cf6951c8761a4ba5742778202bda0\">87be62b</a></td><td><code>Correct Jonathan Bober's name</code></td></tr></table>\n",
    "created_at": "2015-06-02T09:31:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256994",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87be62bd136cf6951c8761a4ba5742778202bda0">87be62b</a></td><td><code>Correct Jonathan Bober's name</code></td></tr></table>




---

archive/issue_comments_256995.json:
```json
{
    "body": "**Changing commit** from \"[1c72dd60c5daddd9f3fae41692bb11d4e029f70c](https://github.com/sagemath/sagetrac-mirror/commit/1c72dd60c5daddd9f3fae41692bb11d4e029f70c)\" to \"[87be62bd136cf6951c8761a4ba5742778202bda0](https://github.com/sagemath/sagetrac-mirror/commit/87be62bd136cf6951c8761a4ba5742778202bda0)\".",
    "created_at": "2015-06-02T09:31:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1c72dd60c5daddd9f3fae41692bb11d4e029f70c](https://github.com/sagemath/sagetrac-mirror/commit/1c72dd60c5daddd9f3fae41692bb11d4e029f70c)" to "[87be62bd136cf6951c8761a4ba5742778202bda0](https://github.com/sagemath/sagetrac-mirror/commit/87be62bd136cf6951c8761a4ba5742778202bda0)".



---

archive/issue_comments_256996.json:
```json
{
    "body": "<a id='comment:38'></a>\nCoule you please open a follow up ticket for the Pari linking issue?",
    "created_at": "2015-06-02T09:43:37Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256996",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:38'></a>
Coule you please open a follow up ticket for the Pari linking issue?



---

archive/issue_comments_256997.json:
```json
{
    "body": "<a id='comment:39'></a>\nYou mean the fact that `pari` gets added as library when it's not needed? That's now #18583.",
    "created_at": "2015-06-02T10:01:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256997",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>
You mean the fact that `pari` gets added as library when it's not needed? That's now #18583.



---

archive/issue_events_165762.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gouezel",
    "created_at": "2015-06-02T15:07:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165762"
}
```



---

archive/issue_events_165763.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gouezel",
    "created_at": "2015-06-02T15:07:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165763"
}
```



---

archive/issue_comments_256998.json:
```json
{
    "body": "<a id='comment:40'></a>\nWith the patch, linking problem of 'libecm' with 'gmp'\nPart of log:\n\n```\ngcc -shared -Wl,--enable-auto-image-base -L/home/Sebastien/sage13/sage/local/lib build/temp.cygwin-1.7.35-x86_64-2.7/build/cythonized/sage/libs/libecm.o -L/home/Sebastien/sage13/sage/local/lib -L/home/Sebastien/sage13/sage/local/lib/python2.7/config -L/home/Sebastien/sage13/sage/local/lib -lcsage -lgmp -lecm -lpython2.7 -o build/lib.cygwin-1.7.35-x86_64-2.7/sage/libs/libecm.dll\n/home/Sebastien/sage13/sage/local/lib/libecm.a(libecm_la-factor.o): dans la fonction \u00ab ecm_init \u00bb:\n/home/Sebastien/sage13/sage/local/var/tmp/sage/build/ecm-6.4.4/src/factor.c:32: r\u00e9f\u00e9rence ind\u00e9finie vers \u00ab __imp___gmpz_init_set_ui \u00bb\n```",
    "created_at": "2015-06-02T15:07:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256998",
    "user": "https://trac.sagemath.org/admin/accounts/users/gouezel"
}
```

<a id='comment:40'></a>
With the patch, linking problem of 'libecm' with 'gmp'
Part of log:

```
gcc -shared -Wl,--enable-auto-image-base -L/home/Sebastien/sage13/sage/local/lib build/temp.cygwin-1.7.35-x86_64-2.7/build/cythonized/sage/libs/libecm.o -L/home/Sebastien/sage13/sage/local/lib -L/home/Sebastien/sage13/sage/local/lib/python2.7/config -L/home/Sebastien/sage13/sage/local/lib -lcsage -lgmp -lecm -lpython2.7 -o build/lib.cygwin-1.7.35-x86_64-2.7/sage/libs/libecm.dll
/home/Sebastien/sage13/sage/local/lib/libecm.a(libecm_la-factor.o): dans la fonction « ecm_init »:
/home/Sebastien/sage13/sage/local/var/tmp/sage/build/ecm-6.4.4/src/factor.c:32: référence indéfinie vers « __imp___gmpz_init_set_ui »
```



---

archive/issue_comments_256999.json:
```json
{
    "body": "<a id='comment:41'></a>\nThere is a lgmp but before lecm and the linker is picky.",
    "created_at": "2015-06-02T15:29:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-256999",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:41'></a>
There is a lgmp but before lecm and the linker is picky.



---

archive/issue_comments_257000.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795\">0be796e</a></td><td><code>Add ecm library before gmp</code></td></tr></table>\n",
    "created_at": "2015-06-02T15:55:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795">0be796e</a></td><td><code>Add ecm library before gmp</code></td></tr></table>




---

archive/issue_comments_257001.json:
```json
{
    "body": "**Changing commit** from \"[87be62bd136cf6951c8761a4ba5742778202bda0](https://github.com/sagemath/sagetrac-mirror/commit/87be62bd136cf6951c8761a4ba5742778202bda0)\" to \"[0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)\".",
    "created_at": "2015-06-02T15:55:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257001",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[87be62bd136cf6951c8761a4ba5742778202bda0](https://github.com/sagemath/sagetrac-mirror/commit/87be62bd136cf6951c8761a4ba5742778202bda0)" to "[0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)".



---

archive/issue_comments_257002.json:
```json
{
    "body": "<a id='comment:43'></a>\nRight, I forgot to add `ecm`.",
    "created_at": "2015-06-02T15:56:30Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257002",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:43'></a>
Right, I forgot to add `ecm`.



---

archive/issue_events_165764.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T15:56:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165764"
}
```



---

archive/issue_events_165765.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-02T15:56:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165765"
}
```



---

archive/issue_comments_257003.json:
```json
{
    "body": "<a id='comment:44'></a>\nGood to go.",
    "created_at": "2015-06-02T20:51:27Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257003",
    "user": "https://trac.sagemath.org/admin/accounts/users/gouezel"
}
```

<a id='comment:44'></a>
Good to go.



---

archive/issue_comments_257004.json:
```json
{
    "body": "**Reviewer:** Sebastien Gouezel",
    "created_at": "2015-06-02T20:51:27Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257004",
    "user": "https://trac.sagemath.org/admin/accounts/users/gouezel"
}
```

**Reviewer:** Sebastien Gouezel



---

archive/issue_events_165766.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gouezel",
    "created_at": "2015-06-02T20:51:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165766"
}
```



---

archive/issue_events_165767.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/gouezel",
    "created_at": "2015-06-02T20:51:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165767"
}
```



---

archive/issue_comments_257005.json:
```json
{
    "body": "<a id='comment:45'></a>\nThanks for the review!",
    "created_at": "2015-06-03T05:42:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257005",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:45'></a>
Thanks for the review!



---

archive/issue_events_165768.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T23:22:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165768"
}
```



---

archive/issue_events_165769.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T23:22:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18450#event-165769"
}
```



---

archive/issue_comments_257006.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/define_library_dependencies_in__pxd_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/define_library_dependencies_in__pxd_files)\" to \"[0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)\".",
    "created_at": "2015-06-03T23:22:41Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257006",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/define_library_dependencies_in__pxd_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/define_library_dependencies_in__pxd_files)" to "[0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)".



---

archive/issue_comments_257007.json:
```json
{
    "body": "**Changing commit** from \"[0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)\" to \"\".",
    "created_at": "2016-06-29T20:00:46Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257007",
    "user": "https://github.com/nexttime"
}
```

**Changing commit** from "[0be796e608b4e876e01d2e17a30fc5a00867e795](https://github.com/sagemath/sagetrac-mirror/commit/0be796e608b4e876e01d2e17a30fc5a00867e795)" to "".



---

archive/issue_comments_257008.json:
```json
{
    "body": "<a id='comment:47'></a>\nJust out of curiosity:  Are there follow-ups moving further things into `*.pxd`?\n\n(More precisely, into `# distutils: ...` declarations.)",
    "created_at": "2016-06-29T20:00:46Z",
    "issue": "https://github.com/sagemath/sage/issues/18450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18450#issuecomment-257008",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:47'></a>
Just out of curiosity:  Are there follow-ups moving further things into `*.pxd`?

(More precisely, into `# distutils: ...` declarations.)
