# Issue 18183: Implement two matroid polytopes

archive/issues_017946.json:
```json
{
    "assignees": [],
    "body": "To a matroid one can associate two polytopes.\n\n- one with bases as vertices\n- one with indep. sets as vertices\nThe former is a facet of the latter.\n\nHere is an implementation.\n\nKeywords: **matroid polytope**\n\nBranch/Commit: **[`6484e71`](https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90)**\n\nWork Issues: **documentation**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **matroid theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18183_\n\n",
    "closed_at": "2015-04-15T13:58:15Z",
    "created_at": "2015-04-14T08:16:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement two matroid polytopes",
    "type": "issue",
    "updated_at": "2015-04-15T13:58:15Z",
    "url": "https://github.com/sagemath/sage/issues/18183",
    "user": "https://github.com/fchapoton"
}
```
To a matroid one can associate two polytopes.

- one with bases as vertices
- one with indep. sets as vertices
The former is a facet of the latter.

Here is an implementation.

Keywords: **matroid polytope**

Branch/Commit: **[`6484e71`](https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90)**

Work Issues: **documentation**

Reviewer: **Vincent Delecroix**

Author: **Frédéric Chapoton**

Component: **matroid theory**

_Issue created by migration from https://trac.sagemath.org/ticket/18183_





---

archive/issue_events_258561.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-14T08:16:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258561"
}
```



---

archive/issue_events_258562.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-14T08:16:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
    "label_color": "0000ff",
    "label_name": "c: matroid theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258562"
}
```



---

archive/issue_events_258563.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-14T08:16:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258563"
}
```



---

archive/issue_events_258564.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-14T08:16:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258564"
}
```



---

archive/issue_events_258565.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-14T08:17:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258565"
}
```



---

archive/issue_comments_248748.json:
```json
{
    "body": "Branch: **[u/chapoton/18183](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18183)**",
    "created_at": "2015-04-14T08:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248748",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/18183](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18183)**



---

archive/issue_comments_248749.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/641d76c39dfa5619c1b8759c52d855be2a917088\">641d76c</a></td><td><code>trac #18XXX two matroid polytopes</code></td></tr></table>\n",
    "created_at": "2015-04-14T08:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248749",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/641d76c39dfa5619c1b8759c52d855be2a917088">641d76c</a></td><td><code>trac #18XXX two matroid polytopes</code></td></tr></table>




---

archive/issue_comments_248750.json:
```json
{
    "body": "Commit: **[`641d76c`](https://github.com/sagemath/sagetrac-mirror/commit/641d76c39dfa5619c1b8759c52d855be2a917088)**",
    "created_at": "2015-04-14T08:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248750",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`641d76c`](https://github.com/sagemath/sagetrac-mirror/commit/641d76c39dfa5619c1b8759c52d855be2a917088)**



---

archive/issue_comments_248751.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNice commit message ;-) You know that you can modify it afterwards by doing\n\n```\ngit commit --amend\n```",
    "created_at": "2015-04-14T09:28:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248751",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">comment:2</div>

Nice commit message ;-) You know that you can modify it afterwards by doing

```
git commit --amend
```



---

archive/issue_comments_248752.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nCould you add a link to the published version of the article http://link.springer.com/article/10.1007%2Fs00454-008-9080-z (and keep the arXiv one)?\n\nIsn't there any interesting feature of these polytopes that would be cool to have in the documentation? Right now you only show that you can construct them... not very fancy.\n\nCode looks good otherwise.\n\nVincent",
    "created_at": "2015-04-14T09:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248752",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

Could you add a link to the published version of the article http://link.springer.com/article/10.1007%2Fs00454-008-9080-z (and keep the arXiv one)?

Isn't there any interesting feature of these polytopes that would be cool to have in the documentation? Right now you only show that you can construct them... not very fancy.

Code looks good otherwise.

Vincent



---

archive/issue_events_258566.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-14T09:34:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258566"
}
```



---

archive/issue_events_258567.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-14T09:34:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258567"
}
```



---

archive/issue_comments_248753.json:
```json
{
    "body": "Work Issues: **documentation**",
    "created_at": "2015-04-14T09:34:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248753",
    "user": "https://github.com/videlec"
}
```

Work Issues: **documentation**



---

archive/issue_comments_248754.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90\">6484e71</a></td><td><code>trac #18183 more precise reference with doi</code></td></tr></table>\n",
    "created_at": "2015-04-14T09:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248754",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90">6484e71</a></td><td><code>trac #18183 more precise reference with doi</code></td></tr></table>




---

archive/issue_comments_248755.json:
```json
{
    "body": "Changed commit from **[`641d76c`](https://github.com/sagemath/sagetrac-mirror/commit/641d76c39dfa5619c1b8759c52d855be2a917088)** to **[`6484e71`](https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90)**",
    "created_at": "2015-04-14T09:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248755",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`641d76c`](https://github.com/sagemath/sagetrac-mirror/commit/641d76c39dfa5619c1b8759c52d855be2a917088)** to **[`6484e71`](https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90)**



---

archive/issue_comments_248756.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks for having a look.\n\nI have added the publication data, and the doi\n\nI have nothing fancy to add in the doctest, sorry.\n\nIf we had the Ehrhart polynomial, we could check that their coeffs are positive..",
    "created_at": "2015-04-14T10:00:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248756",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks for having a look.

I have added the publication data, and the doi

I have nothing fancy to add in the doctest, sorry.

If we had the Ehrhart polynomial, we could check that their coeffs are positive..



---

archive/issue_events_258568.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-14T10:00:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258568"
}
```



---

archive/issue_events_258569.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-14T10:00:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258569"
}
```



---

archive/issue_comments_248757.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@fchapoton](#comment:6):\n> Thanks for having a look.\n> \n> I have added the publication data, and the doi\n> \n> I have nothing fancy to add in the doctest, sorry.\n> \n> If we had the Ehrhart polynomial, we could check that their coeffs are positive..\n\nWe do! This is in Latte (see #15180).\n\n1. do `sage -i latte_int`\n\n2. \n\n```\ndef latte_input_file(P, filename='/tmp/latte.in'):\n    assert P.n_equations() == 0\n    f = open(filename, 'w')\n    f.write(\"{} {}\\n\".format(P.n_inequalities(), P.ambient_dim()+1))\n    for l in P.inequality_generator():\n        f.write(' '.join(map(str,l)))\n        f.write('\\n')\n    f.close()\n```\n\n3. Then generate the file with the above code and run\n\n```\n $ sage -sh\n $ count --ehrhart-polynomial /tmp/latte.in\n ...\n Ehrhart polynomial:  + 1 * t^0 + 3 * t^1 + 3 * t^2 + 1 * t^3\n $ exit\n```\n\nWould be really cool to have that properly interfaced within Sage!\n\nVincent",
    "created_at": "2015-04-14T10:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248757",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@fchapoton](#comment:6):
> Thanks for having a look.
> 
> I have added the publication data, and the doi
> 
> I have nothing fancy to add in the doctest, sorry.
> 
> If we had the Ehrhart polynomial, we could check that their coeffs are positive..

We do! This is in Latte (see #15180).

1. do `sage -i latte_int`

2. 

```
def latte_input_file(P, filename='/tmp/latte.in'):
    assert P.n_equations() == 0
    f = open(filename, 'w')
    f.write("{} {}\n".format(P.n_inequalities(), P.ambient_dim()+1))
    for l in P.inequality_generator():
        f.write(' '.join(map(str,l)))
        f.write('\n')
    f.close()
```

3. Then generate the file with the above code and run

```
 $ sage -sh
 $ count --ehrhart-polynomial /tmp/latte.in
 ...
 Ehrhart polynomial:  + 1 * t^0 + 3 * t^1 + 3 * t^2 + 1 * t^3
 $ exit
```

Would be really cool to have that properly interfaced within Sage!

Vincent



---

archive/issue_comments_248758.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAlgorithmicaly it looks a bit weird to do something like that:\n\n```\nvertices = [ambient.sum(vector_e[convert[i]] for i in IS)\n            for r in range(self.full_rank() + 1)\n            for IS in self.independent_r_sets(r)]\n```\n\nYou enumerate the 'r+1' independent sets without using the information you got from the sets of order 'r'.\n\nI don't know if it can be useful here, but there is something *very* related in Sage:\n\nhttp://www.sagemath.org/doc/reference/combinat/sage/combinat/subsets_hereditary.html\n\nNathann\n\nP.S.:\n\n```\n+        REFERENCE:\n+\n+        [DLHK2007]_\n```",
    "created_at": "2015-04-14T12:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248758",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Algorithmicaly it looks a bit weird to do something like that:

```
vertices = [ambient.sum(vector_e[convert[i]] for i in IS)
            for r in range(self.full_rank() + 1)
            for IS in self.independent_r_sets(r)]
```

You enumerate the 'r+1' independent sets without using the information you got from the sets of order 'r'.

I don't know if it can be useful here, but there is something *very* related in Sage:

http://www.sagemath.org/doc/reference/combinat/sage/combinat/subsets_hereditary.html

Nathann

P.S.:

```
+        REFERENCE:
+
+        [DLHK2007]_
```



---

archive/issue_comments_248759.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWell, I see your point. The true problem is that there is no `independent_sets` method for matroids.\n\nwhat do you mean about the ref ?",
    "created_at": "2015-04-14T12:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248759",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

Well, I see your point. The true problem is that there is no `independent_sets` method for matroids.

what do you mean about the ref ?



---

archive/issue_comments_248760.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHellooooooooo,\n\n> Well, I see your point. The true problem is that there is no `independent_sets` method for matroids.\n\nYou can get one like that:\n\n```\ndef independent_sets_iterator(M):\n    from sage.combinat.subsets_hereditary import subsets_with_hereditary_property\n    for x in subsets_with_hereditary_property(M.is_independent,M.groundset()):\n        yield x\n```\n\nDisclaimers:\n\n- It is a 'fake' iterator, i.e. the amount of memory it requires is far from\n  constant. It does not store all bases at once, but you will store at some\n  point the 'independent sets of size r or r+1' for every r\n\n- I have no idea if the method is optimal algorithmically. It is meant to work\n  for any 'hereditary' function (a property verified by\n  `Matroid.is_independent`), and in particular does not use any property of\n  matroids\n\n- I suspect that it is asymptotically faster than what you do right now. The\n  matroid algorithm to enumerate all independent sets of size 'r' is to try all\n  'r'-subset and run a `is_independent` test.\n\n- This implementation is at a much higher level than the Matroid\n  implementation: the matroid code works on bitsets, while\n  `subsets_with_hereditary_property` works on lists of arbitrary objects. There\n  is a (possibly big) loss of time there.\n\n- There is a nice customization inside of `subsets_with_hereditary_property`,\n  which is why I implemented this function: if it detects that `{a,b,c}` is not\n  an independent set it will never try a superset of `{a,b,c}` again (this is\n  achieved through some caching of the answers of the test function.\n\n> what do you mean about the ref ?\n\nOh sorry. I thought that it was a half-finishef entry, I had not noticed that\nyou were only refering to another one (which is properly written).\n\nNathann",
    "created_at": "2015-04-14T12:38:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248760",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

Hellooooooooo,

> Well, I see your point. The true problem is that there is no `independent_sets` method for matroids.

You can get one like that:

```
def independent_sets_iterator(M):
    from sage.combinat.subsets_hereditary import subsets_with_hereditary_property
    for x in subsets_with_hereditary_property(M.is_independent,M.groundset()):
        yield x
```

Disclaimers:

- It is a 'fake' iterator, i.e. the amount of memory it requires is far from
  constant. It does not store all bases at once, but you will store at some
  point the 'independent sets of size r or r+1' for every r

- I have no idea if the method is optimal algorithmically. It is meant to work
  for any 'hereditary' function (a property verified by
  `Matroid.is_independent`), and in particular does not use any property of
  matroids

- I suspect that it is asymptotically faster than what you do right now. The
  matroid algorithm to enumerate all independent sets of size 'r' is to try all
  'r'-subset and run a `is_independent` test.

- This implementation is at a much higher level than the Matroid
  implementation: the matroid code works on bitsets, while
  `subsets_with_hereditary_property` works on lists of arbitrary objects. There
  is a (possibly big) loss of time there.

- There is a nice customization inside of `subsets_with_hereditary_property`,
  which is why I implemented this function: if it detects that `{a,b,c}` is not
  an independent set it will never try a superset of `{a,b,c}` again (this is
  achieved through some caching of the answers of the test function.

> what do you mean about the ref ?

Oh sorry. I thought that it was a half-finishef entry, I had not noticed that
you were only refering to another one (which is properly written).

Nathann



---

archive/issue_comments_248761.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIt seems that the current branch is slightly faster.. \n\n```\nsage: M=matroids.named_matroids.Q10()\nsage: %timeit  P = M.independence_matroid_polytope()\n10 loops, best of 3: 135 ms per loop\n```\ncompared to the one using your iterator:\n\n```\nsage: M=matroids.named_matroids.Q10()\nsage: %timeit  P = M.independence_matroid_polytope()\n10 loops, best of 3: 143 ms per loop\n```\nSo I propose to let to another ticket the work to have a proper independent_sets method.",
    "created_at": "2015-04-14T12:54:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248761",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

It seems that the current branch is slightly faster.. 

```
sage: M=matroids.named_matroids.Q10()
sage: %timeit  P = M.independence_matroid_polytope()
10 loops, best of 3: 135 ms per loop
```
compared to the one using your iterator:

```
sage: M=matroids.named_matroids.Q10()
sage: %timeit  P = M.independence_matroid_polytope()
10 loops, best of 3: 143 ms per loop
```
So I propose to let to another ticket the work to have a proper independent_sets method.



---

archive/issue_events_258570.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-15T06:38:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258570"
}
```



---

archive/issue_events_258571.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-15T06:38:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258571"
}
```



---

archive/issue_comments_248762.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHum. I did have a look at matroids `independent_r_sets` method. And the way to generate all independent set is to generate all sets and filter those which are independent... really!\n\n```\nres = []\nfor X in combinations(self.groundset(), r):\n    X = frozenset(X)\n    if self._rank(X) == len(X):\n        res.append(X)\n    return res\n```",
    "created_at": "2015-04-15T08:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248762",
    "user": "https://github.com/videlec"
}
```

<div id="comment:13" align="right">comment:13</div>

Hum. I did have a look at matroids `independent_r_sets` method. And the way to generate all independent set is to generate all sets and filter those which are independent... really!

```
res = []
for X in combinations(self.groundset(), r):
    X = frozenset(X)
    if self._rank(X) == len(X):
        res.append(X)
    return res
```



---

archive/issue_comments_248763.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThis is the reason why I believe that the `independent_sets_iterator` I mentionned above will be asymptotically faster.",
    "created_at": "2015-04-15T08:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248763",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

This is the reason why I believe that the `independent_sets_iterator` I mentionned above will be asymptotically faster.



---

archive/issue_events_258572.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-15T09:32:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258572"
}
```



---

archive/issue_events_258573.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-15T09:32:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258573"
}
```



---

archive/issue_comments_248764.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2015-04-15T09:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248764",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_248765.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThis ticket is good to go!\n\nI will try to implement something more serious for independent sets in matroids. The proposition of Nathann is not ideal since we do not want to store the \"no sets\" in the iteration. The boolean function is cheap in the present case.",
    "created_at": "2015-04-15T09:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248765",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

This ticket is good to go!

I will try to implement something more serious for independent sets in matroids. The proposition of Nathann is not ideal since we do not want to store the "no sets" in the iteration. The boolean function is cheap in the present case.



---

archive/issue_comments_248766.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> I will try to implement something more serious for independent sets in matroids. The proposition of Nathann is not ideal since we do not want to store the \"no sets\" in the iteration. The boolean function is cheap in the present case.\n\nYou do store them, but you store one bit for each of them. So it is not terribly large either. Why are you sure that the function is cheap in this case by the way?\n\nNathann",
    "created_at": "2015-04-15T09:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248766",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

> I will try to implement something more serious for independent sets in matroids. The proposition of Nathann is not ideal since we do not want to store the "no sets" in the iteration. The boolean function is cheap in the present case.

You do store them, but you store one bit for each of them. So it is not terribly large either. Why are you sure that the function is cheap in this case by the way?

Nathann



---

archive/issue_comments_248767.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nerr. Not 'one bit for each of them'. One bit for all inclusionwise minimal no-sets. Actually, I'd be ready to bet that storing all independent sets of size r is more expensive that that already.",
    "created_at": "2015-04-15T09:35:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248767",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

err. Not 'one bit for each of them'. One bit for all inclusionwise minimal no-sets. Actually, I'd be ready to bet that storing all independent sets of size r is more expensive that that already.



---

archive/issue_events_258574.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-15T13:58:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258574"
}
```



---

archive/issue_events_258575.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d98d5ecf085a2a602c79760f67a71a5e267c8ac2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-15T13:58:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18183#event-258575"
}
```



---

archive/issue_comments_248768.json:
```json
{
    "body": "Changed branch from **[u/chapoton/18183](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18183)** to **[`6484e71`](https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90)**",
    "created_at": "2015-04-15T13:58:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18183",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18183#issuecomment-248768",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/18183](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18183)** to **[`6484e71`](https://github.com/sagemath/sagetrac-mirror/commit/6484e7198d41b716f4cb70dcf56ea7d849a6ce90)**
