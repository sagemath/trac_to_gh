# Issue 18091: symbolic floor,ceil,factorial need _evalf_ too

archive/issues_017854.json:
```json
{
    "body": "With\n\n```\nsage: f(x) = floor(x)\nsage: g(x) = ceil(x)\nsage: h(x) = factorial(x)\n```\nany of the following\n\n```\nsage: f(pi)._numerical_approx()\nsage: g(pi)._numerical_approx()\nsage: h(5)._numerical_approx()\n```\nwill result in \n\n```\nsrc/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:27487)()\n   4888         # in pynac\n   4889         if is_a_numeric(x._gobj):\n-> 4890             res = py_object_from_numeric(x._gobj)\n   4891         elif  is_a_constant(x._gobj):\n   4892             res = x.pyobject()\n\nTypeError: cannot evaluate symbolic expression numerically\n```\n\n\nBranch/Commit: 0db18c40c3df445028de6c4ec5e80fb5b1706ec1\n\nReviewer: Volker Braun\n\nAuthor: Ralf Stephan\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18091\n\n",
    "closed_at": "2015-03-31T23:58:09Z",
    "created_at": "2015-03-31T07:09:11Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "symbolic floor,ceil,factorial need _evalf_ too",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18091",
    "user": "https://github.com/rwst"
}
```
With

```
sage: f(x) = floor(x)
sage: g(x) = ceil(x)
sage: h(x) = factorial(x)
```
any of the following

```
sage: f(pi)._numerical_approx()
sage: g(pi)._numerical_approx()
sage: h(5)._numerical_approx()
```
will result in 

```
src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:27487)()
   4888         # in pynac
   4889         if is_a_numeric(x._gobj):
-> 4890             res = py_object_from_numeric(x._gobj)
   4891         elif  is_a_constant(x._gobj):
   4892             res = x.pyobject()

TypeError: cannot evaluate symbolic expression numerically
```


Branch/Commit: 0db18c40c3df445028de6c4ec5e80fb5b1706ec1

Reviewer: Volker Braun

Author: Ralf Stephan

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18091





---

archive/issue_comments_312361.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rws/symbolic_floor_ceil_factorial_need__evalf__too\"",
    "created_at": "2015-03-31T07:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312361",
    "user": "https://github.com/rwst"
}
```

Changing branch from "" to "u/rws/symbolic_floor_ceil_factorial_need__evalf__too"



---

archive/issue_comments_312362.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-31T07:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312362",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_312363.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2015-03-31T07:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312363",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_312364.json:
```json
{
    "body": "Changing author from \"\" to \"Ralf Stephan\"",
    "created_at": "2015-03-31T07:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312364",
    "user": "https://github.com/rwst"
}
```

Changing author from "" to "Ralf Stephan"



---

archive/issue_comments_312365.json:
```json
{
    "body": "Changing commit from \"\" to \"0db18c40c3df445028de6c4ec5e80fb5b1706ec1\"",
    "created_at": "2015-03-31T07:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312365",
    "user": "https://github.com/rwst"
}
```

Changing commit from "" to "0db18c40c3df445028de6c4ec5e80fb5b1706ec1"



---

archive/issue_comments_312366.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2015-03-31T09:27:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312366",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_312367.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-31T09:27:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312367",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_051310.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-31T23:58:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18091#event-51310"
}
```



---

archive/issue_comments_312368.json:
```json
{
    "body": "Changing branch from \"u/rws/symbolic_floor_ceil_factorial_need__evalf__too\" to \"0db18c40c3df445028de6c4ec5e80fb5b1706ec1\"",
    "created_at": "2015-03-31T23:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312368",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/rws/symbolic_floor_ceil_factorial_need__evalf__too" to "0db18c40c3df445028de6c4ec5e80fb5b1706ec1"



---

archive/issue_comments_312369.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-03-31T23:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18091#issuecomment-312369",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
