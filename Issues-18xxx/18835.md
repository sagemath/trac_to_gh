# Issue 18835: upgrade SageTeX to version 3.0

archive/issues_018835.json:
```json
{
    "body": "This will fix #18969 and #14363. (And arguably #18951, since I did [add some bits on TeXShop to the SageTeX manual](https://github.com/dandrake/sagetex/blob/master/sagetex.dtx#L397).)\n\nNew SageTeX package available from \nhttp://users.ox.ac.uk/~coml0531/sage/sagetex-3.0.tar.gz\n\nIssue created by migration from https://trac.sagemath.org/ticket/19072\n\n",
    "closed_at": "2016-04-27T07:09:36Z",
    "created_at": "2015-08-22T18:49:20Z",
    "labels": [
        "component: packages: standard",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "upgrade SageTeX to version 3.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18835",
    "user": "https://github.com/dandrake"
}
```
This will fix #18969 and #14363. (And arguably #18951, since I did [add some bits on TeXShop to the SageTeX manual](https://github.com/dandrake/sagetex/blob/master/sagetex.dtx#L397).)

New SageTeX package available from 
http://users.ox.ac.uk/~coml0531/sage/sagetex-3.0.tar.gz

Issue created by migration from https://trac.sagemath.org/ticket/19072





---

archive/issue_comments_257348.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2015-08-27T01:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257348",
    "user": "https://github.com/dandrake"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_257349.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-08-27T01:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257349",
    "user": "https://github.com/dandrake"
}
```

New commits:



---

archive/issue_comments_257350.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-27T01:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257350",
    "user": "https://github.com/dandrake"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_257351.json:
```json
{
    "body": "```\n+% \\changes{v3.0}{2015/08/26}{sageexample and sagecommandline now require\n+% ``...:'' for continuation lines, not ``...''; matches the actual\n+% Sage interpreter}\n```\nIs there an error raised for that in such a way that people would know how to fix it in their source just by reading the error?  Else this might be too backward-incompatible.",
    "created_at": "2015-08-27T01:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257351",
    "user": "https://github.com/kcrisman"
}
```

```
+% \changes{v3.0}{2015/08/26}{sageexample and sagecommandline now require
+% ``...:'' for continuation lines, not ``...''; matches the actual
+% Sage interpreter}
```
Is there an error raised for that in such a way that people would know how to fix it in their source just by reading the error?  Else this might be too backward-incompatible.



---

archive/issue_comments_257352.json:
```json
{
    "body": "Good point about the filenames - how is it supposed to be called after downloading?",
    "created_at": "2015-08-27T04:02:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257352",
    "user": "https://github.com/novoselt"
}
```

Good point about the filenames - how is it supposed to be called after downloading?



---

archive/issue_comments_257353.json:
```json
{
    "body": "Replying to [comment:4 novoselt]:\n> Good point about the filenames - how is it supposed to be called after downloading?\n\n\nThe original is ``sagetex-3.0.tar.gz``.",
    "created_at": "2015-08-27T16:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257353",
    "user": "https://github.com/dandrake"
}
```

Replying to [comment:4 novoselt]:
> Good point about the filenames - how is it supposed to be called after downloading?


The original is ``sagetex-3.0.tar.gz``.



---

archive/issue_comments_257354.json:
```json
{
    "body": "So - are there plans to modify the posted version for the sake of backwards compatibility, or should we take it as is?",
    "created_at": "2015-09-04T23:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257354",
    "user": "https://github.com/novoselt"
}
```

So - are there plans to modify the posted version for the sake of backwards compatibility, or should we take it as is?



---

archive/issue_comments_257355.json:
```json
{
    "body": "The patchbots do not recognize this as an spkg ticket, because the given html address does not end with .tar.gz or something similar...",
    "created_at": "2015-09-18T19:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257355",
    "user": "https://github.com/fchapoton"
}
```

The patchbots do not recognize this as an spkg ticket, because the given html address does not end with .tar.gz or something similar...



---

archive/issue_comments_257356.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-16T15:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257356",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_257357.json:
```json
{
    "body": "does not apply",
    "created_at": "2015-10-16T15:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257357",
    "user": "https://github.com/fchapoton"
}
```

does not apply



---

archive/issue_comments_257358.json:
```json
{
    "body": "SageTeX does not now work with Sage 7.2 betas, presumably due to #20344.",
    "created_at": "2016-04-21T02:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257358",
    "user": "https://github.com/kcrisman"
}
```

SageTeX does not now work with Sage 7.2 betas, presumably due to #20344.



---

archive/issue_comments_257359.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2016-04-21T09:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257359",
    "user": "https://github.com/dimpase"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_257360.json:
```json
{
    "body": "the tarball seems to be at https://github.com/dandrake/sagetex/releases\n(the link in the ticket description did not work, wrong port - fixed).",
    "created_at": "2016-04-21T09:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257360",
    "user": "https://github.com/dimpase"
}
```

the tarball seems to be at https://github.com/dandrake/sagetex/releases
(the link in the ticket description did not work, wrong port - fixed).



---

archive/issue_comments_257361.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2016-04-21T09:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257361",
    "user": "https://github.com/dimpase"
}
```

Changing priority from major to critical.



---

archive/issue_events_053037.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-04-21T09:23:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18835#event-53037"
}
```



---

archive/issue_comments_257362.json:
```json
{
    "body": "used \"normal\" link instead of http://fileserver.sagemath.org/api/v1/pkg/download/b14a1be391d7697b83179d451ea9405a9186c3b6\n\n---\nNew commits:",
    "created_at": "2016-04-21T10:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257362",
    "user": "https://github.com/dimpase"
}
```

used "normal" link instead of http://fileserver.sagemath.org/api/v1/pkg/download/b14a1be391d7697b83179d451ea9405a9186c3b6

---
New commits:



---

archive/issue_comments_257363.json:
```json
{
    "body": "there is an outdated link http://www.sagemath.org/doc/installation/sagetex.html in error reporting:\n\n```\nsagetex.VersionError: versions of .sty and .py files do not match.\nx.sagetex.sage was generated by sagetex.sty version \"2012/01/16 v2.3.3-69dcb0eb93de\", but\nis being processed by sagetex.py version \"2015/08/26 v3.0-92d9f7a\".\nPlease make sure that TeX is using the sagetex.sty\nfrom your current version of Sage; see\nhttp://www.sagemath.org/doc/installation/sagetex.html.\n```",
    "created_at": "2016-04-21T10:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257363",
    "user": "https://github.com/dimpase"
}
```

there is an outdated link http://www.sagemath.org/doc/installation/sagetex.html in error reporting:

```
sagetex.VersionError: versions of .sty and .py files do not match.
x.sagetex.sage was generated by sagetex.sty version "2012/01/16 v2.3.3-69dcb0eb93de", but
is being processed by sagetex.py version "2015/08/26 v3.0-92d9f7a".
Please make sure that TeX is using the sagetex.sty
from your current version of Sage; see
http://www.sagemath.org/doc/installation/sagetex.html.
```



---

archive/issue_comments_257364.json:
```json
{
    "body": "Replying to [comment:9 kcrisman]:\n> SageTeX does not now work with Sage 7.2 betas, presumably due to #20344.\n\n\nyou mean, old SageTeX does not? This updated package does work, it has the  correct updated `import`s.",
    "created_at": "2016-04-21T10:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257364",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:9 kcrisman]:
> SageTeX does not now work with Sage 7.2 betas, presumably due to #20344.


you mean, old SageTeX does not? This updated package does work, it has the  correct updated `import`s.



---

archive/issue_comments_257365.json:
```json
{
    "body": "Could anyone who really uses SageTeX try the new package out? It installs OK, passing spkg-check too.",
    "created_at": "2016-04-21T10:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257365",
    "user": "https://github.com/dimpase"
}
```

Could anyone who really uses SageTeX try the new package out? It installs OK, passing spkg-check too.



---

archive/issue_comments_257366.json:
```json
{
    "body": "setting this to needs review, in hope that the broken link can be fixed without changing the package.",
    "created_at": "2016-04-21T10:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257366",
    "user": "https://github.com/dimpase"
}
```

setting this to needs review, in hope that the broken link can be fixed without changing the package.



---

archive/issue_comments_257367.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-21T10:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257367",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_257368.json:
```json
{
    "body": "> > SageTeX does not now work with Sage 7.2 betas, presumably due to #20344.\n\n> \n> you mean, old SageTeX does not? This updated package does work, it has the  correct updated `import`s.\n\n\nSorry, what I meant was that the current SageTeX doesn't work, so that this ticket (or at least the import part) becomes necessary, as you correctly identified.  I haven't tried this package other than handfixing that in local/lib/site-packages, nor can I after wasting quite a bit of time last night just getting it to work properly and uncover this ticket as the solution.",
    "created_at": "2016-04-21T12:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257368",
    "user": "https://github.com/kcrisman"
}
```

> > SageTeX does not now work with Sage 7.2 betas, presumably due to #20344.

> 
> you mean, old SageTeX does not? This updated package does work, it has the  correct updated `import`s.


Sorry, what I meant was that the current SageTeX doesn't work, so that this ticket (or at least the import part) becomes necessary, as you correctly identified.  I haven't tried this package other than handfixing that in local/lib/site-packages, nor can I after wasting quite a bit of time last night just getting it to work properly and uncover this ticket as the solution.



---

archive/issue_comments_257369.json:
```json
{
    "body": "Download link for the new SageTeX package in the ticket description had double `http://`.",
    "created_at": "2016-04-21T13:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257369",
    "user": "https://github.com/slel"
}
```

Download link for the new SageTeX package in the ticket description had double `http://`.



---

archive/issue_comments_257370.json:
```json
{
    "body": "Changing priority from critical to blocker.",
    "created_at": "2016-04-22T08:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257370",
    "user": "https://github.com/jdemeyer"
}
```

Changing priority from critical to blocker.



---

archive/issue_comments_257371.json:
```json
{
    "body": "In anybody here intending to review this ticket?",
    "created_at": "2016-04-22T08:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257371",
    "user": "https://github.com/jdemeyer"
}
```

In anybody here intending to review this ticket?



---

archive/issue_comments_257372.json:
```json
{
    "body": "there is some weirdness in example.tex: (see https://github.com/dandrake/sagetex/blob/master/example.tex#L184)\n\n```\n\\subsection{Plotting (combinatorial) graphs with TikZ}\n\\label{sec:plotting-graphs-with}\n```\nand much of its contents is repeated (cf. https://github.com/dandrake/sagetex/blob/master/example.tex#L256)\n\nHowever, it was like this since 2009, according to git, so it cannot be viewed as a regression now.",
    "created_at": "2016-04-22T08:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257372",
    "user": "https://github.com/dimpase"
}
```

there is some weirdness in example.tex: (see https://github.com/dandrake/sagetex/blob/master/example.tex#L184)

```
\subsection{Plotting (combinatorial) graphs with TikZ}
\label{sec:plotting-graphs-with}
```
and much of its contents is repeated (cf. https://github.com/dandrake/sagetex/blob/master/example.tex#L256)

However, it was like this since 2009, according to git, so it cannot be viewed as a regression now.



---

archive/issue_comments_257373.json:
```json
{
    "body": "hopefully Dan has time over the weekend for this...",
    "created_at": "2016-04-22T09:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257373",
    "user": "https://github.com/dimpase"
}
```

hopefully Dan has time over the weekend for this...



---

archive/issue_comments_257374.json:
```json
{
    "body": "This is why I hate the new workflow - just trying out this branch (with or without merging latest develop) yields a loooong time of compiling just to see whether this works.    Old patch + `sage -i` would have taken five minutes.  So it may not finish before I actually get a chance.  However, as I said, just changing that one import is the most important piece.  I don't know what else Dan changed in this upgrade.",
    "created_at": "2016-04-22T14:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257374",
    "user": "https://github.com/kcrisman"
}
```

This is why I hate the new workflow - just trying out this branch (with or without merging latest develop) yields a loooong time of compiling just to see whether this works.    Old patch + `sage -i` would have taken five minutes.  So it may not finish before I actually get a chance.  However, as I said, just changing that one import is the most important piece.  I don't know what else Dan changed in this upgrade.



---

archive/issue_comments_257375.json:
```json
{
    "body": "Pardon my ignorance, but why can't you just run `make`, do some other useful for an hour (if it's even that much) and then try out the finished Sage.",
    "created_at": "2016-04-22T15:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257375",
    "user": "https://github.com/jdemeyer"
}
```

Pardon my ignorance, but why can't you just run `make`, do some other useful for an hour (if it's even that much) and then try out the finished Sage.



---

archive/issue_comments_257376.json:
```json
{
    "body": "I can, but that assumes I have another open time slot then.  Which unfortunately these days I don't.  Still building documentation - so I doubt I'll be able to look at this today :( though maybe I'll get lucky.",
    "created_at": "2016-04-22T15:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257376",
    "user": "https://github.com/kcrisman"
}
```

I can, but that assumes I have another open time slot then.  Which unfortunately these days I don't.  Still building documentation - so I doubt I'll be able to look at this today :( though maybe I'll get lucky.



---

archive/issue_comments_257377.json:
```json
{
    "body": "Replying to [comment:23 kcrisman]:\n> This is why I hate the new workflow - just trying out this branch (with or without merging latest develop) yields a loooong time of compiling just to see whether this works.    Old patch + `sage -i` would have taken five minutes.  \n\n\nyou are probably getting a new Sage beta (5), just released along the way...\n\n> So it may not finish before I actually get a chance.  However, as I said, just changing that one import is the most important piece.  I don't know what else Dan changed in this upgrade.\n\n\nhttps://github.com/dandrake/sagetex/commits/master lists the commits, and it's more than that. One important change is the installation path change; this means that to test, you might need to remove the old one, that that it does not interfere.",
    "created_at": "2016-04-22T15:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257377",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:23 kcrisman]:
> This is why I hate the new workflow - just trying out this branch (with or without merging latest develop) yields a loooong time of compiling just to see whether this works.    Old patch + `sage -i` would have taken five minutes.  


you are probably getting a new Sage beta (5), just released along the way...

> So it may not finish before I actually get a chance.  However, as I said, just changing that one import is the most important piece.  I don't know what else Dan changed in this upgrade.


https://github.com/dandrake/sagetex/commits/master lists the commits, and it's more than that. One important change is the installation path change; this means that to test, you might need to remove the old one, that that it does not interfere.



---

archive/issue_comments_257378.json:
```json
{
    "body": "Replying to [comment:25 kcrisman]:\n> Still building documentation\n\n\nProtip: if you don't care about documentation, you can run `make build` instead.",
    "created_at": "2016-04-22T16:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257378",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:25 kcrisman]:
> Still building documentation


Protip: if you don't care about documentation, you can run `make build` instead.



---

archive/issue_comments_257379.json:
```json
{
    "body": "> > Still building documentation\n\n> \n> Protip: if you don't care about documentation, you can run `make build` instead.\n\n\nOh yeah, all those extra make targets that aren't documented (though maybe this one is) ;-)\n\nIt turned out I needed to show a student something using one of the files I run using SageTeX and it turned out okay.  But I didn't move anything.  Are you referring to https://github.com/dandrake/sagetex/commit/fddc5c1cb5760905c59d8fbf7a84df066c3e3436 which doesn't appear to be in 3.0?",
    "created_at": "2016-04-22T17:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257379",
    "user": "https://github.com/kcrisman"
}
```

> > Still building documentation

> 
> Protip: if you don't care about documentation, you can run `make build` instead.


Oh yeah, all those extra make targets that aren't documented (though maybe this one is) ;-)

It turned out I needed to show a student something using one of the files I run using SageTeX and it turned out okay.  But I didn't move anything.  Are you referring to https://github.com/dandrake/sagetex/commit/fddc5c1cb5760905c59d8fbf7a84df066c3e3436 which doesn't appear to be in 3.0?



---

archive/issue_comments_257380.json:
```json
{
    "body": "Replying to [comment:28 kcrisman]:\n> \n> > > Still building documentation\n\n> > \n> > Protip: if you don't care about documentation, you can run `make build` instead.\n\n> \n> Oh yeah, all those extra make targets that aren't documented (though maybe this one is) ;-)\n> \n> It turned out I needed to show a student something using one of the files I run using SageTeX and it turned out okay.  But I didn't move anything.  Are you referring to https://github.com/dandrake/sagetex/commit/fddc5c1cb5760905c59d8fbf7a84df066c3e3436 which doesn't appear to be in 3.0?\n\n\nThe new package will install in SAGE_ROOT/local/share/texmf/tex/latex/sagetex/\nIf you haven't got this, you have not installed the new package...\n\nAfter I installed it on my laptop, it got shadowed, TeX path-wise, by the old version in texmf/tex/generic, and I had to remove it by hand.",
    "created_at": "2016-04-22T17:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257380",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:28 kcrisman]:
> 
> > > Still building documentation

> > 
> > Protip: if you don't care about documentation, you can run `make build` instead.

> 
> Oh yeah, all those extra make targets that aren't documented (though maybe this one is) ;-)
> 
> It turned out I needed to show a student something using one of the files I run using SageTeX and it turned out okay.  But I didn't move anything.  Are you referring to https://github.com/dandrake/sagetex/commit/fddc5c1cb5760905c59d8fbf7a84df066c3e3436 which doesn't appear to be in 3.0?


The new package will install in SAGE_ROOT/local/share/texmf/tex/latex/sagetex/
If you haven't got this, you have not installed the new package...

After I installed it on my laptop, it got shadowed, TeX path-wise, by the old version in texmf/tex/generic, and I had to remove it by hand.



---

archive/issue_comments_257381.json:
```json
{
    "body": "> The new package will install in SAGE_ROOT/local/share/texmf/tex/latex/sagetex/\n> If you haven't got this, you have not installed the new package...\n> \n> After I installed it on my laptop, it got shadowed, TeX path-wise, by the old version in texmf/tex/generic, and I had to remove it by hand.\n> \n> \n\n\nI still have both.  I'll try to find some time over the weekend, as it should be pretty easy to just nuke the latter folder (that should be okay, right? how would one check which version is being used? I didn't see any messages in my LaTeX log).",
    "created_at": "2016-04-22T17:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257381",
    "user": "https://github.com/kcrisman"
}
```

> The new package will install in SAGE_ROOT/local/share/texmf/tex/latex/sagetex/
> If you haven't got this, you have not installed the new package...
> 
> After I installed it on my laptop, it got shadowed, TeX path-wise, by the old version in texmf/tex/generic, and I had to remove it by hand.
> 
> 


I still have both.  I'll try to find some time over the weekend, as it should be pretty easy to just nuke the latter folder (that should be okay, right? how would one check which version is being used? I didn't see any messages in my LaTeX log).



---

archive/issue_comments_257382.json:
```json
{
    "body": "the new path can be seen here: https://github.com/dandrake/sagetex/blob/master/setup.py#L13\n\nI tried the following - take the example.tex, put it somewhere outside the Sage tree, and run it through latex/sage/latex.\nAnd I was getting Sagetex version mismatch until I removed the old directory SAGE_ROOT/local/share/texmf/tex/generic/\n\nThe example.log will show you which sagetex version is being loaded.",
    "created_at": "2016-04-22T18:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257382",
    "user": "https://github.com/dimpase"
}
```

the new path can be seen here: https://github.com/dandrake/sagetex/blob/master/setup.py#L13

I tried the following - take the example.tex, put it somewhere outside the Sage tree, and run it through latex/sage/latex.
And I was getting Sagetex version mismatch until I removed the old directory SAGE_ROOT/local/share/texmf/tex/generic/

The example.log will show you which sagetex version is being loaded.



---

archive/issue_comments_257383.json:
```json
{
    "body": "Okay, finally back to this.  I didn't get the mismatch but I did get #18969.  In fact, I seem to still get that problem no matter what I do.  Likely because of this:\n\n```\n(/Users/.../Library/texmf/tex/generic/sagetex/sagetex.sty\nPackage: sagetex 2012/01/16 v2.3.3-69dcb0eb93de embedding Sage into LaTeX docum\nents\n```\nI had to do a lot of work to completely remove that from my system, I'm not sure why (maybe having several terminals open at once messed something up, though I've never had that happen before).\n\nThen I finally get the version mismatch, but now the opposite one you get, I think, which is that I am finally generating using the right SageTeX but not the right Sage.\n\n```\nsagetex.VersionError: versions of .sty and .py files do not match.\nexample.sagetex.sage was generated by sagetex.sty version \"2015/08/26 v3.0-92d9f7a\", but\nis being processed by sagetex.py version \"2012/01/16 v2.3.3-69dcb0eb93de\".\nPlease make sure that TeX is using the sagetex.sty\nfrom your current version of Sage; see\nhttp://www.sagemath.org/doc/installation/sagetex.html.\n```\nBy the way, this message you referring to being outdated is fixed in upstream master but not in 3.0, I believe - see comment:28.\n\nAnyway, it seems that I have\n\n```\n$ ls local/lib/python/site-packages/sage[tab]\nsage/                          sage_setup/\nsage-7.0-py2.7.egg-info        sagenb-0.11.7-py2.7.egg/\nsage-7.1.beta1-py2.7.egg-info  sagetex-2.3.4-py2.7.egg-info\nsage-7.1.beta3-py2.7.egg-info  sagetex-3.0-py2.7.egg-info\nsage-7.1.beta6-py2.7.egg-info  sagetex.py\nsage-7.2.beta3-py2.7.egg-info  sagetex.pyc\nsage-7.2.beta4-py2.7.egg-info  \n```\nand I think that the extra sagetex.py maybe is the problem?  It certainly is the old one, I checked.  But moving this just caused Sage to say it couldn't import the module sagetex, so it must be in the right place!  And I've already `sage -f` a few times the correct sagetex, and make does nothing relevant here, apparently, though I tried that too afterwards.\n\nSo now I have a non-functioning SageTeX and I can't for the life of me figure out how to get the right file in that place.  And feel like I've wasted quite a bit of time I really didn't have because of comment:15 asking for help ... if someone has an idea on what I'm doing wrong, I may have time Tuesday, or just possibly Monday, sorry it can't be earlier.",
    "created_at": "2016-04-24T03:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257383",
    "user": "https://github.com/kcrisman"
}
```

Okay, finally back to this.  I didn't get the mismatch but I did get #18969.  In fact, I seem to still get that problem no matter what I do.  Likely because of this:

```
(/Users/.../Library/texmf/tex/generic/sagetex/sagetex.sty
Package: sagetex 2012/01/16 v2.3.3-69dcb0eb93de embedding Sage into LaTeX docum
ents
```
I had to do a lot of work to completely remove that from my system, I'm not sure why (maybe having several terminals open at once messed something up, though I've never had that happen before).

Then I finally get the version mismatch, but now the opposite one you get, I think, which is that I am finally generating using the right SageTeX but not the right Sage.

```
sagetex.VersionError: versions of .sty and .py files do not match.
example.sagetex.sage was generated by sagetex.sty version "2015/08/26 v3.0-92d9f7a", but
is being processed by sagetex.py version "2012/01/16 v2.3.3-69dcb0eb93de".
Please make sure that TeX is using the sagetex.sty
from your current version of Sage; see
http://www.sagemath.org/doc/installation/sagetex.html.
```
By the way, this message you referring to being outdated is fixed in upstream master but not in 3.0, I believe - see comment:28.

Anyway, it seems that I have

```
$ ls local/lib/python/site-packages/sage[tab]
sage/                          sage_setup/
sage-7.0-py2.7.egg-info        sagenb-0.11.7-py2.7.egg/
sage-7.1.beta1-py2.7.egg-info  sagetex-2.3.4-py2.7.egg-info
sage-7.1.beta3-py2.7.egg-info  sagetex-3.0-py2.7.egg-info
sage-7.1.beta6-py2.7.egg-info  sagetex.py
sage-7.2.beta3-py2.7.egg-info  sagetex.pyc
sage-7.2.beta4-py2.7.egg-info  
```
and I think that the extra sagetex.py maybe is the problem?  It certainly is the old one, I checked.  But moving this just caused Sage to say it couldn't import the module sagetex, so it must be in the right place!  And I've already `sage -f` a few times the correct sagetex, and make does nothing relevant here, apparently, though I tried that too afterwards.

So now I have a non-functioning SageTeX and I can't for the life of me figure out how to get the right file in that place.  And feel like I've wasted quite a bit of time I really didn't have because of comment:15 asking for help ... if someone has an idea on what I'm doing wrong, I may have time Tuesday, or just possibly Monday, sorry it can't be earlier.



---

archive/issue_comments_257384.json:
```json
{
    "body": "Oh, this is all quite nasty. There are .py files installed in SAGE_ROOT/local/share/tex/, and there is no telling whether this is causing the trouble, too. And as various paths in SAGE_ROOT/local got renamed and shuffled around since the previous version of sagetex was released, this is quite messy to install over an old installation.\n\nAnd reinstalling the old sagetex once the new one was once installed is no fun at all, either.\n\nI wonder whether spkg-install should take care of wiping out the old install?",
    "created_at": "2016-04-24T08:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257384",
    "user": "https://github.com/dimpase"
}
```

Oh, this is all quite nasty. There are .py files installed in SAGE_ROOT/local/share/tex/, and there is no telling whether this is causing the trouble, too. And as various paths in SAGE_ROOT/local got renamed and shuffled around since the previous version of sagetex was released, this is quite messy to install over an old installation.

And reinstalling the old sagetex once the new one was once installed is no fun at all, either.

I wonder whether spkg-install should take care of wiping out the old install?



---

archive/issue_comments_257385.json:
```json
{
    "body": "Replying to [comment:33 dimpase]:\n> I wonder whether spkg-install should take care of wiping out the old install?\n\n\nYes. That would be a simple and effective solution.",
    "created_at": "2016-04-24T08:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257385",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:33 dimpase]:
> I wonder whether spkg-install should take care of wiping out the old install?


Yes. That would be a simple and effective solution.



---

archive/issue_comments_257386.json:
```json
{
    "body": "I also wonder whether sagetex should become a part of https://github.com/sagemath/, so that it can be updated in a speedy way.",
    "created_at": "2016-04-24T09:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257386",
    "user": "https://github.com/dimpase"
}
```

I also wonder whether sagetex should become a part of https://github.com/sagemath/, so that it can be updated in a speedy way.



---

archive/issue_comments_257387.json:
```json
{
    "body": "Replying to [comment:32 kcrisman]:\n\n> is being processed by sagetex.py version \"2012/01/16 v2.3.3-69dcb0eb93de\".\n\nthis is old version, an up to date version of Sage should have v.2.3.4.\n\n\n> Anyway, it seems that I have\n> \n> ```\n> $ ls local/lib/python/site-packages/sage[tab]\n> sage/                          sage_setup/\n> sage-7.0-py2.7.egg-info        sagenb-0.11.7-py2.7.egg/\n> sage-7.1.beta1-py2.7.egg-info  sagetex-2.3.4-py2.7.egg-info\n> sage-7.1.beta3-py2.7.egg-info  sagetex-3.0-py2.7.egg-info\n> sage-7.1.beta6-py2.7.egg-info  sagetex.py\n> sage-7.2.beta3-py2.7.egg-info  sagetex.pyc\n> sage-7.2.beta4-py2.7.egg-info  \n> ```\n> and I think that the extra sagetex.py maybe is the problem?  \n\n\nit's not \"extra\", it's the right one; however, it must be the same as in `local/lib/python2.7/site-packages/sage`. This is because `local/lib/python` is a symbolic link to `local/lib/python2.7`.\n(or at least it should be - if it is not then your installation must be seriously\nbroken, and `make distclean` is the only way out, IMHO...)\n\nYou can see what `sage -f sagetex` is doing by inspecting `logs/pkgs/sagetex-*`.\nFor me, I see the following lines there:\n\n```\ncopying build/lib/sagetex.py -> <mysageroot>/local/lib/python2.7/site-packages\nbyte-compiling <mysageroot>/local/lib/python2.7/site-packages/sagetex.py to sagetex.pyc\n```",
    "created_at": "2016-04-24T18:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257387",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:32 kcrisman]:

> is being processed by sagetex.py version "2012/01/16 v2.3.3-69dcb0eb93de".

this is old version, an up to date version of Sage should have v.2.3.4.


> Anyway, it seems that I have
> 
> ```
> $ ls local/lib/python/site-packages/sage[tab]
> sage/                          sage_setup/
> sage-7.0-py2.7.egg-info        sagenb-0.11.7-py2.7.egg/
> sage-7.1.beta1-py2.7.egg-info  sagetex-2.3.4-py2.7.egg-info
> sage-7.1.beta3-py2.7.egg-info  sagetex-3.0-py2.7.egg-info
> sage-7.1.beta6-py2.7.egg-info  sagetex.py
> sage-7.2.beta3-py2.7.egg-info  sagetex.pyc
> sage-7.2.beta4-py2.7.egg-info  
> ```
> and I think that the extra sagetex.py maybe is the problem?  


it's not "extra", it's the right one; however, it must be the same as in `local/lib/python2.7/site-packages/sage`. This is because `local/lib/python` is a symbolic link to `local/lib/python2.7`.
(or at least it should be - if it is not then your installation must be seriously
broken, and `make distclean` is the only way out, IMHO...)

You can see what `sage -f sagetex` is doing by inspecting `logs/pkgs/sagetex-*`.
For me, I see the following lines there:

```
copying build/lib/sagetex.py -> <mysageroot>/local/lib/python2.7/site-packages
byte-compiling <mysageroot>/local/lib/python2.7/site-packages/sagetex.py to sagetex.pyc
```



---

archive/issue_comments_257388.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-24T20:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_257389.json:
```json
{
    "body": "OK, please review the last commit (which works for me, naturally). If it's OK I think it can be set to positive review.",
    "created_at": "2016-04-24T20:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257389",
    "user": "https://github.com/dimpase"
}
```

OK, please review the last commit (which works for me, naturally). If it's OK I think it can be set to positive review.



---

archive/issue_comments_257390.json:
```json
{
    "body": "> \n> > is being processed by sagetex.py version \"2012/01/16 v2.3.3-69dcb0eb93de\".\n\n> this is old version, an up to date version of Sage should have v.2.3.4.\n> \n\n\nThen I am *really* confused.\n> it's not \"extra\", it's the right one; however, it must be the same as in `local/lib/python2.7/site-packages/sage`. This is because `local/lib/python` is a symbolic link to `local/lib/python2.7`.\n> (or at least it should be - if it is not then your installation must be seriously\n> broken, and `make distclean` is the only way out, IMHO...)\n\n\nYes yes, I just was too lazy to type the 2.7 when tab-completing.   However,\n\n```\n__version__ = \"\"\"\n  [2012/01/16 v2.3.3-69dcb0eb93de embedding Sage into LaTeX documents]\n\"\"\".strip()\n```\nso indeed I still have 2.3.3 in there and not 2.3.4, which I don't understand.\n\n> \n> You can see what `sage -f sagetex` is doing by inspecting `logs/pkgs/sagetex-*`.\n> For me, I see the following lines there:\n> \n> ```\n> copying build/lib/sagetex.py -> <mysageroot>/local/lib/python2.7/site-packages\n> byte-compiling <mysageroot>/local/lib/python2.7/site-packages/sagetex.py to sagetex.pyc\n> ```\n> \n\n\nNo!  Unfortunately not.\n\n```\nFound local metadata for sagetex-3.0\nUsing cached file /Users/.../sage/upstream/sagetex-3.0.tar.gz\nsagetex-3.0\n====================================================\nSetting up build directory for sagetex-3.0\nFinished set up\n****************************************************\nHost system:\nDarwin gc04855.home 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nCOLLECT_GCC=/Users/.../sage/local/bin/gcc\nCOLLECT_LTO_WRAPPER=/Users/.../sage/local/libexec/gcc/x86_64-apple-darwin11.4.2/4.9.3/lto-wrapper\nTarget: x86_64-apple-darwin11.4.2\nConfigured with: ../src/configure --prefix=/Users/.../sage/local --with-local-prefix=/Users/.../sage/local --wit$\nThread model: posix\ngcc version 4.9.3 (GCC)\n****************************************************\nrunning install\nrunning build\nrunning build_py\ncreating build\ncreating build/lib\ncopying sagetex.py -> build/lib\nrunning install_lib\nrunning install_data\nrunning install_egg_info\nRemoving /Users/.../sage/local/lib/python2.7/site-packages/sagetex-3.0-py2.7.egg-info\nWriting /Users/.../sage/local/lib/python2.7/site-packages/sagetex-3.0-py2.7.egg-info\n```\nSo as you can see, for some reason it's not copying anything into `SAGE_ROOT/local/lib/python2.7/site-packages.  Huh.  Any ideas?  I don't want to waste time trying stuff if you have a better idea - I don't think that your latest commit would do anything related to this, though, it would only clear out old stuff.",
    "created_at": "2016-04-25T14:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257390",
    "user": "https://github.com/kcrisman"
}
```

> 
> > is being processed by sagetex.py version "2012/01/16 v2.3.3-69dcb0eb93de".

> this is old version, an up to date version of Sage should have v.2.3.4.
> 


Then I am *really* confused.
> it's not "extra", it's the right one; however, it must be the same as in `local/lib/python2.7/site-packages/sage`. This is because `local/lib/python` is a symbolic link to `local/lib/python2.7`.
> (or at least it should be - if it is not then your installation must be seriously
> broken, and `make distclean` is the only way out, IMHO...)


Yes yes, I just was too lazy to type the 2.7 when tab-completing.   However,

```
__version__ = """
  [2012/01/16 v2.3.3-69dcb0eb93de embedding Sage into LaTeX documents]
""".strip()
```
so indeed I still have 2.3.3 in there and not 2.3.4, which I don't understand.

> 
> You can see what `sage -f sagetex` is doing by inspecting `logs/pkgs/sagetex-*`.
> For me, I see the following lines there:
> 
> ```
> copying build/lib/sagetex.py -> <mysageroot>/local/lib/python2.7/site-packages
> byte-compiling <mysageroot>/local/lib/python2.7/site-packages/sagetex.py to sagetex.pyc
> ```
> 


No!  Unfortunately not.

```
Found local metadata for sagetex-3.0
Using cached file /Users/.../sage/upstream/sagetex-3.0.tar.gz
sagetex-3.0
====================================================
Setting up build directory for sagetex-3.0
Finished set up
****************************************************
Host system:
Darwin gc04855.home 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
COLLECT_GCC=/Users/.../sage/local/bin/gcc
COLLECT_LTO_WRAPPER=/Users/.../sage/local/libexec/gcc/x86_64-apple-darwin11.4.2/4.9.3/lto-wrapper
Target: x86_64-apple-darwin11.4.2
Configured with: ../src/configure --prefix=/Users/.../sage/local --with-local-prefix=/Users/.../sage/local --wit$
Thread model: posix
gcc version 4.9.3 (GCC)
****************************************************
running install
running build
running build_py
creating build
creating build/lib
copying sagetex.py -> build/lib
running install_lib
running install_data
running install_egg_info
Removing /Users/.../sage/local/lib/python2.7/site-packages/sagetex-3.0-py2.7.egg-info
Writing /Users/.../sage/local/lib/python2.7/site-packages/sagetex-3.0-py2.7.egg-info
```
So as you can see, for some reason it's not copying anything into `SAGE_ROOT/local/lib/python2.7/site-packages.  Huh.  Any ideas?  I don't want to waste time trying stuff if you have a better idea - I don't think that your latest commit would do anything related to this, though, it would only clear out old stuff.



---

archive/issue_comments_257391.json:
```json
{
    "body": "I'll try reproducing this on an OSX system. Can you say how you installed this instance of Sage in the 1st place?\n\nThe fact that you still have v2.3.3 probably means that already update to v2.3.4 silently failed for you.",
    "created_at": "2016-04-25T15:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257391",
    "user": "https://github.com/dimpase"
}
```

I'll try reproducing this on an OSX system. Can you say how you installed this instance of Sage in the 1st place?

The fact that you still have v2.3.3 probably means that already update to v2.3.4 silently failed for you.



---

archive/issue_comments_257392.json:
```json
{
    "body": "> I'll try reproducing this on an OSX system. Can you say how you installed this instance of Sage in the 1st place?\n\nThat's a good question.  Maybe git clone?  Or tarball?  My `upstream/` goes back pretty far, e.g. to pynac-0.3.0.tar.bz2.  Note above though it only has the site-packages for `sage-xyz` from 7.0 on, which makes sense because I think the build system changed then and so maybe I had to do `make distclean` at that point.\n\nTomorrow I can try to build a previous version (say, 7.1) from scratch and then try this branch and hopefully it will work okay.\n\n> The fact that you still have v2.3.3 probably means that already update to v2.3.4 silently failed for you.\n\n\nI agree.  But since I probably never installed the 'right' new style file it didn't cause trouble before.",
    "created_at": "2016-04-25T17:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257392",
    "user": "https://github.com/kcrisman"
}
```

> I'll try reproducing this on an OSX system. Can you say how you installed this instance of Sage in the 1st place?

That's a good question.  Maybe git clone?  Or tarball?  My `upstream/` goes back pretty far, e.g. to pynac-0.3.0.tar.bz2.  Note above though it only has the site-packages for `sage-xyz` from 7.0 on, which makes sense because I think the build system changed then and so maybe I had to do `make distclean` at that point.

Tomorrow I can try to build a previous version (say, 7.1) from scratch and then try this branch and hopefully it will work okay.

> The fact that you still have v2.3.3 probably means that already update to v2.3.4 silently failed for you.


I agree.  But since I probably never installed the 'right' new style file it didn't cause trouble before.



---

archive/issue_comments_257393.json:
```json
{
    "body": "Replying to [comment:41 kcrisman]:\n> > I'll try reproducing this on an OSX system. Can you say how you installed this instance of Sage in the 1st place?\n\n> That's a good question.  Maybe git clone?  Or tarball?  My `upstream/` goes back pretty far, e.g. to pynac-0.3.0.tar.bz2.  Note above though it only has the site-packages for `sage-xyz` from 7.0 on, which makes sense because I think the build system changed then and so maybe I had to do `make distclean` at that point.\n\nI just tried on OSX and latest beta, and installation works. This means that your install is broken, and needs another `make distclean`...",
    "created_at": "2016-04-25T20:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257393",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:41 kcrisman]:
> > I'll try reproducing this on an OSX system. Can you say how you installed this instance of Sage in the 1st place?

> That's a good question.  Maybe git clone?  Or tarball?  My `upstream/` goes back pretty far, e.g. to pynac-0.3.0.tar.bz2.  Note above though it only has the site-packages for `sage-xyz` from 7.0 on, which makes sense because I think the build system changed then and so maybe I had to do `make distclean` at that point.

I just tried on OSX and latest beta, and installation works. This means that your install is broken, and needs another `make distclean`...



---

archive/issue_comments_257394.json:
```json
{
    "body": "> \n> I just tried on OSX and latest beta, and installation works. This means that your install is broken, and needs another `make distclean`...\n\n\nHuh, I have no idea how *that* happened!  Everything else is working normally.\n\nIf you are able to give positive review to this on your own, please do so.  I'll see if I can get this computer to start over overnight - but why would it not install this properly?  This isn't really a \"Sage\" thing but a python setup.py thing, right?",
    "created_at": "2016-04-26T01:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257394",
    "user": "https://github.com/kcrisman"
}
```

> 
> I just tried on OSX and latest beta, and installation works. This means that your install is broken, and needs another `make distclean`...


Huh, I have no idea how *that* happened!  Everything else is working normally.

If you are able to give positive review to this on your own, please do so.  I'll see if I can get this computer to start over overnight - but why would it not install this properly?  This isn't really a "Sage" thing but a python setup.py thing, right?



---

archive/issue_comments_257395.json:
```json
{
    "body": "as bots don't like this patch, another human tester would be great to have...",
    "created_at": "2016-04-26T06:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257395",
    "user": "https://github.com/dimpase"
}
```

as bots don't like this patch, another human tester would be great to have...



---

archive/issue_comments_257396.json:
```json
{
    "body": "`make distclean && make build` (when already on this branch) seems to work properly now with my big test example as well as `example.tex`, though I get\n\n```\nLaTeX Warning: There were multiply-defined labels.\n\n )\n(see the transcript file for additional information)pdfTeX warning (dest): name\n{lstnumber.-9.12} has been referenced but does not exist, replaced by a fixed o\nne\n```\nwith `example.tex` even after using `pdflatex` as instructed by the warning messages.",
    "created_at": "2016-04-26T11:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257396",
    "user": "https://github.com/kcrisman"
}
```

`make distclean && make build` (when already on this branch) seems to work properly now with my big test example as well as `example.tex`, though I get

```
LaTeX Warning: There were multiply-defined labels.

 )
(see the transcript file for additional information)pdfTeX warning (dest): name
{lstnumber.-9.12} has been referenced but does not exist, replaced by a fixed o
ne
```
with `example.tex` even after using `pdflatex` as instructed by the warning messages.



---

archive/issue_comments_257397.json:
```json
{
    "body": "these multiply-defined labels were there for ages, and have to be fixed upstream. I think it's good to go as it is, as there is no regression.",
    "created_at": "2016-04-26T13:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257397",
    "user": "https://github.com/dimpase"
}
```

these multiply-defined labels were there for ages, and have to be fixed upstream. I think it's good to go as it is, as there is no regression.



---

archive/issue_comments_257398.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-26T13:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257398",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_257399.json:
```json
{
    "body": "see https://github.com/dandrake/sagetex/issues/3",
    "created_at": "2016-04-26T13:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257399",
    "user": "https://github.com/dimpase"
}
```

see https://github.com/dandrake/sagetex/issues/3



---

archive/issue_comments_257400.json:
```json
{
    "body": "Great, I didn't realize that was old, as I don't use `example.tex`.",
    "created_at": "2016-04-26T14:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257400",
    "user": "https://github.com/kcrisman"
}
```

Great, I didn't realize that was old, as I don't use `example.tex`.



---

archive/issue_comments_257401.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-27T07:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18835#issuecomment-257401",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053038.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-27T07:09:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18835",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18835#event-53038"
}
```
