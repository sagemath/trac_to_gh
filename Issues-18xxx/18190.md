# Issue 18190: bindings to Latte

archive/issues_017953.json:
```json
{
    "assignees": [],
    "body": "Sage lacks a lot of feature that are in Latte:\n- fast integer point counting in polyhedron\n- computation of Ehrart polynomial\njust to mention some of them.\n\nNote that Latte has no documentation for its library (only the various command line does have). So it might be nice to ask whether it is stable accross versions to upstream.\n\nSee also:\n- #18211: Computing Ehrhart polynomials with LattE (command line interface)\n\nDepends on #18195\n\nCC:  @dimpase @novoselt @vbraun @nthiery @tscrim @haraldschilly @fchapoton @nathanncohen @sagetrac-bedutra\n\nComponent: **interfaces: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18190_\n\n",
    "created_at": "2015-04-14T13:34:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "bindings to Latte",
    "type": "issue",
    "updated_at": "2022-12-29T01:31:15Z",
    "url": "https://github.com/sagemath/sage/issues/18190",
    "user": "https://github.com/videlec"
}
```
Sage lacks a lot of feature that are in Latte:
- fast integer point counting in polyhedron
- computation of Ehrart polynomial
just to mention some of them.

Note that Latte has no documentation for its library (only the various command line does have). So it might be nice to ask whether it is stable accross versions to upstream.

See also:
- #18211: Computing Ehrhart polynomials with LattE (command line interface)

Depends on #18195

CC:  @dimpase @novoselt @vbraun @nthiery @tscrim @haraldschilly @fchapoton @nathanncohen @sagetrac-bedutra

Component: **interfaces: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/18190_





---

archive/issue_events_256342.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-14T13:34:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18190#event-256342"
}
```



---

archive/issue_events_256343.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-14T13:34:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18190#event-256343"
}
```



---

archive/issue_events_256344.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-14T13:34:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18190#event-256344"
}
```



---

archive/issue_events_256345.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-14T13:34:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18190#event-256345"
}
```



---

archive/issue_comments_248841.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Sage lacks a lot of feature that are in Latte:\n-- integer point counting in polyhedron\n+- fast integer point counting in polyhedron\n - computation of Ehrart polynomial\n just to mention some of them.\n \n``````\n",
    "created_at": "2015-04-14T14:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248841",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Sage lacks a lot of feature that are in Latte:
-- integer point counting in polyhedron
+- fast integer point counting in polyhedron
 - computation of Ehrart polynomial
 just to mention some of them.
 
``````




---

archive/issue_comments_248842.json:
```json
{
    "body": "Dependencies: **#18190**",
    "created_at": "2015-04-14T20:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248842",
    "user": "https://github.com/videlec"
}
```

Dependencies: **#18190**



---

archive/issue_comments_248843.json:
```json
{
    "body": "Changed dependencies from **#18190** to **#18195**",
    "created_at": "2015-04-14T20:54:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248843",
    "user": "https://github.com/videlec"
}
```

Changed dependencies from **#18190** to **#18195**



---

archive/issue_comments_248844.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nWhat is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?",
    "created_at": "2015-04-14T21:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248844",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?



---

archive/issue_comments_248845.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jdemeyer](#comment%3A4):\n> What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?\n\nBy constraints. Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.\n\nBut the aim of the ticket is to implement a more direct interface (Matthias Koeppe developing latte is in the loop). Though there is also some work needed from latte side.\n\nVincent",
    "created_at": "2015-04-14T21:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248845",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jdemeyer](#comment%3A4):
> What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?

By constraints. Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.

But the aim of the ticket is to implement a more direct interface (Matthias Koeppe developing latte is in the loop). Though there is also some work needed from latte side.

Vincent



---

archive/issue_comments_248846.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@videlec](#comment%3A5):\n> Replying to [@jdemeyer](#comment%3A4):\n> > What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?\n\n> \n> By constraints.\n\n...only?\n\nIt is required that the vertices are lattice points?\n\nI ask because `Polyhedron()` in Sage always computes the vertices. I know from #17920 that this step sometimes takes more time than enumerating the points. So if you really want efficiency, you would want a way to define a `Polyhedron` *without* computing its vertices.",
    "created_at": "2015-04-14T21:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248846",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@videlec](#comment%3A5):
> Replying to [@jdemeyer](#comment%3A4):
> > What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?

> 
> By constraints.

...only?

It is required that the vertices are lattice points?

I ask because `Polyhedron()` in Sage always computes the vertices. I know from #17920 that this step sometimes takes more time than enumerating the points. So if you really want efficiency, you would want a way to define a `Polyhedron` *without* computing its vertices.



---

archive/issue_comments_248847.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nLMGIFY: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/manual_v1.7.2.pdf",
    "created_at": "2015-04-14T21:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248847",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

LMGIFY: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/manual_v1.7.2.pdf



---

archive/issue_comments_248848.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nBarvinok's method always reduces to counting points in lattice simplices afaik. So you either triangulate (=more than just knowing vertices) or write it as formal addition & subtraction of simplices (less simplices but more complicated to do)",
    "created_at": "2015-04-14T23:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248848",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

Barvinok's method always reduces to counting points in lattice simplices afaik. So you either triangulate (=more than just knowing vertices) or write it as formal addition & subtraction of simplices (less simplices but more complicated to do)



---

archive/issue_comments_248849.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nLattE's input is either the vertices (V-rep) or the inequalities (H-rep). \nIt computes the other representation of the polyhedron (and makes other polyhedral computations) by calling either cddlib, or 4ti2.\n(Ideally, there should be a way to feed both representations into LattE to avoid recomputation, but this is not implemented.)\n\n@jdemeyer: The vertices can be rational.",
    "created_at": "2015-04-14T23:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248849",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

LattE's input is either the vertices (V-rep) or the inequalities (H-rep). 
It computes the other representation of the polyhedron (and makes other polyhedral computations) by calling either cddlib, or 4ti2.
(Ideally, there should be a way to feed both representations into LattE to avoid recomputation, but this is not implemented.)

@jdemeyer: The vertices can be rational.



---

archive/issue_comments_248850.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@videlec](#comment%3A5):\n> Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.\n\nIn fact, when \"count\" is invoked with --cdd, then CDD file format is accepted. \n\nSo building a preliminary interface should indeed be very easy.",
    "created_at": "2015-04-15T00:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248850",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@videlec](#comment%3A5):
> Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.

In fact, when "count" is invoked with --cdd, then CDD file format is accepted. 

So building a preliminary interface should indeed be very easy.



---

archive/issue_comments_248851.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,6 @@\n just to mention some of them.\n \n Note that Latte has no documentation for its library (only the various command line does have). So it might be nice to ask whether it is stable accross versions to upstream.\n+\n+See also:\n+- #18211: Computing Ehrhart polynomials with LattE (command line interface)\n``````\n",
    "created_at": "2015-04-15T19:55:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18190#issuecomment-248851",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,6 @@
 just to mention some of them.
 
 Note that Latte has no documentation for its library (only the various command line does have). So it might be nice to ask whether it is stable accross versions to upstream.
+
+See also:
+- #18211: Computing Ehrhart polynomials with LattE (command line interface)
``````




---

archive/issue_events_256346.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-23T13:49:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18190#event-256346"
}
```



---

archive/issue_events_256347.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-23T13:49:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces%3A%20optional",
    "label_color": "0000ff",
    "label_name": "c: interfaces: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18190#event-256347"
}
```



---

archive/issue_events_256348.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:31:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18190",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18190#event-256348"
}
```
