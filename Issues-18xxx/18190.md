# Issue 18190: bindings to Latte

archive/issues_017953.json:
```json
{
    "body": "Sage lacks a lot of feature that are in Latte:\n- fast integer point counting in polyhedron\n- computation of Ehrart polynomial\njust to mention some of them.\n\nNote that Latte has no documentation for its library (only the various command line does have). So it might be nice to ask whether it is stable accross versions to upstream.\n\nSee also:\n- #18211: Computing Ehrhart polynomials with LattE (command line interface)\n\nCC:  @dimpase @novoselt @vbraun @nthiery @tscrim @haraldschilly @fchapoton @nathanncohen bedutra\n\nDependencies: #18195\n\nIssue created by migration from https://trac.sagemath.org/ticket/18190\n\n",
    "created_at": "2015-04-14T13:34:16Z",
    "labels": [
        "component: interfaces: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "bindings to Latte",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18190",
    "user": "https://github.com/videlec"
}
```
Sage lacks a lot of feature that are in Latte:
- fast integer point counting in polyhedron
- computation of Ehrart polynomial
just to mention some of them.

Note that Latte has no documentation for its library (only the various command line does have). So it might be nice to ask whether it is stable accross versions to upstream.

See also:
- #18211: Computing Ehrhart polynomials with LattE (command line interface)

CC:  @dimpase @novoselt @vbraun @nthiery @tscrim @haraldschilly @fchapoton @nathanncohen bedutra

Dependencies: #18195

Issue created by migration from https://trac.sagemath.org/ticket/18190





---

archive/issue_comments_240966.json:
```json
{
    "body": "<a id='comment:4'></a>What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?",
    "created_at": "2015-04-14T21:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240966",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?



---

archive/issue_comments_240967.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 jdemeyer]:\n> What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?\n\n\nBy constraints. Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.\n\nBut the aim of the ticket is to implement a more direct interface (Matthias Koeppe developing latte is in the loop). Though there is also some work needed from latte side.\n\nVincent",
    "created_at": "2015-04-14T21:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240967",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>Replying to [comment:4 jdemeyer]:
> What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?


By constraints. Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.

But the aim of the ticket is to implement a more direct interface (Matthias Koeppe developing latte is in the loop). Though there is also some work needed from latte side.

Vincent



---

archive/issue_comments_240968.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 vdelecroix]:\n> Replying to [comment:4 jdemeyer]:\n> > What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?\n\n> \n> By constraints.\n\n...only?\n\nIt is required that the vertices are lattice points?\n\nI ask because `Polyhedron()` in Sage always computes the vertices. I know from #17920 that this step sometimes takes more time than enumerating the points. So if you really want efficiency, you would want a way to define a `Polyhedron` *without* computing its vertices.",
    "created_at": "2015-04-14T21:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240968",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>Replying to [comment:5 vdelecroix]:
> Replying to [comment:4 jdemeyer]:
> > What is the input for `latte`? I assume a polyhedron given by its *vertices* (V-representation) or does it also support a polyhedron given by constraints (H-representation)?

> 
> By constraints.

...only?

It is required that the vertices are lattice points?

I ask because `Polyhedron()` in Sage always computes the vertices. I know from #17920 that this step sometimes takes more time than enumerating the points. So if you really want efficiency, you would want a way to define a `Polyhedron` *without* computing its vertices.



---

archive/issue_comments_240969.json:
```json
{
    "body": "<a id='comment:7'></a>LMGIFY: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/manual_v1.7.2.pdf",
    "created_at": "2015-04-14T21:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240969",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>LMGIFY: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/manual_v1.7.2.pdf



---

archive/issue_comments_240970.json:
```json
{
    "body": "<a id='comment:8'></a>Barvinok's method always reduces to counting points in lattice simplices afaik. So you either triangulate (=more than just knowing vertices) or write it as formal addition & subtraction of simplices (less simplices but more complicated to do)",
    "created_at": "2015-04-14T23:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240970",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>Barvinok's method always reduces to counting points in lattice simplices afaik. So you either triangulate (=more than just knowing vertices) or write it as formal addition & subtraction of simplices (less simplices but more complicated to do)



---

archive/issue_comments_240971.json:
```json
{
    "body": "<a id='comment:9'></a>LattE's input is either the vertices (V-rep) or the inequalities (H-rep). \nIt computes the other representation of the polyhedron (and makes other polyhedral computations) by calling either cddlib, or 4ti2.\n(Ideally, there should be a way to feed both representations into LattE to avoid recomputation, but this is not implemented.)\n\n`@`jdemeyer: The vertices can be rational.",
    "created_at": "2015-04-14T23:25:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240971",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>LattE's input is either the vertices (V-rep) or the inequalities (H-rep). 
It computes the other representation of the polyhedron (and makes other polyhedral computations) by calling either cddlib, or 4ti2.
(Ideally, there should be a way to feed both representations into LattE to avoid recomputation, but this is not implemented.)

`@`jdemeyer: The vertices can be rational.



---

archive/issue_comments_240972.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:5 vdelecroix]:\n> Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.\n\n\nIn fact, when \"count\" is invoked with --cdd, then CDD file format is accepted. \n\nSo building a preliminary interface should indeed be very easy.",
    "created_at": "2015-04-15T00:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240972",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Replying to [comment:5 vdelecroix]:
> Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.


In fact, when "count" is invoked with --cdd, then CDD file format is accepted. 

So building a preliminary interface should indeed be very easy.



---

archive/issue_comments_240973.json:
```json
{
    "body": "Changing component from interfaces to interfaces: optional.",
    "created_at": "2015-06-23T13:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18190#issuecomment-240973",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from interfaces to interfaces: optional.
