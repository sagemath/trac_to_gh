# Issue 18078: CMake experimental package

archive/issues_017841.json:
```json
{
    "assignees": [],
    "body": "Sage experimental package for CMake\n\nCMake version 3.2.3\n\nSource can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz\n\nBranch/Commit: **[`cb96c05`](https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44)**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Isuru Fernando**\n\nComponent: **packages: experimental**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18078_\n\n",
    "closed_at": "2015-09-02T17:25:33Z",
    "created_at": "2015-03-29T07:11:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "CMake experimental package",
    "type": "issue",
    "updated_at": "2015-09-02T17:25:33Z",
    "url": "https://github.com/sagemath/sage/issues/18078",
    "user": "https://github.com/isuruf"
}
```
Sage experimental package for CMake

CMake version 3.2.3

Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz

Branch/Commit: **[`cb96c05`](https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44)**

Reviewer: **Fran√ßois Bissey**

Author: **Isuru Fernando**

Component: **packages: experimental**

_Issue created by migration from https://trac.sagemath.org/ticket/18078_





---

archive/issue_events_257130.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-03-29T07:11:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257130"
}
```



---

archive/issue_events_257131.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-03-29T07:11:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257131"
}
```



---

archive/issue_comments_246447.json:
```json
{
    "body": "Branch: **[u/isuruf/cmake_optional_package](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/cmake_optional_package)**",
    "created_at": "2015-03-29T07:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246447",
    "user": "https://github.com/isuruf"
}
```

Branch: **[u/isuruf/cmake_optional_package](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/cmake_optional_package)**



---

archive/issue_events_257132.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-03-29T07:22:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257132"
}
```



---

archive/issue_comments_246448.json:
```json
{
    "body": "Commit: **[`2f172e0`](https://github.com/sagemath/sagetrac-mirror/commit/2f172e0c13681493aaa7c8f4ab334dac55450571)**",
    "created_at": "2015-03-29T07:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246448",
    "user": "https://github.com/isuruf"
}
```

Commit: **[`2f172e0`](https://github.com/sagemath/sagetrac-mirror/commit/2f172e0c13681493aaa7c8f4ab334dac55450571)**



---

archive/issue_events_257133.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-03-29T07:22:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257133"
}
```



---

archive/issue_comments_246449.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+Sage optional package for CMake\n \n+CMake version 3.2.1\n+\n+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.1.tar.gz\n``````\n",
    "created_at": "2015-03-29T07:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246449",
    "user": "https://github.com/isuruf"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+Sage optional package for CMake
 
+CMake version 3.2.1
+
+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.1.tar.gz
``````




---

archive/issue_comments_246450.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f172e0c13681493aaa7c8f4ab334dac55450571\">2f172e0</a></td><td><code>Added CMake v3.2.1 optional package</code></td></tr></table>\n",
    "created_at": "2015-03-29T07:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246450",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f172e0c13681493aaa7c8f4ab334dac55450571">2f172e0</a></td><td><code>Added CMake v3.2.1 optional package</code></td></tr></table>




---

archive/issue_comments_246451.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nPlease word-wrap `SPKG.txt` to 72 characters per line.\n\nIf it's ready for review, don't forget to set this ticket to `needs_review`.",
    "created_at": "2015-03-29T07:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246451",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Please word-wrap `SPKG.txt` to 72 characters per line.

If it's ready for review, don't forget to set this ticket to `needs_review`.



---

archive/issue_comments_246452.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAnd don't forget to fill in your real name in the \"Author\" field.",
    "created_at": "2015-03-29T07:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246452",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

And don't forget to fill in your real name in the "Author" field.



---

archive/issue_comments_246453.json:
```json
{
    "body": "Changed commit from **[`2f172e0`](https://github.com/sagemath/sagetrac-mirror/commit/2f172e0c13681493aaa7c8f4ab334dac55450571)** to **[`2b9f83e`](https://github.com/sagemath/sagetrac-mirror/commit/2b9f83e5439bca4355cfce2e5e04cd8cfd13913c)**",
    "created_at": "2015-03-29T08:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246453",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f172e0`](https://github.com/sagemath/sagetrac-mirror/commit/2f172e0c13681493aaa7c8f4ab334dac55450571)** to **[`2b9f83e`](https://github.com/sagemath/sagetrac-mirror/commit/2b9f83e5439bca4355cfce2e5e04cd8cfd13913c)**



---

archive/issue_comments_246454.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b9f83e5439bca4355cfce2e5e04cd8cfd13913c\">2b9f83e</a></td><td><code>Word-wrap cmake/SPKG.txt</code></td></tr></table>\n",
    "created_at": "2015-03-29T08:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246454",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b9f83e5439bca4355cfce2e5e04cd8cfd13913c">2b9f83e</a></td><td><code>Word-wrap cmake/SPKG.txt</code></td></tr></table>




---

archive/issue_comments_246455.json:
```json
{
    "body": "Author: **Isuru Fernando**",
    "created_at": "2015-03-29T08:22:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246455",
    "user": "https://github.com/isuruf"
}
```

Author: **Isuru Fernando**



---

archive/issue_events_257134.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-03-29T08:22:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257134"
}
```



---

archive/issue_comments_246456.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe installation works on Linux, at least. How does one check it is not broken?",
    "created_at": "2015-05-02T07:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246456",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

The installation works on Linux, at least. How does one check it is not broken?



---

archive/issue_comments_246457.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n\n```\nWARNING: spkg-install is not executable, making it executable\n```",
    "created_at": "2015-05-02T10:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246457",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>


```
WARNING: spkg-install is not executable, making it executable
```



---

archive/issue_events_257135.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-02T10:24:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257135"
}
```



---

archive/issue_events_257136.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-02T10:24:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257136"
}
```



---

archive/issue_comments_246458.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@dimpase](#comment:7):\n> The installation works on Linux, at least. How does one check it is not broken?\n\n`cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.\n\nOne more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.",
    "created_at": "2015-05-02T10:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246458",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@dimpase](#comment:7):
> The installation works on Linux, at least. How does one check it is not broken?

`cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.

One more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.



---

archive/issue_comments_246459.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nDoesn't build on OSX 10.10.3 with the latest XCode:\n\n```\n 27%] Building CXX object Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o\n[ 27%] Building CXX object Utilities/cmjsoncpp/CMakeFiles/cmjsoncpp.dir/src/lib_json/json_writer.cpp.o\nIn file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/usr/include/dispatch/dispatch.h:50:0,\n                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFStream.h:15,\n                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFPropertyList.h:13,\n                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:55,\n                 from /usr/local/src/sage/sage/local/var/tmp/sage/build/cmake-3.2.1/src/Source/CPack/OSXScriptLauncher.cxx:17:\n/usr/local/src/sage/sage/local/include/dispatch/object.h:321:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\n/usr/local/src/sage/sage/local/include/dispatch/object.h:358:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\n/usr/local/src/sage/sage/local/include/dispatch/object.h:387:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\n/usr/local/src/sage/sage/local/include/dispatch/object.h:418:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\nmake[2]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o] Error 1\nmake[1]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nLinking CXX static library libcmjsoncpp.a\n[ 27%] Built target cmjsoncpp\nmake: *** [all] Error 2\nError building CMake.\n\nreal\t7m15.276s\nuser\t5m26.048s\nsys\t1m33.521s\n************************************************************************\nError installing package cmake-3.2.1\n************************************************************************\n...\n```\nI suspect that we don't need the fully blown OSX cmake (we don't need OSXScriptLauncher probably), perhaps some options need to be used while building on OSX...",
    "created_at": "2015-05-02T21:22:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246459",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

Doesn't build on OSX 10.10.3 with the latest XCode:

```
 27%] Building CXX object Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o
[ 27%] Building CXX object Utilities/cmjsoncpp/CMakeFiles/cmjsoncpp.dir/src/lib_json/json_writer.cpp.o
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/usr/include/dispatch/dispatch.h:50:0,
                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFStream.h:15,
                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFPropertyList.h:13,
                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:55,
                 from /usr/local/src/sage/sage/local/var/tmp/sage/build/cmake-3.2.1/src/Source/CPack/OSXScriptLauncher.cxx:17:
/usr/local/src/sage/sage/local/include/dispatch/object.h:321:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
/usr/local/src/sage/sage/local/include/dispatch/object.h:358:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
/usr/local/src/sage/sage/local/include/dispatch/object.h:387:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
/usr/local/src/sage/sage/local/include/dispatch/object.h:418:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
make[2]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o] Error 1
make[1]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
Linking CXX static library libcmjsoncpp.a
[ 27%] Built target cmjsoncpp
make: *** [all] Error 2
Error building CMake.

real	7m15.276s
user	5m26.048s
sys	1m33.521s
************************************************************************
Error installing package cmake-3.2.1
************************************************************************
...
```
I suspect that we don't need the fully blown OSX cmake (we don't need OSXScriptLauncher probably), perhaps some options need to be used while building on OSX...



---

archive/issue_comments_246460.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nMy experience with kitware stuff on OS X is they assume `clang` and most other stuff is in the too hard basket. I was helping someone get paraview on their OS X box and we had to give up using `gcc` starting 10.10.2. I will have a look if we can do something at booststrap time but I am not especially hopeful.",
    "created_at": "2015-05-02T21:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246460",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:11" align="right">comment:11</div>

My experience with kitware stuff on OS X is they assume `clang` and most other stuff is in the too hard basket. I was helping someone get paraview on their OS X box and we had to give up using `gcc` starting 10.10.2. I will have a look if we can do something at booststrap time but I am not especially hopeful.



---

archive/issue_comments_246461.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nCurrent error is while building internal version of `curl` which is of course available by default on OS X. But using the system curl just push the problem further away. Attentive people will notice that the problematic header is the one we copy and modify for gcc install on 10.10.\n\nI hate to do that, but my suggestion is for this to set `CC=clang CXX=clang++` on OS X.",
    "created_at": "2015-05-02T22:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246461",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

Current error is while building internal version of `curl` which is of course available by default on OS X. But using the system curl just push the problem further away. Attentive people will notice that the problematic header is the one we copy and modify for gcc install on 10.10.

I hate to do that, but my suggestion is for this to set `CC=clang CXX=clang++` on OS X.



---

archive/issue_comments_246462.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOK, it is worse than I thought. Not only do we get a `gcc` that will sometimes break, when `gcc` breaks so does `clang` because of that little header. I am wondering if we should remove that header once `gcc` is built. It looks like a lot of stuff that will want that header will break regardless. Thoughts?",
    "created_at": "2015-05-02T23:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246462",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

OK, it is worse than I thought. Not only do we get a `gcc` that will sometimes break, when `gcc` breaks so does `clang` because of that little header. I am wondering if we should remove that header once `gcc` is built. It looks like a lot of stuff that will want that header will break regardless. Thoughts?



---

archive/issue_comments_246463.json:
```json
{
    "body": "Changed commit from **[`2b9f83e`](https://github.com/sagemath/sagetrac-mirror/commit/2b9f83e5439bca4355cfce2e5e04cd8cfd13913c)** to **[`72a020d`](https://github.com/sagemath/sagetrac-mirror/commit/72a020d1f2628dd7fc7595b9cf0485a14d6fb426)**",
    "created_at": "2015-05-03T05:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246463",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b9f83e`](https://github.com/sagemath/sagetrac-mirror/commit/2b9f83e5439bca4355cfce2e5e04cd8cfd13913c)** to **[`72a020d`](https://github.com/sagemath/sagetrac-mirror/commit/72a020d1f2628dd7fc7595b9cf0485a14d6fb426)**



---

archive/issue_comments_246464.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72a020d1f2628dd7fc7595b9cf0485a14d6fb426\">72a020d</a></td><td><code>Make cmake/spkg-install executable</code></td></tr></table>\n",
    "created_at": "2015-05-03T05:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246464",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72a020d1f2628dd7fc7595b9cf0485a14d6fb426">72a020d</a></td><td><code>Make cmake/spkg-install executable</code></td></tr></table>




---

archive/issue_comments_246465.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jdemeyer](#comment:9):\n> Replying to [@dimpase](#comment:7):\n> > The installation works on Linux, at least. How does one check it is not broken?\n\n> \n> `cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.\n\n`cmake` has a test suite that can be run using `ctest`. I wrote a `spkg-check` and ran the tests on Linux. 3/382 tests fail, two of which is related to curl, and the other about a sleep command. I'm not sure whether these options will be required by packages in the future.\n23 - curl (Failed)\n178 - CTestTestUpload (Failed) \n218 - CTestTestStopTime (Failed)\n\n> \n> One more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.\n\nThanks. I will make this change.",
    "created_at": "2015-05-03T05:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246465",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jdemeyer](#comment:9):
> Replying to [@dimpase](#comment:7):
> > The installation works on Linux, at least. How does one check it is not broken?

> 
> `cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.

`cmake` has a test suite that can be run using `ctest`. I wrote a `spkg-check` and ran the tests on Linux. 3/382 tests fail, two of which is related to curl, and the other about a sleep command. I'm not sure whether these options will be required by packages in the future.
23 - curl (Failed)
178 - CTestTestUpload (Failed) 
218 - CTestTestStopTime (Failed)

> 
> One more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.

Thanks. I will make this change.



---

archive/issue_comments_246466.json:
```json
{
    "body": "Changed commit from **[`72a020d`](https://github.com/sagemath/sagetrac-mirror/commit/72a020d1f2628dd7fc7595b9cf0485a14d6fb426)** to **[`3aae9bf`](https://github.com/sagemath/sagetrac-mirror/commit/3aae9bf7905d0cb5ec63eaceef8ee9f590c87463)**",
    "created_at": "2015-05-03T05:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246466",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`72a020d`](https://github.com/sagemath/sagetrac-mirror/commit/72a020d1f2628dd7fc7595b9cf0485a14d6fb426)** to **[`3aae9bf`](https://github.com/sagemath/sagetrac-mirror/commit/3aae9bf7905d0cb5ec63eaceef8ee9f590c87463)**



---

archive/issue_comments_246467.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3aae9bf7905d0cb5ec63eaceef8ee9f590c87463\">3aae9bf</a></td><td><code>CMake : Merge make and make install steps into one</code></td></tr></table>\n",
    "created_at": "2015-05-03T05:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246467",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3aae9bf7905d0cb5ec63eaceef8ee9f590c87463">3aae9bf</a></td><td><code>CMake : Merge make and make install steps into one</code></td></tr></table>




---

archive/issue_comments_246468.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAt the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.",
    "created_at": "2015-05-03T07:21:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246468",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.



---

archive/issue_comments_246469.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kiwifb](#comment:17):\n> At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.\n\nI won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.\n\ncmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.",
    "created_at": "2015-05-03T07:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246469",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kiwifb](#comment:17):
> At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.

I won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.

cmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.



---

archive/issue_comments_246470.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@dimpase](#comment:18):\n> Replying to [@kiwifb](#comment:17):\n> > At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.\n\n> \n> I won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.\n> \n> cmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.\n\nI don't think there is a difficulty per see in using `cmake` on OS X. The trouble building `cmake` and in fact `gcc` and in turn a bunch of other stuff is solely the fault of apple pushing its own stuff and not caring. `gcc` is currently slightly broken on OS X and unless the `gcc` team gets something together it will just get worse. Not being able to build `cmake` is just one of the many symptoms of `gcc` cracking while apple is pushing hard.",
    "created_at": "2015-05-03T08:00:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246470",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@dimpase](#comment:18):
> Replying to [@kiwifb](#comment:17):
> > At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.

> 
> I won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.
> 
> cmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.

I don't think there is a difficulty per see in using `cmake` on OS X. The trouble building `cmake` and in fact `gcc` and in turn a bunch of other stuff is solely the fault of apple pushing its own stuff and not caring. `gcc` is currently slightly broken on OS X and unless the `gcc` team gets something together it will just get worse. Not being able to build `cmake` is just one of the many symptoms of `gcc` cracking while apple is pushing hard.



---

archive/issue_comments_246471.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\ncmake 3.2.2 has been released, so this ticket ought to be adjusted to this version, I suppose.",
    "created_at": "2015-05-03T08:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246471",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

cmake 3.2.2 has been released, so this ticket ought to be adjusted to this version, I suppose.



---

archive/issue_comments_246472.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n@kiwifb: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.",
    "created_at": "2015-05-03T10:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246472",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

@kiwifb: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.



---

archive/issue_comments_246473.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@jdemeyer](#comment:21):\n> @kiwifb: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.\n\nI know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.\n\nWe use the accelerate framework instead of Atlas on OS X, one less fortran thing.\n\nA fortran compiler is needed while compiling scipy :( lots of fortran code in there.  \n\nR is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. \n\nflang is just a dot on the horizon so far. At least they say they started work on it.",
    "created_at": "2015-05-03T11:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246473",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@jdemeyer](#comment:21):
> @kiwifb: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.

I know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.

We use the accelerate framework instead of Atlas on OS X, one less fortran thing.

A fortran compiler is needed while compiling scipy :( lots of fortran code in there.  

R is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. 

flang is just a dot on the horizon so far. At least they say they started work on it.



---

archive/issue_events_257137.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-04T01:31:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257137"
}
```



---

archive/issue_events_257138.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-04T01:31:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257138"
}
```



---

archive/issue_comments_246474.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@kiwifb](#comment:22):\n> Replying to [@jdemeyer](#comment:21):\n> > @kiwifb: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.\n\n> \n> I know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.\n> \n> We use the accelerate framework instead of Atlas on OS X, one less fortran thing.\n> \n> A fortran compiler is needed while compiling scipy :( lots of fortran code in there.  \n> \n> R is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. \n> \n> flang is just a dot on the horizon so far. At least they say they started work on it.\n\nI don't even see dots, apart from some github repos untouched since 2013 or so.\n\nWe can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.",
    "created_at": "2015-05-04T11:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246474",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@kiwifb](#comment:22):
> Replying to [@jdemeyer](#comment:21):
> > @kiwifb: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.

> 
> I know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.
> 
> We use the accelerate framework instead of Atlas on OS X, one less fortran thing.
> 
> A fortran compiler is needed while compiling scipy :( lots of fortran code in there.  
> 
> R is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. 
> 
> flang is just a dot on the horizon so far. At least they say they started work on it.

I don't even see dots, apart from some github repos untouched since 2013 or so.

We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.



---

archive/issue_comments_246475.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@dimpase](#comment:24):\n> We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.\n\nIt's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).",
    "created_at": "2015-05-04T12:25:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246475",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@dimpase](#comment:24):
> We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.

It's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).



---

archive/issue_comments_246476.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAbout CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.",
    "created_at": "2015-05-04T12:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246476",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

About CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.



---

archive/issue_comments_246477.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jdemeyer](#comment:26):\n> About CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.\n\nthey didn't use autotools, I suppose, that's why ;-)",
    "created_at": "2015-05-04T13:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246477",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jdemeyer](#comment:26):
> About CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.

they didn't use autotools, I suppose, that's why ;-)



---

archive/issue_comments_246478.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@jdemeyer](#comment:25):\n> Replying to [@dimpase](#comment:24):\n> > We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.\n\n> \n> It's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).\n\nAnd there are still parts of Sage which currently don't build with `clang`...\n\nOtherwise, w.r.t. `gfortran` on MacOS X:  Revive `f2c`! ;-)",
    "created_at": "2015-05-04T19:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246478",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@jdemeyer](#comment:25):
> Replying to [@dimpase](#comment:24):
> > We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.

> 
> It's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).

And there are still parts of Sage which currently don't build with `clang`...

Otherwise, w.r.t. `gfortran` on MacOS X:  Revive `f2c`! ;-)



---

archive/issue_comments_246479.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThanks for trying to compile cmake.\n\nA few comments:\n\n* if csympy is the only package that requires cmake and cmake is impossible to build, we can also support an alternative build system in csympy\n\n* I really like cmake, so let me try to fix these issues first, as I would prefer to keep cmake as the build system (but it needs to reliably build on OS X, both with clang and with gcc)\n\n* I independently discovered lots of similar issues with building cmake with gcc on OS X 10.10 (https://github.com/hashdist/hashstack/issues/746), and just like you noticed, it builds fine with the native clang. As you can see, you can easily tell cmake not to compile in various things and rather reuse them from the system or Sage. I really believe all these issues can be fixed and I am also sure Kitware is itself interested in cmake being able to build, e.g. Robert Maynard from Kitware already commented on my issue above with some tips.\n\nSo I will have a look in the coming days and I will update this issue.",
    "created_at": "2015-05-05T16:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246479",
    "user": "https://github.com/certik"
}
```

<div id="comment:29" align="right">comment:29</div>

Thanks for trying to compile cmake.

A few comments:

* if csympy is the only package that requires cmake and cmake is impossible to build, we can also support an alternative build system in csympy

* I really like cmake, so let me try to fix these issues first, as I would prefer to keep cmake as the build system (but it needs to reliably build on OS X, both with clang and with gcc)

* I independently discovered lots of similar issues with building cmake with gcc on OS X 10.10 (https://github.com/hashdist/hashstack/issues/746), and just like you noticed, it builds fine with the native clang. As you can see, you can easily tell cmake not to compile in various things and rather reuse them from the system or Sage. I really believe all these issues can be fixed and I am also sure Kitware is itself interested in cmake being able to build, e.g. Robert Maynard from Kitware already commented on my issue above with some tips.

So I will have a look in the coming days and I will update this issue.



---

archive/issue_comments_246480.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI guess this is still pretty much work in progress, but we certainly should use/tweak a couple of configure options for bootstrapping within Sage, such as for example\n\n```\n  --parallel=n            bootstrap cmake in parallel, where n is\n                          number of nodes [1]\n\n  --no-system-libs        use all cmake-provided third-party libraries\n                          (default)\n\n  --system-zlib           use system-installed zlib library\n  --no-system-zlib        use cmake-provided zlib library (default)\n  --system-bzip2          use system-installed bzip2 library\n  --no-system-bzip2       use cmake-provided bzip2 library (default)\n\n  ...\n```",
    "created_at": "2015-05-06T05:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246480",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:30" align="right">comment:30</div>

I guess this is still pretty much work in progress, but we certainly should use/tweak a couple of configure options for bootstrapping within Sage, such as for example

```
  --parallel=n            bootstrap cmake in parallel, where n is
                          number of nodes [1]

  --no-system-libs        use all cmake-provided third-party libraries
                          (default)

  --system-zlib           use system-installed zlib library
  --no-system-zlib        use cmake-provided zlib library (default)
  --system-bzip2          use system-installed bzip2 library
  --no-system-bzip2       use cmake-provided bzip2 library (default)

  ...
```



---

archive/issue_comments_246481.json:
```json
{
    "body": "Changed commit from **[`3aae9bf`](https://github.com/sagemath/sagetrac-mirror/commit/3aae9bf7905d0cb5ec63eaceef8ee9f590c87463)** to **[`c8778a9`](https://github.com/sagemath/sagetrac-mirror/commit/c8778a93f2076dd8343e533511a7e6758b1803ab)**",
    "created_at": "2015-06-19T16:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246481",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3aae9bf`](https://github.com/sagemath/sagetrac-mirror/commit/3aae9bf7905d0cb5ec63eaceef8ee9f590c87463)** to **[`c8778a9`](https://github.com/sagemath/sagetrac-mirror/commit/c8778a93f2076dd8343e533511a7e6758b1803ab)**



---

archive/issue_comments_246482.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2c3532e6fe1b794a153fccfafa2ad27af28982f\">e2c3532</a></td><td><code>Added CMake v3.2.1 optional package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cbb417d2bd50d6d626b2b40822e7bd061c38869\">1cbb417</a></td><td><code>Word-wrap cmake/SPKG.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79d84ccd319694ce3cdf7f3db93a40d00b169c9c\">79d84cc</a></td><td><code>Make cmake/spkg-install executable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a219eccf791f6eea66cfefcd60ad1cd6df4fae8\">4a219ec</a></td><td><code>CMake : Merge make and make install steps into one</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2870d55dd474893649617d512f78d5a717d73003\">2870d55</a></td><td><code>CMake: use sage's bzip2 and zlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe8eb4a7b272d77bccbc8e25fd4280d26c0385ef\">fe8eb4a</a></td><td><code>Test CMake installation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8778a93f2076dd8343e533511a7e6758b1803ab\">c8778a9</a></td><td><code>Patch for building CMake on OSX 10.10</code></td></tr></table>\n",
    "created_at": "2015-06-19T16:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246482",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2c3532e6fe1b794a153fccfafa2ad27af28982f">e2c3532</a></td><td><code>Added CMake v3.2.1 optional package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cbb417d2bd50d6d626b2b40822e7bd061c38869">1cbb417</a></td><td><code>Word-wrap cmake/SPKG.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79d84ccd319694ce3cdf7f3db93a40d00b169c9c">79d84cc</a></td><td><code>Make cmake/spkg-install executable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a219eccf791f6eea66cfefcd60ad1cd6df4fae8">4a219ec</a></td><td><code>CMake : Merge make and make install steps into one</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2870d55dd474893649617d512f78d5a717d73003">2870d55</a></td><td><code>CMake: use sage's bzip2 and zlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe8eb4a7b272d77bccbc8e25fd4280d26c0385ef">fe8eb4a</a></td><td><code>Test CMake installation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8778a93f2076dd8343e533511a7e6758b1803ab">c8778a9</a></td><td><code>Patch for building CMake on OSX 10.10</code></td></tr></table>




---

archive/issue_comments_246483.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nA lot has changed in the handling of optional packages recently, this should be rebased on top of Sage 6.8.beta5.",
    "created_at": "2015-06-19T19:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246483",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

A lot has changed in the handling of optional packages recently, this should be rebased on top of Sage 6.8.beta5.



---

archive/issue_comments_246484.json:
```json
{
    "body": "Changed commit from **[`c8778a9`](https://github.com/sagemath/sagetrac-mirror/commit/c8778a93f2076dd8343e533511a7e6758b1803ab)** to **[`6fea35f`](https://github.com/sagemath/sagetrac-mirror/commit/6fea35f5c78f637a50b1cf35d7fa2fb36a58af77)**",
    "created_at": "2015-06-20T07:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246484",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8778a9`](https://github.com/sagemath/sagetrac-mirror/commit/c8778a93f2076dd8343e533511a7e6758b1803ab)** to **[`6fea35f`](https://github.com/sagemath/sagetrac-mirror/commit/6fea35f5c78f637a50b1cf35d7fa2fb36a58af77)**



---

archive/issue_comments_246485.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eadda328c3a370827ebda4f329a15ea3e86e1ecf\">eadda32</a></td><td><code>Added CMake v3.2.1 optional package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a84859e3215095ede14c180d125334dbcc3c4474\">a84859e</a></td><td><code>Word-wrap cmake/SPKG.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/feadaf356147f71f43a61265bf6e54d46e204442\">feadaf3</a></td><td><code>Make cmake/spkg-install executable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919f12eb58d4d3ea8ab73232f9ec26894a3a788a\">919f12e</a></td><td><code>CMake : Merge make and make install steps into one</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/268dee919d8fb7b1f2f8efe6a2829ecc50bf7a70\">268dee9</a></td><td><code>CMake: use sage's bzip2 and zlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/def4c8ae920d681051db785643c551388089ff8a\">def4c8a</a></td><td><code>Test CMake installation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c73f9e2a65d7bf25506db176b0832c2d2cb73edd\">c73f9e2</a></td><td><code>Patch for building CMake on OSX 10.10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fea35f5c78f637a50b1cf35d7fa2fb36a58af77\">6fea35f</a></td><td><code>CMake : Add type as experimental</code></td></tr></table>\n",
    "created_at": "2015-06-20T07:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246485",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eadda328c3a370827ebda4f329a15ea3e86e1ecf">eadda32</a></td><td><code>Added CMake v3.2.1 optional package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a84859e3215095ede14c180d125334dbcc3c4474">a84859e</a></td><td><code>Word-wrap cmake/SPKG.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/feadaf356147f71f43a61265bf6e54d46e204442">feadaf3</a></td><td><code>Make cmake/spkg-install executable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919f12eb58d4d3ea8ab73232f9ec26894a3a788a">919f12e</a></td><td><code>CMake : Merge make and make install steps into one</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/268dee919d8fb7b1f2f8efe6a2829ecc50bf7a70">268dee9</a></td><td><code>CMake: use sage's bzip2 and zlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/def4c8ae920d681051db785643c551388089ff8a">def4c8a</a></td><td><code>Test CMake installation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c73f9e2a65d7bf25506db176b0832c2d2cb73edd">c73f9e2</a></td><td><code>Patch for building CMake on OSX 10.10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fea35f5c78f637a50b1cf35d7fa2fb36a58af77">6fea35f</a></td><td><code>CMake : Add type as experimental</code></td></tr></table>




---

archive/issue_comments_246486.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nIs the OS X patch still needed with `cmake 3.2.3`? If not I suggest bumping to that and I will test it on my OS X box. If it builds I think we can review it positively as an experimental package. While reviewing we have pushed at the optional level of quality in review rather than experimental in my opinion.",
    "created_at": "2015-06-20T09:37:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246486",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:34" align="right">comment:34</div>

Is the OS X patch still needed with `cmake 3.2.3`? If not I suggest bumping to that and I will test it on my OS X box. If it builds I think we can review it positively as an experimental package. While reviewing we have pushed at the optional level of quality in review rather than experimental in my opinion.



---

archive/issue_comments_246487.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI realise that I thought it was `experimental` because that's what the type says in the git commit. But this ticket says \"optional\" and I think we are getting there so the type will have to be changed too.",
    "created_at": "2015-06-20T09:44:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246487",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

I realise that I thought it was `experimental` because that's what the type says in the git commit. But this ticket says "optional" and I think we are getting there so the type will have to be changed too.



---

archive/issue_comments_246488.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0096eed76cf7cc2fc99953192dc78807501e8f3a\">0096eed</a></td><td><code>CMake : updated version to 3.2.3</code></td></tr></table>\n",
    "created_at": "2015-06-21T11:22:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246488",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0096eed76cf7cc2fc99953192dc78807501e8f3a">0096eed</a></td><td><code>CMake : updated version to 3.2.3</code></td></tr></table>




---

archive/issue_comments_246489.json:
```json
{
    "body": "Changed commit from **[`6fea35f`](https://github.com/sagemath/sagetrac-mirror/commit/6fea35f5c78f637a50b1cf35d7fa2fb36a58af77)** to **[`0096eed`](https://github.com/sagemath/sagetrac-mirror/commit/0096eed76cf7cc2fc99953192dc78807501e8f3a)**",
    "created_at": "2015-06-21T11:22:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246489",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6fea35f`](https://github.com/sagemath/sagetrac-mirror/commit/6fea35f5c78f637a50b1cf35d7fa2fb36a58af77)** to **[`0096eed`](https://github.com/sagemath/sagetrac-mirror/commit/0096eed76cf7cc2fc99953192dc78807501e8f3a)**



---

archive/issue_events_257139.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-06-21T11:26:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257139"
}
```



---

archive/issue_events_257140.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-06-21T11:26:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257140"
}
```



---

archive/issue_comments_246490.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nYes, the patch is still needed for 3.2.3\n\nI added experimental because even with the patch 6 tests out of 387 tests in OSX 10.10 fail. Once it is ready to become optional, I'll update the type to optional.",
    "created_at": "2015-06-21T11:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246490",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:37" align="right">comment:37</div>

Yes, the patch is still needed for 3.2.3

I added experimental because even with the patch 6 tests out of 387 tests in OSX 10.10 fail. Once it is ready to become optional, I'll update the type to optional.



---

archive/issue_events_257141.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-06-21T11:26:34Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "title_is": "CMake experimental package",
    "title_was": "CMake optional package",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257141"
}
```



---

archive/issue_comments_246491.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-Sage optional package for CMake\n+Sage experimental package for CMake\n \n-CMake version 3.2.1\n+CMake version 3.2.3\n \n-Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.1.tar.gz\n+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz\n``````\n",
    "created_at": "2015-06-21T11:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246491",
    "user": "https://github.com/isuruf"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-Sage optional package for CMake
+Sage experimental package for CMake
 
-CMake version 3.2.1
+CMake version 3.2.3
 
-Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.1.tar.gz
+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz
``````




---

archive/issue_events_257142.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-06-21T11:26:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257142"
}
```



---

archive/issue_events_257143.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-06-21T11:26:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257143"
}
```



---

archive/issue_comments_246492.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n\n```\nInvalid checksum for cached file /usr/local/src/sage-config/upstream/cmake-3.2.3.tar.gz, deleting\n```",
    "created_at": "2015-06-21T16:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246492",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>


```
Invalid checksum for cached file /usr/local/src/sage-config/upstream/cmake-3.2.3.tar.gz, deleting
```



---

archive/issue_events_257144.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-21T16:12:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257144"
}
```



---

archive/issue_events_257145.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-21T16:12:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257145"
}
```



---

archive/issue_comments_246493.json:
```json
{
    "body": "Changed commit from **[`0096eed`](https://github.com/sagemath/sagetrac-mirror/commit/0096eed76cf7cc2fc99953192dc78807501e8f3a)** to **[`b65bb43`](https://github.com/sagemath/sagetrac-mirror/commit/b65bb43a99a3290e10ccf6f752eb160aafb95e89)**",
    "created_at": "2015-06-21T16:44:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0096eed`](https://github.com/sagemath/sagetrac-mirror/commit/0096eed76cf7cc2fc99953192dc78807501e8f3a)** to **[`b65bb43`](https://github.com/sagemath/sagetrac-mirror/commit/b65bb43a99a3290e10ccf6f752eb160aafb95e89)**



---

archive/issue_comments_246494.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b65bb43a99a3290e10ccf6f752eb160aafb95e89\">b65bb43</a></td><td><code>CMake : update checksums</code></td></tr></table>\n",
    "created_at": "2015-06-21T16:44:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246494",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b65bb43a99a3290e10ccf6f752eb160aafb95e89">b65bb43</a></td><td><code>CMake : update checksums</code></td></tr></table>




---

archive/issue_comments_246495.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nSorry about that, chrome seems to be playing tricks on me. It's updated now.",
    "created_at": "2015-06-21T16:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246495",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:40" align="right">comment:40</div>

Sorry about that, chrome seems to be playing tricks on me. It's updated now.



---

archive/issue_comments_246496.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nIt seems that the curl library included with CMake is outdated and needs to be built separately for CMake to work in OSX.",
    "created_at": "2015-07-06T14:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246496",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:41" align="right">comment:41</div>

It seems that the curl library included with CMake is outdated and needs to be built separately for CMake to work in OSX.



---

archive/issue_events_257146.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-06T15:52:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257146"
}
```



---

archive/issue_events_257147.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-06T15:52:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257147"
}
```



---

archive/issue_comments_246497.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nDoes it really need `curl`? OSX does ship `curl` just fine...",
    "created_at": "2015-07-06T15:52:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246497",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

Does it really need `curl`? OSX does ship `curl` just fine...



---

archive/issue_comments_246498.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nThere are some features that involve downloading. That's why curl is used. \n\nWe can use system installed `curl` for OSX and build `curl` for other systems.",
    "created_at": "2015-07-06T16:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246498",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:43" align="right">comment:43</div>

There are some features that involve downloading. That's why curl is used. 

We can use system installed `curl` for OSX and build `curl` for other systems.



---

archive/issue_comments_246499.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\n`curl` is really very standard thing on Linux, installed by default. I don't know why `cmake` needs it for anything but Windows...",
    "created_at": "2015-07-06T16:08:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246499",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">comment:44</div>

`curl` is really very standard thing on Linux, installed by default. I don't know why `cmake` needs it for anything but Windows...



---

archive/issue_comments_246500.json:
```json
{
    "body": "Changed commit from **[`b65bb43`](https://github.com/sagemath/sagetrac-mirror/commit/b65bb43a99a3290e10ccf6f752eb160aafb95e89)** to **[`d71e284`](https://github.com/sagemath/sagetrac-mirror/commit/d71e284bcb8127523ffff4a0229fa152c0064976)**",
    "created_at": "2015-07-07T13:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246500",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b65bb43`](https://github.com/sagemath/sagetrac-mirror/commit/b65bb43a99a3290e10ccf6f752eb160aafb95e89)** to **[`d71e284`](https://github.com/sagemath/sagetrac-mirror/commit/d71e284bcb8127523ffff4a0229fa152c0064976)**



---

archive/issue_comments_246501.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d71e284bcb8127523ffff4a0229fa152c0064976\">d71e284</a></td><td><code>CMake : Use system curl</code></td></tr></table>\n",
    "created_at": "2015-07-07T13:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246501",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d71e284bcb8127523ffff4a0229fa152c0064976">d71e284</a></td><td><code>CMake : Use system curl</code></td></tr></table>




---

archive/issue_comments_246502.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI pushed in a commit to use system curl when building cmake. \n\n@dimpase, yes, there's really no need to build curl as it is installed in OSX and Linux. Building cmake in windows is not supported, so no use there either.",
    "created_at": "2015-07-07T13:12:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246502",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:46" align="right">comment:46</div>

I pushed in a commit to use system curl when building cmake. 

@dimpase, yes, there's really no need to build curl as it is installed in OSX and Linux. Building cmake in windows is not supported, so no use there either.



---

archive/issue_comments_246503.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44\">cb96c05</a></td><td><code>Use system-curl only in OSX and build curl in Linux</code></td></tr></table>\n",
    "created_at": "2015-07-10T02:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246503",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44">cb96c05</a></td><td><code>Use system-curl only in OSX and build curl in Linux</code></td></tr></table>




---

archive/issue_comments_246504.json:
```json
{
    "body": "Changed commit from **[`d71e284`](https://github.com/sagemath/sagetrac-mirror/commit/d71e284bcb8127523ffff4a0229fa152c0064976)** to **[`cb96c05`](https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44)**",
    "created_at": "2015-07-10T02:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246504",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d71e284`](https://github.com/sagemath/sagetrac-mirror/commit/d71e284bcb8127523ffff4a0229fa152c0064976)** to **[`cb96c05`](https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44)**



---

archive/issue_events_257148.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-07-21T14:35:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257148"
}
```



---

archive/issue_events_257149.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2015-07-21T14:35:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257149"
}
```



---

archive/issue_comments_246505.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2015-09-01T01:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246505",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **Fran√ßois Bissey**



---

archive/issue_events_257150.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-01T01:59:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257150"
}
```



---

archive/issue_events_257151.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-01T01:59:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257151"
}
```



---

archive/issue_events_257152.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-01T01:59:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257152"
}
```



---

archive/issue_events_257153.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-01T01:59:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257153"
}
```



---

archive/issue_comments_246506.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nLet's get this in, this is experimental after all.",
    "created_at": "2015-09-01T01:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246506",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:49" align="right">comment:49</div>

Let's get this in, this is experimental after all.



---

archive/issue_events_257154.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-02T17:25:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257154"
}
```



---

archive/issue_events_257155.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "180f3268eb57348f1cb4b3b67c925288eaec8346",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-09-02T17:25:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18078#event-257155"
}
```



---

archive/issue_comments_246507.json:
```json
{
    "body": "Changed branch from **[u/isuruf/cmake_optional_package](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/cmake_optional_package)** to **[`cb96c05`](https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44)**",
    "created_at": "2015-09-02T17:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18078#issuecomment-246507",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/isuruf/cmake_optional_package](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/cmake_optional_package)** to **[`cb96c05`](https://github.com/sagemath/sagetrac-mirror/commit/cb96c05fd4703db60f0d6762127245f981639b44)**
