# Issue 18078: CMake experimental package

archive/issues_017841.json:
```json
{
    "body": "Sage experimental package for CMake\n\nCMake version 3.2.3\n\nSource can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz\n\nBranch/Commit: cb96c05fd4703db60f0d6762127245f981639b44\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: Isuru Fernando\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18078\n\n",
    "closed_at": "2015-09-02T17:25:33Z",
    "created_at": "2015-03-29T07:11:49Z",
    "labels": [
        "component: packages: experimental"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "CMake experimental package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18078",
    "user": "https://github.com/isuruf"
}
```
Sage experimental package for CMake

CMake version 3.2.3

Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz

Branch/Commit: cb96c05fd4703db60f0d6762127245f981639b44

Reviewer: Fran√ßois Bissey

Author: Isuru Fernando

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18078





---

archive/issue_comments_312039.json:
```json
{
    "body": "Changing branch from \"\" to \"u/isuruf/cmake_optional_package\"",
    "created_at": "2015-03-29T07:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312039",
    "user": "https://github.com/isuruf"
}
```

Changing branch from "" to "u/isuruf/cmake_optional_package"



---

archive/issue_comments_312040.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2015-03-29T07:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312040",
    "user": "https://github.com/isuruf"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_312041.json:
```json
{
    "body": "Changing commit from \"\" to \"2f172e0c13681493aaa7c8f4ab334dac55450571\"",
    "created_at": "2015-03-29T07:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312041",
    "user": "https://github.com/isuruf"
}
```

Changing commit from "" to "2f172e0c13681493aaa7c8f4ab334dac55450571"



---

archive/issue_comments_312042.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: optional.",
    "created_at": "2015-03-29T07:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312042",
    "user": "https://github.com/isuruf"
}
```

Changing component from PLEASE CHANGE to packages: optional.



---

archive/issue_comments_312043.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+Sage optional package for CMake\n \n+CMake version 3.2.1\n+\n+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.1.tar.gz\n \n Comment: 1\n \n``````\n",
    "created_at": "2015-03-29T07:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312043",
    "user": "https://github.com/isuruf"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+Sage optional package for CMake
 
+CMake version 3.2.1
+
+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.1.tar.gz
 
 Comment: 1
 
``````




---

archive/issue_comments_312044.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2015-03-29T07:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312044",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_312045.json:
```json
{
    "body": "<a id='comment:3'></a>Please word-wrap `SPKG.txt` to 72 characters per line.\n\nIf it's ready for review, don't forget to set this ticket to `needs_review`.",
    "created_at": "2015-03-29T07:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312045",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>Please word-wrap `SPKG.txt` to 72 characters per line.

If it's ready for review, don't forget to set this ticket to `needs_review`.



---

archive/issue_comments_312046.json:
```json
{
    "body": "<a id='comment:4'></a>And don't forget to fill in your real name in the \"Author\" field.",
    "created_at": "2015-03-29T07:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312046",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>And don't forget to fill in your real name in the "Author" field.



---

archive/issue_comments_312047.json:
```json
{
    "body": "Changing commit from \"2f172e0c13681493aaa7c8f4ab334dac55450571\" to \"2b9f83e5439bca4355cfce2e5e04cd8cfd13913c\"",
    "created_at": "2015-03-29T08:21:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2f172e0c13681493aaa7c8f4ab334dac55450571" to "2b9f83e5439bca4355cfce2e5e04cd8cfd13913c"



---

archive/issue_comments_312048.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-29T08:21:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_312049.json:
```json
{
    "body": "Changing author from \"\" to \"Isuru Fernando\"",
    "created_at": "2015-03-29T08:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312049",
    "user": "https://github.com/isuruf"
}
```

Changing author from "" to "Isuru Fernando"



---

archive/issue_comments_312050.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-29T08:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312050",
    "user": "https://github.com/isuruf"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_312051.json:
```json
{
    "body": "<a id='comment:7'></a>The installation works on Linux, at least. How does one check it is not broken?",
    "created_at": "2015-05-02T07:50:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312051",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>The installation works on Linux, at least. How does one check it is not broken?



---

archive/issue_comments_312052.json:
```json
{
    "body": "<a id='comment:8'></a>\n```\nWARNING: spkg-install is not executable, making it executable\n```",
    "created_at": "2015-05-02T10:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312052",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
```
WARNING: spkg-install is not executable, making it executable
```



---

archive/issue_comments_312053.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-02T10:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312053",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_312054.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:7 dimpase]:\n> The installation works on Linux, at least. How does one check it is not broken?\n\n\n`cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.\n\nOne more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.",
    "created_at": "2015-05-02T10:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312054",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>Replying to [comment:7 dimpase]:
> The installation works on Linux, at least. How does one check it is not broken?


`cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.

One more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.



---

archive/issue_comments_312055.json:
```json
{
    "body": "<a id='comment:10'></a>Doesn't build on OSX 10.10.3 with the latest XCode:\n\n```\n 27%] Building CXX object Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o\n[ 27%] Building CXX object Utilities/cmjsoncpp/CMakeFiles/cmjsoncpp.dir/src/lib_json/json_writer.cpp.o\nIn file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/usr/include/dispatch/dispatch.h:50:0,\n                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFStream.h:15,\n                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFPropertyList.h:13,\n                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:55,\n                 from /usr/local/src/sage/sage/local/var/tmp/sage/build/cmake-3.2.1/src/Source/CPack/OSXScriptLauncher.cxx:17:\n/usr/local/src/sage/sage/local/include/dispatch/object.h:321:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\n/usr/local/src/sage/sage/local/include/dispatch/object.h:358:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\n/usr/local/src/sage/sage/local/include/dispatch/object.h:387:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\n/usr/local/src/sage/sage/local/include/dispatch/object.h:418:1: error: 'DISPATCH_UNAVAILABLE' does not name a type\n DISPATCH_UNAVAILABLE\n ^\nmake[2]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o] Error 1\nmake[1]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nLinking CXX static library libcmjsoncpp.a\n[ 27%] Built target cmjsoncpp\nmake: *** [all] Error 2\nError building CMake.\n\nreal\t7m15.276s\nuser\t5m26.048s\nsys\t1m33.521s\n************************************************************************\nError installing package cmake-3.2.1\n************************************************************************\n...\n```\nI suspect that we don't need the fully blown OSX cmake (we don't need OSXScriptLauncher probably), perhaps some options need to be used while building on OSX...",
    "created_at": "2015-05-02T21:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312055",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>Doesn't build on OSX 10.10.3 with the latest XCode:

```
 27%] Building CXX object Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o
[ 27%] Building CXX object Utilities/cmjsoncpp/CMakeFiles/cmjsoncpp.dir/src/lib_json/json_writer.cpp.o
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/usr/include/dispatch/dispatch.h:50:0,
                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFStream.h:15,
                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CFPropertyList.h:13,
                 from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:55,
                 from /usr/local/src/sage/sage/local/var/tmp/sage/build/cmake-3.2.1/src/Source/CPack/OSXScriptLauncher.cxx:17:
/usr/local/src/sage/sage/local/include/dispatch/object.h:321:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
/usr/local/src/sage/sage/local/include/dispatch/object.h:358:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
/usr/local/src/sage/sage/local/include/dispatch/object.h:387:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
/usr/local/src/sage/sage/local/include/dispatch/object.h:418:1: error: 'DISPATCH_UNAVAILABLE' does not name a type
 DISPATCH_UNAVAILABLE
 ^
make[2]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/CPack/OSXScriptLauncher.cxx.o] Error 1
make[1]: *** [Source/CMakeFiles/OSXScriptLauncher.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
Linking CXX static library libcmjsoncpp.a
[ 27%] Built target cmjsoncpp
make: *** [all] Error 2
Error building CMake.

real	7m15.276s
user	5m26.048s
sys	1m33.521s
************************************************************************
Error installing package cmake-3.2.1
************************************************************************
...
```
I suspect that we don't need the fully blown OSX cmake (we don't need OSXScriptLauncher probably), perhaps some options need to be used while building on OSX...



---

archive/issue_comments_312056.json:
```json
{
    "body": "<a id='comment:11'></a>My experience with kitware stuff on OS X is they assume `clang` and most other stuff is in the too hard basket. I was helping someone get paraview on their OS X box and we had to give up using `gcc` starting 10.10.2. I will have a look if we can do something at booststrap time but I am not especially hopeful.",
    "created_at": "2015-05-02T21:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312056",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>My experience with kitware stuff on OS X is they assume `clang` and most other stuff is in the too hard basket. I was helping someone get paraview on their OS X box and we had to give up using `gcc` starting 10.10.2. I will have a look if we can do something at booststrap time but I am not especially hopeful.



---

archive/issue_comments_312057.json:
```json
{
    "body": "<a id='comment:12'></a>Current error is while building internal version of `curl` which is of course available by default on OS X. But using the system curl just push the problem further away. Attentive people will notice that the problematic header is the one we copy and modify for gcc install on 10.10.\n\nI hate to do that, but my suggestion is for this to set `CC=clang CXX=clang++` on OS X.",
    "created_at": "2015-05-02T22:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312057",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>Current error is while building internal version of `curl` which is of course available by default on OS X. But using the system curl just push the problem further away. Attentive people will notice that the problematic header is the one we copy and modify for gcc install on 10.10.

I hate to do that, but my suggestion is for this to set `CC=clang CXX=clang++` on OS X.



---

archive/issue_comments_312058.json:
```json
{
    "body": "<a id='comment:13'></a>OK, it is worse than I thought. Not only do we get a `gcc` that will sometimes break, when `gcc` breaks so does `clang` because of that little header. I am wondering if we should remove that header once `gcc` is built. It looks like a lot of stuff that will want that header will break regardless. Thoughts?",
    "created_at": "2015-05-02T23:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312058",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:13'></a>OK, it is worse than I thought. Not only do we get a `gcc` that will sometimes break, when `gcc` breaks so does `clang` because of that little header. I am wondering if we should remove that header once `gcc` is built. It looks like a lot of stuff that will want that header will break regardless. Thoughts?



---

archive/issue_comments_312059.json:
```json
{
    "body": "Changing commit from \"2b9f83e5439bca4355cfce2e5e04cd8cfd13913c\" to \"72a020d1f2628dd7fc7595b9cf0485a14d6fb426\"",
    "created_at": "2015-05-03T05:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2b9f83e5439bca4355cfce2e5e04cd8cfd13913c" to "72a020d1f2628dd7fc7595b9cf0485a14d6fb426"



---

archive/issue_comments_312060.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-03T05:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_312061.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:9 jdemeyer]:\n> Replying to [comment:7 dimpase]:\n> > The installation works on Linux, at least. How does one check it is not broken?\n\n> \n> `cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.\n\n\n`cmake` has a test suite that can be run using `ctest`. I wrote a `spkg-check` and ran the tests on Linux. 3/382 tests fail, two of which is related to curl, and the other about a sleep command. I'm not sure whether these options will be required by packages in the future.\n23 - curl (Failed)\n178 - CTestTestUpload (Failed) \n218 - CTestTestStopTime (Failed)\n\n> \n> One more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.\n\n\nThanks. I will make this change.",
    "created_at": "2015-05-03T05:23:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312061",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:15'></a>Replying to [comment:9 jdemeyer]:
> Replying to [comment:7 dimpase]:
> > The installation works on Linux, at least. How does one check it is not broken?

> 
> `cmake` has a test-suite run with `make test`. So a `spkg-check` file should be added to run this.


`cmake` has a test suite that can be run using `ctest`. I wrote a `spkg-check` and ran the tests on Linux. 3/382 tests fail, two of which is related to curl, and the other about a sleep command. I'm not sure whether these options will be required by packages in the future.
23 - curl (Failed)
178 - CTestTestUpload (Failed) 
218 - CTestTestStopTime (Failed)

> 
> One more remark: you don't really need to split up `$MAKE` and `$MAKE install` in two steps, just `$MAKE install` is sufficient.


Thanks. I will make this change.



---

archive/issue_comments_312062.json:
```json
{
    "body": "Changing commit from \"72a020d1f2628dd7fc7595b9cf0485a14d6fb426\" to \"3aae9bf7905d0cb5ec63eaceef8ee9f590c87463\"",
    "created_at": "2015-05-03T05:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "72a020d1f2628dd7fc7595b9cf0485a14d6fb426" to "3aae9bf7905d0cb5ec63eaceef8ee9f590c87463"



---

archive/issue_comments_312063.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-03T05:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_312064.json:
```json
{
    "body": "<a id='comment:17'></a>At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.",
    "created_at": "2015-05-03T07:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312064",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'></a>At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.



---

archive/issue_comments_312065.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:17 fbissey]:\n> At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.\n\n\nI won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.\n\ncmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.",
    "created_at": "2015-05-03T07:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312065",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>Replying to [comment:17 fbissey]:
> At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.


I won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.

cmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.



---

archive/issue_comments_312066.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 dimpase]:\n> Replying to [comment:17 fbissey]:\n> > At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.\n\n> \n> I won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.\n> \n> cmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.\n\n\nI don't think there is a difficulty per see in using `cmake` on OS X. The trouble building `cmake` and in fact `gcc` and in turn a bunch of other stuff is solely the fault of apple pushing its own stuff and not caring. `gcc` is currently slightly broken on OS X and unless the `gcc` team gets something together it will just get worse. Not being able to build `cmake` is just one of the many symptoms of `gcc` cracking while apple is pushing hard.",
    "created_at": "2015-05-03T08:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312066",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'></a>Replying to [comment:18 dimpase]:
> Replying to [comment:17 fbissey]:
> > At the moment I would recommend people who want cmake on OS X to download it from kitware and make sure that the `cmake` command is in their `PATH`. We could put some words of that effect in `spkg-install`. I don't see this working on OS X anytime soon. We would need a breakthrough with `gcc` or `clang`.

> 
> I won't be surprised if this cmake won't be useful within Sage, as it might assume too much of the native OSX toolchain.
> 
> cmake was mentioned by me in a GSoC 2015 discussion regarding getting CSymPy into Sage; I expressed my doubts that cmake, which is used to configure CSymPy, is easy to deal with in Sage, based on some vague memories about cmake/Sage difficulties I saw. Now I recall that that was about building   cmake in Sage on OSX.


I don't think there is a difficulty per see in using `cmake` on OS X. The trouble building `cmake` and in fact `gcc` and in turn a bunch of other stuff is solely the fault of apple pushing its own stuff and not caring. `gcc` is currently slightly broken on OS X and unless the `gcc` team gets something together it will just get worse. Not being able to build `cmake` is just one of the many symptoms of `gcc` cracking while apple is pushing hard.



---

archive/issue_comments_312067.json:
```json
{
    "body": "<a id='comment:20'></a>cmake 3.2.2 has been released, so this ticket ought to be adjusted to this version, I suppose.",
    "created_at": "2015-05-03T08:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312067",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>cmake 3.2.2 has been released, so this ticket ought to be adjusted to this version, I suppose.



---

archive/issue_comments_312068.json:
```json
{
    "body": "<a id='comment:21'></a>`@`fbissey: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.",
    "created_at": "2015-05-03T10:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312068",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>`@`fbissey: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.



---

archive/issue_comments_312069.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:21 jdemeyer]:\n> `@`fbissey: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.\n\n\nI know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.\n\nWe use the accelerate framework instead of Atlas on OS X, one less fortran thing.\n\nA fortran compiler is needed while compiling scipy :( lots of fortran code in there.  \n\nR is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. \n\nflang is just a dot on the horizon so far. At least they say they started work on it.",
    "created_at": "2015-05-03T11:46:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312069",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:22'></a>Replying to [comment:21 jdemeyer]:
> `@`fbissey: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.


I know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.

We use the accelerate framework instead of Atlas on OS X, one less fortran thing.

A fortran compiler is needed while compiling scipy :( lots of fortran code in there.  

R is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. 

flang is just a dot on the horizon so far. At least they say they started work on it.



---

archive/issue_events_051285.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-05-04T01:31:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18078#event-51285"
}
```



---

archive/issue_comments_312070.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:22 fbissey]:\n> Replying to [comment:21 jdemeyer]:\n> > `@`fbissey: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.\n\n> \n> I know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.\n> \n> We use the accelerate framework instead of Atlas on OS X, one less fortran thing.\n> \n> A fortran compiler is needed while compiling scipy :( lots of fortran code in there.  \n> \n> R is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. \n> \n> flang is just a dot on the horizon so far. At least they say they started work on it.\n\nI don't even see dots, apart from some github repos untouched since 2013 or so.\n\nWe can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.",
    "created_at": "2015-05-04T11:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312070",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>Replying to [comment:22 fbissey]:
> Replying to [comment:21 jdemeyer]:
> > `@`fbissey: and the problem is that we really need GCC for Sage, because we need a Fortran compiler and `clang` doesn't (yet) support Fortran.

> 
> I know. Although I have been trying very hard to think about fortran code in sage apart from lapack. I think the only fortran bits where you need a fortran compiler are in atlas, scipy and unfortunately for OS X: R.
> 
> We use the accelerate framework instead of Atlas on OS X, one less fortran thing.
> 
> A fortran compiler is needed while compiling scipy :( lots of fortran code in there.  
> 
> R is more pernicious, you need a fortran compiler on OS X because there is a bug preventing us to use accelerate. 
> 
> flang is just a dot on the horizon so far. At least they say they started work on it.

I don't even see dots, apart from some github repos untouched since 2013 or so.

We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.



---

archive/issue_comments_312071.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 dimpase]:\n> We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.\n\n\nIt's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).",
    "created_at": "2015-05-04T12:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312071",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>Replying to [comment:24 dimpase]:
> We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.


It's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).



---

archive/issue_comments_312072.json:
```json
{
    "body": "<a id='comment:26'></a>About CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.",
    "created_at": "2015-05-04T12:36:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312072",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>About CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.



---

archive/issue_comments_312073.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:26 jdemeyer]:\n> About CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.\n\n\nthey didn't use autotools, I suppose, that's why ;-)",
    "created_at": "2015-05-04T13:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312073",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>Replying to [comment:26 jdemeyer]:
> About CMake: it's very ironic that the `cmake` authors wrote a build system which is supposed to make it easy to build cross-platform software, but they cannot make `cmake` itself build properly! That's really not good advertising for `cmake`.


they didn't use autotools, I suppose, that's why ;-)



---

archive/issue_comments_312074.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:25 jdemeyer]:\n> Replying to [comment:24 dimpase]:\n> > We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.\n\n> \n> It's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).\n\n\nAnd there are still parts of Sage which currently don't build with `clang`...\n\nOtherwise, w.r.t. `gfortran` on MacOS X:  Revive `f2c`! ;-)",
    "created_at": "2015-05-04T19:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312074",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:28'></a>Replying to [comment:25 jdemeyer]:
> Replying to [comment:24 dimpase]:
> > We can consider going back to having a dedicated gfortran package, as it used to be the case before OSX 10.7 (IIRC) broken xcode trouble started, but otherwise use xcode's compilers.

> 
> It's not just a matter of using `gfortran`. It's also a matter of linking code together (good luck linking a library containing pieces compiled by `clang` and other pieces by `gfortran`).


And there are still parts of Sage which currently don't build with `clang`...

Otherwise, w.r.t. `gfortran` on MacOS X:  Revive `f2c`! ;-)



---

archive/issue_comments_312075.json:
```json
{
    "body": "<a id='comment:29'></a>Thanks for trying to compile cmake.\n\nA few comments:\n\n* if csympy is the only package that requires cmake and cmake is impossible to build, we can also support an alternative build system in csympy\n\n* I really like cmake, so let me try to fix these issues first, as I would prefer to keep cmake as the build system (but it needs to reliably build on OS X, both with clang and with gcc)\n\n* I independently discovered lots of similar issues with building cmake with gcc on OS X 10.10 (https://github.com/hashdist/hashstack/issues/746), and just like you noticed, it builds fine with the native clang. As you can see, you can easily tell cmake not to compile in various things and rather reuse them from the system or Sage. I really believe all these issues can be fixed and I am also sure Kitware is itself interested in cmake being able to build, e.g. Robert Maynard from Kitware already commented on my issue above with some tips.\n\nSo I will have a look in the coming days and I will update this issue.",
    "created_at": "2015-05-05T16:32:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312075",
    "user": "https://github.com/certik"
}
```

<a id='comment:29'></a>Thanks for trying to compile cmake.

A few comments:

* if csympy is the only package that requires cmake and cmake is impossible to build, we can also support an alternative build system in csympy

* I really like cmake, so let me try to fix these issues first, as I would prefer to keep cmake as the build system (but it needs to reliably build on OS X, both with clang and with gcc)

* I independently discovered lots of similar issues with building cmake with gcc on OS X 10.10 (https://github.com/hashdist/hashstack/issues/746), and just like you noticed, it builds fine with the native clang. As you can see, you can easily tell cmake not to compile in various things and rather reuse them from the system or Sage. I really believe all these issues can be fixed and I am also sure Kitware is itself interested in cmake being able to build, e.g. Robert Maynard from Kitware already commented on my issue above with some tips.

So I will have a look in the coming days and I will update this issue.



---

archive/issue_comments_312076.json:
```json
{
    "body": "<a id='comment:30'></a>I guess this is still pretty much work in progress, but we certainly should use/tweak a couple of configure options for bootstrapping within Sage, such as for example\n\n```\n  --parallel=n            bootstrap cmake in parallel, where n is\n                          number of nodes [1]\n\n  --no-system-libs        use all cmake-provided third-party libraries\n                          (default)\n\n  --system-zlib           use system-installed zlib library\n  --no-system-zlib        use cmake-provided zlib library (default)\n  --system-bzip2          use system-installed bzip2 library\n  --no-system-bzip2       use cmake-provided bzip2 library (default)\n\n  ...\n```",
    "created_at": "2015-05-06T05:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312076",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:30'></a>I guess this is still pretty much work in progress, but we certainly should use/tweak a couple of configure options for bootstrapping within Sage, such as for example

```
  --parallel=n            bootstrap cmake in parallel, where n is
                          number of nodes [1]

  --no-system-libs        use all cmake-provided third-party libraries
                          (default)

  --system-zlib           use system-installed zlib library
  --no-system-zlib        use cmake-provided zlib library (default)
  --system-bzip2          use system-installed bzip2 library
  --no-system-bzip2       use cmake-provided bzip2 library (default)

  ...
```



---

archive/issue_comments_312077.json:
```json
{
    "body": "Changing commit from \"3aae9bf7905d0cb5ec63eaceef8ee9f590c87463\" to \"c8778a93f2076dd8343e533511a7e6758b1803ab\"",
    "created_at": "2015-06-19T16:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3aae9bf7905d0cb5ec63eaceef8ee9f590c87463" to "c8778a93f2076dd8343e533511a7e6758b1803ab"



---

archive/issue_comments_312078.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-06-19T16:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_312079.json:
```json
{
    "body": "<a id='comment:32'></a>A lot has changed in the handling of optional packages recently, this should be rebased on top of Sage 6.8.beta5.",
    "created_at": "2015-06-19T19:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312079",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>A lot has changed in the handling of optional packages recently, this should be rebased on top of Sage 6.8.beta5.



---

archive/issue_comments_312080.json:
```json
{
    "body": "Changing commit from \"c8778a93f2076dd8343e533511a7e6758b1803ab\" to \"6fea35f5c78f637a50b1cf35d7fa2fb36a58af77\"",
    "created_at": "2015-06-20T07:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c8778a93f2076dd8343e533511a7e6758b1803ab" to "6fea35f5c78f637a50b1cf35d7fa2fb36a58af77"



---

archive/issue_comments_312081.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-06-20T07:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_312082.json:
```json
{
    "body": "<a id='comment:34'></a>Is the OS X patch still needed with `cmake 3.2.3`? If not I suggest bumping to that and I will test it on my OS X box. If it builds I think we can review it positively as an experimental package. While reviewing we have pushed at the optional level of quality in review rather than experimental in my opinion.",
    "created_at": "2015-06-20T09:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312082",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:34'></a>Is the OS X patch still needed with `cmake 3.2.3`? If not I suggest bumping to that and I will test it on my OS X box. If it builds I think we can review it positively as an experimental package. While reviewing we have pushed at the optional level of quality in review rather than experimental in my opinion.



---

archive/issue_comments_312083.json:
```json
{
    "body": "<a id='comment:35'></a>I realise that I thought it was `experimental` because that's what the type says in the git commit. But this ticket says \"optional\" and I think we are getting there so the type will have to be changed too.",
    "created_at": "2015-06-20T09:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312083",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'></a>I realise that I thought it was `experimental` because that's what the type says in the git commit. But this ticket says "optional" and I think we are getting there so the type will have to be changed too.



---

archive/issue_comments_312084.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-21T11:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_312085.json:
```json
{
    "body": "Changing commit from \"6fea35f5c78f637a50b1cf35d7fa2fb36a58af77\" to \"0096eed76cf7cc2fc99953192dc78807501e8f3a\"",
    "created_at": "2015-06-21T11:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6fea35f5c78f637a50b1cf35d7fa2fb36a58af77" to "0096eed76cf7cc2fc99953192dc78807501e8f3a"



---

archive/issue_comments_312086.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-21T11:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312086",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_312087.json:
```json
{
    "body": "<a id='comment:37'></a>Yes, the patch is still needed for 3.2.3\n\nI added experimental because even with the patch 6 tests out of 387 tests in OSX 10.10 fail. Once it is ready to become optional, I'll update the type to optional.",
    "created_at": "2015-06-21T11:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312087",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:37'></a>Yes, the patch is still needed for 3.2.3

I added experimental because even with the patch 6 tests out of 387 tests in OSX 10.10 fail. Once it is ready to become optional, I'll update the type to optional.



---

archive/issue_comments_312088.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+Sage experimental package for CMake\n \n+CMake version 3.2.3\n+\n+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz\n \n Comment: 1\n \n``````\n",
    "created_at": "2015-06-21T11:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312088",
    "user": "https://github.com/isuruf"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+Sage experimental package for CMake
 
+CMake version 3.2.3
+
+Source can be found here, http://www.cmake.org/files/v3.2/cmake-3.2.3.tar.gz
 
 Comment: 1
 
``````




---

archive/issue_comments_312089.json:
```json
{
    "body": "Changing component from packages: optional to packages: experimental.",
    "created_at": "2015-06-21T11:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312089",
    "user": "https://github.com/isuruf"
}
```

Changing component from packages: optional to packages: experimental.



---

archive/issue_comments_312090.json:
```json
{
    "body": "<a id='comment:38'></a>\n```\nInvalid checksum for cached file /usr/local/src/sage-config/upstream/cmake-3.2.3.tar.gz, deleting\n```",
    "created_at": "2015-06-21T16:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312090",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>
```
Invalid checksum for cached file /usr/local/src/sage-config/upstream/cmake-3.2.3.tar.gz, deleting
```



---

archive/issue_comments_312091.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-21T16:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312091",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_312092.json:
```json
{
    "body": "Changing commit from \"0096eed76cf7cc2fc99953192dc78807501e8f3a\" to \"b65bb43a99a3290e10ccf6f752eb160aafb95e89\"",
    "created_at": "2015-06-21T16:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0096eed76cf7cc2fc99953192dc78807501e8f3a" to "b65bb43a99a3290e10ccf6f752eb160aafb95e89"



---

archive/issue_comments_312093.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-21T16:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_312094.json:
```json
{
    "body": "<a id='comment:40'></a>Sorry about that, chrome seems to be playing tricks on me. It's updated now.",
    "created_at": "2015-06-21T16:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312094",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:40'></a>Sorry about that, chrome seems to be playing tricks on me. It's updated now.



---

archive/issue_comments_312095.json:
```json
{
    "body": "<a id='comment:41'></a>It seems that the curl library included with CMake is outdated and needs to be built separately for CMake to work in OSX.",
    "created_at": "2015-07-06T14:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312095",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:41'></a>It seems that the curl library included with CMake is outdated and needs to be built separately for CMake to work in OSX.



---

archive/issue_events_051286.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-06T15:52:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18078#event-51286"
}
```



---

archive/issue_events_051287.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-06T15:52:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18078#event-51287"
}
```



---

archive/issue_comments_312096.json:
```json
{
    "body": "<a id='comment:42'></a>Does it really need `curl`? OSX does ship `curl` just fine...",
    "created_at": "2015-07-06T15:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312096",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>Does it really need `curl`? OSX does ship `curl` just fine...



---

archive/issue_comments_312097.json:
```json
{
    "body": "<a id='comment:43'></a>There are some features that involve downloading. That's why curl is used. \n\nWe can use system installed `curl` for OSX and build `curl` for other systems.",
    "created_at": "2015-07-06T16:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312097",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:43'></a>There are some features that involve downloading. That's why curl is used. 

We can use system installed `curl` for OSX and build `curl` for other systems.



---

archive/issue_comments_312098.json:
```json
{
    "body": "<a id='comment:44'></a>`curl` is really very standard thing on Linux, installed by default. I don't know why `cmake` needs it for anything but Windows...",
    "created_at": "2015-07-06T16:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312098",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'></a>`curl` is really very standard thing on Linux, installed by default. I don't know why `cmake` needs it for anything but Windows...



---

archive/issue_comments_312099.json:
```json
{
    "body": "Changing commit from \"b65bb43a99a3290e10ccf6f752eb160aafb95e89\" to \"d71e284bcb8127523ffff4a0229fa152c0064976\"",
    "created_at": "2015-07-07T13:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b65bb43a99a3290e10ccf6f752eb160aafb95e89" to "d71e284bcb8127523ffff4a0229fa152c0064976"



---

archive/issue_comments_312100.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-07T13:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_312101.json:
```json
{
    "body": "<a id='comment:46'></a>I pushed in a commit to use system curl when building cmake. \n\n`@`dimpase, yes, there's really no need to build curl as it is installed in OSX and Linux. Building cmake in windows is not supported, so no use there either.",
    "created_at": "2015-07-07T13:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312101",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:46'></a>I pushed in a commit to use system curl when building cmake. 

`@`dimpase, yes, there's really no need to build curl as it is installed in OSX and Linux. Building cmake in windows is not supported, so no use there either.



---

archive/issue_comments_312102.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-10T02:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_312103.json:
```json
{
    "body": "Changing commit from \"d71e284bcb8127523ffff4a0229fa152c0064976\" to \"cb96c05fd4703db60f0d6762127245f981639b44\"",
    "created_at": "2015-07-10T02:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d71e284bcb8127523ffff4a0229fa152c0064976" to "cb96c05fd4703db60f0d6762127245f981639b44"



---

archive/issue_comments_312104.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-07-21T14:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312104",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_312105.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fran\u00e7ois Bissey\"",
    "created_at": "2015-09-01T01:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312105",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "" to "Fran√ßois Bissey"



---

archive/issue_events_051288.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-01T01:59:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18078#event-51288"
}
```



---

archive/issue_events_051289.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-01T01:59:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18078#event-51289"
}
```



---

archive/issue_comments_312106.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-01T01:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312106",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_312107.json:
```json
{
    "body": "<a id='comment:49'></a>Let's get this in, this is experimental after all.",
    "created_at": "2015-09-01T01:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312107",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:49'></a>Let's get this in, this is experimental after all.



---

archive/issue_events_051290.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-02T17:25:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18078#event-51290"
}
```



---

archive/issue_comments_312108.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-09-02T17:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312108",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_312109.json:
```json
{
    "body": "Changing branch from \"u/isuruf/cmake_optional_package\" to \"cb96c05fd4703db60f0d6762127245f981639b44\"",
    "created_at": "2015-09-02T17:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18078#issuecomment-312109",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/isuruf/cmake_optional_package" to "cb96c05fd4703db60f0d6762127245f981639b44"
