# Issue 18944: Posets: maximal_chains() partial-option broken

archive/issues_018707.json:
```json
{
    "body": "`partial`-argument on `maximal_chains()` of finite posets is broken. The error is at `posets.py`.\n\n```\nP = Posets.BooleanLattice(2)\nP.maximal_chains(partial=[1, 2])\n```\n\noutputs `[This is the Trac macro *1, 2, 3* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1, 2, 3-macro)` which is not a chain at all. Best correction is to remove the option.\n\n**CC:**  @tscrim\n\n**Keywords:** posets\n\n**Branch/Commit:** [95921411b2f06f9ff6477f4f3d5e77621cc8ac52](https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/18944\n\n",
    "closed_at": "2021-10-13T22:50:23Z",
    "created_at": "2015-07-23T09:03:22Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Posets: maximal_chains() partial-option broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18944",
    "user": "https://github.com/jm58660"
}
```
`partial`-argument on `maximal_chains()` of finite posets is broken. The error is at `posets.py`.

```
P = Posets.BooleanLattice(2)
P.maximal_chains(partial=[1, 2])
```

outputs `[This is the Trac macro *1, 2, 3* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1, 2, 3-macro)` which is not a chain at all. Best correction is to remove the option.

**CC:**  @tscrim

**Keywords:** posets

**Branch/Commit:** [95921411b2f06f9ff6477f4f3d5e77621cc8ac52](https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/18944





---

archive/issue_comments_268550.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0\">eeefd9d</a></td><td><code>Correction to maximal_chains.</code></td></tr></table>\n",
    "created_at": "2015-07-23T09:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268550",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0">eeefd9d</a></td><td><code>Correction to maximal_chains.</code></td></tr></table>




---

archive/issue_comments_268551.json:
```json
{
    "body": "**Commit:** [eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0](https://github.com/sagemath/sagetrac-mirror/commit/eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0)",
    "created_at": "2015-07-23T09:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268551",
    "user": "https://github.com/jm58660"
}
```

**Commit:** [eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0](https://github.com/sagemath/sagetrac-mirror/commit/eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0)



---

archive/issue_comments_268552.json:
```json
{
    "body": "**Branch:** [u/jmantysalo/maximal_chains](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/maximal_chains)",
    "created_at": "2015-07-23T09:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268552",
    "user": "https://github.com/jm58660"
}
```

**Branch:** [u/jmantysalo/maximal_chains](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/maximal_chains)



---

archive/issue_comments_268553.json:
```json
{
    "body": "<a id='comment:2'></a>\nNathann, some questions: 1) Can you confirm that this is right way to get maximal chains of a poset? 2) What you think about this kind of \"deprecation\", where I removed broken functionality with warning?\n\nAnd for most important part, 3) what about `chain_polytope`? This brokes doctest. Who knows if it has been broken all the time? Should I just let it be, and move (broken) old version on `maximal_chains` inside `chain_polytope`?\n\n(This is kind of child-ticket of #18941.)",
    "created_at": "2015-07-23T09:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268553",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>
Nathann, some questions: 1) Can you confirm that this is right way to get maximal chains of a poset? 2) What you think about this kind of "deprecation", where I removed broken functionality with warning?

And for most important part, 3) what about `chain_polytope`? This brokes doctest. Who knows if it has been broken all the time? Should I just let it be, and move (broken) old version on `maximal_chains` inside `chain_polytope`?

(This is kind of child-ticket of #18941.)



---

archive/issue_comments_268554.json:
```json
{
    "body": "<a id='comment:3'></a>\nHello,\n\n> 1) Can you confirm that this is right way to get maximal chains of a poset?\n\n\nHmmmmm... Well it *would*, if `all_paths_iterator` actually did only what it claimed (it actually returns path sorted by distance, and you do not want that nor should you pay for that). This being said, this is precisely the function that you should call, and if it does not do what it should, well, that's a problem interal to `all_paths_iterator`.\n\n2) What you think about this kind of \"deprecation\", where I removed broken functionality with warning?\n\nI do not see the point of displaying a warning before raising an exception. Better to only raise an exception, or to remove the optiona flag directly.\n\nNot that \"by Sage standards\" this should not be done. My usual procedure is to write to Sage devel to ask if I can remove it, have 50 persons who usually never show up yell a me, and do nothing in the end because the community disagrees. Pick your path.\n\n> And for most important part, 3) what about `chain_polytope`?\n\n\nI don't understand what you are talking about.\n\nNathann",
    "created_at": "2015-07-23T10:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268554",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
Hello,

> 1) Can you confirm that this is right way to get maximal chains of a poset?


Hmmmmm... Well it *would*, if `all_paths_iterator` actually did only what it claimed (it actually returns path sorted by distance, and you do not want that nor should you pay for that). This being said, this is precisely the function that you should call, and if it does not do what it should, well, that's a problem interal to `all_paths_iterator`.

2) What you think about this kind of "deprecation", where I removed broken functionality with warning?

I do not see the point of displaying a warning before raising an exception. Better to only raise an exception, or to remove the optiona flag directly.

Not that "by Sage standards" this should not be done. My usual procedure is to write to Sage devel to ask if I can remove it, have 50 persons who usually never show up yell a me, and do nothing in the end because the community disagrees. Pick your path.

> And for most important part, 3) what about `chain_polytope`?


I don't understand what you are talking about.

Nathann



---

archive/issue_comments_268555.json:
```json
{
    "body": "<a id='comment:4'></a>\nAs for question 3, just run `sage -t` to `posets.py`.\n\nAbout 1: How it does that on iterator? But yes, with `BooleanLattice(8)` it seems to be about 3 times slower to use the function from digraphs.",
    "created_at": "2015-07-23T11:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268555",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>
As for question 3, just run `sage -t` to `posets.py`.

About 1: How it does that on iterator? But yes, with `BooleanLattice(8)` it seems to be about 3 times slower to use the function from digraphs.



---

archive/issue_comments_268556.json:
```json
{
    "body": "<a id='comment:5'></a>\nAs best I can tell, this isn't a broken function, it's bad input. `[1,2]` represents the two incomparable elements of `BooleanLattice(2)`, so they'll never be the start of a maximal chain. I think the better course of action would be to implement a check to ensure that `partial` is a saturated chain in the poset, starting with a minimal element. \n\nI think the description also needs to be clarified, because it's not clear just from reading it whether `partial=[0,1]` means listing all maximal chains with minimal element 0 or minimal element 1 (which is not what this does), or if it it means listing all maximal chains that have 0 as the minimal element and 1 as it's second element (which is what it does).",
    "created_at": "2015-08-06T18:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268556",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:5'></a>
As best I can tell, this isn't a broken function, it's bad input. `[1,2]` represents the two incomparable elements of `BooleanLattice(2)`, so they'll never be the start of a maximal chain. I think the better course of action would be to implement a check to ensure that `partial` is a saturated chain in the poset, starting with a minimal element. 

I think the description also needs to be clarified, because it's not clear just from reading it whether `partial=[0,1]` means listing all maximal chains with minimal element 0 or minimal element 1 (which is not what this does), or if it it means listing all maximal chains that have 0 as the minimal element and 1 as it's second element (which is what it does).



---

archive/issue_comments_268557.json:
```json
{
    "body": "<a id='comment:6'></a>\nBut in any case, if we just add a check for input to be comparable elements, then `chain_polytope` will broke. It relies on this (odd / buggy?) behavior.\n\nAnd who will want \"partial maximal chains\" in first place? To compare: there is `exclude`-option in `chains()`.",
    "created_at": "2015-08-08T20:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268557",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
But in any case, if we just add a check for input to be comparable elements, then `chain_polytope` will broke. It relies on this (odd / buggy?) behavior.

And who will want "partial maximal chains" in first place? To compare: there is `exclude`-option in `chains()`.



---

archive/issue_comments_268558.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6a4ae2b1f7f887b58a49af5c1607640c7821dde\">e6a4ae2</a></td><td><code>Removed broken partial-option from maximal_chains().</code></td></tr></table>\n",
    "created_at": "2015-09-15T06:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6a4ae2b1f7f887b58a49af5c1607640c7821dde">e6a4ae2</a></td><td><code>Removed broken partial-option from maximal_chains().</code></td></tr></table>




---

archive/issue_comments_268559.json:
```json
{
    "body": "**Changing commit** from \"[eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0](https://github.com/sagemath/sagetrac-mirror/commit/eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0)\" to \"[e6a4ae2b1f7f887b58a49af5c1607640c7821dde](https://github.com/sagemath/sagetrac-mirror/commit/e6a4ae2b1f7f887b58a49af5c1607640c7821dde)\".",
    "created_at": "2015-09-15T06:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0](https://github.com/sagemath/sagetrac-mirror/commit/eeefd9d2c4184a3f60f505a7851ec3ff16eb7bf0)" to "[e6a4ae2b1f7f887b58a49af5c1607640c7821dde](https://github.com/sagemath/sagetrac-mirror/commit/e6a4ae2b1f7f887b58a49af5c1607640c7821dde)".



---

archive/issue_events_170386.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-09-15T06:46:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170386"
}
```



---

archive/issue_comments_268560.json:
```json
{
    "body": "<a id='comment:8'></a>\nAlso `chain_polytope()` (not only `order_complex()`) relies on this (IMO) broken `maximal_chains()` -function. Hence I made an internal copy of it with name `_max_chains()`. At least all doctests pass now. For a user perspective everything should be as before, except that `partial`-option is gone.",
    "created_at": "2015-09-15T06:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268560",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>
Also `chain_polytope()` (not only `order_complex()`) relies on this (IMO) broken `maximal_chains()` -function. Hence I made an internal copy of it with name `_max_chains()`. At least all doctests pass now. For a user perspective everything should be as before, except that `partial`-option is gone.



---

archive/issue_comments_268561.json:
```json
{
    "body": "<a id='comment:9'></a>\nI agree with Kevin, bad input is bad input and you should not expect correct behavior. So there is no counterexample to the function working as documented, but we should raise an error when not given a saturated chain.",
    "created_at": "2015-09-16T15:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268561",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
I agree with Kevin, bad input is bad input and you should not expect correct behavior. So there is no counterexample to the function working as documented, but we should raise an error when not given a saturated chain.



---

archive/issue_events_170387.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-16T15:10:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170387"
}
```



---

archive/issue_events_170388.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-16T15:10:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170388"
}
```



---

archive/issue_events_170389.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-16T15:10:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170389"
}
```



---

archive/issue_events_170390.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-09-16T15:10:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170390"
}
```



---

archive/issue_comments_268562.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [tscrim](#comment%3A9):\n> I agree with Kevin, bad input is bad input and you should not expect correct behavior. So there is no counterexample to the function working as documented, but we should raise an error when not given a saturated chain.\n\n\nShould `partial` be a saturated chain starting from some minimal element? Should it be ordered?\n\nAnd why it should be saturated? If `a`, `b` and `c` are comparable, then `maximal_chains(partial=[a,b,c])` can be well defined: return every maximal chain that contains all three elements. On the other hand, `chains()` have `exclude`-option, not `include`. (Of course there are FOUR ways to have argument like this: include some element, include all elements, do not include all elements, do not include any of elements.)\n\nI am quite sure that this function has been made just as a helper function, without thinking someone to use `partial` directly.",
    "created_at": "2015-09-16T15:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268562",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>
Replying to [tscrim](#comment%3A9):
> I agree with Kevin, bad input is bad input and you should not expect correct behavior. So there is no counterexample to the function working as documented, but we should raise an error when not given a saturated chain.


Should `partial` be a saturated chain starting from some minimal element? Should it be ordered?

And why it should be saturated? If `a`, `b` and `c` are comparable, then `maximal_chains(partial=[a,b,c])` can be well defined: return every maximal chain that contains all three elements. On the other hand, `chains()` have `exclude`-option, not `include`. (Of course there are FOUR ways to have argument like this: include some element, include all elements, do not include all elements, do not include any of elements.)

I am quite sure that this function has been made just as a helper function, without thinking someone to use `partial` directly.



---

archive/issue_events_170391.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-09-16T15:52:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170391"
}
```



---

archive/issue_events_170392.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-09-16T15:52:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170392"
}
```



---

archive/issue_comments_268563.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe code seems to be assuming that it is ordered:\n\n```\nsage: P.maximal_chains(partial=[0,1])\n[[0, 1, 3]]\nsage: P.maximal_chains(partial=[1,0])\n[[1, 0, 1, 3], [1, 0, 2, 3]]\n```\nThe documentation says \"begins with\", that is the saturated part. I'm not opposed to changing the behavior to removing the saturated condition, but it would make the code a lot more complex (i.e., likely non-recursive).",
    "created_at": "2015-09-16T16:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268563",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
The code seems to be assuming that it is ordered:

```
sage: P.maximal_chains(partial=[0,1])
[[0, 1, 3]]
sage: P.maximal_chains(partial=[1,0])
[[1, 0, 1, 3], [1, 0, 2, 3]]
```
The documentation says "begins with", that is the saturated part. I'm not opposed to changing the behavior to removing the saturated condition, but it would make the code a lot more complex (i.e., likely non-recursive).



---

archive/issue_comments_268564.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [tscrim](#comment%3A11):\n> I'm not opposed to changing the behavior to removing the saturated condition, but it would make the code a lot more complex (i.e., likely non-recursive).\n\n\nNot necessarily, as digraphs already have `all_paths(start, end)`. A PoC:\n\n```\nP = Posets.BooleanLattice(5)\ng = P.hasse_diagram()\nk = [1,11,31]\nfor x in [flatten(c) for c in CartesianProduct(*[g.all_paths(k[i],k[i+1]) for i in range(len(k)-1)])]:\n    print [x[i] for i in range(len(x)) if x[i] != x[i-1]]\n```\n\nBut in that case the name of the parameter should be `include`, not `partial`.\n\nI still think that we could remove it. Maybe with deprecation that mentions `_max_chains()`?",
    "created_at": "2015-09-16T17:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268564",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>
Replying to [tscrim](#comment%3A11):
> I'm not opposed to changing the behavior to removing the saturated condition, but it would make the code a lot more complex (i.e., likely non-recursive).


Not necessarily, as digraphs already have `all_paths(start, end)`. A PoC:

```
P = Posets.BooleanLattice(5)
g = P.hasse_diagram()
k = [1,11,31]
for x in [flatten(c) for c in CartesianProduct(*[g.all_paths(k[i],k[i+1]) for i in range(len(k)-1)])]:
    print [x[i] for i in range(len(x)) if x[i] != x[i-1]]
```

But in that case the name of the parameter should be `include`, not `partial`.

I still think that we could remove it. Maybe with deprecation that mentions `_max_chains()`?



---

archive/issue_comments_268565.json:
```json
{
    "body": "<a id='comment:13'></a>\nIf it's easy and fast enough, then let's do it.\n\nI don't think we should remove `partial` as that just pushes useful (evident it is used in other parts of sage) functionality to a hidden place.",
    "created_at": "2015-09-16T17:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268565",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
If it's easy and fast enough, then let's do it.

I don't think we should remove `partial` as that just pushes useful (evident it is used in other parts of sage) functionality to a hidden place.



---

archive/issue_comments_268566.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [tscrim](#comment%3A13):\n\n> I don't think we should remove `partial` as that just pushes useful (evident it is used in other parts of sage) functionality to a hidden place.\n\n\nThis argument fails: use in other places (there is two) needs the broken behavior. But I guess we are not keeping public funtion `maximal_chains()` that returns trees that are not chains.",
    "created_at": "2015-09-17T05:01:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268566",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'></a>
Replying to [tscrim](#comment%3A13):

> I don't think we should remove `partial` as that just pushes useful (evident it is used in other parts of sage) functionality to a hidden place.


This argument fails: use in other places (there is two) needs the broken behavior. But I guess we are not keeping public funtion `maximal_chains()` that returns trees that are not chains.



---

archive/issue_comments_268567.json:
```json
{
    "body": "<a id='comment:15'></a>\nI am still wondering about this... Other parts of Sage relies on broken or non-defined behaviour of `partial` argument. It feels bad design.",
    "created_at": "2016-07-18T10:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268567",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:15'></a>
I am still wondering about this... Other parts of Sage relies on broken or non-defined behaviour of `partial` argument. It feels bad design.



---

archive/issue_comments_268568.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [jmantysalo](#comment%3A15):\n> I am still wondering about this... Other parts of Sage relies on broken or non-defined behaviour of `partial` argument. It feels bad design.\n\n\nWe will probably need to make adjustments to the other parts the break. I haven't checked (and/or don't remember) how much the other behavior relies on the current functionality. Also I still think we should not remove the `partial`, but maybe we should just have some checks on that input.",
    "created_at": "2016-07-18T14:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268568",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Replying to [jmantysalo](#comment%3A15):
> I am still wondering about this... Other parts of Sage relies on broken or non-defined behaviour of `partial` argument. It feels bad design.


We will probably need to make adjustments to the other parts the break. I haven't checked (and/or don't remember) how much the other behavior relies on the current functionality. Also I still think we should not remove the `partial`, but maybe we should just have some checks on that input.



---

archive/issue_comments_268569.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [tscrim](#comment%3A16):\n> Replying to [jmantysalo](#comment%3A15):\n> > I am still wondering about this... Other parts of Sage relies on broken or non-defined behaviour of `partial` argument. It feels bad design.\n\n> \n> We will probably need to make adjustments to the other parts the break. I haven't checked (and/or don't remember) how much the other behavior relies on the current functionality. Also I still think we should not remove the `partial`, but maybe we should just have some checks on that input.\n\n\nThere are two places that depends on this broken behaviour. They are not hard to fix, if we do that in ugly but working way.\n\nCan you give examples of what you mean by \"partial maximal chain\"?\n\nFor `chains()` we have `exclude`-option. This `partial`-option would be something like `include`, I guess.",
    "created_at": "2016-07-19T08:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268569",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:17'></a>
Replying to [tscrim](#comment%3A16):
> Replying to [jmantysalo](#comment%3A15):
> > I am still wondering about this... Other parts of Sage relies on broken or non-defined behaviour of `partial` argument. It feels bad design.

> 
> We will probably need to make adjustments to the other parts the break. I haven't checked (and/or don't remember) how much the other behavior relies on the current functionality. Also I still think we should not remove the `partial`, but maybe we should just have some checks on that input.


There are two places that depends on this broken behaviour. They are not hard to fix, if we do that in ugly but working way.

Can you give examples of what you mean by "partial maximal chain"?

For `chains()` we have `exclude`-option. This `partial`-option would be something like `include`, I guess.



---

archive/issue_comments_268570.json:
```json
{
    "body": "<a id='comment:18'></a>\nMy guess is like you said, that it that every maximal chain must contain elements (i.e., this partial maximal chain).",
    "created_at": "2016-07-19T20:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268570",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
My guess is like you said, that it that every maximal chain must contain elements (i.e., this partial maximal chain).



---

archive/issue_comments_268571.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [tscrim](#comment%3A18):\n> My guess is like you said, that it that every maximal chain must contain elements (i.e., this partial maximal chain).\n\n\nThen it conflicts with current behaviour. Try\n\n```\nP = Posets.BooleanLattice(3)\nP.maximal_chains([1])\n```\n\nHence we would need a deprecation in any case.",
    "created_at": "2016-07-20T15:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268571",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:19'></a>
Replying to [tscrim](#comment%3A18):
> My guess is like you said, that it that every maximal chain must contain elements (i.e., this partial maximal chain).


Then it conflicts with current behaviour. Try

```
P = Posets.BooleanLattice(3)
P.maximal_chains([1])
```

Hence we would need a deprecation in any case.



---

archive/issue_comments_268572.json:
```json
{
    "body": "<a id='comment:20'></a>\nSo the documentation indicates that this method should find all maximal chains that beings with `partial`. Hence, a priori, we don't actually require the result when given `partial` to be a maximal chain of the poset (or at least, whether that is a requirement is vague). We might just have to actually update the documentation and maybe deal with the cases when the partial is not some interval.",
    "created_at": "2016-07-20T15:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268572",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
So the documentation indicates that this method should find all maximal chains that beings with `partial`. Hence, a priori, we don't actually require the result when given `partial` to be a maximal chain of the poset (or at least, whether that is a requirement is vague). We might just have to actually update the documentation and maybe deal with the cases when the partial is not some interval.



---

archive/issue_comments_268573.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [tscrim](#comment%3A20):\n> We might just have to actually update the documentation and maybe deal with the cases when the partial is not some interval.\n\n\nBut two other functions require that the function gives list of elements that are not a chain.",
    "created_at": "2016-07-20T16:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268573",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:21'></a>
Replying to [tscrim](#comment%3A20):
> We might just have to actually update the documentation and maybe deal with the cases when the partial is not some interval.


But two other functions require that the function gives list of elements that are not a chain.



---

archive/issue_comments_268574.json:
```json
{
    "body": "<a id='comment:22'></a>\nLet us just fix the documentation.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52\">9592141</a></td><td><code>fix some doc in posets</code></td></tr></table>\n",
    "created_at": "2021-10-11T14:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268574",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
Let us just fix the documentation.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52">9592141</a></td><td><code>fix some doc in posets</code></td></tr></table>




---

archive/issue_comments_268575.json:
```json
{
    "body": "**Changing commit** from \"[e6a4ae2b1f7f887b58a49af5c1607640c7821dde](https://github.com/sagemath/sagetrac-mirror/commit/e6a4ae2b1f7f887b58a49af5c1607640c7821dde)\" to \"[95921411b2f06f9ff6477f4f3d5e77621cc8ac52](https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52)\".",
    "created_at": "2021-10-11T14:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268575",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[e6a4ae2b1f7f887b58a49af5c1607640c7821dde](https://github.com/sagemath/sagetrac-mirror/commit/e6a4ae2b1f7f887b58a49af5c1607640c7821dde)" to "[95921411b2f06f9ff6477f4f3d5e77621cc8ac52](https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52)".



---

archive/issue_comments_268576.json:
```json
{
    "body": "**Changing branch** from \"[u/jmantysalo/maximal_chains](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/maximal_chains)\" to \"[u/chapoton/18944](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18944)\".",
    "created_at": "2021-10-11T14:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268576",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/jmantysalo/maximal_chains](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/maximal_chains)" to "[u/chapoton/18944](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18944)".



---

archive/issue_events_170393.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-11T14:36:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170393"
}
```



---

archive/issue_events_170394.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-11T14:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170394"
}
```



---

archive/issue_comments_268577.json:
```json
{
    "body": "**Changing author** from \"Jori M\u00e4ntysalo\" to \"Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2021-10-11T14:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268577",
    "user": "https://github.com/fchapoton"
}
```

**Changing author** from "Jori Mäntysalo" to "Frédéric Chapoton".



---

archive/issue_events_170395.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-11T18:22:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170395"
}
```



---

archive/issue_events_170396.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-11T18:22:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170396"
}
```



---

archive/issue_events_170397.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-12T00:26:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170397"
}
```



---

archive/issue_events_170398.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-12T00:26:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170398"
}
```



---

archive/issue_comments_268578.json:
```json
{
    "body": "<a id='comment:24'></a>\nLGTM.",
    "created_at": "2021-10-12T00:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268578",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
LGTM.



---

archive/issue_comments_268579.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2021-10-12T00:26:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268579",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_268580.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/18944](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18944)\" to \"[95921411b2f06f9ff6477f4f3d5e77621cc8ac52](https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52)\".",
    "created_at": "2021-10-13T22:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18944#issuecomment-268580",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/18944](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/18944)" to "[95921411b2f06f9ff6477f4f3d5e77621cc8ac52](https://github.com/sagemath/sagetrac-mirror/commit/95921411b2f06f9ff6477f4f3d5e77621cc8ac52)".



---

archive/issue_events_170399.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-13T22:50:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170399"
}
```



---

archive/issue_events_170400.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-13T22:50:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18944",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18944#event-170400"
}
```
