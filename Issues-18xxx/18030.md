# Issue 18030: Clean-up stdsage.pxi includes

archive/issues_017793.json:
```json
{
    "body": "\n\nBranch/Commit: 00db4b2ce1e441578db6c939af4f399c2736ccd8\n\nReviewer: Peter Bruin\n\nAuthor: Jeroen Demeyer\n\nDependencies: #18007, #18145\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18030\n\n",
    "closed_at": "2015-04-15T13:58:18Z",
    "created_at": "2015-03-21T14:12:26Z",
    "labels": [
        "component: cython"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Clean-up stdsage.pxi includes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18030",
    "user": "https://github.com/jdemeyer"
}
```


Branch/Commit: 00db4b2ce1e441578db6c939af4f399c2736ccd8

Reviewer: Peter Bruin

Author: Jeroen Demeyer

Dependencies: #18007, #18145

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18030





---

archive/issue_comments_253693.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-21T15:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253693",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_253694.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2015-03-21T15:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253694",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_253695.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T16:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253695",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253696.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-03-21T16:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253696",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_253697.json:
```json
{
    "body": "<a id='comment:5'></a>Looks good to me.",
    "created_at": "2015-03-25T16:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253697",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:5'></a>Looks good to me.



---

archive/issue_comments_253698.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-25T16:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253698",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_253699.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-04-10T22:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253699",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_253700.json:
```json
{
    "body": "<a id='comment:6'></a>\n```\nCythonizing sage/sat/solvers/cryptominisat/solverconf.pyx\n\nError compiling Cython file:\n------------------------------------------------------------\n...\n        cdef uint32_t *learnt1 = get_unitary_learnts_helper(self._solver,&num)\n\n        r = []\n        for i in range(num):\n            r.append( (-1)**int(learnt1[i]&1) * (int(learnt1[i]>>1)+1) )\n        sage_free(learnt1)\n                ^\n------------------------------------------------------------\n\nsage/sat/solvers/cryptominisat/cryptominisat.pyx:415:17: undeclared name not builtin: sage_free\n\nError compiling Cython file:\n------------------------------------------------------------\n...\n        cdef uint32_t *learnt1 = get_unitary_learnts_helper(self._solver,&num)\n\n        r = []\n        for i in range(num):\n            r.append( (-1)**int(learnt1[i]&1) * (int(learnt1[i]>>1)+1) )\n        sage_free(learnt1)\n                        ^\n------------------------------------------------------------\n\nsage/sat/solvers/cryptominisat/cryptominisat.pyx:415:25: Cannot convert 'uint32_t *' to Python object\n\nError compiling Cython file:\n------------------------------------------------------------\n...\n\n        r = []\n        for i in range(num):\n            clause = learnt[i]\n            C = [(-1)**int(clause[j]&1) * (int(clause[j]>>1)+1) for j in range(1,clause[0]+1)]\n            sage_free(clause)\n                           ^\n------------------------------------------------------------\n\nsage/sat/solvers/cryptominisat/cryptominisat.pyx:427:28: Cannot convert 'uint32_t *' to Python object\n\nError compiling Cython file:\n------------------------------------------------------------\n...\n        for i in range(num):\n            clause = learnt[i]\n            C = [(-1)**int(clause[j]&1) * (int(clause[j]>>1)+1) for j in range(1,clause[0]+1)]\n            sage_free(clause)\n            r.append(tuple(C))\n        sage_free(learnt)\n                       ^\n------------------------------------------------------------\n\nsage/sat/solvers/cryptominisat/cryptominisat.pyx:429:24: Cannot convert 'uint32_t **' to Python object\nTraceback (most recent call last):\n  File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py\", line 1003, in cythonize_one_helper\n    return cythonize_one(*m[1:])\n  File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py\", line 985, in cythonize_one\n```",
    "created_at": "2015-04-10T22:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253700",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
```
Cythonizing sage/sat/solvers/cryptominisat/solverconf.pyx

Error compiling Cython file:
------------------------------------------------------------
...
        cdef uint32_t *learnt1 = get_unitary_learnts_helper(self._solver,&num)

        r = []
        for i in range(num):
            r.append( (-1)**int(learnt1[i]&1) * (int(learnt1[i]>>1)+1) )
        sage_free(learnt1)
                ^
------------------------------------------------------------

sage/sat/solvers/cryptominisat/cryptominisat.pyx:415:17: undeclared name not builtin: sage_free

Error compiling Cython file:
------------------------------------------------------------
...
        cdef uint32_t *learnt1 = get_unitary_learnts_helper(self._solver,&num)

        r = []
        for i in range(num):
            r.append( (-1)**int(learnt1[i]&1) * (int(learnt1[i]>>1)+1) )
        sage_free(learnt1)
                        ^
------------------------------------------------------------

sage/sat/solvers/cryptominisat/cryptominisat.pyx:415:25: Cannot convert 'uint32_t *' to Python object

Error compiling Cython file:
------------------------------------------------------------
...

        r = []
        for i in range(num):
            clause = learnt[i]
            C = [(-1)**int(clause[j]&1) * (int(clause[j]>>1)+1) for j in range(1,clause[0]+1)]
            sage_free(clause)
                           ^
------------------------------------------------------------

sage/sat/solvers/cryptominisat/cryptominisat.pyx:427:28: Cannot convert 'uint32_t *' to Python object

Error compiling Cython file:
------------------------------------------------------------
...
        for i in range(num):
            clause = learnt[i]
            C = [(-1)**int(clause[j]&1) * (int(clause[j]>>1)+1) for j in range(1,clause[0]+1)]
            sage_free(clause)
            r.append(tuple(C))
        sage_free(learnt)
                       ^
------------------------------------------------------------

sage/sat/solvers/cryptominisat/cryptominisat.pyx:429:24: Cannot convert 'uint32_t **' to Python object
Traceback (most recent call last):
  File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py", line 1003, in cythonize_one_helper
    return cythonize_one(*m[1:])
  File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/Cython-0.22-py2.7-linux-x86_64.egg/Cython/Build/Dependencies.py", line 985, in cythonize_one
```



---

archive/issue_comments_253701.json:
```json
{
    "body": "<a id='comment:7'></a>This is exactly the problem that #18145 was meant to detect, so that ticket did its job.",
    "created_at": "2015-04-11T09:22:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253701",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>This is exactly the problem that #18145 was meant to detect, so that ticket did its job.



---

archive/issue_comments_253702.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-11T10:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253703.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-11T10:03:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253703",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_253704.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-11T10:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253704",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_253705.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-11T11:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253706.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-11T11:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253706",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_253707.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-13T06:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253707",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_253708.json:
```json
{
    "body": "<a id='comment:14'></a>Passes tests again (I tested this merged with 6.6.rc3).",
    "created_at": "2015-04-13T06:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253708",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:14'></a>Passes tests again (I tested this merged with 6.6.rc3).



---

archive/issue_comments_253709.json:
```json
{
    "body": "<a id='comment:15'></a>Conflicts, merge in 6.7.rc0",
    "created_at": "2015-04-14T20:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253709",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>Conflicts, merge in 6.7.rc0



---

archive/issue_comments_253710.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-04-14T20:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253710",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_253711.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-15T06:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_253712.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-15T06:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253712",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_253713.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-15T10:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253713",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_051203.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-15T13:58:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18030#event-51203"
}
```



---

archive/issue_comments_253714.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-15T13:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18030#issuecomment-253714",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
