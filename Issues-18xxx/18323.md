# Issue 18323: switch to C++11 when compiling some cython files

archive/issues_018086.json:
```json
{
    "assignees": [],
    "body": "C++11 is needed by a development version of Pynac, and GCC 5.x's `g++` again got stricter w.r.t. C++ standard conformance (while it still *defaults* to `-std=gnu++98`).\n\nSage needs `-std=c++11` for at least all files that import ginac headers, that is, for \n\n```\nsrc/sage/symbolic/constants_c.pyx\nsrc/sage/symbolic/expression.pyx\nsrc/sage/symbolic/function.pyx\nsrc/sage/symbolic/getitem.pyx\nsrc/sage/symbolic/pynac.pyx\nsrc/sage/symbolic/ring.pyx\nsrc/sage/symbolic/substitution_map.pyx\n```\n\n\nDepends on #18450\n\nKeywords: **c++ gcc cxx gcc5**\n\nBranch/Commit: **[u/rws/18323-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323-1) @ [7fd25bc](https://github.com/sagemath/sagetrac-mirror/commit/7fd25bc1eea60abb8f686d611bd40f69996d343f)**\n\nReviewer: **Jeroen Demeyer**\n\nDependencies: **#18450, C++11 compiler**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18323_\n\n",
    "closed_at": "2015-09-30T21:51:19Z",
    "created_at": "2015-04-28T16:11:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "switch to C++11 when compiling some cython files",
    "type": "issue",
    "updated_at": "2015-09-30T21:51:19Z",
    "url": "https://github.com/sagemath/sage/issues/18323",
    "user": "https://github.com/rwst"
}
```
C++11 is needed by a development version of Pynac, and GCC 5.x's `g++` again got stricter w.r.t. C++ standard conformance (while it still *defaults* to `-std=gnu++98`).

Sage needs `-std=c++11` for at least all files that import ginac headers, that is, for 

```
src/sage/symbolic/constants_c.pyx
src/sage/symbolic/expression.pyx
src/sage/symbolic/function.pyx
src/sage/symbolic/getitem.pyx
src/sage/symbolic/pynac.pyx
src/sage/symbolic/ring.pyx
src/sage/symbolic/substitution_map.pyx
```


Depends on #18450

Keywords: **c++ gcc cxx gcc5**

Branch/Commit: **[u/rws/18323-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323-1) @ [7fd25bc](https://github.com/sagemath/sagetrac-mirror/commit/7fd25bc1eea60abb8f686d611bd40f69996d343f)**

Reviewer: **Jeroen Demeyer**

Dependencies: **#18450, C++11 compiler**

_Issue created by migration from https://trac.sagemath.org/ticket/18323_





---

archive/issue_events_233993.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-28T16:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-233993"
}
```



---

archive/issue_events_233994.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-28T16:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-233994"
}
```



---

archive/issue_events_233995.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-28T16:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-233995"
}
```



---

archive/issue_comments_254259.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nWell, we don't **have to** compile everything in C++ (implicitly or explicitly) with `-std=c++11`, but Lcalc's special anyway (cf. [#12437 comment:15](https://github.com/sagemath/sage/issues/12437#comment:15) for example).  See also #12426 and many (already closed) tickets dealing with C++11/GCC 4.7, 5.x.",
    "created_at": "2015-04-28T17:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254259",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:1'>Comment 1:</a>
Well, we don't **have to** compile everything in C++ (implicitly or explicitly) with `-std=c++11`, but Lcalc's special anyway (cf. [#12437 comment:15](https://github.com/sagemath/sage/issues/12437#comment:15) for example).  See also #12426 and many (already closed) tickets dealing with C++11/GCC 4.7, 5.x.



---

archive/issue_comments_254260.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nP.S.:  While the GCC 4.6 and 4.7 series reached \"end of life\", there are still (LTS) distros using these.",
    "created_at": "2015-04-28T17:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254260",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:2'>Comment 2:</a>
P.S.:  While the GCC 4.6 and 4.7 series reached "end of life", there are still (LTS) distros using these.



---

archive/issue_comments_254261.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nRemember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?",
    "created_at": "2015-04-28T23:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254261",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'>Comment 3:</a>
Remember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?



---

archive/issue_comments_254262.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nWe should list all the other tickets for `C++11` or have a meta ticket somewhere.",
    "created_at": "2015-04-29T00:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254262",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'>Comment 4:</a>
We should list all the other tickets for `C++11` or have a meta ticket somewhere.



---

archive/issue_comments_254263.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@kiwifb](#comment%3A3):\n> Remember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?\n\nAhem, like #18326, which is a duplicate of #18247? B)",
    "created_at": "2015-04-29T01:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254263",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@kiwifb](#comment%3A3):
> Remember also that gcc 5.1 is defaulting to `-std=gnu11` for C so there may be other surprises but you would already have noticed them I am guessing?

Ahem, like #18326, which is a duplicate of #18247? B)



---

archive/issue_comments_254264.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@kiwifb](#comment%3A4):\n> We should list all the other tickets for `C++11` or have a meta ticket somewhere. \n\nWe've already done a lot in that direction in the past, see for example the closed metaticket on GCC 4.7.0 (#12751), or [search for C++11 on trac](http://trac.sagemath.org/search?q=C%2B%2B11&noquickjump=1&ticket=on).\n\nRelated: #12426 (Metaticket for Clang; at least some issues are related to C++ or GNUisms)",
    "created_at": "2015-04-29T09:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254264",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@kiwifb](#comment%3A4):
> We should list all the other tickets for `C++11` or have a meta ticket somewhere. 

We've already done a lot in that direction in the past, see for example the closed metaticket on GCC 4.7.0 (#12751), or [search for C++11 on trac](http://trac.sagemath.org/search?q=C%2B%2B11&noquickjump=1&ticket=on).

Related: #12426 (Metaticket for Clang; at least some issues are related to C++ or GNUisms)



---

archive/issue_comments_254265.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301now...",
    "created_at": "2015-04-29T09:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254265",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'>Comment 7:</a>
I like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301now...



---

archive/issue_comments_254266.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@kiwifb](#comment%3A7):\n> I like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301 now...\n\nThere's a thread \"Issues with GCC 5.x\" on sage-devel.  Besides MPIR, Lcalc, and ncurses (all fixed), I'm having problems with gf2x on x86_64 (work-around: `-O0` or `GF2X_CONFIGURE=--disable-hardware-specific-code`).",
    "created_at": "2015-04-29T10:37:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254266",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@kiwifb](#comment%3A7):
> I like meta tickets (but not abusing them). I guess I should rather look for a port to gcc 5.1 meta ticket, this one would just be a consequence. Looking at #18301 now...

There's a thread "Issues with GCC 5.x" on sage-devel.  Besides MPIR, Lcalc, and ncurses (all fixed), I'm having problems with gf2x on x86_64 (work-around: `-O0` or `GF2X_CONFIGURE=--disable-hardware-specific-code`).



---

archive/issue_comments_254267.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI just confirmed that you simply cannot compile a package with C++11 and expect the `.so` file to match all references generated by libsage compilation using a pre-C++11 compile. Specifically the template `class std::vector<GiNaC::ex>` will create incompatible code.\n\nOkay, you knew that beforehand, but I had to prove it to myself.",
    "created_at": "2015-04-30T07:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254267",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'>Comment 9:</a>
I just confirmed that you simply cannot compile a package with C++11 and expect the `.so` file to match all references generated by libsage compilation using a pre-C++11 compile. Specifically the template `class std::vector<GiNaC::ex>` will create incompatible code.

Okay, you knew that beforehand, but I had to prove it to myself.



---

archive/issue_comments_254268.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nSorry for specializing but only this guarantees that I will be working on it.",
    "created_at": "2015-04-30T07:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254268",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'>Comment 10:</a>
Sorry for specializing but only this guarantees that I will be working on it.



---

archive/issue_comments_254269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,25 +1,14 @@\n-C++11 is at least needed by NTL and a development version of Pynac, and it's the default with gcc5.\n+C++11 is needed by a development version of Pynac, and it's the default with gcc5.\n \n-https://en.wikipedia.org/wiki/C%2B%2B11\n-\n-The complications are eg compile errors in lcalc headers:\n+Sage needs `-std=c++11` for at least all files that import ginac headers, that is, for \n \n ```\n-In file included from ../local/include/libLfunction/Lglobals.h:48:0,\n-                 from ../local/include/libLfunction/L.h:40,\n-                 from build/cythonized/sage/libs/lcalc/lcalc_sage.h:1,\n-                 from build/cythonized/sage/libs/lcalc/lcalc_Lfunction.cpp:337:\n-../local/include/libLfunction/Lcommon.h: In member function \u2018void smallPoly<T>::resize(int)\u2019:\n-../local/include/libLfunction/Lcommon.h:71:23: error: expected \u2018;\u2019 before \u2018i\u2019\n-   loop(i,this->N,N)\n-                       ^\n-../local/include/libLfunction/Lcommon.h:71:36: error: \u2018i\u2019 was not declared in this scope\n-   loop(i,this->N,N)\n-                                    ^\n-../local/include/libLfunction/Lcommon.h: In function \u2018smallPoly<T>::poly operator*(const poly&, const poly&)\u2019:\n-../local/include/libLfunction/Lcommon.h:87:15: error: there are no arguments to \u2018typeof\u2019 that depend on a template parameter, so a declaration of \u2018typeof\u2019 must be available [-fpermissive]\n-   loop(i,0,f.N) result[i]=0;\n-               ^\n-../local/include/libLfunction/Lcommon.h:87:15: note: (if you use \u2018-fpermissive\u2019, G++ will accept your code, but allowing the use of an undeclared name is deprecated)\n+src/sage/symbolic/constants_c.pyx\n+src/sage/symbolic/expression.pyx\n+src/sage/symbolic/function.pyx\n+src/sage/symbolic/getitem.pyx\n+src/sage/symbolic/pynac.pyx\n+src/sage/symbolic/ring.pyx\n+src/sage/symbolic/substitution_map.pyx\n ```\n-We don't want these to go through with `-fpermissive`.\n+\n``````\n",
    "created_at": "2015-04-30T07:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254269",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,25 +1,14 @@
-C++11 is at least needed by NTL and a development version of Pynac, and it's the default with gcc5.
+C++11 is needed by a development version of Pynac, and it's the default with gcc5.
 
-https://en.wikipedia.org/wiki/C%2B%2B11
-
-The complications are eg compile errors in lcalc headers:
+Sage needs `-std=c++11` for at least all files that import ginac headers, that is, for 
 
 ```
-In file included from ../local/include/libLfunction/Lglobals.h:48:0,
-                 from ../local/include/libLfunction/L.h:40,
-                 from build/cythonized/sage/libs/lcalc/lcalc_sage.h:1,
-                 from build/cythonized/sage/libs/lcalc/lcalc_Lfunction.cpp:337:
-../local/include/libLfunction/Lcommon.h: In member function ‘void smallPoly<T>::resize(int)’:
-../local/include/libLfunction/Lcommon.h:71:23: error: expected ‘;’ before ‘i’
-   loop(i,this->N,N)
-                       ^
-../local/include/libLfunction/Lcommon.h:71:36: error: ‘i’ was not declared in this scope
-   loop(i,this->N,N)
-                                    ^
-../local/include/libLfunction/Lcommon.h: In function ‘smallPoly<T>::poly operator*(const poly&, const poly&)’:
-../local/include/libLfunction/Lcommon.h:87:15: error: there are no arguments to ‘typeof’ that depend on a template parameter, so a declaration of ‘typeof’ must be available [-fpermissive]
-   loop(i,0,f.N) result[i]=0;
-               ^
-../local/include/libLfunction/Lcommon.h:87:15: note: (if you use ‘-fpermissive’, G++ will accept your code, but allowing the use of an undeclared name is deprecated)
+src/sage/symbolic/constants_c.pyx
+src/sage/symbolic/expression.pyx
+src/sage/symbolic/function.pyx
+src/sage/symbolic/getitem.pyx
+src/sage/symbolic/pynac.pyx
+src/sage/symbolic/ring.pyx
+src/sage/symbolic/substitution_map.pyx
 ```
-We don't want these to go through with `-fpermissive`.
+
``````




---

archive/issue_events_233996.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-30T07:40:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "title_is": "switch to C++11 when compiling some cython files",
    "title_was": "switch to C++11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-233996"
}
```



---

archive/issue_comments_254270.json:
```json
{
    "body": "Branch: **[u/rws/switch_to_c__11_when_compiling_some_cython_files](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/switch_to_c__11_when_compiling_some_cython_files)**",
    "created_at": "2015-04-30T08:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254270",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/switch_to_c__11_when_compiling_some_cython_files](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/switch_to_c__11_when_compiling_some_cython_files)**



---

archive/issue_comments_254271.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9875e951d9f29e18b1dadef70989e92a27afbfc9\">9875e95</a></td><td><code>18323: add extra C++11 compile flags for symbolics because of Pynac-0.4</code></td></tr></table>\n",
    "created_at": "2015-04-30T08:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254271",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9875e951d9f29e18b1dadef70989e92a27afbfc9">9875e95</a></td><td><code>18323: add extra C++11 compile flags for symbolics because of Pynac-0.4</code></td></tr></table>




---

archive/issue_comments_254272.json:
```json
{
    "body": "Commit: **[9875e95](https://github.com/sagemath/sagetrac-mirror/commit/9875e951d9f29e18b1dadef70989e92a27afbfc9)**",
    "created_at": "2015-04-30T08:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254272",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[9875e95](https://github.com/sagemath/sagetrac-mirror/commit/9875e951d9f29e18b1dadef70989e92a27afbfc9)**



---

archive/issue_comments_254273.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2015-04-30T08:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254273",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_events_233997.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-30T08:28:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-233997"
}
```



---

archive/issue_comments_254274.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI'll be picky.\n 1) I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.\n 2) cosmetic, the indentation is wrong.\n 3) do you need to define a variable with an extra long name to replace what is just `-std=c++11` in only three different places? It feels overkill. I would have tolerated a variable with a shorter name, to switch `C++11` on - we'll see more of that certainly. Unless you plan to add more flags in the near future, I don't see why it should be symbolics specific",
    "created_at": "2015-04-30T09:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254274",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'>Comment 14:</a>
I'll be picky.
 1) I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.
 2) cosmetic, the indentation is wrong.
 3) do you need to define a variable with an extra long name to replace what is just `-std=c++11` in only three different places? It feels overkill. I would have tolerated a variable with a shorter name, to switch `C++11` on - we'll see more of that certainly. Unless you plan to add more flags in the near future, I don't see why it should be symbolics specific



---

archive/issue_events_233998.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-30T12:40:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-233998"
}
```



---

archive/issue_events_233999.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-30T12:40:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-233999"
}
```



---

archive/issue_comments_254275.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nThanks for the input. We could as well wait until gcc5 is mandatory in Sage, or even earlier, as soon as all C++ packages compile with C++11, and then switch globally. It's not that there is pressing interest in Pynac right now.",
    "created_at": "2015-04-30T12:40:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254275",
    "user": "https://github.com/rwst"
}
```

<a id='comment:15'>Comment 15:</a>
Thanks for the input. We could as well wait until gcc5 is mandatory in Sage, or even earlier, as soon as all C++ packages compile with C++11, and then switch globally. It's not that there is pressing interest in Pynac right now.



---

archive/issue_comments_254276.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nJust for the record:  `g++` 5.x doesn't default to `-std=c++11`, not even `-std=gnu++11` or `-std=gnu++0x`, but `-std=gnu++98`.",
    "created_at": "2015-04-30T14:22:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254276",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:16'>Comment 16:</a>
Just for the record:  `g++` 5.x doesn't default to `-std=c++11`, not even `-std=gnu++11` or `-std=gnu++0x`, but `-std=gnu++98`.



---

archive/issue_comments_254277.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-C++11 is needed by a development version of Pynac, and it's the default with gcc5.\n+C++11 is needed by a development version of Pynac, and GCC 5.x's `g++` again got stricter w.r.t. C++ standard conformance (while it still *defaults* to `-std=gnu++98`).\n \n Sage needs `-std=c++11` for at least all files that import ginac headers, that is, for \n \n``````\n",
    "created_at": "2015-04-30T14:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254277",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-C++11 is needed by a development version of Pynac, and it's the default with gcc5.
+C++11 is needed by a development version of Pynac, and GCC 5.x's `g++` again got stricter w.r.t. C++ standard conformance (while it still *defaults* to `-std=gnu++98`).
 
 Sage needs `-std=c++11` for at least all files that import ginac headers, that is, for 
 
``````




---

archive/issue_comments_254278.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\n... and the first `g++` version said to be C++11 feature-complete is 4.8.1.\n\nSince we already have 4.9.2 in Sage, we'd \"just\" have to `SAGE_INSTALL_GCC` on systems with 4.8.0 (if such exist at all), 4.7, 4.6, and earlier.\n\nUbuntu 12.04 with 5-year LTS still ships with \"Ubuntu/Linaro GCC\" 4.6 for example.",
    "created_at": "2015-04-30T14:54:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254278",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:18'>Comment 18:</a>
... and the first `g++` version said to be C++11 feature-complete is 4.8.1.

Since we already have 4.9.2 in Sage, we'd "just" have to `SAGE_INSTALL_GCC` on systems with 4.8.0 (if such exist at all), 4.7, 4.6, and earlier.

Ubuntu 12.04 with 5-year LTS still ships with "Ubuntu/Linaro GCC" 4.6 for example.



---

archive/issue_comments_254279.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nIf you have time, you could try building Sage with `-Werror=c++11-compat` in `CXXFLAGS` (`CFLAGS` for modules built by distutils, or added to `extra_compile_args`)... :P",
    "created_at": "2015-04-30T16:34:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254279",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:19'>Comment 19:</a>
If you have time, you could try building Sage with `-Werror=c++11-compat` in `CXXFLAGS` (`CFLAGS` for modules built by distutils, or added to `extra_compile_args`)... :P



---

archive/issue_events_234000.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-03T11:07:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234000"
}
```



---

archive/issue_events_234001.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-03T11:07:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234001"
}
```



---

archive/issue_comments_254280.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nYou should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.",
    "created_at": "2015-05-03T11:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254280",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'>Comment 20:</a>
You should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.



---

archive/issue_comments_254281.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@jdemeyer](#comment%3A20):\n> You should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.\n\nHow do I do that? The manual says nothing of it:\n\n\"A definition file can contain:\n\n* Any kind of C type declaration.\n* extern C function or variable declarations.\n* Declarations of C functions defined in the module.\n* The definition part of an extension type (see below).\"",
    "created_at": "2015-05-27T07:44:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254281",
    "user": "https://github.com/rwst"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@jdemeyer](#comment%3A20):
> You should leave `module_list.py` alone and move those flags to the appropriate `.pxd` file.

How do I do that? The manual says nothing of it:

"A definition file can contain:

* Any kind of C type declaration.
* extern C function or variable declarations.
* Declarations of C functions defined in the module.
* The definition part of an extension type (see below)."



---

archive/issue_comments_254282.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nSee #18450 (note that this ticket might also conflict with that)",
    "created_at": "2015-05-27T07:54:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254282",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>Comment 22:</a>
See #18450 (note that this ticket might also conflict with that)



---

archive/issue_comments_254283.json:
```json
{
    "body": "Changed branch from **[u/rws/switch_to_c__11_when_compiling_some_cython_files](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/switch_to_c__11_when_compiling_some_cython_files)** to **[u/rws/18323](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323)**",
    "created_at": "2015-05-27T09:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254283",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/switch_to_c__11_when_compiling_some_cython_files](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/switch_to_c__11_when_compiling_some_cython_files)** to **[u/rws/18323](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323)**



---

archive/issue_comments_254284.json:
```json
{
    "body": "Changed commit from **[9875e95](https://github.com/sagemath/sagetrac-mirror/commit/9875e951d9f29e18b1dadef70989e92a27afbfc9)** to **[cf808d3](https://github.com/sagemath/sagetrac-mirror/commit/cf808d3d0d72233edb693e930b007eea1913c7ca)**",
    "created_at": "2015-05-27T09:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254284",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[9875e95](https://github.com/sagemath/sagetrac-mirror/commit/9875e951d9f29e18b1dadef70989e92a27afbfc9)** to **[cf808d3](https://github.com/sagemath/sagetrac-mirror/commit/cf808d3d0d72233edb693e930b007eea1913c7ca)**



---

archive/issue_comments_254285.json:
```json
{
    "body": "Dependencies: **C++11 compiler**",
    "created_at": "2015-05-27T09:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254285",
    "user": "https://github.com/rwst"
}
```

Dependencies: **C++11 compiler**



---

archive/issue_comments_254286.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nThis works now but still relies on a C++11 compiler. It was discussed above what efforts were already done to make the rest of Sage gcc5 compatible. My mistake was to assume that with gcc5 we would automatically get C++11. So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf808d3d0d72233edb693e930b007eea1913c7ca\">cf808d3</a></td><td><code>18323: switch to C++11 when compiling some cython files</code></td></tr></table>\n",
    "created_at": "2015-05-27T09:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254286",
    "user": "https://github.com/rwst"
}
```

<a id='comment:24'>Comment 24:</a>
This works now but still relies on a C++11 compiler. It was discussed above what efforts were already done to make the rest of Sage gcc5 compatible. My mistake was to assume that with gcc5 we would automatically get C++11. So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf808d3d0d72233edb693e930b007eea1913c7ca">cf808d3</a></td><td><code>18323: switch to C++11 when compiling some cython files</code></td></tr></table>




---

archive/issue_events_234002.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-27T09:37:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234002"
}
```



---

archive/issue_events_234003.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-27T09:37:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234003"
}
```



---

archive/issue_comments_254287.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nIf those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.",
    "created_at": "2015-05-27T09:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254287",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>Comment 25:</a>
If those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.



---

archive/issue_events_234004.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-27T09:38:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234004"
}
```



---

archive/issue_events_234005.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-27T09:38:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234005"
}
```



---

archive/issue_comments_254288.json:
```json
{
    "body": "Changed dependencies from **C++11 compiler** to **#18450, C++11 compiler**",
    "created_at": "2015-05-27T09:38:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254288",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **C++11 compiler** to **#18450, C++11 compiler**



---

archive/issue_comments_254289.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nThis needs [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381): therefore, it needs to depend on #18450 or you need to wait for the next Cython release.",
    "created_at": "2015-05-27T09:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254289",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'>Comment 27:</a>
This needs [https://github.com/cython/cython/pull/381](https://github.com/cython/cython/pull/381): therefore, it needs to depend on #18450 or you need to wait for the next Cython release.



---

archive/issue_comments_254290.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nReplying to [@rwst](#comment%3A24):\n> So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?\n\nI don't think we should ever make `GCC 4.9.x` mandatory. What could be discussed is making `C++0x` or `C++11` support mandatory.",
    "created_at": "2015-05-27T09:56:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254290",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'>Comment 28:</a>
Replying to [@rwst](#comment%3A24):
> So what are the chances that whatever shipped gcc, which is at 4.9x I understand, will be made mandatory (it need not be switched to C++11 globally, it just needs to be there when the seven files are compiled)?

I don't think we should ever make `GCC 4.9.x` mandatory. What could be discussed is making `C++0x` or `C++11` support mandatory.



---

archive/issue_comments_254291.json:
```json
{
    "body": "Changed branch from **[u/rws/18323](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323)** to **[u/rws/18323-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323-1)**",
    "created_at": "2015-05-27T09:59:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254291",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/18323](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323)** to **[u/rws/18323-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/18323-1)**



---

archive/issue_comments_254292.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@jdemeyer](#comment%3A25):\n> If those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.\n\nIndeed, it boils down to `expression.pxd`.\n> it needs to depend on #18450 or you need to wait for the next Cython release.\n\nIt's pending, so just wait. I expect some friction with mandatory C++11, anyway.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fd25bc1eea60abb8f686d611bd40f69996d343f\">7fd25bc</a></td><td><code>18323: switch to C++11 when compiling some cython files</code></td></tr></table>\n",
    "created_at": "2015-05-27T10:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254292",
    "user": "https://github.com/rwst"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@jdemeyer](#comment%3A25):
> If those flags are only needed to support pynac, they should only be added to pynac declarations, not other random files like `ring.pxd`.

Indeed, it boils down to `expression.pxd`.
> it needs to depend on #18450 or you need to wait for the next Cython release.

It's pending, so just wait. I expect some friction with mandatory C++11, anyway.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fd25bc1eea60abb8f686d611bd40f69996d343f">7fd25bc</a></td><td><code>18323: switch to C++11 when compiling some cython files</code></td></tr></table>




---

archive/issue_events_234006.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-27T10:04:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234006"
}
```



---

archive/issue_events_234007.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-27T10:04:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234007"
}
```



---

archive/issue_comments_254293.json:
```json
{
    "body": "Changed dependencies from **#18450, C++11 compiler** to **C++11 compiler**",
    "created_at": "2015-05-27T10:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254293",
    "user": "https://github.com/rwst"
}
```

Changed dependencies from **#18450, C++11 compiler** to **C++11 compiler**



---

archive/issue_comments_254294.json:
```json
{
    "body": "Changed commit from **[cf808d3](https://github.com/sagemath/sagetrac-mirror/commit/cf808d3d0d72233edb693e930b007eea1913c7ca)** to **[7fd25bc](https://github.com/sagemath/sagetrac-mirror/commit/7fd25bc1eea60abb8f686d611bd40f69996d343f)**",
    "created_at": "2015-05-27T10:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254294",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[cf808d3](https://github.com/sagemath/sagetrac-mirror/commit/cf808d3d0d72233edb693e930b007eea1913c7ca)** to **[7fd25bc](https://github.com/sagemath/sagetrac-mirror/commit/7fd25bc1eea60abb8f686d611bd40f69996d343f)**



---

archive/issue_comments_254295.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nReplying to [@rwst](#comment%3A30):\n> Indeed, it boils down to `expression.pxd`.\n\nReally? Not `ginac.pxd`?",
    "created_at": "2015-05-27T10:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254295",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'>Comment 31:</a>
Replying to [@rwst](#comment%3A30):
> Indeed, it boils down to `expression.pxd`.

Really? Not `ginac.pxd`?



---

archive/issue_comments_254296.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@jdemeyer](#comment%3A31):\n> Replying to [@rwst](#comment%3A30):\n> > Indeed, it boils down to `expression.pxd`.\n\n> \n> Really? Not `ginac.pxd`?\n\nNever had a look at that: both work because the same files are affected. Granted, it would fit better with `ginac.pxd`.",
    "created_at": "2015-05-27T13:11:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254296",
    "user": "https://github.com/rwst"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@jdemeyer](#comment%3A31):
> Replying to [@rwst](#comment%3A30):
> > Indeed, it boils down to `expression.pxd`.

> 
> Really? Not `ginac.pxd`?

Never had a look at that: both work because the same files are affected. Granted, it would fit better with `ginac.pxd`.



---

archive/issue_events_234008.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-27T13:58:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234008"
}
```



---

archive/issue_events_234009.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-27T13:58:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234009"
}
```



---

archive/issue_comments_254297.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@rwst](#comment%3A30):\n> I expect some friction with mandatory C++11, anyway.\n\nPersonally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).\n\nI put back the dependency on #18450 since otherwise this patch won't work properly.",
    "created_at": "2015-05-27T15:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254297",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@rwst](#comment%3A30):
> I expect some friction with mandatory C++11, anyway.

Personally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).

I put back the dependency on #18450 since otherwise this patch won't work properly.



---

archive/issue_comments_254298.json:
```json
{
    "body": "Changed dependencies from **C++11 compiler** to **#18450, C++11 compiler**",
    "created_at": "2015-05-27T15:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254298",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **C++11 compiler** to **#18450, C++11 compiler**



---

archive/issue_comments_254299.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [@jdemeyer](#comment%3A34):\n> Replying to [@rwst](#comment%3A30):\n> > I expect some friction with mandatory C++11, anyway.\n\n> Personally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).\n\nFrom a table I have here 4.6 is missing `override`. I could hold back usage of `override`, no problem.",
    "created_at": "2015-05-27T16:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254299",
    "user": "https://github.com/rwst"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [@jdemeyer](#comment%3A34):
> Replying to [@rwst](#comment%3A30):
> > I expect some friction with mandatory C++11, anyway.

> Personally, I don't think it would be such a problem. The most annoying part will be testing with older GCC versions (for example, GCC 4.6.x supports some C++11 features, are these enough for Pynac?).

From a table I have here 4.6 is missing `override`. I could hold back usage of `override`, no problem.



---

archive/issue_comments_254300.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nComing back to this... We could check for the feature that are necessary. If you need `override` we can first check for `c++11` as suggested by Jeroen, once we know that we have a `c++11` switch we can check for particular features like `override` it is just a matter of writing a test in `configure.ac`.\n\nBut making a decision on what we should want as minimal features for the compiler should be matter of debate on sage-devel.",
    "created_at": "2015-09-22T03:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254300",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:36'>Comment 36:</a>
Coming back to this... We could check for the feature that are necessary. If you need `override` we can first check for `c++11` as suggested by Jeroen, once we know that we have a `c++11` switch we can check for particular features like `override` it is just a matter of writing a test in `configure.ac`.

But making a decision on what we should want as minimal features for the compiler should be matter of debate on sage-devel.



---

archive/issue_comments_254301.json:
```json
{
    "body": "Changed author from **Ralf Stephan** to none",
    "created_at": "2015-09-22T08:05:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254301",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Ralf Stephan** to none



---

archive/issue_events_234010.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-22T08:05:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234010"
}
```



---

archive/issue_events_234011.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-22T08:05:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234011"
}
```



---

archive/issue_events_234012.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-22T08:05:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234012"
}
```



---

archive/issue_comments_254302.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplying to [@kiwifb](#comment%3A14):\n> I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.\n\nI totally agree. Close as \"wontfix\"?",
    "created_at": "2015-09-22T08:05:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254302",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'>Comment 37:</a>
Replying to [@kiwifb](#comment%3A14):
> I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.

I totally agree. Close as "wontfix"?



---

archive/issue_comments_254303.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-09-22T08:05:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254303",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_254304.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nReplying to [@jdemeyer](#comment%3A37):\n> Replying to [@kiwifb](#comment%3A14):\n> > I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.\n\n> \n> I totally agree. Close as \"wontfix\"?\n\nI am fine with closing. We should open a new ticket when we have decided exactly what we want on sage-devel.",
    "created_at": "2015-09-22T08:52:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254304",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'>Comment 38:</a>
Replying to [@jdemeyer](#comment%3A37):
> Replying to [@kiwifb](#comment%3A14):
> > I would have put that patch in the same ticket that starts the use of `C++11` in pynac. That's where it belongs, it's an associated change.

> 
> I totally agree. Close as "wontfix"?

I am fine with closing. We should open a new ticket when we have decided exactly what we want on sage-devel.



---

archive/issue_events_234013.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-22T08:52:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234013"
}
```



---

archive/issue_events_234014.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-09-22T08:52:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234014"
}
```



---

archive/issue_comments_254305.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nI disagree. Holding back on allowing C++11 just means \n* taking on more technical debt as authors can't take advantage of the new features, writing code that may have to be changed later\n* prevent contributors from being exposed to new C++11 features, slowing down their learning\n* online C++ resources increasingly include C++11 features, making it even more difficult to learn how to not use them \n* delaying the inevitable, we'll have to shitlist broken compilers anyways",
    "created_at": "2015-09-25T08:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254305",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:39'>Comment 39:</a>
I disagree. Holding back on allowing C++11 just means 
* taking on more technical debt as authors can't take advantage of the new features, writing code that may have to be changed later
* prevent contributors from being exposed to new C++11 features, slowing down their learning
* online C++ resources increasingly include C++11 features, making it even more difficult to learn how to not use them 
* delaying the inevitable, we'll have to shitlist broken compilers anyways



---

archive/issue_comments_254306.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nThis ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.\n\nBesides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.",
    "created_at": "2015-09-25T08:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254306",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:40'>Comment 40:</a>
This ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.

Besides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.



---

archive/issue_comments_254307.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nReplying to [@jdemeyer](#comment%3A40):\n> This ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.\n> \n\nAnd a separate ticket wasn't the right place for it.\n\n> Besides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.\n\nThis ticket is not the right forum for the discussion. \n\nNevertheless which minimum `gcc` would we be aiming for?",
    "created_at": "2015-09-25T08:48:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254307",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:41'>Comment 41:</a>
Replying to [@jdemeyer](#comment%3A40):
> This ticket is about adding `std=c++11` for some ginac files. It's not about C++11 in general.
> 

And a separate ticket wasn't the right place for it.

> Besides, why do you think that people are prevented from using C++11? It's not like we prevent people from using their own C++11 compiler. Once their code gets in Sage, we make the switch in Sage.

This ticket is not the right forum for the discussion. 

Nevertheless which minimum `gcc` would we be aiming for?



---

archive/issue_comments_254308.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nReplying to [@kiwifb](#comment%3A41):\n> This ticket is not the right forum for the discussion.\n\nRight, there is already a thread on sage-devel. Let's just close this discussion here.",
    "created_at": "2015-09-25T08:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254308",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'>Comment 42:</a>
Replying to [@kiwifb](#comment%3A41):
> This ticket is not the right forum for the discussion.

Right, there is already a thread on sage-devel. Let's just close this discussion here.



---

archive/issue_comments_254309.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nReplying to [@jdemeyer](#comment%3A40):\n>  Once their code gets in Sage, we make the switch in Sage.\n\nWe are facing this problem for the update of LinBox Givaro and fflas-ffpack in #17635.",
    "created_at": "2015-09-25T08:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18323#issuecomment-254309",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:43'>Comment 43:</a>
Replying to [@jdemeyer](#comment%3A40):
>  Once their code gets in Sage, we make the switch in Sage.

We are facing this problem for the update of LinBox Givaro and fflas-ffpack in #17635.



---

archive/issue_events_234015.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-30T21:51:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234015"
}
```



---

archive/issue_events_234016.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-30T21:51:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234016"
}
```



---

archive/issue_events_234017.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-30T21:51:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18323",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18323#event-234017"
}
```
