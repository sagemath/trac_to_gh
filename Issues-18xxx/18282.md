# Issue 18282: Fixes, cleanup and improvements to the default evaluation method for univariate polynomials

archive/issues_018045.json:
```json
{
    "body": "Simplify `Polynomial.__call__()`, fix the following issues (note that in calls of the form `p(x,y,...)`, `x` is the *outermost* variable), and add a few tests.\n\n```\nsage: Pol_x.<x> = QQ[]\nsage: Pol_xy.<y> = Pol_x[]\nsage: pol = 1000*x^2*y^2 + 100*y + 10*x + 1\nsage: pol(y, 0)\n1000*x^2*y^2 + 100*y + 10*x + 1\n```\n\n```\nsage: pol(y, 0)\n1000*x^2*y^2 + 100*y + 10*x + 1\n```\n\n```\nsage: pol(~y, 0) # not the same bug as above\n((10*x + 1)*y^2 + 100*y + 1000*x^2)/y^2\n```\n\n```\nsage: pol(x, y, x=1)\n1000*y^2 + 10*y + 101\n```\n\n```\nsage: zero = Pol_xy(0)\nsage: zero(1).parent()\nInteger Ring\n```\n\n```\nsage: zero = QQ['x'](0)\nsage: a = matrix(ZZ, [[1]])\nsage: zero(a).parent() # should be over QQ\nFull MatrixSpace of 1 by 1 dense matrices over Integer Ring\n```\n\n```\nsage: zero = GF(2)['x'](0)\nsage: zero(1.).parent() # should raise an error\nReal Field with 53 bits of precision\n```\n\n```\nsage: pol(y=x, x=1)\n1111\n```\n\n```\nsage: pol = QQ['x'](range(10))\nsage: pol(x) # technically not a bug, but should be expanded\n((((((((9*x + 8)*x + 7)*x + 6)*x + 5)*x + 4)*x + 3)*x + 2)*x + 1)*x\n```\n\nAlso implement a method to compute the Horner form of a polynomial expression, in order not to lose the \u201cfeature\u201d illustrated in the last example.\n\n**CC:**  @rwst jpflori\n\n**Branch:** [8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)\n\n**Reviewer:** Ralf Stephan\n\n**Author:** Marc Mezzarobba\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18282\n\n",
    "closed_at": "2015-07-31T17:52:27Z",
    "created_at": "2015-04-22T16:01:55Z",
    "labels": [
        "component: commutative algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Fixes, cleanup and improvements to the default evaluation method for univariate polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18282",
    "user": "https://github.com/mezzarobba"
}
```
Simplify `Polynomial.__call__()`, fix the following issues (note that in calls of the form `p(x,y,...)`, `x` is the *outermost* variable), and add a few tests.

```
sage: Pol_x.<x> = QQ[]
sage: Pol_xy.<y> = Pol_x[]
sage: pol = 1000*x^2*y^2 + 100*y + 10*x + 1
sage: pol(y, 0)
1000*x^2*y^2 + 100*y + 10*x + 1
```

```
sage: pol(y, 0)
1000*x^2*y^2 + 100*y + 10*x + 1
```

```
sage: pol(~y, 0) # not the same bug as above
((10*x + 1)*y^2 + 100*y + 1000*x^2)/y^2
```

```
sage: pol(x, y, x=1)
1000*y^2 + 10*y + 101
```

```
sage: zero = Pol_xy(0)
sage: zero(1).parent()
Integer Ring
```

```
sage: zero = QQ['x'](0)
sage: a = matrix(ZZ, [[1]])
sage: zero(a).parent() # should be over QQ
Full MatrixSpace of 1 by 1 dense matrices over Integer Ring
```

```
sage: zero = GF(2)['x'](0)
sage: zero(1.).parent() # should raise an error
Real Field with 53 bits of precision
```

```
sage: pol(y=x, x=1)
1111
```

```
sage: pol = QQ['x'](range(10))
sage: pol(x) # technically not a bug, but should be expanded
((((((((9*x + 8)*x + 7)*x + 6)*x + 5)*x + 4)*x + 3)*x + 2)*x + 1)*x
```

Also implement a method to compute the Horner form of a polynomial expression, in order not to lose the “feature” illustrated in the last example.

**CC:**  @rwst jpflori

**Branch:** [8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)

**Reviewer:** Ralf Stephan

**Author:** Marc Mezzarobba

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/18282





---

archive/issue_comments_321202.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/012631ea03f6c11371df9c5e3f2bb3e4676cfc9f\">012631e</a></td><td><code>Horner form of symbolic expressions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea\">4fdccb2</a></td><td><code>Improve pol(expr) for expr in SR</code></td></tr></table>\n",
    "created_at": "2015-04-23T11:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/012631ea03f6c11371df9c5e3f2bb3e4676cfc9f">012631e</a></td><td><code>Horner form of symbolic expressions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea">4fdccb2</a></td><td><code>Improve pol(expr) for expr in SR</code></td></tr></table>




---

archive/issue_comments_321203.json:
```json
{
    "body": "**Changing commit** from \"[64339bcbe4c00d54447e76c20862f93ea92f77c1](https://github.com/sagemath/sagetrac-mirror/commit/64339bcbe4c00d54447e76c20862f93ea92f77c1)\" to \"[4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea](https://github.com/sagemath/sagetrac-mirror/commit/4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea)\".",
    "created_at": "2015-04-23T11:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321203",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[64339bcbe4c00d54447e76c20862f93ea92f77c1](https://github.com/sagemath/sagetrac-mirror/commit/64339bcbe4c00d54447e76c20862f93ea92f77c1)" to "[4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea](https://github.com/sagemath/sagetrac-mirror/commit/4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea)".



---

archive/issue_comments_321204.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,56 @@\n-Evaluating of a polynomial (from a polynomial ring) on an element of `SR` calls a generic implementation of Horner evaluation, so that the result is in (a kind of) Horner form:\n+Simplify `Polynomial.__call__()`, fix the following issues (note that in calls of the form `p(x,y,...)`, `x` is the *outermost* variable), and add a few tests.\n+\n+```\n+sage: Pol_x.<x> = QQ[]\n+sage: Pol_xy.<y> = Pol_x[]\n+sage: pol = 1000*x^2*y^2 + 100*y + 10*x + 1\n+sage: pol(y, 0)\n+1000*x^2*y^2 + 100*y + 10*x + 1\n+```\n+\n+```\n+sage: pol(y, 0)\n+1000*x^2*y^2 + 100*y + 10*x + 1\n+```\n+\n+```\n+sage: pol(~y, 0) # not the same bug as above\n+((10*x + 1)*y^2 + 100*y + 1000*x^2)/y^2\n+```\n+\n+```\n+sage: pol(x, y, x=1)\n+1000*y^2 + 10*y + 101\n+```\n+\n+```\n+sage: zero = Pol_xy(0)\n+sage: zero(1).parent()\n+Integer Ring\n+```\n+\n+```\n+sage: zero = QQ['x'](0)\n+sage: a = matrix(ZZ, [[1]])\n+sage: zero(a).parent() # should be over QQ\n+Full MatrixSpace of 1 by 1 dense matrices over Integer Ring\n+```\n+\n+```\n+sage: zero = GF(2)['x'](0)\n+sage: zero(1.).parent() # should raise an error\n+Real Field with 53 bits of precision\n+```\n+\n+```\n+sage: pol(y=x, x=1)\n+1111\n+```\n \n ```\n sage: pol = QQ['x'](range(10))\n-sage: pol(x)\n+sage: pol(x) # technically not a bug, but should be expanded\n ((((((((9*x + 8)*x + 7)*x + 6)*x + 5)*x + 4)*x + 3)*x + 2)*x + 1)*x\n ```\n-This is probably not what users expect. Additionally, the conversion could be much more efficient.\n+\n+Also implement a method to compute the Horner form of a polynomial expression, in order not to lose the \u201cfeature\u201d illustrated in the last example.\n``````\n",
    "created_at": "2015-04-24T11:28:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321204",
    "user": "https://github.com/mezzarobba"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,56 @@
-Evaluating of a polynomial (from a polynomial ring) on an element of `SR` calls a generic implementation of Horner evaluation, so that the result is in (a kind of) Horner form:
+Simplify `Polynomial.__call__()`, fix the following issues (note that in calls of the form `p(x,y,...)`, `x` is the *outermost* variable), and add a few tests.
+
+```
+sage: Pol_x.<x> = QQ[]
+sage: Pol_xy.<y> = Pol_x[]
+sage: pol = 1000*x^2*y^2 + 100*y + 10*x + 1
+sage: pol(y, 0)
+1000*x^2*y^2 + 100*y + 10*x + 1
+```
+
+```
+sage: pol(y, 0)
+1000*x^2*y^2 + 100*y + 10*x + 1
+```
+
+```
+sage: pol(~y, 0) # not the same bug as above
+((10*x + 1)*y^2 + 100*y + 1000*x^2)/y^2
+```
+
+```
+sage: pol(x, y, x=1)
+1000*y^2 + 10*y + 101
+```
+
+```
+sage: zero = Pol_xy(0)
+sage: zero(1).parent()
+Integer Ring
+```
+
+```
+sage: zero = QQ['x'](0)
+sage: a = matrix(ZZ, [[1]])
+sage: zero(a).parent() # should be over QQ
+Full MatrixSpace of 1 by 1 dense matrices over Integer Ring
+```
+
+```
+sage: zero = GF(2)['x'](0)
+sage: zero(1.).parent() # should raise an error
+Real Field with 53 bits of precision
+```
+
+```
+sage: pol(y=x, x=1)
+1111
+```
 
 ```
 sage: pol = QQ['x'](range(10))
-sage: pol(x)
+sage: pol(x) # technically not a bug, but should be expanded
 ((((((((9*x + 8)*x + 7)*x + 6)*x + 5)*x + 4)*x + 3)*x + 2)*x + 1)*x
 ```
-This is probably not what users expect. Additionally, the conversion could be much more efficient.
+
+Also implement a method to compute the Horner form of a polynomial expression, in order not to lose the “feature” illustrated in the last example.
``````




---

archive/issue_events_058694.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "rename": {
        "from": "Improve the evaluation of polynomials on symbolic expressions",
        "to": "Improve the default evaluation method for univariate polynomials"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18282#event-58694"
}
```



---

archive/issue_comments_321205.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e62e7618bc84838fb630f94e606dd5b49bea1130\">e62e761</a></td><td><code>Horner form of symbolic expressions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d59c7d7833765d55ea4510d1a819a81a0826860\">4d59c7d</a></td><td><code>Improve pol(expr) for expr in SR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f7feb6ad9527fb1a237294d68a0a1fcb08484da\">1f7feb6</a></td><td><code>Simplify Polynomial.__call__</code></td></tr></table>\n",
    "created_at": "2015-04-24T16:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321205",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e62e7618bc84838fb630f94e606dd5b49bea1130">e62e761</a></td><td><code>Horner form of symbolic expressions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d59c7d7833765d55ea4510d1a819a81a0826860">4d59c7d</a></td><td><code>Improve pol(expr) for expr in SR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f7feb6ad9527fb1a237294d68a0a1fcb08484da">1f7feb6</a></td><td><code>Simplify Polynomial.__call__</code></td></tr></table>




---

archive/issue_comments_321206.json:
```json
{
    "body": "**Changing commit** from \"[4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea](https://github.com/sagemath/sagetrac-mirror/commit/4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea)\" to \"[1f7feb6ad9527fb1a237294d68a0a1fcb08484da](https://github.com/sagemath/sagetrac-mirror/commit/1f7feb6ad9527fb1a237294d68a0a1fcb08484da)\".",
    "created_at": "2015-04-24T16:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321206",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea](https://github.com/sagemath/sagetrac-mirror/commit/4fdccb24c57c1886aa8849bb1f8e6fe8c4cae1ea)" to "[1f7feb6ad9527fb1a237294d68a0a1fcb08484da](https://github.com/sagemath/sagetrac-mirror/commit/1f7feb6ad9527fb1a237294d68a0a1fcb08484da)".



---

archive/issue_comments_321207.json:
```json
{
    "body": "**Changing commit** from \"[1f7feb6ad9527fb1a237294d68a0a1fcb08484da](https://github.com/sagemath/sagetrac-mirror/commit/1f7feb6ad9527fb1a237294d68a0a1fcb08484da)\" to \"[89671731fdf80e827f11b120a6655659c28c0225](https://github.com/sagemath/sagetrac-mirror/commit/89671731fdf80e827f11b120a6655659c28c0225)\".",
    "created_at": "2015-04-25T06:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1f7feb6ad9527fb1a237294d68a0a1fcb08484da](https://github.com/sagemath/sagetrac-mirror/commit/1f7feb6ad9527fb1a237294d68a0a1fcb08484da)" to "[89671731fdf80e827f11b120a6655659c28c0225](https://github.com/sagemath/sagetrac-mirror/commit/89671731fdf80e827f11b120a6655659c28c0225)".



---

archive/issue_comments_321208.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89671731fdf80e827f11b120a6655659c28c0225\">8967173</a></td><td><code>Simplify Polynomial.__call__</code></td></tr></table>\n",
    "created_at": "2015-04-25T06:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89671731fdf80e827f11b120a6655659c28c0225">8967173</a></td><td><code>Simplify Polynomial.__call__</code></td></tr></table>




---

archive/issue_comments_321209.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-04-25T06:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321209",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_321210.json:
```json
{
    "body": "<a id='comment:8'></a>\n\n```\nsage: pol(y, 0)\n1000*x^2*y^2 + 100*y + 10*x + 1\n```\nIf I understand correctly, you now make this evaluate to `100*y+1`? In which ring? You've evaluated `x`, so the answer should lie in QQ['y'], which is not a ring that exists at this moment. What about `pol(y,I)`? should that return an answer in `QuadraticField(-1,name=\"I\")['y']`?\n\n-1 on this: The method you're calling is evaluating a univariate polynomial over an arbitrary ring. You don't know what \"evaluation\" of the coefficient would mean and, more importantly, whether it's supported at all. Furthermore, the rings in which the answer is supposed to lie likely don't exist yet. Letting sage choose which rings should be constructed likely leads to difficult to predict behaviour (you'd basically be relying on the common parents the coercion framework cooks up, and then I think it's better to let the user rely on it him/herself).\n\nI think that `pol(y,0)` should be an error because there's an unhandled coefficient `0` present. It's not clear at all that the *second* argument should be used for the variable that gets mentioned *first* in `QQ['x']['y']`. One might think that `pol(y0,x0)==pol(y0)(x0)`, but that's not the case either. Error really is safer.",
    "created_at": "2015-04-25T19:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321210",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:8'></a>

```
sage: pol(y, 0)
1000*x^2*y^2 + 100*y + 10*x + 1
```
If I understand correctly, you now make this evaluate to `100*y+1`? In which ring? You've evaluated `x`, so the answer should lie in QQ['y'], which is not a ring that exists at this moment. What about `pol(y,I)`? should that return an answer in `QuadraticField(-1,name="I")['y']`?

-1 on this: The method you're calling is evaluating a univariate polynomial over an arbitrary ring. You don't know what "evaluation" of the coefficient would mean and, more importantly, whether it's supported at all. Furthermore, the rings in which the answer is supposed to lie likely don't exist yet. Letting sage choose which rings should be constructed likely leads to difficult to predict behaviour (you'd basically be relying on the common parents the coercion framework cooks up, and then I think it's better to let the user rely on it him/herself).

I think that `pol(y,0)` should be an error because there's an unhandled coefficient `0` present. It's not clear at all that the *second* argument should be used for the variable that gets mentioned *first* in `QQ['x']['y']`. One might think that `pol(y0,x0)==pol(y0)(x0)`, but that's not the case either. Error really is safer.



---

archive/issue_comments_321211.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [nbruin](#comment%3A8):\n> \n> ```\n> sage: pol(y, 0)\n> 1000*x^2*y^2 + 100*y + 10*x + 1\n> ```\n> If I understand correctly, you now make this evaluate to `100*y+1`?\n\n\nYes:\n\n```\nsage: pol(y, 0) # with patch\n100*y + 1\n```\n\nNote that the previous implementation wouldn't work in the case of `pol(y, 0)`, but would happily compute\n\n```\nsage: sage: pol(y+1, 0) # without patch\n100*y + 101\n```\n\n> In which ring? You've evaluated `x`, so the answer should lie in QQ['y'], which is not a ring that exists at this moment.\n\n\nNot exactly:\n\n```\nsage: pol(y, 0).parent() # with patch\nUnivariate Polynomial Ring in y over Univariate Polynomial Ring in x over Rational Field\n```\nThe logic here is that yes, I have evaluated x, so the evaluated coefficients lie in \u211a, *but* then I'm evaluating the resulting element of \u211a[Y] on y \u2208 \u211a[x][y], not y \u2208 \u211a[y]. So the answer should lie in \u211a[x][y].\n\nIn contrast,\n\n```\nsage: pol(0, x).parent() # with patch\nUnivariate Polynomial Ring in x over Rational Field\n```\nsince `x.parent()` is `QQ[x]`, not `QQ[x][y]`.\n\n> What about `pol(y,I)`? should that return an answer in `QuadraticField(-1,name=\"I\")['y']`?\n\n\n\n```\nsage: pol(y, I).parent() # with patch - TBI, see #18036\nSymbolic Ring\nsage: pol(y, I.pyobject()).parent() # with patch\nUnivariate Polynomial Ring in y over Univariate Polynomial Ring in x over Number Field in I with defining polynomial x^2 + 1\n```\n\n> Furthermore, the rings in which the answer is supposed to lie likely don't exist yet. Letting sage choose which rings should be constructed likely leads to difficult to predict behaviour (you'd basically be relying on the common parents the coercion framework cooks up,\n\n\nWell, yes, but that's already the case when you just do `a + b`! Would you really want the evaluation of elements of \u2124[x][y] on y = y0 \u2208 \u211a to raise an error?\n\n> I think that `pol(y,0)` should be an error because there's an unhandled coefficient `0` present. It's not clear at all that the *second* argument should be used for the variable that gets mentioned *first* in `QQ['x']['y']`. One might think that `pol(y0,x0)==pol(y0)(x0)`, but that's not the case either. Error really is safer.\n\n\nPerhaps, yes, but I didn't invent this feature. It has been present for years, and people use it! There are even examples in the sage library that rely on `pol(y,x)` working when pol \u2208 R[y] where R is *not* a polynomial ring (but another ring with callable elements). So really this ticket is only about making the implementation understandable, and fixing lots of corner cases such as those mentioned above.",
    "created_at": "2015-04-26T07:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321211",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:9'></a>
Replying to [nbruin](#comment%3A8):
> 
> ```
> sage: pol(y, 0)
> 1000*x^2*y^2 + 100*y + 10*x + 1
> ```
> If I understand correctly, you now make this evaluate to `100*y+1`?


Yes:

```
sage: pol(y, 0) # with patch
100*y + 1
```

Note that the previous implementation wouldn't work in the case of `pol(y, 0)`, but would happily compute

```
sage: sage: pol(y+1, 0) # without patch
100*y + 101
```

> In which ring? You've evaluated `x`, so the answer should lie in QQ['y'], which is not a ring that exists at this moment.


Not exactly:

```
sage: pol(y, 0).parent() # with patch
Univariate Polynomial Ring in y over Univariate Polynomial Ring in x over Rational Field
```
The logic here is that yes, I have evaluated x, so the evaluated coefficients lie in ℚ, *but* then I'm evaluating the resulting element of ℚ[Y] on y ∈ ℚ[x][y], not y ∈ ℚ[y]. So the answer should lie in ℚ[x][y].

In contrast,

```
sage: pol(0, x).parent() # with patch
Univariate Polynomial Ring in x over Rational Field
```
since `x.parent()` is `QQ[x]`, not `QQ[x][y]`.

> What about `pol(y,I)`? should that return an answer in `QuadraticField(-1,name="I")['y']`?



```
sage: pol(y, I).parent() # with patch - TBI, see #18036
Symbolic Ring
sage: pol(y, I.pyobject()).parent() # with patch
Univariate Polynomial Ring in y over Univariate Polynomial Ring in x over Number Field in I with defining polynomial x^2 + 1
```

> Furthermore, the rings in which the answer is supposed to lie likely don't exist yet. Letting sage choose which rings should be constructed likely leads to difficult to predict behaviour (you'd basically be relying on the common parents the coercion framework cooks up,


Well, yes, but that's already the case when you just do `a + b`! Would you really want the evaluation of elements of ℤ[x][y] on y = y0 ∈ ℚ to raise an error?

> I think that `pol(y,0)` should be an error because there's an unhandled coefficient `0` present. It's not clear at all that the *second* argument should be used for the variable that gets mentioned *first* in `QQ['x']['y']`. One might think that `pol(y0,x0)==pol(y0)(x0)`, but that's not the case either. Error really is safer.


Perhaps, yes, but I didn't invent this feature. It has been present for years, and people use it! There are even examples in the sage library that rely on `pol(y,x)` working when pol ∈ R[y] where R is *not* a polynomial ring (but another ring with callable elements). So really this ticket is only about making the implementation understandable, and fixing lots of corner cases such as those mentioned above.



---

archive/issue_comments_321212.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mmezzarobba](#comment%3A9):\n> Perhaps, yes, but I didn't invent this feature. It has been present for years, and people use it! There are even examples in the sage library that rely on `pol(y,x)` working when pol \u2208 R[y] where R is *not* a polynomial ring (but another ring with callable elements). So really this ticket is only about making the implementation understandable, and fixing lots of corner cases such as those mentioned above.\n\n\nOK, that seems to be the case indeed. Thanks for cleaning things up a bit.",
    "created_at": "2015-04-26T17:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321212",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:10'></a>
Replying to [mmezzarobba](#comment%3A9):
> Perhaps, yes, but I didn't invent this feature. It has been present for years, and people use it! There are even examples in the sage library that rely on `pol(y,x)` working when pol ∈ R[y] where R is *not* a polynomial ring (but another ring with callable elements). So really this ticket is only about making the implementation understandable, and fixing lots of corner cases such as those mentioned above.


OK, that seems to be the case indeed. Thanks for cleaning things up a bit.



---

archive/issue_comments_321213.json:
```json
{
    "body": "**Changing commit** from \"[89671731fdf80e827f11b120a6655659c28c0225](https://github.com/sagemath/sagetrac-mirror/commit/89671731fdf80e827f11b120a6655659c28c0225)\" to \"[0cbf0e5395205c323f5a06bc0f9502bf52a88b8c](https://github.com/sagemath/sagetrac-mirror/commit/0cbf0e5395205c323f5a06bc0f9502bf52a88b8c)\".",
    "created_at": "2015-05-24T08:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321213",
    "user": "https://github.com/mezzarobba"
}
```

**Changing commit** from "[89671731fdf80e827f11b120a6655659c28c0225](https://github.com/sagemath/sagetrac-mirror/commit/89671731fdf80e827f11b120a6655659c28c0225)" to "[0cbf0e5395205c323f5a06bc0f9502bf52a88b8c](https://github.com/sagemath/sagetrac-mirror/commit/0cbf0e5395205c323f5a06bc0f9502bf52a88b8c)".



---

archive/issue_events_058695.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-05-24T08:11:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18282#event-58695"
}
```



---

archive/issue_comments_321214.json:
```json
{
    "body": "**Changing branch** from \"[u/mmezzarobba/wip/pol_of_symb](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/wip/pol_of_symb)\" to \"[u/mmezzarobba/pol_call](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/pol_call)\".",
    "created_at": "2015-05-24T08:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321214",
    "user": "https://github.com/mezzarobba"
}
```

**Changing branch** from "[u/mmezzarobba/wip/pol_of_symb](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/wip/pol_of_symb)" to "[u/mmezzarobba/pol_call](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/pol_call)".



---

archive/issue_comments_321215.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ffd32196e2d2a54a6d13e41f02711b739b1dcd2\">5ffd321</a></td><td><code>#18282 Horner form of symbolic expressions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a519fdd053b499cb01ae279c8797bf1e651c285\">4a519fd</a></td><td><code>#18282 Improve pol(expr) for expr in SR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84d6a1b874c241e8eed8196cc42fd9075be40206\">84d6a1b</a></td><td><code>#18282 Simplify Polynomial.__call__</code></td></tr></table>\n",
    "created_at": "2015-05-30T09:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ffd32196e2d2a54a6d13e41f02711b739b1dcd2">5ffd321</a></td><td><code>#18282 Horner form of symbolic expressions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a519fdd053b499cb01ae279c8797bf1e651c285">4a519fd</a></td><td><code>#18282 Improve pol(expr) for expr in SR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84d6a1b874c241e8eed8196cc42fd9075be40206">84d6a1b</a></td><td><code>#18282 Simplify Polynomial.__call__</code></td></tr></table>




---

archive/issue_comments_321216.json:
```json
{
    "body": "**Changing commit** from \"[0cbf0e5395205c323f5a06bc0f9502bf52a88b8c](https://github.com/sagemath/sagetrac-mirror/commit/0cbf0e5395205c323f5a06bc0f9502bf52a88b8c)\" to \"[84d6a1b874c241e8eed8196cc42fd9075be40206](https://github.com/sagemath/sagetrac-mirror/commit/84d6a1b874c241e8eed8196cc42fd9075be40206)\".",
    "created_at": "2015-05-30T09:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0cbf0e5395205c323f5a06bc0f9502bf52a88b8c](https://github.com/sagemath/sagetrac-mirror/commit/0cbf0e5395205c323f5a06bc0f9502bf52a88b8c)" to "[84d6a1b874c241e8eed8196cc42fd9075be40206](https://github.com/sagemath/sagetrac-mirror/commit/84d6a1b874c241e8eed8196cc42fd9075be40206)".



---

archive/issue_events_058696.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "rename": {
        "from": "Improve the default evaluation method for univariate polynomials",
        "to": "Fixes, cleanup and improvements to the default evaluation method for univariate polynomials"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18282#event-58696"
}
```



---

archive/issue_comments_321217.json:
```json
{
    "body": "<a id='comment:14'></a>\nRebased.",
    "created_at": "2015-05-30T09:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321217",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:14'></a>
Rebased.



---

archive/issue_comments_321218.json:
```json
{
    "body": "<a id='comment:15'></a>\nIn view of #18600 (and older sisters #18518 and #18585), I think `__call__` may be at the same time improved and adapted to high degree sparse polynomials: Basically, when a univariate polynomial `p` is evaluated on a value `v` (other than a symbolic variable), it uses a Horner scheme that ranges over all the coefficients of `p`, including the zeroes. One could easily modify lines 755-756 in `src/sage/rings/polynomial/polynomial_element.pyx` to make the loop ranges over the nonzero coefficients. I've not checked already whether it is slower in a sensible way for really dense polynomials or not, but it would be faster for sparse polynomials. And as a side benefit, one would be able to evaluate polynomials such as `x<sup>2</sup>500`, at least on \"easy\" values such as `1` or `-1` or on finite fields.\n\nWhat do you think of my proposal?",
    "created_at": "2015-06-03T15:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321218",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:15'></a>
In view of #18600 (and older sisters #18518 and #18585), I think `__call__` may be at the same time improved and adapted to high degree sparse polynomials: Basically, when a univariate polynomial `p` is evaluated on a value `v` (other than a symbolic variable), it uses a Horner scheme that ranges over all the coefficients of `p`, including the zeroes. One could easily modify lines 755-756 in `src/sage/rings/polynomial/polynomial_element.pyx` to make the loop ranges over the nonzero coefficients. I've not checked already whether it is slower in a sensible way for really dense polynomials or not, but it would be faster for sparse polynomials. And as a side benefit, one would be able to evaluate polynomials such as `x<sup>2</sup>500`, at least on "easy" values such as `1` or `-1` or on finite fields.

What do you think of my proposal?



---

archive/issue_comments_321219.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [bruno](#comment%3A15):\n> One could easily modify lines 755-756 in `src/sage/rings/polynomial/polynomial_element.pyx` to make the loop ranges over the nonzero coefficients. I've not checked already whether it is slower in a sensible way for really dense polynomials or not, but it would be faster for sparse polynomials.\n\n\nSounds reasonable\u2014or perhaps one should override `__call__` in `Polynomial_generic_sparse`, I don't know. In any case I have no time to spend on this ticket now, but please feel free to add improvements if you want!",
    "created_at": "2015-06-04T07:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321219",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:16'></a>
Replying to [bruno](#comment%3A15):
> One could easily modify lines 755-756 in `src/sage/rings/polynomial/polynomial_element.pyx` to make the loop ranges over the nonzero coefficients. I've not checked already whether it is slower in a sensible way for really dense polynomials or not, but it would be faster for sparse polynomials.


Sounds reasonable—or perhaps one should override `__call__` in `Polynomial_generic_sparse`, I don't know. In any case I have no time to spend on this ticket now, but please feel free to add improvements if you want!



---

archive/issue_comments_321220.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [mmezzarobba](#comment%3A16):\n> Replying to [bruno](#comment%3A15):\n> > One could easily modify lines 755-756 in `src/sage/rings/polynomial/polynomial_element.pyx` to make the loop ranges over the nonzero coefficients. I've not checked already whether it is slower in a sensible way for really dense polynomials or not, but it would be faster for sparse polynomials.\n\n> \n> Sounds reasonable\u2014or perhaps one should override `__call__` in `Polynomial_generic_sparse`, I don't know. In any case I have no time to spend on this ticket now, but please feel free to add improvements if you want!\n\n\nActually, I did some tests. It appears that it should be better to implement a `__call__` method in `Polynomial_generic_sparse` to avoid hindering performances. The other solution would be to have tests inside the current `__call__` method to check whether the `parent` is sparse or not. One advantage is to avoid code duplication (for `*args` and `*kwds`), though I guess it is not the right solution.\n\nI'd better let this ticket as it is (and actually try to review it...) and open a new ticket for sparse polynomials.",
    "created_at": "2015-06-04T08:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321220",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:17'></a>
Replying to [mmezzarobba](#comment%3A16):
> Replying to [bruno](#comment%3A15):
> > One could easily modify lines 755-756 in `src/sage/rings/polynomial/polynomial_element.pyx` to make the loop ranges over the nonzero coefficients. I've not checked already whether it is slower in a sensible way for really dense polynomials or not, but it would be faster for sparse polynomials.

> 
> Sounds reasonable—or perhaps one should override `__call__` in `Polynomial_generic_sparse`, I don't know. In any case I have no time to spend on this ticket now, but please feel free to add improvements if you want!


Actually, I did some tests. It appears that it should be better to implement a `__call__` method in `Polynomial_generic_sparse` to avoid hindering performances. The other solution would be to have tests inside the current `__call__` method to check whether the `parent` is sparse or not. One advantage is to avoid code duplication (for `*args` and `*kwds`), though I guess it is not the right solution.

I'd better let this ticket as it is (and actually try to review it...) and open a new ticket for sparse polynomials.



---

archive/issue_comments_321221.json:
```json
{
    "body": "**Changing branch** from \"[u/mmezzarobba/pol_call](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/pol_call)\" to \"[public/18282](https://github.com/sagemath/sagetrac-mirror/tree/public/18282)\".",
    "created_at": "2015-07-29T15:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321221",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/mmezzarobba/pol_call](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/pol_call)" to "[public/18282](https://github.com/sagemath/sagetrac-mirror/tree/public/18282)".



---

archive/issue_comments_321222.json:
```json
{
    "body": "**Changing commit** from \"[84d6a1b874c241e8eed8196cc42fd9075be40206](https://github.com/sagemath/sagetrac-mirror/commit/84d6a1b874c241e8eed8196cc42fd9075be40206)\" to \"[8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)\".",
    "created_at": "2015-07-29T15:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321222",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[84d6a1b874c241e8eed8196cc42fd9075be40206](https://github.com/sagemath/sagetrac-mirror/commit/84d6a1b874c241e8eed8196cc42fd9075be40206)" to "[8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)".



---

archive/issue_comments_321223.json:
```json
{
    "body": "**Reviewer:** Ralf Stephan",
    "created_at": "2015-07-29T15:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321223",
    "user": "https://github.com/rwst"
}
```

**Reviewer:** Ralf Stephan



---

archive/issue_comments_321224.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-07-29T15:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321224",
    "user": "https://github.com/rwst"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_321225.json:
```json
{
    "body": "<a id='comment:19'></a>\nIn Pynac-0.4.3 (maybe 0.3.9.3) `sin(pi/5)` expands immediately to `1/4*sqrt(-2*sqrt(5) + 10)` (actually every `sin`/`cos`/`tan` value expressible with `sqrt`s of depth 3), so I'll change the doctest to `sin(pi/7)`.\n\nAs I trust Nils on the general purpose, and I can see nothing missing in the code, also the patchbot is happy and my patch is only a doctest change I'll take the liberty to set positive.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781\">8ed1967</a></td><td><code>Merge branch 'u/mmezzarobba/pol_call' of trac.sagemath.org:sage into tmp4</code></td></tr></table>\n",
    "created_at": "2015-07-29T15:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321225",
    "user": "https://github.com/rwst"
}
```

<a id='comment:19'></a>
In Pynac-0.4.3 (maybe 0.3.9.3) `sin(pi/5)` expands immediately to `1/4*sqrt(-2*sqrt(5) + 10)` (actually every `sin`/`cos`/`tan` value expressible with `sqrt`s of depth 3), so I'll change the doctest to `sin(pi/7)`.

As I trust Nils on the general purpose, and I can see nothing missing in the code, also the patchbot is happy and my patch is only a doctest change I'll take the liberty to set positive.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781">8ed1967</a></td><td><code>Merge branch 'u/mmezzarobba/pol_call' of trac.sagemath.org:sage into tmp4</code></td></tr></table>




---

archive/issue_events_058697.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-07-29T15:45:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18282#event-58697"
}
```



---

archive/issue_events_058698.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-07-29T15:45:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18282#event-58698"
}
```



---

archive/issue_comments_321226.json:
```json
{
    "body": "**Changing branch** from \"[public/18282](https://github.com/sagemath/sagetrac-mirror/tree/public/18282)\" to \"[8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)\".",
    "created_at": "2015-07-31T17:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321226",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/18282](https://github.com/sagemath/sagetrac-mirror/tree/public/18282)" to "[8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)".



---

archive/issue_events_058699.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-31T17:52:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18282#event-58699"
}
```



---

archive/issue_comments_321227.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2015-07-31T17:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321227",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_321228.json:
```json
{
    "body": "<a id='comment:21'></a>\nThanks!",
    "created_at": "2015-08-01T08:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321228",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:21'></a>
Thanks!



---

archive/issue_comments_321229.json:
```json
{
    "body": "**Changing commit** from \"[8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)\" to \"\".",
    "created_at": "2015-08-01T08:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18282",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18282#issuecomment-321229",
    "user": "https://github.com/mezzarobba"
}
```

**Changing commit** from "[8ed19674f4788e97c9f3697fdb67a06c2ef2c781](https://github.com/sagemath/sagetrac-mirror/commit/8ed19674f4788e97c9f3697fdb67a06c2ef2c781)" to "".
