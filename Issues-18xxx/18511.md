# Issue 18511: LatticePoset: add is_sublattice()

archive/issues_018274.json:
```json
{
    "body": "Add function to check if a given lattice is a sublattice of the lattice. There should be nothing complicated with this.\n\n\nCC:  @fchapoton\n\nBranch/Commit: f922127be87eb4bf8a9cdc753071c02021f8df39\n\nReviewer: Nathann Cohen, Darij Grinberg, Travis Scrimshaw\n\nAuthor: Jori M\u00e4ntysalo\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18511\n\n",
    "closed_at": "2016-08-27T08:38:11Z",
    "created_at": "2015-05-26T05:02:12Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "LatticePoset: add is_sublattice()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18511",
    "user": "https://github.com/jm58660"
}
```
Add function to check if a given lattice is a sublattice of the lattice. There should be nothing complicated with this.


CC:  @fchapoton

Branch/Commit: f922127be87eb4bf8a9cdc753071c02021f8df39

Reviewer: Nathann Cohen, Darij Grinberg, Travis Scrimshaw

Author: Jori MÃ¤ntysalo

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18511





---

archive/issue_comments_262712.json:
```json
{
    "body": "<a id='comment:2'></a>I would like to get some comments about this. 1) Should it be at all possible to check if given *list* of elements form a sublattice of the lattice? 2.1) If not, should I change the order of `self` and `other`? 2.2 If yes, should I change name from `is_sublattice()` to `has_sublattice()`? (Compare to `is_subgraph()` on generic graphs.)\n\n---\nNew commits:",
    "created_at": "2015-05-26T07:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262712",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>I would like to get some comments about this. 1) Should it be at all possible to check if given *list* of elements form a sublattice of the lattice? 2.1) If not, should I change the order of `self` and `other`? 2.2 If yes, should I change name from `is_sublattice()` to `has_sublattice()`? (Compare to `is_subgraph()` on generic graphs.)

---
New commits:



---

archive/issue_comments_262713.json:
```json
{
    "body": "<a id='comment:3'></a>Yo,\n\n> I would like to get some comments about this. 1) Should it be at all possible to check if given *list* of elements form a sublattice of the lattice? 2.1) If not, should I change the order of `self` and `other`? 2.2 If yes, should I change name from `is_sublattice()` to `has_sublattice()`? (Compare to `is_subgraph()` on generic graphs.)\n\n\nthe way it is implemented, your function works for both. And I do not personally mind if  `is_sublattice`  also works on lists.\n\nOn the other hand, with the current implementation the antichain on 5 elements is a sublattice of the chain on 5 elements.\n\nNathann",
    "created_at": "2015-05-26T11:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262713",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>Yo,

> I would like to get some comments about this. 1) Should it be at all possible to check if given *list* of elements form a sublattice of the lattice? 2.1) If not, should I change the order of `self` and `other`? 2.2 If yes, should I change name from `is_sublattice()` to `has_sublattice()`? (Compare to `is_subgraph()` on generic graphs.)


the way it is implemented, your function works for both. And I do not personally mind if  `is_sublattice`  also works on lists.

On the other hand, with the current implementation the antichain on 5 elements is a sublattice of the chain on 5 elements.

Nathann



---

archive/issue_comments_262714.json:
```json
{
    "body": "<a id='comment:4'></a>ARGGGGGGGGGGGGG. OKay, please merge those two functions into one.\n\nNathann",
    "created_at": "2015-05-26T11:50:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262714",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>ARGGGGGGGGGGGGG. OKay, please merge those two functions into one.

Nathann



---

archive/issue_comments_262715.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 ncohen]:\n\n> ARGGGGGGGGGGGGG. OKay, please merge those two functions into one.\n\n\nThis and `sublattice()`? Why? For example for sets we have a function to get subsets and another checking if a set is a subset of another set.",
    "created_at": "2015-05-26T12:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262715",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>Replying to [comment:4 ncohen]:

> ARGGGGGGGGGGGGG. OKay, please merge those two functions into one.


This and `sublattice()`? Why? For example for sets we have a function to get subsets and another checking if a set is a subset of another set.



---

archive/issue_comments_262716.json:
```json
{
    "body": "<a id='comment:6'></a>NOnono. I mean the `hasse_diagram.is_sublattice` which is called by `Lattice.is_sublattice` but does not check that 'other' is a subposet of self.",
    "created_at": "2015-05-26T12:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262716",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>NOnono. I mean the `hasse_diagram.is_sublattice` which is called by `Lattice.is_sublattice` but does not check that 'other' is a subposet of self.



---

archive/issue_comments_262717.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:3 ncohen]:\n\n> the way it is implemented, your function works for both. And I do not personally mind if  `is_sublattice`  also works on lists.\n\n\nOK. How about the name of the function?\n\n> On the other hand, with the current implementation the antichain on 5 elements is a sublattice of the chain on 5 elements.\n\n\n??\n\n```\nsage: L=Posets.ChainPoset(5)\nsage: M=Posets.AntichainPoset(5)\nsage: L.is_sublattice(M)\nFalse\n```\n\nReplying to [comment:6 ncohen]:\n\n> I mean the `hasse_diagram.is_sublattice` which is called by `Lattice.is_sublattice` but does not check that 'other' is a subposet of self.\n\n\nBut that is checked on `lattices.py`. Isn't it slower to access elements of _hasse_diagram on a loop from another file?",
    "created_at": "2015-05-26T16:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262717",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:7'></a>Replying to [comment:3 ncohen]:

> the way it is implemented, your function works for both. And I do not personally mind if  `is_sublattice`  also works on lists.


OK. How about the name of the function?

> On the other hand, with the current implementation the antichain on 5 elements is a sublattice of the chain on 5 elements.


??

```
sage: L=Posets.ChainPoset(5)
sage: M=Posets.AntichainPoset(5)
sage: L.is_sublattice(M)
False
```

Replying to [comment:6 ncohen]:

> I mean the `hasse_diagram.is_sublattice` which is called by `Lattice.is_sublattice` but does not check that 'other' is a subposet of self.


But that is checked on `lattices.py`. Isn't it slower to access elements of _hasse_diagram on a loop from another file?



---

archive/issue_comments_262718.json:
```json
{
    "body": "<a id='comment:8'></a>Yo !\n\n> OK. How about the name of the function?\n\n\nI'd say that it is fine. You think it's wrong in some way?\n\n> > On the other hand, with the current implementation the antichain on 5 elements is a sublattice of the chain on 5 elements.\n\n\nAfter that comment I added a big 'ARGGGGGGG' which indicated that for the tenth time I had only read the code of the undocumented `is_sublattice` function from `hasse_diagram.py`. Could you please merge the two? The second function, by itself, is incorrect.\n\n> But that is checked on `lattices.py`. Isn't it slower to access elements of _hasse_diagram on a loop from another file?\n\n\nI do not see why. To say it differently, I do not think that Python is smart enough to optimize anything due to the fact that everything is in the same file `:-P`\n\nNathann",
    "created_at": "2015-05-27T08:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262718",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>Yo !

> OK. How about the name of the function?


I'd say that it is fine. You think it's wrong in some way?

> > On the other hand, with the current implementation the antichain on 5 elements is a sublattice of the chain on 5 elements.


After that comment I added a big 'ARGGGGGGG' which indicated that for the tenth time I had only read the code of the undocumented `is_sublattice` function from `hasse_diagram.py`. Could you please merge the two? The second function, by itself, is incorrect.

> But that is checked on `lattices.py`. Isn't it slower to access elements of _hasse_diagram on a loop from another file?


I do not see why. To say it differently, I do not think that Python is smart enough to optimize anything due to the fact that everything is in the same file `:-P`

Nathann



---

archive/issue_comments_262719.json:
```json
{
    "body": "<a id='comment:9'></a>About the name: If `A` and `B` are graphs, then `A.is_subgraph(B)` means \"A is a subgraph of B\". If they are lattices, then `A.is_sublattice(B)` means \"B is a sublattice of A\". So it is somewhat surprising difference. But of course we can't add `is_sublattice()` to all iterables.",
    "created_at": "2015-05-27T09:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262719",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>About the name: If `A` and `B` are graphs, then `A.is_subgraph(B)` means "A is a subgraph of B". If they are lattices, then `A.is_sublattice(B)` means "B is a sublattice of A". So it is somewhat surprising difference. But of course we can't add `is_sublattice()` to all iterables.



---

archive/issue_comments_262720.json:
```json
{
    "body": "<a id='comment:10'></a>Well, it's up to you. For as long as `B` can be a Lattice object, I'd say that we are fine.\n\nNathann",
    "created_at": "2015-05-27T11:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262720",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>Well, it's up to you. For as long as `B` can be a Lattice object, I'd say that we are fine.

Nathann



---

archive/issue_comments_262721.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-29T09:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262721",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262722.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-29T09:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262722",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_262723.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:8 ncohen]:\n\n> > OK. How about the name of the function?\n  \n> \n> I'd say that it is fine. You think it's wrong in some way?\n\n\nSemantics are wrong if A.is_sublattice(B) means that B is a sublattice of A. Changed to `has_sublattice`. I also removed possibility to check of being a really sublattice, i.e. input is only assumed to be a list or like.\n\n> Could you please merge the two? The second function, by itself, is incorrect.\n\n\nI corrected the (stupid) bug in hasse_diagram.\n\nIf I constantly call `meet()` it will slow down computation. If I directly reference to `_meet`, I'll break encapsulation. Then for example changing hasse_diagram to use list of lists instead of matrix will break the function.",
    "created_at": "2015-05-29T09:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262723",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>Replying to [comment:8 ncohen]:

> > OK. How about the name of the function?
  
> 
> I'd say that it is fine. You think it's wrong in some way?


Semantics are wrong if A.is_sublattice(B) means that B is a sublattice of A. Changed to `has_sublattice`. I also removed possibility to check of being a really sublattice, i.e. input is only assumed to be a list or like.

> Could you please merge the two? The second function, by itself, is incorrect.


I corrected the (stupid) bug in hasse_diagram.

If I constantly call `meet()` it will slow down computation. If I directly reference to `_meet`, I'll break encapsulation. Then for example changing hasse_diagram to use list of lists instead of matrix will break the function.



---

archive/issue_comments_262724.json:
```json
{
    "body": "<a id='comment:14'></a>The branch does not merge with the latest beta.\n\nNathann",
    "created_at": "2015-05-29T12:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262724",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>The branch does not merge with the latest beta.

Nathann



---

archive/issue_comments_262725.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-29T13:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262725",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262726.json:
```json
{
    "body": "<a id='comment:16'></a>Now it should work again. It was `sublattice()` at the end of file that made a conflict with this `is_sublattice()` also added to end of file.",
    "created_at": "2015-05-29T13:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262726",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:16'></a>Now it should work again. It was `sublattice()` at the end of file that made a conflict with this `is_sublattice()` also added to end of file.



---

archive/issue_comments_262727.json:
```json
{
    "body": "<a id='comment:17'></a>Uploading my review patch. If you're fine with it, feel free to mark as pos_rev.\n\n---\nNew commits:",
    "created_at": "2015-05-29T22:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262727",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:17'></a>Uploading my review patch. If you're fine with it, feel free to mark as pos_rev.

---
New commits:



---

archive/issue_events_052035.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2015-05-29T22:28:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18511#event-52035"
}
```



---

archive/issue_comments_262728.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-29T22:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262729.json:
```json
{
    "body": "<a id='comment:20'></a>There has been discussion about not using ``self`` in docstrings. For example \"- - of the lattice ``self``.\" should be just \"- - of the lattice.\" That's because we don't expect all users to know about python.",
    "created_at": "2015-05-30T05:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262729",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:20'></a>There has been discussion about not using ``self`` in docstrings. For example "- - of the lattice ``self``." should be just "- - of the lattice." That's because we don't expect all users to know about python.



---

archive/issue_comments_262730.json:
```json
{
    "body": "<a id='comment:21'></a>Hello !\n\nCould you add an example when the 'lattice' is given as a `Lattice` object? Logically, it could even be the first kind of examples you give, and you could then add that \"it also works when 'other' is any iterable'\".\n\nAlso, it seems that the code does not work as expected when 'other' contains points which are not in `self`. That's a trivial 'no', but it should not be an exception.\n\nNathann",
    "created_at": "2015-05-30T06:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262730",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'></a>Hello !

Could you add an example when the 'lattice' is given as a `Lattice` object? Logically, it could even be the first kind of examples you give, and you could then add that "it also works when 'other' is any iterable'".

Also, it seems that the code does not work as expected when 'other' contains points which are not in `self`. That's a trivial 'no', but it should not be an exception.

Nathann



---

archive/issue_comments_262731.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-30T12:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262732.json:
```json
{
    "body": "<a id='comment:23'></a>Nathann: done and done, although I'm not sure if I've done it the way you've liked (please check).\n\nJori: I don't believe in this being of any help to users. Pronouns like \"this\" become ambiguous very quickly when several objects are involved. Here we have two lattices floating around and it's more or less clear which one is meant, but I'd say that `self` makes it clearer. And when the situation is more complicated, it is downright impossible to circumlocute `self`. And the ugly truth is, users who don't know about Python are screwed when they try to use our poset infrastructure anyway...",
    "created_at": "2015-05-30T12:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262732",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:23'></a>Nathann: done and done, although I'm not sure if I've done it the way you've liked (please check).

Jori: I don't believe in this being of any help to users. Pronouns like "this" become ambiguous very quickly when several objects are involved. Here we have two lattices floating around and it's more or less clear which one is meant, but I'd say that `self` makes it clearer. And when the situation is more complicated, it is downright impossible to circumlocute `self`. And the ugly truth is, users who don't know about Python are screwed when they try to use our poset infrastructure anyway...



---

archive/issue_comments_262733.json:
```json
{
    "body": "<a id='comment:24'></a>> Nathann: done and done, although I'm not sure if I've done it the way you've liked (please check).\n\n\nRight right. Thanks for adding this warning in `HasseDiagram.is_has_sublattice`.\n\nJori also mentionned that there was now an index of Lattice functions. In this case, this method should be added to it.\n\nNathann",
    "created_at": "2015-05-30T12:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262733",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>> Nathann: done and done, although I'm not sure if I've done it the way you've liked (please check).


Right right. Thanks for adding this warning in `HasseDiagram.is_has_sublattice`.

Jori also mentionned that there was now an index of Lattice functions. In this case, this method should be added to it.

Nathann



---

archive/issue_comments_262734.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:21 ncohen]:\n\n> Also, it seems that the code does not work as expected when 'other' contains points which are not in `self`. That's a trivial 'no', but it should not be an exception.\n\n\nI guess that it is mostly an error from the user if he/she ask if `{1,2}` is a sublattice of a lattice containing `a`, `b` and `a`. So raising an exceptions sounds better.\n\nBut totally another thing is a list vs. a lattice as a parameter. They feels two different things.",
    "created_at": "2015-06-01T13:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262734",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:25'></a>Replying to [comment:21 ncohen]:

> Also, it seems that the code does not work as expected when 'other' contains points which are not in `self`. That's a trivial 'no', but it should not be an exception.


I guess that it is mostly an error from the user if he/she ask if `{1,2}` is a sublattice of a lattice containing `a`, `b` and `a`. So raising an exceptions sounds better.

But totally another thing is a list vs. a lattice as a parameter. They feels two different things.



---

archive/issue_comments_262735.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:23 darij]:\n\n> Jori: I don't believe in this being of any help to users. Pronouns like \"this\" become ambiguous very quickly when several objects are involved.\n\n\nSometimes, maybe. It I think it's good to at least try. I a recent discussion vbraun referred to \nhttp://sphinx-doc.org/latest/ext/example_google.html which says \"Do not include the `self` parameter in the ``Args`` section.\"",
    "created_at": "2015-06-01T13:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262735",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:26'></a>Replying to [comment:23 darij]:

> Jori: I don't believe in this being of any help to users. Pronouns like "this" become ambiguous very quickly when several objects are involved.


Sometimes, maybe. It I think it's good to at least try. I a recent discussion vbraun referred to 
http://sphinx-doc.org/latest/ext/example_google.html which says "Do not include the `self` parameter in the ``Args`` section."



---

archive/issue_comments_262736.json:
```json
{
    "body": "<a id='comment:27'></a>> I guess that it is mostly an error from the user if he/she ask if `{1,2}` is a sublattice of a lattice containing `a`, `b` and `a`. So raising an exceptions sounds better.\n\n\nThat's an inconsistency between graphs and posets\n\n```\nsage: p = Poset()\nsage: p.le(1,3)\n...\nValueError: element (=1) not in poset\nsage: g = Graph()\nsage: g.has_edge(1,3)\nFalse\n```\n\nSoooooo okay for an exception!\n \n> But totally another thing is a list vs. a lattice as a parameter. They feels two different things.\n\n\nWell, a `Lattice` is an iterable container of vertices, isn't it? And you just can't have a `.has_sublattice(X)` function that does not accept a lattice as input `O_o`\n\nNathann",
    "created_at": "2015-06-01T13:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262736",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:27'></a>> I guess that it is mostly an error from the user if he/she ask if `{1,2}` is a sublattice of a lattice containing `a`, `b` and `a`. So raising an exceptions sounds better.


That's an inconsistency between graphs and posets

```
sage: p = Poset()
sage: p.le(1,3)
...
ValueError: element (=1) not in poset
sage: g = Graph()
sage: g.has_edge(1,3)
False
```

Soooooo okay for an exception!
 
> But totally another thing is a list vs. a lattice as a parameter. They feels two different things.


Well, a `Lattice` is an iterable container of vertices, isn't it? And you just can't have a `.has_sublattice(X)` function that does not accept a lattice as input `O_o`

Nathann



---

archive/issue_comments_262737.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:27 ncohen]:\n\n> That's an inconsistency between graphs and posets\n\n\nDuh.\n\n> Well, a `Lattice` is an iterable container of vertices, isn't it? And you just can't have a `.has_sublattice(X)` function that does not accept a lattice as input `O_o`\n\n\nBut it would mean that after `L1=LatticePoset({1:[2]}); L2=L2.dual()` we would have `L2` *not* a subposet of L1 but `L1.has_sublattice(L2)` would return `True`.",
    "created_at": "2015-06-01T13:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262737",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:28'></a>Replying to [comment:27 ncohen]:

> That's an inconsistency between graphs and posets


Duh.

> Well, a `Lattice` is an iterable container of vertices, isn't it? And you just can't have a `.has_sublattice(X)` function that does not accept a lattice as input `O_o`


But it would mean that after `L1=LatticePoset({1:[2]}); L2=L2.dual()` we would have `L2` *not* a subposet of L1 but `L1.has_sublattice(L2)` would return `True`.



---

archive/issue_comments_262738.json:
```json
{
    "body": "<a id='comment:29'></a>> But it would mean that after `L1=LatticePoset({1:[2]}); L2=L2.dual()` we would have `L2` *not* a subposet of L1 but `L1.has_sublattice(L2)` would return `True`.\n\n\nRight, right. And returning `True` is precisely what your branch does:\n\n```\nsage: L1=LatticePoset({1:[2]})\nsage: L2=L1.dual()\nsage: L1.has_sublattice(L2)\nTrue\n```\n\nNathann",
    "created_at": "2015-06-01T13:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262738",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'></a>> But it would mean that after `L1=LatticePoset({1:[2]}); L2=L2.dual()` we would have `L2` *not* a subposet of L1 but `L1.has_sublattice(L2)` would return `True`.


Right, right. And returning `True` is precisely what your branch does:

```
sage: L1=LatticePoset({1:[2]})
sage: L2=L1.dual()
sage: L1.has_sublattice(L2)
True
```

Nathann



---

archive/issue_comments_262739.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:29 ncohen]:\n> > But it would mean that after `L1=LatticePoset({1:[2]}); L2=L2.dual()` we would have `L2` *not* a subposet of L1 but `L1.has_sublattice(L2)` would return `True`.\n\n> \n> Right, right. And returning `True` is precisely what your branch does:\n\n\nTrue. Hence my branch needs correcting.\n\nI think that this relates also with `sublattice()` and `random_maximal_sublattice()` (see #18562). Should there be \"public\" functions on `lattices.py` returning lists? This would be kind of optimization for some computations. Other way is to have them on `hasse_diagram.py`, so that advanced user might use them directly.",
    "created_at": "2015-06-02T06:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262739",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:30'></a>Replying to [comment:29 ncohen]:
> > But it would mean that after `L1=LatticePoset({1:[2]}); L2=L2.dual()` we would have `L2` *not* a subposet of L1 but `L1.has_sublattice(L2)` would return `True`.

> 
> Right, right. And returning `True` is precisely what your branch does:


True. Hence my branch needs correcting.

I think that this relates also with `sublattice()` and `random_maximal_sublattice()` (see #18562). Should there be "public" functions on `lattices.py` returning lists? This would be kind of optimization for some computations. Other way is to have them on `hasse_diagram.py`, so that advanced user might use them directly.



---

archive/issue_events_052036.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-08-14T08:45:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18511#event-52036"
}
```



---

archive/issue_events_052037.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-08-14T08:45:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18511#event-52037"
}
```



---

archive/issue_comments_262740.json:
```json
{
    "body": "<a id='comment:31'></a>Returning to this one... We have `is_subgraph` and there is `is_subposet` on #15875 waiting for review. So I guess this should be also `is_sublattice()`.\n\nOn the other hand, then testing if a list `l` of elements of `L` is closed under meet and join must be done like `LatticePoset(L.subposet(l)).is_sublattice(L)`. But maybe we can live with it.",
    "created_at": "2015-08-14T08:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262740",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:31'></a>Returning to this one... We have `is_subgraph` and there is `is_subposet` on #15875 waiting for review. So I guess this should be also `is_sublattice()`.

On the other hand, then testing if a list `l` of elements of `L` is closed under meet and join must be done like `LatticePoset(L.subposet(l)).is_sublattice(L)`. But maybe we can live with it.



---

archive/issue_comments_262741.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-14T08:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262741",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_262742.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-Add function to check if a given iterable (like another lattice or poset, or just a list of elements) is a sublattice of the lattice. There should be nothing complicated with this.\n+Add function to check if a given lattice is a sublattice of the lattice. There should be nothing complicated with this.\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2015-08-14T08:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262742",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
-Add function to check if a given iterable (like another lattice or poset, or just a list of elements) is a sublattice of the lattice. There should be nothing complicated with this.
+Add function to check if a given lattice is a sublattice of the lattice. There should be nothing complicated with this.
+
 
 Comment: 1
 
``````




---

archive/issue_comments_262743.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-09-30T10:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_262744.json:
```json
{
    "body": "<a id='comment:33'></a>This is not ready, as I wait to see how should\n\n```\nL = LatticePoset({1:[2]})\nP = Poset(L)\nL == P\n```\n\nwork.",
    "created_at": "2015-09-30T10:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262744",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:33'></a>This is not ready, as I wait to see how should

```
L = LatticePoset({1:[2]})
P = Poset(L)
L == P
```

work.



---

archive/issue_comments_262745.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-08-25T07:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_262746.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T07:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262746",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262747.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-08-25T07:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_262748.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-25T07:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262748",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_262749.json:
```json
{
    "body": "<a id='comment:37'></a>Had some errors with git, but now this old ticket should be ready for (easy) review.",
    "created_at": "2016-08-25T07:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262749",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:37'></a>Had some errors with git, but now this old ticket should be ready for (easy) review.



---

archive/issue_events_052038.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-08-25T07:41:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18511#event-52038"
}
```



---

archive/issue_events_052039.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-08-25T07:41:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18511#event-52039"
}
```



---

archive/issue_comments_262750.json:
```json
{
    "body": "<a id='comment:39'></a>Could you add a test for when `other` is not a lattice? I'm slightly worried about\n\n```sage\nif not hasattr(other, 'meet') or not hasattr(other, 'join'):\n    raise TypeError('other is not a lattice')\n```\nSomewhat independent, I think it would be better to do something like:\n\n```sage\ntry:\n    M, J = other.meet, other.join\nexcept (AttributeError):\n    raise TypeError('other is not a lattice')\n```\nwhich is more Pythonic and easily extends if `meet` and `join` end up raising other errors at some point.",
    "created_at": "2016-08-25T13:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262750",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:39'></a>Could you add a test for when `other` is not a lattice? I'm slightly worried about

```sage
if not hasattr(other, 'meet') or not hasattr(other, 'join'):
    raise TypeError('other is not a lattice')
```
Somewhat independent, I think it would be better to do something like:

```sage
try:
    M, J = other.meet, other.join
except (AttributeError):
    raise TypeError('other is not a lattice')
```
which is more Pythonic and easily extends if `meet` and `join` end up raising other errors at some point.



---

archive/issue_comments_262751.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T14:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262751",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262752.json:
```json
{
    "body": "<a id='comment:41'></a>Replying to [comment:39 tscrim]:\n> Could you add a test for when `other` is not a lattice? I'm slightly worried about - \n\n\nDone this.",
    "created_at": "2016-08-25T14:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262752",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:41'></a>Replying to [comment:39 tscrim]:
> Could you add a test for when `other` is not a lattice? I'm slightly worried about - 


Done this.



---

archive/issue_comments_262753.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-25T14:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262753",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_052040.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T08:38:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18511#event-52040"
}
```



---

archive/issue_comments_262754.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-27T08:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18511#issuecomment-262754",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
