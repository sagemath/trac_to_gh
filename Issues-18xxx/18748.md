# Issue 18748: Python library to bootstrap Sage

archive/issues_018511.json:
```json
{
    "assignees": [],
    "body": "Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.\n\nCC:  @nathanncohen\n\nBranch/Commit: **[60a581b](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**\n\nReviewer: **John Palmieri**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18748_\n\n",
    "closed_at": "2015-07-13T17:58:42Z",
    "created_at": "2015-06-20T13:09:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Python library to bootstrap Sage",
    "type": "issue",
    "updated_at": "2015-07-13T17:58:42Z",
    "url": "https://github.com/sagemath/sage/issues/18748",
    "user": "https://github.com/vbraun"
}
```
Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.

CC:  @nathanncohen

Branch/Commit: **[60a581b](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**

Reviewer: **John Palmieri**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/18748_





---

archive/issue_events_248565.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:09:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248565"
}
```



---

archive/issue_events_248566.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:09:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248566"
}
```



---

archive/issue_comments_264159.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.\n``````\n",
    "created_at": "2015-06-20T13:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264159",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.
``````




---

archive/issue_events_248567.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248567"
}
```



---

archive/issue_events_248568.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248568"
}
```



---

archive/issue_comments_264160.json:
```json
{
    "body": "Branch: **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**",
    "created_at": "2015-06-20T20:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264160",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**



---

archive/issue_comments_264161.json:
```json
{
    "body": "Commit: **[0acf070](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)**",
    "created_at": "2015-06-21T10:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264161",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[0acf070](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)**



---

archive/issue_comments_264162.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd61b67c486126af2f90104a3fa8a277facd056a\">bd61b67</a></td><td><code>add the sage-pkg entrypoint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25022c39f788f5dbfef8aa3329e650f7da659926\">25022c3</a></td><td><code>move sage-download-file to the sage_bootstrap library</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8\">0acf070</a></td><td><code>initial implementation of the sage-pkg tool</code></td></tr></table>\n",
    "created_at": "2015-06-21T10:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264162",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd61b67c486126af2f90104a3fa8a277facd056a">bd61b67</a></td><td><code>add the sage-pkg entrypoint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25022c39f788f5dbfef8aa3329e650f7da659926">25022c3</a></td><td><code>move sage-download-file to the sage_bootstrap library</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8">0acf070</a></td><td><code>initial implementation of the sage-pkg tool</code></td></tr></table>




---

archive/issue_events_248569.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-21T10:57:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248569"
}
```



---

archive/issue_events_248570.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-21T10:57:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248570"
}
```



---

archive/issue_events_248571.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-21T10:57:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248571"
}
```



---

archive/issue_comments_264163.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nNow with testing:\n\n```\n$ tox\n[...]\n  py26: commands succeeded\n  py27: commands succeeded\n  py33: commands succeeded\n  py34: commands succeeded\n  congratulations :)\n```",
    "created_at": "2015-06-21T10:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264163",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'>Comment 5:</a>
Now with testing:

```
$ tox
[...]
  py26: commands succeeded
  py27: commands succeeded
  py33: commands succeeded
  py34: commands succeeded
  congratulations :)
```



---

archive/issue_comments_264164.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2015-06-21T10:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264164",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_comments_264165.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nCan you explain in detail what you do in this branch? You make many changes, this ticket is now a blocker, and it takes a *LONG* time to figure it all out from looking at the diff.",
    "created_at": "2015-06-21T11:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264165",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'>Comment 6:</a>
Can you explain in detail what you do in this branch? You make many changes, this ticket is now a blocker, and it takes a *LONG* time to figure it all out from looking at the diff.



---

archive/issue_comments_264166.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n* No actual functionality changed\n* `sage-download-file` code is refactored into a package \n* Tests added for everything\n* Output is explained in the README, no more if `self.verbose: printflush` hacks\n* `sage-pkg` command to translate between package names and tarball filenames (and maybe query for package types in the future)",
    "created_at": "2015-06-21T11:07:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264166",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'>Comment 7:</a>
* No actual functionality changed
* `sage-download-file` code is refactored into a package 
* Tests added for everything
* Output is explained in the README, no more if `self.verbose: printflush` hacks
* `sage-pkg` command to translate between package names and tarball filenames (and maybe query for package types in the future)



---

archive/issue_comments_264167.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\n`sage-pkg` was the command to create old-style packages, now it's something completely different. Since we still support old-style packages, can't you rename this script?\n\nAlso: why is this a blocker? There is nothing in the description or comments justifying that.",
    "created_at": "2015-06-25T08:27:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264167",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'>Comment 8:</a>
`sage-pkg` was the command to create old-style packages, now it's something completely different. Since we still support old-style packages, can't you rename this script?

Also: why is this a blocker? There is nothing in the description or comments justifying that.



---

archive/issue_comments_264168.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAbout the directory structure: wouldn't it be simpler to keep the scripts in `src/bin` (they can still `import sage_bootstrap`) and then not use the redundant `sage_bootstrap/sage_bootstrap` subdirectory?",
    "created_at": "2015-06-25T08:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264168",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
About the directory structure: wouldn't it be simpler to keep the scripts in `src/bin` (they can still `import sage_bootstrap`) and then not use the redundant `sage_bootstrap/sage_bootstrap` subdirectory?



---

archive/issue_comments_264169.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI honestly have no idea what `tox` does, but I tried it anyway:\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ uname -a\nLinux tamiyo 3.17.7-gentoo #1 SMP PREEMPT Wed Dec 31 20:06:39 CET 2014 x86_64 Intel(R) Core(TM) i7-2640M CPU @ 2.80GHz GenuineIntel GNU/Linux\n```\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ python --version\nPython 3.3.2\n```\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox --version\n1.8.1 imported from /usr/lib64/python3.3/site-packages/tox/__init__.py\n```\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox\nGLOB sdist-make: /usr/local/src/sage-config/src/sage_bootstrap/setup.py\npy26 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py26\nERROR: InterpreterNotFound: python2.6\npy27 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip\npy27 runtests: PYTHONHASHSEED='1210919353'\npy27 runtests: commands[0] | python2.7 -m unittest discover\n.......E.......\n======================================================================\nERROR: test_checksum (test.test_tarball.TarballTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/test/test_tarball.py\", line 40, in test_checksum\n    self.assertTrue(tarball.checksum_verifies())\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py\", line 83, in checksum_verifies\n    sha1 = self._compute_sha1()\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py\", line 73, in _compute_sha1\n    return self._compute_hash(hashlib.sha1())\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py\", line 63, in _compute_hash\n    with open(self.upstream_fqn, 'rb') as f:\nIOError: [Errno 2] No such file or directory: '/usr/local/src/sage-config/upstream/configure-99.tar.gz'\n\n----------------------------------------------------------------------\nRan 15 tests in 6.914s\n\nFAILED (errors=1)\nERROR: InvocationError: '/usr/local/src/sage-config/src/sage_bootstrap/.tox/py27/bin/python2.7 -m unittest discover'\npy33 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip\npy33 runtests: PYTHONHASHSEED='1210919353'\npy33 runtests: commands[0] | python3.3 -m unittest discover\n..../usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/download.py:121: DeprecationWarning: FancyURLopener style of invoking requests is deprecated. Use newer urlopen functions/methods\n  opener = urllib.FancyURLopener()\n...........\n----------------------------------------------------------------------\nRan 15 tests in 0.741s\n\nOK\npy34 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py34\nERROR: InterpreterNotFound: python3.4\n_______________________________________________________________________________ summary ________________________________________________________________________________\nSKIPPED:  py26: InterpreterNotFound: python2.6\nERROR:   py27: commands failed\n  py33: commands succeeded\nSKIPPED:  py34: InterpreterNotFound: python3.4\n```\n\nAlso, I'm a bit confused by\n\n```\nERROR: InterpreterNotFound: python3.4\n```\nfollowed later by\n\n```\nSKIPPED:  py34: InterpreterNotFound: python3.4\n```",
    "created_at": "2015-06-25T08:49:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264169",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'>Comment 10:</a>
I honestly have no idea what `tox` does, but I tried it anyway:

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ uname -a
Linux tamiyo 3.17.7-gentoo #1 SMP PREEMPT Wed Dec 31 20:06:39 CET 2014 x86_64 Intel(R) Core(TM) i7-2640M CPU @ 2.80GHz GenuineIntel GNU/Linux
```

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ python --version
Python 3.3.2
```

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox --version
1.8.1 imported from /usr/lib64/python3.3/site-packages/tox/__init__.py
```

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox
GLOB sdist-make: /usr/local/src/sage-config/src/sage_bootstrap/setup.py
py26 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py26
ERROR: InterpreterNotFound: python2.6
py27 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip
py27 runtests: PYTHONHASHSEED='1210919353'
py27 runtests: commands[0] | python2.7 -m unittest discover
.......E.......
======================================================================
ERROR: test_checksum (test.test_tarball.TarballTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/src/sage-config/src/sage_bootstrap/test/test_tarball.py", line 40, in test_checksum
    self.assertTrue(tarball.checksum_verifies())
  File "/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py", line 83, in checksum_verifies
    sha1 = self._compute_sha1()
  File "/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py", line 73, in _compute_sha1
    return self._compute_hash(hashlib.sha1())
  File "/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py", line 63, in _compute_hash
    with open(self.upstream_fqn, 'rb') as f:
IOError: [Errno 2] No such file or directory: '/usr/local/src/sage-config/upstream/configure-99.tar.gz'

----------------------------------------------------------------------
Ran 15 tests in 6.914s

FAILED (errors=1)
ERROR: InvocationError: '/usr/local/src/sage-config/src/sage_bootstrap/.tox/py27/bin/python2.7 -m unittest discover'
py33 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip
py33 runtests: PYTHONHASHSEED='1210919353'
py33 runtests: commands[0] | python3.3 -m unittest discover
..../usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/download.py:121: DeprecationWarning: FancyURLopener style of invoking requests is deprecated. Use newer urlopen functions/methods
  opener = urllib.FancyURLopener()
...........
----------------------------------------------------------------------
Ran 15 tests in 0.741s

OK
py34 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py34
ERROR: InterpreterNotFound: python3.4
_______________________________________________________________________________ summary ________________________________________________________________________________
SKIPPED:  py26: InterpreterNotFound: python2.6
ERROR:   py27: commands failed
  py33: commands succeeded
SKIPPED:  py34: InterpreterNotFound: python3.4
```

Also, I'm a bit confused by

```
ERROR: InterpreterNotFound: python3.4
```
followed later by

```
SKIPPED:  py34: InterpreterNotFound: python3.4
```



---

archive/issue_comments_264170.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nWhat would it take to support Python <= 2.5 or Python <= 3.2? I don't know how common these are, but if they can be supported with minimal effort, perhaps it should be done.",
    "created_at": "2015-06-25T08:50:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264170",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
What would it take to support Python <= 2.5 or Python <= 3.2? I don't know how common these are, but if they can be supported with minimal effort, perhaps it should be done.



---

archive/issue_comments_264171.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI don't think there is any currently supported OS that ships with those python versions, so its most likely a waste of time to try.",
    "created_at": "2015-06-25T09:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264171",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'>Comment 12:</a>
I don't think there is any currently supported OS that ships with those python versions, so its most likely a waste of time to try.



---

archive/issue_comments_264172.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBlocker because it fixes the firewall issue from #18723 and that ticket was a blocker.",
    "created_at": "2015-06-25T09:19:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264172",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'>Comment 13:</a>
Blocker because it fixes the firewall issue from #18723 and that ticket was a blocker.



---

archive/issue_comments_264173.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions. My plan is to export all new-style package management functions via sage-pkg so its the obvious name for that.\n\ntox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)\n\nscripts in src/bin end up being installed in SAGE_LOCAL (and globally if Sage is every packaged / packageable). Build tools shouldn't be globally installed. Really sage-bootstrap only makes sense if you have the source lying around, so why pretend otherwise.",
    "created_at": "2015-06-25T09:25:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264173",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
I don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions. My plan is to export all new-style package management functions via sage-pkg so its the obvious name for that.

tox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)

scripts in src/bin end up being installed in SAGE_LOCAL (and globally if Sage is every packaged / packageable). Build tools shouldn't be globally installed. Really sage-bootstrap only makes sense if you have the source lying around, so why pretend otherwise.



---

archive/issue_comments_264174.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@vbraun](#comment%3A14):\n> I don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions.\n\nIt's a name collision with *current* Sage versions. And `sage --pkg` is still currently documented in [http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt](http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt)\n\n> tox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)\n\nSure, but it is confusing to see `ERROR: InterpreterNotFound: python3.4` if it's not really an error. But if that's the way how `tox` works, so be it.",
    "created_at": "2015-06-25T09:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264174",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@vbraun](#comment%3A14):
> I don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions.

It's a name collision with *current* Sage versions. And `sage --pkg` is still currently documented in [http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt](http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt)

> tox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)

Sure, but it is confusing to see `ERROR: InterpreterNotFound: python3.4` if it's not really an error. But if that's the way how `tox` works, so be it.



---

archive/issue_comments_264175.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@vbraun](#comment%3A13):\n> Blocker because it fixes the firewall issue from #18723 and that ticket was a blocker.\n\nI just don't like if blockers are complicated tickets like this. Why not apply the simple fix of #18723 as blocker and make #18748 a normal ticket?",
    "created_at": "2015-06-25T09:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264175",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@vbraun](#comment%3A13):
> Blocker because it fixes the firewall issue from #18723 and that ticket was a blocker.

I just don't like if blockers are complicated tickets like this. Why not apply the simple fix of #18723 as blocker and make #18748 a normal ticket?



---

archive/issue_comments_264176.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nTHis is a rather simple ticket IMHO, it just refactors a script and adds testing.",
    "created_at": "2015-06-25T09:41:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264176",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'>Comment 17:</a>
THis is a rather simple ticket IMHO, it just refactors a script and adds testing.



---

archive/issue_events_248572.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-25T09:43:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248572"
}
```



---

archive/issue_events_248573.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-25T09:43:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248573"
}
```



---

archive/issue_comments_264177.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nWouldn't it be a lot better to move `sage_bootstrap` to the `$SAGE_ROOT/build` directory? That's where the Sage packages reside, so it would make sense to move the package build system also to `build`.",
    "created_at": "2015-06-25T09:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264177",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'>Comment 18:</a>
Wouldn't it be a lot better to move `sage_bootstrap` to the `$SAGE_ROOT/build` directory? That's where the Sage packages reside, so it would make sense to move the package build system also to `build`.



---

archive/issue_comments_264178.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nReplying to [@vbraun](#comment%3A17):\n> THis is a rather simple ticket\n\nReally?\n\n```\n28 files changed, 1518 insertions, 460 deletions\n```",
    "created_at": "2015-06-25T09:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264178",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
Replying to [@vbraun](#comment%3A17):
> THis is a rather simple ticket

Really?

```
28 files changed, 1518 insertions, 460 deletions
```



---

archive/issue_comments_264179.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nYou have inconsistent indentation (not multiples of 4 spaces) in `src/sage_bootstrap/sage_bootstrap/stdio.py`",
    "created_at": "2015-06-25T09:47:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264179",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'>Comment 20:</a>
You have inconsistent indentation (not multiples of 4 spaces) in `src/sage_bootstrap/sage_bootstrap/stdio.py`



---

archive/issue_comments_264180.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nWell thats because a lot of testing was added. Really its an obvious improvement. \n\nI don't think source code should reside in SAGE_ROOT/build\n\nWhat about the old `sage-pkg`, move it to `sage-old-pkg`? Or are we going to keep it forever?",
    "created_at": "2015-06-25T09:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264180",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'>Comment 21:</a>
Well thats because a lot of testing was added. Really its an obvious improvement. 

I don't think source code should reside in SAGE_ROOT/build

What about the old `sage-pkg`, move it to `sage-old-pkg`? Or are we going to keep it forever?



---

archive/issue_comments_264181.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@vbraun](#comment%3A21):\n> I don't think source code should reside in SAGE_ROOT/build\n\nFirst of all, we already have source code there (`$SAGE_ROOT/build/install`). You will probably argue that this is a build script, not source code. But then your module is really also a build script, not source code (especially given that it's not installed).\n\nCurrently `$SAGE_ROOT/src` is essentially the *Sage library*, i.e. the Python package `sage`. I don't see how build scripts for Sage *packages* belong there.",
    "created_at": "2015-06-25T09:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264181",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@vbraun](#comment%3A21):
> I don't think source code should reside in SAGE_ROOT/build

First of all, we already have source code there (`$SAGE_ROOT/build/install`). You will probably argue that this is a build script, not source code. But then your module is really also a build script, not source code (especially given that it's not installed).

Currently `$SAGE_ROOT/src` is essentially the *Sage library*, i.e. the Python package `sage`. I don't see how build scripts for Sage *packages* belong there.



---

archive/issue_comments_264182.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nYou didn't complain about `sage-download-file` being in `src/bin/`, so why complain now? There is much more than the Sage Python library in `src`.",
    "created_at": "2015-06-25T09:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264182",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'>Comment 23:</a>
You didn't complain about `sage-download-file` being in `src/bin/`, so why complain now? There is much more than the Sage Python library in `src`.



---

archive/issue_comments_264183.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@vbraun](#comment%3A21):\n> Or are we going to keep it forever?\n\nIt's not even deprecated, so I would keep it for now. There are people still creating new old-style packages, see #18514 for example.\n\nYou could call your new script `sage-packages` or something...",
    "created_at": "2015-06-25T09:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264183",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@vbraun](#comment%3A21):
> Or are we going to keep it forever?

It's not even deprecated, so I would keep it for now. There are people still creating new old-style packages, see #18514 for example.

You could call your new script `sage-packages` or something...



---

archive/issue_comments_264184.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@vbraun](#comment%3A23):\n> You didn't complain about `sage-download-file` being in `src/bin/`, so why complain now?\n\nWe currently have only 1 place to put scripts and that's in `$SAGE_ROOT/src/bin`. You're creating a second place, so it makes sense to think what is the best location. After this ticket is merged, we should move more scripts to `sage_bootstrap/bin`, in particular `sage-spkg` and maybe even `$SAGE_ROOT/build/install` and `$SAGE_ROOT/build/pipestatus`. If `sage_bootstrap` would be in `$SAGE_ROOT/build`, that would lead to a clean separation of the complete build system for packages in `$SAGE_ROOT/build`.\n\nI always found it awkward that we have a top-level `Makefile` calling a scipt `build/install` running make on `build/Makefile` which then runs `src/bin/sage-spkg` which in turn runs `build/pkgs/*/spkg-install`. That's a mess. This ticket creates an opportunity to start cleaning this up, let's do it right from the beginning.",
    "created_at": "2015-06-25T10:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264184",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@vbraun](#comment%3A23):
> You didn't complain about `sage-download-file` being in `src/bin/`, so why complain now?

We currently have only 1 place to put scripts and that's in `$SAGE_ROOT/src/bin`. You're creating a second place, so it makes sense to think what is the best location. After this ticket is merged, we should move more scripts to `sage_bootstrap/bin`, in particular `sage-spkg` and maybe even `$SAGE_ROOT/build/install` and `$SAGE_ROOT/build/pipestatus`. If `sage_bootstrap` would be in `$SAGE_ROOT/build`, that would lead to a clean separation of the complete build system for packages in `$SAGE_ROOT/build`.

I always found it awkward that we have a top-level `Makefile` calling a scipt `build/install` running make on `build/Makefile` which then runs `src/bin/sage-spkg` which in turn runs `build/pkgs/*/spkg-install`. That's a mess. This ticket creates an opportunity to start cleaning this up, let's do it right from the beginning.



---

archive/issue_comments_264185.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nI'm happy to reorganize /build but I don't think we should do it in this ticket. IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap, build/setup.py, build/tox.ini, .... Otherwise you end up with /build/src/sage_bootstrap which is just duplicating src. Feel free to open another ticket.",
    "created_at": "2015-06-25T10:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264185",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'>Comment 26:</a>
I'm happy to reorganize /build but I don't think we should do it in this ticket. IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap, build/setup.py, build/tox.ini, .... Otherwise you end up with /build/src/sage_bootstrap which is just duplicating src. Feel free to open another ticket.



---

archive/issue_comments_264186.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@vbraun](#comment%3A26):\n> I'm happy to reorganize /build but I don't think we should do it in this ticket.\n\n+1\n\n> IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap\n\nWhat's wrong with creating `build/sage_bootstrap` *without* moving the \"makefile stuff\" first? Independently of whether `build/install` and friends should be moved, what influence does it have on the present ticket?\n\nI think it's stupid to first create `$SAGE_ROOT/src/sage_bootstrap` on this ticket and then immediately move it to a different place. Just put it in the correct place from the beginning...",
    "created_at": "2015-06-25T10:59:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264186",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@vbraun](#comment%3A26):
> I'm happy to reorganize /build but I don't think we should do it in this ticket.

+1

> IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap

What's wrong with creating `build/sage_bootstrap` *without* moving the "makefile stuff" first? Independently of whether `build/install` and friends should be moved, what influence does it have on the present ticket?

I think it's stupid to first create `$SAGE_ROOT/src/sage_bootstrap` on this ticket and then immediately move it to a different place. Just put it in the correct place from the beginning...



---

archive/issue_comments_264187.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nthen you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.",
    "created_at": "2015-06-25T11:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264187",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'>Comment 28:</a>
then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.



---

archive/issue_comments_264188.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nReplying to [@vbraun](#comment%3A28):\n> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.\n\nI see your point, but I don't find it strong enough as an argument for why `$SAGE_ROOT/src/sage_bootstrap/sage_bootstrap` is better than `$SAGE_ROOT/build/sage_bootstrap`.\n\nCan we get rid of that `setup.py`? Move it? Rename it?",
    "created_at": "2015-06-25T12:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264188",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'>Comment 29:</a>
Replying to [@vbraun](#comment%3A28):
> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.

I see your point, but I don't find it strong enough as an argument for why `$SAGE_ROOT/src/sage_bootstrap/sage_bootstrap` is better than `$SAGE_ROOT/build/sage_bootstrap`.

Can we get rid of that `setup.py`? Move it? Rename it?



---

archive/issue_comments_264189.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@vbraun](#comment%3A28):\n> IMHO super-confusing.\n\nThat can be solved with a simple comment like\n\n```\n#\n# This setup.py file is only used for tox testing of the\n# sage_bootstrap package, do not actually execute it!\n#\n# For building Sage packages, see \"install\", \"deps\" and \"Makefile\".\n#\n```",
    "created_at": "2015-06-25T12:20:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264189",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@vbraun](#comment%3A28):
> IMHO super-confusing.

That can be solved with a simple comment like

```
#
# This setup.py file is only used for tox testing of the
# sage_bootstrap package, do not actually execute it!
#
# For building Sage packages, see "install", "deps" and "Makefile".
#
```



---

archive/issue_comments_264190.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nAfaik setup.py can't have a different name. It certainly shouldn't be renamed. I'm fine with making /build a Python package, but then everything should have a sane directory layout. And moving stuff is super-easy in git, its a matter of minutes. So why do it now when /build is not ready for it?",
    "created_at": "2015-06-25T19:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264190",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'>Comment 31:</a>
Afaik setup.py can't have a different name. It certainly shouldn't be renamed. I'm fine with making /build a Python package, but then everything should have a sane directory layout. And moving stuff is super-easy in git, its a matter of minutes. So why do it now when /build is not ready for it?



---

archive/issue_comments_264191.json:
```json
{
    "body": "Changed commit from **[0acf070](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)** to **[e45a0b6](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)**",
    "created_at": "2015-06-25T20:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264191",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0acf070](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)** to **[e45a0b6](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)**



---

archive/issue_comments_264192.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52d012637820499097664afe2ee94974733af895\">52d0126</a></td><td><code>rename sage-pkg -> sage-package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4aff9ac0f00632b24a614c6681ea7c74e627729\">e4aff9a</a></td><td><code>fix indentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a\">e45a0b6</a></td><td><code>Do not assume that the confball has been downloaded before in test</code></td></tr></table>\n",
    "created_at": "2015-06-25T20:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264192",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52d012637820499097664afe2ee94974733af895">52d0126</a></td><td><code>rename sage-pkg -> sage-package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4aff9ac0f00632b24a614c6681ea7c74e627729">e4aff9a</a></td><td><code>fix indentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a">e45a0b6</a></td><td><code>Do not assume that the confball has been downloaded before in test</code></td></tr></table>




---

archive/issue_comments_264193.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nI opened #18788 to reorganize /build",
    "created_at": "2015-06-25T20:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264193",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'>Comment 33:</a>
I opened #18788 to reorganize /build



---

archive/issue_events_248574.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-25T20:16:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248574"
}
```



---

archive/issue_events_248575.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-25T20:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248575"
}
```



---

archive/issue_comments_264194.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [@vbraun](#comment%3A31):\n> And moving stuff is super-easy in git, its a matter of minutes.\n\nMoving the files physically, sure. But that's only a very small part of the effort of moving files. All the code referring to those files needs to be changed, everything has to be tested again...\n\n> So why do it now when /build is not ready for it?\n\nFirst of all, I don't agree with the premise that \"`build` is not ready for it\". I really don't see the problem. Second, like I already said: I would avoid having to move things in the future.",
    "created_at": "2015-06-26T06:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264194",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [@vbraun](#comment%3A31):
> And moving stuff is super-easy in git, its a matter of minutes.

Moving the files physically, sure. But that's only a very small part of the effort of moving files. All the code referring to those files needs to be changed, everything has to be tested again...

> So why do it now when /build is not ready for it?

First of all, I don't agree with the premise that "`build` is not ready for it". I really don't see the problem. Second, like I already said: I would avoid having to move things in the future.



---

archive/issue_comments_264195.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nReplying to [@vbraun](#comment%3A28):\n> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.\n\nLet me remind you that we have had this in `$SAGE_ROOT/src` for a while and nobody ever complained...",
    "created_at": "2015-06-26T06:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264195",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'>Comment 36:</a>
Replying to [@vbraun](#comment%3A28):
> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.

Let me remind you that we have had this in `$SAGE_ROOT/src` for a while and nobody ever complained...



---

archive/issue_comments_264196.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplying to [@jdemeyer](#comment%3A35):\n> All the code referring to those files needs to be changed\n\nThe scripts are found via the PATH, thats the only thing that needs to be changed.\n\n> Second, like I already said: I would avoid having to move things in the future.\n\nI wasn't the one who complained that this ticket does too much at once ;-)",
    "created_at": "2015-06-26T07:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264196",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:37'>Comment 37:</a>
Replying to [@jdemeyer](#comment%3A35):
> All the code referring to those files needs to be changed

The scripts are found via the PATH, thats the only thing that needs to be changed.

> Second, like I already said: I would avoid having to move things in the future.

I wasn't the one who complained that this ticket does too much at once ;-)



---

archive/issue_comments_264197.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nReplying to [@vbraun](#comment%3A37):\n> I wasn't the one who complained that this ticket does too much at once ;-)\n\nI'm not asking to do more in this ticket. I'm only asking to do it in such a way that we don't need a second ticket to move `sage_bootstrap`.",
    "created_at": "2015-06-26T08:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264197",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'>Comment 38:</a>
Replying to [@vbraun](#comment%3A37):
> I wasn't the one who complained that this ticket does too much at once ;-)

I'm not asking to do more in this ticket. I'm only asking to do it in such a way that we don't need a second ticket to move `sage_bootstrap`.



---

archive/issue_comments_264198.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nI don't see much change from the old setup:\n\n```\n$ sage -f hg\nAttempting to download package hg\n>>> Checking online list of optional packages.\n>>> Checking online list of experimental packages.\n>>> Checking online list of standard packages.\n>>> Checking online list of huge packages.\n>>> Checking online list of archive packages.\nERROR [download|run:133]: [Errno 404] Not Found: '//www.mirrorservice.org/sites/www.sagemath.org//spkg/archive/list'\nsed: can't read /home/dima/.sage//archive.list: No such file or directory\nError: could not find a package matching hg on http://www.mirrorservice.org/sites/www.sagemath.org//spkg\n```\n\nshould we have `sage -reset_mirrors` ?",
    "created_at": "2015-07-04T10:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264198",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'>Comment 39:</a>
I don't see much change from the old setup:

```
$ sage -f hg
Attempting to download package hg
>>> Checking online list of optional packages.
>>> Checking online list of experimental packages.
>>> Checking online list of standard packages.
>>> Checking online list of huge packages.
>>> Checking online list of archive packages.
ERROR [download|run:133]: [Errno 404] Not Found: '//www.mirrorservice.org/sites/www.sagemath.org//spkg/archive/list'
sed: can't read /home/dima/.sage//archive.list: No such file or directory
Error: could not find a package matching hg on http://www.mirrorservice.org/sites/www.sagemath.org//spkg
```

should we have `sage -reset_mirrors` ?



---

archive/issue_comments_264199.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nI should have said: This ticket is about standard packages. Since `hg` is optional it is unrelated. But if you can't build \"standard\" Sage then this ticket might help.",
    "created_at": "2015-07-04T10:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264199",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'>Comment 40:</a>
I should have said: This ticket is about standard packages. Since `hg` is optional it is unrelated. But if you can't build "standard" Sage then this ticket might help.



---

archive/issue_comments_264200.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nwhat is `tox` and what is it doing? Perhaps it should go to another ticket, as it looks totally orthogonal to the stated purpose of refactoring what we have.",
    "created_at": "2015-07-05T21:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264200",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'>Comment 41:</a>
what is `tox` and what is it doing? Perhaps it should go to another ticket, as it looks totally orthogonal to the stated purpose of refactoring what we have.



---

archive/issue_comments_264201.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nhttps://tox.readthedocs.org\n\nThe whole point of the refactoring is to make stuff testable",
    "created_at": "2015-07-05T21:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264201",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:42'>Comment 42:</a>
https://tox.readthedocs.org

The whole point of the refactoring is to make stuff testable



---

archive/issue_comments_264202.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nWhy are some of the files not listed in `MANIFEST` (e.g., `tox.ini`, `test/capture.py`)?",
    "created_at": "2015-07-06T03:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264202",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:43'>Comment 43:</a>
Why are some of the files not listed in `MANIFEST` (e.g., `tox.ini`, `test/capture.py`)?



---

archive/issue_comments_264203.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nThe manifest is auto-generated by tox/distutils to build a package for testing purposes. Its contents don't really matter apart from that. The tox config file arguably doesn't belong there, so I'd count that as a plus. If we were to use the manifest for anything then we would have to add a `Manifest.in` to fine-tune the inclusion rules.",
    "created_at": "2015-07-06T07:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264203",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'>Comment 44:</a>
The manifest is auto-generated by tox/distutils to build a package for testing purposes. Its contents don't really matter apart from that. The tox config file arguably doesn't belong there, so I'd count that as a plus. If we were to use the manifest for anything then we would have to add a `Manifest.in` to fine-tune the inclusion rules.



---

archive/issue_comments_264204.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nMinor questions:\n\n- In `package.py`, are the lines\n\n```\n    def __eq__(self, other):\n        return self.tarball == other.tarball\n```\n there just for testing via `tox`, or do they serve another purpose?\n- There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?\n\nOverall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.\n\nLess minor questions and comments:\n- What does `sage-package` do? The file itself should contain some information; you shouldn't have to run it to get its usage message. Maybe the same could be said for `sage-download-file`, but at least the name is somewhat self-explanatory. I think you should add a line or two there, also. Probably in `README`, too, for example after the sentence\n\n```\nThis is a utility libary for dealing with third-party tarballs and\nbuilding Sage. \n```\n (Something like \"The main entry points are sage-download-file and sage-package, which are used as follows: ...\". Note also that \"libary\" is currently misspelled.)\n- In addition, I think that each python file in `sage_bootstrap` could have a bit more documentation, illustrating how to use it. I don't really want to have to read the source code to figure out this sort of thing. For `download.py`, for example, mention `Download(...).run()`.\n- Add the link `\u200bhttps://tox.readthedocs.org` to `README`. Maybe we should all know about tox already, but that doesn't seem to be the case.",
    "created_at": "2015-07-07T00:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264204",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:45'>Comment 45:</a>
Minor questions:

- In `package.py`, are the lines

```
    def __eq__(self, other):
        return self.tarball == other.tarball
```
 there just for testing via `tox`, or do they serve another purpose?
- There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?

Overall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.

Less minor questions and comments:
- What does `sage-package` do? The file itself should contain some information; you shouldn't have to run it to get its usage message. Maybe the same could be said for `sage-download-file`, but at least the name is somewhat self-explanatory. I think you should add a line or two there, also. Probably in `README`, too, for example after the sentence

```
This is a utility libary for dealing with third-party tarballs and
building Sage. 
```
 (Something like "The main entry points are sage-download-file and sage-package, which are used as follows: ...". Note also that "libary" is currently misspelled.)
- In addition, I think that each python file in `sage_bootstrap` could have a bit more documentation, illustrating how to use it. I don't really want to have to read the source code to figure out this sort of thing. For `download.py`, for example, mention `Download(...).run()`.
- Add the link `https://tox.readthedocs.org` to `README`. Maybe we should all know about tox already, but that doesn't seem to be the case.



---

archive/issue_comments_264205.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nReplying to [@jhpalmieri](#comment%3A45):\n> - In `package.py`, are the lines\n> \n> ```\n>     def __eq__(self, other):\n>         return self.tarball == other.tarball\n> ```\n>  there just for testing via `tox`, or do they serve another purpose?\n\nThey are used for testing in unittest.TestCase.assertEqual, doesn't really have anything to do with tox (which is just the test runner) besides that.\n\n> - There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?\n\nI don't. \n\n> Overall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.\n\nThe old script was already too long to fit comfortably into one file, with added testing its can't fit into one file. So it has to grow into a package.\n\n> Less minor questions and comments:\n> - What does `sage-package` do?\n\nIt mostly makes the release manager's job easier because you don't have to log into the server and associated tarball names to package names by hand, which wastes my preciously little available time.\n\nI'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for \"tox\", thats bound to produce way more relevant and informative information than I can possibly be.",
    "created_at": "2015-07-07T07:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264205",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:46'>Comment 46:</a>
Replying to [@jhpalmieri](#comment%3A45):
> - In `package.py`, are the lines
> 
> ```
>     def __eq__(self, other):
>         return self.tarball == other.tarball
> ```
>  there just for testing via `tox`, or do they serve another purpose?

They are used for testing in unittest.TestCase.assertEqual, doesn't really have anything to do with tox (which is just the test runner) besides that.

> - There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?

I don't. 

> Overall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.

The old script was already too long to fit comfortably into one file, with added testing its can't fit into one file. So it has to grow into a package.

> Less minor questions and comments:
> - What does `sage-package` do?

It mostly makes the release manager's job easier because you don't have to log into the server and associated tarball names to package names by hand, which wastes my preciously little available time.

I'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for "tox", thats bound to produce way more relevant and informative information than I can possibly be.



---

archive/issue_comments_264206.json:
```json
{
    "body": "Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-07T17:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264206",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**



---

archive/issue_comments_264207.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nReplying to [@vbraun](#comment%3A46):\n> I'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for \"tox\", thats bound to produce way more relevant and informative information than I can possibly be.\n\nHere is some documentation for the main scripts. I think that few of the Python files could use a bit more information: the current descriptions for `package.py` and maybe `tarball.py` are too terse.",
    "created_at": "2015-07-07T17:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264207",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:48'>Comment 48:</a>
Replying to [@vbraun](#comment%3A46):
> I'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for "tox", thats bound to produce way more relevant and informative information than I can possibly be.

Here is some documentation for the main scripts. I think that few of the Python files could use a bit more information: the current descriptions for `package.py` and maybe `tarball.py` are too terse.



---

archive/issue_comments_264208.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-07T17:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264208",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**



---

archive/issue_comments_264209.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e2c568b3918467e91b77b0e3e84421d2cf288ec\">9e2c568</a></td><td><code>Merge branch 'develop' into t/18748/python_library_to_bootstrap_sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f\">cc213dc</a></td><td><code>trac 18748: add documentation to scripts in sage_bootstrap/bin</code></td></tr></table>\n",
    "created_at": "2015-07-07T17:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264209",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:49'>Comment 49:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e2c568b3918467e91b77b0e3e84421d2cf288ec">9e2c568</a></td><td><code>Merge branch 'develop' into t/18748/python_library_to_bootstrap_sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f">cc213dc</a></td><td><code>trac 18748: add documentation to scripts in sage_bootstrap/bin</code></td></tr></table>




---

archive/issue_comments_264210.json:
```json
{
    "body": "Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-07T17:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264210",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**



---

archive/issue_comments_264211.json:
```json
{
    "body": "Changed commit from **[e45a0b6](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)** to **[cc213dc](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)**",
    "created_at": "2015-07-07T17:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264211",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[e45a0b6](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)** to **[cc213dc](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)**



---

archive/issue_comments_264212.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-12T13:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264212",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**



---

archive/issue_comments_264213.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f4fb8e1d809417a8f56984529c2436950f60e2a\">8f4fb8e</a></td><td><code>More docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9a69a58a4123af8861a472b15fef64e6aae8381\">f9a69a5</a></td><td><code>Convert public attributes to properties and document</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de\">075228f</a></td><td><code>Make package.tarball a Tarball instance</code></td></tr></table>\n",
    "created_at": "2015-07-12T14:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264213",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:51'>Comment 51:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f4fb8e1d809417a8f56984529c2436950f60e2a">8f4fb8e</a></td><td><code>More docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9a69a58a4123af8861a472b15fef64e6aae8381">f9a69a5</a></td><td><code>Convert public attributes to properties and document</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de">075228f</a></td><td><code>Make package.tarball a Tarball instance</code></td></tr></table>




---

archive/issue_comments_264214.json:
```json
{
    "body": "Changed commit from **[cc213dc](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)** to **[075228f](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)**",
    "created_at": "2015-07-12T14:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264214",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cc213dc](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)** to **[075228f](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)**



---

archive/issue_comments_264215.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nDone, still needs review",
    "created_at": "2015-07-12T14:28:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264215",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:52'>Comment 52:</a>
Done, still needs review



---

archive/issue_comments_264216.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nI get an error with tox:\n\n```\n$ tox \nGLOB sdist-make: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/setup.py\npy26 create: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26\npy26 installdeps: unittest2\npy26 inst: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip\npy26 installed: argparse==1.3.0,linecache2==1.0.0,sage-bootstrap==1.0,six==1.9.0,traceback2==1.4.0,unittest2==1.1.0,wheel==0.24.0\npy26 runtests: PYTHONHASHSEED='2708481092'\npy26 runtests: commands[0] | unit2 discover\n............E..\n======================================================================\nERROR: test_package (test.test_package.PackageTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/test/test_package.py\", line 34, in test_package\n    self.assertIsInstance(pkg.tarball, Tarball)\nAttributeError: 'PackageTestCase' object has no attribute 'assertIsInstance'\n\n----------------------------------------------------------------------\nRan 15 tests in 1.056s\n\nFAILED (errors=1)\nERROR: InvocationError: '/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26/bin/unit2 discover'\n```",
    "created_at": "2015-07-12T16:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264216",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:53'>Comment 53:</a>
I get an error with tox:

```
$ tox 
GLOB sdist-make: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/setup.py
py26 create: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26
py26 installdeps: unittest2
py26 inst: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip
py26 installed: argparse==1.3.0,linecache2==1.0.0,sage-bootstrap==1.0,six==1.9.0,traceback2==1.4.0,unittest2==1.1.0,wheel==0.24.0
py26 runtests: PYTHONHASHSEED='2708481092'
py26 runtests: commands[0] | unit2 discover
............E..
======================================================================
ERROR: test_package (test.test_package.PackageTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/test/test_package.py", line 34, in test_package
    self.assertIsInstance(pkg.tarball, Tarball)
AttributeError: 'PackageTestCase' object has no attribute 'assertIsInstance'

----------------------------------------------------------------------
Ran 15 tests in 1.056s

FAILED (errors=1)
ERROR: InvocationError: '/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26/bin/unit2 discover'
```



---

archive/issue_comments_264217.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6\">c56991b</a></td><td><code>Fix Python 2.6 test error</code></td></tr></table>\n",
    "created_at": "2015-07-12T17:26:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264217",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:54'>Comment 54:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6">c56991b</a></td><td><code>Fix Python 2.6 test error</code></td></tr></table>




---

archive/issue_comments_264218.json:
```json
{
    "body": "Changed commit from **[075228f](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)** to **[c56991b](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)**",
    "created_at": "2015-07-12T17:26:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264218",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[075228f](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)** to **[c56991b](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)**



---

archive/issue_comments_264219.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nThanks, ``assertIsInstance` is Python 2.7+, fixed",
    "created_at": "2015-07-12T17:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264219",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:55'>Comment 55:</a>
Thanks, ``assertIsInstance` is Python 2.7+, fixed



---

archive/issue_comments_264220.json:
```json
{
    "body": "Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-13T04:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264220",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**



---

archive/issue_comments_264221.json:
```json
{
    "body": "Changed commit from **[c56991b](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)** to **[60a581b](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**",
    "created_at": "2015-07-13T04:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264221",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[c56991b](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)** to **[60a581b](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**



---

archive/issue_comments_264222.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2015-07-13T04:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264222",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_264223.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nOkay, one more addition to the documentation. If you're happy with this, you can set this to positive review.",
    "created_at": "2015-07-13T04:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264223",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:57'>Comment 57:</a>
Okay, one more addition to the documentation. If you're happy with this, you can set this to positive review.



---

archive/issue_events_248576.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-13T07:47:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248576"
}
```



---

archive/issue_events_248577.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-13T07:47:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248577"
}
```



---

archive/issue_comments_264224.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[60a581b](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**",
    "created_at": "2015-07-13T17:58:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-264224",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[60a581b](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**



---

archive/issue_events_248578.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-13T17:58:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248578"
}
```



---

archive/issue_events_248579.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "68108369ca8d8b89efde89bf422c70ac2bfa2c81",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-13T17:58:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-248579"
}
```
