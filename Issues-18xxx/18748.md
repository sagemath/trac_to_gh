# Issue 18748: Python library to bootstrap Sage

archive/issues_018511.json:
```json
{
    "assignees": [],
    "body": "Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.\n\nCC:  @nathanncohen\n\nBranch/Commit: **[`60a581b`](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**\n\nReviewer: **John Palmieri**\n\nAuthor: **Volker Braun**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18748_\n\n",
    "closed_at": "2015-07-13T17:58:42Z",
    "created_at": "2015-06-20T13:09:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Python library to bootstrap Sage",
    "type": "issue",
    "updated_at": "2015-07-13T17:58:42Z",
    "url": "https://github.com/sagemath/sage/issues/18748",
    "user": "https://github.com/vbraun"
}
```
Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.

CC:  @nathanncohen

Branch/Commit: **[`60a581b`](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**

Reviewer: **John Palmieri**

Author: **Volker Braun**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/18748_





---

archive/issue_events_266326.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:09:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266326"
}
```



---

archive/issue_events_266327.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:09:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266327"
}
```



---

archive/issue_comments_261635.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.\n``````\n",
    "created_at": "2015-06-20T13:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261635",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Move the logic behind package handling and I/O for Python scripts into a separate Python library for code reuse and automated testing.
``````




---

archive/issue_events_266328.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266328"
}
```



---

archive/issue_events_266329.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-20T13:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266329"
}
```



---

archive/issue_comments_261636.json:
```json
{
    "body": "Branch: **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**",
    "created_at": "2015-06-20T20:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261636",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**



---

archive/issue_comments_261637.json:
```json
{
    "body": "Commit: **[`0acf070`](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)**",
    "created_at": "2015-06-21T10:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261637",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`0acf070`](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)**



---

archive/issue_comments_261638.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd61b67c486126af2f90104a3fa8a277facd056a\">bd61b67</a></td><td><code>add the sage-pkg entrypoint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25022c39f788f5dbfef8aa3329e650f7da659926\">25022c3</a></td><td><code>move sage-download-file to the sage_bootstrap library</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8\">0acf070</a></td><td><code>initial implementation of the sage-pkg tool</code></td></tr></table>\n",
    "created_at": "2015-06-21T10:51:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261638",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd61b67c486126af2f90104a3fa8a277facd056a">bd61b67</a></td><td><code>add the sage-pkg entrypoint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25022c39f788f5dbfef8aa3329e650f7da659926">25022c3</a></td><td><code>move sage-download-file to the sage_bootstrap library</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8">0acf070</a></td><td><code>initial implementation of the sage-pkg tool</code></td></tr></table>




---

archive/issue_events_266330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-21T10:57:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266330"
}
```



---

archive/issue_events_266331.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-21T10:57:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266331"
}
```



---

archive/issue_events_266332.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-21T10:57:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266332"
}
```



---

archive/issue_comments_261639.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNow with testing:\n\n```\n$ tox\n[...]\n  py26: commands succeeded\n  py27: commands succeeded\n  py33: commands succeeded\n  py34: commands succeeded\n  congratulations :)\n```",
    "created_at": "2015-06-21T10:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261639",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:5" align="right">comment:5</div>

Now with testing:

```
$ tox
[...]
  py26: commands succeeded
  py27: commands succeeded
  py33: commands succeeded
  py34: commands succeeded
  congratulations :)
```



---

archive/issue_comments_261640.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2015-06-21T10:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261640",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_comments_261641.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nCan you explain in detail what you do in this branch? You make many changes, this ticket is now a blocker, and it takes a *LONG* time to figure it all out from looking at the diff.",
    "created_at": "2015-06-21T11:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261641",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

Can you explain in detail what you do in this branch? You make many changes, this ticket is now a blocker, and it takes a *LONG* time to figure it all out from looking at the diff.



---

archive/issue_comments_261642.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n* No actual functionality changed\n* `sage-download-file` code is refactored into a package \n* Tests added for everything\n* Output is explained in the README, no more if `self.verbose: printflush` hacks\n* `sage-pkg` command to translate between package names and tarball filenames (and maybe query for package types in the future)",
    "created_at": "2015-06-21T11:07:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261642",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

* No actual functionality changed
* `sage-download-file` code is refactored into a package 
* Tests added for everything
* Output is explained in the README, no more if `self.verbose: printflush` hacks
* `sage-pkg` command to translate between package names and tarball filenames (and maybe query for package types in the future)



---

archive/issue_comments_261643.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n`sage-pkg` was the command to create old-style packages, now it's something completely different. Since we still support old-style packages, can't you rename this script?\n\nAlso: why is this a blocker? There is nothing in the description or comments justifying that.",
    "created_at": "2015-06-25T08:27:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261643",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

`sage-pkg` was the command to create old-style packages, now it's something completely different. Since we still support old-style packages, can't you rename this script?

Also: why is this a blocker? There is nothing in the description or comments justifying that.



---

archive/issue_comments_261644.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAbout the directory structure: wouldn't it be simpler to keep the scripts in `src/bin` (they can still `import sage_bootstrap`) and then not use the redundant `sage_bootstrap/sage_bootstrap` subdirectory?",
    "created_at": "2015-06-25T08:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261644",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

About the directory structure: wouldn't it be simpler to keep the scripts in `src/bin` (they can still `import sage_bootstrap`) and then not use the redundant `sage_bootstrap/sage_bootstrap` subdirectory?



---

archive/issue_comments_261645.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI honestly have no idea what `tox` does, but I tried it anyway:\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ uname -a\nLinux tamiyo 3.17.7-gentoo #1 SMP PREEMPT Wed Dec 31 20:06:39 CET 2014 x86_64 Intel(R) Core(TM) i7-2640M CPU @ 2.80GHz GenuineIntel GNU/Linux\n```\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ python --version\nPython 3.3.2\n```\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox --version\n1.8.1 imported from /usr/lib64/python3.3/site-packages/tox/__init__.py\n```\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox\nGLOB sdist-make: /usr/local/src/sage-config/src/sage_bootstrap/setup.py\npy26 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py26\nERROR: InterpreterNotFound: python2.6\npy27 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip\npy27 runtests: PYTHONHASHSEED='1210919353'\npy27 runtests: commands[0] | python2.7 -m unittest discover\n.......E.......\n======================================================================\nERROR: test_checksum (test.test_tarball.TarballTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/test/test_tarball.py\", line 40, in test_checksum\n    self.assertTrue(tarball.checksum_verifies())\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py\", line 83, in checksum_verifies\n    sha1 = self._compute_sha1()\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py\", line 73, in _compute_sha1\n    return self._compute_hash(hashlib.sha1())\n  File \"/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py\", line 63, in _compute_hash\n    with open(self.upstream_fqn, 'rb') as f:\nIOError: [Errno 2] No such file or directory: '/usr/local/src/sage-config/upstream/configure-99.tar.gz'\n\n----------------------------------------------------------------------\nRan 15 tests in 6.914s\n\nFAILED (errors=1)\nERROR: InvocationError: '/usr/local/src/sage-config/src/sage_bootstrap/.tox/py27/bin/python2.7 -m unittest discover'\npy33 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip\npy33 runtests: PYTHONHASHSEED='1210919353'\npy33 runtests: commands[0] | python3.3 -m unittest discover\n..../usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/download.py:121: DeprecationWarning: FancyURLopener style of invoking requests is deprecated. Use newer urlopen functions/methods\n  opener = urllib.FancyURLopener()\n...........\n----------------------------------------------------------------------\nRan 15 tests in 0.741s\n\nOK\npy34 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py34\nERROR: InterpreterNotFound: python3.4\n_______________________________________________________________________________ summary ________________________________________________________________________________\nSKIPPED:  py26: InterpreterNotFound: python2.6\nERROR:   py27: commands failed\n  py33: commands succeeded\nSKIPPED:  py34: InterpreterNotFound: python3.4\n```\n\nAlso, I'm a bit confused by\n\n```\nERROR: InterpreterNotFound: python3.4\n```\nfollowed later by\n\n```\nSKIPPED:  py34: InterpreterNotFound: python3.4\n```",
    "created_at": "2015-06-25T08:49:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261645",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

I honestly have no idea what `tox` does, but I tried it anyway:

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ uname -a
Linux tamiyo 3.17.7-gentoo #1 SMP PREEMPT Wed Dec 31 20:06:39 CET 2014 x86_64 Intel(R) Core(TM) i7-2640M CPU @ 2.80GHz GenuineIntel GNU/Linux
```

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ python --version
Python 3.3.2
```

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox --version
1.8.1 imported from /usr/lib64/python3.3/site-packages/tox/__init__.py
```

```
jdemeyer@tamiyo:/usr/local/src/sage-config/src/sage_bootstrap$ tox
GLOB sdist-make: /usr/local/src/sage-config/src/sage_bootstrap/setup.py
py26 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py26
ERROR: InterpreterNotFound: python2.6
py27 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip
py27 runtests: PYTHONHASHSEED='1210919353'
py27 runtests: commands[0] | python2.7 -m unittest discover
.......E.......
======================================================================
ERROR: test_checksum (test.test_tarball.TarballTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/src/sage-config/src/sage_bootstrap/test/test_tarball.py", line 40, in test_checksum
    self.assertTrue(tarball.checksum_verifies())
  File "/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py", line 83, in checksum_verifies
    sha1 = self._compute_sha1()
  File "/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py", line 73, in _compute_sha1
    return self._compute_hash(hashlib.sha1())
  File "/usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/tarball.py", line 63, in _compute_hash
    with open(self.upstream_fqn, 'rb') as f:
IOError: [Errno 2] No such file or directory: '/usr/local/src/sage-config/upstream/configure-99.tar.gz'

----------------------------------------------------------------------
Ran 15 tests in 6.914s

FAILED (errors=1)
ERROR: InvocationError: '/usr/local/src/sage-config/src/sage_bootstrap/.tox/py27/bin/python2.7 -m unittest discover'
py33 inst-nodeps: /usr/local/src/sage-config/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip
py33 runtests: PYTHONHASHSEED='1210919353'
py33 runtests: commands[0] | python3.3 -m unittest discover
..../usr/local/src/sage-config/src/sage_bootstrap/sage_bootstrap/download.py:121: DeprecationWarning: FancyURLopener style of invoking requests is deprecated. Use newer urlopen functions/methods
  opener = urllib.FancyURLopener()
...........
----------------------------------------------------------------------
Ran 15 tests in 0.741s

OK
py34 create: /usr/local/src/sage-config/src/sage_bootstrap/.tox/py34
ERROR: InterpreterNotFound: python3.4
_______________________________________________________________________________ summary ________________________________________________________________________________
SKIPPED:  py26: InterpreterNotFound: python2.6
ERROR:   py27: commands failed
  py33: commands succeeded
SKIPPED:  py34: InterpreterNotFound: python3.4
```

Also, I'm a bit confused by

```
ERROR: InterpreterNotFound: python3.4
```
followed later by

```
SKIPPED:  py34: InterpreterNotFound: python3.4
```



---

archive/issue_comments_261646.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWhat would it take to support Python <= 2.5 or Python <= 3.2? I don't know how common these are, but if they can be supported with minimal effort, perhaps it should be done.",
    "created_at": "2015-06-25T08:50:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261646",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

What would it take to support Python <= 2.5 or Python <= 3.2? I don't know how common these are, but if they can be supported with minimal effort, perhaps it should be done.



---

archive/issue_comments_261647.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI don't think there is any currently supported OS that ships with those python versions, so its most likely a waste of time to try.",
    "created_at": "2015-06-25T09:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261647",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:12" align="right">comment:12</div>

I don't think there is any currently supported OS that ships with those python versions, so its most likely a waste of time to try.



---

archive/issue_comments_261648.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nBlocker because it fixes the firewall issue from #18723 and that ticket was a blocker.",
    "created_at": "2015-06-25T09:19:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261648",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

Blocker because it fixes the firewall issue from #18723 and that ticket was a blocker.



---

archive/issue_comments_261649.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions. My plan is to export all new-style package management functions via sage-pkg so its the obvious name for that.\n\ntox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)\n\nscripts in src/bin end up being installed in SAGE_LOCAL (and globally if Sage is every packaged / packageable). Build tools shouldn't be globally installed. Really sage-bootstrap only makes sense if you have the source lying around, so why pretend otherwise.",
    "created_at": "2015-06-25T09:25:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261649",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

I don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions. My plan is to export all new-style package management functions via sage-pkg so its the obvious name for that.

tox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)

scripts in src/bin end up being installed in SAGE_LOCAL (and globally if Sage is every packaged / packageable). Build tools shouldn't be globally installed. Really sage-bootstrap only makes sense if you have the source lying around, so why pretend otherwise.



---

archive/issue_comments_261650.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@vbraun](#comment:14):\n> I don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions.\n\nIt's a name collision with *current* Sage versions. And `sage --pkg` is still currently documented in [http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt](http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt)\n\n> tox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)\n\nSure, but it is confusing to see `ERROR: InterpreterNotFound: python3.4` if it's not really an error. But if that's the way how `tox` works, so be it.",
    "created_at": "2015-06-25T09:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261650",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@vbraun](#comment:14):
> I don't mind renaming the script, but I don't see the point of avoiding name collisions with historical Sage versions.

It's a name collision with *current* Sage versions. And `sage --pkg` is still currently documented in [http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt](http://doc.sagemath.org/html/en/developer/packaging_old_spkgs.html#the-file-spkg-txt)

> tox (which is pretty much the standard for cross python version testing) is configured to not fail if a python version is not found (see tox.ini)

Sure, but it is confusing to see `ERROR: InterpreterNotFound: python3.4` if it's not really an error. But if that's the way how `tox` works, so be it.



---

archive/issue_comments_261651.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@vbraun](#comment:13):\n> Blocker because it fixes the firewall issue from #18723 and that ticket was a blocker.\n\nI just don't like if blockers are complicated tickets like this. Why not apply the simple fix of #18723 as blocker and make #18748 a normal ticket?",
    "created_at": "2015-06-25T09:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261651",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@vbraun](#comment:13):
> Blocker because it fixes the firewall issue from #18723 and that ticket was a blocker.

I just don't like if blockers are complicated tickets like this. Why not apply the simple fix of #18723 as blocker and make #18748 a normal ticket?



---

archive/issue_comments_261652.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nTHis is a rather simple ticket IMHO, it just refactors a script and adds testing.",
    "created_at": "2015-06-25T09:41:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261652",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

THis is a rather simple ticket IMHO, it just refactors a script and adds testing.



---

archive/issue_events_266333.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-25T09:43:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266333"
}
```



---

archive/issue_events_266334.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-25T09:43:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266334"
}
```



---

archive/issue_comments_261653.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWouldn't it be a lot better to move `sage_bootstrap` to the `$SAGE_ROOT/build` directory? That's where the Sage packages reside, so it would make sense to move the package build system also to `build`.",
    "created_at": "2015-06-25T09:43:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261653",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Wouldn't it be a lot better to move `sage_bootstrap` to the `$SAGE_ROOT/build` directory? That's where the Sage packages reside, so it would make sense to move the package build system also to `build`.



---

archive/issue_comments_261654.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@vbraun](#comment:17):\n> THis is a rather simple ticket\n\nReally?\n\n```\n28 files changed, 1518 insertions, 460 deletions\n```",
    "created_at": "2015-06-25T09:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261654",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@vbraun](#comment:17):
> THis is a rather simple ticket

Really?

```
28 files changed, 1518 insertions, 460 deletions
```



---

archive/issue_comments_261655.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nYou have inconsistent indentation (not multiples of 4 spaces) in `src/sage_bootstrap/sage_bootstrap/stdio.py`",
    "created_at": "2015-06-25T09:47:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261655",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

You have inconsistent indentation (not multiples of 4 spaces) in `src/sage_bootstrap/sage_bootstrap/stdio.py`



---

archive/issue_comments_261656.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWell thats because a lot of testing was added. Really its an obvious improvement. \n\nI don't think source code should reside in SAGE_ROOT/build\n\nWhat about the old `sage-pkg`, move it to `sage-old-pkg`? Or are we going to keep it forever?",
    "created_at": "2015-06-25T09:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261656",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

Well thats because a lot of testing was added. Really its an obvious improvement. 

I don't think source code should reside in SAGE_ROOT/build

What about the old `sage-pkg`, move it to `sage-old-pkg`? Or are we going to keep it forever?



---

archive/issue_comments_261657.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@vbraun](#comment:21):\n> I don't think source code should reside in SAGE_ROOT/build\n\nFirst of all, we already have source code there (`$SAGE_ROOT/build/install`). You will probably argue that this is a build script, not source code. But then your module is really also a build script, not source code (especially given that it's not installed).\n\nCurrently `$SAGE_ROOT/src` is essentially the *Sage library*, i.e. the Python package `sage`. I don't see how build scripts for Sage *packages* belong there.",
    "created_at": "2015-06-25T09:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261657",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@vbraun](#comment:21):
> I don't think source code should reside in SAGE_ROOT/build

First of all, we already have source code there (`$SAGE_ROOT/build/install`). You will probably argue that this is a build script, not source code. But then your module is really also a build script, not source code (especially given that it's not installed).

Currently `$SAGE_ROOT/src` is essentially the *Sage library*, i.e. the Python package `sage`. I don't see how build scripts for Sage *packages* belong there.



---

archive/issue_comments_261658.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYou didn't complain about `sage-download-file` being in `src/bin/`, so why complain now? There is much more than the Sage Python library in `src`.",
    "created_at": "2015-06-25T09:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261658",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

You didn't complain about `sage-download-file` being in `src/bin/`, so why complain now? There is much more than the Sage Python library in `src`.



---

archive/issue_comments_261659.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@vbraun](#comment:21):\n> Or are we going to keep it forever?\n\nIt's not even deprecated, so I would keep it for now. There are people still creating new old-style packages, see #18514 for example.\n\nYou could call your new script `sage-packages` or something...",
    "created_at": "2015-06-25T09:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261659",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@vbraun](#comment:21):
> Or are we going to keep it forever?

It's not even deprecated, so I would keep it for now. There are people still creating new old-style packages, see #18514 for example.

You could call your new script `sage-packages` or something...



---

archive/issue_comments_261660.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@vbraun](#comment:23):\n> You didn't complain about `sage-download-file` being in `src/bin/`, so why complain now?\n\nWe currently have only 1 place to put scripts and that's in `$SAGE_ROOT/src/bin`. You're creating a second place, so it makes sense to think what is the best location. After this ticket is merged, we should move more scripts to `sage_bootstrap/bin`, in particular `sage-spkg` and maybe even `$SAGE_ROOT/build/install` and `$SAGE_ROOT/build/pipestatus`. If `sage_bootstrap` would be in `$SAGE_ROOT/build`, that would lead to a clean separation of the complete build system for packages in `$SAGE_ROOT/build`.\n\nI always found it awkward that we have a top-level `Makefile` calling a scipt `build/install` running make on `build/Makefile` which then runs `src/bin/sage-spkg` which in turn runs `build/pkgs/*/spkg-install`. That's a mess. This ticket creates an opportunity to start cleaning this up, let's do it right from the beginning.",
    "created_at": "2015-06-25T10:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261660",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@vbraun](#comment:23):
> You didn't complain about `sage-download-file` being in `src/bin/`, so why complain now?

We currently have only 1 place to put scripts and that's in `$SAGE_ROOT/src/bin`. You're creating a second place, so it makes sense to think what is the best location. After this ticket is merged, we should move more scripts to `sage_bootstrap/bin`, in particular `sage-spkg` and maybe even `$SAGE_ROOT/build/install` and `$SAGE_ROOT/build/pipestatus`. If `sage_bootstrap` would be in `$SAGE_ROOT/build`, that would lead to a clean separation of the complete build system for packages in `$SAGE_ROOT/build`.

I always found it awkward that we have a top-level `Makefile` calling a scipt `build/install` running make on `build/Makefile` which then runs `src/bin/sage-spkg` which in turn runs `build/pkgs/*/spkg-install`. That's a mess. This ticket creates an opportunity to start cleaning this up, let's do it right from the beginning.



---

archive/issue_comments_261661.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI'm happy to reorganize /build but I don't think we should do it in this ticket. IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap, build/setup.py, build/tox.ini, .... Otherwise you end up with /build/src/sage_bootstrap which is just duplicating src. Feel free to open another ticket.",
    "created_at": "2015-06-25T10:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261661",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

I'm happy to reorganize /build but I don't think we should do it in this ticket. IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap, build/setup.py, build/tox.ini, .... Otherwise you end up with /build/src/sage_bootstrap which is just duplicating src. Feel free to open another ticket.



---

archive/issue_comments_261662.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@vbraun](#comment:26):\n> I'm happy to reorganize /build but I don't think we should do it in this ticket.\n\n+1\n\n> IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap\n\nWhat's wrong with creating `build/sage_bootstrap` *without* moving the \"makefile stuff\" first? Independently of whether `build/install` and friends should be moved, what influence does it have on the present ticket?\n\nI think it's stupid to first create `$SAGE_ROOT/src/sage_bootstrap` on this ticket and then immediately move it to a different place. Just put it in the correct place from the beginning...",
    "created_at": "2015-06-25T10:59:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261662",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@vbraun](#comment:26):
> I'm happy to reorganize /build but I don't think we should do it in this ticket.

+1

> IMHO the makefile stuff should first move to /build/make (or so) to make  space for build/sage_bootstrap

What's wrong with creating `build/sage_bootstrap` *without* moving the "makefile stuff" first? Independently of whether `build/install` and friends should be moved, what influence does it have on the present ticket?

I think it's stupid to first create `$SAGE_ROOT/src/sage_bootstrap` on this ticket and then immediately move it to a different place. Just put it in the correct place from the beginning...



---

archive/issue_comments_261663.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nthen you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.",
    "created_at": "2015-06-25T11:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261663",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.



---

archive/issue_comments_261664.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@vbraun](#comment:28):\n> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.\n\nI see your point, but I don't find it strong enough as an argument for why `$SAGE_ROOT/src/sage_bootstrap/sage_bootstrap` is better than `$SAGE_ROOT/build/sage_bootstrap`.\n\nCan we get rid of that `setup.py`? Move it? Rename it?",
    "created_at": "2015-06-25T12:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261664",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@vbraun](#comment:28):
> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.

I see your point, but I don't find it strong enough as an argument for why `$SAGE_ROOT/src/sage_bootstrap/sage_bootstrap` is better than `$SAGE_ROOT/build/sage_bootstrap`.

Can we get rid of that `setup.py`? Move it? Rename it?



---

archive/issue_comments_261665.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@vbraun](#comment:28):\n> IMHO super-confusing.\n\nThat can be solved with a simple comment like\n\n```\n#\n# This setup.py file is only used for tox testing of the\n# sage_bootstrap package, do not actually execute it!\n#\n# For building Sage packages, see \"install\", \"deps\" and \"Makefile\".\n#\n```",
    "created_at": "2015-06-25T12:20:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261665",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@vbraun](#comment:28):
> IMHO super-confusing.

That can be solved with a simple comment like

```
#
# This setup.py file is only used for tox testing of the
# sage_bootstrap package, do not actually execute it!
#
# For building Sage packages, see "install", "deps" and "Makefile".
#
```



---

archive/issue_comments_261666.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAfaik setup.py can't have a different name. It certainly shouldn't be renamed. I'm fine with making /build a Python package, but then everything should have a sane directory layout. And moving stuff is super-easy in git, its a matter of minutes. So why do it now when /build is not ready for it?",
    "created_at": "2015-06-25T19:56:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261666",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

Afaik setup.py can't have a different name. It certainly shouldn't be renamed. I'm fine with making /build a Python package, but then everything should have a sane directory layout. And moving stuff is super-easy in git, its a matter of minutes. So why do it now when /build is not ready for it?



---

archive/issue_comments_261667.json:
```json
{
    "body": "Changed commit from **[`0acf070`](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)** to **[`e45a0b6`](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)**",
    "created_at": "2015-06-25T20:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261667",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0acf070`](https://github.com/sagemath/sagetrac-mirror/commit/0acf070e6d86df8f5dcc62f0751002631cbce9d8)** to **[`e45a0b6`](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)**



---

archive/issue_comments_261668.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52d012637820499097664afe2ee94974733af895\">52d0126</a></td><td><code>rename sage-pkg -> sage-package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4aff9ac0f00632b24a614c6681ea7c74e627729\">e4aff9a</a></td><td><code>fix indentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a\">e45a0b6</a></td><td><code>Do not assume that the confball has been downloaded before in test</code></td></tr></table>\n",
    "created_at": "2015-06-25T20:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261668",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52d012637820499097664afe2ee94974733af895">52d0126</a></td><td><code>rename sage-pkg -> sage-package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4aff9ac0f00632b24a614c6681ea7c74e627729">e4aff9a</a></td><td><code>fix indentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a">e45a0b6</a></td><td><code>Do not assume that the confball has been downloaded before in test</code></td></tr></table>




---

archive/issue_comments_261669.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI opened #18788 to reorganize /build",
    "created_at": "2015-06-25T20:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261669",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

I opened #18788 to reorganize /build



---

archive/issue_events_266335.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-25T20:16:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266335"
}
```



---

archive/issue_events_266336.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-25T20:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266336"
}
```



---

archive/issue_comments_261670.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@vbraun](#comment:31):\n> And moving stuff is super-easy in git, its a matter of minutes.\n\nMoving the files physically, sure. But that's only a very small part of the effort of moving files. All the code referring to those files needs to be changed, everything has to be tested again...\n\n> So why do it now when /build is not ready for it?\n\nFirst of all, I don't agree with the premise that \"`build` is not ready for it\". I really don't see the problem. Second, like I already said: I would avoid having to move things in the future.",
    "created_at": "2015-06-26T06:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261670",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@vbraun](#comment:31):
> And moving stuff is super-easy in git, its a matter of minutes.

Moving the files physically, sure. But that's only a very small part of the effort of moving files. All the code referring to those files needs to be changed, everything has to be tested again...

> So why do it now when /build is not ready for it?

First of all, I don't agree with the premise that "`build` is not ready for it". I really don't see the problem. Second, like I already said: I would avoid having to move things in the future.



---

archive/issue_comments_261671.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@vbraun](#comment:28):\n> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.\n\nLet me remind you that we have had this in `$SAGE_ROOT/src` for a while and nobody ever complained...",
    "created_at": "2015-06-26T06:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261671",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@vbraun](#comment:28):
> then you end up with setup.py and Makefile in the same directory.... IMHO super-confusing.

Let me remind you that we have had this in `$SAGE_ROOT/src` for a while and nobody ever complained...



---

archive/issue_comments_261672.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@jdemeyer](#comment:35):\n> All the code referring to those files needs to be changed\n\nThe scripts are found via the PATH, thats the only thing that needs to be changed.\n\n> Second, like I already said: I would avoid having to move things in the future.\n\nI wasn't the one who complained that this ticket does too much at once ;-)",
    "created_at": "2015-06-26T07:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261672",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@jdemeyer](#comment:35):
> All the code referring to those files needs to be changed

The scripts are found via the PATH, thats the only thing that needs to be changed.

> Second, like I already said: I would avoid having to move things in the future.

I wasn't the one who complained that this ticket does too much at once ;-)



---

archive/issue_comments_261673.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@vbraun](#comment:37):\n> I wasn't the one who complained that this ticket does too much at once ;-)\n\nI'm not asking to do more in this ticket. I'm only asking to do it in such a way that we don't need a second ticket to move `sage_bootstrap`.",
    "created_at": "2015-06-26T08:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261673",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@vbraun](#comment:37):
> I wasn't the one who complained that this ticket does too much at once ;-)

I'm not asking to do more in this ticket. I'm only asking to do it in such a way that we don't need a second ticket to move `sage_bootstrap`.



---

archive/issue_comments_261674.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI don't see much change from the old setup:\n\n```\n$ sage -f hg\nAttempting to download package hg\n>>> Checking online list of optional packages.\n>>> Checking online list of experimental packages.\n>>> Checking online list of standard packages.\n>>> Checking online list of huge packages.\n>>> Checking online list of archive packages.\nERROR [download|run:133]: [Errno 404] Not Found: '//www.mirrorservice.org/sites/www.sagemath.org//spkg/archive/list'\nsed: can't read /home/dima/.sage//archive.list: No such file or directory\nError: could not find a package matching hg on http://www.mirrorservice.org/sites/www.sagemath.org//spkg\n```\n\nshould we have `sage -reset_mirrors` ?",
    "created_at": "2015-07-04T10:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261674",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

I don't see much change from the old setup:

```
$ sage -f hg
Attempting to download package hg
>>> Checking online list of optional packages.
>>> Checking online list of experimental packages.
>>> Checking online list of standard packages.
>>> Checking online list of huge packages.
>>> Checking online list of archive packages.
ERROR [download|run:133]: [Errno 404] Not Found: '//www.mirrorservice.org/sites/www.sagemath.org//spkg/archive/list'
sed: can't read /home/dima/.sage//archive.list: No such file or directory
Error: could not find a package matching hg on http://www.mirrorservice.org/sites/www.sagemath.org//spkg
```

should we have `sage -reset_mirrors` ?



---

archive/issue_comments_261675.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI should have said: This ticket is about standard packages. Since `hg` is optional it is unrelated. But if you can't build \"standard\" Sage then this ticket might help.",
    "created_at": "2015-07-04T10:49:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261675",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40" align="right">comment:40</div>

I should have said: This ticket is about standard packages. Since `hg` is optional it is unrelated. But if you can't build "standard" Sage then this ticket might help.



---

archive/issue_comments_261676.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nwhat is `tox` and what is it doing? Perhaps it should go to another ticket, as it looks totally orthogonal to the stated purpose of refactoring what we have.",
    "created_at": "2015-07-05T21:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261676",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">comment:41</div>

what is `tox` and what is it doing? Perhaps it should go to another ticket, as it looks totally orthogonal to the stated purpose of refactoring what we have.



---

archive/issue_comments_261677.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nhttps://tox.readthedocs.org\n\nThe whole point of the refactoring is to make stuff testable",
    "created_at": "2015-07-05T21:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261677",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:42" align="right">comment:42</div>

https://tox.readthedocs.org

The whole point of the refactoring is to make stuff testable



---

archive/issue_comments_261678.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nWhy are some of the files not listed in `MANIFEST` (e.g., `tox.ini`, `test/capture.py`)?",
    "created_at": "2015-07-06T03:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261678",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:43" align="right">comment:43</div>

Why are some of the files not listed in `MANIFEST` (e.g., `tox.ini`, `test/capture.py`)?



---

archive/issue_comments_261679.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThe manifest is auto-generated by tox/distutils to build a package for testing purposes. Its contents don't really matter apart from that. The tox config file arguably doesn't belong there, so I'd count that as a plus. If we were to use the manifest for anything then we would have to add a `Manifest.in` to fine-tune the inclusion rules.",
    "created_at": "2015-07-06T07:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261679",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:44" align="right">comment:44</div>

The manifest is auto-generated by tox/distutils to build a package for testing purposes. Its contents don't really matter apart from that. The tox config file arguably doesn't belong there, so I'd count that as a plus. If we were to use the manifest for anything then we would have to add a `Manifest.in` to fine-tune the inclusion rules.



---

archive/issue_comments_261680.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nMinor questions:\n\n- In `package.py`, are the lines\n\n```\n    def __eq__(self, other):\n        return self.tarball == other.tarball\n```\n there just for testing via `tox`, or do they serve another purpose?\n- There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?\n\nOverall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.\n\nLess minor questions and comments:\n- What does `sage-package` do? The file itself should contain some information; you shouldn't have to run it to get its usage message. Maybe the same could be said for `sage-download-file`, but at least the name is somewhat self-explanatory. I think you should add a line or two there, also. Probably in `README`, too, for example after the sentence\n\n```\nThis is a utility libary for dealing with third-party tarballs and\nbuilding Sage. \n```\n (Something like \"The main entry points are sage-download-file and sage-package, which are used as follows: ...\". Note also that \"libary\" is currently misspelled.)\n- In addition, I think that each python file in `sage_bootstrap` could have a bit more documentation, illustrating how to use it. I don't really want to have to read the source code to figure out this sort of thing. For `download.py`, for example, mention `Download(...).run()`.\n- Add the link `\u200bhttps://tox.readthedocs.org` to `README`. Maybe we should all know about tox already, but that doesn't seem to be the case.",
    "created_at": "2015-07-07T00:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261680",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:45" align="right">comment:45</div>

Minor questions:

- In `package.py`, are the lines

```
    def __eq__(self, other):
        return self.tarball == other.tarball
```
 there just for testing via `tox`, or do they serve another purpose?
- There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?

Overall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.

Less minor questions and comments:
- What does `sage-package` do? The file itself should contain some information; you shouldn't have to run it to get its usage message. Maybe the same could be said for `sage-download-file`, but at least the name is somewhat self-explanatory. I think you should add a line or two there, also. Probably in `README`, too, for example after the sentence

```
This is a utility libary for dealing with third-party tarballs and
building Sage. 
```
 (Something like "The main entry points are sage-download-file and sage-package, which are used as follows: ...". Note also that "libary" is currently misspelled.)
- In addition, I think that each python file in `sage_bootstrap` could have a bit more documentation, illustrating how to use it. I don't really want to have to read the source code to figure out this sort of thing. For `download.py`, for example, mention `Download(...).run()`.
- Add the link `https://tox.readthedocs.org` to `README`. Maybe we should all know about tox already, but that doesn't seem to be the case.



---

archive/issue_comments_261681.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@jhpalmieri](#comment:45):\n> - In `package.py`, are the lines\n> \n> ```\n>     def __eq__(self, other):\n>         return self.tarball == other.tarball\n> ```\n>  there just for testing via `tox`, or do they serve another purpose?\n\nThey are used for testing in unittest.TestCase.assertEqual, doesn't really have anything to do with tox (which is just the test runner) besides that.\n\n> - There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?\n\nI don't. \n\n> Overall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.\n\nThe old script was already too long to fit comfortably into one file, with added testing its can't fit into one file. So it has to grow into a package.\n\n> Less minor questions and comments:\n> - What does `sage-package` do?\n\nIt mostly makes the release manager's job easier because you don't have to log into the server and associated tarball names to package names by hand, which wastes my preciously little available time.\n\nI'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for \"tox\", thats bound to produce way more relevant and informative information than I can possibly be.",
    "created_at": "2015-07-07T07:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261681",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@jhpalmieri](#comment:45):
> - In `package.py`, are the lines
> 
> ```
>     def __eq__(self, other):
>         return self.tarball == other.tarball
> ```
>  there just for testing via `tox`, or do they serve another purpose?

They are used for testing in unittest.TestCase.assertEqual, doesn't really have anything to do with tox (which is just the test runner) besides that.

> - There are some blank spaces on several otherwise empty lines in `tarball.py`. Do we care?

I don't. 

> Overall, the code is just a relocation of old code, so that's okay. I'm not sure about the whole idea of moving it. Seems okay to me, but it doesn't strike me as very high on the priority list.

The old script was already too long to fit comfortably into one file, with added testing its can't fit into one file. So it has to grow into a package.

> Less minor questions and comments:
> - What does `sage-package` do?

It mostly makes the release manager's job easier because you don't have to log into the server and associated tarball names to package names by hand, which wastes my preciously little available time.

I'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for "tox", thats bound to produce way more relevant and informative information than I can possibly be.



---

archive/issue_comments_261682.json:
```json
{
    "body": "Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-07T17:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261682",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**



---

archive/issue_comments_261683.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@vbraun](#comment:46):\n> I'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for \"tox\", thats bound to produce way more relevant and informative information than I can possibly be.\n\nHere is some documentation for the main scripts. I think that few of the Python files could use a bit more information: the current descriptions for `package.py` and maybe `tarball.py` are too terse.",
    "created_at": "2015-07-07T17:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261683",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@vbraun](#comment:46):
> I'm happy to add a line of documentation here or there but unlike the math part this is **not** a library for Python novices. IMHO its not too much to ask to google for "tox", thats bound to produce way more relevant and informative information than I can possibly be.

Here is some documentation for the main scripts. I think that few of the Python files could use a bit more information: the current descriptions for `package.py` and maybe `tarball.py` are too terse.



---

archive/issue_comments_261684.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-07T17:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261684",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**



---

archive/issue_comments_261685.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e2c568b3918467e91b77b0e3e84421d2cf288ec\">9e2c568</a></td><td><code>Merge branch 'develop' into t/18748/python_library_to_bootstrap_sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f\">cc213dc</a></td><td><code>trac 18748: add documentation to scripts in sage_bootstrap/bin</code></td></tr></table>\n",
    "created_at": "2015-07-07T17:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261685",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:49"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e2c568b3918467e91b77b0e3e84421d2cf288ec">9e2c568</a></td><td><code>Merge branch 'develop' into t/18748/python_library_to_bootstrap_sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f">cc213dc</a></td><td><code>trac 18748: add documentation to scripts in sage_bootstrap/bin</code></td></tr></table>




---

archive/issue_comments_261686.json:
```json
{
    "body": "Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-07T17:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261686",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**



---

archive/issue_comments_261687.json:
```json
{
    "body": "Changed commit from **[`e45a0b6`](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)** to **[`cc213dc`](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)**",
    "created_at": "2015-07-07T17:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261687",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`e45a0b6`](https://github.com/sagemath/sagetrac-mirror/commit/e45a0b667f908f147cabbec63fe88134061ac69a)** to **[`cc213dc`](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)**



---

archive/issue_comments_261688.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-12T13:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261688",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)**



---

archive/issue_comments_261689.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f4fb8e1d809417a8f56984529c2436950f60e2a\">8f4fb8e</a></td><td><code>More docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9a69a58a4123af8861a472b15fef64e6aae8381\">f9a69a5</a></td><td><code>Convert public attributes to properties and document</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de\">075228f</a></td><td><code>Make package.tarball a Tarball instance</code></td></tr></table>\n",
    "created_at": "2015-07-12T14:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261689",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f4fb8e1d809417a8f56984529c2436950f60e2a">8f4fb8e</a></td><td><code>More docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9a69a58a4123af8861a472b15fef64e6aae8381">f9a69a5</a></td><td><code>Convert public attributes to properties and document</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de">075228f</a></td><td><code>Make package.tarball a Tarball instance</code></td></tr></table>




---

archive/issue_comments_261690.json:
```json
{
    "body": "Changed commit from **[`cc213dc`](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)** to **[`075228f`](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)**",
    "created_at": "2015-07-12T14:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261690",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cc213dc`](https://github.com/sagemath/sagetrac-mirror/commit/cc213dcd06581e5906f837f1a0ea079b375d3e3f)** to **[`075228f`](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)**



---

archive/issue_comments_261691.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nDone, still needs review",
    "created_at": "2015-07-12T14:28:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261691",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>

Done, still needs review



---

archive/issue_comments_261692.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nI get an error with tox:\n\n```\n$ tox \nGLOB sdist-make: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/setup.py\npy26 create: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26\npy26 installdeps: unittest2\npy26 inst: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip\npy26 installed: argparse==1.3.0,linecache2==1.0.0,sage-bootstrap==1.0,six==1.9.0,traceback2==1.4.0,unittest2==1.1.0,wheel==0.24.0\npy26 runtests: PYTHONHASHSEED='2708481092'\npy26 runtests: commands[0] | unit2 discover\n............E..\n======================================================================\nERROR: test_package (test.test_package.PackageTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/test/test_package.py\", line 34, in test_package\n    self.assertIsInstance(pkg.tarball, Tarball)\nAttributeError: 'PackageTestCase' object has no attribute 'assertIsInstance'\n\n----------------------------------------------------------------------\nRan 15 tests in 1.056s\n\nFAILED (errors=1)\nERROR: InvocationError: '/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26/bin/unit2 discover'\n```",
    "created_at": "2015-07-12T16:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261692",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:53" align="right">comment:53</div>

I get an error with tox:

```
$ tox 
GLOB sdist-make: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/setup.py
py26 create: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26
py26 installdeps: unittest2
py26 inst: /Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/dist/sage_bootstrap-1.0.zip
py26 installed: argparse==1.3.0,linecache2==1.0.0,sage-bootstrap==1.0,six==1.9.0,traceback2==1.4.0,unittest2==1.1.0,wheel==0.24.0
py26 runtests: PYTHONHASHSEED='2708481092'
py26 runtests: commands[0] | unit2 discover
............E..
======================================================================
ERROR: test_package (test.test_package.PackageTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/test/test_package.py", line 34, in test_package
    self.assertIsInstance(pkg.tarball, Tarball)
AttributeError: 'PackageTestCase' object has no attribute 'assertIsInstance'

----------------------------------------------------------------------
Ran 15 tests in 1.056s

FAILED (errors=1)
ERROR: InvocationError: '/Users/palmieri/Desktop/Sage_stuff/git/sage/src/sage_bootstrap/.tox/py26/bin/unit2 discover'
```



---

archive/issue_comments_261693.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6\">c56991b</a></td><td><code>Fix Python 2.6 test error</code></td></tr></table>\n",
    "created_at": "2015-07-12T17:26:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261693",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6">c56991b</a></td><td><code>Fix Python 2.6 test error</code></td></tr></table>




---

archive/issue_comments_261694.json:
```json
{
    "body": "Changed commit from **[`075228f`](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)** to **[`c56991b`](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)**",
    "created_at": "2015-07-12T17:26:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261694",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`075228f`](https://github.com/sagemath/sagetrac-mirror/commit/075228f1c38f87975b08ecefbb5414e6dc0db9de)** to **[`c56991b`](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)**



---

archive/issue_comments_261695.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nThanks, ``assertIsInstance` is Python 2.7+, fixed",
    "created_at": "2015-07-12T17:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261695",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:55" align="right">comment:55</div>

Thanks, ``assertIsInstance` is Python 2.7+, fixed



---

archive/issue_comments_261696.json:
```json
{
    "body": "Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**",
    "created_at": "2015-07-13T04:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261696",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/vbraun/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/python_library_to_bootstrap_sage)** to **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)**



---

archive/issue_comments_261697.json:
```json
{
    "body": "Changed commit from **[`c56991b`](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)** to **[`60a581b`](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**",
    "created_at": "2015-07-13T04:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261697",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`c56991b`](https://github.com/sagemath/sagetrac-mirror/commit/c56991b37c05e7381ca2f27ca7183fadddb1dfe6)** to **[`60a581b`](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**



---

archive/issue_comments_261698.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2015-07-13T04:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261698",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_261699.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nOkay, one more addition to the documentation. If you're happy with this, you can set this to positive review.",
    "created_at": "2015-07-13T04:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261699",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:57" align="right">comment:57</div>

Okay, one more addition to the documentation. If you're happy with this, you can set this to positive review.



---

archive/issue_events_266337.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-13T07:47:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266337"
}
```



---

archive/issue_events_266338.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-13T07:47:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266338"
}
```



---

archive/issue_comments_261700.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[`60a581b`](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**",
    "created_at": "2015-07-13T17:58:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18748#issuecomment-261700",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/python_library_to_bootstrap_sage](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python_library_to_bootstrap_sage)** to **[`60a581b`](https://github.com/sagemath/sagetrac-mirror/commit/60a581b42aa98a233d8b6c5a66487586f5619826)**



---

archive/issue_events_266339.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-13T17:58:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266339"
}
```



---

archive/issue_events_266340.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "68108369ca8d8b89efde89bf422c70ac2bfa2c81",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-13T17:58:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18748",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18748#event-266340"
}
```
