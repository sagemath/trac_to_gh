# Issue 18290: enhanced sets and cartesian products

archive/issues_018053.json:
```json
{
    "body": "We implement several missing features of sets, enumerated sets and their cartesian products.\n\nWe add methods `is_empty` and `is_finite` to all sets.\n\nWe implement most of the methods for cartesian products of sets and enumerated sets (cardinality, rank/unrank, iteration).\n\nFor example, all commands below were hanging\n\n```\nsage: C = cartesian_product([Permutations(7), Permutations(9)])\nsage: C.cardinality()\n1828915200\nsage: C.unrank(143872745)\n([1, 5, 3, 6, 2, 4, 7], [5, 3, 2, 4, 7, 8, 9, 6, 1])\nsage: C.rank(_)\n143872745\nsage: C.random_element()   # random\n([4, 2, 6, 7, 1, 3, 5], [4, 7, 2, 8, 6, 3, 9, 5, 1])\n```\n\n**CC:**  @nathanncohen @nthiery\n\n**Keywords:** cartesian_product\n\n**Branch:** [707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)\n\n**Reviewer:** Nicolas M. Thi\u00e9ry\n\n**Author:** Vincent Delecroix\n\nIssue created by migration from https://trac.sagemath.org/ticket/18290\n\n",
    "closed_at": "2015-05-13T20:11:33Z",
    "created_at": "2015-04-23T14:59:28Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.7",
    "title": "enhanced sets and cartesian products",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/18290",
    "user": "https://github.com/videlec"
}
```
We implement several missing features of sets, enumerated sets and their cartesian products.

We add methods `is_empty` and `is_finite` to all sets.

We implement most of the methods for cartesian products of sets and enumerated sets (cardinality, rank/unrank, iteration).

For example, all commands below were hanging

```
sage: C = cartesian_product([Permutations(7), Permutations(9)])
sage: C.cardinality()
1828915200
sage: C.unrank(143872745)
([1, 5, 3, 6, 2, 4, 7], [5, 3, 2, 4, 7, 8, 9, 6, 1])
sage: C.rank(_)
143872745
sage: C.random_element()   # random
([4, 2, 6, 7, 1, 3, 5], [4, 7, 2, 8, 6, 3, 9, 5, 1])
```

**CC:**  @nathanncohen @nthiery

**Keywords:** cartesian_product

**Branch:** [707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)

**Reviewer:** Nicolas M. Thi√©ry

**Author:** Vincent Delecroix

Issue created by migration from https://trac.sagemath.org/ticket/18290





---

archive/issue_events_164228.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-23T15:19:32Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "rename": {
        "from": "cardinality/is_finite/__hash__ methods for CartesianProduct",
        "to": "cardinality and is_finite methods for CartesianProduct"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164228"
}
```



---

archive/issue_comments_253487.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,2 @@\n-We implement three missing methods in `sage.sets.cartesian_product.CartesianProduct`:\n-- `__hash__`\n-- `is_finite`\n-- `cardinality`\n+We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`\n+and `cardinality`.\n``````\n",
    "created_at": "2015-04-23T15:19:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253487",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,2 @@
-We implement three missing methods in `sage.sets.cartesian_product.CartesianProduct`:
-- `__hash__`
-- `is_finite`
-- `cardinality`
+We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`
+and `cardinality`.
``````




---

archive/issue_comments_253488.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18290)",
    "created_at": "2015-04-23T15:19:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253488",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18290)



---

archive/issue_comments_253489.json:
```json
{
    "body": "**Commit:** [7311911a110c5c3f0c30ab049dbaf66df7e080c7](https://github.com/sagemath/sagetrac-mirror/commit/7311911a110c5c3f0c30ab049dbaf66df7e080c7)",
    "created_at": "2015-04-23T15:19:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253489",
    "user": "https://github.com/videlec"
}
```

**Commit:** [7311911a110c5c3f0c30ab049dbaf66df7e080c7](https://github.com/sagemath/sagetrac-mirror/commit/7311911a110c5c3f0c30ab049dbaf66df7e080c7)



---

archive/issue_events_164229.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-23T15:19:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164229"
}
```



---

archive/issue_comments_253490.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7311911a110c5c3f0c30ab049dbaf66df7e080c7\">7311911</a></td><td><code>Trac 18290: cardinality/is_finite for cartesian products</code></td></tr></table>\n",
    "created_at": "2015-04-23T15:19:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253490",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7311911a110c5c3f0c30ab049dbaf66df7e080c7">7311911</a></td><td><code>Trac 18290: cardinality/is_finite for cartesian products</code></td></tr></table>




---

archive/issue_comments_253491.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"cartesian_product\".",
    "created_at": "2015-04-23T15:19:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253491",
    "user": "https://github.com/videlec"
}
```

**Changing keywords** from "" to "cartesian_product".



---

archive/issue_comments_253492.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,14 @@\n We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`\n and `cardinality`.\n+\n+For example, the following was hanging\n+\n+```\n+sage: F = Permutations(10)\n+sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()\n+True\n+sage: cartesian_product([F, F]).is_finite()\n+True\n+sage: cartesian_product([F, F]).cardinality()\n+13168189440000\n+```\n``````\n",
    "created_at": "2015-04-23T15:20:10Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253492",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,14 @@
 We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`
 and `cardinality`.
+
+For example, the following was hanging
+
+```
+sage: F = Permutations(10)
+sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()
+True
+sage: cartesian_product([F, F]).is_finite()
+True
+sage: cartesian_product([F, F]).cardinality()
+13168189440000
+```
``````




---

archive/issue_comments_253493.json:
```json
{
    "body": "<a id='comment:3'></a>\nHMmmmmmmm `O_o`\n\nI don't know enough about this code to be helpful, but computing the cardinality of those sets seems to be too much. Isn't there a 'is_empty' functio in those classes that you could use instead? And you probably should call `is_empty` before the `is_finite`. Deciding emptyness is probably easier than deciding if it is finite?... Or perhaps not, in some weird cases? `^^;;`",
    "created_at": "2015-04-23T15:22:08Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253493",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
HMmmmmmmm `O_o`

I don't know enough about this code to be helpful, but computing the cardinality of those sets seems to be too much. Isn't there a 'is_empty' functio in those classes that you could use instead? And you probably should call `is_empty` before the `is_finite`. Deciding emptyness is probably easier than deciding if it is finite?... Or perhaps not, in some weird cases? `^^;;`



---

archive/issue_comments_253494.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,14 +1,2 @@\n We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`\n and `cardinality`.\n-\n-For example, the following was hanging\n-\n-```\n-sage: F = Permutations(10)\n-sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()\n-True\n-sage: cartesian_product([F, F]).is_finite()\n-True\n-sage: cartesian_product([F, F]).cardinality()\n-13168189440000\n-```\n``````\n",
    "created_at": "2015-04-23T15:22:08Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253494",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,14 +1,2 @@
 We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`
 and `cardinality`.
-
-For example, the following was hanging
-
-```
-sage: F = Permutations(10)
-sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()
-True
-sage: cartesian_product([F, F]).is_finite()
-True
-sage: cartesian_product([F, F]).cardinality()
-13168189440000
-```
``````




---

archive/issue_comments_253495.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,15 @@\n We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`\n and `cardinality`.\n+\n+\n+For example, the following was hanging\n+\n+```\n+sage: F = Permutations(10)\n+sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()\n+True\n+sage: cartesian_product([F, F]).is_finite()\n+True\n+sage: cartesian_product([F, F]).cardinality()\n+13168189440000\n+```\n``````\n",
    "created_at": "2015-04-23T15:23:36Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253495",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,15 @@
 We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`
 and `cardinality`.
+
+
+For example, the following was hanging
+
+```
+sage: F = Permutations(10)
+sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()
+True
+sage: cartesian_product([F, F]).is_finite()
+True
+sage: cartesian_product([F, F]).cardinality()
+13168189440000
+```
``````




---

archive/issue_comments_253496.json:
```json
{
    "body": "<a id='comment:5'></a>\nOkayokay, it seems that there is no `is_empty` method. You ignore my comment above `^^;`",
    "created_at": "2015-04-23T15:28:34Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253496",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
Okayokay, it seems that there is no `is_empty` method. You ignore my comment above `^^;`



---

archive/issue_comments_253497.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [ncohen](#comment%3A3):\n> HMmmmmmmm `O_o`\n> \n> I don't know enough about this code to be helpful, but computing the cardinality of those sets seems to be too much. Isn't there a 'is_empty' functio in those classes that you could use instead? And you probably should call `is_empty` before the `is_finite`. Deciding emptyness is probably easier than deciding if it is finite?... Or perhaps not, in some weird cases? `^^;;`\n\n\nI would love to have an `is_empty`... What do you think to add it in the sets category (and set the default implementation to be `return not self.cardinality()`?). The code in this branch would be much cleaner with that.",
    "created_at": "2015-04-23T15:36:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253497",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
Replying to [ncohen](#comment%3A3):
> HMmmmmmmm `O_o`
> 
> I don't know enough about this code to be helpful, but computing the cardinality of those sets seems to be too much. Isn't there a 'is_empty' functio in those classes that you could use instead? And you probably should call `is_empty` before the `is_finite`. Deciding emptyness is probably easier than deciding if it is finite?... Or perhaps not, in some weird cases? `^^;;`


I would love to have an `is_empty`... What do you think to add it in the sets category (and set the default implementation to be `return not self.cardinality()`?). The code in this branch would be much cleaner with that.



---

archive/issue_comments_253498.json:
```json
{
    "body": "<a id='comment:7'></a>\n> I would love to have an `is_empty`... What do you think to add it in the sets category (and set the default implementation to be `return not self.cardinality()`?). The code in this branch would be much cleaner with that.\n\n\nI'd say that it would be good, but I do not think that I should be patching category codes given my next-to-zero understanding of how it works.",
    "created_at": "2015-04-23T16:38:30Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253498",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
> I would love to have an `is_empty`... What do you think to add it in the sets category (and set the default implementation to be `return not self.cardinality()`?). The code in this branch would be much cleaner with that.


I'd say that it would be good, but I do not think that I should be patching category codes given my next-to-zero understanding of how it works.



---

archive/issue_events_164230.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-23T18:17:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164230"
}
```



---

archive/issue_events_164231.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-23T18:17:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164231"
}
```



---

archive/issue_comments_253499.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0de55d3765648006a85599140bfba83d175be8f2\">0de55d3</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr></table>\n",
    "created_at": "2015-04-23T22:41:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253499",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0de55d3765648006a85599140bfba83d175be8f2">0de55d3</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr></table>




---

archive/issue_comments_253500.json:
```json
{
    "body": "**Changing commit** from \"[7311911a110c5c3f0c30ab049dbaf66df7e080c7](https://github.com/sagemath/sagetrac-mirror/commit/7311911a110c5c3f0c30ab049dbaf66df7e080c7)\" to \"[0de55d3765648006a85599140bfba83d175be8f2](https://github.com/sagemath/sagetrac-mirror/commit/0de55d3765648006a85599140bfba83d175be8f2)\".",
    "created_at": "2015-04-23T22:41:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7311911a110c5c3f0c30ab049dbaf66df7e080c7](https://github.com/sagemath/sagetrac-mirror/commit/7311911a110c5c3f0c30ab049dbaf66df7e080c7)" to "[0de55d3765648006a85599140bfba83d175be8f2](https://github.com/sagemath/sagetrac-mirror/commit/0de55d3765648006a85599140bfba83d175be8f2)".



---

archive/issue_events_164232.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-23T23:05:32Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "rename": {
        "from": "cardinality and is_finite methods for CartesianProduct",
        "to": "enhanced sets and cartesian products"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164232"
}
```



---

archive/issue_comments_253501.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,15 +1,19 @@\n-We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`\n-and `cardinality`.\n+We implement several missing features of sets, enumerated sets and their cartesian products.\n \n+We add methods `is_empty` and `is_finite` to all sets.\n \n-For example, the following was hanging\n+We implement most of the methods for cartesian products of sets and enumerated sets (cardinality, rank/unrank, iteration).\n+\n+For example, all commands below were hanging\n \n ```\n-sage: F = Permutations(10)\n-sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()\n-True\n-sage: cartesian_product([F, F]).is_finite()\n-True\n-sage: cartesian_product([F, F]).cardinality()\n-13168189440000\n+sage: C = cartesian_product([Permutations(7), Permutations(9)])\n+sage: C.cardinality()\n+1828915200\n+sage: C.unrank(143872745)\n+([1, 5, 3, 6, 2, 4, 7], [5, 3, 2, 4, 7, 8, 9, 6, 1])\n+sage: C.rank(_)\n+143872745\n+sage: C.random_element()   # random\n+([4, 2, 6, 7, 1, 3, 5], [4, 7, 2, 8, 6, 3, 9, 5, 1])\n ```\n``````\n",
    "created_at": "2015-04-23T23:05:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253501",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,15 +1,19 @@
-We implement two missing methods in `sage.sets.cartesian_product.CartesianProduct`: `is_finite`
-and `cardinality`.
+We implement several missing features of sets, enumerated sets and their cartesian products.
 
+We add methods `is_empty` and `is_finite` to all sets.
 
-For example, the following was hanging
+We implement most of the methods for cartesian products of sets and enumerated sets (cardinality, rank/unrank, iteration).
+
+For example, all commands below were hanging
 
 ```
-sage: F = Permutations(10)
-sage: cartesian_product([ZZ, Set(), ZZ]).is_finite()
-True
-sage: cartesian_product([F, F]).is_finite()
-True
-sage: cartesian_product([F, F]).cardinality()
-13168189440000
+sage: C = cartesian_product([Permutations(7), Permutations(9)])
+sage: C.cardinality()
+1828915200
+sage: C.unrank(143872745)
+([1, 5, 3, 6, 2, 4, 7], [5, 3, 2, 4, 7, 8, 9, 6, 1])
+sage: C.rank(_)
+143872745
+sage: C.random_element()   # random
+([4, 2, 6, 7, 1, 3, 5], [4, 7, 2, 8, 6, 3, 9, 5, 1])
 ```
``````




---

archive/issue_comments_253502.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f\">b2e9e75</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr></table>\n",
    "created_at": "2015-04-23T23:06:21Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253502",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f">b2e9e75</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr></table>




---

archive/issue_comments_253503.json:
```json
{
    "body": "**Changing commit** from \"[0de55d3765648006a85599140bfba83d175be8f2](https://github.com/sagemath/sagetrac-mirror/commit/0de55d3765648006a85599140bfba83d175be8f2)\" to \"[b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f](https://github.com/sagemath/sagetrac-mirror/commit/b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f)\".",
    "created_at": "2015-04-23T23:06:21Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253503",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0de55d3765648006a85599140bfba83d175be8f2](https://github.com/sagemath/sagetrac-mirror/commit/0de55d3765648006a85599140bfba83d175be8f2)" to "[b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f](https://github.com/sagemath/sagetrac-mirror/commit/b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f)".



---

archive/issue_events_164233.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-23T23:06:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164233"
}
```



---

archive/issue_events_164234.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-23T23:06:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164234"
}
```



---

archive/issue_comments_253504.json:
```json
{
    "body": "**Changing commit** from \"[b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f](https://github.com/sagemath/sagetrac-mirror/commit/b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f)\" to \"[a55d69f2b28da2fd4045e303582e3a3d57aebb50](https://github.com/sagemath/sagetrac-mirror/commit/a55d69f2b28da2fd4045e303582e3a3d57aebb50)\".",
    "created_at": "2015-04-23T23:57:53Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253504",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f](https://github.com/sagemath/sagetrac-mirror/commit/b2e9e75805c8e1e80acc0f5b4fdf4d142a85fb4f)" to "[a55d69f2b28da2fd4045e303582e3a3d57aebb50](https://github.com/sagemath/sagetrac-mirror/commit/a55d69f2b28da2fd4045e303582e3a3d57aebb50)".



---

archive/issue_comments_253505.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a55d69f2b28da2fd4045e303582e3a3d57aebb50\">a55d69f</a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr></table>\n",
    "created_at": "2015-04-23T23:57:53Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253505",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a55d69f2b28da2fd4045e303582e3a3d57aebb50">a55d69f</a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr></table>




---

archive/issue_comments_253506.json:
```json
{
    "body": "**Changing commit** from \"[a55d69f2b28da2fd4045e303582e3a3d57aebb50](https://github.com/sagemath/sagetrac-mirror/commit/a55d69f2b28da2fd4045e303582e3a3d57aebb50)\" to \"[2eff7ab551257766a43b3d9fa7b1e637b07188b0](https://github.com/sagemath/sagetrac-mirror/commit/2eff7ab551257766a43b3d9fa7b1e637b07188b0)\".",
    "created_at": "2015-04-24T00:05:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253506",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a55d69f2b28da2fd4045e303582e3a3d57aebb50](https://github.com/sagemath/sagetrac-mirror/commit/a55d69f2b28da2fd4045e303582e3a3d57aebb50)" to "[2eff7ab551257766a43b3d9fa7b1e637b07188b0](https://github.com/sagemath/sagetrac-mirror/commit/2eff7ab551257766a43b3d9fa7b1e637b07188b0)".



---

archive/issue_comments_253507.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2eff7ab551257766a43b3d9fa7b1e637b07188b0\">2eff7ab</a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr></table>\n",
    "created_at": "2015-04-24T00:05:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253507",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2eff7ab551257766a43b3d9fa7b1e637b07188b0">2eff7ab</a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr></table>




---

archive/issue_comments_253508.json:
```json
{
    "body": "<a id='comment:15'></a>\nWasn't there just discussion about avoiding `self` in docstrings at sage-devel? I.e. \"Return the cardinality of self.\" should be \"of this set\" or \"of this cartesian product\".\n\nCode seems to work. Just to make sure: should `cartesian_product([ZZ, ZZ]).unrank(42)` work like for example `ZZ.unrank(42)` works?",
    "created_at": "2015-04-24T06:26:03Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253508",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:15'></a>
Wasn't there just discussion about avoiding `self` in docstrings at sage-devel? I.e. "Return the cardinality of self." should be "of this set" or "of this cartesian product".

Code seems to work. Just to make sure: should `cartesian_product([ZZ, ZZ]).unrank(42)` work like for example `ZZ.unrank(42)` works?



---

archive/issue_comments_253509.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [jmantysalo](#comment%3A15):\n> Wasn't there just discussion about avoiding `self` in docstrings at sage-devel? I.e. \"Return the cardinality of self.\" should be \"of this set\" or \"of this cartesian product\".\n\n\nI can do that.\n \n> Code seems to work. Just to make sure: should `cartesian_product([ZZ, ZZ]).unrank(42)` work like for example `ZZ.unrank(42)` works?\n\n\nNo. The order of enumeration of a cartesian products is lexicographic. So a cartesian product of infinite enumerated sets should even **not** be an enumerated set!",
    "created_at": "2015-04-24T08:40:07Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253509",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
Replying to [jmantysalo](#comment%3A15):
> Wasn't there just discussion about avoiding `self` in docstrings at sage-devel? I.e. "Return the cardinality of self." should be "of this set" or "of this cartesian product".


I can do that.
 
> Code seems to work. Just to make sure: should `cartesian_product([ZZ, ZZ]).unrank(42)` work like for example `ZZ.unrank(42)` works?


No. The order of enumeration of a cartesian products is lexicographic. So a cartesian product of infinite enumerated sets should even **not** be an enumerated set!



---

archive/issue_comments_253510.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [jmantysalo](#comment%3A15):\n> Wasn't there just discussion about avoiding `self` in docstrings at sage-devel? I.e. \"Return the cardinality of self.\" should be \"of this set\" or \"of this cartesian product\".\n\n\nMy understanding of the discussion was that ``self`` should not be listed in the INPUT section (I actually need to argue further in the thread for I don't necessarily agree). I don't remember it being a problem elsewhere in the docstring. But I need to reread the thread.\n\nThat being said, \"of this cartesian product\" is a bit redundant but it reads nicely to remind the user of the context. So this can be a good idea here.\n\nCheers,\n                                        Nicolas",
    "created_at": "2015-04-24T08:49:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253510",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'></a>
Replying to [jmantysalo](#comment%3A15):
> Wasn't there just discussion about avoiding `self` in docstrings at sage-devel? I.e. "Return the cardinality of self." should be "of this set" or "of this cartesian product".


My understanding of the discussion was that ``self`` should not be listed in the INPUT section (I actually need to argue further in the thread for I don't necessarily agree). I don't remember it being a problem elsewhere in the docstring. But I need to reread the thread.

That being said, "of this cartesian product" is a bit redundant but it reads nicely to remind the user of the context. So this can be a good idea here.

Cheers,
                                        Nicolas



---

archive/issue_comments_253511.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [vdelecroix](#comment%3A16):\n\n> No. The order of enumeration of a cartesian products is lexicographic. So a cartesian product of infinite enumerated sets should even **not** be an enumerated set!\n\n\nOK. And after the patch at least `for x in cartesian_product([ZZ,ZZ])` gives an error.",
    "created_at": "2015-04-24T09:19:52Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253511",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:18'></a>
Replying to [vdelecroix](#comment%3A16):

> No. The order of enumeration of a cartesian products is lexicographic. So a cartesian product of infinite enumerated sets should even **not** be an enumerated set!


OK. And after the patch at least `for x in cartesian_product([ZZ,ZZ])` gives an error.



---

archive/issue_comments_253512.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [jmantysalo](#comment%3A18):\n> Replying to [vdelecroix](#comment%3A16):\n> \n> > No. The order of enumeration of a cartesian products is lexicographic. So a cartesian product of infinite enumerated sets should even **not** be an enumerated set!\n  \n> \n> OK. And after the patch at least `for x in cartesian_product([ZZ,ZZ])` gives an error.\n\n\nI will add it to the doc with a comment.\n\nThough, for infinite sets, we can choose an other order for the enumeration. If so, we can put back this method and implement rank/unrank.",
    "created_at": "2015-04-24T09:24:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253512",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>
Replying to [jmantysalo](#comment%3A18):
> Replying to [vdelecroix](#comment%3A16):
> 
> > No. The order of enumeration of a cartesian products is lexicographic. So a cartesian product of infinite enumerated sets should even **not** be an enumerated set!
  
> 
> OK. And after the patch at least `for x in cartesian_product([ZZ,ZZ])` gives an error.


I will add it to the doc with a comment.

Though, for infinite sets, we can choose an other order for the enumeration. If so, we can put back this method and implement rank/unrank.



---

archive/issue_comments_253513.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/077f5dade93dc826563b4c0702eba6fdd6b8752e\">077f5da</a></td><td><code>Trac 18290: better doc + remove duplications</code></td></tr></table>\n",
    "created_at": "2015-04-24T09:43:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253513",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/077f5dade93dc826563b4c0702eba6fdd6b8752e">077f5da</a></td><td><code>Trac 18290: better doc + remove duplications</code></td></tr></table>




---

archive/issue_comments_253514.json:
```json
{
    "body": "**Changing commit** from \"[2eff7ab551257766a43b3d9fa7b1e637b07188b0](https://github.com/sagemath/sagetrac-mirror/commit/2eff7ab551257766a43b3d9fa7b1e637b07188b0)\" to \"[077f5dade93dc826563b4c0702eba6fdd6b8752e](https://github.com/sagemath/sagetrac-mirror/commit/077f5dade93dc826563b4c0702eba6fdd6b8752e)\".",
    "created_at": "2015-04-24T09:43:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253514",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2eff7ab551257766a43b3d9fa7b1e637b07188b0](https://github.com/sagemath/sagetrac-mirror/commit/2eff7ab551257766a43b3d9fa7b1e637b07188b0)" to "[077f5dade93dc826563b4c0702eba6fdd6b8752e](https://github.com/sagemath/sagetrac-mirror/commit/077f5dade93dc826563b4c0702eba6fdd6b8752e)".



---

archive/issue_comments_253515.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af59b416dde92020daf87f1ad4f83af92a8127ad\">af59b41</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-04-24T16:36:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253515",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af59b416dde92020daf87f1ad4f83af92a8127ad">af59b41</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>




---

archive/issue_comments_253516.json:
```json
{
    "body": "**Changing commit** from \"[077f5dade93dc826563b4c0702eba6fdd6b8752e](https://github.com/sagemath/sagetrac-mirror/commit/077f5dade93dc826563b4c0702eba6fdd6b8752e)\" to \"[af59b416dde92020daf87f1ad4f83af92a8127ad](https://github.com/sagemath/sagetrac-mirror/commit/af59b416dde92020daf87f1ad4f83af92a8127ad)\".",
    "created_at": "2015-04-24T16:36:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253516",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[077f5dade93dc826563b4c0702eba6fdd6b8752e](https://github.com/sagemath/sagetrac-mirror/commit/077f5dade93dc826563b4c0702eba6fdd6b8752e)" to "[af59b416dde92020daf87f1ad4f83af92a8127ad](https://github.com/sagemath/sagetrac-mirror/commit/af59b416dde92020daf87f1ad4f83af92a8127ad)".



---

archive/issue_comments_253517.json:
```json
{
    "body": "**Changing commit** from \"[af59b416dde92020daf87f1ad4f83af92a8127ad](https://github.com/sagemath/sagetrac-mirror/commit/af59b416dde92020daf87f1ad4f83af92a8127ad)\" to \"[d5e9dde8502e52ce78249128502e80ccecef32de](https://github.com/sagemath/sagetrac-mirror/commit/d5e9dde8502e52ce78249128502e80ccecef32de)\".",
    "created_at": "2015-05-03T19:19:02Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253517",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[af59b416dde92020daf87f1ad4f83af92a8127ad](https://github.com/sagemath/sagetrac-mirror/commit/af59b416dde92020daf87f1ad4f83af92a8127ad)" to "[d5e9dde8502e52ce78249128502e80ccecef32de](https://github.com/sagemath/sagetrac-mirror/commit/d5e9dde8502e52ce78249128502e80ccecef32de)".



---

archive/issue_comments_253518.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98d3e810552716e90e69abb2290292449e52b6ad\">98d3e81</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d81c6a478d417008a8a5fbf6276f5876f8cf35e5\">d81c6a4</a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c92493117de8e7ed2a1a79e21a87c0389c5df445\">c924931</a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5e9dde8502e52ce78249128502e80ccecef32de\">d5e9dde</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-05-03T19:19:02Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98d3e810552716e90e69abb2290292449e52b6ad">98d3e81</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d81c6a478d417008a8a5fbf6276f5876f8cf35e5">d81c6a4</a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c92493117de8e7ed2a1a79e21a87c0389c5df445">c924931</a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5e9dde8502e52ce78249128502e80ccecef32de">d5e9dde</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>




---

archive/issue_comments_253519.json:
```json
{
    "body": "<a id='comment:23'></a>\nRebased on sage-6.7.beta3\n\nVincent",
    "created_at": "2015-05-03T19:19:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253519",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'></a>
Rebased on sage-6.7.beta3

Vincent



---

archive/issue_comments_253520.json:
```json
{
    "body": "**Changing commit** from \"[d5e9dde8502e52ce78249128502e80ccecef32de](https://github.com/sagemath/sagetrac-mirror/commit/d5e9dde8502e52ce78249128502e80ccecef32de)\" to \"[58cf1d14f081a80f33ad1d25ff83ece40dfd6f27](https://github.com/sagemath/sagetrac-mirror/commit/58cf1d14f081a80f33ad1d25ff83ece40dfd6f27)\".",
    "created_at": "2015-05-11T11:05:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d5e9dde8502e52ce78249128502e80ccecef32de](https://github.com/sagemath/sagetrac-mirror/commit/d5e9dde8502e52ce78249128502e80ccecef32de)" to "[58cf1d14f081a80f33ad1d25ff83ece40dfd6f27](https://github.com/sagemath/sagetrac-mirror/commit/58cf1d14f081a80f33ad1d25ff83ece40dfd6f27)".



---

archive/issue_comments_253521.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10a0e97897b7fe0692e7130bcb377014d899610f\">10a0e97</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3ed5af691e5b38f4d1624ec9df519e291fe85e2\">f3ed5af</a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0a282e3240243882d059c546f3624c24f26017a\">a0a282e</a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d0274b185c329af9b955e37df1cdb07df56a46d\">6d0274b</a></td><td><code>Trac 18290: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58cf1d14f081a80f33ad1d25ff83ece40dfd6f27\">58cf1d1</a></td><td><code>Trac 18290: docstring for functions written with im_func</code></td></tr></table>\n",
    "created_at": "2015-05-11T11:05:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253521",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10a0e97897b7fe0692e7130bcb377014d899610f">10a0e97</a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3ed5af691e5b38f4d1624ec9df519e291fe85e2">f3ed5af</a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0a282e3240243882d059c546f3624c24f26017a">a0a282e</a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d0274b185c329af9b955e37df1cdb07df56a46d">6d0274b</a></td><td><code>Trac 18290: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58cf1d14f081a80f33ad1d25ff83ece40dfd6f27">58cf1d1</a></td><td><code>Trac 18290: docstring for functions written with im_func</code></td></tr></table>




---

archive/issue_comments_253522.json:
```json
{
    "body": "<a id='comment:25'></a>\nRebased on sage-6.7.beta4 + docstring for the overriden functions in cartesian products of finite enumerated sets.",
    "created_at": "2015-05-11T11:07:13Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253522",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>
Rebased on sage-6.7.beta4 + docstring for the overriden functions in cartesian products of finite enumerated sets.



---

archive/issue_comments_253523.json:
```json
{
    "body": "<a id='comment:26'></a>\nIf I do\n\n```\nclass A:\n    f = B.f.im_func\n    \"\"\"\n    Some doctests\n\n    TESTS::\n\n       sage: 1+1\n       2\n    \"\"\"\n```\nthis is not considered as a doctest. But if instead I do\n\n```\nclass A:\n    my_string = (\n        r\"\"\"\n        TESTS::\n\n            sage: print \"Is this a test?\"\n            Of course not\n        \"\"\"\n    )\n```\nthen it is considered as a doctest!!\n\nThe algorithm used to detect doctests is clearly wrong!\n\nVincent",
    "created_at": "2015-05-11T12:22:05Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253523",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
If I do

```
class A:
    f = B.f.im_func
    """
    Some doctests

    TESTS::

       sage: 1+1
       2
    """
```
this is not considered as a doctest. But if instead I do

```
class A:
    my_string = (
        r"""
        TESTS::

            sage: print "Is this a test?"
            Of course not
        """
    )
```
then it is considered as a doctest!!

The algorithm used to detect doctests is clearly wrong!

Vincent



---

archive/issue_comments_253524.json:
```json
{
    "body": "<a id='comment:27'></a>\nWhat should I do for the sake of that ticket?",
    "created_at": "2015-05-11T12:24:44Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253524",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
What should I do for the sake of that ticket?



---

archive/issue_comments_253525.json:
```json
{
    "body": "<a id='comment:28'></a>\nHire an engineer.",
    "created_at": "2015-05-11T12:53:52Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253525",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
Hire an engineer.



---

archive/issue_comments_253526.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18290)\" to \"[u/nthiery/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/18290)\".",
    "created_at": "2015-05-12T15:59:08Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253526",
    "user": "https://github.com/nthiery"
}
```

**Changing branch** from "[u/vdelecroix/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18290)" to "[u/nthiery/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/18290)".



---

archive/issue_comments_253527.json:
```json
{
    "body": "**Changing commit** from \"[58cf1d14f081a80f33ad1d25ff83ece40dfd6f27](https://github.com/sagemath/sagetrac-mirror/commit/58cf1d14f081a80f33ad1d25ff83ece40dfd6f27)\" to \"[c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933](https://github.com/sagemath/sagetrac-mirror/commit/c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933)\".",
    "created_at": "2015-05-12T16:18:41Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253527",
    "user": "https://github.com/nthiery"
}
```

**Changing commit** from "[58cf1d14f081a80f33ad1d25ff83ece40dfd6f27](https://github.com/sagemath/sagetrac-mirror/commit/58cf1d14f081a80f33ad1d25ff83ece40dfd6f27)" to "[c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933](https://github.com/sagemath/sagetrac-mirror/commit/c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933)".



---

archive/issue_comments_253528.json:
```json
{
    "body": "<a id='comment:30'></a>\n\n```\n  - EnumeratedSets.CartesianProducts.ParentMethods.__iter__\n    - Description of the iterator\n    - Use is_finite or in Sets.Finite? Or put the thing in CartesianProducts.Finite?\n  - unrank: ValueError or IndexError?\n  - Magmas.FinitelyGenerated.Unital.ParentMethods.is_empty:\n    could be an assignment for consistency?\n  - Groups.CartesianProducts.order:\n    could be an assignment for consistency?\n  - Sets.ParentMethods.random_element: use an abstract method + real doc\n  - random_element & friends: do we want to make a tuple before passing\n    the data to cartesian_product_of_elements?\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933\">c5d6006</a></td><td><code>18290: proofreading</code></td></tr></table>\n",
    "created_at": "2015-05-12T16:18:41Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253528",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:30'></a>

```
  - EnumeratedSets.CartesianProducts.ParentMethods.__iter__
    - Description of the iterator
    - Use is_finite or in Sets.Finite? Or put the thing in CartesianProducts.Finite?
  - unrank: ValueError or IndexError?
  - Magmas.FinitelyGenerated.Unital.ParentMethods.is_empty:
    could be an assignment for consistency?
  - Groups.CartesianProducts.order:
    could be an assignment for consistency?
  - Sets.ParentMethods.random_element: use an abstract method + real doc
  - random_element & friends: do we want to make a tuple before passing
    the data to cartesian_product_of_elements?
```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933">c5d6006</a></td><td><code>18290: proofreading</code></td></tr></table>




---

archive/issue_comments_253529.json:
```json
{
    "body": "<a id='comment:31'></a>\nAs we discussed on the phone with Nicolas: I removed the abstract methods: `is_empty`, `is_finite` and `random_element` from `Sets`. For the first two, we might not want to call `cardinality` as this can easily lead to loop (e.g. #18400). As a rationale: a less specialized method should not try to call a more specialized one. For random_element: adding an optional abstract method would pollute the namespace.\n\n- unrank: `IndexError` is what is uniformly in `categories/*` and also in `combinat/cartesian_product`.\n- I moved is_empty from `Magmas.FinitelyGenerated.Unital.ParentMethods.is_empty` to `Magmas.Unital.is_empty` and everything looks fine\n- random_element: tuple removed\n\nI will add a second commit for `order` vs `cardinality` in `Groups`.\n\nVincent\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3\">6389ff2</a></td><td><code>Trac 18290: reviewer comments</code></td></tr></table>\n",
    "created_at": "2015-05-12T21:10:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253529",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>
As we discussed on the phone with Nicolas: I removed the abstract methods: `is_empty`, `is_finite` and `random_element` from `Sets`. For the first two, we might not want to call `cardinality` as this can easily lead to loop (e.g. #18400). As a rationale: a less specialized method should not try to call a more specialized one. For random_element: adding an optional abstract method would pollute the namespace.

- unrank: `IndexError` is what is uniformly in `categories/*` and also in `combinat/cartesian_product`.
- I moved is_empty from `Magmas.FinitelyGenerated.Unital.ParentMethods.is_empty` to `Magmas.Unital.is_empty` and everything looks fine
- random_element: tuple removed

I will add a second commit for `order` vs `cardinality` in `Groups`.

Vincent

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3">6389ff2</a></td><td><code>Trac 18290: reviewer comments</code></td></tr></table>




---

archive/issue_comments_253530.json:
```json
{
    "body": "**Changing branch** from \"[u/nthiery/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/18290)\" to \"[public/18290](https://github.com/sagemath/sagetrac-mirror/tree/public/18290)\".",
    "created_at": "2015-05-12T21:10:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253530",
    "user": "https://github.com/videlec"
}
```

**Changing branch** from "[u/nthiery/18290](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/18290)" to "[public/18290](https://github.com/sagemath/sagetrac-mirror/tree/public/18290)".



---

archive/issue_comments_253531.json:
```json
{
    "body": "**Changing commit** from \"[c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933](https://github.com/sagemath/sagetrac-mirror/commit/c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933)\" to \"[6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3](https://github.com/sagemath/sagetrac-mirror/commit/6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3)\".",
    "created_at": "2015-05-12T21:10:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253531",
    "user": "https://github.com/videlec"
}
```

**Changing commit** from "[c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933](https://github.com/sagemath/sagetrac-mirror/commit/c5d6006e918e9be9078d3ac1f16cbbdbe3aa8933)" to "[6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3](https://github.com/sagemath/sagetrac-mirror/commit/6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3)".



---

archive/issue_comments_253532.json:
```json
{
    "body": "<a id='comment:32'></a>\nHello,\n\nFor `cardinality` vs `order` here is the list of files I had to change:\n\n- algebras/quatalg/quaternion_algebra.py\n- algebras/steenrod/steenrod_algebra.py\n- groups/abelian_gps/abelian_group.py\n- groups/abelian_gps/dual_abelian_group.py\n- groups/additive_abelian/additive_abelian_group.py\n- groups/group.pyx\n- groups/indexed_free_group.py\n- groups/matrix_gps/coxeter_group.py\n- groups/old.pyx\n- groups/pari_group.py\n- groups/perm_gps/permgroup.py\n- groups/semimonomial_transformations/semimonomial_transformation_group.py\n- libs/coxeter3/coxeter.pyx\n- modular/abvar/finite_subgroup.py\n- modular/abvar/torsion_subgroup.py\n- modular/arithgroup/arithgroup_generic.py\n- modular/dirichlet.py\n- rings/contfrac.py\n- rings/finite_rings/finite_field_base.pyx\n- rings/finite_rings/finite_field_ext_pari.py\n- rings/finite_rings/finite_field_givaro.py\n- rings/finite_rings/finite_field_ntl_gf2e.py\n- rings/finite_rings/finite_field_prime_modn.py\n- rings/finite_rings/homset.py\n- rings/finite_rings/integer_mod_ring.py\n- rings/integer_ring.pyx\n- rings/number_field/galois_group.py\n- rings/number_field/morphism.py\n- rings/number_field/number_field.py\n- rings/polynomial/infinite_polynomial_ring.py\n- rings/polynomial/polynomial_quotient_ring.py\n- rings/qqbar.py\n- rings/rational_field.py\n- rings/ring.pyx\n\nIn particular it concerns not only groups but:\n- (multiplicative) groups\n- additive (Abelian) groups\n- rings\n\nAt least Sage is able to start but I am not sure it fits exactly the purpose of the ticket. If you do not mind I will push that commit in #18410.\n\nVincent",
    "created_at": "2015-05-12T22:13:46Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253532",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>
Hello,

For `cardinality` vs `order` here is the list of files I had to change:

- algebras/quatalg/quaternion_algebra.py
- algebras/steenrod/steenrod_algebra.py
- groups/abelian_gps/abelian_group.py
- groups/abelian_gps/dual_abelian_group.py
- groups/additive_abelian/additive_abelian_group.py
- groups/group.pyx
- groups/indexed_free_group.py
- groups/matrix_gps/coxeter_group.py
- groups/old.pyx
- groups/pari_group.py
- groups/perm_gps/permgroup.py
- groups/semimonomial_transformations/semimonomial_transformation_group.py
- libs/coxeter3/coxeter.pyx
- modular/abvar/finite_subgroup.py
- modular/abvar/torsion_subgroup.py
- modular/arithgroup/arithgroup_generic.py
- modular/dirichlet.py
- rings/contfrac.py
- rings/finite_rings/finite_field_base.pyx
- rings/finite_rings/finite_field_ext_pari.py
- rings/finite_rings/finite_field_givaro.py
- rings/finite_rings/finite_field_ntl_gf2e.py
- rings/finite_rings/finite_field_prime_modn.py
- rings/finite_rings/homset.py
- rings/finite_rings/integer_mod_ring.py
- rings/integer_ring.pyx
- rings/number_field/galois_group.py
- rings/number_field/morphism.py
- rings/number_field/number_field.py
- rings/polynomial/infinite_polynomial_ring.py
- rings/polynomial/polynomial_quotient_ring.py
- rings/qqbar.py
- rings/rational_field.py
- rings/ring.pyx

In particular it concerns not only groups but:
- (multiplicative) groups
- additive (Abelian) groups
- rings

At least Sage is able to start but I am not sure it fits exactly the purpose of the ticket. If you do not mind I will push that commit in #18410.

Vincent



---

archive/issue_comments_253533.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [vdelecroix](#comment%3A32):\n> For `cardinality` vs `order` here is the list of files I had to change:\n> ...\n\n\nThanks!\n\n> At least Sage is able to start but I am not sure it fits exactly the purpose of the ticket. If you do not mind I will push that commit in #18410.\n\n\n+1",
    "created_at": "2015-05-13T05:31:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253533",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:33'></a>
Replying to [vdelecroix](#comment%3A32):
> For `cardinality` vs `order` here is the list of files I had to change:
> ...


Thanks!

> At least Sage is able to start but I am not sure it fits exactly the purpose of the ticket. If you do not mind I will push that commit in #18410.


+1



---

archive/issue_comments_253534.json:
```json
{
    "body": "<a id='comment:34'></a>\n> As a rationale: a less specialized method should not try to call a more specialized one. \n\n\nAre the 'new rationales' just made up when we need them, or should we stop having `.cardinality()` call `__iter__`, as it is exactly the same pattern?\n\nNathann",
    "created_at": "2015-05-13T06:33:41Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253534",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>
> As a rationale: a less specialized method should not try to call a more specialized one. 


Are the 'new rationales' just made up when we need them, or should we stop having `.cardinality()` call `__iter__`, as it is exactly the same pattern?

Nathann



---

archive/issue_comments_253535.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [ncohen](#comment%3A34):\n> > As a rationale: a less specialized method should not try to call a more specialized one. \n\n> \n> Are the 'new rationales' just made up when we need them, or should we stop having `.cardinality()` call `__iter__`, as it is exactly the same pattern?\n\n\n;-) I agree with Nathann that it is perhaps not the best default. Though, let us keep it independent of this ticket. My motivation for the rationale was to avoid loops like\n\n- is_finite asks cardinality\n- cardinality asks is_finite before starting to iterate\n\n(which is exactly the problem with projective scheme).\n\nOn the other hand, there is sometimes nothing else to do than going through the list of elements to get the cardinality. And you know it: `sage.graphs.independent_sets.IndependentSets`.\n\nVincent",
    "created_at": "2015-05-13T06:44:56Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253535",
    "user": "https://github.com/videlec"
}
```

<a id='comment:35'></a>
Replying to [ncohen](#comment%3A34):
> > As a rationale: a less specialized method should not try to call a more specialized one. 

> 
> Are the 'new rationales' just made up when we need them, or should we stop having `.cardinality()` call `__iter__`, as it is exactly the same pattern?


;-) I agree with Nathann that it is perhaps not the best default. Though, let us keep it independent of this ticket. My motivation for the rationale was to avoid loops like

- is_finite asks cardinality
- cardinality asks is_finite before starting to iterate

(which is exactly the problem with projective scheme).

On the other hand, there is sometimes nothing else to do than going through the list of elements to get the cardinality. And you know it: `sage.graphs.independent_sets.IndependentSets`.

Vincent



---

archive/issue_comments_253536.json:
```json
{
    "body": "<a id='comment:36'></a>\n> On the other hand, there is sometimes nothing else to do than going through the list of elements to get the cardinality. And you know it: `sage.graphs.independent_sets.IndependentSets`.\n\n\nThe same goes for `is_empty`. Sometimes all you can do is run the enumeration.\n\nNathann",
    "created_at": "2015-05-13T06:49:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253536",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:36'></a>
> On the other hand, there is sometimes nothing else to do than going through the list of elements to get the cardinality. And you know it: `sage.graphs.independent_sets.IndependentSets`.


The same goes for `is_empty`. Sometimes all you can do is run the enumeration.

Nathann



---

archive/issue_comments_253537.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [ncohen](#comment%3A36):\n> > On the other hand, there is sometimes nothing else to do than going through the list of elements to get the cardinality. And you know it: `sage.graphs.independent_sets.IndependentSets`.\n\n> \n> The same goes for `is_empty`. Sometimes all you can do is run the enumeration.\n\n\nThis is exactly what I did:\n\n```\nclass EnumeratedSets:\n    class ParentMethods:\n        def is_empty(self):\n            try:\n                iter(self).next()\n            except StopIteration:\n                return False\n            else:\n                return True\n```",
    "created_at": "2015-05-13T06:55:04Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253537",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>
Replying to [ncohen](#comment%3A36):
> > On the other hand, there is sometimes nothing else to do than going through the list of elements to get the cardinality. And you know it: `sage.graphs.independent_sets.IndependentSets`.

> 
> The same goes for `is_empty`. Sometimes all you can do is run the enumeration.


This is exactly what I did:

```
class EnumeratedSets:
    class ParentMethods:
        def is_empty(self):
            try:
                iter(self).next()
            except StopIteration:
                return False
            else:
                return True
```



---

archive/issue_comments_253538.json:
```json
{
    "body": "<a id='comment:38'></a>\nIn your earlier comment you explicitly said that you had removed the methods.",
    "created_at": "2015-05-13T06:57:44Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253538",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:38'></a>
In your earlier comment you explicitly said that you had removed the methods.



---

archive/issue_comments_253539.json:
```json
{
    "body": "<a id='comment:39'></a>\nIsn't a semigroup a magma too ? `O_o`",
    "created_at": "2015-05-13T07:03:51Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253539",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:39'></a>
Isn't a semigroup a magma too ? `O_o`



---

archive/issue_comments_253540.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [ncohen](#comment%3A38):\n> In your earlier comment you explicitly said that you had removed the methods.\n\n\nI removed it at the level of `Sets` where the implementation was `return self.cardinality() == 0`. Not at the level of enumerated sets. So most parents will have a `is_empty`.",
    "created_at": "2015-05-13T07:07:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253540",
    "user": "https://github.com/videlec"
}
```

<a id='comment:40'></a>
Replying to [ncohen](#comment%3A38):
> In your earlier comment you explicitly said that you had removed the methods.


I removed it at the level of `Sets` where the implementation was `return self.cardinality() == 0`. Not at the level of enumerated sets. So most parents will have a `is_empty`.



---

archive/issue_comments_253541.json:
```json
{
    "body": "<a id='comment:41'></a>\nReplying to [ncohen](#comment%3A39):\n> Isn't a semigroup a magma too ? `O_o`\n\n\nIt is!\n\n```\nsage: Semigroups().super_categories()\n[Category of magmas]\n```\nDid you found something strange?",
    "created_at": "2015-05-13T07:07:56Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253541",
    "user": "https://github.com/videlec"
}
```

<a id='comment:41'></a>
Replying to [ncohen](#comment%3A39):
> Isn't a semigroup a magma too ? `O_o`


It is!

```
sage: Semigroups().super_categories()
[Category of magmas]
```
Did you found something strange?



---

archive/issue_comments_253542.json:
```json
{
    "body": "<a id='comment:42'></a>\nI thought for a second that you had defined `is_empty` simultaneously for magmas and semigroups, but apparently I was wrong.",
    "created_at": "2015-05-13T07:11:50Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253542",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:42'></a>
I thought for a second that you had defined `is_empty` simultaneously for magmas and semigroups, but apparently I was wrong.



---

archive/issue_comments_253543.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a36b0f2960cc019e6267f47cd4f943788f54d220\">a36b0f2</a></td><td><code>18290: proofreading</code></td></tr></table>\n",
    "created_at": "2015-05-13T07:40:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a36b0f2960cc019e6267f47cd4f943788f54d220">a36b0f2</a></td><td><code>18290: proofreading</code></td></tr></table>




---

archive/issue_comments_253544.json:
```json
{
    "body": "**Changing commit** from \"[6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3](https://github.com/sagemath/sagetrac-mirror/commit/6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3)\" to \"[a36b0f2960cc019e6267f47cd4f943788f54d220](https://github.com/sagemath/sagetrac-mirror/commit/a36b0f2960cc019e6267f47cd4f943788f54d220)\".",
    "created_at": "2015-05-13T07:40:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3](https://github.com/sagemath/sagetrac-mirror/commit/6389ff27cbcfcc1d51f2b6ad346c79ccd7eebbe3)" to "[a36b0f2960cc019e6267f47cd4f943788f54d220](https://github.com/sagemath/sagetrac-mirror/commit/a36b0f2960cc019e6267f47cd4f943788f54d220)".



---

archive/issue_comments_253545.json:
```json
{
    "body": "<a id='comment:44'></a>\nI have been through Vincent's last commit. I pushed too minor fixes. I have only a couple points I am wondering about:\n\n- Do we want to import ZZ in sage.sets.cartesian_product? Can we do a local import or lazy import? Or is it just ok?\n\n- In `CartesianProduct._cartesian_product_of_elements`, it would be semantically equivalent to use `zip` rather than `iterator.izip` since we anyway build a tuple right after. Just curious, is one faster than the other in practice (it's a tradeoff between building a list for nothing and using another layer of iterators)?\n\n- Please update the documentation of `Sets.CartesianProducts.ParentMethods._cartesian_product_of_elements` to specify that it should accept any iterable.\n\n- _sets_keys(): do we really want an `IntegerRange` rather than a `range`? I would imagine `IntegerRange` could be faster for containment testing and slower for iteration, so again a tradeoff.\n\nIn any cases, I'll be busy all day and don't have a strong opinion on either of the above points. So please make the choice you feel right. And then I consider this as good to go.\n\nThanks Vincent for all the work!",
    "created_at": "2015-05-13T07:50:52Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253545",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:44'></a>
I have been through Vincent's last commit. I pushed too minor fixes. I have only a couple points I am wondering about:

- Do we want to import ZZ in sage.sets.cartesian_product? Can we do a local import or lazy import? Or is it just ok?

- In `CartesianProduct._cartesian_product_of_elements`, it would be semantically equivalent to use `zip` rather than `iterator.izip` since we anyway build a tuple right after. Just curious, is one faster than the other in practice (it's a tradeoff between building a list for nothing and using another layer of iterators)?

- Please update the documentation of `Sets.CartesianProducts.ParentMethods._cartesian_product_of_elements` to specify that it should accept any iterable.

- _sets_keys(): do we really want an `IntegerRange` rather than a `range`? I would imagine `IntegerRange` could be faster for containment testing and slower for iteration, so again a tradeoff.

In any cases, I'll be busy all day and don't have a strong opinion on either of the above points. So please make the choice you feel right. And then I consider this as good to go.

Thanks Vincent for all the work!



---

archive/issue_comments_253546.json:
```json
{
    "body": "**Changing commit** from \"[a36b0f2960cc019e6267f47cd4f943788f54d220](https://github.com/sagemath/sagetrac-mirror/commit/a36b0f2960cc019e6267f47cd4f943788f54d220)\" to \"[3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7](https://github.com/sagemath/sagetrac-mirror/commit/3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7)\".",
    "created_at": "2015-05-13T08:46:19Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253546",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a36b0f2960cc019e6267f47cd4f943788f54d220](https://github.com/sagemath/sagetrac-mirror/commit/a36b0f2960cc019e6267f47cd4f943788f54d220)" to "[3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7](https://github.com/sagemath/sagetrac-mirror/commit/3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7)".



---

archive/issue_comments_253547.json:
```json
{
    "body": "<a id='comment:45'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7\">3cbe605</a></td><td><code>Trac 18290: specifications in _cartesian_product_of_elements</code></td></tr></table>\n",
    "created_at": "2015-05-13T08:46:19Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253547",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7">3cbe605</a></td><td><code>Trac 18290: specifications in _cartesian_product_of_elements</code></td></tr></table>




---

archive/issue_comments_253548.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [nthiery](#comment%3A44):\n> I have been through Vincent's last commit. I pushed too minor fixes. I have only a couple points I am wondering about:\n> \n> - Do we want to import ZZ in sage.sets.cartesian_product? Can we do a local import or lazy import? Or is it just ok?\n\n\nI think this is fine. I would find it strange to import it in `sage.categories.*` but `sage.sets.cartesian_product` is lazily imported.\n\n> - In `CartesianProduct._cartesian_product_of_elements`, it would be semantically equivalent to use `zip` rather than `iterator.izip` since we anyway build a tuple right after. Just curious, is one faster than the other in practice (it's a tradeoff between building a list for nothing and using another layer of iterators)?\n\n\nHere you are not building the list from the pairs `(c,x)` but by calling `c(x)`. So I guess that `izip` is always better. From the timing it is very similar and `izip` gets much better as the size of the lists increase. (moreover in `Python 3` the `izip` is just deleted and `zip` becomes `izip`).\n\n> - Please update the documentation of `Sets.CartesianProducts.ParentMethods._cartesian_product_of_elements` to specify that it should accept any iterable.\n\n\ndone.\n\n> - _sets_keys(): do we really want an `IntegerRange` rather than a `range`? I would imagine `IntegerRange` could be faster for containment testing and slower for iteration, so again a tradeoff.\n\n\nIt is **much** faster for containment test and it is currently the only way it is used in `sage.sets.cartesian_product` (the method `cartesian_projection`). If the iteration is slower, then we should just make it faster in `IntegerRange`!\n\n>  In any cases, I'll be busy all day and don't have a strong opinion on either of the above points. So please make the choice you feel right. And then I consider this as good to go.\n\n\nI am running the long tests and will set positive review if everything is fine.\n\nVincent",
    "created_at": "2015-05-13T08:48:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253548",
    "user": "https://github.com/videlec"
}
```

<a id='comment:46'></a>
Replying to [nthiery](#comment%3A44):
> I have been through Vincent's last commit. I pushed too minor fixes. I have only a couple points I am wondering about:
> 
> - Do we want to import ZZ in sage.sets.cartesian_product? Can we do a local import or lazy import? Or is it just ok?


I think this is fine. I would find it strange to import it in `sage.categories.*` but `sage.sets.cartesian_product` is lazily imported.

> - In `CartesianProduct._cartesian_product_of_elements`, it would be semantically equivalent to use `zip` rather than `iterator.izip` since we anyway build a tuple right after. Just curious, is one faster than the other in practice (it's a tradeoff between building a list for nothing and using another layer of iterators)?


Here you are not building the list from the pairs `(c,x)` but by calling `c(x)`. So I guess that `izip` is always better. From the timing it is very similar and `izip` gets much better as the size of the lists increase. (moreover in `Python 3` the `izip` is just deleted and `zip` becomes `izip`).

> - Please update the documentation of `Sets.CartesianProducts.ParentMethods._cartesian_product_of_elements` to specify that it should accept any iterable.


done.

> - _sets_keys(): do we really want an `IntegerRange` rather than a `range`? I would imagine `IntegerRange` could be faster for containment testing and slower for iteration, so again a tradeoff.


It is **much** faster for containment test and it is currently the only way it is used in `sage.sets.cartesian_product` (the method `cartesian_projection`). If the iteration is slower, then we should just make it faster in `IntegerRange`!

>  In any cases, I'll be busy all day and don't have a strong opinion on either of the above points. So please make the choice you feel right. And then I consider this as good to go.


I am running the long tests and will set positive review if everything is fine.

Vincent



---

archive/issue_comments_253549.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b308872002aea2434725669f1718dcbc336cfa8b\">b308872</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-05-13T09:52:12Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b308872002aea2434725669f1718dcbc336cfa8b">b308872</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>




---

archive/issue_comments_253550.json:
```json
{
    "body": "**Changing commit** from \"[3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7](https://github.com/sagemath/sagetrac-mirror/commit/3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7)\" to \"[b308872002aea2434725669f1718dcbc336cfa8b](https://github.com/sagemath/sagetrac-mirror/commit/b308872002aea2434725669f1718dcbc336cfa8b)\".",
    "created_at": "2015-05-13T09:52:12Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7](https://github.com/sagemath/sagetrac-mirror/commit/3cbe605b2bfc2d91f878fbde04bebc78d14f4cb7)" to "[b308872002aea2434725669f1718dcbc336cfa8b](https://github.com/sagemath/sagetrac-mirror/commit/b308872002aea2434725669f1718dcbc336cfa8b)".



---

archive/issue_comments_253551.json:
```json
{
    "body": "**Changing commit** from \"[b308872002aea2434725669f1718dcbc336cfa8b](https://github.com/sagemath/sagetrac-mirror/commit/b308872002aea2434725669f1718dcbc336cfa8b)\" to \"[707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)\".",
    "created_at": "2015-05-13T09:53:40Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253551",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b308872002aea2434725669f1718dcbc336cfa8b](https://github.com/sagemath/sagetrac-mirror/commit/b308872002aea2434725669f1718dcbc336cfa8b)" to "[707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)".



---

archive/issue_comments_253552.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651\">707bf1e</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-05-13T09:53:40Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253552",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651">707bf1e</a></td><td><code>Trac 18290: fix doctests</code></td></tr></table>




---

archive/issue_comments_253553.json:
```json
{
    "body": "**Reviewer:** Nicolas Thi\u00e9ry",
    "created_at": "2015-05-13T11:00:50Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253553",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Nicolas Thi√©ry



---

archive/issue_events_164235.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-13T11:00:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164235"
}
```



---

archive/issue_events_164236.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-13T11:00:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164236"
}
```



---

archive/issue_events_164237.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-13T20:11:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164237"
}
```



---

archive/issue_events_164238.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "04d92fac907eb19bbde42397d3d705e784fabefc",
    "created_at": "2015-05-13T20:11:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18290#event-164238"
}
```



---

archive/issue_comments_253554.json:
```json
{
    "body": "**Changing branch** from \"[public/18290](https://github.com/sagemath/sagetrac-mirror/tree/public/18290)\" to \"[707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)\".",
    "created_at": "2015-05-13T20:11:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253554",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/18290](https://github.com/sagemath/sagetrac-mirror/tree/public/18290)" to "[707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)".



---

archive/issue_comments_253555.json:
```json
{
    "body": "**Changing reviewer** from \"Nicolas Thi\u00e9ry\" to \"Nicolas M. Thi\u00e9ry\".",
    "created_at": "2015-05-27T13:57:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253555",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Nicolas Thi√©ry" to "Nicolas M. Thi√©ry".



---

archive/issue_comments_253556.json:
```json
{
    "body": "**Changing commit** from \"[707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)\" to \"\".",
    "created_at": "2015-05-27T13:57:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18290",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18290#issuecomment-253556",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[707bf1e529e397d10cf2d1e8401229d4f9cd1651](https://github.com/sagemath/sagetrac-mirror/commit/707bf1e529e397d10cf2d1e8401229d4f9cd1651)" to "".
