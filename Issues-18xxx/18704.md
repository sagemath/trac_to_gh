# Issue 18704: Poset documentation polishing: chains and antichains

archive/issues_018704.json:
```json
{
    "body": "CC:  @tscrim @kevindilks\n\nDo some polishing to `is_chain_of_poset()`, `maximal_antichains()` and so on at `posets.py`.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18941\n\n",
    "closed_at": "2015-10-12T07:16:10Z",
    "created_at": "2015-07-22T20:32:29Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Poset documentation polishing: chains and antichains",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18704",
    "user": "https://github.com/jm58660"
}
```
CC:  @tscrim @kevindilks

Do some polishing to `is_chain_of_poset()`, `maximal_antichains()` and so on at `posets.py`.


Issue created by migration from https://trac.sagemath.org/ticket/18941





---

archive/issue_comments_254891.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2015-07-22T20:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254891",
    "user": "https://github.com/jm58660"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_254892.json:
```json
{
    "body": "Found a bug -> type changed to defect.\n\nWhich one is correct: \"Return the chains of the poset.\", \"Return all the chains of the poset.\", \"Return all chains of the poset.\" or \"Return chains of the poset.\"?",
    "created_at": "2015-07-22T20:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254892",
    "user": "https://github.com/jm58660"
}
```

Found a bug -> type changed to defect.

Which one is correct: "Return the chains of the poset.", "Return all the chains of the poset.", "Return all chains of the poset." or "Return chains of the poset."?



---

archive/issue_comments_254893.json:
```json
{
    "body": "Code for `maximal_chains()` seems complicated. Why not just something like\n\n```\nlist(P.hasse_diagram().all_paths_iterator(starting_vertices=P.minimal_elements(),\nending_vertices=P.maximal_elements()))\n```\n\nArgument `partial` does not seem to used in anywhere, it is just an implementation detail exposed to the user. Can it be removed?",
    "created_at": "2015-07-23T06:32:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254893",
    "user": "https://github.com/jm58660"
}
```

Code for `maximal_chains()` seems complicated. Why not just something like

```
list(P.hasse_diagram().all_paths_iterator(starting_vertices=P.minimal_elements(),
ending_vertices=P.maximal_elements()))
```

Argument `partial` does not seem to used in anywhere, it is just an implementation detail exposed to the user. Can it be removed?



---

archive/issue_comments_254894.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2015-07-23T09:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254894",
    "user": "https://github.com/jm58660"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_254895.json:
```json
{
    "body": "As deprecation needs a ticket number, it is best to make correction at a new ticket. I opened #18944 for that.",
    "created_at": "2015-07-23T09:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254895",
    "user": "https://github.com/jm58660"
}
```

As deprecation needs a ticket number, it is best to make correction at a new ticket. I opened #18944 for that.



---

archive/issue_comments_254896.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-07-23T14:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254896",
    "user": "https://github.com/jm58660"
}
```

New commits:



---

archive/issue_comments_254897.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-24T11:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254897",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_254898.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-24T11:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254898",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_254899.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-24T11:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254899",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_052835.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-07-24T11:52:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18704#event-52835"
}
```



---

archive/issue_comments_254900.json:
```json
{
    "body": "Ready for review, because I can look at #18944 later. Besides documentation there is one minor code change in `is_chain_of_poset`: I added\n\n```\nif not hasattr(elms, '__getitem__'):\n    raise TypeError(\"ordered=True not combatible with type %s for elms\" % type(elms))\n```",
    "created_at": "2015-07-24T11:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254900",
    "user": "https://github.com/jm58660"
}
```

Ready for review, because I can look at #18944 later. Besides documentation there is one minor code change in `is_chain_of_poset`: I added

```
if not hasattr(elms, '__getitem__'):
    raise TypeError("ordered=True not combatible with type %s for elms" % type(elms))
```



---

archive/issue_comments_254901.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-07-24T11:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254901",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_254902.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-24T12:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254902",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_254903.json:
```json
{
    "body": "Thanks Kevin.\n\nAs a side note, there should be a link to `is_antichain_of_poset()` (on [all, including infinite] posets category) in the index of `posets.py`. But I can add it later, when we see if #18534 gets accepted or not.",
    "created_at": "2015-07-27T07:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254903",
    "user": "https://github.com/jm58660"
}
```

Thanks Kevin.

As a side note, there should be a link to `is_antichain_of_poset()` (on [all, including infinite] posets category) in the index of `posets.py`. But I can add it later, when we see if #18534 gets accepted or not.



---

archive/issue_comments_254904.json:
```json
{
    "body": "not combatible ?",
    "created_at": "2015-07-30T13:52:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254904",
    "user": "https://github.com/fchapoton"
}
```

not combatible ?



---

archive/issue_comments_254905.json:
```json
{
    "body": "Replying to [comment:12 chapoton]:\n> not combatible ?\n\n\nIsn't it a clash if patch A modifies lines N and N+1, and patch B adds a line between the same lines?\n\nBut in any case, I can do this later if somebody wants to review #18534. It is two lines long, should I split it to make it easier for reviewers to read...?",
    "created_at": "2015-07-30T21:37:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254905",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:12 chapoton]:
> not combatible ?


Isn't it a clash if patch A modifies lines N and N+1, and patch B adds a line between the same lines?

But in any case, I can do this later if somebody wants to review #18534. It is two lines long, should I split it to make it easier for reviewers to read...?



---

archive/issue_comments_254906.json:
```json
{
    "body": "typo: \"combatible\" is not an English word",
    "created_at": "2015-07-31T06:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254906",
    "user": "https://github.com/fchapoton"
}
```

typo: "combatible" is not an English word



---

archive/issue_comments_254907.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-09T14:59:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_254908.json:
```json
{
    "body": "Replying to [comment:14 chapoton]:\n> typo: \"combatible\" is not an English word\n\n\nAh, now I see the error. Corrected.",
    "created_at": "2015-08-09T15:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254908",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:14 chapoton]:
> typo: "combatible" is not an English word


Ah, now I see the error. Corrected.



---

archive/issue_comments_254909.json:
```json
{
    "body": "Looks good to go, but why do you remove so many doctests of `is_chain_of_poset`?\n\nNathann",
    "created_at": "2015-09-02T13:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254909",
    "user": "https://github.com/nathanncohen"
}
```

Looks good to go, but why do you remove so many doctests of `is_chain_of_poset`?

Nathann



---

archive/issue_comments_254910.json:
```json
{
    "body": "Replying to [comment:17 ncohen]:\n> Looks good to go, but why do you remove so many doctests of `is_chain_of_poset`?\n\n\nBecause I (as always...) didn't think about the code but about the user. They were on `EXAMPLES`-part, and I think they were not all needed to show the idea of the function. Do you want me to add a `TESTS`-part?",
    "created_at": "2015-09-02T15:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254910",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:17 ncohen]:
> Looks good to go, but why do you remove so many doctests of `is_chain_of_poset`?


Because I (as always...) didn't think about the code but about the user. They were on `EXAMPLES`-part, and I think they were not all needed to show the idea of the function. Do you want me to add a `TESTS`-part?



---

archive/issue_comments_254911.json:
```json
{
    "body": "> Because I (as always...) didn't think about the code but about the user. They were on `EXAMPLES`-part, and I think they were not all needed to show the idea of the function. Do you want me to add a `TESTS`-part?\n\n\nYep yep, you can move them to a \"TESTS\" section if you think they do not bring anything to the user.\n\nNathann",
    "created_at": "2015-09-02T15:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254911",
    "user": "https://github.com/nathanncohen"
}
```

> Because I (as always...) didn't think about the code but about the user. They were on `EXAMPLES`-part, and I think they were not all needed to show the idea of the function. Do you want me to add a `TESTS`-part?


Yep yep, you can move them to a "TESTS" section if you think they do not bring anything to the user.

Nathann



---

archive/issue_events_052836.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-09-02T15:52:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18704#event-52836"
}
```



---

archive/issue_events_052837.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-09-02T15:52:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18704#event-52837"
}
```



---

archive/issue_comments_254912.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-09-02T15:52:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254912",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_254913.json:
```json
{
    "body": "Replying to [comment:19 ncohen]:\n> > Because I (as always...) didn't think about the code but about the user. They were on `EXAMPLES`-part, and I think they were not all needed to show the idea of the function. Do you want me to add a `TESTS`-part?\n\n> \n> Yep yep, you can move them to a \"TESTS\" section if you think they do not bring anything to the user.\n\n\nOK, I'll do that. (And hope that `TESTS` will be foldable or hidden part some day.)\n\nI should also add `is_antichain_of_poset()` to `SEEALSO`. As #19078 shows red, I can do this now and correct it later.",
    "created_at": "2015-09-02T15:52:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254913",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:19 ncohen]:
> > Because I (as always...) didn't think about the code but about the user. They were on `EXAMPLES`-part, and I think they were not all needed to show the idea of the function. Do you want me to add a `TESTS`-part?

> 
> Yep yep, you can move them to a "TESTS" section if you think they do not bring anything to the user.


OK, I'll do that. (And hope that `TESTS` will be foldable or hidden part some day.)

I should also add `is_antichain_of_poset()` to `SEEALSO`. As #19078 shows red, I can do this now and correct it later.



---

archive/issue_comments_254914.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-03T06:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254914",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_254915.json:
```json
{
    "body": "I added some tests. As Macaulay2 has function `dilworthNumber`, I added the synonym to docstring of `widht`; this is non-relating change.\n\nReady for review. Nathann, remember to change name of the reviewer if you are going to do it.",
    "created_at": "2015-09-03T06:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254915",
    "user": "https://github.com/jm58660"
}
```

I added some tests. As Macaulay2 has function `dilworthNumber`, I added the synonym to docstring of `widht`; this is non-relating change.

Ready for review. Nathann, remember to change name of the reviewer if you are going to do it.



---

archive/issue_comments_254916.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-03T06:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254916",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_254917.json:
```json
{
    "body": "> I added some tests. As Macaulay2 has function `dilworthNumber`, I added the synonym to docstring of `widht`; this is non-relating change.\n\n\nOkay.\n\n- You must add a 'the' before 'given' in the description of 'is_chain_of_poset', in the index.\n\n- This should work, and it does not:\n\n```\nsage: posets.DiamondPoset(4).is_chain_of_poset(iter([3]),ordered=True)\n...\nTypeError: ordered=True not compatible with type <type 'listiterator'> for elms\n```\n\nYou cannot rely on things like the existence of `__getitem__` to deduce something unrelated, like whether the ordering \"matters\" or not. You can rely on existing standards, but defining one in a patch won't make it true. In particular:\n\n```\nsage: Set([1,2,3])[0]\n1\n```\n\nSay that it only take a list as input or do nothing. TIf the user provides a set and says that the order matters, well, I say that (s)he should be bitten as a result.\n\nNathann",
    "created_at": "2015-09-03T07:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254917",
    "user": "https://github.com/nathanncohen"
}
```

> I added some tests. As Macaulay2 has function `dilworthNumber`, I added the synonym to docstring of `widht`; this is non-relating change.


Okay.

- You must add a 'the' before 'given' in the description of 'is_chain_of_poset', in the index.

- This should work, and it does not:

```
sage: posets.DiamondPoset(4).is_chain_of_poset(iter([3]),ordered=True)
...
TypeError: ordered=True not compatible with type <type 'listiterator'> for elms
```

You cannot rely on things like the existence of `__getitem__` to deduce something unrelated, like whether the ordering "matters" or not. You can rely on existing standards, but defining one in a patch won't make it true. In particular:

```
sage: Set([1,2,3])[0]
1
```

Say that it only take a list as input or do nothing. TIf the user provides a set and says that the order matters, well, I say that (s)he should be bitten as a result.

Nathann



---

archive/issue_comments_254918.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-09-03T07:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254918",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_254919.json:
```json
{
    "body": "Replying to [comment:23 ncohen]:\n> In particular:\n> \n> \n> ```\n> sage: Set([1,2,3])[0]\n> 1\n> ```\n\n\nDuh. So there is no way at all in Python to check if a given container item has fixed order? And in theory `(Set([1,2,3])[1], Set([1,2,3])[1])` could return `(3,2)`. In reality after `P=Poset({'a':[1]})` the command `P.is_chain_of_poset({'a', 1}, ordered=True)` will return `True` or `False` depending on the machine that runs Python.",
    "created_at": "2015-09-03T07:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254919",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:23 ncohen]:
> In particular:
> 
> 
> ```
> sage: Set([1,2,3])[0]
> 1
> ```


Duh. So there is no way at all in Python to check if a given container item has fixed order? And in theory `(Set([1,2,3])[1], Set([1,2,3])[1])` could return `(3,2)`. In reality after `P=Poset({'a':[1]})` the command `P.is_chain_of_poset({'a', 1}, ordered=True)` will return `True` or `False` depending on the machine that runs Python.



---

archive/issue_comments_254920.json:
```json
{
    "body": "> Duh. So there is no way at all in Python to check if a given container item has fixed order?\n\n\nWhat is a 'fixed order' from the point of view of the computer? What you want to know is if the order given is the one *intended* by the user. I don't think that there is a way to do that, neither in this language nor in another. If you want something reliable, test that input is a list, or just trust the user to not do anything stupid.\n\nNathann",
    "created_at": "2015-09-03T08:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254920",
    "user": "https://github.com/nathanncohen"
}
```

> Duh. So there is no way at all in Python to check if a given container item has fixed order?


What is a 'fixed order' from the point of view of the computer? What you want to know is if the order given is the one *intended* by the user. I don't think that there is a way to do that, neither in this language nor in another. If you want something reliable, test that input is a list, or just trust the user to not do anything stupid.

Nathann



---

archive/issue_comments_254921.json:
```json
{
    "body": "Replying to [comment:25 ncohen]:\n> > Duh. So there is no way at all in Python to check if a given container item has fixed order?\n  \n> \n> What is a 'fixed order' from the point of view of the computer? What you want to know is if the order given is the one *intended* by the user.\n\n\nBy fixed order I meant deterministic output. After `x=['a',1]` we always have `x[1]==1` in every implementation of Python. After `y={'a', 1}` we always get error from `y[1]`. After `z=Set(x)` we don't know the output of `z[1]`. (Which sounds odd... \"second item of a set\"?)\n\nBut anyway, thanks. I will change the code. As all kinds of iterables were accepted before, I guess that is the way to continue. And it makes no sense to pick out most common \"wrong\" types, as it would give false impression of security to the user.",
    "created_at": "2015-09-03T08:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254921",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:25 ncohen]:
> > Duh. So there is no way at all in Python to check if a given container item has fixed order?
  
> 
> What is a 'fixed order' from the point of view of the computer? What you want to know is if the order given is the one *intended* by the user.


By fixed order I meant deterministic output. After `x=['a',1]` we always have `x[1]==1` in every implementation of Python. After `y={'a', 1}` we always get error from `y[1]`. After `z=Set(x)` we don't know the output of `z[1]`. (Which sounds odd... "second item of a set"?)

But anyway, thanks. I will change the code. As all kinds of iterables were accepted before, I guess that is the way to continue. And it makes no sense to pick out most common "wrong" types, as it would give false impression of security to the user.



---

archive/issue_comments_254922.json:
```json
{
    "body": "> And it makes no sense to pick out most common \"wrong\" types, as it would give false impression of security to the user.\n\n\n+1. We should do what we can to help them avoid mistakes, but we can't protect them against themselves.\n\nNathann",
    "created_at": "2015-09-03T08:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254922",
    "user": "https://github.com/nathanncohen"
}
```

> And it makes no sense to pick out most common "wrong" types, as it would give false impression of security to the user.


+1. We should do what we can to help them avoid mistakes, but we can't protect them against themselves.

Nathann



---

archive/issue_comments_254923.json:
```json
{
    "body": "Replying to [comment:23 ncohen]:\n\n> - This should work, and it does not:\n> \n> ```\n> sage: posets.DiamondPoset(4).is_chain_of_poset(iter([3]),ordered=True)\n> ...\n> TypeError: ordered=True not compatible with type <type 'listiterator'> for elms\n> ```\n\n\nArghs. Just noticed that this does not work in Sage even before this patch. It the right correction\n\n```\nif not hasattr(elms, '__getitem__'):\n    sorted_o = elms\nelse:\n    sorted_o = list(elms)\n```\n\n? Or is there still something more to think about?",
    "created_at": "2015-09-03T10:16:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254923",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:23 ncohen]:

> - This should work, and it does not:
> 
> ```
> sage: posets.DiamondPoset(4).is_chain_of_poset(iter([3]),ordered=True)
> ...
> TypeError: ordered=True not compatible with type <type 'listiterator'> for elms
> ```


Arghs. Just noticed that this does not work in Sage even before this patch. It the right correction

```
if not hasattr(elms, '__getitem__'):
    sorted_o = elms
else:
    sorted_o = list(elms)
```

? Or is there still something more to think about?



---

archive/issue_comments_254924.json:
```json
{
    "body": "> ? Or is there still something more to think about?\n\n\nIf you want to support any iterable as input, I guess that the best is this\n\n```\nsage: elms = range(10)\nsage: it1 = iter(elms)\nsage: it2 = iter(elms)\nsage: it2.next()\n0\nsage: zip(it1,it2)\n[(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9)]\n```\n\nBut that's really a lot of infrastructure for a very small impact.\n\nNathann",
    "created_at": "2015-09-03T10:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254924",
    "user": "https://github.com/nathanncohen"
}
```

> ? Or is there still something more to think about?


If you want to support any iterable as input, I guess that the best is this

```
sage: elms = range(10)
sage: it1 = iter(elms)
sage: it2 = iter(elms)
sage: it2.next()
0
sage: zip(it1,it2)
[(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9)]
```

But that's really a lot of infrastructure for a very small impact.

Nathann



---

archive/issue_comments_254925.json:
```json
{
    "body": "(not to mention that you have to check whether `it2.next()` yields a `StopIterator` exception)",
    "created_at": "2015-09-03T10:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254925",
    "user": "https://github.com/nathanncohen"
}
```

(not to mention that you have to check whether `it2.next()` yields a `StopIterator` exception)



---

archive/issue_comments_254926.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-03T11:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254926",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_254927.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-03T11:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254927",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_254928.json:
```json
{
    "body": "Replying to [comment:29 ncohen]:\n\n> But that's really a lot of infrastructure for a very small impact.\n\n\nTrue. Feels lazy today -> put to needs_review without this. And after all, this ticket was about documentation, which is now polished. (Or at least one more pair of eyes have read it throught.)",
    "created_at": "2015-09-03T11:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254928",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:29 ncohen]:

> But that's really a lot of infrastructure for a very small impact.


True. Feels lazy today -> put to needs_review without this. And after all, this ticket was about documentation, which is now polished. (Or at least one more pair of eyes have read it throught.)



---

archive/issue_comments_254929.json:
```json
{
    "body": "You could use `sorted` to make deterministic output (in doctests?) (at least since integers has a nice total ordering)...",
    "created_at": "2015-09-03T13:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254929",
    "user": "https://github.com/tscrim"
}
```

You could use `sorted` to make deterministic output (in doctests?) (at least since integers has a nice total ordering)...



---

archive/issue_comments_254930.json:
```json
{
    "body": "Replying to [comment:33 tscrim]:\n> You could use `sorted` to make deterministic output (in doctests?) (at least since integers has a nice total ordering)...\n\n\nNo no, this is different thing. The problem is that `Set([1,2])[1]` might return `1` or `2`. Hence it is not meaningful to ask if `Set([1,2])` is an *ordered* chain of for example `ChainPoset(4)`. But we have no way to check *when* the user asks something not meaningful.",
    "created_at": "2015-09-03T17:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254930",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:33 tscrim]:
> You could use `sorted` to make deterministic output (in doctests?) (at least since integers has a nice total ordering)...


No no, this is different thing. The problem is that `Set([1,2])[1]` might return `1` or `2`. Hence it is not meaningful to ask if `Set([1,2])` is an *ordered* chain of for example `ChainPoset(4)`. But we have no way to check *when* the user asks something not meaningful.



---

archive/issue_comments_254931.json:
```json
{
    "body": "`ping -c 1 kevin`...",
    "created_at": "2015-09-21T15:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254931",
    "user": "https://github.com/jm58660"
}
```

`ping -c 1 kevin`...



---

archive/issue_comments_254932.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-30T17:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254932",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_254933.json:
```json
{
    "body": "All the changes you made look good to me, positive review.\n\nTwo comments related to things I saw while looking through the code (which should probably go in separate tickets):\n\n1) Somebody should finally implement the wrapper that gives you all antichains of a specified size.\n\n2) In `is_chain_of_poset`, I think there should be an additional optional parameter `strict`, so that when `ordered=True`, you can test whether a given list of elements is a weakly increasing chain or a strictly increasing chain. Right now it only tests for strict chains.",
    "created_at": "2015-09-30T17:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254933",
    "user": "https://github.com/kevindilks"
}
```

All the changes you made look good to me, positive review.

Two comments related to things I saw while looking through the code (which should probably go in separate tickets):

1) Somebody should finally implement the wrapper that gives you all antichains of a specified size.

2) In `is_chain_of_poset`, I think there should be an additional optional parameter `strict`, so that when `ordered=True`, you can test whether a given list of elements is a weakly increasing chain or a strictly increasing chain. Right now it only tests for strict chains.



---

archive/issue_comments_254934.json:
```json
{
    "body": "Replying to [comment:36 kdilks]:\n> All the changes you made look good to me, positive review.\n\n\nThanks!\n\n> Two comments related to things I saw while looking through the code (which should probably go in separate tickets):\n> \n> 1) Somebody should finally implement the wrapper that gives you all antichains of a specified size.\n\n\nTrue. Same applies to chains of specified size.\n\n> 2) In `is_chain_of_poset`, I think there should be an additional optional parameter `strict`, so that when `ordered=True`, you can test whether a given list of elements is a weakly increasing chain or a strictly increasing chain. Right now it only tests for strict chains.\n\n\n?? Isn't it just another way? Name of the parameter should propably be `saturated`.",
    "created_at": "2015-09-30T17:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254934",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:36 kdilks]:
> All the changes you made look good to me, positive review.


Thanks!

> Two comments related to things I saw while looking through the code (which should probably go in separate tickets):
> 
> 1) Somebody should finally implement the wrapper that gives you all antichains of a specified size.


True. Same applies to chains of specified size.

> 2) In `is_chain_of_poset`, I think there should be an additional optional parameter `strict`, so that when `ordered=True`, you can test whether a given list of elements is a weakly increasing chain or a strictly increasing chain. Right now it only tests for strict chains.


?? Isn't it just another way? Name of the parameter should propably be `saturated`.



---

archive/issue_comments_254935.json:
```json
{
    "body": "`saturated` is something that only applies to strict chains, and it means that all of your elements differ by a covering relation. Using the standard partial (well...total) order on the integers,\n\n`[1,1,2,2,3,3]` is a weak chain.\n`[1,3,5,7]` is a strict but not saturated chain.\n`[2,3,4,5]` is a strict and saturated chain.\n\nRight now, if `ordered=True`, then it will tell you if your list of elements is a strict but not necessarily saturated chain (in the order given). If `ordered=False`, then it tells you whether the set of elements you give it can be ordered in some way to make a chain.",
    "created_at": "2015-09-30T18:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254935",
    "user": "https://github.com/kevindilks"
}
```

`saturated` is something that only applies to strict chains, and it means that all of your elements differ by a covering relation. Using the standard partial (well...total) order on the integers,

`[1,1,2,2,3,3]` is a weak chain.
`[1,3,5,7]` is a strict but not saturated chain.
`[2,3,4,5]` is a strict and saturated chain.

Right now, if `ordered=True`, then it will tell you if your list of elements is a strict but not necessarily saturated chain (in the order given). If `ordered=False`, then it tells you whether the set of elements you give it can be ordered in some way to make a chain.



---

archive/issue_comments_254936.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-12T07:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18704#issuecomment-254936",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_052838.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-12T07:16:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18704",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18704#event-52838"
}
```
