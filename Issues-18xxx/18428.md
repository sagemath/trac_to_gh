# Issue 18428: Error checking in sage-spkg

archive/issues_018191.json:
```json
{
    "assignees": [],
    "body": "* Remove duplicate checksumming\n* Do not silently ignore errors in sage-spkg.\n\nBranch/Commit: **[`69a501d`](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Volker Braun**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18428_\n\n",
    "closed_at": "2015-06-03T23:22:43Z",
    "created_at": "2015-05-16T07:34:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Error checking in sage-spkg",
    "type": "issue",
    "updated_at": "2015-06-03T23:22:43Z",
    "url": "https://github.com/sagemath/sage/issues/18428",
    "user": "https://github.com/vbraun"
}
```
* Remove duplicate checksumming
* Do not silently ignore errors in sage-spkg.

Branch/Commit: **[`69a501d`](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)**

Reviewer: **Jeroen Demeyer**

Author: **Volker Braun**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/18428_





---

archive/issue_events_259507.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:34:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259507"
}
```



---

archive/issue_events_259508.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:34:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259508"
}
```



---

archive/issue_comments_253874.json:
```json
{
    "body": "Branch: **[u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)**",
    "created_at": "2015-05-16T07:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253874",
    "user": "https://github.com/vbraun"
}
```

Branch: **[u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)**



---

archive/issue_events_259509.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259509"
}
```



---

archive/issue_events_259510.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259510"
}
```



---

archive/issue_comments_253875.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-\n+* Remove duplicate checksumming\n+* Do not silently ignore errors in sage-spkg.\n``````\n",
    "created_at": "2015-05-16T07:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253875",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-
+* Remove duplicate checksumming
+* Do not silently ignore errors in sage-spkg.
``````




---

archive/issue_events_259511.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259511"
}
```



---

archive/issue_comments_253876.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2015-05-16T07:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253876",
    "user": "https://github.com/vbraun"
}
```

Author: **Volker Braun**



---

archive/issue_comments_253877.json:
```json
{
    "body": "Commit: **[`aa24229`](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)**",
    "created_at": "2015-05-16T07:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253877",
    "user": "https://github.com/vbraun"
}
```

Commit: **[`aa24229`](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)**



---

archive/issue_comments_253878.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c65f3dc957eb5b27ad6fa2474b8ca520b83b6f4\"><code>7c65f3d</code></a></td><td><code>Try our own tarball host last</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5bbfc0dfe4db19694498a4254dfd51f65a0333b\"><code>d5bbfc0</code></a></td><td><code>Merge #18417 into #18428</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e280943ca8d48c211b0b0119d77713b0c26c0cbf\"><code>e280943</code></a></td><td><code>remove checksumming from sage-spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9\"><code>aa24229</code></a></td><td><code>Do not ignor errors in sage-spkg</code></td></tr></table>\n",
    "created_at": "2015-05-16T07:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253878",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c65f3dc957eb5b27ad6fa2474b8ca520b83b6f4"><code>7c65f3d</code></a></td><td><code>Try our own tarball host last</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5bbfc0dfe4db19694498a4254dfd51f65a0333b"><code>d5bbfc0</code></a></td><td><code>Merge #18417 into #18428</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e280943ca8d48c211b0b0119d77713b0c26c0cbf"><code>e280943</code></a></td><td><code>remove checksumming from sage-spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9"><code>aa24229</code></a></td><td><code>Do not ignor errors in sage-spkg</code></td></tr></table>




---

archive/issue_comments_253879.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551\"><code>49aa3c5</code></a></td><td><code>Only download mirror list when needed</code></td></tr></table>\n",
    "created_at": "2015-05-16T08:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253879",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551"><code>49aa3c5</code></a></td><td><code>Only download mirror list when needed</code></td></tr></table>




---

archive/issue_comments_253880.json:
```json
{
    "body": "Changed commit from **[`aa24229`](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)** to **[`49aa3c5`](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)**",
    "created_at": "2015-05-16T08:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253880",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aa24229`](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)** to **[`49aa3c5`](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)**



---

archive/issue_comments_253881.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0\"><code>fd0b5ec</code></a></td><td><code>sage-spkg has to ignore some errors when building from scratch</code></td></tr></table>\n",
    "created_at": "2015-05-18T22:45:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253881",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0"><code>fd0b5ec</code></a></td><td><code>sage-spkg has to ignore some errors when building from scratch</code></td></tr></table>




---

archive/issue_comments_253882.json:
```json
{
    "body": "Changed commit from **[`49aa3c5`](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)** to **[`fd0b5ec`](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)**",
    "created_at": "2015-05-18T22:45:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253882",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`49aa3c5`](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)** to **[`fd0b5ec`](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)**



---

archive/issue_comments_253883.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSurely, this is wrong:\n\n```\nsage-download-file \"$PKG_URL\" \"$PKG_TMP\"\nif [ $? -ne 0 ]; then\n    exit 1\nfi\nif [ $? -ne 0 ]; then\n    # Delete failed download\n    rm -f \"$PKG_TMP\"\n```",
    "created_at": "2015-05-19T08:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253883",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

Surely, this is wrong:

```
sage-download-file "$PKG_URL" "$PKG_TMP"
if [ $? -ne 0 ]; then
    exit 1
fi
if [ $? -ne 0 ]; then
    # Delete failed download
    rm -f "$PKG_TMP"
```



---

archive/issue_events_259512.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T08:41:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259512"
}
```



---

archive/issue_events_259513.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T08:41:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259513"
}
```



---

archive/issue_comments_253884.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhy this?\n\n```\nexport PYTHONUNBUFFERED=yes\n```\n\nWhy is it a problem if output is buffered?\n\n(I am a bit worried about performance implications, since this is passed to *every* Python script run during the installation of Sage).",
    "created_at": "2015-05-19T08:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253884",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Why this?

```
export PYTHONUNBUFFERED=yes
```

Why is it a problem if output is buffered?

(I am a bit worried about performance implications, since this is passed to *every* Python script run during the installation of Sage).



---

archive/issue_comments_253885.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAnd I also don't understand why you remove some of the\n\n```\nif [ $INFO -eq 0 ]; then\n```\nbranches.",
    "created_at": "2015-05-19T08:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253885",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

And I also don't understand why you remove some of the

```
if [ $INFO -eq 0 ]; then
```
branches.



---

archive/issue_comments_253886.json:
```json
{
    "body": "Changed commit from **[`fd0b5ec`](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)** to **[`c8c2601`](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)**",
    "created_at": "2015-05-19T09:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253886",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fd0b5ec`](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)** to **[`c8c2601`](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)**



---

archive/issue_comments_253887.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd\"><code>c8c2601</code></a></td><td><code>remove extraneous error check</code></td></tr></table>\n",
    "created_at": "2015-05-19T09:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253887",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd"><code>c8c2601</code></a></td><td><code>remove extraneous error check</code></td></tr></table>




---

archive/issue_comments_253888.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThe problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing. `PYTHONUNBUFFERED` only makes Python stdin/out unbuffered, and we don't print() that much. So I don't see where there could be a performance impact. Even in the worst case (passing the entire build log through Python unbuffered, which we don't do) its unlikely to take a long time compared to actually producing the build log.\n\nThe first INFO branch is about checking whether the tarball is already downloaded, which is now done by sage-download file. The second INFO branch is just printing logs, and I moved that to the relevant place.",
    "created_at": "2015-05-19T09:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253888",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

The problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing. `PYTHONUNBUFFERED` only makes Python stdin/out unbuffered, and we don't print() that much. So I don't see where there could be a performance impact. Even in the worst case (passing the entire build log through Python unbuffered, which we don't do) its unlikely to take a long time compared to actually producing the build log.

The first INFO branch is about checking whether the tarball is already downloaded, which is now done by sage-download file. The second INFO branch is just printing logs, and I moved that to the relevant place.



---

archive/issue_comments_253889.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@vbraun](#comment%3A9):\n> The problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing.\n\nOf course, that can be done with `sys.stdout.flush()` also...\n\nRegarding this, I also don't think that `sage-spkg` is the best place to put this. I would rather like to put it in `build/deps`, so it also applies to building the Sage library.",
    "created_at": "2015-05-19T12:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253889",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@vbraun](#comment%3A9):
> The problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing.

Of course, that can be done with `sys.stdout.flush()` also...

Regarding this, I also don't think that `sage-spkg` is the best place to put this. I would rather like to put it in `build/deps`, so it also applies to building the Sage library.



---

archive/issue_comments_253890.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nNot sure I follow, `build/deps` is a Makefile but just setting a make variable is not good enough. You mean use the \"export\" gnu make extension to change the environment? \n\nProbably the best solution would be to subclass the stdout stream to a version that always flushes. But sage-download-file is already too many loc. I'm thinking to refactor it into a python package (say, `src/sage_bootstrap`) that deals with downloading and potentially other pre-installation stuff. That then could also be tested nicely with tox to see that it runs on different Python versions. But we should probably fix more urgent issues first.",
    "created_at": "2015-05-19T19:59:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253890",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">comment:11</div>

Not sure I follow, `build/deps` is a Makefile but just setting a make variable is not good enough. You mean use the "export" gnu make extension to change the environment? 

Probably the best solution would be to subclass the stdout stream to a version that always flushes. But sage-download-file is already too many loc. I'm thinking to refactor it into a python package (say, `src/sage_bootstrap`) that deals with downloading and potentially other pre-installation stuff. That then could also be tested nicely with tox to see that it runs on different Python versions. But we should probably fix more urgent issues first.



---

archive/issue_comments_253891.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nCan we just move the buffering stuff to a new ticket and focus on the \"more urgent issues first\" then?",
    "created_at": "2015-05-19T20:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253891",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Can we just move the buffering stuff to a new ticket and focus on the "more urgent issues first" then?



---

archive/issue_comments_253892.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSure, it just simplifies analyzing problems if the last log message is actually on the screen.",
    "created_at": "2015-05-19T21:44:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253892",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

Sure, it just simplifies analyzing problems if the last log message is actually on the screen.



---

archive/issue_comments_253893.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@vbraun](#comment%3A11):\n> You mean use the \"export\" gnu make extension to change the environment? \n\nWell, I guess we are already assuming `GNU make`. Alternatively, put it in `build/install`.",
    "created_at": "2015-05-20T07:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253893",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@vbraun](#comment%3A11):
> You mean use the "export" gnu make extension to change the environment? 

Well, I guess we are already assuming `GNU make`. Alternatively, put it in `build/install`.



---

archive/issue_comments_253894.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nBut that is only used during the initial build, and not when running `sage -i <package>`, right?",
    "created_at": "2015-05-20T08:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253894",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

But that is only used during the initial build, and not when running `sage -i <package>`, right?



---

archive/issue_comments_253895.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@vbraun](#comment%3A15):\n> But that is only used during the initial build, and not when running `sage -i <package>`, right?\n\nRight indeed.",
    "created_at": "2015-05-20T08:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253895",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@vbraun](#comment%3A15):
> But that is only used during the initial build, and not when running `sage -i <package>`, right?

Right indeed.



---

archive/issue_comments_253896.json:
```json
{
    "body": "Changed branch from **[u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)** to **[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)**",
    "created_at": "2015-05-30T08:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253896",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)** to **[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)**



---

archive/issue_comments_253897.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b\"><code>a5e492d</code></a></td><td><code>Remove buffering fix</code></td></tr></table>\n",
    "created_at": "2015-05-30T08:12:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253897",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b"><code>a5e492d</code></a></td><td><code>Remove buffering fix</code></td></tr></table>




---

archive/issue_comments_253898.json:
```json
{
    "body": "Changed commit from **[`c8c2601`](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)** to **[`a5e492d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)**",
    "created_at": "2015-05-30T08:12:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253898",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8c2601`](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)** to **[`a5e492d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)**



---

archive/issue_comments_253899.json:
```json
{
    "body": "Changed commit from **[`a5e492d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)** to **[`616ee13`](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)**",
    "created_at": "2015-05-30T08:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253899",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a5e492d`](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)** to **[`616ee13`](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)**



---

archive/issue_comments_253900.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620\"><code>616ee13</code></a></td><td><code>Flush printed output</code></td></tr></table>\n",
    "created_at": "2015-05-30T08:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253900",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620"><code>616ee13</code></a></td><td><code>Flush printed output</code></td></tr></table>




---

archive/issue_comments_253901.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729\"><code>69a501d</code></a></td><td><code>Minor fixes to sage-spkg</code></td></tr></table>\n",
    "created_at": "2015-05-30T08:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253901",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729"><code>69a501d</code></a></td><td><code>Minor fixes to sage-spkg</code></td></tr></table>




---

archive/issue_comments_253902.json:
```json
{
    "body": "Changed commit from **[`616ee13`](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)** to **[`69a501d`](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)**",
    "created_at": "2015-05-30T08:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253902",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`616ee13`](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)** to **[`69a501d`](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)**



---

archive/issue_events_259514.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259514"
}
```



---

archive/issue_events_259515.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259515"
}
```



---

archive/issue_events_259516.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259516"
}
```



---

archive/issue_events_259517.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259517"
}
```



---

archive/issue_comments_253903.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-05-30T08:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253903",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_253904.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nneeds review...",
    "created_at": "2015-06-03T08:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253904",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

needs review...



---

archive/issue_events_259518.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T08:48:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259518"
}
```



---

archive/issue_events_259519.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T08:48:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259519"
}
```



---

archive/issue_events_259520.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T23:22:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259520"
}
```



---

archive/issue_events_259521.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b156a5b3be999fae2e0306d724d2d8f8a5862213",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-06-03T23:22:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-259521"
}
```



---

archive/issue_comments_253905.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)** to **[`69a501d`](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)**",
    "created_at": "2015-06-03T23:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-253905",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)** to **[`69a501d`](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)**
