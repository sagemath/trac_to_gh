# Issue 18428: Error checking in sage-spkg

archive/issues_018191.json:
```json
{
    "body": "* Remove duplicate checksumming\n* Do not silently ignore errors in sage-spkg.\n\n**Branch/Commit:** [69a501d5d4d9c26188c2e19757d091c7f7b5c729](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)\n\n**Reviewer:** Jeroen Demeyer\n\n**Author:** Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/18428\n\n",
    "closed_at": "2015-06-03T23:22:43Z",
    "created_at": "2015-05-16T07:34:46Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "title": "Error checking in sage-spkg",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/18428",
    "user": "https://github.com/vbraun"
}
```
* Remove duplicate checksumming
* Do not silently ignore errors in sage-spkg.

**Branch/Commit:** [69a501d5d4d9c26188c2e19757d091c7f7b5c729](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)

**Reviewer:** Jeroen Demeyer

**Author:** Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/18428





---

archive/issue_comments_256369.json:
```json
{
    "body": "**Branch:** [u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)",
    "created_at": "2015-05-16T07:42:10Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256369",
    "user": "https://github.com/vbraun"
}
```

**Branch:** [u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)



---

archive/issue_events_165486.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165486"
}
```



---

archive/issue_events_165487.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165487"
}
```



---

archive/issue_comments_256370.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-\n+* Remove duplicate checksumming\n+* Do not silently ignore errors in sage-spkg.\n``````\n",
    "created_at": "2015-05-16T07:43:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256370",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-
+* Remove duplicate checksumming
+* Do not silently ignore errors in sage-spkg.
``````




---

archive/issue_events_165488.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-16T07:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "component: build",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165488"
}
```



---

archive/issue_comments_256371.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2015-05-16T07:43:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256371",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_256372.json:
```json
{
    "body": "**Commit:** [aa24229765773f685f943943a768736da9e999a9](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)",
    "created_at": "2015-05-16T07:43:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256372",
    "user": "https://github.com/vbraun"
}
```

**Commit:** [aa24229765773f685f943943a768736da9e999a9](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)



---

archive/issue_comments_256373.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c65f3dc957eb5b27ad6fa2474b8ca520b83b6f4\">7c65f3d</a></td><td><code>Try our own tarball host last</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5bbfc0dfe4db19694498a4254dfd51f65a0333b\">d5bbfc0</a></td><td><code>Merge #18417 into #18428</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e280943ca8d48c211b0b0119d77713b0c26c0cbf\">e280943</a></td><td><code>remove checksumming from sage-spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9\">aa24229</a></td><td><code>Do not ignor errors in sage-spkg</code></td></tr></table>\n",
    "created_at": "2015-05-16T07:43:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256373",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c65f3dc957eb5b27ad6fa2474b8ca520b83b6f4">7c65f3d</a></td><td><code>Try our own tarball host last</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5bbfc0dfe4db19694498a4254dfd51f65a0333b">d5bbfc0</a></td><td><code>Merge #18417 into #18428</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e280943ca8d48c211b0b0119d77713b0c26c0cbf">e280943</a></td><td><code>remove checksumming from sage-spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9">aa24229</a></td><td><code>Do not ignor errors in sage-spkg</code></td></tr></table>




---

archive/issue_comments_256374.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551\">49aa3c5</a></td><td><code>Only download mirror list when needed</code></td></tr></table>\n",
    "created_at": "2015-05-16T08:21:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551">49aa3c5</a></td><td><code>Only download mirror list when needed</code></td></tr></table>




---

archive/issue_comments_256375.json:
```json
{
    "body": "**Changing commit** from \"[aa24229765773f685f943943a768736da9e999a9](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)\" to \"[49aa3c5ddb0df89865383f84ab8ffa12a5a05551](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)\".",
    "created_at": "2015-05-16T08:21:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[aa24229765773f685f943943a768736da9e999a9](https://github.com/sagemath/sagetrac-mirror/commit/aa24229765773f685f943943a768736da9e999a9)" to "[49aa3c5ddb0df89865383f84ab8ffa12a5a05551](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)".



---

archive/issue_comments_256376.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0\">fd0b5ec</a></td><td><code>sage-spkg has to ignore some errors when building from scratch</code></td></tr></table>\n",
    "created_at": "2015-05-18T22:45:22Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0">fd0b5ec</a></td><td><code>sage-spkg has to ignore some errors when building from scratch</code></td></tr></table>




---

archive/issue_comments_256377.json:
```json
{
    "body": "**Changing commit** from \"[49aa3c5ddb0df89865383f84ab8ffa12a5a05551](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)\" to \"[fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)\".",
    "created_at": "2015-05-18T22:45:22Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[49aa3c5ddb0df89865383f84ab8ffa12a5a05551](https://github.com/sagemath/sagetrac-mirror/commit/49aa3c5ddb0df89865383f84ab8ffa12a5a05551)" to "[fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)".



---

archive/issue_comments_256378.json:
```json
{
    "body": "<a id='comment:5'></a>\nSurely, this is wrong:\n\n```\nsage-download-file \"$PKG_URL\" \"$PKG_TMP\"\nif [ $? -ne 0 ]; then\n    exit 1\nfi\nif [ $? -ne 0 ]; then\n    # Delete failed download\n    rm -f \"$PKG_TMP\"\n```",
    "created_at": "2015-05-19T08:41:47Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256378",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Surely, this is wrong:

```
sage-download-file "$PKG_URL" "$PKG_TMP"
if [ $? -ne 0 ]; then
    exit 1
fi
if [ $? -ne 0 ]; then
    # Delete failed download
    rm -f "$PKG_TMP"
```



---

archive/issue_events_165489.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T08:41:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165489"
}
```



---

archive/issue_events_165490.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T08:41:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165490"
}
```



---

archive/issue_comments_256379.json:
```json
{
    "body": "<a id='comment:6'></a>\nWhy this?\n\n```\nexport PYTHONUNBUFFERED=yes\n```\n\nWhy is it a problem if output is buffered?\n\n(I am a bit worried about performance implications, since this is passed to *every* Python script run during the installation of Sage).",
    "created_at": "2015-05-19T08:44:56Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256379",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Why this?

```
export PYTHONUNBUFFERED=yes
```

Why is it a problem if output is buffered?

(I am a bit worried about performance implications, since this is passed to *every* Python script run during the installation of Sage).



---

archive/issue_comments_256380.json:
```json
{
    "body": "<a id='comment:7'></a>\nAnd I also don't understand why you remove some of the\n\n```\nif [ $INFO -eq 0 ]; then\n```\nbranches.",
    "created_at": "2015-05-19T08:46:10Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256380",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
And I also don't understand why you remove some of the

```
if [ $INFO -eq 0 ]; then
```
branches.



---

archive/issue_comments_256381.json:
```json
{
    "body": "**Changing commit** from \"[fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)\" to \"[c8c260165d07b8a07d61698241f705e9f4a53fcd](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)\".",
    "created_at": "2015-05-19T09:00:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256381",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0](https://github.com/sagemath/sagetrac-mirror/commit/fd0b5ec2bb7b0a4a4713769c8e505a83a1d030a0)" to "[c8c260165d07b8a07d61698241f705e9f4a53fcd](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)".



---

archive/issue_comments_256382.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd\">c8c2601</a></td><td><code>remove extraneous error check</code></td></tr></table>\n",
    "created_at": "2015-05-19T09:00:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd">c8c2601</a></td><td><code>remove extraneous error check</code></td></tr></table>




---

archive/issue_comments_256383.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing. `PYTHONUNBUFFERED` only makes Python stdin/out unbuffered, and we don't print() that much. So I don't see where there could be a performance impact. Even in the worst case (passing the entire build log through Python unbuffered, which we don't do) its unlikely to take a long time compared to actually producing the build log.\n\nThe first INFO branch is about checking whether the tarball is already downloaded, which is now done by sage-download file. The second INFO branch is just printing logs, and I moved that to the relevant place.",
    "created_at": "2015-05-19T09:10:27Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256383",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>
The problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing. `PYTHONUNBUFFERED` only makes Python stdin/out unbuffered, and we don't print() that much. So I don't see where there could be a performance impact. Even in the worst case (passing the entire build log through Python unbuffered, which we don't do) its unlikely to take a long time compared to actually producing the build log.

The first INFO branch is about checking whether the tarball is already downloaded, which is now done by sage-download file. The second INFO branch is just printing logs, and I moved that to the relevant place.



---

archive/issue_comments_256384.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [vbraun](#comment%3A9):\n> The problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing.\n\nOf course, that can be done with `sys.stdout.flush()` also...\n\nRegarding this, I also don't think that `sage-spkg` is the best place to put this. I would rather like to put it in `build/deps`, so it also applies to building the Sage library.",
    "created_at": "2015-05-19T12:46:28Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256384",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [vbraun](#comment%3A9):
> The problem with buffering is that network connections might take a while, and the last message on the screen should be flushed to indicate what we are doing.

Of course, that can be done with `sys.stdout.flush()` also...

Regarding this, I also don't think that `sage-spkg` is the best place to put this. I would rather like to put it in `build/deps`, so it also applies to building the Sage library.



---

archive/issue_comments_256385.json:
```json
{
    "body": "<a id='comment:11'></a>\nNot sure I follow, `build/deps` is a Makefile but just setting a make variable is not good enough. You mean use the \"export\" gnu make extension to change the environment? \n\nProbably the best solution would be to subclass the stdout stream to a version that always flushes. But sage-download-file is already too many loc. I'm thinking to refactor it into a python package (say, `src/sage_bootstrap`) that deals with downloading and potentially other pre-installation stuff. That then could also be tested nicely with tox to see that it runs on different Python versions. But we should probably fix more urgent issues first.",
    "created_at": "2015-05-19T19:59:05Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256385",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>
Not sure I follow, `build/deps` is a Makefile but just setting a make variable is not good enough. You mean use the "export" gnu make extension to change the environment? 

Probably the best solution would be to subclass the stdout stream to a version that always flushes. But sage-download-file is already too many loc. I'm thinking to refactor it into a python package (say, `src/sage_bootstrap`) that deals with downloading and potentially other pre-installation stuff. That then could also be tested nicely with tox to see that it runs on different Python versions. But we should probably fix more urgent issues first.



---

archive/issue_comments_256386.json:
```json
{
    "body": "<a id='comment:12'></a>\nCan we just move the buffering stuff to a new ticket and focus on the \"more urgent issues first\" then?",
    "created_at": "2015-05-19T20:43:06Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256386",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Can we just move the buffering stuff to a new ticket and focus on the "more urgent issues first" then?



---

archive/issue_comments_256387.json:
```json
{
    "body": "<a id='comment:13'></a>\nSure, it just simplifies analyzing problems if the last log message is actually on the screen.",
    "created_at": "2015-05-19T21:44:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256387",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
Sure, it just simplifies analyzing problems if the last log message is actually on the screen.



---

archive/issue_comments_256388.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [vbraun](#comment%3A11):\n> You mean use the \"export\" gnu make extension to change the environment? \n\nWell, I guess we are already assuming `GNU make`. Alternatively, put it in `build/install`.",
    "created_at": "2015-05-20T07:27:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256388",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Replying to [vbraun](#comment%3A11):
> You mean use the "export" gnu make extension to change the environment? 

Well, I guess we are already assuming `GNU make`. Alternatively, put it in `build/install`.



---

archive/issue_comments_256389.json:
```json
{
    "body": "<a id='comment:15'></a>\nBut that is only used during the initial build, and not when running `sage -i <package>`, right?",
    "created_at": "2015-05-20T08:29:08Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256389",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>
But that is only used during the initial build, and not when running `sage -i <package>`, right?



---

archive/issue_comments_256390.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [vbraun](#comment%3A15):\n> But that is only used during the initial build, and not when running `sage -i <package>`, right?\n\n\nRight indeed.",
    "created_at": "2015-05-20T08:48:13Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256390",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Replying to [vbraun](#comment%3A15):
> But that is only used during the initial build, and not when running `sage -i <package>`, right?


Right indeed.



---

archive/issue_comments_256391.json:
```json
{
    "body": "**Changing branch** from \"[u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)\" to \"[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)\".",
    "created_at": "2015-05-30T08:10:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256391",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/vbraun/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/vbraun/error_checking_in_sage_spkg)" to "[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)".



---

archive/issue_comments_256392.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b\">a5e492d</a></td><td><code>Remove buffering fix</code></td></tr></table>\n",
    "created_at": "2015-05-30T08:12:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b">a5e492d</a></td><td><code>Remove buffering fix</code></td></tr></table>




---

archive/issue_comments_256393.json:
```json
{
    "body": "**Changing commit** from \"[c8c260165d07b8a07d61698241f705e9f4a53fcd](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)\" to \"[a5e492d50435e21d6525be194a0c7e89435ee15b](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)\".",
    "created_at": "2015-05-30T08:12:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256393",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c8c260165d07b8a07d61698241f705e9f4a53fcd](https://github.com/sagemath/sagetrac-mirror/commit/c8c260165d07b8a07d61698241f705e9f4a53fcd)" to "[a5e492d50435e21d6525be194a0c7e89435ee15b](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)".



---

archive/issue_comments_256394.json:
```json
{
    "body": "**Changing commit** from \"[a5e492d50435e21d6525be194a0c7e89435ee15b](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)\" to \"[616ee13ebf90ae0bf7a48398bd4951b3a0e26620](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)\".",
    "created_at": "2015-05-30T08:37:19Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256394",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a5e492d50435e21d6525be194a0c7e89435ee15b](https://github.com/sagemath/sagetrac-mirror/commit/a5e492d50435e21d6525be194a0c7e89435ee15b)" to "[616ee13ebf90ae0bf7a48398bd4951b3a0e26620](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)".



---

archive/issue_comments_256395.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620\">616ee13</a></td><td><code>Flush printed output</code></td></tr></table>\n",
    "created_at": "2015-05-30T08:37:19Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256395",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620">616ee13</a></td><td><code>Flush printed output</code></td></tr></table>




---

archive/issue_comments_256396.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729\">69a501d</a></td><td><code>Minor fixes to sage-spkg</code></td></tr></table>\n",
    "created_at": "2015-05-30T08:57:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729">69a501d</a></td><td><code>Minor fixes to sage-spkg</code></td></tr></table>




---

archive/issue_comments_256397.json:
```json
{
    "body": "**Changing commit** from \"[616ee13ebf90ae0bf7a48398bd4951b3a0e26620](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)\" to \"[69a501d5d4d9c26188c2e19757d091c7f7b5c729](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)\".",
    "created_at": "2015-05-30T08:57:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[616ee13ebf90ae0bf7a48398bd4951b3a0e26620](https://github.com/sagemath/sagetrac-mirror/commit/616ee13ebf90ae0bf7a48398bd4951b3a0e26620)" to "[69a501d5d4d9c26188c2e19757d091c7f7b5c729](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)".



---

archive/issue_events_165491.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165491"
}
```



---

archive/issue_events_165492.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165492"
}
```



---

archive/issue_events_165493.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165493"
}
```



---

archive/issue_events_165494.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165494"
}
```



---

archive/issue_comments_256398.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2015-05-30T08:58:09Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256398",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_comments_256399.json:
```json
{
    "body": "<a id='comment:22'></a>\nneeds review...",
    "created_at": "2015-06-03T08:31:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256399",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
needs review...



---

archive/issue_events_165495.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T08:48:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165495"
}
```



---

archive/issue_events_165496.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T08:48:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165496"
}
```



---

archive/issue_events_165497.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T23:22:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165497"
}
```



---

archive/issue_events_165498.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b156a5b3be999fae2e0306d724d2d8f8a5862213",
    "created_at": "2015-06-03T23:22:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18428#event-165498"
}
```



---

archive/issue_comments_256400.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)\" to \"[69a501d5d4d9c26188c2e19757d091c7f7b5c729](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)\".",
    "created_at": "2015-06-03T23:22:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18428",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18428#issuecomment-256400",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/error_checking_in_sage_spkg](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/error_checking_in_sage_spkg)" to "[69a501d5d4d9c26188c2e19757d091c7f7b5c729](https://github.com/sagemath/sagetrac-mirror/commit/69a501d5d4d9c26188c2e19757d091c7f7b5c729)".
