# Issue 18193: Fix CompleteDyckWords_size behaviour for negative size

archive/issues_017956.json:
```json
{
    "body": "Fix the CompleteDyckWords_size behaviour for negative size argument.\n\nBefore the change:\n\n```\nsage: DyckWords(-1)\nDyck words with -1 opening parentheses and -1 closing parentheses\nsage: DyckWords(-1).cardinality()\n...\nZeroDivisionError: \nsage: DyckWords(-2).cardinality()\n0\nsage: list(DyckWords(0))\n[[]]\nsage: list(DyckWords(-1))\n[[0]]\nsage: list(DyckWords(-2))\n[[0]] \nsage: DyckWords(-1).random_element() in DyckWords(-1)\nFalse\n```\n\nAfter the change:\n\n```\nsage: DyckWords(-1)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: k1 (= -1) must be nonnegative\n```\n\nCC:  @zabrocki sage-combinat vivianepons @tscrim @darijgr @nthiery @fchapoton\n\nKeywords: dyck words, sd67, combinatorics\n\nBranch/Commit: 7c69129a358cc730bf29a4c0f5d9257c485c9756\n\nReviewer: Darij Grinberg\n\nAuthor: Gr\u00e9gory Ch\u00e2tel\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18193\n\n",
    "closed_at": "2015-04-15T13:04:20Z",
    "created_at": "2015-04-14T19:16:51Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Fix CompleteDyckWords_size behaviour for negative size",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18193",
    "user": "https://github.com/rodgzilla"
}
```
Fix the CompleteDyckWords_size behaviour for negative size argument.

Before the change:

```
sage: DyckWords(-1)
Dyck words with -1 opening parentheses and -1 closing parentheses
sage: DyckWords(-1).cardinality()
...
ZeroDivisionError: 
sage: DyckWords(-2).cardinality()
0
sage: list(DyckWords(0))
[[]]
sage: list(DyckWords(-1))
[[0]]
sage: list(DyckWords(-2))
[[0]] 
sage: DyckWords(-1).random_element() in DyckWords(-1)
False
```

After the change:

```
sage: DyckWords(-1)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: k1 (= -1) must be nonnegative
```

CC:  @zabrocki sage-combinat vivianepons @tscrim @darijgr @nthiery @fchapoton

Keywords: dyck words, sd67, combinatorics

Branch/Commit: 7c69129a358cc730bf29a4c0f5d9257c485c9756

Reviewer: Darij Grinberg

Author: Grégory Châtel

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18193





---

archive/issue_comments_315110.json:
```json
{
    "body": "Changing author from \"\" to \"Gr\u00e9gory Ch\u00e2tel\"",
    "created_at": "2015-04-14T19:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315110",
    "user": "https://github.com/rodgzilla"
}
```

Changing author from "" to "Grégory Châtel"



---

archive/issue_comments_315111.json:
```json
{
    "body": "Changing keywords from \"\" to \"dyck words\".",
    "created_at": "2015-04-14T19:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315111",
    "user": "https://github.com/rodgzilla"
}
```

Changing keywords from "" to "dyck words".



---

archive/issue_comments_315112.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,19 @@\n+Fix the CompleteDyckWords_size behaviour for negative size argument.\n \n+```\n+sage: DyckWords(-1)\n+Dyck words with -1 opening parentheses and -1 closing parentheses\n+sage: DyckWords(-1).cardinality()\n+...\n+ZeroDivisionError: \n+sage: DyckWords(-2).cardinality()\n+0\n+sage: list(DyckWords(0))\n+[[]]\n+sage: list(DyckWords(-1))\n+[[0]]\n+sage: list(DyckWords(-2))\n+[[0]] \n+sage: DyckWords(-1).random_element() in DyckWords(-1)\n+False\n+```\n``````\n",
    "created_at": "2015-04-14T19:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315112",
    "user": "https://github.com/rodgzilla"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,19 @@
+Fix the CompleteDyckWords_size behaviour for negative size argument.
 
+```
+sage: DyckWords(-1)
+Dyck words with -1 opening parentheses and -1 closing parentheses
+sage: DyckWords(-1).cardinality()
+...
+ZeroDivisionError: 
+sage: DyckWords(-2).cardinality()
+0
+sage: list(DyckWords(0))
+[[]]
+sage: list(DyckWords(-1))
+[[0]]
+sage: list(DyckWords(-2))
+[[0]] 
+sage: DyckWords(-1).random_element() in DyckWords(-1)
+False
+```
``````




---

archive/issue_comments_315113.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2015-04-14T19:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315113",
    "user": "https://github.com/rodgzilla"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_315114.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2015-04-14T19:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315114",
    "user": "https://github.com/rodgzilla"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_315115.json:
```json
{
    "body": "Changing keywords from \"dyck words\" to \"dyck words, sd67, combinatorics\".",
    "created_at": "2015-04-14T19:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315115",
    "user": "https://github.com/rodgzilla"
}
```

Changing keywords from "dyck words" to "dyck words, sd67, combinatorics".



---

archive/issue_comments_315116.json:
```json
{
    "body": "Changing branch from \"\" to \"u/g.chatel/fix_completedyckwords_size_behaviour_for_negative_size\"",
    "created_at": "2015-04-14T20:02:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315116",
    "user": "https://github.com/rodgzilla"
}
```

Changing branch from "" to "u/g.chatel/fix_completedyckwords_size_behaviour_for_negative_size"



---

archive/issue_comments_315117.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Fix the CompleteDyckWords_size behaviour for negative size argument.\n+\n+Before the change:\n \n ```\n sage: DyckWords(-1)\n@@ -17,3 +19,13 @@\n sage: DyckWords(-1).random_element() in DyckWords(-1)\n False\n ```\n+\n+After the change:\n+\n+```\n+sage: DyckWords(-1)\n+---------------------------------------------------------------------------\n+ValueError                                Traceback (most recent call last)\n+...\n+ValueError: k1 (= -1) must be nonnegative\n+```\n``````\n",
    "created_at": "2015-04-14T20:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315117",
    "user": "https://github.com/rodgzilla"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Fix the CompleteDyckWords_size behaviour for negative size argument.
+
+Before the change:
 
 ```
 sage: DyckWords(-1)
@@ -17,3 +19,13 @@
 sage: DyckWords(-1).random_element() in DyckWords(-1)
 False
 ```
+
+After the change:
+
+```
+sage: DyckWords(-1)
+---------------------------------------------------------------------------
+ValueError                                Traceback (most recent call last)
+...
+ValueError: k1 (= -1) must be nonnegative
+```
``````




---

archive/issue_comments_315118.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-14T20:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315118",
    "user": "https://github.com/rodgzilla"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_315119.json:
```json
{
    "body": "Changing commit from \"\" to \"c0f3e47a7e26b683fdee7d4875a50457b6f25142\"",
    "created_at": "2015-04-14T20:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315119",
    "user": "https://github.com/rodgzilla"
}
```

Changing commit from "" to "c0f3e47a7e26b683fdee7d4875a50457b6f25142"



---

archive/issue_comments_315120.json:
```json
{
    "body": "<a id='comment:6'></a>\nEither the branch is wrong, or trac fails at fetching the right branch. Please fix this (might involve changing the branch to one that includes no periods in its name).",
    "created_at": "2015-04-14T20:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315120",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'></a>
Either the branch is wrong, or trac fails at fetching the right branch. Please fix this (might involve changing the branch to one that includes no periods in its name).



---

archive/issue_comments_315121.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-14T20:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315121",
    "user": "https://github.com/rodgzilla"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_315122.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[7c69129](http://git.sagemath.org/sage.git/commit/?id=7c69129a358cc730bf29a4c0f5d9257c485c9756)|`Testing that the size argument is a nonnegative integer.`|",
    "created_at": "2015-04-14T20:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315122",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[7c69129](http://git.sagemath.org/sage.git/commit/?id=7c69129a358cc730bf29a4c0f5d9257c485c9756)|`Testing that the size argument is a nonnegative integer.`|



---

archive/issue_comments_315123.json:
```json
{
    "body": "Changing commit from \"c0f3e47a7e26b683fdee7d4875a50457b6f25142\" to \"7c69129a358cc730bf29a4c0f5d9257c485c9756\"",
    "created_at": "2015-04-14T20:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315123",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c0f3e47a7e26b683fdee7d4875a50457b6f25142" to "7c69129a358cc730bf29a4c0f5d9257c485c9756"



---

archive/issue_comments_315124.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-14T20:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315124",
    "user": "https://github.com/rodgzilla"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_315125.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-14T20:28:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315125",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_315126.json:
```json
{
    "body": "<a id='comment:11'></a>\nPositive review provided that the doctests pass (if not, there are bugs somewhere else :) )",
    "created_at": "2015-04-14T20:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315126",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:11'></a>
Positive review provided that the doctests pass (if not, there are bugs somewhere else :) )



---

archive/issue_comments_315127.json:
```json
{
    "body": "<a id='comment:12'></a>\nReviewer name missing",
    "created_at": "2015-04-15T00:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315127",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>
Reviewer name missing



---

archive/issue_comments_315128.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-04-15T00:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315128",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_315129.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Darij Grinberg\"",
    "created_at": "2015-04-15T01:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315129",
    "user": "https://github.com/darijgr"
}
```

Changing reviewer from "" to "Darij Grinberg"



---

archive/issue_comments_315130.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-04-15T01:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315130",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_315131.json:
```json
{
    "body": "Changing branch from \"u/g.chatel/fix_completedyckwords_size_behaviour_for_negative_size\" to \"7c69129a358cc730bf29a4c0f5d9257c485c9756\"",
    "created_at": "2015-04-15T13:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315131",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/g.chatel/fix_completedyckwords_size_behaviour_for_negative_size" to "7c69129a358cc730bf29a4c0f5d9257c485c9756"



---

archive/issue_comments_315132.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-15T13:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18193#issuecomment-315132",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051447.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-15T13:04:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18193",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18193#event-51447"
}
```
