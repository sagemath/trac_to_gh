# Issue 18468: Bott Bundles, second attempt

archive/issues_018231.json:
```json
{
    "body": "This ticket adds a package of name sage.geometry.bott_bundles to compute cohomology and rank of some homogeneous vector bundles over flag manifolds via Bott's theorem for the general linear group, see [w] in the documentation. \n\nThere is a lot of work to do on flag manifolds, but it seems it works quite well with grassmannians, while performing a Schur functor can be really slow.\n\nWe appreciate any review.\n\nBranch: [u/caravantes/bott_bundles_2nd_attempt](https://github.com/sagemath/sagetrac-mirror/tree/u/caravantes/bott_bundles_2nd_attempt)\n\nWork Issues: merge conflicts\n\nAuthor: Jorge Caravantes, Alicia Tocino\n\nStatus: needs_work\n\nCommit: d3a226c9e5ec4a53121ae55d669cfb8f92a61eec\n\nIssue created by migration from https://trac.sagemath.org/ticket/18468\n\n",
    "created_at": "2015-05-21T21:11:38Z",
    "labels": [
        "component: algebraic geometry",
        "minor"
    ],
    "title": "Bott Bundles, second attempt",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18468",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```
This ticket adds a package of name sage.geometry.bott_bundles to compute cohomology and rank of some homogeneous vector bundles over flag manifolds via Bott's theorem for the general linear group, see [w] in the documentation. 

There is a lot of work to do on flag manifolds, but it seems it works quite well with grassmannians, while performing a Schur functor can be really slow.

We appreciate any review.

Branch: [u/caravantes/bott_bundles_2nd_attempt](https://github.com/sagemath/sagetrac-mirror/tree/u/caravantes/bott_bundles_2nd_attempt)

Work Issues: merge conflicts

Author: Jorge Caravantes, Alicia Tocino

Status: needs_work

Commit: d3a226c9e5ec4a53121ae55d669cfb8f92a61eec

Issue created by migration from https://trac.sagemath.org/ticket/18468





---

archive/issue_comments_326097.json:
```json
{
    "body": "Changing branch from \"\" to \"u/caravantes/bott_bundles_2nd_attempt\"",
    "created_at": "2015-05-21T21:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326097",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

Changing branch from "" to "u/caravantes/bott_bundles_2nd_attempt"



---

archive/issue_comments_326098.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[a24cf52](https://github.com/sagemath/sagetrac-mirror/commit/a24cf5225fffbc2020eaf64f244e4ea5fb88a418)|`Added package bott_bundles`|",
    "created_at": "2015-05-21T21:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[a24cf52](https://github.com/sagemath/sagetrac-mirror/commit/a24cf5225fffbc2020eaf64f244e4ea5fb88a418)|`Added package bott_bundles`|



---

archive/issue_comments_326099.json:
```json
{
    "body": "Changing commit from \"\" to \"a24cf5225fffbc2020eaf64f244e4ea5fb88a418\"",
    "created_at": "2015-05-21T21:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "a24cf5225fffbc2020eaf64f244e4ea5fb88a418"



---

archive/issue_comments_326100.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-21T21:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326100",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_326101.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+This ticket adds a package of name sage.geometry.bott_bundles to compute cohomology and rank of some homogeneous vector bundles over flag manifolds via Bott's theorem for the general linear group, see [w] in the documentation. \n \n+There is a lot of work to do on flag manifolds, but it seems it works quite well with grassmannians, while performing a Schur functor can be really slow.\n+\n+We appreciate any review.\n``````\n",
    "created_at": "2015-05-21T21:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326101",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+This ticket adds a package of name sage.geometry.bott_bundles to compute cohomology and rank of some homogeneous vector bundles over flag manifolds via Bott's theorem for the general linear group, see [w] in the documentation. 
 
+There is a lot of work to do on flag manifolds, but it seems it works quite well with grassmannians, while performing a Schur functor can be really slow.
+
+We appreciate any review.
``````




---

archive/issue_comments_326102.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-27T19:33:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326102",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_326103.json:
```json
{
    "body": "<a id='comment:4'></a>\naccording to the patchbot:\n\nMissing doctests  geometry/bott_bundles.py 33 / 36 = 91%\n\nYou need to doctest every single function to reach 100% coverage",
    "created_at": "2015-05-27T19:33:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326103",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
according to the patchbot:

Missing doctests  geometry/bott_bundles.py 33 / 36 = 91%

You need to doctest every single function to reach 100% coverage



---

archive/issue_comments_326104.json:
```json
{
    "body": "<a id='comment:5'></a>\nThought I had. I'll try to do it.\n\nThanks!",
    "created_at": "2015-05-28T14:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326104",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

<a id='comment:5'></a>
Thought I had. I'll try to do it.

Thanks!



---

archive/issue_comments_326105.json:
```json
{
    "body": "<a id='comment:6'></a>\n`EXAMPLES:` should be `EXAMPLES::`\n\n`TODO:` should be `.. TODO::`",
    "created_at": "2015-05-28T14:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326105",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
`EXAMPLES:` should be `EXAMPLES::`

`TODO:` should be `.. TODO::`



---

archive/issue_comments_326106.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[ee8b1c6](https://github.com/sagemath/sagetrac-mirror/commit/ee8b1c6d2dccca7f2de20d7c51df982662360357)|`Modified bott_bundles.py to add doctests to all functions lacking.`|",
    "created_at": "2015-06-01T16:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[ee8b1c6](https://github.com/sagemath/sagetrac-mirror/commit/ee8b1c6d2dccca7f2de20d7c51df982662360357)|`Modified bott_bundles.py to add doctests to all functions lacking.`|



---

archive/issue_comments_326107.json:
```json
{
    "body": "Changing commit from \"a24cf5225fffbc2020eaf64f244e4ea5fb88a418\" to \"ee8b1c6d2dccca7f2de20d7c51df982662360357\"",
    "created_at": "2015-06-01T16:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326107",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a24cf5225fffbc2020eaf64f244e4ea5fb88a418" to "ee8b1c6d2dccca7f2de20d7c51df982662360357"



---

archive/issue_comments_326108.json:
```json
{
    "body": "<a id='comment:8'></a>\nHopefully this is now solved. Thanks for reviewing it. \n\nI have tried to run patchbot, but I do not understand the output. However, I think I gave examples to all functions and when running doctests, everything apparently worked. I copy the output:\n\n\n```\njorge@Grandote:~/sage$ sage -patchbot\nGetting trusted author list...\nWARNING: Do not use this copy of sage while the patchbot is running.\n'/home/jorge/sage'/sage -i ccache\nAttempting to download package ccache\n>>> Checking online list of optional packages.\nTraceback (most recent call last):\n  File \"/home/jorge/sage/src/bin/sage-download-file\", line 418, in <module>\n    tarball = Tarball(url)\n  File \"/home/jorge/sage/src/bin/sage-download-file\", line 265, in __init__\n    self.base, self.verson, self.ext = self._parse_name(tarball_name)\n  File \"/home/jorge/sage/src/bin/sage-download-file\", line 290, in _parse_name\n    raise ValueError('tarball name must be of the form source-x.y.z.[tar.*|zip|tgz]')\nValueError: tarball name must be of the form source-x.y.z.[tar.*|zip|tgz]\nError: failed to download Downloading the Sage mirror list\nSearching fastest mirror\n  755ms: http://echidna.maths.usyd.edu.au/sage/\n  512ms: http://files.sagemath.org/\n  790ms: http://ftp.kaist.ac.kr/sage/\n  462ms: http://ftp.leg.uct.ac.za/pub/packages/sage/\n 1110ms: http://ftp.riken.jp/sagemath/\n 1287ms: http://ftp.tsukuba.wide.ad.jp/software/sage/\n  883ms: http://ftp.yz.yamagata-u.ac.jp/pub/math/sage/\n  893ms: http://jambu.spms.ntu.edu.sg/sage/\n 1185ms: http://linorg.usp.br/sage/\n  815ms: http://mirror.aarnet.edu.au/pub/sage/\n 1376ms: http://mirror.hust.edu.cn/sagemath/\n  560ms: http://mirror.ufs.ac.za/sagemath/\n  214ms: http://mirror.yandex.ru/mirrors/sage.math.washington.edu/\n  230ms: http://mirrors-ru.go-parts.com/sage/sagemath/\n  251ms: http://mirrors-uk.go-parts.com/sage/sagemath/\n  273ms: http://mirrors-usa.go-parts.com/sage/sagemath/\n  272ms: http://mirrors.fe.up.pt/pub/sage/\n  279ms: http://mirrors.mit.edu/sage/\n 6516ms: http://mirrors.ustc.edu.cn/sagemath/\n  531ms: http://mirrors.xmission.com/sage/\n  399ms: http://sage.mirror.garr.it/mirrors/sage/\n11271ms: http://sagemath.c3sl.ufpr.br/\n  948ms: http://sagemath.mirror.ac.za/\n 1604ms: http://sagemath.polytechnic.edu.na/\n  132ms: http://sunsite.rediris.es/mirror/sagemath/\n  255ms: http://www-ftp.lip6.fr/pub/math/sagemath/\n  916ms: http://www.cecm.sfu.ca/sage/\n  264ms: http://www.mirrorservice.org/sites/www.sagemath.org/\nFastest mirror: http://sunsite.rediris.es/mirror/sagemath/\nhttp://sunsite.rediris.es/mirror/sagemath//spkg/optional/list, aborting\nTraceback (most recent call last):\n  File \"/home/jorge/sage/local/bin/patchbot/patchbot.py\", line 1091, in <module>\n    main(args)\n  File \"/home/jorge/sage/local/bin/patchbot/patchbot.py\", line 1031, in main\n    do_or_die(\"'%s'/sage -i ccache\" % options.sage_root, exn_class=ConfigException)\n  File \"/home/jorge/sage/local/bin/patchbot/util.py\", line 141, in do_or_die\n    raise exn_class(\"%s %s\" % (res, cmd))\nutil.ConfigException: 256 '/home/jorge/sage'/sage -i ccache\n\n```",
    "created_at": "2015-06-01T17:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326108",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

<a id='comment:8'></a>
Hopefully this is now solved. Thanks for reviewing it. 

I have tried to run patchbot, but I do not understand the output. However, I think I gave examples to all functions and when running doctests, everything apparently worked. I copy the output:


```
jorge@Grandote:~/sage$ sage -patchbot
Getting trusted author list...
WARNING: Do not use this copy of sage while the patchbot is running.
'/home/jorge/sage'/sage -i ccache
Attempting to download package ccache
>>> Checking online list of optional packages.
Traceback (most recent call last):
  File "/home/jorge/sage/src/bin/sage-download-file", line 418, in <module>
    tarball = Tarball(url)
  File "/home/jorge/sage/src/bin/sage-download-file", line 265, in __init__
    self.base, self.verson, self.ext = self._parse_name(tarball_name)
  File "/home/jorge/sage/src/bin/sage-download-file", line 290, in _parse_name
    raise ValueError('tarball name must be of the form source-x.y.z.[tar.*|zip|tgz]')
ValueError: tarball name must be of the form source-x.y.z.[tar.*|zip|tgz]
Error: failed to download Downloading the Sage mirror list
Searching fastest mirror
  755ms: http://echidna.maths.usyd.edu.au/sage/
  512ms: http://files.sagemath.org/
  790ms: http://ftp.kaist.ac.kr/sage/
  462ms: http://ftp.leg.uct.ac.za/pub/packages/sage/
 1110ms: http://ftp.riken.jp/sagemath/
 1287ms: http://ftp.tsukuba.wide.ad.jp/software/sage/
  883ms: http://ftp.yz.yamagata-u.ac.jp/pub/math/sage/
  893ms: http://jambu.spms.ntu.edu.sg/sage/
 1185ms: http://linorg.usp.br/sage/
  815ms: http://mirror.aarnet.edu.au/pub/sage/
 1376ms: http://mirror.hust.edu.cn/sagemath/
  560ms: http://mirror.ufs.ac.za/sagemath/
  214ms: http://mirror.yandex.ru/mirrors/sage.math.washington.edu/
  230ms: http://mirrors-ru.go-parts.com/sage/sagemath/
  251ms: http://mirrors-uk.go-parts.com/sage/sagemath/
  273ms: http://mirrors-usa.go-parts.com/sage/sagemath/
  272ms: http://mirrors.fe.up.pt/pub/sage/
  279ms: http://mirrors.mit.edu/sage/
 6516ms: http://mirrors.ustc.edu.cn/sagemath/
  531ms: http://mirrors.xmission.com/sage/
  399ms: http://sage.mirror.garr.it/mirrors/sage/
11271ms: http://sagemath.c3sl.ufpr.br/
  948ms: http://sagemath.mirror.ac.za/
 1604ms: http://sagemath.polytechnic.edu.na/
  132ms: http://sunsite.rediris.es/mirror/sagemath/
  255ms: http://www-ftp.lip6.fr/pub/math/sagemath/
  916ms: http://www.cecm.sfu.ca/sage/
  264ms: http://www.mirrorservice.org/sites/www.sagemath.org/
Fastest mirror: http://sunsite.rediris.es/mirror/sagemath/
http://sunsite.rediris.es/mirror/sagemath//spkg/optional/list, aborting
Traceback (most recent call last):
  File "/home/jorge/sage/local/bin/patchbot/patchbot.py", line 1091, in <module>
    main(args)
  File "/home/jorge/sage/local/bin/patchbot/patchbot.py", line 1031, in main
    do_or_die("'%s'/sage -i ccache" % options.sage_root, exn_class=ConfigException)
  File "/home/jorge/sage/local/bin/patchbot/util.py", line 141, in do_or_die
    raise exn_class("%s %s" % (res, cmd))
util.ConfigException: 256 '/home/jorge/sage'/sage -i ccache

```



---

archive/issue_comments_326109.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-01T17:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326109",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_326110.json:
```json
{
    "body": "<a id='comment:9'></a>\nHello,\n\nyou do not need to run the patchbot, you can just have a look at the result of the existing patchbots, by clicking on the colored round icon at the top right of this page. This leads to the page where you can find the reports on your ticket. There is only one report so far because you are not a \"trusted author\" yet.\n\na few more things::\n\nEXAPLES should be EXAMPLES\n\npletysm should be plethysm\n\nThe TODO:: should really be `.. TODO::` with .. and space before\n\nyou can check coverage of a file by running sage -coverage filename.py",
    "created_at": "2015-06-01T18:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326110",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
Hello,

you do not need to run the patchbot, you can just have a look at the result of the existing patchbots, by clicking on the colored round icon at the top right of this page. This leads to the page where you can find the reports on your ticket. There is only one report so far because you are not a "trusted author" yet.

a few more things::

EXAPLES should be EXAMPLES

pletysm should be plethysm

The TODO:: should really be `.. TODO::` with .. and space before

you can check coverage of a file by running sage -coverage filename.py



---

archive/issue_comments_326111.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks again for all the info!\n\n> EXAPLES should be EXAMPLES\n> pletysm should be plethysm\n\n\nOuch! Sorry!\n\n> The TODO:: should really be `.. TODO::` with .. and space before\n\nDone, I hope.\n\n > you can check coverage of a file by running sage -coverage filename.py\n\nThanks! It says 100% now. \n\nI hope I can push during this week. Sorry for all the stupid mistakes and thanks for your patience and guidance.",
    "created_at": "2015-06-02T10:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326111",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

<a id='comment:10'></a>
Thanks again for all the info!

> EXAPLES should be EXAMPLES
> pletysm should be plethysm


Ouch! Sorry!

> The TODO:: should really be `.. TODO::` with .. and space before

Done, I hope.

 > you can check coverage of a file by running sage -coverage filename.py

Thanks! It says 100% now. 

I hope I can push during this week. Sorry for all the stupid mistakes and thanks for your patience and guidance.



---

archive/issue_comments_326112.json:
```json
{
    "body": "Changing commit from \"ee8b1c6d2dccca7f2de20d7c51df982662360357\" to \"d12715b44d9db3120682d46964d98468b1e8ae39\"",
    "created_at": "2015-06-10T08:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326112",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee8b1c6d2dccca7f2de20d7c51df982662360357" to "d12715b44d9db3120682d46964d98468b1e8ae39"



---

archive/issue_comments_326113.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[d12715b](https://github.com/sagemath/sagetrac-mirror/commit/d12715b44d9db3120682d46964d98468b1e8ae39)|`\tmodified: src/sage/geometry/bott_bundles.py`|",
    "created_at": "2015-06-10T08:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326113",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[d12715b](https://github.com/sagemath/sagetrac-mirror/commit/d12715b44d9db3120682d46964d98468b1e8ae39)|`	modified: src/sage/geometry/bott_bundles.py`|



---

archive/issue_comments_326114.json:
```json
{
    "body": "<a id='comment:12'></a>\nMistypes should be corrected now. Needing review again.",
    "created_at": "2015-06-10T09:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326114",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

<a id='comment:12'></a>
Mistypes should be corrected now. Needing review again.



---

archive/issue_comments_326115.json:
```json
{
    "body": "<a id='comment:13'></a>\nSince there is a lot more that one could do with flag manifolds I'd suggest a new directory `sage/geometry/flag_manifold` and at least separate files for the base space and bundles. \n\nCan you go through the comments and\n* remove everything that is not needed: `# nu[j]=nu[j+1]-1` and so on\n* remove debug print statements\n* translate comments to English, I don't speak Spanish and have no idea what you mean\n\nStyle guide issue: INPUT has two dashes between name and description\nhttp://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content\n\n```\nINPUT:\n\n- ``p`` -- (default: 2) a positive prime integer.\n```\n\nIntegration with the rest of Sage: object should at least inherit from SageObject and use `_repr_` instead of `__repr__`. There is a lot more, e.g. the semigroup structure on bundles etc but thats at least a start.\n\nConstructors (and methods in general) should never print anything as side effect, otherwise you can't really use them as building blocks elsewhere. Only `_repr_` should return a description. If you want a more detailed description, add a special method for that (`explain()` or so).\n\nInstead of `.Q()`, consider more descriptive names like `.universal_quotient_bundle()`. Tab completion will then be much more useful. Or collect them into an intermediate property like `.bundle.universal_quotient()` (see also #15328)",
    "created_at": "2015-09-18T18:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326115",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
Since there is a lot more that one could do with flag manifolds I'd suggest a new directory `sage/geometry/flag_manifold` and at least separate files for the base space and bundles. 

Can you go through the comments and
* remove everything that is not needed: `# nu[j]=nu[j+1]-1` and so on
* remove debug print statements
* translate comments to English, I don't speak Spanish and have no idea what you mean

Style guide issue: INPUT has two dashes between name and description
http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content

```
INPUT:

- ``p`` -- (default: 2) a positive prime integer.
```

Integration with the rest of Sage: object should at least inherit from SageObject and use `_repr_` instead of `__repr__`. There is a lot more, e.g. the semigroup structure on bundles etc but thats at least a start.

Constructors (and methods in general) should never print anything as side effect, otherwise you can't really use them as building blocks elsewhere. Only `_repr_` should return a description. If you want a more detailed description, add a special method for that (`explain()` or so).

Instead of `.Q()`, consider more descriptive names like `.universal_quotient_bundle()`. Tab completion will then be much more useful. Or collect them into an intermediate property like `.bundle.universal_quotient()` (see also #15328)



---

archive/issue_comments_326116.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks. We'll try to rework it.",
    "created_at": "2015-09-25T19:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326116",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

<a id='comment:14'></a>
Thanks. We'll try to rework it.



---

archive/issue_comments_326117.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-09-25T19:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326117",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_326118.json:
```json
{
    "body": "Changing commit from \"d12715b44d9db3120682d46964d98468b1e8ae39\" to \"6c83c184c562fc75cf3049f8b961f634f9820e7f\"",
    "created_at": "2016-04-07T15:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326118",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d12715b44d9db3120682d46964d98468b1e8ae39" to "6c83c184c562fc75cf3049f8b961f634f9820e7f"



---

archive/issue_comments_326119.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[4f54f23](https://github.com/sagemath/sagetrac-mirror/commit/4f54f233971a60724837957deed8078aee6bb726)|`Added package bott_bundles`|\n|[83e4fd9](https://github.com/sagemath/sagetrac-mirror/commit/83e4fd95f6a72ea336a817aee8fec4155138e1bb)|`Modified bott_bundles.py to add doctests to all functions lacking.`|\n|[d77503b](https://github.com/sagemath/sagetrac-mirror/commit/d77503b2bf6b98ee1df0b7ad6501054a6cbe6831)|`\tmodified: src/sage/geometry/bott_bundles.py`|\n|[6d381d8](https://github.com/sagemath/sagetrac-mirror/commit/6d381d83946cb203cd1bb667a849f515d2aeae29)|`Updated to sage 7.1. Referee comments applied`|\n|[e9caab8](https://github.com/sagemath/sagetrac-mirror/commit/e9caab898a01bb01776efd9896dff8876e5ea88c)|`Merge branch 'u/caravantes/bott_bundles_2nd_attempt' of trac.sagemath.org:sage into bott_bundles`|\n|[6c83c18](https://github.com/sagemath/sagetrac-mirror/commit/6c83c184c562fc75cf3049f8b961f634f9820e7f)|`Removed src/sage/geometry/bott_bundles.py`|",
    "created_at": "2016-04-07T15:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[4f54f23](https://github.com/sagemath/sagetrac-mirror/commit/4f54f233971a60724837957deed8078aee6bb726)|`Added package bott_bundles`|
|[83e4fd9](https://github.com/sagemath/sagetrac-mirror/commit/83e4fd95f6a72ea336a817aee8fec4155138e1bb)|`Modified bott_bundles.py to add doctests to all functions lacking.`|
|[d77503b](https://github.com/sagemath/sagetrac-mirror/commit/d77503b2bf6b98ee1df0b7ad6501054a6cbe6831)|`	modified: src/sage/geometry/bott_bundles.py`|
|[6d381d8](https://github.com/sagemath/sagetrac-mirror/commit/6d381d83946cb203cd1bb667a849f515d2aeae29)|`Updated to sage 7.1. Referee comments applied`|
|[e9caab8](https://github.com/sagemath/sagetrac-mirror/commit/e9caab898a01bb01776efd9896dff8876e5ea88c)|`Merge branch 'u/caravantes/bott_bundles_2nd_attempt' of trac.sagemath.org:sage into bott_bundles`|
|[6c83c18](https://github.com/sagemath/sagetrac-mirror/commit/6c83c184c562fc75cf3049f8b961f634f9820e7f)|`Removed src/sage/geometry/bott_bundles.py`|



---

archive/issue_comments_326120.json:
```json
{
    "body": "Changing commit from \"6c83c184c562fc75cf3049f8b961f634f9820e7f\" to \"d3a226c9e5ec4a53121ae55d669cfb8f92a61eec\"",
    "created_at": "2016-04-07T17:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326120",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6c83c184c562fc75cf3049f8b961f634f9820e7f" to "d3a226c9e5ec4a53121ae55d669cfb8f92a61eec"



---

archive/issue_comments_326121.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[d3a226c](https://github.com/sagemath/sagetrac-mirror/commit/d3a226c9e5ec4a53121ae55d669cfb8f92a61eec)|`Now all classes inherit from SageObject`|",
    "created_at": "2016-04-07T17:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326121",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[d3a226c](https://github.com/sagemath/sagetrac-mirror/commit/d3a226c9e5ec4a53121ae55d669cfb8f92a61eec)|`Now all classes inherit from SageObject`|



---

archive/issue_comments_326122.json:
```json
{
    "body": "<a id='comment:18'></a>\nIt's been a long time, but at last we could save some time to fix this. First of all, thanks for all the suggestions, and the patience to show us the correct way.\n\nAll comments shoud have been applied as suggested but the following one:\n\nReplying to [vbraun](#comment%3A13):\n> Since there is a lot more that one could do with flag manifolds I'd suggest a new directory `sage/geometry/flag_manifold` and at least separate files for the base space and bundles. \n\n\nWe have created the directory `flag_manifold` and now moved the file inside it. It is now called `bott_bundle.py`, since using singular instead of plural seems to be the convention. \n\nWe also have considered to include the file in `schemes`, instead of `geometry`, but it seeems that, while the dimension is easy to get, the partition that defines it as a flag manifold does not seem easy to extract from the object as a `scheme`. Moreover, making it a child class from the flag manifolds class would require some changes in `schemes` directory, and we are too afraid to change these files. Therefore, we still remain in `geometry`.\n\nIn the end, we decided to leave the base spaces in `bott_bunlde.py` and we have not created a `flag_manifold.py` file. The main reason is that we could not manage to code methods like universal_quotient_bundle, since it seems that we need `bott_bundle.py` calling `flag_manifold.py` and viceversa. We can rework it if someone suggest us how to solve this problem of the double calling.\n\nInstead of two separate files, we have renamed the base space classes to include `ForBottBundles`. This way, names like `Grassmannian` are free to use for different purposes. \n\n\nAs before, we appreciate any new comments.",
    "created_at": "2016-04-07T17:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326122",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

<a id='comment:18'></a>
It's been a long time, but at last we could save some time to fix this. First of all, thanks for all the suggestions, and the patience to show us the correct way.

All comments shoud have been applied as suggested but the following one:

Replying to [vbraun](#comment%3A13):
> Since there is a lot more that one could do with flag manifolds I'd suggest a new directory `sage/geometry/flag_manifold` and at least separate files for the base space and bundles. 


We have created the directory `flag_manifold` and now moved the file inside it. It is now called `bott_bundle.py`, since using singular instead of plural seems to be the convention. 

We also have considered to include the file in `schemes`, instead of `geometry`, but it seeems that, while the dimension is easy to get, the partition that defines it as a flag manifold does not seem easy to extract from the object as a `scheme`. Moreover, making it a child class from the flag manifolds class would require some changes in `schemes` directory, and we are too afraid to change these files. Therefore, we still remain in `geometry`.

In the end, we decided to leave the base spaces in `bott_bunlde.py` and we have not created a `flag_manifold.py` file. The main reason is that we could not manage to code methods like universal_quotient_bundle, since it seems that we need `bott_bundle.py` calling `flag_manifold.py` and viceversa. We can rework it if someone suggest us how to solve this problem of the double calling.

Instead of two separate files, we have renamed the base space classes to include `ForBottBundles`. This way, names like `Grassmannian` are free to use for different purposes. 


As before, we appreciate any new comments.



---

archive/issue_comments_326123.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-07T17:41:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326123",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_326124.json:
```json
{
    "body": "<a id='comment:20'></a>\nPlease add your full name in the \"Authors\" field of the ticket (otherwise the patchbot will not care about it).",
    "created_at": "2016-04-07T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326124",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
Please add your full name in the "Authors" field of the ticket (otherwise the patchbot will not care about it).



---

archive/issue_comments_326125.json:
```json
{
    "body": "Changing author from \"\" to \"Jorge Caravantes and Alicia Tocino\"",
    "created_at": "2016-04-07T20:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326125",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

Changing author from "" to "Jorge Caravantes and Alicia Tocino"



---

archive/issue_comments_326126.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [vdelecroix](#comment%3A20):\n> Please add your full name in the \"Authors\" field of the ticket (otherwise the patchbot will not care about it).\n\n\n\u00a1Thanks for the indication! Done",
    "created_at": "2016-04-07T20:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326126",
    "user": "https://trac.sagemath.org/admin/accounts/users/caravantes"
}
```

<a id='comment:22'></a>
Replying to [vdelecroix](#comment%3A20):
> Please add your full name in the "Authors" field of the ticket (otherwise the patchbot will not care about it).


Â¡Thanks for the indication! Done



---

archive/issue_comments_326127.json:
```json
{
    "body": "Changing author from \"Jorge Caravantes and Alicia Tocino\" to \"Jorge Caravantes, Alicia Tocino\"",
    "created_at": "2016-09-08T09:13:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326127",
    "user": "https://github.com/videlec"
}
```

Changing author from "Jorge Caravantes and Alicia Tocino" to "Jorge Caravantes, Alicia Tocino"



---

archive/issue_comments_326128.json:
```json
{
    "body": "<a id='comment:23'></a>\n(just modifying the Authors field)",
    "created_at": "2016-09-08T09:13:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326128",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'></a>
(just modifying the Authors field)



---

archive/issue_comments_326129.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-04-02T22:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326129",
    "user": "https://github.com/nbruin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_326130.json:
```json
{
    "body": "Changing work_issues from \"\" to \"merge conflicts\"",
    "created_at": "2018-04-02T22:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18468#issuecomment-326130",
    "user": "https://github.com/nbruin"
}
```

Changing work_issues from "" to "merge conflicts"
