# Issue 18358: a cython function that produces long given python input

archive/issues_018121.json:
```json
{
    "assignees": [],
    "body": "I met twice the same problem which is the nedd for a standalone function that given a python objects return an associated long (if it makes sense).\n\nThe following is not safe\n\n```\ncdef long f(x):\n    return x\n```\nsince `f(2/3)` would return `0` (see e.g. #18278). Moreover, one could expect something that would be very fast for both Python int and Sage integers (see #18346).\n\nCC:  @nathanncohen\n\nBranch/Commit: **[`6b46fee`](https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Vincent Delecroix**\n\nComponent: **coercion**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18358_\n\n",
    "closed_at": "2015-05-14T22:40:19Z",
    "created_at": "2015-05-03T20:25:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20coercion",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "a cython function that produces long given python input",
    "type": "issue",
    "updated_at": "2015-05-14T22:40:19Z",
    "url": "https://github.com/sagemath/sage/issues/18358",
    "user": "https://github.com/videlec"
}
```
I met twice the same problem which is the nedd for a standalone function that given a python objects return an associated long (if it makes sense).

The following is not safe

```
cdef long f(x):
    return x
```
since `f(2/3)` would return `0` (see e.g. #18278). Moreover, one could expect something that would be very fast for both Python int and Sage integers (see #18346).

CC:  @nathanncohen

Branch/Commit: **[`6b46fee`](https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba)**

Reviewer: **Jeroen Demeyer**

Author: **Vincent Delecroix**

Component: **coercion**

_Issue created by migration from https://trac.sagemath.org/ticket/18358_





---

archive/issue_events_258577.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-03T20:25:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258577"
}
```



---

archive/issue_events_258578.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-03T20:25:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "c: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258578"
}
```



---

archive/issue_events_258579.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-03T20:25:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258579"
}
```



---

archive/issue_events_258580.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-03T20:25:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258580"
}
```



---

archive/issue_events_258581.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-03T20:44:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258581"
}
```



---

archive/issue_comments_252498.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThat's not a bug report, but a support request. If you post this to `sage-support`, I'll answer.",
    "created_at": "2015-05-03T20:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252498",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">comment:1</div>

That's not a bug report, but a support request. If you post this to `sage-support`, I'll answer.



---

archive/issue_events_258582.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-03T20:44:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258582"
}
```



---

archive/issue_events_258583.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-03T20:44:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258583"
}
```



---

archive/issue_events_258584.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-03T20:44:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258584"
}
```



---

archive/issue_comments_252499.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@jdemeyer](#comment:1):\n> That's not a bug report, but a support request. If you post this to `sage-support`, I'll answer.\n\nhttps://groups.google.com/forum/#!topic/sage-support/0ATjCgQlq4c",
    "created_at": "2015-05-03T20:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252499",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@jdemeyer](#comment:1):
> That's not a bug report, but a support request. If you post this to `sage-support`, I'll answer.

https://groups.google.com/forum/#!topic/sage-support/0ATjCgQlq4c



---

archive/issue_comments_252500.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIn view of your answer on sage-support, it might still be worth to have something along\n\n```\ncdef inline long long_or_LONG_MIN(x):\n    if PyInt_CheckExact(x):\n        return PyInt_AS_LONG(x)\n    elif type(x) is Integer:\n        if mpz_fits_slong_p((<Integer>x).value):\n            return mpz_get_si((<Integer>x).value)\n        else:\n            return LONG_MIN\n    else:\n        try:\n            return PyNumber_Index(x)\n        except Exception:\n            return LONG_MIN \n```\nIt would be faster for Python ints and Sage integers.\n\nVincent",
    "created_at": "2015-05-04T13:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252500",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

In view of your answer on sage-support, it might still be worth to have something along

```
cdef inline long long_or_LONG_MIN(x):
    if PyInt_CheckExact(x):
        return PyInt_AS_LONG(x)
    elif type(x) is Integer:
        if mpz_fits_slong_p((<Integer>x).value):
            return mpz_get_si((<Integer>x).value)
        else:
            return LONG_MIN
    else:
        try:
            return PyNumber_Index(x)
        except Exception:
            return LONG_MIN 
```
It would be faster for Python ints and Sage integers.

Vincent



---

archive/issue_comments_252501.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nFor Python `int`s, there will not be much difference (calling `PyNumber_Index(x)` on an `int` just returns `x`, so the only overhead is a function call and some reference counting).\n\nFor `Integer`, there is a larger gain. It's just annoying that Python doesn't allow defining a fast conversion `ArbitraryType` -> C `long`.",
    "created_at": "2015-05-04T13:46:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252501",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

For Python `int`s, there will not be much difference (calling `PyNumber_Index(x)` on an `int` just returns `x`, so the only overhead is a function call and some reference counting).

For `Integer`, there is a larger gain. It's just annoying that Python doesn't allow defining a fast conversion `ArbitraryType` -> C `long`.



---

archive/issue_events_258585.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-04T14:02:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258585"
}
```



---

archive/issue_events_258586.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-04T14:02:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258586"
}
```



---

archive/issue_events_258587.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-04T14:02:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258587"
}
```



---

archive/issue_comments_252502.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment:5):\n\n> For `Integer`, there is a larger gain. It's just annoying that Python doesn't allow defining a fast conversion `ArbitraryType` -> C `long`.\n\nIt does! It's called `tp_hash` :-). It's of course already taken for other purposes. We'd need an extra slot. Something along the lines of the conversion macro suggested in [comment:4](#comment:4) would probably be the best we can do without it.",
    "created_at": "2015-05-04T16:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252502",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment:5):

> For `Integer`, there is a larger gain. It's just annoying that Python doesn't allow defining a fast conversion `ArbitraryType` -> C `long`.

It does! It's called `tp_hash` :-). It's of course already taken for other purposes. We'd need an extra slot. Something along the lines of the conversion macro suggested in [comment:4](#comment:4) would probably be the best we can do without it.



---

archive/issue_comments_252503.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@nbruin](#comment:7):\n> We'd need an extra slot.\n\nSometimes I wish I could just patch Python...\n\n> Something along the lines of the conversion macro suggested in [comment:4](#comment:4) would probably be the best we can do without it.\n\nIndeed.",
    "created_at": "2015-05-04T17:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252503",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@nbruin](#comment:7):
> We'd need an extra slot.

Sometimes I wish I could just patch Python...

> Something along the lines of the conversion macro suggested in [comment:4](#comment:4) would probably be the best we can do without it.

Indeed.



---

archive/issue_events_258588.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-05T13:45:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258588"
}
```



---

archive/issue_events_258589.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-05T13:45:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258589"
}
```



---

archive/issue_comments_252504.json:
```json
{
    "body": "Branch: **[u/vdelecroix/18358](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18358)**",
    "created_at": "2015-05-05T13:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252504",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/18358](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18358)**



---

archive/issue_comments_252505.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHere is an experimental branch with a macro `pyobject_to_long` in `sage.misc.long`. I do not like the gestion of error but I do not know how to do better without affecting performance. Please tell me.\n\nIt is used in `Integer.__pow__` and `Rational.__pow__` as a proof of concept. And we win 20 precious nano seconds when the exponent is a small Sage Integer (~10%):\n\n```\nsage: timeit(\"2**5\", number=400000, repeat=20)\n400000 loops, best of 20: 248 ns per loop\nsage: timeit(\"(2/3)**2\", number=100000, repeat=20)\n100000 loops, best of 20: 1.1 \u00b5s per loop\n```\nagainst\n\n```\nsage: timeit(\"2**5\", number=400000, repeat=20)\n400000 loops, best of 20: 228 ns per loop\nsage: timeit(\"(2/3)**2\", number=100000, repeat=20)\n200000 loops, best of 30: 990 ns per loop\n```\n\nVincent\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/524393b4aa89d93d8cc6831480e07c7350c06535\"><code>524393b</code></a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e1e22d1ae7c494773df4b161690d707762558c7\"><code>6e1e22d</code></a></td><td><code>Trac 18290: better doc + remove duplications</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/671e6ecff8079a28f9b43fda96da29530ba454a8\"><code>671e6ec</code></a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0378c4a5319972501b1d982c3670085f139c1dd4\"><code>0378c4a</code></a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/925b2e062bb86212916b73c831f9333f312db4b5\"><code>925b2e0</code></a></td><td><code>Trac 18290: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e9148450538c683d50c89d90acf7457feb0cc03\"><code>8e91484</code></a></td><td><code>Trac 18358: macro to cast Python object to C long</code></td></tr></table>\n",
    "created_at": "2015-05-05T13:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252505",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">comment:9</div>

Here is an experimental branch with a macro `pyobject_to_long` in `sage.misc.long`. I do not like the gestion of error but I do not know how to do better without affecting performance. Please tell me.

It is used in `Integer.__pow__` and `Rational.__pow__` as a proof of concept. And we win 20 precious nano seconds when the exponent is a small Sage Integer (~10%):

```
sage: timeit("2**5", number=400000, repeat=20)
400000 loops, best of 20: 248 ns per loop
sage: timeit("(2/3)**2", number=100000, repeat=20)
100000 loops, best of 20: 1.1 µs per loop
```
against

```
sage: timeit("2**5", number=400000, repeat=20)
400000 loops, best of 20: 228 ns per loop
sage: timeit("(2/3)**2", number=100000, repeat=20)
200000 loops, best of 30: 990 ns per loop
```

Vincent

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/524393b4aa89d93d8cc6831480e07c7350c06535"><code>524393b</code></a></td><td><code>Trac 18290: upgrade sets and cartesian products</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e1e22d1ae7c494773df4b161690d707762558c7"><code>6e1e22d</code></a></td><td><code>Trac 18290: better doc + remove duplications</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/671e6ecff8079a28f9b43fda96da29530ba454a8"><code>671e6ec</code></a></td><td><code>Trac 18290: fix doctest in combinat/tutorial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0378c4a5319972501b1d982c3670085f139c1dd4"><code>0378c4a</code></a></td><td><code>Trac 18290: fix doctest in categories/enumerated_sets.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/925b2e062bb86212916b73c831f9333f312db4b5"><code>925b2e0</code></a></td><td><code>Trac 18290: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e9148450538c683d50c89d90acf7457feb0cc03"><code>8e91484</code></a></td><td><code>Trac 18358: macro to cast Python object to C long</code></td></tr></table>




---

archive/issue_comments_252506.json:
```json
{
    "body": "Commit: **[`8e91484`](https://github.com/sagemath/sagetrac-mirror/commit/8e9148450538c683d50c89d90acf7457feb0cc03)**",
    "created_at": "2015-05-05T13:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252506",
    "user": "https://github.com/videlec"
}
```

Commit: **[`8e91484`](https://github.com/sagemath/sagetrac-mirror/commit/8e9148450538c683d50c89d90acf7457feb0cc03)**



---

archive/issue_comments_252507.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6df2eeff959f3f0ffb3d47dfe1c84a04a25ac11\"><code>b6df2ee</code></a></td><td><code>Trac 18358: macro pyobject -> long conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e7db2e21982c4d5097e0452bb19c5329ad1c40e\"><code>1e7db2e</code></a></td><td><code>Trac 18358: use macro in pow for Integer/Rational</code></td></tr></table>\n",
    "created_at": "2015-05-05T13:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252507",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6df2eeff959f3f0ffb3d47dfe1c84a04a25ac11"><code>b6df2ee</code></a></td><td><code>Trac 18358: macro pyobject -> long conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e7db2e21982c4d5097e0452bb19c5329ad1c40e"><code>1e7db2e</code></a></td><td><code>Trac 18358: use macro in pow for Integer/Rational</code></td></tr></table>




---

archive/issue_comments_252508.json:
```json
{
    "body": "Changed commit from **[`8e91484`](https://github.com/sagemath/sagetrac-mirror/commit/8e9148450538c683d50c89d90acf7457feb0cc03)** to **[`1e7db2e`](https://github.com/sagemath/sagetrac-mirror/commit/1e7db2e21982c4d5097e0452bb19c5329ad1c40e)**",
    "created_at": "2015-05-05T13:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252508",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e91484`](https://github.com/sagemath/sagetrac-mirror/commit/8e9148450538c683d50c89d90acf7457feb0cc03)** to **[`1e7db2e`](https://github.com/sagemath/sagetrac-mirror/commit/1e7db2e21982c4d5097e0452bb19c5329ad1c40e)**



---

archive/issue_comments_252509.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n`except LONG_MIN` -> `except? LONG_MIN` and there is no need to document `LONG_MIN` in the docstring.",
    "created_at": "2015-05-05T14:47:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252509",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

`except LONG_MIN` -> `except? LONG_MIN` and there is no need to document `LONG_MIN` in the docstring.



---

archive/issue_comments_252510.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n`PyInt_CheckExact(...)` -> `isinstance(..., int)`",
    "created_at": "2015-05-05T14:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252510",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

`PyInt_CheckExact(...)` -> `isinstance(..., int)`



---

archive/issue_comments_252511.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n`OverflowError` -> `OverflowError(\"Integer too large to convert to C long\")` or something like that.\n\nAnd obviously: doctests please.",
    "created_at": "2015-05-05T14:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252511",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

`OverflowError` -> `OverflowError("Integer too large to convert to C long")` or something like that.

And obviously: doctests please.



---

archive/issue_events_258590.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-05T14:50:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258590"
}
```



---

archive/issue_events_258591.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-05T14:50:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258591"
}
```



---

archive/issue_comments_252512.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jdemeyer](#comment:13):\n> `OverflowError` -> `OverflowError(\"Integer too large to convert to C long\")` or something like that.\n> \n> And obviously: doctests please.\n\nHow? Should I use `Integer.__pow__` and `Rational.__pow__` with indirect doctests?",
    "created_at": "2015-05-05T15:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252512",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jdemeyer](#comment:13):
> `OverflowError` -> `OverflowError("Integer too large to convert to C long")` or something like that.
> 
> And obviously: doctests please.

How? Should I use `Integer.__pow__` and `Rational.__pow__` with indirect doctests?



---

archive/issue_comments_252513.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@videlec](#comment:14):\n> Replying to [@jdemeyer](#comment:13):\n> > `OverflowError` -> `OverflowError(\"Integer too large to convert to C long\")` or something like that.\n> > \n> > And obviously: doctests please.\n\n> \n> How? Should I use `Integer.__pow__` and `Rational.__pow__` with indirect doctests?\n\nThat's actually not a bad idea. You should probably test the following numbers: `int(10)`, `long(10)`, `long(10^100)`, `10`, `10^100`, `QQ(10)`, `QQ(10^100)`, `1/2`.",
    "created_at": "2015-05-05T19:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252513",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@videlec](#comment:14):
> Replying to [@jdemeyer](#comment:13):
> > `OverflowError` -> `OverflowError("Integer too large to convert to C long")` or something like that.
> > 
> > And obviously: doctests please.

> 
> How? Should I use `Integer.__pow__` and `Rational.__pow__` with indirect doctests?

That's actually not a bad idea. You should probably test the following numbers: `int(10)`, `long(10)`, `long(10^100)`, `10`, `10^100`, `QQ(10)`, `QQ(10^100)`, `1/2`.



---

archive/issue_comments_252514.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIt would make sense to merge 6.7.beta4 and replace all occurances of `PyNumber_Index` and `PyNumber_AsSsize_t` by this new function.",
    "created_at": "2015-05-05T21:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252514",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

It would make sense to merge 6.7.beta4 and replace all occurances of `PyNumber_Index` and `PyNumber_AsSsize_t` by this new function.



---

archive/issue_comments_252515.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment:16):\n> It would make sense to merge 6.7.beta4 and replace all occurances of `PyNumber_Index` and `PyNumber_AsSsize_t` by this new function.\n\nIt might not be good everywhere as the overflow might not be appropriate. I will have a look at occurrences.",
    "created_at": "2015-05-05T21:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252515",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment:16):
> It would make sense to merge 6.7.beta4 and replace all occurances of `PyNumber_Index` and `PyNumber_AsSsize_t` by this new function.

It might not be good everywhere as the overflow might not be appropriate. I will have a look at occurrences.



---

archive/issue_comments_252516.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f67ead58cc51250037409d64205f209b2286d960\"><code>f67ead5</code></a></td><td><code>Trac 18358: macro pyobject -> long conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98008da68599a8f53269811b363f5bb2bef86d27\"><code>98008da</code></a></td><td><code>Trac 18358: use macro in pow for Integer/Rational</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7b741fc34a79e594c327ed72476a7972481fc33\"><code>c7b741f</code></a></td><td><code>Trac 18358: better pyobject_to_long</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7ad72f5a0a5e44d4d6aad5208e597201edf2be8\"><code>e7ad72f</code></a></td><td><code>Trac 18358: use pyobject_to_long where possible</code></td></tr></table>\n",
    "created_at": "2015-05-06T07:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252516",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f67ead58cc51250037409d64205f209b2286d960"><code>f67ead5</code></a></td><td><code>Trac 18358: macro pyobject -> long conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98008da68599a8f53269811b363f5bb2bef86d27"><code>98008da</code></a></td><td><code>Trac 18358: use macro in pow for Integer/Rational</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7b741fc34a79e594c327ed72476a7972481fc33"><code>c7b741f</code></a></td><td><code>Trac 18358: better pyobject_to_long</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7ad72f5a0a5e44d4d6aad5208e597201edf2be8"><code>e7ad72f</code></a></td><td><code>Trac 18358: use pyobject_to_long where possible</code></td></tr></table>




---

archive/issue_comments_252517.json:
```json
{
    "body": "Changed commit from **[`1e7db2e`](https://github.com/sagemath/sagetrac-mirror/commit/1e7db2e21982c4d5097e0452bb19c5329ad1c40e)** to **[`e7ad72f`](https://github.com/sagemath/sagetrac-mirror/commit/e7ad72f5a0a5e44d4d6aad5208e597201edf2be8)**",
    "created_at": "2015-05-06T07:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252517",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1e7db2e`](https://github.com/sagemath/sagetrac-mirror/commit/1e7db2e21982c4d5097e0452bb19c5329ad1c40e)** to **[`e7ad72f`](https://github.com/sagemath/sagetrac-mirror/commit/e7ad72f5a0a5e44d4d6aad5208e597201edf2be8)**



---

archive/issue_comments_252518.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nRebased on sage-6.7.beta4. I used `pyobject_to_long` where it seemed appropriate.\n\nVincent",
    "created_at": "2015-05-06T07:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252518",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

Rebased on sage-6.7.beta4. I used `pyobject_to_long` where it seemed appropriate.

Vincent



---

archive/issue_events_258592.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-06T07:11:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258592"
}
```



---

archive/issue_events_258593.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-06T07:11:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258593"
}
```



---

archive/issue_events_258594.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-06T07:29:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258594"
}
```



---

archive/issue_events_258595.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-06T07:29:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258595"
}
```



---

archive/issue_comments_252519.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIn `c_graph`, if you call a variable `u_long`, actually make it a `long` (now it's still an `int` which means it can silently overflow).",
    "created_at": "2015-05-06T07:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252519",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

In `c_graph`, if you call a variable `u_long`, actually make it a `long` (now it's still an `int` which means it can silently overflow).



---

archive/issue_comments_252520.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nYou're not actually using this:\n\n```\nsage: tens = [10r, 10l, 10, 10/1]\n```",
    "created_at": "2015-05-06T07:33:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252520",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

You're not actually using this:

```
sage: tens = [10r, 10l, 10, 10/1]
```



---

archive/issue_comments_252521.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI would prefer to replace\n\n```\ntry:\n    n = pyobject_to_long(exp)\nexcept TypeError:\n    raise TypeError(\"non-integral exponents not supported\")\n```\nby\n\n```\nn = pyobject_to_long(exp)\n```",
    "created_at": "2015-05-06T07:37:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252521",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

I would prefer to replace

```
try:
    n = pyobject_to_long(exp)
except TypeError:
    raise TypeError("non-integral exponents not supported")
```
by

```
n = pyobject_to_long(exp)
```



---

archive/issue_comments_252522.json:
```json
{
    "body": "Changed commit from **[`e7ad72f`](https://github.com/sagemath/sagetrac-mirror/commit/e7ad72f5a0a5e44d4d6aad5208e597201edf2be8)** to **[`90453ff`](https://github.com/sagemath/sagetrac-mirror/commit/90453ff943b693383a38c358aeb4a81a9c5da25e)**",
    "created_at": "2015-05-11T17:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252522",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e7ad72f`](https://github.com/sagemath/sagetrac-mirror/commit/e7ad72f5a0a5e44d4d6aad5208e597201edf2be8)** to **[`90453ff`](https://github.com/sagemath/sagetrac-mirror/commit/90453ff943b693383a38c358aeb4a81a9c5da25e)**



---

archive/issue_comments_252523.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90453ff943b693383a38c358aeb4a81a9c5da25e\"><code>90453ff</code></a></td><td><code>Trac 18358: review commit</code></td></tr></table>\n",
    "created_at": "2015-05-11T17:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252523",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90453ff943b693383a38c358aeb4a81a9c5da25e"><code>90453ff</code></a></td><td><code>Trac 18358: review commit</code></td></tr></table>




---

archive/issue_comments_252524.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-05-11T17:25:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252524",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_258596.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-11T17:25:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258596"
}
```



---

archive/issue_events_258597.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-11T17:25:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258597"
}
```



---

archive/issue_comments_252525.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nTwo more points:\n\n1. `raied` -> `raised`\n\n2. The doctests for `Integer.__pow__` and `Rational.__pow__` seem redundant. It's sufficient to keep just one.",
    "created_at": "2015-05-12T12:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252525",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Two more points:

1. `raied` -> `raised`

2. The doctests for `Integer.__pow__` and `Rational.__pow__` seem redundant. It's sufficient to keep just one.



---

archive/issue_events_258598.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-12T12:44:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258598"
}
```



---

archive/issue_events_258599.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-12T12:44:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258599"
}
```



---

archive/issue_comments_252526.json:
```json
{
    "body": "Changed commit from **[`90453ff`](https://github.com/sagemath/sagetrac-mirror/commit/90453ff943b693383a38c358aeb4a81a9c5da25e)** to **[`6b46fee`](https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba)**",
    "created_at": "2015-05-13T16:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252526",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`90453ff`](https://github.com/sagemath/sagetrac-mirror/commit/90453ff943b693383a38c358aeb4a81a9c5da25e)** to **[`6b46fee`](https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba)**



---

archive/issue_comments_252527.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba\"><code>6b46fee</code></a></td><td><code>Trac #18358: typo + remove redundant doctest</code></td></tr></table>\n",
    "created_at": "2015-05-13T16:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252527",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba"><code>6b46fee</code></a></td><td><code>Trac #18358: typo + remove redundant doctest</code></td></tr></table>




---

archive/issue_events_258600.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-13T16:15:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258600"
}
```



---

archive/issue_events_258601.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-13T16:15:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258601"
}
```



---

archive/issue_comments_252528.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI didn't run doctests again, but positive_review assuming that they pass.",
    "created_at": "2015-05-13T19:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252528",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

I didn't run doctests again, but positive_review assuming that they pass.



---

archive/issue_events_258602.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-13T19:53:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258602"
}
```



---

archive/issue_events_258603.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-13T19:53:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258603"
}
```



---

archive/issue_events_258604.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-14T22:40:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258604"
}
```



---

archive/issue_events_258605.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "01432cf19605c9534a6063d1d66f55d7b96a50d1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-14T22:40:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18358#event-258605"
}
```



---

archive/issue_comments_252529.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/18358](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18358)** to **[`6b46fee`](https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba)**",
    "created_at": "2015-05-14T22:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18358#issuecomment-252529",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/18358](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18358)** to **[`6b46fee`](https://github.com/sagemath/sagetrac-mirror/commit/6b46fee72115db82a7eedb02482b83af694247ba)**
