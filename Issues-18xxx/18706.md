# Issue 18706: Improve Efficiency of Matroid initialization

archive/issues_018469.json:
```json
{
    "body": "Initialization of various classes of Matroid happen throughout the code. Even minor improvements to the efficiency of this basic routine (and the way it is called) may have a global effect on the efficiency of the matroid code. \n\nAssignee: Rudi\n\nBranch/Commit: a839d2b521195db2940402ff2f2ba78d13d8b29a\n\nReviewer: Travis Scrimshaw\n\nAuthor: Rudi Pendavingh\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18706\n\n",
    "closed_at": "2015-06-19T08:24:57Z",
    "created_at": "2015-06-15T18:31:11Z",
    "labels": [
        "component: matroid theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Improve Efficiency of Matroid initialization",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18706",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```
Initialization of various classes of Matroid happen throughout the code. Even minor improvements to the efficiency of this basic routine (and the way it is called) may have a global effect on the efficiency of the matroid code. 

Assignee: Rudi

Branch/Commit: a839d2b521195db2940402ff2f2ba78d13d8b29a

Reviewer: Travis Scrimshaw

Author: Rudi Pendavingh

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18706





---

archive/issue_comments_333015.json:
```json
{
    "body": "Changing branch from \"\" to \"u/Rudi/improve_efficiency_of_matroid_initialization\"",
    "created_at": "2015-06-15T19:53:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333015",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing branch from "" to "u/Rudi/improve_efficiency_of_matroid_initialization"



---

archive/issue_comments_333016.json:
```json
{
    "body": "Changing commit from \"\" to \"280018d529173b9ad2e78d8728dd1ec6b8705f75\"",
    "created_at": "2015-06-15T20:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333016",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing commit from "" to "280018d529173b9ad2e78d8728dd1ec6b8705f75"



---

archive/issue_comments_333017.json:
```json
{
    "body": "<a id='comment:2'></a>\nBefore:\n\n```\nsage: M = matroids.named_matroids.ExtendedBinaryGolayCode()\nsage: timeit(\"M.is_graphic()\")\n5 loops, best of 3: 39.5 ms per loop\n```\nAfter:\n\n```\nsage: M = matroids.named_matroids.ExtendedBinaryGolayCode()\nsage: timeit(\"M.is_graphic()\")\n625 loops, best of 3: 1.55 ms per loop\n```\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[280018d](https://github.com/sagemath/sagetrac-mirror/commit/280018d529173b9ad2e78d8728dd1ec6b8705f75)|`Tweaked initializer of BinaryMatroid, improved call by BinaryMatrix.is_graphic()`|",
    "created_at": "2015-06-15T20:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333017",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:2'></a>
Before:

```
sage: M = matroids.named_matroids.ExtendedBinaryGolayCode()
sage: timeit("M.is_graphic()")
5 loops, best of 3: 39.5 ms per loop
```
After:

```
sage: M = matroids.named_matroids.ExtendedBinaryGolayCode()
sage: timeit("M.is_graphic()")
625 loops, best of 3: 1.55 ms per loop
```

---
New commits:
|                                                                                                                                          |                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[280018d](https://github.com/sagemath/sagetrac-mirror/commit/280018d529173b9ad2e78d8728dd1ec6b8705f75)|`Tweaked initializer of BinaryMatroid, improved call by BinaryMatrix.is_graphic()`|



---

archive/issue_comments_333018.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[6d54d49](https://github.com/sagemath/sagetrac-mirror/commit/6d54d493a6743344aba4cd4e3dc935989870b544)|`Removed pointless code`|\n|[ea691c6](https://github.com/sagemath/sagetrac-mirror/commit/ea691c61c39a2ac871233e792958dccb3b9158d0)|`removed some more redundant code`|",
    "created_at": "2015-06-15T21:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[6d54d49](https://github.com/sagemath/sagetrac-mirror/commit/6d54d493a6743344aba4cd4e3dc935989870b544)|`Removed pointless code`|
|[ea691c6](https://github.com/sagemath/sagetrac-mirror/commit/ea691c61c39a2ac871233e792958dccb3b9158d0)|`removed some more redundant code`|



---

archive/issue_comments_333019.json:
```json
{
    "body": "Changing commit from \"280018d529173b9ad2e78d8728dd1ec6b8705f75\" to \"ea691c61c39a2ac871233e792958dccb3b9158d0\"",
    "created_at": "2015-06-15T21:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333019",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "280018d529173b9ad2e78d8728dd1ec6b8705f75" to "ea691c61c39a2ac871233e792958dccb3b9158d0"



---

archive/issue_comments_333020.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|\n|[a839d2b](https://github.com/sagemath/sagetrac-mirror/commit/a839d2b521195db2940402ff2f2ba78d13d8b29a)|`rewrote some versions of prepend() as it occurs in the LinearMatroid initializers`|",
    "created_at": "2015-06-16T09:13:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
|[a839d2b](https://github.com/sagemath/sagetrac-mirror/commit/a839d2b521195db2940402ff2f2ba78d13d8b29a)|`rewrote some versions of prepend() as it occurs in the LinearMatroid initializers`|



---

archive/issue_comments_333021.json:
```json
{
    "body": "Changing commit from \"ea691c61c39a2ac871233e792958dccb3b9158d0\" to \"a839d2b521195db2940402ff2f2ba78d13d8b29a\"",
    "created_at": "2015-06-16T09:13:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ea691c61c39a2ac871233e792958dccb3b9158d0" to "a839d2b521195db2940402ff2f2ba78d13d8b29a"



---

archive/issue_comments_333022.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-16T09:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333022",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_333023.json:
```json
{
    "body": "<a id='comment:5'></a>\nThat seems to do it. The initializer calls from  _minor also need work, but that was dealt with in #18660 - working on that ticket gave me the idea to check out the other calls to the matroid initializers.\n\nNeeds review.",
    "created_at": "2015-06-16T09:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333023",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

<a id='comment:5'></a>
That seems to do it. The initializer calls from  _minor also need work, but that was dealt with in #18660 - working on that ticket gave me the idea to check out the other calls to the matroid initializers.

Needs review.



---

archive/issue_comments_333024.json:
```json
{
    "body": "Changing author from \"\" to \"Rudi Pendavingh\"",
    "created_at": "2015-06-16T09:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333024",
    "user": "https://trac.sagemath.org/admin/accounts/users/Rudi"
}
```

Changing author from "" to "Rudi Pendavingh"



---

archive/issue_comments_333025.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-18T00:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333025",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_333026.json:
```json
{
    "body": "<a id='comment:7'></a>\nThat's quite an impressive speedup.",
    "created_at": "2015-06-18T00:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333026",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
That's quite an impressive speedup.



---

archive/issue_comments_333027.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2015-06-18T00:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333027",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_events_059591.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-19T08:24:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18706#event-59591"
}
```



---

archive/issue_comments_333028.json:
```json
{
    "body": "Changing branch from \"u/Rudi/improve_efficiency_of_matroid_initialization\" to \"a839d2b521195db2940402ff2f2ba78d13d8b29a\"",
    "created_at": "2015-06-19T08:24:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333028",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/Rudi/improve_efficiency_of_matroid_initialization" to "a839d2b521195db2940402ff2f2ba78d13d8b29a"



---

archive/issue_comments_333029.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-19T08:24:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18706#issuecomment-333029",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
