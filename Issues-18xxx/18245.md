# Issue 18245: Unhandled keywords in plot3d

archive/issues_018008.json:
```json
{
    "body": "CC:  @egourgoulhon\n\nSee the discussion at #18238 - there are several options for dealing with things like\n\n```\nsage: show(sphere(), heyheyhey=35) # works, should it?\n```\n* Do checking in `show`\n* Do checking in viewers\n* Do no checking\n\nAnyway, this ticket is about resolving this issue, which has been around since at least 6.4.1 and probably much longer.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18245\n\n",
    "created_at": "2015-04-18T03:38:13Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Unhandled keywords in plot3d",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18245",
    "user": "https://github.com/kcrisman"
}
```
CC:  @egourgoulhon

See the discussion at #18238 - there are several options for dealing with things like

```
sage: show(sphere(), heyheyhey=35) # works, should it?
```
* Do checking in `show`
* Do checking in viewers
* Do no checking

Anyway, this ticket is about resolving this issue, which has been around since at least 6.4.1 and probably much longer.

Issue created by migration from https://trac.sagemath.org/ticket/18245





---

archive/issue_comments_241963.json:
```json
{
    "body": "Also, the *handled* options should have their value checked, and not just fail when they are in the process of being drawn on the screen.\n\nThe right solution imoh is by introducing infrastructure for \"option dictionaries with validation\". I made a simple version for the display preferences, for example\n\n```\nsage: from sage.repl.rich_output.preferences import DisplayPreferences\nsage: d = DisplayPreferences(text='latex')\nsage: d\nDisplay preferences:\n* graphics is not specified\n* text = latex\nsage: d.text\n'latex'\nsage: d.text = 'coocoo'\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-12-45e65af2b5e2> in <module>()\n----> 1 d.text = 'coocoo'\n\n/home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/repl/rich_output/preferences.pyc in setter(self, prefs, value)\n    230         if value not in allowed:\n    231             raise ValueError('value must be unset (None) or one of {0}, got {1}'\n--> 232                              .format(allowed, value))\n    233         setattr(prefs, self.underscore_name, value)\n    234 \n\nValueError: value must be unset (None) or one of ('plain', 'ascii_art', 'latex'), got coocoo\nsage: d.heyhey\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-13-2956b69fb951> in <module>()\n----> 1 d.heyhey\n\nAttributeError: 'DisplayPreferences' object has no attribute 'heyhey'\n```",
    "created_at": "2015-04-18T03:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18245#issuecomment-241963",
    "user": "https://github.com/vbraun"
}
```

Also, the *handled* options should have their value checked, and not just fail when they are in the process of being drawn on the screen.

The right solution imoh is by introducing infrastructure for "option dictionaries with validation". I made a simple version for the display preferences, for example

```
sage: from sage.repl.rich_output.preferences import DisplayPreferences
sage: d = DisplayPreferences(text='latex')
sage: d
Display preferences:
* graphics is not specified
* text = latex
sage: d.text
'latex'
sage: d.text = 'coocoo'
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-12-45e65af2b5e2> in <module>()
----> 1 d.text = 'coocoo'

/home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/repl/rich_output/preferences.pyc in setter(self, prefs, value)
    230         if value not in allowed:
    231             raise ValueError('value must be unset (None) or one of {0}, got {1}'
--> 232                              .format(allowed, value))
    233         setattr(prefs, self.underscore_name, value)
    234 

ValueError: value must be unset (None) or one of ('plain', 'ascii_art', 'latex'), got coocoo
sage: d.heyhey
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-13-2956b69fb951> in <module>()
----> 1 d.heyhey

AttributeError: 'DisplayPreferences' object has no attribute 'heyhey'
```
