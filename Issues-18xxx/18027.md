# Issue 18027: Move interrupts to Cython

archive/issues_017790.json:
```json
{
    "assignees": [],
    "body": "This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)\n\nWe also clean up where possible. In particular:\n1. drop support for i386 CPUs without MMX.\n2. remove `set_sage_signal_handler_message()` which is no longer used and not needed since `sig_error()`.\n\nCC:  @jpflori\n\nBranch: **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Jean-Pierre Flori**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **cython**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18027_\n\n",
    "closed_at": "2015-05-23T06:10:24Z",
    "created_at": "2015-03-21T12:21:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20cython",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move interrupts to Cython",
    "type": "issue",
    "updated_at": "2015-05-24T21:37:47Z",
    "url": "https://github.com/sagemath/sage/issues/18027",
    "user": "https://github.com/jdemeyer"
}
```
This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)

We also clean up where possible. In particular:
1. drop support for i386 CPUs without MMX.
2. remove `set_sage_signal_handler_message()` which is no longer used and not needed since `sig_error()`.

CC:  @jpflori

Branch: **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **Jean-Pierre Flori**

Author: **Jeroen Demeyer**

Component: **cython**

_Issue created by migration from https://trac.sagemath.org/ticket/18027_





---

archive/issue_events_256404.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-21T12:21:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256404"
}
```



---

archive/issue_events_256405.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-21T12:21:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20cython",
    "label_color": "000080",
    "label_name": "c: cython",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256405"
}
```



---

archive/issue_events_256406.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-21T12:21:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256406"
}
```



---

archive/issue_events_256407.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-21T12:21:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256407"
}
```



---

archive/issue_comments_245375.json:
```json
{
    "body": "Branch: **[u/jdemeyer/move_interrupts_to_cython](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_interrupts_to_cython)**",
    "created_at": "2015-03-21T12:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245375",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/move_interrupts_to_cython](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_interrupts_to_cython)**



---

archive/issue_comments_245376.json:
```json
{
    "body": "Commit: **[`26c3b8b`](https://github.com/sagemath/sagetrac-mirror/commit/26c3b8bb5553853161550a35e330860e740f1ecd)**",
    "created_at": "2015-03-21T14:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245376",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`26c3b8b`](https://github.com/sagemath/sagetrac-mirror/commit/26c3b8bb5553853161550a35e330860e740f1ecd)**



---

archive/issue_comments_245377.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff8b9fd18562be12020ce35477e05044374d5683\">ff8b9fd</a></td><td><code>Disable broken Cython caching</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b95de698683d59ab22f7ab10d0268d8e0e420a5\">6b95de6</a></td><td><code>Merge commit 'ce992d2ac5a68a4dd7328dc088f68007e4b5e4cd'; commit 'ff8b9fd18562be12020ce35477e05044374d5683' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9727fd0feddae2113f674d3365b141ec84fde9ed\">9727fd0</a></td><td><code>Add upstreamed Cython patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26c3b8bb5553853161550a35e330860e740f1ecd\">26c3b8b</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-03-21T14:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245377",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff8b9fd18562be12020ce35477e05044374d5683">ff8b9fd</a></td><td><code>Disable broken Cython caching</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b95de698683d59ab22f7ab10d0268d8e0e420a5">6b95de6</a></td><td><code>Merge commit 'ce992d2ac5a68a4dd7328dc088f68007e4b5e4cd'; commit 'ff8b9fd18562be12020ce35477e05044374d5683' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9727fd0feddae2113f674d3365b141ec84fde9ed">9727fd0</a></td><td><code>Add upstreamed Cython patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26c3b8bb5553853161550a35e330860e740f1ecd">26c3b8b</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245378.json:
```json
{
    "body": "Changed dependencies from **#17851, #18007** to **#17851, #18007, #18030**",
    "created_at": "2015-03-21T15:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245378",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17851, #18007** to **#17851, #18007, #18030**



---

archive/issue_comments_245379.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9aadb701eaed57ca58515207a9022baaee043887\">9aadb70</a></td><td><code>Clean-up stdsage.pxi includes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5137c4b6e7c47067e535a91495c8bc8808f1f140\">5137c4b</a></td><td><code>Directly cimport PY_NEW</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd606a09ef3940546f3be84866121e3fcedfd194\">bd606a0</a></td><td><code>Merge commit 'ff8b9fd18562be12020ce35477e05044374d5683' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e3c1d9d0f97bce616d5831f7b29a79ffc7b2408\">2e3c1d9</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-03-21T16:50:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245379",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9aadb701eaed57ca58515207a9022baaee043887">9aadb70</a></td><td><code>Clean-up stdsage.pxi includes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5137c4b6e7c47067e535a91495c8bc8808f1f140">5137c4b</a></td><td><code>Directly cimport PY_NEW</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd606a09ef3940546f3be84866121e3fcedfd194">bd606a0</a></td><td><code>Merge commit 'ff8b9fd18562be12020ce35477e05044374d5683' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e3c1d9d0f97bce616d5831f7b29a79ffc7b2408">2e3c1d9</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245380.json:
```json
{
    "body": "Changed commit from **[`26c3b8b`](https://github.com/sagemath/sagetrac-mirror/commit/26c3b8bb5553853161550a35e330860e740f1ecd)** to **[`2e3c1d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e3c1d9d0f97bce616d5831f7b29a79ffc7b2408)**",
    "created_at": "2015-03-21T16:50:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245380",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`26c3b8b`](https://github.com/sagemath/sagetrac-mirror/commit/26c3b8bb5553853161550a35e330860e740f1ecd)** to **[`2e3c1d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e3c1d9d0f97bce616d5831f7b29a79ffc7b2408)**



---

archive/issue_comments_245381.json:
```json
{
    "body": "Changed commit from **[`2e3c1d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e3c1d9d0f97bce616d5831f7b29a79ffc7b2408)** to **[`5fd2ab5`](https://github.com/sagemath/sagetrac-mirror/commit/5fd2ab5d6a612693d95c59adcc41a29926f742b8)**",
    "created_at": "2015-03-21T19:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245381",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2e3c1d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e3c1d9d0f97bce616d5831f7b29a79ffc7b2408)** to **[`5fd2ab5`](https://github.com/sagemath/sagetrac-mirror/commit/5fd2ab5d6a612693d95c59adcc41a29926f742b8)**



---

archive/issue_comments_245382.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fd2ab5d6a612693d95c59adcc41a29926f742b8\">5fd2ab5</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-03-21T19:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245382",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fd2ab5d6a612693d95c59adcc41a29926f742b8">5fd2ab5</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245383.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-Work in progress...\n+**Work in progress!**\n+\n+This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)\n``````\n",
    "created_at": "2015-03-21T20:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245383",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-Work in progress...
+**Work in progress!**
+
+This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)
``````




---

archive/issue_comments_245384.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2015-03-21T20:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245384",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_245385.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-**Work in progress!**\n+**Work in progress! **\n \n This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)\n``````\n",
    "created_at": "2015-03-21T20:41:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245385",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-**Work in progress!**
+**Work in progress! **
 
 This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)
``````




---

archive/issue_comments_245386.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72c18cddc5de380e52b8d3fe1ad7cdf1cf329b65\">72c18cd</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-03-21T22:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245386",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72c18cddc5de380e52b8d3fe1ad7cdf1cf329b65">72c18cd</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245387.json:
```json
{
    "body": "Changed commit from **[`5fd2ab5`](https://github.com/sagemath/sagetrac-mirror/commit/5fd2ab5d6a612693d95c59adcc41a29926f742b8)** to **[`72c18cd`](https://github.com/sagemath/sagetrac-mirror/commit/72c18cddc5de380e52b8d3fe1ad7cdf1cf329b65)**",
    "created_at": "2015-03-21T22:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245387",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5fd2ab5`](https://github.com/sagemath/sagetrac-mirror/commit/5fd2ab5d6a612693d95c59adcc41a29926f742b8)** to **[`72c18cd`](https://github.com/sagemath/sagetrac-mirror/commit/72c18cddc5de380e52b8d3fe1ad7cdf1cf329b65)**



---

archive/issue_comments_245388.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82ecadac9a24d222e017a1064732a72d83e18edd\">82ecada</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-03-22T11:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245388",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82ecadac9a24d222e017a1064732a72d83e18edd">82ecada</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245389.json:
```json
{
    "body": "Changed commit from **[`72c18cd`](https://github.com/sagemath/sagetrac-mirror/commit/72c18cddc5de380e52b8d3fe1ad7cdf1cf329b65)** to **[`82ecada`](https://github.com/sagemath/sagetrac-mirror/commit/82ecadac9a24d222e017a1064732a72d83e18edd)**",
    "created_at": "2015-03-22T11:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245389",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`72c18cd`](https://github.com/sagemath/sagetrac-mirror/commit/72c18cddc5de380e52b8d3fe1ad7cdf1cf329b65)** to **[`82ecada`](https://github.com/sagemath/sagetrac-mirror/commit/82ecadac9a24d222e017a1064732a72d83e18edd)**



---

archive/issue_comments_245390.json:
```json
{
    "body": "Changed dependencies from **#17851, #18007, #18030** to **#17851, #18007, #18030, #18037**",
    "created_at": "2015-03-22T22:47:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245390",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17851, #18007, #18030** to **#17851, #18007, #18030, #18037**



---

archive/issue_comments_245391.json:
```json
{
    "body": "Changed commit from **[`82ecada`](https://github.com/sagemath/sagetrac-mirror/commit/82ecadac9a24d222e017a1064732a72d83e18edd)** to **[`f5efcfc`](https://github.com/sagemath/sagetrac-mirror/commit/f5efcfc0484b66e55c788691cbfef86c05bb8285)**",
    "created_at": "2015-03-23T12:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245391",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`82ecada`](https://github.com/sagemath/sagetrac-mirror/commit/82ecadac9a24d222e017a1064732a72d83e18edd)** to **[`f5efcfc`](https://github.com/sagemath/sagetrac-mirror/commit/f5efcfc0484b66e55c788691cbfef86c05bb8285)**



---

archive/issue_comments_245392.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8ed24a0fbbad472f7161f5d61706ad21edd0eba\">b8ed24a</a></td><td><code>Use alarm() instead of interrupt_after_delay()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43d96bc52dc52d15649cf1742daaa45ab791ba85\">43d96bc</a></td><td><code>Merge dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5efcfc0484b66e55c788691cbfef86c05bb8285\">f5efcfc</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-03-23T12:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245392",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8ed24a0fbbad472f7161f5d61706ad21edd0eba">b8ed24a</a></td><td><code>Use alarm() instead of interrupt_after_delay()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43d96bc52dc52d15649cf1742daaa45ab791ba85">43d96bc</a></td><td><code>Merge dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5efcfc0484b66e55c788691cbfef86c05bb8285">f5efcfc</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245393.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n **Work in progress! **\n \n This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)\n+\n+We also clean up where possible. In particular:\n+1. drop support for i386 CPUs without MMX.\n+2. remove `set_sage_signal_handler_message()` which is no longer used and not needed since `sig_error()`.\n``````\n",
    "created_at": "2015-03-23T20:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245393",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 **Work in progress! **
 
 This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)
+
+We also clean up where possible. In particular:
+1. drop support for i386 CPUs without MMX.
+2. remove `set_sage_signal_handler_message()` which is no longer used and not needed since `sig_error()`.
``````




---

archive/issue_comments_245394.json:
```json
{
    "body": "Changed commit from **[`f5efcfc`](https://github.com/sagemath/sagetrac-mirror/commit/f5efcfc0484b66e55c788691cbfef86c05bb8285)** to **[`a1c8ae2`](https://github.com/sagemath/sagetrac-mirror/commit/a1c8ae2b41585186b0859da8fa6b3931ccdf01ee)**",
    "created_at": "2015-03-24T07:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f5efcfc`](https://github.com/sagemath/sagetrac-mirror/commit/f5efcfc0484b66e55c788691cbfef86c05bb8285)** to **[`a1c8ae2`](https://github.com/sagemath/sagetrac-mirror/commit/a1c8ae2b41585186b0859da8fa6b3931ccdf01ee)**



---

archive/issue_comments_245395.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1c8ae2b41585186b0859da8fa6b3931ccdf01ee\">a1c8ae2</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-03-24T07:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245395",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1c8ae2b41585186b0859da8fa6b3931ccdf01ee">a1c8ae2</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_events_256408.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-24T07:27:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256408"
}
```



---

archive/issue_comments_245396.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-**Work in progress! **\n-\n This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)\n \n We also clean up where possible. In particular:\n``````\n",
    "created_at": "2015-03-24T21:52:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245396",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-**Work in progress! **
-
 This needs two upstream patches, one which is accepted in master and [api_mangle.patch](https://github.com/cython/cython/pull/374)
 
 We also clean up where possible. In particular:
``````




---

archive/issue_comments_245397.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n(NOTE: despite the red link in the Trac interface, the branch merges cleanly)",
    "created_at": "2015-03-27T11:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245397",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

(NOTE: despite the red link in the Trac interface, the branch merges cleanly)



---

archive/issue_comments_245398.json:
```json
{
    "body": "Changed commit from **[`a1c8ae2`](https://github.com/sagemath/sagetrac-mirror/commit/a1c8ae2b41585186b0859da8fa6b3931ccdf01ee)** to **[`468332c`](https://github.com/sagemath/sagetrac-mirror/commit/468332c1763303337312354da81762c3c3296a95)**",
    "created_at": "2015-04-15T08:33:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245398",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a1c8ae2`](https://github.com/sagemath/sagetrac-mirror/commit/a1c8ae2b41585186b0859da8fa6b3931ccdf01ee)** to **[`468332c`](https://github.com/sagemath/sagetrac-mirror/commit/468332c1763303337312354da81762c3c3296a95)**



---

archive/issue_comments_245399.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba7c49627287610b702606a03ee38813b0233bb4\">ba7c496</a></td><td><code>Merge commit 'c98c51a982ee78488a5ff2b01ffe5dfb996ef969' into t/18030/ticket/18030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d18d587f40faf6c67af66aee90130892282aab4\">8d18d58</a></td><td><code>Add includes to cryptominisat.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71c60acea7fccc3a159b5e8c852d7ef948e8cb04\">71c60ac</a></td><td><code>Merge commit 'e56aeb2c9a190813096a0f7db1683d3d5bc774d1' into t/18030/ticket/18030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b55b277f371a0aba7683ea0614e2ec1d818d92b3\">b55b277</a></td><td><code>Add missing includes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00db4b2ce1e441578db6c939af4f399c2736ccd8\">00db4b2</a></td><td><code>Merge tag '6.7.beta0' into t/18030/ticket/18030</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/468332c1763303337312354da81762c3c3296a95\">468332c</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-04-15T08:33:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245399",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba7c49627287610b702606a03ee38813b0233bb4">ba7c496</a></td><td><code>Merge commit 'c98c51a982ee78488a5ff2b01ffe5dfb996ef969' into t/18030/ticket/18030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d18d587f40faf6c67af66aee90130892282aab4">8d18d58</a></td><td><code>Add includes to cryptominisat.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71c60acea7fccc3a159b5e8c852d7ef948e8cb04">71c60ac</a></td><td><code>Merge commit 'e56aeb2c9a190813096a0f7db1683d3d5bc774d1' into t/18030/ticket/18030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b55b277f371a0aba7683ea0614e2ec1d818d92b3">b55b277</a></td><td><code>Add missing includes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00db4b2ce1e441578db6c939af4f399c2736ccd8">00db4b2</a></td><td><code>Merge tag '6.7.beta0' into t/18030/ticket/18030</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/468332c1763303337312354da81762c3c3296a95">468332c</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245400.json:
```json
{
    "body": "Changed dependencies from **#17851, #18007, #18030, #18037** to **#18030**",
    "created_at": "2015-04-15T08:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245400",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17851, #18007, #18030, #18037** to **#18030**



---

archive/issue_comments_245401.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd877b899103fa693266a1a55140d1d5454a2d45\">bd877b8</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-04-22T10:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245401",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd877b899103fa693266a1a55140d1d5454a2d45">bd877b8</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245402.json:
```json
{
    "body": "Changed commit from **[`468332c`](https://github.com/sagemath/sagetrac-mirror/commit/468332c1763303337312354da81762c3c3296a95)** to **[`bd877b8`](https://github.com/sagemath/sagetrac-mirror/commit/bd877b899103fa693266a1a55140d1d5454a2d45)**",
    "created_at": "2015-04-22T10:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245402",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`468332c`](https://github.com/sagemath/sagetrac-mirror/commit/468332c1763303337312354da81762c3c3296a95)** to **[`bd877b8`](https://github.com/sagemath/sagetrac-mirror/commit/bd877b899103fa693266a1a55140d1d5454a2d45)**



---

archive/issue_comments_245403.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nRebased to 6.7.beta2.",
    "created_at": "2015-04-22T10:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245403",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Rebased to 6.7.beta2.



---

archive/issue_comments_245404.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI'm simplifying the changes to `src/module_list.py` and `src/setup.py`",
    "created_at": "2015-04-22T10:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245404",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

I'm simplifying the changes to `src/module_list.py` and `src/setup.py`



---

archive/issue_events_256409.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-22T10:22:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256409"
}
```



---

archive/issue_events_256410.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-22T10:22:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256410"
}
```



---

archive/issue_comments_245405.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68c43afcf922bb5cd776623a0222d289b4d0223e\">68c43af</a></td><td><code>Move interrupts to Cython</code></td></tr></table>\n",
    "created_at": "2015-04-22T10:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245405",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68c43afcf922bb5cd776623a0222d289b4d0223e">68c43af</a></td><td><code>Move interrupts to Cython</code></td></tr></table>




---

archive/issue_comments_245406.json:
```json
{
    "body": "Changed commit from **[`bd877b8`](https://github.com/sagemath/sagetrac-mirror/commit/bd877b899103fa693266a1a55140d1d5454a2d45)** to **[`68c43af`](https://github.com/sagemath/sagetrac-mirror/commit/68c43afcf922bb5cd776623a0222d289b4d0223e)**",
    "created_at": "2015-04-22T10:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245406",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd877b8`](https://github.com/sagemath/sagetrac-mirror/commit/bd877b899103fa693266a1a55140d1d5454a2d45)** to **[`68c43af`](https://github.com/sagemath/sagetrac-mirror/commit/68c43afcf922bb5cd776623a0222d289b4d0223e)**



---

archive/issue_events_256411.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-22T10:40:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256411"
}
```



---

archive/issue_events_256412.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-22T10:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256412"
}
```



---

archive/issue_comments_245407.json:
```json
{
    "body": "Changed dependencies from **#18030** to none",
    "created_at": "2015-04-22T10:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245407",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#18030** to none



---

archive/issue_comments_245408.json:
```json
{
    "body": "Changed commit from **[`68c43af`](https://github.com/sagemath/sagetrac-mirror/commit/68c43afcf922bb5cd776623a0222d289b4d0223e)** to **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)**",
    "created_at": "2015-04-28T06:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245408",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`68c43af`](https://github.com/sagemath/sagetrac-mirror/commit/68c43afcf922bb5cd776623a0222d289b4d0223e)** to **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)**



---

archive/issue_comments_245409.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d\">6d738d6</a></td><td><code>Merge tag '6.7.beta3' into HEAD</code></td></tr></table>\n",
    "created_at": "2015-04-28T06:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245409",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d">6d738d6</a></td><td><code>Merge tag '6.7.beta3' into HEAD</code></td></tr></table>




---

archive/issue_comments_245410.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nDo you have any other reason to remove x86 CPUs without MMX support execpt that it is very old?\nI guess some other parts of sage might not work on such CPU anyway, do you have any hint?\nI at least remember that our ATLAS base configuration requires an FPU or even MMX.",
    "created_at": "2015-05-18T21:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245410",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:27" align="right">comment:27</div>

Do you have any other reason to remove x86 CPUs without MMX support execpt that it is very old?
I guess some other parts of sage might not work on such CPU anyway, do you have any hint?
I at least remember that our ATLAS base configuration requires an FPU or even MMX.



---

archive/issue_comments_245411.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@jpflori](#comment:27):\n> Do you have any other reason to remove x86 CPUs without MMX support execpt that it is very old?\n\nThe reason is to simplify the code.\n\n> I guess some other parts of sage might not work on such CPU anyway, do you have any hint?\n\nNo idea...",
    "created_at": "2015-05-18T21:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245411",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@jpflori](#comment:27):
> Do you have any other reason to remove x86 CPUs without MMX support execpt that it is very old?

The reason is to simplify the code.

> I guess some other parts of sage might not work on such CPU anyway, do you have any hint?

No idea...



---

archive/issue_comments_245412.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI think it's dangerous to use stuff from the\n\n```\n#include \"build/cythonized/sage/ext/interrupt/interrupt_api.h\"\n```\nOn top of that, it occurs in a file meant to be included itsef as soon as one wants to use signal related stuff.",
    "created_at": "2015-05-22T13:01:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245412",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:29" align="right">comment:29</div>

I think it's dangerous to use stuff from the

```
#include "build/cythonized/sage/ext/interrupt/interrupt_api.h"
```
On top of that, it occurs in a file meant to be included itsef as soon as one wants to use signal related stuff.



---

archive/issue_comments_245413.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@jpflori](#comment:29):\n> I think it's dangerous to use stuff from the\n> \n> ```\n> #include \"build/cythonized/sage/ext/interrupt/interrupt_api.h\"\n> ```\n\nWhy dangerous? These `_api.h` files are a standard and documented Cython mechanism to use Cython functions from C code: [http://docs.cython.org/src/userguide/external_C_code.html#c-api-declarations](http://docs.cython.org/src/userguide/external_C_code.html#c-api-declarations)",
    "created_at": "2015-05-22T15:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245413",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@jpflori](#comment:29):
> I think it's dangerous to use stuff from the
> 
> ```
> #include "build/cythonized/sage/ext/interrupt/interrupt_api.h"
> ```

Why dangerous? These `_api.h` files are a standard and documented Cython mechanism to use Cython functions from C code: [http://docs.cython.org/src/userguide/external_C_code.html#c-api-declarations](http://docs.cython.org/src/userguide/external_C_code.html#c-api-declarations)



---

archive/issue_comments_245414.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nTo explain the usage of `interrupt_api.h` better: the global variable `_signals` (and some functions like `_sig_on_interrupt_received`) which used to be implemented in `c_lib` are now implemented in Cython. For technical reasons, `sig_on()` MUST be a macro and therefore it can only reasonably be implemented in a `.h` file. But `sig_on()` needs access to `_signals`. So we need a mechanism to access the Cython global variable `_signals` in the C header `macros.h`. We use the standard `cdef api` mechanism for this.",
    "created_at": "2015-05-22T15:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245414",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

To explain the usage of `interrupt_api.h` better: the global variable `_signals` (and some functions like `_sig_on_interrupt_received`) which used to be implemented in `c_lib` are now implemented in Cython. For technical reasons, `sig_on()` MUST be a macro and therefore it can only reasonably be implemented in a `.h` file. But `sig_on()` needs access to `_signals`. So we need a mechanism to access the Cython global variable `_signals` in the C header `macros.h`. We use the standard `cdef api` mechanism for this.



---

archive/issue_comments_245415.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nMy only issue is the place where this header lives: `build/`.\nWhat if I decide to empty this directory and then recompile a file including `interrupts.pxi`?",
    "created_at": "2015-05-22T15:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245415",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:32" align="right">comment:32</div>

My only issue is the place where this header lives: `build/`.
What if I decide to empty this directory and then recompile a file including `interrupts.pxi`?



---

archive/issue_comments_245416.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@jpflori](#comment:32):\n> My only issue is the place where this header lives: `build/`.\n> What if I decide to empty this directory and then recompile a file including `interrupts.pxi`?\n\nCython generates the file `interrupt_api.h`. If you empty the `build` directory, the file will be regenerated just like all the other files in the `build` directory.",
    "created_at": "2015-05-22T15:59:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245416",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@jpflori](#comment:32):
> My only issue is the place where this header lives: `build/`.
> What if I decide to empty this directory and then recompile a file including `interrupts.pxi`?

Cython generates the file `interrupt_api.h`. If you empty the `build` directory, the file will be regenerated just like all the other files in the `build` directory.



---

archive/issue_comments_245417.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nAh, in that case it is fine.\nI for no reason though it was only generated when interrupt.pyx was cythonized.",
    "created_at": "2015-05-22T16:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245417",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:34" align="right">comment:34</div>

Ah, in that case it is fine.
I for no reason though it was only generated when interrupt.pyx was cythonized.



---

archive/issue_comments_245418.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jpflori](#comment:34):\n> I for no reason though it was only generated when interrupt.pyx was cythonized.\n\nYou are right, it *is* only generated when `interrupt.pyx` is Cythonized.\n\nThat's not a problem however: if you delete the `build` directory, then `interrupt.pyx` will be Cythonized and the file will be generated.",
    "created_at": "2015-05-22T16:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245418",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jpflori](#comment:34):
> I for no reason though it was only generated when interrupt.pyx was cythonized.

You are right, it *is* only generated when `interrupt.pyx` is Cythonized.

That's not a problem however: if you delete the `build` directory, then `interrupt.pyx` will be Cythonized and the file will be generated.



---

archive/issue_comments_245419.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nYes indeed, and I don't like this Cython behavior.\nYou have to keep the build directory alive to avoid rebuilding everything.\n\nAnyway, I'll leave with  it for this ticket.",
    "created_at": "2015-05-22T19:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245419",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:36" align="right">comment:36</div>

Yes indeed, and I don't like this Cython behavior.
You have to keep the build directory alive to avoid rebuilding everything.

Anyway, I'll leave with  it for this ticket.



---

archive/issue_events_256413.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2015-05-22T19:17:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256413"
}
```



---

archive/issue_events_256414.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2015-05-22T19:17:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256414"
}
```



---

archive/issue_comments_245420.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori**",
    "created_at": "2015-05-22T19:17:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245420",
    "user": "https://github.com/jpflori"
}
```

Reviewer: **Jean-Pierre Flori**



---

archive/issue_events_256415.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-23T06:10:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256415"
}
```



---

archive/issue_events_256416.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "870ea4141f834b0cffc29b23500ad82f00d7b63a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-23T06:10:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18027#event-256416"
}
```



---

archive/issue_comments_245421.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/move_interrupts_to_cython](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_interrupts_to_cython)** to **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)**",
    "created_at": "2015-05-23T06:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245421",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/move_interrupts_to_cython](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/move_interrupts_to_cython)** to **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)**



---

archive/issue_comments_245422.json:
```json
{
    "body": "Changed commit from **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)** to none",
    "created_at": "2015-05-23T08:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245422",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`6d738d6`](https://github.com/sagemath/sagetrac-mirror/commit/6d738d6e869b869ccaf68a5db6a166542647dd7d)** to none



---

archive/issue_comments_245423.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@jpflori](#comment:36):\n> Yes indeed, and I don't like this Cython behavior.\n> You have to keep the build directory alive to avoid rebuilding everything.\n\nI really don't understand your problem.\n\nDeleting the `src/build` directory in Sage is the same as `make clean` in a typical software package. And when you do `make clean`, you have to rebuild everything if you do `make` later.\n\nAnd when you *don't* delete the `build` directory, Cython+distutils has proper dependency checking: only needed files are rebuilt.",
    "created_at": "2015-05-23T08:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245423",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@jpflori](#comment:36):
> Yes indeed, and I don't like this Cython behavior.
> You have to keep the build directory alive to avoid rebuilding everything.

I really don't understand your problem.

Deleting the `src/build` directory in Sage is the same as `make clean` in a typical software package. And when you do `make clean`, you have to rebuild everything if you do `make` later.

And when you *don't* delete the `build` directory, Cython+distutils has proper dependency checking: only needed files are rebuilt.



---

archive/issue_comments_245424.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI'll surely open a follow up ticket about that `build` directory question once I have figured out to deal with it. I am not completely sure you have totally broken all \"global\" sage install and whether or not making those install carry at least a fragment of the build folder will fix it properly.\nWho else needs to have their build folder kept?\nIt joins a basket of issues that I have duct-taped in sage-on-gentoo for years to have doctest and spyx files to work properly. If I had spent more time on fixing the installation of sage headers and various auxiliary files rather than the duct tape we wouldn't be there today.\n\nThat's a sample\n\n```\n    1 item had failures:\n       1 of   4 in sage.doctest.tests.sig_on\n        [2 tests, 1 failure, ...]\n    ----------------------------------------------------------------------\n    sage -t --warn-long 0.0 sig_on.rst  # 1 doctest failed\n    ----------------------------------------------------------------------\n    ...\n    1\nGot:\n    Running doctests with ID 2015-05-24-22-01-48-66399ec6.\n    Doctesting 1 file.\n    sage -t --warn-long 0.0 sig_on.rst\n    **********************************************************************\n    File \"sig_on.rst\", line 3, in sage.doctest.tests.sig_on\n    Failed example:\n        cython('sig_on()')\n    Exception raised:\n        Traceback (most recent call last):\n          File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n            self.compile_and_execute(example, compiler, test.globs)\n          File \"/usr/lib64/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n            exec(compiled, globs)\n          File \"<doctest sage.doctest.tests.sig_on[0]>\", line 1, in <module>\n            cython('sig_on()')\n          File \"sage/misc/cython_c.pyx\", line 63, in sage.misc.cython_c.cython (build/cythonized/sage/misc/cython_c.c:949)\n            sage.server.support.cython_import_all(tmpfile, globals(),\n          File \"/usr/lib64/python2.7/site-packages/sage/server/support.py\", line 85, in cython_import_all\n            create_local_c_file=create_local_c_file)\n          File \"/usr/lib64/python2.7/site-packages/sage/server/support.py\", line 62, in cython_import\n            **kwds)\n          File \"/usr/lib64/python2.7/site-packages/sage/misc/cython.py\", line 519, in cython\n            raise RuntimeError(\"Error compiling {}:\\n{}\\n{}\".format(filename, log, err))\n        RuntimeError: Error compiling /home/fbissey/.sage/temp/QCD-nzi3/10231/tmp_FdPxlK.spyx:\n        running build\n        running build_ext\n        building '_home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0' extension\n        creating build\n        creating build/temp.linux-x86_64-2.7\n        x86_64-pc-linux-gnu-gcc -pthread -fPIC -I/usr/include/csage -I/usr/include -I/usr/include/python2.7 -I/usr/lib/python/site-packages/numpy/core/include -I/usr/share/sage/src/sage/ext -I/usr/share/sage/src -I/usr/share/sage/src/sage/gsl -I/home/fbissey/.sage/temp/QCD-nzi3/10231 -I/usr/include/python2.7 -c _home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0.c -o build/temp.linux-x86_64-2.7/_home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0.o -w -O2\n    <BLANKLINE>\n        In file included from _home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0.c:248:0:\n        /usr/share/sage/src/sage/ext/interrupt/pxi.h:7:63: fatal error: build/cythonized/sage/ext/interrupt/interrupt_api.h: No such file or directory\n         #include \"build/cythonized/sage/ext/interrupt/interrupt_api.h\"\n                                                                       ^\n        compilation terminated.\n        error: command 'x86_64-pc-linux-gnu-gcc' failed with exit status 1\n    <BLANKLINE>\n    **********************************************************************\n    1 item had failures:\n       1 of   4 in sage.doctest.tests.sig_on\n        [2 tests, 1 failure, 0.86 s]\n    ----------------------------------------------------------------------\n    sage -t --warn-long 0.0 sig_on.rst  # 1 doctest failed\n    ----------------------------------------------------------------------\n    Total time for all tests: 0.9 seconds\n        cpu time: 0.0 seconds\n        cumulative wall time: 0.9 seconds\n    1\n**********************************************************************\n1 item had failures:\n   1 of  45 in sage.doctest.test\n    [44 tests, 1 failure, 98.40 s]\n----------------------------------------------------------------------\nsage -t --long /usr/share/sage/src/sage/doctest/test.py  # 1 doctest failed\n```",
    "created_at": "2015-05-24T11:07:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245424",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:40" align="right">comment:40</div>

I'll surely open a follow up ticket about that `build` directory question once I have figured out to deal with it. I am not completely sure you have totally broken all "global" sage install and whether or not making those install carry at least a fragment of the build folder will fix it properly.
Who else needs to have their build folder kept?
It joins a basket of issues that I have duct-taped in sage-on-gentoo for years to have doctest and spyx files to work properly. If I had spent more time on fixing the installation of sage headers and various auxiliary files rather than the duct tape we wouldn't be there today.

That's a sample

```
    1 item had failures:
       1 of   4 in sage.doctest.tests.sig_on
        [2 tests, 1 failure, ...]
    ----------------------------------------------------------------------
    sage -t --warn-long 0.0 sig_on.rst  # 1 doctest failed
    ----------------------------------------------------------------------
    ...
    1
Got:
    Running doctests with ID 2015-05-24-22-01-48-66399ec6.
    Doctesting 1 file.
    sage -t --warn-long 0.0 sig_on.rst
    **********************************************************************
    File "sig_on.rst", line 3, in sage.doctest.tests.sig_on
    Failed example:
        cython('sig_on()')
    Exception raised:
        Traceback (most recent call last):
          File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
            self.compile_and_execute(example, compiler, test.globs)
          File "/usr/lib64/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
            exec(compiled, globs)
          File "<doctest sage.doctest.tests.sig_on[0]>", line 1, in <module>
            cython('sig_on()')
          File "sage/misc/cython_c.pyx", line 63, in sage.misc.cython_c.cython (build/cythonized/sage/misc/cython_c.c:949)
            sage.server.support.cython_import_all(tmpfile, globals(),
          File "/usr/lib64/python2.7/site-packages/sage/server/support.py", line 85, in cython_import_all
            create_local_c_file=create_local_c_file)
          File "/usr/lib64/python2.7/site-packages/sage/server/support.py", line 62, in cython_import
            **kwds)
          File "/usr/lib64/python2.7/site-packages/sage/misc/cython.py", line 519, in cython
            raise RuntimeError("Error compiling {}:\n{}\n{}".format(filename, log, err))
        RuntimeError: Error compiling /home/fbissey/.sage/temp/QCD-nzi3/10231/tmp_FdPxlK.spyx:
        running build
        running build_ext
        building '_home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0' extension
        creating build
        creating build/temp.linux-x86_64-2.7
        x86_64-pc-linux-gnu-gcc -pthread -fPIC -I/usr/include/csage -I/usr/include -I/usr/include/python2.7 -I/usr/lib/python/site-packages/numpy/core/include -I/usr/share/sage/src/sage/ext -I/usr/share/sage/src -I/usr/share/sage/src/sage/gsl -I/home/fbissey/.sage/temp/QCD-nzi3/10231 -I/usr/include/python2.7 -c _home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0.c -o build/temp.linux-x86_64-2.7/_home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0.o -w -O2
    <BLANKLINE>
        In file included from _home_fbissey__sage_temp_QCD_nzi3_10231_tmp_FdPxlK_spyx_0.c:248:0:
        /usr/share/sage/src/sage/ext/interrupt/pxi.h:7:63: fatal error: build/cythonized/sage/ext/interrupt/interrupt_api.h: No such file or directory
         #include "build/cythonized/sage/ext/interrupt/interrupt_api.h"
                                                                       ^
        compilation terminated.
        error: command 'x86_64-pc-linux-gnu-gcc' failed with exit status 1
    <BLANKLINE>
    **********************************************************************
    1 item had failures:
       1 of   4 in sage.doctest.tests.sig_on
        [2 tests, 1 failure, 0.86 s]
    ----------------------------------------------------------------------
    sage -t --warn-long 0.0 sig_on.rst  # 1 doctest failed
    ----------------------------------------------------------------------
    Total time for all tests: 0.9 seconds
        cpu time: 0.0 seconds
        cumulative wall time: 0.9 seconds
    1
**********************************************************************
1 item had failures:
   1 of  45 in sage.doctest.test
    [44 tests, 1 failure, 98.40 s]
----------------------------------------------------------------------
sage -t --long /usr/share/sage/src/sage/doctest/test.py  # 1 doctest failed
```



---

archive/issue_comments_245425.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI understand your problem now: you need the `build` folder for `cython()` to work properly (why didn't you just tell me this?)",
    "created_at": "2015-05-24T13:10:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245425",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

I understand your problem now: you need the `build` folder for `cython()` to work properly (why didn't you just tell me this?)



---

archive/issue_comments_245426.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nTo be honest, while I saw the ticket yesterday and suspected problems, I only found the extent a few hours ago. I cooled off a little bit before commenting, possibly not enough.",
    "created_at": "2015-05-24T13:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245426",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:42" align="right">comment:42</div>

To be honest, while I saw the ticket yesterday and suspected problems, I only found the extent a few hours ago. I cooled off a little bit before commenting, possibly not enough.



---

archive/issue_comments_245427.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nBut it is a symptom for a larger problem sage keep a lot of stuff in the sources that should really be installed. Headers and a few c/cpp files here and there. I had that conversation with Burcin a long time ago. I have been going on with shipping a copy of the sources in sage-on-gentoo and I probably could try to ship that single file but it should be just a stop gap to better solution.",
    "created_at": "2015-05-24T21:09:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245427",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:43" align="right">comment:43</div>

But it is a symptom for a larger problem sage keep a lot of stuff in the sources that should really be installed. Headers and a few c/cpp files here and there. I had that conversation with Burcin a long time ago. I have been going on with shipping a copy of the sources in sage-on-gentoo and I probably could try to ship that single file but it should be just a stop gap to better solution.



---

archive/issue_comments_245428.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@kiwifb](#comment:43):\n> But it is a symptom for a larger problem sage keep a lot of stuff in the sources that should really be installed. Headers and a few c/cpp files here and there.\n\nAnd `.pxd`/`.pxi` files also I guess...\n\nIt wouldn't be too hard to install all needed files, it's just that somebody has to do it.",
    "created_at": "2015-05-24T21:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18027#issuecomment-245428",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@kiwifb](#comment:43):
> But it is a symptom for a larger problem sage keep a lot of stuff in the sources that should really be installed. Headers and a few c/cpp files here and there.

And `.pxd`/`.pxi` files also I guess...

It wouldn't be too hard to install all needed files, it's just that somebody has to do it.
