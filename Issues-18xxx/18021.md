# Issue 18021: Add gyration orbit methods for AlternatingSignMatrix and AlternatingSignMatrices

archive/issues_017784.json:
```json
{
    "body": "Pull this branch after checking out develop branch 6.6.rc0.\n\nIn class :class:`AlternatingSignMatrix` (future: in class FullyPackedLoop): \n* add a method :meth:`obtain_gyration_orbit` for returning the orbit of self.\n\nIn class :class:`AlternatingSignMatrices`: \n* add a method :meth:`gyration_orbits` for returning the list of orbits of alternating sign matrices of order n.\n* add a method :meth:`gyration_orbit_size` for returning the sizes of orbits of alternating sign matrices of order n.\n\nFor method :meth:`AlternatingSignMatrix.gyration`\n* optional parameter k (default k=1) to indicate how many times to gyrate on the ASM\n(Note: we are no longer adding an optional parameter because the reviewer disagreed).\n\nSee Ticket #18003 (implementing FullyPackedLoop class)\n\nWe are implementing the code that Travis Scrimshaw gave us.\n\nCC:  jamespropp @tscrim @jessicapalencia @kevindilks @drvinceknight @theref\n\nKeywords: days64, gyration, alternating sign matrix\n\nBranch/Commit: b2478ae45ab4eec2a293812743f454412c776cd0\n\nReviewer: Jessica Striker, Travis Scrimshaw, James Propp\n\nAuthor: Emily Gunawan, Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18021\n\n",
    "closed_at": "2015-04-14T19:43:45Z",
    "created_at": "2015-03-20T23:56:13Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Add gyration orbit methods for AlternatingSignMatrix and AlternatingSignMatrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18021",
    "user": "https://github.com/egunawan"
}
```
Pull this branch after checking out develop branch 6.6.rc0.

In class :class:`AlternatingSignMatrix` (future: in class FullyPackedLoop): 
* add a method :meth:`obtain_gyration_orbit` for returning the orbit of self.

In class :class:`AlternatingSignMatrices`: 
* add a method :meth:`gyration_orbits` for returning the list of orbits of alternating sign matrices of order n.
* add a method :meth:`gyration_orbit_size` for returning the sizes of orbits of alternating sign matrices of order n.

For method :meth:`AlternatingSignMatrix.gyration`
* optional parameter k (default k=1) to indicate how many times to gyrate on the ASM
(Note: we are no longer adding an optional parameter because the reviewer disagreed).

See Ticket #18003 (implementing FullyPackedLoop class)

We are implementing the code that Travis Scrimshaw gave us.

CC:  jamespropp @tscrim @jessicapalencia @kevindilks @drvinceknight @theref

Keywords: days64, gyration, alternating sign matrix

Branch/Commit: b2478ae45ab4eec2a293812743f454412c776cd0

Reviewer: Jessica Striker, Travis Scrimshaw, James Propp

Author: Emily Gunawan, Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18021





---

archive/issue_comments_237961.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2015-03-20T23:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237961",
    "user": "https://github.com/egunawan"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_237962.json:
```json
{
    "body": "<a id='comment:3'></a>Reviewers: Please search for [TODO] where I add comments/questions.\n\n---\nNew commits:",
    "created_at": "2015-03-21T08:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237962",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:3'></a>Reviewers: Please search for [TODO] where I add comments/questions.

---
New commits:



---

archive/issue_comments_237963.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-21T08:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237963",
    "user": "https://github.com/egunawan"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_237964.json:
```json
{
    "body": "<a id='comment:8'></a>Here are my comments:\n\n- I don't like the `count` option to `gyration`. You are much better writing a simple `for` loop which applies the sequence of gyrations to avoid the unnecessary complexity.\n- Rename `obtain_gyration_orbit` to `gyration_orbit`.\n- Use ``@`cached_method` for `gyration_orbits` (and you should not say anything about its internal representation). Also have it return a tuple instead of a list.\n- Don't cache `gyration_orbit_sizes` since the previous caching will keep this fast (and definitely do not hardcode them).\n\nAlso, do you want this to depend on #17988? If so, I should be able to do that review this week.",
    "created_at": "2015-03-23T22:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237964",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>Here are my comments:

- I don't like the `count` option to `gyration`. You are much better writing a simple `for` loop which applies the sequence of gyrations to avoid the unnecessary complexity.
- Rename `obtain_gyration_orbit` to `gyration_orbit`.
- Use ``@`cached_method` for `gyration_orbits` (and you should not say anything about its internal representation). Also have it return a tuple instead of a list.
- Don't cache `gyration_orbit_sizes` since the previous caching will keep this fast (and definitely do not hardcode them).

Also, do you want this to depend on #17988? If so, I should be able to do that review this week.



---

archive/issue_comments_237965.json:
```json
{
    "body": "<a id='comment:9'></a>This ticket does not depend on another ticket. Thanks Travis!",
    "created_at": "2015-03-24T00:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237965",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:9'></a>This ticket does not depend on another ticket. Thanks Travis!



---

archive/issue_comments_237966.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T05:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237966",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237967.json:
```json
{
    "body": "<a id='comment:11'></a>I did all the changes you asked except for the very last comment \"Don't cache gyration_orbit_sizes\".\n\nTo clarify, do you mean I should remove these lines from gyration_orbit_sizes?\n        if self._gyration_orbit_sizes:\n            return self._gyration_orbit_sizes\n\nAnd remove the \"self._gyration_orbit_sizes\"?",
    "created_at": "2015-03-24T05:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237967",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:11'></a>I did all the changes you asked except for the very last comment "Don't cache gyration_orbit_sizes".

To clarify, do you mean I should remove these lines from gyration_orbit_sizes?
        if self._gyration_orbit_sizes:
            return self._gyration_orbit_sizes

And remove the "self._gyration_orbit_sizes"?



---

archive/issue_comments_237968.json:
```json
{
    "body": "<a id='comment:13'></a>Correct, computing `len` of a list is very fast in python, and I doubt anyone will be repeatedly getting the sizes of the gyration orbits for ASM's with `n = 100000` (it might actually be higher when you start seeing a noticeable effect).\n\nAlthough my question in regards to #18003 (formerly #17988) is do you want this to or implement gyration on FPL's directly? Although it does make more sense to implement gyration in #18003.",
    "created_at": "2015-03-24T05:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237968",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>Correct, computing `len` of a list is very fast in python, and I doubt anyone will be repeatedly getting the sizes of the gyration orbits for ASM's with `n = 100000` (it might actually be higher when you start seeing a noticeable effect).

Although my question in regards to #18003 (formerly #17988) is do you want this to or implement gyration on FPL's directly? Although it does make more sense to implement gyration in #18003.



---

archive/issue_comments_237969.json:
```json
{
    "body": "<a id='comment:14'></a>We don't have any class called FullyPackedLoops (plural) yet. The methods meth:``gyration_orbits`` and :meth:``gyration_orbit_sizes`` requires a plural class like AlternatingSignMatrices.\n\nAlso, I think Jessica would prefer that the ticket for the new FullyPackedLoop class (#18003) be closed sooner rather than later. So I think it's better that we don't add any more methods to #18003.",
    "created_at": "2015-03-24T05:33:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237969",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:14'></a>We don't have any class called FullyPackedLoops (plural) yet. The methods meth:``gyration_orbits`` and :meth:``gyration_orbit_sizes`` requires a plural class like AlternatingSignMatrices.

Also, I think Jessica would prefer that the ticket for the new FullyPackedLoop class (#18003) be closed sooner rather than later. So I think it's better that we don't add any more methods to #18003.



---

archive/issue_comments_237970.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T05:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237970",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237971.json:
```json
{
    "body": "<a id='comment:16'></a>Okay, I've made some review changes by cleaning up the code. In particular, you should try to not include any trailing whitespace in your code. Let me know if you have any questions.\n\n---\nNew commits:",
    "created_at": "2015-03-27T06:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237971",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>Okay, I've made some review changes by cleaning up the code. In particular, you should try to not include any trailing whitespace in your code. Let me know if you have any questions.

---
New commits:



---

archive/issue_comments_237972.json:
```json
{
    "body": "<a id='comment:17'></a>Also, if you're happy with my changes, then you can set this to a positive review.",
    "created_at": "2015-03-27T06:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237972",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>Also, if you're happy with my changes, then you can set this to a positive review.



---

archive/issue_comments_237973.json:
```json
{
    "body": "<a id='comment:19'></a>Travis, I am happy with the changes. But I didn't check whether doc builds correctly. Is that OK?",
    "created_at": "2015-04-11T02:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237973",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:19'></a>Travis, I am happy with the changes. But I didn't check whether doc builds correctly. Is that OK?



---

archive/issue_comments_237974.json:
```json
{
    "body": "<a id='comment:20'></a>You (or one of the other reviewers) should test it. You can do so by: `sage --docbuild reference/combinat html` (this will be the fastest way to rebuild just the part of the doc that changed) after running `sage -b` (if you haven't already).",
    "created_at": "2015-04-11T03:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237974",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>You (or one of the other reviewers) should test it. You can do so by: `sage --docbuild reference/combinat html` (this will be the fastest way to rebuild just the part of the doc that changed) after running `sage -b` (if you haven't already).



---

archive/issue_comments_237975.json:
```json
{
    "body": "<a id='comment:21'></a>Per emailing with Travis, I did make doc-clean and make doc, and the doc alternating_sign_matrix.html looks good to me.",
    "created_at": "2015-04-11T18:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237975",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:21'></a>Per emailing with Travis, I did make doc-clean and make doc, and the doc alternating_sign_matrix.html looks good to me.



---

archive/issue_comments_237976.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-11T18:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237976",
    "user": "https://github.com/egunawan"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_237977.json:
```json
{
    "body": "<a id='comment:22'></a>Thanks all for your work on this!",
    "created_at": "2015-04-11T19:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237977",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>Thanks all for your work on this!



---

archive/issue_comments_237978.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-14T19:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18021#issuecomment-237978",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051186.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18021",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18021#event-51186"
}
```
