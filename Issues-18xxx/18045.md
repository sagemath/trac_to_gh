# Issue 18045: Wrong result returned by is_planar on a given embedding

archive/issues_017808.json:
```json
{
    "body": "As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n\nThis actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.\n\nThe problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.\n\nNathann\n\n[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/\n\nBranch/Commit: 110c8fa7f74010a01187f1413e2e693868cf1a66\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18045\n\n",
    "closed_at": "2015-04-27T04:16:14Z",
    "created_at": "2015-03-24T12:23:33Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Wrong result returned by is_planar on a given embedding",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18045",
    "user": "https://github.com/nathanncohen"
}
```
As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.

This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.

The problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.

Nathann

[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/

Branch/Commit: 110c8fa7f74010a01187f1413e2e693868cf1a66

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18045





---

archive/issue_comments_311196.json:
```json
{
    "body": "Changing branch from \"\" to \"public/18045\"",
    "created_at": "2015-03-24T12:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311196",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "public/18045"



---

archive/issue_comments_311197.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-As reported on AskSage [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n+As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n \n This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not mak the mistake again.\n \n``````\n",
    "created_at": "2015-03-24T12:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311197",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-As reported on AskSage [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.
+As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.
 
 This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not mak the mistake again.
 
``````




---

archive/issue_comments_311198.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-24T12:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311198",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_311199.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n \n+This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.\n+\n+The problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.\n+\n+Nathann\n+\n+[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/\n \n Author: Nathann Cohen\n \n``````\n",
    "created_at": "2015-03-24T12:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311199",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,12 @@
+As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.
 
+This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.
+
+The problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.
+
+Nathann
+
+[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/
 
 Author: Nathann Cohen
 
``````




---

archive/issue_comments_311200.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T12:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311200",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_311201.json:
```json
{
    "body": "Changing commit from \"\" to \"38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf\"",
    "created_at": "2015-03-24T12:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311201",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf"



---

archive/issue_comments_311202.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-03-24T12:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_311203.json:
```json
{
    "body": "Changing commit from \"38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf\" to \"9ee0d6e19ed03501a03333dfa4815f947735c0bc\"",
    "created_at": "2015-03-24T12:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311203",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf" to "9ee0d6e19ed03501a03333dfa4815f947735c0bc"



---

archive/issue_comments_311204.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2015-04-26T16:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311204",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_311205.json:
```json
{
    "body": "<a id='comment:5'></a>One bug less in Sage! Cool!\n\nCould you replace `(see eg's)` by `(see examples)`. It is very wrong as \"e.g.\" is a latin abbreviation for \"for example\".\n\nVincent",
    "created_at": "2015-04-26T16:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311205",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>One bug less in Sage! Cool!

Could you replace `(see eg's)` by `(see examples)`. It is very wrong as "e.g." is a latin abbreviation for "for example".

Vincent



---

archive/issue_comments_311206.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-26T16:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311206",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_311207.json:
```json
{
    "body": "Changing commit from \"9ee0d6e19ed03501a03333dfa4815f947735c0bc\" to \"110c8fa7f74010a01187f1413e2e693868cf1a66\"",
    "created_at": "2015-04-26T17:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9ee0d6e19ed03501a03333dfa4815f947735c0bc" to "110c8fa7f74010a01187f1413e2e693868cf1a66"



---

archive/issue_comments_311208.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-26T17:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_311209.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-26T17:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311209",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_311210.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-26T19:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311210",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_311211.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks !",
    "created_at": "2015-04-26T19:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311211",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>Thanks !



---

archive/issue_events_051240.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-27T04:16:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18045#event-51240"
}
```



---

archive/issue_comments_311212.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-27T04:16:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311212",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_311213.json:
```json
{
    "body": "Changing branch from \"public/18045\" to \"110c8fa7f74010a01187f1413e2e693868cf1a66\"",
    "created_at": "2015-04-27T04:16:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-311213",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/18045" to "110c8fa7f74010a01187f1413e2e693868cf1a66"
