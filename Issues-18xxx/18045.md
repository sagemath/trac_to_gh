# Issue 18045: Wrong result returned by is_planar on a given embedding

archive/issues_017808.json:
```json
{
    "body": "As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n\nThis actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.\n\nThe problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.\n\nNathann\n\n[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/\n\n**Branch/Commit:** [110c8fa7f74010a01187f1413e2e693868cf1a66](https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Nathann Cohen\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18045\n\n",
    "closed_at": "2015-04-27T04:16:14Z",
    "created_at": "2015-03-24T12:23:33Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Wrong result returned by is_planar on a given embedding",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18045",
    "user": "https://github.com/nathanncohen"
}
```
As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.

This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.

The problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.

Nathann

[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/

**Branch/Commit:** [110c8fa7f74010a01187f1413e2e693868cf1a66](https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66)

**Reviewer:** Vincent Delecroix

**Author:** Nathann Cohen

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/18045





---

archive/issue_comments_315101.json:
```json
{
    "body": "**Branch:** [public/18045](https://github.com/sagemath/sagetrac-mirror/tree/public/18045)",
    "created_at": "2015-03-24T12:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315101",
    "user": "https://github.com/nathanncohen"
}
```

**Branch:** [public/18045](https://github.com/sagemath/sagetrac-mirror/tree/public/18045)



---

archive/issue_comments_315102.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-As reported on AskSage [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n+As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n \n This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not mak the mistake again.\n \n``````\n",
    "created_at": "2015-03-24T12:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315102",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-As reported on AskSage [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.
+As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.
 
 This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not mak the mistake again.
 
``````




---

archive/issue_comments_315103.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-03-24T12:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315103",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_315104.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n \n-This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not mak the mistake again.\n+This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.\n+\n+The problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.\n \n Nathann\n \n``````\n",
    "created_at": "2015-03-24T12:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315104",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.
 
-This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not mak the mistake again.
+This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.
+
+The problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.
 
 Nathann
 
``````




---

archive/issue_comments_315105.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf\">38c4e50</a></td><td><code>trac #18045: Wrong result returned by is_planar on a given embedding</code></td></tr></table>\n",
    "created_at": "2015-03-24T12:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf">38c4e50</a></td><td><code>trac #18045: Wrong result returned by is_planar on a given embedding</code></td></tr></table>




---

archive/issue_comments_315106.json:
```json
{
    "body": "**Commit:** [38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf](https://github.com/sagemath/sagetrac-mirror/commit/38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf)",
    "created_at": "2015-03-24T12:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf](https://github.com/sagemath/sagetrac-mirror/commit/38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf)



---

archive/issue_comments_315107.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ee0d6e19ed03501a03333dfa4815f947735c0bc\">9ee0d6e</a></td><td><code>trac #18045: Wrong result returned by is_planar on a given embedding</code></td></tr></table>\n",
    "created_at": "2015-03-24T12:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315107",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ee0d6e19ed03501a03333dfa4815f947735c0bc">9ee0d6e</a></td><td><code>trac #18045: Wrong result returned by is_planar on a given embedding</code></td></tr></table>




---

archive/issue_comments_315108.json:
```json
{
    "body": "**Changing commit** from \"[38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf](https://github.com/sagemath/sagetrac-mirror/commit/38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf)\" to \"[9ee0d6e19ed03501a03333dfa4815f947735c0bc](https://github.com/sagemath/sagetrac-mirror/commit/9ee0d6e19ed03501a03333dfa4815f947735c0bc)\".",
    "created_at": "2015-03-24T12:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf](https://github.com/sagemath/sagetrac-mirror/commit/38c4e50b38574c6b4be2bb9dbf3cd98b1d4f6eaf)" to "[9ee0d6e19ed03501a03333dfa4815f947735c0bc](https://github.com/sagemath/sagetrac-mirror/commit/9ee0d6e19ed03501a03333dfa4815f947735c0bc)".



---

archive/issue_comments_315109.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2015-04-26T16:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315109",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_315110.json:
```json
{
    "body": "<a id='comment:5'></a>\nOne bug less in Sage! Cool!\n\nCould you replace `(see eg's)` by `(see examples)`. It is very wrong as \"e.g.\" is a latin abbreviation for \"for example\".\n\nVincent",
    "created_at": "2015-04-26T16:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315110",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
One bug less in Sage! Cool!

Could you replace `(see eg's)` by `(see examples)`. It is very wrong as "e.g." is a latin abbreviation for "for example".

Vincent



---

archive/issue_comments_315111.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2015-04-26T16:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315111",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_315112.json:
```json
{
    "body": "**Changing commit** from \"[9ee0d6e19ed03501a03333dfa4815f947735c0bc](https://github.com/sagemath/sagetrac-mirror/commit/9ee0d6e19ed03501a03333dfa4815f947735c0bc)\" to \"[110c8fa7f74010a01187f1413e2e693868cf1a66](https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66)\".",
    "created_at": "2015-04-26T17:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315112",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9ee0d6e19ed03501a03333dfa4815f947735c0bc](https://github.com/sagemath/sagetrac-mirror/commit/9ee0d6e19ed03501a03333dfa4815f947735c0bc)" to "[110c8fa7f74010a01187f1413e2e693868cf1a66](https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66)".



---

archive/issue_comments_315113.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69640d6f3970a97e53bcacfde4c94a457866b39f\">69640d6</a></td><td><code>trac #18045: Merged with 6.7.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66\">110c8fa</a></td><td><code>trac #18045: Review</code></td></tr></table>\n",
    "created_at": "2015-04-26T17:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315113",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69640d6f3970a97e53bcacfde4c94a457866b39f">69640d6</a></td><td><code>trac #18045: Merged with 6.7.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66">110c8fa</a></td><td><code>trac #18045: Review</code></td></tr></table>




---

archive/issue_comments_315114.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2015-04-26T17:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315114",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_315115.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-04-26T19:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315115",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_315116.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks !",
    "created_at": "2015-04-26T19:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315116",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
Thanks !



---

archive/issue_events_058263.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-27T04:16:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18045#event-58263"
}
```



---

archive/issue_comments_315117.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2015-04-27T04:16:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315117",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_315118.json:
```json
{
    "body": "**Changing branch** from \"[public/18045](https://github.com/sagemath/sagetrac-mirror/tree/public/18045)\" to \"[110c8fa7f74010a01187f1413e2e693868cf1a66](https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66)\".",
    "created_at": "2015-04-27T04:16:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-315118",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/18045](https://github.com/sagemath/sagetrac-mirror/tree/public/18045)" to "[110c8fa7f74010a01187f1413e2e693868cf1a66](https://github.com/sagemath/sagetrac-mirror/commit/110c8fa7f74010a01187f1413e2e693868cf1a66)".
