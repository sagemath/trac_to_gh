# Issue 18045: Wrong result returned by is_planar on a given embedding

archive/issues_017808.json:
```json
{
    "body": "As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.\n\nThis actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.\n\nThe problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.\n\nNathann\n\n[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nBranch: 110c8fa7f74010a01187f1413e2e693868cf1a66\n\nCommit: 110c8fa7f74010a01187f1413e2e693868cf1a66\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18045\n\n",
    "closed_at": "2015-04-27T04:16:14Z",
    "created_at": "2015-03-24T12:23:33Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Wrong result returned by is_planar on a given embedding",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18045",
    "user": "https://github.com/nathanncohen"
}
```
As reported on `AskSage` [1], the function `.is_planar` can return wrong results when given a specific embedding to run its computations on.

This actually comes from a mistake in a `if/else` and variable types, as `bool(a_dictionary)` returns `True` when the dictionary is nonempty. The original authors did not seem to be aware of that, and once fixed the code does not make the mistake again.

The problem was that the computations were run on the cached embedding (i.e `_embedding`) instead of the one provided by the user.

Nathann

[1] http://ask.sagemath.org/question/26301/testing-planarity-on-embedding-gives-wrong-result/

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Branch: 110c8fa7f74010a01187f1413e2e693868cf1a66

Commit: 110c8fa7f74010a01187f1413e2e693868cf1a66

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18045





---

archive/issue_comments_238396.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-24T12:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238396",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_238397.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T12:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238398.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-03-24T12:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_238399.json:
```json
{
    "body": "<a id='comment:5'></a>One bug less in Sage! Cool!\n\nCould you replace `(see eg's)` by `(see examples)`. It is very wrong as \"e.g.\" is a latin abbreviation for \"for example\".\n\nVincent",
    "created_at": "2015-04-26T16:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238399",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>One bug less in Sage! Cool!

Could you replace `(see eg's)` by `(see examples)`. It is very wrong as "e.g." is a latin abbreviation for "for example".

Vincent



---

archive/issue_comments_238400.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-26T16:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238400",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_238401.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-26T17:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238401",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238402.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-26T17:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238402",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_238403.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-26T19:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238403",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_238404.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks !",
    "created_at": "2015-04-26T19:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238404",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>Thanks !



---

archive/issue_events_051240.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-27T04:16:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18045#event-51240"
}
```



---

archive/issue_comments_238405.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-27T04:16:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18045",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18045#issuecomment-238405",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
