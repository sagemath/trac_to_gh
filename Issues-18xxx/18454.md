# Issue 18454: New `random_cone()` function

archive/issues_018217.json:
```json
{
    "assignees": [],
    "body": "For testing algebraic properties of cones (for example, the dual of a dual cone is the original cone) it is useful to be able to generate \"random\" cones.\n\n\nBranch: **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)**\n\nReviewer: **Andrey Novoseltsev**\n\nAuthor: **Michael Orlitzky**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18454_\n\n",
    "closed_at": "2015-08-15T17:52:39Z",
    "created_at": "2015-05-19T19:24:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New `random_cone()` function",
    "type": "issue",
    "updated_at": "2018-01-16T23:02:01Z",
    "url": "https://github.com/sagemath/sage/issues/18454",
    "user": "https://github.com/orlitzky"
}
```
For testing algebraic properties of cones (for example, the dual of a dual cone is the original cone) it is useful to be able to generate "random" cones.


Branch: **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)**

Reviewer: **Andrey Novoseltsev**

Author: **Michael Orlitzky**

_Issue created by migration from https://trac.sagemath.org/ticket/18454_





---

archive/issue_events_244592.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2015-05-19T19:24:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244592"
}
```



---

archive/issue_events_244593.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2015-05-19T19:24:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244593"
}
```



---

archive/issue_events_244594.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2015-05-19T19:24:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244594"
}
```



---

archive/issue_events_244595.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2015-05-19T19:24:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244595"
}
```



---

archive/issue_comments_257200.json:
```json
{
    "body": "Branch: **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)**",
    "created_at": "2015-05-19T21:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257200",
    "user": "https://github.com/orlitzky"
}
```

Branch: **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)**



---

archive/issue_comments_257201.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,2 @@\n For testing algebraic properties of cones (for example, the dual of a dual cone is the original cone) it is useful to be able to generate \"random\" cones.\n \n-I have a work-in-progress branch for this which adds `random_cone()` to `sage.geometry.cone`.\n-\n``````\n",
    "created_at": "2015-05-19T21:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257201",
    "user": "https://github.com/orlitzky"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,2 @@
 For testing algebraic properties of cones (for example, the dual of a dual cone is the original cone) it is useful to be able to generate "random" cones.
 
-I have a work-in-progress branch for this which adds `random_cone()` to `sage.geometry.cone`.
-
``````




---

archive/issue_comments_257202.json:
```json
{
    "body": "Commit: **[1bbb2d1](https://github.com/sagemath/sagetrac-mirror/commit/1bbb2d16b104c4f94fcfa56af1e4a2f2fde85ba4)**",
    "created_at": "2015-05-19T21:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257202",
    "user": "https://github.com/orlitzky"
}
```

Commit: **[1bbb2d1](https://github.com/sagemath/sagetrac-mirror/commit/1bbb2d16b104c4f94fcfa56af1e4a2f2fde85ba4)**



---

archive/issue_events_244596.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2015-05-19T21:31:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244596"
}
```



---

archive/issue_comments_257203.json:
```json
{
    "body": "Author: **Michael Orlitzky**",
    "created_at": "2015-05-19T21:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257203",
    "user": "https://github.com/orlitzky"
}
```

Author: **Michael Orlitzky**



---

archive/issue_comments_257204.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3640207054b45397faf76ef34abda634c0430a4\">f364020</a></td><td><code>Trac #18454: Add `is_full_space()` method for polyhedral cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6e06ed00022dd48a7786d61992fdbcb21aebbd8\">b6e06ed</a></td><td><code>Trac #18454: Add random_cone() function to sage.geometry.cone.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bbb2d16b104c4f94fcfa56af1e4a2f2fde85ba4\">1bbb2d1</a></td><td><code>Trac #18454: Add random tests to existing cone methods.</code></td></tr></table>\n",
    "created_at": "2015-05-19T21:31:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257204",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3640207054b45397faf76ef34abda634c0430a4">f364020</a></td><td><code>Trac #18454: Add `is_full_space()` method for polyhedral cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6e06ed00022dd48a7786d61992fdbcb21aebbd8">b6e06ed</a></td><td><code>Trac #18454: Add random_cone() function to sage.geometry.cone.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bbb2d16b104c4f94fcfa56af1e4a2f2fde85ba4">1bbb2d1</a></td><td><code>Trac #18454: Add random tests to existing cone methods.</code></td></tr></table>




---

archive/issue_comments_257205.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nI will surely have more picks, but for starters:\n\n- it would be nice to have an option of specifying the lattice of the random cone\n\n- decision to limit maximum number of rays to double dimension is not natural - I would drop it completely, but perhaps warn the user in documentation that it may take a while to generate a random cone with a lot of rays of low dimension. If you are up to the \"guaranteed possible maximum\" then it is dimension plus one - consider the cone on the vertices of a simplex containing the origin.",
    "created_at": "2015-05-20T04:46:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257205",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'>Comment 2:</a>
I will surely have more picks, but for starters:

- it would be nice to have an option of specifying the lattice of the random cone

- decision to limit maximum number of rays to double dimension is not natural - I would drop it completely, but perhaps warn the user in documentation that it may take a while to generate a random cone with a lot of rays of low dimension. If you are up to the "guaranteed possible maximum" then it is dimension plus one - consider the cone on the vertices of a simplex containing the origin.



---

archive/issue_comments_257206.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReplying to [@novoselt](#comment%3A2):\n> I will surely have more picks, but for starters:\n> \n> - it would be nice to have an option of specifying the lattice of the random cone\n\nThanks, I can try to do this one.\n\n\n\n\n> - decision to limit maximum number of rays to double dimension is not natural - I would drop it completely, but perhaps warn the user in documentation that it may take a while to generate a random cone with a lot of rays of low dimension.\n\nI wasn't sure what to do here. I was trying to avoid returning a cone with e.g. four rays when the user specified `min_rays == max_rays == 10` (for example). What do we do if the user requests a minimum of 100 rays in R<sup>2</sup>? It's going to take a while indeed =)\n\nIn R<sup>3</sup>, it might happen by chance, but the current algorithm won't get there eventually: we're appending new rays to a list, and once we have plus/minus the standard basis, we can append forever and never get any new generators. We'd have to throw out the cone once it becomes the whole space and start over.",
    "created_at": "2015-05-20T05:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257206",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:3'>Comment 3:</a>
Replying to [@novoselt](#comment%3A2):
> I will surely have more picks, but for starters:
> 
> - it would be nice to have an option of specifying the lattice of the random cone

Thanks, I can try to do this one.




> - decision to limit maximum number of rays to double dimension is not natural - I would drop it completely, but perhaps warn the user in documentation that it may take a while to generate a random cone with a lot of rays of low dimension.

I wasn't sure what to do here. I was trying to avoid returning a cone with e.g. four rays when the user specified `min_rays == max_rays == 10` (for example). What do we do if the user requests a minimum of 100 rays in R<sup>2</sup>? It's going to take a while indeed =)

In R<sup>3</sup>, it might happen by chance, but the current algorithm won't get there eventually: we're appending new rays to a list, and once we have plus/minus the standard basis, we can append forever and never get any new generators. We'd have to throw out the cone once it becomes the whole space and start over.



---

archive/issue_comments_257207.json:
```json
{
    "body": "Changed commit from **[1bbb2d1](https://github.com/sagemath/sagetrac-mirror/commit/1bbb2d16b104c4f94fcfa56af1e4a2f2fde85ba4)** to **[55da704](https://github.com/sagemath/sagetrac-mirror/commit/55da704f2f101cfdc25ba1c0b35f38072cb0e7f3)**",
    "created_at": "2015-05-20T14:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257207",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1bbb2d1](https://github.com/sagemath/sagetrac-mirror/commit/1bbb2d16b104c4f94fcfa56af1e4a2f2fde85ba4)** to **[55da704](https://github.com/sagemath/sagetrac-mirror/commit/55da704f2f101cfdc25ba1c0b35f38072cb0e7f3)**



---

archive/issue_comments_257208.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55da704f2f101cfdc25ba1c0b35f38072cb0e7f3\">55da704</a></td><td><code>Trac #18454: Allow random_cone() to take a \"lattice\" parameter.</code></td></tr></table>\n",
    "created_at": "2015-05-20T14:28:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257208",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55da704f2f101cfdc25ba1c0b35f38072cb0e7f3">55da704</a></td><td><code>Trac #18454: Allow random_cone() to take a "lattice" parameter.</code></td></tr></table>




---

archive/issue_comments_257209.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nWell, it would be helpful to know in what sense the cone is \"random\". If it is a cone on a random set of rays, then dimension+1 is the only sensible upper bound to me - such a cone always can be constructed. In R<sup>2</sup> it may be possible to force construction of cones with more than 4 rays - given that the code can handle 4 instead of 3 for the whole space, probably it can live with 100. But if we are talking about the minimal number of extremal rays, then for R<sup>1,2</sup> maximum is the dimension and for all others we can do anything - generate a random n-gon in a plane and lift it.\n\nIn most cases I think you would want a strictly convex cone, so that's exactly what you want with bonus points if primitive generators are not necessarily in the same hyperplane. Algorithm: generate random vectors with positive last component. There may be an extra switch to allow linear subspaces in cones.",
    "created_at": "2015-05-20T16:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257209",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'>Comment 5:</a>
Well, it would be helpful to know in what sense the cone is "random". If it is a cone on a random set of rays, then dimension+1 is the only sensible upper bound to me - such a cone always can be constructed. In R<sup>2</sup> it may be possible to force construction of cones with more than 4 rays - given that the code can handle 4 instead of 3 for the whole space, probably it can live with 100. But if we are talking about the minimal number of extremal rays, then for R<sup>1,2</sup> maximum is the dimension and for all others we can do anything - generate a random n-gon in a plane and lift it.

In most cases I think you would want a strictly convex cone, so that's exactly what you want with bonus points if primitive generators are not necessarily in the same hyperplane. Algorithm: generate random vectors with positive last component. There may be an extra switch to allow linear subspaces in cones.



---

archive/issue_comments_257210.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@novoselt](#comment%3A5):\n> Well, it would be helpful to know in what sense the cone is \"random\". If it is a cone on a random set of rays, then dimension+1 is the only sensible upper bound to me - such a cone always can be constructed.\n\nIn any dimension you can do better, up to 2*dimension -- just take the standard basis and add negative multiples of them. The resulting come will have 2*dimension generating rays and be equal to the entire space.\n\n\n\n\n> In R<sup>2</sup> it may be possible to force construction of cones with more than 4 rays - given that the code can handle 4 instead of 3 for the whole space, probably it can live with 100.\n\nCan you really get more than four in R<sup>2</sup>? I haven't tried to prove it but geometrically, once you have four and try to add one more, the fifth one should either be contained in the cone already (obsoleting the new one), or be above/below some other generator (obsoleting the old one).\n\n\n> But if we are talking about the minimal number of extremal rays, then for R<sup>1,2</sup> maximum is the dimension and for all others we can do anything - generate a random n-gon in a plane and lift it.\n\nRight, so here you definitely wouldn't want to limit the number of rays to dimension+1.\n\n\n> In most cases I think you would want a strictly convex cone, so that's exactly what you want with bonus points if primitive generators are not necessarily in the same hyperplane. Algorithm: generate random vectors with positive last component. There may be an extra switch to allow linear subspaces in cones.\n\nWhen I started working on this, I thought I was interested in proper (strictly convex, nonempty interior) cones. But the stuff I'm doing appears to generalize, and none of my test cases require this (nor do the test cases I added in commit 1bbb2d1). But I agree it would be useful. I'll try to add a `strictly_convex = None/True/False` parameter. Likewise for `solid = None/True/False` if it doesn't look too hard.",
    "created_at": "2015-05-21T14:52:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257210",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@novoselt](#comment%3A5):
> Well, it would be helpful to know in what sense the cone is "random". If it is a cone on a random set of rays, then dimension+1 is the only sensible upper bound to me - such a cone always can be constructed.

In any dimension you can do better, up to 2*dimension -- just take the standard basis and add negative multiples of them. The resulting come will have 2*dimension generating rays and be equal to the entire space.




> In R<sup>2</sup> it may be possible to force construction of cones with more than 4 rays - given that the code can handle 4 instead of 3 for the whole space, probably it can live with 100.

Can you really get more than four in R<sup>2</sup>? I haven't tried to prove it but geometrically, once you have four and try to add one more, the fifth one should either be contained in the cone already (obsoleting the new one), or be above/below some other generator (obsoleting the old one).


> But if we are talking about the minimal number of extremal rays, then for R<sup>1,2</sup> maximum is the dimension and for all others we can do anything - generate a random n-gon in a plane and lift it.

Right, so here you definitely wouldn't want to limit the number of rays to dimension+1.


> In most cases I think you would want a strictly convex cone, so that's exactly what you want with bonus points if primitive generators are not necessarily in the same hyperplane. Algorithm: generate random vectors with positive last component. There may be an extra switch to allow linear subspaces in cones.

When I started working on this, I thought I was interested in proper (strictly convex, nonempty interior) cones. But the stuff I'm doing appears to generalize, and none of my test cases require this (nor do the test cases I added in commit 1bbb2d1). But I agree it would be useful. I'll try to add a `strictly_convex = None/True/False` parameter. Likewise for `solid = None/True/False` if it doesn't look too hard.



---

archive/issue_comments_257211.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@orlitzky](#comment%3A6):\n> Replying to [@novoselt](#comment%3A5):\n> > Well, it would be helpful to know in what sense the cone is \"random\". If it is a cone on a random set of rays, then dimension+1 is the only sensible upper bound to me - such a cone always can be constructed.\n\n> In any dimension you can do better, up to 2*dimension -- just take the standard basis and add negative multiples of them. The resulting come will have 2*dimension generating rays and be equal to the entire space.\n\n\"Better\" in what sense? Take (or \"generate randomly\") rays (1,0), (0,1), (-1,-1) in the plane and you can no longer add rays which are independent of these three. \"Random generation\" of four rays in opposite pairs is much less likely to happen. So if you keep generating rays removing those which are dependent with already constructed ones until you reach a predefined maximum, you cannot guarantee that more than 3 are possible.\n\n\n> > In R<sup>2</sup> it may be possible to force construction of cones with more than 4 rays - given that the code can handle 4 instead of 3 for the whole space, probably it can live with 100.\n\n> Can you really get more than four in R<sup>2</sup>?\n\nI meant that you can have a cone in the plane with a hundred rays that you decided to call generating ones - Sage constructors may allow you to do it for cones with linear subspaces, although I don't know why one would want it.\n\n> > But if we are talking about the minimal number of extremal rays, then for R<sup>1,2</sup> maximum is the dimension and for all others we can do anything - generate a random n-gon in a plane and lift it.\n\n> \n> Right, so here you definitely wouldn't want to limit the number of rays to dimension+1.\n\nNor to twice the dimension!",
    "created_at": "2015-05-21T23:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257211",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@orlitzky](#comment%3A6):
> Replying to [@novoselt](#comment%3A5):
> > Well, it would be helpful to know in what sense the cone is "random". If it is a cone on a random set of rays, then dimension+1 is the only sensible upper bound to me - such a cone always can be constructed.

> In any dimension you can do better, up to 2*dimension -- just take the standard basis and add negative multiples of them. The resulting come will have 2*dimension generating rays and be equal to the entire space.

"Better" in what sense? Take (or "generate randomly") rays (1,0), (0,1), (-1,-1) in the plane and you can no longer add rays which are independent of these three. "Random generation" of four rays in opposite pairs is much less likely to happen. So if you keep generating rays removing those which are dependent with already constructed ones until you reach a predefined maximum, you cannot guarantee that more than 3 are possible.


> > In R<sup>2</sup> it may be possible to force construction of cones with more than 4 rays - given that the code can handle 4 instead of 3 for the whole space, probably it can live with 100.

> Can you really get more than four in R<sup>2</sup>?

I meant that you can have a cone in the plane with a hundred rays that you decided to call generating ones - Sage constructors may allow you to do it for cones with linear subspaces, although I don't know why one would want it.

> > But if we are talking about the minimal number of extremal rays, then for R<sup>1,2</sup> maximum is the dimension and for all others we can do anything - generate a random n-gon in a plane and lift it.

> 
> Right, so here you definitely wouldn't want to limit the number of rays to dimension+1.

Nor to twice the dimension!



---

archive/issue_comments_257212.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@novoselt](#comment%3A7):\n> > Right, so here you definitely wouldn't want to limit the number of rays to dimension+1.\n\n> Nor to twice the dimension!\n\nOk, point taken =)\n\nI'll remove the restriction in the next commit and add warnings to the docs. It looks easy to add a `strictly_convex` parameter, so that's on its way too. Letting the user request a solid cone is a mess, though.",
    "created_at": "2015-05-22T03:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257212",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@novoselt](#comment%3A7):
> > Right, so here you definitely wouldn't want to limit the number of rays to dimension+1.

> Nor to twice the dimension!

Ok, point taken =)

I'll remove the restriction in the next commit and add warnings to the docs. It looks easy to add a `strictly_convex` parameter, so that's on its way too. Letting the user request a solid cone is a mess, though.



---

archive/issue_comments_257213.json:
```json
{
    "body": "Changed commit from **[55da704](https://github.com/sagemath/sagetrac-mirror/commit/55da704f2f101cfdc25ba1c0b35f38072cb0e7f3)** to **[9f707bb](https://github.com/sagemath/sagetrac-mirror/commit/9f707bb99e6e4bcc6773c7839cb1c509531dfca5)**",
    "created_at": "2015-05-23T01:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257213",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[55da704](https://github.com/sagemath/sagetrac-mirror/commit/55da704f2f101cfdc25ba1c0b35f38072cb0e7f3)** to **[9f707bb](https://github.com/sagemath/sagetrac-mirror/commit/9f707bb99e6e4bcc6773c7839cb1c509531dfca5)**



---

archive/issue_comments_257214.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9eb7744cf3a2eee3d092a5093f6d486008e95e2\">b9eb774</a></td><td><code>Trac #18454: Remove the 2*dim restriction on rays in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3f0076c266cfaf5a99bd5d25e0e78c5cdb4879e\">e3f0076</a></td><td><code>Trac #18454: Allow random_cone() to be (non-)strictly-convex.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cda254780b08ca8d8e0e67122c6c66f61510421a\">cda2547</a></td><td><code>Trac #18454: Remove an unnecessary exception in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/591768c2834c11b4c5c42bf8431ba195728dbc49\">591768c</a></td><td><code>Trac #18454: Set max_dim on a random_cone() test that could run forever.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f707bb99e6e4bcc6773c7839cb1c509531dfca5\">9f707bb</a></td><td><code>Trac #18454: Add a \"solid\" parameter to random_cone().</code></td></tr></table>\n",
    "created_at": "2015-05-23T01:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257214",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9eb7744cf3a2eee3d092a5093f6d486008e95e2">b9eb774</a></td><td><code>Trac #18454: Remove the 2*dim restriction on rays in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3f0076c266cfaf5a99bd5d25e0e78c5cdb4879e">e3f0076</a></td><td><code>Trac #18454: Allow random_cone() to be (non-)strictly-convex.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cda254780b08ca8d8e0e67122c6c66f61510421a">cda2547</a></td><td><code>Trac #18454: Remove an unnecessary exception in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/591768c2834c11b4c5c42bf8431ba195728dbc49">591768c</a></td><td><code>Trac #18454: Set max_dim on a random_cone() test that could run forever.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f707bb99e6e4bcc6773c7839cb1c509531dfca5">9f707bb</a></td><td><code>Trac #18454: Add a "solid" parameter to random_cone().</code></td></tr></table>




---

archive/issue_comments_257215.json:
```json
{
    "body": "Changed commit from **[9f707bb](https://github.com/sagemath/sagetrac-mirror/commit/9f707bb99e6e4bcc6773c7839cb1c509531dfca5)** to **[ce3cf22](https://github.com/sagemath/sagetrac-mirror/commit/ce3cf22e2847f7636d346534214b1eca47c4a523)**",
    "created_at": "2015-05-23T01:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257215",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9f707bb](https://github.com/sagemath/sagetrac-mirror/commit/9f707bb99e6e4bcc6773c7839cb1c509531dfca5)** to **[ce3cf22](https://github.com/sagemath/sagetrac-mirror/commit/ce3cf22e2847f7636d346534214b1eca47c4a523)**



---

archive/issue_comments_257216.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce3cf22e2847f7636d346534214b1eca47c4a523\">ce3cf22</a></td><td><code>Trac #18454: Fix warning block formatting in random_cone().</code></td></tr></table>\n",
    "created_at": "2015-05-23T01:22:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257216",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce3cf22e2847f7636d346534214b1eca47c4a523">ce3cf22</a></td><td><code>Trac #18454: Fix warning block formatting in random_cone().</code></td></tr></table>




---

archive/issue_comments_257217.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nThat wasn't **too** bad. I removed all of the unnecessary restrictions. The only ones that remain avoid (guaranteed) infinite loops. Almost all of the code is in sanity checks, error reporting, and tests.\n\nOnce I refactored for `strictly_convex`, `solid` wasn't so hard anymore. By putting everything in a loop, it makes it easy to throw the current cone away and start over. We therefore don't have to try too hard to fix an unpromising cone.",
    "created_at": "2015-05-23T01:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257217",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:11'>Comment 11:</a>
That wasn't **too** bad. I removed all of the unnecessary restrictions. The only ones that remain avoid (guaranteed) infinite loops. Almost all of the code is in sanity checks, error reporting, and tests.

Once I refactored for `strictly_convex`, `solid` wasn't so hard anymore. By putting everything in a loop, it makes it easy to throw the current cone away and start over. We therefore don't have to try too hard to fix an unpromising cone.



---

archive/issue_comments_257218.json:
```json
{
    "body": "Changed commit from **[ce3cf22](https://github.com/sagemath/sagetrac-mirror/commit/ce3cf22e2847f7636d346534214b1eca47c4a523)** to **[a93a757](https://github.com/sagemath/sagetrac-mirror/commit/a93a757e185b762376f48197bf2a027cd1a00c81)**",
    "created_at": "2015-05-23T15:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257218",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ce3cf22](https://github.com/sagemath/sagetrac-mirror/commit/ce3cf22e2847f7636d346534214b1eca47c4a523)** to **[a93a757](https://github.com/sagemath/sagetrac-mirror/commit/a93a757e185b762376f48197bf2a027cd1a00c81)**



---

archive/issue_comments_257219.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a93a757e185b762376f48197bf2a027cd1a00c81\">a93a757</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr></table>\n",
    "created_at": "2015-05-23T15:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257219",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a93a757e185b762376f48197bf2a027cd1a00c81">a93a757</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr></table>




---

archive/issue_comments_257220.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86746d278d44b69470fd6a7648b3d350edafa910\">86746d2</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1e69de048eb93f4fabbb777ba88435b7c999c56\">a1e69de</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr></table>\n",
    "created_at": "2015-06-04T22:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257220",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86746d278d44b69470fd6a7648b3d350edafa910">86746d2</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1e69de048eb93f4fabbb777ba88435b7c999c56">a1e69de</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr></table>




---

archive/issue_comments_257221.json:
```json
{
    "body": "Changed commit from **[a93a757](https://github.com/sagemath/sagetrac-mirror/commit/a93a757e185b762376f48197bf2a027cd1a00c81)** to **[a1e69de](https://github.com/sagemath/sagetrac-mirror/commit/a1e69de048eb93f4fabbb777ba88435b7c999c56)**",
    "created_at": "2015-06-04T22:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257221",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a93a757](https://github.com/sagemath/sagetrac-mirror/commit/a93a757e185b762376f48197bf2a027cd1a00c81)** to **[a1e69de](https://github.com/sagemath/sagetrac-mirror/commit/a1e69de048eb93f4fabbb777ba88435b7c999c56)**



---

archive/issue_comments_257222.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a7b4b69c57c0829fb52a4b14e18cf09fa85d032\">0a7b4b6</a></td><td><code>Trac #18454: Allow random_cone() to take a \"lattice\" parameter.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/058e4abc890b2a2936ba37c7563551e2c3f3cf2d\">058e4ab</a></td><td><code>Trac #18454: Remove the 2*dim restriction on rays in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6faa2b05bffe124efd069dccf2f1d4f44cec75e\">f6faa2b</a></td><td><code>Trac #18454: Allow random_cone() to be (non-)strictly-convex.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8e1eb0c741e22727e51d9a43a89e85d026d1870\">f8e1eb0</a></td><td><code>Trac #18454: Remove an unnecessary exception in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52c148a689b33cf3749a5f8c9cb6573416829949\">52c148a</a></td><td><code>Trac #18454: Set max_dim on a random_cone() test that could run forever.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63f92c43c5da38b3a420e1a1badead468eb3802d\">63f92c4</a></td><td><code>Trac #18454: Add a \"solid\" parameter to random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb7cd153d1b11899c72044e807f10abd6fa290ef\">cb7cd15</a></td><td><code>Trac #18454: Fix warning block formatting in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b86adc12c8dfb295ab3538ac1f835edf47e2a1e1\">b86adc1</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d2151b940541367f11bff91d7b5cf726b0af43b\">3d2151b</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1683fd87edc145b84b21c3503e122e942e1904ad\">1683fd8</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr></table>\n",
    "created_at": "2015-06-13T14:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257222",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a7b4b69c57c0829fb52a4b14e18cf09fa85d032">0a7b4b6</a></td><td><code>Trac #18454: Allow random_cone() to take a "lattice" parameter.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/058e4abc890b2a2936ba37c7563551e2c3f3cf2d">058e4ab</a></td><td><code>Trac #18454: Remove the 2*dim restriction on rays in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6faa2b05bffe124efd069dccf2f1d4f44cec75e">f6faa2b</a></td><td><code>Trac #18454: Allow random_cone() to be (non-)strictly-convex.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8e1eb0c741e22727e51d9a43a89e85d026d1870">f8e1eb0</a></td><td><code>Trac #18454: Remove an unnecessary exception in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52c148a689b33cf3749a5f8c9cb6573416829949">52c148a</a></td><td><code>Trac #18454: Set max_dim on a random_cone() test that could run forever.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63f92c43c5da38b3a420e1a1badead468eb3802d">63f92c4</a></td><td><code>Trac #18454: Add a "solid" parameter to random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb7cd153d1b11899c72044e807f10abd6fa290ef">cb7cd15</a></td><td><code>Trac #18454: Fix warning block formatting in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b86adc12c8dfb295ab3538ac1f835edf47e2a1e1">b86adc1</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d2151b940541367f11bff91d7b5cf726b0af43b">3d2151b</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1683fd87edc145b84b21c3503e122e942e1904ad">1683fd8</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr></table>




---

archive/issue_comments_257223.json:
```json
{
    "body": "Changed commit from **[a1e69de](https://github.com/sagemath/sagetrac-mirror/commit/a1e69de048eb93f4fabbb777ba88435b7c999c56)** to **[1683fd8](https://github.com/sagemath/sagetrac-mirror/commit/1683fd87edc145b84b21c3503e122e942e1904ad)**",
    "created_at": "2015-06-13T14:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257223",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a1e69de](https://github.com/sagemath/sagetrac-mirror/commit/a1e69de048eb93f4fabbb777ba88435b7c999c56)** to **[1683fd8](https://github.com/sagemath/sagetrac-mirror/commit/1683fd87edc145b84b21c3503e122e942e1904ad)**



---

archive/issue_comments_257224.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nThere are no new changes there, just a rebase on top of 6.8.beta4 for the sake of ticket #18696.",
    "created_at": "2015-06-13T14:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257224",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:15'>Comment 15:</a>
There are no new changes there, just a rebase on top of 6.8.beta4 for the sake of ticket #18696.



---

archive/issue_comments_257225.json:
```json
{
    "body": "Changed commit from **[1683fd8](https://github.com/sagemath/sagetrac-mirror/commit/1683fd87edc145b84b21c3503e122e942e1904ad)** to **[7bdaf1c](https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1)**",
    "created_at": "2015-07-12T01:34:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257225",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1683fd8](https://github.com/sagemath/sagetrac-mirror/commit/1683fd87edc145b84b21c3503e122e942e1904ad)** to **[7bdaf1c](https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1)**



---

archive/issue_comments_257226.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99247ff8fcbf24fad4ac07a2ff660b709d301ef1\">99247ff</a></td><td><code>Trac #18454: Allow random_cone() to take a \"lattice\" parameter.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de59dd16780d852859f7dd32b0d531e7a3484abe\">de59dd1</a></td><td><code>Trac #18454: Remove the 2*dim restriction on rays in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deeb2ec5b9cd9a28b16055058e52958a53b144f0\">deeb2ec</a></td><td><code>Trac #18454: Allow random_cone() to be (non-)strictly-convex.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44ac6452b0e95778d317759e52c19e0daa141090\">44ac645</a></td><td><code>Trac #18454: Remove an unnecessary exception in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/909997acd68c8fcbe69755f9f7e306d43a65150f\">909997a</a></td><td><code>Trac #18454: Set max_dim on a random_cone() test that could run forever.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd24822dbe8f42288e91daa1c2743e6aa9923431\">bd24822</a></td><td><code>Trac #18454: Add a \"solid\" parameter to random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba66027271cf8c8d762776d71231231217018490\">ba66027</a></td><td><code>Trac #18454: Fix warning block formatting in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b2ff9975fba45144c5832662689245a7c41a436\">8b2ff99</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78c206f5a84f086bc9e502710b70971cfba7e91e\">78c206f</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1\">7bdaf1c</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr></table>\n",
    "created_at": "2015-07-12T01:34:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257226",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99247ff8fcbf24fad4ac07a2ff660b709d301ef1">99247ff</a></td><td><code>Trac #18454: Allow random_cone() to take a "lattice" parameter.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de59dd16780d852859f7dd32b0d531e7a3484abe">de59dd1</a></td><td><code>Trac #18454: Remove the 2*dim restriction on rays in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deeb2ec5b9cd9a28b16055058e52958a53b144f0">deeb2ec</a></td><td><code>Trac #18454: Allow random_cone() to be (non-)strictly-convex.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44ac6452b0e95778d317759e52c19e0daa141090">44ac645</a></td><td><code>Trac #18454: Remove an unnecessary exception in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/909997acd68c8fcbe69755f9f7e306d43a65150f">909997a</a></td><td><code>Trac #18454: Set max_dim on a random_cone() test that could run forever.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd24822dbe8f42288e91daa1c2743e6aa9923431">bd24822</a></td><td><code>Trac #18454: Add a "solid" parameter to random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba66027271cf8c8d762776d71231231217018490">ba66027</a></td><td><code>Trac #18454: Fix warning block formatting in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b2ff9975fba45144c5832662689245a7c41a436">8b2ff99</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78c206f5a84f086bc9e502710b70971cfba7e91e">78c206f</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1">7bdaf1c</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr></table>




---

archive/issue_comments_257227.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@novoselt](#comment%3A7):\n\nIs there anything I can do to help get this reviewed? Bribery and/or trade reviews?\n\nI have a bunch of \"easy\" (new method) tickets in the pipeline for a paper I'm working on, and I've used random testing for many of the properties in those tickets. I'd like to be able to cite Sage in the paper (and vice-versa) as a working implementation if we can get the algorithm merged in time.\n\nIf there are any implementation bugs, the output is either random or an error so I can just fix them and no one should notice =)\n\nI'm happy to seek out other reviewers if you'd prefer, but I know the cone code is your baby so I'd prefer that you review it if you can.",
    "created_at": "2015-07-25T18:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257227",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@novoselt](#comment%3A7):

Is there anything I can do to help get this reviewed? Bribery and/or trade reviews?

I have a bunch of "easy" (new method) tickets in the pipeline for a paper I'm working on, and I've used random testing for many of the properties in those tickets. I'd like to be able to cite Sage in the paper (and vice-versa) as a working implementation if we can get the algorithm merged in time.

If there are any implementation bugs, the output is either random or an error so I can just fix them and no one should notice =)

I'm happy to seek out other reviewers if you'd prefer, but I know the cone code is your baby so I'd prefer that you review it if you can.



---

archive/issue_comments_257228.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI really hope to review it this coming week! (As well as small follow ups that you have posted.)",
    "created_at": "2015-07-27T01:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257228",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:18'>Comment 18:</a>
I really hope to review it this coming week! (As well as small follow ups that you have posted.)



---

archive/issue_comments_257229.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI have a problem with `min/max_dim` - I was sure they talk about the dimension of the cone, until I got to their description. The example with it is also confusing:\n\n```\n    We can predict the dimension when ``min_dim == max_dim``::\n\n        sage: set_random_seed()\n        sage: random_cone(min_dim=4, max_dim=4, min_rays=0, max_rays=0)\n        0-d cone in 4-d lattice N\n```\nTo me this looks like we predict the dimension 0 based on `min/max_rays`.\n\nI would be in favour of using `min/max_dim` for the dimension of the cone, allowing specifying `lattice` together with these parameters as long as its dimension is at least `max_dim`, and when not given defaulting to `max_dim`-dimensional lattice. If you don't want to work on such functionality, can we please rename parameters to `min/max_ambient_dim` to avoid ambiguity when reading calls of this function?",
    "created_at": "2015-07-31T01:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257229",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:19'>Comment 19:</a>
I have a problem with `min/max_dim` - I was sure they talk about the dimension of the cone, until I got to their description. The example with it is also confusing:

```
    We can predict the dimension when ``min_dim == max_dim``::

        sage: set_random_seed()
        sage: random_cone(min_dim=4, max_dim=4, min_rays=0, max_rays=0)
        0-d cone in 4-d lattice N
```
To me this looks like we predict the dimension 0 based on `min/max_rays`.

I would be in favour of using `min/max_dim` for the dimension of the cone, allowing specifying `lattice` together with these parameters as long as its dimension is at least `max_dim`, and when not given defaulting to `max_dim`-dimensional lattice. If you don't want to work on such functionality, can we please rename parameters to `min/max_ambient_dim` to avoid ambiguity when reading calls of this function?



---

archive/issue_comments_257230.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nI am not a big fun of examples that generate multiple cones of the same type to make sure that things are OK. What's the point? These tests WILL be run multiple times by users and patchbots during global testing, aren't these repetitions enough?",
    "created_at": "2015-07-31T22:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257230",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:20'>Comment 20:</a>
I am not a big fun of examples that generate multiple cones of the same type to make sure that things are OK. What's the point? These tests WILL be run multiple times by users and patchbots during global testing, aren't these repetitions enough?



---

archive/issue_comments_257231.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52a1e4bcbc8d9ca18dbed99a5b3a390f045a1f28\">52a1e4b</a></td><td><code>Trac #18454: Rename min/max_dim to min/max_ambient_dim in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0235dc570aa0d526eca3cce7ea2b3c36ec9a261\">a0235dc</a></td><td><code>Trac #18454: Fix two confusing random_cone() examples.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b1eccb017d5b38e9e46aca56a97a685e62d3e46\">5b1eccb</a></td><td><code>Trac #18454: Remove some excessive doctests for random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd\">5bf86a6</a></td><td><code>Trac #18454: Clean up long random_cone() tests.</code></td></tr></table>\n",
    "created_at": "2015-08-03T16:58:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257231",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52a1e4bcbc8d9ca18dbed99a5b3a390f045a1f28">52a1e4b</a></td><td><code>Trac #18454: Rename min/max_dim to min/max_ambient_dim in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0235dc570aa0d526eca3cce7ea2b3c36ec9a261">a0235dc</a></td><td><code>Trac #18454: Fix two confusing random_cone() examples.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b1eccb017d5b38e9e46aca56a97a685e62d3e46">5b1eccb</a></td><td><code>Trac #18454: Remove some excessive doctests for random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd">5bf86a6</a></td><td><code>Trac #18454: Clean up long random_cone() tests.</code></td></tr></table>




---

archive/issue_comments_257232.json:
```json
{
    "body": "Changed commit from **[7bdaf1c](https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1)** to **[5bf86a6](https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd)**",
    "created_at": "2015-08-03T16:58:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257232",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7bdaf1c](https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1)** to **[5bf86a6](https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd)**



---

archive/issue_comments_257233.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@novoselt](#comment%3A19):\n> I have a problem with `min/max_dim` - I was sure they talk about the dimension of the cone, until I got to their description. The example with it is also confusing:\n\nRight on both counts. I renamed the parameters, and fixed those two doctests. Now I save the result of `random_cone()` and check only the relevant property.\n\nI also removed a bunch of the redundant tests and cleaned up a little.\n\nI think I'm receiving trac notifications again so I should be more responsive...",
    "created_at": "2015-08-03T17:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257233",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@novoselt](#comment%3A19):
> I have a problem with `min/max_dim` - I was sure they talk about the dimension of the cone, until I got to their description. The example with it is also confusing:

Right on both counts. I renamed the parameters, and fixed those two doctests. Now I save the result of `random_cone()` and check only the relevant property.

I also removed a bunch of the redundant tests and cleaned up a little.

I think I'm receiving trac notifications again so I should be more responsive...



---

archive/issue_comments_257234.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@novoselt](#comment%3A19):\n> I would be in favour of using `min/max_dim` for the dimension of the cone, allowing specifying `lattice` together with these parameters as long as its dimension is at least `max_dim`, and when not given defaulting to `max_dim`-dimensional lattice. If you don't want to work on such functionality...\n\n(I forgot to respond to this part).\n\nI don't need this ability, and I'm already pretty deep in trac ticket debt, so I don't want to add any more knobs right now. I'd be willing to add it later on if someone requests it though.",
    "created_at": "2015-08-05T01:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257234",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@novoselt](#comment%3A19):
> I would be in favour of using `min/max_dim` for the dimension of the cone, allowing specifying `lattice` together with these parameters as long as its dimension is at least `max_dim`, and when not given defaulting to `max_dim`-dimensional lattice. If you don't want to work on such functionality...

(I forgot to respond to this part).

I don't need this ability, and I'm already pretty deep in trac ticket debt, so I don't want to add any more knobs right now. I'd be willing to add it later on if someone requests it though.



---

archive/issue_comments_257235.json:
```json
{
    "body": "Changed branch from **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)** to **[u/novoselt/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/ticket/18454)**",
    "created_at": "2015-08-12T01:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257235",
    "user": "https://github.com/novoselt"
}
```

Changed branch from **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)** to **[u/novoselt/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/ticket/18454)**



---

archive/issue_comments_257236.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nOK:\n- merged current version of #18613 to make isomorphism checks work as expected\n- there was a duplicate piece of code, removed\n- I tweaked some code, hopefully not unreasonably\n\nRegarding redundant tests I was mostly complaining about things like \n\n```\n    Ensure that we can generate cones which are not strictly convex\n    (can take a long time)::\n\n        sage: set_random_seed()                         # long time\n        sage: l = [ random_cone(min_ambient_dim=1,      # long time\n        ....:                   max_ambient_dim=8,      # long time\n        ....:                   min_rays=2,             # long time\n        ....:                   max_rays=10,            # long time\n        ....:                   strictly_convex=False)\\\n        ....:                   .is_strictly_convex()   # long time\n        ....:       for i in range(0,10)]               # long time\n        sage: any(l)                                    # long time\n        False\n\n    As well as ones that are strictly convex::\n\n        sage: set_random_seed()                        # long time\n        sage: l = [ random_cone(min_ambient_dim=1,     # long time\n        ....:                   max_ambient_dim=8,     # long time\n        ....:                   min_rays=2,            # long time\n        ....:                   max_rays=10,           # long time\n        ....:                   strictly_convex=True)\\\n        ....:                   .is_strictly_convex()  # long time\n        ....:       for i in range(0,10) ]             # long time\n        sage: all(l)                                   # long time\n        True\n```\ngiven that above we have\n\n```\n    We can also request a strictly convex cone::\n\n        sage: set_random_seed()\n        sage: K = random_cone(max_ambient_dim=8, max_rays=10,\n        ....:                 strictly_convex=True)\n        sage: K.is_strictly_convex()\n        True\n\n    Or one that isn't strictly convex::\n\n        sage: set_random_seed()\n        sage: K = random_cone(min_ambient_dim=5, min_rays=2,\n        ....:                 strictly_convex=False)\n        sage: K.is_strictly_convex()\n        False\n```\nSince this single random tests will be repeated many times on different machines, I see little point in running 10 tests for longer version. But if you really like to keep them it is fine with me.\n\nThe code also seems a bit over-commented to me, but if you had to have them there probably others can appreciate it as well. And #18613 has clearly demonstrated that it is a very useful addition!\n\nBottom line: set to positive review if you are OK with my changes (and perhaps review #18613 as well?-))\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd6aec8491552051be48bfb278d43cf0798e8ef6\">cd6aec8</a></td><td><code>Fix isomorphism check for trivial cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af4b24856cedf243cbcb515c3e42a28c06367b6c\">af4b248</a></td><td><code>Trivial cones in 2-d lattices also have isomorphism issues.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c02beeea863a04328e39dd88b476ee1cfdc8fefa\">c02beee</a></td><td><code>Fix echelon_form of trivial matrices.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deed9476f0bafa4a367cc437f3dc62e0489ba3eb\">deed947</a></td><td><code>Drop wrong pivots from the output of HNF with transformation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6e7a80023ea5097f4f803b8613f05e5e028723b\">e6e7a80</a></td><td><code>Merge branch 't/18613/errors_with_is_isomorphic___for_trivial_cones' into t/18454/ticket/18454</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d\">a07efa9</a></td><td><code>Reviewer's tweaks to random cones.</code></td></tr></table>\n",
    "created_at": "2015-08-12T01:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257236",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:25'>Comment 25:</a>
OK:
- merged current version of #18613 to make isomorphism checks work as expected
- there was a duplicate piece of code, removed
- I tweaked some code, hopefully not unreasonably

Regarding redundant tests I was mostly complaining about things like 

```
    Ensure that we can generate cones which are not strictly convex
    (can take a long time)::

        sage: set_random_seed()                         # long time
        sage: l = [ random_cone(min_ambient_dim=1,      # long time
        ....:                   max_ambient_dim=8,      # long time
        ....:                   min_rays=2,             # long time
        ....:                   max_rays=10,            # long time
        ....:                   strictly_convex=False)\
        ....:                   .is_strictly_convex()   # long time
        ....:       for i in range(0,10)]               # long time
        sage: any(l)                                    # long time
        False

    As well as ones that are strictly convex::

        sage: set_random_seed()                        # long time
        sage: l = [ random_cone(min_ambient_dim=1,     # long time
        ....:                   max_ambient_dim=8,     # long time
        ....:                   min_rays=2,            # long time
        ....:                   max_rays=10,           # long time
        ....:                   strictly_convex=True)\
        ....:                   .is_strictly_convex()  # long time
        ....:       for i in range(0,10) ]             # long time
        sage: all(l)                                   # long time
        True
```
given that above we have

```
    We can also request a strictly convex cone::

        sage: set_random_seed()
        sage: K = random_cone(max_ambient_dim=8, max_rays=10,
        ....:                 strictly_convex=True)
        sage: K.is_strictly_convex()
        True

    Or one that isn't strictly convex::

        sage: set_random_seed()
        sage: K = random_cone(min_ambient_dim=5, min_rays=2,
        ....:                 strictly_convex=False)
        sage: K.is_strictly_convex()
        False
```
Since this single random tests will be repeated many times on different machines, I see little point in running 10 tests for longer version. But if you really like to keep them it is fine with me.

The code also seems a bit over-commented to me, but if you had to have them there probably others can appreciate it as well. And #18613 has clearly demonstrated that it is a very useful addition!

Bottom line: set to positive review if you are OK with my changes (and perhaps review #18613 as well?-))

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd6aec8491552051be48bfb278d43cf0798e8ef6">cd6aec8</a></td><td><code>Fix isomorphism check for trivial cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af4b24856cedf243cbcb515c3e42a28c06367b6c">af4b248</a></td><td><code>Trivial cones in 2-d lattices also have isomorphism issues.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c02beeea863a04328e39dd88b476ee1cfdc8fefa">c02beee</a></td><td><code>Fix echelon_form of trivial matrices.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deed9476f0bafa4a367cc437f3dc62e0489ba3eb">deed947</a></td><td><code>Drop wrong pivots from the output of HNF with transformation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6e7a80023ea5097f4f803b8613f05e5e028723b">e6e7a80</a></td><td><code>Merge branch 't/18613/errors_with_is_isomorphic___for_trivial_cones' into t/18454/ticket/18454</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d">a07efa9</a></td><td><code>Reviewer's tweaks to random cones.</code></td></tr></table>




---

archive/issue_comments_257237.json:
```json
{
    "body": "Changed commit from **[5bf86a6](https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd)** to **[a07efa9](https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d)**",
    "created_at": "2015-08-12T01:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257237",
    "user": "https://github.com/novoselt"
}
```

Changed commit from **[5bf86a6](https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd)** to **[a07efa9](https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d)**



---

archive/issue_comments_257238.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@novoselt](#comment%3A25):\n> OK:\n> - merged current version of #18613 to make isomorphism checks work as expected\n> - there was a duplicate piece of code, removed\n> - I tweaked some code, hopefully not unreasonably\n> \n> Regarding redundant tests I was mostly complaining about things like... But if you really like to keep them it is fine with me.\n\nNope, I just had some other redundant tests in mind. You're right, I've removed them. Thanks for the rest of the changes, too, they all look good. Just need a thumbs up on my last commit and I think this is ready.",
    "created_at": "2015-08-14T19:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257238",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@novoselt](#comment%3A25):
> OK:
> - merged current version of #18613 to make isomorphism checks work as expected
> - there was a duplicate piece of code, removed
> - I tweaked some code, hopefully not unreasonably
> 
> Regarding redundant tests I was mostly complaining about things like... But if you really like to keep them it is fine with me.

Nope, I just had some other redundant tests in mind. You're right, I've removed them. Thanks for the rest of the changes, too, they all look good. Just need a thumbs up on my last commit and I think this is ready.



---

archive/issue_comments_257239.json:
```json
{
    "body": "Changed branch from **[u/novoselt/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/ticket/18454)** to **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)**",
    "created_at": "2015-08-14T19:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257239",
    "user": "https://github.com/orlitzky"
}
```

Changed branch from **[u/novoselt/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/novoselt/ticket/18454)** to **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)**



---

archive/issue_comments_257240.json:
```json
{
    "body": "Changed commit from **[a07efa9](https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d)** to **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)**",
    "created_at": "2015-08-14T19:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257240",
    "user": "https://github.com/orlitzky"
}
```

Changed commit from **[a07efa9](https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d)** to **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)**



---

archive/issue_comments_257241.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b2ff9975fba45144c5832662689245a7c41a436\">8b2ff99</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78c206f5a84f086bc9e502710b70971cfba7e91e\">78c206f</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1\">7bdaf1c</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52a1e4bcbc8d9ca18dbed99a5b3a390f045a1f28\">52a1e4b</a></td><td><code>Trac #18454: Rename min/max_dim to min/max_ambient_dim in random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0235dc570aa0d526eca3cce7ea2b3c36ec9a261\">a0235dc</a></td><td><code>Trac #18454: Fix two confusing random_cone() examples.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b1eccb017d5b38e9e46aca56a97a685e62d3e46\">5b1eccb</a></td><td><code>Trac #18454: Remove some excessive doctests for random_cone().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd\">5bf86a6</a></td><td><code>Trac #18454: Clean up long random_cone() tests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6e7a80023ea5097f4f803b8613f05e5e028723b\">e6e7a80</a></td><td><code>Merge branch 't/18613/errors_with_is_isomorphic___for_trivial_cones' into t/18454/ticket/18454</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d\">a07efa9</a></td><td><code>Reviewer's tweaks to random cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b\">8c962e1</a></td><td><code>Trac #18454: Remove more redundant (long) tests.</code></td></tr></table>\n",
    "created_at": "2015-08-14T19:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257241",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:27'>Comment 27:</a>
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b2ff9975fba45144c5832662689245a7c41a436">8b2ff99</a></td><td><code>Trac #18454: Catch another infinite loop condition.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78c206f5a84f086bc9e502710b70971cfba7e91e">78c206f</a></td><td><code>Trac #18454: Call set_random_seed() before all random doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bdaf1cd51d8f6f3007f11888991cefc186a4ee1">7bdaf1c</a></td><td><code>Trac #18454: Speed up random_cone() doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52a1e4bcbc8d9ca18dbed99a5b3a390f045a1f28">52a1e4b</a></td><td><code>Trac #18454: Rename min/max_dim to min/max_ambient_dim in random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0235dc570aa0d526eca3cce7ea2b3c36ec9a261">a0235dc</a></td><td><code>Trac #18454: Fix two confusing random_cone() examples.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b1eccb017d5b38e9e46aca56a97a685e62d3e46">5b1eccb</a></td><td><code>Trac #18454: Remove some excessive doctests for random_cone().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bf86a61fb7f1e41fa1c472c73789eb51c5586fd">5bf86a6</a></td><td><code>Trac #18454: Clean up long random_cone() tests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6e7a80023ea5097f4f803b8613f05e5e028723b">e6e7a80</a></td><td><code>Merge branch 't/18613/errors_with_is_isomorphic___for_trivial_cones' into t/18454/ticket/18454</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a07efa959bcbd088f34e3e4b7bd0a653cfaa998d">a07efa9</a></td><td><code>Reviewer's tweaks to random cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b">8c962e1</a></td><td><code>Trac #18454: Remove more redundant (long) tests.</code></td></tr></table>




---

archive/issue_comments_257242.json:
```json
{
    "body": "Reviewer: **Andrey Novoseltsev**",
    "created_at": "2015-08-15T00:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257242",
    "user": "https://github.com/novoselt"
}
```

Reviewer: **Andrey Novoseltsev**



---

archive/issue_comments_257243.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nThumbs up!",
    "created_at": "2015-08-15T00:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257243",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:28'>Comment 28:</a>
Thumbs up!



---

archive/issue_events_244597.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2015-08-15T00:32:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244597"
}
```



---

archive/issue_events_244598.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2015-08-15T00:32:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244598"
}
```



---

archive/issue_comments_257244.json:
```json
{
    "body": "Changed branch from **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)** to **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)**",
    "created_at": "2015-08-15T17:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257244",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mjo/ticket/18454](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/18454)** to **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)**



---

archive/issue_events_244599.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-08-15T17:52:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244599"
}
```



---

archive/issue_events_244600.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d9edb988e8badc22a94bb7e70eba54aa845fe7ac",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-08-15T17:52:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18454#event-244600"
}
```



---

archive/issue_comments_257245.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nThis recently started breaking, no idea why...\n\nSee #24517",
    "created_at": "2018-01-16T23:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257245",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'>Comment 30:</a>
This recently started breaking, no idea why...

See #24517



---

archive/issue_comments_257246.json:
```json
{
    "body": "Changed commit from **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)** to none",
    "created_at": "2018-01-16T23:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18454#issuecomment-257246",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[8c962e1](https://github.com/sagemath/sagetrac-mirror/commit/8c962e18f07c294b96aedf12ae88069f456f099b)** to none
