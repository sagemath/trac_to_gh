# Issue 18784: Tutte connectors for matroids

archive/issues_018547.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-Rudi"
    ],
    "body": "Tutte's linking theorem states that if   `S`, `T` are disjoint subsets of the ground set of a matroid `M`, then \n `\\min\\{\\lambda_M(X): S\\subseteq X, X\\cap T =\\emptyset\\}`\nequals\n `\\max\\{\\lambda_N(S): E(N)=S\\cup T, N= M/I\\setminus J\\}`\nHere `\\lambda_M(X):=r_M(X)+r_M(E-X)-r_M(E)` is the connectivity of `X` in `M`.\n\nWrite a function that  outputs both an optimal `X` (a  min separation) and an optimal `I` (a max connector) as in Tutte's linking theorem.\n\nCC:  @chaoxu @sagetrac-Stefan @sagetrac-yomcat\n\nBranch/Commit: **[9d932ee](https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2)**\n\nReviewer: **Chao Xu**\n\nAuthor: **Rudi Pendavingh**\n\nComponent: **matroid theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18784_\n\n",
    "closed_at": "2015-07-13T17:58:40Z",
    "created_at": "2015-06-25T08:35:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Tutte connectors for matroids",
    "type": "issue",
    "updated_at": "2015-07-13T17:58:40Z",
    "url": "https://github.com/sagemath/sage/issues/18784",
    "user": "https://github.com/sagetrac-Rudi"
}
```
Tutte's linking theorem states that if   `S`, `T` are disjoint subsets of the ground set of a matroid `M`, then 
 `\min\{\lambda_M(X): S\subseteq X, X\cap T =\emptyset\}`
equals
 `\max\{\lambda_N(S): E(N)=S\cup T, N= M/I\setminus J\}`
Here `\lambda_M(X):=r_M(X)+r_M(E-X)-r_M(E)` is the connectivity of `X` in `M`.

Write a function that  outputs both an optimal `X` (a  min separation) and an optimal `I` (a max connector) as in Tutte's linking theorem.

CC:  @chaoxu @sagetrac-Stefan @sagetrac-yomcat

Branch/Commit: **[9d932ee](https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2)**

Reviewer: **Chao Xu**

Author: **Rudi Pendavingh**

Component: **matroid theory**

_Issue created by migration from https://trac.sagemath.org/ticket/18784_





---

archive/issue_events_266784.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-25T08:35:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266784"
}
```



---

archive/issue_events_266785.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-25T08:35:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20matroid%20theory",
    "label_color": "0000ff",
    "label_name": "c: matroid theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266785"
}
```



---

archive/issue_events_266786.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-25T08:35:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266786"
}
```



---

archive/issue_events_266787.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-25T08:35:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266787"
}
```



---

archive/issue_comments_262404.json:
```json
{
    "body": "Branch: **[u/Rudi/tutte_connectors_for_matroids](https://github.com/sagemath/sagetrac-mirror/tree/u/Rudi/tutte_connectors_for_matroids)**",
    "created_at": "2015-06-25T09:02:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262404",
    "user": "https://github.com/sagetrac-Rudi"
}
```

Branch: **[u/Rudi/tutte_connectors_for_matroids](https://github.com/sagemath/sagetrac-mirror/tree/u/Rudi/tutte_connectors_for_matroids)**



---

archive/issue_comments_262405.json:
```json
{
    "body": "Commit: **[9acd9eb](https://github.com/sagemath/sagetrac-mirror/commit/9acd9ebb43fbfe42eb22d5cd881056b80a50a020)**",
    "created_at": "2015-06-25T09:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262405",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[9acd9eb](https://github.com/sagemath/sagetrac-mirror/commit/9acd9ebb43fbfe42eb22d5cd881056b80a50a020)**



---

archive/issue_comments_262406.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9acd9ebb43fbfe42eb22d5cd881056b80a50a020\">9acd9eb</a></td><td><code>Used _link to speed up _is_3connected_CE</code></td></tr></table>\n",
    "created_at": "2015-06-25T09:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262406",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9acd9ebb43fbfe42eb22d5cd881056b80a50a020">9acd9eb</a></td><td><code>Used _link to speed up _is_3connected_CE</code></td></tr></table>




---

archive/issue_comments_262407.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nMy implementation of link() uses matroid intersection just like in connectivity(), but now I've implemented that algorithm for class Matroid without the actual construction of the two minors, and I also wrote a bitpacked version in class BasisExchangeMatroid.\n\nI used this new function link() to speed up both connectivity() and _is_3connected_CE. Here's the effect on the latter function.\n\nBefore:\n\n```\nsage: M = Matroid(MatrixSpace(GF(2), 100,200).random_element())\nsage: %time M._is_3connected_CE(True)\nCPU times: user 3min 10s, sys: 982 ms, total: 3min 11s\nWall time: 3min 12s\n(True, None)\n```\nAfter:\n\n```\nsage: M = Matroid(MatrixSpace(GF(2), 100,200).random_element())\nsage: %time M._is_3connected_CE(True)\nCPU times: user 1.12 s, sys: 1.68 ms, total: 1.12 s\nWall time: 1.13 s\n(True, None)\n```\n\nOf course, this is still horrible compared to Chao's BC implementation.\n\n```\nsage: %time M._is_3connected_BC()\nCPU times: user 46.5 ms, sys: 1.14 ms, total: 47.6 ms\nWall time: 50.8 ms\nTrue\n```\nBut connectivity(S,T) also got 180x faster.\n\nWill go on to tweak and test a bit. Meanwhile, if anyone has a strong opinion on the name `link()`, discuss. It's easy to change it at this stage.",
    "created_at": "2015-06-25T09:54:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262407",
    "user": "https://github.com/sagetrac-Rudi"
}
```

<div id="comment:3" align="right">comment:3</div>

My implementation of link() uses matroid intersection just like in connectivity(), but now I've implemented that algorithm for class Matroid without the actual construction of the two minors, and I also wrote a bitpacked version in class BasisExchangeMatroid.

I used this new function link() to speed up both connectivity() and _is_3connected_CE. Here's the effect on the latter function.

Before:

```
sage: M = Matroid(MatrixSpace(GF(2), 100,200).random_element())
sage: %time M._is_3connected_CE(True)
CPU times: user 3min 10s, sys: 982 ms, total: 3min 11s
Wall time: 3min 12s
(True, None)
```
After:

```
sage: M = Matroid(MatrixSpace(GF(2), 100,200).random_element())
sage: %time M._is_3connected_CE(True)
CPU times: user 1.12 s, sys: 1.68 ms, total: 1.12 s
Wall time: 1.13 s
(True, None)
```

Of course, this is still horrible compared to Chao's BC implementation.

```
sage: %time M._is_3connected_BC()
CPU times: user 46.5 ms, sys: 1.14 ms, total: 47.6 ms
Wall time: 50.8 ms
True
```
But connectivity(S,T) also got 180x faster.

Will go on to tweak and test a bit. Meanwhile, if anyone has a strong opinion on the name `link()`, discuss. It's easy to change it at this stage.



---

archive/issue_comments_262408.json:
```json
{
    "body": "Changed commit from **[9acd9eb](https://github.com/sagemath/sagetrac-mirror/commit/9acd9ebb43fbfe42eb22d5cd881056b80a50a020)** to **[79c955a](https://github.com/sagemath/sagetrac-mirror/commit/79c955a5a023aa4aa36515e6dd75904d4794a5f6)**",
    "created_at": "2015-06-25T10:45:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262408",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9acd9eb](https://github.com/sagemath/sagetrac-mirror/commit/9acd9ebb43fbfe42eb22d5cd881056b80a50a020)** to **[79c955a](https://github.com/sagemath/sagetrac-mirror/commit/79c955a5a023aa4aa36515e6dd75904d4794a5f6)**



---

archive/issue_comments_262409.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79c955a5a023aa4aa36515e6dd75904d4794a5f6\">79c955a</a></td><td><code>Removed trailing whitespace</code></td></tr></table>\n",
    "created_at": "2015-06-25T10:45:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262409",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79c955a5a023aa4aa36515e6dd75904d4794a5f6">79c955a</a></td><td><code>Removed trailing whitespace</code></td></tr></table>




---

archive/issue_comments_262410.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea42ccae7acd58dc145a1caf323216ff63ef473e\">ea42cca</a></td><td><code>Killed bug in _is_3connected_CE</code></td></tr></table>\n",
    "created_at": "2015-06-25T10:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262410",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea42ccae7acd58dc145a1caf323216ff63ef473e">ea42cca</a></td><td><code>Killed bug in _is_3connected_CE</code></td></tr></table>




---

archive/issue_comments_262411.json:
```json
{
    "body": "Changed commit from **[79c955a](https://github.com/sagemath/sagetrac-mirror/commit/79c955a5a023aa4aa36515e6dd75904d4794a5f6)** to **[ea42cca](https://github.com/sagemath/sagetrac-mirror/commit/ea42ccae7acd58dc145a1caf323216ff63ef473e)**",
    "created_at": "2015-06-25T10:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262411",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[79c955a](https://github.com/sagemath/sagetrac-mirror/commit/79c955a5a023aa4aa36515e6dd75904d4794a5f6)** to **[ea42cca](https://github.com/sagemath/sagetrac-mirror/commit/ea42ccae7acd58dc145a1caf323216ff63ef473e)**



---

archive/issue_comments_262412.json:
```json
{
    "body": "Changed commit from **[ea42cca](https://github.com/sagemath/sagetrac-mirror/commit/ea42ccae7acd58dc145a1caf323216ff63ef473e)** to **[494f04a](https://github.com/sagemath/sagetrac-mirror/commit/494f04a7c37a4d0682ec34feaee6127a514b44a1)**",
    "created_at": "2015-06-25T11:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262412",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ea42cca](https://github.com/sagemath/sagetrac-mirror/commit/ea42ccae7acd58dc145a1caf323216ff63ef473e)** to **[494f04a](https://github.com/sagemath/sagetrac-mirror/commit/494f04a7c37a4d0682ec34feaee6127a514b44a1)**



---

archive/issue_comments_262413.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/494f04a7c37a4d0682ec34feaee6127a514b44a1\">494f04a</a></td><td><code>... and added one in the process</code></td></tr></table>\n",
    "created_at": "2015-06-25T11:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262413",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/494f04a7c37a4d0682ec34feaee6127a514b44a1">494f04a</a></td><td><code>... and added one in the process</code></td></tr></table>




---

archive/issue_comments_262414.json:
```json
{
    "body": "Author: **Rudi Pendavingh**",
    "created_at": "2015-06-25T11:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262414",
    "user": "https://github.com/sagetrac-Rudi"
}
```

Author: **Rudi Pendavingh**



---

archive/issue_events_266788.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-25T11:02:26Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "subject": "https://github.com/sagetrac-Rudi",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266788"
}
```



---

archive/issue_comments_262415.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Tutte's linking theorem states that if   `S`, `T` are disjoint subsets of the ground set of a matroid `M`, then \n  `\\min\\{\\lambda_M(X): S\\subseteq X, X\\cap T =\\emptyset\\}`\n equals\n- `\\max\\{\\lambda_N(S): E(N)=S\\cup T, N= M\\setminus I/ J\\}`\n+ `\\max\\{\\lambda_N(S): E(N)=S\\cup T, N= M/I\\setminus J\\}`\n Here `\\lambda_M(X):=r_M(X)+r_M(E-X)-r_M(E)` is the connectivity of `X` in `M`.\n \n Write a function that  outputs both an optimal `X` (a  min separation) and an optimal `I` (a max connector) as in Tutte's linking theorem.\n``````\n",
    "created_at": "2015-06-25T11:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262415",
    "user": "https://github.com/sagetrac-Rudi"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Tutte's linking theorem states that if   `S`, `T` are disjoint subsets of the ground set of a matroid `M`, then 
  `\min\{\lambda_M(X): S\subseteq X, X\cap T =\emptyset\}`
 equals
- `\max\{\lambda_N(S): E(N)=S\cup T, N= M\setminus I/ J\}`
+ `\max\{\lambda_N(S): E(N)=S\cup T, N= M/I\setminus J\}`
 Here `\lambda_M(X):=r_M(X)+r_M(E-X)-r_M(E)` is the connectivity of `X` in `M`.
 
 Write a function that  outputs both an optimal `X` (a  min separation) and an optimal `I` (a max connector) as in Tutte's linking theorem.
``````




---

archive/issue_comments_262416.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db0904de2adadfcf1209aefb458ff126c2f651b0\">db0904d</a></td><td><code>A heuristic optimization</code></td></tr></table>\n",
    "created_at": "2015-06-25T17:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262416",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db0904de2adadfcf1209aefb458ff126c2f651b0">db0904d</a></td><td><code>A heuristic optimization</code></td></tr></table>




---

archive/issue_comments_262417.json:
```json
{
    "body": "Changed commit from **[494f04a](https://github.com/sagemath/sagetrac-mirror/commit/494f04a7c37a4d0682ec34feaee6127a514b44a1)** to **[db0904d](https://github.com/sagemath/sagetrac-mirror/commit/db0904de2adadfcf1209aefb458ff126c2f651b0)**",
    "created_at": "2015-06-25T17:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262417",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[494f04a](https://github.com/sagemath/sagetrac-mirror/commit/494f04a7c37a4d0682ec34feaee6127a514b44a1)** to **[db0904d](https://github.com/sagemath/sagetrac-mirror/commit/db0904de2adadfcf1209aefb458ff126c2f651b0)**



---

archive/issue_comments_262418.json:
```json
{
    "body": "Changed commit from **[db0904d](https://github.com/sagemath/sagetrac-mirror/commit/db0904de2adadfcf1209aefb458ff126c2f651b0)** to **[152e924](https://github.com/sagemath/sagetrac-mirror/commit/152e9241637a0bdb46c3c2f8597cdf48f3844370)**",
    "created_at": "2015-06-25T22:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262418",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[db0904d](https://github.com/sagemath/sagetrac-mirror/commit/db0904de2adadfcf1209aefb458ff126c2f651b0)** to **[152e924](https://github.com/sagemath/sagetrac-mirror/commit/152e9241637a0bdb46c3c2f8597cdf48f3844370)**



---

archive/issue_comments_262419.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/152e9241637a0bdb46c3c2f8597cdf48f3844370\">152e924</a></td><td><code>Killed a bug</code></td></tr></table>\n",
    "created_at": "2015-06-25T22:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262419",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/152e9241637a0bdb46c3c2f8597cdf48f3844370">152e924</a></td><td><code>Killed a bug</code></td></tr></table>




---

archive/issue_comments_262420.json:
```json
{
    "body": "Changed commit from **[152e924](https://github.com/sagemath/sagetrac-mirror/commit/152e9241637a0bdb46c3c2f8597cdf48f3844370)** to **[7205add](https://github.com/sagemath/sagetrac-mirror/commit/7205adde4a99952023a899aee6c336648c94b7d2)**",
    "created_at": "2015-06-26T08:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262420",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[152e924](https://github.com/sagemath/sagetrac-mirror/commit/152e9241637a0bdb46c3c2f8597cdf48f3844370)** to **[7205add](https://github.com/sagemath/sagetrac-mirror/commit/7205adde4a99952023a899aee6c336648c94b7d2)**



---

archive/issue_comments_262421.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7205adde4a99952023a899aee6c336648c94b7d2\">7205add</a></td><td><code>Some optimizations</code></td></tr></table>\n",
    "created_at": "2015-06-26T08:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262421",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7205adde4a99952023a899aee6c336648c94b7d2">7205add</a></td><td><code>Some optimizations</code></td></tr></table>




---

archive/issue_comments_262422.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI see you fixed a bug in the 3-connected code. Generally, the philosophy in Sage is one issue per ticket. Otherwise we're getting a mess of interdependent code.",
    "created_at": "2015-06-26T19:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262422",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<div id="comment:12" align="right">comment:12</div>

I see you fixed a bug in the 3-connected code. Generally, the philosophy in Sage is one issue per ticket. Otherwise we're getting a mess of interdependent code.



---

archive/issue_comments_262423.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@sagetrac-Stefan](#comment:12):\n> I see you fixed a bug in the 3-connected code. Generally, the philosophy in Sage is one issue per ticket. Otherwise we're getting a mess of interdependent code.\n\nI could have opened another ticket, and I'm happy to do so if it has any advantages. But what would be the advantage here? \n\nI started out using my new code to speed up an existing method, _is_3connected_CE. That by itself seems within the scope of this ticket. By doing so, I created dependency between this ticket and any other work on that method. So I'm not really making the mess worse by killing that bug, just solving a problem before it reaches the 6.8 release candidate. On the other hand, if I create a second ticket just for repairing the bug, then there will be two tickets interacting with _is_3connected_CE.",
    "created_at": "2015-06-26T19:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262423",
    "user": "https://github.com/sagetrac-Rudi"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@sagetrac-Stefan](#comment:12):
> I see you fixed a bug in the 3-connected code. Generally, the philosophy in Sage is one issue per ticket. Otherwise we're getting a mess of interdependent code.

I could have opened another ticket, and I'm happy to do so if it has any advantages. But what would be the advantage here? 

I started out using my new code to speed up an existing method, _is_3connected_CE. That by itself seems within the scope of this ticket. By doing so, I created dependency between this ticket and any other work on that method. So I'm not really making the mess worse by killing that bug, just solving a problem before it reaches the 6.8 release candidate. On the other hand, if I create a second ticket just for repairing the bug, then there will be two tickets interacting with _is_3connected_CE.



---

archive/issue_comments_262424.json:
```json
{
    "body": "Changed commit from **[7205add](https://github.com/sagemath/sagetrac-mirror/commit/7205adde4a99952023a899aee6c336648c94b7d2)** to **[8ba307e](https://github.com/sagemath/sagetrac-mirror/commit/8ba307e4a5ac0ed982bbfdebbaebe92a326368c8)**",
    "created_at": "2015-06-26T21:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262424",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7205add](https://github.com/sagemath/sagetrac-mirror/commit/7205adde4a99952023a899aee6c336648c94b7d2)** to **[8ba307e](https://github.com/sagemath/sagetrac-mirror/commit/8ba307e4a5ac0ed982bbfdebbaebe92a326368c8)**



---

archive/issue_comments_262425.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ba307e4a5ac0ed982bbfdebbaebe92a326368c8\">8ba307e</a></td><td><code>More bugs</code></td></tr></table>\n",
    "created_at": "2015-06-26T21:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262425",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ba307e4a5ac0ed982bbfdebbaebe92a326368c8">8ba307e</a></td><td><code>More bugs</code></td></tr></table>




---

archive/issue_comments_262426.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5cd8f1e72aefe116f81c938b6b2c99682f484c8\">b5cd8f1</a></td><td><code>Finishing touch docstrings</code></td></tr></table>\n",
    "created_at": "2015-06-26T22:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262426",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5cd8f1e72aefe116f81c938b6b2c99682f484c8">b5cd8f1</a></td><td><code>Finishing touch docstrings</code></td></tr></table>




---

archive/issue_comments_262427.json:
```json
{
    "body": "Changed commit from **[8ba307e](https://github.com/sagemath/sagetrac-mirror/commit/8ba307e4a5ac0ed982bbfdebbaebe92a326368c8)** to **[b5cd8f1](https://github.com/sagemath/sagetrac-mirror/commit/b5cd8f1e72aefe116f81c938b6b2c99682f484c8)**",
    "created_at": "2015-06-26T22:44:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262427",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8ba307e](https://github.com/sagemath/sagetrac-mirror/commit/8ba307e4a5ac0ed982bbfdebbaebe92a326368c8)** to **[b5cd8f1](https://github.com/sagemath/sagetrac-mirror/commit/b5cd8f1e72aefe116f81c938b6b2c99682f484c8)**



---

archive/issue_comments_262428.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOK, trailing whitespace is gone, doctests run.\n\nTo test ._link() I verified that _is_3connected_CE agrees with _is_3connected_BC for all matroids on at most 9 elements.\n\nI'll run some more tests tomorrow.",
    "created_at": "2015-06-26T22:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262428",
    "user": "https://github.com/sagetrac-Rudi"
}
```

<div id="comment:16" align="right">comment:16</div>

OK, trailing whitespace is gone, doctests run.

To test ._link() I verified that _is_3connected_CE agrees with _is_3connected_BC for all matroids on at most 9 elements.

I'll run some more tests tomorrow.



---

archive/issue_comments_262429.json:
```json
{
    "body": "Changed commit from **[b5cd8f1](https://github.com/sagemath/sagetrac-mirror/commit/b5cd8f1e72aefe116f81c938b6b2c99682f484c8)** to **[8ade550](https://github.com/sagemath/sagetrac-mirror/commit/8ade550090c5b4e43f1683c74826aebe4abfb4ce)**",
    "created_at": "2015-06-27T12:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262429",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b5cd8f1](https://github.com/sagemath/sagetrac-mirror/commit/b5cd8f1e72aefe116f81c938b6b2c99682f484c8)** to **[8ade550](https://github.com/sagemath/sagetrac-mirror/commit/8ade550090c5b4e43f1683c74826aebe4abfb4ce)**



---

archive/issue_comments_262430.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ade550090c5b4e43f1683c74826aebe4abfb4ce\">8ade550</a></td><td><code>Explain steps in comments</code></td></tr></table>\n",
    "created_at": "2015-06-27T12:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262430",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ade550090c5b4e43f1683c74826aebe4abfb4ce">8ade550</a></td><td><code>Explain steps in comments</code></td></tr></table>




---

archive/issue_events_266789.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-27T13:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266789"
}
```



---

archive/issue_comments_262431.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI'm done.\n\nI saw that _is_3connected_CE did not always respond to `certificate=True` (in paticular when there were loops or coloops). So I repaired that, making extra sure that all the fringe cases are handled correctly. \n\nTested  _is_3connected_CE on all matroids of size <=9. I also recycled Stefan's test for Chao's implementation of BC:\n\n```\ndef test_3c(n,m):\n    A = Matrix(GF(2), n, m)\n    k = ZZ.random_element(n)\n    R = set([ZZ.random_element(n) for i in range(k)])\n    k = ZZ.random_element(m)\n    C = set([ZZ.random_element(m) for i in range(k)])\n    if len(R) + m - len(C) < 2 or len(C) + n - len(R) < 2:\n        print \"boundary case\"\n        return False\n    #  Rank-1 submatrix indexed by R, C\n    Rs = {x: ZZ.random_element(2) for x in R}\n    Cs = {x: ZZ.random_element(2) for x in C}\n    for i in range(n):\n        for j in range(m):\n            if i in R and j in C:\n                A[i,j] = Rs[i] * Cs[j]\n            elif i in R or j in C:\n                A[i,j] = ZZ.random_element(2)\n            else:\n                A[i,j] = 0\n    return Matroid(field=GF(2), reduced_matrix=A)._is_3connected_CE()\n```\nIndirectly all this also tests the correctness of the new method `link()`.\n\nThe time needed to detect a smallest separation using connectivity(S,T) improved significantly. I'll post some timings later, right now all of sage is recompiling.\n \nNeeds review.",
    "created_at": "2015-06-27T13:51:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262431",
    "user": "https://github.com/sagetrac-Rudi"
}
```

<div id="comment:18" align="right">comment:18</div>

I'm done.

I saw that _is_3connected_CE did not always respond to `certificate=True` (in paticular when there were loops or coloops). So I repaired that, making extra sure that all the fringe cases are handled correctly. 

Tested  _is_3connected_CE on all matroids of size <=9. I also recycled Stefan's test for Chao's implementation of BC:

```
def test_3c(n,m):
    A = Matrix(GF(2), n, m)
    k = ZZ.random_element(n)
    R = set([ZZ.random_element(n) for i in range(k)])
    k = ZZ.random_element(m)
    C = set([ZZ.random_element(m) for i in range(k)])
    if len(R) + m - len(C) < 2 or len(C) + n - len(R) < 2:
        print "boundary case"
        return False
    #  Rank-1 submatrix indexed by R, C
    Rs = {x: ZZ.random_element(2) for x in R}
    Cs = {x: ZZ.random_element(2) for x in C}
    for i in range(n):
        for j in range(m):
            if i in R and j in C:
                A[i,j] = Rs[i] * Cs[j]
            elif i in R or j in C:
                A[i,j] = ZZ.random_element(2)
            else:
                A[i,j] = 0
    return Matroid(field=GF(2), reduced_matrix=A)._is_3connected_CE()
```
Indirectly all this also tests the correctness of the new method `link()`.

The time needed to detect a smallest separation using connectivity(S,T) improved significantly. I'll post some timings later, right now all of sage is recompiling.
 
Needs review.



---

archive/issue_comments_262432.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHmm, the patchbot is half unhappy. Let me just merge with 6.8 beta 6.",
    "created_at": "2015-06-27T18:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262432",
    "user": "https://github.com/sagetrac-Rudi"
}
```

<div id="comment:19" align="right">comment:19</div>

Hmm, the patchbot is half unhappy. Let me just merge with 6.8 beta 6.



---

archive/issue_events_266790.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-27T18:15:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266790"
}
```



---

archive/issue_events_266791.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-27T18:15:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266791"
}
```



---

archive/issue_comments_262433.json:
```json
{
    "body": "Changed commit from **[8ade550](https://github.com/sagemath/sagetrac-mirror/commit/8ade550090c5b4e43f1683c74826aebe4abfb4ce)** to **[9df1cf1](https://github.com/sagemath/sagetrac-mirror/commit/9df1cf15e77161940b29d3cbe75fb89f4f463223)**",
    "created_at": "2015-06-27T20:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262433",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8ade550](https://github.com/sagemath/sagetrac-mirror/commit/8ade550090c5b4e43f1683c74826aebe4abfb4ce)** to **[9df1cf1](https://github.com/sagemath/sagetrac-mirror/commit/9df1cf15e77161940b29d3cbe75fb89f4f463223)**



---

archive/issue_comments_262434.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9df1cf15e77161940b29d3cbe75fb89f4f463223\">9df1cf1</a></td><td><code>Reduced number of calls to _link() in _is_3connected by factor 3</code></td></tr></table>\n",
    "created_at": "2015-06-27T20:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262434",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9df1cf15e77161940b29d3cbe75fb89f4f463223">9df1cf1</a></td><td><code>Reduced number of calls to _link() in _is_3connected by factor 3</code></td></tr></table>




---

archive/issue_comments_262435.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWell, I can't seem to merge or rebase on develop without going to an earlier version than beta6. Anyway, I realise now that rebasing won't help, that the one patchbot was unhappy about something unrelated to this ticket.\n\nI did realise one more efficiency tweak which may actually help to speed up the test for k-connectedness as well. So have a look. \n\nWhen _is_3connected_CE was based on matroid intersection it was quite a bit slower that _is_3connected_BC, now the picture is this:\n\n```\nsage: for i in range (10):\n    M = Matroid(MatrixSpace(GF(2), i*10, i*20).random_element())\n    print i, M\n    timeit(\"M._is_3connected_BC()\")\n    timeit(\"M._is_3connected_CE()\")\n....:     \n0 Binary matroid of rank 0 on 0 elements, type (0, 0)\n625 loops, best of 3: 129 ns per loop\n625 loops, best of 3: 147 ns per loop\n1 Binary matroid of rank 10 on 20 elements, type (1, None)\n625 loops, best of 3: 1.09 ms per loop\n625 loops, best of 3: 704 \u00b5s per loop\n2 Binary matroid of rank 20 on 40 elements, type (1, 1)\n625 loops, best of 3: 1.38 ms per loop\n125 loops, best of 3: 2.82 ms per loop\n3 Binary matroid of rank 30 on 60 elements, type (1, 5)\n125 loops, best of 3: 1.95 ms per loop\n125 loops, best of 3: 6.57 ms per loop\n4 Binary matroid of rank 40 on 80 elements, type (1, None)\n125 loops, best of 3: 3.28 ms per loop\n25 loops, best of 3: 13.8 ms per loop\n5 Binary matroid of rank 50 on 100 elements, type (1, 3)\n125 loops, best of 3: 5.09 ms per loop\n25 loops, best of 3: 23.8 ms per loop\n6 Binary matroid of rank 60 on 120 elements, type (0, 0)\n125 loops, best of 3: 7.31 ms per loop\n25 loops, best of 3: 39.3 ms per loop\n7 Binary matroid of rank 70 on 140 elements, type (2, None)\n25 loops, best of 3: 9.87 ms per loop\n5 loops, best of 3: 61.5 ms per loop\n8 Binary matroid of rank 80 on 160 elements, type (0, 6)\n25 loops, best of 3: 12.7 ms per loop\n5 loops, best of 3: 90.7 ms per loop\n9 Binary matroid of rank 90 on 180 elements, type (0, 0)\n25 loops, best of 3: 16.4 ms per loop\n5 loops, best of 3: 122 ms per loop\n```\nSo on a matroid on n elements, CE is about n/10 times slower than BC.",
    "created_at": "2015-06-27T20:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262435",
    "user": "https://github.com/sagetrac-Rudi"
}
```

<div id="comment:21" align="right">comment:21</div>

Well, I can't seem to merge or rebase on develop without going to an earlier version than beta6. Anyway, I realise now that rebasing won't help, that the one patchbot was unhappy about something unrelated to this ticket.

I did realise one more efficiency tweak which may actually help to speed up the test for k-connectedness as well. So have a look. 

When _is_3connected_CE was based on matroid intersection it was quite a bit slower that _is_3connected_BC, now the picture is this:

```
sage: for i in range (10):
    M = Matroid(MatrixSpace(GF(2), i*10, i*20).random_element())
    print i, M
    timeit("M._is_3connected_BC()")
    timeit("M._is_3connected_CE()")
....:     
0 Binary matroid of rank 0 on 0 elements, type (0, 0)
625 loops, best of 3: 129 ns per loop
625 loops, best of 3: 147 ns per loop
1 Binary matroid of rank 10 on 20 elements, type (1, None)
625 loops, best of 3: 1.09 ms per loop
625 loops, best of 3: 704 µs per loop
2 Binary matroid of rank 20 on 40 elements, type (1, 1)
625 loops, best of 3: 1.38 ms per loop
125 loops, best of 3: 2.82 ms per loop
3 Binary matroid of rank 30 on 60 elements, type (1, 5)
125 loops, best of 3: 1.95 ms per loop
125 loops, best of 3: 6.57 ms per loop
4 Binary matroid of rank 40 on 80 elements, type (1, None)
125 loops, best of 3: 3.28 ms per loop
25 loops, best of 3: 13.8 ms per loop
5 Binary matroid of rank 50 on 100 elements, type (1, 3)
125 loops, best of 3: 5.09 ms per loop
25 loops, best of 3: 23.8 ms per loop
6 Binary matroid of rank 60 on 120 elements, type (0, 0)
125 loops, best of 3: 7.31 ms per loop
25 loops, best of 3: 39.3 ms per loop
7 Binary matroid of rank 70 on 140 elements, type (2, None)
25 loops, best of 3: 9.87 ms per loop
5 loops, best of 3: 61.5 ms per loop
8 Binary matroid of rank 80 on 160 elements, type (0, 6)
25 loops, best of 3: 12.7 ms per loop
5 loops, best of 3: 90.7 ms per loop
9 Binary matroid of rank 90 on 180 elements, type (0, 0)
25 loops, best of 3: 16.4 ms per loop
5 loops, best of 3: 122 ms per loop
```
So on a matroid on n elements, CE is about n/10 times slower than BC.



---

archive/issue_events_266792.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-27T20:15:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266792"
}
```



---

archive/issue_events_266793.json:
```json
{
    "actor": "https://github.com/sagetrac-Rudi",
    "created_at": "2015-06-27T20:15:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266793"
}
```



---

archive/issue_comments_262436.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2\">9d932ee</a></td><td><code>Order of initial test in _is_3connected_CE was wrong</code></td></tr></table>\n",
    "created_at": "2015-07-01T21:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262436",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2">9d932ee</a></td><td><code>Order of initial test in _is_3connected_CE was wrong</code></td></tr></table>




---

archive/issue_comments_262437.json:
```json
{
    "body": "Changed commit from **[9df1cf1](https://github.com/sagemath/sagetrac-mirror/commit/9df1cf15e77161940b29d3cbe75fb89f4f463223)** to **[9d932ee](https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2)**",
    "created_at": "2015-07-01T21:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262437",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9df1cf1](https://github.com/sagemath/sagetrac-mirror/commit/9df1cf15e77161940b29d3cbe75fb89f4f463223)** to **[9d932ee](https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2)**



---

archive/issue_comments_262438.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAll tests pass.\nThe code looks alright.\n\nAll 3-connectivity related code passes.\nI use the following code to test k connectivity, which also verifies link().\n\n```\n    cpdef is_kconnected(self, k):\n        if k<=2:\n            return self.is_connected()\n        if not self.is_kconnected(k-1):\n            return False\n        m = k-1\n        E = set(self.groundset())\n        w = {e:1 for e in E}\n        Q = set(list(E)[:m])\n        E = E-Q\n        I = set()\n        for r in range(len(Q)/2):\n            for Q1 in map(set,combinations(Q, r)):\n                Q2 = Q-Q1\n                for A in map(set,combinations(E, m - len(Q1))):\n                    T = Q1|A\n                    for B in map(set,combinations(E-A, m - len(Q2))):\n                        S = Q2|B\n                        if(self.connectivity(T,S)<m):\n                            return False\n        return True\n```\n\nsome tests which shows expected behavior, uniform matroids\n\n```\ndef test_uniform(n):\n    for i in range(3,n):\n             for j in range(i*2+2,3*i+2):\n                 if not matroids.Uniform(i,j).is_kconnected(i+1):\n                    return False\n                 if matroids.Uniform(i,j).is_kconnected(i+2):\n                    return False\n    return True\n\nsage: test_uniform(7):\nTrue\n```\n\ntesting affine geometries\n\n```\nsage: matroids.AG(5,2).is_kconnected(4)\nTrue\nsage: matroids.AG(5,2).is_kconnected(5)\nFalse\nsage: matroids.AG(6,2).is_kconnected(4)\nTrue\nsage: matroids.AG(6,2).is_kconnected(5)\nFalse\nsage: matroids.AG(7,2).is_kconnected(4)\nTrue\nsage: matroids.AG(7,2).is_kconnected(5)\nFalse\n```\n\nI will tests some more before giving a positive review.",
    "created_at": "2015-07-09T22:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262438",
    "user": "https://github.com/chaoxu"
}
```

<div id="comment:23" align="right">comment:23</div>

All tests pass.
The code looks alright.

All 3-connectivity related code passes.
I use the following code to test k connectivity, which also verifies link().

```
    cpdef is_kconnected(self, k):
        if k<=2:
            return self.is_connected()
        if not self.is_kconnected(k-1):
            return False
        m = k-1
        E = set(self.groundset())
        w = {e:1 for e in E}
        Q = set(list(E)[:m])
        E = E-Q
        I = set()
        for r in range(len(Q)/2):
            for Q1 in map(set,combinations(Q, r)):
                Q2 = Q-Q1
                for A in map(set,combinations(E, m - len(Q1))):
                    T = Q1|A
                    for B in map(set,combinations(E-A, m - len(Q2))):
                        S = Q2|B
                        if(self.connectivity(T,S)<m):
                            return False
        return True
```

some tests which shows expected behavior, uniform matroids

```
def test_uniform(n):
    for i in range(3,n):
             for j in range(i*2+2,3*i+2):
                 if not matroids.Uniform(i,j).is_kconnected(i+1):
                    return False
                 if matroids.Uniform(i,j).is_kconnected(i+2):
                    return False
    return True

sage: test_uniform(7):
True
```

testing affine geometries

```
sage: matroids.AG(5,2).is_kconnected(4)
True
sage: matroids.AG(5,2).is_kconnected(5)
False
sage: matroids.AG(6,2).is_kconnected(4)
True
sage: matroids.AG(6,2).is_kconnected(5)
False
sage: matroids.AG(7,2).is_kconnected(4)
True
sage: matroids.AG(7,2).is_kconnected(5)
False
```

I will tests some more before giving a positive review.



---

archive/issue_comments_262439.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nHi Chao,\n\nthanks for doing the review! If you have any comments, then I will still be able to respond in the next two weeks but after 26/7 I'll be travelling for a while.\n\nCheers,\nRudi",
    "created_at": "2015-07-12T10:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262439",
    "user": "https://github.com/sagetrac-Rudi"
}
```

<div id="comment:24" align="right">comment:24</div>

Hi Chao,

thanks for doing the review! If you have any comments, then I will still be able to respond in the next two weeks but after 26/7 I'll be travelling for a while.

Cheers,
Rudi



---

archive/issue_comments_262440.json:
```json
{
    "body": "Reviewer: **Chao Xu**",
    "created_at": "2015-07-13T04:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262440",
    "user": "https://github.com/chaoxu"
}
```

Reviewer: **Chao Xu**



---

archive/issue_events_266794.json:
```json
{
    "actor": "https://github.com/chaoxu",
    "created_at": "2015-07-13T04:06:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266794"
}
```



---

archive/issue_events_266795.json:
```json
{
    "actor": "https://github.com/chaoxu",
    "created_at": "2015-07-13T04:06:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266795"
}
```



---

archive/issue_comments_262441.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHi Rudi,\n\nPositive review.\n\nHere are more things I have tried:\n\nSome 4-connected(and not 5-connected) binary matroids given by Gordon Royle.\n\neach list is a matroid and each number in the list expressed in binary is a column of a matrix representing the matroid. \n\n```\n[[1,2,4,7,8,11,13,14,16,21,25,31],\n[1,2,4,8,15,16,21,25,32,41,51,63],\n[1,2,4,8,15,16,21,22,32,41,42,51],\n[1,2,4,7,8,13,16,31,32,35,52,61],\n[1,2,4,8,15,16,32,54,64,90,109,113],\n[1,2,4,7,8,11,13,14,16,19,21,22,25,31],\n[1,2,4,8,15,16,21,25,30,32,37,41,44,51],\n[1,2,4,8,15,16,21,25,30,32,37,41,46,51],\n[1,2,4,8,15,16,21,25,30,32,37,41,51,52],\n[1,2,4,8,15,16,21,25,30,32,37,41,51,54],\n[1,2,4,8,15,16,21,27,28,32,39,41,51,56],\n[1,2,4,8,15,16,21,22,27,28,32,41,42,51],\n[1,2,4,8,15,16,21,22,27,32,39,41,42,51],\n[1,2,4,8,15,16,21,22,27,32,41,42,44,51],\n[1,2,4,8,15,16,21,22,32,41,42,51,61,62],\n[1,2,4,7,8,11,13,14,16,19,21,22,25,26,28,31],\n[1,2,4,8,15,16,21,25,30,32,37,41,46,51,52,56],\n[1,2,4,8,15,16,21,25,30,32,37,41,46,51,54,56],\n[1,2,4,8,15,16,21,25,30,32,37,41,46,51,54,58],\n[1,2,4,8,15,16,21,27,28,32,39,41,44,51,52,56],\n[1,2,4,8,15,16,21,22,27,28,32,39,41,42,51,52],\n[1,2,4,8,15,16,21,22,27,28,32,39,41,42,44,51],\n[1,2,4,8,15,16,21,22,27,32,39,41,42,51,61,62],\n[1,2,4,7,8,11,13,14,16,19,22,31,32,35,52,61],\n[1,2,4,7,8,11,13,14,16,19,28,31,32,35,52,61]]\n```\n\nApplying `is_kconnected(4)` and `is_kconnecte(5)` returns desired results.",
    "created_at": "2015-07-13T04:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262441",
    "user": "https://github.com/chaoxu"
}
```

<div id="comment:25" align="right">comment:25</div>

Hi Rudi,

Positive review.

Here are more things I have tried:

Some 4-connected(and not 5-connected) binary matroids given by Gordon Royle.

each list is a matroid and each number in the list expressed in binary is a column of a matrix representing the matroid. 

```
[[1,2,4,7,8,11,13,14,16,21,25,31],
[1,2,4,8,15,16,21,25,32,41,51,63],
[1,2,4,8,15,16,21,22,32,41,42,51],
[1,2,4,7,8,13,16,31,32,35,52,61],
[1,2,4,8,15,16,32,54,64,90,109,113],
[1,2,4,7,8,11,13,14,16,19,21,22,25,31],
[1,2,4,8,15,16,21,25,30,32,37,41,44,51],
[1,2,4,8,15,16,21,25,30,32,37,41,46,51],
[1,2,4,8,15,16,21,25,30,32,37,41,51,52],
[1,2,4,8,15,16,21,25,30,32,37,41,51,54],
[1,2,4,8,15,16,21,27,28,32,39,41,51,56],
[1,2,4,8,15,16,21,22,27,28,32,41,42,51],
[1,2,4,8,15,16,21,22,27,32,39,41,42,51],
[1,2,4,8,15,16,21,22,27,32,41,42,44,51],
[1,2,4,8,15,16,21,22,32,41,42,51,61,62],
[1,2,4,7,8,11,13,14,16,19,21,22,25,26,28,31],
[1,2,4,8,15,16,21,25,30,32,37,41,46,51,52,56],
[1,2,4,8,15,16,21,25,30,32,37,41,46,51,54,56],
[1,2,4,8,15,16,21,25,30,32,37,41,46,51,54,58],
[1,2,4,8,15,16,21,27,28,32,39,41,44,51,52,56],
[1,2,4,8,15,16,21,22,27,28,32,39,41,42,51,52],
[1,2,4,8,15,16,21,22,27,28,32,39,41,42,44,51],
[1,2,4,8,15,16,21,22,27,32,39,41,42,51,61,62],
[1,2,4,7,8,11,13,14,16,19,22,31,32,35,52,61],
[1,2,4,7,8,11,13,14,16,19,28,31,32,35,52,61]]
```

Applying `is_kconnected(4)` and `is_kconnecte(5)` returns desired results.



---

archive/issue_events_266796.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-13T17:58:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266796"
}
```



---

archive/issue_events_266797.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4f5c894399e230420a3d4089b26bd3b64fc3ac87",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-13T17:58:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18784#event-266797"
}
```



---

archive/issue_comments_262442.json:
```json
{
    "body": "Changed branch from **[u/Rudi/tutte_connectors_for_matroids](https://github.com/sagemath/sagetrac-mirror/tree/u/Rudi/tutte_connectors_for_matroids)** to **[9d932ee](https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2)**",
    "created_at": "2015-07-13T17:58:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18784#issuecomment-262442",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/Rudi/tutte_connectors_for_matroids](https://github.com/sagemath/sagetrac-mirror/tree/u/Rudi/tutte_connectors_for_matroids)** to **[9d932ee](https://github.com/sagemath/sagetrac-mirror/commit/9d932ee9b5e693b46fd7bfbd0da2ebb1d1bfdcc2)**
