# Issue 18425: new-style Nauty package

archive/issues_018188.json:
```json
{
    "assignees": [],
    "body": "New style spkg for Nauty. The code has been updated to the latest upstream version available.\n\nRenamed upstream tarball\nhttp://www.lmona.de/files/sage/nauty-25r9.tar.gz\n\nCC:  @sagetrac-tmonteil @videlec @dcoudert @sagetrac-azi @sagetrac-borassi\n\nComponent: **packages: optional**\n\nAuthor: **Fran\u00e7ois Bissey, Thierry Monteil**\n\nBranch/Commit: **[`42404ed`](https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb)**\n\nReviewer: **Thierry Monteil, Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18425_\n\n",
    "closed_at": "2015-05-19T22:07:27Z",
    "created_at": "2015-05-15T09:12:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "new-style Nauty package",
    "type": "issue",
    "updated_at": "2023-01-08T08:41:37Z",
    "url": "https://github.com/sagemath/sage/issues/18425",
    "user": "https://github.com/nathanncohen"
}
```
New style spkg for Nauty. The code has been updated to the latest upstream version available.

Renamed upstream tarball
http://www.lmona.de/files/sage/nauty-25r9.tar.gz

CC:  @sagetrac-tmonteil @videlec @dcoudert @sagetrac-azi @sagetrac-borassi

Component: **packages: optional**

Author: **Fran√ßois Bissey, Thierry Monteil**

Branch/Commit: **[`42404ed`](https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb)**

Reviewer: **Thierry Monteil, Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/18425_





---

archive/issue_events_259462.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-15T09:12:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259462"
}
```



---

archive/issue_events_259463.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-15T09:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259463"
}
```



---

archive/issue_events_259464.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-15T09:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259464"
}
```



---

archive/issue_events_259465.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-15T09:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259465"
}
```



---

archive/issue_comments_253784.json:
```json
{
    "body": "Branch: **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)**",
    "created_at": "2015-05-15T09:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253784",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)**



---

archive/issue_comments_253785.json:
```json
{
    "body": "Commit: **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)**",
    "created_at": "2015-05-15T09:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253785",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)**



---

archive/issue_comments_253786.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1\"><code>c2d4c89</code></a></td><td><code>trac #18425: new-style Nauty package</code></td></tr></table>\n",
    "created_at": "2015-05-15T09:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253786",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1"><code>c2d4c89</code></a></td><td><code>trac #18425: new-style Nauty package</code></td></tr></table>




---

archive/issue_events_259466.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-15T09:13:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259466"
}
```



---

archive/issue_comments_253787.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI would prefer us to ship the unmodified upstream tarball which can be found at http://cs.anu.edu.au/~bdm/nauty/nauty25r9.tar.gz since the gain in the recompression is less than 100K, see for example #17529. I will upload a patch while ptestlong is finishing.",
    "created_at": "2015-05-15T16:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253787",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:2" align="right">comment:2</div>

I would prefer us to ship the unmodified upstream tarball which can be found at http://cs.anu.edu.au/~bdm/nauty/nauty25r9.tar.gz since the gain in the recompression is less than 100K, see for example #17529. I will upload a patch while ptestlong is finishing.



---

archive/issue_comments_253788.json:
```json
{
    "body": "Changed branch from **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)** to **[u/tmonteil/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/18425)**",
    "created_at": "2015-05-15T16:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253788",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)** to **[u/tmonteil/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/18425)**



---

archive/issue_comments_253789.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/247b6a6d17aa9db788e73ab27f5966f3c08e0666\"><code>247b6a6</code></a></td><td><code>#18425 : cd into the correct source directory.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e23db009d555c3cb3019e560ccd67bc4f5dd32de\"><code>e23db00</code></a></td><td><code>#18425 tag doctests involving nauty.</code></td></tr></table>\n",
    "created_at": "2015-05-15T21:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253789",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/247b6a6d17aa9db788e73ab27f5966f3c08e0666"><code>247b6a6</code></a></td><td><code>#18425 : cd into the correct source directory.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e23db009d555c3cb3019e560ccd67bc4f5dd32de"><code>e23db00</code></a></td><td><code>#18425 tag doctests involving nauty.</code></td></tr></table>




---

archive/issue_comments_253790.json:
```json
{
    "body": "Changed commit from **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)** to **[`e23db00`](https://github.com/sagemath/sagetrac-mirror/commit/e23db009d555c3cb3019e560ccd67bc4f5dd32de)**",
    "created_at": "2015-05-15T21:23:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253790",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)** to **[`e23db00`](https://github.com/sagemath/sagetrac-mirror/commit/e23db009d555c3cb3019e560ccd67bc4f5dd32de)**



---

archive/issue_comments_253791.json:
```json
{
    "body": "Reviewer: **Thierry Monteil**",
    "created_at": "2015-05-15T21:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253791",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Reviewer: **Thierry Monteil**



---

archive/issue_comments_253792.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI modified the install script to allow building with an unmodified tarball. Also, the `# optional - nauty` flag should be applied on a whole doctest, to allow `sage -t --optional=nauty` work (my computer is currently very slow hence i can not run with `sage -t --optional=sage,nauty` right now, only test nauty-specific doctests).\n\nTell if it is OK like that.",
    "created_at": "2015-05-15T21:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253792",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:5" align="right">comment:5</div>

I modified the install script to allow building with an unmodified tarball. Also, the `# optional - nauty` flag should be applied on a whole doctest, to allow `sage -t --optional=nauty` work (my computer is currently very slow hence i can not run with `sage -t --optional=sage,nauty` right now, only test nauty-specific doctests).

Tell if it is OK like that.



---

archive/issue_comments_253793.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57c992259a44fcd7de1889d8626b026424faa9ab\"><code>57c9922</code></a></td><td><code>#18425 : remove old gtools-h.in patch.</code></td></tr></table>\n",
    "created_at": "2015-05-15T21:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253793",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57c992259a44fcd7de1889d8626b026424faa9ab"><code>57c9922</code></a></td><td><code>#18425 : remove old gtools-h.in patch.</code></td></tr></table>




---

archive/issue_comments_253794.json:
```json
{
    "body": "Changed commit from **[`e23db00`](https://github.com/sagemath/sagetrac-mirror/commit/e23db009d555c3cb3019e560ccd67bc4f5dd32de)** to **[`57c9922`](https://github.com/sagemath/sagetrac-mirror/commit/57c992259a44fcd7de1889d8626b026424faa9ab)**",
    "created_at": "2015-05-15T21:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253794",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e23db00`](https://github.com/sagemath/sagetrac-mirror/commit/e23db009d555c3cb3019e560ccd67bc4f5dd32de)** to **[`57c9922`](https://github.com/sagemath/sagetrac-mirror/commit/57c992259a44fcd7de1889d8626b026424faa9ab)**



---

archive/issue_comments_253795.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAccording to the mercurial history of `nauty-25.spkg`, the \"patch\" (actually a file to overwrite the existing one) `gtools-h.in` was introduced in 2010 for version 2.4 of nauty in order \"to compile on Ubuntu and other systems\". Inbetween, the file `gtools-h.in` has evolved, so keeping it does not let us benefit from the evolution, hence i propose to simply remove it and test to see if some problem appears on some machines.\n\nNote that nauty builds and passes tests without the patch.",
    "created_at": "2015-05-15T21:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253795",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:7" align="right">comment:7</div>

According to the mercurial history of `nauty-25.spkg`, the "patch" (actually a file to overwrite the existing one) `gtools-h.in` was introduced in 2010 for version 2.4 of nauty in order "to compile on Ubuntu and other systems". Inbetween, the file `gtools-h.in` has evolved, so keeping it does not let us benefit from the evolution, hence i propose to simply remove it and test to see if some problem appears on some machines.

Note that nauty builds and passes tests without the patch.



---

archive/issue_comments_253796.json:
```json
{
    "body": "Changed commit from **[`57c9922`](https://github.com/sagemath/sagetrac-mirror/commit/57c992259a44fcd7de1889d8626b026424faa9ab)** to **[`34a829c`](https://github.com/sagemath/sagetrac-mirror/commit/34a829c83d7f1014daf1f74c0e05cecbf9839354)**",
    "created_at": "2015-05-15T22:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253796",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`57c9922`](https://github.com/sagemath/sagetrac-mirror/commit/57c992259a44fcd7de1889d8626b026424faa9ab)** to **[`34a829c`](https://github.com/sagemath/sagetrac-mirror/commit/34a829c83d7f1014daf1f74c0e05cecbf9839354)**



---

archive/issue_comments_253797.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34a829c83d7f1014daf1f74c0e05cecbf9839354\"><code>34a829c</code></a></td><td><code>#18425 : add a self-check file since some self-tests are available.</code></td></tr></table>\n",
    "created_at": "2015-05-15T22:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253797",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34a829c83d7f1014daf1f74c0e05cecbf9839354"><code>34a829c</code></a></td><td><code>#18425 : add a self-check file since some self-tests are available.</code></td></tr></table>




---

archive/issue_comments_253798.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/18425)** to **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)**",
    "created_at": "2015-05-16T09:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253798",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/tmonteil/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/18425)** to **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)**



---

archive/issue_comments_253799.json:
```json
{
    "body": "Changed commit from **[`34a829c`](https://github.com/sagemath/sagetrac-mirror/commit/34a829c83d7f1014daf1f74c0e05cecbf9839354)** to **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)**",
    "created_at": "2015-05-16T09:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253799",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[`34a829c`](https://github.com/sagemath/sagetrac-mirror/commit/34a829c83d7f1014daf1f74c0e05cecbf9839354)** to **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)**



---

archive/issue_comments_253800.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI disagree with the change you made to keep the original tarball. I initially did the same, then decided against it when I noticed the directory name problem that you avoided with:\n\n```\n+NAUTY_VERSION=\"$(cat ${SAGE_ROOT}/build/pkgs/nauty/package-version.txt)\"\n+SRC=\"nauty${NAUTY_VERSION}\"\n```\n\nI do not think that it is a good idea to do this, as we could very well imagine that other scripts be written that apply to the packages, and those would expect a correctly named package.\n\nFurthermore, I consider it very bad manners to go on somebody else's ticket, change the branch name and change the commits without even getting the ticket's author's agreement. Please do not do this again.\n\nI set the ticket to its original content. If you have requests to make as a reviewer, please do.\n\nNathann",
    "created_at": "2015-05-16T09:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253800",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

I disagree with the change you made to keep the original tarball. I initially did the same, then decided against it when I noticed the directory name problem that you avoided with:

```
+NAUTY_VERSION="$(cat ${SAGE_ROOT}/build/pkgs/nauty/package-version.txt)"
+SRC="nauty${NAUTY_VERSION}"
```

I do not think that it is a good idea to do this, as we could very well imagine that other scripts be written that apply to the packages, and those would expect a correctly named package.

Furthermore, I consider it very bad manners to go on somebody else's ticket, change the branch name and change the commits without even getting the ticket's author's agreement. Please do not do this again.

I set the ticket to its original content. If you have requests to make as a reviewer, please do.

Nathann



---

archive/issue_comments_253801.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nathanncohen](#comment%3A9):\n> Furthermore, I consider it very bad manners to go on somebody else's ticket, change the branch name and change the commits without even getting the ticket's author's agreement.\n\nWhat does \"Tell if it is OK like that.\" mean ?\n\nI don't understand your point at all. I did not remove your branch, i just propose some modifications for discussion. I guess in that case it is easier to propose changes that people could download to test (e.g. does nauty still work without the old patch), than asking the author of the previous commits to remove the patch themselves so that i can download their changes to see what happens. Same with requesting a spkg-check, then have to inspect it to filnally request some output parsing because it may fail silently if coded as the other similar files.\n\nI understand that trac `Branch` field is not well designed since it does not allow to show various branches, but i do not see what can i do else than `git trac push` to show the proposed modifications on the ticket.\n\nMore generally, i do not understand why the people that opens a ticket owns it, Sage is a common goods that people try to improve collectively, not a staked territory. If you want to own a ticket, please write it explicitely by fillind the related field, i will not bother you on those.",
    "created_at": "2015-05-16T10:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253801",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nathanncohen](#comment%3A9):
> Furthermore, I consider it very bad manners to go on somebody else's ticket, change the branch name and change the commits without even getting the ticket's author's agreement.

What does "Tell if it is OK like that." mean ?

I don't understand your point at all. I did not remove your branch, i just propose some modifications for discussion. I guess in that case it is easier to propose changes that people could download to test (e.g. does nauty still work without the old patch), than asking the author of the previous commits to remove the patch themselves so that i can download their changes to see what happens. Same with requesting a spkg-check, then have to inspect it to filnally request some output parsing because it may fail silently if coded as the other similar files.

I understand that trac `Branch` field is not well designed since it does not allow to show various branches, but i do not see what can i do else than `git trac push` to show the proposed modifications on the ticket.

More generally, i do not understand why the people that opens a ticket owns it, Sage is a common goods that people try to improve collectively, not a staked territory. If you want to own a ticket, please write it explicitely by fillind the related field, i will not bother you on those.



---

archive/issue_comments_253802.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n> I don't understand your point at all.\n\nIf you want to propose a commit as a reviewer, please push them on a new branch. Add a comment to tell the other guy what you did and where to find the branch, and that he can add them to the ticket's branch if he agrees.\n\n> More generally, i do not understand why the people that opens a ticket owns it,\n\nJust picture several guys talking around a table. Guy '1' has an idea, and begins to explain it. Midway, you tell him to shut up and you explain to the others what you think that his idea is. That's how I see it.\n\n> If you want to own a ticket, please write it explicitely by fillind the related field, i will not bother you on those.\n\nI did. The branch is named `u/ncohen/18425`, to which you have no write access. When I create branches to which anybody is welcome to contribute (e.g. reorganization of the doc, which cover all domains at once), I use a branch named `public/something`.\n\nNathann",
    "created_at": "2015-05-16T10:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253802",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

> I don't understand your point at all.

If you want to propose a commit as a reviewer, please push them on a new branch. Add a comment to tell the other guy what you did and where to find the branch, and that he can add them to the ticket's branch if he agrees.

> More generally, i do not understand why the people that opens a ticket owns it,

Just picture several guys talking around a table. Guy '1' has an idea, and begins to explain it. Midway, you tell him to shut up and you explain to the others what you think that his idea is. That's how I see it.

> If you want to own a ticket, please write it explicitely by fillind the related field, i will not bother you on those.

I did. The branch is named `u/ncohen/18425`, to which you have no write access. When I create branches to which anybody is welcome to contribute (e.g. reorganization of the doc, which cover all domains at once), I use a branch named `public/something`.

Nathann



---

archive/issue_comments_253803.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nCan someone explain to me why all the installed programs have been prefixed with `nauty-`. What's the big idea? Does it clash with something? If you cannot justify it, I will remove it and patch every place that call a `nauty-*` program (and I already know where those are) as a review.",
    "created_at": "2015-05-16T20:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253803",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

Can someone explain to me why all the installed programs have been prefixed with `nauty-`. What's the big idea? Does it clash with something? If you cannot justify it, I will remove it and patch every place that call a `nauty-*` program (and I already know where those are) as a review.



---

archive/issue_comments_253804.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nprobably because the executables' names are not very meaningful if you don't know that they are nauty routines? I don't see any objection to the removal of that 'nauty-' in front of them, but then they should probably be in a nauty subfolder.\n\nNathann",
    "created_at": "2015-05-16T20:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253804",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">comment:13</div>

probably because the executables' names are not very meaningful if you don't know that they are nauty routines? I don't see any objection to the removal of that 'nauty-' in front of them, but then they should probably be in a nauty subfolder.

Nathann



---

archive/issue_comments_253805.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nVery little is meaningful if you don't know what it is in advance on a unix system. I don't see why `nauty` routines should have a special treatment.",
    "created_at": "2015-05-16T20:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253805",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:14" align="right">comment:14</div>

Very little is meaningful if you don't know what it is in advance on a unix system. I don't see why `nauty` routines should have a special treatment.



---

archive/issue_comments_253806.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n> Very little is meaningful if you don't know what it is in advance on a unix system. I don't see why `nauty` routines should have a special treatment. \n\nSooo... your goal is to lose information for the sake of consistency?",
    "created_at": "2015-05-16T20:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253806",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

> Very little is meaningful if you don't know what it is in advance on a unix system. I don't see why `nauty` routines should have a special treatment. 

Sooo... your goal is to lose information for the sake of consistency?



---

archive/issue_comments_253807.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThere are two points:\n 1) if you would like the shipped binaries to be prefixed like other nice software like sage, complain upstream\n 2) if the information you are worried about is the content of the nauty package, its binaries in particular, that's a defect of the sage packaging system that it doesn't have a database of the files installed by its various packages. This is a more advanced feature that has always been out of scope.\n\nAnd about consistency, it is actually a good thing. Suppose that someone has some program or script that uses `nauty` and wants to use them in sage. I think they will be surprised when their scripts/programs don't work out of the box after installing sage's nauty package. It may actually take them time to figure out that they have to prefix everything.\n\nAdding a prefix specifically in sage goes against the principle of least surprise because you modify what is expected from upstream. The only case where it is justified is a clash in name (in which case it is proper to involve both upstreams if possible).",
    "created_at": "2015-05-16T20:59:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253807",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:16" align="right">comment:16</div>

There are two points:
 1) if you would like the shipped binaries to be prefixed like other nice software like sage, complain upstream
 2) if the information you are worried about is the content of the nauty package, its binaries in particular, that's a defect of the sage packaging system that it doesn't have a database of the files installed by its various packages. This is a more advanced feature that has always been out of scope.

And about consistency, it is actually a good thing. Suppose that someone has some program or script that uses `nauty` and wants to use them in sage. I think they will be surprised when their scripts/programs don't work out of the box after installing sage's nauty package. It may actually take them time to figure out that they have to prefix everything.

Adding a prefix specifically in sage goes against the principle of least surprise because you modify what is expected from upstream. The only case where it is justified is a clash in name (in which case it is proper to involve both upstreams if possible).



---

archive/issue_comments_253808.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAnd unfortunately for my last argument because `nauty` has been in sage prefixed for so long, we may have old user expecting it prefixed. So now we need to have both prefixed and non prefixed binaries. At the minimum the prefixed one should link to the non-prefixed ones. Better would be to have the prefixed one link to a wrapper that would execute the appropriate binary and output a deprecation message. But we shouldn't use prefixed version in sage in the future.",
    "created_at": "2015-05-16T22:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253808",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

And unfortunately for my last argument because `nauty` has been in sage prefixed for so long, we may have old user expecting it prefixed. So now we need to have both prefixed and non prefixed binaries. At the minimum the prefixed one should link to the non-prefixed ones. Better would be to have the prefixed one link to a wrapper that would execute the appropriate binary and output a deprecation message. But we shouldn't use prefixed version in sage in the future.



---

archive/issue_comments_253809.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI still believe that a nauty/ folder would respect the original filenames wihout being less informative. If you must do these changes, however, please open a ticket depending on this one.\n\nI only want to make nauty a new-style package because Thierry needed one.\n\nNathann",
    "created_at": "2015-05-17T06:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253809",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

I still believe that a nauty/ folder would respect the original filenames wihout being less informative. If you must do these changes, however, please open a ticket depending on this one.

I only want to make nauty a new-style package because Thierry needed one.

Nathann



---

archive/issue_comments_253810.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI accept to do it in a separate ticket once this is one done.",
    "created_at": "2015-05-17T06:39:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253810",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">comment:19</div>

I accept to do it in a separate ticket once this is one done.



---

archive/issue_comments_253811.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nUse `patch` to patch packages instead of copying files.",
    "created_at": "2015-05-18T07:11:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253811",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Use `patch` to patch packages instead of copying files.



---

archive/issue_events_259467.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-18T07:11:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259467"
}
```



---

archive/issue_events_259468.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-18T07:11:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259468"
}
```



---

archive/issue_comments_253812.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAlso, the license should be clarified: it's not just a military restriction:\n\n```\n*   Nauty is copyright (1984-2013) Brendan McKay.  All rights reserved.      *\n*   Permission \n*   is hereby given for use and/or distribution with the exception of        *\n*   sale for profit or application with nontrivial military significance.    *\n*   You must not remove this copyright notice, and you must document any     *\n*   changes that you make to this program.                                   *\n*   This software is subject to this copyright only, irrespective of         *\n*   any copyright attached to any package of which this is a part.           *\n*                                                                            *\n*   This program is only provided \"as is\".  No responsibility will be taken  *\n*   by the author, his employer or his pet rabbit* for any misfortune which  *\n*   befalls you because of its use.  I don't think it will delete all your   *\n*   files, burn down your computer room or turn your children against you,   *\n*   but if it does: stiff cheddar.  On the other hand, I very much welcome   *\n*   bug reports, or at least I would if there were any bugs.                 *\n*                                                       * RIP, 1989          *\n*   Traces is copyright Adolfo Piperno (2011-).                              *\n```",
    "created_at": "2015-05-18T07:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253812",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Also, the license should be clarified: it's not just a military restriction:

```
*   Nauty is copyright (1984-2013) Brendan McKay.  All rights reserved.      *
*   Permission 
*   is hereby given for use and/or distribution with the exception of        *
*   sale for profit or application with nontrivial military significance.    *
*   You must not remove this copyright notice, and you must document any     *
*   changes that you make to this program.                                   *
*   This software is subject to this copyright only, irrespective of         *
*   any copyright attached to any package of which this is a part.           *
*                                                                            *
*   This program is only provided "as is".  No responsibility will be taken  *
*   by the author, his employer or his pet rabbit* for any misfortune which  *
*   befalls you because of its use.  I don't think it will delete all your   *
*   files, burn down your computer room or turn your children against you,   *
*   but if it does: stiff cheddar.  On the other hand, I very much welcome   *
*   bug reports, or at least I would if there were any bugs.                 *
*                                                       * RIP, 1989          *
*   Traces is copyright Adolfo Piperno (2011-).                              *
```



---

archive/issue_comments_253813.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nUse `$MAKE` instead of `make`.",
    "created_at": "2015-05-18T07:14:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253813",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Use `$MAKE` instead of `make`.



---

archive/issue_comments_253814.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI also agree that the prefixing is bad: just install stuff as-is in `$SAGE_LOCAL/bin`.",
    "created_at": "2015-05-18T07:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253814",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

I also agree that the prefixing is bad: just install stuff as-is in `$SAGE_LOCAL/bin`.



---

archive/issue_comments_253815.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThen a final minor thing: it's best if you use indents of 4 spaces also in shell scripts.",
    "created_at": "2015-05-18T07:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253815",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Then a final minor thing: it's best if you use indents of 4 spaces also in shell scripts.



---

archive/issue_comments_253816.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdb6e6a13f43cd7cc6125fbd2f0008f266b3a8e9\"><code>cdb6e6a</code></a></td><td><code>trac #18425: Merged with 6.7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb3432b3864ebc39f5a0522e3d9af7f57f951034\"><code>eb3432b</code></a></td><td><code>trac #18425: License</code></td></tr></table>\n",
    "created_at": "2015-05-18T12:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253816",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdb6e6a13f43cd7cc6125fbd2f0008f266b3a8e9"><code>cdb6e6a</code></a></td><td><code>trac #18425: Merged with 6.7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb3432b3864ebc39f5a0522e3d9af7f57f951034"><code>eb3432b</code></a></td><td><code>trac #18425: License</code></td></tr></table>




---

archive/issue_comments_253817.json:
```json
{
    "body": "Changed commit from **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)** to **[`eb3432b`](https://github.com/sagemath/sagetrac-mirror/commit/eb3432b3864ebc39f5a0522e3d9af7f57f951034)**",
    "created_at": "2015-05-18T12:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253817",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c2d4c89`](https://github.com/sagemath/sagetrac-mirror/commit/c2d4c898e6cfab4e1e6f8cf88eb11d39d9ebbbb1)** to **[`eb3432b`](https://github.com/sagemath/sagetrac-mirror/commit/eb3432b3864ebc39f5a0522e3d9af7f57f951034)**



---

archive/issue_comments_253818.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI added a commit that updates the \"license\" section of `SPKG.txt` in a more faithful way.\n\nThis being said, I opened this ticket to turn the old spkg into a new-style package, and this is what it does: nothing more. If you have style issues related to tabulations, `$MAKE` instead of `make` or the name of packages I obviously cannot blame you, but please do not abuse your position as a reviewer to make me implement them for you.\n\nThis ticket addresses and problem and fixes it. If you see something wrong which I did not introduce, add a commit or open a ticket.\n\nNathann",
    "created_at": "2015-05-18T12:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253818",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:26" align="right">comment:26</div>

I added a commit that updates the "license" section of `SPKG.txt` in a more faithful way.

This being said, I opened this ticket to turn the old spkg into a new-style package, and this is what it does: nothing more. If you have style issues related to tabulations, `$MAKE` instead of `make` or the name of packages I obviously cannot blame you, but please do not abuse your position as a reviewer to make me implement them for you.

This ticket addresses and problem and fixes it. If you see something wrong which I did not introduce, add a commit or open a ticket.

Nathann



---

archive/issue_events_259469.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-18T12:27:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259469"
}
```



---

archive/issue_events_259470.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-18T12:27:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259470"
}
```



---

archive/issue_events_259471.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-18T12:59:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259471"
}
```



---

archive/issue_events_259472.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-18T12:59:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259472"
}
```



---

archive/issue_comments_253819.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThese two statements are inconsistent:\n\n> I opened this ticket to turn the old spkg into a new-style package, and this is what it does: nothing more.\n\n> The code is also updated to the latest release.\n\nNow which one is true? (if the second is true, I certainly have some right to complain about `spkg-install`, especially the patching)",
    "created_at": "2015-05-18T12:59:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253819",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

These two statements are inconsistent:

> I opened this ticket to turn the old spkg into a new-style package, and this is what it does: nothing more.

> The code is also updated to the latest release.

Now which one is true? (if the second is true, I certainly have some right to complain about `spkg-install`, especially the patching)



---

archive/issue_comments_253820.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n> Now which one is true?\n\nThe tarball contains the latest release. That does not involve anything related to the branch. The patching is what the current spkg does.\n\n> (if the second is true, I certainly have some right to complain about `spkg-install`, especially the patching)\n\nYou certainly have the right to complain. You can also add a commit if that bothers you.\n\nNathann",
    "created_at": "2015-05-18T13:11:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253820",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

> Now which one is true?

The tarball contains the latest release. That does not involve anything related to the branch. The patching is what the current spkg does.

> (if the second is true, I certainly have some right to complain about `spkg-install`, especially the patching)

You certainly have the right to complain. You can also add a commit if that bothers you.

Nathann



---

archive/issue_events_259473.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-18T13:11:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259473"
}
```



---

archive/issue_events_259474.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-18T13:11:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259474"
}
```



---

archive/issue_comments_253821.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@nathanncohen](#comment%3A11):\n> > I don't understand your point at all.\n\n> \n> If you want to propose a commit as a reviewer, please push them on a new branch.\n\nThis is precisely what i did, i created `u/tmonteil/18425`. I did not touch the branch `u/ncohen/18425`, it is still here, unmodified.\n\n> Add a comment to tell the other guy what you did and where to find the branch, and that he can add them to the ticket's branch if he agrees.\n\nAgain, which word didn't you understand in \"Tell if it is OK like that.\" ?\n\nI still do not get your point about detached branches, there is zero benefits from detached branches over attached ones provided by `git trac push`. The `git trac push` command pushes the branch to git and let trac know about this, this is why both git and trac are on the same host, so that there is an additional information that links a branch to a particular ticket. The branch `u/tmonteil/18425` is about this ticket, so `git trac push` let trac know about it. In particular, the commits and their description will appear on the trac ticket as cliquable links so that people regisered on the ticket will know about it, and anyone can easily browse them. Please read http://doc.sagemath.org/html/en/developer/git_trac.html\n\n> > More generally, i do not understand why the people that opens a ticket owns it,\n\n> \n> Just picture several guys talking around a table. Guy '1' has an idea, and begins to explain it. Midway, you tell him to shut up and you explain to the others what you think that his idea is. That's how I see it.\n\n\nI am very sorry about your interpretation, here is how things happened actually:\n\n- we were discussing the opportunity to remove the old-stlye bitrotting spkgs, and the difficulty to know which of them could be safely removed, and i was mentioning that nauty was the only one that i still use to build Sage Debian Live,\n- you asked me to send you nauty-25.spkg because you could not find it elsewhere,\n- i looked for it, and find it on the remote server that was used to build SDL and sent you the file,\n- you copy/paste its content into a commit on this ticket without looking further, set the ticket to needs_review and added myself and four other people in CC.\n\nSo, what picture talking around a table should i interpret with what happened ?\n\n1. you put a raw copy of an old unmaintained spkg on the git to move the process from discussion to action, and added all of us in CC so that we could work together on the migration, since Sage has some coding standards that were not satisfied by the bitrotting sage-25.spkg.\n\n2. you did not read the developer manual and are not able to write packages stasfying medium standards, you do not care if custom files coming from an older version of the package (2.4) overwrite the newer ones, you do not care to implement self-tests while they exist, you consider the raw copy/paste as a perfectly valid commit ready for review.\n\n3. you knows all those standards very well, but prefers the other to do all the checks during the review, but at the same time require them not to implement the changes on the ticket, but on an hidden branch.\n\nI am very sorry that i interpreted what happened in the first constructive collective way and could not even think of some other possibilities, i will be far more careful next time and think that 2. or 3. could happen, but then my comment would have been \"please do not waste reviewer's time by letting far-below-standards packaging into needs_rewiew\". Or perhaps should i open a new ticket with the same purpose and a cleaner package so that the territories are respected ?",
    "created_at": "2015-05-18T17:16:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253821",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@nathanncohen](#comment%3A11):
> > I don't understand your point at all.

> 
> If you want to propose a commit as a reviewer, please push them on a new branch.

This is precisely what i did, i created `u/tmonteil/18425`. I did not touch the branch `u/ncohen/18425`, it is still here, unmodified.

> Add a comment to tell the other guy what you did and where to find the branch, and that he can add them to the ticket's branch if he agrees.

Again, which word didn't you understand in "Tell if it is OK like that." ?

I still do not get your point about detached branches, there is zero benefits from detached branches over attached ones provided by `git trac push`. The `git trac push` command pushes the branch to git and let trac know about this, this is why both git and trac are on the same host, so that there is an additional information that links a branch to a particular ticket. The branch `u/tmonteil/18425` is about this ticket, so `git trac push` let trac know about it. In particular, the commits and their description will appear on the trac ticket as cliquable links so that people regisered on the ticket will know about it, and anyone can easily browse them. Please read http://doc.sagemath.org/html/en/developer/git_trac.html

> > More generally, i do not understand why the people that opens a ticket owns it,

> 
> Just picture several guys talking around a table. Guy '1' has an idea, and begins to explain it. Midway, you tell him to shut up and you explain to the others what you think that his idea is. That's how I see it.


I am very sorry about your interpretation, here is how things happened actually:

- we were discussing the opportunity to remove the old-stlye bitrotting spkgs, and the difficulty to know which of them could be safely removed, and i was mentioning that nauty was the only one that i still use to build Sage Debian Live,
- you asked me to send you nauty-25.spkg because you could not find it elsewhere,
- i looked for it, and find it on the remote server that was used to build SDL and sent you the file,
- you copy/paste its content into a commit on this ticket without looking further, set the ticket to needs_review and added myself and four other people in CC.

So, what picture talking around a table should i interpret with what happened ?

1. you put a raw copy of an old unmaintained spkg on the git to move the process from discussion to action, and added all of us in CC so that we could work together on the migration, since Sage has some coding standards that were not satisfied by the bitrotting sage-25.spkg.

2. you did not read the developer manual and are not able to write packages stasfying medium standards, you do not care if custom files coming from an older version of the package (2.4) overwrite the newer ones, you do not care to implement self-tests while they exist, you consider the raw copy/paste as a perfectly valid commit ready for review.

3. you knows all those standards very well, but prefers the other to do all the checks during the review, but at the same time require them not to implement the changes on the ticket, but on an hidden branch.

I am very sorry that i interpreted what happened in the first constructive collective way and could not even think of some other possibilities, i will be far more careful next time and think that 2. or 3. could happen, but then my comment would have been "please do not waste reviewer's time by letting far-below-standards packaging into needs_rewiew". Or perhaps should i open a new ticket with the same purpose and a cleaner package so that the territories are respected ?



---

archive/issue_comments_253822.json:
```json
{
    "body": "Changed author from **Nathann Cohen** to none",
    "created_at": "2015-05-18T17:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253822",
    "user": "https://github.com/nathanncohen"
}
```

Changed author from **Nathann Cohen** to none



---

archive/issue_comments_253823.json:
```json
{
    "body": "Changed commit from **[`eb3432b`](https://github.com/sagemath/sagetrac-mirror/commit/eb3432b3864ebc39f5a0522e3d9af7f57f951034)** to none",
    "created_at": "2015-05-18T17:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253823",
    "user": "https://github.com/nathanncohen"
}
```

Changed commit from **[`eb3432b`](https://github.com/sagemath/sagetrac-mirror/commit/eb3432b3864ebc39f5a0522e3d9af7f57f951034)** to none



---

archive/issue_comments_253824.json:
```json
{
    "body": "Changed branch from **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)** to none",
    "created_at": "2015-05-18T17:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253824",
    "user": "https://github.com/nathanncohen"
}
```

Changed branch from **[u/ncohen/18425](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18425)** to none



---

archive/issue_comments_253825.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOkay guys. This ticket is yours, I am out. I just wanted to help, but this is getting very out-of-hands for an initially straightforward change.\n\nNathann",
    "created_at": "2015-05-18T17:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253825",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:31" align="right">comment:31</div>

Okay guys. This ticket is yours, I am out. I just wanted to help, but this is getting very out-of-hands for an initially straightforward change.

Nathann



---

archive/issue_events_259475.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-18T17:23:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259475"
}
```



---

archive/issue_events_259476.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-05-18T17:23:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259476"
}
```



---

archive/issue_comments_253826.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nOK, Nathann took his marbles (literally) and walked away. While the package obviously needed some love I was partisan not to alienate him. But never mind I will re-start off from Thierry's branch.",
    "created_at": "2015-05-19T02:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253826",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

OK, Nathann took his marbles (literally) and walked away. While the package obviously needed some love I was partisan not to alienate him. But never mind I will re-start off from Thierry's branch.



---

archive/issue_events_259477.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-05-19T04:58:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259477"
}
```



---

archive/issue_events_259478.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-05-19T04:58:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259478"
}
```



---

archive/issue_comments_253827.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nNew branch but same tarball. Upstream tarball unfortunately has the bad taste of not having a `-` between the name and the version number which confuses `sage-fix-pkg-cheksums`. So I used the repackaged tarball. I am quite open to improvement in this area. I used `$MAKE` and removed the prefix from the binaries. Inserted a few comments in `spkg-install` and checked it passed its own tests.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d65e79967a8e5f547f3fd5fc0250e18d37d5a8f3\"><code>d65e799</code></a></td><td><code>Initial import of nauty as a new style spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8ead70b82394d24adf01a6c1b8f96a04d53795e\"><code>e8ead70</code></a></td><td><code>removing the nauty- prefix from the calls to nauty binaries.</code></td></tr></table>\n",
    "created_at": "2015-05-19T04:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253827",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:33" align="right">comment:33</div>

New branch but same tarball. Upstream tarball unfortunately has the bad taste of not having a `-` between the name and the version number which confuses `sage-fix-pkg-cheksums`. So I used the repackaged tarball. I am quite open to improvement in this area. I used `$MAKE` and removed the prefix from the binaries. Inserted a few comments in `spkg-install` and checked it passed its own tests.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d65e79967a8e5f547f3fd5fc0250e18d37d5a8f3"><code>d65e799</code></a></td><td><code>Initial import of nauty as a new style spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8ead70b82394d24adf01a6c1b8f96a04d53795e"><code>e8ead70</code></a></td><td><code>removing the nauty- prefix from the calls to nauty binaries.</code></td></tr></table>




---

archive/issue_comments_253828.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2015-05-19T04:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253828",
    "user": "https://github.com/kiwifb"
}
```

Author: **Fran√ßois Bissey**



---

archive/issue_comments_253829.json:
```json
{
    "body": "Commit: **[`e8ead70`](https://github.com/sagemath/sagetrac-mirror/commit/e8ead70b82394d24adf01a6c1b8f96a04d53795e)**",
    "created_at": "2015-05-19T04:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253829",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[`e8ead70`](https://github.com/sagemath/sagetrac-mirror/commit/e8ead70b82394d24adf01a6c1b8f96a04d53795e)**



---

archive/issue_comments_253830.json:
```json
{
    "body": "Branch: **[u/fbissey/trac18425](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/trac18425)**",
    "created_at": "2015-05-19T04:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253830",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/trac18425](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/trac18425)**



---

archive/issue_comments_253831.json:
```json
{
    "body": "Changed author from **Fran\u00e7ois Bissey** to **Fran\u00e7ois Bissey, Thierry Monteil**",
    "created_at": "2015-05-19T08:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253831",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed author from **Fran√ßois Bissey** to **Fran√ßois Bissey, Thierry Monteil**



---

archive/issue_events_259479.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-05-19T08:46:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259479"
}
```



---

archive/issue_events_259480.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-05-19T08:46:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259480"
}
```



---

archive/issue_comments_253832.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI don't know how you did to import my branch (e.g. `self-check`), but you forgot commit `e23db009d555c3cb3019e560ccd67bc4f5dd32de` that adds a missing `# optional - nauty` so that we can do `sage -t --optional=nauty`.\n\nConcerning upstream tarball, the less we touch upstream source, the best it is. Here, we have the possibility to keep it intact (as done in `247b6a6d17aa9db788e73ab27f5966f3c08e0666`). It is much less intrusive to just rename `nauty25r9.tar.gz` into `nauty-25r9.tar.gz` (the file itself is untouched and we get the same hash than upstream) than to unpack it, change internal directory, and recompress it (which should require an additional `spkg-src`). See http://doc.sagemath.org/html/en/developer/packaging.html#modified-tarballs",
    "created_at": "2015-05-19T08:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253832",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:34" align="right">comment:34</div>

I don't know how you did to import my branch (e.g. `self-check`), but you forgot commit `e23db009d555c3cb3019e560ccd67bc4f5dd32de` that adds a missing `# optional - nauty` so that we can do `sage -t --optional=nauty`.

Concerning upstream tarball, the less we touch upstream source, the best it is. Here, we have the possibility to keep it intact (as done in `247b6a6d17aa9db788e73ab27f5966f3c08e0666`). It is much less intrusive to just rename `nauty25r9.tar.gz` into `nauty-25r9.tar.gz` (the file itself is untouched and we get the same hash than upstream) than to unpack it, change internal directory, and recompress it (which should require an additional `spkg-src`). See http://doc.sagemath.org/html/en/developer/packaging.html#modified-tarballs



---

archive/issue_comments_253833.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@sagetrac-tmonteil](#comment%3A34):\n> so that we can do `sage -t --optional=nauty`.\n\nWhy would you want to do that? I disagree with adding `# optional` tags unless strictly required.",
    "created_at": "2015-05-19T08:48:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253833",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@sagetrac-tmonteil](#comment%3A34):
> so that we can do `sage -t --optional=nauty`.

Why would you want to do that? I disagree with adding `# optional` tags unless strictly required.



---

archive/issue_comments_253834.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@kiwifb](#comment%3A33):\n> I used `$MAKE`\n\nYou should do this also in `spkg-check`.",
    "created_at": "2015-05-19T08:52:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253834",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@kiwifb](#comment%3A33):
> I used `$MAKE`

You should do this also in `spkg-check`.



---

archive/issue_comments_253835.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nYou are right about the re-packing. It would need a spkg-src, a renaming probably can just be a mention in `SPKG.txt`.\n\nI cannot believe I left a `make` out there. I guess I was annoyed by something else will I was finishing the branch.",
    "created_at": "2015-05-19T08:55:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253835",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

You are right about the re-packing. It would need a spkg-src, a renaming probably can just be a mention in `SPKG.txt`.

I cannot believe I left a `make` out there. I guess I was annoyed by something else will I was finishing the branch.



---

archive/issue_comments_253836.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nShell tip: instead of running `runalltests` and parsing the output, you can instead `source ./runalltests` and just read the variable `$fails`.",
    "created_at": "2015-05-19T09:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253836",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

Shell tip: instead of running `runalltests` and parsing the output, you can instead `source ./runalltests` and just read the variable `$fails`.



---

archive/issue_comments_253837.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nAnd in `spkg-check`, this can be removed:\n\n```\necho \"Tests suite for nauty passed without errors.\"\nexit 0\n```",
    "created_at": "2015-05-19T09:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253837",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

And in `spkg-check`, this can be removed:

```
echo "Tests suite for nauty passed without errors."
exit 0
```



---

archive/issue_comments_253838.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nFor installing, I would use `cp -p` instead of plain `cp`.",
    "created_at": "2015-05-19T09:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253838",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

For installing, I would use `cp -p` instead of plain `cp`.



---

archive/issue_comments_253839.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n@sagetrac-tmonteil I did some copying to rebase stuff on top of 6.7 quick and dirty and I completely missed that you touched other files. I am not quite sure how to see the details of that commit from the command line.\n\n@jdemeyer I'll have a quick look to see if I can add an install target, that would care of the permissions.",
    "created_at": "2015-05-19T09:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253839",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:41" align="right">comment:41</div>

@sagetrac-tmonteil I did some copying to rebase stuff on top of 6.7 quick and dirty and I completely missed that you touched other files. I am not quite sure how to see the details of that commit from the command line.

@jdemeyer I'll have a quick look to see if I can add an install target, that would care of the permissions.



---

archive/issue_comments_253840.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThat's all my comments for now. If you make the edits, I will do a final review.\n\nAnd I don't care much about renaming/repacking/changing the tarball, just document what you did.",
    "created_at": "2015-05-19T09:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253840",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

That's all my comments for now. If you make the edits, I will do a final review.

And I don't care much about renaming/repacking/changing the tarball, just document what you did.



---

archive/issue_comments_253841.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@kiwifb](#comment%3A41):\n> @jdemeyer I'll have a quick look to see if I can add an install target, that would care of the permissions.\n\nI don't think that's needed, just copying with `cp -p` in `spkg-install` should work.",
    "created_at": "2015-05-19T09:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253841",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@kiwifb](#comment%3A41):
> @jdemeyer I'll have a quick look to see if I can add an install target, that would care of the permissions.

I don't think that's needed, just copying with `cp -p` in `spkg-install` should work.



---

archive/issue_comments_253842.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nAnd should I do something to put it in conformance with #18431?",
    "created_at": "2015-05-19T09:18:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253842",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:44" align="right">comment:44</div>

And should I do something to put it in conformance with #18431?



---

archive/issue_comments_253843.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@kiwifb](#comment%3A44):\n> And should I do something to put it in conformance with #18431?\n\nAh yes, I think you need to add a file `build/pkgs/nauty/type` containing `optional` (although this might not be strictly required)",
    "created_at": "2015-05-19T09:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253843",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@kiwifb](#comment%3A44):
> And should I do something to put it in conformance with #18431?

Ah yes, I think you need to add a file `build/pkgs/nauty/type` containing `optional` (although this might not be strictly required)



---

archive/issue_comments_253844.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d4e4207a30ab51b83b7fdf9968e1a7385508d9f\"><code>0d4e420</code></a></td><td><code>Incorporated all of Jeroen's comment. Reverted to a renamed upstream tarball and documented packaging.</code></td></tr></table>\n",
    "created_at": "2015-05-19T09:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253844",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d4e4207a30ab51b83b7fdf9968e1a7385508d9f"><code>0d4e420</code></a></td><td><code>Incorporated all of Jeroen's comment. Reverted to a renamed upstream tarball and documented packaging.</code></td></tr></table>




---

archive/issue_comments_253845.json:
```json
{
    "body": "Changed commit from **[`e8ead70`](https://github.com/sagemath/sagetrac-mirror/commit/e8ead70b82394d24adf01a6c1b8f96a04d53795e)** to **[`0d4e420`](https://github.com/sagemath/sagetrac-mirror/commit/0d4e4207a30ab51b83b7fdf9968e1a7385508d9f)**",
    "created_at": "2015-05-19T09:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253845",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8ead70`](https://github.com/sagemath/sagetrac-mirror/commit/e8ead70b82394d24adf01a6c1b8f96a04d53795e)** to **[`0d4e420`](https://github.com/sagemath/sagetrac-mirror/commit/0d4e4207a30ab51b83b7fdf9968e1a7385508d9f)**



---

archive/issue_events_259481.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-05-19T09:59:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259481"
}
```



---

archive/issue_events_259482.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-05-19T09:59:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259482"
}
```



---

archive/issue_comments_253846.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,4 @@\n-This branch creates a new-style nauty package from the latest spkg. The code is also updated to the latest release.\n+New style spkg for Nauty. The code has been updated to the latest upstream version available.\n \n-Nathann\n-\n-http://www.steinertriples.fr/ncohen/tmp/nauty-25r9.tar.bz2\n+Renamed upstream tarball\n+http://www.lmona.de/files/sage/nauty-25r9.tar.gz\n``````\n",
    "created_at": "2015-05-19T09:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253846",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,4 @@
-This branch creates a new-style nauty package from the latest spkg. The code is also updated to the latest release.
+New style spkg for Nauty. The code has been updated to the latest upstream version available.
 
-Nathann
-
-http://www.steinertriples.fr/ncohen/tmp/nauty-25r9.tar.bz2
+Renamed upstream tarball
+http://www.lmona.de/files/sage/nauty-25r9.tar.gz
``````




---

archive/issue_comments_253847.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplace the arcane `cd $SRC` stuff by a much simpler `cd nauty*`.\n\nAnd `$SAGE_LOCAL` -> `\"$SAGE_LOCAL\"` in shell scripts.",
    "created_at": "2015-05-19T10:11:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253847",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

Replace the arcane `cd $SRC` stuff by a much simpler `cd nauty*`.

And `$SAGE_LOCAL` -> `"$SAGE_LOCAL"` in shell scripts.



---

archive/issue_comments_253848.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nAnd obviously, this comment needs updating:\n\n```\n# Unfortunately, runalltests script does not exit with a nonzero status if some\n# tests failed, so we parse the last line of the log to decide whether all\n# tests passed or not, in order to exit with the correct status.\n```",
    "created_at": "2015-05-19T10:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253848",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

And obviously, this comment needs updating:

```
# Unfortunately, runalltests script does not exit with a nonzero status if some
# tests failed, so we parse the last line of the log to decide whether all
# tests passed or not, in order to exit with the correct status.
```



---

archive/issue_comments_253849.json:
```json
{
    "body": "Changed reviewer from **Thierry Monteil** to **Thierry Monteil, Jeroen Demeyer**",
    "created_at": "2015-05-19T10:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253849",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Thierry Monteil** to **Thierry Monteil, Jeroen Demeyer**



---

archive/issue_events_259483.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T10:18:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259483"
}
```



---

archive/issue_events_259484.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T10:18:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259484"
}
```



---

archive/issue_comments_253850.json:
```json
{
    "body": "Changed commit from **[`0d4e420`](https://github.com/sagemath/sagetrac-mirror/commit/0d4e4207a30ab51b83b7fdf9968e1a7385508d9f)** to **[`032648d`](https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95)**",
    "created_at": "2015-05-19T10:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253850",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0d4e420`](https://github.com/sagemath/sagetrac-mirror/commit/0d4e4207a30ab51b83b7fdf9968e1a7385508d9f)** to **[`032648d`](https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95)**



---

archive/issue_comments_253851.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95\"><code>032648d</code></a></td><td><code>Further simplification and sliming</code></td></tr></table>\n",
    "created_at": "2015-05-19T10:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253851",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95"><code>032648d</code></a></td><td><code>Further simplification and sliming</code></td></tr></table>




---

archive/issue_comments_253852.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@sagetrac-git](#comment%3A51):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95\"><code>032648d</code></a></td><td><code>Further simplification and sliming</code></td></tr></table>\n\nsliming???",
    "created_at": "2015-05-19T10:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253852",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@sagetrac-git](#comment%3A51):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95"><code>032648d</code></a></td><td><code>Further simplification and sliming</code></td></tr></table>

sliming???



---

archive/issue_comments_253853.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb\"><code>42404ed</code></a></td><td><code>Put some comments back in spkg-check</code></td></tr></table>\n",
    "created_at": "2015-05-19T10:26:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253853",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb"><code>42404ed</code></a></td><td><code>Put some comments back in spkg-check</code></td></tr></table>




---

archive/issue_comments_253854.json:
```json
{
    "body": "Changed commit from **[`032648d`](https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95)** to **[`42404ed`](https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb)**",
    "created_at": "2015-05-19T10:26:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253854",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`032648d`](https://github.com/sagemath/sagetrac-mirror/commit/032648d0008a1f81181f9c5900e4e546a1f83a95)** to **[`42404ed`](https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb)**



---

archive/issue_comments_253855.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI'd say that was too much sliming :) - OK I'll remember that should be slimming for next time (may be, I have always been terrible at spelling).\n\nI didn't know you could do the `cd nauty*` thing.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb\"><code>42404ed</code></a></td><td><code>Put some comments back in spkg-check</code></td></tr></table>\n",
    "created_at": "2015-05-19T10:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253855",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:54" align="right">comment:54</div>

I'd say that was too much sliming :) - OK I'll remember that should be slimming for next time (may be, I have always been terrible at spelling).

I didn't know you could do the `cd nauty*` thing.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb"><code>42404ed</code></a></td><td><code>Put some comments back in spkg-check</code></td></tr></table>




---

archive/issue_events_259485.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-05-19T10:31:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259485"
}
```



---

archive/issue_events_259486.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2015-05-19T10:31:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259486"
}
```



---

archive/issue_events_259487.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T11:57:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259487"
}
```



---

archive/issue_events_259488.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-05-19T11:57:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259488"
}
```



---

archive/issue_events_259489.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-19T22:07:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259489"
}
```



---

archive/issue_events_259490.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c45274eb56cb78790d5a4ffcc033191f5ef38cc1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-05-19T22:07:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18425#event-259490"
}
```



---

archive/issue_comments_253856.json:
```json
{
    "body": "Changed branch from **[u/fbissey/trac18425](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/trac18425)** to **[`42404ed`](https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb)**",
    "created_at": "2015-05-19T22:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18425",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18425#issuecomment-253856",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/trac18425](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/trac18425)** to **[`42404ed`](https://github.com/sagemath/sagetrac-mirror/commit/42404ed0991dbc67bab2eeaf80925c02204c61fb)**
