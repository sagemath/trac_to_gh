# Issue 18911: Doctest failure in LocalMcLaughlinGraph

archive/issues_018674.json:
```json
{
    "assignees": [],
    "body": "Obvious failure introduced in #18782:\n\n```\n**********************************************************************\nFile \"src/sage/graphs/generators/smallgraphs.py\", line 3453, in sage.graphs.generators.smallgraphs.LocalMcLaughlinGraph\nFailed example:\n    g = graphs.LocalMcLaughlinGraph(); g   # long time # optional - gap_packages\nExpected nothing\nGot:\n    Local McLaughlin Graph: Graph on 162 vertices\n**********************************************************************\n```\n\nCC:  @nathanncohen @dcoudert\n\nBranch/Commit: **[05a2e41](https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18911_\n\n",
    "closed_at": "2015-07-16T22:51:11Z",
    "created_at": "2015-07-16T13:11:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Doctest failure in LocalMcLaughlinGraph",
    "type": "issue",
    "updated_at": "2015-07-16T22:51:11Z",
    "url": "https://github.com/sagemath/sage/issues/18911",
    "user": "https://github.com/jdemeyer"
}
```
Obvious failure introduced in #18782:

```
**********************************************************************
File "src/sage/graphs/generators/smallgraphs.py", line 3453, in sage.graphs.generators.smallgraphs.LocalMcLaughlinGraph
Failed example:
    g = graphs.LocalMcLaughlinGraph(); g   # long time # optional - gap_packages
Expected nothing
Got:
    Local McLaughlin Graph: Graph on 162 vertices
**********************************************************************
```

CC:  @nathanncohen @dcoudert

Branch/Commit: **[05a2e41](https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af)**

Reviewer: **Jeroen Demeyer**

Author: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/18911_





---

archive/issue_events_250685.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-16T13:11:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250685"
}
```



---

archive/issue_events_250686.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-16T13:11:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250686"
}
```



---

archive/issue_events_250687.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-16T13:11:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250687"
}
```



---

archive/issue_events_250688.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-16T13:11:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250688"
}
```



---

archive/issue_comments_267556.json:
```json
{
    "body": "Author: **Nathann Cohen**",
    "created_at": "2015-07-16T13:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267556",
    "user": "https://github.com/nathanncohen"
}
```

Author: **Nathann Cohen**



---

archive/issue_events_250689.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-07-16T13:17:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250689"
}
```



---

archive/issue_comments_267557.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nSigh... `sage -btp` insead of `sage -btp -l`.. Sorry `:-/`\n\nNathann\n\nP.S.: Now a broken optional doctest is a blocker? Cool `:-P`",
    "created_at": "2015-07-16T13:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267557",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'>Comment 1:</a>
Sigh... `sage -btp` insead of `sage -btp -l`.. Sorry `:-/`

Nathann

P.S.: Now a broken optional doctest is a blocker? Cool `:-P`



---

archive/issue_comments_267558.json:
```json
{
    "body": "Branch: **[u/ncohen/18911](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18911)**",
    "created_at": "2015-07-16T13:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267558",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[u/ncohen/18911](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18911)**



---

archive/issue_comments_267559.json:
```json
{
    "body": "Commit: **[05a2e41](https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af)**",
    "created_at": "2015-07-16T13:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267559",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[05a2e41](https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af)**



---

archive/issue_comments_267560.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af\">05a2e41</a></td><td><code>trac #18911: Broken doctest</code></td></tr></table>\n",
    "created_at": "2015-07-16T13:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267560",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af">05a2e41</a></td><td><code>trac #18911: Broken doctest</code></td></tr></table>




---

archive/issue_comments_267561.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReplying to [@nathanncohen](#comment%3A1):\n> Now a broken optional doctest is a blocker? Cool `:-P`\n\n**Every** doctest failure should be a blocker. That's why I care so much to not introduce artificial doctest failures in #18904.",
    "created_at": "2015-07-16T13:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267561",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'>Comment 3:</a>
Replying to [@nathanncohen](#comment%3A1):
> Now a broken optional doctest is a blocker? Cool `:-P`

**Every** doctest failure should be a blocker. That's why I care so much to not introduce artificial doctest failures in #18904.



---

archive/issue_comments_267562.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\n> **Every** doctest failure should be a blocker.\n\nIt's a bit weird to say that something is a blocker even though our automated testing (patchbots, Volker's tests before each release) does not even detect it.\n\n> That's why I care so much to not introduce artificial doctest failures in #18904.\n\nIf only you did not try to hid bugs under the carpet in order to preserve the appearance of reliability ...\n\nI also want all doctests to pass. My method to do so is to let them scream when they want to, and to fix the problems.\n\nNathann",
    "created_at": "2015-07-16T13:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267562",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'>Comment 4:</a>
> **Every** doctest failure should be a blocker.

It's a bit weird to say that something is a blocker even though our automated testing (patchbots, Volker's tests before each release) does not even detect it.

> That's why I care so much to not introduce artificial doctest failures in #18904.

If only you did not try to hid bugs under the carpet in order to preserve the appearance of reliability ...

I also want all doctests to pass. My method to do so is to let them scream when they want to, and to fix the problems.

Nathann



---

archive/issue_comments_267563.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBy the way, given that 'every doctest failure should be a blocker', why don't you apply that and create blocker tickets until all broken doctests involving maple/matlab/octave/mathematica are fixed? Or is it actually a lie? `:-P`",
    "created_at": "2015-07-16T13:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267563",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>Comment 5:</a>
By the way, given that 'every doctest failure should be a blocker', why don't you apply that and create blocker tickets until all broken doctests involving maple/matlab/octave/mathematica are fixed? Or is it actually a lie? `:-P`



---

archive/issue_comments_267564.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@nathanncohen](#comment%3A4):\n> It's a bit weird to say that something is a blocker even though our automated testing (patchbots, Volker's tests before each release) does not even detect it.\n\nThat is certainly true. Better testing infrastructure is hopefully something that will happen with support from OpenDreamKit.",
    "created_at": "2015-07-16T13:27:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267564",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@nathanncohen](#comment%3A4):
> It's a bit weird to say that something is a blocker even though our automated testing (patchbots, Volker's tests before each release) does not even detect it.

That is certainly true. Better testing infrastructure is hopefully something that will happen with support from OpenDreamKit.



---

archive/issue_comments_267565.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n> That is certainly true. Better testing infrastructure is hopefully something that will happen with support from OpenDreamKit.\n\nIndeed. Well if you ever meet those guys please tell them about it. That would definitely help.",
    "created_at": "2015-07-16T13:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267565",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'>Comment 7:</a>
> That is certainly true. Better testing infrastructure is hopefully something that will happen with support from OpenDreamKit.

Indeed. Well if you ever meet those guys please tell them about it. That would definitely help.



---

archive/issue_comments_267566.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@nathanncohen](#comment%3A5):\n> why don't you apply that and create blocker tickets until all broken doctests involving maple/matlab/octave/mathematica are fixed?\n\nI don't see any such failures in `ptestlong.log`, they are all under my big carpet.",
    "created_at": "2015-07-16T13:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267566",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@nathanncohen](#comment%3A5):
> why don't you apply that and create blocker tickets until all broken doctests involving maple/matlab/octave/mathematica are fixed?

I don't see any such failures in `ptestlong.log`, they are all under my big carpet.



---

archive/issue_comments_267567.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\n> I don't see any such failures in `ptestlong.log`, they are all under my big carpet.\n\nSigh... Well, the good thing about this bug is that it says that there are reasons for me to re-run my patchbot again. With many packages.\n\nNathann",
    "created_at": "2015-07-16T13:31:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267567",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'>Comment 9:</a>
> I don't see any such failures in `ptestlong.log`, they are all under my big carpet.

Sigh... Well, the good thing about this bug is that it says that there are reasons for me to re-run my patchbot again. With many packages.

Nathann



---

archive/issue_comments_267568.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\n... seems that there was a new power cut in my office in Paris. Okayyyyy, another time `:-P`",
    "created_at": "2015-07-16T13:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267568",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'>Comment 10:</a>
... seems that there was a new power cut in my office in Paris. Okayyyyy, another time `:-P`



---

archive/issue_events_250690.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-16T13:34:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250690"
}
```



---

archive/issue_events_250691.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-16T13:34:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250691"
}
```



---

archive/issue_comments_267569.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-07-16T13:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267569",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_267570.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThaaaaaaaaaaaaaaaaaaaaaanks,\n\nNathann",
    "created_at": "2015-07-16T13:34:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267570",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'>Comment 12:</a>
Thaaaaaaaaaaaaaaaaaaaaaanks,

Nathann



---

archive/issue_comments_267571.json:
```json
{
    "body": "Changed branch from **[u/ncohen/18911](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18911)** to **[05a2e41](https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af)**",
    "created_at": "2015-07-16T22:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18911#issuecomment-267571",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/ncohen/18911](https://github.com/sagemath/sagetrac-mirror/tree/u/ncohen/18911)** to **[05a2e41](https://github.com/sagemath/sagetrac-mirror/commit/05a2e411ea947dc896bd47f255b984d2390f57af)**



---

archive/issue_events_250692.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-16T22:51:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250692"
}
```



---

archive/issue_events_250693.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f7e266bdf22a87bbaa733df636d5cbb3ef0fdcc5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-16T22:51:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18911",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18911#event-250693"
}
```
