# Issue 18126: Coin-OR CBC: new-style SPKG

archive/issues_017889.json:
```json
{
    "assignees": [],
    "body": "This branch turns CBC into a new-style spkg.\n\nSPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)\n\nNathann\n\nCC:  tmonteil @videlec @dcoudert\n\nKeywords: **sd66**\n\nBranch/Commit: **[a328985](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**\n\nReviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**\n\nAuthor: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18126_\n\n",
    "closed_at": "2015-04-14T19:43:12Z",
    "created_at": "2015-04-05T17:32:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Coin-OR CBC: new-style SPKG",
    "type": "issue",
    "updated_at": "2015-04-14T19:43:12Z",
    "url": "https://github.com/sagemath/sage/issues/18126",
    "user": "https://github.com/nathanncohen"
}
```
This branch turns CBC into a new-style spkg.

SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)

Nathann

CC:  tmonteil @videlec @dcoudert

Keywords: **sd66**

Branch/Commit: **[a328985](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**

Reviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**

Author: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/18126_





---

archive/issue_events_240049.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240049"
}
```



---

archive/issue_events_240050.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240050"
}
```



---

archive/issue_events_240051.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240051"
}
```



---

archive/issue_events_240052.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240052"
}
```



---

archive/issue_comments_249976.json:
```json
{
    "body": "Commit: **[97dd365](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)**",
    "created_at": "2015-04-05T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249976",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[97dd365](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)**



---

archive/issue_events_240053.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:34:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240053"
}
```



---

archive/issue_comments_249977.json:
```json
{
    "body": "Branch: **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)**",
    "created_at": "2015-04-05T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249977",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)**



---

archive/issue_comments_249978.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e72fa108aa8caaab8c27e720a9aebf5a170eb31\">9e72fa1</a></td><td><code>trac #18126: copy of spkg-install and SPKG.txt from the old style spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/138570e70aeeda2122f824488191f01d154b3306\">138570e</a></td><td><code>trac #18126: new checksum and package-version files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4\">97dd365</a></td><td><code>trac #18126: new spkg-src file to download and build the spkg</code></td></tr></table>\n",
    "created_at": "2015-04-05T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249978",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e72fa108aa8caaab8c27e720a9aebf5a170eb31">9e72fa1</a></td><td><code>trac #18126: copy of spkg-install and SPKG.txt from the old style spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/138570e70aeeda2122f824488191f01d154b3306">138570e</a></td><td><code>trac #18126: new checksum and package-version files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4">97dd365</a></td><td><code>trac #18126: new spkg-src file to download and build the spkg</code></td></tr></table>




---

archive/issue_comments_249979.json:
```json
{
    "body": "Changed keywords from **** to **sd66**",
    "created_at": "2015-04-05T17:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249979",
    "user": "https://github.com/nathanncohen"
}
```

Changed keywords from **** to **sd66**



---

archive/issue_comments_249980.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nAre you sure it's `IBM Coportation` ?\n\n\nI have the following issue, and I don't find it at that address.\n\n```\nconfetti:sage dcoudert$ ./sage -i cbc\nFound local metadata for cbc-2.9.4\nAttempting to download package cbc-2.9.4\n>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2\n[Traceback (most recent call last):\n  File \"<stdin>\", line 35, in <module>\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 240, in retrieve\n    fp = self.open(url, data)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 208, in open\n    return getattr(self, name)(url)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 359, in open_http\n    return self.http_error(url, fp, errcode, errmsg, headers)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 376, in http_error\n    return self.http_error_default(url, fp, errcode, errmsg, headers)\n  File \"<stdin>\", line 17, in http_error_default\nIOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'\nError: failed to download package cbc-2.9.4\n```",
    "created_at": "2015-04-06T01:45:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249980",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'>Comment 3:</a>
Are you sure it's `IBM Coportation` ?


I have the following issue, and I don't find it at that address.

```
confetti:sage dcoudert$ ./sage -i cbc
Found local metadata for cbc-2.9.4
Attempting to download package cbc-2.9.4
>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2
[Traceback (most recent call last):
  File "<stdin>", line 35, in <module>
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 240, in retrieve
    fp = self.open(url, data)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 208, in open
    return getattr(self, name)(url)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 359, in open_http
    return self.http_error(url, fp, errcode, errmsg, headers)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 376, in http_error
    return self.http_error_default(url, fp, errcode, errmsg, headers)
  File "<stdin>", line 17, in http_error_default
IOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'
Error: failed to download package cbc-2.9.4
```



---

archive/issue_events_240054.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-04-06T01:45:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240054"
}
```



---

archive/issue_events_240055.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-04-06T01:45:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240055"
}
```



---

archive/issue_comments_249981.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373\">3bb47c9</a></td><td><code>trac #18126: License update</code></td></tr></table>\n",
    "created_at": "2015-04-06T08:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249981",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373">3bb47c9</a></td><td><code>trac #18126: License update</code></td></tr></table>




---

archive/issue_comments_249982.json:
```json
{
    "body": "Changed commit from **[97dd365](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)** to **[3bb47c9](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)**",
    "created_at": "2015-04-06T08:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249982",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[97dd365](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)** to **[3bb47c9](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)**



---

archive/issue_comments_249983.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nHellooooo,\n\n> Are you sure it's `IBM Coportation` ?\n\nWhile updating that I noticed that the license had changed. Fixed.\n\n> I have the following issue, and I don't find it at that address.\n\nThis is because you do not have the new .tar.bz2 file. The spkg-src script (see the ticket's description) that this branch contains will download it for you.\n\nNathann",
    "created_at": "2015-04-06T08:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249983",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>Comment 5:</a>
Hellooooo,

> Are you sure it's `IBM Coportation` ?

While updating that I noticed that the license had changed. Fixed.

> I have the following issue, and I don't find it at that address.

This is because you do not have the new .tar.bz2 file. The spkg-src script (see the ticket's description) that this branch contains will download it for you.

Nathann



---

archive/issue_events_240056.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T08:42:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240056"
}
```



---

archive/issue_events_240057.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T08:42:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240057"
}
```



---

archive/issue_comments_249984.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nHello,\n\nstill not working. Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/\n\nWhy not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?\n\nDavid.",
    "created_at": "2015-04-06T11:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249984",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'>Comment 7:</a>
Hello,

still not working. Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/

Why not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?

David.



---

archive/issue_comments_249985.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nHello,\n\n> still not working.\n\nCould you give a more informative error message? What happens when you run spkg-src?\n\n> Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/\n\nNo problem here, that's because coin is an optional package. You don't see Nauty there either.\n\n> Why not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?\n\nBecause it is not a .tar.bz2 file, and that's what I think we have to put in our upstream/ folder.\n\nNathann",
    "created_at": "2015-04-06T12:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249985",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'>Comment 8:</a>
Hello,

> still not working.

Could you give a more informative error message? What happens when you run spkg-src?

> Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/

No problem here, that's because coin is an optional package. You don't see Nauty there either.

> Why not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?

Because it is not a .tar.bz2 file, and that's what I think we have to put in our upstream/ folder.

Nathann



---

archive/issue_comments_249986.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nHello,\n\nI should run `spkg-src` and not `sage -i cbc` ???\nYou should mention it in the ticket description.\n\n```\nconfetti:sage dcoudert$ build/pkgs/cbc/spkg-src \ncat: package-version.txt: No such file or directory\nsed: illegal option -- r\nusage: sed script [-Ealn] [-i extension] [file ...]\n       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]\n--2015-04-06 14:08:36--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 404 Not Found\n2015-04-06 14:08:39 erreur\u00a0404\u00a0: Not Found.\n\n```\n\n```\nconfetti:sage dcoudert$ ./sage -i cbc\nFound local metadata for cbc-2.9.4\nAttempting to download package cbc-2.9.4\n>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2\n[Traceback (most recent call last):\n  File \"<stdin>\", line 35, in <module>\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 240, in retrieve\n    fp = self.open(url, data)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 208, in open\n    return getattr(self, name)(url)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 359, in open_http\n    return self.http_error(url, fp, errcode, errmsg, headers)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 376, in http_error\n    return self.http_error_default(url, fp, errcode, errmsg, headers)\n  File \"<stdin>\", line 17, in http_error_default\nIOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'\nError: failed to download package cbc-2.9.4\n```",
    "created_at": "2015-04-06T12:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249986",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'>Comment 9:</a>
Hello,

I should run `spkg-src` and not `sage -i cbc` ???
You should mention it in the ticket description.

```
confetti:sage dcoudert$ build/pkgs/cbc/spkg-src 
cat: package-version.txt: No such file or directory
sed: illegal option -- r
usage: sed script [-Ealn] [-i extension] [file ...]
       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]
--2015-04-06 14:08:36--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 404 Not Found
2015-04-06 14:08:39 erreur 404 : Not Found.

```

```
confetti:sage dcoudert$ ./sage -i cbc
Found local metadata for cbc-2.9.4
Attempting to download package cbc-2.9.4
>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2
[Traceback (most recent call last):
  File "<stdin>", line 35, in <module>
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 240, in retrieve
    fp = self.open(url, data)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 208, in open
    return getattr(self, name)(url)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 359, in open_http
    return self.http_error(url, fp, errcode, errmsg, headers)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 376, in http_error
    return self.http_error_default(url, fp, errcode, errmsg, headers)
  File "<stdin>", line 17, in http_error_default
IOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'
Error: failed to download package cbc-2.9.4
```



---

archive/issue_comments_249987.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nHello,\n\n> I should run `spkg-src` and not `sage -i cbc` ???\n\nspkg-src downloads the upstream Cbc for you, transforms it a bit and stores it in upstream. Could you start this script while going in the right folder first?\n\nThe spkg-src scripts are just there to make the developer's life easier when a spkg gets udpated. You change the version number, start the script, and the .tar.bz2 file is built for you.\n\nOnce this is done, the command `sage -i cbc` will find the .tar.bz2 file.\n\nNathann",
    "created_at": "2015-04-06T12:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249987",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'>Comment 10:</a>
Hello,

> I should run `spkg-src` and not `sage -i cbc` ???

spkg-src downloads the upstream Cbc for you, transforms it a bit and stores it in upstream. Could you start this script while going in the right folder first?

The spkg-src scripts are just there to make the developer's life easier when a spkg gets udpated. You change the version number, start the script, and the .tar.bz2 file is built for you.

Once this is done, the command `sage -i cbc` will find the .tar.bz2 file.

Nathann



---

archive/issue_comments_249988.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nAdditionally, these `spkg-src` scripts are also useful to certify that the guy who uploads a .tar.bz2 file has not introduced any code in the original package. As you can see how the .tar.bz2 file is built, I cannot be suspected of introducing backdoors on everybody's computer.\n\nNathann",
    "created_at": "2015-04-06T12:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249988",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'>Comment 11:</a>
Additionally, these `spkg-src` scripts are also useful to certify that the guy who uploads a .tar.bz2 file has not introduced any code in the original package. As you can see how the .tar.bz2 file is built, I cannot be suspected of introducing backdoors on everybody's computer.

Nathann



---

archive/issue_comments_249989.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\n\n```\nconfetti:cbc dcoudert$ ./spkg-src \nsed: illegal option -- r\nusage: sed script [-Ealn] [-i extension] [file ...]\n       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]\n--2015-04-06 14:35:26--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 404 Not Found\n2015-04-06 14:35:27 erreur\u00a0404\u00a0: Not Found.\n```\n\n```\nconfetti:cbc dcoudert$ cat package-version.txt | sed -re \"s/^(.*)\\\\.p.+$/\\\\1/\"\nsed: illegal option -- r\nusage: sed script [-Ealn] [-i extension] [file ...]\n       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]\n```\n\n```\nconfetti:cbc dcoudert$ cat package-version.txt | sed -e \"s/^(.*)\\\\.p.+$/\\\\1/\"\nsed: 1: \"s/^(.*)\\.p.+$/\\1/\n\": \\1 not defined in the RE\n```\n\n```\nconfetti:cbc dcoudert$ cat package-version.txt | sed -e \"s/^(.*)\\\\.p.+$/$1/\"\n2.9.4\n```",
    "created_at": "2015-04-06T12:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249989",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'>Comment 12:</a>

```
confetti:cbc dcoudert$ ./spkg-src 
sed: illegal option -- r
usage: sed script [-Ealn] [-i extension] [file ...]
       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]
--2015-04-06 14:35:26--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 404 Not Found
2015-04-06 14:35:27 erreur 404 : Not Found.
```

```
confetti:cbc dcoudert$ cat package-version.txt | sed -re "s/^(.*)\\.p.+$/\\1/"
sed: illegal option -- r
usage: sed script [-Ealn] [-i extension] [file ...]
       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]
```

```
confetti:cbc dcoudert$ cat package-version.txt | sed -e "s/^(.*)\\.p.+$/\\1/"
sed: 1: "s/^(.*)\.p.+$/\1/
": \1 not defined in the RE
```

```
confetti:cbc dcoudert$ cat package-version.txt | sed -e "s/^(.*)\\.p.+$/$1/"
2.9.4
```



---

archive/issue_comments_249990.json:
```json
{
    "body": "Changed commit from **[3bb47c9](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)** to **[5c7e209](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)**",
    "created_at": "2015-04-06T12:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249990",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3bb47c9](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)** to **[5c7e209](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)**



---

archive/issue_comments_249991.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e\">5c7e209</a></td><td><code>trac #18126: avoid -r in sed</code></td></tr></table>\n",
    "created_at": "2015-04-06T12:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249991",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e">5c7e209</a></td><td><code>trac #18126: avoid -r in sed</code></td></tr></table>




---

archive/issue_comments_249992.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nSome progress\n\n```\nconfetti:sage dcoudert$ ./sage -i cbc\nFound local metadata for cbc-2.9.4\nAttempting to download package cbc-2.9.4\n>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2\n[Traceback (most recent call last):\n  File \"<stdin>\", line 35, in <module>\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 240, in retrieve\n    fp = self.open(url, data)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 208, in open\n    return getattr(self, name)(url)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 359, in open_http\n    return self.http_error(url, fp, errcode, errmsg, headers)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 376, in http_error\n    return self.http_error_default(url, fp, errcode, errmsg, headers)\n  File \"<stdin>\", line 17, in http_error_default\nIOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'\nError: failed to download package cbc-2.9.4\nconfetti:sage dcoudert$          \nconfetti:sage dcoudert$ cd build/pkgs/cbc/\nconfetti:cbc dcoudert$ ./spkg-src \n--2015-04-06 14:48:46--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 200 OK\nTaille\u00a0: 13761766 (13M) [application/x-gzip]\nSauvegarde en\u00a0: \u00ab\u00a0Cbc-2.9.4.tgz\u00a0\u00bb\n\nCbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  74,6KB/s   ds 2m 37s \n\n2015-04-06 14:51:24 (85,5 KB/s) \u2014 \u00ab\u00a0Cbc-2.9.4.tgz\u00a0\u00bb sauvegard\u00e9 [13761766/13761766]\n\nmv: rename Cbc-2.9.4.tar.bz2 to /upstream/cbc-2.9.4.tar.bz2: No such file or directory\nconfetti:cbc dcoudert$ ll\ntotal 23032\n-rw-r--r--  1 dcoudert  staff  11768072 31 mar 09:30 Cbc-2.9.4.tar.bz2\n-rw-r--r--  1 dcoudert  staff       905  6 avr 14:04 SPKG.txt\n-rw-r--r--  1 dcoudert  staff       128  6 avr 14:04 checksums.ini\n-rw-r--r--  1 dcoudert  staff         6  6 avr 14:04 package-version.txt\n-rwxr-xr-x  1 dcoudert  staff      1220  6 avr 14:04 spkg-install\n-rwxr-xr-x  1 dcoudert  staff       429  6 avr 14:47 spkg-src\n```\n\nAlso, version 2.9.4 is not listed on page http://www.sagemath.org/packages/optional/\nOnly 2.8.1.p0",
    "created_at": "2015-04-06T12:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249992",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'>Comment 14:</a>
Some progress

```
confetti:sage dcoudert$ ./sage -i cbc
Found local metadata for cbc-2.9.4
Attempting to download package cbc-2.9.4
>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2
[Traceback (most recent call last):
  File "<stdin>", line 35, in <module>
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 240, in retrieve
    fp = self.open(url, data)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 208, in open
    return getattr(self, name)(url)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 359, in open_http
    return self.http_error(url, fp, errcode, errmsg, headers)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 376, in http_error
    return self.http_error_default(url, fp, errcode, errmsg, headers)
  File "<stdin>", line 17, in http_error_default
IOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'
Error: failed to download package cbc-2.9.4
confetti:sage dcoudert$          
confetti:sage dcoudert$ cd build/pkgs/cbc/
confetti:cbc dcoudert$ ./spkg-src 
--2015-04-06 14:48:46--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 200 OK
Taille : 13761766 (13M) [application/x-gzip]
Sauvegarde en : « Cbc-2.9.4.tgz »

Cbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  74,6KB/s   ds 2m 37s 

2015-04-06 14:51:24 (85,5 KB/s) — « Cbc-2.9.4.tgz » sauvegardé [13761766/13761766]

mv: rename Cbc-2.9.4.tar.bz2 to /upstream/cbc-2.9.4.tar.bz2: No such file or directory
confetti:cbc dcoudert$ ll
total 23032
-rw-r--r--  1 dcoudert  staff  11768072 31 mar 09:30 Cbc-2.9.4.tar.bz2
-rw-r--r--  1 dcoudert  staff       905  6 avr 14:04 SPKG.txt
-rw-r--r--  1 dcoudert  staff       128  6 avr 14:04 checksums.ini
-rw-r--r--  1 dcoudert  staff         6  6 avr 14:04 package-version.txt
-rwxr-xr-x  1 dcoudert  staff      1220  6 avr 14:04 spkg-install
-rwxr-xr-x  1 dcoudert  staff       429  6 avr 14:47 spkg-src
```

Also, version 2.9.4 is not listed on page http://www.sagemath.org/packages/optional/
Only 2.8.1.p0



---

archive/issue_comments_249993.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nHello,\n\nThis fails because your `SAGE_ROOT` variable is not set. You can:\n\n1) Define it in your bash; or\n2) Run the script from the console that you get after a `sage -sh`\n\nNathann",
    "created_at": "2015-04-06T12:59:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249993",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'>Comment 15:</a>
Hello,

This fails because your `SAGE_ROOT` variable is not set. You can:

1) Define it in your bash; or
2) Run the script from the console that you get after a `sage -sh`

Nathann



---

archive/issue_comments_249994.json:
```json
{
    "body": "Changed commit from **[5c7e209](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)** to **[217fb18](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)**",
    "created_at": "2015-04-06T13:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249994",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5c7e209](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)** to **[217fb18](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)**



---

archive/issue_comments_249995.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1\">217fb18</a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>\n",
    "created_at": "2015-04-06T13:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249995",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1">217fb18</a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>




---

archive/issue_comments_249996.json:
```json
{
    "body": "Changed commit from **[217fb18](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)** to **[4e3830f](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)**",
    "created_at": "2015-04-06T13:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249996",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[217fb18](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)** to **[4e3830f](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)**



---

archive/issue_comments_249997.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a\">4e3830f</a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>\n",
    "created_at": "2015-04-06T13:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249997",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a">4e3830f</a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>




---

archive/issue_comments_249998.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nYou did a push while I was testing the stuff, so I don't know if it will change something.\n\nAfter setting SAGE_ROOT in .bash_profile :\n\n```\nconfetti:cbc dcoudert$ ./spkg-src \n--2015-04-06 15:07:53--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 200 OK\nTaille : 13761766 (13M) [application/x-gzip]\nSauvegarde en : \u00ab Cbc-2.9.4.tgz \u00bb\n\nCbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  93,9KB/s   ds 2m 9s  \n\n2015-04-06 15:10:05 (104 KB/s) \u2014 \u00ab Cbc-2.9.4.tgz \u00bb sauvegard\u00e9 [13761766/13761766]\n\n./spkg-src: line 17: sage: command not found\nconfetti:cbc dcoudert$ echo $SAGE_ROOT\n/Users/dcoudert/sage/\nconfetti:cbc dcoudert$ sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath Version 6.6.rc2, Release Date: 2015-04-02                 \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: \nExiting Sage (CPU time 0m0.02s, Wall time 0m5.00s).\nconfetti:cbc dcoudert$ cd $SAGE_ROOT\nconfetti:sage dcoudert$ sage -i cbc\nFound local metadata for cbc-2.9.4\nFound local sources at /Users/dcoudert/sage/upstream/cbc-2.9.4.tar.bz2\nChecksum: 6afb943dcc3f60bff525456ad175cf19f6a2e28e vs 6afb943dcc3f60bff525456ad175cf19f6a2e28e\ncbc-2.9.4\n====================================================\nSetting up build directory for cbc-2.9.4\n...\n...\nSuccessfully installed cbc-2.9.4\nDeleting temporary build directory\n/Users/dcoudert/sage/local/var/tmp/sage/build/cbc-2.9.4\nFinished installing cbc-2.9.4.spkg\n\nWarning: it might be needed to update the Sage library before\ninstalled packages work: you should run 'make' from $SAGE_ROOT\nbefore running Sage.\n\n```\n\nSo it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.\n\nWhat should I do next?",
    "created_at": "2015-04-06T13:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249998",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'>Comment 18:</a>
You did a push while I was testing the stuff, so I don't know if it will change something.

After setting SAGE_ROOT in .bash_profile :

```
confetti:cbc dcoudert$ ./spkg-src 
--2015-04-06 15:07:53--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 200 OK
Taille : 13761766 (13M) [application/x-gzip]
Sauvegarde en : « Cbc-2.9.4.tgz »

Cbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  93,9KB/s   ds 2m 9s  

2015-04-06 15:10:05 (104 KB/s) — « Cbc-2.9.4.tgz » sauvegardé [13761766/13761766]

./spkg-src: line 17: sage: command not found
confetti:cbc dcoudert$ echo $SAGE_ROOT
/Users/dcoudert/sage/
confetti:cbc dcoudert$ sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath Version 6.6.rc2, Release Date: 2015-04-02                 │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: 
Exiting Sage (CPU time 0m0.02s, Wall time 0m5.00s).
confetti:cbc dcoudert$ cd $SAGE_ROOT
confetti:sage dcoudert$ sage -i cbc
Found local metadata for cbc-2.9.4
Found local sources at /Users/dcoudert/sage/upstream/cbc-2.9.4.tar.bz2
Checksum: 6afb943dcc3f60bff525456ad175cf19f6a2e28e vs 6afb943dcc3f60bff525456ad175cf19f6a2e28e
cbc-2.9.4
====================================================
Setting up build directory for cbc-2.9.4
...
...
Successfully installed cbc-2.9.4
Deleting temporary build directory
/Users/dcoudert/sage/local/var/tmp/sage/build/cbc-2.9.4
Finished installing cbc-2.9.4.spkg

Warning: it might be needed to update the Sage library before
installed packages work: you should run 'make' from $SAGE_ROOT
before running Sage.

```

So it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.

What should I do next?



---

archive/issue_comments_249999.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nHello !\n\n> You did a push while I was testing the stuff, so I don't know if it will change something.\n\nI added a warning to say something more useful when SAGE_ROOT is not defined. This block of 4 lines can be found in most `spkg-install` scripts that Sage ships.\n\n> So it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.\n\nNew-style spkg work this way: ideally we have in upstream/ the copy of the source files, as given by the original authors of the software. Then, in build/pkgs we have some scripts to install it as it should in Sage.\n\nAs the sources were not available on your computer (and obviously not on Sage's server either, as the version we have here is more recent) the spkg-src script downloaded it from Coin's website and created the upstream/ archive. Then, with `sage -i cbc` you called the scripts from `build/pkgs/`, which used the new .tar.bz2 file.\n\n> What should I do next?\n\nWell, now you apparently have Cbc on your computer. So you can solve LP with it, check that tests pass when you add `--optional=sage,coin` to `sage -t`.\n\nNathann",
    "created_at": "2015-04-06T13:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-249999",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'>Comment 19:</a>
Hello !

> You did a push while I was testing the stuff, so I don't know if it will change something.

I added a warning to say something more useful when SAGE_ROOT is not defined. This block of 4 lines can be found in most `spkg-install` scripts that Sage ships.

> So it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.

New-style spkg work this way: ideally we have in upstream/ the copy of the source files, as given by the original authors of the software. Then, in build/pkgs we have some scripts to install it as it should in Sage.

As the sources were not available on your computer (and obviously not on Sage's server either, as the version we have here is more recent) the spkg-src script downloaded it from Coin's website and created the upstream/ archive. Then, with `sage -i cbc` you called the scripts from `build/pkgs/`, which used the new .tar.bz2 file.

> What should I do next?

Well, now you apparently have Cbc on your computer. So you can solve LP with it, check that tests pass when you add `--optional=sage,coin` to `sage -t`.

Nathann



---

archive/issue_comments_250000.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\n- The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357\n- I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?\n- \"SPKG Maintainers\" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324",
    "created_at": "2015-04-06T20:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250000",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:20'>Comment 20:</a>
- The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357
- I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?
- "SPKG Maintainers" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324



---

archive/issue_events_240058.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-06T20:16:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240058"
}
```



---

archive/issue_events_240059.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-06T20:16:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240059"
}
```



---

archive/issue_comments_250001.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nHello,\n\n> - The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357\n\nThe `spkg-install` file is a pure copy of what the spkg already contains.\n\n> - I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?\n\nBecause I believe that we need .tar.bz2 files in upstream. There is no other reason.\n\n> - \"SPKG Maintainers\" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324\n\nI don't mind. I will remove it in a second and set the patch to `needs_review` again, waiting for your answer about the first two points.\n\nNathann",
    "created_at": "2015-04-06T20:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250001",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'>Comment 22:</a>
Hello,

> - The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357

The `spkg-install` file is a pure copy of what the spkg already contains.

> - I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?

Because I believe that we need .tar.bz2 files in upstream. There is no other reason.

> - "SPKG Maintainers" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324

I don't mind. I will remove it in a second and set the patch to `needs_review` again, waiting for your answer about the first two points.

Nathann



---

archive/issue_comments_250002.json:
```json
{
    "body": "Changed commit from **[4e3830f](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)** to **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**",
    "created_at": "2015-04-06T20:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250002",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4e3830f](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)** to **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**



---

archive/issue_comments_250003.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8\">a372011</a></td><td><code>trac #18126: Remove the 'maintainers' section from SPKG.txt</code></td></tr></table>\n",
    "created_at": "2015-04-06T20:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250003",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8">a372011</a></td><td><code>trac #18126: Remove the 'maintainers' section from SPKG.txt</code></td></tr></table>




---

archive/issue_events_240060.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T20:27:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240060"
}
```



---

archive/issue_events_240061.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T20:27:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240061"
}
```



---

archive/issue_comments_250004.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nHi,\n\nthe third point was the minor one,\n- concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources\n- concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs\n\nCiao,\nThierry",
    "created_at": "2015-04-06T21:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250004",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:25'>Comment 25:</a>
Hi,

the third point was the minor one,
- concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources
- concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs

Ciao,
Thierry



---

archive/issue_comments_250005.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n This branch turns CBC into a new-style spkg.\n \n-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).\n+package available at \n+http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz \n \n Nathann\n``````\n",
    "created_at": "2015-04-06T21:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250005",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 This branch turns CBC into a new-style spkg.
 
-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).
+package available at 
+http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz 
 
 Nathann
``````




---

archive/issue_comments_250006.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b\">7a67d4d</a></td><td><code>trac #18126: Remove spkg-src</code></td></tr></table>\n",
    "created_at": "2015-04-06T21:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250006",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b">7a67d4d</a></td><td><code>trac #18126: Remove spkg-src</code></td></tr></table>




---

archive/issue_comments_250007.json:
```json
{
    "body": "Changed commit from **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[7a67d4d](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)**",
    "created_at": "2015-04-06T21:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250007",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[7a67d4d](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)**



---

archive/issue_comments_250008.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nHello,\n\n> - concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources\n\nIn general applying patches is a good idea, but here we are patching an automatically generated file. I believe that it is safer to change it with a sed command (which just replaces some text with another one), as we would otherwise have to change the patch files (using the sed comand) whenever it changes.\n\n> - concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs\n\nI removed the script.\n\nNathann",
    "created_at": "2015-04-06T21:31:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250008",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'>Comment 28:</a>
Hello,

> - concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources

In general applying patches is a good idea, but here we are patching an automatically generated file. I believe that it is safer to change it with a sed command (which just replaces some text with another one), as we would otherwise have to change the patch files (using the sed comand) whenever it changes.

> - concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs

I removed the script.

Nathann



---

archive/issue_comments_250009.json:
```json
{
    "body": "Changed commit from **[7a67d4d](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)** to **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**",
    "created_at": "2015-04-06T22:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250009",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7a67d4d](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)** to **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**



---

archive/issue_comments_250010.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-04-06T22:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250010",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>Comment 29:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_250011.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,5 @@\n This branch turns CBC into a new-style spkg.\n \n-package available at \n-http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz \n+The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).\n \n Nathann\n``````\n",
    "created_at": "2015-04-06T22:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250011",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,5 @@
 This branch turns CBC into a new-style spkg.
 
-package available at 
-http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz 
+The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).
 
 Nathann
``````




---

archive/issue_comments_250012.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nHaving a .tar.gz file seems to break the install scipts. I removed the last commit and set the ticket's description to its original text.",
    "created_at": "2015-04-06T22:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250012",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'>Comment 30:</a>
Having a .tar.gz file seems to break the install scipts. I removed the last commit and set the ticket's description to its original text.



---

archive/issue_comments_250013.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0\">7f8eda5</a></td><td><code>#18126 : use original .tar.gz source instead of custom .tar.bz2</code></td></tr></table>\n",
    "created_at": "2015-04-07T21:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250013",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'>Comment 31:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0">7f8eda5</a></td><td><code>#18126 : use original .tar.gz source instead of custom .tar.bz2</code></td></tr></table>




---

archive/issue_comments_250014.json:
```json
{
    "body": "Changed commit from **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[7f8eda5](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)**",
    "created_at": "2015-04-07T21:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250014",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a372011](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[7f8eda5](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)**



---

archive/issue_comments_250015.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nReplying to [@nathanncohen](#comment%3A30):\n> Having a .tar.gz file seems to break the install scipts.\n> \n\nI think this is because you did not update `checksums.ini`.\n\nThe installation works fine, but then, when i do `sage -b`, i got : \n\n```\n...\nbuilding 'sage.numerical.backends.coin_backend' extension\nExecuting 1 command (using 1 thread)\nerror: [Errno 13] Permission denied\n```\n\nDo you know what could be wrong ?",
    "created_at": "2015-04-07T21:10:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250015",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:32'>Comment 32:</a>
Replying to [@nathanncohen](#comment%3A30):
> Having a .tar.gz file seems to break the install scipts.
> 

I think this is because you did not update `checksums.ini`.

The installation works fine, but then, when i do `sage -b`, i got : 

```
...
building 'sage.numerical.backends.coin_backend' extension
Executing 1 command (using 1 thread)
error: [Errno 13] Permission denied
```

Do you know what could be wrong ?



---

archive/issue_events_240062.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-07T21:10:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240062"
}
```



---

archive/issue_events_240063.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-07T21:10:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240063"
}
```



---

archive/issue_comments_250016.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nYo !\n\n> I think this is because you did not update `checksums.ini`.\n\nI am an idiot `T_T`\n\n> The installation works fine, but then, when i do `sage -b`, i got : \n> \n> ```\n> ...\n> building 'sage.numerical.backends.coin_backend' extension\n> Executing 1 command (using 1 thread)\n> error: [Errno 13] Permission denied\n> ```\n> \n> Do you know what could be wrong ?\n\nNo idea. What is the line that raises that? Are you the user with writing permissions on SAGE_ROOT and its subdirectories?\n\nNathann",
    "created_at": "2015-04-07T21:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250016",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'>Comment 33:</a>
Yo !

> I think this is because you did not update `checksums.ini`.

I am an idiot `T_T`

> The installation works fine, but then, when i do `sage -b`, i got : 
> 
> ```
> ...
> building 'sage.numerical.backends.coin_backend' extension
> Executing 1 command (using 1 thread)
> error: [Errno 13] Permission denied
> ```
> 
> Do you know what could be wrong ?

No idea. What is the line that raises that? Are you the user with writing permissions on SAGE_ROOT and its subdirectories?

Nathann



---

archive/issue_comments_250017.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@nathanncohen](#comment%3A33):\n> No idea. What is the line that raises that? \n\nThe full output of `sage -b` command is:\n\n```\nscons: `install' is up to date.\nUpdating Cython code....\nEnabling Cython debugging support\nFinished Cythonizing, time: 14.40 seconds.\nDiscovering Python source code....\nDiscovered Python source, time: 0.23 seconds.\nCleaning up stale installed files....\n- cleaning /opt/sagemath/sage-6.3/local/lib/python2.7/site-packages\n- cleaning /opt/sagemath/sage-6.3/local/lib/site-python\n- cleaning /opt/sagemath/sage-6.3/src/build/lib.linux-i686-2.7\nFinished cleaning, time: 0.29 seconds.\nrunning install\nrunning build\nrunning build_py\nrunning build_ext\nbuilding 'sage.numerical.backends.coin_backend' extension\nExecuting 1 command (using 1 thread)\nerror: [Errno 13] Permission denied\n```\n\nNote that `sage -i cbc` ended with `Finished installing cbc-2.9.4.spkg`. I have been out of memory during sd66, i hope it did not mess up something on my directory.\n\n> Are you the user with writing permissions on SAGE_ROOT and its subdirectories?\n\nYes, i have only one user on my computer :)",
    "created_at": "2015-04-07T21:30:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250017",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@nathanncohen](#comment%3A33):
> No idea. What is the line that raises that? 

The full output of `sage -b` command is:

```
scons: `install' is up to date.
Updating Cython code....
Enabling Cython debugging support
Finished Cythonizing, time: 14.40 seconds.
Discovering Python source code....
Discovered Python source, time: 0.23 seconds.
Cleaning up stale installed files....
- cleaning /opt/sagemath/sage-6.3/local/lib/python2.7/site-packages
- cleaning /opt/sagemath/sage-6.3/local/lib/site-python
- cleaning /opt/sagemath/sage-6.3/src/build/lib.linux-i686-2.7
Finished cleaning, time: 0.29 seconds.
running install
running build
running build_py
running build_ext
building 'sage.numerical.backends.coin_backend' extension
Executing 1 command (using 1 thread)
error: [Errno 13] Permission denied
```

Note that `sage -i cbc` ended with `Finished installing cbc-2.9.4.spkg`. I have been out of memory during sd66, i hope it did not mess up something on my directory.

> Are you the user with writing permissions on SAGE_ROOT and its subdirectories?

Yes, i have only one user on my computer :)



---

archive/issue_comments_250018.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [tmonteil](#comment%3A34):\n> \n> Yes, i have only one user on my computer :)\n\nBut that doesn't mean the folder belongs to you, there are plenty of system class user out there - root in particular. Have you done anything as root with your install?",
    "created_at": "2015-04-07T21:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250018",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [tmonteil](#comment%3A34):
> 
> Yes, i have only one user on my computer :)

But that doesn't mean the folder belongs to you, there are plenty of system class user out there - root in particular. Have you done anything as root with your install?



---

archive/issue_comments_250019.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nReplying to [@kiwifb](#comment%3A35):\n> Have you done anything as root with your install?\n\nNot that i recall, but perhaps some chmod operation was not allowed when my disk was full. I double-checked that all files and subdirectories of SAGE_ROOT belong to my daily user (`find ! -user 1000` leads to nothing). I removed all cbc-related code, and the problem is still there, so it is probably an unrelated issue, sorry for the noise, i will come back to the review once this is fixed.",
    "created_at": "2015-04-07T22:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250019",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:36'>Comment 36:</a>
Replying to [@kiwifb](#comment%3A35):
> Have you done anything as root with your install?

Not that i recall, but perhaps some chmod operation was not allowed when my disk was full. I double-checked that all files and subdirectories of SAGE_ROOT belong to my daily user (`find ! -user 1000` leads to nothing). I removed all cbc-related code, and the problem is still there, so it is probably an unrelated issue, sorry for the noise, i will come back to the review once this is fixed.



---

archive/issue_comments_250020.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nI set the ticket back to `needs_review` in the meantime. I have seen tickets go forgotten just because of their status `:-P`\n\nNathann",
    "created_at": "2015-04-08T07:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250020",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'>Comment 37:</a>
I set the ticket back to `needs_review` in the meantime. I have seen tickets go forgotten just because of their status `:-P`

Nathann



---

archive/issue_events_240064.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T07:19:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240064"
}
```



---

archive/issue_events_240065.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T07:19:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240065"
}
```



---

archive/issue_events_240066.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:29:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240066"
}
```



---

archive/issue_events_240067.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:29:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240067"
}
```



---

archive/issue_comments_250021.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nThe following worked well:\n- downloading the tarball from http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz\n- rename it to `cbc-2.9.4.tar.gz` and move it to `$SAGE_ROOT/upstream`\n- do `sage -i cbc`\n- do `make`\n\nCould you update the ticket description?\n\nVincent",
    "created_at": "2015-04-08T08:29:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250021",
    "user": "https://github.com/videlec"
}
```

<a id='comment:38'>Comment 38:</a>
The following worked well:
- downloading the tarball from http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz
- rename it to `cbc-2.9.4.tar.gz` and move it to `$SAGE_ROOT/upstream`
- do `sage -i cbc`
- do `make`

Could you update the ticket description?

Vincent



---

archive/issue_comments_250022.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This branch turns CBC into a new-style spkg.\n \n-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).\n+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)\n \n Nathann\n``````\n",
    "created_at": "2015-04-08T08:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250022",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This branch turns CBC into a new-style spkg.
 
-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).
+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)
 
 Nathann
``````




---

archive/issue_events_240068.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T08:32:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240068"
}
```



---

archive/issue_events_240069.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T08:32:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240069"
}
```



---

archive/issue_comments_250023.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nReplying to [@nathanncohen](#comment%3A39):\n\nNote that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.\n\nVincent",
    "created_at": "2015-04-08T08:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250023",
    "user": "https://github.com/videlec"
}
```

<a id='comment:40'>Comment 40:</a>
Replying to [@nathanncohen](#comment%3A39):

Note that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.

Vincent



---

archive/issue_comments_250024.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\n> Note that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.\n\nI had not noticed. Could you make the modification so that I do not get it wrong again?\n\nNathann",
    "created_at": "2015-04-08T08:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250024",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:41'>Comment 41:</a>
> Note that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.

I had not noticed. Could you make the modification so that I do not get it wrong again?

Nathann



---

archive/issue_comments_250025.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This branch turns CBC into a new-style spkg.\n \n-SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)\n+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)\n \n Nathann\n``````\n",
    "created_at": "2015-04-08T08:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250025",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This branch turns CBC into a new-style spkg.
 
-SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)
+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)
 
 Nathann
``````




---

archive/issue_comments_250026.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nRunning `sage -t numerical/backends/coin_backend.pyx --optional Coin` I got a lot of errors claiming that `get_solver` is not defined. Could you update the doctests in that ticket?\n\nVincent",
    "created_at": "2015-04-08T08:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250026",
    "user": "https://github.com/videlec"
}
```

<a id='comment:42'>Comment 42:</a>
Running `sage -t numerical/backends/coin_backend.pyx --optional Coin` I got a lot of errors claiming that `get_solver` is not defined. Could you update the doctests in that ticket?

Vincent



---

archive/issue_comments_250027.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nyou must run then with --optional=sage,coin. Otherwise ONLY the lines with a flag get executed.\n\nNathann",
    "created_at": "2015-04-08T08:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250027",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:43'>Comment 43:</a>
you must run then with --optional=sage,coin. Otherwise ONLY the lines with a flag get executed.

Nathann



---

archive/issue_comments_250028.json:
```json
{
    "body": "Reviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**",
    "created_at": "2015-04-08T08:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250028",
    "user": "https://github.com/videlec"
}
```

Reviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**



---

archive/issue_comments_250029.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nMuch better ;-)",
    "created_at": "2015-04-08T08:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250029",
    "user": "https://github.com/videlec"
}
```

<a id='comment:44'>Comment 44:</a>
Much better ;-)



---

archive/issue_events_240070.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:47:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240070"
}
```



---

archive/issue_events_240071.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:47:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240071"
}
```



---

archive/issue_events_240072.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-08T13:53:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240072"
}
```



---

archive/issue_events_240073.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-08T13:53:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240073"
}
```



---

archive/issue_comments_250030.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nPlease remove this message\n\n```\nATTENTION: YOU HAVE TO REBUILD THE SAGE LIBRARY TO GET THIS TO WORK\n```\n\nAfter building a package, there is already\n\n```\nWarning: it might be needed to update the Sage library before\ninstalled packages work: you should run 'make' from $SAGE_ROOT\nbefore running Sage.\n```",
    "created_at": "2015-04-08T13:53:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250030",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:45'>Comment 45:</a>
Please remove this message

```
ATTENTION: YOU HAVE TO REBUILD THE SAGE LIBRARY TO GET THIS TO WORK
```

After building a package, there is already

```
Warning: it might be needed to update the Sage library before
installed packages work: you should run 'make' from $SAGE_ROOT
before running Sage.
```



---

archive/issue_comments_250031.json:
```json
{
    "body": "Changed commit from **[7f8eda5](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)** to **[a328985](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**",
    "created_at": "2015-04-08T15:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250031",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7f8eda5](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)** to **[a328985](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**



---

archive/issue_comments_250032.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04\">a328985</a></td><td><code>trac #18126: Review</code></td></tr></table>\n",
    "created_at": "2015-04-08T15:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250032",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:46'>Comment 46:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04">a328985</a></td><td><code>trac #18126: Review</code></td></tr></table>




---

archive/issue_events_240074.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T15:55:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240074"
}
```



---

archive/issue_events_240075.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T15:55:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240075"
}
```



---

archive/issue_comments_250033.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nDownload link with the correct filename?",
    "created_at": "2015-04-09T12:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250033",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:48'>Comment 48:</a>
Download link with the correct filename?



---

archive/issue_comments_250034.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\n> Download link with the correct filename?\n\n```\nwget \nhttp://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz -O cbc-2.9.4.tar.gz\n```",
    "created_at": "2015-04-09T12:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250034",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:49'>Comment 49:</a>
> Download link with the correct filename?

```
wget 
http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz -O cbc-2.9.4.tar.gz
```



---

archive/issue_comments_250035.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nThanks, if you would also please integrate the renaming into the release management script?",
    "created_at": "2015-04-09T12:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250035",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:50'>Comment 50:</a>
Thanks, if you would also please integrate the renaming into the release management script?



---

archive/issue_comments_250036.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nThanks, if you would also please integrate the renaming into the release management script?",
    "created_at": "2015-04-09T12:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250036",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:51'>Comment 51:</a>
Thanks, if you would also please integrate the renaming into the release management script?



---

archive/issue_comments_250037.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nDo you need a permanent url for the package with the right name?\n\nNathann",
    "created_at": "2015-04-09T12:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250037",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:52'>Comment 52:</a>
Do you need a permanent url for the package with the right name?

Nathann



---

archive/issue_comments_250038.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nyes, that is preferred",
    "created_at": "2015-04-09T12:27:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250038",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:53'>Comment 53:</a>
yes, that is preferred



---

archive/issue_comments_250039.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nWhat for? Don't you download it just once, to add it to Sage's mirrors?\n\nNathann",
    "created_at": "2015-04-09T12:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250039",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:54'>Comment 54:</a>
What for? Don't you download it just once, to add it to Sage's mirrors?

Nathann



---

archive/issue_comments_250040.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nupstream might also modify their tarball while we are waiting for sage-6.6",
    "created_at": "2015-04-09T12:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250040",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:55'>Comment 55:</a>
upstream might also modify their tarball while we are waiting for sage-6.6



---

archive/issue_comments_250041.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nWe have the checksums, no worries.\n\nNathann",
    "created_at": "2015-04-09T12:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250041",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:56'>Comment 56:</a>
We have the checksums, no worries.

Nathann



---

archive/issue_comments_250042.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nI'm not testing optional package checksums fyi",
    "created_at": "2015-04-09T12:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250042",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:57'>Comment 57:</a>
I'm not testing optional package checksums fyi



---

archive/issue_comments_250043.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nWould it be better for you if I re-wrote the spkg-src script that we had before? It would download the file and renames it for you.\n\nNathann",
    "created_at": "2015-04-09T12:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250043",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:58'>Comment 58:</a>
Would it be better for you if I re-wrote the spkg-src script that we had before? It would download the file and renames it for you.

Nathann



---

archive/issue_comments_250044.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nVolker?",
    "created_at": "2015-04-10T07:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250044",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:59'>Comment 59:</a>
Volker?



---

archive/issue_comments_250045.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nHow's that going to help? I'm not going to manually run a different script every time some tarball gets updated.",
    "created_at": "2015-04-10T08:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250045",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:60'>Comment 60:</a>
How's that going to help? I'm not going to manually run a different script every time some tarball gets updated.



---

archive/issue_comments_250046.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\n> How's that going to help? I'm not going to manually run a different script every time some tarball gets updated.\n\nWell right now you have to download it manually [1]. They don't upload the tarballs on my server when they make a new release, and unfortunately you cannot download it directly yourself because the first letter is in upper case. Life is tough.\n\nNathann\n\n[1] http://www.steinertriples.fr/ncohen/tmp/cbc-2.9.4.tar.gz",
    "created_at": "2015-04-10T08:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250046",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:61'>Comment 61:</a>
> How's that going to help? I'm not going to manually run a different script every time some tarball gets updated.

Well right now you have to download it manually [1]. They don't upload the tarballs on my server when they make a new release, and unfortunately you cannot download it directly yourself because the first letter is in upper case. Life is tough.

Nathann

[1] http://www.steinertriples.fr/ncohen/tmp/cbc-2.9.4.tar.gz



---

archive/issue_comments_250047.json:
```json
{
    "body": "Changed branch from **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)** to **[a328985](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**",
    "created_at": "2015-04-14T19:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-250047",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)** to **[a328985](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**



---

archive/issue_events_240076.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240076"
}
```



---

archive/issue_events_240077.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "08fc59bcd796ac364476d3b9c4afe1fedba914ba",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-14T19:43:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-240077"
}
```
