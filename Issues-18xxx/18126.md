# Issue 18126: Coin-OR CBC: new-style SPKG

archive/issues_017889.json:
```json
{
    "assignees": [],
    "body": "This branch turns CBC into a new-style spkg.\n\nSPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)\n\nNathann\n\nCC:  @sagetrac-tmonteil @videlec @dcoudert\n\nKeywords: **sd66**\n\nBranch/Commit: **[`a328985`](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**\n\nReviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**\n\nAuthor: **Nathann Cohen**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18126_\n\n",
    "closed_at": "2015-04-14T19:43:12Z",
    "created_at": "2015-04-05T17:32:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Coin-OR CBC: new-style SPKG",
    "type": "issue",
    "updated_at": "2015-04-14T19:43:12Z",
    "url": "https://github.com/sagemath/sage/issues/18126",
    "user": "https://github.com/nathanncohen"
}
```
This branch turns CBC into a new-style spkg.

SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)

Nathann

CC:  @sagetrac-tmonteil @videlec @dcoudert

Keywords: **sd66**

Branch/Commit: **[`a328985`](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**

Reviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**

Author: **Nathann Cohen**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/18126_





---

archive/issue_events_257748.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257748"
}
```



---

archive/issue_events_257749.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257749"
}
```



---

archive/issue_events_257750.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257750"
}
```



---

archive/issue_events_257751.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257751"
}
```



---

archive/issue_comments_247475.json:
```json
{
    "body": "Commit: **[`97dd365`](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)**",
    "created_at": "2015-04-05T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247475",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[`97dd365`](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)**



---

archive/issue_events_257752.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-05T17:34:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257752"
}
```



---

archive/issue_comments_247476.json:
```json
{
    "body": "Branch: **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)**",
    "created_at": "2015-04-05T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247476",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)**



---

archive/issue_comments_247477.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e72fa108aa8caaab8c27e720a9aebf5a170eb31\"><code>9e72fa1</code></a></td><td><code>trac #18126: copy of spkg-install and SPKG.txt from the old style spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/138570e70aeeda2122f824488191f01d154b3306\"><code>138570e</code></a></td><td><code>trac #18126: new checksum and package-version files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4\"><code>97dd365</code></a></td><td><code>trac #18126: new spkg-src file to download and build the spkg</code></td></tr></table>\n",
    "created_at": "2015-04-05T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247477",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e72fa108aa8caaab8c27e720a9aebf5a170eb31"><code>9e72fa1</code></a></td><td><code>trac #18126: copy of spkg-install and SPKG.txt from the old style spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/138570e70aeeda2122f824488191f01d154b3306"><code>138570e</code></a></td><td><code>trac #18126: new checksum and package-version files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4"><code>97dd365</code></a></td><td><code>trac #18126: new spkg-src file to download and build the spkg</code></td></tr></table>




---

archive/issue_comments_247478.json:
```json
{
    "body": "Changed keywords from none to **sd66**",
    "created_at": "2015-04-05T17:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247478",
    "user": "https://github.com/nathanncohen"
}
```

Changed keywords from none to **sd66**



---

archive/issue_comments_247479.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAre you sure it's `IBM Coportation` ?\n\n\nI have the following issue, and I don't find it at that address.\n\n```\nconfetti:sage dcoudert$ ./sage -i cbc\nFound local metadata for cbc-2.9.4\nAttempting to download package cbc-2.9.4\n>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2\n[Traceback (most recent call last):\n  File \"<stdin>\", line 35, in <module>\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 240, in retrieve\n    fp = self.open(url, data)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 208, in open\n    return getattr(self, name)(url)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 359, in open_http\n    return self.http_error(url, fp, errcode, errmsg, headers)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 376, in http_error\n    return self.http_error_default(url, fp, errcode, errmsg, headers)\n  File \"<stdin>\", line 17, in http_error_default\nIOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'\nError: failed to download package cbc-2.9.4\n```",
    "created_at": "2015-04-06T01:45:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247479",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:3" align="right">comment:3</div>

Are you sure it's `IBM Coportation` ?


I have the following issue, and I don't find it at that address.

```
confetti:sage dcoudert$ ./sage -i cbc
Found local metadata for cbc-2.9.4
Attempting to download package cbc-2.9.4
>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2
[Traceback (most recent call last):
  File "<stdin>", line 35, in <module>
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 240, in retrieve
    fp = self.open(url, data)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 208, in open
    return getattr(self, name)(url)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 359, in open_http
    return self.http_error(url, fp, errcode, errmsg, headers)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 376, in http_error
    return self.http_error_default(url, fp, errcode, errmsg, headers)
  File "<stdin>", line 17, in http_error_default
IOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'
Error: failed to download package cbc-2.9.4
```



---

archive/issue_events_257753.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-04-06T01:45:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257753"
}
```



---

archive/issue_events_257754.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2015-04-06T01:45:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257754"
}
```



---

archive/issue_comments_247480.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373\"><code>3bb47c9</code></a></td><td><code>trac #18126: License update</code></td></tr></table>\n",
    "created_at": "2015-04-06T08:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247480",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373"><code>3bb47c9</code></a></td><td><code>trac #18126: License update</code></td></tr></table>




---

archive/issue_comments_247481.json:
```json
{
    "body": "Changed commit from **[`97dd365`](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)** to **[`3bb47c9`](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)**",
    "created_at": "2015-04-06T08:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247481",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`97dd365`](https://github.com/sagemath/sagetrac-mirror/commit/97dd3652348c13847cfedc7e08d1fc05a8266ea4)** to **[`3bb47c9`](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)**



---

archive/issue_comments_247482.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nHellooooo,\n\n> Are you sure it's `IBM Coportation` ?\n\nWhile updating that I noticed that the license had changed. Fixed.\n\n> I have the following issue, and I don't find it at that address.\n\nThis is because you do not have the new .tar.bz2 file. The spkg-src script (see the ticket's description) that this branch contains will download it for you.\n\nNathann",
    "created_at": "2015-04-06T08:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247482",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Hellooooo,

> Are you sure it's `IBM Coportation` ?

While updating that I noticed that the license had changed. Fixed.

> I have the following issue, and I don't find it at that address.

This is because you do not have the new .tar.bz2 file. The spkg-src script (see the ticket's description) that this branch contains will download it for you.

Nathann



---

archive/issue_events_257755.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T08:42:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257755"
}
```



---

archive/issue_events_257756.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T08:42:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257756"
}
```



---

archive/issue_comments_247483.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHello,\n\nstill not working. Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/\n\nWhy not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?\n\nDavid.",
    "created_at": "2015-04-06T11:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247483",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

Hello,

still not working. Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/

Why not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?

David.



---

archive/issue_comments_247484.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHello,\n\n> still not working.\n\nCould you give a more informative error message? What happens when you run spkg-src?\n\n> Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/\n\nNo problem here, that's because coin is an optional package. You don't see Nauty there either.\n\n> Why not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?\n\nBecause it is not a .tar.bz2 file, and that's what I think we have to put in our upstream/ folder.\n\nNathann",
    "created_at": "2015-04-06T12:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247484",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Hello,

> still not working.

Could you give a more informative error message? What happens when you run spkg-src?

> Also, I don't see a cbc page at http://www.sagemath.org/packages/upstream/

No problem here, that's because coin is an optional package. You don't see Nauty there either.

> Why not pointing directly to http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz ?

Because it is not a .tar.bz2 file, and that's what I think we have to put in our upstream/ folder.

Nathann



---

archive/issue_comments_247485.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHello,\n\nI should run `spkg-src` and not `sage -i cbc` ???\nYou should mention it in the ticket description.\n\n```\nconfetti:sage dcoudert$ build/pkgs/cbc/spkg-src \ncat: package-version.txt: No such file or directory\nsed: illegal option -- r\nusage: sed script [-Ealn] [-i extension] [file ...]\n       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]\n--2015-04-06 14:08:36--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 404 Not Found\n2015-04-06 14:08:39 erreur\u00a0404\u00a0: Not Found.\n\n```\n\n```\nconfetti:sage dcoudert$ ./sage -i cbc\nFound local metadata for cbc-2.9.4\nAttempting to download package cbc-2.9.4\n>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2\n[Traceback (most recent call last):\n  File \"<stdin>\", line 35, in <module>\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 240, in retrieve\n    fp = self.open(url, data)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 208, in open\n    return getattr(self, name)(url)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 359, in open_http\n    return self.http_error(url, fp, errcode, errmsg, headers)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 376, in http_error\n    return self.http_error_default(url, fp, errcode, errmsg, headers)\n  File \"<stdin>\", line 17, in http_error_default\nIOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'\nError: failed to download package cbc-2.9.4\n```",
    "created_at": "2015-04-06T12:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247485",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:9" align="right">comment:9</div>

Hello,

I should run `spkg-src` and not `sage -i cbc` ???
You should mention it in the ticket description.

```
confetti:sage dcoudert$ build/pkgs/cbc/spkg-src 
cat: package-version.txt: No such file or directory
sed: illegal option -- r
usage: sed script [-Ealn] [-i extension] [file ...]
       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]
--2015-04-06 14:08:36--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 404 Not Found
2015-04-06 14:08:39 erreur 404 : Not Found.

```

```
confetti:sage dcoudert$ ./sage -i cbc
Found local metadata for cbc-2.9.4
Attempting to download package cbc-2.9.4
>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2
[Traceback (most recent call last):
  File "<stdin>", line 35, in <module>
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 240, in retrieve
    fp = self.open(url, data)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 208, in open
    return getattr(self, name)(url)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 359, in open_http
    return self.http_error(url, fp, errcode, errmsg, headers)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 376, in http_error
    return self.http_error_default(url, fp, errcode, errmsg, headers)
  File "<stdin>", line 17, in http_error_default
IOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'
Error: failed to download package cbc-2.9.4
```



---

archive/issue_comments_247486.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHello,\n\n> I should run `spkg-src` and not `sage -i cbc` ???\n\nspkg-src downloads the upstream Cbc for you, transforms it a bit and stores it in upstream. Could you start this script while going in the right folder first?\n\nThe spkg-src scripts are just there to make the developer's life easier when a spkg gets udpated. You change the version number, start the script, and the .tar.bz2 file is built for you.\n\nOnce this is done, the command `sage -i cbc` will find the .tar.bz2 file.\n\nNathann",
    "created_at": "2015-04-06T12:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247486",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:10" align="right">comment:10</div>

Hello,

> I should run `spkg-src` and not `sage -i cbc` ???

spkg-src downloads the upstream Cbc for you, transforms it a bit and stores it in upstream. Could you start this script while going in the right folder first?

The spkg-src scripts are just there to make the developer's life easier when a spkg gets udpated. You change the version number, start the script, and the .tar.bz2 file is built for you.

Once this is done, the command `sage -i cbc` will find the .tar.bz2 file.

Nathann



---

archive/issue_comments_247487.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAdditionally, these `spkg-src` scripts are also useful to certify that the guy who uploads a .tar.bz2 file has not introduced any code in the original package. As you can see how the .tar.bz2 file is built, I cannot be suspected of introducing backdoors on everybody's computer.\n\nNathann",
    "created_at": "2015-04-06T12:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247487",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Additionally, these `spkg-src` scripts are also useful to certify that the guy who uploads a .tar.bz2 file has not introduced any code in the original package. As you can see how the .tar.bz2 file is built, I cannot be suspected of introducing backdoors on everybody's computer.

Nathann



---

archive/issue_comments_247488.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n\n```\nconfetti:cbc dcoudert$ ./spkg-src \nsed: illegal option -- r\nusage: sed script [-Ealn] [-i extension] [file ...]\n       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]\n--2015-04-06 14:35:26--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 404 Not Found\n2015-04-06 14:35:27 erreur\u00a0404\u00a0: Not Found.\n```\n\n```\nconfetti:cbc dcoudert$ cat package-version.txt | sed -re \"s/^(.*)\\\\.p.+$/\\\\1/\"\nsed: illegal option -- r\nusage: sed script [-Ealn] [-i extension] [file ...]\n       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]\n```\n\n```\nconfetti:cbc dcoudert$ cat package-version.txt | sed -e \"s/^(.*)\\\\.p.+$/\\\\1/\"\nsed: 1: \"s/^(.*)\\.p.+$/\\1/\n\": \\1 not defined in the RE\n```\n\n```\nconfetti:cbc dcoudert$ cat package-version.txt | sed -e \"s/^(.*)\\\\.p.+$/$1/\"\n2.9.4\n```",
    "created_at": "2015-04-06T12:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247488",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:12" align="right">comment:12</div>


```
confetti:cbc dcoudert$ ./spkg-src 
sed: illegal option -- r
usage: sed script [-Ealn] [-i extension] [file ...]
       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]
--2015-04-06 14:35:26--  http://www.coin-or.org/download/source/Cbc/Cbc-.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 404 Not Found
2015-04-06 14:35:27 erreur 404 : Not Found.
```

```
confetti:cbc dcoudert$ cat package-version.txt | sed -re "s/^(.*)\\.p.+$/\\1/"
sed: illegal option -- r
usage: sed script [-Ealn] [-i extension] [file ...]
       sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]
```

```
confetti:cbc dcoudert$ cat package-version.txt | sed -e "s/^(.*)\\.p.+$/\\1/"
sed: 1: "s/^(.*)\.p.+$/\1/
": \1 not defined in the RE
```

```
confetti:cbc dcoudert$ cat package-version.txt | sed -e "s/^(.*)\\.p.+$/$1/"
2.9.4
```



---

archive/issue_comments_247489.json:
```json
{
    "body": "Changed commit from **[`3bb47c9`](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)** to **[`5c7e209`](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)**",
    "created_at": "2015-04-06T12:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247489",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3bb47c9`](https://github.com/sagemath/sagetrac-mirror/commit/3bb47c9b70a20bbca5a835f2db47a5f592421373)** to **[`5c7e209`](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)**



---

archive/issue_comments_247490.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e\"><code>5c7e209</code></a></td><td><code>trac #18126: avoid -r in sed</code></td></tr></table>\n",
    "created_at": "2015-04-06T12:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247490",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e"><code>5c7e209</code></a></td><td><code>trac #18126: avoid -r in sed</code></td></tr></table>




---

archive/issue_comments_247491.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nSome progress\n\n```\nconfetti:sage dcoudert$ ./sage -i cbc\nFound local metadata for cbc-2.9.4\nAttempting to download package cbc-2.9.4\n>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2\n[Traceback (most recent call last):\n  File \"<stdin>\", line 35, in <module>\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 240, in retrieve\n    fp = self.open(url, data)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 208, in open\n    return getattr(self, name)(url)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 359, in open_http\n    return self.http_error(url, fp, errcode, errmsg, headers)\n  File \"/Users/dcoudert/sage/local/lib/python/urllib.py\", line 376, in http_error\n    return self.http_error_default(url, fp, errcode, errmsg, headers)\n  File \"<stdin>\", line 17, in http_error_default\nIOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'\nError: failed to download package cbc-2.9.4\nconfetti:sage dcoudert$          \nconfetti:sage dcoudert$ cd build/pkgs/cbc/\nconfetti:cbc dcoudert$ ./spkg-src \n--2015-04-06 14:48:46--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 200 OK\nTaille\u00a0: 13761766 (13M) [application/x-gzip]\nSauvegarde en\u00a0: \u00ab\u00a0Cbc-2.9.4.tgz\u00a0\u00bb\n\nCbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  74,6KB/s   ds 2m 37s \n\n2015-04-06 14:51:24 (85,5 KB/s) \u2014 \u00ab\u00a0Cbc-2.9.4.tgz\u00a0\u00bb sauvegard\u00e9 [13761766/13761766]\n\nmv: rename Cbc-2.9.4.tar.bz2 to /upstream/cbc-2.9.4.tar.bz2: No such file or directory\nconfetti:cbc dcoudert$ ll\ntotal 23032\n-rw-r--r--  1 dcoudert  staff  11768072 31 mar 09:30 Cbc-2.9.4.tar.bz2\n-rw-r--r--  1 dcoudert  staff       905  6 avr 14:04 SPKG.txt\n-rw-r--r--  1 dcoudert  staff       128  6 avr 14:04 checksums.ini\n-rw-r--r--  1 dcoudert  staff         6  6 avr 14:04 package-version.txt\n-rwxr-xr-x  1 dcoudert  staff      1220  6 avr 14:04 spkg-install\n-rwxr-xr-x  1 dcoudert  staff       429  6 avr 14:47 spkg-src\n```\n\nAlso, version 2.9.4 is not listed on page http://www.sagemath.org/packages/optional/\nOnly 2.8.1.p0",
    "created_at": "2015-04-06T12:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247491",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">comment:14</div>

Some progress

```
confetti:sage dcoudert$ ./sage -i cbc
Found local metadata for cbc-2.9.4
Attempting to download package cbc-2.9.4
>>> Trying to download http://www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2
[Traceback (most recent call last):
  File "<stdin>", line 35, in <module>
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 240, in retrieve
    fp = self.open(url, data)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 208, in open
    return getattr(self, name)(url)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 359, in open_http
    return self.http_error(url, fp, errcode, errmsg, headers)
  File "/Users/dcoudert/sage/local/lib/python/urllib.py", line 376, in http_error
    return self.http_error_default(url, fp, errcode, errmsg, headers)
  File "<stdin>", line 17, in http_error_default
IOError: [Errno 404] Not Found: '//www.sagemath.org/packages/upstream/cbc/cbc-2.9.4.tar.bz2'
Error: failed to download package cbc-2.9.4
confetti:sage dcoudert$          
confetti:sage dcoudert$ cd build/pkgs/cbc/
confetti:cbc dcoudert$ ./spkg-src 
--2015-04-06 14:48:46--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 200 OK
Taille : 13761766 (13M) [application/x-gzip]
Sauvegarde en : « Cbc-2.9.4.tgz »

Cbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  74,6KB/s   ds 2m 37s 

2015-04-06 14:51:24 (85,5 KB/s) — « Cbc-2.9.4.tgz » sauvegardé [13761766/13761766]

mv: rename Cbc-2.9.4.tar.bz2 to /upstream/cbc-2.9.4.tar.bz2: No such file or directory
confetti:cbc dcoudert$ ll
total 23032
-rw-r--r--  1 dcoudert  staff  11768072 31 mar 09:30 Cbc-2.9.4.tar.bz2
-rw-r--r--  1 dcoudert  staff       905  6 avr 14:04 SPKG.txt
-rw-r--r--  1 dcoudert  staff       128  6 avr 14:04 checksums.ini
-rw-r--r--  1 dcoudert  staff         6  6 avr 14:04 package-version.txt
-rwxr-xr-x  1 dcoudert  staff      1220  6 avr 14:04 spkg-install
-rwxr-xr-x  1 dcoudert  staff       429  6 avr 14:47 spkg-src
```

Also, version 2.9.4 is not listed on page http://www.sagemath.org/packages/optional/
Only 2.8.1.p0



---

archive/issue_comments_247492.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHello,\n\nThis fails because your `SAGE_ROOT` variable is not set. You can:\n\n1) Define it in your bash; or\n2) Run the script from the console that you get after a `sage -sh`\n\nNathann",
    "created_at": "2015-04-06T12:59:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247492",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

Hello,

This fails because your `SAGE_ROOT` variable is not set. You can:

1) Define it in your bash; or
2) Run the script from the console that you get after a `sage -sh`

Nathann



---

archive/issue_comments_247493.json:
```json
{
    "body": "Changed commit from **[`5c7e209`](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)** to **[`217fb18`](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)**",
    "created_at": "2015-04-06T13:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5c7e209`](https://github.com/sagemath/sagetrac-mirror/commit/5c7e2098647a54eab41d1130257bf0874762d93e)** to **[`217fb18`](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)**



---

archive/issue_comments_247494.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1\"><code>217fb18</code></a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>\n",
    "created_at": "2015-04-06T13:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247494",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1"><code>217fb18</code></a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>




---

archive/issue_comments_247495.json:
```json
{
    "body": "Changed commit from **[`217fb18`](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)** to **[`4e3830f`](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)**",
    "created_at": "2015-04-06T13:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247495",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`217fb18`](https://github.com/sagemath/sagetrac-mirror/commit/217fb18a0d198ba2966fa3973fe845d9eb89a0e1)** to **[`4e3830f`](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)**



---

archive/issue_comments_247496.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a\"><code>4e3830f</code></a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>\n",
    "created_at": "2015-04-06T13:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247496",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a"><code>4e3830f</code></a></td><td><code>trac #18126: Warning when SAGE_ROOT is not set</code></td></tr></table>




---

archive/issue_comments_247497.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYou did a push while I was testing the stuff, so I don't know if it will change something.\n\nAfter setting SAGE_ROOT in .bash_profile :\n\n```\nconfetti:cbc dcoudert$ ./spkg-src \n--2015-04-06 15:07:53--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz\nR\u00e9solution de www.coin-or.org (www.coin-or.org)\u2026 130.127.215.8\nConnexion \u00e0 www.coin-or.org (www.coin-or.org)|130.127.215.8|:80\u2026 connect\u00e9.\nrequ\u00eate HTTP transmise, en attente de la r\u00e9ponse\u2026 200 OK\nTaille : 13761766 (13M) [application/x-gzip]\nSauvegarde en : \u00ab Cbc-2.9.4.tgz \u00bb\n\nCbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  93,9KB/s   ds 2m 9s  \n\n2015-04-06 15:10:05 (104 KB/s) \u2014 \u00ab Cbc-2.9.4.tgz \u00bb sauvegard\u00e9 [13761766/13761766]\n\n./spkg-src: line 17: sage: command not found\nconfetti:cbc dcoudert$ echo $SAGE_ROOT\n/Users/dcoudert/sage/\nconfetti:cbc dcoudert$ sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath Version 6.6.rc2, Release Date: 2015-04-02                 \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: \nExiting Sage (CPU time 0m0.02s, Wall time 0m5.00s).\nconfetti:cbc dcoudert$ cd $SAGE_ROOT\nconfetti:sage dcoudert$ sage -i cbc\nFound local metadata for cbc-2.9.4\nFound local sources at /Users/dcoudert/sage/upstream/cbc-2.9.4.tar.bz2\nChecksum: 6afb943dcc3f60bff525456ad175cf19f6a2e28e vs 6afb943dcc3f60bff525456ad175cf19f6a2e28e\ncbc-2.9.4\n====================================================\nSetting up build directory for cbc-2.9.4\n...\n...\nSuccessfully installed cbc-2.9.4\nDeleting temporary build directory\n/Users/dcoudert/sage/local/var/tmp/sage/build/cbc-2.9.4\nFinished installing cbc-2.9.4.spkg\n\nWarning: it might be needed to update the Sage library before\ninstalled packages work: you should run 'make' from $SAGE_ROOT\nbefore running Sage.\n\n```\n\nSo it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.\n\nWhat should I do next?",
    "created_at": "2015-04-06T13:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247497",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:18" align="right">comment:18</div>

You did a push while I was testing the stuff, so I don't know if it will change something.

After setting SAGE_ROOT in .bash_profile :

```
confetti:cbc dcoudert$ ./spkg-src 
--2015-04-06 15:07:53--  http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz
Résolution de www.coin-or.org (www.coin-or.org)… 130.127.215.8
Connexion à www.coin-or.org (www.coin-or.org)|130.127.215.8|:80… connecté.
requête HTTP transmise, en attente de la réponse… 200 OK
Taille : 13761766 (13M) [application/x-gzip]
Sauvegarde en : « Cbc-2.9.4.tgz »

Cbc-2.9.4.tgz                                       100%[===================================================================================================================>]  13,12M  93,9KB/s   ds 2m 9s  

2015-04-06 15:10:05 (104 KB/s) — « Cbc-2.9.4.tgz » sauvegardé [13761766/13761766]

./spkg-src: line 17: sage: command not found
confetti:cbc dcoudert$ echo $SAGE_ROOT
/Users/dcoudert/sage/
confetti:cbc dcoudert$ sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath Version 6.6.rc2, Release Date: 2015-04-02                 │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: 
Exiting Sage (CPU time 0m0.02s, Wall time 0m5.00s).
confetti:cbc dcoudert$ cd $SAGE_ROOT
confetti:sage dcoudert$ sage -i cbc
Found local metadata for cbc-2.9.4
Found local sources at /Users/dcoudert/sage/upstream/cbc-2.9.4.tar.bz2
Checksum: 6afb943dcc3f60bff525456ad175cf19f6a2e28e vs 6afb943dcc3f60bff525456ad175cf19f6a2e28e
cbc-2.9.4
====================================================
Setting up build directory for cbc-2.9.4
...
...
Successfully installed cbc-2.9.4
Deleting temporary build directory
/Users/dcoudert/sage/local/var/tmp/sage/build/cbc-2.9.4
Finished installing cbc-2.9.4.spkg

Warning: it might be needed to update the Sage library before
installed packages work: you should run 'make' from $SAGE_ROOT
before running Sage.

```

So it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.

What should I do next?



---

archive/issue_comments_247498.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHello !\n\n> You did a push while I was testing the stuff, so I don't know if it will change something.\n\nI added a warning to say something more useful when SAGE_ROOT is not defined. This block of 4 lines can be found in most `spkg-install` scripts that Sage ships.\n\n> So it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.\n\nNew-style spkg work this way: ideally we have in upstream/ the copy of the source files, as given by the original authors of the software. Then, in build/pkgs we have some scripts to install it as it should in Sage.\n\nAs the sources were not available on your computer (and obviously not on Sage's server either, as the version we have here is more recent) the spkg-src script downloaded it from Coin's website and created the upstream/ archive. Then, with `sage -i cbc` you called the scripts from `build/pkgs/`, which used the new .tar.bz2 file.\n\n> What should I do next?\n\nWell, now you apparently have Cbc on your computer. So you can solve LP with it, check that tests pass when you add `--optional=sage,coin` to `sage -t`.\n\nNathann",
    "created_at": "2015-04-06T13:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247498",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:19" align="right">comment:19</div>

Hello !

> You did a push while I was testing the stuff, so I don't know if it will change something.

I added a warning to say something more useful when SAGE_ROOT is not defined. This block of 4 lines can be found in most `spkg-install` scripts that Sage ships.

> So it is working this way, but it was not working when trying first `sage -i cbc`. Don't know why.

New-style spkg work this way: ideally we have in upstream/ the copy of the source files, as given by the original authors of the software. Then, in build/pkgs we have some scripts to install it as it should in Sage.

As the sources were not available on your computer (and obviously not on Sage's server either, as the version we have here is more recent) the spkg-src script downloaded it from Coin's website and created the upstream/ archive. Then, with `sage -i cbc` you called the scripts from `build/pkgs/`, which used the new .tar.bz2 file.

> What should I do next?

Well, now you apparently have Cbc on your computer. So you can solve LP with it, check that tests pass when you add `--optional=sage,coin` to `sage -t`.

Nathann



---

archive/issue_comments_247499.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n- The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357\n- I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?\n- \"SPKG Maintainers\" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324",
    "created_at": "2015-04-06T20:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247499",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:20" align="right">comment:20</div>

- The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357
- I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?
- "SPKG Maintainers" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324



---

archive/issue_events_257757.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-06T20:16:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257757"
}
```



---

archive/issue_events_257758.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-06T20:16:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257758"
}
```



---

archive/issue_comments_247500.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHello,\n\n> - The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357\n\nThe `spkg-install` file is a pure copy of what the spkg already contains.\n\n> - I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?\n\nBecause I believe that we need .tar.bz2 files in upstream. There is no other reason.\n\n> - \"SPKG Maintainers\" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324\n\nI don't mind. I will remove it in a second and set the patch to `needs_review` again, waiting for your answer about the first two points.\n\nNathann",
    "created_at": "2015-04-06T20:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247500",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

Hello,

> - The changes made on the source code should better be in a separate patch file rather than a `sed` command within the `spkg-install` script (so that one can easily see what changed from upstream in a uniform way). The associated comment should be part of the patch, see #17357

The `spkg-install` file is a pure copy of what the spkg already contains.

> - I do not see the point of `spkg-src` : since there is no change made in the tarball, why not just keep the upstream `Cbc-2.9.4.tgz` file and rename it `cbc-2.9.4.tar.gz` without any modification and put the link http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz in the ticket description ?

Because I believe that we need .tar.bz2 files in upstream. There is no other reason.

> - "SPKG Maintainers" field is no longer required, see https://groups.google.com/forum/?fromgroups#!searchin/sage-devel/spkg$20maintainers/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324

I don't mind. I will remove it in a second and set the patch to `needs_review` again, waiting for your answer about the first two points.

Nathann



---

archive/issue_comments_247501.json:
```json
{
    "body": "Changed commit from **[`4e3830f`](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)** to **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**",
    "created_at": "2015-04-06T20:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247501",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e3830f`](https://github.com/sagemath/sagetrac-mirror/commit/4e3830fbf8c6c7d72ba6f0cdf44ee761bc203a2a)** to **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**



---

archive/issue_comments_247502.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8\"><code>a372011</code></a></td><td><code>trac #18126: Remove the 'maintainers' section from SPKG.txt</code></td></tr></table>\n",
    "created_at": "2015-04-06T20:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247502",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8"><code>a372011</code></a></td><td><code>trac #18126: Remove the 'maintainers' section from SPKG.txt</code></td></tr></table>




---

archive/issue_events_257759.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T20:27:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257759"
}
```



---

archive/issue_events_257760.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-06T20:27:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257760"
}
```



---

archive/issue_comments_247503.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHi,\n\nthe third point was the minor one,\n- concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources\n- concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs\n\nCiao,\nThierry",
    "created_at": "2015-04-06T21:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247503",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:25" align="right">comment:25</div>

Hi,

the third point was the minor one,
- concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources
- concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs

Ciao,
Thierry



---

archive/issue_comments_247504.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n This branch turns CBC into a new-style spkg.\n \n-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).\n+package available at \n+http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz \n \n Nathann\n``````\n",
    "created_at": "2015-04-06T21:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247504",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 This branch turns CBC into a new-style spkg.
 
-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).
+package available at 
+http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz 
 
 Nathann
``````




---

archive/issue_comments_247505.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b\"><code>7a67d4d</code></a></td><td><code>trac #18126: Remove spkg-src</code></td></tr></table>\n",
    "created_at": "2015-04-06T21:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247505",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b"><code>7a67d4d</code></a></td><td><code>trac #18126: Remove spkg-src</code></td></tr></table>




---

archive/issue_comments_247506.json:
```json
{
    "body": "Changed commit from **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[`7a67d4d`](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)**",
    "created_at": "2015-04-06T21:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247506",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[`7a67d4d`](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)**



---

archive/issue_comments_247507.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nHello,\n\n> - concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources\n\nIn general applying patches is a good idea, but here we are patching an automatically generated file. I believe that it is safer to change it with a sed command (which just replaces some text with another one), as we would otherwise have to change the patch files (using the sed comand) whenever it changes.\n\n> - concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs\n\nI removed the script.\n\nNathann",
    "created_at": "2015-04-06T21:31:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247507",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

Hello,

> - concerning the first point, it is better to have our custom changes in a single well-defined place, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#patching-sources

In general applying patches is a good idea, but here we are patching an automatically generated file. I believe that it is safer to change it with a sed command (which just replaces some text with another one), as we would otherwise have to change the patch files (using the sed comand) whenever it changes.

> - concerning the second point, tar.gz files are also accepted and `spkg-src` should be avoided as possible, you can have a look at : http://www.sagemath.org/doc/developer/packaging.html#modified-tarballs

I removed the script.

Nathann



---

archive/issue_comments_247508.json:
```json
{
    "body": "Changed commit from **[`7a67d4d`](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)** to **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**",
    "created_at": "2015-04-06T22:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247508",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7a67d4d`](https://github.com/sagemath/sagetrac-mirror/commit/7a67d4dedbed50e2f3d492321b5a566a4c17027b)** to **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)**



---

archive/issue_comments_247509.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-04-06T22:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247509",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_247510.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,5 @@\n This branch turns CBC into a new-style spkg.\n \n-package available at \n-http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz \n+The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).\n \n Nathann\n``````\n",
    "created_at": "2015-04-06T22:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247510",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,5 @@
 This branch turns CBC into a new-style spkg.
 
-package available at 
-http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz 
+The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).
 
 Nathann
``````




---

archive/issue_comments_247511.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nHaving a .tar.gz file seems to break the install scipts. I removed the last commit and set the ticket's description to its original text.",
    "created_at": "2015-04-06T22:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247511",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

Having a .tar.gz file seems to break the install scipts. I removed the last commit and set the ticket's description to its original text.



---

archive/issue_comments_247512.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0\"><code>7f8eda5</code></a></td><td><code>#18126 : use original .tar.gz source instead of custom .tar.bz2</code></td></tr></table>\n",
    "created_at": "2015-04-07T21:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247512",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0"><code>7f8eda5</code></a></td><td><code>#18126 : use original .tar.gz source instead of custom .tar.bz2</code></td></tr></table>




---

archive/issue_comments_247513.json:
```json
{
    "body": "Changed commit from **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[`7f8eda5`](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)**",
    "created_at": "2015-04-07T21:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247513",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a372011`](https://github.com/sagemath/sagetrac-mirror/commit/a372011eb60f2a3e6b01831430743a7421fd56f8)** to **[`7f8eda5`](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)**



---

archive/issue_comments_247514.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@nathanncohen](#comment:30):\n> Having a .tar.gz file seems to break the install scipts.\n> \n\nI think this is because you did not update `checksums.ini`.\n\nThe installation works fine, but then, when i do `sage -b`, i got : \n\n```\n...\nbuilding 'sage.numerical.backends.coin_backend' extension\nExecuting 1 command (using 1 thread)\nerror: [Errno 13] Permission denied\n```\n\nDo you know what could be wrong ?",
    "created_at": "2015-04-07T21:10:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247514",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@nathanncohen](#comment:30):
> Having a .tar.gz file seems to break the install scipts.
> 

I think this is because you did not update `checksums.ini`.

The installation works fine, but then, when i do `sage -b`, i got : 

```
...
building 'sage.numerical.backends.coin_backend' extension
Executing 1 command (using 1 thread)
error: [Errno 13] Permission denied
```

Do you know what could be wrong ?



---

archive/issue_events_257761.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-07T21:10:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257761"
}
```



---

archive/issue_events_257762.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2015-04-07T21:10:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257762"
}
```



---

archive/issue_comments_247515.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nYo !\n\n> I think this is because you did not update `checksums.ini`.\n\nI am an idiot `T_T`\n\n> The installation works fine, but then, when i do `sage -b`, i got : \n> \n> ```\n> ...\n> building 'sage.numerical.backends.coin_backend' extension\n> Executing 1 command (using 1 thread)\n> error: [Errno 13] Permission denied\n> ```\n> \n> Do you know what could be wrong ?\n\nNo idea. What is the line that raises that? Are you the user with writing permissions on SAGE_ROOT and its subdirectories?\n\nNathann",
    "created_at": "2015-04-07T21:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247515",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:33" align="right">comment:33</div>

Yo !

> I think this is because you did not update `checksums.ini`.

I am an idiot `T_T`

> The installation works fine, but then, when i do `sage -b`, i got : 
> 
> ```
> ...
> building 'sage.numerical.backends.coin_backend' extension
> Executing 1 command (using 1 thread)
> error: [Errno 13] Permission denied
> ```
> 
> Do you know what could be wrong ?

No idea. What is the line that raises that? Are you the user with writing permissions on SAGE_ROOT and its subdirectories?

Nathann



---

archive/issue_comments_247516.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@nathanncohen](#comment:33):\n> No idea. What is the line that raises that? \n\nThe full output of `sage -b` command is:\n\n```\nscons: `install' is up to date.\nUpdating Cython code....\nEnabling Cython debugging support\nFinished Cythonizing, time: 14.40 seconds.\nDiscovering Python source code....\nDiscovered Python source, time: 0.23 seconds.\nCleaning up stale installed files....\n- cleaning /opt/sagemath/sage-6.3/local/lib/python2.7/site-packages\n- cleaning /opt/sagemath/sage-6.3/local/lib/site-python\n- cleaning /opt/sagemath/sage-6.3/src/build/lib.linux-i686-2.7\nFinished cleaning, time: 0.29 seconds.\nrunning install\nrunning build\nrunning build_py\nrunning build_ext\nbuilding 'sage.numerical.backends.coin_backend' extension\nExecuting 1 command (using 1 thread)\nerror: [Errno 13] Permission denied\n```\n\nNote that `sage -i cbc` ended with `Finished installing cbc-2.9.4.spkg`. I have been out of memory during sd66, i hope it did not mess up something on my directory.\n\n> Are you the user with writing permissions on SAGE_ROOT and its subdirectories?\n\nYes, i have only one user on my computer :)",
    "created_at": "2015-04-07T21:30:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247516",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@nathanncohen](#comment:33):
> No idea. What is the line that raises that? 

The full output of `sage -b` command is:

```
scons: `install' is up to date.
Updating Cython code....
Enabling Cython debugging support
Finished Cythonizing, time: 14.40 seconds.
Discovering Python source code....
Discovered Python source, time: 0.23 seconds.
Cleaning up stale installed files....
- cleaning /opt/sagemath/sage-6.3/local/lib/python2.7/site-packages
- cleaning /opt/sagemath/sage-6.3/local/lib/site-python
- cleaning /opt/sagemath/sage-6.3/src/build/lib.linux-i686-2.7
Finished cleaning, time: 0.29 seconds.
running install
running build
running build_py
running build_ext
building 'sage.numerical.backends.coin_backend' extension
Executing 1 command (using 1 thread)
error: [Errno 13] Permission denied
```

Note that `sage -i cbc` ended with `Finished installing cbc-2.9.4.spkg`. I have been out of memory during sd66, i hope it did not mess up something on my directory.

> Are you the user with writing permissions on SAGE_ROOT and its subdirectories?

Yes, i have only one user on my computer :)



---

archive/issue_comments_247517.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@sagetrac-tmonteil](#comment:34):\n> \n> Yes, i have only one user on my computer :)\n\nBut that doesn't mean the folder belongs to you, there are plenty of system class user out there - root in particular. Have you done anything as root with your install?",
    "created_at": "2015-04-07T21:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247517",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@sagetrac-tmonteil](#comment:34):
> 
> Yes, i have only one user on my computer :)

But that doesn't mean the folder belongs to you, there are plenty of system class user out there - root in particular. Have you done anything as root with your install?



---

archive/issue_comments_247518.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@kiwifb](#comment:35):\n> Have you done anything as root with your install?\n\nNot that i recall, but perhaps some chmod operation was not allowed when my disk was full. I double-checked that all files and subdirectories of SAGE_ROOT belong to my daily user (`find ! -user 1000` leads to nothing). I removed all cbc-related code, and the problem is still there, so it is probably an unrelated issue, sorry for the noise, i will come back to the review once this is fixed.",
    "created_at": "2015-04-07T22:26:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247518",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@kiwifb](#comment:35):
> Have you done anything as root with your install?

Not that i recall, but perhaps some chmod operation was not allowed when my disk was full. I double-checked that all files and subdirectories of SAGE_ROOT belong to my daily user (`find ! -user 1000` leads to nothing). I removed all cbc-related code, and the problem is still there, so it is probably an unrelated issue, sorry for the noise, i will come back to the review once this is fixed.



---

archive/issue_comments_247519.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI set the ticket back to `needs_review` in the meantime. I have seen tickets go forgotten just because of their status `:-P`\n\nNathann",
    "created_at": "2015-04-08T07:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247519",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:37" align="right">comment:37</div>

I set the ticket back to `needs_review` in the meantime. I have seen tickets go forgotten just because of their status `:-P`

Nathann



---

archive/issue_events_257763.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T07:19:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257763"
}
```



---

archive/issue_events_257764.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T07:19:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257764"
}
```



---

archive/issue_events_257765.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:29:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257765"
}
```



---

archive/issue_events_257766.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:29:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257766"
}
```



---

archive/issue_comments_247520.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThe following worked well:\n- downloading the tarball from http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz\n- rename it to `cbc-2.9.4.tar.gz` and move it to `$SAGE_ROOT/upstream`\n- do `sage -i cbc`\n- do `make`\n\nCould you update the ticket description?\n\nVincent",
    "created_at": "2015-04-08T08:29:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247520",
    "user": "https://github.com/videlec"
}
```

<div id="comment:38" align="right">comment:38</div>

The following worked well:
- downloading the tarball from http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz
- rename it to `cbc-2.9.4.tar.gz` and move it to `$SAGE_ROOT/upstream`
- do `sage -i cbc`
- do `make`

Could you update the ticket description?

Vincent



---

archive/issue_comments_247521.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This branch turns CBC into a new-style spkg.\n \n-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).\n+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)\n \n Nathann\n``````\n",
    "created_at": "2015-04-08T08:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247521",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This branch turns CBC into a new-style spkg.
 
-The new upstream/cbc-2.9.4.tar.bz2 file is automatically built by the spkg-src script (the current version in Sage is 2.8.1).
+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)
 
 Nathann
``````




---

archive/issue_events_257767.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T08:32:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257767"
}
```



---

archive/issue_events_257768.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T08:32:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257768"
}
```



---

archive/issue_comments_247522.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@nathanncohen](#comment:39):\n\nNote that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.\n\nVincent",
    "created_at": "2015-04-08T08:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247522",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@nathanncohen](#comment:39):

Note that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.

Vincent



---

archive/issue_comments_247523.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n> Note that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.\n\nI had not noticed. Could you make the modification so that I do not get it wrong again?\n\nNathann",
    "created_at": "2015-04-08T08:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247523",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:41" align="right">comment:41</div>

> Note that the installation with `.tgz` did not work for me and I had to rename it `.tar.gz`.

I had not noticed. Could you make the modification so that I do not get it wrong again?

Nathann



---

archive/issue_comments_247524.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This branch turns CBC into a new-style spkg.\n \n-SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)\n+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)\n \n Nathann\n``````\n",
    "created_at": "2015-04-08T08:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247524",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This branch turns CBC into a new-style spkg.
 
-SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (store in SAGE_ROOT/upstream)
+SPKG: http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz (has to be renamed `cbc-2.9.4.tar.gz` and stored in SAGE_ROOT/upstream)
 
 Nathann
``````




---

archive/issue_comments_247525.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nRunning `sage -t numerical/backends/coin_backend.pyx --optional Coin` I got a lot of errors claiming that `get_solver` is not defined. Could you update the doctests in that ticket?\n\nVincent",
    "created_at": "2015-04-08T08:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247525",
    "user": "https://github.com/videlec"
}
```

<div id="comment:42" align="right">comment:42</div>

Running `sage -t numerical/backends/coin_backend.pyx --optional Coin` I got a lot of errors claiming that `get_solver` is not defined. Could you update the doctests in that ticket?

Vincent



---

archive/issue_comments_247526.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nyou must run then with --optional=sage,coin. Otherwise ONLY the lines with a flag get executed.\n\nNathann",
    "created_at": "2015-04-08T08:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247526",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:43" align="right">comment:43</div>

you must run then with --optional=sage,coin. Otherwise ONLY the lines with a flag get executed.

Nathann



---

archive/issue_comments_247527.json:
```json
{
    "body": "Reviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**",
    "created_at": "2015-04-08T08:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247527",
    "user": "https://github.com/videlec"
}
```

Reviewer: **David Coudert, Thierry Monteil, Vincent Delecroix**



---

archive/issue_comments_247528.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nMuch better ;-)",
    "created_at": "2015-04-08T08:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247528",
    "user": "https://github.com/videlec"
}
```

<div id="comment:44" align="right">comment:44</div>

Much better ;-)



---

archive/issue_events_257769.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:47:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257769"
}
```



---

archive/issue_events_257770.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-08T08:47:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257770"
}
```



---

archive/issue_events_257771.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-08T13:53:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257771"
}
```



---

archive/issue_events_257772.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-08T13:53:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257772"
}
```



---

archive/issue_comments_247529.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nPlease remove this message\n\n```\nATTENTION: YOU HAVE TO REBUILD THE SAGE LIBRARY TO GET THIS TO WORK\n```\n\nAfter building a package, there is already\n\n```\nWarning: it might be needed to update the Sage library before\ninstalled packages work: you should run 'make' from $SAGE_ROOT\nbefore running Sage.\n```",
    "created_at": "2015-04-08T13:53:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247529",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Please remove this message

```
ATTENTION: YOU HAVE TO REBUILD THE SAGE LIBRARY TO GET THIS TO WORK
```

After building a package, there is already

```
Warning: it might be needed to update the Sage library before
installed packages work: you should run 'make' from $SAGE_ROOT
before running Sage.
```



---

archive/issue_comments_247530.json:
```json
{
    "body": "Changed commit from **[`7f8eda5`](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)** to **[`a328985`](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**",
    "created_at": "2015-04-08T15:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247530",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f8eda5`](https://github.com/sagemath/sagetrac-mirror/commit/7f8eda56a2f5b7f4f229d020a9d953308b9a7bc0)** to **[`a328985`](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**



---

archive/issue_comments_247531.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04\"><code>a328985</code></a></td><td><code>trac #18126: Review</code></td></tr></table>\n",
    "created_at": "2015-04-08T15:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247531",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04"><code>a328985</code></a></td><td><code>trac #18126: Review</code></td></tr></table>




---

archive/issue_events_257773.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T15:55:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257773"
}
```



---

archive/issue_events_257774.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-08T15:55:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257774"
}
```



---

archive/issue_comments_247532.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nDownload link with the correct filename?",
    "created_at": "2015-04-09T12:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247532",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:48" align="right">comment:48</div>

Download link with the correct filename?



---

archive/issue_comments_247533.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\n> Download link with the correct filename?\n\n```\nwget \nhttp://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz -O cbc-2.9.4.tar.gz\n```",
    "created_at": "2015-04-09T12:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247533",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:49" align="right">comment:49</div>

> Download link with the correct filename?

```
wget 
http://www.coin-or.org/download/source/Cbc/Cbc-2.9.4.tgz -O cbc-2.9.4.tar.gz
```



---

archive/issue_comments_247534.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nThanks, if you would also please integrate the renaming into the release management script?",
    "created_at": "2015-04-09T12:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247534",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:50" align="right">comment:50</div>

Thanks, if you would also please integrate the renaming into the release management script?



---

archive/issue_comments_247535.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nThanks, if you would also please integrate the renaming into the release management script?",
    "created_at": "2015-04-09T12:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247535",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:51" align="right">comment:51</div>

Thanks, if you would also please integrate the renaming into the release management script?



---

archive/issue_comments_247536.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nDo you need a permanent url for the package with the right name?\n\nNathann",
    "created_at": "2015-04-09T12:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247536",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:52" align="right">comment:52</div>

Do you need a permanent url for the package with the right name?

Nathann



---

archive/issue_comments_247537.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nyes, that is preferred",
    "created_at": "2015-04-09T12:27:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247537",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">comment:53</div>

yes, that is preferred



---

archive/issue_comments_247538.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nWhat for? Don't you download it just once, to add it to Sage's mirrors?\n\nNathann",
    "created_at": "2015-04-09T12:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247538",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:54" align="right">comment:54</div>

What for? Don't you download it just once, to add it to Sage's mirrors?

Nathann



---

archive/issue_comments_247539.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nupstream might also modify their tarball while we are waiting for sage-6.6",
    "created_at": "2015-04-09T12:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247539",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:55" align="right">comment:55</div>

upstream might also modify their tarball while we are waiting for sage-6.6



---

archive/issue_comments_247540.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nWe have the checksums, no worries.\n\nNathann",
    "created_at": "2015-04-09T12:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247540",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:56" align="right">comment:56</div>

We have the checksums, no worries.

Nathann



---

archive/issue_comments_247541.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nI'm not testing optional package checksums fyi",
    "created_at": "2015-04-09T12:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247541",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">comment:57</div>

I'm not testing optional package checksums fyi



---

archive/issue_comments_247542.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nWould it be better for you if I re-wrote the spkg-src script that we had before? It would download the file and renames it for you.\n\nNathann",
    "created_at": "2015-04-09T12:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247542",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:58" align="right">comment:58</div>

Would it be better for you if I re-wrote the spkg-src script that we had before? It would download the file and renames it for you.

Nathann



---

archive/issue_comments_247543.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nVolker?",
    "created_at": "2015-04-10T07:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247543",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:59" align="right">comment:59</div>

Volker?



---

archive/issue_comments_247544.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nHow's that going to help? I'm not going to manually run a different script every time some tarball gets updated.",
    "created_at": "2015-04-10T08:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247544",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:60" align="right">comment:60</div>

How's that going to help? I'm not going to manually run a different script every time some tarball gets updated.



---

archive/issue_comments_247545.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\n> How's that going to help? I'm not going to manually run a different script every time some tarball gets updated.\n\nWell right now you have to download it manually [1]. They don't upload the tarballs on my server when they make a new release, and unfortunately you cannot download it directly yourself because the first letter is in upper case. Life is tough.\n\nNathann\n\n[1] http://www.steinertriples.fr/ncohen/tmp/cbc-2.9.4.tar.gz",
    "created_at": "2015-04-10T08:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247545",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:61" align="right">comment:61</div>

> How's that going to help? I'm not going to manually run a different script every time some tarball gets updated.

Well right now you have to download it manually [1]. They don't upload the tarballs on my server when they make a new release, and unfortunately you cannot download it directly yourself because the first letter is in upper case. Life is tough.

Nathann

[1] http://www.steinertriples.fr/ncohen/tmp/cbc-2.9.4.tar.gz



---

archive/issue_comments_247546.json:
```json
{
    "body": "Changed branch from **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)** to **[`a328985`](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**",
    "created_at": "2015-04-14T19:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18126#issuecomment-247546",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/18126](https://github.com/sagemath/sagetrac-mirror/tree/public/18126)** to **[`a328985`](https://github.com/sagemath/sagetrac-mirror/commit/a3289854b1d4da2d1b126ecc788f17966482df04)**



---

archive/issue_events_257775.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257775"
}
```



---

archive/issue_events_257776.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "08fc59bcd796ac364476d3b9c4afe1fedba914ba",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-04-14T19:43:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18126",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18126#event-257776"
}
```
