# Issue 18792: side effect from Pari verbose mechanism in factor()

archive/issues_018555.json:
```json
{
    "body": "I did try to factor some large integer with `factor(n, 8)`, and since it did not succeed I did abort with Ctrl-C.\n\nAfter that, with `is_prime(p)` for some (say) 20-digit prime p, I had plenty of verbose message from Pari.\n\nI guess Pari uses some global variable for the verbose level, which is not properly restored in case of Ctrl-C.\n\nI was not able to reproduce the problem, but maybe someone will.\n\nBranch/Commit: [46c8e6dc69c1966ac52e7a12cd610fc76cbd212a](https://github.com/sagemath/sagetrac-mirror/commit/46c8e6dc69c1966ac52e7a12cd610fc76cbd212a)\n\nReviewer: Paul Zimmermann\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18792\n\n",
    "closed_at": "2015-06-26T20:28:11Z",
    "created_at": "2015-06-26T12:01:13Z",
    "labels": [
        "component: basic arithmetic",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "side effect from Pari verbose mechanism in factor()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18792",
    "user": "https://github.com/zimmermann6"
}
```
I did try to factor some large integer with `factor(n, 8)`, and since it did not succeed I did abort with Ctrl-C.

After that, with `is_prime(p)` for some (say) 20-digit prime p, I had plenty of verbose message from Pari.

I guess Pari uses some global variable for the verbose level, which is not properly restored in case of Ctrl-C.

I was not able to reproduce the problem, but maybe someone will.

Branch/Commit: [46c8e6dc69c1966ac52e7a12cd610fc76cbd212a](https://github.com/sagemath/sagetrac-mirror/commit/46c8e6dc69c1966ac52e7a12cd610fc76cbd212a)

Reviewer: Paul Zimmermann

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18792





---

archive/issue_comments_335161.json:
```json
{
    "body": "<a id='comment:1'></a>\nI guess you meant `factor(n, verbose=8)`??",
    "created_at": "2015-06-26T12:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335161",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>
I guess you meant `factor(n, verbose=8)`??



---

archive/issue_comments_335162.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/side_effect_from_pari_verbose_mechanism_in_factor__\"",
    "created_at": "2015-06-26T12:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335162",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/side_effect_from_pari_verbose_mechanism_in_factor__"



---

archive/issue_comments_335163.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[46c8e6d](https://github.com/sagemath/sagetrac-mirror/commit/46c8e6dc69c1966ac52e7a12cd610fc76cbd212a)|`Reset PARI debug level in factor_using_pari()`|",
    "created_at": "2015-06-26T12:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335163",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[46c8e6d](https://github.com/sagemath/sagetrac-mirror/commit/46c8e6dc69c1966ac52e7a12cd610fc76cbd212a)|`Reset PARI debug level in factor_using_pari()`|



---

archive/issue_comments_335164.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-26T12:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335164",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_335165.json:
```json
{
    "body": "Changing commit from \"\" to \"46c8e6dc69c1966ac52e7a12cd610fc76cbd212a\"",
    "created_at": "2015-06-26T12:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335165",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "46c8e6dc69c1966ac52e7a12cd610fc76cbd212a"



---

archive/issue_comments_335166.json:
```json
{
    "body": "Changing author from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2015-06-26T12:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335166",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Jeroen Demeyer"



---

archive/issue_comments_335167.json:
```json
{
    "body": "<a id='comment:4'></a>\n> I guess you meant `factor(n, verbose=8)`??\n\n\nyes sorry. Here is how to reproduce:\n\n```\nsage: factor(2^512-1, verbose=8)\n<abort by Ctrl-C>\nsage: is_prime(14666663183052632232119)\nIFAC: cracking composite\n        17762695428604869974570581970879930064500799403051261281837789262867835507904480899279355438607411062340264886938391579907031637289373313\nIFAC: checking for pure square\nOddPwrs: is 17762695428604869974570581970879930064500799403051261281837789262867835507904480899279355438607411062340264886938391579907031637289373313\n        ...a 3rd, 5th, or 7th power?\n        modulo: resid. (remaining possibilities)\n           211:   70   (3rd 0, 5th 0, 7th 0)\nOddPwrs: examining 17762695428604869974570581970879930064500799403051261281837789262867835507904480899279355438607411062340264886938391579907031637289373313\nOddPwrs: testing for exponent 11\n        checking modulo 23\n        - ruled out\nOddPwrs: testing for exponent 13\n        checking modulo 53\n        - ruled out\nOddPwrs: testing for exponent 17\n        checking modulo 103\n        - ruled out\nOddPwrs: testing for exponent 19\n        checking modulo 191\n        - ruled out\nOddPwrs: testing for exponent 23\n        checking modulo 47\n        - ruled out\nOddPwrs: testing for exponent 29\n        checking modulo 59\n        - ruled out\n```",
    "created_at": "2015-06-26T13:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335167",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:4'></a>
> I guess you meant `factor(n, verbose=8)`??


yes sorry. Here is how to reproduce:

```
sage: factor(2^512-1, verbose=8)
<abort by Ctrl-C>
sage: is_prime(14666663183052632232119)
IFAC: cracking composite
        17762695428604869974570581970879930064500799403051261281837789262867835507904480899279355438607411062340264886938391579907031637289373313
IFAC: checking for pure square
OddPwrs: is 17762695428604869974570581970879930064500799403051261281837789262867835507904480899279355438607411062340264886938391579907031637289373313
        ...a 3rd, 5th, or 7th power?
        modulo: resid. (remaining possibilities)
           211:   70   (3rd 0, 5th 0, 7th 0)
OddPwrs: examining 17762695428604869974570581970879930064500799403051261281837789262867835507904480899279355438607411062340264886938391579907031637289373313
OddPwrs: testing for exponent 11
        checking modulo 23
        - ruled out
OddPwrs: testing for exponent 13
        checking modulo 53
        - ruled out
OddPwrs: testing for exponent 17
        checking modulo 103
        - ruled out
OddPwrs: testing for exponent 19
        checking modulo 191
        - ruled out
OddPwrs: testing for exponent 23
        checking modulo 47
        - ruled out
OddPwrs: testing for exponent 29
        checking modulo 59
        - ruled out
```



---

archive/issue_comments_335168.json:
```json
{
    "body": "<a id='comment:5'></a>\nseems fine to me.\nPaul",
    "created_at": "2015-06-26T15:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335168",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:5'></a>
seems fine to me.
Paul



---

archive/issue_comments_335169.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Paul Zimmermann\"",
    "created_at": "2015-06-26T15:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335169",
    "user": "https://github.com/zimmermann6"
}
```

Changing reviewer from "" to "Paul Zimmermann"



---

archive/issue_comments_335170.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-26T15:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335170",
    "user": "https://github.com/zimmermann6"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_335171.json:
```json
{
    "body": "<a id='comment:6'></a>\nI forgot to say: tested against 6.8.beta6 (revision c0e7217).",
    "created_at": "2015-06-26T15:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335171",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:6'></a>
I forgot to say: tested against 6.8.beta6 (revision c0e7217).



---

archive/issue_comments_335172.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-26T20:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335172",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_335173.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/side_effect_from_pari_verbose_mechanism_in_factor__\" to \"46c8e6dc69c1966ac52e7a12cd610fc76cbd212a\"",
    "created_at": "2015-06-26T20:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18792#issuecomment-335173",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/side_effect_from_pari_verbose_mechanism_in_factor__" to "46c8e6dc69c1966ac52e7a12cd610fc76cbd212a"



---

archive/issue_events_059765.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-26T20:28:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18792",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18792#event-59765"
}
```
