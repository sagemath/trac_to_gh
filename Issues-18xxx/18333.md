# Issue 18333: Cleanup and speedup in QQbar

archive/issues_018096.json:
```json
{
    "body": "This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n\nPrerequisites on number fields/polynomials/interval arithmetic\n- #18332: implement `is_integer` and `is_rational` on number field elements\n- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n- #18337: implement `real` and `imag` on real intervals\n- #17830: consider the natural order induced from `RR` for number fields with real embedding\n- #19362, #28191: refine root\n- #18356: implement composed_op from [BFSS]\n- #19824: faster comparison for (real) embedded number fields\n- #24503: enhanced `LazyAlgebraic`\n\nTasks in `AA/QQbar`:\n- #18303: better comparisons\n- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n- #15600: exactification is slow in `do_polred`\n- #16222, #18122, #31889: enhanced minpoly\n- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n- #20074: simplify method dispatcher for binary operators\n- #12745: conversion issue `QQbar -> AA`\n- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n- #12715: number field embeddings should always have target in `AA` or `QQbar`\n- #19356: QQbar.polynomial_root(): allow approximate root\n- #21095: slowness in exactification\n- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n- #5574: Implement QQbar<sup>QQ</sup> as action\n- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n- remove the following methods from `ANDescr`:\n   - `rational_value`\n   - `is_field_element`\n   - `is_exact`\n- (?) enhanced `sage_input` for `ANExtension`\n- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases\n- #26944: improve hashing to avoid exact computations\n- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).\n- #31767: more capable sign \n\nBugs\n\n- #20209: `QQbar -> RIF` conversion fails\n- #12745: Coercion problem with Algebraic Real Field\n- #20288: representation and mutability of the description\n\nCC:  @mezzarobba @gagern @cheuberg\n\nAuthor: Vincent Delecroix\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/18333\n\n",
    "created_at": "2015-04-29T12:09:02Z",
    "labels": [
        "component: number fields"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-wishlist",
    "title": "Cleanup and speedup in QQbar",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18333",
    "user": "https://github.com/videlec"
}
```
This is a task ticket for speed up and cleaning in `sage.rings.qqbar`

Prerequisites on number fields/polynomials/interval arithmetic
- #18332: implement `is_integer` and `is_rational` on number field elements
- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
- #18337: implement `real` and `imag` on real intervals
- #17830: consider the natural order induced from `RR` for number fields with real embedding
- #19362, #28191: refine root
- #18356: implement composed_op from [BFSS]
- #19824: faster comparison for (real) embedded number fields
- #24503: enhanced `LazyAlgebraic`

Tasks in `AA/QQbar`:
- #18303: better comparisons
- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
- #15600: exactification is slow in `do_polred`
- #16222, #18122, #31889: enhanced minpoly
- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
- #20074: simplify method dispatcher for binary operators
- #12745: conversion issue `QQbar -> AA`
- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
- #12715: number field embeddings should always have target in `AA` or `QQbar`
- #19356: QQbar.polynomial_root(): allow approximate root
- #21095: slowness in exactification
- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
- #5574: Implement QQbar<sup>QQ</sup> as action
- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
- remove the following methods from `ANDescr`:
   - `rational_value`
   - `is_field_element`
   - `is_exact`
- (?) enhanced `sage_input` for `ANExtension`
- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases
- #26944: improve hashing to avoid exact computations
- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).
- #31767: more capable sign 

Bugs

- #20209: `QQbar -> RIF` conversion fails
- #12745: Coercion problem with Algebraic Real Field
- #20288: representation and mutability of the description

CC:  @mezzarobba @gagern @cheuberg

Author: Vincent Delecroix

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/18333





---

archive/issue_comments_259443.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,12 @@\n-This is a task ticket for speed up cleaning in `sage.rings.qqbar`\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n - #18332: implement `is_integer` and `is_rational` on number field elements\n - #18303: better comparisons\n-- implement `unique_sign` and `unique_trunc` on interval field elements and use it for faster `sign`/`floor`/`ceil`/`trunc`/`round` on algebraic elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`\n+- enhanced `sage_input` for `ANRoot`\n+- remove `ANRootOfUnity` as one of the descriptor\n+- better powering (`__pow__`) and fix convention for powering in `AA` vs `QQbar`\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-04-29T13:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259443",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,12 @@
-This is a task ticket for speed up cleaning in `sage.rings.qqbar`
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
 - #18332: implement `is_integer` and `is_rational` on number field elements
 - #18303: better comparisons
-- implement `unique_sign` and `unique_trunc` on interval field elements and use it for faster `sign`/`floor`/`ceil`/`trunc`/`round` on algebraic elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`
+- enhanced `sage_input` for `ANRoot`
+- remove `ANRootOfUnity` as one of the descriptor
+- better powering (`__pow__`) and fix convention for powering in `AA` vs `QQbar`
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259444.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18303: better comparisons\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`\n+- enhanced `sage_input` for `ANRoot`\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- remove `ANRootOfUnity` as one of the descriptor\n+- better powering (`__pow__`) and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-04-29T16:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259444",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18303: better comparisons
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`
+- enhanced `sage_input` for `ANRoot`
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- remove `ANRootOfUnity` as one of the descriptor
+- better powering (`__pow__`) and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259445.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18303: better comparisons\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-04-29T17:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259445",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18303: better comparisons
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259446.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,24 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+\n+Actual tasks:\n+- #18303: better comparisons\n+- #17886 and #18242: faster qqbar operations using resultants\n+- #15600: exactification is slow in `do_polred`\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- make number field elements compare themselves and use that\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-04-29T17:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259446",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,24 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+
+Actual tasks:
+- #18303: better comparisons
+- #17886 and #18242: faster qqbar operations using resultants
+- #15600: exactification is slow in `do_polred`
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- make number field elements compare themselves and use that
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259447.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,25 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+\n+Actual tasks:\n+- #18303: better comparisons\n+- #17886 and #18242: faster qqbar operations using resultants\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- make number field elements compare themselves and use that\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-04-29T17:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259447",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,25 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+
+Actual tasks:
+- #18303: better comparisons
+- #17886 and #18242: faster qqbar operations using resultants
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round`
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- make number field elements compare themselves and use that
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259448.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,27 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886 and #18242: faster qqbar operations using resultants\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator`\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-04-29T21:40:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259448",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,27 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886 and #18242: faster qqbar operations using resultants
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator`
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259449.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,28 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886 and #18242: faster qqbar operations using resultants\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #12745: conversion issue `QQbar -> AA`\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator`\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-05-03T10:10:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259449",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,28 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886 and #18242: faster qqbar operations using resultants
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #12745: conversion issue `QQbar -> AA`
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator`
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259450.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,29 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886 and #18242: faster qqbar operations using resultants\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator`\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-05-16T10:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259450",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,29 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886 and #18242: faster qqbar operations using resultants
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator`
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259451.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,29 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18356, #18242: faster qqbar operations using resultants\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator`\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2015-08-09T17:35:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259451",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,29 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18356, #18242: faster qqbar operations using resultants
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator`
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259452.json:
```json
{
    "body": "<a id='comment:11'></a>about slowness of QQbar, see #19910.",
    "created_at": "2016-01-18T17:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259452",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:11'></a>about slowness of QQbar, see #19910.



---

archive/issue_comments_259453.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,31 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-01-18T19:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259453",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,31 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_events_051740.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-01-18T19:32:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18333#event-51740"
}
```



---

archive/issue_comments_259454.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,32 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`\n+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`\n+- enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-01-18T19:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259454",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,32 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- fusion `ANRoot` and `ANRootOfUnity` within `ANExtension`
+- remove redundancy between the unary operators `norm`, `abs`, `real`, `imag` and `conjugate`
+- enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259455.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,31 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-01-24T20:16:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259455",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,31 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259456.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,32 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-02-17T03:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259456",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,32 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259457.json:
```json
{
    "body": "<a id='comment:16'></a>There's an issue on QQBar element powering reported in [#18836 comment 9](http://trac.sagemath.org/ticket/18836#comment:9) that may have interaction with what you're doing here (perhaps you're solving the issue?). Perhaps it's worthwhile including that problem in this QQbar cleanup operation somewhere.",
    "created_at": "2016-02-17T07:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259457",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:16'></a>There's an issue on QQBar element powering reported in [#18836 comment 9](http://trac.sagemath.org/ticket/18836#comment:9) that may have interaction with what you're doing here (perhaps you're solving the issue?). Perhaps it's worthwhile including that problem in this QQbar cleanup operation somewhere.



---

archive/issue_comments_259458.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-03-14T20:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259458",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,36 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259459.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,38 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-03-29T15:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259459",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,38 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259460.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,39 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-07-25T20:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259460",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,39 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259461.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,40 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-08-31T15:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259461",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,40 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259462.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,42 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-11-08T12:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259462",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,42 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259463.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,43 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+- #24503: enhanced `LazyAlgebraic`\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2018-01-10T11:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259463",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,43 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+- #24503: enhanced `LazyAlgebraic`
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259464.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,45 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+- #24503: enhanced `LazyAlgebraic`\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when \n+it is known to be zero\n+- #5574: Implement QQbar^QQ as action\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2018-01-10T11:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259464",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,45 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+- #24503: enhanced `LazyAlgebraic`
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when 
+it is known to be zero
+- #5574: Implement QQbar^QQ as action
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259465.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,44 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+- #24503: enhanced `LazyAlgebraic`\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n+- #5574: Implement QQbar^QQ as action\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2018-01-10T11:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259465",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,44 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+- #24503: enhanced `LazyAlgebraic`
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
+- #5574: Implement QQbar^QQ as action
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259466.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,44 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+- #24503: enhanced `LazyAlgebraic`\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n+- #5574: Implement QQbar<sup>QQ</sup> as action\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2018-01-10T11:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259466",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,44 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+- #24503: enhanced `LazyAlgebraic`
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
+- #5574: Implement QQbar<sup>QQ</sup> as action
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases.
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259467.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,46 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+- #24503: enhanced `LazyAlgebraic`\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n+- #5574: Implement QQbar<sup>QQ</sup> as action\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases\n+- #26944: improve hashing to avoid exact computations\n+- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2018-12-23T08:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259467",
    "user": "https://github.com/mezzarobba"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,46 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+- #24503: enhanced `LazyAlgebraic`
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
+- #5574: Implement QQbar<sup>QQ</sup> as action
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases
+- #26944: improve hashing to avoid exact computations
+- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259468.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,46 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362, #28191: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+- #24503: enhanced `LazyAlgebraic`\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n+- #5574: Implement QQbar<sup>QQ</sup> as action\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases\n+- #26944: improve hashing to avoid exact computations\n+- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).\n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2019-07-14T20:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259468",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,46 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362, #28191: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+- #24503: enhanced `LazyAlgebraic`
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
+- #5574: Implement QQbar<sup>QQ</sup> as action
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases
+- #26944: improve hashing to avoid exact computations
+- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_259469.json:
```json
{
    "body": "<a id='comment:30'></a>- [sage-devel, 2021-04-29: The sign() method in QQbar overlooks some (presumably) easy shortcuts](https://groups.google.com/g/sage-devel/c/OaUlf5VHBbc)",
    "created_at": "2021-04-29T20:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259469",
    "user": "https://github.com/slel"
}
```

<a id='comment:30'></a>- [sage-devel, 2021-04-29: The sign() method in QQbar overlooks some (presumably) easy shortcuts](https://groups.google.com/g/sage-devel/c/OaUlf5VHBbc)



---

archive/issue_comments_259470.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,47 @@\n+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`\n \n+Prerequisites on number fields/polynomials/interval arithmetic\n+- #18332: implement `is_integer` and `is_rational` on number field elements\n+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements\n+- #18337: implement `real` and `imag` on real intervals\n+- #17830: consider the natural order induced from `RR` for number fields with real embedding\n+- #19362, #28191: refine root\n+- #18356: implement composed_op from [BFSS]\n+- #19824: faster comparison for (real) embedded number fields\n+- #24503: enhanced `LazyAlgebraic`\n+\n+Tasks in `AA/QQbar`:\n+- #18303: better comparisons\n+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)\n+- #15600: exactification is slow in `do_polred`\n+- #16222, #18122, #31889: enhanced minpoly\n+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`\n+- #20074: simplify method dispatcher for binary operators\n+- #12745: conversion issue `QQbar -> AA`\n+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls\n+- #12715: number field embeddings should always have target in `AA` or `QQbar`\n+- #19356: QQbar.polynomial_root(): allow approximate root\n+- #21095: slowness in exactification\n+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero\n+- #5574: Implement QQbar<sup>QQ</sup> as action\n+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper\n+- remove the following methods from `ANDescr`:\n+   - `rational_value`\n+   - `is_field_element`\n+   - `is_exact`\n+- (?) enhanced `sage_input` for `ANExtension`\n+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`\n+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)\n+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases\n+- #26944: improve hashing to avoid exact computations\n+- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).\n+- #31767: more capable sign \n+\n+Bugs\n+\n+- #20209: `QQbar -> RIF` conversion fails\n+- #12745: Coercion problem with Algebraic Real Field\n+- #20288: representation and mutability of the description\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2021-06-01T07:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18333#issuecomment-259470",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,47 @@
+This is a task ticket for speed up and cleaning in `sage.rings.qqbar`
 
+Prerequisites on number fields/polynomials/interval arithmetic
+- #18332: implement `is_integer` and `is_rational` on number field elements
+- #18334: implement `unique_sign` and `unique_trunc` on interval field elements
+- #18337: implement `real` and `imag` on real intervals
+- #17830: consider the natural order induced from `RR` for number fields with real embedding
+- #19362, #28191: refine root
+- #18356: implement composed_op from [BFSS]
+- #19824: faster comparison for (real) embedded number fields
+- #24503: enhanced `LazyAlgebraic`
+
+Tasks in `AA/QQbar`:
+- #18303: better comparisons
+- #17886, #18242: faster exactification operations using power series and resultants (see also #18356)
+- #15600: exactification is slow in `do_polred`
+- #16222, #18122, #31889: enhanced minpoly
+- #19954 and #19955: remove all descriptors except `ANRoot`, `ANExtension` and `ANRational`
+- #20074: simplify method dispatcher for binary operators
+- #12745: conversion issue `QQbar -> AA`
+- #18106: introduce a polynomial descriptor, make sum and product be n-ary instead of binary and get rid of recursive calls
+- #12715: number field embeddings should always have target in `AA` or `QQbar`
+- #19356: QQbar.polynomial_root(): allow approximate root
+- #21095: slowness in exactification
+- #21838: do not make appear the imaginary (or real) part in QQbar when it is known to be zero
+- #5574: Implement QQbar<sup>QQ</sup> as action
+- use firstly interval arithmetic for `sign`/`floor`/`ceil`/`trunc`/`round` instead of the `_floor_ceil` helper
+- remove the following methods from `ANDescr`:
+   - `rational_value`
+   - `is_field_element`
+   - `is_exact`
+- (?) enhanced `sage_input` for `ANExtension`
+- better powering (`__pow__`) using `ANExtension` and fix convention for powering in `AA` vs `QQbar`
+- reimplement `_real_refine_interval` without these ugly dictionaries (see also #17895)
+- use directly embedded number fields in `AlgebraicGenerator` as comparison there is faster (see #17830 and #19824). We might want that these embedded number field carries an interval of fixed precision with them  (let say `64`) to avoid reevaluation in most cases
+- #26944: improve hashing to avoid exact computations
+- more generally, track down code in qqbar.py that may lead to larger extensions than necessary if an exact computation is triggered (for example, see if the formulas in `ANUnaryExpr.exactify()` can be optimized).
+- #31767: more capable sign 
+
+Bugs
+
+- #20209: `QQbar -> RIF` conversion fails
+- #12745: Coercion problem with Algebraic Real Field
+- #20288: representation and mutability of the description
 
 Author: Vincent Delecroix
 
``````

