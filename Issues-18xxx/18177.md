# Issue 18177: Warning to Matrix.random()

archive/issues_017940.json:
```json
{
    "body": "CC:  @rbeezer\n\n`Matrix.random()` do not give uniform distribution. What's worse, for GF matrices it does not even generate them all. Until this is fixed at least warning is needed in documentation.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18177\n\n",
    "closed_at": "2015-04-15T13:04:08Z",
    "created_at": "2015-04-13T07:10:25Z",
    "labels": [
        "component: linear algebra",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Warning to Matrix.random()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18177",
    "user": "https://github.com/jm58660"
}
```
CC:  @rbeezer

`Matrix.random()` do not give uniform distribution. What's worse, for GF matrices it does not even generate them all. Until this is fixed at least warning is needed in documentation.


Issue created by migration from https://trac.sagemath.org/ticket/18177





---

archive/issue_comments_240703.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-04-13T07:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240703",
    "user": "https://github.com/jm58660"
}
```

New commits:



---

archive/issue_comments_240704.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-13T07:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240704",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_240705.json:
```json
{
    "body": "Looks good. A naive request: if there is an example of small order for which you are sure that a given matrix `M` is never returned, could you add a doctest/example to this warning to illustrate it?\n\nSomething like `all(a_random_matrix() != m for i in range(100))`?\n\nNathann",
    "created_at": "2015-04-13T12:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240705",
    "user": "https://github.com/nathanncohen"
}
```

Looks good. A naive request: if there is an example of small order for which you are sure that a given matrix `M` is never returned, could you add a doctest/example to this warning to illustrate it?

Something like `all(a_random_matrix() != m for i in range(100))`?

Nathann



---

archive/issue_comments_240706.json:
```json
{
    "body": "Replying to [comment:3 ncohen]:\n> Looks good. A naive request: if there is an example of small order for which you are sure that a given matrix `M` is never returned, could you add a doctest/example to this warning to illustrate it?\n> \n> Something like `all(a_random_matrix() != m for i in range(100))`?\n\n\nHmm... For unimodular `3x3` matrices over `GF(3)` there seems to be `3^5` different matrix that are never returned. But for `2x2` over `GF(2)` there are only 3 of those. Easiest example is `M=Matrix([[0,2],[2,0]])`. But is this information useful to user?",
    "created_at": "2015-04-13T13:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240706",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:3 ncohen]:
> Looks good. A naive request: if there is an example of small order for which you are sure that a given matrix `M` is never returned, could you add a doctest/example to this warning to illustrate it?
> 
> Something like `all(a_random_matrix() != m for i in range(100))`?


Hmm... For unimodular `3x3` matrices over `GF(3)` there seems to be `3^5` different matrix that are never returned. But for `2x2` over `GF(2)` there are only 3 of those. Easiest example is `M=Matrix([[0,2],[2,0]])`. But is this information useful to user?



---

archive/issue_comments_240707.json:
```json
{
    "body": "> Hmm... For unimodular `3x3` matrices over `GF(3)` there seems to be `3^5` different matrix that are never returned. But for `2x2` over `GF(2)` there are only 3 of those. Easiest example is `M=Matrix([[0,2],[2,0]])`. But is this information useful to user?\n\n\nWell, it would just be a 'proof' of what we say. But `M=Matrix([[0,2],[2,0]])` does not seem to be a very good example of a matrix over `GF(2)` `^^;`\n\nNathann",
    "created_at": "2015-04-13T13:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240707",
    "user": "https://github.com/nathanncohen"
}
```

> Hmm... For unimodular `3x3` matrices over `GF(3)` there seems to be `3^5` different matrix that are never returned. But for `2x2` over `GF(2)` there are only 3 of those. Easiest example is `M=Matrix([[0,2],[2,0]])`. But is this information useful to user?


Well, it would just be a 'proof' of what we say. But `M=Matrix([[0,2],[2,0]])` does not seem to be a very good example of a matrix over `GF(2)` `^^;`

Nathann



---

archive/issue_comments_240708.json:
```json
{
    "body": "Replying to [comment:5 ncohen]:\n\n> Well, it would just be a 'proof' of what we say. But `M=Matrix([[0,2],[2,0]])` does not seem to be a very good example of a matrix over `GF(2)` `^^;`\n\n\nSorry, I meant `2x2` over `GF(3)`. But the question still remains: is this useful for user?",
    "created_at": "2015-04-13T13:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240708",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:5 ncohen]:

> Well, it would just be a 'proof' of what we say. But `M=Matrix([[0,2],[2,0]])` does not seem to be a very good example of a matrix over `GF(2)` `^^;`


Sorry, I meant `2x2` over `GF(3)`. But the question still remains: is this useful for user?



---

archive/issue_comments_240709.json:
```json
{
    "body": "It answers some questions that one could ask, like: \"Okayy, it says that it does not always work but perhaps it will work for me because I deal with very small matrices over very small fields?\". And the answer is 'no'. It is not very important, I was just thinking that it would be cool to say \"not all matrices appear, for example: <sage code>\".\n\nIf you think that it is too much trouble, no problem.",
    "created_at": "2015-04-13T13:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240709",
    "user": "https://github.com/nathanncohen"
}
```

It answers some questions that one could ask, like: "Okayy, it says that it does not always work but perhaps it will work for me because I deal with very small matrices over very small fields?". And the answer is 'no'. It is not very important, I was just thinking that it would be cool to say "not all matrices appear, for example: <sage code>".

If you think that it is too much trouble, no problem.



---

archive/issue_comments_240710.json:
```json
{
    "body": "Replying to [comment:7 ncohen]:\n> It answers some questions that one could ask, like: \"Okayy, it says that it does not always work but perhaps it will work for me because I deal with very small matrices over very small fields?\". And the answer is 'no'. It is not very important, I was just thinking that it would be cool to say \"not all matrices appear, for example: <sage code>\".\n\n\nOK, I'll modify this tomorrow.",
    "created_at": "2015-04-13T19:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240710",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:7 ncohen]:
> It answers some questions that one could ask, like: "Okayy, it says that it does not always work but perhaps it will work for me because I deal with very small matrices over very small fields?". And the answer is 'no'. It is not very important, I was just thinking that it would be cool to say "not all matrices appear, for example: <sage code>".


OK, I'll modify this tomorrow.



---

archive/issue_comments_240711.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-13T19:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240711",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_240712.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-14T06:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240712",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_240713.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-14T06:26:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240713",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_240714.json:
```json
{
    "body": "THaaaaaaaaaaaanks ! Good to go `:-)`\n\nNathann",
    "created_at": "2015-04-14T11:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240714",
    "user": "https://github.com/nathanncohen"
}
```

THaaaaaaaaaaaanks ! Good to go `:-)`

Nathann



---

archive/issue_comments_240715.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-14T11:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240715",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_240716.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-15T13:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18177#issuecomment-240716",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051427.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-15T13:04:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18177",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18177#event-51427"
}
```
