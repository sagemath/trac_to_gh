# Issue 18617: Implement polynomial number_of_terms method as alias of hamming_weight

archive/issues_018380.json:
```json
{
    "body": "Right now, there is a method `hamming_weight` to compute the number of nonzero coefficients of a polynomial. The goal of this ticket is two-fold:\n\n1. Rename this method into `number_of_terms`: I think the name `hamming_weight` is not excessively standard for this function, thus the function may be unknown form many users. My conviction is comes in part from several discussions I have been involved in where no one seem to know of the existence of this method.\n\n2. Implement a specialized version for sparse polynomials, in the spirit of #18518, #18585, #18600, which is much faster:\n\n```python\nsage: R.<x> = PolynomialRing(ZZ,sparse=True)\nsage: p = R.random_element(10000)\nsage: %timeit p.number_of_terms() # new code\nThe slowest run took 44.58 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 203 ns per loop\nsage: %timeit Polynomial.number_of_terms(p) # old code\n100 loops, best of 3: 2.77 ms per loop\n```\n\n*Note.* While I decided to group several modifications for sparse polynomials in a single ticket #18600, I prefer keeping this change in a separate ticket since it involves a deprecation that might be controversial (though I do not expect it will be the case).\n\n\nCC:  @ClementPernet @johanrosenkilde\n\nKeywords: polynomial\n\nBranch/Commit: 13a149449cd75749fcbe3a4118d39967845e2b43\n\nReviewer: Jeroen Demeyer\n\nAuthor: Bruno Grenet\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18617\n\n",
    "closed_at": "2016-03-02T23:30:28Z",
    "created_at": "2015-06-05T13:21:06Z",
    "labels": [
        "component: commutative algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "Implement polynomial number_of_terms method as alias of hamming_weight",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18617",
    "user": "https://github.com/bgrenet"
}
```
Right now, there is a method `hamming_weight` to compute the number of nonzero coefficients of a polynomial. The goal of this ticket is two-fold:

1. Rename this method into `number_of_terms`: I think the name `hamming_weight` is not excessively standard for this function, thus the function may be unknown form many users. My conviction is comes in part from several discussions I have been involved in where no one seem to know of the existence of this method.

2. Implement a specialized version for sparse polynomials, in the spirit of #18518, #18585, #18600, which is much faster:

```python
sage: R.<x> = PolynomialRing(ZZ,sparse=True)
sage: p = R.random_element(10000)
sage: %timeit p.number_of_terms() # new code
The slowest run took 44.58 times longer than the fastest. This could mean that an intermediate result is being cached 
1000000 loops, best of 3: 203 ns per loop
sage: %timeit Polynomial.number_of_terms(p) # old code
100 loops, best of 3: 2.77 ms per loop
```

*Note.* While I decided to group several modifications for sparse polynomials in a single ticket #18600, I prefer keeping this change in a separate ticket since it involves a deprecation that might be controversial (though I do not expect it will be the case).


CC:  @ClementPernet @johanrosenkilde

Keywords: polynomial

Branch/Commit: 13a149449cd75749fcbe3a4118d39967845e2b43

Reviewer: Jeroen Demeyer

Author: Bruno Grenet

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18617





---

archive/issue_comments_322661.json:
```json
{
    "body": "Changing branch from \"\" to \"u/bruno/hamming_weight_number_of_terms\"",
    "created_at": "2015-06-05T13:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322661",
    "user": "https://github.com/bgrenet"
}
```

Changing branch from "" to "u/bruno/hamming_weight_number_of_terms"



---

archive/issue_comments_322662.json:
```json
{
    "body": "Changing commit from \"\" to \"f9ab830ba5e62e54df37321b4261b012407fd283\"",
    "created_at": "2015-06-05T13:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322662",
    "user": "https://github.com/bgrenet"
}
```

Changing commit from "" to "f9ab830ba5e62e54df37321b4261b012407fd283"



---

archive/issue_comments_322663.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-05T13:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322663",
    "user": "https://github.com/bgrenet"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_322664.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[60ee12c](https://github.com/sagemath/sagetrac-mirror/commit/60ee12ccb9e642959b02199d3cec81126fff64aa)|`Add number_of_terms. Deprecate hamming_weight`|",
    "created_at": "2015-06-05T13:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322664",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[60ee12c](https://github.com/sagemath/sagetrac-mirror/commit/60ee12ccb9e642959b02199d3cec81126fff64aa)|`Add number_of_terms. Deprecate hamming_weight`|



---

archive/issue_comments_322665.json:
```json
{
    "body": "Changing commit from \"f9ab830ba5e62e54df37321b4261b012407fd283\" to \"60ee12ccb9e642959b02199d3cec81126fff64aa\"",
    "created_at": "2015-06-05T13:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f9ab830ba5e62e54df37321b4261b012407fd283" to "60ee12ccb9e642959b02199d3cec81126fff64aa"



---

archive/issue_comments_322666.json:
```json
{
    "body": "<a id='comment:4'></a>\nThere are precedents for calling the number of non-zero terms \"weight\" (but not \"Hamming weight\" as far as I know, which seems to be reserved for vectors):\n\n1. the function `irreducible_element()` in `src/sage/rings/polynomial/polynomial_ring.py` has a `algorithm=\"minimal_weight\"` option\n2. [https://eprint.iacr.org/2007/423.pdf](https://eprint.iacr.org/2007/423.pdf)\n3. NTL has a `weight` function for polynomials over `GF(2)`",
    "created_at": "2015-06-05T14:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322666",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
There are precedents for calling the number of non-zero terms "weight" (but not "Hamming weight" as far as I know, which seems to be reserved for vectors):

1. the function `irreducible_element()` in `src/sage/rings/polynomial/polynomial_ring.py` has a `algorithm="minimal_weight"` option
2. [https://eprint.iacr.org/2007/423.pdf](https://eprint.iacr.org/2007/423.pdf)
3. NTL has a `weight` function for polynomials over `GF(2)`



---

archive/issue_comments_322667.json:
```json
{
    "body": "<a id='comment:5'></a>\nSparse polynomial people sometimes call this number the \"sparsity\" of the polynomial. Perhaps we'll get an opinion from Cl\u00e9ment Pernet (cc'ed). I think \"weight\" also makes a lot of sense though (and is better than \"Hamming weight\").",
    "created_at": "2015-06-05T14:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322667",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:5'></a>
Sparse polynomial people sometimes call this number the "sparsity" of the polynomial. Perhaps we'll get an opinion from Cl√©ment Pernet (cc'ed). I think "weight" also makes a lot of sense though (and is better than "Hamming weight").



---

archive/issue_comments_322668.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [jsrn](#comment%3A5):\n> Sparse polynomial people sometimes call this number the \"sparsity\" of the polynomial.\n\nMy feeling is that \"sparsity\" should be a ratio (number of non-zero terms divided by number of terms), different from weight.",
    "created_at": "2015-06-05T14:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322668",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Replying to [jsrn](#comment%3A5):
> Sparse polynomial people sometimes call this number the "sparsity" of the polynomial.

My feeling is that "sparsity" should be a ratio (number of non-zero terms divided by number of terms), different from weight.



---

archive/issue_comments_322669.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [jdemeyer](#comment%3A4):\n> There are precedents for calling the number of non-zero terms \"weight\" (but not \"Hamming weight\" as far as I know, which seems to be reserved for vectors):\n> \n> 1. the function `irreducible_element()` in `src/sage/rings/polynomial/polynomial_ring.py` has a `algorithm=\"minimal_weight\"` option\n> 2. [https://eprint.iacr.org/2007/423.pdf](https://eprint.iacr.org/2007/423.pdf)\n> 3. NTL has a `weight` function for polynomials over `GF(2)`\n\n\nAll your examples are for polynomials over `GF(2)`! (For 1., this is specified in the docstring: `Only implemented for `p = 2``.) I agree that in this special case, the term \"weight\" may be quite common, but my impression is that it is pretty rare for other base rings.\n\nOther possibilities, in different communities, include \"sparsity\" (for instance in the complexity theory community) or \"0-norm\". Yet, I guess the name \"number_of_terms\" is the one most people will find by \"tab exploration\". \n\nNote that I have nothing against creating aliases, for \"weight\", \"sparsity\", and maybe to change the `norm` method to make it return the number of terms (rather than an Exception) when its argument is 0.",
    "created_at": "2015-06-05T14:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322669",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:7'></a>
Replying to [jdemeyer](#comment%3A4):
> There are precedents for calling the number of non-zero terms "weight" (but not "Hamming weight" as far as I know, which seems to be reserved for vectors):
> 
> 1. the function `irreducible_element()` in `src/sage/rings/polynomial/polynomial_ring.py` has a `algorithm="minimal_weight"` option
> 2. [https://eprint.iacr.org/2007/423.pdf](https://eprint.iacr.org/2007/423.pdf)
> 3. NTL has a `weight` function for polynomials over `GF(2)`


All your examples are for polynomials over `GF(2)`! (For 1., this is specified in the docstring: `Only implemented for `p = 2``.) I agree that in this special case, the term "weight" may be quite common, but my impression is that it is pretty rare for other base rings.

Other possibilities, in different communities, include "sparsity" (for instance in the complexity theory community) or "0-norm". Yet, I guess the name "number_of_terms" is the one most people will find by "tab exploration". 

Note that I have nothing against creating aliases, for "weight", "sparsity", and maybe to change the `norm` method to make it return the number of terms (rather than an Exception) when its argument is 0.



---

archive/issue_comments_322670.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jdemeyer](#comment%3A6):\n> Replying to [jsrn](#comment%3A5):\n> > Sparse polynomial people sometimes call this number the \"sparsity\" of the polynomial.\n\n> My feeling is that \"sparsity\" should be a ratio (number of non-zero terms divided by number of terms), different from weight.\n\nAs I wrote above, some people indeed use \"sparsity\" but I have also quite often encountered a similar reaction to yours that \"sparsity\" evokes a ratio. So it has the risk to be misleading.",
    "created_at": "2015-06-05T14:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322670",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:8'></a>
Replying to [jdemeyer](#comment%3A6):
> Replying to [jsrn](#comment%3A5):
> > Sparse polynomial people sometimes call this number the "sparsity" of the polynomial.

> My feeling is that "sparsity" should be a ratio (number of non-zero terms divided by number of terms), different from weight.

As I wrote above, some people indeed use "sparsity" but I have also quite often encountered a similar reaction to yours that "sparsity" evokes a ratio. So it has the risk to be misleading.



---

archive/issue_comments_322671.json:
```json
{
    "body": "<a id='comment:9'></a>\nI agree that sparsity is too ambiguous: either a ratio or a number of non zero terms.\nWeight is maybe better than Hamming weight, but I would much rather have the natural name proposed by Bruno, as it avoids any confusion.",
    "created_at": "2015-06-05T14:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322671",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:9'></a>
I agree that sparsity is too ambiguous: either a ratio or a number of non zero terms.
Weight is maybe better than Hamming weight, but I would much rather have the natural name proposed by Bruno, as it avoids any confusion.



---

archive/issue_comments_322672.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [bruno](#comment%3A7):\n> All your examples are for polynomials over `GF(2)`! (For 1., this is specified in the docstring: `Only implemented for `p = 2``.) I agree that in this special case, the term \"weight\" may be quite common, but my impression is that it is pretty rare for other base rings.\n\n\nThere is no fundamental reason to restrict to `GF(2)`. I think that \"weight\" is simply *used* more rarely for other rings besides `GF(2)`. This is for two reasons:\n1. a \"random\" polynomial over `GF(2)` has a low weight (half the degree), while a \"random\" polynomial over most rings has weight equal to the degree. Thus, finding polynomials with small weight satisfying some property is easiest over `GF(2)`.\n2. in computer algebra it often makes sense to specialize algorithms for `GF(2)`.",
    "created_at": "2015-06-05T14:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322672",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [bruno](#comment%3A7):
> All your examples are for polynomials over `GF(2)`! (For 1., this is specified in the docstring: `Only implemented for `p = 2``.) I agree that in this special case, the term "weight" may be quite common, but my impression is that it is pretty rare for other base rings.


There is no fundamental reason to restrict to `GF(2)`. I think that "weight" is simply *used* more rarely for other rings besides `GF(2)`. This is for two reasons:
1. a "random" polynomial over `GF(2)` has a low weight (half the degree), while a "random" polynomial over most rings has weight equal to the degree. Thus, finding polynomials with small weight satisfying some property is easiest over `GF(2)`.
2. in computer algebra it often makes sense to specialize algorithms for `GF(2)`.



---

archive/issue_comments_322673.json:
```json
{
    "body": "<a id='comment:11'></a>\nI don't personally like \"sparsity\" either: I've just seen it in a few papers. I think having \"number_of_terms\" is good and very clear, and then make \"weight\" an alias of it (since it is for many, I believe, a natural name to look for when tab-completing).",
    "created_at": "2015-06-05T14:29:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322673",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:11'></a>
I don't personally like "sparsity" either: I've just seen it in a few papers. I think having "number_of_terms" is good and very clear, and then make "weight" an alias of it (since it is for many, I believe, a natural name to look for when tab-completing).



---

archive/issue_comments_322674.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [jdemeyer](#comment%3A10):\n> There is no fundamental reason to restrict to `GF(2)`. I think that \"weight\" is simply *used* more rarely for other rings besides `GF(2)`. \n\n\nI agree with that, my only point is to know whether people actually use the different possible names. \n\nWith a search on Google for \"polynomial weight\", most results are about polynomials over `GF(2)`, the few others concern more generally polynomials over `GF(q)`. And furthermore, the thematic of the papers are either irreducibility of polynomials or polynomials related to error-correcting codes.\n\nWith a search for \"polynomial sparsity\", most papers are complexity theory paper on learning polynomials. \n\nAll I say is that though \"weight\" may be standard in some domains, it is not in other ones. That's why I prefer \"number of terms\" that I expect to be clear for everyone.",
    "created_at": "2015-06-05T14:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322674",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:12'></a>
Replying to [jdemeyer](#comment%3A10):
> There is no fundamental reason to restrict to `GF(2)`. I think that "weight" is simply *used* more rarely for other rings besides `GF(2)`. 


I agree with that, my only point is to know whether people actually use the different possible names. 

With a search on Google for "polynomial weight", most results are about polynomials over `GF(2)`, the few others concern more generally polynomials over `GF(q)`. And furthermore, the thematic of the papers are either irreducibility of polynomials or polynomials related to error-correcting codes.

With a search for "polynomial sparsity", most papers are complexity theory paper on learning polynomials. 

All I say is that though "weight" may be standard in some domains, it is not in other ones. That's why I prefer "number of terms" that I expect to be clear for everyone.



---

archive/issue_comments_322675.json:
```json
{
    "body": "<a id='comment:13'></a>\ndoes not apply, needs rebase",
    "created_at": "2015-09-28T16:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322675",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
does not apply, needs rebase



---

archive/issue_comments_322676.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-09-28T16:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322676",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_322677.json:
```json
{
    "body": "Changing commit from \"60ee12ccb9e642959b02199d3cec81126fff64aa\" to \"aec2c54b8772c569457114db115a6faad66c84c8\"",
    "created_at": "2015-09-29T08:28:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322677",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "60ee12ccb9e642959b02199d3cec81126fff64aa" to "aec2c54b8772c569457114db115a6faad66c84c8"



---

archive/issue_comments_322678.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[aec2c54](https://github.com/sagemath/sagetrac-mirror/commit/aec2c54b8772c569457114db115a6faad66c84c8)|`trac 18617: Add number_of_terms. Deprecate hamming_weight`|",
    "created_at": "2015-09-29T08:28:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322678",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[aec2c54](https://github.com/sagemath/sagetrac-mirror/commit/aec2c54b8772c569457114db115a6faad66c84c8)|`trac 18617: Add number_of_terms. Deprecate hamming_weight`|



---

archive/issue_comments_322679.json:
```json
{
    "body": "<a id='comment:15'></a>\nRebased, need review again!",
    "created_at": "2015-09-29T08:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322679",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:15'></a>
Rebased, need review again!



---

archive/issue_comments_322680.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-29T08:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322680",
    "user": "https://github.com/bgrenet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_322681.json:
```json
{
    "body": "<a id='comment:16'></a>\nWhen we say the number of terms, we think of the vector of the coefficients. For the vector, the Hamming weight is a well-established concept in coding theory, and spreading to other areas. So I think the method name `hamming_weight` is well chosen. For a user, `number_of_terms` may be more intuitive, but it would not hurt and indeed be beneficial to learn a mathematical term (no pun intended).\n\nAside, in the history of Sage, coding theory played some role. The method name seems to be one aspect of the heritage.",
    "created_at": "2015-10-02T02:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322681",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:16'></a>
When we say the number of terms, we think of the vector of the coefficients. For the vector, the Hamming weight is a well-established concept in coding theory, and spreading to other areas. So I think the method name `hamming_weight` is well chosen. For a user, `number_of_terms` may be more intuitive, but it would not hurt and indeed be beneficial to learn a mathematical term (no pun intended).

Aside, in the history of Sage, coding theory played some role. The method name seems to be one aspect of the heritage.



---

archive/issue_comments_322682.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [klee](#comment%3A16):\n> When we say the number of terms, we think of the vector of the coefficients. For the vector, the Hamming weight is a well-established concept in coding theory, and spreading to other areas. So I think the method name `hamming_weight` is well chosen. For a user, `number_of_terms` may be more intuitive, but it would not hurt and indeed be beneficial to learn a mathematical term (no pun intended).\n\n\nAs you tell, Hamming weight is well established in *some* mathematical areas, but not all of them. For people working outside these areas, they would not think to look for a method `hamming_weight` and simply think that it is not implemented. (As I wrote somewhere above, I was in this case and not the only one!) With the same arguments, I could say it should be named `sparsity` since in some areas, this is the name people use. (Arguments have been given above for not using `sparsity` and I agree.)\n\nI do not think it is a matter of learning an unknown mathematical term. Coming from theoretical computer science, I know what Hamming weight means but it is (in my mind) related to vector of bits (or boolean words). A very quick search showed that it is mainly used with the finite field `GF(2)`, sometimes with other finite fields `GF(q)`, and very rarely with non-finite fields. So I am not sure the name is generically appropriate for polynomials. (Note also that you mention that Hamming weight *of vectors* is very standard. Here we are speaking of polynomials!)\n\nMaybe the right solution would be to have aliases, so that coding theorists find the method under the name `hamming_weight` and others find it under the name `number_of_terms`.\n\n\n> \n> Aside, in the history of Sage, coding theory played some role. The method name seems to be one aspect of the heritage.\n\n\nYou may well be right. But is that a (sufficient) reason to keep this name? I honestly have no opinion about this question.",
    "created_at": "2015-10-02T09:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322682",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:17'></a>
Replying to [klee](#comment%3A16):
> When we say the number of terms, we think of the vector of the coefficients. For the vector, the Hamming weight is a well-established concept in coding theory, and spreading to other areas. So I think the method name `hamming_weight` is well chosen. For a user, `number_of_terms` may be more intuitive, but it would not hurt and indeed be beneficial to learn a mathematical term (no pun intended).


As you tell, Hamming weight is well established in *some* mathematical areas, but not all of them. For people working outside these areas, they would not think to look for a method `hamming_weight` and simply think that it is not implemented. (As I wrote somewhere above, I was in this case and not the only one!) With the same arguments, I could say it should be named `sparsity` since in some areas, this is the name people use. (Arguments have been given above for not using `sparsity` and I agree.)

I do not think it is a matter of learning an unknown mathematical term. Coming from theoretical computer science, I know what Hamming weight means but it is (in my mind) related to vector of bits (or boolean words). A very quick search showed that it is mainly used with the finite field `GF(2)`, sometimes with other finite fields `GF(q)`, and very rarely with non-finite fields. So I am not sure the name is generically appropriate for polynomials. (Note also that you mention that Hamming weight *of vectors* is very standard. Here we are speaking of polynomials!)

Maybe the right solution would be to have aliases, so that coding theorists find the method under the name `hamming_weight` and others find it under the name `number_of_terms`.


> 
> Aside, in the history of Sage, coding theory played some role. The method name seems to be one aspect of the heritage.


You may well be right. But is that a (sufficient) reason to keep this name? I honestly have no opinion about this question.



---

archive/issue_comments_322683.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe notion of Hamming weight is equally applicable to any field or even any ring.\n\nAnyway, I think a proper procedure to add an alias in Sage is to ask in Sage devel. If other people like the idea, it will be in!",
    "created_at": "2015-10-02T09:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322683",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:18'></a>
The notion of Hamming weight is equally applicable to any field or even any ring.

Anyway, I think a proper procedure to add an alias in Sage is to ask in Sage devel. If other people like the idea, it will be in!



---

archive/issue_events_067199.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-10-02T17:35:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18617#event-67199"
}
```



---

archive/issue_comments_322684.json:
```json
{
    "body": "<a id='comment:19'></a>\nI would recommend just keeping it in there as an alias for `number_of_terms` (and mention the term \"Hamming weight\" in the docstring). There's no need to get sage-devel involved for a single (should be) non-controversial alias (which has been a long-standing method) like this.",
    "created_at": "2015-10-02T17:35:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322684",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>
I would recommend just keeping it in there as an alias for `number_of_terms` (and mention the term "Hamming weight" in the docstring). There's no need to get sage-devel involved for a single (should be) non-controversial alias (which has been a long-standing method) like this.



---

archive/issue_comments_322685.json:
```json
{
    "body": "<a id='comment:20'></a>\ndoes not apply",
    "created_at": "2015-10-17T07:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322685",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
does not apply



---

archive/issue_comments_322686.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-17T07:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322686",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_322687.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[f0b2edf](https://github.com/sagemath/sagetrac-mirror/commit/f0b2edf77127a854d1392d177f32c99500c90629)|`#18617: merge with 7.1beta5 + replace deprecation of hamming_weight by alias`|",
    "created_at": "2016-03-02T09:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322687",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[f0b2edf](https://github.com/sagemath/sagetrac-mirror/commit/f0b2edf77127a854d1392d177f32c99500c90629)|`#18617: merge with 7.1beta5 + replace deprecation of hamming_weight by alias`|



---

archive/issue_comments_322688.json:
```json
{
    "body": "Changing commit from \"aec2c54b8772c569457114db115a6faad66c84c8\" to \"f0b2edf77127a854d1392d177f32c99500c90629\"",
    "created_at": "2016-03-02T09:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322688",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "aec2c54b8772c569457114db115a6faad66c84c8" to "f0b2edf77127a854d1392d177f32c99500c90629"



---

archive/issue_comments_322689.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-03-02T09:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322689",
    "user": "https://github.com/bgrenet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_322690.json:
```json
{
    "body": "<a id='comment:22'></a>\nNow applies. I followed [#comment:19 tscrim]'s suggestion: I removed the deprecation and replaced it by an alias. Needs review again!",
    "created_at": "2016-03-02T09:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322690",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:22'></a>
Now applies. I followed [#comment:19 tscrim]'s suggestion: I removed the deprecation and replaced it by an alias. Needs review again!



---

archive/issue_comments_322691.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-03-02T09:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322691",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_322692.json:
```json
{
    "body": "<a id='comment:23'></a>\nLooking at the diff, `hamming_weight` is still being deprecated...",
    "created_at": "2016-03-02T09:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322692",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
Looking at the diff, `hamming_weight` is still being deprecated...



---

archive/issue_events_067200.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "rename": {
        "from": "Implement polynomial number_of_terms method (and deprecate hamming_weight)",
        "to": "Implement polynomial number_of_terms method as alias of hamming_weight"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18617#event-67200"
}
```



---

archive/issue_events_067201.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-02T09:48:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18617#event-67201"
}
```



---

archive/issue_events_067202.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-03-02T09:48:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18617#event-67202"
}
```



---

archive/issue_comments_322693.json:
```json
{
    "body": "Changing commit from \"f0b2edf77127a854d1392d177f32c99500c90629\" to \"a1dfc1ed36945394200b87beb2857bc727d9896b\"",
    "created_at": "2016-03-02T09:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f0b2edf77127a854d1392d177f32c99500c90629" to "a1dfc1ed36945394200b87beb2857bc727d9896b"



---

archive/issue_comments_322694.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[a1dfc1e](https://github.com/sagemath/sagetrac-mirror/commit/a1dfc1ed36945394200b87beb2857bc727d9896b)|`#18617: replace deprecation of hamming_weight by alias`|",
    "created_at": "2016-03-02T09:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[a1dfc1e](https://github.com/sagemath/sagetrac-mirror/commit/a1dfc1ed36945394200b87beb2857bc727d9896b)|`#18617: replace deprecation of hamming_weight by alias`|



---

archive/issue_comments_322695.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-03-02T09:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322695",
    "user": "https://github.com/bgrenet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_322696.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [jdemeyer](#comment%3A23):\n> Looking at the diff, `hamming_weight` is still being deprecated...\n\n\nWell, with the changes committed, this is better!",
    "created_at": "2016-03-02T09:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322696",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:26'></a>
Replying to [jdemeyer](#comment%3A23):
> Looking at the diff, `hamming_weight` is still being deprecated...


Well, with the changes committed, this is better!



---

archive/issue_comments_322697.json:
```json
{
    "body": "<a id='comment:27'></a>\nIn the docstring for `number_of_terms`, mention with an example that `hamming_weight` is an alias. Something like\n\n```\nThe method :meth:`hamming_weight` is an alias::\n\n    sage: bla.hamming_weight()\n    42\n```\n\nIf you do this and check that doctests pass, you can set this to positive_review.",
    "created_at": "2016-03-02T09:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322697",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
In the docstring for `number_of_terms`, mention with an example that `hamming_weight` is an alias. Something like

```
The method :meth:`hamming_weight` is an alias::

    sage: bla.hamming_weight()
    42
```

If you do this and check that doctests pass, you can set this to positive_review.



---

archive/issue_comments_322698.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2016-03-02T09:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322698",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_322699.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[13a1494](https://github.com/sagemath/sagetrac-mirror/commit/13a149449cd75749fcbe3a4118d39967845e2b43)|`#18617: add docstring for alias hamming_weight`|",
    "created_at": "2016-03-02T10:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322699",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[13a1494](https://github.com/sagemath/sagetrac-mirror/commit/13a149449cd75749fcbe3a4118d39967845e2b43)|`#18617: add docstring for alias hamming_weight`|



---

archive/issue_comments_322700.json:
```json
{
    "body": "Changing commit from \"a1dfc1ed36945394200b87beb2857bc727d9896b\" to \"13a149449cd75749fcbe3a4118d39967845e2b43\"",
    "created_at": "2016-03-02T10:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a1dfc1ed36945394200b87beb2857bc727d9896b" to "13a149449cd75749fcbe3a4118d39967845e2b43"



---

archive/issue_comments_322701.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-02T10:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322701",
    "user": "https://github.com/bgrenet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_322702.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [jdemeyer](#comment%3A27):\n> If you do this and check that doctests pass, you can set this to positive_review.\n\n\nDone. I checked the doctests, as well as the documentation build. Everything looks fine.",
    "created_at": "2016-03-02T10:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322702",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:29'></a>
Replying to [jdemeyer](#comment%3A27):
> If you do this and check that doctests pass, you can set this to positive_review.


Done. I checked the doctests, as well as the documentation build. Everything looks fine.



---

archive/issue_comments_322703.json:
```json
{
    "body": "Changing branch from \"u/bruno/hamming_weight_number_of_terms\" to \"13a149449cd75749fcbe3a4118d39967845e2b43\"",
    "created_at": "2016-03-02T23:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322703",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/bruno/hamming_weight_number_of_terms" to "13a149449cd75749fcbe3a4118d39967845e2b43"



---

archive/issue_events_067203.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-03-02T23:30:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18617#event-67203"
}
```



---

archive/issue_comments_322704.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-03-02T23:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18617#issuecomment-322704",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
