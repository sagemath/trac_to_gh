# Issue 18749: Groebner basis computations with openf4 package

archive/issues_018512.json:
```json
{
    "body": "We propose a new C++ library to compute Groebner basis over finite fields with the F4 algorithm.\nThis library works on prime fields of characteristic < 2<sup>32</sup>\nand on binary field extensions of degree < 64.\n\nThe source code and a documentation are available on \nhttp://nauotit.github.io/openf4/\n\nThe tarball is available on \nhttp://nauotit.github.io/openf4/openf4-1.0.0.tar.gz\n\nThe branch attached to this ticket contains a wrapper (Cython) for this library.\nPlace the openf4 archive in the upstream directory, then use\n`sage -i openf4`\nbefore using this branch.\n\nInformations on the new package:\n\n-Speed (on my computer without vectorisation):\n\ncyclic 8, GF(251): \nsage : 45.7 s\nf4 : 30.8 s \n\nkatsura 12, GF(251): \nsage : 12min 36s\nf4 : 3min 16s\n\ncyclic 8, GF(65521):\nsage : 58.4\nf4 : 25s\n\nkatsura 12, GF(65521):\nsage : 15min 47s\nf4 : 2min 46s\n\ncyclic 8, GF(4294967291) : \nsage : does not work\nf4 : 55.5 s\n\nkatsura 12, GF(4294967291) : \nsage : does not work\nf4 : 11min 50s\n\nIdeal in 8 variables over GF(2<sup>15</sup>):\nsage : 60 s\nf4 : 10s\n\nIdeal in 8 variables over GF(2<sup>31</sup>): \nsage : 58.1 s\nf4 : 15s\n\nIdeal in 8 variables over GF(2<sup>63</sup>):  \nsage : 1min 18s\nf4 : 30s\n\n\nMemory requirement:\n\nThe memory needed by openf4 depends on:\n- the number of variables of the polynomial ring.\n- the (unknown) maximum monomial degree reached during the computation.\n- the (unknown) size of the considered matrices.\n\nEven if our matrices are smaller than the ones of Magma, on cyclic 9 they exceed 70000 x 70000, which requires already around 20 GB on 4 Bytes integers.\n\n\n\n\nDocumentation:\n\nAvailable with the package (doxygen).\nAnd in the updated file multi_polynomial_ideal.py, function groebner_basis.\n\n\nUsability:\n\nCan be used in the same way than other algorithms.\nHowever only the grevlex order is available.\nDetailed in the file multi_polynomial_ideal.py, function groebner_basis.\n\n\nAbsence of memory leaks:\n\nTested with valgrind.\n\n\nMaintainable:\n\nWhen the Givaro version of Sage will be updated, the package could be build with this dependency in order to handle the prime fields of big characteristics.\n\n\nPortability:\n\nIn order to be efficient our package can use the SSE2 and SSE4 extensions (vectorisation).\nThis extensions are automatically detected at build time (configure).\nHowever, even without these optimisations our package is more efficient than the current implemented algorithms in Sage.\nThe package was tested on:\n- Ubuntu 12.04 (64 bits)\n- Ubuntu 14.04 (64 bits)\n- Debian 8 (32 bits)\n- Arch Linux (64 bits)\n- Mac OS X Yosemite (64 bits)\n\n\nReasonable build time, size, dependencies:\n\nIf the build time is a problem, examples can be removed from the makefile.am.\nSize: 12Mo\nDependencies: Givaro is an optional dependency but a recent version is required.\n\n\nNote:\n\nThe proposed wrapper in Cython is not very efficient and may be improved:\nfor instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, \nand more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.\n\n**CC:**  @nathanncohen @simon-king-jena jpflori @zimmermann6\n\n**Keywords:** F4, groebner basis, ideal, sd87\n\n**Branch:** [u/jdemeyer/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/f4)\n\n**Commit:** [0da1853a76d06188a2cd6f608c6b3df406259cea](https://github.com/sagemath/sagetrac-mirror/commit/0da1853a76d06188a2cd6f608c6b3df406259cea)\n\n**Work Issues:** default algorithm choice\n\n**Reviewer:** Martin Albrecht, Travis Scrimshaw, Jeroen Demeyer, Dima Pasechnik\n\n**Author:** Titouan Coladon\n\nIssue created by migration from https://trac.sagemath.org/ticket/18749\n\n",
    "created_at": "2015-06-20T13:11:30Z",
    "labels": [
        "component: packages: optional",
        "enhancement",
        "wishlist",
        "needs info"
    ],
    "title": "Groebner basis computations with openf4 package",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/18749",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```
We propose a new C++ library to compute Groebner basis over finite fields with the F4 algorithm.
This library works on prime fields of characteristic < 2<sup>32</sup>
and on binary field extensions of degree < 64.

The source code and a documentation are available on 
http://nauotit.github.io/openf4/

The tarball is available on 
http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz

The branch attached to this ticket contains a wrapper (Cython) for this library.
Place the openf4 archive in the upstream directory, then use
`sage -i openf4`
before using this branch.

Informations on the new package:

-Speed (on my computer without vectorisation):

cyclic 8, GF(251): 
sage : 45.7 s
f4 : 30.8 s 

katsura 12, GF(251): 
sage : 12min 36s
f4 : 3min 16s

cyclic 8, GF(65521):
sage : 58.4
f4 : 25s

katsura 12, GF(65521):
sage : 15min 47s
f4 : 2min 46s

cyclic 8, GF(4294967291) : 
sage : does not work
f4 : 55.5 s

katsura 12, GF(4294967291) : 
sage : does not work
f4 : 11min 50s

Ideal in 8 variables over GF(2<sup>15</sup>):
sage : 60 s
f4 : 10s

Ideal in 8 variables over GF(2<sup>31</sup>): 
sage : 58.1 s
f4 : 15s

Ideal in 8 variables over GF(2<sup>63</sup>):  
sage : 1min 18s
f4 : 30s


Memory requirement:

The memory needed by openf4 depends on:
- the number of variables of the polynomial ring.
- the (unknown) maximum monomial degree reached during the computation.
- the (unknown) size of the considered matrices.

Even if our matrices are smaller than the ones of Magma, on cyclic 9 they exceed 70000 x 70000, which requires already around 20 GB on 4 Bytes integers.




Documentation:

Available with the package (doxygen).
And in the updated file multi_polynomial_ideal.py, function groebner_basis.


Usability:

Can be used in the same way than other algorithms.
However only the grevlex order is available.
Detailed in the file multi_polynomial_ideal.py, function groebner_basis.


Absence of memory leaks:

Tested with valgrind.


Maintainable:

When the Givaro version of Sage will be updated, the package could be build with this dependency in order to handle the prime fields of big characteristics.


Portability:

In order to be efficient our package can use the SSE2 and SSE4 extensions (vectorisation).
This extensions are automatically detected at build time (configure).
However, even without these optimisations our package is more efficient than the current implemented algorithms in Sage.
The package was tested on:
- Ubuntu 12.04 (64 bits)
- Ubuntu 14.04 (64 bits)
- Debian 8 (32 bits)
- Arch Linux (64 bits)
- Mac OS X Yosemite (64 bits)


Reasonable build time, size, dependencies:

If the build time is a problem, examples can be removed from the makefile.am.
Size: 12Mo
Dependencies: Givaro is an optional dependency but a recent version is required.


Note:

The proposed wrapper in Cython is not very efficient and may be improved:
for instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, 
and more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.

**CC:**  @nathanncohen @simon-king-jena jpflori @zimmermann6

**Keywords:** F4, groebner basis, ideal, sd87

**Branch:** [u/jdemeyer/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/f4)

**Commit:** [0da1853a76d06188a2cd6f608c6b3df406259cea](https://github.com/sagemath/sagetrac-mirror/commit/0da1853a76d06188a2cd6f608c6b3df406259cea)

**Work Issues:** default algorithm choice

**Reviewer:** Martin Albrecht, Travis Scrimshaw, Jeroen Demeyer, Dima Pasechnik

**Author:** Titouan Coladon

Issue created by migration from https://trac.sagemath.org/ticket/18749





---

archive/issue_comments_264132.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis looks very interesting.\n\nCan you clarify what you're trying to achieve with this ticket. Do you want your F4 code to be a standard or an optional package? Note that adding standard packages requires a vote on [sage-devel] and usually some time during which the package was an optional package.\n\n\nDoes your package have a name other than F4?\n\nAlso, do you have an idea why the performance of the wrapper is so poor?",
    "created_at": "2015-06-20T16:02:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264132",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>
This looks very interesting.

Can you clarify what you're trying to achieve with this ticket. Do you want your F4 code to be a standard or an optional package? Note that adding standard packages requires a vote on [sage-devel] and usually some time during which the package was an optional package.


Does your package have a name other than F4?

Also, do you have an idea why the performance of the wrapper is so poor?



---

archive/issue_comments_264133.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n We propose a new C++ library to compute Groebner basis over finite fields with the F4 algorithm.\n-This library works on prime fields of characteristic < 2^32 \n+This library works on prime fields of characteristic < 2<sup>32</sup>\n and on binary field extensions of degree < 64.\n \n The source code and a documentation are available on \n@@ -39,15 +39,15 @@\n sage : does not work\n f4 : 11min 50s\n \n-Ideal in 8 variables over GF(2^15):\n+Ideal in 8 variables over GF(2<sup>15</sup>):\n sage : 60 s\n f4 : 10s\n \n-Ideal in 8 variables over GF(2^31): \n+Ideal in 8 variables over GF(2<sup>31</sup>): \n sage : 58.1 s\n f4 : 15s\n \n-Ideal in 8 variables over GF(2^63):  \n+Ideal in 8 variables over GF(2<sup>63</sup>):  \n sage : 1min 18s\n f4 : 30s\n \n``````\n",
    "created_at": "2015-06-20T16:14:01Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264133",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 We propose a new C++ library to compute Groebner basis over finite fields with the F4 algorithm.
-This library works on prime fields of characteristic < 2^32 
+This library works on prime fields of characteristic < 2<sup>32</sup>
 and on binary field extensions of degree < 64.
 
 The source code and a documentation are available on 
@@ -39,15 +39,15 @@
 sage : does not work
 f4 : 11min 50s
 
-Ideal in 8 variables over GF(2^15):
+Ideal in 8 variables over GF(2<sup>15</sup>):
 sage : 60 s
 f4 : 10s
 
-Ideal in 8 variables over GF(2^31): 
+Ideal in 8 variables over GF(2<sup>31</sup>): 
 sage : 58.1 s
 f4 : 15s
 
-Ideal in 8 variables over GF(2^63):  
+Ideal in 8 variables over GF(2<sup>63</sup>):  
 sage : 1min 18s
 f4 : 30s
 
``````




---

archive/issue_comments_264134.json:
```json
{
    "body": "<a id='comment:2'></a>\nWith the latest beta versions of Sage, you'll need to add a file `type` which contains the word \"optional\" (as new Sage packages start as optional, but if you want to make this standard, you can make a request on Sage-devel). You also need to make in `module_list.pyx` an optional extension.\n\nI'm guessing the conversion has to do with taking the basis as a vector of strings and you need to convert it to a better python type. You probably want to do this in a cdef function and have the python level function just do the final conversions. Conversions to strings is typically the slowest way to do things. It might be best to have a python data structure in the bindings file more closer to your internal data structures.",
    "created_at": "2015-06-20T16:14:01Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264134",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
With the latest beta versions of Sage, you'll need to add a file `type` which contains the word "optional" (as new Sage packages start as optional, but if you want to make this standard, you can make a request on Sage-devel). You also need to make in `module_list.pyx` an optional extension.

I'm guessing the conversion has to do with taking the basis as a vector of strings and you need to convert it to a better python type. You probably want to do this in a cdef function and have the python level function just do the final conversions. Conversions to strings is typically the slowest way to do things. It might be best to have a python data structure in the bindings file more closer to your internal data structures.



---

archive/issue_comments_264135.json:
```json
{
    "body": "<a id='comment:4'></a>\nI think they've put adding it as a standard package to a vote here: https://groups.google.com/forum/#!topic/sage-devel/CfZ8kzT8B2s",
    "created_at": "2015-06-20T18:08:09Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264135",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:4'></a>
I think they've put adding it as a standard package to a vote here: https://groups.google.com/forum/#!topic/sage-devel/CfZ8kzT8B2s



---

archive/issue_comments_264136.json:
```json
{
    "body": "**Changing commit** from \"[a2e200283801b3ad9c65542e598ba751663c5c4f](https://github.com/sagemath/sagetrac-mirror/commit/a2e200283801b3ad9c65542e598ba751663c5c4f)\" to \"[75f896ac8673a5d0f8105aba9d287260327ed4c3](https://github.com/sagemath/sagetrac-mirror/commit/75f896ac8673a5d0f8105aba9d287260327ed4c3)\".",
    "created_at": "2015-06-20T18:14:12Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264136",
    "user": "https://github.com/malb"
}
```

**Changing commit** from "[a2e200283801b3ad9c65542e598ba751663c5c4f](https://github.com/sagemath/sagetrac-mirror/commit/a2e200283801b3ad9c65542e598ba751663c5c4f)" to "[75f896ac8673a5d0f8105aba9d287260327ed4c3](https://github.com/sagemath/sagetrac-mirror/commit/75f896ac8673a5d0f8105aba9d287260327ed4c3)".



---

archive/issue_comments_264137.json:
```json
{
    "body": "**Changing branch** from \"[u/tcoladon/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/tcoladon/f4)\" to \"[u/malb/t18749_f4](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t18749_f4)\".",
    "created_at": "2015-06-20T18:14:12Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264137",
    "user": "https://github.com/malb"
}
```

**Changing branch** from "[u/tcoladon/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/tcoladon/f4)" to "[u/malb/t18749_f4](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t18749_f4)".



---

archive/issue_comments_264138.json:
```json
{
    "body": "<a id='comment:5'></a>\n- f4 is rather generic for a software project implementing the F4 algorithm. If possible, it would be good to rename it (I know this is rather invasive). If you agree to rename this would affect the tarball, the file in the Sage library and the name of the algorithm when calling groebner_basis(). \n\n\n- I think the pyx file should be moved to `sage.libs.<libraryname>.<libraryname>.pyx`\n\n- I improved conversion a bit:\n\n```python\n# before\nsage: P = PolynomialRing(GF(next_prime(2^31)), 8, 'x')\nsage: I = sage.rings.ideal.Cyclic(P)\nsage: from sage.rings.polynomial.groebner_basis_f4 import groebner_basis_f4\nsage: %time gb0 = groebner_basis_f4(I)\n6.4465777874 # <- conversion time\nCPU times: user 14.8 s, sys: 400 ms, total: 15.2 s\nWall time: 15.2 s\n\n# after\nsage: P = PolynomialRing(GF(next_prime(2^31)), 8, 'x')  \nsage: I = sage.rings.ideal.Cyclic(P)                  \nsage: %time gb0 = groebner_basis_f4(I)                \n3.16141104698 # <- conversion time\nCPU times: user 11.8 s, sys: 144 ms, total: 12 s\nWall time: 11.9 s\n```\n\n- I cleaned the module up a bit under u/malb/t18749_f4\n \n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/013879b34cf09feff22d42db71f053c2d6b7f3cc\">013879b</a></td><td><code>fix doctests & documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfbb119dfcf254568859c0033e891141d57e8ac9\">bfbb119</a></td><td><code>obey line width</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/676b7984d0da948c196240b0b96535771207f9b6\">676b798</a></td><td><code>rename modulo \u2192 modulus & raise error instead of printing to stddout</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b324306766c26ee90866aa823ef6c69777fe1735\">b324306</a></td><td><code>test exception</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75f830276939d48fa68a246519a200ec603ebd99\">75f8302</a></td><td><code>specialised conversion from F4 string representation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c76dbbffe3931c5a11189f6f12d2467491ba784\">0c76dbb</a></td><td><code>delete trailing whitespaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10d8af576b0066ab26453fba66b164cc3509ee8e\">10d8af5</a></td><td><code>return converted basis not strings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24e2191f0b26bf29c6c5f5faabcabb5ee50d2e0b\">24e2191</a></td><td><code>Sage-ify interface to F4 more</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48cf3c4e7902e6022cd950af9be675a8664f1fa1\">48cf3c4</a></td><td><code>mark more doctests optional - f4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75f896ac8673a5d0f8105aba9d287260327ed4c3\">75f896a</a></td><td><code>fix prot interface for F4</code></td></tr></table>\n",
    "created_at": "2015-06-20T18:14:12Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264138",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>
- f4 is rather generic for a software project implementing the F4 algorithm. If possible, it would be good to rename it (I know this is rather invasive). If you agree to rename this would affect the tarball, the file in the Sage library and the name of the algorithm when calling groebner_basis(). 


- I think the pyx file should be moved to `sage.libs.<libraryname>.<libraryname>.pyx`

- I improved conversion a bit:

```python
# before
sage: P = PolynomialRing(GF(next_prime(2^31)), 8, 'x')
sage: I = sage.rings.ideal.Cyclic(P)
sage: from sage.rings.polynomial.groebner_basis_f4 import groebner_basis_f4
sage: %time gb0 = groebner_basis_f4(I)
6.4465777874 # <- conversion time
CPU times: user 14.8 s, sys: 400 ms, total: 15.2 s
Wall time: 15.2 s

# after
sage: P = PolynomialRing(GF(next_prime(2^31)), 8, 'x')  
sage: I = sage.rings.ideal.Cyclic(P)                  
sage: %time gb0 = groebner_basis_f4(I)                
3.16141104698 # <- conversion time
CPU times: user 11.8 s, sys: 144 ms, total: 12 s
Wall time: 11.9 s
```

- I cleaned the module up a bit under u/malb/t18749_f4
 
---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/013879b34cf09feff22d42db71f053c2d6b7f3cc">013879b</a></td><td><code>fix doctests & documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfbb119dfcf254568859c0033e891141d57e8ac9">bfbb119</a></td><td><code>obey line width</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/676b7984d0da948c196240b0b96535771207f9b6">676b798</a></td><td><code>rename modulo → modulus & raise error instead of printing to stddout</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b324306766c26ee90866aa823ef6c69777fe1735">b324306</a></td><td><code>test exception</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75f830276939d48fa68a246519a200ec603ebd99">75f8302</a></td><td><code>specialised conversion from F4 string representation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c76dbbffe3931c5a11189f6f12d2467491ba784">0c76dbb</a></td><td><code>delete trailing whitespaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10d8af576b0066ab26453fba66b164cc3509ee8e">10d8af5</a></td><td><code>return converted basis not strings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24e2191f0b26bf29c6c5f5faabcabb5ee50d2e0b">24e2191</a></td><td><code>Sage-ify interface to F4 more</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48cf3c4e7902e6022cd950af9be675a8664f1fa1">48cf3c4</a></td><td><code>mark more doctests optional - f4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75f896ac8673a5d0f8105aba9d287260327ed4c3">75f896a</a></td><td><code>fix prot interface for F4</code></td></tr></table>




---

archive/issue_comments_264139.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec6625b4001f57cdeed4ce9ab56c421c07e75666\">ec6625b</a></td><td><code>don't print SAGE_INC during compilation</code></td></tr></table>\n",
    "created_at": "2015-06-20T18:15:45Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec6625b4001f57cdeed4ce9ab56c421c07e75666">ec6625b</a></td><td><code>don't print SAGE_INC during compilation</code></td></tr></table>




---

archive/issue_comments_264140.json:
```json
{
    "body": "**Changing commit** from \"[75f896ac8673a5d0f8105aba9d287260327ed4c3](https://github.com/sagemath/sagetrac-mirror/commit/75f896ac8673a5d0f8105aba9d287260327ed4c3)\" to \"[ec6625b4001f57cdeed4ce9ab56c421c07e75666](https://github.com/sagemath/sagetrac-mirror/commit/ec6625b4001f57cdeed4ce9ab56c421c07e75666)\".",
    "created_at": "2015-06-20T18:15:45Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[75f896ac8673a5d0f8105aba9d287260327ed4c3](https://github.com/sagemath/sagetrac-mirror/commit/75f896ac8673a5d0f8105aba9d287260327ed4c3)" to "[ec6625b4001f57cdeed4ce9ab56c421c07e75666](https://github.com/sagemath/sagetrac-mirror/commit/ec6625b4001f57cdeed4ce9ab56c421c07e75666)".



---

archive/issue_comments_264141.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe C++ code looks decent. Are you one of the upstream authors? \n\nI didn't see a public source repo or bug tracker. If you don't want to host it yourself there is always github or bitbucket. But just putting a tarball on your homepage hasn't been best practice since the 90s ;-)\n\nAre the headers installed to $prefix/include/f4/include/f4.h? Why the extra /include/?",
    "created_at": "2015-06-20T18:42:30Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264141",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
The C++ code looks decent. Are you one of the upstream authors? 

I didn't see a public source repo or bug tracker. If you don't want to host it yourself there is always github or bitbucket. But just putting a tarball on your homepage hasn't been best practice since the 90s ;-)

Are the headers installed to $prefix/include/f4/include/f4.h? Why the extra /include/?



---

archive/issue_comments_264142.json:
```json
{
    "body": "<a id='comment:8'></a>\nSPKG.txt says that `openmp` is a dependency. But this is not mentioned above...",
    "created_at": "2015-06-20T20:28:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264142",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
SPKG.txt says that `openmp` is a dependency. But this is not mentioned above...



---

archive/issue_comments_264143.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfca7d58cfe997d67d826795f72706bf21d98799\">bfca7d5</a></td><td><code>Merge branch 'develop' into f4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf1952a78d21e5778ca358dff120166d184a86c4\">cf1952a</a></td><td><code>add required type field for f4</code></td></tr></table>\n",
    "created_at": "2015-06-21T10:54:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264143",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfca7d58cfe997d67d826795f72706bf21d98799">bfca7d5</a></td><td><code>Merge branch 'develop' into f4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf1952a78d21e5778ca358dff120166d184a86c4">cf1952a</a></td><td><code>add required type field for f4</code></td></tr></table>




---

archive/issue_comments_264144.json:
```json
{
    "body": "**Changing commit** from \"[ec6625b4001f57cdeed4ce9ab56c421c07e75666](https://github.com/sagemath/sagetrac-mirror/commit/ec6625b4001f57cdeed4ce9ab56c421c07e75666)\" to \"[cf1952a78d21e5778ca358dff120166d184a86c4](https://github.com/sagemath/sagetrac-mirror/commit/cf1952a78d21e5778ca358dff120166d184a86c4)\".",
    "created_at": "2015-06-21T10:54:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ec6625b4001f57cdeed4ce9ab56c421c07e75666](https://github.com/sagemath/sagetrac-mirror/commit/ec6625b4001f57cdeed4ce9ab56c421c07e75666)" to "[cf1952a78d21e5778ca358dff120166d184a86c4](https://github.com/sagemath/sagetrac-mirror/commit/cf1952a78d21e5778ca358dff120166d184a86c4)".



---

archive/issue_comments_264145.json:
```json
{
    "body": "Replying to [ticket:18749 tcoladon]:\n> Place the f4 archive in the upstream directory, then use\n> sage -sh sage-fix-pkg-checksums\n\n\nThis shouldn't be needed. The branch should contain the correct checksum!",
    "created_at": "2015-06-21T15:32:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264145",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:18749 tcoladon]:
> Place the f4 archive in the upstream directory, then use
> sage -sh sage-fix-pkg-checksums


This shouldn't be needed. The branch should contain the correct checksum!



---

archive/issue_comments_264146.json:
```json
{
    "body": "<a id='comment:12'></a>\nIt seems that the branch makes `src/sage/rings/polynomial/multi_polynomial_ideal.py` executable??",
    "created_at": "2015-06-21T15:34:03Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264146",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
It seems that the branch makes `src/sage/rings/polynomial/multi_polynomial_ideal.py` executable??



---

archive/issue_comments_264147.json:
```json
{
    "body": "<a id='comment:13'></a>\nAt the same time, the files `spkg-install` and `spkg-check` should be executable.",
    "created_at": "2015-06-21T15:34:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264147",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
At the same time, the files `spkg-install` and `spkg-check` should be executable.



---

archive/issue_comments_264148.json:
```json
{
    "body": "<a id='comment:14'></a>\n`sage.rings.polynomial.groebner_basis_f4` should be an `OptionalExtension`.",
    "created_at": "2015-06-21T15:35:09Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264148",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
`sage.rings.polynomial.groebner_basis_f4` should be an `OptionalExtension`.



---

archive/issue_comments_264149.json:
```json
{
    "body": "<a id='comment:15'></a>\nI played around with this ticket some more. On a Intel(R) Xeon(R) CPU E5-2667 v2 @ 3.30GHz with 16 real cores:\n\n```python\nsage: P = PolynomialRing(GF(previous_prime(2^31)), 9, 'x')\nsage: I = sage.rings.ideal.Cyclic(P)                                                                                                                                                                                        \nsage: %time gb = I.groebner_basis('magma')                                                                                                                                                                                  \nCPU times: user 19.1 s, sys: 904 ms, total: 20 s\nWall time: 5h 22min 33s\n\nsage: I = sage.rings.ideal.Cyclic(P) # avoid caching\nsage: %time gb16 = I.groebner_basis('f4', threads=16)\nCPU times: user 1h 23min 13s, sys: 33.6 s, total: 1h 23min 47s\nWall time: 9min 54s\n\nsage: gb == gb16\nTrue\n\nsage: %time gb8 = I.groebner_basis('f4', threads=8)                                                                                                                                                                        \nCPU times: user 1h 4min 55s, sys: 27.9 s, total: 1h 5min 23s\nWall time: 12min 23s\n\nsage: gb == gb8\nTrue\n\nsage: %time gb1 = I.groebner_basis('f4', threads=1)                                                                                                                                                                         \nCPU times: user 50min 26s, sys: 26.6 s, total: 50min 52s\nWall time: 50min 56s\n\nsage: gb1 == gb\nTrue\n```",
    "created_at": "2015-06-21T20:39:10Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264149",
    "user": "https://github.com/malb"
}
```

<a id='comment:15'></a>
I played around with this ticket some more. On a Intel(R) Xeon(R) CPU E5-2667 v2 @ 3.30GHz with 16 real cores:

```python
sage: P = PolynomialRing(GF(previous_prime(2^31)), 9, 'x')
sage: I = sage.rings.ideal.Cyclic(P)                                                                                                                                                                                        
sage: %time gb = I.groebner_basis('magma')                                                                                                                                                                                  
CPU times: user 19.1 s, sys: 904 ms, total: 20 s
Wall time: 5h 22min 33s

sage: I = sage.rings.ideal.Cyclic(P) # avoid caching
sage: %time gb16 = I.groebner_basis('f4', threads=16)
CPU times: user 1h 23min 13s, sys: 33.6 s, total: 1h 23min 47s
Wall time: 9min 54s

sage: gb == gb16
True

sage: %time gb8 = I.groebner_basis('f4', threads=8)                                                                                                                                                                        
CPU times: user 1h 4min 55s, sys: 27.9 s, total: 1h 5min 23s
Wall time: 12min 23s

sage: gb == gb8
True

sage: %time gb1 = I.groebner_basis('f4', threads=1)                                                                                                                                                                         
CPU times: user 50min 26s, sys: 26.6 s, total: 50min 52s
Wall time: 50min 56s

sage: gb1 == gb
True
```



---

archive/issue_comments_264150.json:
```json
{
    "body": "<a id='comment:16'></a>\nI've been waiting 10 years for this!",
    "created_at": "2015-06-21T21:30:45Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264150",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:16'></a>
I've been waiting 10 years for this!



---

archive/issue_comments_264151.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe results over GF(2<sup>8</sup>) seem to be incorrect, though:\n\n```python\nsage: sr = mq.SR(1,1,1,4,gf2=False) # smallest scale small scale AES\nsage: F,s = sr.polynomial_system()\n\nsage: %time gb = F.groebner_basis()\nCPU times: user 8 ms, sys: 0 ns, total: 8 ms\nWall time: 6.76 ms\nsage: gb[0]\nk003^2 + (a^2 + a + 1)*k003 + (a^3 + a^2 + 1)\n\nsage: %time gbf4 = F.groebner_basis('f4')\n\n\nGROEBNER BASIS : (1) # this output should not be here\n---> 0 ms \n\n\nCPU times: user 8 ms, sys: 0 ns, total: 8 ms\nWall time: 10.9 ms\nsage: gbf4 == gb # the output disagrees\nFalse\n\nsage: %time gbm = F.groebner_basis('magma') # checking who Magma agrees with\nCPU times: user 68 ms, sys: 20 ms, total: 88 ms\nWall time: 997 ms\nsage: gbm == gb\nTrue\n\n```",
    "created_at": "2015-06-22T08:50:05Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264151",
    "user": "https://github.com/malb"
}
```

<a id='comment:17'></a>
The results over GF(2<sup>8</sup>) seem to be incorrect, though:

```python
sage: sr = mq.SR(1,1,1,4,gf2=False) # smallest scale small scale AES
sage: F,s = sr.polynomial_system()

sage: %time gb = F.groebner_basis()
CPU times: user 8 ms, sys: 0 ns, total: 8 ms
Wall time: 6.76 ms
sage: gb[0]
k003^2 + (a^2 + a + 1)*k003 + (a^3 + a^2 + 1)

sage: %time gbf4 = F.groebner_basis('f4')


GROEBNER BASIS : (1) # this output should not be here
---> 0 ms 


CPU times: user 8 ms, sys: 0 ns, total: 8 ms
Wall time: 10.9 ms
sage: gbf4 == gb # the output disagrees
False

sage: %time gbm = F.groebner_basis('magma') # checking who Magma agrees with
CPU times: user 68 ms, sys: 20 ms, total: 88 ms
Wall time: 997 ms
sage: gbm == gb
True

```



---

archive/issue_comments_264152.json:
```json
{
    "body": "<a id='comment:18'></a>\nI made a few benchmarks, compared to giac, *natively* (conversions to sage take a significative amount of time at least for f4), with 1 thread, using a prime of size 24 bits (giac can go up to 31 bits, add about 20% time).\nFor cyclic8, giac is a little faster (11s. vs 12)\nFor katsura12, f4 is faster (45s vs 69s)\nFor cyclic9: giac does it in about 15 minutes with 700M of RAM, I stopped the computation of f4 after about the same time because the memory used was reaching 23G (too much for my laptop). This is not specific to cyclic9, it also happens for katsura12.",
    "created_at": "2015-06-22T12:19:10Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264152",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:18'></a>
I made a few benchmarks, compared to giac, *natively* (conversions to sage take a significative amount of time at least for f4), with 1 thread, using a prime of size 24 bits (giac can go up to 31 bits, add about 20% time).
For cyclic8, giac is a little faster (11s. vs 12)
For katsura12, f4 is faster (45s vs 69s)
For cyclic9: giac does it in about 15 minutes with 700M of RAM, I stopped the computation of f4 after about the same time because the memory used was reaching 23G (too much for my laptop). This is not specific to cyclic9, it also happens for katsura12.



---

archive/issue_comments_264153.json:
```json
{
    "body": "<a id='comment:19'></a>\nI think that the time of conversion from F4 and giac to sage is quite similar. I also noticed that F4 is faster but the server I am working on has  16Go of ram and I had to interrupt the computation with F4 of cyclic9 mod prev_prime(2^31).\n\non sage with giac and giacpy the syntax is like this:\n\n```\nsage: P = PolynomialRing(GF(previous_prime(2^31)), 9, 'x')\nsage: I = sage.rings.ideal.Cyclic(P)\nsage: from giacpy import *\n\nsage: p=previous_prime(2^31)\nsage: time gb8B = (libgiac(I.gens()) % p).gbasis([P.gens()])\nTime: CPU 1687.80 s, Wall: 1687.55 s\nsage: # the saved file is 84M\nsage: time gb8B.savegen('/home/han/cyclic9modp')\nTime: CPU 8.90 s, Wall: 8.92 s\nsage: #converting from giac to sage\nsage: time BG=Sequence(gb8B,P)\nTime: CPU 30.97 s, Wall: 30.97 s\nsage: time gb8Bbis=loadgiacgen('/home/han/cyclic9modp')\nTime: CPU 7.89 s, Wall: 7.89 s\n```",
    "created_at": "2015-06-22T13:02:05Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264153",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:19'></a>
I think that the time of conversion from F4 and giac to sage is quite similar. I also noticed that F4 is faster but the server I am working on has  16Go of ram and I had to interrupt the computation with F4 of cyclic9 mod prev_prime(2^31).

on sage with giac and giacpy the syntax is like this:

```
sage: P = PolynomialRing(GF(previous_prime(2^31)), 9, 'x')
sage: I = sage.rings.ideal.Cyclic(P)
sage: from giacpy import *

sage: p=previous_prime(2^31)
sage: time gb8B = (libgiac(I.gens()) % p).gbasis([P.gens()])
Time: CPU 1687.80 s, Wall: 1687.55 s
sage: # the saved file is 84M
sage: time gb8B.savegen('/home/han/cyclic9modp')
Time: CPU 8.90 s, Wall: 8.92 s
sage: #converting from giac to sage
sage: time BG=Sequence(gb8B,P)
Time: CPU 30.97 s, Wall: 30.97 s
sage: time gb8Bbis=loadgiacgen('/home/han/cyclic9modp')
Time: CPU 7.89 s, Wall: 7.89 s
```



---

archive/issue_comments_264154.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [malb](#comment%3A17):\n> The results over GF(2<sup>8</sup>) seem to be incorrect, though:\n> \n> ```python\n> sage: sr = mq.SR(1,1,1,4,gf2=False) # smallest scale small scale AES\n> sage: F,s = sr.polynomial_system()\n> \n> sage: %time gb = F.groebner_basis()\n> CPU times: user 8 ms, sys: 0 ns, total: 8 ms\n> Wall time: 6.76 ms\n> sage: gb[0]\n> k003^2 + (a^2 + a + 1)*k003 + (a^3 + a^2 + 1)\n> \n> sage: %time gbf4 = F.groebner_basis('f4')\n> \n> \n> GROEBNER BASIS : (1) # this output should not be here\n> ---> 0 ms \n> \n> \n> CPU times: user 8 ms, sys: 0 ns, total: 8 ms\n> Wall time: 10.9 ms\n> sage: gbf4 == gb # the output disagrees\n> False\n> \n> ```\n\nIt is not clear for me that why gbf4 == gb should be True. I have nevertheless:\n\n```\nsage: gbf4==gb,gbf4.is_groebner(), gb.is_groebner()\n(False, True, True)\n```",
    "created_at": "2015-06-22T14:17:22Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264154",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:20'></a>
Replying to [malb](#comment%3A17):
> The results over GF(2<sup>8</sup>) seem to be incorrect, though:
> 
> ```python
> sage: sr = mq.SR(1,1,1,4,gf2=False) # smallest scale small scale AES
> sage: F,s = sr.polynomial_system()
> 
> sage: %time gb = F.groebner_basis()
> CPU times: user 8 ms, sys: 0 ns, total: 8 ms
> Wall time: 6.76 ms
> sage: gb[0]
> k003^2 + (a^2 + a + 1)*k003 + (a^3 + a^2 + 1)
> 
> sage: %time gbf4 = F.groebner_basis('f4')
> 
> 
> GROEBNER BASIS : (1) # this output should not be here
> ---> 0 ms 
> 
> 
> CPU times: user 8 ms, sys: 0 ns, total: 8 ms
> Wall time: 10.9 ms
> sage: gbf4 == gb # the output disagrees
> False
> 
> ```

It is not clear for me that why gbf4 == gb should be True. I have nevertheless:

```
sage: gbf4==gb,gbf4.is_groebner(), gb.is_groebner()
(False, True, True)
```



---

archive/issue_comments_264155.json:
```json
{
    "body": "<a id='comment:21'></a>\nThank you for the bug report and the wrapper improvement.\n\nI have found the bug (due to SSE).\n\nDoes the name \n-f4lib\n-openf4\nmay be a suitable ?\n\nFor the \"extra /include\":\nI place in $prefix/include only libf4.h and f4.h,\nthe \"real\" sources are placed in the $prefix/include/f4 directory where the declarations are separed from the definitions.\n\nI will set up a git soon with the fix.\n\nLet me know if you have any other requirements.",
    "created_at": "2015-06-22T14:35:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264155",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:21'></a>
Thank you for the bug report and the wrapper improvement.

I have found the bug (due to SSE).

Does the name 
-f4lib
-openf4
may be a suitable ?

For the "extra /include":
I place in $prefix/include only libf4.h and f4.h,
the "real" sources are placed in the $prefix/include/f4 directory where the declarations are separed from the definitions.

I will set up a git soon with the fix.

Let me know if you have any other requirements.



---

archive/issue_comments_264156.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [tcoladon](#comment%3A21):\n> Does the name \n> -f4lib\n> -openf4\n> may be a suitable ?\n\n\nI'd say anything which is a proper name should work. 'f4lib' doesn't really qualify by that criterion I'd say, but it's better than 'f4'; 'openf4' could do. It's really up to you, though.\n\n> For the \"extra /include\":\n> I place in $prefix/include only libf4.h and f4.h,\n> the \"real\" sources are placed in the $prefix/include/f4 directory where the declarations are separed from the definitions.\n\n\nWhy do you install the sources at all? As far as I can see you instantiate all templates in `libf4.cpp` anyway, so is there a need to copy the whole source code in `local/include`?",
    "created_at": "2015-06-22T15:38:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264156",
    "user": "https://github.com/malb"
}
```

<a id='comment:22'></a>
Replying to [tcoladon](#comment%3A21):
> Does the name 
> -f4lib
> -openf4
> may be a suitable ?


I'd say anything which is a proper name should work. 'f4lib' doesn't really qualify by that criterion I'd say, but it's better than 'f4'; 'openf4' could do. It's really up to you, though.

> For the "extra /include":
> I place in $prefix/include only libf4.h and f4.h,
> the "real" sources are placed in the $prefix/include/f4 directory where the declarations are separed from the definitions.


Why do you install the sources at all? As far as I can see you instantiate all templates in `libf4.cpp` anyway, so is there a need to copy the whole source code in `local/include`?



---

archive/issue_comments_264157.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [malb](#comment%3A22):\n> Replying to [tcoladon](#comment%3A21):\n> > Does the name \n> > -f4lib\n> > -openf4\n> > may be a suitable ?\n\n> \n> I'd say anything which is a proper name should work. 'f4lib' doesn't really qualify by that criterion I'd say, but it's better than 'f4'; 'openf4' could do. It's really up to you, though.\n> \n> > For the \"extra /include\":\n> > I place in $prefix/include only libf4.h and f4.h,\n> > the \"real\" sources are placed in the $prefix/include/f4 directory where the declarations are separed from the definitions.\n\n> \n> Why do you install the sources at all? As far as I can see you instantiate all templates in `libf4.cpp` anyway, so is there a need to copy the whole source code in `local/include`?\n\n\nWell, would you prefer a broken installation, that cannot be used at `sage -sh` prompt?",
    "created_at": "2015-06-22T16:26:11Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264157",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
Replying to [malb](#comment%3A22):
> Replying to [tcoladon](#comment%3A21):
> > Does the name 
> > -f4lib
> > -openf4
> > may be a suitable ?

> 
> I'd say anything which is a proper name should work. 'f4lib' doesn't really qualify by that criterion I'd say, but it's better than 'f4'; 'openf4' could do. It's really up to you, though.
> 
> > For the "extra /include":
> > I place in $prefix/include only libf4.h and f4.h,
> > the "real" sources are placed in the $prefix/include/f4 directory where the declarations are separed from the definitions.

> 
> Why do you install the sources at all? As far as I can see you instantiate all templates in `libf4.cpp` anyway, so is there a need to copy the whole source code in `local/include`?


Well, would you prefer a broken installation, that cannot be used at `sage -sh` prompt?



---

archive/issue_comments_264158.json:
```json
{
    "body": "<a id='comment:24'></a>\nWhy would that be a broken installation? The library is - as far as I can see - perfectly usable without dropping all `.inl` files in `local/include/f4/src`.",
    "created_at": "2015-06-22T16:41:01Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264158",
    "user": "https://github.com/malb"
}
```

<a id='comment:24'></a>
Why would that be a broken installation? The library is - as far as I can see - perfectly usable without dropping all `.inl` files in `local/include/f4/src`.



---

archive/issue_comments_264159.json:
```json
{
    "body": "<a id='comment:25'></a>\n1. Is there an \"upstream\" page? It should be mentioned in `SPKG.txt`.\n\n2. Is this right?\n\n```\n== License ==\n\n * GNU GPLv3\n```\nIt would be much better if it was under GPL version 3 *or later*. If this isn't the case, you should ask upstream if they are willing to release under GPL version 3 or later.\n\n3. Obviously, this shouldn't be there:\n\n```\nPut a bulleted list of dependencies here:\n```\n\n4. In `module_list.py`, this shouldn't be needed\n\n```\ndepends = [SAGE_INC + \"/libf4.h\"]\n```\nsince you're explicitly refering to `libf4.h` in the `.pyx` file.\n\n5. For the copyright statement in `groebner_basis_f4.pyx`, please follow the format at\n[http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files](http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files)\n\n6. When you're done, remove `# commented out code`, in particular this funny thing:\n\n```\n#include <Python.h>\n```\n\n7. Format `INPUT` blocks like [http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content)",
    "created_at": "2015-06-23T06:40:34Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264159",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
1. Is there an "upstream" page? It should be mentioned in `SPKG.txt`.

2. Is this right?

```
== License ==

 * GNU GPLv3
```
It would be much better if it was under GPL version 3 *or later*. If this isn't the case, you should ask upstream if they are willing to release under GPL version 3 or later.

3. Obviously, this shouldn't be there:

```
Put a bulleted list of dependencies here:
```

4. In `module_list.py`, this shouldn't be needed

```
depends = [SAGE_INC + "/libf4.h"]
```
since you're explicitly refering to `libf4.h` in the `.pyx` file.

5. For the copyright statement in `groebner_basis_f4.pyx`, please follow the format at
[http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files](http://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files)

6. When you're done, remove `# commented out code`, in particular this funny thing:

```
#include <Python.h>
```

7. Format `INPUT` blocks like [http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content)



---

archive/issue_comments_264160.json:
```json
{
    "body": "<a id='comment:26'></a>\nI update the code on https://github.com/nauotit/openf4 (the bug is fixed)\n\nand the Sage files in the branch u/tcoladon/f4.\n\nThe new upstream name is openf4.\n\nI don't understand your question about the licence? \n\nIf the sources installation is a problem, we can remove them (just change the Makefile.am in the src directory) in a special target dedicated to Sage?\n\nI haven't deleted the # lines in file groebner_basis_f4.pyx in case Givaro version is updated.\n\nFor the comparison with Magma, I'm not sure that openf4 is better on smaller prime fields. Magma is very slow when the characteristic is higher than 2^24",
    "created_at": "2015-06-25T13:55:50Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264160",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:26'></a>
I update the code on https://github.com/nauotit/openf4 (the bug is fixed)

and the Sage files in the branch u/tcoladon/f4.

The new upstream name is openf4.

I don't understand your question about the licence? 

If the sources installation is a problem, we can remove them (just change the Makefile.am in the src directory) in a special target dedicated to Sage?

I haven't deleted the # lines in file groebner_basis_f4.pyx in case Givaro version is updated.

For the comparison with Magma, I'm not sure that openf4 is better on smaller prime fields. Magma is very slow when the characteristic is higher than 2^24



---

archive/issue_comments_264161.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [tcoladon](#comment%3A26):\n> I don't understand your question about the licence? \n\nThere is a difference between releasing between releasing a project under \"**GPL version 3**\" and \"**GPL version 3 or any later version**\". The latter is much preferred in case a GPL version 4 ever comes out and we want to be compatible with that.",
    "created_at": "2015-06-25T14:13:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264161",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
Replying to [tcoladon](#comment%3A26):
> I don't understand your question about the licence? 

There is a difference between releasing between releasing a project under "**GPL version 3**" and "**GPL version 3 or any later version**". The latter is much preferred in case a GPL version 4 ever comes out and we want to be compatible with that.



---

archive/issue_comments_264162.json:
```json
{
    "body": "<a id='comment:28'></a>\nThank you,\nthe upstream is under GPLv3 or any later version, I have updated the SPKG.txt.",
    "created_at": "2015-06-25T14:48:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264162",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:28'></a>
Thank you,
the upstream is under GPLv3 or any later version, I have updated the SPKG.txt.



---

archive/issue_comments_264163.json:
```json
{
    "body": "<a id='comment:29'></a>\nWhich tarball do the hashes in checksums.ini refer to?",
    "created_at": "2015-06-25T18:06:41Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264163",
    "user": "https://github.com/malb"
}
```

<a id='comment:29'></a>
Which tarball do the hashes in checksums.ini refer to?



---

archive/issue_comments_264164.json:
```json
{
    "body": "<a id='comment:30'></a>\nI have updated http://nauotit.github.io/openf4/ with the checksums.ini refered tarball.",
    "created_at": "2015-06-25T19:27:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264164",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:30'></a>
I have updated http://nauotit.github.io/openf4/ with the checksums.ini refered tarball.



---

archive/issue_comments_264165.json:
```json
{
    "body": "**Changing commit** from \"[cf1952a78d21e5778ca358dff120166d184a86c4](https://github.com/sagemath/sagetrac-mirror/commit/cf1952a78d21e5778ca358dff120166d184a86c4)\" to \"[2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f](https://github.com/sagemath/sagetrac-mirror/commit/2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f)\".",
    "created_at": "2015-06-26T09:53:20Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cf1952a78d21e5778ca358dff120166d184a86c4](https://github.com/sagemath/sagetrac-mirror/commit/cf1952a78d21e5778ca358dff120166d184a86c4)" to "[2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f](https://github.com/sagemath/sagetrac-mirror/commit/2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f)".



---

archive/issue_comments_264166.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfbb2626db9512c6b1998efb2d6b83983608ef4a\">cfbb262</a></td><td><code>Format Sage files and change upstream name: f4 -> openf4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57361bdf235f93e7b77b4c254c5122faf0d4d576\">57361bd</a></td><td><code>Change licence from GNU GPLv3 to GPL version 3 or any later version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a15018a759859d0beb2e898744181779502664d1\">a15018a</a></td><td><code>Merge branch 'u/tcoladon/f4' of trac.sagemath.org:sage into u/tcoladon/f4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dee79b492c08d53e01fc869466967e38433bafd9\">dee79b4</a></td><td><code>Merge branch 'u/tcoladon/f4' into f4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f\">2d15c6a</a></td><td><code>Merge branch 'u/tcoladon/f4' into f4</code></td></tr></table>\n",
    "created_at": "2015-06-26T09:53:20Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264166",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfbb2626db9512c6b1998efb2d6b83983608ef4a">cfbb262</a></td><td><code>Format Sage files and change upstream name: f4 -> openf4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57361bdf235f93e7b77b4c254c5122faf0d4d576">57361bd</a></td><td><code>Change licence from GNU GPLv3 to GPL version 3 or any later version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a15018a759859d0beb2e898744181779502664d1">a15018a</a></td><td><code>Merge branch 'u/tcoladon/f4' of trac.sagemath.org:sage into u/tcoladon/f4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dee79b492c08d53e01fc869466967e38433bafd9">dee79b4</a></td><td><code>Merge branch 'u/tcoladon/f4' into f4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f">2d15c6a</a></td><td><code>Merge branch 'u/tcoladon/f4' into f4</code></td></tr></table>




---

archive/issue_comments_264167.json:
```json
{
    "body": "**Changing commit** from \"[2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f](https://github.com/sagemath/sagetrac-mirror/commit/2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f)\" to \"[cc7aa9ff808acce533ef4f23799a0aa0eb548759](https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759)\".",
    "created_at": "2015-06-29T13:11:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264167",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f](https://github.com/sagemath/sagetrac-mirror/commit/2d15c6a5fc0ba8590f1c8fbc7d0f09362bb2246f)" to "[cc7aa9ff808acce533ef4f23799a0aa0eb548759](https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759)".



---

archive/issue_comments_264168.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f5122727cc2887979e185b37a70b8c756f0bce3\">1f51227</a></td><td><code>mark OpenMP as optional dependency in SPKG.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8d4b94ee737154fcac8764254612bea32fc2fdd\">c8d4b94</a></td><td><code>make executable files executable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57969425fb99f49058489635bd7a05547e09f84b\">5796942</a></td><td><code>drop executable bit from multi_polynomial_ideal.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e214336e66d53d7d50696d30dad004abc4162e47\">e214336</a></td><td><code>openf4 inteface is optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c82642486d5e8732a0fad2cef38c094ee260025\">6c82642</a></td><td><code>move groebner_basis_f4 to openf4 and fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1240e779cc9b11dccb373e9fb4b8ba10ed3b1418\">1240e77</a></td><td><code>update copyright statement to Sage standard</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759\">cc7aa9f</a></td><td><code>docstring & indentation clean up</code></td></tr></table>\n",
    "created_at": "2015-06-29T13:11:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264168",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f5122727cc2887979e185b37a70b8c756f0bce3">1f51227</a></td><td><code>mark OpenMP as optional dependency in SPKG.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8d4b94ee737154fcac8764254612bea32fc2fdd">c8d4b94</a></td><td><code>make executable files executable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57969425fb99f49058489635bd7a05547e09f84b">5796942</a></td><td><code>drop executable bit from multi_polynomial_ideal.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e214336e66d53d7d50696d30dad004abc4162e47">e214336</a></td><td><code>openf4 inteface is optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c82642486d5e8732a0fad2cef38c094ee260025">6c82642</a></td><td><code>move groebner_basis_f4 to openf4 and fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1240e779cc9b11dccb373e9fb4b8ba10ed3b1418">1240e77</a></td><td><code>update copyright statement to Sage standard</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759">cc7aa9f</a></td><td><code>docstring & indentation clean up</code></td></tr></table>




---

archive/issue_comments_264169.json:
```json
{
    "body": "<a id='comment:33'></a>\nI should have addressed all issues raised on this ticket with respect to the Sage interface. As far as I can see, what remains to be done is to clean up Makefile.am to normalise what is installed where? Anything I overlooked?",
    "created_at": "2015-06-29T13:20:10Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264169",
    "user": "https://github.com/malb"
}
```

<a id='comment:33'></a>
I should have addressed all issues raised on this ticket with respect to the Sage interface. As far as I can see, what remains to be done is to clean up Makefile.am to normalise what is installed where? Anything I overlooked?



---

archive/issue_comments_264170.json:
```json
{
    "body": "**Changing commit** from \"[cc7aa9ff808acce533ef4f23799a0aa0eb548759](https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759)\" to \"[33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894](https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894)\".",
    "created_at": "2015-06-29T13:30:11Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264170",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cc7aa9ff808acce533ef4f23799a0aa0eb548759](https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759)" to "[33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894](https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894)".



---

archive/issue_comments_264171.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894\">33fbbfa</a></td><td><code>only import openf4 if requested</code></td></tr></table>\n",
    "created_at": "2015-06-29T13:30:11Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264171",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894">33fbbfa</a></td><td><code>only import openf4 if requested</code></td></tr></table>




---

archive/issue_comments_264172.json:
```json
{
    "body": "**Changing commit** from \"[33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894](https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894)\" to \"[252ddd1e1e1544126d46e0d553886343594afcf6](https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6)\".",
    "created_at": "2015-06-29T13:53:24Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264172",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894](https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894)" to "[252ddd1e1e1544126d46e0d553886343594afcf6](https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6)".



---

archive/issue_comments_264173.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6\">252ddd1</a></td><td><code>mark more openf4 doctests optional</code></td></tr></table>\n",
    "created_at": "2015-06-29T13:53:24Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6">252ddd1</a></td><td><code>mark more openf4 doctests optional</code></td></tr></table>




---

archive/issue_comments_264174.json:
```json
{
    "body": "**Changing commit** from \"[252ddd1e1e1544126d46e0d553886343594afcf6](https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6)\" to \"[b14d81e10aac61115e3f77019c032aee273d09bd](https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd)\".",
    "created_at": "2015-06-29T13:55:24Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[252ddd1e1e1544126d46e0d553886343594afcf6](https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6)" to "[b14d81e10aac61115e3f77019c032aee273d09bd](https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd)".



---

archive/issue_comments_264175.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd\">b14d81e</a></td><td><code>add another optional flag for openf4</code></td></tr></table>\n",
    "created_at": "2015-06-29T13:55:24Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd">b14d81e</a></td><td><code>add another optional flag for openf4</code></td></tr></table>




---

archive/issue_comments_264176.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [malb](#comment%3A33):\n> Anything I overlooked?\n\nIt looks pretty good indeed.\n\nI just noticed this Cython warning:\n\n```\nwarning: sage/libs/openf4.pyx:135:29: Unreachable code\n```\n\nDon't forget to set the ticket to needs_review when you really want this to be reviewed.",
    "created_at": "2015-06-29T15:31:07Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264176",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'></a>
Replying to [malb](#comment%3A33):
> Anything I overlooked?

It looks pretty good indeed.

I just noticed this Cython warning:

```
warning: sage/libs/openf4.pyx:135:29: Unreachable code
```

Don't forget to set the ticket to needs_review when you really want this to be reviewed.



---

archive/issue_comments_264177.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557\">e388b7e</a></td><td><code>comment out unreachable code</code></td></tr></table>\n",
    "created_at": "2015-06-29T15:50:34Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264177",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557">e388b7e</a></td><td><code>comment out unreachable code</code></td></tr></table>




---

archive/issue_comments_264178.json:
```json
{
    "body": "**Changing commit** from \"[b14d81e10aac61115e3f77019c032aee273d09bd](https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd)\" to \"[e388b7ef03812fb47c41737fa566ecc97ca89557](https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557)\".",
    "created_at": "2015-06-29T15:50:34Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264178",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b14d81e10aac61115e3f77019c032aee273d09bd](https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd)" to "[e388b7ef03812fb47c41737fa566ecc97ca89557](https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557)".



---

archive/issue_comments_264179.json:
```json
{
    "body": "<a id='comment:39'></a>\nThanks, fixed the unreachable code thing. I'm in no position to set the ticket to \"needs review\". I think upstream should be cleaned up first (but not everyone agrees) and I'm also not the primary author anyway, just lending a hand on the Sage side.",
    "created_at": "2015-06-29T15:51:52Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264179",
    "user": "https://github.com/malb"
}
```

<a id='comment:39'></a>
Thanks, fixed the unreachable code thing. I'm in no position to set the ticket to "needs review". I think upstream should be cleaned up first (but not everyone agrees) and I'm also not the primary author anyway, just lending a hand on the Sage side.



---

archive/issue_events_168593.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-29T15:52:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168593"
}
```



---

archive/issue_comments_264180.json:
```json
{
    "body": "<a id='comment:41'></a>\nThe sources installation is indeed required. \nlibopenf4.cpp includes ideal.h which needs some *.inl files.\nIf everything else is OK, I can change the ticket to \"need review\"?",
    "created_at": "2015-06-30T13:03:31Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264180",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:41'></a>
The sources installation is indeed required. 
libopenf4.cpp includes ideal.h which needs some *.inl files.
If everything else is OK, I can change the ticket to "need review"?



---

archive/issue_comments_264181.json:
```json
{
    "body": "<a id='comment:42'></a>\nFine by me.",
    "created_at": "2015-07-01T09:17:17Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264181",
    "user": "https://github.com/malb"
}
```

<a id='comment:42'></a>
Fine by me.



---

archive/issue_events_168594.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tcoladon",
    "created_at": "2015-07-01T21:49:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168594"
}
```



---

archive/issue_events_168595.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tcoladon",
    "created_at": "2015-07-01T21:49:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168595"
}
```



---

archive/issue_comments_264182.json:
```json
{
    "body": "<a id='comment:45'></a>\nwhy all this naming mess?\nWould it be easier to call the package f4, just as the tarball is called?\n\nNo, really, it's totally unneeded complexity that is added this way.",
    "created_at": "2015-07-06T16:23:03Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264182",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'></a>
why all this naming mess?
Would it be easier to call the package f4, just as the tarball is called?

No, really, it's totally unneeded complexity that is added this way.



---

archive/issue_comments_264183.json:
```json
{
    "body": "<a id='comment:46'></a>\nThe tarball is not called f4, please read the comments above.",
    "created_at": "2015-07-06T16:46:22Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264183",
    "user": "https://github.com/malb"
}
```

<a id='comment:46'></a>
The tarball is not called f4, please read the comments above.



---

archive/issue_comments_264184.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [malb](#comment%3A46):\n> The tarball is not called f4, please read the comments above.\n\n\nI read the ticket description.\nIt tells you to get \nhttps://www-fourier.ujf-grenoble.fr/~viva/f4/f4-1.0.0.tar.gz\n(or rather it doesn't really tell you this, it just gives you\nhttps://www-fourier.ujf-grenoble.fr/~viva/f4/html/index.html)\n\nWhen you set a ticket up for review, can you at least provide clear instructions on installing all the stuff needed?",
    "created_at": "2015-07-06T17:05:31Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264184",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:47'></a>
Replying to [malb](#comment%3A46):
> The tarball is not called f4, please read the comments above.


I read the ticket description.
It tells you to get 
https://www-fourier.ujf-grenoble.fr/~viva/f4/f4-1.0.0.tar.gz
(or rather it doesn't really tell you this, it just gives you
https://www-fourier.ujf-grenoble.fr/~viva/f4/html/index.html)

When you set a ticket up for review, can you at least provide clear instructions on installing all the stuff needed?



---

archive/issue_events_168596.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-06T17:05:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168596"
}
```



---

archive/issue_events_168597.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-06T17:05:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168597"
}
```



---

archive/issue_comments_264185.json:
```json
{
    "body": "<a id='comment:49'></a>\nAgreed, the description should be upgraded.",
    "created_at": "2015-07-09T13:20:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264185",
    "user": "https://github.com/malb"
}
```

<a id='comment:49'></a>
Agreed, the description should be upgraded.



---

archive/issue_comments_264186.json:
```json
{
    "body": "<a id='comment:50'></a>\nCould you also add some words about the ram needed by one or two examples? (the first time I tried I had difficulties with too much swapping)",
    "created_at": "2015-07-09T13:49:45Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264186",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:50'></a>
Could you also add some words about the ram needed by one or two examples? (the first time I tried I had difficulties with too much swapping)



---

archive/issue_comments_264187.json:
```json
{
    "body": "<a id='comment:51'></a>\nHi Titouan, can you update the description of this ticket so people can review it?",
    "created_at": "2015-07-13T14:29:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264187",
    "user": "https://github.com/malb"
}
```

<a id='comment:51'></a>
Hi Titouan, can you update the description of this ticket so people can review it?



---

archive/issue_comments_264188.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,12 +3,12 @@\n and on binary field extensions of degree < 64.\n \n The source code and a documentation are available on \n-https://www-fourier.ujf-grenoble.fr/~viva/f4/html/index.html\n+http://nauotit.github.io/openf4/\n \n The branch attached to this ticket contains a wrapper (Cython) for this library.\n-Place the f4 archive in the upstream directory, then use\n+Place the openf4 archive in the upstream directory, then use\n sage -sh sage-fix-pkg-checksums\n-sage -i -c -f f4\n+sage -i -c -f openf4\n before using this branch.\n \n Informations on the new package:\n@@ -50,6 +50,18 @@\n Ideal in 8 variables over GF(2<sup>63</sup>):  \n sage : 1min 18s\n f4 : 30s\n+\n+\n+Memory requirement:\n+\n+The memory needed by openf4 depends on:\n+- the number of variables of the polynomial ring.\n+- the (unknown) maximum monomial degree reached during the computation.\n+- the (unknown) size of the considered matrices.\n+\n+Even if our matrices are smaller than the ones of Magma, on cyclic 9 they exceed 70000 x 70000, which requires already around 20 GB on 4 Bytes integers.\n+\n+\n \n \n Documentation:\n``````\n",
    "created_at": "2015-07-16T13:00:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264188",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,12 +3,12 @@
 and on binary field extensions of degree < 64.
 
 The source code and a documentation are available on 
-https://www-fourier.ujf-grenoble.fr/~viva/f4/html/index.html
+http://nauotit.github.io/openf4/
 
 The branch attached to this ticket contains a wrapper (Cython) for this library.
-Place the f4 archive in the upstream directory, then use
+Place the openf4 archive in the upstream directory, then use
 sage -sh sage-fix-pkg-checksums
-sage -i -c -f f4
+sage -i -c -f openf4
 before using this branch.
 
 Informations on the new package:
@@ -50,6 +50,18 @@
 Ideal in 8 variables over GF(2<sup>63</sup>):  
 sage : 1min 18s
 f4 : 30s
+
+
+Memory requirement:
+
+The memory needed by openf4 depends on:
+- the number of variables of the polynomial ring.
+- the (unknown) maximum monomial degree reached during the computation.
+- the (unknown) size of the considered matrices.
+
+Even if our matrices are smaller than the ones of Magma, on cyclic 9 they exceed 70000 x 70000, which requires already around 20 GB on 4 Bytes integers.
+
+
 
 
 Documentation:
``````




---

archive/issue_events_168598.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-07-16T13:22:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168598"
}
```



---

archive/issue_events_168599.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-07-16T13:22:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168599"
}
```



---

archive/issue_events_168600.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T05:58:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168600"
}
```



---

archive/issue_events_168601.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T05:58:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168601"
}
```



---

archive/issue_comments_264189.json:
```json
{
    "body": "<a id='comment:54'></a>\nTicket description still does not give a link to the tarball to be used, or otherwise not say how exactly to create one. Running `sage -sh sage-fix-pkg-checksums` must be done by the package creator, and not by the testers.\n\nSorry, but really, how much work is to fix this? Please, please, fix this quickly....",
    "created_at": "2015-07-18T05:58:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264189",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'></a>
Ticket description still does not give a link to the tarball to be used, or otherwise not say how exactly to create one. Running `sage -sh sage-fix-pkg-checksums` must be done by the package creator, and not by the testers.

Sorry, but really, how much work is to fix this? Please, please, fix this quickly....



---

archive/issue_comments_264190.json:
```json
{
    "body": "<a id='comment:55'></a>\nThe checksum in the branch idenitifies the tarball to be used by the package. I don't see how without this  specified one can talk about testing and reviewing anything...",
    "created_at": "2015-07-18T06:03:46Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264190",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:55'></a>
The checksum in the branch idenitifies the tarball to be used by the package. I don't see how without this  specified one can talk about testing and reviewing anything...



---

archive/issue_comments_264191.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,9 +5,11 @@\n The source code and a documentation are available on \n http://nauotit.github.io/openf4/\n \n+The tarball is available on \n+http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz\n+\n The branch attached to this ticket contains a wrapper (Cython) for this library.\n Place the openf4 archive in the upstream directory, then use\n-sage -sh sage-fix-pkg-checksums\n sage -i -c -f openf4\n before using this branch.\n \n``````\n",
    "created_at": "2015-07-18T08:14:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264191",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,9 +5,11 @@
 The source code and a documentation are available on 
 http://nauotit.github.io/openf4/
 
+The tarball is available on 
+http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz
+
 The branch attached to this ticket contains a wrapper (Cython) for this library.
 Place the openf4 archive in the upstream directory, then use
-sage -sh sage-fix-pkg-checksums
 sage -i -c -f openf4
 before using this branch.
 
``````




---

archive/issue_comments_264192.json:
```json
{
    "body": "<a id='comment:57'></a>\nOK, that's better. Does one really need to do `sage -i -c -f openf4`? For me\n`sage -i openf4` works just as well, and this is the way it must work, to be includeable into Sage.",
    "created_at": "2015-07-18T08:26:02Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264192",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:57'></a>
OK, that's better. Does one really need to do `sage -i -c -f openf4`? For me
`sage -i openf4` works just as well, and this is the way it must work, to be includeable into Sage.



---

archive/issue_comments_264193.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n \n The branch attached to this ticket contains a wrapper (Cython) for this library.\n Place the openf4 archive in the upstream directory, then use\n-sage -i -c -f openf4\n+`sage -i openf4`\n before using this branch.\n \n Informations on the new package:\n``````\n",
    "created_at": "2015-07-18T08:29:58Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264193",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 
 The branch attached to this ticket contains a wrapper (Cython) for this library.
 Place the openf4 archive in the upstream directory, then use
-sage -i -c -f openf4
+`sage -i openf4`
 before using this branch.
 
 Informations on the new package:
``````




---

archive/issue_events_168602.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T08:29:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168602"
}
```



---

archive/issue_events_168603.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T08:29:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168603"
}
```



---

archive/issue_events_168604.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T09:11:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168604"
}
```



---

archive/issue_events_168605.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T09:11:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168605"
}
```



---

archive/issue_comments_264194.json:
```json
{
    "body": "<a id='comment:59'></a>\nAm I correct in thinking that C++ `vector[string]` things there are allocated on the stack, and are automatically freed, so we don't need to worry about dealloc?",
    "created_at": "2015-07-18T09:11:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264194",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:59'></a>
Am I correct in thinking that C++ `vector[string]` things there are allocated on the stack, and are automatically freed, so we don't need to worry about dealloc?



---

archive/issue_events_168606.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T09:12:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168606"
}
```



---

archive/issue_events_168607.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-18T09:12:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168607"
}
```



---

archive/issue_comments_264195.json:
```json
{
    "body": "**Reviewer:** Martin Albrecht, Travis Scrimshaw, Jeroen Demeyer, Dima Pasechnik",
    "created_at": "2015-07-18T09:15:35Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264195",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Martin Albrecht, Travis Scrimshaw, Jeroen Demeyer, Dima Pasechnik



---

archive/issue_comments_264196.json:
```json
{
    "body": "<a id='comment:62'></a>\n\n```\nsage: I\nIdeal (-32567592*x^2 - 134376780*x - 99453050, -102821173*x^2 - 133875255*x + 114754735) of Multivariate Polynomial Ring in x over Finite Field of size 273389687\nsage: I.groebner_basis()\n[1]\nsage: I.groebner_basis('openf4')\n[x]\n```\nThe openf4 output seems wrong.",
    "created_at": "2015-07-22T07:35:21Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264196",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:62'></a>

```
sage: I
Ideal (-32567592*x^2 - 134376780*x - 99453050, -102821173*x^2 - 133875255*x + 114754735) of Multivariate Polynomial Ring in x over Finite Field of size 273389687
sage: I.groebner_basis()
[1]
sage: I.groebner_basis('openf4')
[x]
```
The openf4 output seems wrong.



---

archive/issue_comments_264197.json:
```json
{
    "body": "<a id='comment:63'></a>\nanother difference:\n\n```\nsage: P.<x1,x2,x3,x4,x5> = PolynomialRing(GF(143107493))\nsage: I=ideal([-7253051*x1^2 + 52764828*x1*x2 - 1593629*x2^2 - 30491382*x1*x4 - 15421743, 2778386*x1^2 + 46128944*x2^2 - 28328699*x2*x3 + 35619408*x1*x4 - 47336793*x4^2, 50713151*x1^2 + 33804903*x1*x3 + 4639379*x3*x4 - 29371044*x1 - 55622885*x4, -17812925*x1*x2 - 60567702*x3^2 - 17218643*x2*x4 + 15189711*x1 + 683651*x4, 42755489*x1*x3 - 60418193*x2*x4 + 56537689*x4^2 - 6152933*x3 + 53988116])\nsage: I.groebner_basis()\n[1]\nsage: I.groebner_basis('openf4')\n[x1, x2, x3, x4]\n```",
    "created_at": "2015-07-22T07:43:31Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264197",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:63'></a>
another difference:

```
sage: P.<x1,x2,x3,x4,x5> = PolynomialRing(GF(143107493))
sage: I=ideal([-7253051*x1^2 + 52764828*x1*x2 - 1593629*x2^2 - 30491382*x1*x4 - 15421743, 2778386*x1^2 + 46128944*x2^2 - 28328699*x2*x3 + 35619408*x1*x4 - 47336793*x4^2, 50713151*x1^2 + 33804903*x1*x3 + 4639379*x3*x4 - 29371044*x1 - 55622885*x4, -17812925*x1*x2 - 60567702*x3^2 - 17218643*x2*x4 + 15189711*x1 + 683651*x4, 42755489*x1*x3 - 60418193*x2*x4 + 56537689*x4^2 - 6152933*x3 + 53988116])
sage: I.groebner_basis()
[1]
sage: I.groebner_basis('openf4')
[x1, x2, x3, x4]
```



---

archive/issue_events_168608.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-22T07:49:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168608"
}
```



---

archive/issue_events_168609.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-07-22T07:49:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168609"
}
```



---

archive/issue_comments_264198.json:
```json
{
    "body": "<a id='comment:65'></a>\na simpler example in 3 variables where `I.groebner_basis()` and `I.groebner_basis('openf4')` disagree:\n\n```\nIdeal (-381588408*x0^2 + 476686997*x2^2 - 462809584*x0 + 257786256*x2 - 114361905, -165319008*x0^2 + 74443335*x0*x2 - 139862633*x2^2 - 274498434*x0 + 48302322, -462665673*x0^2 + 458273559*x2^2 - 602419172*x0 + 103972832*x2 - 383910315) of Multivariate Polynomial Ring in x0, x1, x2 over Finite Field of size 1217734367\n[1]\n[x0, x2]\n```",
    "created_at": "2015-07-22T09:42:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264198",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:65'></a>
a simpler example in 3 variables where `I.groebner_basis()` and `I.groebner_basis('openf4')` disagree:

```
Ideal (-381588408*x0^2 + 476686997*x2^2 - 462809584*x0 + 257786256*x2 - 114361905, -165319008*x0^2 + 74443335*x0*x2 - 139862633*x2^2 - 274498434*x0 + 48302322, -462665673*x0^2 + 458273559*x2^2 - 602419172*x0 + 103972832*x2 - 383910315) of Multivariate Polynomial Ring in x0, x1, x2 over Finite Field of size 1217734367
[1]
[x0, x2]
```



---

archive/issue_comments_264199.json:
```json
{
    "body": "<a id='comment:66'></a>\nalso:\n\n```\nsage: P = PolynomialRing(GF(2), 1, 'x')\nsage: I = ideal([P(0)])\nsage: I.groebner_basis('openf4')\n...\nSignalError: Segmentation fault\n```",
    "created_at": "2015-07-22T10:11:12Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264199",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:66'></a>
also:

```
sage: P = PolynomialRing(GF(2), 1, 'x')
sage: I = ideal([P(0)])
sage: I.groebner_basis('openf4')
...
SignalError: Segmentation fault
```



---

archive/issue_comments_264200.json:
```json
{
    "body": "<a id='comment:67'></a>\nThank you for the bug reports.\nThey are solved. \nI have updated the tarball http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz\nand the corresponding checksums.ini on the branch u/tcoladon/f4.",
    "created_at": "2015-07-26T13:45:59Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264200",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:67'></a>
Thank you for the bug reports.
They are solved. 
I have updated the tarball http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz
and the corresponding checksums.ini on the branch u/tcoladon/f4.



---

archive/issue_comments_264201.json:
```json
{
    "body": "**Changing branch** from \"[u/malb/t18749_f4](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t18749_f4)\" to \"[u/tcoladon/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/tcoladon/f4)\".",
    "created_at": "2015-07-27T22:10:21Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264201",
    "user": "https://github.com/dimpase"
}
```

**Changing branch** from "[u/malb/t18749_f4](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/t18749_f4)" to "[u/tcoladon/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/tcoladon/f4)".



---

archive/issue_comments_264202.json:
```json
{
    "body": "**Changing commit** from \"[e388b7ef03812fb47c41737fa566ecc97ca89557](https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557)\" to \"[ae15d4bbf92b91c121bdb488cdbf9d54120574cf](https://github.com/sagemath/sagetrac-mirror/commit/ae15d4bbf92b91c121bdb488cdbf9d54120574cf)\".",
    "created_at": "2015-07-27T22:10:21Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264202",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[e388b7ef03812fb47c41737fa566ecc97ca89557](https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557)" to "[ae15d4bbf92b91c121bdb488cdbf9d54120574cf](https://github.com/sagemath/sagetrac-mirror/commit/ae15d4bbf92b91c121bdb488cdbf9d54120574cf)".



---

archive/issue_comments_264203.json:
```json
{
    "body": "<a id='comment:68'></a>\nReplying to [tcoladon](#comment%3A67):\n> Thank you for the bug reports.\n> They are solved. \n> I have updated the tarball http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz\n> and the corresponding checksums.ini on the branch u/tcoladon/f4.\n\n\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae15d4bbf92b91c121bdb488cdbf9d54120574cf\">ae15d4b</a></td><td><code>Update checksum of the new tarball: solve bug of comments 62,63,65 and 66</code></td></tr></table>\n",
    "created_at": "2015-07-27T22:10:21Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264203",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:68'></a>
Replying to [tcoladon](#comment%3A67):
> Thank you for the bug reports.
> They are solved. 
> I have updated the tarball http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz
> and the corresponding checksums.ini on the branch u/tcoladon/f4.



---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae15d4bbf92b91c121bdb488cdbf9d54120574cf">ae15d4b</a></td><td><code>Update checksum of the new tarball: solve bug of comments 62,63,65 and 66</code></td></tr></table>




---

archive/issue_comments_264204.json:
```json
{
    "body": "<a id='comment:69'></a>\nAs far as I can see, examples from comments 62,63,65 and 66 were not added to the doctests. Can you do this, so that it can be checked automatically?",
    "created_at": "2015-07-27T22:13:11Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264204",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:69'></a>
As far as I can see, examples from comments 62,63,65 and 66 were not added to the doctests. Can you do this, so that it can be checked automatically?



---

archive/issue_comments_264205.json:
```json
{
    "body": "<a id='comment:70'></a>\nAlso, the current branch ignores all my fixes from u/malb/t18749_f4",
    "created_at": "2015-07-29T08:42:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264205",
    "user": "https://github.com/malb"
}
```

<a id='comment:70'></a>
Also, the current branch ignores all my fixes from u/malb/t18749_f4



---

archive/issue_comments_264206.json:
```json
{
    "body": "<a id='comment:71'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57969425fb99f49058489635bd7a05547e09f84b\">5796942</a></td><td><code>drop executable bit from multi_polynomial_ideal.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e214336e66d53d7d50696d30dad004abc4162e47\">e214336</a></td><td><code>openf4 inteface is optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c82642486d5e8732a0fad2cef38c094ee260025\">6c82642</a></td><td><code>move groebner_basis_f4 to openf4 and fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1240e779cc9b11dccb373e9fb4b8ba10ed3b1418\">1240e77</a></td><td><code>update copyright statement to Sage standard</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759\">cc7aa9f</a></td><td><code>docstring & indentation clean up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894\">33fbbfa</a></td><td><code>only import openf4 if requested</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6\">252ddd1</a></td><td><code>mark more openf4 doctests optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd\">b14d81e</a></td><td><code>add another optional flag for openf4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557\">e388b7e</a></td><td><code>comment out unreachable code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5784aeebf1654c194f4dc9333c221b9856eeb585\">5784aee</a></td><td><code>Merge branch 'u/malb/t18749_f4' of git://trac.sagemath.org/sage into u/tcoladon/f4</code></td></tr></table>\n",
    "created_at": "2015-07-31T11:12:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264206",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:71'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57969425fb99f49058489635bd7a05547e09f84b">5796942</a></td><td><code>drop executable bit from multi_polynomial_ideal.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e214336e66d53d7d50696d30dad004abc4162e47">e214336</a></td><td><code>openf4 inteface is optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c82642486d5e8732a0fad2cef38c094ee260025">6c82642</a></td><td><code>move groebner_basis_f4 to openf4 and fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1240e779cc9b11dccb373e9fb4b8ba10ed3b1418">1240e77</a></td><td><code>update copyright statement to Sage standard</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc7aa9ff808acce533ef4f23799a0aa0eb548759">cc7aa9f</a></td><td><code>docstring & indentation clean up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33fbbfa9edbb9e7d2b5dc9dc15cf4074318ea894">33fbbfa</a></td><td><code>only import openf4 if requested</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/252ddd1e1e1544126d46e0d553886343594afcf6">252ddd1</a></td><td><code>mark more openf4 doctests optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b14d81e10aac61115e3f77019c032aee273d09bd">b14d81e</a></td><td><code>add another optional flag for openf4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e388b7ef03812fb47c41737fa566ecc97ca89557">e388b7e</a></td><td><code>comment out unreachable code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5784aeebf1654c194f4dc9333c221b9856eeb585">5784aee</a></td><td><code>Merge branch 'u/malb/t18749_f4' of git://trac.sagemath.org/sage into u/tcoladon/f4</code></td></tr></table>




---

archive/issue_comments_264207.json:
```json
{
    "body": "**Changing commit** from \"[ae15d4bbf92b91c121bdb488cdbf9d54120574cf](https://github.com/sagemath/sagetrac-mirror/commit/ae15d4bbf92b91c121bdb488cdbf9d54120574cf)\" to \"[5784aeebf1654c194f4dc9333c221b9856eeb585](https://github.com/sagemath/sagetrac-mirror/commit/5784aeebf1654c194f4dc9333c221b9856eeb585)\".",
    "created_at": "2015-07-31T11:12:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ae15d4bbf92b91c121bdb488cdbf9d54120574cf](https://github.com/sagemath/sagetrac-mirror/commit/ae15d4bbf92b91c121bdb488cdbf9d54120574cf)" to "[5784aeebf1654c194f4dc9333c221b9856eeb585](https://github.com/sagemath/sagetrac-mirror/commit/5784aeebf1654c194f4dc9333c221b9856eeb585)".



---

archive/issue_comments_264208.json:
```json
{
    "body": "<a id='comment:72'></a>\nThe doctests are added:\ncheck-trivial1-64bits.cpp <-> comment 62\ncheck-trivial2-64bits.cpp <-> comment 65\ncheck-trivial3-64bits.cpp <-> comment 63\ncheck-trivial5-64bits.cpp <-> comment 66\n\nWe can stay on u/malb/t18749_f4 if it is easier ?\nI merge u/malb/t18749_f4 into u/tcoladon/f4, in order to add all the fixes.",
    "created_at": "2015-07-31T11:25:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264208",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:72'></a>
The doctests are added:
check-trivial1-64bits.cpp <-> comment 62
check-trivial2-64bits.cpp <-> comment 65
check-trivial3-64bits.cpp <-> comment 63
check-trivial5-64bits.cpp <-> comment 66

We can stay on u/malb/t18749_f4 if it is easier ?
I merge u/malb/t18749_f4 into u/tcoladon/f4, in order to add all the fixes.



---

archive/issue_comments_264209.json:
```json
{
    "body": "<a id='comment:73'></a>\n- Merging my branch into yours is fine.\n\n- Doctests refers to tests added to Sage in the documentation for a function. It might be good to add those tests there as well.",
    "created_at": "2015-07-31T11:34:09Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264209",
    "user": "https://github.com/malb"
}
```

<a id='comment:73'></a>
- Merging my branch into yours is fine.

- Doctests refers to tests added to Sage in the documentation for a function. It might be good to add those tests there as well.



---

archive/issue_comments_264210.json:
```json
{
    "body": "<a id='comment:74'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b584ac72ab932647745e135d18c5bafecef72cb3\">b584ac7</a></td><td><code>Add #optional openf4 to doctest</code></td></tr></table>\n",
    "created_at": "2015-07-31T13:10:35Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264210",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:74'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b584ac72ab932647745e135d18c5bafecef72cb3">b584ac7</a></td><td><code>Add #optional openf4 to doctest</code></td></tr></table>




---

archive/issue_comments_264211.json:
```json
{
    "body": "**Changing commit** from \"[5784aeebf1654c194f4dc9333c221b9856eeb585](https://github.com/sagemath/sagetrac-mirror/commit/5784aeebf1654c194f4dc9333c221b9856eeb585)\" to \"[b584ac72ab932647745e135d18c5bafecef72cb3](https://github.com/sagemath/sagetrac-mirror/commit/b584ac72ab932647745e135d18c5bafecef72cb3)\".",
    "created_at": "2015-07-31T13:10:35Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264211",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5784aeebf1654c194f4dc9333c221b9856eeb585](https://github.com/sagemath/sagetrac-mirror/commit/5784aeebf1654c194f4dc9333c221b9856eeb585)" to "[b584ac72ab932647745e135d18c5bafecef72cb3](https://github.com/sagemath/sagetrac-mirror/commit/b584ac72ab932647745e135d18c5bafecef72cb3)".



---

archive/issue_comments_264212.json:
```json
{
    "body": "<a id='comment:75'></a>\nI have added examples to the doctest.\n\nHowever since I merge the branch u/malb/t18749_f4 into u/malb/t18749_f4, I have a problem with some unrelated files:\n\nWhen I run ./sage -br, I get a lot of \"Error compiling Cython file:\" whose the first is:\n\nCythonizing sage/categories/map.pyx\nError compiling Cython file:\nfrom cpython.object cimport Py_TYPE, PyTypeObject",
    "created_at": "2015-07-31T13:20:42Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264212",
    "user": "https://trac.sagemath.org/admin/accounts/users/tcoladon"
}
```

<a id='comment:75'></a>
I have added examples to the doctest.

However since I merge the branch u/malb/t18749_f4 into u/malb/t18749_f4, I have a problem with some unrelated files:

When I run ./sage -br, I get a lot of "Error compiling Cython file:" whose the first is:

Cythonizing sage/categories/map.pyx
Error compiling Cython file:
from cpython.object cimport Py_TYPE, PyTypeObject



---

archive/issue_comments_264213.json:
```json
{
    "body": "<a id='comment:76'></a>\nReplying to [tcoladon](#comment%3A67):\n> I have updated the tarball http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz\n\n\nthanks. It would be good to use different numbers for different versions (1.0.0 was already used before, see comment [comment:47]).",
    "created_at": "2015-08-17T10:49:51Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264213",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:76'></a>
Replying to [tcoladon](#comment%3A67):
> I have updated the tarball http://nauotit.github.io/openf4/openf4-1.0.0.tar.gz


thanks. It would be good to use different numbers for different versions (1.0.0 was already used before, see comment [comment:47]).



---

archive/issue_comments_264214.json:
```json
{
    "body": "**Changing branch** from \"[u/tcoladon/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/tcoladon/f4)\" to \"[u/jdemeyer/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/f4)\".",
    "created_at": "2016-01-11T10:30:50Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264214",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/tcoladon/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/tcoladon/f4)" to "[u/jdemeyer/f4](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/f4)".



---

archive/issue_comments_264215.json:
```json
{
    "body": "**Changing commit** from \"[b584ac72ab932647745e135d18c5bafecef72cb3](https://github.com/sagemath/sagetrac-mirror/commit/b584ac72ab932647745e135d18c5bafecef72cb3)\" to \"[be9d96b9e364d701508074957a1c1d2609c7ad82](https://github.com/sagemath/sagetrac-mirror/commit/be9d96b9e364d701508074957a1c1d2609c7ad82)\".",
    "created_at": "2016-01-11T10:34:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264215",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[b584ac72ab932647745e135d18c5bafecef72cb3](https://github.com/sagemath/sagetrac-mirror/commit/b584ac72ab932647745e135d18c5bafecef72cb3)" to "[be9d96b9e364d701508074957a1c1d2609c7ad82](https://github.com/sagemath/sagetrac-mirror/commit/be9d96b9e364d701508074957a1c1d2609c7ad82)".



---

archive/issue_events_168610.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-11T10:34:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168610"
}
```



---

archive/issue_events_168611.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-11T10:34:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168611"
}
```



---

archive/issue_comments_264216.json:
```json
{
    "body": "<a id='comment:78'></a>\nMerged latest beta and added a few trivial fixes.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a97048deeb613eb744e39b2e801b556b5a45014e\">a97048d</a></td><td><code>Merge tag '7.0.beta3' into t/18749/f4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a37d63fe23b4380d37d90dbe0516deb4e0f6c945\">a37d63f</a></td><td><code>Small fixes to openf4 build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be9d96b9e364d701508074957a1c1d2609c7ad82\">be9d96b</a></td><td><code>Reorganize doctests</code></td></tr></table>\n",
    "created_at": "2016-01-11T10:34:33Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264216",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:78'></a>
Merged latest beta and added a few trivial fixes.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a97048deeb613eb744e39b2e801b556b5a45014e">a97048d</a></td><td><code>Merge tag '7.0.beta3' into t/18749/f4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a37d63fe23b4380d37d90dbe0516deb4e0f6c945">a37d63f</a></td><td><code>Small fixes to openf4 build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be9d96b9e364d701508074957a1c1d2609c7ad82">be9d96b</a></td><td><code>Reorganize doctests</code></td></tr></table>




---

archive/issue_comments_264217.json:
```json
{
    "body": "**Changing commit** from \"[be9d96b9e364d701508074957a1c1d2609c7ad82](https://github.com/sagemath/sagetrac-mirror/commit/be9d96b9e364d701508074957a1c1d2609c7ad82)\" to \"[aaef33b69986b1c27f68eb8a8cde6ee0d2561c25](https://github.com/sagemath/sagetrac-mirror/commit/aaef33b69986b1c27f68eb8a8cde6ee0d2561c25)\".",
    "created_at": "2016-01-11T10:42:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[be9d96b9e364d701508074957a1c1d2609c7ad82](https://github.com/sagemath/sagetrac-mirror/commit/be9d96b9e364d701508074957a1c1d2609c7ad82)" to "[aaef33b69986b1c27f68eb8a8cde6ee0d2561c25](https://github.com/sagemath/sagetrac-mirror/commit/aaef33b69986b1c27f68eb8a8cde6ee0d2561c25)".



---

archive/issue_comments_264218.json:
```json
{
    "body": "<a id='comment:79'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaef33b69986b1c27f68eb8a8cde6ee0d2561c25\">aaef33b</a></td><td><code>Minor fixes to exceptions</code></td></tr></table>\n",
    "created_at": "2016-01-11T10:42:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:79'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaef33b69986b1c27f68eb8a8cde6ee0d2561c25">aaef33b</a></td><td><code>Minor fixes to exceptions</code></td></tr></table>




---

archive/issue_comments_264219.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -114,5 +114,3 @@\n The proposed wrapper in Cython is not very efficient and may be improved:\n for instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, \n and more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.\n-\n-\n``````\n",
    "created_at": "2016-01-11T10:43:18Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264219",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -114,5 +114,3 @@
 The proposed wrapper in Cython is not very efficient and may be improved:
 for instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, 
 and more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.
-
-
``````




---

archive/issue_events_168612.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-11T10:43:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "rename": {
        "from": "Groebner basis computations with the F4 algorithm",
        "to": "Groebner basis computations with openf4 package"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168612"
}
```



---

archive/issue_comments_264220.json:
```json
{
    "body": "Replying to [ticket:18749 tcoladon]:\n> The proposed wrapper in Cython is not very efficient and may be improved:\n> for instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, \n> and more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.\n\n\nIs this acceptable? Why are strings used for the conversion? Can't we access the C data structures?",
    "created_at": "2016-01-11T10:44:16Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264220",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:18749 tcoladon]:
> The proposed wrapper in Cython is not very efficient and may be improved:
> for instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, 
> and more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.


Is this acceptable? Why are strings used for the conversion? Can't we access the C data structures?



---

archive/issue_comments_264221.json:
```json
{
    "body": "**Changing commit** from \"[aaef33b69986b1c27f68eb8a8cde6ee0d2561c25](https://github.com/sagemath/sagetrac-mirror/commit/aaef33b69986b1c27f68eb8a8cde6ee0d2561c25)\" to \"[0da1853a76d06188a2cd6f608c6b3df406259cea](https://github.com/sagemath/sagetrac-mirror/commit/0da1853a76d06188a2cd6f608c6b3df406259cea)\".",
    "created_at": "2016-01-11T10:49:41Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[aaef33b69986b1c27f68eb8a8cde6ee0d2561c25](https://github.com/sagemath/sagetrac-mirror/commit/aaef33b69986b1c27f68eb8a8cde6ee0d2561c25)" to "[0da1853a76d06188a2cd6f608c6b3df406259cea](https://github.com/sagemath/sagetrac-mirror/commit/0da1853a76d06188a2cd6f608c6b3df406259cea)".



---

archive/issue_comments_264222.json:
```json
{
    "body": "<a id='comment:82'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0da1853a76d06188a2cd6f608c6b3df406259cea\">0da1853</a></td><td><code>Add .pxd file</code></td></tr></table>\n",
    "created_at": "2016-01-11T10:49:41Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264222",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:82'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0da1853a76d06188a2cd6f608c6b3df406259cea">0da1853</a></td><td><code>Add .pxd file</code></td></tr></table>




---

archive/issue_comments_264223.json:
```json
{
    "body": "<a id='comment:83'></a>\nReplying to [jdemeyer](#comment%3A81):\n> Replying to [ticket:18749 tcoladon]:\n> > The proposed wrapper in Cython is not very efficient and may be improved:\n> > for instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, \n> > and more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.\n\n> \n> Is this acceptable? Why are strings used for the conversion? Can't we access the C data structures?\n\n\nI don't see any easy way to do this after quickly browsing `openf4` source code.\n\nAs far as initialization is concerned, the only constructor for polynomials on top of move and copy contructors takes a vector of strings.\nYou can init an empty polynomial and add terms one at a time but you have to sort the temrs first.\n\nAnd to extract the result you have to do the same thing.\n\nSo my opinion is that such functions should be added to openf4, not the the sage wrapper.\nThey could for example eat and spit vectors of Element.",
    "created_at": "2016-01-11T11:05:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264223",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:83'></a>
Replying to [jdemeyer](#comment%3A81):
> Replying to [ticket:18749 tcoladon]:
> > The proposed wrapper in Cython is not very efficient and may be improved:
> > for instance, the computation of katsura 12 over GF(4294967291) takes only 2min 11s, 
> > and more than 9 min are spent in the cython wrapper to convert the result into sage polynomials.

> 
> Is this acceptable? Why are strings used for the conversion? Can't we access the C data structures?


I don't see any easy way to do this after quickly browsing `openf4` source code.

As far as initialization is concerned, the only constructor for polynomials on top of move and copy contructors takes a vector of strings.
You can init an empty polynomial and add terms one at a time but you have to sort the temrs first.

And to extract the result you have to do the same thing.

So my opinion is that such functions should be added to openf4, not the the sage wrapper.
They could for example eat and spit vectors of Element.



---

archive/issue_events_168613.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-11T22:18:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168613"
}
```



---

archive/issue_events_168614.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-11T22:18:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168614"
}
```



---

archive/issue_comments_264224.json:
```json
{
    "body": "<a id='comment:84'></a>\nAnother thing: if `openf4` is so much faster like you claim, it should be the default algorithm for Gr\u00f6bner basis computations over rings which `openf4` can handle. That would also greatly increase the testing coverage.",
    "created_at": "2016-01-11T22:18:59Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264224",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:84'></a>
Another thing: if `openf4` is so much faster like you claim, it should be the default algorithm for Gröbner basis computations over rings which `openf4` can handle. That would also greatly increase the testing coverage.



---

archive/issue_comments_264225.json:
```json
{
    "body": "**Work_Issues:** default algorithm choice",
    "created_at": "2016-01-11T22:18:59Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264225",
    "user": "https://github.com/jdemeyer"
}
```

**Work_Issues:** default algorithm choice



---

archive/issue_events_168615.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-11T22:18:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168615"
}
```



---

archive/issue_events_168616.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-11T22:18:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168616"
}
```



---

archive/issue_comments_264226.json:
```json
{
    "body": "<a id='comment:85'></a>\nIf the default choice is reconsidered, then I would recommend to run benchmarks in comparison with singular and giac. My own tests shows that for Z/pZ, giac is faster than openf4 and requires much less memory (e.g. less than 600M vs more than 20G for cyclic9). singular remains faster for very sparse problems where f4 is not appropriate. Cf. \nhttp://www.cecm.sfu.ca/~rpearcea/mgb.html",
    "created_at": "2016-01-12T06:38:40Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264226",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:85'></a>
If the default choice is reconsidered, then I would recommend to run benchmarks in comparison with singular and giac. My own tests shows that for Z/pZ, giac is faster than openf4 and requires much less memory (e.g. less than 600M vs more than 20G for cyclic9). singular remains faster for very sparse problems where f4 is not appropriate. Cf. 
http://www.cecm.sfu.ca/~rpearcea/mgb.html



---

archive/issue_comments_264227.json:
```json
{
    "body": "<a id='comment:86'></a>\nReplying to [parisse](#comment%3A85):\n> If the default choice is reconsidered, then I would recommend to run benchmarks in comparison with singular and giac. My own tests shows that for Z/pZ, giac is faster than openf4 and requires much less memory (e.g. less than 600M vs more than 20G for cyclic9). singular remains faster for very sparse problems where f4 is not appropriate. Cf. \n> http://www.cecm.sfu.ca/~rpearcea/mgb.html\n\nI think that you are talking of giac > 1.2.2. Note that I have not yet updated the spkg (giac 1.2.0.19) so it is a bit slower than openf4 for cyclic9, but ram usage are indeed very different (for cyclic9 over GF(101) top shows for giac 1.2.0 from sage around 1G  but I saw top around 60Go  with openf4 from sage.)",
    "created_at": "2016-01-12T07:54:26Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264227",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:86'></a>
Replying to [parisse](#comment%3A85):
> If the default choice is reconsidered, then I would recommend to run benchmarks in comparison with singular and giac. My own tests shows that for Z/pZ, giac is faster than openf4 and requires much less memory (e.g. less than 600M vs more than 20G for cyclic9). singular remains faster for very sparse problems where f4 is not appropriate. Cf. 
> http://www.cecm.sfu.ca/~rpearcea/mgb.html

I think that you are talking of giac > 1.2.2. Note that I have not yet updated the spkg (giac 1.2.0.19) so it is a bit slower than openf4 for cyclic9, but ram usage are indeed very different (for cyclic9 over GF(101) top shows for giac 1.2.0 from sage around 1G  but I saw top around 60Go  with openf4 from sage.)



---

archive/issue_comments_264228.json:
```json
{
    "body": "**Changing keywords** from \"F4, groebner basis, ideal\" to \"F4, groebner basis, ideal, sd87\".",
    "created_at": "2017-07-17T17:36:39Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264228",
    "user": "https://github.com/roed314"
}
```

**Changing keywords** from "F4, groebner basis, ideal" to "F4, groebner basis, ideal, sd87".



---

archive/issue_events_168617.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168617"
}
```



---

archive/issue_comments_264229.json:
```json
{
    "body": "<a id='comment:88'></a>\nSetting spkg proposals that have not seen recent activity to \"sage-wishlist\".",
    "created_at": "2020-06-19T18:16:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18749#issuecomment-264229",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:88'></a>
Setting spkg proposals that have not seen recent activity to "sage-wishlist".



---

archive/issue_events_168618.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168618"
}
```



---

archive/issue_events_168619.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18749",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18749#event-168619"
}
```
