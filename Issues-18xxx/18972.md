# Issue 18972: twographs and Seidel switching

archive/issues_018735.json:
```json
{
    "body": "Implement twographs and Seidel switching to realise more entries in Brouwer database \n\nCC:  @nathanncohen\n\nBranch/Commit: 1e8e0b4c3168ca179e20377ea6423b0c5385f0bb\n\nReviewer: Nathann Cohen\n\nAuthor: Dima Pasechnik\n\nDependencies: #18960, #18948, #18988, #18991, #18986, #19018, #19019\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18972\n\n",
    "closed_at": "2015-08-28T14:36:33Z",
    "created_at": "2015-07-31T01:20:37Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "twographs and Seidel switching",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18972",
    "user": "https://github.com/dimpase"
}
```
Implement twographs and Seidel switching to realise more entries in Brouwer database 

CC:  @nathanncohen

Branch/Commit: 1e8e0b4c3168ca179e20377ea6423b0c5385f0bb

Reviewer: Nathann Cohen

Author: Dima Pasechnik

Dependencies: #18960, #18948, #18988, #18991, #18986, #19018, #19019

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18972





---

archive/issue_comments_336406.json:
```json
{
    "body": "<a id='comment:1'></a>\nHellooooooo,\n\n1) The docstring must begin with a one-line sentence (http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content)\n\n2) small case (e.g.: `Graph.tutte_polynomial`)\n\n3) If your methods only apply to undirected graphs, they should be in graph.py\n\n4) Add doctests for your new constructor\n\n5) This line is an insult to computer science: `idx = frozenset([self.vertices().index(v) for v in s])`It builds a list `n` times to compute the index of an element with a linear search. And I don't think that you need a `.Seydel_adjacency_matrix` or a new input type for this function. You can do it like that:\n\n```\nsage: g = graphs.PetersenGraph()\nsage: s = {1,2,3,4}\nsage: sc = set(g).difference(s)\nsage: b = g.edge_boundary(s)\nsage: g.add_edges((x,y) for x in s for y in sc)\nsage: g.delete_edges(b)\n```\n\n6) A new method must be added to the index at the top of the file.\n\nNathann",
    "created_at": "2015-07-31T06:55:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336406",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'></a>
Hellooooooo,

1) The docstring must begin with a one-line sentence (http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content)

2) small case (e.g.: `Graph.tutte_polynomial`)

3) If your methods only apply to undirected graphs, they should be in graph.py

4) Add doctests for your new constructor

5) This line is an insult to computer science: `idx = frozenset([self.vertices().index(v) for v in s])`It builds a list `n` times to compute the index of an element with a linear search. And I don't think that you need a `.Seydel_adjacency_matrix` or a new input type for this function. You can do it like that:

```
sage: g = graphs.PetersenGraph()
sage: s = {1,2,3,4}
sage: sc = set(g).difference(s)
sage: b = g.edge_boundary(s)
sage: g.add_edges((x,y) for x in s for y in sc)
sage: g.delete_edges(b)
```

6) A new method must be added to the index at the top of the file.

Nathann



---

archive/issue_comments_336407.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [ncohen](#comment%3A1):\n> Hellooooooo,\n> \n> 1) The docstring must begin with a one-line sentence (http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content)\n> \n> 2) small case (e.g.: `Graph.tutte_polynomial`)\n\n\nwhy, why... Tutte won't complain from the grave, but, you know, to me this feels like dancing on his tombstone... And I actually happened to know Jaap Seidel; I was a postdoc in Eindhoven, and he (and Jack van Lint, whose name just popped up on your 2-weights code ticket) were still there...\n\n\n> \n> 3) If your methods only apply to undirected graphs, they should be in graph.py\n\n>\nok, I will fix it.\n \n> 4) Add doctests for your new constructor\n> \n> 5) This line is an insult to computer science: `idx = frozenset([self.vertices().index(v) for v in s])`It builds a list `n` times to compute the index of an element with a linear search. \n\n\nthat's what you write as an 1:30am prototype, you know; thanks for pointing this out :-)\n\n> And I don't think that you need a `.Seydel_adjacency_matrix` or a new input type for this function. \n\n\nSeidel adj.mat. has interesting spectral properties, and that's why it is there.\n(one gets srgs out of it if it has just 2 distinct eigenvalues; as well, it is a means to construct cospectral graphs, by switching---which is matrix conjugation, and this is why you preserve the spectrum...)\n\nSo it is very useful on its own right.\n\n> \n> 6) A new method must be added to the index at the top of the file.\n\nOK; should there also be something done in src/doc ?\n\nDima",
    "created_at": "2015-07-31T08:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336407",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
Replying to [ncohen](#comment%3A1):
> Hellooooooo,
> 
> 1) The docstring must begin with a one-line sentence (http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content)
> 
> 2) small case (e.g.: `Graph.tutte_polynomial`)


why, why... Tutte won't complain from the grave, but, you know, to me this feels like dancing on his tombstone... And I actually happened to know Jaap Seidel; I was a postdoc in Eindhoven, and he (and Jack van Lint, whose name just popped up on your 2-weights code ticket) were still there...


> 
> 3) If your methods only apply to undirected graphs, they should be in graph.py

>
ok, I will fix it.
 
> 4) Add doctests for your new constructor
> 
> 5) This line is an insult to computer science: `idx = frozenset([self.vertices().index(v) for v in s])`It builds a list `n` times to compute the index of an element with a linear search. 


that's what you write as an 1:30am prototype, you know; thanks for pointing this out :-)

> And I don't think that you need a `.Seydel_adjacency_matrix` or a new input type for this function. 


Seidel adj.mat. has interesting spectral properties, and that's why it is there.
(one gets srgs out of it if it has just 2 distinct eigenvalues; as well, it is a means to construct cospectral graphs, by switching---which is matrix conjugation, and this is why you preserve the spectrum...)

So it is very useful on its own right.

> 
> 6) A new method must be added to the index at the top of the file.

OK; should there also be something done in src/doc ?

Dima



---

archive/issue_comments_336408.json:
```json
{
    "body": "<a id='comment:3'></a>\n> why, why... Tutte won't complain from the grave, but, you know, to me this feels like dancing on his tombstone...\n\n\nWell, I don't like much that all graphs constructors end with \"Graph\" but it's like a 'standard' problem. We either change them all, or none of them. And in the case of upper cases for family names, I expect that Sage has many occurrences of that.\n\n> Seidel adj.mat. has interesting spectral properties, and that's why it is there.\n> (one gets srgs out of it if it has just 2 distinct eigenvalues; as well, it is a means to construct cospectral graphs, by switching---which is matrix conjugation, and this is why you preserve the spectrum...)\n> \n> So it is very useful on its own right.\n\n\nI personally don't see the added value with respect to the adjacency matrix. For sure it is not needed as far as the switching method is concerned.\n\n> OK; should there also be something done in src/doc ?\n\n\nnonono, that's only needed when you create a new file.\n\nNathann",
    "created_at": "2015-07-31T08:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336408",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
> why, why... Tutte won't complain from the grave, but, you know, to me this feels like dancing on his tombstone...


Well, I don't like much that all graphs constructors end with "Graph" but it's like a 'standard' problem. We either change them all, or none of them. And in the case of upper cases for family names, I expect that Sage has many occurrences of that.

> Seidel adj.mat. has interesting spectral properties, and that's why it is there.
> (one gets srgs out of it if it has just 2 distinct eigenvalues; as well, it is a means to construct cospectral graphs, by switching---which is matrix conjugation, and this is why you preserve the spectrum...)
> 
> So it is very useful on its own right.


I personally don't see the added value with respect to the adjacency matrix. For sure it is not needed as far as the switching method is concerned.

> OK; should there also be something done in src/doc ?


nonono, that's only needed when you create a new file.

Nathann



---

archive/issue_comments_336409.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [ncohen](#comment%3A3):\n> > why, why... Tutte won't complain from the grave, but, you know, to me this feels like dancing on his tombstone...\n\n> \n> Well, I don't like much that all graphs constructors end with \"Graph\" but it's like a 'standard' problem. We either change them all, or none of them. And in the case of upper cases for family names, I expect that Sage has many occurrences of that.\n\n\nI just posted a question on sage-devel: perhaps it's only me, and then I'll have to live with this :-)\n\n> \n> > Seidel adj.mat. has interesting spectral properties, and that's why it is there.\n> > (one gets srgs out of it if it has just 2 distinct eigenvalues; as well, it is a means to construct cospectral graphs, by switching---which is matrix conjugation, and this is why you preserve the spectrum...)\n> > \n> > So it is very useful on its own right.\n\n> \n> I personally don't see the added value with respect to the adjacency matrix. For sure it is not needed as far as the switching method is concerned.\n\n\nIn a similar vein you can say that Laplacian matrix should not be there, as it is a simple variation of the adjacency matrix, too...\n\nIt is there because we want to have readable code with readable documentation. It is syntactic sugar, if you wish. Of course you can say that all syntactic sugar is a waste of time and space, but without it you end up with obscure unreadable implementation...",
    "created_at": "2015-07-31T09:08:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336409",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Replying to [ncohen](#comment%3A3):
> > why, why... Tutte won't complain from the grave, but, you know, to me this feels like dancing on his tombstone...

> 
> Well, I don't like much that all graphs constructors end with "Graph" but it's like a 'standard' problem. We either change them all, or none of them. And in the case of upper cases for family names, I expect that Sage has many occurrences of that.


I just posted a question on sage-devel: perhaps it's only me, and then I'll have to live with this :-)

> 
> > Seidel adj.mat. has interesting spectral properties, and that's why it is there.
> > (one gets srgs out of it if it has just 2 distinct eigenvalues; as well, it is a means to construct cospectral graphs, by switching---which is matrix conjugation, and this is why you preserve the spectrum...)
> > 
> > So it is very useful on its own right.

> 
> I personally don't see the added value with respect to the adjacency matrix. For sure it is not needed as far as the switching method is concerned.


In a similar vein you can say that Laplacian matrix should not be there, as it is a simple variation of the adjacency matrix, too...

It is there because we want to have readable code with readable documentation. It is syntactic sugar, if you wish. Of course you can say that all syntactic sugar is a waste of time and space, but without it you end up with obscure unreadable implementation...



---

archive/issue_comments_336410.json:
```json
{
    "body": "<a id='comment:5'></a>\n> I just posted a question on sage-devel: perhaps it's only me, and then I'll have to live with this :-)\n\n\nGood idea. I prefer it in small case, but I want it to be somehow consistent.\n\n> In a similar vein you can say that Laplacian matrix should not be there, as it is a simple variation of the adjacency matrix, too...\n\n\nI would not say that, for there are books written about the laplacian matrix is .... well. More confidential.\n\n> It is there because we want to have readable code with readable documentation. It is syntactic sugar, if you wish.\n\n\nThe only guy who uses this expression is Nicolas Thierry. If you want me to believe you are just trying to trick me into acting the way you want it, there is no better way.\n\n> Of course you can say that all syntactic sugar is a waste of time and space, but without it you end up with obscure unreadable implementation..\n\n\nObscure? The 4 lines code?\n\nNathann",
    "created_at": "2015-07-31T09:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336410",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
> I just posted a question on sage-devel: perhaps it's only me, and then I'll have to live with this :-)


Good idea. I prefer it in small case, but I want it to be somehow consistent.

> In a similar vein you can say that Laplacian matrix should not be there, as it is a simple variation of the adjacency matrix, too...


I would not say that, for there are books written about the laplacian matrix is .... well. More confidential.

> It is there because we want to have readable code with readable documentation. It is syntactic sugar, if you wish.


The only guy who uses this expression is Nicolas Thierry. If you want me to believe you are just trying to trick me into acting the way you want it, there is no better way.

> Of course you can say that all syntactic sugar is a waste of time and space, but without it you end up with obscure unreadable implementation..


Obscure? The 4 lines code?

Nathann



---

archive/issue_comments_336411.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [ncohen](#comment%3A5):\n> > In a similar vein you can say that Laplacian matrix should not be there, as it is a simple variation of the adjacency matrix, too...\n\n> \n> I would not say that, for there are books written about the laplacian matrix is .... well. More confidential.\n\n\nThere are many papers and book chapters written about Seidel adjacency matrix and Seidel switching.\n\nAnd there are no books written `graph6`, yet it is there in full glory.\n\n> \n> > It is there because we want to have readable code with readable documentation. It is syntactic sugar, if you wish.\n\n> \n> The only guy who uses this expression is Nicolas Thierry. \n\nI don't know what you are talking about: go read https://en.wikipedia.org/wiki/Syntactic_sugar\nGoogling \"syntactic sugar\" gives you over 300,000 hits.\n\n\nAnyhow, if you are not willing to allow `Seidel_adjacency_matrix` into Sage graphs, I'd stop working on this implementation now.",
    "created_at": "2015-07-31T09:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336411",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
Replying to [ncohen](#comment%3A5):
> > In a similar vein you can say that Laplacian matrix should not be there, as it is a simple variation of the adjacency matrix, too...

> 
> I would not say that, for there are books written about the laplacian matrix is .... well. More confidential.


There are many papers and book chapters written about Seidel adjacency matrix and Seidel switching.

And there are no books written `graph6`, yet it is there in full glory.

> 
> > It is there because we want to have readable code with readable documentation. It is syntactic sugar, if you wish.

> 
> The only guy who uses this expression is Nicolas Thierry. 

I don't know what you are talking about: go read https://en.wikipedia.org/wiki/Syntactic_sugar
Googling "syntactic sugar" gives you over 300,000 hits.


Anyhow, if you are not willing to allow `Seidel_adjacency_matrix` into Sage graphs, I'd stop working on this implementation now.



---

archive/issue_comments_336412.json:
```json
{
    "body": "<a id='comment:7'></a>\n> There are many papers and book chapters written about Seidel adjacency matrix and Seidel switching.\n\n\nI had never heard of it before today. Hard to miss the laplacian matrix, though.\n\n> I don't know what you are talking about: go read https://en.wikipedia.org/wiki/Syntactic_sugar\n> Googling \"syntactic sugar\" gives you over 300,000 hits.\n\n\nIt was mostly a joke. I did not expect him to have invented the sentence.\n\n> Anyhow, if you are not willing to allow `Seidel_adjacency_matrix` into Sage graphs, I'd stop working on this implementation now.\n\n\nDid you hear me say that I \"would not allow it\"? For sure I don't like it, but that did not stop me from accepting code that other thought useful. Also, you add long lines of code to an already very very heavy constructor, while you could turn it into an adjacency matrix with a one-liner.. But that would result in possibly misleading error messages. \n\nWhat I said is that I do not see the added value and it is true. I said that the best way to write seydel_switching was to not use this new function. And also that it should be in small case unless a new standard is decided that applies to all of sage.\n\nNathann",
    "created_at": "2015-07-31T09:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336412",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
> There are many papers and book chapters written about Seidel adjacency matrix and Seidel switching.


I had never heard of it before today. Hard to miss the laplacian matrix, though.

> I don't know what you are talking about: go read https://en.wikipedia.org/wiki/Syntactic_sugar
> Googling "syntactic sugar" gives you over 300,000 hits.


It was mostly a joke. I did not expect him to have invented the sentence.

> Anyhow, if you are not willing to allow `Seidel_adjacency_matrix` into Sage graphs, I'd stop working on this implementation now.


Did you hear me say that I "would not allow it"? For sure I don't like it, but that did not stop me from accepting code that other thought useful. Also, you add long lines of code to an already very very heavy constructor, while you could turn it into an adjacency matrix with a one-liner.. But that would result in possibly misleading error messages. 

What I said is that I do not see the added value and it is true. I said that the best way to write seydel_switching was to not use this new function. And also that it should be in small case unless a new standard is decided that applies to all of sage.

Nathann



---

archive/issue_comments_336413.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [ncohen](#comment%3A7):\n> > There are many papers and book chapters written about Seidel adjacency matrix and Seidel switching.\n\n> \n> I had never heard of it before today. \n\nReally?  http://trac.sagemath.org/ticket/18785#comment:5 :-)\nAnd it is all over the place in the twograph business...\n\n\n> > I don't know what you are talking about: go read https://en.wikipedia.org/wiki/Syntactic_sugar\n> > Googling \"syntactic sugar\" gives you over 300,000 hits.\n\n> \n> It was mostly a joke. I did not expect him to have invented the sentence.\n> \n> > Anyhow, if you are not willing to allow `Seidel_adjacency_matrix` into Sage graphs, I'd stop working on this implementation now.\n\n> \n> Did you hear me say that I \"would not allow it\"? For sure I don't like it, but that did not stop me from accepting code that other thought useful. Also, you add long lines of code to an already very very heavy constructor, while you could turn it into an adjacency matrix with a one-liner.. But that would result in possibly misleading error messages. \n\n\n\nOK, OK, I just was learning from your approach to ticket writing/abandoning ;-)",
    "created_at": "2015-07-31T10:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336413",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
Replying to [ncohen](#comment%3A7):
> > There are many papers and book chapters written about Seidel adjacency matrix and Seidel switching.

> 
> I had never heard of it before today. 

Really?  http://trac.sagemath.org/ticket/18785#comment:5 :-)
And it is all over the place in the twograph business...


> > I don't know what you are talking about: go read https://en.wikipedia.org/wiki/Syntactic_sugar
> > Googling "syntactic sugar" gives you over 300,000 hits.

> 
> It was mostly a joke. I did not expect him to have invented the sentence.
> 
> > Anyhow, if you are not willing to allow `Seidel_adjacency_matrix` into Sage graphs, I'd stop working on this implementation now.

> 
> Did you hear me say that I "would not allow it"? For sure I don't like it, but that did not stop me from accepting code that other thought useful. Also, you add long lines of code to an already very very heavy constructor, while you could turn it into an adjacency matrix with a one-liner.. But that would result in possibly misleading error messages. 



OK, OK, I just was learning from your approach to ticket writing/abandoning ;-)



---

archive/issue_comments_336414.json:
```json
{
    "body": "<a id='comment:9'></a>\n> > I had never heard of it before today. \n\n> Really?  http://trac.sagemath.org/ticket/18785#comment:5 :-)\n> And it is all over the place in the twograph business...\n\n\nYou have a talent for turning any conversation into a pointless word battle. But really, I don't think I heard of \"Seydel adjacency matrix\" before your ticket. And with good reason, it's almost equal to the adjacency matrix...\n\n> OK, OK, I just was learning from your approach to ticket writing/abandoning ;-)\n\n\nIf you feel a bit of responsibility for that, perhaps you could help me get these tikets through instead of letting this code rot because of unsufferable reviewers.\n\nNathann",
    "created_at": "2015-07-31T10:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336414",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
> > I had never heard of it before today. 

> Really?  http://trac.sagemath.org/ticket/18785#comment:5 :-)
> And it is all over the place in the twograph business...


You have a talent for turning any conversation into a pointless word battle. But really, I don't think I heard of "Seydel adjacency matrix" before your ticket. And with good reason, it's almost equal to the adjacency matrix...

> OK, OK, I just was learning from your approach to ticket writing/abandoning ;-)


If you feel a bit of responsibility for that, perhaps you could help me get these tikets through instead of letting this code rot because of unsufferable reviewers.

Nathann



---

archive/issue_comments_336415.json:
```json
{
    "body": "Changing commit from \"b76c9a0369a5babc98481d6b96125c9b86f1adc9\" to \"a48e9e2c5ca13c44468a42a1420fac8b70ee9faa\"",
    "created_at": "2015-08-01T00:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b76c9a0369a5babc98481d6b96125c9b86f1adc9" to "a48e9e2c5ca13c44468a42a1420fac8b70ee9faa"



---

archive/issue_comments_336416.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[a48e9e2](http://git.sagemath.org/sage.git/commit/?id=a48e9e2c5ca13c44468a42a1420fac8b70ee9faa)|`modifications suggested by Nathann in comment 1`|",
    "created_at": "2015-08-01T00:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[a48e9e2](http://git.sagemath.org/sage.git/commit/?id=a48e9e2c5ca13c44468a42a1420fac8b70ee9faa)|`modifications suggested by Nathann in comment 1`|



---

archive/issue_comments_336417.json:
```json
{
    "body": "Changing commit from \"a48e9e2c5ca13c44468a42a1420fac8b70ee9faa\" to \"46bdc550161b3fce56097c8c3f0bf101ea2c5c64\"",
    "created_at": "2015-08-01T02:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a48e9e2c5ca13c44468a42a1420fac8b70ee9faa" to "46bdc550161b3fce56097c8c3f0bf101ea2c5c64"



---

archive/issue_comments_336418.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[46bdc55](http://git.sagemath.org/sage.git/commit/?id=46bdc550161b3fce56097c8c3f0bf101ea2c5c64)|`switching construction for the Chang graphs`|",
    "created_at": "2015-08-01T02:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336418",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[46bdc55](http://git.sagemath.org/sage.git/commit/?id=46bdc550161b3fce56097c8c3f0bf101ea2c5c64)|`switching construction for the Chang graphs`|



---

archive/issue_comments_336419.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[e5144c1](http://git.sagemath.org/sage.git/commit/?id=e5144c17944ba15810fa6add30e1d9a996559607)|`initial version of twograph functionality`|",
    "created_at": "2015-08-02T21:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[e5144c1](http://git.sagemath.org/sage.git/commit/?id=e5144c17944ba15810fa6add30e1d9a996559607)|`initial version of twograph functionality`|



---

archive/issue_comments_336420.json:
```json
{
    "body": "Changing commit from \"46bdc550161b3fce56097c8c3f0bf101ea2c5c64\" to \"e5144c17944ba15810fa6add30e1d9a996559607\"",
    "created_at": "2015-08-02T21:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "46bdc550161b3fce56097c8c3f0bf101ea2c5c64" to "e5144c17944ba15810fa6add30e1d9a996559607"



---

archive/issue_comments_336421.json:
```json
{
    "body": "Changing commit from \"e5144c17944ba15810fa6add30e1d9a996559607\" to \"21b01bcc384a0bef91b019dbe6914911a3aad5db\"",
    "created_at": "2015-08-02T21:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e5144c17944ba15810fa6add30e1d9a996559607" to "21b01bcc384a0bef91b019dbe6914911a3aad5db"



---

archive/issue_comments_336422.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[21b01bc](http://git.sagemath.org/sage.git/commit/?id=21b01bcc384a0bef91b019dbe6914911a3aad5db)|`no need for explicit .eps in LaTeX`|",
    "created_at": "2015-08-02T21:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[21b01bc](http://git.sagemath.org/sage.git/commit/?id=21b01bcc384a0bef91b019dbe6914911a3aad5db)|`no need for explicit .eps in LaTeX`|



---

archive/issue_comments_336423.json:
```json
{
    "body": "Changing commit from \"21b01bcc384a0bef91b019dbe6914911a3aad5db\" to \"0aafa88f085c4bd0962512831ef2fc39911a1f99\"",
    "created_at": "2015-08-03T09:28:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336423",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "21b01bcc384a0bef91b019dbe6914911a3aad5db" to "0aafa88f085c4bd0962512831ef2fc39911a1f99"



---

archive/issue_comments_336424.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|\n|[0aafa88](http://git.sagemath.org/sage.git/commit/?id=0aafa88f085c4bd0962512831ef2fc39911a1f99)|`Merge branch 'u/dimpase/seidelsw' of git://trac.sagemath.org/sage into seidelsw`|",
    "created_at": "2015-08-03T09:28:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|
|[0aafa88](http://git.sagemath.org/sage.git/commit/?id=0aafa88f085c4bd0962512831ef2fc39911a1f99)|`Merge branch 'u/dimpase/seidelsw' of git://trac.sagemath.org/sage into seidelsw`|



---

archive/issue_comments_336425.json:
```json
{
    "body": "Changing commit from \"0aafa88f085c4bd0962512831ef2fc39911a1f99\" to \"3eeca75f420da293a72012fe54eddc28de1495fd\"",
    "created_at": "2015-08-03T11:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336425",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0aafa88f085c4bd0962512831ef2fc39911a1f99" to "3eeca75f420da293a72012fe54eddc28de1495fd"



---

archive/issue_comments_336426.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[3eeca75](http://git.sagemath.org/sage.git/commit/?id=3eeca75f420da293a72012fe54eddc28de1495fd)|`introducing class TwoGraph`|",
    "created_at": "2015-08-03T11:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336426",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[3eeca75](http://git.sagemath.org/sage.git/commit/?id=3eeca75f420da293a72012fe54eddc28de1495fd)|`introducing class TwoGraph`|



---

archive/issue_comments_336427.json:
```json
{
    "body": "Changing commit from \"3eeca75f420da293a72012fe54eddc28de1495fd\" to \"7331311b78d59d5e932fd92af3a4cb4a3188a348\"",
    "created_at": "2015-08-03T11:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336427",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3eeca75f420da293a72012fe54eddc28de1495fd" to "7331311b78d59d5e932fd92af3a4cb4a3188a348"



---

archive/issue_comments_336428.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[7331311](http://git.sagemath.org/sage.git/commit/?id=7331311b78d59d5e932fd92af3a4cb4a3188a348)|`minor typos etc`|",
    "created_at": "2015-08-03T11:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[7331311](http://git.sagemath.org/sage.git/commit/?id=7331311b78d59d5e932fd92af3a4cb4a3188a348)|`minor typos etc`|



---

archive/issue_comments_336429.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#18960, #18948\"",
    "created_at": "2015-08-03T13:11:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336429",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "" to "#18960, #18948"



---

archive/issue_comments_336430.json:
```json
{
    "body": "<a id='comment:17'></a>\nwe now can build not yet known to Sage `graphs.strongly_regular_graph(279,150,85)`\n\n```\nsage: A=graphs.strongly_regular_graph(280,135,70)\nsage: gTA=A.twograph().descendant(A.vertices()[0]) #long time\nsage: gTA.is_strongly_regular(parameters=True)\n(279, 150, 85, 75)\n```",
    "created_at": "2015-08-03T13:11:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336430",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
we now can build not yet known to Sage `graphs.strongly_regular_graph(279,150,85)`

```
sage: A=graphs.strongly_regular_graph(280,135,70)
sage: gTA=A.twograph().descendant(A.vertices()[0]) #long time
sage: gTA.is_strongly_regular(parameters=True)
(279, 150, 85, 75)
```



---

archive/issue_comments_336431.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[606d15f](http://git.sagemath.org/sage.git/commit/?id=606d15fbf46b427ed47a92e7250d75f4711cdd78)|`trac #18960: Adding nonzero somewhere`|\n|[83ed332](http://git.sagemath.org/sage.git/commit/?id=83ed332c58dbad71fe5b74d8c2d9e3aa3fe52d84)|`trac #18960: Again...`|\n|[dc2d326](http://git.sagemath.org/sage.git/commit/?id=dc2d3261a823a5ed8db1129497ada25e3059d7ee)|`trac #18960: Lint -> vLint`|\n|[3b0bd4f](http://git.sagemath.org/sage.git/commit/?id=3b0bd4f77e7b50f3197631dae88a9669ee13cc2a)|`Merge branch 'u/ncohen/18960' of git://trac.sagemath.org/sage into seidelsw`|\n|[8f25493](http://git.sagemath.org/sage.git/commit/?id=8f254930985e06432a8261c697d2b5e0edf97f9d)|`trac #18948: Merged with 6.9.beta0`|\n|[a9280c9](http://git.sagemath.org/sage.git/commit/?id=a9280c9ae07f2703e7d004d463a77d8e6482025f)|`trac #18948: Rephrasing the doc`|\n|[cf8f2da](http://git.sagemath.org/sage.git/commit/?id=cf8f2dad1cd90ff5aaa0cec15a25f87c64289719)|`trac #18948: guess mu`|\n|[4f51703](http://git.sagemath.org/sage.git/commit/?id=4f51703c4e63909516d4711714a5429cfd4f5050)|`trac #18948: DOcstring`|\n|[a75774f](http://git.sagemath.org/sage.git/commit/?id=a75774fa9f6168b4f0e34c6cdd93496f7283b179)|`trac #18948: take into account the BIBD from #18934`|\n|[f72b84e](http://git.sagemath.org/sage.git/commit/?id=f72b84ea89a0f371a53a965620ca7820886f0f82)|`rebase...`|",
    "created_at": "2015-08-03T13:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336431",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[606d15f](http://git.sagemath.org/sage.git/commit/?id=606d15fbf46b427ed47a92e7250d75f4711cdd78)|`trac #18960: Adding nonzero somewhere`|
|[83ed332](http://git.sagemath.org/sage.git/commit/?id=83ed332c58dbad71fe5b74d8c2d9e3aa3fe52d84)|`trac #18960: Again...`|
|[dc2d326](http://git.sagemath.org/sage.git/commit/?id=dc2d3261a823a5ed8db1129497ada25e3059d7ee)|`trac #18960: Lint -> vLint`|
|[3b0bd4f](http://git.sagemath.org/sage.git/commit/?id=3b0bd4f77e7b50f3197631dae88a9669ee13cc2a)|`Merge branch 'u/ncohen/18960' of git://trac.sagemath.org/sage into seidelsw`|
|[8f25493](http://git.sagemath.org/sage.git/commit/?id=8f254930985e06432a8261c697d2b5e0edf97f9d)|`trac #18948: Merged with 6.9.beta0`|
|[a9280c9](http://git.sagemath.org/sage.git/commit/?id=a9280c9ae07f2703e7d004d463a77d8e6482025f)|`trac #18948: Rephrasing the doc`|
|[cf8f2da](http://git.sagemath.org/sage.git/commit/?id=cf8f2dad1cd90ff5aaa0cec15a25f87c64289719)|`trac #18948: guess mu`|
|[4f51703](http://git.sagemath.org/sage.git/commit/?id=4f51703c4e63909516d4711714a5429cfd4f5050)|`trac #18948: DOcstring`|
|[a75774f](http://git.sagemath.org/sage.git/commit/?id=a75774fa9f6168b4f0e34c6cdd93496f7283b179)|`trac #18948: take into account the BIBD from #18934`|
|[f72b84e](http://git.sagemath.org/sage.git/commit/?id=f72b84ea89a0f371a53a965620ca7820886f0f82)|`rebase...`|



---

archive/issue_comments_336432.json:
```json
{
    "body": "Changing commit from \"7331311b78d59d5e932fd92af3a4cb4a3188a348\" to \"f72b84ea89a0f371a53a965620ca7820886f0f82\"",
    "created_at": "2015-08-03T13:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7331311b78d59d5e932fd92af3a4cb4a3188a348" to "f72b84ea89a0f371a53a965620ca7820886f0f82"



---

archive/issue_comments_336433.json:
```json
{
    "body": "<a id='comment:19'></a>\nTODO: constructing the descent graph directly from a graph should be much faster.",
    "created_at": "2015-08-03T13:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336433",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
TODO: constructing the descent graph directly from a graph should be much faster.



---

archive/issue_comments_336434.json:
```json
{
    "body": "Changing commit from \"f72b84ea89a0f371a53a965620ca7820886f0f82\" to \"5115728f80aa95f87a272feec999e317ccdffba4\"",
    "created_at": "2015-08-03T20:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336434",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f72b84ea89a0f371a53a965620ca7820886f0f82" to "5115728f80aa95f87a272feec999e317ccdffba4"



---

archive/issue_comments_336435.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[5115728](http://git.sagemath.org/sage.git/commit/?id=5115728f80aa95f87a272feec999e317ccdffba4)|`make descendant computation faster`|",
    "created_at": "2015-08-03T20:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[5115728](http://git.sagemath.org/sage.git/commit/?id=5115728f80aa95f87a272feec999e317ccdffba4)|`make descendant computation faster`|



---

archive/issue_comments_336436.json:
```json
{
    "body": "<a id='comment:21'></a>\nShould we add individual graphs to the database here?",
    "created_at": "2015-08-03T20:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336436",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
Should we add individual graphs to the database here?



---

archive/issue_comments_336437.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-03T20:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336437",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_336438.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2015-08-03T20:39:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336438",
    "user": "https://github.com/dimpase"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_336439.json:
```json
{
    "body": "<a id='comment:22'></a>\nWell, unless you expect the code to be long/complicated, I'd say yes.\n\nNathann",
    "created_at": "2015-08-04T11:33:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336439",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>
Well, unless you expect the code to be long/complicated, I'd say yes.

Nathann



---

archive/issue_comments_336440.json:
```json
{
    "body": "<a id='comment:23'></a>\nI already made comments on the code of `seidel_switching`, and you need to document what a `twograph_descendant` is. I am not sure that this function should be in `Graph`, though. If it is just a bit faster than using the `TwoGraph` class, maybe it is enough to make it appear in a `seealso` inside of `twograph` and keep it in the `two_graph` module.\n\nBut really, all in all, I don't see the point of creating a new module, a new class and 6 functions, if all it takes to build the descendant of a graph is 5 lines of code.\n\nNathann",
    "created_at": "2015-08-04T11:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336440",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>
I already made comments on the code of `seidel_switching`, and you need to document what a `twograph_descendant` is. I am not sure that this function should be in `Graph`, though. If it is just a bit faster than using the `TwoGraph` class, maybe it is enough to make it appear in a `seealso` inside of `twograph` and keep it in the `two_graph` module.

But really, all in all, I don't see the point of creating a new module, a new class and 6 functions, if all it takes to build the descendant of a graph is 5 lines of code.

Nathann



---

archive/issue_comments_336441.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [ncohen](#comment%3A23):\n> I already made comments on the code of `seidel_switching`, \n\nYou said there that Graph.vertices() is a plain list, and I should\nmake it a set, or something? (I guess a dictionary, as I need to know\nthe original indices)\n\nIt's a usual operation, find positions of vertices... E.g.\nhow do you construct subgraphs without essentially doing this?\n\n>and you need to document what a `twograph_descendant` is. \n\n\nit's the composition of two documented functions, isn't it enough?\n\n>I am not sure that this function should be in `Graph`, though. If it is just a bit faster than using the `TwoGraph` class, maybe it is enough to make it appear in a `seealso` inside of `twograph` and keep it in the `two_graph` module.\n\n\nIt is a hell of lot faster for cases with more than 100 vertices, say. `O(n^2)` vs `O(n^3)`.\n\n> \n> But really, all in all, I don't see the point of creating a new module, a new class and 6 functions, if all it takes to build the descendant of a graph is 5 lines of code.\n\n\nDid you see the [patch for Chang graphs](http://git.sagemath.org/sage.git/diff/src/sage/graphs/generators/families.py?id=5115728f80aa95f87a272feec999e317ccdffba4&id2=edb1b0870d25373a1cf8def52c5fe3159245f59d)? Do you think it is useless and should be removed?\n(IMHO, Chang graphs should be constructed this way, not the way it's done at present).",
    "created_at": "2015-08-04T12:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336441",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Replying to [ncohen](#comment%3A23):
> I already made comments on the code of `seidel_switching`, 

You said there that Graph.vertices() is a plain list, and I should
make it a set, or something? (I guess a dictionary, as I need to know
the original indices)

It's a usual operation, find positions of vertices... E.g.
how do you construct subgraphs without essentially doing this?

>and you need to document what a `twograph_descendant` is. 


it's the composition of two documented functions, isn't it enough?

>I am not sure that this function should be in `Graph`, though. If it is just a bit faster than using the `TwoGraph` class, maybe it is enough to make it appear in a `seealso` inside of `twograph` and keep it in the `two_graph` module.


It is a hell of lot faster for cases with more than 100 vertices, say. `O(n^2)` vs `O(n^3)`.

> 
> But really, all in all, I don't see the point of creating a new module, a new class and 6 functions, if all it takes to build the descendant of a graph is 5 lines of code.


Did you see the [patch for Chang graphs](http://git.sagemath.org/sage.git/diff/src/sage/graphs/generators/families.py?id=5115728f80aa95f87a272feec999e317ccdffba4&id2=edb1b0870d25373a1cf8def52c5fe3159245f59d)? Do you think it is useless and should be removed?
(IMHO, Chang graphs should be constructed this way, not the way it's done at present).



---

archive/issue_comments_336442.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [dimpase](#comment%3A24):\nI'm also playing with constructing an srg of \"2-graph\" type from one of \"2-graph\\*\"-type, via\n(integer) linear programming. One needs to find a -1/+1-diagonal matrix corresponding to the switching from \"2-graph\\*\"+K1 to an srg of \"2-graph\" type.\nI can do toy cases so far...",
    "created_at": "2015-08-04T13:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336442",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'></a>
Replying to [dimpase](#comment%3A24):
I'm also playing with constructing an srg of "2-graph" type from one of "2-graph\*"-type, via
(integer) linear programming. One needs to find a -1/+1-diagonal matrix corresponding to the switching from "2-graph\*"+K1 to an srg of "2-graph" type.
I can do toy cases so far...



---

archive/issue_comments_336443.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[758da33](http://git.sagemath.org/sage.git/commit/?id=758da33a4bd616f97e2b9748236c0d866fb8f79d)|`SRG_279_150_85_75 added.`|",
    "created_at": "2015-08-04T13:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336443",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[758da33](http://git.sagemath.org/sage.git/commit/?id=758da33a4bd616f97e2b9748236c0d866fb8f79d)|`SRG_279_150_85_75 added.`|



---

archive/issue_comments_336444.json:
```json
{
    "body": "Changing commit from \"5115728f80aa95f87a272feec999e317ccdffba4\" to \"758da33a4bd616f97e2b9748236c0d866fb8f79d\"",
    "created_at": "2015-08-04T13:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5115728f80aa95f87a272feec999e317ccdffba4" to "758da33a4bd616f97e2b9748236c0d866fb8f79d"



---

archive/issue_comments_336445.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [git](#comment%3A26):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                          |                          |\n> |------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n> |[758da33](http://git.sagemath.org/sage.git/commit/?id=758da33a4bd616f97e2b9748236c0d866fb8f79d)|`SRG_279_150_85_75 added.`|\n\n\nI don't know how to rebuild the database, so that it is available as\n\n```    \nsage: graphs.strongly_regular_graph(279, 150, 85, 75)\n```",
    "created_at": "2015-08-04T13:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336445",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
Replying to [git](#comment%3A26):
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                          |                          |
> |------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
> |[758da33](http://git.sagemath.org/sage.git/commit/?id=758da33a4bd616f97e2b9748236c0d866fb8f79d)|`SRG_279_150_85_75 added.`|


I don't know how to rebuild the database, so that it is available as

```    
sage: graphs.strongly_regular_graph(279, 150, 85, 75)
```



---

archive/issue_comments_336446.json:
```json
{
    "body": "<a id='comment:28'></a>\nHello,\n\n> > I already made comments on the code of `seidel_switching`, \n\n> You said there that Graph.vertices() is a plain list, and I should\n> make it a set, or something? (I guess a dictionary, as I need to know\n> the original indices)\n> \n> It's a usual operation, find positions of vertices... E.g.\n> how do you construct subgraphs without essentially doing this?\n\n\nI was refering to point 5 of [comment:1]. It contains code.\n\n> >and you need to document what a `twograph_descendant` is. \n\n> \n> it's the composition of two documented functions, isn't it enough?\n\n\nNeither `twograph_descendant` nor `TwoGraph.descendant` define what a descendant is.\n\n> It is a hell of lot faster for cases with more than 100 vertices, say. `O(n^2)` vs `O(n^3)`.\n\n\nWe have very fast functions in modules, too. For hyperbolicity, for vertex separation, for.. Well, a lot of things. It can be made much faster, however, if you rewrite it to use `seidel_switching` and rewrite `seidel_switching` with the code of [comment:1].\n\n> Did you see the [patch for Chang graphs](http://git.sagemath.org/sage.git/diff/src/sage/graphs/generators/families.py?id=5115728f80aa95f87a272feec999e317ccdffba4&id2=edb1b0870d25373a1cf8def52c5fe3159245f59d)? Do you think it is useless and should be removed?\n\n\nIt is unrelated to my point: this is nice indeed, but it merely uses `seidel_switching`, and that's it.\n\n> I don't know how to rebuild the database, so that it is available as\n\n\nLook for `(275, 112, 30, 56)` in `strongly_regular_db.pyx`.\n\nNathann",
    "created_at": "2015-08-04T17:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336446",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
Hello,

> > I already made comments on the code of `seidel_switching`, 

> You said there that Graph.vertices() is a plain list, and I should
> make it a set, or something? (I guess a dictionary, as I need to know
> the original indices)
> 
> It's a usual operation, find positions of vertices... E.g.
> how do you construct subgraphs without essentially doing this?


I was refering to point 5 of [comment:1]. It contains code.

> >and you need to document what a `twograph_descendant` is. 

> 
> it's the composition of two documented functions, isn't it enough?


Neither `twograph_descendant` nor `TwoGraph.descendant` define what a descendant is.

> It is a hell of lot faster for cases with more than 100 vertices, say. `O(n^2)` vs `O(n^3)`.


We have very fast functions in modules, too. For hyperbolicity, for vertex separation, for.. Well, a lot of things. It can be made much faster, however, if you rewrite it to use `seidel_switching` and rewrite `seidel_switching` with the code of [comment:1].

> Did you see the [patch for Chang graphs](http://git.sagemath.org/sage.git/diff/src/sage/graphs/generators/families.py?id=5115728f80aa95f87a272feec999e317ccdffba4&id2=edb1b0870d25373a1cf8def52c5fe3159245f59d)? Do you think it is useless and should be removed?


It is unrelated to my point: this is nice indeed, but it merely uses `seidel_switching`, and that's it.

> I don't know how to rebuild the database, so that it is available as


Look for `(275, 112, 30, 56)` in `strongly_regular_db.pyx`.

Nathann



---

archive/issue_comments_336447.json:
```json
{
    "body": "<a id='comment:29'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[c4269ae](http://git.sagemath.org/sage.git/commit/?id=c4269aeae44bbd64afbdee96f04fb120d73f0de1)|`doc and srg DB fixes`|",
    "created_at": "2015-08-04T19:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336447",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[c4269ae](http://git.sagemath.org/sage.git/commit/?id=c4269aeae44bbd64afbdee96f04fb120d73f0de1)|`doc and srg DB fixes`|



---

archive/issue_comments_336448.json:
```json
{
    "body": "Changing commit from \"758da33a4bd616f97e2b9748236c0d866fb8f79d\" to \"c4269aeae44bbd64afbdee96f04fb120d73f0de1\"",
    "created_at": "2015-08-04T19:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "758da33a4bd616f97e2b9748236c0d866fb8f79d" to "c4269aeae44bbd64afbdee96f04fb120d73f0de1"



---

archive/issue_comments_336449.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[449a23e](http://git.sagemath.org/sage.git/commit/?id=449a23ec5b0305fc2f7132bdd38ba0923ec01b89)|`improving seidel_switching()`|",
    "created_at": "2015-08-04T20:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[449a23e](http://git.sagemath.org/sage.git/commit/?id=449a23ec5b0305fc2f7132bdd38ba0923ec01b89)|`improving seidel_switching()`|



---

archive/issue_comments_336450.json:
```json
{
    "body": "Changing commit from \"c4269aeae44bbd64afbdee96f04fb120d73f0de1\" to \"449a23ec5b0305fc2f7132bdd38ba0923ec01b89\"",
    "created_at": "2015-08-04T20:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336450",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c4269aeae44bbd64afbdee96f04fb120d73f0de1" to "449a23ec5b0305fc2f7132bdd38ba0923ec01b89"



---

archive/issue_comments_336451.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [ncohen](#comment%3A28):\n> > > I already made comments on the code of `seidel_switching`, \n\n> > You said there that Graph.vertices() is a plain list, and I should\n> > make it a set, or something? (I guess a dictionary, as I need to know\n> > the original indices)\n> > \n> > It's a usual operation, find positions of vertices... E.g.\n> > how do you construct subgraphs without essentially doing this?\n\n> \n> I was refering to point 5 of [comment:1]. It contains code.\n> \n\n\nI changed `seidel_switching()` in the way you propose. As the function returns a new\ngraph, I needed to use `deepcopy(self)` (`copy(self)` is not enough). Perhaps there is a better way...\n\n> > >and you need to document what a `twograph_descendant` is. \n\n> > \n> > it's the composition of two documented functions, isn't it enough?\n\n> \n> Neither `twograph_descendant` nor `TwoGraph.descendant` define what a descendant is.\n\n\nOK, oops, fixed in the next commit.\n\n> \n> > It is a hell of lot faster for cases with more than 100 vertices, say. `O(n^2)` vs `O(n^3)`.\n\n> \n> We have very fast functions in modules, too. For hyperbolicity, for vertex separation, for.. Well, a lot of things. It can be made much faster, however, if you rewrite it to use `seidel_switching` and rewrite `seidel_switching` with the code of [comment:1].\n> \n> > Did you see the [patch for Chang graphs](http://git.sagemath.org/sage.git/diff/src/sage/graphs/generators/families.py?id=5115728f80aa95f87a272feec999e317ccdffba4&id2=edb1b0870d25373a1cf8def52c5fe3159245f59d)? Do you think it is useless and should be removed?\n\n> \n> It is unrelated to my point: this is nice indeed, but it merely uses `seidel_switching`, and that's it.\n> \n\nOK, perhaps I misunderstood your point.\n\n> > I don't know how to rebuild the database, so that it is available as\n\n> \n> Look for `(275, 112, 30, 56)` in `strongly_regular_db.pyx`.\n\nOK, thx, fixed.\n\n\n---\nNew commits:\n|                                                                                                                                          |                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[c4269ae](http://git.sagemath.org/sage.git/commit/?id=c4269aeae44bbd64afbdee96f04fb120d73f0de1)|`doc and srg DB fixes`|\n|[449a23e](http://git.sagemath.org/sage.git/commit/?id=449a23ec5b0305fc2f7132bdd38ba0923ec01b89)|`improving seidel_switching()`|",
    "created_at": "2015-08-04T21:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336451",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
Replying to [ncohen](#comment%3A28):
> > > I already made comments on the code of `seidel_switching`, 

> > You said there that Graph.vertices() is a plain list, and I should
> > make it a set, or something? (I guess a dictionary, as I need to know
> > the original indices)
> > 
> > It's a usual operation, find positions of vertices... E.g.
> > how do you construct subgraphs without essentially doing this?

> 
> I was refering to point 5 of [comment:1]. It contains code.
> 


I changed `seidel_switching()` in the way you propose. As the function returns a new
graph, I needed to use `deepcopy(self)` (`copy(self)` is not enough). Perhaps there is a better way...

> > >and you need to document what a `twograph_descendant` is. 

> > 
> > it's the composition of two documented functions, isn't it enough?

> 
> Neither `twograph_descendant` nor `TwoGraph.descendant` define what a descendant is.


OK, oops, fixed in the next commit.

> 
> > It is a hell of lot faster for cases with more than 100 vertices, say. `O(n^2)` vs `O(n^3)`.

> 
> We have very fast functions in modules, too. For hyperbolicity, for vertex separation, for.. Well, a lot of things. It can be made much faster, however, if you rewrite it to use `seidel_switching` and rewrite `seidel_switching` with the code of [comment:1].
> 
> > Did you see the [patch for Chang graphs](http://git.sagemath.org/sage.git/diff/src/sage/graphs/generators/families.py?id=5115728f80aa95f87a272feec999e317ccdffba4&id2=edb1b0870d25373a1cf8def52c5fe3159245f59d)? Do you think it is useless and should be removed?

> 
> It is unrelated to my point: this is nice indeed, but it merely uses `seidel_switching`, and that's it.
> 

OK, perhaps I misunderstood your point.

> > I don't know how to rebuild the database, so that it is available as

> 
> Look for `(275, 112, 30, 56)` in `strongly_regular_db.pyx`.

OK, thx, fixed.


---
New commits:
|                                                                                                                                          |                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[c4269ae](http://git.sagemath.org/sage.git/commit/?id=c4269aeae44bbd64afbdee96f04fb120d73f0de1)|`doc and srg DB fixes`|
|[449a23e](http://git.sagemath.org/sage.git/commit/?id=449a23ec5b0305fc2f7132bdd38ba0923ec01b89)|`improving seidel_switching()`|



---

archive/issue_comments_336452.json:
```json
{
    "body": "Changing commit from \"449a23ec5b0305fc2f7132bdd38ba0923ec01b89\" to \"a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21\"",
    "created_at": "2015-08-04T21:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336452",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "449a23ec5b0305fc2f7132bdd38ba0923ec01b89" to "a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21"



---

archive/issue_comments_336453.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[d959afa](http://git.sagemath.org/sage.git/commit/?id=d959afa2fe6093a1ddc6440c444cf2e5cdc62225)|`trac #18988: Orthogonal Polar graphs in strongly_regular_graph`|\n|[a89a02a](http://git.sagemath.org/sage.git/commit/?id=a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21)|`another unknown graph, instead of the known one`|",
    "created_at": "2015-08-04T21:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336453",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[d959afa](http://git.sagemath.org/sage.git/commit/?id=d959afa2fe6093a1ddc6440c444cf2e5cdc62225)|`trac #18988: Orthogonal Polar graphs in strongly_regular_graph`|
|[a89a02a](http://git.sagemath.org/sage.git/commit/?id=a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21)|`another unknown graph, instead of the known one`|



---

archive/issue_comments_336454.json:
```json
{
    "body": "<a id='comment:33'></a>\nNew commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[d959afa](http://git.sagemath.org/sage.git/commit/?id=d959afa2fe6093a1ddc6440c444cf2e5cdc62225)|`trac #18988: Orthogonal Polar graphs in strongly_regular_graph`|\n|[a89a02a](http://git.sagemath.org/sage.git/commit/?id=a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21)|`another unknown graph, instead of the known one`|",
    "created_at": "2015-08-04T21:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336454",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>
New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[d959afa](http://git.sagemath.org/sage.git/commit/?id=d959afa2fe6093a1ddc6440c444cf2e5cdc62225)|`trac #18988: Orthogonal Polar graphs in strongly_regular_graph`|
|[a89a02a](http://git.sagemath.org/sage.git/commit/?id=a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21)|`another unknown graph, instead of the known one`|



---

archive/issue_comments_336455.json:
```json
{
    "body": "Changing dependencies from \"#18960, #18948\" to \"#18960, #18948, #18988\"",
    "created_at": "2015-08-04T21:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336455",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "#18960, #18948" to "#18960, #18948, #18988"



---

archive/issue_comments_336456.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-05T07:27:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336456",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_336457.json:
```json
{
    "body": "<a id='comment:34'></a>\n`SRG_279_150_85_75` is an example of a general construction, obtaining a `2-graph\\*`-srg from a `2-graph`-srg. I'll try to add this in  `strongly_regular_graph` DB. \n\nFurther on a followup ticket I'd like to have Taylor 2-graphs for `U_3(q)`, and the corresponding `2-graph\\*`-srg (note that in this case there is no `2-graph` srg, as far as I understand). They should come from yet to be written more general function, that will also produce `U_d(q)`.",
    "created_at": "2015-08-05T07:27:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336457",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>
`SRG_279_150_85_75` is an example of a general construction, obtaining a `2-graph\*`-srg from a `2-graph`-srg. I'll try to add this in  `strongly_regular_graph` DB. 

Further on a followup ticket I'd like to have Taylor 2-graphs for `U_3(q)`, and the corresponding `2-graph\*`-srg (note that in this case there is no `2-graph` srg, as far as I understand). They should come from yet to be written more general function, that will also produce `U_d(q)`.



---

archive/issue_comments_336458.json:
```json
{
    "body": "<a id='comment:35'></a>\nIs there a general way to *guess* how those 2-graph entries are produced? Couldn't we turn this construction into something automatic? Or will those 2-graph construction all have to be added manually to the list?",
    "created_at": "2015-08-05T07:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336458",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:35'></a>
Is there a general way to *guess* how those 2-graph entries are produced? Couldn't we turn this construction into something automatic? Or will those 2-graph construction all have to be added manually to the list?



---

archive/issue_comments_336459.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [ncohen](#comment%3A35):\n> Is there a general way to *guess* how those 2-graph entries are produced? Couldn't we turn this construction into something automatic? Or will those 2-graph construction all have to be added manually to the list?\n\n\nthere is a general way to get `2-graph` (more precisely, regular two-graph) tags; it's a simple computation with parameters. It is all in 10.3 of  [BH12](http://www.win.tue.nl/~aeb/2WF02/spectra.pdf). I don't know how helpful this is, as it does not tell you how to actually construct the srg (or, equvalently, the underlying two-graph). As far as I can see you don't have any functionality that merely computes such tags.",
    "created_at": "2015-08-05T07:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336459",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
Replying to [ncohen](#comment%3A35):
> Is there a general way to *guess* how those 2-graph entries are produced? Couldn't we turn this construction into something automatic? Or will those 2-graph construction all have to be added manually to the list?


there is a general way to get `2-graph` (more precisely, regular two-graph) tags; it's a simple computation with parameters. It is all in 10.3 of  [BH12](http://www.win.tue.nl/~aeb/2WF02/spectra.pdf). I don't know how helpful this is, as it does not tell you how to actually construct the srg (or, equvalently, the underlying two-graph). As far as I can see you don't have any functionality that merely computes such tags.



---

archive/issue_comments_336460.json:
```json
{
    "body": "Changing commit from \"a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21\" to \"12753b1062f1db1bcada48a3714176c6f45214cc\"",
    "created_at": "2015-08-05T09:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336460",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a89a02a24b44fd0b2ce1c92ecce22b672bbd9e21" to "12753b1062f1db1bcada48a3714176c6f45214cc"



---

archive/issue_comments_336461.json:
```json
{
    "body": "<a id='comment:37'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------|\n|[12753b1](http://git.sagemath.org/sage.git/commit/?id=12753b1062f1db1bcada48a3714176c6f45214cc)|`merged`|",
    "created_at": "2015-08-05T09:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336461",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------|
|[12753b1](http://git.sagemath.org/sage.git/commit/?id=12753b1062f1db1bcada48a3714176c6f45214cc)|`merged`|



---

archive/issue_comments_336462.json:
```json
{
    "body": "<a id='comment:38'></a>\nNew commits:\n|                                                                                                                                          |        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------|\n|[12753b1](http://git.sagemath.org/sage.git/commit/?id=12753b1062f1db1bcada48a3714176c6f45214cc)|`merged`|",
    "created_at": "2015-08-05T09:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336462",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>
New commits:
|                                                                                                                                          |        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------|
|[12753b1](http://git.sagemath.org/sage.git/commit/?id=12753b1062f1db1bcada48a3714176c6f45214cc)|`merged`|



---

archive/issue_comments_336463.json:
```json
{
    "body": "Changing dependencies from \"#18960, #18948, #18988\" to \"#18960, #18948, #18988, #18991\"",
    "created_at": "2015-08-05T09:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336463",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "#18960, #18948, #18988" to "#18960, #18948, #18988, #18991"



---

archive/issue_comments_336464.json:
```json
{
    "body": "<a id='comment:39'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[0a2dae4](http://git.sagemath.org/sage.git/commit/?id=0a2dae4d4836e37f00bcc2af10dbb1b1d0313c88)|`construct \"2-graph\\*\" graphs from srg's corr. to 2-graphs`|",
    "created_at": "2015-08-05T14:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[0a2dae4](http://git.sagemath.org/sage.git/commit/?id=0a2dae4d4836e37f00bcc2af10dbb1b1d0313c88)|`construct "2-graph\*" graphs from srg's corr. to 2-graphs`|



---

archive/issue_comments_336465.json:
```json
{
    "body": "Changing commit from \"12753b1062f1db1bcada48a3714176c6f45214cc\" to \"0a2dae4d4836e37f00bcc2af10dbb1b1d0313c88\"",
    "created_at": "2015-08-05T14:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "12753b1062f1db1bcada48a3714176c6f45214cc" to "0a2dae4d4836e37f00bcc2af10dbb1b1d0313c88"



---

archive/issue_comments_336466.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-05T14:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336466",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_336467.json:
```json
{
    "body": "<a id='comment:40'></a>\nplease have a look at the latest commit in particular.",
    "created_at": "2015-08-05T14:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336467",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>
please have a look at the latest commit in particular.



---

archive/issue_comments_336468.json:
```json
{
    "body": "<a id='comment:41'></a>\nYou really need to start thinking of what exactly your code does. Plus it is python, not lisp.\n\n```\nreturn TwoGraph(filter(lambda x: not list(x) in self.blocks(), \n                combinations(self.ground_set(), 3)))\n```",
    "created_at": "2015-08-05T22:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336468",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:41'></a>
You really need to start thinking of what exactly your code does. Plus it is python, not lisp.

```
return TwoGraph(filter(lambda x: not list(x) in self.blocks(), 
                combinations(self.ground_set(), 3)))
```



---

archive/issue_comments_336469.json:
```json
{
    "body": "<a id='comment:42'></a>\nor `if 'something == True'`.\n\nYour last commit sounds cool, though apparently it only adds two new SRG `O_o`. Weird, I thought that it would add more `O_o`\n\nNathann",
    "created_at": "2015-08-05T22:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336469",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:42'></a>
or `if 'something == True'`.

Your last commit sounds cool, though apparently it only adds two new SRG `O_o`. Weird, I thought that it would add more `O_o`

Nathann



---

archive/issue_comments_336470.json:
```json
{
    "body": "<a id='comment:43'></a>\nThis is ridiculous\n\n```\nfor kf in map(lambda s: (s*D+b)/4, [-1,1]):\n```\nYou build a list, a lambda function, destroy the list, build another list, all this through a function call 'map'.\n\n```\nfor kf in [(D+b)/4,(-D+b)/4]:\n```",
    "created_at": "2015-08-05T22:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336470",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:43'></a>
This is ridiculous

```
for kf in map(lambda s: (s*D+b)/4, [-1,1]):
```
You build a list, a lambda function, destroy the list, build another list, all this through a function call 'map'.

```
for kf in [(D+b)/4,(-D+b)/4]:
```



---

archive/issue_comments_336471.json:
```json
{
    "body": "<a id='comment:44'></a>\nSeriously? `from sage.misc.functional import is_even`\n\nIs it now wrong to write 'x%2==0' ?\n\nNathann",
    "created_at": "2015-08-05T22:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336471",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:44'></a>
Seriously? `from sage.misc.functional import is_even`

Is it now wrong to write 'x%2==0' ?

Nathann



---

archive/issue_comments_336472.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [ncohen](#comment%3A42):, \n> or `if 'something == True'`.\n\n\nit's only because this `something` might return more than `True` or `False`; \nnamely, `Unknown`.\n(this is your design, not mine...:-)\n\n\n> \n> Your last commit sounds cool, though apparently it only adds two new SRG `O_o`. Weird, I thought that it would add more `O_o`\n\n\nIt added 4 on my branch, which might be behind yours. 294 vs 298.\nActually one more, as I removed an explicit construction for an srg on 279,\nreplacing it by this general function.\n\nIt will add more automatically, as we build more graphs on v+1 vertices which are tagged \"2-graph\".",
    "created_at": "2015-08-05T22:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336472",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'></a>
Replying to [ncohen](#comment%3A42):, 
> or `if 'something == True'`.


it's only because this `something` might return more than `True` or `False`; 
namely, `Unknown`.
(this is your design, not mine...:-)


> 
> Your last commit sounds cool, though apparently it only adds two new SRG `O_o`. Weird, I thought that it would add more `O_o`


It added 4 on my branch, which might be behind yours. 294 vs 298.
Actually one more, as I removed an explicit construction for an srg on 279,
replacing it by this general function.

It will add more automatically, as we build more graphs on v+1 vertices which are tagged "2-graph".



---

archive/issue_comments_336473.json:
```json
{
    "body": "<a id='comment:46'></a>\n> it's only because this `something` might return more than `True` or `False`; \n> namely, `Unknown`.\n> (this is your design, not mine...:-)\n\n\nSorry, you cannot blame soembody else for that one. Remove `True ==`, and it still works.\n\n> It will add more automatically, as we build more graphs on v+1 vertices which are tagged \"2-graph\".\n\n\nAny clue how we can build those entries? There is a *LOT* of them `:-/`\n\nNathann",
    "created_at": "2015-08-06T07:16:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336473",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:46'></a>
> it's only because this `something` might return more than `True` or `False`; 
> namely, `Unknown`.
> (this is your design, not mine...:-)


Sorry, you cannot blame soembody else for that one. Remove `True ==`, and it still works.

> It will add more automatically, as we build more graphs on v+1 vertices which are tagged "2-graph".


Any clue how we can build those entries? There is a *LOT* of them `:-/`

Nathann



---

archive/issue_comments_336474.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [ncohen](#comment%3A46):\n> > it's only because this `something` might return more than `True` or `False`; \n> > namely, `Unknown`.\n> > (this is your design, not mine...:-)\n\n> \n> Sorry, you cannot blame soembody else for that one. Remove `True ==`, and it still works. \n\n\nThis not a feature I would like to rely on. Using a non-boolean function as a boolean one\nsmells of a hack.\n\n> \n> > It will add more automatically, as we build more graphs on v+1 vertices which are tagged \"2-graph\".\n\n> \n> Any clue how we can build those entries? There is a *LOT* of them `:-/`\n\nfor some of them an explicit construction is referred to, and then it's just a question of\nwork. How many of these are so that \"2-graph\" is the only clue?",
    "created_at": "2015-08-06T07:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336474",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:47'></a>
Replying to [ncohen](#comment%3A46):
> > it's only because this `something` might return more than `True` or `False`; 
> > namely, `Unknown`.
> > (this is your design, not mine...:-)

> 
> Sorry, you cannot blame soembody else for that one. Remove `True ==`, and it still works. 


This not a feature I would like to rely on. Using a non-boolean function as a boolean one
smells of a hack.

> 
> > It will add more automatically, as we build more graphs on v+1 vertices which are tagged "2-graph".

> 
> Any clue how we can build those entries? There is a *LOT* of them `:-/`

for some of them an explicit construction is referred to, and then it's just a question of
work. How many of these are so that "2-graph" is the only clue?



---

archive/issue_comments_336475.json:
```json
{
    "body": "<a id='comment:48'></a>\n> This not a feature I would like to rely on.\n\n\nI would say the same about testing equality with `True`:\n\n```\nsage: 1 == True\nTrue\nsage: 2 == True\nFalse\n```\n\nRegardless of that, and whether you like it or not removing `True ==` does the job, and works as intended. It is also in the documentation of the 'Unknown' truth value, and is tested in so many places that it can be trusted to work.\n\n> for some of them an explicit construction is referred to, and then it's just a question of\n> work. How many of these are so that \"2-graph\" is the only clue?\n\n\nA lot. Run the `_check_db` function and you will see how many exactly. For some of them it is not the only thing on the line but it is still the only entry with no '?' flag.\n\nNathann",
    "created_at": "2015-08-06T07:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336475",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:48'></a>
> This not a feature I would like to rely on.


I would say the same about testing equality with `True`:

```
sage: 1 == True
True
sage: 2 == True
False
```

Regardless of that, and whether you like it or not removing `True ==` does the job, and works as intended. It is also in the documentation of the 'Unknown' truth value, and is tested in so many places that it can be trusted to work.

> for some of them an explicit construction is referred to, and then it's just a question of
> work. How many of these are so that "2-graph" is the only clue?


A lot. Run the `_check_db` function and you will see how many exactly. For some of them it is not the only thing on the line but it is still the only entry with no '?' flag.

Nathann



---

archive/issue_comments_336476.json:
```json
{
    "body": "<a id='comment:49'></a>\nThe branch is in conflict with the latest beta.",
    "created_at": "2015-08-06T07:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336476",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:49'></a>
The branch is in conflict with the latest beta.



---

archive/issue_comments_336477.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-06T07:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336477",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_336478.json:
```json
{
    "body": "<a id='comment:50'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[7d4db20](http://git.sagemath.org/sage.git/commit/?id=7d4db20b68b9a1a8edea3983038fcb3bbe2204a6)|`rebased over beta1`|\n|[1b7f6b9](http://git.sagemath.org/sage.git/commit/?id=1b7f6b99019699fdccb4bb9afa86315defc87994)|`removed some annoying to reviewer things`|",
    "created_at": "2015-08-06T08:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336478",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[7d4db20](http://git.sagemath.org/sage.git/commit/?id=7d4db20b68b9a1a8edea3983038fcb3bbe2204a6)|`rebased over beta1`|
|[1b7f6b9](http://git.sagemath.org/sage.git/commit/?id=1b7f6b99019699fdccb4bb9afa86315defc87994)|`removed some annoying to reviewer things`|



---

archive/issue_comments_336479.json:
```json
{
    "body": "Changing commit from \"0a2dae4d4836e37f00bcc2af10dbb1b1d0313c88\" to \"1b7f6b99019699fdccb4bb9afa86315defc87994\"",
    "created_at": "2015-08-06T08:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336479",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0a2dae4d4836e37f00bcc2af10dbb1b1d0313c88" to "1b7f6b99019699fdccb4bb9afa86315defc87994"



---

archive/issue_comments_336480.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-06T08:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336480",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_336481.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-06T10:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336481",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_336482.json:
```json
{
    "body": "<a id='comment:52'></a>\nHelloooooooooooooo,\n\nHere is the review you requested:\n\n- `TwoGraph` -- Probably should not be in the global namespace.\n\n- Class documentation: there is none. Write one, and redirect toward the\n  module's doc if necessary for the longer explanations.\n\n- `is_regular` -- clashes with standard hypergraph terminology. Should be\n  renamed (see #18986).\n\n- `is_regular` -- parameters, role and definition not documented.\n\n- Stop using map and filter. You do not know what it does, i.e. Python is not\n  lisp. You are building in memory lists that you do not need, only to throw\n  them away later. Use list-comprehension instead (also faster).\n\n- `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT\n  DOES. This is insulting.\n\n- `complement` -- Rely on #18986.\n\n- What the hell is this 'functions' in the middle of the file? Does it produce\n  anything in the html doc?\n\n- `#.  A Sage Seidel adjacency matrix` -- link toward the doc of seidel\n  adjacency matrix, in case people might want to read a definition.\n\n- `M[i,j]=-1 indicating that (i,j) is an edge, otherwise M[i,j]=1.` missing\n  backticks.\n\n- `data = data.change_ring(ZZ)` -- you don't copy a matrix just because you\n  expect `Integer(1)` and get `float(1)`. Test that the entries belong to a set\n  you like instead.\n\n- Repeated sentence\n  {{{\n  +        Returns the Seidel adjacency matrix of self.\n  +\n  +        Returns the Seidel adjacency matrix of the graph.\n  }}}\n\n- The sentence that follows the repeated sentence is not very clear. Use a list\n  to define the objects, it should make it clearer.\n\n- `change_ring` -- should be a sphinx link\n\n- Stop using `\\` at the end of lines. If you need to span an instruction over\n  several lines, it is more readable to use `()`, e.g.\n  {{{\n  a = (1 +\n       2 +\n       3 )\n  }}}\n\n- `seidel_switching` -- repeated sentence, as previously.\n\n- Backticks are missing in the text again.\n\n- Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.\n\n- Really, STOP using lambda functions. You don't know what it does, so stop\n  that.\n  {{{\n+        return Graph([Nv+NonNv, lambda i, j: \n+                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or\n+                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or\n+                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or\n+                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])\n  }}}\n  Build this graph by adding edges to it. It will be incomparably\nfaster. Writing code like this should not be allowed.\n\n- `is_two_graph_descendant_of_srg` -- could you remove those '0' everywhere in\n  the variables?\n\n- `is_even`.\n\nNathann",
    "created_at": "2015-08-06T10:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336482",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:52'></a>
Helloooooooooooooo,

Here is the review you requested:

- `TwoGraph` -- Probably should not be in the global namespace.

- Class documentation: there is none. Write one, and redirect toward the
  module's doc if necessary for the longer explanations.

- `is_regular` -- clashes with standard hypergraph terminology. Should be
  renamed (see #18986).

- `is_regular` -- parameters, role and definition not documented.

- Stop using map and filter. You do not know what it does, i.e. Python is not
  lisp. You are building in memory lists that you do not need, only to throw
  them away later. Use list-comprehension instead (also faster).

- `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT
  DOES. This is insulting.

- `complement` -- Rely on #18986.

- What the hell is this 'functions' in the middle of the file? Does it produce
  anything in the html doc?

- `#.  A Sage Seidel adjacency matrix` -- link toward the doc of seidel
  adjacency matrix, in case people might want to read a definition.

- `M[i,j]=-1 indicating that (i,j) is an edge, otherwise M[i,j]=1.` missing
  backticks.

- `data = data.change_ring(ZZ)` -- you don't copy a matrix just because you
  expect `Integer(1)` and get `float(1)`. Test that the entries belong to a set
  you like instead.

- Repeated sentence
  {{{
  +        Returns the Seidel adjacency matrix of self.
  +
  +        Returns the Seidel adjacency matrix of the graph.
  }}}

- The sentence that follows the repeated sentence is not very clear. Use a list
  to define the objects, it should make it clearer.

- `change_ring` -- should be a sphinx link

- Stop using `\` at the end of lines. If you need to span an instruction over
  several lines, it is more readable to use `()`, e.g.
  {{{
  a = (1 +
       2 +
       3 )
  }}}

- `seidel_switching` -- repeated sentence, as previously.

- Backticks are missing in the text again.

- Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.

- Really, STOP using lambda functions. You don't know what it does, so stop
  that.
  {{{
+        return Graph([Nv+NonNv, lambda i, j: 
+                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or
+                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or
+                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or
+                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])
  }}}
  Build this graph by adding edges to it. It will be incomparably
faster. Writing code like this should not be allowed.

- `is_two_graph_descendant_of_srg` -- could you remove those '0' everywhere in
  the variables?

- `is_even`.

Nathann



---

archive/issue_comments_336483.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nathann Cohen\"",
    "created_at": "2015-08-06T10:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336483",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Nathann Cohen"



---

archive/issue_comments_336484.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [ncohen](#comment%3A52):\n> \n> Here is the review you requested:\n\nThanks!\n> \n> - `TwoGraph` -- Probably should not be in the global namespace.\n> \n> - Class documentation: there is none. Write one, and redirect toward the\n>   module's doc if necessary for the longer explanations.\n> \n> - `is_regular` -- clashes with standard hypergraph terminology. Should be\n>   renamed (see #18986).\n> \n> - `is_regular` -- parameters, role and definition not documented.\n \nOK, sure.\n> \n> - Stop using map and filter. You do not know what it does, i.e. Python is not\n>   lisp. You are building in memory lists that you do not need, only to throw\n>   them away later. Use list-comprehension instead (also faster).\n \nthis is an urban myth that the latter is much faster:\n\n```\nsage: ll=range(50000)\nsage: timeit('[x for x in ll if x%2==0]')\n25 loops, best of 3: 19.8 ms per loop\nsage: timeit('filter(lambda x: x%2==0, ll)')\n25 loops, best of 3: 22.2 ms per loop\nsage: timeit('[x**2 for x in ll]')\n25 loops, best of 3: 19.7 ms per loop\nsage: timeit('map(lambda x: x**2, ll)')\n25 loops, best of 3: 23.7 ms per loop \n```\n\nbesides, I do find the list comprehension syntax ugly and error-prone. All  these\n`for ah if that or what not` is very hard to parse for me. Yes, I wrote a bit of lisp code in my previous life, and my brain is damaged by parentheses. :-)\n> \n> - `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT\n>   DOES. This is insulting. \n\n\nIndeed, I wish I could write `Graph(V,edges)` or `Graph([V,edges])` or even `Graph(edges)` instead. Why can't I? Why must I instead do something like \n`blah=Graph(V); blah.add_edges(edges); return blah`? Cause the GC is hungry and must be fed `blah` on each return?\n\n\n> \n> - `complement` -- Rely on #18986.\n> \n> - What the hell is this 'functions' in the middle of the file? Does it produce\n>   anything in the html doc?\n> \n> - `#.  A Sage Seidel adjacency matrix` -- link toward the doc of seidel\n>   adjacency matrix, in case people might want to read a definition.\n> \n> - `M[i,j]=-1 indicating that (i,j) is an edge, otherwise M[i,j]=1.` missing\n>   backticks.\n> \n> - `data = data.change_ring(ZZ)` -- you don't copy a matrix just because you\n>   expect `Integer(1)` and get `float(1)`. Test that the entries belong to a set\n>   you like instead.\n\n\nI copied this one from the ` elif format == 'adjacency_matrix':` block. Should one fix both places?\n\n\n> \n> - Repeated sentence\n>   {{{\n>   +        Returns the Seidel adjacency matrix of self.\n>   +\n>   +        Returns the Seidel adjacency matrix of the graph.\n>   }}}\n> \n> - The sentence that follows the repeated sentence is not very clear. Use a list\n>   to define the objects, it should make it clearer.\n> \n> - `change_ring` -- should be a sphinx link\n\n\nOK, will do.\n\n> \n> - Stop using `\\` at the end of lines. If you need to span an instruction over\n>   several lines, it is more readable to use `()`,\n\n\nnot to me, sorry. I tend to (mis)read `a=(1+2)` as `a=(1+2,)`.\n\n> e.g.\n>   {{{\n>   a = (1 +\n>        2 +\n>        3 )\n>   }}}\n> \n> - `seidel_switching` -- repeated sentence, as previously.\n> \n> - Backticks are missing in the text again.\n> \n> - Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.\n\n\nthe docs to `g.copy()` say something like \"use only if you change the backend...\"\n\n```\n   Warning: Please use this method only if you need to copy but\n     change the underlying implementation or weightedness.  Otherwise\n     simply do \"copy(g)\" instead of \"g.copy()\".\n```\nShould I ignore this? Should the docs be improved?\n\n> \n> - Really, STOP using lambda functions. You don't know what it does, so stop\n>   that.\n\n\nThis is a myth that they are slow, see above.\n\n>   {{{\n\n> +        return Graph([Nv+NonNv, lambda i, j: \n> +                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or\n> +                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or\n> +                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or\n> +                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])\n>   }}}\n>   Build this graph by adding edges to it. It will be incomparably\n> faster. Writing code like this should not be allowed.\n\n\nin my book using temporary variables is slow; perhaps Python implementations will get fuller use of this fact as its devs and users get wiser...\n\n> \n> - `is_two_graph_descendant_of_srg` -- could you remove those '0' everywhere in\n>   the variables?\n\n\nwell, I have v and v0, l and l0 - they are sets of parameters of different graphs...\nOr I **had**, and then optimised v, l, mu away, sorry. I'll see what I can do.\n\n> \n> - `is_even`.\n\n\nI like it better than `%`, more readable: one does not need to swap out some other language in the head to recall the meaning. But if you insist...",
    "created_at": "2015-08-06T11:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336484",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:53'></a>
Replying to [ncohen](#comment%3A52):
> 
> Here is the review you requested:

Thanks!
> 
> - `TwoGraph` -- Probably should not be in the global namespace.
> 
> - Class documentation: there is none. Write one, and redirect toward the
>   module's doc if necessary for the longer explanations.
> 
> - `is_regular` -- clashes with standard hypergraph terminology. Should be
>   renamed (see #18986).
> 
> - `is_regular` -- parameters, role and definition not documented.
 
OK, sure.
> 
> - Stop using map and filter. You do not know what it does, i.e. Python is not
>   lisp. You are building in memory lists that you do not need, only to throw
>   them away later. Use list-comprehension instead (also faster).
 
this is an urban myth that the latter is much faster:

```
sage: ll=range(50000)
sage: timeit('[x for x in ll if x%2==0]')
25 loops, best of 3: 19.8 ms per loop
sage: timeit('filter(lambda x: x%2==0, ll)')
25 loops, best of 3: 22.2 ms per loop
sage: timeit('[x**2 for x in ll]')
25 loops, best of 3: 19.7 ms per loop
sage: timeit('map(lambda x: x**2, ll)')
25 loops, best of 3: 23.7 ms per loop 
```

besides, I do find the list comprehension syntax ugly and error-prone. All  these
`for ah if that or what not` is very hard to parse for me. Yes, I wrote a bit of lisp code in my previous life, and my brain is damaged by parentheses. :-)
> 
> - `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT
>   DOES. This is insulting. 


Indeed, I wish I could write `Graph(V,edges)` or `Graph([V,edges])` or even `Graph(edges)` instead. Why can't I? Why must I instead do something like 
`blah=Graph(V); blah.add_edges(edges); return blah`? Cause the GC is hungry and must be fed `blah` on each return?


> 
> - `complement` -- Rely on #18986.
> 
> - What the hell is this 'functions' in the middle of the file? Does it produce
>   anything in the html doc?
> 
> - `#.  A Sage Seidel adjacency matrix` -- link toward the doc of seidel
>   adjacency matrix, in case people might want to read a definition.
> 
> - `M[i,j]=-1 indicating that (i,j) is an edge, otherwise M[i,j]=1.` missing
>   backticks.
> 
> - `data = data.change_ring(ZZ)` -- you don't copy a matrix just because you
>   expect `Integer(1)` and get `float(1)`. Test that the entries belong to a set
>   you like instead.


I copied this one from the ` elif format == 'adjacency_matrix':` block. Should one fix both places?


> 
> - Repeated sentence
>   {{{
>   +        Returns the Seidel adjacency matrix of self.
>   +
>   +        Returns the Seidel adjacency matrix of the graph.
>   }}}
> 
> - The sentence that follows the repeated sentence is not very clear. Use a list
>   to define the objects, it should make it clearer.
> 
> - `change_ring` -- should be a sphinx link


OK, will do.

> 
> - Stop using `\` at the end of lines. If you need to span an instruction over
>   several lines, it is more readable to use `()`,


not to me, sorry. I tend to (mis)read `a=(1+2)` as `a=(1+2,)`.

> e.g.
>   {{{
>   a = (1 +
>        2 +
>        3 )
>   }}}
> 
> - `seidel_switching` -- repeated sentence, as previously.
> 
> - Backticks are missing in the text again.
> 
> - Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.


the docs to `g.copy()` say something like "use only if you change the backend..."

```
   Warning: Please use this method only if you need to copy but
     change the underlying implementation or weightedness.  Otherwise
     simply do "copy(g)" instead of "g.copy()".
```
Should I ignore this? Should the docs be improved?

> 
> - Really, STOP using lambda functions. You don't know what it does, so stop
>   that.


This is a myth that they are slow, see above.

>   {{{

> +        return Graph([Nv+NonNv, lambda i, j: 
> +                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or
> +                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or
> +                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or
> +                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])
>   }}}
>   Build this graph by adding edges to it. It will be incomparably
> faster. Writing code like this should not be allowed.


in my book using temporary variables is slow; perhaps Python implementations will get fuller use of this fact as its devs and users get wiser...

> 
> - `is_two_graph_descendant_of_srg` -- could you remove those '0' everywhere in
>   the variables?


well, I have v and v0, l and l0 - they are sets of parameters of different graphs...
Or I **had**, and then optimised v, l, mu away, sorry. I'll see what I can do.

> 
> - `is_even`.


I like it better than `%`, more readable: one does not need to swap out some other language in the head to recall the meaning. But if you insist...



---

archive/issue_comments_336485.json:
```json
{
    "body": "<a id='comment:54'></a>\n> > - Stop using map and filter. You do not know what it does, i.e. Python is not\n> >   lisp. You are building in memory lists that you do not need, only to throw\n> >   them away later. Use list-comprehension instead (also faster).\n \n> this is an urban myth that the latter is much faster:\n\nI said 'faster', not 'much faster', and this is what your timing proves. It also eats less memory. I also suspect that the resulting Cython code is much better (and so that the timings could differ in that case).\n\n> besides, I do find the list comprehension syntax ugly and error-prone.\n\n\nIt is much shorter and easier to read. Get used to it.\n\n> > - `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT\n> >   DOES. This is insulting. \n \n> \n> Indeed, I wish I could write `Graph(V,edges)` or `Graph([V,edges])` or even `Graph(edges)` instead. Why can't I?\n\n\nThere is no God above forbidding this syntax. If the constructor does not do what you want, then improve it.\n\nIn this situation, `Graph(edges)` simply works.\n\n> Why must I instead do something like \n> `blah=Graph(V); blah.add_edges(edges); return blah`? Cause the GC is hungry and must be fed `blah` on each return?\n\n\nWhat your code does is this:\n\n\"For every pair of points among V, build a frozen set {i,j} then test if this set is contained in a LIST (linear time) of sets\". That's ridiculous.\n\n> I copied this one from the ` elif format == 'adjacency_matrix':` block. Should one fix both places?\n\n\nLazy code.... Yeah yeah, please `-_-`\n\n> > - Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.\n \n> \n> the docs to `g.copy()` say something like \"use only if you change the backend...\"\n> \n> ```\n>    Warning: Please use this method only if you need to copy but\n>      change the underlying implementation or weightedness.  Otherwise\n>      simply do \"copy(g)\" instead of \"g.copy()\".\n> ```\n> Should I ignore this? Should the docs be improved?\n\n\nAll that it says is that \"g.copy()\" is equivalent to \"copy(g)\", and that the latter should be preferred. The advantage of `g.copy()` is that you can give it additional arguments, e.g. change the backend.\n\nI'd say that we can do without this warning, though.. To me it enforces a personal taste, not something we should ask users (or even developers) to follow. Makes no difference in what gets run.\n\n> > - Really, STOP using lambda functions. You don't know what it does, so stop\n> >   that.\n \n> \n> This is a myth that they are slow, see above.\n\n\nI am not saying that it is slow to use lambda function, I say that you have no idea of what you are doing.\n\n> >   {{{\n\n> > +        return Graph([Nv+NonNv, lambda i, j: \n> > +                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or\n> > +                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or\n> > +                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or\n> > +                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])\n> >   }}}\n> >   Build this graph by adding edges to it. It will be incomparably\n> > faster. Writing code like this should not be allowed.\n\n> \n> in my book using temporary variables is slow; perhaps Python implementations will get fuller use of this fact as its devs and users get wiser...\n\n\nThis code call `.neighbors()` for around `Theta(n^2)` times. Each time it builds a list in memory, and does a linear search in a list of things which may not even be integers. That's madness. THIS IS NOT SYMBOLICS. THIS IS ACTUAL CODE. For every pair of i,j this function is run, and every time all these lists are creates for nothing.\n\n> > - `is_even`.\n \n> \n> I like it better than `%`, more readable: one does not need to swap out some other language in the head to recall the meaning. But if you insist...\n\n\nAre you telling me that you are having a hard time remembering the meaning of `%` ? Is that a joke?\n\nBesides, how many CPU instructions do you think it takes to compute a `%2` on a C int variable? Now, what happens when you load a function, turn the int into a Python object, compute '%2', then return the result?\n\nNathann",
    "created_at": "2015-08-06T11:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336485",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:54'></a>
> > - Stop using map and filter. You do not know what it does, i.e. Python is not
> >   lisp. You are building in memory lists that you do not need, only to throw
> >   them away later. Use list-comprehension instead (also faster).
 
> this is an urban myth that the latter is much faster:

I said 'faster', not 'much faster', and this is what your timing proves. It also eats less memory. I also suspect that the resulting Cython code is much better (and so that the timings could differ in that case).

> besides, I do find the list comprehension syntax ugly and error-prone.


It is much shorter and easier to read. Get used to it.

> > - `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT
> >   DOES. This is insulting. 
 
> 
> Indeed, I wish I could write `Graph(V,edges)` or `Graph([V,edges])` or even `Graph(edges)` instead. Why can't I?


There is no God above forbidding this syntax. If the constructor does not do what you want, then improve it.

In this situation, `Graph(edges)` simply works.

> Why must I instead do something like 
> `blah=Graph(V); blah.add_edges(edges); return blah`? Cause the GC is hungry and must be fed `blah` on each return?


What your code does is this:

"For every pair of points among V, build a frozen set {i,j} then test if this set is contained in a LIST (linear time) of sets". That's ridiculous.

> I copied this one from the ` elif format == 'adjacency_matrix':` block. Should one fix both places?


Lazy code.... Yeah yeah, please `-_-`

> > - Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.
 
> 
> the docs to `g.copy()` say something like "use only if you change the backend..."
> 
> ```
>    Warning: Please use this method only if you need to copy but
>      change the underlying implementation or weightedness.  Otherwise
>      simply do "copy(g)" instead of "g.copy()".
> ```
> Should I ignore this? Should the docs be improved?


All that it says is that "g.copy()" is equivalent to "copy(g)", and that the latter should be preferred. The advantage of `g.copy()` is that you can give it additional arguments, e.g. change the backend.

I'd say that we can do without this warning, though.. To me it enforces a personal taste, not something we should ask users (or even developers) to follow. Makes no difference in what gets run.

> > - Really, STOP using lambda functions. You don't know what it does, so stop
> >   that.
 
> 
> This is a myth that they are slow, see above.


I am not saying that it is slow to use lambda function, I say that you have no idea of what you are doing.

> >   {{{

> > +        return Graph([Nv+NonNv, lambda i, j: 
> > +                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or
> > +                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or
> > +                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or
> > +                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])
> >   }}}
> >   Build this graph by adding edges to it. It will be incomparably
> > faster. Writing code like this should not be allowed.

> 
> in my book using temporary variables is slow; perhaps Python implementations will get fuller use of this fact as its devs and users get wiser...


This code call `.neighbors()` for around `Theta(n^2)` times. Each time it builds a list in memory, and does a linear search in a list of things which may not even be integers. That's madness. THIS IS NOT SYMBOLICS. THIS IS ACTUAL CODE. For every pair of i,j this function is run, and every time all these lists are creates for nothing.

> > - `is_even`.
 
> 
> I like it better than `%`, more readable: one does not need to swap out some other language in the head to recall the meaning. But if you insist...


Are you telling me that you are having a hard time remembering the meaning of `%` ? Is that a joke?

Besides, how many CPU instructions do you think it takes to compute a `%2` on a C int variable? Now, what happens when you load a function, turn the int into a Python object, compute '%2', then return the result?

Nathann



---

archive/issue_comments_336486.json:
```json
{
    "body": "<a id='comment:55'></a>\nReplying to [ncohen](#comment%3A54):\n> \n> > > - `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT\n> > >   DOES. This is insulting. \n \n> > \n> > Indeed, I wish I could write `Graph(V,edges)` or `Graph([V,edges])` or even `Graph(edges)` instead. Why can't I?\n\n> \n> There is no God above forbidding this syntax. If the constructor does not do what you want, then improve it.\n> \n> In this situation, `Graph(edges)` simply works.\n\n\nReally? This is not documented! No wonder I didn't try this.\n\n> \n> > Why must I instead do something like \n> > `blah=Graph(V); blah.add_edges(edges); return blah`? Cause the GC is hungry and must be fed `blah` on each return?\n\n> \n> What your code does is this:\n> \n> \"For every pair of points among V, build a frozen set {i,j} then test if this set is contained in a LIST (linear time) of sets\". That's ridiculous.\n\n\nI just wanted one function call, you know...\n\n> \n> > > - Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.\n \n> > \n> > the docs to `g.copy()` say something like \"use only if you change the backend...\"\n> > \n> > ```\n> >    Warning: Please use this method only if you need to copy but\n> >      change the underlying implementation or weightedness.  Otherwise\n> >      simply do \"copy(g)\" instead of \"g.copy()\".\n> > ```\n> > Should I ignore this? Should the docs be improved?\n\n> \n> All that it says is that \"g.copy()\" is equivalent to \"copy(g)\", and that the latter should be preferred. The advantage of `g.copy()` is that you can give it additional arguments, e.g. change the backend.\n\n\nIf `g.copy()==copy(g)` then it would not work. I tried using `copy(g)` in place of `deepcopy(g)` and it produced crap. A bug in `Graph`? I don't know...\n\n \n> I am not saying that it is slow to use lambda function, I say that you have no idea of what you are doing.\n> \n> > >   {{{\n\n> > > +        return Graph([Nv+NonNv, lambda i, j: \n> > > +                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or\n> > > +                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or\n> > > +                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or\n> > > +                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])\n> > >   }}}\n> > >   Build this graph by adding edges to it. It will be incomparably\n> > > faster. Writing code like this should not be allowed.\n\n> > \n> > in my book using temporary variables is slow; perhaps Python implementations will get fuller use of this fact as its devs and users get wiser...\n\n> \n> This code call `.neighbors()` for around `Theta(n^2)` times. Each time it builds a list in memory, and does a linear search in a list of things which may not even be integers. That's madness. THIS IS NOT SYMBOLICS. THIS IS ACTUAL CODE. For every pair of i,j this function is run, and every time all these lists are creates for nothing.\n\n\n\nI don't get it. Somewhere deep inside `Graph` there must be a fast way to check if two vertices are adjacent... I took it as `self.neighbour(j)` is actually something that takes constant time to invoke. If not, pray tell me how to check that two vertices are adjacent in a reasonably fast way.\n\n\n> > > - `is_even`.\n \n> > \n> > I like it better than `%`, more readable: one does not need to swap out some other language in the head to recall the meaning. But if you insist...\n\n> e\n> Are you telling me that you are having a hard time remembering the meaning of `%` ? Is that a joke?\n\n\nNo, not at all. I have been programming for over 35 years, you know... Yes, I do need nonzero time to recall the meaning of `%`, of `//`, etc etc, if I don't touch them for a week...",
    "created_at": "2015-08-06T12:17:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336486",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:55'></a>
Replying to [ncohen](#comment%3A54):
> 
> > > - `Graph([V, lambda i, j: frozenset((i,j)) in edges])` THINK ABOUT WHAT IT
> > >   DOES. This is insulting. 
 
> > 
> > Indeed, I wish I could write `Graph(V,edges)` or `Graph([V,edges])` or even `Graph(edges)` instead. Why can't I?

> 
> There is no God above forbidding this syntax. If the constructor does not do what you want, then improve it.
> 
> In this situation, `Graph(edges)` simply works.


Really? This is not documented! No wonder I didn't try this.

> 
> > Why must I instead do something like 
> > `blah=Graph(V); blah.add_edges(edges); return blah`? Cause the GC is hungry and must be fed `blah` on each return?

> 
> What your code does is this:
> 
> "For every pair of points among V, build a frozen set {i,j} then test if this set is contained in a LIST (linear time) of sets". That's ridiculous.


I just wanted one function call, you know...

> 
> > > - Use `g.copy()` (which should be called by `copy(g)`), not deepcopy.
 
> > 
> > the docs to `g.copy()` say something like "use only if you change the backend..."
> > 
> > ```
> >    Warning: Please use this method only if you need to copy but
> >      change the underlying implementation or weightedness.  Otherwise
> >      simply do "copy(g)" instead of "g.copy()".
> > ```
> > Should I ignore this? Should the docs be improved?

> 
> All that it says is that "g.copy()" is equivalent to "copy(g)", and that the latter should be preferred. The advantage of `g.copy()` is that you can give it additional arguments, e.g. change the backend.


If `g.copy()==copy(g)` then it would not work. I tried using `copy(g)` in place of `deepcopy(g)` and it produced crap. A bug in `Graph`? I don't know...

 
> I am not saying that it is slow to use lambda function, I say that you have no idea of what you are doing.
> 
> > >   {{{

> > > +        return Graph([Nv+NonNv, lambda i, j: 
> > > +                        (i in NonNv and j in NonNv    and     i in self.neighbors(j)) or
> > > +                        (i in Nv    and j in Nv       and     i in self.neighbors(j)) or
> > > +                        (i in Nv    and j in NonNv    and not i in self.neighbors(j)) or
> > > +                        (j in Nv    and i in NonNv    and not i in self.neighbors(j))])
> > >   }}}
> > >   Build this graph by adding edges to it. It will be incomparably
> > > faster. Writing code like this should not be allowed.

> > 
> > in my book using temporary variables is slow; perhaps Python implementations will get fuller use of this fact as its devs and users get wiser...

> 
> This code call `.neighbors()` for around `Theta(n^2)` times. Each time it builds a list in memory, and does a linear search in a list of things which may not even be integers. That's madness. THIS IS NOT SYMBOLICS. THIS IS ACTUAL CODE. For every pair of i,j this function is run, and every time all these lists are creates for nothing.



I don't get it. Somewhere deep inside `Graph` there must be a fast way to check if two vertices are adjacent... I took it as `self.neighbour(j)` is actually something that takes constant time to invoke. If not, pray tell me how to check that two vertices are adjacent in a reasonably fast way.


> > > - `is_even`.
 
> > 
> > I like it better than `%`, more readable: one does not need to swap out some other language in the head to recall the meaning. But if you insist...

> e
> Are you telling me that you are having a hard time remembering the meaning of `%` ? Is that a joke?


No, not at all. I have been programming for over 35 years, you know... Yes, I do need nonzero time to recall the meaning of `%`, of `//`, etc etc, if I don't touch them for a week...



---

archive/issue_comments_336487.json:
```json
{
    "body": "<a id='comment:56'></a>\n> I don't get it. Somewhere deep inside `Graph` there must be a fast way to check if two vertices are adjacent... \n\n\n`Graph.has_edge`.\n\n> I took it as `self.neighbour(j)` is actually something that takes constant time to invoke.\n\n\nIt returns a list.\n\n> If not, pray tell me how to check that two vertices are adjacent in a reasonably fast way.\n\n\nThe right way to write this code is NOT to test for adjacency. Use `seidel_switching`, it takes a couple of lines at most.\n\nNathann",
    "created_at": "2015-08-06T12:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336487",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:56'></a>
> I don't get it. Somewhere deep inside `Graph` there must be a fast way to check if two vertices are adjacent... 


`Graph.has_edge`.

> I took it as `self.neighbour(j)` is actually something that takes constant time to invoke.


It returns a list.

> If not, pray tell me how to check that two vertices are adjacent in a reasonably fast way.


The right way to write this code is NOT to test for adjacency. Use `seidel_switching`, it takes a couple of lines at most.

Nathann



---

archive/issue_comments_336488.json:
```json
{
    "body": "Changing dependencies from \"#18960, #18948, #18988, #18991\" to \"#18960, #18948, #18988, #18991, #18986\"",
    "created_at": "2015-08-07T10:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336488",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "#18960, #18948, #18988, #18991" to "#18960, #18948, #18988, #18991, #18986"



---

archive/issue_comments_336489.json:
```json
{
    "body": "Changing commit from \"1b7f6b99019699fdccb4bb9afa86315defc87994\" to \"8406d0c80314601988109034ff5fdd891d29ed47\"",
    "created_at": "2015-08-07T11:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1b7f6b99019699fdccb4bb9afa86315defc87994" to "8406d0c80314601988109034ff5fdd891d29ed47"



---

archive/issue_comments_336490.json:
```json
{
    "body": "<a id='comment:58'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[ab39583](http://git.sagemath.org/sage.git/commit/?id=ab3958386766e39ed84088fa016b53e8245677c8)|`copy works now... perhaps a bug was elsewhere`|\n|[55f934b](http://git.sagemath.org/sage.git/commit/?id=55f934bedc0da0facf799d1c20472eb9f3dbb211)|`trac #18986: IncidenceStructure.is_uniform, is_regular, and complement`|\n|[0bd9d95](http://git.sagemath.org/sage.git/commit/?id=0bd9d950f46e3d824080262fa42e46fcba952594)|`Merge branch 'u/ncohen/18986' of git://trac.sagemath.org/sage into seidelsw`|\n|[7e0d333](http://git.sagemath.org/sage.git/commit/?id=7e0d3335d44ffc7c8004512af1f9389e65b78b0c)|`using complement from #18986`|\n|[10f9df8](http://git.sagemath.org/sage.git/commit/?id=10f9df83523d6667fd2ef44b4bb22322ec0756ce)|`a saner implementation of descendant`|\n|[8406d0c](http://git.sagemath.org/sage.git/commit/?id=8406d0c80314601988109034ff5fdd891d29ed47)|`regularising is_regular...`|",
    "created_at": "2015-08-07T11:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[ab39583](http://git.sagemath.org/sage.git/commit/?id=ab3958386766e39ed84088fa016b53e8245677c8)|`copy works now... perhaps a bug was elsewhere`|
|[55f934b](http://git.sagemath.org/sage.git/commit/?id=55f934bedc0da0facf799d1c20472eb9f3dbb211)|`trac #18986: IncidenceStructure.is_uniform, is_regular, and complement`|
|[0bd9d95](http://git.sagemath.org/sage.git/commit/?id=0bd9d950f46e3d824080262fa42e46fcba952594)|`Merge branch 'u/ncohen/18986' of git://trac.sagemath.org/sage into seidelsw`|
|[7e0d333](http://git.sagemath.org/sage.git/commit/?id=7e0d3335d44ffc7c8004512af1f9389e65b78b0c)|`using complement from #18986`|
|[10f9df8](http://git.sagemath.org/sage.git/commit/?id=10f9df83523d6667fd2ef44b4bb22322ec0756ce)|`a saner implementation of descendant`|
|[8406d0c](http://git.sagemath.org/sage.git/commit/?id=8406d0c80314601988109034ff5fdd891d29ed47)|`regularising is_regular...`|



---

archive/issue_comments_336491.json:
```json
{
    "body": "<a id='comment:59'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[cb071e2](http://git.sagemath.org/sage.git/commit/?id=cb071e26b5661bd7d0ff71f5cf8d2759095cca09)|`trac #19019: Missing space`|\n|[19b40d9](http://git.sagemath.org/sage.git/commit/?id=19b40d996b2770b58bfefbea5bb8d3c0bded6047)|`trac #19019: Sort the list of SRGs`|\n|[778556f](http://git.sagemath.org/sage.git/commit/?id=778556f1afddb74933575180e36018f0608fba2a)|`Merge remote-tracking branch 'trac/u/ncohen/19019' into t19019`|\n|[6ed716d](http://git.sagemath.org/sage.git/commit/?id=6ed716d1fcda90aaf146229b96c389b70ca39576)|`added a doctest`|\n|[cb0b3fb](http://git.sagemath.org/sage.git/commit/?id=cb0b3fbd221fb01c0e392d141ba50427b0a0294f)|`Merge branch 'reg_symm_hadamard' into t19019`|\n|[2c4a38a](http://git.sagemath.org/sage.git/commit/?id=2c4a38af23d0a8988f4b242317aab8178fce7511)|`Merge branch '#19019' into seidelsw`|\n|[8601814](http://git.sagemath.org/sage.git/commit/?id=86018144be8afeb9c972ea0784d096b302b742f6)|`removed duplicate [BH12]`|\n|[6ba4533](http://git.sagemath.org/sage.git/commit/?id=6ba4533618865a40589d56183340693918e6392e)|`docs for two-graphs class`|\n|[afbf2cb](http://git.sagemath.org/sage.git/commit/?id=afbf2cb1af6c20b9ac504818f6f3cf39823fc1c5)|`docs changes; hyperlinks etc`|\n|[86bf5b8](http://git.sagemath.org/sage.git/commit/?id=86bf5b8fa763ef06ada8e1993a3c75726575b767)|`remove twographs.* from global namespace, added to design_catalog`|",
    "created_at": "2015-08-17T22:17:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336491",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[cb071e2](http://git.sagemath.org/sage.git/commit/?id=cb071e26b5661bd7d0ff71f5cf8d2759095cca09)|`trac #19019: Missing space`|
|[19b40d9](http://git.sagemath.org/sage.git/commit/?id=19b40d996b2770b58bfefbea5bb8d3c0bded6047)|`trac #19019: Sort the list of SRGs`|
|[778556f](http://git.sagemath.org/sage.git/commit/?id=778556f1afddb74933575180e36018f0608fba2a)|`Merge remote-tracking branch 'trac/u/ncohen/19019' into t19019`|
|[6ed716d](http://git.sagemath.org/sage.git/commit/?id=6ed716d1fcda90aaf146229b96c389b70ca39576)|`added a doctest`|
|[cb0b3fb](http://git.sagemath.org/sage.git/commit/?id=cb0b3fbd221fb01c0e392d141ba50427b0a0294f)|`Merge branch 'reg_symm_hadamard' into t19019`|
|[2c4a38a](http://git.sagemath.org/sage.git/commit/?id=2c4a38af23d0a8988f4b242317aab8178fce7511)|`Merge branch '#19019' into seidelsw`|
|[8601814](http://git.sagemath.org/sage.git/commit/?id=86018144be8afeb9c972ea0784d096b302b742f6)|`removed duplicate [BH12]`|
|[6ba4533](http://git.sagemath.org/sage.git/commit/?id=6ba4533618865a40589d56183340693918e6392e)|`docs for two-graphs class`|
|[afbf2cb](http://git.sagemath.org/sage.git/commit/?id=afbf2cb1af6c20b9ac504818f6f3cf39823fc1c5)|`docs changes; hyperlinks etc`|
|[86bf5b8](http://git.sagemath.org/sage.git/commit/?id=86bf5b8fa763ef06ada8e1993a3c75726575b767)|`remove twographs.* from global namespace, added to design_catalog`|



---

archive/issue_comments_336492.json:
```json
{
    "body": "Changing commit from \"8406d0c80314601988109034ff5fdd891d29ed47\" to \"86bf5b8fa763ef06ada8e1993a3c75726575b767\"",
    "created_at": "2015-08-17T22:17:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8406d0c80314601988109034ff5fdd891d29ed47" to "86bf5b8fa763ef06ada8e1993a3c75726575b767"



---

archive/issue_comments_336493.json:
```json
{
    "body": "<a id='comment:60'></a>\nmerged with #19019. I have addressed the issues from comment 53, etc.",
    "created_at": "2015-08-17T22:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336493",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:60'></a>
merged with #19019. I have addressed the issues from comment 53, etc.



---

archive/issue_comments_336494.json:
```json
{
    "body": "Changing dependencies from \"#18960, #18948, #18988, #18991, #18986\" to \"#18960, #18948, #18988, #18991, #18986, #19018, #19019\"",
    "created_at": "2015-08-17T22:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336494",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "#18960, #18948, #18988, #18991, #18986" to "#18960, #18948, #18988, #18991, #18986, #19018, #19019"



---

archive/issue_comments_336495.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-17T22:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336495",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_336496.json:
```json
{
    "body": "<a id='comment:61'></a>\nYou have not fixed the code of `twograph_descendant`, whose documentation also contains broken links.\n\nI also find this function to be *very* specific, and I do not think that it should belong to the Graph class. What about moving it to this twograph module that you create?\n\nNathann",
    "created_at": "2015-08-18T10:11:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336496",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:61'></a>
You have not fixed the code of `twograph_descendant`, whose documentation also contains broken links.

I also find this function to be *very* specific, and I do not think that it should belong to the Graph class. What about moving it to this twograph module that you create?

Nathann



---

archive/issue_comments_336497.json:
```json
{
    "body": "Changing commit from \"86bf5b8fa763ef06ada8e1993a3c75726575b767\" to \"2fae2fc7b92d306f1336b6786c67318823f812f4\"",
    "created_at": "2015-08-18T16:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336497",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "86bf5b8fa763ef06ada8e1993a3c75726575b767" to "2fae2fc7b92d306f1336b6786c67318823f812f4"



---

archive/issue_comments_336498.json:
```json
{
    "body": "<a id='comment:62'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[2fae2fc](http://git.sagemath.org/sage.git/commit/?id=2fae2fc7b92d306f1336b6786c67318823f812f4)|`fixed docs for twograph_descendant, adjusted the Graph methods indices`|",
    "created_at": "2015-08-18T16:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:62'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[2fae2fc](http://git.sagemath.org/sage.git/commit/?id=2fae2fc7b92d306f1336b6786c67318823f812f4)|`fixed docs for twograph_descendant, adjusted the Graph methods indices`|



---

archive/issue_comments_336499.json:
```json
{
    "body": "<a id='comment:63'></a>\nReplying to [ncohen](#comment%3A61):\n> You have not fixed the code of `twograph_descendant`, whose documentation also contains broken links.\n\n\ndone; I also shifted it and the rest of the methods on this ticket to the **Leftovers** index.\n\n> \n> I also find this function to be *very* specific, and I do not think that it should belong to the Graph class. What  about moving it to this twograph module that you create?\n\n\nIt is not even a function. It is a method of Graph, and it produces a Graph. There are things in Graph that I also find very specific, yet they belong there by right.",
    "created_at": "2015-08-18T17:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336499",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:63'></a>
Replying to [ncohen](#comment%3A61):
> You have not fixed the code of `twograph_descendant`, whose documentation also contains broken links.


done; I also shifted it and the rest of the methods on this ticket to the **Leftovers** index.

> 
> I also find this function to be *very* specific, and I do not think that it should belong to the Graph class. What  about moving it to this twograph module that you create?


It is not even a function. It is a method of Graph, and it produces a Graph. There are things in Graph that I also find very specific, yet they belong there by right.



---

archive/issue_comments_336500.json:
```json
{
    "body": "<a id='comment:64'></a>\n> done; I also shifted it and the rest of the methods on this ticket to the **Leftovers** index.\n\n\nI see no difference in the code of `twograph_descendent`\n\n> It is not even a function. It is a method of Graph, and it produces a Graph. There are things in Graph that I also find very specific, yet they belong there by right.\n\n\nI would agree with you if we had fewer methods, but we have a *LOT* of them already. It is true that it takes a graph as input and returns a graph, but it could be advertised properly if it were in the trograph module, and if we added a \"SEEALSO\" in the documentation of `Graph.twograph`. I want it to be found by whoever needs it, but I also know that everything cannot belong to the graph module. Right now you can see David and Michele working on a new hyperbolicity algorithm (#19049) and you wil see that there are *MANY* lines of code in this module which took a lot of effort. Yet even that is not a Graph method (perhaps it should be). And you do not see `Graph.pathwidth` nor `Graph.grundy_coloring` nor `Graph.vertex_separation`, and all of them took a *LOT* of code and effort.\n\nI don't want to hide what you do, I want to organise this smartly. Some things are much less useful than others, and your function is an *optimization* of something that is already available via the twograph object. Would you agree to let it stay in the twograph module? Whoever wants to get the `twograph_descendant` of a graph wil definitely look at `twograph`. (S)He will then look at the `descendant` method, which can *also* link toward your optimization. This thing has its place in the twograph class and will be found there, but having the optimization directly in the `Graph` class does not add a new feature by itself, and can really be sufficiently advertised through the `TwoGraph` method.\n\nPlease, think with me. I'm tired of this endless arguing.\n\nNathann",
    "created_at": "2015-08-18T17:13:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336500",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:64'></a>
> done; I also shifted it and the rest of the methods on this ticket to the **Leftovers** index.


I see no difference in the code of `twograph_descendent`

> It is not even a function. It is a method of Graph, and it produces a Graph. There are things in Graph that I also find very specific, yet they belong there by right.


I would agree with you if we had fewer methods, but we have a *LOT* of them already. It is true that it takes a graph as input and returns a graph, but it could be advertised properly if it were in the trograph module, and if we added a "SEEALSO" in the documentation of `Graph.twograph`. I want it to be found by whoever needs it, but I also know that everything cannot belong to the graph module. Right now you can see David and Michele working on a new hyperbolicity algorithm (#19049) and you wil see that there are *MANY* lines of code in this module which took a lot of effort. Yet even that is not a Graph method (perhaps it should be). And you do not see `Graph.pathwidth` nor `Graph.grundy_coloring` nor `Graph.vertex_separation`, and all of them took a *LOT* of code and effort.

I don't want to hide what you do, I want to organise this smartly. Some things are much less useful than others, and your function is an *optimization* of something that is already available via the twograph object. Would you agree to let it stay in the twograph module? Whoever wants to get the `twograph_descendant` of a graph wil definitely look at `twograph`. (S)He will then look at the `descendant` method, which can *also* link toward your optimization. This thing has its place in the twograph class and will be found there, but having the optimization directly in the `Graph` class does not add a new feature by itself, and can really be sufficiently advertised through the `TwoGraph` method.

Please, think with me. I'm tired of this endless arguing.

Nathann



---

archive/issue_comments_336501.json:
```json
{
    "body": "<a id='comment:65'></a>\nReplying to [ncohen](#comment%3A64):\n> > done; I also shifted it and the rest of the methods on this ticket to the **Leftovers** index.\n\n> \n> I see no difference in the code of `twograph_descendent`\n\n\nWell, I am using 'has_edge' there now, which you say is fast. So the bottleneck of creating neighbour lists is gone, no?\n\n> \n> > It is not even a function. It is a method of Graph, and it produces a Graph. There are things in Graph that I also find very specific, yet they belong there by right.\n\n> \n> I would agree with you if we had fewer methods, but we have a *LOT* of them already. \n\n\nMind you, you said in comment 1 above that I should move these things to graph.py.\nAnd it's not much code being added, compared to complicated algorithms not in Graph that you mention.\nAnyway, we should open another ticket to reorganise the Graph module. I agree that Graph has a lot of methods, and they should be better organised.",
    "created_at": "2015-08-18T17:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336501",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:65'></a>
Replying to [ncohen](#comment%3A64):
> > done; I also shifted it and the rest of the methods on this ticket to the **Leftovers** index.

> 
> I see no difference in the code of `twograph_descendent`


Well, I am using 'has_edge' there now, which you say is fast. So the bottleneck of creating neighbour lists is gone, no?

> 
> > It is not even a function. It is a method of Graph, and it produces a Graph. There are things in Graph that I also find very specific, yet they belong there by right.

> 
> I would agree with you if we had fewer methods, but we have a *LOT* of them already. 


Mind you, you said in comment 1 above that I should move these things to graph.py.
And it's not much code being added, compared to complicated algorithms not in Graph that you mention.
Anyway, we should open another ticket to reorganise the Graph module. I agree that Graph has a lot of methods, and they should be better organised.



---

archive/issue_comments_336502.json:
```json
{
    "body": "<a id='comment:66'></a>\n> Well, I am using 'has_edge' there now, which you say is fast. So the bottleneck of creating neighbour lists is gone, no?\n\n\nNo, it is not gone. There is a huge loss of time in this function because you want to build it from a lambda function.\n\n> Mind you, you said in comment 1 above that I should move these things to graph.py.\n\n\nWhat I meant is that `DiGraph.twograph()` should not exist. Surely you agree with that?\n\n> And it's not much code being added, compared to complicated algorithms not in Graph that you mention.\n> Anyway, we should open another ticket to reorganise the Graph module. I agree that Graph has a lot of methods, and they should be better organised.\n\n\nCould we please keep it out for the moment? It is not for the code that I advocate this, it is merely for the length of the list of functions that appears to the user.\n\nI don't mind improvng the `twograph_descendant` myself if that can ease the deal.\n\nNathann",
    "created_at": "2015-08-18T17:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336502",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:66'></a>
> Well, I am using 'has_edge' there now, which you say is fast. So the bottleneck of creating neighbour lists is gone, no?


No, it is not gone. There is a huge loss of time in this function because you want to build it from a lambda function.

> Mind you, you said in comment 1 above that I should move these things to graph.py.


What I meant is that `DiGraph.twograph()` should not exist. Surely you agree with that?

> And it's not much code being added, compared to complicated algorithms not in Graph that you mention.
> Anyway, we should open another ticket to reorganise the Graph module. I agree that Graph has a lot of methods, and they should be better organised.


Could we please keep it out for the moment? It is not for the code that I advocate this, it is merely for the length of the list of functions that appears to the user.

I don't mind improvng the `twograph_descendant` myself if that can ease the deal.

Nathann



---

archive/issue_comments_336503.json:
```json
{
    "body": "<a id='comment:67'></a>\nReplying to [ncohen](#comment%3A66):\n> > Well, I am using 'has_edge' there now, which you say is fast. So the bottleneck of creating neighbour lists is gone, no?\n\n> \n> No, it is not gone. There is a huge loss of time in this function because you want to build it from a lambda function.\n\n\nWe already discussed here a similar issue and found that we talk about 5-10% loss (which can hardly be called huge)  no?\nPerhaps making `Nv` and `NoNv` (frozen)sets will be an extra optimisation that I am willing to add, but other than that it's matter of taste, IMHO...\n\n> \n> > Mind you, you said in comment 1 above that I should move these things to graph.py.\n\n> \n> What I meant is that `DiGraph.twograph()` should not exist. Surely you agree with that?\n\n\n\nLook, I read what you wrote, and you wrote the following:\n\n```\n3) If your methods only apply to undirected graphs, they should be in graph.py\n```\n\nAnd I duly put the stuff into graph.py. \n\n> \n> > And it's not much code being added, compared to complicated algorithms not in Graph that you mention.\n> > Anyway, we should open another ticket to reorganise the Graph module. I agree that Graph has a lot of methods, and they should be better organised.\n\n> \n> Could we please keep it out for the moment? It is not for the code that I advocate this, it is merely for the length of the list of functions that appears to the user.\n\n\nNo, why should we keep this out now? I hope you don't like the role of the code bouncer you play now... The methods need to be cathegorised better, that's all.\nDumping too much stuff directly into g.TAB (for g a Graph) is bound to cause a problem sooner or later.\n\nPresently I find it absurd that we have e.g. `kirchhoff_symanzik_polynomial` but we cannot have `twograph_descendant`. Certainly there should be g.polynomial.TAB, \ng.graph.TAB, g.decomposition.TAB, g.matrix.TAB etc etc.\n> \n> I don't mind improvng the `twograph_descendant` myself if that can ease the deal.\n\n\nSure, please.",
    "created_at": "2015-08-18T18:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336503",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:67'></a>
Replying to [ncohen](#comment%3A66):
> > Well, I am using 'has_edge' there now, which you say is fast. So the bottleneck of creating neighbour lists is gone, no?

> 
> No, it is not gone. There is a huge loss of time in this function because you want to build it from a lambda function.


We already discussed here a similar issue and found that we talk about 5-10% loss (which can hardly be called huge)  no?
Perhaps making `Nv` and `NoNv` (frozen)sets will be an extra optimisation that I am willing to add, but other than that it's matter of taste, IMHO...

> 
> > Mind you, you said in comment 1 above that I should move these things to graph.py.

> 
> What I meant is that `DiGraph.twograph()` should not exist. Surely you agree with that?



Look, I read what you wrote, and you wrote the following:

```
3) If your methods only apply to undirected graphs, they should be in graph.py
```

And I duly put the stuff into graph.py. 

> 
> > And it's not much code being added, compared to complicated algorithms not in Graph that you mention.
> > Anyway, we should open another ticket to reorganise the Graph module. I agree that Graph has a lot of methods, and they should be better organised.

> 
> Could we please keep it out for the moment? It is not for the code that I advocate this, it is merely for the length of the list of functions that appears to the user.


No, why should we keep this out now? I hope you don't like the role of the code bouncer you play now... The methods need to be cathegorised better, that's all.
Dumping too much stuff directly into g.TAB (for g a Graph) is bound to cause a problem sooner or later.

Presently I find it absurd that we have e.g. `kirchhoff_symanzik_polynomial` but we cannot have `twograph_descendant`. Certainly there should be g.polynomial.TAB, 
g.graph.TAB, g.decomposition.TAB, g.matrix.TAB etc etc.
> 
> I don't mind improvng the `twograph_descendant` myself if that can ease the deal.


Sure, please.



---

archive/issue_comments_336504.json:
```json
{
    "body": "Changing commit from \"2fae2fc7b92d306f1336b6786c67318823f812f4\" to \"799a2bf3bea99309b02eb11cc5438e428135be0c\"",
    "created_at": "2015-08-18T18:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336504",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2fae2fc7b92d306f1336b6786c67318823f812f4" to "799a2bf3bea99309b02eb11cc5438e428135be0c"



---

archive/issue_comments_336505.json:
```json
{
    "body": "<a id='comment:68'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[799a2bf](http://git.sagemath.org/sage.git/commit/?id=799a2bf3bea99309b02eb11cc5438e428135be0c)|`speeding up twograph_descendant`|",
    "created_at": "2015-08-18T18:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336505",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[799a2bf](http://git.sagemath.org/sage.git/commit/?id=799a2bf3bea99309b02eb11cc5438e428135be0c)|`speeding up twograph_descendant`|



---

archive/issue_comments_336506.json:
```json
{
    "body": "<a id='comment:69'></a>\n> No, why should we keep this out now?\n\n\nBecause it is highly specialised and already available by another means, i.e. by G.twograph().descendant(). Having an optimized alias is not necessary, and not a sensible thing to add given the amount of functions already available in that class.\n\n> Sure, please.\n\n\nIf you accept the 'deal' about this unnecessary function, I will. You will see that the speedup will not be 5%.\n\nNathan",
    "created_at": "2015-08-18T19:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336506",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:69'></a>
> No, why should we keep this out now?


Because it is highly specialised and already available by another means, i.e. by G.twograph().descendant(). Having an optimized alias is not necessary, and not a sensible thing to add given the amount of functions already available in that class.

> Sure, please.


If you accept the 'deal' about this unnecessary function, I will. You will see that the speedup will not be 5%.

Nathan



---

archive/issue_comments_336507.json:
```json
{
    "body": "<a id='comment:70'></a>\nReplying to [ncohen](#comment%3A69):\n> > No, why should we keep this out now?\n\n> \n> Because it is highly specialised and already available by another means, i.e. by G.twograph().descendant(). Having an optimized alias is not necessary, and not a sensible thing to add given the amount of functions already available in that class.\n\n\n\nOK, this is a good argument. Perhaps it's better to move it to strongly_regular_db, \nwhere it is used, than to twographs?\n\n> \n> > Sure, please.\n\n> \n> If you accept the 'deal' about this unnecessary function, I will. You will see that the speedup will not be 5%.\n\n\nIMHO there are more important things than speeding this function up, but do as you like.",
    "created_at": "2015-08-18T19:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336507",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:70'></a>
Replying to [ncohen](#comment%3A69):
> > No, why should we keep this out now?

> 
> Because it is highly specialised and already available by another means, i.e. by G.twograph().descendant(). Having an optimized alias is not necessary, and not a sensible thing to add given the amount of functions already available in that class.



OK, this is a good argument. Perhaps it's better to move it to strongly_regular_db, 
where it is used, than to twographs?

> 
> > Sure, please.

> 
> If you accept the 'deal' about this unnecessary function, I will. You will see that the speedup will not be 5%.


IMHO there are more important things than speeding this function up, but do as you like.



---

archive/issue_comments_336508.json:
```json
{
    "body": "<a id='comment:71'></a>\n> OK, this is a good argument. Perhaps it's better to move it to strongly_regular_db, \n> where it is used, than to twographs?\n\n\nThat's up to you. I believe that it makes more sense to define it in the twograph module, cause that's where I would personally look for anything related to twographs. Plus this descendant, unless I make a mistake, is not directly linked to SRGs. But well, that's up to you: move it where you prefer.\n\n> IMHO there are more important things than speeding this function up, but do as you like.\n\n\nI will update that code, it takes two lines at most. I only wish Volker would release another beta, for it is hard to see what is added by that branch and what belongs to its dependencies.\n\nNathann",
    "created_at": "2015-08-18T19:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336508",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:71'></a>
> OK, this is a good argument. Perhaps it's better to move it to strongly_regular_db, 
> where it is used, than to twographs?


That's up to you. I believe that it makes more sense to define it in the twograph module, cause that's where I would personally look for anything related to twographs. Plus this descendant, unless I make a mistake, is not directly linked to SRGs. But well, that's up to you: move it where you prefer.

> IMHO there are more important things than speeding this function up, but do as you like.


I will update that code, it takes two lines at most. I only wish Volker would release another beta, for it is hard to see what is added by that branch and what belongs to its dependencies.

Nathann



---

archive/issue_comments_336509.json:
```json
{
    "body": "<a id='comment:72'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[b9fd7af](http://git.sagemath.org/sage.git/commit/?id=b9fd7af957ccc124b67b331ab8d904d3272309a2)|`removed spaces and added r's`|\n|[68c0edd](http://git.sagemath.org/sage.git/commit/?id=68c0edd21e25d74df2bf41e060e9e55c99ca2fca)|`moved twograph_descendant to twographs.py, and docs improved`|",
    "created_at": "2015-08-18T21:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336509",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:72'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[b9fd7af](http://git.sagemath.org/sage.git/commit/?id=b9fd7af957ccc124b67b331ab8d904d3272309a2)|`removed spaces and added r's`|
|[68c0edd](http://git.sagemath.org/sage.git/commit/?id=68c0edd21e25d74df2bf41e060e9e55c99ca2fca)|`moved twograph_descendant to twographs.py, and docs improved`|



---

archive/issue_comments_336510.json:
```json
{
    "body": "Changing commit from \"799a2bf3bea99309b02eb11cc5438e428135be0c\" to \"68c0edd21e25d74df2bf41e060e9e55c99ca2fca\"",
    "created_at": "2015-08-18T21:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336510",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "799a2bf3bea99309b02eb11cc5438e428135be0c" to "68c0edd21e25d74df2bf41e060e9e55c99ca2fca"



---

archive/issue_comments_336511.json:
```json
{
    "body": "<a id='comment:73'></a>\nReplying to [ncohen](#comment%3A71):\n> > OK, this is a good argument. Perhaps it's better to move it to strongly_regular_db, \n> > where it is used, than to twographs?\n\n> \n> That's up to you. I believe that it makes more sense to define it in the twograph module, cause that's where I would personally look for anything related to twographs. Plus this descendant, unless I make a mistake, is not directly linked to SRGs. But well, that's up to you: move it where you prefer.\n> \n> > IMHO there are more important things than speeding this function up, but do as you like.\n\n> \n> I will update that code, it takes two lines at most. I only wish Volker would release another beta, for it is hard to see what is added by that branch and what belongs to its dependencies.\n> \n\n\nOK, it's moved and docs updated. You can study diff with trac/public/19019 branch to see the changes on this ticket.",
    "created_at": "2015-08-18T21:27:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336511",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:73'></a>
Replying to [ncohen](#comment%3A71):
> > OK, this is a good argument. Perhaps it's better to move it to strongly_regular_db, 
> > where it is used, than to twographs?

> 
> That's up to you. I believe that it makes more sense to define it in the twograph module, cause that's where I would personally look for anything related to twographs. Plus this descendant, unless I make a mistake, is not directly linked to SRGs. But well, that's up to you: move it where you prefer.
> 
> > IMHO there are more important things than speeding this function up, but do as you like.

> 
> I will update that code, it takes two lines at most. I only wish Volker would release another beta, for it is hard to see what is added by that branch and what belongs to its dependencies.
> 


OK, it's moved and docs updated. You can study diff with trac/public/19019 branch to see the changes on this ticket.



---

archive/issue_comments_336512.json:
```json
{
    "body": "<a id='comment:74'></a>\nHelloooo Dima,\n\nHere is a first-pass review:\n\n- Where exactly is the 'twograph' module to be found in the documentation? It\n  does not belong to the main 'design' page.\n\n- `is_regular_twograph` -- the first sentence of the docstring must be short\n  (one line) and describe what the function does.\n\n- doc of `descendant`: a sentence starts with an upper-case letter. Same with\n  `complement()`, `twograph_descendant()`\n\n- ```self.ground_set()``` -- should be a link.\n\n- `is_twograph` -- you should rephrase the first sentence of the doc. An INPUT\n  block is missing.\n\n- Construction of chang graphs by switching: define K8 and T8 in the block that\n  does that, not in the previous doc which does not use them.\n\n- `:meth:`sage.matrix.change_ring`` -- broken link (appears twice)\n\n- `seidel_matrix` INPUT for Graph: you must add doctests to test that it works,\n  and to test your exceptions.\n\n- `is_two_graph_descendant_of_srg` - what about those `v0,k0,l0,mu0` we\n  already mentionned? `v,k,l,mu` would be easier to read.\n\nNathann",
    "created_at": "2015-08-19T08:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336512",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:74'></a>
Helloooo Dima,

Here is a first-pass review:

- Where exactly is the 'twograph' module to be found in the documentation? It
  does not belong to the main 'design' page.

- `is_regular_twograph` -- the first sentence of the docstring must be short
  (one line) and describe what the function does.

- doc of `descendant`: a sentence starts with an upper-case letter. Same with
  `complement()`, `twograph_descendant()`

- ```self.ground_set()``` -- should be a link.

- `is_twograph` -- you should rephrase the first sentence of the doc. An INPUT
  block is missing.

- Construction of chang graphs by switching: define K8 and T8 in the block that
  does that, not in the previous doc which does not use them.

- `:meth:`sage.matrix.change_ring`` -- broken link (appears twice)

- `seidel_matrix` INPUT for Graph: you must add doctests to test that it works,
  and to test your exceptions.

- `is_two_graph_descendant_of_srg` - what about those `v0,k0,l0,mu0` we
  already mentionned? `v,k,l,mu` would be easier to read.

Nathann



---

archive/issue_comments_336513.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-19T08:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336513",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_336514.json:
```json
{
    "body": "<a id='comment:75'></a>\nReplying to [ncohen](#comment%3A74):\n> Helloooo Dima,\n> \n> Here is a first-pass review:\n\nThanks!\n> \n> - Where exactly is the 'twograph' module to be found in the documentation? \n \nit can be found in \"comprehensive module index\" of Combinatorics\n> It   does not belong to the main 'design' page.\n\nshould it? Do you know where the corresponding index is located?\n\nBy the way, Hadamard matrices are in the same situation: they can be found in \"comprehensive module index\" of Combinatorics, but not elsewhere.",
    "created_at": "2015-08-19T15:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336514",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:75'></a>
Replying to [ncohen](#comment%3A74):
> Helloooo Dima,
> 
> Here is a first-pass review:

Thanks!
> 
> - Where exactly is the 'twograph' module to be found in the documentation? 
 
it can be found in "comprehensive module index" of Combinatorics
> It   does not belong to the main 'design' page.

should it? Do you know where the corresponding index is located?

By the way, Hadamard matrices are in the same situation: they can be found in "comprehensive module index" of Combinatorics, but not elsewhere.



---

archive/issue_comments_336515.json:
```json
{
    "body": "<a id='comment:76'></a>\n> should it? Do you know where the corresponding index is located?\n\n\nYeah yeah they should. The index of combinatorial designs can be found in the `__init__.py` file of the `design/` folder.\n\n> By the way, Hadamard matrices are in the same situation: they can be found in \"comprehensive module index\" of Combinatorics, but not elsewhere.\n\n\nThat's because Nicolas decided that the documentation of \"combinat/\" had to be handled in a different way from everything else in the doc. To me we should revert it to something that makes sense, and change everything or nothing at all. But I'm tired of fighting alone against people who protect their friends. Too much bullshit these days.\n\nhttp://doc.sagemath.org/html/en/developer/sage_manuals.html#adding-a-new-file\n\nNathann",
    "created_at": "2015-08-19T17:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336515",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:76'></a>
> should it? Do you know where the corresponding index is located?


Yeah yeah they should. The index of combinatorial designs can be found in the `__init__.py` file of the `design/` folder.

> By the way, Hadamard matrices are in the same situation: they can be found in "comprehensive module index" of Combinatorics, but not elsewhere.


That's because Nicolas decided that the documentation of "combinat/" had to be handled in a different way from everything else in the doc. To me we should revert it to something that makes sense, and change everything or nothing at all. But I'm tired of fighting alone against people who protect their friends. Too much bullshit these days.

http://doc.sagemath.org/html/en/developer/sage_manuals.html#adding-a-new-file

Nathann



---

archive/issue_comments_336516.json:
```json
{
    "body": "<a id='comment:77'></a>\nReplying to [ncohen](#comment%3A74):\n\n> - Construction of chang graphs by switching: define K8 and T8 in the block that\n>   does that, not in the previous doc which does not use them.\n\n\nthe previous block does use them after my change, so I don't understand this comment.",
    "created_at": "2015-08-19T19:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336516",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:77'></a>
Replying to [ncohen](#comment%3A74):

> - Construction of chang graphs by switching: define K8 and T8 in the block that
>   does that, not in the previous doc which does not use them.


the previous block does use them after my change, so I don't understand this comment.



---

archive/issue_comments_336517.json:
```json
{
    "body": "<a id='comment:78'></a>\nRight.",
    "created_at": "2015-08-19T19:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336517",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:78'></a>
Right.



---

archive/issue_comments_336518.json:
```json
{
    "body": "Changing commit from \"68c0edd21e25d74df2bf41e060e9e55c99ca2fca\" to \"6bc5cbd678d6d9db6e99ff23489e0e1a720e8569\"",
    "created_at": "2015-08-19T22:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "68c0edd21e25d74df2bf41e060e9e55c99ca2fca" to "6bc5cbd678d6d9db6e99ff23489e0e1a720e8569"



---

archive/issue_comments_336519.json:
```json
{
    "body": "<a id='comment:79'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[6bc5cbd](http://git.sagemath.org/sage.git/commit/?id=6bc5cbd678d6d9db6e99ff23489e0e1a720e8569)|`next round of fixes, cf #18972:75`|",
    "created_at": "2015-08-19T22:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:79'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[6bc5cbd](http://git.sagemath.org/sage.git/commit/?id=6bc5cbd678d6d9db6e99ff23489e0e1a720e8569)|`next round of fixes, cf #18972:75`|



---

archive/issue_comments_336520.json:
```json
{
    "body": "<a id='comment:80'></a>\nReplying to [git](#comment%3A79):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                          |                                   |\n> |------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n> |[6bc5cbd](http://git.sagemath.org/sage.git/commit/?id=6bc5cbd678d6d9db6e99ff23489e0e1a720e8569)|`next round of fixes, cf #18972:75`|\n\n\nthis addresses all the requested changes; regarding the last comment, I keep k0 and k, as k is a variable in the code...",
    "created_at": "2015-08-19T22:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336520",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:80'></a>
Replying to [git](#comment%3A79):
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                          |                                   |
> |------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
> |[6bc5cbd](http://git.sagemath.org/sage.git/commit/?id=6bc5cbd678d6d9db6e99ff23489e0e1a720e8569)|`next round of fixes, cf #18972:75`|


this addresses all the requested changes; regarding the last comment, I keep k0 and k, as k is a variable in the code...



---

archive/issue_comments_336521.json:
```json
{
    "body": "<a id='comment:81'></a>\nHelloooooooo Dima,\n\nHere is another review. I also fixed a couple of things in a commit at `public/18972`.\n\n- About `designs.is_twograph` -- this has nothing to do in the design catalog.\n\n- About `designs.TwoGraph` -- I believe that it is the same: a class constructor\n  does not have anything to do in the design catalog. You don't find\n  `PermutationGroup` in `groups.<tab>`, and neither do you find `Graph` in\n  `graphs.<tab>`. Note that there is an 'exception' in this case,\n  i.e. `BlockDesign`, which (I believe) should also be removed, and for the same\n  reasons.\n\n- The first letter of the docstrings should be in upper case. I told you that\n  already.\n\n- There are still broken links. If you can't be bothered to read the doc, at\n  least compile it with `--warn-links`.\n\n- No need of indentation after a 'INPUT' block.\n\n- Backticks are required around `True/False`.\n\n- option `check` of `is_regular` -- checking that the input is indeed a twograph\n  should be done in `TwoGraph.__init__`.\n\n- Instead of `Return True if [...]`, it would be better to have `Test whether\n  [...]`. Formally, a function that *always* returns `True` satisfies your\n  description (I know, that's a stupid thing to say. Still).\n\n- `complement` -- the default meaning of `.complement()` is different on\n  `IncidenceStructure` and on `TwoGraph`. Could you conform to the most general\n  specification?\n\n- `T.is_t_design(k=3)` -- use `is_uniform`.\n\n- It feels a bit weird that the default behaviour of `seidel_switching` is not\n  to modify the graph inplace but to return a copy... I would have expected a\n  `inplace=False` argument for that.\n\n- Documentation of `seidel_switching`: some mathematical notations need\n  backticks.\n\n- Same function: the OUTPUT section is hardly necessary, given the first two\n  lines of doc.\n\n- `twograph` -- I am tired of reminding you to write doctests.\n\n- Code of `twograph` -- please rewrite the code of this function decently.\n\n- `is_two_graph_descendant_of_srg` -- you seem to have prefered 'twograph'\n  everywhere else.\n\n- Please build and read the doc of that function. Also, `lambda` should be\n  `\\lambda`.\n\nNathann",
    "created_at": "2015-08-20T17:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336521",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:81'></a>
Helloooooooo Dima,

Here is another review. I also fixed a couple of things in a commit at `public/18972`.

- About `designs.is_twograph` -- this has nothing to do in the design catalog.

- About `designs.TwoGraph` -- I believe that it is the same: a class constructor
  does not have anything to do in the design catalog. You don't find
  `PermutationGroup` in `groups.<tab>`, and neither do you find `Graph` in
  `graphs.<tab>`. Note that there is an 'exception' in this case,
  i.e. `BlockDesign`, which (I believe) should also be removed, and for the same
  reasons.

- The first letter of the docstrings should be in upper case. I told you that
  already.

- There are still broken links. If you can't be bothered to read the doc, at
  least compile it with `--warn-links`.

- No need of indentation after a 'INPUT' block.

- Backticks are required around `True/False`.

- option `check` of `is_regular` -- checking that the input is indeed a twograph
  should be done in `TwoGraph.__init__`.

- Instead of `Return True if [...]`, it would be better to have `Test whether
  [...]`. Formally, a function that *always* returns `True` satisfies your
  description (I know, that's a stupid thing to say. Still).

- `complement` -- the default meaning of `.complement()` is different on
  `IncidenceStructure` and on `TwoGraph`. Could you conform to the most general
  specification?

- `T.is_t_design(k=3)` -- use `is_uniform`.

- It feels a bit weird that the default behaviour of `seidel_switching` is not
  to modify the graph inplace but to return a copy... I would have expected a
  `inplace=False` argument for that.

- Documentation of `seidel_switching`: some mathematical notations need
  backticks.

- Same function: the OUTPUT section is hardly necessary, given the first two
  lines of doc.

- `twograph` -- I am tired of reminding you to write doctests.

- Code of `twograph` -- please rewrite the code of this function decently.

- `is_two_graph_descendant_of_srg` -- you seem to have prefered 'twograph'
  everywhere else.

- Please build and read the doc of that function. Also, `lambda` should be
  `\lambda`.

Nathann



---

archive/issue_comments_336522.json:
```json
{
    "body": "<a id='comment:82'></a>\nReplying to [ncohen](#comment%3A81):\n> Here is another review. I also fixed a couple of things in a commit at `public/18972`.\n\nThanks! Here are few clarifications/comments/questions:\n\n> - The first letter of the docstrings should be in upper case. I told you that\n>   already.\n\n\noops, sorry, I misunderstood your comment about this, and was making things lower case...\n\n> \n> - There are still broken links. If you can't be bothered to read the doc, at\n>   least compile it with `--warn-links`.\n\n\nI normally build docs with make. Does it mean I better do an explicit `-docbuild`?\n> \n> - `complement` -- the default meaning of `.complement()` is different on\n>   `IncidenceStructure` and on `TwoGraph`. Could you conform to the most general\n>   specification?\n \nno, for two-graphs it's the way it is. Should I rename this `.complement()` as\n`twograph_complement()`?\n\n> \n> - It feels a bit weird that the default behaviour of `seidel_switching` is not\n>   to modify the graph inplace but to return a copy... I would have expected a\n>   `inplace=False` argument for that.\n\n\nwell, I don't like inplace things. I don't even have an inplace option for this function.\nI hope it's OK.\n\nI'm going to fix the rest and add a construction of two-graphs (more precisely, certain Seidel adj.matrices, from which the two-graph can be constructed, if needed) from doubly-transitive permutation groups, i.e. Taylor two-graphs.",
    "created_at": "2015-08-20T18:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336522",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:82'></a>
Replying to [ncohen](#comment%3A81):
> Here is another review. I also fixed a couple of things in a commit at `public/18972`.

Thanks! Here are few clarifications/comments/questions:

> - The first letter of the docstrings should be in upper case. I told you that
>   already.


oops, sorry, I misunderstood your comment about this, and was making things lower case...

> 
> - There are still broken links. If you can't be bothered to read the doc, at
>   least compile it with `--warn-links`.


I normally build docs with make. Does it mean I better do an explicit `-docbuild`?
> 
> - `complement` -- the default meaning of `.complement()` is different on
>   `IncidenceStructure` and on `TwoGraph`. Could you conform to the most general
>   specification?
 
no, for two-graphs it's the way it is. Should I rename this `.complement()` as
`twograph_complement()`?

> 
> - It feels a bit weird that the default behaviour of `seidel_switching` is not
>   to modify the graph inplace but to return a copy... I would have expected a
>   `inplace=False` argument for that.


well, I don't like inplace things. I don't even have an inplace option for this function.
I hope it's OK.

I'm going to fix the rest and add a construction of two-graphs (more precisely, certain Seidel adj.matrices, from which the two-graph can be constructed, if needed) from doubly-transitive permutation groups, i.e. Taylor two-graphs.



---

archive/issue_comments_336523.json:
```json
{
    "body": "<a id='comment:83'></a>\n> > - There are still broken links. If you can't be bothered to read the doc, at\n> >   least compile it with `--warn-links`.\n \n> \n> I normally build docs with make. Does it mean I better do an explicit `-docbuild`?\n\n\nWith make? It must take a lot of time! I compile the doc with `sage -b && sage -docbuild reference/combinat html`. You can add a `--warn-links` flag to it to get a report of broken links.\n\n> no, for two-graphs it's the way it is. Should I rename this `.complement()` as\n> `twograph_complement()`?\n\n\nHMmmmmm `:-/`\n\nIt is true that the \"right\" notion of \"complement\" really depends on what you do when it comes to hypergraphs. I made the other one the default because it applies to all hypergraphs, and not only to uniform ones.\n\nI thought for a while of your proposition to make it a `new method`, but then why don't you just use `.complement(uniform=True)`? If you are ready to leave `.complement` as it is and to create a new function, then do you really need that function?\n\n> well, I don't like inplace things. I don't even have an inplace option for this function.\n> I hope it's OK.\n\n\nIt's surprising, at least for me. Would you object if I added a commit that makes it an inplace function, with an optional `inplace=False` to get a copy?\n\n> I'm going to fix the rest and add a construction of two-graphs (more precisely, certain Seidel adj.matrices, from which the two-graph can be constructed, if needed) from doubly-transitive permutation groups, i.e. Taylor two-graphs.\n\n\nNice. Could you please do that in another ticket, please? This one is already dozens of commits long.\n\nNathann",
    "created_at": "2015-08-20T18:31:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336523",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:83'></a>
> > - There are still broken links. If you can't be bothered to read the doc, at
> >   least compile it with `--warn-links`.
 
> 
> I normally build docs with make. Does it mean I better do an explicit `-docbuild`?


With make? It must take a lot of time! I compile the doc with `sage -b && sage -docbuild reference/combinat html`. You can add a `--warn-links` flag to it to get a report of broken links.

> no, for two-graphs it's the way it is. Should I rename this `.complement()` as
> `twograph_complement()`?


HMmmmmm `:-/`

It is true that the "right" notion of "complement" really depends on what you do when it comes to hypergraphs. I made the other one the default because it applies to all hypergraphs, and not only to uniform ones.

I thought for a while of your proposition to make it a `new method`, but then why don't you just use `.complement(uniform=True)`? If you are ready to leave `.complement` as it is and to create a new function, then do you really need that function?

> well, I don't like inplace things. I don't even have an inplace option for this function.
> I hope it's OK.


It's surprising, at least for me. Would you object if I added a commit that makes it an inplace function, with an optional `inplace=False` to get a copy?

> I'm going to fix the rest and add a construction of two-graphs (more precisely, certain Seidel adj.matrices, from which the two-graph can be constructed, if needed) from doubly-transitive permutation groups, i.e. Taylor two-graphs.


Nice. Could you please do that in another ticket, please? This one is already dozens of commits long.

Nathann



---

archive/issue_comments_336524.json:
```json
{
    "body": "<a id='comment:84'></a>\nReplying to [ncohen](#comment%3A83):\n\n> > no, for two-graphs it's the way it is. Should I rename this `.complement()` as\n> > `twograph_complement()`?\n\n> \n> HMmmmmm `:-/`\n> \n> It is true that the \"right\" notion of \"complement\" really depends on what you do when it comes to hypergraphs. I made the other one the default because it applies to all hypergraphs, and not only to uniform ones.\n> \n> I thought for a while of your proposition to make it a `new method`, but then why don't you just use `.complement(uniform=True)`? If you are ready to leave `.complement` as it is and to create a new function, then do you really need that function?\n\n\n\nWell, the rationale behind the current code is that someone who wants to take the complement of a two-graph should just call `.complement()` rather than something more complicated. And indeed, the complement of a two-graph has a well-established meaning. It's more an implementation artefact that the base class already has `complement()` defined, and it's not quite the same. The user should not care about this IMHO.\n\nSame was with `is_regular()`, but you didn't like this as it clashed with the default, and I made it `is_regular_twograph()`.\n\nIt looks rather incoherent now; I'd personally prefer to revert to my old `is_regular()`, and keep the current `complement()`.\n\n\n> \n> > well, I don't like inplace things. I don't even have an inplace option for this function.\n> > I hope it's OK.\n\n> \n> It's surprising, at least for me. Would you object if I added a commit that makes it an inplace function, with an optional `inplace=False` to get a copy?\n\n\nno problem, go ahead with this.\n\n> \n> > I'm going to fix the rest and add a construction of two-graphs (more precisely, certain Seidel adj.matrices, from which the two-graph can be constructed, if needed) from doubly-transitive permutation groups, i.e. Taylor two-graphs.\n\n> \n> Nice. Could you please do that in another ticket, please? This one is already dozens of commits long.\n\n\nOK, on another ticket then, no problem.",
    "created_at": "2015-08-20T19:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336524",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:84'></a>
Replying to [ncohen](#comment%3A83):

> > no, for two-graphs it's the way it is. Should I rename this `.complement()` as
> > `twograph_complement()`?

> 
> HMmmmmm `:-/`
> 
> It is true that the "right" notion of "complement" really depends on what you do when it comes to hypergraphs. I made the other one the default because it applies to all hypergraphs, and not only to uniform ones.
> 
> I thought for a while of your proposition to make it a `new method`, but then why don't you just use `.complement(uniform=True)`? If you are ready to leave `.complement` as it is and to create a new function, then do you really need that function?



Well, the rationale behind the current code is that someone who wants to take the complement of a two-graph should just call `.complement()` rather than something more complicated. And indeed, the complement of a two-graph has a well-established meaning. It's more an implementation artefact that the base class already has `complement()` defined, and it's not quite the same. The user should not care about this IMHO.

Same was with `is_regular()`, but you didn't like this as it clashed with the default, and I made it `is_regular_twograph()`.

It looks rather incoherent now; I'd personally prefer to revert to my old `is_regular()`, and keep the current `complement()`.


> 
> > well, I don't like inplace things. I don't even have an inplace option for this function.
> > I hope it's OK.

> 
> It's surprising, at least for me. Would you object if I added a commit that makes it an inplace function, with an optional `inplace=False` to get a copy?


no problem, go ahead with this.

> 
> > I'm going to fix the rest and add a construction of two-graphs (more precisely, certain Seidel adj.matrices, from which the two-graph can be constructed, if needed) from doubly-transitive permutation groups, i.e. Taylor two-graphs.

> 
> Nice. Could you please do that in another ticket, please? This one is already dozens of commits long.


OK, on another ticket then, no problem.



---

archive/issue_comments_336525.json:
```json
{
    "body": "<a id='comment:85'></a>\n> Well, the rationale behind the current code is that someone who wants to take the complement of a two-graph should just call `.complement()` rather than something more complicated. And indeed, the complement of a two-graph has a well-established meaning. It's more an implementation artefact that the base class already has `complement()` defined, and it's not quite the same. The user should not care about this IMHO.\n\n\nI agree with everything you just said, but there is this other definition above that is inherited, and we can't really change that definition either for it would only apply to uniform hypergraphs...\n\nI see only one way out: what would you think of making the *default* of `.complement()` to only work for uniform hypergraphs? If we do that, then the problem is solved in a more elegant way. Though `complement` would not work for all instances but then, perhaps *that* is less surprising. And we can make the exception \"smart\" to indicate that a keyword can change this behaviour.\n\n> Same was with `is_regular()`, but you didn't like this as it clashed with the default, and I made it `is_regular_twograph()`.\n\n\nI take this a bit differently: surely there is such a thing as a \"regular two-graph\", but you can't work on hypergraphs and not know the other definition, i.e. of 'regular hypergraph'. So to me, this is less surprising and indeed something like `is_twograph_regular` can make sense.\n\nA `twograph_complement` looks very odd, as the definition of complement you need has nothing to do with twographs specifically.\n\nNathann",
    "created_at": "2015-08-20T22:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336525",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:85'></a>
> Well, the rationale behind the current code is that someone who wants to take the complement of a two-graph should just call `.complement()` rather than something more complicated. And indeed, the complement of a two-graph has a well-established meaning. It's more an implementation artefact that the base class already has `complement()` defined, and it's not quite the same. The user should not care about this IMHO.


I agree with everything you just said, but there is this other definition above that is inherited, and we can't really change that definition either for it would only apply to uniform hypergraphs...

I see only one way out: what would you think of making the *default* of `.complement()` to only work for uniform hypergraphs? If we do that, then the problem is solved in a more elegant way. Though `complement` would not work for all instances but then, perhaps *that* is less surprising. And we can make the exception "smart" to indicate that a keyword can change this behaviour.

> Same was with `is_regular()`, but you didn't like this as it clashed with the default, and I made it `is_regular_twograph()`.


I take this a bit differently: surely there is such a thing as a "regular two-graph", but you can't work on hypergraphs and not know the other definition, i.e. of 'regular hypergraph'. So to me, this is less surprising and indeed something like `is_twograph_regular` can make sense.

A `twograph_complement` looks very odd, as the definition of complement you need has nothing to do with twographs specifically.

Nathann



---

archive/issue_comments_336526.json:
```json
{
    "body": "<a id='comment:86'></a>\n> > It's surprising, at least for me. Would you object if I added a commit that makes it an inplace function, with an optional `inplace=False` to get a copy?\n\n> \n> no problem, go ahead with this.\n\n\nI added the commit at the same location as previously.\n\nNathann",
    "created_at": "2015-08-20T22:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336526",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:86'></a>
> > It's surprising, at least for me. Would you object if I added a commit that makes it an inplace function, with an optional `inplace=False` to get a copy?

> 
> no problem, go ahead with this.


I added the commit at the same location as previously.

Nathann



---

archive/issue_comments_336527.json:
```json
{
    "body": "<a id='comment:87'></a>\nReplying to [ncohen](#comment%3A85):\n> > Well, the rationale behind the current code is that someone who wants to take the complement of a two-graph should just call `.complement()` rather than something more complicated. And indeed, the complement of a two-graph has a well-established meaning. It's more an implementation artefact that the base class already has `complement()` defined, and it's not quite the same. The user should not care about this IMHO.\n\n> \n> I agree with everything you just said, but there is this other definition above that is inherited, and we can't really change that definition either for it would only apply to uniform hypergraphs...\n> \n\nWhy? I see no harm in this, as this is merely an implementation detail, provided this is documented, and this I can certainly do.\n\n\n> I see only one way out: what would you think of making the *default* of `.complement()` to only work for uniform hypergraphs? If we do that, then the problem is solved in a more elegant way. Though `complement` would not work for all instances but then, perhaps *that* is less surprising. And we can make the exception \"smart\" to indicate that a keyword can change this behaviour.\n> \n> > Same was with `is_regular()`, but you didn't like this as it clashed with the default, and I made it `is_regular_twograph()`.\n\n> \n> I take this a bit differently: surely there is such a thing as a \"regular two-graph\", but you can't work on hypergraphs and not know the other definition, i.e. of 'regular hypergraph'. So to me, this is less surprising and indeed something like `is_twograph_regular` can make sense.\n\n\n\nWell, I don't recall what `regular hypergraph` is. \n(I know where to look it up, but I don't remember its meaning)\n\n> \n> A `twograph_complement` looks very odd, as the definition of complement you need has nothing to do with twographs specifically.\n\n\nAt least this would be unambigous.",
    "created_at": "2015-08-21T23:58:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336527",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:87'></a>
Replying to [ncohen](#comment%3A85):
> > Well, the rationale behind the current code is that someone who wants to take the complement of a two-graph should just call `.complement()` rather than something more complicated. And indeed, the complement of a two-graph has a well-established meaning. It's more an implementation artefact that the base class already has `complement()` defined, and it's not quite the same. The user should not care about this IMHO.

> 
> I agree with everything you just said, but there is this other definition above that is inherited, and we can't really change that definition either for it would only apply to uniform hypergraphs...
> 

Why? I see no harm in this, as this is merely an implementation detail, provided this is documented, and this I can certainly do.


> I see only one way out: what would you think of making the *default* of `.complement()` to only work for uniform hypergraphs? If we do that, then the problem is solved in a more elegant way. Though `complement` would not work for all instances but then, perhaps *that* is less surprising. And we can make the exception "smart" to indicate that a keyword can change this behaviour.
> 
> > Same was with `is_regular()`, but you didn't like this as it clashed with the default, and I made it `is_regular_twograph()`.

> 
> I take this a bit differently: surely there is such a thing as a "regular two-graph", but you can't work on hypergraphs and not know the other definition, i.e. of 'regular hypergraph'. So to me, this is less surprising and indeed something like `is_twograph_regular` can make sense.



Well, I don't recall what `regular hypergraph` is. 
(I know where to look it up, but I don't remember its meaning)

> 
> A `twograph_complement` looks very odd, as the definition of complement you need has nothing to do with twographs specifically.


At least this would be unambigous.



---

archive/issue_comments_336528.json:
```json
{
    "body": "<a id='comment:88'></a>\nReplying to [ncohen](#comment%3A81):\n> - `T.is_t_design(k=3)` -- use `is_uniform`.\n\n\nI cannot, I need to test that it is a 2-design with blocks of size 3.",
    "created_at": "2015-08-22T03:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336528",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:88'></a>
Replying to [ncohen](#comment%3A81):
> - `T.is_t_design(k=3)` -- use `is_uniform`.


I cannot, I need to test that it is a 2-design with blocks of size 3.



---

archive/issue_comments_336529.json:
```json
{
    "body": "<a id='comment:89'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[d9b098a](http://git.sagemath.org/sage.git/commit/?id=d9b098aaacea58131ce07df9b93de2c1fe239c00)|`trac #18972: Reviewer's commit`|\n|[e7022f3](http://git.sagemath.org/sage.git/commit/?id=e7022f39cbe3c28a4df32c930bd3e6c343ab908f)|`trac #18972: inplace seidel_switching`|\n|[f4add31](http://git.sagemath.org/sage.git/commit/?id=f4add312ebf3b3ccc6cbc92a66de7b152208c4ba)|`Merge branch 'develop' into seidelsw`|\n|[4f7e3c9](http://git.sagemath.org/sage.git/commit/?id=4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc)|`1st portion of fixes for #18972:81`|",
    "created_at": "2015-08-22T05:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:89'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[d9b098a](http://git.sagemath.org/sage.git/commit/?id=d9b098aaacea58131ce07df9b93de2c1fe239c00)|`trac #18972: Reviewer's commit`|
|[e7022f3](http://git.sagemath.org/sage.git/commit/?id=e7022f39cbe3c28a4df32c930bd3e6c343ab908f)|`trac #18972: inplace seidel_switching`|
|[f4add31](http://git.sagemath.org/sage.git/commit/?id=f4add312ebf3b3ccc6cbc92a66de7b152208c4ba)|`Merge branch 'develop' into seidelsw`|
|[4f7e3c9](http://git.sagemath.org/sage.git/commit/?id=4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc)|`1st portion of fixes for #18972:81`|



---

archive/issue_comments_336530.json:
```json
{
    "body": "Changing commit from \"6bc5cbd678d6d9db6e99ff23489e0e1a720e8569\" to \"4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc\"",
    "created_at": "2015-08-22T05:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6bc5cbd678d6d9db6e99ff23489e0e1a720e8569" to "4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc"



---

archive/issue_comments_336531.json:
```json
{
    "body": "<a id='comment:90'></a>\nReplying to [git](#comment%3A89):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                          |                                |\n> |------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n> |[d9b098a](http://git.sagemath.org/sage.git/commit/?id=d9b098aaacea58131ce07df9b93de2c1fe239c00)|`trac #18972: Reviewer's commit`|\n> |[e7022f3](http://git.sagemath.org/sage.git/commit/?id=e7022f39cbe3c28a4df32c930bd3e6c343ab908f)|`trac #18972: inplace seidel_switching`|\n> |[f4add31](http://git.sagemath.org/sage.git/commit/?id=f4add312ebf3b3ccc6cbc92a66de7b152208c4ba)|`Merge branch 'develop' into seidelsw`|\n> |[4f7e3c9](http://git.sagemath.org/sage.git/commit/?id=4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc)|`1st portion of fixes for #18972:81`|\n\n\nmerged `6.9.beta3` and `public/18972` in. More change described in the commit message of the the last commit.",
    "created_at": "2015-08-22T05:12:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336531",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:90'></a>
Replying to [git](#comment%3A89):
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                          |                                |
> |------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
> |[d9b098a](http://git.sagemath.org/sage.git/commit/?id=d9b098aaacea58131ce07df9b93de2c1fe239c00)|`trac #18972: Reviewer's commit`|
> |[e7022f3](http://git.sagemath.org/sage.git/commit/?id=e7022f39cbe3c28a4df32c930bd3e6c343ab908f)|`trac #18972: inplace seidel_switching`|
> |[f4add31](http://git.sagemath.org/sage.git/commit/?id=f4add312ebf3b3ccc6cbc92a66de7b152208c4ba)|`Merge branch 'develop' into seidelsw`|
> |[4f7e3c9](http://git.sagemath.org/sage.git/commit/?id=4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc)|`1st portion of fixes for #18972:81`|


merged `6.9.beta3` and `public/18972` in. More change described in the commit message of the the last commit.



---

archive/issue_comments_336532.json:
```json
{
    "body": "<a id='comment:91'></a>\nSet it to `needs_review` when it will be ready.",
    "created_at": "2015-08-22T09:21:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336532",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:91'></a>
Set it to `needs_review` when it will be ready.



---

archive/issue_comments_336533.json:
```json
{
    "body": "<a id='comment:92'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[a336241](http://git.sagemath.org/sage.git/commit/?id=a3362414d8710523b1a7f118a96fb4617be36637)|`The rest of fixes for #18972:81:`|",
    "created_at": "2015-08-24T03:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:92'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[a336241](http://git.sagemath.org/sage.git/commit/?id=a3362414d8710523b1a7f118a96fb4617be36637)|`The rest of fixes for #18972:81:`|



---

archive/issue_comments_336534.json:
```json
{
    "body": "Changing commit from \"4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc\" to \"a3362414d8710523b1a7f118a96fb4617be36637\"",
    "created_at": "2015-08-24T03:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4f7e3c9f19fc3ccfc143beade9bb82c5f742a2cc" to "a3362414d8710523b1a7f118a96fb4617be36637"



---

archive/issue_comments_336535.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-24T03:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336535",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_336536.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-24T08:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336536",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_336537.json:
```json
{
    "body": "<a id='comment:94'></a>\nPlease address all the comments or tell my why you chose not to. I can still see `designs.TwoGraph`.\n\nDima, you are no children: you can't just address some of the comments without saying anything and let me figure out what exactly you did, and what you left out.\n\nNathann",
    "created_at": "2015-08-24T08:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336537",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:94'></a>
Please address all the comments or tell my why you chose not to. I can still see `designs.TwoGraph`.

Dima, you are no children: you can't just address some of the comments without saying anything and let me figure out what exactly you did, and what you left out.

Nathann



---

archive/issue_comments_336538.json:
```json
{
    "body": "<a id='comment:95'></a>\n> > - `T.is_t_design(k=3)` -- use `is_uniform`.\n \n> \n> I cannot, I need to test that it is a 2-design with blocks of size 3.\n\n\n`T.is_t_design(k=3)` is *equivalent* to `is_regular+is_uniform(k=3)`.\n\n```\nsage: T = IncidenceStructure([[0,1,2],[3,4,5]])\nsage: T.is_t_design(k=3)\nTrue\nsage: T.is_t_design(k=3,return_parameters=True)\n(True, (1, 6, 3, 1))\n```\n\nNathann",
    "created_at": "2015-08-24T09:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336538",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:95'></a>
> > - `T.is_t_design(k=3)` -- use `is_uniform`.
 
> 
> I cannot, I need to test that it is a 2-design with blocks of size 3.


`T.is_t_design(k=3)` is *equivalent* to `is_regular+is_uniform(k=3)`.

```
sage: T = IncidenceStructure([[0,1,2],[3,4,5]])
sage: T.is_t_design(k=3)
True
sage: T.is_t_design(k=3,return_parameters=True)
(True, (1, 6, 3, 1))
```

Nathann



---

archive/issue_comments_336539.json:
```json
{
    "body": "<a id='comment:96'></a>\nI added a commit at `public/18972`. It speeds `is_twograph` up. Before (with the added 't=2'):\n\n```\nsage: from sage.combinat.designs.twographs import is_twograph\nsage: T = graphs.OrthogonalArrayBlockGraph(3,6).twograph()\nsage: %timeit is_twograph(T)\n1 loops, best of 3: 18.4 s per loop\n```\n\nAfter\n\n```\nsage: %timeit is_twograph(T)\n1 loops, best of 3: 1.62 s per loop\n```\n\nNathann",
    "created_at": "2015-08-24T09:38:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336539",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:96'></a>
I added a commit at `public/18972`. It speeds `is_twograph` up. Before (with the added 't=2'):

```
sage: from sage.combinat.designs.twographs import is_twograph
sage: T = graphs.OrthogonalArrayBlockGraph(3,6).twograph()
sage: %timeit is_twograph(T)
1 loops, best of 3: 18.4 s per loop
```

After

```
sage: %timeit is_twograph(T)
1 loops, best of 3: 1.62 s per loop
```

Nathann



---

archive/issue_comments_336540.json:
```json
{
    "body": "<a id='comment:97'></a>\nAdded another commit at `public/18972` to speedup `.twograph()`. Before:\n\n```\nsage: g = graphs.CameronGraph()\nsage: %timeit g.twograph()\n1 loops, best of 3: 1.9 s per loop\n```\n\nAfter\n\n```\nsage: g = graphs.CameronGraph()\nsage: %timeit g.twograph()\n1 loops, best of 3: 1 s per loop\n```\n\nNathann",
    "created_at": "2015-08-24T09:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336540",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:97'></a>
Added another commit at `public/18972` to speedup `.twograph()`. Before:

```
sage: g = graphs.CameronGraph()
sage: %timeit g.twograph()
1 loops, best of 3: 1.9 s per loop
```

After

```
sage: g = graphs.CameronGraph()
sage: %timeit g.twograph()
1 loops, best of 3: 1 s per loop
```

Nathann



---

archive/issue_comments_336541.json:
```json
{
    "body": "<a id='comment:98'></a>\nNote that the tests do not pass on the patchbot",
    "created_at": "2015-08-24T13:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336541",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:98'></a>
Note that the tests do not pass on the patchbot



---

archive/issue_comments_336542.json:
```json
{
    "body": "<a id='comment:99'></a>\nReplying to [ncohen](#comment%3A95):\n> > > - `T.is_t_design(k=3)` -- use `is_uniform`.\n \n> > \n> > I cannot, I need to test that it is a 2-design with blocks of size 3.\n\n> \n> `T.is_t_design(k=3)` is *equivalent* to `is_regular+is_uniform(k=3)`.\n\n\nI don't call `is_t_design()` this way! I also set `t=2`. And surely enough, it's a different story:\n\n```\nsage: T = IncidenceStructure([[0,1,2],[3,4,5]])\nsage: T.is_t_design(t=2,k=3)\nFalse\n```\n\nYou might be confused by the terminology difference that I already explained, that regularity of two-graphs and of hypergraphs are different notions. \n\nIn fact, this term is hugely overused in maths in general; there are regular maps, regular rings, regular sequences, regular graphs  (which in algebraic are totally different animals from regular (hyper)graphs), regular points, etc etc etc...\n\n\n> \n> \n> ```\n> sage: T = IncidenceStructure([[0,1,2],[3,4,5]])\n> sage: T.is_t_design(k=3)\n> True\n> sage: T.is_t_design(k=3,return_parameters=True)\n> (True, (1, 6, 3, 1))\n> ```\n> \n> Nathann",
    "created_at": "2015-08-24T17:18:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336542",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:99'></a>
Replying to [ncohen](#comment%3A95):
> > > - `T.is_t_design(k=3)` -- use `is_uniform`.
 
> > 
> > I cannot, I need to test that it is a 2-design with blocks of size 3.

> 
> `T.is_t_design(k=3)` is *equivalent* to `is_regular+is_uniform(k=3)`.


I don't call `is_t_design()` this way! I also set `t=2`. And surely enough, it's a different story:

```
sage: T = IncidenceStructure([[0,1,2],[3,4,5]])
sage: T.is_t_design(t=2,k=3)
False
```

You might be confused by the terminology difference that I already explained, that regularity of two-graphs and of hypergraphs are different notions. 

In fact, this term is hugely overused in maths in general; there are regular maps, regular rings, regular sequences, regular graphs  (which in algebraic are totally different animals from regular (hyper)graphs), regular points, etc etc etc...


> 
> 
> ```
> sage: T = IncidenceStructure([[0,1,2],[3,4,5]])
> sage: T.is_t_design(k=3)
> True
> sage: T.is_t_design(k=3,return_parameters=True)
> (True, (1, 6, 3, 1))
> ```
> 
> Nathann



---

archive/issue_comments_336543.json:
```json
{
    "body": "<a id='comment:100'></a>\n> I don't call `is_t_design()` this way!\n\n\nLine 2 of `is_twograph`.\n\nNathann",
    "created_at": "2015-08-24T18:33:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336543",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:100'></a>
> I don't call `is_t_design()` this way!


Line 2 of `is_twograph`.

Nathann



---

archive/issue_comments_336544.json:
```json
{
    "body": "<a id='comment:101'></a>\nReplying to [ncohen](#comment%3A100):\n> > I don't call `is_t_design()` this way!\n\n> \n> Line 2 of `is_twograph`.\n> \n\nI am talking about line 1 of `is_regular_twograph()`...\n\nBesides, what's wrong about the line 2 of is_twograph`?\nIt's certainly not where the bottleneck is (the latter is in lines 3-4).",
    "created_at": "2015-08-24T18:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336544",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:101'></a>
Replying to [ncohen](#comment%3A100):
> > I don't call `is_t_design()` this way!

> 
> Line 2 of `is_twograph`.
> 

I am talking about line 1 of `is_regular_twograph()`...

Besides, what's wrong about the line 2 of is_twograph`?
It's certainly not where the bottleneck is (the latter is in lines 3-4).



---

archive/issue_comments_336545.json:
```json
{
    "body": "<a id='comment:102'></a>\n> Besides, what's wrong about the line 2 of is_twograph`?\n\n\nWell, it calls `T.is_t_design(k=3)`. If you want to do that you should call `is_uniform` and `is_regular` instead, and if you don't then `t=2` should be added.\n\n> It's certainly not where the bottleneck is (the latter is in lines 3-4).\n\n\nTrue. My commit improves it a bit.\n\nNathann",
    "created_at": "2015-08-24T18:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336545",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:102'></a>
> Besides, what's wrong about the line 2 of is_twograph`?


Well, it calls `T.is_t_design(k=3)`. If you want to do that you should call `is_uniform` and `is_regular` instead, and if you don't then `t=2` should be added.

> It's certainly not where the bottleneck is (the latter is in lines 3-4).


True. My commit improves it a bit.

Nathann



---

archive/issue_comments_336546.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[3350efc](http://git.sagemath.org/sage.git/commit/?id=3350efc6229a8a584774cd452d3d33ee4f5f26bc)|`inplace has arrived here too`|",
    "created_at": "2015-08-24T18:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336546",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[3350efc](http://git.sagemath.org/sage.git/commit/?id=3350efc6229a8a584774cd452d3d33ee4f5f26bc)|`inplace has arrived here too`|



---

archive/issue_comments_336547.json:
```json
{
    "body": "Changing commit from \"a3362414d8710523b1a7f118a96fb4617be36637\" to \"3350efc6229a8a584774cd452d3d33ee4f5f26bc\"",
    "created_at": "2015-08-24T18:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336547",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a3362414d8710523b1a7f118a96fb4617be36637" to "3350efc6229a8a584774cd452d3d33ee4f5f26bc"



---

archive/issue_comments_336548.json:
```json
{
    "body": "<a id='comment:104'></a>\nReplying to [ncohen](#comment%3A98):\n> Note that the tests do not pass on the patchbot\n\none of these is fixed by \u200bjust pushed 3350efc, also pushed to public/18972.\n\nThe other is tricky: the problem is that `SRG_280_135_70_60()` needs an optional GAP package, as is clear from `gap.load_package(\"AtlasRep\")` there.\nHow do you like this fixed?",
    "created_at": "2015-08-24T19:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336548",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:104'></a>
Replying to [ncohen](#comment%3A98):
> Note that the tests do not pass on the patchbot

one of these is fixed by ​just pushed 3350efc, also pushed to public/18972.

The other is tricky: the problem is that `SRG_280_135_70_60()` needs an optional GAP package, as is clear from `gap.load_package("AtlasRep")` there.
How do you like this fixed?



---

archive/issue_comments_336549.json:
```json
{
    "body": "<a id='comment:105'></a>\n> The other is tricky: the problem is that `SRG_280_135_70_60()` needs an optional GAP package, as is clear from `gap.load_package(\"AtlasRep\")` there.\n> How do you like this fixed?\n\n\n`-_-`\n\nWell, ideally it would be really cool if we could build it from Sage only. Couldn't we take Gap's generators and have them in the `JankoGroup` class?\n\nNathann",
    "created_at": "2015-08-24T19:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336549",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:105'></a>
> The other is tricky: the problem is that `SRG_280_135_70_60()` needs an optional GAP package, as is clear from `gap.load_package("AtlasRep")` there.
> How do you like this fixed?


`-_-`

Well, ideally it would be really cool if we could build it from Sage only. Couldn't we take Gap's generators and have them in the `JankoGroup` class?

Nathann



---

archive/issue_comments_336550.json:
```json
{
    "body": "<a id='comment:106'></a>\nReplying to [ncohen](#comment%3A105):\n> > The other is tricky: the problem is that `SRG_280_135_70_60()` needs an optional GAP package, as is clear from `gap.load_package(\"AtlasRep\")` there.\n> > How do you like this fixed?\n\n> \n> `-_-`\n> \n> Well, ideally it would be really cool if we could build it from Sage only. Couldn't we take Gap's generators and have them in the `JankoGroup` class?\n\n\nYes we can (for Janko 1, 2, 3 then, not only 2). How about\n`groups.permutation.Janko(k)` getting an extra parameter, `degree`?\nThen `groups.permutation.Janko(k)` will give what the do now, and\n`groups.permutation.Janko(k,degree=blah)` will give a permutation representation of Janko(k)\nof degree blah (if one is known to Sage). \nActually, there is no need to store permutations on 280 points, we can get by with ones on 100 points, and generate the former on the fly, as an action on sets.\n\nBut this begs for another ticket.\nShould I open one?",
    "created_at": "2015-08-24T19:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336550",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:106'></a>
Replying to [ncohen](#comment%3A105):
> > The other is tricky: the problem is that `SRG_280_135_70_60()` needs an optional GAP package, as is clear from `gap.load_package("AtlasRep")` there.
> > How do you like this fixed?

> 
> `-_-`
> 
> Well, ideally it would be really cool if we could build it from Sage only. Couldn't we take Gap's generators and have them in the `JankoGroup` class?


Yes we can (for Janko 1, 2, 3 then, not only 2). How about
`groups.permutation.Janko(k)` getting an extra parameter, `degree`?
Then `groups.permutation.Janko(k)` will give what the do now, and
`groups.permutation.Janko(k,degree=blah)` will give a permutation representation of Janko(k)
of degree blah (if one is known to Sage). 
Actually, there is no need to store permutations on 280 points, we can get by with ones on 100 points, and generate the former on the fly, as an action on sets.

But this begs for another ticket.
Should I open one?



---

archive/issue_comments_336551.json:
```json
{
    "body": "<a id='comment:107'></a>\n> Yes we can (for Janko 1, 2, 3 then, not only 2).\n\n\nCool !\n\n> How about\n> `groups.permutation.Janko(k)` getting an extra parameter, `degree`?\n> Then `groups.permutation.Janko(k)` will give what the do now, and\n> `groups.permutation.Janko(k,degree=blah)` will give a permutation representation of Janko(k)\n> of degree blah (if one is known to Sage). \n\n\nHmmmm... I am afraid that I don't even know what that notion of degree is `O_o`\n\n> But this begs for another ticket.\n\n\nOf course.\n\n> Should I open one?\n\n\nYesyes please. And you can add an `#optional` flag if it is a problem in this ticket.\n\nNathann",
    "created_at": "2015-08-24T20:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336551",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:107'></a>
> Yes we can (for Janko 1, 2, 3 then, not only 2).


Cool !

> How about
> `groups.permutation.Janko(k)` getting an extra parameter, `degree`?
> Then `groups.permutation.Janko(k)` will give what the do now, and
> `groups.permutation.Janko(k,degree=blah)` will give a permutation representation of Janko(k)
> of degree blah (if one is known to Sage). 


Hmmmm... I am afraid that I don't even know what that notion of degree is `O_o`

> But this begs for another ticket.


Of course.

> Should I open one?


Yesyes please. And you can add an `#optional` flag if it is a problem in this ticket.

Nathann



---

archive/issue_comments_336552.json:
```json
{
    "body": "<a id='comment:108'></a>\nReplying to [ncohen](#comment%3A107):\n> Hmmmm... I am afraid that I don't even know what that notion of degree is `O_o`\n> \n  \ndegree of a transitive permutation group is the size of its natural domain. E.g. the symmetric group S_n has degree n... And of course degree is a greatly overused word in maths...\n\n> > But this begs for another ticket.\n\n> \n> Of course.\n> \n> > Should I open one?\n\n> \n> Yesyes please. And you can add an `#optional` flag if it is a problem in this ticket.\n\n\nsee #19080.",
    "created_at": "2015-08-24T20:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336552",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:108'></a>
Replying to [ncohen](#comment%3A107):
> Hmmmm... I am afraid that I don't even know what that notion of degree is `O_o`
> 
  
degree of a transitive permutation group is the size of its natural domain. E.g. the symmetric group S_n has degree n... And of course degree is a greatly overused word in maths...

> > But this begs for another ticket.

> 
> Of course.
> 
> > Should I open one?

> 
> Yesyes please. And you can add an `#optional` flag if it is a problem in this ticket.


see #19080.



---

archive/issue_comments_336553.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[4e077db](http://git.sagemath.org/sage.git/commit/?id=4e077dbd9d039c9c375227269cda8a0ce4c0d326)|`making internet and gap_packages tests optional`|",
    "created_at": "2015-08-24T20:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336553",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[4e077db](http://git.sagemath.org/sage.git/commit/?id=4e077dbd9d039c9c375227269cda8a0ce4c0d326)|`making internet and gap_packages tests optional`|



---

archive/issue_comments_336554.json:
```json
{
    "body": "Changing commit from \"3350efc6229a8a584774cd452d3d33ee4f5f26bc\" to \"4e077dbd9d039c9c375227269cda8a0ce4c0d326\"",
    "created_at": "2015-08-24T20:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3350efc6229a8a584774cd452d3d33ee4f5f26bc" to "4e077dbd9d039c9c375227269cda8a0ce4c0d326"



---

archive/issue_comments_336555.json:
```json
{
    "body": "<a id='comment:0'></a>\nCan you add my two speedup commits to your branch, or do you have something against them?\n\nCould you also answer my question about `designs.TwoGraph`?\n\nNathann",
    "created_at": "2015-08-24T21:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336555",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:0'></a>
Can you add my two speedup commits to your branch, or do you have something against them?

Could you also answer my question about `designs.TwoGraph`?

Nathann



---

archive/issue_comments_336556.json:
```json
{
    "body": "<a id='comment:111'></a>\n> degree of a transitive permutation group is the size of its natural domain.\n\n\nOh. Okay `:-P`\n\n> see #19080.\n\n\nThanks !\n\nNathann",
    "created_at": "2015-08-24T21:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336556",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:111'></a>
> degree of a transitive permutation group is the size of its natural domain.


Oh. Okay `:-P`

> see #19080.


Thanks !

Nathann



---

archive/issue_comments_336557.json:
```json
{
    "body": "<a id='comment:112'></a>\nReplying to [ncohen](#comment%3A95):\n> > > - `T.is_t_design(k=3)` -- use `is_uniform`.\n \n> > \n> > I cannot, I need to test that it is a 2-design with blocks of size 3.\n\n> \n> `T.is_t_design(k=3)` is *equivalent* to `is_regular+is_uniform(k=3)`.\n\n\nThis is actually just not true. `is_regular+is_uniform(k=3)` is equivalent\nto `is_t_design(t=1, k=3)`.\nIn fact, all I need `is_uniform(k=3)`, which is equivalent to to  `is_t_design(k=3)`.",
    "created_at": "2015-08-24T21:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336557",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:112'></a>
Replying to [ncohen](#comment%3A95):
> > > - `T.is_t_design(k=3)` -- use `is_uniform`.
 
> > 
> > I cannot, I need to test that it is a 2-design with blocks of size 3.

> 
> `T.is_t_design(k=3)` is *equivalent* to `is_regular+is_uniform(k=3)`.


This is actually just not true. `is_regular+is_uniform(k=3)` is equivalent
to `is_t_design(t=1, k=3)`.
In fact, all I need `is_uniform(k=3)`, which is equivalent to to  `is_t_design(k=3)`.



---

archive/issue_comments_336558.json:
```json
{
    "body": "<a id='comment:113'></a>\nReplying to [ncohen](#comment%3A94):\n> Please address all the comments or tell my why you chose not to. I can still see `designs.TwoGraph`.\n\n\nwell, `designs.TAB` gives\n\n```\ndesigns.AffineGeometryDesign\ndesigns.BalancedIncompleteBlockDesign\ndesigns.BlockDesign\ndesigns.DesarguesianProjectivePlaneDesign\ndesigns.Hadamard3Design\ndesigns.HadamardDesign\ndesigns.HughesPlane\ndesigns.Hypergraph\ndesigns.IncidenceStructure\ndesigns.ProjectiveGeometryDesign\ndesigns.TwoGraph\ndesigns.WittDesign\ndesigns.balanced_incomplete_block_design\ndesigns.best_known_covering_design_from_LJCR\ndesigns.difference_family\ndesigns.difference_matrix\ndesigns.group_divisible_design\ndesigns.incomplete_orthogonal_array\ndesigns.kirkman_triple_system\ndesigns.mutually_orthogonal_latin_squares\ndesigns.orthogonal_array\ndesigns.orthogonal_arrays\ndesigns.projective_plane\ndesigns.resolvable_balanced_incomplete_block_design\ndesigns.steiner_quadruple_system\ndesigns.steiner_triple_system\ndesigns.transversal_design\n```\n\nQuite a few of them added by you, right? Why do you ask me to make `TwoGraph` a second-class citizen then? I don't mind it removed, but then in the same sweep as the rest. So this is not for this ticket...",
    "created_at": "2015-08-24T22:09:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336558",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:113'></a>
Replying to [ncohen](#comment%3A94):
> Please address all the comments or tell my why you chose not to. I can still see `designs.TwoGraph`.


well, `designs.TAB` gives

```
designs.AffineGeometryDesign
designs.BalancedIncompleteBlockDesign
designs.BlockDesign
designs.DesarguesianProjectivePlaneDesign
designs.Hadamard3Design
designs.HadamardDesign
designs.HughesPlane
designs.Hypergraph
designs.IncidenceStructure
designs.ProjectiveGeometryDesign
designs.TwoGraph
designs.WittDesign
designs.balanced_incomplete_block_design
designs.best_known_covering_design_from_LJCR
designs.difference_family
designs.difference_matrix
designs.group_divisible_design
designs.incomplete_orthogonal_array
designs.kirkman_triple_system
designs.mutually_orthogonal_latin_squares
designs.orthogonal_array
designs.orthogonal_arrays
designs.projective_plane
designs.resolvable_balanced_incomplete_block_design
designs.steiner_quadruple_system
designs.steiner_triple_system
designs.transversal_design
```

Quite a few of them added by you, right? Why do you ask me to make `TwoGraph` a second-class citizen then? I don't mind it removed, but then in the same sweep as the rest. So this is not for this ticket...



---

archive/issue_comments_336559.json:
```json
{
    "body": "Changing commit from \"4e077dbd9d039c9c375227269cda8a0ce4c0d326\" to \"25eec1b6d18bb021eccd4b04774111097ff8f3b5\"",
    "created_at": "2015-08-24T22:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4e077dbd9d039c9c375227269cda8a0ce4c0d326" to "25eec1b6d18bb021eccd4b04774111097ff8f3b5"



---

archive/issue_comments_336560.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[0d20a94](http://git.sagemath.org/sage.git/commit/?id=0d20a94eacad1e6f42620c2fa165e664034efd9e)|`inplace has arrived here too`|\n|[7d15add](http://git.sagemath.org/sage.git/commit/?id=7d15adda0e0bd6027c059b7e07463f6bbea9bbf5)|`trac #18972: Speedup is_twograph`|\n|[7a690de](http://git.sagemath.org/sage.git/commit/?id=7a690dec40f8eaa0c8a1248332b9931c954b78d8)|`trac #18972: speedup Graph.twograph`|\n|[4e3a0ea](http://git.sagemath.org/sage.git/commit/?id=4e3a0eaf792eb3b2faa9d360d3da48fb70f09be7)|`Merge branch 'public/18972' of git://trac.sagemath.org/sage into HEAD`|\n|[95fe0f2](http://git.sagemath.org/sage.git/commit/?id=95fe0f2838117aab4bd2e61b4ec2c912a91fba11)|`Merge remote-tracking branch 'trac/public/18972' into seidelsw`|\n|[25eec1b](http://git.sagemath.org/sage.git/commit/?id=25eec1b6d18bb021eccd4b04774111097ff8f3b5)|`uniformity, but no regularity`|",
    "created_at": "2015-08-24T22:12:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[0d20a94](http://git.sagemath.org/sage.git/commit/?id=0d20a94eacad1e6f42620c2fa165e664034efd9e)|`inplace has arrived here too`|
|[7d15add](http://git.sagemath.org/sage.git/commit/?id=7d15adda0e0bd6027c059b7e07463f6bbea9bbf5)|`trac #18972: Speedup is_twograph`|
|[7a690de](http://git.sagemath.org/sage.git/commit/?id=7a690dec40f8eaa0c8a1248332b9931c954b78d8)|`trac #18972: speedup Graph.twograph`|
|[4e3a0ea](http://git.sagemath.org/sage.git/commit/?id=4e3a0eaf792eb3b2faa9d360d3da48fb70f09be7)|`Merge branch 'public/18972' of git://trac.sagemath.org/sage into HEAD`|
|[95fe0f2](http://git.sagemath.org/sage.git/commit/?id=95fe0f2838117aab4bd2e61b4ec2c912a91fba11)|`Merge remote-tracking branch 'trac/public/18972' into seidelsw`|
|[25eec1b](http://git.sagemath.org/sage.git/commit/?id=25eec1b6d18bb021eccd4b04774111097ff8f3b5)|`uniformity, but no regularity`|



---

archive/issue_comments_336561.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-24T22:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336561",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_336562.json:
```json
{
    "body": "<a id='comment:116'></a>\n> This is actually just not true. `is_regular+is_uniform(k=3)` is equivalent\n> to `is_t_design(t=1, k=3)`.\n\n\nTrue.\n\n> In fact, all I need `is_uniform(k=3)`, which is equivalent to to  `is_t_design(k=3)`.\n\n\nIt is equivalent in term of answers but not in terms of running time, though. So please use `T.is_uniform`, whose intent is also much clearer.\n\nNathann",
    "created_at": "2015-08-25T05:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336562",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:116'></a>
> This is actually just not true. `is_regular+is_uniform(k=3)` is equivalent
> to `is_t_design(t=1, k=3)`.


True.

> In fact, all I need `is_uniform(k=3)`, which is equivalent to to  `is_t_design(k=3)`.


It is equivalent in term of answers but not in terms of running time, though. So please use `T.is_uniform`, whose intent is also much clearer.

Nathann



---

archive/issue_comments_336563.json:
```json
{
    "body": "<a id='comment:7'></a>\nArg. You already did. I thought that you were justifying why you wanted to keep it.",
    "created_at": "2015-08-25T05:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336563",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Arg. You already did. I thought that you were justifying why you wanted to keep it.



---

archive/issue_comments_336564.json:
```json
{
    "body": "<a id='comment:118'></a>\n> well, `designs.TAB` gives\n> \n> ```\n> <lots of things>\n> ```\n> \n> Quite a few of them added by you, right? \n\n\nYes. I am quite proud of that.\n\n> Why do you ask me to make `TwoGraph` a second-class citizen then?\n\n\nNo. I asked you to *not make it appear in the catalog* (which is different). In the same way that you do not see the following classes (that I also created): `BalancedIncompleteBlockDesign`, `GroupDivisibleDesign`, `PairwiseBalancedDesign`.\n\nCatalogs are not meant to hold generic class constructors (you don't see Graph in 'graphs.' or `PermutationGroup` in `group.`), but only functions meant to return a \"famous object\". That's what catalogs are for. And 'TwoGraph', like 'BalancedIncompleteBlockDesign', is to be instanciated with a list of blocks (like `IncidenceStructure` or `BalancedIncompleteBlockDesign`) while orthogonal arrays (which appear in `designs.<tab>`) are created from a pair of integers only.\n\nI mean. That's what catalogs are supposed to hold. You have `matrix.ones` but not `matrix.Matrix`.\n\nNathann",
    "created_at": "2015-08-25T05:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336564",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:118'></a>
> well, `designs.TAB` gives
> 
> ```
> <lots of things>
> ```
> 
> Quite a few of them added by you, right? 


Yes. I am quite proud of that.

> Why do you ask me to make `TwoGraph` a second-class citizen then?


No. I asked you to *not make it appear in the catalog* (which is different). In the same way that you do not see the following classes (that I also created): `BalancedIncompleteBlockDesign`, `GroupDivisibleDesign`, `PairwiseBalancedDesign`.

Catalogs are not meant to hold generic class constructors (you don't see Graph in 'graphs.' or `PermutationGroup` in `group.`), but only functions meant to return a "famous object". That's what catalogs are for. And 'TwoGraph', like 'BalancedIncompleteBlockDesign', is to be instanciated with a list of blocks (like `IncidenceStructure` or `BalancedIncompleteBlockDesign`) while orthogonal arrays (which appear in `designs.<tab>`) are created from a pair of integers only.

I mean. That's what catalogs are supposed to hold. You have `matrix.ones` but not `matrix.Matrix`.

Nathann



---

archive/issue_comments_336565.json:
```json
{
    "body": "<a id='comment:119'></a>\nReplying to [ncohen](#comment%3A118):\n> > well, `designs.TAB` gives\n> > \n> > ```\n> > <lots of things>\n> > ```\n> > \n> > Quite a few of them added by you, right? \n\n> \n> Yes. I am quite proud of that.\n> \n> > Why do you ask me to make `TwoGraph` a second-class citizen then?\n\n> \n> No. I asked you to *not make it appear in the catalog* (which is different). In the same way that you do not see the following classes (that I also created): `BalancedIncompleteBlockDesign`, `GroupDivisibleDesign`, `PairwiseBalancedDesign`.\n\n\non the other hand there are classes such as\n\n```\ndesigns.AffineGeometryDesign\ndesigns.BalancedIncompleteBlockDesign\ndesigns.BlockDesign\ndesigns.DesarguesianProjectivePlaneDesign\ndesigns.Hadamard3Design\ndesigns.HadamardDesign\ndesigns.HughesPlane\ndesigns.Hypergraph\ndesigns.IncidenceStructure\ndesigns.ProjectiveGeometryDesign\ndesigns.WittDesign\n```\n\nPerhaps some of them are (misnamed?) functions, I didn't check.\n\n\n> \n> Catalogs are not meant to hold generic class constructors (you don't see Graph in 'graphs.' or `PermutationGroup` in `group.`), \n\n\nthis is an unfair comparison, for `Graph` and `PermutationGroup` are in global space! \nAnd you told me to remove `TwoGraph` from it, which I duly did.\n\n> but only functions meant to return a \"famous object\". That's what catalogs are for. And 'TwoGraph', like 'BalancedIncompleteBlockDesign', is to be instanciated with a list of blocks (like `IncidenceStructure` or `BalancedIncompleteBlockDesign`) while orthogonal arrays (which appear in `designs.<tab>`) are created from a pair of integers only.\n\n\nSo what? There isn't much difference between a pair of integers, and a list of lists, from user's point of view in particular. It's quite an artificial distinction here, invisible at user level, be it function, or class, or shmass, whatever. It returns an object, to which one can apply methods, this is what counts. A user does not care whether he calls a function, or a class constructor directly.\n\nCatalog are there for users, and it's just an extra needless hoop for a user to jump through, having to import stuff explicitly, if she wants to call a constructor directly.",
    "created_at": "2015-08-25T18:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336565",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:119'></a>
Replying to [ncohen](#comment%3A118):
> > well, `designs.TAB` gives
> > 
> > ```
> > <lots of things>
> > ```
> > 
> > Quite a few of them added by you, right? 

> 
> Yes. I am quite proud of that.
> 
> > Why do you ask me to make `TwoGraph` a second-class citizen then?

> 
> No. I asked you to *not make it appear in the catalog* (which is different). In the same way that you do not see the following classes (that I also created): `BalancedIncompleteBlockDesign`, `GroupDivisibleDesign`, `PairwiseBalancedDesign`.


on the other hand there are classes such as

```
designs.AffineGeometryDesign
designs.BalancedIncompleteBlockDesign
designs.BlockDesign
designs.DesarguesianProjectivePlaneDesign
designs.Hadamard3Design
designs.HadamardDesign
designs.HughesPlane
designs.Hypergraph
designs.IncidenceStructure
designs.ProjectiveGeometryDesign
designs.WittDesign
```

Perhaps some of them are (misnamed?) functions, I didn't check.


> 
> Catalogs are not meant to hold generic class constructors (you don't see Graph in 'graphs.' or `PermutationGroup` in `group.`), 


this is an unfair comparison, for `Graph` and `PermutationGroup` are in global space! 
And you told me to remove `TwoGraph` from it, which I duly did.

> but only functions meant to return a "famous object". That's what catalogs are for. And 'TwoGraph', like 'BalancedIncompleteBlockDesign', is to be instanciated with a list of blocks (like `IncidenceStructure` or `BalancedIncompleteBlockDesign`) while orthogonal arrays (which appear in `designs.<tab>`) are created from a pair of integers only.


So what? There isn't much difference between a pair of integers, and a list of lists, from user's point of view in particular. It's quite an artificial distinction here, invisible at user level, be it function, or class, or shmass, whatever. It returns an object, to which one can apply methods, this is what counts. A user does not care whether he calls a function, or a class constructor directly.

Catalog are there for users, and it's just an extra needless hoop for a user to jump through, having to import stuff explicitly, if she wants to call a constructor directly.



---

archive/issue_comments_336566.json:
```json
{
    "body": "<a id='comment:120'></a>\nHello Dima,\n\n> on the other hand there are classes such as\n> \n> ```\n> designs.AffineGeometryDesign # valid\n> designs.BalancedIncompleteBlockDesign # deprecated\n> designs.BlockDesign # should not be there\n> designs.DesarguesianProjectivePlaneDesign # valid\n> designs.Hadamard3Design # valid\n> designs.HadamardDesign # valid\n> designs.HughesPlane # valid\n> designs.Hypergraph # should not be there\n> designs.IncidenceStructure # should not be there\n> designs.ProjectiveGeometryDesign # valid\n> designs.WittDesign # valid\n> ```\n\n>\n> this is an unfair comparison, for `Graph` and `PermutationGroup` are in global space! \n\n\nI asked the question on sage-devel. It's quite legitimate, actually.\n\n> And you told me to remove `TwoGraph` from it, which I duly did.\n\n\nYou did not. I still have `designs.TwoGraph` when I load your branch.\n\n> So what? There isn't much difference between a pair of integers, and a list of lists, from user's point of view in particular. It's quite an artificial distinction here, invisible at user level, be it function, or class, or shmass, whatever. It returns an object, to which one can apply methods, this is what counts. A user does not care whether he calls a function, or a class constructor directly.\n\n\nI do not defend a blind distinction between class/function here. It is more relative to \"the amount of data you give the constructor\", and \"what you get\". I posted about this on sage-devel to see what others think.\n\n> Catalog are there for users, and it's just an extra needless hoop for a user to jump through, having to import stuff explicitly, if she wants to call a constructor directly.\n\n\nWell, it's not like everybody is waiting to instanciate `TwoGraph` in the first place, but of course the question is fair: if we cannot export everything to the global namespace like it was apparently done before, what are we meant to do with the new classes?\n\nLet's hope the thread will clear things up, and not be the usual \"I talk but I don't listen\" thread.\n\nNathann",
    "created_at": "2015-08-25T18:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336566",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:120'></a>
Hello Dima,

> on the other hand there are classes such as
> 
> ```
> designs.AffineGeometryDesign # valid
> designs.BalancedIncompleteBlockDesign # deprecated
> designs.BlockDesign # should not be there
> designs.DesarguesianProjectivePlaneDesign # valid
> designs.Hadamard3Design # valid
> designs.HadamardDesign # valid
> designs.HughesPlane # valid
> designs.Hypergraph # should not be there
> designs.IncidenceStructure # should not be there
> designs.ProjectiveGeometryDesign # valid
> designs.WittDesign # valid
> ```

>
> this is an unfair comparison, for `Graph` and `PermutationGroup` are in global space! 


I asked the question on sage-devel. It's quite legitimate, actually.

> And you told me to remove `TwoGraph` from it, which I duly did.


You did not. I still have `designs.TwoGraph` when I load your branch.

> So what? There isn't much difference between a pair of integers, and a list of lists, from user's point of view in particular. It's quite an artificial distinction here, invisible at user level, be it function, or class, or shmass, whatever. It returns an object, to which one can apply methods, this is what counts. A user does not care whether he calls a function, or a class constructor directly.


I do not defend a blind distinction between class/function here. It is more relative to "the amount of data you give the constructor", and "what you get". I posted about this on sage-devel to see what others think.

> Catalog are there for users, and it's just an extra needless hoop for a user to jump through, having to import stuff explicitly, if she wants to call a constructor directly.


Well, it's not like everybody is waiting to instanciate `TwoGraph` in the first place, but of course the question is fair: if we cannot export everything to the global namespace like it was apparently done before, what are we meant to do with the new classes?

Let's hope the thread will clear things up, and not be the usual "I talk but I don't listen" thread.

Nathann



---

archive/issue_comments_336567.json:
```json
{
    "body": "<a id='comment:121'></a>\nReplying to [ncohen](#comment%3A120):\n> Hello Dima,\n> \n> > on the other hand there are classes such as\n> > \n> > ```\n> > designs.AffineGeometryDesign # valid\n> > designs.BalancedIncompleteBlockDesign # deprecated\n> > designs.BlockDesign # should not be there\n> > designs.DesarguesianProjectivePlaneDesign # valid\n> > designs.Hadamard3Design # valid\n> > designs.HadamardDesign # valid\n> > designs.HughesPlane # valid\n> > designs.Hypergraph # should not be there\n> > designs.IncidenceStructure # should not be there\n> > designs.ProjectiveGeometryDesign # valid\n> > designs.WittDesign # valid\n> > ```\n\n> >\n> > this is an unfair comparison, for `Graph` and `PermutationGroup` are in global space! \n\n> \n> I asked the question on sage-devel. It's quite legitimate, actually.\n> \n> > And you told me to remove `TwoGraph` from it, which I duly did.\n\n> \n> You did not. I still have `designs.TwoGraph` when I load your branch.\n\nI have removed it from `global` namespace, as you requested earlier.\n\n```\nsage: TwoGraph\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n<ipython-input-4-d7f5bedb1058> in <module>()\n----> 1 TwoGraph\n\nNameError: name 'TwoGraph' is not defined\n```\nvs\n\n```\nsage: Graph\n<class 'sage.graphs.graph.Graph'>\nsage: \n```\n> \n> > So what? There isn't much difference between a pair of integers, and a list of lists, from user's point of view in particular. It's quite an artificial distinction here, invisible at user level, be it function, or class, or shmass, whatever. It returns an object, to which one can apply methods, this is what counts. A user does not care whether he calls a function, or a class constructor directly.\n\n> \n> I do not defend a blind distinction between class/function here. It is more relative to \"the amount of data you give the constructor\", and \"what you get\". I posted about this on sage-devel to see what others think.\n> \n> > Catalog are there for users, and it's just an extra needless hoop for a user to jump through, having to import stuff explicitly, if she wants to call a constructor directly.\n\n> \n> Well, it's not like everybody is waiting to instanciate `TwoGraph` in the first place, \n\nditto for, say, `WittDesign`, right?\n\nMay I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?",
    "created_at": "2015-08-25T18:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336567",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:121'></a>
Replying to [ncohen](#comment%3A120):
> Hello Dima,
> 
> > on the other hand there are classes such as
> > 
> > ```
> > designs.AffineGeometryDesign # valid
> > designs.BalancedIncompleteBlockDesign # deprecated
> > designs.BlockDesign # should not be there
> > designs.DesarguesianProjectivePlaneDesign # valid
> > designs.Hadamard3Design # valid
> > designs.HadamardDesign # valid
> > designs.HughesPlane # valid
> > designs.Hypergraph # should not be there
> > designs.IncidenceStructure # should not be there
> > designs.ProjectiveGeometryDesign # valid
> > designs.WittDesign # valid
> > ```

> >
> > this is an unfair comparison, for `Graph` and `PermutationGroup` are in global space! 

> 
> I asked the question on sage-devel. It's quite legitimate, actually.
> 
> > And you told me to remove `TwoGraph` from it, which I duly did.

> 
> You did not. I still have `designs.TwoGraph` when I load your branch.

I have removed it from `global` namespace, as you requested earlier.

```
sage: TwoGraph
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
<ipython-input-4-d7f5bedb1058> in <module>()
----> 1 TwoGraph

NameError: name 'TwoGraph' is not defined
```
vs

```
sage: Graph
<class 'sage.graphs.graph.Graph'>
sage: 
```
> 
> > So what? There isn't much difference between a pair of integers, and a list of lists, from user's point of view in particular. It's quite an artificial distinction here, invisible at user level, be it function, or class, or shmass, whatever. It returns an object, to which one can apply methods, this is what counts. A user does not care whether he calls a function, or a class constructor directly.

> 
> I do not defend a blind distinction between class/function here. It is more relative to "the amount of data you give the constructor", and "what you get". I posted about this on sage-devel to see what others think.
> 
> > Catalog are there for users, and it's just an extra needless hoop for a user to jump through, having to import stuff explicitly, if she wants to call a constructor directly.

> 
> Well, it's not like everybody is waiting to instanciate `TwoGraph` in the first place, 

ditto for, say, `WittDesign`, right?

May I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?



---

archive/issue_comments_336568.json:
```json
{
    "body": "<a id='comment:122'></a>\n> May I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?\n\n\nAn error is not a 'precedent'.\n\nNathann",
    "created_at": "2015-08-25T20:24:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336568",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:122'></a>
> May I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?


An error is not a 'precedent'.

Nathann



---

archive/issue_comments_336569.json:
```json
{
    "body": "<a id='comment:123'></a>\nReplying to [ncohen](#comment%3A122):\n> > May I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?\n\n> \n> An error is not a 'precedent'.\n\nA precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?\n\nAn \"error\", approved by something or somebody whose authority you recognise, is a precedent.\nEither you object to this authority, in an acceptable way, e.g. you open a ticket removing that \"error\", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.",
    "created_at": "2015-08-25T21:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336569",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:123'></a>
Replying to [ncohen](#comment%3A122):
> > May I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?

> 
> An error is not a 'precedent'.

A precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?

An "error", approved by something or somebody whose authority you recognise, is a precedent.
Either you object to this authority, in an acceptable way, e.g. you open a ticket removing that "error", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.



---

archive/issue_comments_336570.json:
```json
{
    "body": "<a id='comment:124'></a>\nReplying to [dimpase](#comment%3A123):\n> Replying to [ncohen](#comment%3A122):\n> > > May I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?\n\n> > \n> > An error is not a 'precedent'.\n\n> A precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?\n> \n> An \"error\", approved by something or somebody whose authority you recognise, is a precedent.\n> Either you object to this authority, in an acceptable way, e.g. you open a ticket removing that \"error\", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.\n\n \nanyhow, if you are still not convinced, I can remove this thing from `designs.`.",
    "created_at": "2015-08-26T06:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336570",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:124'></a>
Replying to [dimpase](#comment%3A123):
> Replying to [ncohen](#comment%3A122):
> > > May I refer to a precedent of having classes in `design` catalog to have `TwoGraph` here?

> > 
> > An error is not a 'precedent'.

> A precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?
> 
> An "error", approved by something or somebody whose authority you recognise, is a precedent.
> Either you object to this authority, in an acceptable way, e.g. you open a ticket removing that "error", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.

 
anyhow, if you are still not convinced, I can remove this thing from `designs.`.



---

archive/issue_comments_336571.json:
```json
{
    "body": "<a id='comment:125'></a>\n> A precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?\n\n\nCome on Dima, don't build up on top of this idea. Do you really need to be convinced that \"sometimes, we make mistakes\"? Never saw one? Never did one?\n\nIn this case it is even easier. I am 100% sure (did not check) that I did this myself Or that I was the one who reviewed it. \n\n> An \"error\", approved by something or somebody whose authority you recognise, is a precedent.\n\n\nExcellent. Then let us say that I disregard my own authority.\n\n> Either you object to this authority\n\n\nI just did it in my head.\n\n> in an acceptable way\n\n\nI found it acceptable\n\n> e.g. you open a ticket removing that \"error\", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.\n\n\nOh, I plan to remove it, no problem there.\n\n> anyhow, if you are still not convinced, I can remove this thing from designs..\n\n\nPlease do. And I will remove the others, unless the thread on Sage-devel indicates that we should keep them instead.\n\nNathann",
    "created_at": "2015-08-26T06:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336571",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:125'></a>
> A precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?


Come on Dima, don't build up on top of this idea. Do you really need to be convinced that "sometimes, we make mistakes"? Never saw one? Never did one?

In this case it is even easier. I am 100% sure (did not check) that I did this myself Or that I was the one who reviewed it. 

> An "error", approved by something or somebody whose authority you recognise, is a precedent.


Excellent. Then let us say that I disregard my own authority.

> Either you object to this authority


I just did it in my head.

> in an acceptable way


I found it acceptable

> e.g. you open a ticket removing that "error", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.


Oh, I plan to remove it, no problem there.

> anyhow, if you are still not convinced, I can remove this thing from designs..


Please do. And I will remove the others, unless the thread on Sage-devel indicates that we should keep them instead.

Nathann



---

archive/issue_comments_336572.json:
```json
{
    "body": "<a id='comment:126'></a>\nReplying to [ncohen](#comment%3A125):\n> > A precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?\n\n> \n> Come on Dima, don't build up on top of this idea. Do you really need to be convinced that \"sometimes, we make mistakes\"? Never saw one? Never did one?\n\n\nAn \"error\" resulting in an improvement of the situation is not an error.\nThe is the whole point of this discussion.\nYou agree that having useful constructors discoverable by means of TAB is useful, yet\nkeep telling me that this is an error. If there is a real error here, it is in your head.\nWe are building a system that is meant to be user-friendly; forcing the user to import stuff (which is hard to find too) explicitly is not user-friendly.\n\n> \n> In this case it is even easier. I am 100% sure (did not check) that I did this myself Or that I was the one who reviewed it. \n> \n> > An \"error\", approved by something or somebody whose authority you recognise, is a precedent.\n\n> \n> Excellent. Then let us say that I disregard my own authority.\n> \n> > Either you object to this authority\n\n> \n> I just did it in my head.\n> \n> > in an acceptable way\n\n> \n> I found it acceptable\n\n\nsometimes what you find acceptable pisses many people off, and you are perfectly aware of this :-)\n\n> \n> > e.g. you open a ticket removing that \"error\", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.\n  \n> \n> Oh, I plan to remove it, no problem there.\n\n\nget it approved; e.g. try asking me to review it ;-)\n\n\n> \n> > anyhow, if you are still not convinced, I can remove this thing from designs..\n\n> \n> Please do. And I will remove the others, unless the thread on Sage-devel indicates that we should keep them instead.\n\n\nthere is at least one more voice of reason, agreeing with me, and none agreeing with you.",
    "created_at": "2015-08-26T14:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336572",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:126'></a>
Replying to [ncohen](#comment%3A125):
> > A precedent is a [precedent](https://en.wikipedia.org/wiki/Precedent), and reviewers are to act in a fair and objective manner, akin to judges in  a legal system, right?

> 
> Come on Dima, don't build up on top of this idea. Do you really need to be convinced that "sometimes, we make mistakes"? Never saw one? Never did one?


An "error" resulting in an improvement of the situation is not an error.
The is the whole point of this discussion.
You agree that having useful constructors discoverable by means of TAB is useful, yet
keep telling me that this is an error. If there is a real error here, it is in your head.
We are building a system that is meant to be user-friendly; forcing the user to import stuff (which is hard to find too) explicitly is not user-friendly.

> 
> In this case it is even easier. I am 100% sure (did not check) that I did this myself Or that I was the one who reviewed it. 
> 
> > An "error", approved by something or somebody whose authority you recognise, is a precedent.

> 
> Excellent. Then let us say that I disregard my own authority.
> 
> > Either you object to this authority

> 
> I just did it in my head.
> 
> > in an acceptable way

> 
> I found it acceptable


sometimes what you find acceptable pisses many people off, and you are perfectly aware of this :-)

> 
> > e.g. you open a ticket removing that "error", and actually get it reviewed and removed (just shouting about it is not enough, sorry). Or it stays as it is, and then you have no authority to overrule the precedent.
  
> 
> Oh, I plan to remove it, no problem there.


get it approved; e.g. try asking me to review it ;-)


> 
> > anyhow, if you are still not convinced, I can remove this thing from designs..

> 
> Please do. And I will remove the others, unless the thread on Sage-devel indicates that we should keep them instead.


there is at least one more voice of reason, agreeing with me, and none agreeing with you.



---

archive/issue_comments_336573.json:
```json
{
    "body": "<a id='comment:127'></a>\n> An \"error\" resulting in an improvement of the situation is not an error.\n\n\nI did it myself, and I claim that it was an error. I shouldn't have, and I regret it. That makes it an error, at the very least in the intent.\n\n> there is at least one more voice of reason, agreeing with me, and none agreeing with you.\n\n\nTrue, but I would like to have a solution with respect to these things in the global namespace too. We do need a way to define new classes without exporting them to the global namespace. At least that would give us a way to get rid of the 10 000 combinat things exported in the wild: if catalogs change and are made able to gather all kind of classes and not only 'famous constructions', there will be a lot of deprecation ahead.\n\nNathann",
    "created_at": "2015-08-26T14:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336573",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:127'></a>
> An "error" resulting in an improvement of the situation is not an error.


I did it myself, and I claim that it was an error. I shouldn't have, and I regret it. That makes it an error, at the very least in the intent.

> there is at least one more voice of reason, agreeing with me, and none agreeing with you.


True, but I would like to have a solution with respect to these things in the global namespace too. We do need a way to define new classes without exporting them to the global namespace. At least that would give us a way to get rid of the 10 000 combinat things exported in the wild: if catalogs change and are made able to gather all kind of classes and not only 'famous constructions', there will be a lot of deprecation ahead.

Nathann



---

archive/issue_comments_336574.json:
```json
{
    "body": "<a id='comment:128'></a>\nReplying to [ncohen](#comment%3A127):\n> > An \"error\" resulting in an improvement of the situation is not an error.\n\n> \n> I did it myself, and I claim that it was an error. I shouldn't have, and I regret it. That makes it an error, at the very least in the intent.\n\n\nYou are not alone, for many scientific discoveries were made this way, by mistake...\n \n> \n> > there is at least one more voice of reason, agreeing with me, and none agreeing with you.\n\n> \n> True, but I would like to have a solution with respect to these things in the global namespace too. We do need a way to define new classes without exporting them to the global namespace. \n\n\nwell, you have invented it already, with `IncidenceSystem`. True, lots of deprecations ahead --- how else would you manage to clean up the global namespace?\n\n\n>At least that would give us a way to get rid of the 10 000 combinat things exported in the wild: if catalogs change and are made able to gather all kind of classes and not only 'famous constructions', there will be a lot of deprecation ahead.\n\n\nAt the moment on this ticket you pursue the line that the classes must be hidden from the user, and this is totally unreasonable, you admit it yourself.\nIMHO either having `TwoGraph` out there in the global namespace (with 10000 other things already there), or having it in designs.TAB is reasonable; pick one, and let us move on.",
    "created_at": "2015-08-26T16:34:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336574",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:128'></a>
Replying to [ncohen](#comment%3A127):
> > An "error" resulting in an improvement of the situation is not an error.

> 
> I did it myself, and I claim that it was an error. I shouldn't have, and I regret it. That makes it an error, at the very least in the intent.


You are not alone, for many scientific discoveries were made this way, by mistake...
 
> 
> > there is at least one more voice of reason, agreeing with me, and none agreeing with you.

> 
> True, but I would like to have a solution with respect to these things in the global namespace too. We do need a way to define new classes without exporting them to the global namespace. 


well, you have invented it already, with `IncidenceSystem`. True, lots of deprecations ahead --- how else would you manage to clean up the global namespace?


>At least that would give us a way to get rid of the 10 000 combinat things exported in the wild: if catalogs change and are made able to gather all kind of classes and not only 'famous constructions', there will be a lot of deprecation ahead.


At the moment on this ticket you pursue the line that the classes must be hidden from the user, and this is totally unreasonable, you admit it yourself.
IMHO either having `TwoGraph` out there in the global namespace (with 10000 other things already there), or having it in designs.TAB is reasonable; pick one, and let us move on.



---

archive/issue_comments_336575.json:
```json
{
    "body": "<a id='comment:129'></a>\n> You are not alone, for many scientific discoveries were made this way, by mistake...\n\n\nLet me sum it up:\n1) You tell me that I am forced to accept it because there is a precedent and that somebody thought that it would be better this way. So I should obey his judgement.\n2) You learn that I did it myself, and I tell you that it was a mistake.\n3) You tell me that I should do it anyway, because many mistakes are valuable.\n\nI just see you bend the truth wherever it can help you.\n\n> well, you have invented it already, with `IncidenceSystem`. True, lots of deprecations ahead --- how else would you manage to clean up the global namespace?\n\n\nThat's a design decision for sage-devel.\n\n> At the moment on this ticket you pursue the line that the classes must be hidden from the user\n\n\nI spent weeks writing code that has to be imported manually. Nobody died.\n\n> you admit it yourself.\n\n\nI am the only reference, when it comes to figure out what *I* think.\n\n> IMHO either having `TwoGraph` out there in the global namespace (with 10000 other things already there), or having it in designs.TAB is reasonable; pick one, and let us move on.\n\n\nThis is not the choice we have to make. The choice it between:\n1) Global namespace (No)\n2) Manual import (possible)\n3) `designs.TwoGraph` -- must be a collective decision to move everything into the catalogs.\n\nSo we are not stuck. If you pick 2, we can have this ticket pass right now and discuss 3 on sage-devel while being able to continue the development of this SRG module. You will easily admit that it does not block us for anything.\n\nNathann",
    "created_at": "2015-08-26T18:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336575",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:129'></a>
> You are not alone, for many scientific discoveries were made this way, by mistake...


Let me sum it up:
1) You tell me that I am forced to accept it because there is a precedent and that somebody thought that it would be better this way. So I should obey his judgement.
2) You learn that I did it myself, and I tell you that it was a mistake.
3) You tell me that I should do it anyway, because many mistakes are valuable.

I just see you bend the truth wherever it can help you.

> well, you have invented it already, with `IncidenceSystem`. True, lots of deprecations ahead --- how else would you manage to clean up the global namespace?


That's a design decision for sage-devel.

> At the moment on this ticket you pursue the line that the classes must be hidden from the user


I spent weeks writing code that has to be imported manually. Nobody died.

> you admit it yourself.


I am the only reference, when it comes to figure out what *I* think.

> IMHO either having `TwoGraph` out there in the global namespace (with 10000 other things already there), or having it in designs.TAB is reasonable; pick one, and let us move on.


This is not the choice we have to make. The choice it between:
1) Global namespace (No)
2) Manual import (possible)
3) `designs.TwoGraph` -- must be a collective decision to move everything into the catalogs.

So we are not stuck. If you pick 2, we can have this ticket pass right now and discuss 3 on sage-devel while being able to continue the development of this SRG module. You will easily admit that it does not block us for anything.

Nathann



---

archive/issue_comments_336576.json:
```json
{
    "body": "<a id='comment:130'></a>\nReplying to [ncohen](#comment%3A129):\n\n> > IMHO either having `TwoGraph` out there in the global namespace (with 10000 other things already there), or having it in designs.TAB is reasonable; pick one, and let us move on.\n\n> \n> This is not the choice we have to make. The choice it between:\n> 1) Global namespace (No)\n> 2) Manual import (possible)\n> 3) `designs.TwoGraph` -- must be a collective decision to move everything into the catalogs.\n> \n> So we are not stuck. If you pick 2, we can have this ticket pass right now and discuss 3 on sage-devel while being able to continue the development of this SRG module. You will easily admit that it does not block us for anything\n\n\nYou somehow see `designs.IncidenceSystem` as (your favourite?) mistake you have made yourself, yet you are not fixing it, and unwilling to let the others repeat it. This is some kind of dictatorial powers you are enjoying here. You are free to guess my feelings about it.",
    "created_at": "2015-08-26T18:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336576",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:130'></a>
Replying to [ncohen](#comment%3A129):

> > IMHO either having `TwoGraph` out there in the global namespace (with 10000 other things already there), or having it in designs.TAB is reasonable; pick one, and let us move on.

> 
> This is not the choice we have to make. The choice it between:
> 1) Global namespace (No)
> 2) Manual import (possible)
> 3) `designs.TwoGraph` -- must be a collective decision to move everything into the catalogs.
> 
> So we are not stuck. If you pick 2, we can have this ticket pass right now and discuss 3 on sage-devel while being able to continue the development of this SRG module. You will easily admit that it does not block us for anything


You somehow see `designs.IncidenceSystem` as (your favourite?) mistake you have made yourself, yet you are not fixing it, and unwilling to let the others repeat it. This is some kind of dictatorial powers you are enjoying here. You are free to guess my feelings about it.



---

archive/issue_comments_336577.json:
```json
{
    "body": "<a id='comment:131'></a>\n> You somehow see `designs.IncidenceSystem` as (your favourite?) mistake you have made yourself, yet you are not fixing it\n\n\nI am cooking. Give me thirty minutes and I will add a ticket. If I do, will you review it or block it? Don't make me write it only to complain on the ticket afterwards because you don't want it to be done.\n\nNathann",
    "created_at": "2015-08-26T18:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336577",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:131'></a>
> You somehow see `designs.IncidenceSystem` as (your favourite?) mistake you have made yourself, yet you are not fixing it


I am cooking. Give me thirty minutes and I will add a ticket. If I do, will you review it or block it? Don't make me write it only to complain on the ticket afterwards because you don't want it to be done.

Nathann



---

archive/issue_comments_336578.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[a729b27](http://git.sagemath.org/sage.git/commit/?id=a729b27245f217f98bde11e4fc13dd03cdce9c96)|`the reviwer has cooked and has eaten my brain (removed stuff from designs.*)`|",
    "created_at": "2015-08-26T18:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[a729b27](http://git.sagemath.org/sage.git/commit/?id=a729b27245f217f98bde11e4fc13dd03cdce9c96)|`the reviwer has cooked and has eaten my brain (removed stuff from designs.*)`|



---

archive/issue_comments_336579.json:
```json
{
    "body": "Changing commit from \"25eec1b6d18bb021eccd4b04774111097ff8f3b5\" to \"a729b27245f217f98bde11e4fc13dd03cdce9c96\"",
    "created_at": "2015-08-26T18:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336579",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "25eec1b6d18bb021eccd4b04774111097ff8f3b5" to "a729b27245f217f98bde11e4fc13dd03cdce9c96"



---

archive/issue_comments_336580.json:
```json
{
    "body": "<a id='comment:3'></a>\nHelloooo again Dima,\n\nThank you for what you just did. I am not even against the idea of moving all\nclass constructors to the catalogs, but so far it is not done this way and I do\nnot want it to be done without collective agreement that it is what should be\ndone. So I'll not even fight against the idea in this debate.\n\nAbout your branch, I noticed several last things:\n\n- very long lines in the doc of `is_twograph_descendant`, `twograph`, and\n  `complement`.\n\n- I also wonder about `TwoGraph.__init__`: what is the best behavior for this\n  class which inherits from `IncidenceStructure`? Should all (existing)\n  arguments of `IncidenceStructure.__init__` appear in `TwoGraph.__init__`, or\n  should we use `**kwargs` instead? If some argument in `IncidenceStructure` is\n  added/removed, or if the default value changes, then we will very probably\n  \"forget\" to update `TwoGraph.__init__` as a result.\n\nAAAAnd then we should be done with this ticket, at long long last..\n\nNathann",
    "created_at": "2015-08-26T19:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336580",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
Helloooo again Dima,

Thank you for what you just did. I am not even against the idea of moving all
class constructors to the catalogs, but so far it is not done this way and I do
not want it to be done without collective agreement that it is what should be
done. So I'll not even fight against the idea in this debate.

About your branch, I noticed several last things:

- very long lines in the doc of `is_twograph_descendant`, `twograph`, and
  `complement`.

- I also wonder about `TwoGraph.__init__`: what is the best behavior for this
  class which inherits from `IncidenceStructure`? Should all (existing)
  arguments of `IncidenceStructure.__init__` appear in `TwoGraph.__init__`, or
  should we use `**kwargs` instead? If some argument in `IncidenceStructure` is
  added/removed, or if the default value changes, then we will very probably
  "forget" to update `TwoGraph.__init__` as a result.

AAAAnd then we should be done with this ticket, at long long last..

Nathann



---

archive/issue_comments_336581.json:
```json
{
    "body": "<a id='comment:134'></a>\nReplying to [ncohen](#comment%3A133):\n> \n> - very long lines in the doc of `is_twograph_descendant`, `twograph`, and\n>   `complement`.\n\n\nwhat is the guideline? 80 chars, less, more?\n \n> \n> - I also wonder about `TwoGraph.__init__`: what is the best behavior for this\n>   class which inherits from `IncidenceStructure`? Should all (existing)\n>   arguments of `IncidenceStructure.__init__` appear in `TwoGraph.__init__`, or\n>   should we use `**kwargs` instead? If some argument in `IncidenceStructure` is\n>   added/removed, or if the default value changes, then we will very probably\n>   \"forget\" to update `TwoGraph.__init__` as a result.\n \nRemoving will cause a doctest failure, hopefully...\n\nHow does one mix `**kwargs` and explicit keywords (which have to be used too, as I need\nsome control over this)?",
    "created_at": "2015-08-26T19:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336581",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:134'></a>
Replying to [ncohen](#comment%3A133):
> 
> - very long lines in the doc of `is_twograph_descendant`, `twograph`, and
>   `complement`.


what is the guideline? 80 chars, less, more?
 
> 
> - I also wonder about `TwoGraph.__init__`: what is the best behavior for this
>   class which inherits from `IncidenceStructure`? Should all (existing)
>   arguments of `IncidenceStructure.__init__` appear in `TwoGraph.__init__`, or
>   should we use `**kwargs` instead? If some argument in `IncidenceStructure` is
>   added/removed, or if the default value changes, then we will very probably
>   "forget" to update `TwoGraph.__init__` as a result.
 
Removing will cause a doctest failure, hopefully...

How does one mix `**kwargs` and explicit keywords (which have to be used too, as I need
some control over this)?



---

archive/issue_comments_336582.json:
```json
{
    "body": "<a id='comment:135'></a>\n> what is the guideline? 80 chars, less, more?\n\n\nThe \"official\" rule, if I remember correctly, is to follow \"yet another senseless\" PEP. If I make no mistake, it is something like 80 characters for the code and 72 characters for the doc (no joke).\n\nIn Sage it seems that we apply 80 characters everywhere, which is already rather boring to enforce.\n\n> Removing will cause a doctest failure, hopefully...\n\n\nErr, right...\n\n> How does one mix `**kwargs` and explicit keywords (which have to be used too, as I need\n> some control over this)?\n\n\nIn the natural way:\n\n```\nsage: def a(hey=3,**kwargs):\n....:     print hey, kwargs\n....:     \nsage: a(6)\n6 {}\nsage: a(hey=9,eeee=4)\n9 {'eeee': 4}\n```\n\nNathann",
    "created_at": "2015-08-26T20:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336582",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:135'></a>
> what is the guideline? 80 chars, less, more?


The "official" rule, if I remember correctly, is to follow "yet another senseless" PEP. If I make no mistake, it is something like 80 characters for the code and 72 characters for the doc (no joke).

In Sage it seems that we apply 80 characters everywhere, which is already rather boring to enforce.

> Removing will cause a doctest failure, hopefully...


Err, right...

> How does one mix `**kwargs` and explicit keywords (which have to be used too, as I need
> some control over this)?


In the natural way:

```
sage: def a(hey=3,**kwargs):
....:     print hey, kwargs
....:     
sage: a(6)
6 {}
sage: a(hey=9,eeee=4)
9 {'eeee': 4}
```

Nathann



---

archive/issue_comments_336583.json:
```json
{
    "body": "Changing commit from \"a729b27245f217f98bde11e4fc13dd03cdce9c96\" to \"1e8e0b4c3168ca179e20377ea6423b0c5385f0bb\"",
    "created_at": "2015-08-26T22:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a729b27245f217f98bde11e4fc13dd03cdce9c96" to "1e8e0b4c3168ca179e20377ea6423b0c5385f0bb"



---

archive/issue_comments_336584.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[1e8e0b4](http://git.sagemath.org/sage.git/commit/?id=1e8e0b4c3168ca179e20377ea6423b0c5385f0bb)|`shortening lines`|",
    "created_at": "2015-08-26T22:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[1e8e0b4](http://git.sagemath.org/sage.git/commit/?id=1e8e0b4c3168ca179e20377ea6423b0c5385f0bb)|`shortening lines`|



---

archive/issue_comments_336585.json:
```json
{
    "body": "<a id='comment:137'></a>\nReplying to [git](#comment%3A136):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                          |                  |\n> |------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n> |[1e8e0b4](http://git.sagemath.org/sage.git/commit/?id=1e8e0b4c3168ca179e20377ea6423b0c5385f0bb)|`shortening lines`|\n\n\nI will mess with `__init__` on #19098, if you don't mind.",
    "created_at": "2015-08-26T22:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336585",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:137'></a>
Replying to [git](#comment%3A136):
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                          |                  |
> |------------------------------------------------------------------------------------------------------------------------------------------|------------------|
> |[1e8e0b4](http://git.sagemath.org/sage.git/commit/?id=1e8e0b4c3168ca179e20377ea6423b0c5385f0bb)|`shortening lines`|


I will mess with `__init__` on #19098, if you don't mind.



---

archive/issue_comments_336586.json:
```json
{
    "body": "<a id='comment:138'></a>\n> I will mess with `__init__` on #19098, if you don't mind.\n\n\nNo prob, thanks!\n\nNathann\n\nP.S.: Please fill in your name in the Author field",
    "created_at": "2015-08-27T07:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336586",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:138'></a>
> I will mess with `__init__` on #19098, if you don't mind.


No prob, thanks!

Nathann

P.S.: Please fill in your name in the Author field



---

archive/issue_comments_336587.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-08-27T07:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336587",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_336588.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-08-27T14:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336588",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_336589.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-08-27T17:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336589",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_336590.json:
```json
{
    "body": "Changing author from \"\" to \"Dima Pasechnik\"",
    "created_at": "2015-08-27T17:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336590",
    "user": "https://github.com/dimpase"
}
```

Changing author from "" to "Dima Pasechnik"



---

archive/issue_comments_336591.json:
```json
{
    "body": "Changing branch from \"u/dimpase/seidelsw\" to \"1e8e0b4c3168ca179e20377ea6423b0c5385f0bb\"",
    "created_at": "2015-08-28T14:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336591",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/seidelsw" to "1e8e0b4c3168ca179e20377ea6423b0c5385f0bb"



---

archive/issue_events_052888.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-08-28T14:36:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18972#event-52888"
}
```



---

archive/issue_comments_336592.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-08-28T14:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18972",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18972#issuecomment-336592",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
