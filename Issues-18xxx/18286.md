# Issue 18286: Region plot fails when there is equation condition

archive/issues_018049.json:
```json
{
    "body": "region_plot can't deal with equations. For example the condition `x == 0` is treated as `x < 0`.\n\n```\nsage: x, y = var('x, y')\nsage: region_plot([x == 0], (x, -1, 1), (y, -1, 1))\nsage: region_plot([x^2+y^2==1, x<y], (x, -1, 1), (y, -1, 1))\n```\n\nCC:  @kcrisman @mkoeppe @videlec\n\nKeywords: region_plot\n\nBranch/Commit: 31edb4deafeff5bb0c1d3798b592453cc1b4d151\n\nReviewer: Punarbasu Purkayastha\n\nAuthor: Yuan Zhou\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18286\n\n",
    "closed_at": "2015-05-24T16:13:44Z",
    "created_at": "2015-04-23T00:20:42Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Region plot fails when there is equation condition",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18286",
    "user": "https://github.com/yuan-zhou"
}
```
region_plot can't deal with equations. For example the condition `x == 0` is treated as `x < 0`.

```
sage: x, y = var('x, y')
sage: region_plot([x == 0], (x, -1, 1), (y, -1, 1))
sage: region_plot([x^2+y^2==1, x<y], (x, -1, 1), (y, -1, 1))
```

CC:  @kcrisman @mkoeppe @videlec

Keywords: region_plot

Branch/Commit: 31edb4deafeff5bb0c1d3798b592453cc1b4d151

Reviewer: Punarbasu Purkayastha

Author: Yuan Zhou

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18286





---

archive/issue_comments_242659.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-23T01:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242659",
    "user": "https://github.com/yuan-zhou"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_242660.json:
```json
{
    "body": "<a id='comment:2'></a>I am having an initial look at this ticket. Can you change the `ticket #12345` to the `:trac:`12345`` format. Thanks. :)",
    "created_at": "2015-05-11T13:12:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242660",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:2'></a>I am having an initial look at this ticket. Can you change the `ticket #12345` to the `:trac:`12345`` format. Thanks. :)



---

archive/issue_comments_242661.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-11T21:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242661",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_242662.json:
```json
{
    "body": "<a id='comment:4'></a>Why is there a duplicate ticket at #16907?",
    "created_at": "2015-05-11T21:43:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242662",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>Why is there a duplicate ticket at #16907?



---

archive/issue_comments_242663.json:
```json
{
    "body": "<a id='comment:5'></a>`@`vdelecroix: It is not quite a duplicate, but yzh has put both the patches in the same branch and has the same branch in both the tickets. It is fine though, we can close both the tickets at the same time, and close that one as a duplicate of this for merging purposes, or remove the branch from the other ticket.\n\n`@`yzh: I finally had the time to look into it. The patch looks all good to me except for the warn part. Can you change that to the following\n\n```\nfrom warnings import warn\nwarn(\"There are at least 2 equations;......\")\n```\nThis will give the warning just once to the user *per sage session*, instead of each time a similar command is run. After that it is up to the user to take note of this warning.",
    "created_at": "2015-05-16T15:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242663",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:5'></a>`@`vdelecroix: It is not quite a duplicate, but yzh has put both the patches in the same branch and has the same branch in both the tickets. It is fine though, we can close both the tickets at the same time, and close that one as a duplicate of this for merging purposes, or remove the branch from the other ticket.

`@`yzh: I finally had the time to look into it. The patch looks all good to me except for the warn part. Can you change that to the following

```
from warnings import warn
warn("There are at least 2 equations;......")
```
This will give the warning just once to the user *per sage session*, instead of each time a similar command is run. After that it is up to the user to take note of this warning.



---

archive/issue_comments_242664.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-18T21:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242664",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_242665.json:
```json
{
    "body": "<a id='comment:7'></a>`@`yzh Thanks!",
    "created_at": "2015-05-20T22:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242665",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:7'></a>`@`yzh Thanks!



---

archive/issue_comments_242666.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-20T22:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242666",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_242667.json:
```json
{
    "body": "<a id='comment:9'></a>Docbuild fails:\n\n```\n[plotting ] /home/buildbot/build/sage/snapperkob/sage_git/build/local/lib/python2.7/site-packages/sage/plot/contour_plot.py:docstring of sage.plot.contour_plot.contour_plot:310: ERROR: Unknown interpreted text role \"ticket\".\n```\nits `:trac:`",
    "created_at": "2015-05-22T21:47:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242667",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>Docbuild fails:

```
[plotting ] /home/buildbot/build/sage/snapperkob/sage_git/build/local/lib/python2.7/site-packages/sage/plot/contour_plot.py:docstring of sage.plot.contour_plot.contour_plot:310: ERROR: Unknown interpreted text role "ticket".
```
its `:trac:`



---

archive/issue_comments_242668.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-05-22T21:47:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242668",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_242669.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-22T23:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_242670.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-23T22:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242670",
    "user": "https://github.com/yuan-zhou"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_242671.json:
```json
{
    "body": "<a id='comment:12'></a>Sorry for not noticing that earlier. It passes all tests in plot/ now. The Patchbot is  also happy.",
    "created_at": "2015-05-24T00:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242671",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:12'></a>Sorry for not noticing that earlier. It passes all tests in plot/ now. The Patchbot is  also happy.



---

archive/issue_comments_242672.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-24T00:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242672",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_051621.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-24T16:13:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18286#event-51621"
}
```



---

archive/issue_comments_242673.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-24T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18286",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18286#issuecomment-242673",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
