# Issue 18416: UniqueRepresentation issue with PowerSeriesRing

archive/issues_018179.json:
```json
{
    "assignees": [],
    "body": "The power series ring (`sage.rings.power_series_ring.PowerSeriesRing`) inherits from `UniqueRepresentation`. In the argument of the constructor there is the precision (`prec`) but it can be modified! Which leads to wrong behavior\n\n```\nsage: R = PowerSeriesRing(QQ, 'x', 3)\nsage: R.default_prec()\n3\nsage: R.set_default_prec(19)\nsage: PowerSeriesRing(QQ, 'x', 3).default_prec()\n19\n```\nMoreover, a function can modify a power series in use\n\n```\nsage: def haha()\n....:     PowerSeriesRing(QQ, 'x').set_default_prec(1)\nsage: R = PowerSeriesRing(QQ, 'x')\nsage: R.default_prec()\n20\nsage: haha()\nsage: R.default_prec()\n1\n```\n\nDepends on #31263\n\nCC:  @nilesjohnson @simon-king-jena @tscrim @slel\n\nKeywords: **power_series**\n\nBranch/Commit: **[f38b78e](https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Michael Jung**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18416_\n\n",
    "closed_at": "2021-03-07T17:06:34Z",
    "created_at": "2015-05-14T06:28:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "UniqueRepresentation issue with PowerSeriesRing",
    "type": "issue",
    "updated_at": "2021-03-07T17:06:34Z",
    "url": "https://github.com/sagemath/sage/issues/18416",
    "user": "https://github.com/videlec"
}
```
The power series ring (`sage.rings.power_series_ring.PowerSeriesRing`) inherits from `UniqueRepresentation`. In the argument of the constructor there is the precision (`prec`) but it can be modified! Which leads to wrong behavior

```
sage: R = PowerSeriesRing(QQ, 'x', 3)
sage: R.default_prec()
3
sage: R.set_default_prec(19)
sage: PowerSeriesRing(QQ, 'x', 3).default_prec()
19
```
Moreover, a function can modify a power series in use

```
sage: def haha()
....:     PowerSeriesRing(QQ, 'x').set_default_prec(1)
sage: R = PowerSeriesRing(QQ, 'x')
sage: R.default_prec()
20
sage: haha()
sage: R.default_prec()
1
```

Depends on #31263

CC:  @nilesjohnson @simon-king-jena @tscrim @slel

Keywords: **power_series**

Branch/Commit: **[f38b78e](https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f)**

Reviewer: **Travis Scrimshaw**

Author: **Michael Jung**

_Issue created by migration from https://trac.sagemath.org/ticket/18416_





---

archive/issue_events_244012.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-14T06:28:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244012"
}
```



---

archive/issue_events_244013.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-14T06:28:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244013"
}
```



---

archive/issue_events_244014.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-14T06:28:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244014"
}
```



---

archive/issue_events_244015.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-14T06:28:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244015"
}
```



---

archive/issue_comments_256192.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,16 +1,12 @@\n The power series ring (`sage.rings.power_series_ring.PowerSeriesRing`) inherits from `UniqueRepresentation`. In the argument of the constructor there is the precision (`prec`) but it can be modified! Which leads to wrong behavior\n \n ```\n-sage: R1 = PowerSeriesRing(QQ, 'x', 3)\n-sage: R2 = PowerSeriesRing(QQ, 'x', 3)\n-sage: R1 is R2\n-True\n-sage: R2 = PowerSeriesRing(QQ, 'x', 4)\n-sage: R1 is R2\n-False\n-sage: R2.set_default_prec(3)\n-sage: R1 == R2\n-False\n+sage: R = PowerSeriesRing(QQ, 'x', 3)\n+sage: R.default_prec()\n+3\n+sage: R.set_default_prec(19)\n+sage: PowerSeriesRing(QQ, 'x', 3).default_prec()\n+19\n ```\n Moreover, a function can modify a power series in use\n \n``````\n",
    "created_at": "2015-05-14T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256192",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,16 +1,12 @@
 The power series ring (`sage.rings.power_series_ring.PowerSeriesRing`) inherits from `UniqueRepresentation`. In the argument of the constructor there is the precision (`prec`) but it can be modified! Which leads to wrong behavior
 
 ```
-sage: R1 = PowerSeriesRing(QQ, 'x', 3)
-sage: R2 = PowerSeriesRing(QQ, 'x', 3)
-sage: R1 is R2
-True
-sage: R2 = PowerSeriesRing(QQ, 'x', 4)
-sage: R1 is R2
-False
-sage: R2.set_default_prec(3)
-sage: R1 == R2
-False
+sage: R = PowerSeriesRing(QQ, 'x', 3)
+sage: R.default_prec()
+3
+sage: R.set_default_prec(19)
+sage: PowerSeriesRing(QQ, 'x', 3).default_prec()
+19
 ```
 Moreover, a function can modify a power series in use
 
``````




---

archive/issue_events_244016.json:
```json
{
    "actor": "https://github.com/alexjbest",
    "created_at": "2019-03-09T08:03:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244016"
}
```



---

archive/issue_events_244017.json:
```json
{
    "actor": "https://github.com/alexjbest",
    "created_at": "2019-03-09T08:03:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244017"
}
```



---

archive/issue_comments_256193.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nDoes anyone know the status of this?\n\nThe corresponding behavior for LaurentSeries was deprecated in #16201 (which also mentions power series) and finally removed in #26915 .\n\n\nSo now we are in the situation where PowerSeries and LaurentSeries work quite differently here, I can't see any real reason for this.",
    "created_at": "2019-03-09T08:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256193",
    "user": "https://github.com/alexjbest"
}
```

<div id="comment:3" align="right">Comment 3</div>

Does anyone know the status of this?

The corresponding behavior for LaurentSeries was deprecated in #16201 (which also mentions power series) and finally removed in #26915 .


So now we are in the situation where PowerSeries and LaurentSeries work quite differently here, I can't see any real reason for this.



---

archive/issue_comments_256194.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\n+1 on deprecating the `set_default_prec` for `PowerSeriesRing` for the same reasons as for `LaurentSeriesRing`.",
    "created_at": "2019-03-09T21:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256194",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">Comment 4</div>

+1 on deprecating the `set_default_prec` for `PowerSeriesRing` for the same reasons as for `LaurentSeriesRing`.



---

archive/issue_comments_256195.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nEven worse in terms of hidden side effects:\n\n```\nsage: R.<x> = LaurentSeriesRing(QQ,50)\nsage: R.default_prec()\n50\nsage: S = PowerSeriesRing(QQ,50,names='x')\nsage: S.set_default_prec(10)\nsage: R.default_prec()\n10\n```",
    "created_at": "2019-03-09T21:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256195",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">Comment 5</div>

Even worse in terms of hidden side effects:

```
sage: R.<x> = LaurentSeriesRing(QQ,50)
sage: R.default_prec()
50
sage: S = PowerSeriesRing(QQ,50,names='x')
sage: S.set_default_prec(10)
sage: R.default_prec()
10
```



---

archive/issue_comments_256196.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nyes, this should definitely be changed",
    "created_at": "2019-03-11T15:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256196",
    "user": "https://github.com/nilesjohnson"
}
```

<div id="comment:6" align="right">Comment 6</div>

yes, this should definitely be changed



---

archive/issue_comments_256197.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nMoving all blocker/critical issues from 8.7 to 8.8.",
    "created_at": "2019-03-25T10:41:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256197",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">Comment 7</div>

Moving all blocker/critical issues from 8.7 to 8.8.



---

archive/issue_events_244018.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:41:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244018"
}
```



---

archive/issue_events_244019.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:41:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244019"
}
```



---

archive/issue_events_244020.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:39:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244020"
}
```



---

archive/issue_events_244021.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:39:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244021"
}
```



---

archive/issue_comments_256198.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nMoving open critical and blocker issues to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256198",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">Comment 8</div>

Moving open critical and blocker issues to the next release milestone (optimistically).



---

archive/issue_events_244022.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244022"
}
```



---

archive/issue_events_244023.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244023"
}
```



---

archive/issue_comments_256199.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256199",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">Comment 9</div>

Ticket retargeted after milestone closed



---

archive/issue_events_244024.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244024"
}
```



---

archive/issue_events_244025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244025"
}
```



---

archive/issue_events_244026.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244026"
}
```



---

archive/issue_events_244027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244027"
}
```



---

archive/issue_comments_256200.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI propose to go back to the idea from #16201. In particular, we should handle the whole precision business using a global variable. If desired, one could introduce several global variables (e.g. one for univariate power series and another for multivariate).\n\nI'll upload a branch soon.",
    "created_at": "2021-01-20T13:21:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256200",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:12" align="right">Comment 12</div>

I propose to go back to the idea from #16201. In particular, we should handle the whole precision business using a global variable. If desired, one could introduce several global variables (e.g. one for univariate power series and another for multivariate).

I'll upload a branch soon.



---

archive/issue_comments_256201.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nOkay, this is tricky: mostly all doctests heavily rely on the `default_prec` syntax, which is actually bad. Either we add after each example where the precision has been changed a\n\n```\nsage: set_series_precision(20)  # reset to default\n```\n\nor we have to establish each example with the default precision.\n\nAt least, this behavior would be expected with the proposed changes, whereas now it is entirely random to the user.\n\nAlternatively, we come up with an entirely different solution. I am open for suggestions.",
    "created_at": "2021-01-20T15:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256201",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:14" align="right">Comment 14</div>

Okay, this is tricky: mostly all doctests heavily rely on the `default_prec` syntax, which is actually bad. Either we add after each example where the precision has been changed a

```
sage: set_series_precision(20)  # reset to default
```

or we have to establish each example with the default precision.

At least, this behavior would be expected with the proposed changes, whereas now it is entirely random to the user.

Alternatively, we come up with an entirely different solution. I am open for suggestions.



---

archive/issue_comments_256202.json:
```json
{
    "body": "Branch: **[u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring)**",
    "created_at": "2021-01-20T21:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256202",
    "user": "https://github.com/mjungmath"
}
```

Branch: **[u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring)**



---

archive/issue_comments_256203.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nSo, this my first approach. Since the global variable `series_prec` keeps track of the multivariate case too (otherwise one runs into problems with the background power series ring), I set the default to 15, as a compromise for now.\n\nIf this meets your approval, we have to think what we should do with the failed doctests.\n\nI know, this is a big change. But the current behavior should not be further promoted either.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4b84d092820ea4c71f3925c8f09e6fbdfe142aa\">d4b84d0</a></td><td><code>Trac #18416: global precision</code></td></tr></table>\n",
    "created_at": "2021-01-20T21:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256203",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:16" align="right">Comment 16</div>

So, this my first approach. Since the global variable `series_prec` keeps track of the multivariate case too (otherwise one runs into problems with the background power series ring), I set the default to 15, as a compromise for now.

If this meets your approval, we have to think what we should do with the failed doctests.

I know, this is a big change. But the current behavior should not be further promoted either.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4b84d092820ea4c71f3925c8f09e6fbdfe142aa">d4b84d0</a></td><td><code>Trac #18416: global precision</code></td></tr></table>




---

archive/issue_comments_256204.json:
```json
{
    "body": "Changed keywords from **** to **power_series**",
    "created_at": "2021-01-20T21:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256204",
    "user": "https://github.com/mjungmath"
}
```

Changed keywords from **** to **power_series**



---

archive/issue_comments_256205.json:
```json
{
    "body": "Commit: **[d4b84d0](https://github.com/sagemath/sagetrac-mirror/commit/d4b84d092820ea4c71f3925c8f09e6fbdfe142aa)**",
    "created_at": "2021-01-20T21:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256205",
    "user": "https://github.com/mjungmath"
}
```

Commit: **[d4b84d0](https://github.com/sagemath/sagetrac-mirror/commit/d4b84d092820ea4c71f3925c8f09e6fbdfe142aa)**



---

archive/issue_comments_256206.json:
```json
{
    "body": "Author: **Michael Jung**",
    "created_at": "2021-01-20T21:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256206",
    "user": "https://github.com/mjungmath"
}
```

Author: **Michael Jung**



---

archive/issue_comments_256207.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92f06b83c10f3a891f6b203deb4c225e6ddf14af\">92f06b8</a></td><td><code>Trac #18416: unnecessary method overload</code></td></tr></table>\n",
    "created_at": "2021-01-20T21:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256207",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92f06b83c10f3a891f6b203deb4c225e6ddf14af">92f06b8</a></td><td><code>Trac #18416: unnecessary method overload</code></td></tr></table>




---

archive/issue_comments_256208.json:
```json
{
    "body": "Changed commit from **[d4b84d0](https://github.com/sagemath/sagetrac-mirror/commit/d4b84d092820ea4c71f3925c8f09e6fbdfe142aa)** to **[92f06b8](https://github.com/sagemath/sagetrac-mirror/commit/92f06b83c10f3a891f6b203deb4c225e6ddf14af)**",
    "created_at": "2021-01-20T21:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256208",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d4b84d0](https://github.com/sagemath/sagetrac-mirror/commit/d4b84d092820ea4c71f3925c8f09e6fbdfe142aa)** to **[92f06b8](https://github.com/sagemath/sagetrac-mirror/commit/92f06b83c10f3a891f6b203deb4c225e6ddf14af)**



---

archive/issue_comments_256209.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@mjungmath](#comment%3A12):\n> I propose to go back to the idea from #16201. In particular, we should handle the whole precision business using a global variable. If desired, one could introduce several global variables (e.g. one for univariate power series and another for multivariate).\n\nI am a very strong -1 on having a global variable for default precision. This would have far too many unintended side effects where code could seemingly-randomly change because you changed the default precision. This is something that should be strongly associated to the ring. I think the idea on #16201 of removing the ability to set the default precision is the correct one. If you want to change the precision, you need a new ring. This would be in line with real numbers.",
    "created_at": "2021-01-21T00:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256209",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@mjungmath](#comment%3A12):
> I propose to go back to the idea from #16201. In particular, we should handle the whole precision business using a global variable. If desired, one could introduce several global variables (e.g. one for univariate power series and another for multivariate).

I am a very strong -1 on having a global variable for default precision. This would have far too many unintended side effects where code could seemingly-randomly change because you changed the default precision. This is something that should be strongly associated to the ring. I think the idea on #16201 of removing the ability to set the default precision is the correct one. If you want to change the precision, you need a new ring. This would be in line with real numbers.



---

archive/issue_comments_256210.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nReplying to [@tscrim](#comment%3A18):\n> Replying to [@mjungmath](#comment%3A12):\n> > I propose to go back to the idea from #16201. In particular, we should handle the whole precision business using a global variable. If desired, one could introduce several global variables (e.g. one for univariate power series and another for multivariate).\n\n> \n> I am a very strong -1 on having a global variable for default precision. This would have far too many unintended side effects where code could seemingly-randomly change because you changed the default precision. This is something that should be strongly associated to the ring. I think the idea on #16201 of removing the ability to set the default precision is the correct one. If you want to change the precision, you need a new ring. This would be in line with real numbers.\n\nI totally agree: no precision should be handled by global variables. We have parents exactly for that purpose.",
    "created_at": "2021-01-21T07:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256210",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">Comment 19</div>

Replying to [@tscrim](#comment%3A18):
> Replying to [@mjungmath](#comment%3A12):
> > I propose to go back to the idea from #16201. In particular, we should handle the whole precision business using a global variable. If desired, one could introduce several global variables (e.g. one for univariate power series and another for multivariate).

> 
> I am a very strong -1 on having a global variable for default precision. This would have far too many unintended side effects where code could seemingly-randomly change because you changed the default precision. This is something that should be strongly associated to the ring. I think the idea on #16201 of removing the ability to set the default precision is the correct one. If you want to change the precision, you need a new ring. This would be in line with real numbers.

I totally agree: no precision should be handled by global variables. We have parents exactly for that purpose.



---

archive/issue_comments_256211.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nWatching how unpredictable the doctest behaves after this change, I totally agree. To be honest, I wasn't so convinced of this idea either.\n\nSo, remove all doctest related to `set_default_prec` and deprecate that function?",
    "created_at": "2021-01-21T08:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256211",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:20" align="right">Comment 20</div>

Watching how unpredictable the doctest behaves after this change, I totally agree. To be honest, I wasn't so convinced of this idea either.

So, remove all doctest related to `set_default_prec` and deprecate that function?



---

archive/issue_comments_256212.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nWhat about the current global variable? I think that should be deprecated as well if we don't pursue that behavior.",
    "created_at": "2021-01-21T08:30:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256212",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:21" align="right">Comment 21</div>

What about the current global variable? I think that should be deprecated as well if we don't pursue that behavior.



---

archive/issue_comments_256213.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nFor some reason, both the Laurent series ring and power series ring refer to the global series precision in the documentation even though they just use the locally defined default precision\n\nHowever, effectively, the global series precision is only used in `expression.pyx`.\n\nHow do we treat elements of a power series ring with different precision than its parent? I tend to say that the element's precision should be fixed and linked to the parent. But this would change the entire behavior of power series.",
    "created_at": "2021-01-21T13:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256213",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:22" align="right">Comment 22</div>

For some reason, both the Laurent series ring and power series ring refer to the global series precision in the documentation even though they just use the locally defined default precision

However, effectively, the global series precision is only used in `expression.pyx`.

How do we treat elements of a power series ring with different precision than its parent? I tend to say that the element's precision should be fixed and linked to the parent. But this would change the entire behavior of power series.



---

archive/issue_comments_256214.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nYes, we should deprecate `set_default_prec`.\n\nThere is some use for that global variable, that is to ensure consistency across implementations in Sage as it is not exposed to the user. It can also be used by an expert who knows what they are doing.\n\nThere should be a coercion from a parent with more (default) precision to one with less precision (over the same variables and base ring). (Of course, conversions should clearly be allowed.) This is in agreement with real numbers and if you create one with less precision, you are expecting to have less precision in the future. On the other hand, there is an argument that would say that because of how the precision is used, we should go the other way because we hold onto the cutoff and we should be as accurate as possible.\n\nI doubt for most people there will be any practical change.",
    "created_at": "2021-01-21T22:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256214",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">Comment 23</div>

Yes, we should deprecate `set_default_prec`.

There is some use for that global variable, that is to ensure consistency across implementations in Sage as it is not exposed to the user. It can also be used by an expert who knows what they are doing.

There should be a coercion from a parent with more (default) precision to one with less precision (over the same variables and base ring). (Of course, conversions should clearly be allowed.) This is in agreement with real numbers and if you create one with less precision, you are expecting to have less precision in the future. On the other hand, there is an argument that would say that because of how the precision is used, we should go the other way because we hold onto the cutoff and we should be as accurate as possible.

I doubt for most people there will be any practical change.



---

archive/issue_comments_256215.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@tscrim](#comment%3A23):\n> Yes, we should deprecate `set_default_prec`.\n> \n> There is some use for that global variable, that is to ensure consistency across implementations in Sage as it is not exposed to the user. It can also be used by an expert who knows what they are doing.\n> \n> There should be a coercion from a parent with more (default) precision to one with less precision (over the same variables and base ring). (Of course, conversions should clearly be allowed.) This is in agreement with real numbers and if you create one with less precision, you are expecting to have less precision in the future. On the other hand, there is an argument that would say that because of how the precision is used, we should go the other way because we hold onto the cutoff and we should be as accurate as possible.\n> \n> I doubt for most people there will be any practical change.\n\nThen, this needs a change of the current behavior, which is that the element's precision and precision of its parent are independent:\n\n```\nsage: R.<x> = PowerSeriesRing(QQ, default_prec=10)\nsage: p = R(x, prec=20); p\nx + O(x^20)\nsage: p.sin()\nx - 1/6*x^3 + 1/120*x^5 - 1/5040*x^7 + 1/362880*x^9 - 1/39916800*x^11 + 1/6227020800*x^13 - 1/1307674368000*x^15 + 1/355687428096000*x^17 - 1/121645100408832000*x^19 + O(x^20)\nsage: p.sin() in R\nTrue\n```",
    "created_at": "2021-01-22T11:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256215",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@tscrim](#comment%3A23):
> Yes, we should deprecate `set_default_prec`.
> 
> There is some use for that global variable, that is to ensure consistency across implementations in Sage as it is not exposed to the user. It can also be used by an expert who knows what they are doing.
> 
> There should be a coercion from a parent with more (default) precision to one with less precision (over the same variables and base ring). (Of course, conversions should clearly be allowed.) This is in agreement with real numbers and if you create one with less precision, you are expecting to have less precision in the future. On the other hand, there is an argument that would say that because of how the precision is used, we should go the other way because we hold onto the cutoff and we should be as accurate as possible.
> 
> I doubt for most people there will be any practical change.

Then, this needs a change of the current behavior, which is that the element's precision and precision of its parent are independent:

```
sage: R.<x> = PowerSeriesRing(QQ, default_prec=10)
sage: p = R(x, prec=20); p
x + O(x^20)
sage: p.sin()
x - 1/6*x^3 + 1/120*x^5 - 1/5040*x^7 + 1/362880*x^9 - 1/39916800*x^11 + 1/6227020800*x^13 - 1/1307674368000*x^15 + 1/355687428096000*x^17 - 1/121645100408832000*x^19 + O(x^20)
sage: p.sin() in R
True
```



---

archive/issue_comments_256216.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@mjungmath](#comment%3A24):\n> Then, this needs a change of the current behavior, which is that the element's precision and precision of its parent are independent\n\nThere's no particular problem with that: it's a default precision. If you explicitly want, you can ask for more precision. The issue arises because some operations (like coercing 1/(1+x) into a power series ring) need to choose a finite precision. In those cases, the default precision comes in.\n\nThere are other models; see the p-adics: for computational efficiency you may want to ensure you're never carrying around *more* than a certain number of terms. That would lead to a \"capped precision\" ring. But then you probably still want to allow for elements with less precision, because cancellation may mean that you simply can't determine more than a certain number of terms.",
    "created_at": "2021-01-23T05:27:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256216",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@mjungmath](#comment%3A24):
> Then, this needs a change of the current behavior, which is that the element's precision and precision of its parent are independent

There's no particular problem with that: it's a default precision. If you explicitly want, you can ask for more precision. The issue arises because some operations (like coercing 1/(1+x) into a power series ring) need to choose a finite precision. In those cases, the default precision comes in.

There are other models; see the p-adics: for computational efficiency you may want to ensure you're never carrying around *more* than a certain number of terms. That would lead to a "capped precision" ring. But then you probably still want to allow for elements with less precision, because cancellation may mean that you simply can't determine more than a certain number of terms.



---

archive/issue_comments_256217.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nI agree in so far as currently there's no particular problem with that behavior. In fact, the term `default_prec` and especially the method `set_defeault_prec` even promote it.\n\nHowever, if we want to *fix* the (default) precision of a power series ring instance, as Travis suggested in line with the real numbers, wouldn't it be confusing if its elements can still adopt higher (or lower) precision? This could also lead to unexpected and unwanted behavior when you try to coerce elements into elements of rings with higher/lower precision. This is in line with the real numbers, where you choose a precision and cannot increase the precision afterwards, and this makes perfect sense for power series, too. Increasing the precision (however that shall be possible after we've fixed the default precision and cannot be changed anymore), should then lead to another parent with corresponding higher precision.\n\nOne exception could be an element with infinite precision (i.e. a polynomial).",
    "created_at": "2021-01-23T10:22:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256217",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:26" align="right">Comment 26</div>

I agree in so far as currently there's no particular problem with that behavior. In fact, the term `default_prec` and especially the method `set_defeault_prec` even promote it.

However, if we want to *fix* the (default) precision of a power series ring instance, as Travis suggested in line with the real numbers, wouldn't it be confusing if its elements can still adopt higher (or lower) precision? This could also lead to unexpected and unwanted behavior when you try to coerce elements into elements of rings with higher/lower precision. This is in line with the real numbers, where you choose a precision and cannot increase the precision afterwards, and this makes perfect sense for power series, too. Increasing the precision (however that shall be possible after we've fixed the default precision and cannot be changed anymore), should then lead to another parent with corresponding higher precision.

One exception could be an element with infinite precision (i.e. a polynomial).



---

archive/issue_comments_256218.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nI think you are again confusing the precision of the element and the default precision of the ring. The former doesn't change no matter the default precision of the ring you are in. The latter only comes into play when you are doing a computation that requires a cutoff, such as division. The reality is I doubt anyone will be making a bunch of different power series rings with different precisions and mixing them together. The analog I made with the real numbers is not an exact comparison, but merely to point out the precedence for having a precision value set in the parent construction.",
    "created_at": "2021-01-23T22:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256218",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">Comment 27</div>

I think you are again confusing the precision of the element and the default precision of the ring. The former doesn't change no matter the default precision of the ring you are in. The latter only comes into play when you are doing a computation that requires a cutoff, such as division. The reality is I doubt anyone will be making a bunch of different power series rings with different precisions and mixing them together. The analog I made with the real numbers is not an exact comparison, but merely to point out the precedence for having a precision value set in the parent construction.



---

archive/issue_comments_256219.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nReplying to [@mjungmath](#comment%3A26):\n> This is in line with the real numbers, where you choose a precision and cannot increase the precision afterwards, and this makes perfect sense for power series, too.\n\nThe analogue of floating point numbers would be a laurent polynomial ring where you just chop after a fixed number of terms. Power series rings and p-adics actually more resemble the `RealIntervalField` and `RealBallField`, where elements carry precision information with it, so that you can actually PROVE that two elements are distinct (you can only do that with floating point if you analyze the computation that you have used to arrive at those numbers).",
    "created_at": "2021-01-24T02:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256219",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:28" align="right">Comment 28</div>

Replying to [@mjungmath](#comment%3A26):
> This is in line with the real numbers, where you choose a precision and cannot increase the precision afterwards, and this makes perfect sense for power series, too.

The analogue of floating point numbers would be a laurent polynomial ring where you just chop after a fixed number of terms. Power series rings and p-adics actually more resemble the `RealIntervalField` and `RealBallField`, where elements carry precision information with it, so that you can actually PROVE that two elements are distinct (you can only do that with floating point if you analyze the computation that you have used to arrive at those numbers).



---

archive/issue_comments_256220.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nOkay, I obviously misunderstood Travis' comparison with the real numbers. Thank you both for your thorough explaination.\n\nSo, the idea is then simply to deprecate `set_default_prec`, remove its use in the documentation and provide a coercion (and keep the precision for elements)? Then add some examples like\n\n```\nsage: R.<x> = PowerSeriesRing(QQ, default_prec=10)\nsage: f = sin(x); f\nx - 1/6*x^3 + 1/120*x^5 - 1/5040*x^7 + 1/362880*x^9 + O(x^10)\nsage: P.<x> = PowerSeriesRing(QQ, default_prec=5)\nsage. P(f)\nx - 1/6*x^3 + O(x^5)\n```",
    "created_at": "2021-01-24T10:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256220",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:29" align="right">Comment 29</div>

Okay, I obviously misunderstood Travis' comparison with the real numbers. Thank you both for your thorough explaination.

So, the idea is then simply to deprecate `set_default_prec`, remove its use in the documentation and provide a coercion (and keep the precision for elements)? Then add some examples like

```
sage: R.<x> = PowerSeriesRing(QQ, default_prec=10)
sage: f = sin(x); f
x - 1/6*x^3 + 1/120*x^5 - 1/5040*x^7 + 1/362880*x^9 + O(x^10)
sage: P.<x> = PowerSeriesRing(QQ, default_prec=5)
sage. P(f)
x - 1/6*x^3 + O(x^5)
```



---

archive/issue_comments_256221.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nYes, that is correct other than the example, where the result of `P(f)` will be the same `f`. However, a good illustration of the difference is doing the exact same computation but in `P` (which will yield the output you have).",
    "created_at": "2021-02-01T03:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256221",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">Comment 30</div>

Yes, that is correct other than the example, where the result of `P(f)` will be the same `f`. However, a good illustration of the difference is doing the exact same computation but in `P` (which will yield the output you have).



---

archive/issue_comments_256222.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fec4b0622eeb4f55f14cc6a3da6e5a832b44d006\">fec4b06</a></td><td><code>fix sage -b after 30622</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dff846c11bce847f883a866dcc9c85b67932f7aa\">dff846c</a></td><td><code>go through make/build/install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fe2c12e065fbc639b3ef3751ba376eec184bfbe\">4fe2c12</a></td><td><code>Trac #18416: deprecate set_default_prec</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdb5c553a4203d963b4a148f8d4c344b0f239685\">cdb5c55</a></td><td><code>Trac #18416: add doctest</code></td></tr></table>\n",
    "created_at": "2021-02-01T17:32:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256222",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31" align="right">Comment 31</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fec4b0622eeb4f55f14cc6a3da6e5a832b44d006">fec4b06</a></td><td><code>fix sage -b after 30622</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dff846c11bce847f883a866dcc9c85b67932f7aa">dff846c</a></td><td><code>go through make/build/install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fe2c12e065fbc639b3ef3751ba376eec184bfbe">4fe2c12</a></td><td><code>Trac #18416: deprecate set_default_prec</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdb5c553a4203d963b4a148f8d4c344b0f239685">cdb5c55</a></td><td><code>Trac #18416: add doctest</code></td></tr></table>




---

archive/issue_comments_256223.json:
```json
{
    "body": "Changed commit from **[92f06b8](https://github.com/sagemath/sagetrac-mirror/commit/92f06b83c10f3a891f6b203deb4c225e6ddf14af)** to **[cdb5c55](https://github.com/sagemath/sagetrac-mirror/commit/cdb5c553a4203d963b4a148f8d4c344b0f239685)**",
    "created_at": "2021-02-01T17:32:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256223",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[92f06b8](https://github.com/sagemath/sagetrac-mirror/commit/92f06b83c10f3a891f6b203deb4c225e6ddf14af)** to **[cdb5c55](https://github.com/sagemath/sagetrac-mirror/commit/cdb5c553a4203d963b4a148f8d4c344b0f239685)**



---

archive/issue_events_244028.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2021-02-01T17:33:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244028"
}
```



---

archive/issue_comments_256224.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nSomething like this?",
    "created_at": "2021-02-01T18:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256224",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:33" align="right">Comment 33</div>

Something like this?



---

archive/issue_comments_256225.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78cef3829c679fc857be02232023cf6bd7d743f1\">78cef38</a></td><td><code>Trac #18416: remove set_default_prec in source code</code></td></tr></table>\n",
    "created_at": "2021-02-01T19:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256225",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34" align="right">Comment 34</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78cef3829c679fc857be02232023cf6bd7d743f1">78cef38</a></td><td><code>Trac #18416: remove set_default_prec in source code</code></td></tr></table>




---

archive/issue_comments_256226.json:
```json
{
    "body": "Changed commit from **[cdb5c55](https://github.com/sagemath/sagetrac-mirror/commit/cdb5c553a4203d963b4a148f8d4c344b0f239685)** to **[78cef38](https://github.com/sagemath/sagetrac-mirror/commit/78cef3829c679fc857be02232023cf6bd7d743f1)**",
    "created_at": "2021-02-01T19:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256226",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cdb5c55](https://github.com/sagemath/sagetrac-mirror/commit/cdb5c553a4203d963b4a148f8d4c344b0f239685)** to **[78cef38](https://github.com/sagemath/sagetrac-mirror/commit/78cef3829c679fc857be02232023cf6bd7d743f1)**



---

archive/issue_comments_256227.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nOverall yes, but I think it would be better to deprecate the `set_default_prec` in `Nonexact` and continue to use that mix-in class. It is a nice indicator class that might be useful. Plus it would fix both types of power series rings in one place and make future maintenance easier.",
    "created_at": "2021-02-02T06:31:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256227",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:35" align="right">Comment 35</div>

Overall yes, but I think it would be better to deprecate the `set_default_prec` in `Nonexact` and continue to use that mix-in class. It is a nice indicator class that might be useful. Plus it would fix both types of power series rings in one place and make future maintenance easier.



---

archive/issue_comments_256228.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nAre you sure this is a good idea? I mean, this method only causes trouble when you mix-in the class together with `UniqueRepresentation`. What if one still wants to use `Nonexact` and the feature `set_default_prec`?",
    "created_at": "2021-02-02T07:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256228",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:36" align="right">Comment 36</div>

Are you sure this is a good idea? I mean, this method only causes trouble when you mix-in the class together with `UniqueRepresentation`. What if one still wants to use `Nonexact` and the feature `set_default_prec`?



---

archive/issue_comments_256229.json:
```json
{
    "body": "Changed commit from **[78cef38](https://github.com/sagemath/sagetrac-mirror/commit/78cef3829c679fc857be02232023cf6bd7d743f1)** to **[a13c408](https://github.com/sagemath/sagetrac-mirror/commit/a13c408db8ab421b8ab0fa3cf4d43babe78be33d)**",
    "created_at": "2021-02-02T08:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256229",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[78cef38](https://github.com/sagemath/sagetrac-mirror/commit/78cef3829c679fc857be02232023cf6bd7d743f1)** to **[a13c408](https://github.com/sagemath/sagetrac-mirror/commit/a13c408db8ab421b8ab0fa3cf4d43babe78be33d)**



---

archive/issue_comments_256230.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a13c408db8ab421b8ab0fa3cf4d43babe78be33d\">a13c408</a></td><td><code>Trac #18416: Nonexact improved + set_default_prec deprecated</code></td></tr></table>\n",
    "created_at": "2021-02-02T08:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256230",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37" align="right">Comment 37</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a13c408db8ab421b8ab0fa3cf4d43babe78be33d">a13c408</a></td><td><code>Trac #18416: Nonexact improved + set_default_prec deprecated</code></td></tr></table>




---

archive/issue_comments_256231.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nOkay, this class is used nowhere else. Instead, I have deprecated the method in `Nonexact` and improved its documentation to clarify the proper usage.",
    "created_at": "2021-02-02T08:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256231",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:38" align="right">Comment 38</div>

Okay, this class is used nowhere else. Instead, I have deprecated the method in `Nonexact` and improved its documentation to clarify the proper usage.



---

archive/issue_comments_256232.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f806db1621786a5c6488ee72f1d5e8742d1e0d60\">f806db1</a></td><td><code>Trac #18416: remove double underscore;__default_prec -> _default_prec</code></td></tr></table>\n",
    "created_at": "2021-02-02T08:57:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256232",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39" align="right">Comment 39</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f806db1621786a5c6488ee72f1d5e8742d1e0d60">f806db1</a></td><td><code>Trac #18416: remove double underscore;__default_prec -> _default_prec</code></td></tr></table>




---

archive/issue_comments_256233.json:
```json
{
    "body": "Changed commit from **[a13c408](https://github.com/sagemath/sagetrac-mirror/commit/a13c408db8ab421b8ab0fa3cf4d43babe78be33d)** to **[f806db1](https://github.com/sagemath/sagetrac-mirror/commit/f806db1621786a5c6488ee72f1d5e8742d1e0d60)**",
    "created_at": "2021-02-02T08:57:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256233",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a13c408](https://github.com/sagemath/sagetrac-mirror/commit/a13c408db8ab421b8ab0fa3cf4d43babe78be33d)** to **[f806db1](https://github.com/sagemath/sagetrac-mirror/commit/f806db1621786a5c6488ee72f1d5e8742d1e0d60)**



---

archive/issue_comments_256234.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nThe only things I would change before giving a positive review (with a green patchbot) are the deprecation message to\n\n```\nThe method set_default_prec() is deprecated and will be removed in a future version of Sage. The default precision is set during construction.\n```\nand this\n\n```diff\n-The default precision of a power series ring instance stays fixed and\n-cannot be changed. To work with different default precisions, we must\n-establish new instances instead::\n+The default precision of a power series ring stays fixed and\n+cannot be changed. To work with different default precision, create\n+a new power series ring::\n```",
    "created_at": "2021-02-04T05:23:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256234",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:40" align="right">Comment 40</div>

The only things I would change before giving a positive review (with a green patchbot) are the deprecation message to

```
The method set_default_prec() is deprecated and will be removed in a future version of Sage. The default precision is set during construction.
```
and this

```diff
-The default precision of a power series ring instance stays fixed and
-cannot be changed. To work with different default precisions, we must
-establish new instances instead::
+The default precision of a power series ring stays fixed and
+cannot be changed. To work with different default precision, create
+a new power series ring::
```



---

archive/issue_comments_256235.json:
```json
{
    "body": "Changed commit from **[f806db1](https://github.com/sagemath/sagetrac-mirror/commit/f806db1621786a5c6488ee72f1d5e8742d1e0d60)** to **[af42804](https://github.com/sagemath/sagetrac-mirror/commit/af4280479548603e4b0cab8cf81047eba8a4ab0c)**",
    "created_at": "2021-02-05T09:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256235",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f806db1](https://github.com/sagemath/sagetrac-mirror/commit/f806db1621786a5c6488ee72f1d5e8742d1e0d60)** to **[af42804](https://github.com/sagemath/sagetrac-mirror/commit/af4280479548603e4b0cab8cf81047eba8a4ab0c)**



---

archive/issue_comments_256236.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eecbf2aaec58a5463dabb0a5a8944773533ca824\">eecbf2a</a></td><td><code>Trac #18416: deprecate set_default_prec</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a176d192aa5abb142ea56274933c471fb6dd12f\">0a176d1</a></td><td><code>Trac #18416: remove double underscore;__default_prec -> _default_prec</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af4280479548603e4b0cab8cf81047eba8a4ab0c\">af42804</a></td><td><code>Trac #18416: deprecation message</code></td></tr></table>\n",
    "created_at": "2021-02-05T09:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256236",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41" align="right">Comment 41</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eecbf2aaec58a5463dabb0a5a8944773533ca824">eecbf2a</a></td><td><code>Trac #18416: deprecate set_default_prec</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a176d192aa5abb142ea56274933c471fb6dd12f">0a176d1</a></td><td><code>Trac #18416: remove double underscore;__default_prec -> _default_prec</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af4280479548603e4b0cab8cf81047eba8a4ab0c">af42804</a></td><td><code>Trac #18416: deprecation message</code></td></tr></table>




---

archive/issue_comments_256237.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nThere we go. :)",
    "created_at": "2021-02-05T09:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256237",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:42" align="right">Comment 42</div>

There we go. :)



---

archive/issue_comments_256238.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nchanging src/bin/sage is not a thing to do",
    "created_at": "2021-02-05T19:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256238",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:43" align="right">Comment 43</div>

changing src/bin/sage is not a thing to do



---

archive/issue_comments_256239.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nI merged #31263 to use the `sage -b` command...\n\nRebase?",
    "created_at": "2021-02-05T19:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256239",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:44" align="right">Comment 44</div>

I merged #31263 to use the `sage -b` command...

Rebase?



---

archive/issue_comments_256240.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\n* you could have used \"make build\" instead of \"sage -b\", until this is repaired\n\n* do not rebase, but add #31263 in the dependency field here above (I did that for you)\n\n* changing the src/bin/sage file make your ticket \"unsafe\", so patchbots do not test it",
    "created_at": "2021-02-05T20:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256240",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:45" align="right">Comment 45</div>

* you could have used "make build" instead of "sage -b", until this is repaired

* do not rebase, but add #31263 in the dependency field here above (I did that for you)

* changing the src/bin/sage file make your ticket "unsafe", so patchbots do not test it



---

archive/issue_comments_256241.json:
```json
{
    "body": "Dependencies: **#31263**",
    "created_at": "2021-02-05T20:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256241",
    "user": "https://github.com/fchapoton"
}
```

Dependencies: **#31263**



---

archive/issue_comments_256242.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nThat is good to know. Thank you for pointing this out.\n\nTravis, are you satisfied?",
    "created_at": "2021-02-05T22:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256242",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:46" align="right">Comment 46</div>

That is good to know. Thank you for pointing this out.

Travis, are you satisfied?



---

archive/issue_events_244029.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-02-08T23:42:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244029"
}
```



---

archive/issue_events_244030.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-02-08T23:42:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244030"
}
```



---

archive/issue_comments_256243.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-02-08T23:42:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256243",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_256244.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nYep. LGTM. Thank you.",
    "created_at": "2021-02-08T23:42:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256244",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:47" align="right">Comment 47</div>

Yep. LGTM. Thank you.



---

archive/issue_events_244031.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-02-28T12:16:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244031"
}
```



---

archive/issue_events_244032.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-02-28T12:16:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244032"
}
```



---

archive/issue_comments_256245.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\n\n```\n[dochtml] Traceback (most recent call last):\n[dochtml]   File \"/usr/lib64/python3.9/runpy.py\", line 197, in _run_module_as_main\n[dochtml]     return _run_code(code, main_globals, None,\n[dochtml]   File \"/usr/lib64/python3.9/runpy.py\", line 87, in _run_code\n[dochtml]     exec(code, run_globals)\n[dochtml]   File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n[dochtml]     main()\n[dochtml]   File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py\", line 1738, in main\n[dochtml]     builder()\n[dochtml]   File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py\", line 345, in _wrapper\n[dochtml]     getattr(get_builder(document), 'inventory')(*args, **kwds)\n[dochtml]   File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py\", line 577, in _wrapper\n[dochtml]     self._build_everything_except_bibliography(lang, format, *args, **kwds)\n[dochtml]   File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py\", line 563, in _build_everything_except_bibliography\n[dochtml]     build_many(build_ref_doc, non_references)\n[dochtml]   File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py\", line 297, in build_many\n[dochtml]     _build_many(target, args, processes=processes)\n[dochtml]   File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/utils.py\", line 289, in build_many\n[dochtml]     raise worker_exc.original_exception\n[dochtml] OSError: /home/release/Sage/local/lib64/python3.9/site-packages/sage/structure/nonexact.py:docstring of sage.structure.nonexact.Nonexact:6: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[dochtml] \n[dochtml]     Note: incremental documentation builds sometimes cause spurious\n[dochtml]     error messages. To be certain that these are real errors, run\n[dochtml]     \"make doc-clean\" first and try again.\nmake[3]: *** [Makefile:1916: doc-html] Error 1\n```",
    "created_at": "2021-02-28T12:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256245",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:48" align="right">Comment 48</div>


```
[dochtml] Traceback (most recent call last):
[dochtml]   File "/usr/lib64/python3.9/runpy.py", line 197, in _run_module_as_main
[dochtml]     return _run_code(code, main_globals, None,
[dochtml]   File "/usr/lib64/python3.9/runpy.py", line 87, in _run_code
[dochtml]     exec(code, run_globals)
[dochtml]   File "/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
[dochtml]     main()
[dochtml]   File "/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py", line 1738, in main
[dochtml]     builder()
[dochtml]   File "/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py", line 345, in _wrapper
[dochtml]     getattr(get_builder(document), 'inventory')(*args, **kwds)
[dochtml]   File "/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py", line 577, in _wrapper
[dochtml]     self._build_everything_except_bibliography(lang, format, *args, **kwds)
[dochtml]   File "/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py", line 563, in _build_everything_except_bibliography
[dochtml]     build_many(build_ref_doc, non_references)
[dochtml]   File "/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/__init__.py", line 297, in build_many
[dochtml]     _build_many(target, args, processes=processes)
[dochtml]   File "/home/release/Sage/local/lib64/python3.9/site-packages/sage_setup/docbuild/utils.py", line 289, in build_many
[dochtml]     raise worker_exc.original_exception
[dochtml] OSError: /home/release/Sage/local/lib64/python3.9/site-packages/sage/structure/nonexact.py:docstring of sage.structure.nonexact.Nonexact:6: WARNING: Bullet list ends without a blank line; unexpected unindent.
[dochtml] 
[dochtml]     Note: incremental documentation builds sometimes cause spurious
[dochtml]     error messages. To be certain that these are real errors, run
[dochtml]     "make doc-clean" first and try again.
make[3]: *** [Makefile:1916: doc-html] Error 1
```



---

archive/issue_comments_256246.json:
```json
{
    "body": "Changed commit from **[af42804](https://github.com/sagemath/sagetrac-mirror/commit/af4280479548603e4b0cab8cf81047eba8a4ab0c)** to **[f38b78e](https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f)**",
    "created_at": "2021-02-28T14:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256246",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[af42804](https://github.com/sagemath/sagetrac-mirror/commit/af4280479548603e4b0cab8cf81047eba8a4ab0c)** to **[f38b78e](https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f)**



---

archive/issue_comments_256247.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f\">f38b78e</a></td><td><code>Trac #18416: docstring bullet point</code></td></tr></table>\n",
    "created_at": "2021-02-28T14:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256247",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49" align="right">Comment 49</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f">f38b78e</a></td><td><code>Trac #18416: docstring bullet point</code></td></tr></table>




---

archive/issue_comments_256248.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nJust one character missing...here we go.",
    "created_at": "2021-02-28T14:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256248",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:50" align="right">Comment 50</div>

Just one character missing...here we go.



---

archive/issue_events_244033.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2021-02-28T14:25:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244033"
}
```



---

archive/issue_events_244034.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2021-02-28T14:25:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244034"
}
```



---

archive/issue_events_244035.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-02-28T22:02:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244035"
}
```



---

archive/issue_events_244036.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-02-28T22:02:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244036"
}
```



---

archive/issue_comments_256249.json:
```json
{
    "body": "Changed branch from **[u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring)** to **[f38b78e](https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f)**",
    "created_at": "2021-03-07T17:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18416#issuecomment-256249",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mjungmath/uniquerepresentation_issue_with_powerseriesring)** to **[f38b78e](https://github.com/sagemath/sagetrac-mirror/commit/f38b78ef74405164bb576112f4b17b6e90277c7f)**



---

archive/issue_events_244037.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-07T17:06:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244037"
}
```



---

archive/issue_events_244038.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "034ca5e1b02cec796fae84df6370c2d65938c0d0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-03-07T17:06:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18416",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18416#event-244038"
}
```
