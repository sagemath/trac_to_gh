# Issue 18213: A lot of polytope constructors are broken

archive/issues_017976.json:
```json
{
    "body": "A lot of polytopes constructors in `sage.geometry.polyhedron.library`. For example\n\n1. The Rhombicuboctahedron does not return what it should (as Python division was thought as Sage integer divisions). There is in the code\n\n```\nverts = [ [-3/2, -1/2, -1/2], [-3/2, -1/2, 1/2], [-3/2, 1/2, -1/2],\n...\n```\n\n2. The `great_rhombicuboctahedron` is defined over `QQ` but it should be defined over `QQ[sqrt(2)]`! There are in two places rough approximation of sqrt(2) in the code\n\n```\nv1 = QQ(131739771357/54568400000)   # ~ sqrt(2) + 1 but actually 2 due to Python division\nv2 = QQ(104455571357/27284200000)   # ~ 2 sqrt(2) but actually 3 due to Python division\n```\nInstead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.\n\n3. The functions unrelated to construction of Polytopes are moved out of the class `Polytopes`:\n   - `Polytopes.orthonormal_1`, `Polytopes.project_1` will be renamed respectively `zero_sum_projection` and `project_points`\n   - the one line `Polytopes._pfunc` is just removed\n\nWhile we're at it, remove the deprecations from #11634.\n\nDuring the process I discovered two annoying bugs:\n- #18214 Bug in volume computation of polyhedron\n- #18220 Bug when creating a polyhedron with coefficients in RR\nMoreover, we can get a great speed up with the following because many polytopes have now coordinates in a quadratic number fields:\n- #18215: Huge speed up for hash of quadratic number field elements\n- #18226: Native `_mpfr_` method on quadratic number field elements\n\nDepends on #18211\n\n**CC:**  @nathanncohen\n\n**Branch/Commit:** [a58da00e4907251c2ab47d7af1109da31901ee36](https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36)\n\n**Reviewer:** Nathann Cohen\n\n**Author:** Vincent Delecroix\n\nIssue created by migration from https://trac.sagemath.org/ticket/18213\n\n",
    "closed_at": "2015-04-19T01:52:06Z",
    "created_at": "2015-04-15T21:42:33Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.7",
    "title": "A lot of polytope constructors are broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/18213",
    "user": "https://github.com/videlec"
}
```
A lot of polytopes constructors in `sage.geometry.polyhedron.library`. For example

1. The Rhombicuboctahedron does not return what it should (as Python division was thought as Sage integer divisions). There is in the code

```
verts = [ [-3/2, -1/2, -1/2], [-3/2, -1/2, 1/2], [-3/2, 1/2, -1/2],
...
```

2. The `great_rhombicuboctahedron` is defined over `QQ` but it should be defined over `QQ[sqrt(2)]`! There are in two places rough approximation of sqrt(2) in the code

```
v1 = QQ(131739771357/54568400000)   # ~ sqrt(2) + 1 but actually 2 due to Python division
v2 = QQ(104455571357/27284200000)   # ~ 2 sqrt(2) but actually 3 due to Python division
```
Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.

3. The functions unrelated to construction of Polytopes are moved out of the class `Polytopes`:
   - `Polytopes.orthonormal_1`, `Polytopes.project_1` will be renamed respectively `zero_sum_projection` and `project_points`
   - the one line `Polytopes._pfunc` is just removed

While we're at it, remove the deprecations from #11634.

During the process I discovered two annoying bugs:
- #18214 Bug in volume computation of polyhedron
- #18220 Bug when creating a polyhedron with coefficients in RR
Moreover, we can get a great speed up with the following because many polytopes have now coordinates in a quadratic number fields:
- #18215: Huge speed up for hash of quadratic number field elements
- #18226: Native `_mpfr_` method on quadratic number field elements

Depends on #18211

**CC:**  @nathanncohen

**Branch/Commit:** [a58da00e4907251c2ab47d7af1109da31901ee36](https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36)

**Reviewer:** Nathann Cohen

**Author:** Vincent Delecroix

Issue created by migration from https://trac.sagemath.org/ticket/18213





---

archive/issue_comments_251761.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,10 +7,12 @@\n ...\n ```\n \n-2. The `great_rhombicuboctahedron` is defined over `QQ` but it should be defined over `QQ[sqrt(2)]`!! There are in two places rough approximation of sqrt(2) in the code\n+2. The `great_rhombicuboctahedron` is defined over `QQ` but it should be defined over `QQ[sqrt(2)]`! There are in two places rough approximation of sqrt(2) in the code\n \n ```\n-v1 = QQ(131739771357/54568400000)   # ~ sqrt(2) + 1\n-v2 = QQ(104455571357/27284200000)   # ~ 2 sqrt(2)\n+v1 = QQ(131739771357/54568400000)   # ~ sqrt(2) + 1 but actually 2 due to Python division\n+v2 = QQ(104455571357/27284200000)   # ~ 2 sqrt(2) but actually 3 due to Python division\n ```\n-  Now that Sage supports Polyhedron over number fields, we should use them!\n+Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.\n+\n+3. While we're at it, remove the deprecations from #11634.\n``````\n",
    "created_at": "2015-04-16T06:14:18Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251761",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,10 +7,12 @@
 ...
 ```
 
-2. The `great_rhombicuboctahedron` is defined over `QQ` but it should be defined over `QQ[sqrt(2)]`!! There are in two places rough approximation of sqrt(2) in the code
+2. The `great_rhombicuboctahedron` is defined over `QQ` but it should be defined over `QQ[sqrt(2)]`! There are in two places rough approximation of sqrt(2) in the code
 
 ```
-v1 = QQ(131739771357/54568400000)   # ~ sqrt(2) + 1
-v2 = QQ(104455571357/27284200000)   # ~ 2 sqrt(2)
+v1 = QQ(131739771357/54568400000)   # ~ sqrt(2) + 1 but actually 2 due to Python division
+v2 = QQ(104455571357/27284200000)   # ~ 2 sqrt(2) but actually 3 due to Python division
 ```
-  Now that Sage supports Polyhedron over number fields, we should use them!
+Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.
+
+3. While we're at it, remove the deprecations from #11634.
``````




---

archive/issue_comments_251762.json:
```json
{
    "body": "**Author:** Vincent Delecroix",
    "created_at": "2015-04-16T09:13:06Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251762",
    "user": "https://github.com/videlec"
}
```

**Author:** Vincent Delecroix



---

archive/issue_comments_251763.json:
```json
{
    "body": "<a id='comment:3'></a>\nI have a big commit to push in few minutes...",
    "created_at": "2015-04-16T09:13:06Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251763",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
I have a big commit to push in few minutes...



---

archive/issue_comments_251764.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788\">5110cc9</a></td><td><code>Trac 18211: use LattE to compute the Ehrhart polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf2a10f56ecacf682d57bb355ddfd9980eaee001\">cf2a10f</a></td><td><code>Trac 18211: another example using Birkhoff_polytope</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca8da5a732ca6247cc4ffd375f94f859b6cdf0b1\">ca8da5a</a></td><td><code>Trac 18211: fixed spelling LattE integral*e*</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052\">d52053c</a></td><td><code>Trac 18211: check error + options</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7\">0f5122b</a></td><td><code>Trac 18211: fix command line arguments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9\">b877932</a></td><td><code>Trac 18211: fix arguments + doctests + cwd=SAGE_TMP</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b30bc8aa4c9da24fef6e5c7fdceafe59e6701e0\">3b30bc8</a></td><td><code>Trac 18213: rewrite the polyhedron library</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e598e289689ad8c294500303c89d5c1a0de2a060\">e598e28</a></td><td><code>Trac 18123: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-04-16T14:33:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251764",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5110cc954a88ce5477b7f35b60551aae69d9a788">5110cc9</a></td><td><code>Trac 18211: use LattE to compute the Ehrhart polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf2a10f56ecacf682d57bb355ddfd9980eaee001">cf2a10f</a></td><td><code>Trac 18211: another example using Birkhoff_polytope</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca8da5a732ca6247cc4ffd375f94f859b6cdf0b1">ca8da5a</a></td><td><code>Trac 18211: fixed spelling LattE integral*e*</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d52053c18a593a621af90b43608851304bc32052">d52053c</a></td><td><code>Trac 18211: check error + options</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f5122bddee5f104a3e2ff65715129eb275452e7">0f5122b</a></td><td><code>Trac 18211: fix command line arguments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b877932445212ddfd72fd70079c53f17df6d5fd9">b877932</a></td><td><code>Trac 18211: fix arguments + doctests + cwd=SAGE_TMP</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b30bc8aa4c9da24fef6e5c7fdceafe59e6701e0">3b30bc8</a></td><td><code>Trac 18213: rewrite the polyhedron library</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e598e289689ad8c294500303c89d5c1a0de2a060">e598e28</a></td><td><code>Trac 18123: fix doctests</code></td></tr></table>




---

archive/issue_comments_251765.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/18123](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18123)",
    "created_at": "2015-04-16T14:33:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251765",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/18123](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18123)



---

archive/issue_events_163457.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-16T14:33:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163457"
}
```



---

archive/issue_comments_251766.json:
```json
{
    "body": "**Commit:** [e598e289689ad8c294500303c89d5c1a0de2a060](https://github.com/sagemath/sagetrac-mirror/commit/e598e289689ad8c294500303c89d5c1a0de2a060)",
    "created_at": "2015-04-16T14:33:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251766",
    "user": "https://github.com/videlec"
}
```

**Commit:** [e598e289689ad8c294500303c89d5c1a0de2a060](https://github.com/sagemath/sagetrac-mirror/commit/e598e289689ad8c294500303c89d5c1a0de2a060)



---

archive/issue_comments_251767.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-A lot of polytopes constructors in `sage.geometry.polyhedron.library`.\n+A lot of polytopes constructors in `sage.geometry.polyhedron.library`. For example\n \n 1. The Rhombicuboctahedron does not return what it should (as Python division was thought as Sage integer divisions). There is in the code\n \n@@ -15,4 +15,4 @@\n ```\n Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.\n \n-3. While we're at it, remove the deprecations from #11634.\n+While we're at it, remove the deprecations from #11634.\n``````\n",
    "created_at": "2015-04-16T14:33:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251767",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-A lot of polytopes constructors in `sage.geometry.polyhedron.library`.
+A lot of polytopes constructors in `sage.geometry.polyhedron.library`. For example
 
 1. The Rhombicuboctahedron does not return what it should (as Python division was thought as Sage integer divisions). There is in the code
 
@@ -15,4 +15,4 @@
 ```
 Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.
 
-3. While we're at it, remove the deprecations from #11634.
+While we're at it, remove the deprecations from #11634.
``````




---

archive/issue_comments_251768.json:
```json
{
    "body": "<a id='comment:5'></a>\nDepends on #18211?",
    "created_at": "2015-04-16T14:34:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251768",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
Depends on #18211?



---

archive/issue_comments_251769.json:
```json
{
    "body": "**Dependencies:** #18211",
    "created_at": "2015-04-16T14:35:31Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251769",
    "user": "https://github.com/videlec"
}
```

**Dependencies:** #18211



---

archive/issue_comments_251770.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [@nathanncohen](#comment%3A5):\n> Depends on #18211?\n\nYes\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c44b53efbe0fa899951481b96c4ab0a15ebb88e3\">c44b53e</a></td><td><code>Trac 18213: fix doctests</code></td></tr></table>\n",
    "created_at": "2015-04-16T14:35:31Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251770",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
Replying to [@nathanncohen](#comment%3A5):
> Depends on #18211?

Yes

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c44b53efbe0fa899951481b96c4ab0a15ebb88e3">c44b53e</a></td><td><code>Trac 18213: fix doctests</code></td></tr></table>




---

archive/issue_comments_251771.json:
```json
{
    "body": "**Changing commit** from \"[e598e289689ad8c294500303c89d5c1a0de2a060](https://github.com/sagemath/sagetrac-mirror/commit/e598e289689ad8c294500303c89d5c1a0de2a060)\" to \"[c44b53efbe0fa899951481b96c4ab0a15ebb88e3](https://github.com/sagemath/sagetrac-mirror/commit/c44b53efbe0fa899951481b96c4ab0a15ebb88e3)\".",
    "created_at": "2015-04-16T14:35:31Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251771",
    "user": "https://github.com/videlec"
}
```

**Changing commit** from "[e598e289689ad8c294500303c89d5c1a0de2a060](https://github.com/sagemath/sagetrac-mirror/commit/e598e289689ad8c294500303c89d5c1a0de2a060)" to "[c44b53efbe0fa899951481b96c4ab0a15ebb88e3](https://github.com/sagemath/sagetrac-mirror/commit/c44b53efbe0fa899951481b96c4ab0a15ebb88e3)".



---

archive/issue_comments_251772.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/18123](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18123)\" to \"[u/vdelecroix/18213](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18213)\".",
    "created_at": "2015-04-16T14:35:31Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251772",
    "user": "https://github.com/videlec"
}
```

**Changing branch** from "[u/vdelecroix/18123](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18123)" to "[u/vdelecroix/18213](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18213)".



---

archive/issue_comments_251773.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,3 +16,9 @@\n Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.\n \n While we're at it, remove the deprecations from #11634.\n+\n+During the process I discovered two annoying bugs:\n+- #18214 Bug in volume computation of polyhedron\n+- #18220 Bug when creating a polyhedron with coefficients in RR\n+Moreover, we can get a great speed up with the following because many polytopes have now coordinates in a quadratic number fields:\n+- #18215: Huge speed up for hash of quadratic number field elements\n``````\n",
    "created_at": "2015-04-16T14:43:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251773",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,3 +16,9 @@
 Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.
 
 While we're at it, remove the deprecations from #11634.
+
+During the process I discovered two annoying bugs:
+- #18214 Bug in volume computation of polyhedron
+- #18220 Bug when creating a polyhedron with coefficients in RR
+Moreover, we can get a great speed up with the following because many polytopes have now coordinates in a quadratic number fields:
+- #18215: Huge speed up for hash of quadratic number field elements
``````




---

archive/issue_comments_251774.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e7cf214ea1ee23be11060e0327d20e2ff1a35c8\">6e7cf21</a></td><td><code>trac #18211: Seealsos</code></td></tr></table>\n",
    "created_at": "2015-04-16T15:36:59Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251774",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e7cf214ea1ee23be11060e0327d20e2ff1a35c8">6e7cf21</a></td><td><code>trac #18211: Seealsos</code></td></tr></table>




---

archive/issue_comments_251775.json:
```json
{
    "body": "**Changing commit** from \"[c44b53efbe0fa899951481b96c4ab0a15ebb88e3](https://github.com/sagemath/sagetrac-mirror/commit/c44b53efbe0fa899951481b96c4ab0a15ebb88e3)\" to \"[6e7cf214ea1ee23be11060e0327d20e2ff1a35c8](https://github.com/sagemath/sagetrac-mirror/commit/6e7cf214ea1ee23be11060e0327d20e2ff1a35c8)\".",
    "created_at": "2015-04-16T15:36:59Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c44b53efbe0fa899951481b96c4ab0a15ebb88e3](https://github.com/sagemath/sagetrac-mirror/commit/c44b53efbe0fa899951481b96c4ab0a15ebb88e3)" to "[6e7cf214ea1ee23be11060e0327d20e2ff1a35c8](https://github.com/sagemath/sagetrac-mirror/commit/6e7cf214ea1ee23be11060e0327d20e2ff1a35c8)".



---

archive/issue_comments_251776.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/227e14abd109992e1e88a322982f4027d4e4e52a\">227e14a</a></td><td><code>Trac 18213: Seealsos</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eef42afa3e3229534f2ae2d3303fbb176eaecdd8\">eef42af</a></td><td><code>Trac 18213: documentation</code></td></tr></table>\n",
    "created_at": "2015-04-16T17:15:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/227e14abd109992e1e88a322982f4027d4e4e52a">227e14a</a></td><td><code>Trac 18213: Seealsos</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eef42afa3e3229534f2ae2d3303fbb176eaecdd8">eef42af</a></td><td><code>Trac 18213: documentation</code></td></tr></table>




---

archive/issue_comments_251777.json:
```json
{
    "body": "**Changing commit** from \"[6e7cf214ea1ee23be11060e0327d20e2ff1a35c8](https://github.com/sagemath/sagetrac-mirror/commit/6e7cf214ea1ee23be11060e0327d20e2ff1a35c8)\" to \"[eef42afa3e3229534f2ae2d3303fbb176eaecdd8](https://github.com/sagemath/sagetrac-mirror/commit/eef42afa3e3229534f2ae2d3303fbb176eaecdd8)\".",
    "created_at": "2015-04-16T17:15:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251777",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6e7cf214ea1ee23be11060e0327d20e2ff1a35c8](https://github.com/sagemath/sagetrac-mirror/commit/6e7cf214ea1ee23be11060e0327d20e2ff1a35c8)" to "[eef42afa3e3229534f2ae2d3303fbb176eaecdd8](https://github.com/sagemath/sagetrac-mirror/commit/eef42afa3e3229534f2ae2d3303fbb176eaecdd8)".



---

archive/issue_comments_251778.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -22,3 +22,4 @@\n - #18220 Bug when creating a polyhedron with coefficients in RR\n Moreover, we can get a great speed up with the following because many polytopes have now coordinates in a quadratic number fields:\n - #18215: Huge speed up for hash of quadratic number field elements\n+- #18226: Native `_mpfr_` method on quadratic number field elements\n``````\n",
    "created_at": "2015-04-16T17:34:03Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251778",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -22,3 +22,4 @@
 - #18220 Bug when creating a polyhedron with coefficients in RR
 Moreover, we can get a great speed up with the following because many polytopes have now coordinates in a quadratic number fields:
 - #18215: Huge speed up for hash of quadratic number field elements
+- #18226: Native `_mpfr_` method on quadratic number field elements
``````




---

archive/issue_comments_251779.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe `golden_ratio()` can obviously be defined in terms of `sqrt(5)`, so I don't see the need for that. I'm also really wondering whether you need the custom `sqrt()` function, doesn't `QuadraticField(n)` work?",
    "created_at": "2015-04-16T20:56:29Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251779",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
The `golden_ratio()` can obviously be defined in terms of `sqrt(5)`, so I don't see the need for that. I'm also really wondering whether you need the custom `sqrt()` function, doesn't `QuadraticField(n)` work?



---

archive/issue_events_163458.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-16T22:13:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163458"
}
```



---

archive/issue_events_163459.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-16T22:13:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163459"
}
```



---

archive/issue_comments_251780.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [@jdemeyer](#comment%3A11):\n> The `golden_ratio()` can obviously be defined in terms of `sqrt(5)`, so I don't see the need for that. I'm also really wondering whether you need the custom `sqrt()` function, doesn't `QuadraticField(n)` work?\n\nRight. The problem of embedding should be done elsewhere (my version embedds in `QQbar` whereas the generic `QuadraticField(n)` embedds into `RLF`).",
    "created_at": "2015-04-16T22:13:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251780",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>
Replying to [@jdemeyer](#comment%3A11):
> The `golden_ratio()` can obviously be defined in terms of `sqrt(5)`, so I don't see the need for that. I'm also really wondering whether you need the custom `sqrt()` function, doesn't `QuadraticField(n)` work?

Right. The problem of embedding should be done elsewhere (my version embedds in `QQbar` whereas the generic `QuadraticField(n)` embedds into `RLF`).



---

archive/issue_comments_251781.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [@videlec](#comment%3A12):\n> Replying to [@jdemeyer](#comment%3A11):\n> > The `golden_ratio()` can obviously be defined in terms of `sqrt(5)`, so I don't see the need for that. I'm also really wondering whether you need the custom `sqrt()` function, doesn't `QuadraticField(n)` work?\n\n> \n> Right. The problem of embedding should be done elsewhere (my version embedds in `QQbar` whereas the generic `QuadraticField(n)` embedds into `RLF`).\n\nHere is one reason. The generator name of `QuadraticField(2)` is `a` and it better be `sqrt2` in this case. For the golden ratio, the advantage is that its get printed as `phi`. In particular you have\n\n```\nsage: polytopes.icosahedron().volume()\n5/6*phi + 5/6\n```\nThe answer `5/6*a + 5/6` would have been terrible here. I have nothing against using `phi = (sqrt5+1)/2`. So I will at least remove this one. For the quadratic fields, one option is to globally make this change in another ticket. What do you think?",
    "created_at": "2015-04-16T22:40:20Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251781",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
Replying to [@videlec](#comment%3A12):
> Replying to [@jdemeyer](#comment%3A11):
> > The `golden_ratio()` can obviously be defined in terms of `sqrt(5)`, so I don't see the need for that. I'm also really wondering whether you need the custom `sqrt()` function, doesn't `QuadraticField(n)` work?

> 
> Right. The problem of embedding should be done elsewhere (my version embedds in `QQbar` whereas the generic `QuadraticField(n)` embedds into `RLF`).

Here is one reason. The generator name of `QuadraticField(2)` is `a` and it better be `sqrt2` in this case. For the golden ratio, the advantage is that its get printed as `phi`. In particular you have

```
sage: polytopes.icosahedron().volume()
5/6*phi + 5/6
```
The answer `5/6*a + 5/6` would have been terrible here. I have nothing against using `phi = (sqrt5+1)/2`. So I will at least remove this one. For the quadratic fields, one option is to globally make this change in another ticket. What do you think?



---

archive/issue_comments_251782.json:
```json
{
    "body": "**Changing commit** from \"[eef42afa3e3229534f2ae2d3303fbb176eaecdd8](https://github.com/sagemath/sagetrac-mirror/commit/eef42afa3e3229534f2ae2d3303fbb176eaecdd8)\" to \"[c1804d5879eedab9140d07096bfd1ad29ae75fa0](https://github.com/sagemath/sagetrac-mirror/commit/c1804d5879eedab9140d07096bfd1ad29ae75fa0)\".",
    "created_at": "2015-04-17T07:14:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251782",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[eef42afa3e3229534f2ae2d3303fbb176eaecdd8](https://github.com/sagemath/sagetrac-mirror/commit/eef42afa3e3229534f2ae2d3303fbb176eaecdd8)" to "[c1804d5879eedab9140d07096bfd1ad29ae75fa0](https://github.com/sagemath/sagetrac-mirror/commit/c1804d5879eedab9140d07096bfd1ad29ae75fa0)".



---

archive/issue_comments_251783.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1804d5879eedab9140d07096bfd1ad29ae75fa0\">c1804d5</a></td><td><code>Trac 18213: (review) remove sqrt/golden_ratio + doc</code></td></tr></table>\n",
    "created_at": "2015-04-17T07:14:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1804d5879eedab9140d07096bfd1ad29ae75fa0">c1804d5</a></td><td><code>Trac 18213: (review) remove sqrt/golden_ratio + doc</code></td></tr></table>




---

archive/issue_events_163460.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-17T07:15:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163460"
}
```



---

archive/issue_events_163461.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-17T07:15:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163461"
}
```



---

archive/issue_comments_251784.json:
```json
{
    "body": "<a id='comment:15'></a>\nAll right. I removed the `sqrt` and `golden_ratio` function. Needs review!\n\nVincent",
    "created_at": "2015-04-17T07:15:15Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251784",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
All right. I removed the `sqrt` and `golden_ratio` function. Needs review!

Vincent



---

archive/issue_comments_251785.json:
```json
{
    "body": "<a id='comment:16'></a>\nVincent: the diff of your main commit is very, very very hard to read. Could you split in order to make it easier to understand?",
    "created_at": "2015-04-17T07:20:02Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251785",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>
Vincent: the diff of your main commit is very, very very hard to read. Could you split in order to make it easier to understand?



---

archive/issue_comments_251786.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@nathanncohen](#comment%3A16):\n> Vincent: the diff of your main commit is very, very very hard to read. Could you split in order to make it easier to understand?\n\nNot sure. It is basically a complete rewrite. I added a ton of documentation, and modify many functions to fit with the actual definition!",
    "created_at": "2015-04-17T07:24:32Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251786",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
Replying to [@nathanncohen](#comment%3A16):
> Vincent: the diff of your main commit is very, very very hard to read. Could you split in order to make it easier to understand?

Not sure. It is basically a complete rewrite. I added a ton of documentation, and modify many functions to fit with the actual definition!



---

archive/issue_comments_251787.json:
```json
{
    "body": "<a id='comment:18'></a>\nOkay. Then could you at least change the description of this ticket to explain all changes that you made? (you apparently reated new functions, for example.. Why?)",
    "created_at": "2015-04-17T07:27:52Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251787",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
Okay. Then could you at least change the description of this ticket to explain all changes that you made? (you apparently reated new functions, for example.. Why?)



---

archive/issue_comments_251788.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,6 +15,10 @@\n ```\n Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.\n \n+3. The functions unrelated to construction of Polytopes are moved out of the class `Polytopes`:\n+   - `Polytopes.orthonormal_1`, `Polytopes.project_1` will be renamed respectively `zero_sum_projection` and `project_points`\n+   - the one line `Polytopes._pfunc` is just removed\n+\n While we're at it, remove the deprecations from #11634.\n \n During the process I discovered two annoying bugs:\n``````\n",
    "created_at": "2015-04-17T07:34:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251788",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,6 +15,10 @@
 ```
 Instead, we should use the `base_ring` argument (with appropriate defaults) and use `base_ring(2).sqrt()` instead.
 
+3. The functions unrelated to construction of Polytopes are moved out of the class `Polytopes`:
+   - `Polytopes.orthonormal_1`, `Polytopes.project_1` will be renamed respectively `zero_sum_projection` and `project_points`
+   - the one line `Polytopes._pfunc` is just removed
+
 While we're at it, remove the deprecations from #11634.
 
 During the process I discovered two annoying bugs:
``````




---

archive/issue_comments_251789.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [@nathanncohen](#comment%3A18):\n> Okay. Then could you at least change the description of this ticket to explain all changes that you made? (you apparently reated new functions, for example.. Why?)\n\ndone in the ticket description.",
    "created_at": "2015-04-17T07:34:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251789",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>
Replying to [@nathanncohen](#comment%3A18):
> Okay. Then could you at least change the description of this ticket to explain all changes that you made? (you apparently reated new functions, for example.. Why?)

done in the ticket description.



---

archive/issue_comments_251790.json:
```json
{
    "body": "<a id='comment:20'></a>\nAbout `golden_ratio` and `sqrt`: shouldn't they be in `number_field_element_quadratic` instead ?\n\nAbout `zero_sum_projection` what about having it in `matrix.<tab>` ?\n\nNathann",
    "created_at": "2015-04-17T08:09:36Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251790",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>
About `golden_ratio` and `sqrt`: shouldn't they be in `number_field_element_quadratic` instead ?

About `zero_sum_projection` what about having it in `matrix.<tab>` ?

Nathann



---

archive/issue_comments_251791.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [@nathanncohen](#comment%3A20):\n> About `golden_ratio` and `sqrt`: shouldn't they be in `number_field_element_quadratic` instead ?\n\nRemoved in \u200bc1804d5.\n\n> About `zero_sum_projection` what about having it in `matrix.<tab>` ?\n\nIt is very specific. I am not sure how I would call it in `matrix.<tab>`.",
    "created_at": "2015-04-17T11:39:38Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251791",
    "user": "https://github.com/videlec"
}
```

<a id='comment:21'></a>
Replying to [@nathanncohen](#comment%3A20):
> About `golden_ratio` and `sqrt`: shouldn't they be in `number_field_element_quadratic` instead ?

Removed in ​c1804d5.

> About `zero_sum_projection` what about having it in `matrix.<tab>` ?

It is very specific. I am not sure how I would call it in `matrix.<tab>`.



---

archive/issue_comments_251792.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9ce4616099f6d0a5fc3d8a80c3ae76dca5874c7\">a9ce461</a></td><td><code>trac #18211: print stderr when verbose=False</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b\">9307916</a></td><td><code>Trac 18211: \"in in\" -> \"in\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414\">a6d03cd</a></td><td><code>Trac 18211: any option to the command  (using **kwds)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6\">c935177</a></td><td><code>Trac 18211: handle bad output from count</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334\">7215956</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6\">74ef0f1</a></td><td><code>trac #18211: Nothing important</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec0e94607b2ca76f6182c02e098b5ce206d54f71\">ec0e946</a></td><td><code>Trac 18213: merge sage-6.7.beta1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b87ff0df3007581999081a3aafbbc4fd2cca47c\">0b87ff0</a></td><td><code>Trac 18213: rewrite the polyhedron library</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ddcdefe27f54a99c4fa154fd075229019801e90\">2ddcdef</a></td><td><code>Trac 18213: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/524f00ea3d1d3734a9915cd6052d0bf677fdb6e3\">524f00e</a></td><td><code>Trac 18213: Seealsos</code></td></tr></table>\n",
    "created_at": "2015-04-17T11:57:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9ce4616099f6d0a5fc3d8a80c3ae76dca5874c7">a9ce461</a></td><td><code>trac #18211: print stderr when verbose=False</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/930791639042e46c339ba40720456d73dcad1d1b">9307916</a></td><td><code>Trac 18211: "in in" -> "in"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6d03cd0f21b5c7438ec6b03e82fb6ba7536c414">a6d03cd</a></td><td><code>Trac 18211: any option to the command  (using **kwds)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c935177688734f81eec5dd96a1d85c76e7239df6">c935177</a></td><td><code>Trac 18211: handle bad output from count</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7215956eea81f8750a96184ca1f16173ef27c334">7215956</a></td><td><code>Trac 18211: write explicitely the options in function declaration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74ef0f1721a9f73dacf442d29c45acc7a18a1ff6">74ef0f1</a></td><td><code>trac #18211: Nothing important</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec0e94607b2ca76f6182c02e098b5ce206d54f71">ec0e946</a></td><td><code>Trac 18213: merge sage-6.7.beta1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b87ff0df3007581999081a3aafbbc4fd2cca47c">0b87ff0</a></td><td><code>Trac 18213: rewrite the polyhedron library</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ddcdefe27f54a99c4fa154fd075229019801e90">2ddcdef</a></td><td><code>Trac 18213: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/524f00ea3d1d3734a9915cd6052d0bf677fdb6e3">524f00e</a></td><td><code>Trac 18213: Seealsos</code></td></tr></table>




---

archive/issue_comments_251793.json:
```json
{
    "body": "**Changing commit** from \"[c1804d5879eedab9140d07096bfd1ad29ae75fa0](https://github.com/sagemath/sagetrac-mirror/commit/c1804d5879eedab9140d07096bfd1ad29ae75fa0)\" to \"[524f00ea3d1d3734a9915cd6052d0bf677fdb6e3](https://github.com/sagemath/sagetrac-mirror/commit/524f00ea3d1d3734a9915cd6052d0bf677fdb6e3)\".",
    "created_at": "2015-04-17T11:57:57Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c1804d5879eedab9140d07096bfd1ad29ae75fa0](https://github.com/sagemath/sagetrac-mirror/commit/c1804d5879eedab9140d07096bfd1ad29ae75fa0)" to "[524f00ea3d1d3734a9915cd6052d0bf677fdb6e3](https://github.com/sagemath/sagetrac-mirror/commit/524f00ea3d1d3734a9915cd6052d0bf677fdb6e3)".



---

archive/issue_comments_251794.json:
```json
{
    "body": "<a id='comment:23'></a>\n`O_o`",
    "created_at": "2015-04-17T11:58:30Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251794",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:23'></a>
`O_o`



---

archive/issue_comments_251795.json:
```json
{
    "body": "<a id='comment:24'></a>\nCleaner version based on sage-6.7.beta1 and the complete #18211.",
    "created_at": "2015-04-17T11:59:04Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251795",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
Cleaner version based on sage-6.7.beta1 and the complete #18211.



---

archive/issue_comments_251796.json:
```json
{
    "body": "<a id='comment:25'></a>\nHere are some comments. Please understand that doing everything at once makes things *MUCH* harder to understand for the reviewer.\n\nImproving the implementation and improving the doc could have been two separate commits. The work that you do on each function could have been a separate commit. Removing deprecations could have been a separate commit. There are also things that anybody can review (only code) and things for which you need to be used to the tools you deal with.\n\n- The projection is not the orthogona projection I expected:\n\n  ```\n  sage: sage: zero_sum_projection(3)*vector([1,0,0])\n  (0.7071067811865475, 0.4082482904638631)\n  ```\n  You can either change the matrix or emphasize in the docstring that the\n  projection is not unique. Something like \"returns a (d-1)xd matrix of rank d\n  whose kernel contain (1,...,1). At first sight, I expected the function to\n  return a matrix of dimensions `d\\times d`. I updated the docstring on this\n  matter.\n\n- I do not understand the paragraph in the doc of `project_points` but that's\n  probably because I don't know the maths behind.\n\n- Compatible?\n\n  ```\n  This projection is the only one compatible with the restriction to the\n  first coordinates\n  ```\n\n- You should probably add a `# tol`\n  after this\n\n  ```\n  Its volume is `\\sqrt{d+1} / d!`\n  ```\n  Or even better, check that the difference between the two is 0\n  (still, with some tolerance)\n\n- At this point I still do not know if it is very wise to use this definition of\n  the projection, but it would be cool if every function which uses this\n  projection (like !Simplex) could redirect toward the matrix function. This way\n  people would have a chance to learn what exactly they get as a result.\n\n- What about this error?\n\n  ```\n  sage: polytopes.icosahedron(base_ring=QQ)\n  ...\n  TypeError: unable to convert 1/4*sqrt(5) + 1/4 to a rational\n  ```\n\nI added a small commit at public/18213\n\nNathann",
    "created_at": "2015-04-17T14:24:20Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251796",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>
Here are some comments. Please understand that doing everything at once makes things *MUCH* harder to understand for the reviewer.

Improving the implementation and improving the doc could have been two separate commits. The work that you do on each function could have been a separate commit. Removing deprecations could have been a separate commit. There are also things that anybody can review (only code) and things for which you need to be used to the tools you deal with.

- The projection is not the orthogona projection I expected:

  ```
  sage: sage: zero_sum_projection(3)*vector([1,0,0])
  (0.7071067811865475, 0.4082482904638631)
  ```
  You can either change the matrix or emphasize in the docstring that the
  projection is not unique. Something like "returns a (d-1)xd matrix of rank d
  whose kernel contain (1,...,1). At first sight, I expected the function to
  return a matrix of dimensions `d\times d`. I updated the docstring on this
  matter.

- I do not understand the paragraph in the doc of `project_points` but that's
  probably because I don't know the maths behind.

- Compatible?

  ```
  This projection is the only one compatible with the restriction to the
  first coordinates
  ```

- You should probably add a `# tol`
  after this

  ```
  Its volume is `\sqrt{d+1} / d!`
  ```
  Or even better, check that the difference between the two is 0
  (still, with some tolerance)

- At this point I still do not know if it is very wise to use this definition of
  the projection, but it would be cool if every function which uses this
  projection (like !Simplex) could redirect toward the matrix function. This way
  people would have a chance to learn what exactly they get as a result.

- What about this error?

  ```
  sage: polytopes.icosahedron(base_ring=QQ)
  ...
  TypeError: unable to convert 1/4*sqrt(5) + 1/4 to a rational
  ```

I added a small commit at public/18213

Nathann



---

archive/issue_comments_251797.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [@nathanncohen](#comment%3A25):\n> Here are some comments. Please understand that doing everything at once makes things *MUCH* harder to understand for the reviewer.\n\nI am very sorry.\n \n> - The projection is not the orthogona projection I expected:\n\nWhich one did you expected? I improved the documentation.\n\n> - At this point I still do not know if it is very wise to use this definition of\n>   the projection, but it would be cool if every function which uses this\n>   projection (like !Simplex) could redirect toward the matrix function. This way\n>   people would have a chance to learn what exactly they get as a result.\n\nI see. But I am really not confortable in moving this to `matrix.<tab>` as well. One possibility is to move it back to `polytopes.<tab>`. What do you think?\n\n> - What about this error?\n> \n>   ```\n>   sage: polytopes.icosahedron(base_ring=QQ)\n>   ...\n>   TypeError: unable to convert 1/4*sqrt(5) + 1/4 to a rational\n>   ```\n\nIs it not clear enough? The coordinates of the icosahedron need to be defined in `QQ[sqrt(5)]`, hence the error. The following is ok (but very slow, ~3secs on my computer)\n\n```\nsage: I = polytopes.icosahedron(base_ring=AA)\n```\nApart adding your example to the documentation, I do not see much what I can do (see the last commit). A deprecation?\n\nVincent",
    "created_at": "2015-04-17T15:02:13Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251797",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
Replying to [@nathanncohen](#comment%3A25):
> Here are some comments. Please understand that doing everything at once makes things *MUCH* harder to understand for the reviewer.

I am very sorry.
 
> - The projection is not the orthogona projection I expected:

Which one did you expected? I improved the documentation.

> - At this point I still do not know if it is very wise to use this definition of
>   the projection, but it would be cool if every function which uses this
>   projection (like !Simplex) could redirect toward the matrix function. This way
>   people would have a chance to learn what exactly they get as a result.

I see. But I am really not confortable in moving this to `matrix.<tab>` as well. One possibility is to move it back to `polytopes.<tab>`. What do you think?

> - What about this error?
> 
>   ```
>   sage: polytopes.icosahedron(base_ring=QQ)
>   ...
>   TypeError: unable to convert 1/4*sqrt(5) + 1/4 to a rational
>   ```

Is it not clear enough? The coordinates of the icosahedron need to be defined in `QQ[sqrt(5)]`, hence the error. The following is ok (but very slow, ~3secs on my computer)

```
sage: I = polytopes.icosahedron(base_ring=AA)
```
Apart adding your example to the documentation, I do not see much what I can do (see the last commit). A deprecation?

Vincent



---

archive/issue_comments_251798.json:
```json
{
    "body": "**Changing commit** from \"[524f00ea3d1d3734a9915cd6052d0bf677fdb6e3](https://github.com/sagemath/sagetrac-mirror/commit/524f00ea3d1d3734a9915cd6052d0bf677fdb6e3)\" to \"[fac3cffdb326dad1d3c61045d1c33044c99b8b32](https://github.com/sagemath/sagetrac-mirror/commit/fac3cffdb326dad1d3c61045d1c33044c99b8b32)\".",
    "created_at": "2015-04-17T15:02:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251798",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[524f00ea3d1d3734a9915cd6052d0bf677fdb6e3](https://github.com/sagemath/sagetrac-mirror/commit/524f00ea3d1d3734a9915cd6052d0bf677fdb6e3)" to "[fac3cffdb326dad1d3c61045d1c33044c99b8b32](https://github.com/sagemath/sagetrac-mirror/commit/fac3cffdb326dad1d3c61045d1c33044c99b8b32)".



---

archive/issue_comments_251799.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7eb2326e86c954906d601e75a6909a241fea26b6\">7eb2326</a></td><td><code>trac #18213: Review</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fac3cffdb326dad1d3c61045d1c33044c99b8b32\">fac3cff</a></td><td><code>Trac 18213: (review) more documentation</code></td></tr></table>\n",
    "created_at": "2015-04-17T15:02:14Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251799",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7eb2326e86c954906d601e75a6909a241fea26b6">7eb2326</a></td><td><code>trac #18213: Review</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fac3cffdb326dad1d3c61045d1c33044c99b8b32">fac3cff</a></td><td><code>Trac 18213: (review) more documentation</code></td></tr></table>




---

archive/issue_comments_251800.json:
```json
{
    "body": "<a id='comment:28'></a>\nHello,\n\n> Which one did you expected? I improved the documentation.\n\nWell, I expected an orthogonal projection on this hyperplane. And I probably expected the base of the hyperplane to be the projection of d-1 vectors of the base from the original space I guess.\n\n> > - At this point I still do not know if it is very wise to use this definition of\n> >   the projection, but it would be cool if every function which uses this\n> >   projection (like !Simplex) could redirect toward the matrix function. This way\n> >   people would have a chance to learn what exactly they get as a result.\n\n> \n> I see. But I am really not confortable in moving this to `matrix.<tab>` as well. One possibility is to move it back to `polytopes.<tab>`. What do you think?\n\nAll I was suggesting in the message above was to add a link in the doc. The message you added in `project_points` is perfect\n\n```\nThe projection used is the matrix given by :func:`zero_sum_projection`.\n```\n\nTo me it should appear whenever there is a 'project' argument in the function.\n\n> Is it not clear enough? The coordinates of the icosahedron need to be defined in `QQ[sqrt(5)]`, hence the error.\n\nPrecisely: Could you add somewhere in the doc that the field must contain `QQ(sqrt(5))`?\n\nNathann",
    "created_at": "2015-04-17T21:08:49Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251800",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
Hello,

> Which one did you expected? I improved the documentation.

Well, I expected an orthogonal projection on this hyperplane. And I probably expected the base of the hyperplane to be the projection of d-1 vectors of the base from the original space I guess.

> > - At this point I still do not know if it is very wise to use this definition of
> >   the projection, but it would be cool if every function which uses this
> >   projection (like !Simplex) could redirect toward the matrix function. This way
> >   people would have a chance to learn what exactly they get as a result.

> 
> I see. But I am really not confortable in moving this to `matrix.<tab>` as well. One possibility is to move it back to `polytopes.<tab>`. What do you think?

All I was suggesting in the message above was to add a link in the doc. The message you added in `project_points` is perfect

```
The projection used is the matrix given by :func:`zero_sum_projection`.
```

To me it should appear whenever there is a 'project' argument in the function.

> Is it not clear enough? The coordinates of the icosahedron need to be defined in `QQ[sqrt(5)]`, hence the error.

Precisely: Could you add somewhere in the doc that the field must contain `QQ(sqrt(5))`?

Nathann



---

archive/issue_comments_251801.json:
```json
{
    "body": "<a id='comment:29'></a>\nthe function dodecahedron does nothing with its `base_ring` argument. Also, why should the projection function return 'None' instead of '[]' when it is called with no argument?\n\nNathann",
    "created_at": "2015-04-17T21:20:43Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251801",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'></a>
the function dodecahedron does nothing with its `base_ring` argument. Also, why should the projection function return 'None' instead of '[]' when it is called with no argument?

Nathann



---

archive/issue_comments_251802.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [@nathanncohen](#comment%3A29):\n> the function dodecahedron does nothing with its `base_ring` argument. Also, why should the projection function return 'None' instead of '[]' when it is called with no argument?\n\nYou corrected it in 7eb2326",
    "created_at": "2015-04-17T21:23:54Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251802",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>
Replying to [@nathanncohen](#comment%3A29):
> the function dodecahedron does nothing with its `base_ring` argument. Also, why should the projection function return 'None' instead of '[]' when it is called with no argument?

You corrected it in 7eb2326



---

archive/issue_comments_251803.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@nathanncohen](#comment%3A28):\n> Hello,\n> \n> > Which one did you expected? I improved the documentation.\n\n> \n> Well, I expected an orthogonal projection on this hyperplane. And I probably expected the base of the hyperplane to be the projection of d-1 vectors of the base from the original space I guess.\n\nThe description is explicit in the doc (commit \u200bfac3cff)\n\n> > > - At this point I still do not know if it is very wise to use this definition of\n> > >   the projection, but it would be cool if every function which uses this\n> > >   projection (like !Simplex) could redirect toward the matrix function. This way\n> > >   people would have a chance to learn what exactly they get as a result.\n\n> > \n> > I see. But I am really not confortable in moving this to `matrix.<tab>` as well. One possibility is to move it back to `polytopes.<tab>`. What do you think?\n\n> \n> All I was suggesting in the message above was to add a link in the doc. The message you added in `project_points` is perfect\n> \n> ```\n> The projection used is the matrix given by :func:`zero_sum_projection`.\n> ```\n> \n> To me it should appear whenever there is a 'project' argument in the function.\n\nWill do!\n\n> > Is it not clear enough? The coordinates of the icosahedron need to be defined in `QQ[sqrt(5)]`, hence the error.\n\n> \n> Precisely: Could you add somewhere in the doc that the field must contain `QQ(sqrt(5))`?\n\nThere is one example at the end of the doc (from fac3cff)",
    "created_at": "2015-04-17T21:25:20Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251803",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>
Replying to [@nathanncohen](#comment%3A28):
> Hello,
> 
> > Which one did you expected? I improved the documentation.

> 
> Well, I expected an orthogonal projection on this hyperplane. And I probably expected the base of the hyperplane to be the projection of d-1 vectors of the base from the original space I guess.

The description is explicit in the doc (commit ​fac3cff)

> > > - At this point I still do not know if it is very wise to use this definition of
> > >   the projection, but it would be cool if every function which uses this
> > >   projection (like !Simplex) could redirect toward the matrix function. This way
> > >   people would have a chance to learn what exactly they get as a result.

> > 
> > I see. But I am really not confortable in moving this to `matrix.<tab>` as well. One possibility is to move it back to `polytopes.<tab>`. What do you think?

> 
> All I was suggesting in the message above was to add a link in the doc. The message you added in `project_points` is perfect
> 
> ```
> The projection used is the matrix given by :func:`zero_sum_projection`.
> ```
> 
> To me it should appear whenever there is a 'project' argument in the function.

Will do!

> > Is it not clear enough? The coordinates of the icosahedron need to be defined in `QQ[sqrt(5)]`, hence the error.

> 
> Precisely: Could you add somewhere in the doc that the field must contain `QQ(sqrt(5))`?

There is one example at the end of the doc (from fac3cff)



---

archive/issue_comments_251804.json:
```json
{
    "body": "<a id='comment:32'></a>\n> You corrected it in 7eb2326\n\nArggggg... I was looking at the original commit again. I was wondering why it has been removed `>_<`\n\n> The description is explicit in the doc (commit \u200bfac3cff)\n\nYes yes now it's good!\n\n> There is one example at the end of the doc (from fac3cff)\n\nIt happens several times though. Could you add it in the doc of `base_ring`? You already talk about this field there. It could be something like \"If set to None then it will be `QQ[\\phi]`, otherwise it must be a field that contains it\".\n\nNathann",
    "created_at": "2015-04-17T21:34:22Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251804",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'></a>
> You corrected it in 7eb2326

Arggggg... I was looking at the original commit again. I was wondering why it has been removed `>_<`

> The description is explicit in the doc (commit ​fac3cff)

Yes yes now it's good!

> There is one example at the end of the doc (from fac3cff)

It happens several times though. Could you add it in the doc of `base_ring`? You already talk about this field there. It could be something like "If set to None then it will be `QQ[\phi]`, otherwise it must be a field that contains it".

Nathann



---

archive/issue_comments_251805.json:
```json
{
    "body": "<a id='comment:33'></a>\nThe 600-cell code would look a bit better if you were building all points at once instead of interrupting the flow to decide which ring you should work with.",
    "created_at": "2015-04-17T21:43:03Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251805",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:33'></a>
The 600-cell code would look a bit better if you were building all points at once instead of interrupting the flow to decide which ring you should work with.



---

archive/issue_comments_251806.json:
```json
{
    "body": "<a id='comment:34'></a>\nFunny. There is no `automorphism_group` function for polytopes `O_o`",
    "created_at": "2015-04-17T21:44:46Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251806",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'></a>
Funny. There is no `automorphism_group` function for polytopes `O_o`



---

archive/issue_comments_251807.json:
```json
{
    "body": "<a id='comment:35'></a>\n\n```                                                                                                                                                                         \n        OUTPUT: \n\n        EXAMPLES::\n```",
    "created_at": "2015-04-17T21:46:23Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251807",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:35'></a>

```                                                                                                                                                                         
        OUTPUT: 

        EXAMPLES::
```



---

archive/issue_comments_251808.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [@nathanncohen](#comment%3A34):\n> Funny. There is no `automorphism_group` function for polytopes `O_o`\n\nYes! This is very sad... But you have to be careful about what it means. There is the combinatorial automorphism group and the isometry group. I have no idea how to implement the latter efficiently.",
    "created_at": "2015-04-17T21:46:47Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251808",
    "user": "https://github.com/videlec"
}
```

<a id='comment:36'></a>
Replying to [@nathanncohen](#comment%3A34):
> Funny. There is no `automorphism_group` function for polytopes `O_o`

Yes! This is very sad... But you have to be careful about what it means. There is the combinatorial automorphism group and the isometry group. I have no idea how to implement the latter efficiently.



---

archive/issue_comments_251809.json:
```json
{
    "body": "<a id='comment:37'></a>\nMost probably the ugliest thing I ever saw\n\n```\nsage: Sequence([Graph()]).universe()\n<class 'sage.graphs.graph.Graph'>\nsage: Sequence([Graph(),1]).universe()\nCategory of objects\nsage: Sequence([1]).universe()\nInteger Ring\n```",
    "created_at": "2015-04-17T21:54:04Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251809",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:37'></a>
Most probably the ugliest thing I ever saw

```
sage: Sequence([Graph()]).universe()
<class 'sage.graphs.graph.Graph'>
sage: Sequence([Graph(),1]).universe()
Category of objects
sage: Sequence([1]).universe()
Integer Ring
```



---

archive/issue_comments_251810.json:
```json
{
    "body": "<a id='comment:38'></a>\nHMmmmmmmm... I don't exactly know what the isometry group is, but let's try anyway: what about defining a complete graph on your points, in which each edge has a color associated to its length. Wouldn't the automorphism group of that be what you want?",
    "created_at": "2015-04-17T21:55:34Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251810",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:38'></a>
HMmmmmmmm... I don't exactly know what the isometry group is, but let's try anyway: what about defining a complete graph on your points, in which each edge has a color associated to its length. Wouldn't the automorphism group of that be what you want?



---

archive/issue_comments_251811.json:
```json
{
    "body": "<a id='comment:39'></a>\nOkayyyyyyyyyyyyyy. End of the review. Nothing else to add `;-)`\n\nVery good job. This code needed to be cleaned, and it is much better now.\n\nBut please, next time: smaller patches. You waste your reviewers' health `:-P`\n\nNathann",
    "created_at": "2015-04-17T21:58:13Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251811",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:39'></a>
Okayyyyyyyyyyyyyy. End of the review. Nothing else to add `;-)`

Very good job. This code needed to be cleaned, and it is much better now.

But please, next time: smaller patches. You waste your reviewers' health `:-P`

Nathann



---

archive/issue_comments_251812.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [@nathanncohen](#comment%3A38):\n> HMmmmmmmm... I don't exactly know what the isometry group is, but let's try anyway: what about defining a complete graph on your points, in which each edge has a color associated to its length. Wouldn't the automorphism group of that be what you want?\n\nThat is a valid definition. But the standard one is the set of orthogonal matrices that preserve the polyhedron. And it would be nice for `isometry_group` to be a finite matrix group (and not permutations)!",
    "created_at": "2015-04-17T21:59:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251812",
    "user": "https://github.com/videlec"
}
```

<a id='comment:40'></a>
Replying to [@nathanncohen](#comment%3A38):
> HMmmmmmmm... I don't exactly know what the isometry group is, but let's try anyway: what about defining a complete graph on your points, in which each edge has a color associated to its length. Wouldn't the automorphism group of that be what you want?

That is a valid definition. But the standard one is the set of orthogonal matrices that preserve the polyhedron. And it would be nice for `isometry_group` to be a finite matrix group (and not permutations)!



---

archive/issue_comments_251813.json:
```json
{
    "body": "**Changing commit** from \"[fac3cffdb326dad1d3c61045d1c33044c99b8b32](https://github.com/sagemath/sagetrac-mirror/commit/fac3cffdb326dad1d3c61045d1c33044c99b8b32)\" to \"[1a82754ea33046384dbefc6045de5bef0e0a2261](https://github.com/sagemath/sagetrac-mirror/commit/1a82754ea33046384dbefc6045de5bef0e0a2261)\".",
    "created_at": "2015-04-17T22:20:28Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251813",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fac3cffdb326dad1d3c61045d1c33044c99b8b32](https://github.com/sagemath/sagetrac-mirror/commit/fac3cffdb326dad1d3c61045d1c33044c99b8b32)" to "[1a82754ea33046384dbefc6045de5bef0e0a2261](https://github.com/sagemath/sagetrac-mirror/commit/1a82754ea33046384dbefc6045de5bef0e0a2261)".



---

archive/issue_comments_251814.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21e70a7a66aa10fd41afb36e772352c52634fc76\">21e70a7</a></td><td><code>Trac 18213: review commit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a82754ea33046384dbefc6045de5bef0e0a2261\">1a82754</a></td><td><code>Trac 18213: doctest fix</code></td></tr></table>\n",
    "created_at": "2015-04-17T22:20:28Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21e70a7a66aa10fd41afb36e772352c52634fc76">21e70a7</a></td><td><code>Trac 18213: review commit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a82754ea33046384dbefc6045de5bef0e0a2261">1a82754</a></td><td><code>Trac 18213: doctest fix</code></td></tr></table>




---

archive/issue_comments_251815.json:
```json
{
    "body": "<a id='comment:42'></a>\nPatchbot should be happy after that.",
    "created_at": "2015-04-17T22:21:00Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251815",
    "user": "https://github.com/videlec"
}
```

<a id='comment:42'></a>
Patchbot should be happy after that.



---

archive/issue_comments_251816.json:
```json
{
    "body": "<a id='comment:43'></a>\nSome broken doctests in the patchbot's report. Also, can you be sure that the `sqrt(6.) / factorial(5)` are not subject to numerical noise? There is no `#tol` on them right now.\n\nNathann",
    "created_at": "2015-04-18T06:50:04Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251816",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:43'></a>
Some broken doctests in the patchbot's report. Also, can you be sure that the `sqrt(6.) / factorial(5)` are not subject to numerical noise? There is no `#tol` on them right now.

Nathann



---

archive/issue_comments_251817.json:
```json
{
    "body": "<a id='comment:44'></a>\nHmmmmmm.. I can't seem to find on google an implementation of an isometry group function anywhere `O_o`",
    "created_at": "2015-04-18T07:48:45Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251817",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:44'></a>
Hmmmmmm.. I can't seem to find on google an implementation of an isometry group function anywhere `O_o`



---

archive/issue_comments_251818.json:
```json
{
    "body": "<a id='comment:45'></a>\nHi Vincent and Nathann\n\nJust a quick comment, as I'm not sure how useful this will be for general polyhedra: There is a method for lattice polytopes:\n`LatticePolytope_PPL` (in `sage.geometry.polyhedron.ppl_lattice_polytope`) has a method `lattice_automorphism_group()`\n\nCheers,\nJan",
    "created_at": "2015-04-18T08:41:25Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251818",
    "user": "https://trac.sagemath.org/admin/accounts/users/jkeitel"
}
```

<a id='comment:45'></a>
Hi Vincent and Nathann

Just a quick comment, as I'm not sure how useful this will be for general polyhedra: There is a method for lattice polytopes:
`LatticePolytope_PPL` (in `sage.geometry.polyhedron.ppl_lattice_polytope`) has a method `lattice_automorphism_group()`

Cheers,
Jan



---

archive/issue_events_163462.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-18T09:22:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163462"
}
```



---

archive/issue_events_163463.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-18T09:22:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163463"
}
```



---

archive/issue_comments_251819.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/120c1e9716324b229632a5432ff362d41e104409\">120c1e9</a></td><td><code>Trac 18213: more abs tol in doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148\">d09d8a5</a></td><td><code>Trac 18211: forgot a # optional in the doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36\">a58da00</a></td><td><code>Trac 18213: merge failed doctest from #18211</code></td></tr></table>\n",
    "created_at": "2015-04-18T09:30:03Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/120c1e9716324b229632a5432ff362d41e104409">120c1e9</a></td><td><code>Trac 18213: more abs tol in doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d09d8a53a3b1a0c9661e3be4485c2d3ca1c0c148">d09d8a5</a></td><td><code>Trac 18211: forgot a # optional in the doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36">a58da00</a></td><td><code>Trac 18213: merge failed doctest from #18211</code></td></tr></table>




---

archive/issue_comments_251820.json:
```json
{
    "body": "**Changing commit** from \"[1a82754ea33046384dbefc6045de5bef0e0a2261](https://github.com/sagemath/sagetrac-mirror/commit/1a82754ea33046384dbefc6045de5bef0e0a2261)\" to \"[a58da00e4907251c2ab47d7af1109da31901ee36](https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36)\".",
    "created_at": "2015-04-18T09:30:03Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1a82754ea33046384dbefc6045de5bef0e0a2261](https://github.com/sagemath/sagetrac-mirror/commit/1a82754ea33046384dbefc6045de5bef0e0a2261)" to "[a58da00e4907251c2ab47d7af1109da31901ee36](https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36)".



---

archive/issue_comments_251821.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [@nathanncohen](#comment%3A43):\n> Some broken doctests in the patchbot's report. Also, can you be sure that the `sqrt(6.) / factorial(5)` are not subject to numerical noise? There is no `#tol` on them right now.\n\nI don't know... Patchbot did not complain about this.",
    "created_at": "2015-04-18T09:30:55Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251821",
    "user": "https://github.com/videlec"
}
```

<a id='comment:48'></a>
Replying to [@nathanncohen](#comment%3A43):
> Some broken doctests in the patchbot's report. Also, can you be sure that the `sqrt(6.) / factorial(5)` are not subject to numerical noise? There is no `#tol` on them right now.

I don't know... Patchbot did not complain about this.



---

archive/issue_events_163464.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-18T09:31:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163464"
}
```



---

archive/issue_events_163465.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-18T09:31:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163465"
}
```



---

archive/issue_events_163466.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-18T10:18:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163466"
}
```



---

archive/issue_events_163467.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-04-18T10:18:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163467"
}
```



---

archive/issue_comments_251822.json:
```json
{
    "body": "<a id='comment:50'></a>\nOkayyyyyyy. Then `positive_review`!\n\nNathann",
    "created_at": "2015-04-18T10:18:18Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251822",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:50'></a>
Okayyyyyyy. Then `positive_review`!

Nathann



---

archive/issue_comments_251823.json:
```json
{
    "body": "**Reviewer:** Nathann Cohen",
    "created_at": "2015-04-18T10:18:18Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251823",
    "user": "https://github.com/nathanncohen"
}
```

**Reviewer:** Nathann Cohen



---

archive/issue_events_163468.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-18T11:12:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "rename": {
        "from": "A lot of polytopes constructor are broken",
        "to": "A lot of polytope constructors are broken"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163468"
}
```



---

archive/issue_events_163469.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-19T01:52:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163469"
}
```



---

archive/issue_events_163470.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4f541c83d1822a89015c7008e4a68a865b7f66e0",
    "created_at": "2015-04-19T01:52:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18213#event-163470"
}
```



---

archive/issue_comments_251824.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/18213](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18213)\" to \"[a58da00e4907251c2ab47d7af1109da31901ee36](https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36)\".",
    "created_at": "2015-04-19T01:52:06Z",
    "issue": "https://github.com/sagemath/sage/issues/18213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18213#issuecomment-251824",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vdelecroix/18213](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18213)" to "[a58da00e4907251c2ab47d7af1109da31901ee36](https://github.com/sagemath/sagetrac-mirror/commit/a58da00e4907251c2ab47d7af1109da31901ee36)".
