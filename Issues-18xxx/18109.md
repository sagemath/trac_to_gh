# Issue 18109: Restructure IntegerListLex code

archive/issues_017872.json:
```json
{
    "assignees": [],
    "body": "Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.\n\nThis ticket will not change anything to the public interface of `IntegerListsLex`.\n\nDepends on #15525\n\nCC:  @anneschilling @jdemeyer @nthiery @nathanncohen @bgillesp\n\nComponent: **combinatorics**\n\nAuthor: **Jeroen Demeyer**\n\nBranch/Commit: **[`65025ab`](https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a)**\n\nReviewer: **Anne Schilling, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18109_\n\n",
    "closed_at": "2015-10-17T08:36:29Z",
    "created_at": "2015-04-02T14:39:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Restructure IntegerListLex code",
    "type": "issue",
    "updated_at": "2015-10-17T08:36:29Z",
    "url": "https://github.com/sagemath/sage/issues/18109",
    "user": "https://github.com/videlec"
}
```
Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.

This ticket will not change anything to the public interface of `IntegerListsLex`.

Depends on #15525

CC:  @anneschilling @jdemeyer @nthiery @nathanncohen @bgillesp

Component: **combinatorics**

Author: **Jeroen Demeyer**

Branch/Commit: **[`65025ab`](https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a)**

Reviewer: **Anne Schilling, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/18109_





---

archive/issue_events_255172.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-02T14:39:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255172"
}
```



---

archive/issue_events_255173.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-02T14:39:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255173"
}
```



---

archive/issue_events_255174.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-02T14:39:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255174"
}
```



---

archive/issue_events_255175.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-02T14:39:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255175"
}
```



---

archive/issue_comments_246955.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n- I believe we should rephrase this ticket as \"extract the\n  `IntegerListsLex` *iterator* as a standalone tool that depends on\n  nothing but `Python`/`Cython`\". In fact this could go as far as making\n  it a standalone library in e.g. C++.\n\n  We want to keep the parent to model the set itself, ask questions\n  like cardinality or building the polyhedron, do constructions on top\n  of it (e.g. use it as indexing set for a vector space), etc.\n\n  #18056 would be a good occasion to handle this part.\n\n- Being able to specify an element constructor is a useful feature as\n  well. What we need to discuss here is whether we want to switch to\n  using lists (or tuples!) by default.\n\n- To remove `__classcall__` we need to wait until the end of the\n  deprecation period. To remove `global_options` we need to wait for\n  the subclasses using it to be refactored to not impose this burden\n  on `IntegerListsLex`.",
    "created_at": "2015-04-13T11:52:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246955",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:1" align="right">comment:1</div>

- I believe we should rephrase this ticket as "extract the
  `IntegerListsLex` *iterator* as a standalone tool that depends on
  nothing but `Python`/`Cython`". In fact this could go as far as making
  it a standalone library in e.g. C++.

  We want to keep the parent to model the set itself, ask questions
  like cardinality or building the polyhedron, do constructions on top
  of it (e.g. use it as indexing set for a vector space), etc.

  #18056 would be a good occasion to handle this part.

- Being able to specify an element constructor is a useful feature as
  well. What we need to discuss here is whether we want to switch to
  using lists (or tuples!) by default.

- To remove `__classcall__` we need to wait until the end of the
  deprecation period. To remove `global_options` we need to wait for
  the subclasses using it to be refactored to not impose this burden
  on `IntegerListsLex`.



---

archive/issue_comments_246956.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n>   We want to keep the parent to model the set itself, ask questions\n>   like cardinality or building the polyhedron, do constructions on top\n>   of it (e.g. use it as indexing set for a vector space), etc.\n\nThe 'Lex' there seems a bit too much for the mathematical object that you want to represent. You describe things that could be a method of an 'IntegerLists' object (or more specifically methods of 'Compositions' or 'Partitions').\n\n> - Being able to specify an element constructor is a useful feature as\n>   well. What we need to discuss here is whether we want to switch to\n>   using lists (or tuples!) by default.\n\nThere should be a way to enumerate these objects without paying this cost, however. A way to have both is to implement the iterator to return a copy of the current list, or a tuple (or even the current list itself, with big 'read only' warnings), and then implement in `IntegerListsLex` an `__iter__` that wraps every element returned by that iterator with <whatever you need>.\n\nNathann",
    "created_at": "2015-04-13T12:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246956",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

>   We want to keep the parent to model the set itself, ask questions
>   like cardinality or building the polyhedron, do constructions on top
>   of it (e.g. use it as indexing set for a vector space), etc.

The 'Lex' there seems a bit too much for the mathematical object that you want to represent. You describe things that could be a method of an 'IntegerLists' object (or more specifically methods of 'Compositions' or 'Partitions').

> - Being able to specify an element constructor is a useful feature as
>   well. What we need to discuss here is whether we want to switch to
>   using lists (or tuples!) by default.

There should be a way to enumerate these objects without paying this cost, however. A way to have both is to implement the iterator to return a copy of the current list, or a tuple (or even the current list itself, with big 'read only' warnings), and then implement in `IntegerListsLex` an `__iter__` that wraps every element returned by that iterator with <whatever you need>.

Nathann



---

archive/issue_comments_246957.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@nathanncohen](#comment%3A2):\n> There should be a way to enumerate these objects without paying this cost, however. A way to have both is to implement the iterator to return a copy of the current list, or a tuple (or even the current list itself, with big 'read only' warnings), and then implement in `IntegerListsLex` an `__iter__` that wraps every element returned by that iterator with <whatever you need>.\n\nThat's also what I have in mind: a low-level class designed to be clean and fast implemented in Cython without overhead. And then a class on top of that which can implement whatever extra Python features that you want.",
    "created_at": "2015-04-13T13:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246957",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@nathanncohen](#comment%3A2):
> There should be a way to enumerate these objects without paying this cost, however. A way to have both is to implement the iterator to return a copy of the current list, or a tuple (or even the current list itself, with big 'read only' warnings), and then implement in `IntegerListsLex` an `__iter__` that wraps every element returned by that iterator with <whatever you need>.

That's also what I have in mind: a low-level class designed to be clean and fast implemented in Cython without overhead. And then a class on top of that which can implement whatever extra Python features that you want.



---

archive/issue_events_255176.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-13T13:07:10Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "title_is": "Restructure IntegerListLex code",
    "title_was": "IntegerListLex better not be a parent",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255176"
}
```



---

archive/issue_comments_246958.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/18109)**",
    "created_at": "2015-04-13T16:51:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246958",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/18109)**



---

archive/issue_comments_246959.json:
```json
{
    "body": "Commit: **[`8d5ca55`](https://github.com/sagemath/sagetrac-mirror/commit/8d5ca559f1b4a376a84d88a995a3fde6bfb74a6f)**",
    "created_at": "2015-04-13T16:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246959",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`8d5ca55`](https://github.com/sagemath/sagetrac-mirror/commit/8d5ca559f1b4a376a84d88a995a3fde6bfb74a6f)**



---

archive/issue_comments_246960.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d5ca559f1b4a376a84d88a995a3fde6bfb74a6f\"><code>8d5ca55</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-13T16:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246960",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d5ca559f1b4a376a84d88a995a3fde6bfb74a6f"><code>8d5ca55</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246961.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2015-04-13T16:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246961",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_246962.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,3 @@\n-There are several useless features in `IntegerListLex` as already mentioned in [ticket #17979:comment 21](https://github.com/sagemath/sage/issues/17979#comment:291):\n-- it should not inherit from `Parent` and it should generate lists and not `ClonableArray`\n-- `global_options` is a useless attribute\n-- the `__clascall__` is here for nothing\n+Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.\n+\n+Attached branch is very much work in progress (although comments on the *design* are welcome).\n``````\n",
    "created_at": "2015-04-13T16:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246962",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,3 @@
-There are several useless features in `IntegerListLex` as already mentioned in [ticket #17979:comment 21](https://github.com/sagemath/sage/issues/17979#comment:291):
-- it should not inherit from `Parent` and it should generate lists and not `ClonableArray`
-- `global_options` is a useless attribute
-- the `__clascall__` is here for nothing
+Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.
+
+Attached branch is very much work in progress (although comments on the *design* are welcome).
``````




---

archive/issue_comments_246963.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.\n \n+This ticket will not change anything to the public interface of `IntegerListsLex`.\n+\n Attached branch is very much work in progress (although comments on the *design* are welcome).\n``````\n",
    "created_at": "2015-04-13T16:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246963",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.
 
+This ticket will not change anything to the public interface of `IntegerListsLex`.
+
 Attached branch is very much work in progress (although comments on the *design* are welcome).
``````




---

archive/issue_comments_246964.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHi Jeroen,\n\nAs a matter of fact, if you isolate the commit that just move a file, the diff looks much nicer. I am not able to get something reasonable with the options `-B`, `-C`, `-M` or `-D`. Do you know what to do?\n\nVincent",
    "created_at": "2015-04-13T17:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246964",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">comment:9</div>

Hi Jeroen,

As a matter of fact, if you isolate the commit that just move a file, the diff looks much nicer. I am not able to get something reasonable with the options `-B`, `-C`, `-M` or `-D`. Do you know what to do?

Vincent



---

archive/issue_comments_246965.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@videlec](#comment%3A9):\n> Hi Jeroen,\n> \n> As a matter of fact, if you isolate the commit that just move a file, the diff looks much nicer. I am not able to get something reasonable with the options `-B`, `-C`, `-M` or `-D`. Do you know what to do?\n\nSorry no. I don't know how to nicely show diffs which split up a file in two (interestingly, `hg` has better support for this!)",
    "created_at": "2015-04-13T18:05:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246965",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@videlec](#comment%3A9):
> Hi Jeroen,
> 
> As a matter of fact, if you isolate the commit that just move a file, the diff looks much nicer. I am not able to get something reasonable with the options `-B`, `-C`, `-M` or `-D`. Do you know what to do?

Sorry no. I don't know how to nicely show diffs which split up a file in two (interestingly, `hg` has better support for this!)



---

archive/issue_comments_246966.json:
```json
{
    "body": "Dependencies: **#18181**",
    "created_at": "2015-04-13T18:08:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246966",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#18181**



---

archive/issue_comments_246967.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f648443f5c9eba3d55dcf2c39991989bda2f5fe8\"><code>f648443</code></a></td><td><code>Move IntegerListsLex._Iter out of IntegerListsLex</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8fd440915b0438aecf7f1f5d8d5eb2d5f366ddd\"><code>d8fd440</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-13T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246967",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f648443f5c9eba3d55dcf2c39991989bda2f5fe8"><code>f648443</code></a></td><td><code>Move IntegerListsLex._Iter out of IntegerListsLex</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8fd440915b0438aecf7f1f5d8d5eb2d5f366ddd"><code>d8fd440</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246968.json:
```json
{
    "body": "Changed commit from **[`8d5ca55`](https://github.com/sagemath/sagetrac-mirror/commit/8d5ca559f1b4a376a84d88a995a3fde6bfb74a6f)** to **[`d8fd440`](https://github.com/sagemath/sagetrac-mirror/commit/d8fd440915b0438aecf7f1f5d8d5eb2d5f366ddd)**",
    "created_at": "2015-04-13T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246968",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8d5ca55`](https://github.com/sagemath/sagetrac-mirror/commit/8d5ca559f1b4a376a84d88a995a3fde6bfb74a6f)** to **[`d8fd440`](https://github.com/sagemath/sagetrac-mirror/commit/d8fd440915b0438aecf7f1f5d8d5eb2d5f366ddd)**



---

archive/issue_comments_246969.json:
```json
{
    "body": "Changed commit from **[`d8fd440`](https://github.com/sagemath/sagetrac-mirror/commit/d8fd440915b0438aecf7f1f5d8d5eb2d5f366ddd)** to **[`9fbbd3c`](https://github.com/sagemath/sagetrac-mirror/commit/9fbbd3c6c2900b5d6f326846522338774751cfe8)**",
    "created_at": "2015-04-13T21:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246969",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d8fd440`](https://github.com/sagemath/sagetrac-mirror/commit/d8fd440915b0438aecf7f1f5d8d5eb2d5f366ddd)** to **[`9fbbd3c`](https://github.com/sagemath/sagetrac-mirror/commit/9fbbd3c6c2900b5d6f326846522338774751cfe8)**



---

archive/issue_comments_246970.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fbbd3c6c2900b5d6f326846522338774751cfe8\"><code>9fbbd3c</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-13T21:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246970",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fbbd3c6c2900b5d6f326846522338774751cfe8"><code>9fbbd3c</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246971.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nA comment on the design... Should we really support +Infinity in the iterator? I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity. Of course it makes sense for the higher classes (e.g. to give a proper answer to `.cardinality()`).",
    "created_at": "2015-04-13T22:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246971",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

A comment on the design... Should we really support +Infinity in the iterator? I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity. Of course it makes sense for the higher classes (e.g. to give a proper answer to `.cardinality()`).



---

archive/issue_comments_246972.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@videlec](#comment%3A14):\n> A comment on the design... Should we really support +Infinity in the iterator?\n\nYes.\n\n> I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity.\n\nAnd not support `IntegerLists(10^100)`?",
    "created_at": "2015-04-14T05:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246972",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@videlec](#comment%3A14):
> A comment on the design... Should we really support +Infinity in the iterator?

Yes.

> I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity.

And not support `IntegerLists(10^100)`?



---

archive/issue_comments_246973.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jdemeyer](#comment%3A15):\n> Replying to [@videlec](#comment%3A14):\n> > A comment on the design... Should we really support +Infinity in the iterator?\n\n> Yes.\n> \n> > I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity.\n\n> And not support `IntegerLists(10^100)`?\n\nI said for the iterator. Not for the main class. I would not bother if `iter(IntegerLists(10^100))` just failed. It should be very fast for small entries. I guess that one option would be to use Nathann strategy in #18137 with fused Cython type (here `unsigned int` and `mpz_t`). But I remember that it was nearly impossible to make it work as attributes of an extension class.",
    "created_at": "2015-04-14T06:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246973",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jdemeyer](#comment%3A15):
> Replying to [@videlec](#comment%3A14):
> > A comment on the design... Should we really support +Infinity in the iterator?

> Yes.
> 
> > I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity.

> And not support `IntegerLists(10^100)`?

I said for the iterator. Not for the main class. I would not bother if `iter(IntegerLists(10^100))` just failed. It should be very fast for small entries. I guess that one option would be to use Nathann strategy in #18137 with fused Cython type (here `unsigned int` and `mpz_t`). But I remember that it was nearly impossible to make it work as attributes of an extension class.



---

archive/issue_comments_246974.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@videlec](#comment%3A16):\n> But I remember that it was nearly impossible to make it work as attributes of an extension class.\n\nFor attributes of an extension class, no. I guess you could have two classes (one for some C type and one for `mpz_t`) on top of a common base class. But I have never done this.",
    "created_at": "2015-04-14T07:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246974",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@videlec](#comment%3A16):
> But I remember that it was nearly impossible to make it work as attributes of an extension class.

For attributes of an extension class, no. I guess you could have two classes (one for some C type and one for `mpz_t`) on top of a common base class. But I have never done this.



---

archive/issue_comments_246975.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@videlec](#comment%3A16):\n> Replying to [@jdemeyer](#comment%3A15):\n> > Replying to [@videlec](#comment%3A14):\n> > > A comment on the design... Should we really support +Infinity in the iterator?\n\n> > Yes.\n> > \n> > > I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity.\n\n> > And not support `IntegerLists(10^100)`?\n\n> \n> I said for the iterator. Not for the main class. I would not bother if `iter(IntegerLists(10^100))` just failed. It should be very fast for small entries. I guess that one option would be to use Nathann strategy in #18137 with fused Cython type (here `unsigned int` and `mpz_t`).\n\nI think that we really should support `list(IntegerLists(10^100, length=1))` because in Sage, we *always* support large integers if possible.\n\nIn any case, changing this is certainly outside the scope of this ticket (it could be done in #18055 or #18056). Here, I just want to reorganize the code without changing the implementation.",
    "created_at": "2015-04-14T07:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246975",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@videlec](#comment%3A16):
> Replying to [@jdemeyer](#comment%3A15):
> > Replying to [@videlec](#comment%3A14):
> > > A comment on the design... Should we really support +Infinity in the iterator?

> > Yes.
> > 
> > > I would go for `unsigned int` variables and `UINT_MAX` as a synonmyous for Infinity.

> > And not support `IntegerLists(10^100)`?

> 
> I said for the iterator. Not for the main class. I would not bother if `iter(IntegerLists(10^100))` just failed. It should be very fast for small entries. I guess that one option would be to use Nathann strategy in #18137 with fused Cython type (here `unsigned int` and `mpz_t`).

I think that we really should support `list(IntegerLists(10^100, length=1))` because in Sage, we *always* support large integers if possible.

In any case, changing this is certainly outside the scope of this ticket (it could be done in #18055 or #18056). Here, I just want to reorganize the code without changing the implementation.



---

archive/issue_comments_246976.json:
```json
{
    "body": "Changed dependencies from **#18181** to **#18181, #18184**",
    "created_at": "2015-04-14T09:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246976",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#18181** to **#18181, #18184**



---

archive/issue_comments_246977.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e39566a935403eb750d444d6b236f43084caa8be\"><code>e39566a</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T09:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246977",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e39566a935403eb750d444d6b236f43084caa8be"><code>e39566a</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246978.json:
```json
{
    "body": "Changed commit from **[`9fbbd3c`](https://github.com/sagemath/sagetrac-mirror/commit/9fbbd3c6c2900b5d6f326846522338774751cfe8)** to **[`e39566a`](https://github.com/sagemath/sagetrac-mirror/commit/e39566a935403eb750d444d6b236f43084caa8be)**",
    "created_at": "2015-04-14T09:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246978",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9fbbd3c`](https://github.com/sagemath/sagetrac-mirror/commit/9fbbd3c6c2900b5d6f326846522338774751cfe8)** to **[`e39566a`](https://github.com/sagemath/sagetrac-mirror/commit/e39566a935403eb750d444d6b236f43084caa8be)**



---

archive/issue_comments_246979.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866\"><code>cda4b75</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T10:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246979",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866"><code>cda4b75</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246980.json:
```json
{
    "body": "Changed commit from **[`e39566a`](https://github.com/sagemath/sagetrac-mirror/commit/e39566a935403eb750d444d6b236f43084caa8be)** to **[`cda4b75`](https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866)**",
    "created_at": "2015-04-14T10:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e39566a`](https://github.com/sagemath/sagetrac-mirror/commit/e39566a935403eb750d444d6b236f43084caa8be)** to **[`cda4b75`](https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866)**



---

archive/issue_comments_246981.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@jdemeyer](#comment%3A18):\n> I think that we really should support `list(IntegerLists(10^100, length=1))` because in Sage, we *always* support large integers if possible.\n\nThat's part of why I am thinking of C++; then we can just have a\ntemplated iterator, and depending on the input we can choose one\ninstantiation or the other.\n\n> In any case, changing this is certainly outside the scope of this\n> ticket (it could be done in #18055 or #18056). Here, I just want to\n> reorganize the code without changing the implementation.\n\nSounds reasonable indeed.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866\"><code>cda4b75</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T10:36:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246981",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@jdemeyer](#comment%3A18):
> I think that we really should support `list(IntegerLists(10^100, length=1))` because in Sage, we *always* support large integers if possible.

That's part of why I am thinking of C++; then we can just have a
templated iterator, and depending on the input we can choose one
instantiation or the other.

> In any case, changing this is certainly outside the scope of this
> ticket (it could be done in #18055 or #18056). Here, I just want to
> reorganize the code without changing the implementation.

Sounds reasonable indeed.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866"><code>cda4b75</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246982.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e03140a761586bf64f01aceba324abd1eece813b\"><code>e03140a</code></a></td><td><code>CombinatorialObject constructor should copy input</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7bc34851992cdc82b1bc4cf60d1de1208be9db4\"><code>e7bc348</code></a></td><td><code>Merge commit 'e03140a761586bf64f01aceba324abd1eece813b' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f8c40a07f55d18097ca53007ca3dfd29439551e\"><code>7f8c40a</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T11:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246982",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e03140a761586bf64f01aceba324abd1eece813b"><code>e03140a</code></a></td><td><code>CombinatorialObject constructor should copy input</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7bc34851992cdc82b1bc4cf60d1de1208be9db4"><code>e7bc348</code></a></td><td><code>Merge commit 'e03140a761586bf64f01aceba324abd1eece813b' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f8c40a07f55d18097ca53007ca3dfd29439551e"><code>7f8c40a</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246983.json:
```json
{
    "body": "Changed commit from **[`cda4b75`](https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866)** to **[`7f8c40a`](https://github.com/sagemath/sagetrac-mirror/commit/7f8c40a07f55d18097ca53007ca3dfd29439551e)**",
    "created_at": "2015-04-14T11:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cda4b75`](https://github.com/sagemath/sagetrac-mirror/commit/cda4b75087577ff9583411799f8832ccf2e72866)** to **[`7f8c40a`](https://github.com/sagemath/sagetrac-mirror/commit/7f8c40a07f55d18097ca53007ca3dfd29439551e)**



---

archive/issue_comments_246984.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b88b6416c0a6853b2fff59d7bd2ecb2d56f5a5c\"><code>2b88b64</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T12:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246984",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b88b6416c0a6853b2fff59d7bd2ecb2d56f5a5c"><code>2b88b64</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246985.json:
```json
{
    "body": "Changed commit from **[`7f8c40a`](https://github.com/sagemath/sagetrac-mirror/commit/7f8c40a07f55d18097ca53007ca3dfd29439551e)** to **[`2b88b64`](https://github.com/sagemath/sagetrac-mirror/commit/2b88b6416c0a6853b2fff59d7bd2ecb2d56f5a5c)**",
    "created_at": "2015-04-14T12:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246985",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f8c40a`](https://github.com/sagemath/sagetrac-mirror/commit/7f8c40a07f55d18097ca53007ca3dfd29439551e)** to **[`2b88b64`](https://github.com/sagemath/sagetrac-mirror/commit/2b88b6416c0a6853b2fff59d7bd2ecb2d56f5a5c)**



---

archive/issue_comments_246986.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@videlec](#comment%3A9):\n> I am not able to get something reasonable with the options `-B`, `-C`, `-M` or `-D`. Do you know what to do?\n\nActually, the following will show everything as copied from `integer_list.py`:\n\n```\ngit show --patience -D -B -C01\n```",
    "created_at": "2015-04-14T12:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246986",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@videlec](#comment%3A9):
> I am not able to get something reasonable with the options `-B`, `-C`, `-M` or `-D`. Do you know what to do?

Actually, the following will show everything as copied from `integer_list.py`:

```
git show --patience -D -B -C01
```



---

archive/issue_comments_246987.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e67e71c7437af2daf3c6653d882e0fafb6e292b8\"><code>e67e71c</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T13:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246987",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e67e71c7437af2daf3c6653d882e0fafb6e292b8"><code>e67e71c</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246988.json:
```json
{
    "body": "Changed commit from **[`2b88b64`](https://github.com/sagemath/sagetrac-mirror/commit/2b88b6416c0a6853b2fff59d7bd2ecb2d56f5a5c)** to **[`e67e71c`](https://github.com/sagemath/sagetrac-mirror/commit/e67e71c7437af2daf3c6653d882e0fafb6e292b8)**",
    "created_at": "2015-04-14T13:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246988",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b88b64`](https://github.com/sagemath/sagetrac-mirror/commit/2b88b6416c0a6853b2fff59d7bd2ecb2d56f5a5c)** to **[`e67e71c`](https://github.com/sagemath/sagetrac-mirror/commit/e67e71c7437af2daf3c6653d882e0fafb6e292b8)**



---

archive/issue_comments_246989.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThis now passes all doctests except for the pickle jar.",
    "created_at": "2015-04-14T14:44:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246989",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

This now passes all doctests except for the pickle jar.



---

archive/issue_comments_246990.json:
```json
{
    "body": "Changed commit from **[`e67e71c`](https://github.com/sagemath/sagetrac-mirror/commit/e67e71c7437af2daf3c6653d882e0fafb6e292b8)** to **[`8c587d3`](https://github.com/sagemath/sagetrac-mirror/commit/8c587d34a7b3332baaeb97b3197f465eebf0c982)**",
    "created_at": "2015-04-14T15:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246990",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e67e71c`](https://github.com/sagemath/sagetrac-mirror/commit/e67e71c7437af2daf3c6653d882e0fafb6e292b8)** to **[`8c587d3`](https://github.com/sagemath/sagetrac-mirror/commit/8c587d34a7b3332baaeb97b3197f465eebf0c982)**



---

archive/issue_comments_246991.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c587d34a7b3332baaeb97b3197f465eebf0c982\"><code>8c587d3</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T15:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246991",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c587d34a7b3332baaeb97b3197f465eebf0c982"><code>8c587d3</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_246992.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nPasses all doctests and documentation builds.",
    "created_at": "2015-04-14T15:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246992",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Passes all doctests and documentation builds.



---

archive/issue_comments_246993.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.\n \n This ticket will not change anything to the public interface of `IntegerListsLex`.\n-\n-Attached branch is very much work in progress (although comments on the *design* are welcome).\n``````\n",
    "created_at": "2015-04-14T15:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246993",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 Split up `IntegerListsLex` in a fast Cython back-end and a (slower) Python front-end. Restructure with multiple implementations (like #17920) in mind.
 
 This ticket will not change anything to the public interface of `IntegerListsLex`.
-
-Attached branch is very much work in progress (although comments on the *design* are welcome).
``````




---

archive/issue_comments_246994.json:
```json
{
    "body": "Changed commit from **[`8c587d3`](https://github.com/sagemath/sagetrac-mirror/commit/8c587d34a7b3332baaeb97b3197f465eebf0c982)** to **[`2be6ad0`](https://github.com/sagemath/sagetrac-mirror/commit/2be6ad090d51f5eb033cde42a1831ab7d89092ae)**",
    "created_at": "2015-04-14T20:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246994",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8c587d3`](https://github.com/sagemath/sagetrac-mirror/commit/8c587d34a7b3332baaeb97b3197f465eebf0c982)** to **[`2be6ad0`](https://github.com/sagemath/sagetrac-mirror/commit/2be6ad090d51f5eb033cde42a1831ab7d89092ae)**



---

archive/issue_comments_246995.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2be6ad090d51f5eb033cde42a1831ab7d89092ae\"><code>2be6ad0</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-04-14T20:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246995",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2be6ad090d51f5eb033cde42a1831ab7d89092ae"><code>2be6ad0</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_events_255177.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-04-14T20:33:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255177"
}
```



---

archive/issue_comments_246996.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nHi Jeroen!\n\nSince you seem to have cythonized the code already, could you add some timings compared to the old code?\n\nAnne\n\nPS: I was under the impression that it is harder to debug code in cython, which might make life a little harder for the new features in #18055.",
    "created_at": "2015-04-14T23:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246996",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:32" align="right">comment:32</div>

Hi Jeroen!

Since you seem to have cythonized the code already, could you add some timings compared to the old code?

Anne

PS: I was under the impression that it is harder to debug code in cython, which might make life a little harder for the new features in #18055.



---

archive/issue_comments_246997.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@anneschilling](#comment%3A32):\n> Since you seem to have cythonized the code already, could you add some timings compared to the old code?\n\nMy goal certainly was not to gain speed, but I could check...\n\n> I was under the impression that it is harder to debug code in cython, which might make life a little harder for the new features in #18055.\n\nI have no idea really. A lot of the code I write for Sage is Cython and it hasn't bothered me.\n\nOn the other hand, I on purpose did not Cythonize `IntegerListsLexIter` (it's in a Cython source file, but doesn't use any Cython features). So if it makes your life easier, just move that one class to a Python file.",
    "created_at": "2015-04-15T06:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246997",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@anneschilling](#comment%3A32):
> Since you seem to have cythonized the code already, could you add some timings compared to the old code?

My goal certainly was not to gain speed, but I could check...

> I was under the impression that it is harder to debug code in cython, which might make life a little harder for the new features in #18055.

I have no idea really. A lot of the code I write for Sage is Cython and it hasn't bothered me.

On the other hand, I on purpose did not Cythonize `IntegerListsLexIter` (it's in a Cython source file, but doesn't use any Cython features). So if it makes your life easier, just move that one class to a Python file.



---

archive/issue_comments_246998.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@anneschilling](#comment%3A32):\n> you seem to have cythonized the code already\n\nDepends what you mean. I moved the files to a Cython source file and I created extension types instead of Python classes. But I didn't optimize the loops for example.",
    "created_at": "2015-04-15T07:18:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246998",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@anneschilling](#comment%3A32):
> you seem to have cythonized the code already

Depends what you mean. I moved the files to a Cython source file and I created extension types instead of Python classes. But I didn't optimize the loops for example.



---

archive/issue_comments_246999.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThere is a small but significant speed-up (again: this is without really trying to speed up the code).\n\n---\n\nBefore:\n\n```\nsage: timeit('list(IntegerListsLex(14, min_part=1))')\n5 loops, best of 3: 1.18 s per loop\n```\n\nAfter:\n\n```\nsage: timeit('list(IntegerListsLex(14, min_part=1))')\n5 loops, best of 3: 986 ms per loop\n```\n\n---\n\nBefore:\n\n```\nsage: timeit('list(IntegerListsLex(28, length=8, floor=lambda i:i, check=False))')\n5 loops, best of 3: 1.11 s per loop\n```\n\nAfter:\n\n```\nsage: timeit('list(IntegerListsLex(28, length=8, floor=lambda i:i, check=False))')\n5 loops, best of 3: 852 ms per loop\n```",
    "created_at": "2015-04-15T07:54:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-246999",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

There is a small but significant speed-up (again: this is without really trying to speed up the code).

---

Before:

```
sage: timeit('list(IntegerListsLex(14, min_part=1))')
5 loops, best of 3: 1.18 s per loop
```

After:

```
sage: timeit('list(IntegerListsLex(14, min_part=1))')
5 loops, best of 3: 986 ms per loop
```

---

Before:

```
sage: timeit('list(IntegerListsLex(28, length=8, floor=lambda i:i, check=False))')
5 loops, best of 3: 1.11 s per loop
```

After:

```
sage: timeit('list(IntegerListsLex(28, length=8, floor=lambda i:i, check=False))')
5 loops, best of 3: 852 ms per loop
```



---

archive/issue_comments_247000.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nNice that there is a slight speedup without even trying hard!\n\nFYI, I rebased this branch on top of sage-6.7.beta0 and everything looks clean.\n\nI noticed that in `nn.y` in `sage.combinat.integer_lists` it currently says\n\n```\n    .. WARNING:: this function is likely to disappear in :trac:`17927`.\n```\nBriefly looking at `17927` this seems no longer the case.",
    "created_at": "2015-04-15T16:44:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247000",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:36" align="right">comment:36</div>

Nice that there is a slight speedup without even trying hard!

FYI, I rebased this branch on top of sage-6.7.beta0 and everything looks clean.

I noticed that in `nn.y` in `sage.combinat.integer_lists` it currently says

```
    .. WARNING:: this function is likely to disappear in :trac:`17927`.
```
Briefly looking at `17927` this seems no longer the case.



---

archive/issue_comments_247001.json:
```json
{
    "body": "Changed commit from **[`2be6ad0`](https://github.com/sagemath/sagetrac-mirror/commit/2be6ad090d51f5eb033cde42a1831ab7d89092ae)** to **[`2188082`](https://github.com/sagemath/sagetrac-mirror/commit/218808287254c4b462eeed12801310ebe4d3d124)**",
    "created_at": "2015-04-15T19:22:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247001",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2be6ad0`](https://github.com/sagemath/sagetrac-mirror/commit/2be6ad090d51f5eb033cde42a1831ab7d89092ae)** to **[`2188082`](https://github.com/sagemath/sagetrac-mirror/commit/218808287254c4b462eeed12801310ebe4d3d124)**



---

archive/issue_comments_247002.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/218808287254c4b462eeed12801310ebe4d3d124\"><code>2188082</code></a></td><td><code>Remove references to #17927</code></td></tr></table>\n",
    "created_at": "2015-04-15T19:22:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247002",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/218808287254c4b462eeed12801310ebe4d3d124"><code>2188082</code></a></td><td><code>Remove references to #17927</code></td></tr></table>




---

archive/issue_comments_247003.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nIn principle this branch looks good to me; I guess it needs to be rebased to the latest development version, however.\n\nJust to check: are you planning to reuse the Envelope class also for #17920? The planned changes there involving backward smoothing etc will be ok, right?",
    "created_at": "2015-04-16T05:28:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247003",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:38" align="right">comment:38</div>

In principle this branch looks good to me; I guess it needs to be rebased to the latest development version, however.

Just to check: are you planning to reuse the Envelope class also for #17920? The planned changes there involving backward smoothing etc will be ok, right?



---

archive/issue_comments_247004.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@anneschilling](#comment%3A38):\n> Just to check: are you planning to reuse the Envelope class also for #17920? The planned changes there involving backward smoothing etc will be ok, right?\n\nSure. The only risk is that errors in `Envelope` will make both implementations wrong.",
    "created_at": "2015-04-16T05:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247004",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@anneschilling](#comment%3A38):
> Just to check: are you planning to reuse the Envelope class also for #17920? The planned changes there involving backward smoothing etc will be ok, right?

Sure. The only risk is that errors in `Envelope` will make both implementations wrong.



---

archive/issue_comments_247005.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@anneschilling](#comment%3A38):\n> In principle this branch looks good to me; I guess it needs to be rebased to the latest development version, however.\n\nDespite the red link on Trac, it actually merges cleanly with `6.7.beta1`",
    "created_at": "2015-04-16T05:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247005",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@anneschilling](#comment%3A38):
> In principle this branch looks good to me; I guess it needs to be rebased to the latest development version, however.

Despite the red link on Trac, it actually merges cleanly with `6.7.beta1`



---

archive/issue_comments_247006.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nHi Jeroen,\n\nCould you please rebase this patch on the latest development version, so I can do the final review? Nicolas never made a comment, so I assume he is ok with it!\n\nBest,\n\nAnne",
    "created_at": "2015-04-29T04:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247006",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:41" align="right">comment:41</div>

Hi Jeroen,

Could you please rebase this patch on the latest development version, so I can do the final review? Nicolas never made a comment, so I assume he is ok with it!

Best,

Anne



---

archive/issue_comments_247007.json:
```json
{
    "body": "Changed commit from **[`2188082`](https://github.com/sagemath/sagetrac-mirror/commit/218808287254c4b462eeed12801310ebe4d3d124)** to **[`9582a7a`](https://github.com/sagemath/sagetrac-mirror/commit/9582a7a5248f609a2d2de02497b4b1d36d9dd96e)**",
    "created_at": "2015-04-29T09:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247007",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2188082`](https://github.com/sagemath/sagetrac-mirror/commit/218808287254c4b462eeed12801310ebe4d3d124)** to **[`9582a7a`](https://github.com/sagemath/sagetrac-mirror/commit/9582a7a5248f609a2d2de02497b4b1d36d9dd96e)**



---

archive/issue_comments_247008.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9582a7a5248f609a2d2de02497b4b1d36d9dd96e\"><code>9582a7a</code></a></td><td><code>Merge tag '6.7.beta3' into t/18109/ticket/18109</code></td></tr></table>\n",
    "created_at": "2015-04-29T09:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247008",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9582a7a5248f609a2d2de02497b4b1d36d9dd96e"><code>9582a7a</code></a></td><td><code>Merge tag '6.7.beta3' into t/18109/ticket/18109</code></td></tr></table>




---

archive/issue_comments_247009.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI went through the code and the restructuring looks good to me. All tests pass and the documentation builds. One question I have though is about the comparison functions in `base.py` and `lists.py`. The tests look almost identical. So which one is actually used for `IntegerListsLex`?",
    "created_at": "2015-04-29T23:05:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247009",
    "user": "https://github.com/anneschilling"
}
```

<div id="comment:43" align="right">comment:43</div>

I went through the code and the restructuring looks good to me. All tests pass and the documentation builds. One question I have though is about the comparison functions in `base.py` and `lists.py`. The tests look almost identical. So which one is actually used for `IntegerListsLex`?



---

archive/issue_comments_247010.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nHi Jeroen,\n\nSorry, I got sidetracked reviewing other tickets. Thanks Anne for the\nreminder, and for checking the code and the documentation!\n\nI have just been through the code myself (not checking the fine\ndetails though).\n\nAltogether, I believe it's correct. Cythonizing the envelope function\nand making the iterator into a Cython class that depends on little of\nthe Sage infrastructure was in our long term plans, so that's great (I\nwould have done it after the algorithm refactorisation, but since it's\ndone, let's move forward). Generalizing a base IntegerLists class is\nuseful as well.\n\nOn the other hand, is it absolutely necessary to have this separation\nbetween frontend and backend classes? It introduces some complexity\nand in fact some duplication (e.g. in the tests). In particular, I am\nworried that it might introduce complexity in the construction of new\nspecial case classes based on `IntegerListsLex`, when the primary goal\nis to make this as trivial as possible. I'd need to actually implement\nsuch new classes to qualify this worry.\n\nIf it's just a question of avoiding calls to the element constructor,\ncould not this be done just locally in `__iter__` (returning directly\nan `IntegerListsLexIter` object, or mapping the constructor on it)?\nIf it's a question of making the iterator code independent of\n`Parent`, well, it already is: it only uses the `IntegerListsLex`\nobject as a data holder for the constraints, right? As long as we\ndon't have a specific use case (backed up by benchmarks if speed is\nthe motivation), there may not be much point in maintaining additional\ncode for this.\n\nAt the very least, there should be some entry point (typically in the\nmodule description) listing all the classes, and clarifying their\nrespective roles. Maybe slightly more systematic class names could\nhelp; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,\n`IntegerListsLexBackend`.\n\n\nSome small suggestions:\n\n- some of the cdef attributes could be declared as\n  int's. E.g. `Envelope.min_length`.\n\n- maybe we could use the occasion to rename the attribute\n  `IntegerListsLexIter.parent` especially if it's not a parent\n  anymore.\n\n- Another small complication is having to handle pickling by hand each\n  time. At least, would there be a way to implement `XXX.__reduce__`\n  to return `(XXX, *)` rather than having to implement an\n  `unpickle_XXX` function each time?\n\nCheers,\n                          Nicolas",
    "created_at": "2015-04-30T09:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247010",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:44" align="right">comment:44</div>

Hi Jeroen,

Sorry, I got sidetracked reviewing other tickets. Thanks Anne for the
reminder, and for checking the code and the documentation!

I have just been through the code myself (not checking the fine
details though).

Altogether, I believe it's correct. Cythonizing the envelope function
and making the iterator into a Cython class that depends on little of
the Sage infrastructure was in our long term plans, so that's great (I
would have done it after the algorithm refactorisation, but since it's
done, let's move forward). Generalizing a base IntegerLists class is
useful as well.

On the other hand, is it absolutely necessary to have this separation
between frontend and backend classes? It introduces some complexity
and in fact some duplication (e.g. in the tests). In particular, I am
worried that it might introduce complexity in the construction of new
special case classes based on `IntegerListsLex`, when the primary goal
is to make this as trivial as possible. I'd need to actually implement
such new classes to qualify this worry.

If it's just a question of avoiding calls to the element constructor,
could not this be done just locally in `__iter__` (returning directly
an `IntegerListsLexIter` object, or mapping the constructor on it)?
If it's a question of making the iterator code independent of
`Parent`, well, it already is: it only uses the `IntegerListsLex`
object as a data holder for the constraints, right? As long as we
don't have a specific use case (backed up by benchmarks if speed is
the motivation), there may not be much point in maintaining additional
code for this.

At the very least, there should be some entry point (typically in the
module description) listing all the classes, and clarifying their
respective roles. Maybe slightly more systematic class names could
help; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,
`IntegerListsLexBackend`.


Some small suggestions:

- some of the cdef attributes could be declared as
  int's. E.g. `Envelope.min_length`.

- maybe we could use the occasion to rename the attribute
  `IntegerListsLexIter.parent` especially if it's not a parent
  anymore.

- Another small complication is having to handle pickling by hand each
  time. At least, would there be a way to implement `XXX.__reduce__`
  to return `(XXX, *)` rather than having to implement an
  `unpickle_XXX` function each time?

Cheers,
                          Nicolas



---

archive/issue_comments_247011.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@nthiery](#comment%3A44):\n> On the other hand, is it absolutely necessary to have this separation\n> between frontend and backend classes?\n> If it's a question of making the iterator code independent of\n> `Parent`\n\nIt's a question of making the backend class independent of `Parent` yes. I think it's good to have a fast simple Cython backend and a proper Sage `Parent` front-end.\n\n> Some small suggestions:\n> \n> - some of the cdef attributes could be declared as\n>   int's. E.g. `Envelope.min_length`.\n\nI consider that out of the scope of this ticket. These are micro-optimizations which can be done after we have a clearer view of the final design.\n\n> - maybe we could use the occasion to rename the attribute\n>   `IntegerListsLexIter.parent` especially if it's not a parent\n>   anymore.\n\nSure, fine for me.\n\n> - Another small complication is having to handle pickling by hand each\n>   time. At least, would there be a way to implement `XXX.__reduce__`\n>   to return `(XXX, *)` rather than having to implement an\n>   `unpickle_XXX` function each time?\n\nIt's certainly annoying, but that's because Cython cannot automatically (un)pickle extension types. I have to check if it can be simplified.",
    "created_at": "2015-04-30T10:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247011",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@nthiery](#comment%3A44):
> On the other hand, is it absolutely necessary to have this separation
> between frontend and backend classes?
> If it's a question of making the iterator code independent of
> `Parent`

It's a question of making the backend class independent of `Parent` yes. I think it's good to have a fast simple Cython backend and a proper Sage `Parent` front-end.

> Some small suggestions:
> 
> - some of the cdef attributes could be declared as
>   int's. E.g. `Envelope.min_length`.

I consider that out of the scope of this ticket. These are micro-optimizations which can be done after we have a clearer view of the final design.

> - maybe we could use the occasion to rename the attribute
>   `IntegerListsLexIter.parent` especially if it's not a parent
>   anymore.

Sure, fine for me.

> - Another small complication is having to handle pickling by hand each
>   time. At least, would there be a way to implement `XXX.__reduce__`
>   to return `(XXX, *)` rather than having to implement an
>   `unpickle_XXX` function each time?

It's certainly annoying, but that's because Cython cannot automatically (un)pickle extension types. I have to check if it can be simplified.



---

archive/issue_comments_247012.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nHi Jeroen,\n\nReplying to [@jdemeyer](#comment%3A45):\n> It's a question of making the backend class independent of `Parent` yes. I think it's good to have a fast simple Cython backend and a proper Sage `Parent` front-end.\n\nI agree its good in theory. But if it makes things more complicated,\nthen it's only good in practice if we have an actual use case.\n\nA main point being: unless we create millions of small IntegerListsLex\nobjects, I don't see why having it be a (facade) parent makes things\nslower.\n\n> I consider that out of the scope of this ticket. These are micro-optimizations which can be done after we have a clearer view of the final design.\n\nFair enough.\n\n> It's certainly annoying, but that's because Cython cannot automatically (un)pickle extension types. I have to check if it can be simplified.\n\nThanks!\n\nCheers,\n                          Nicolas\n\nPS: I forgot to word my appreciation for the hard work!",
    "created_at": "2015-04-30T11:32:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247012",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:46" align="right">comment:46</div>

Hi Jeroen,

Replying to [@jdemeyer](#comment%3A45):
> It's a question of making the backend class independent of `Parent` yes. I think it's good to have a fast simple Cython backend and a proper Sage `Parent` front-end.

I agree its good in theory. But if it makes things more complicated,
then it's only good in practice if we have an actual use case.

A main point being: unless we create millions of small IntegerListsLex
objects, I don't see why having it be a (facade) parent makes things
slower.

> I consider that out of the scope of this ticket. These are micro-optimizations which can be done after we have a clearer view of the final design.

Fair enough.

> It's certainly annoying, but that's because Cython cannot automatically (un)pickle extension types. I have to check if it can be simplified.

Thanks!

Cheers,
                          Nicolas

PS: I forgot to word my appreciation for the hard work!



---

archive/issue_comments_247013.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@nthiery](#comment%3A46):\n>      Hi Jeroen,\n> \n> Replying to [@jdemeyer](#comment%3A45):\n> > It's a question of making the backend class independent of `Parent` yes. I think it's good to have a fast simple Cython backend and a proper Sage `Parent` front-end.\n\n> \n> I agree its good in theory. But if it makes things more complicated,\n> then it's only good in practice if we have an actual use case.\n> \n> A main point being: unless we create millions of small IntegerListsLex\n> objects, I don't see why having it be a (facade) parent makes things\n> slower.\n\nA use case is in `MatrixSpace.__iter__` and I also have others intensive usage for building so-called square tiled surfaces (if you care, look at `u/vdelecroix/flat_surfaces-6.5`). I would be grateful if the iterator could be accessible without initializing any parent.\n\nVincent",
    "created_at": "2015-04-30T11:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247013",
    "user": "https://github.com/videlec"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@nthiery](#comment%3A46):
>      Hi Jeroen,
> 
> Replying to [@jdemeyer](#comment%3A45):
> > It's a question of making the backend class independent of `Parent` yes. I think it's good to have a fast simple Cython backend and a proper Sage `Parent` front-end.

> 
> I agree its good in theory. But if it makes things more complicated,
> then it's only good in practice if we have an actual use case.
> 
> A main point being: unless we create millions of small IntegerListsLex
> objects, I don't see why having it be a (facade) parent makes things
> slower.

A use case is in `MatrixSpace.__iter__` and I also have others intensive usage for building so-called square tiled surfaces (if you care, look at `u/vdelecroix/flat_surfaces-6.5`). I would be grateful if the iterator could be accessible without initializing any parent.

Vincent



---

archive/issue_comments_247014.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\n> A main point being: unless we create millions of small IntegerListsLex\n> objects, I don't see why having it be a (facade) parent makes things\n> slower.\n\nWouldn't this happen if somebody wants, for all `n` between 10 and 1000, one instance of a partition of `n` satisfying <a specific set of constraints> ?\n\nThere is a (trivial) case at least which makes sense to me, i.e. for a fixed `k` find some partition of `n` into integers between `floor(n/k)` and `ceil(n/k)`. I agree that this can be done manually without this iterator, but I expect that it can happen with more complicated set of constraints too.\n\nNathann",
    "created_at": "2015-04-30T11:41:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247014",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:48" align="right">comment:48</div>

> A main point being: unless we create millions of small IntegerListsLex
> objects, I don't see why having it be a (facade) parent makes things
> slower.

Wouldn't this happen if somebody wants, for all `n` between 10 and 1000, one instance of a partition of `n` satisfying <a specific set of constraints> ?

There is a (trivial) case at least which makes sense to me, i.e. for a fixed `k` find some partition of `n` into integers between `floor(n/k)` and `ceil(n/k)`. I agree that this can be done manually without this iterator, but I expect that it can happen with more complicated set of constraints too.

Nathann



---

archive/issue_comments_247015.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@videlec](#comment%3A47):\n> A use case is in `MatrixSpace.__iter__` and I also have others intensive usage for building so-called square tiled surfaces (if you care, look at `u/vdelecroix/flat_surfaces-6.5`). I would be grateful if the iterator could be accessible without initializing any parent.\n\nThanks for the feedback.\n\nDo you mind running a concrete benchmark in one of those situations, comparing a facade parent `IntegerListLex` and a non-parent `IntegerListsLex` as provided by this ticket? Then we coud evaluate on solid ground what the overhead actually is, and whether it's worth the additional complexity?",
    "created_at": "2015-04-30T12:41:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247015",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@videlec](#comment%3A47):
> A use case is in `MatrixSpace.__iter__` and I also have others intensive usage for building so-called square tiled surfaces (if you care, look at `u/vdelecroix/flat_surfaces-6.5`). I would be grateful if the iterator could be accessible without initializing any parent.

Thanks for the feedback.

Do you mind running a concrete benchmark in one of those situations, comparing a facade parent `IntegerListLex` and a non-parent `IntegerListsLex` as provided by this ticket? Then we coud evaluate on solid ground what the overhead actually is, and whether it's worth the additional complexity?



---

archive/issue_comments_247016.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\n\n```\nsage: class A:\n....:     pass\n....: \nsage: class B(Parent):\n....:     pass\n....: \nsage: timeit(\"A()\")\n625 loops, best of 3: 413 ns per loop\nsage: timeit(\"B()\")\n625 loops, best of 3: 13.2 \u00b5s per loop\n```",
    "created_at": "2015-04-30T13:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247016",
    "user": "https://github.com/videlec"
}
```

<div id="comment:50" align="right">comment:50</div>


```
sage: class A:
....:     pass
....: 
sage: class B(Parent):
....:     pass
....: 
sage: timeit("A()")
625 loops, best of 3: 413 ns per loop
sage: timeit("B()")
625 loops, best of 3: 13.2 s per loop
```



---

archive/issue_comments_247017.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nThat's not a fair benchmark, since that's Python, not Cython. The real benchmark is this:\n\n```\nsage: cython(\"cdef class A(object): pass\")\nsage: cython(\"from sage.structure.parent cimport Parent\\ncdef class B(Parent): pass\")\nsage: timeit(\"A()\", number=10^4, repeat=20)\n10000 loops, best of 20: 68.9 ns per loop\nsage: timeit(\"B()\", number=10^4, repeat=20)\n10000 loops, best of 20: 14.5 \u00b5s per loop\n```",
    "created_at": "2015-04-30T13:54:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247017",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">comment:51</div>

That's not a fair benchmark, since that's Python, not Cython. The real benchmark is this:

```
sage: cython("cdef class A(object): pass")
sage: cython("from sage.structure.parent cimport Parent\ncdef class B(Parent): pass")
sage: timeit("A()", number=10^4, repeat=20)
10000 loops, best of 20: 68.9 ns per loop
sage: timeit("B()", number=10^4, repeat=20)
10000 loops, best of 20: 14.5 s per loop
```



---

archive/issue_comments_247018.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@jdemeyer](#comment%3A51):\n> That's not a fair benchmark, since that's Python, not Cython. The real benchmark is this:\n> \n> ```\n> sage: cython(\"cdef class A(object): pass\")\n> sage: cython(\"from sage.structure.parent cimport Parent\\ncdef class B(Parent): pass\")\n> sage: timeit(\"A()\", number=10^4, repeat=20)\n> 10000 loops, best of 20: 68.9 ns per loop\n> sage: timeit(\"B()\", number=10^4, repeat=20)\n> 10000 loops, best of 20: 14.5 \u00b5s per loop\n> ```\n\nThanks Vincent and Jeroen. For fairness, we should also initialize the\ncategory. Here it is:\n\n```\nsage: %timeit B()\nThe slowest run took 4.13 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 13.3 \u00b5s per loop\nsage: %timeit B(category=C)\nThe slowest run took 7.14 times longer than the fastest. This could mean that an intermediate result is being cached \n10000 loops, best of 3: 21.7 \u00b5s per loop\n```\n\nThose benchmarks teach us that constructing a `Parent` costs 200 times\nmore than an empty object. Not quite surprising, but it's a start. Now\nwhat I really had in mind was a benchmark in a real use case, to\nestimate what's the relative overhead in a typical situation.\n\nLet's take something really trivial:\n\n```\nsage: sage: %timeit IntegerListsLex(n=1, max_length=1).an_element()\nThe slowest run took 6.67 times longer than the fastest. This could mean that an intermediate result is being cached \n10000 loops, best of 3: 113 \u00b5s per loop\n```\n\nNow we start to have some concrete ground to start discussions: what\nwe are speaking about is an overhead of 13% in the case of the most\ntrivial operation. There probably is some room for improvements in the\ninitialization of `IntegerListsLex` objects; but not so much either:\nthere is some unavoidable option parsing and initialization work to\ndo. Similarly, there may be room for improvement in the initialization\nof a `Parent` (I am surprised that initializing the category is\ncostly, since for a Cython parent it does nothing but set an\nattribute). Altogether, the 13% has to be taken with a grain of salt\nat this point.\n\nFor additional insight, I believe we would be need to have some\ntypical concrete use case, like the one Vincent has for matrices or\nflat surfaces. And see, then, what's the actual overhead. With that,\nwe will be able to take an informed decision; not just out of fear\nthat \"parents are slow\".\n\nVincent, could you pickup such a situation and make a benchmark?\n\nIn general I would like to follow this rule of thumb for our\nenumerated sets:\n\n- On one hand, implement super optimized standalone iterators with\n  bare bone API, whenever there is a proven need for them.\n\n- On the other hand, when modeling an enumerated set, implement it as\n  a `Parent`s with nice input parsing and a full fledged API; and\n  typically using the above iterators under the hood.\n\n- Avoid half measures with iterables that are not `Parent`.\n\nHere the situation is a bit delicate since we are in between the\nshores: the iterator needs some non trivial parsing and internal\ndata. Which calls for an intermediate class handling the parsing and\nthe data storage; is this class meant to model the enumerated set\nitself or not?\n\n\nAll that being said, just make your call. I am fine with additional\ncomplexity when there is a proven and worthwhile need for it. And when\nsomeone is willing to pay for the maintenance overhead ...\n\nCheers,\n                              Nicolas",
    "created_at": "2015-04-30T21:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247018",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@jdemeyer](#comment%3A51):
> That's not a fair benchmark, since that's Python, not Cython. The real benchmark is this:
> 
> ```
> sage: cython("cdef class A(object): pass")
> sage: cython("from sage.structure.parent cimport Parent\ncdef class B(Parent): pass")
> sage: timeit("A()", number=10^4, repeat=20)
> 10000 loops, best of 20: 68.9 ns per loop
> sage: timeit("B()", number=10^4, repeat=20)
> 10000 loops, best of 20: 14.5 s per loop
> ```

Thanks Vincent and Jeroen. For fairness, we should also initialize the
category. Here it is:

```
sage: %timeit B()
The slowest run took 4.13 times longer than the fastest. This could mean that an intermediate result is being cached 
100000 loops, best of 3: 13.3 s per loop
sage: %timeit B(category=C)
The slowest run took 7.14 times longer than the fastest. This could mean that an intermediate result is being cached 
10000 loops, best of 3: 21.7 s per loop
```

Those benchmarks teach us that constructing a `Parent` costs 200 times
more than an empty object. Not quite surprising, but it's a start. Now
what I really had in mind was a benchmark in a real use case, to
estimate what's the relative overhead in a typical situation.

Let's take something really trivial:

```
sage: sage: %timeit IntegerListsLex(n=1, max_length=1).an_element()
The slowest run took 6.67 times longer than the fastest. This could mean that an intermediate result is being cached 
10000 loops, best of 3: 113 s per loop
```

Now we start to have some concrete ground to start discussions: what
we are speaking about is an overhead of 13% in the case of the most
trivial operation. There probably is some room for improvements in the
initialization of `IntegerListsLex` objects; but not so much either:
there is some unavoidable option parsing and initialization work to
do. Similarly, there may be room for improvement in the initialization
of a `Parent` (I am surprised that initializing the category is
costly, since for a Cython parent it does nothing but set an
attribute). Altogether, the 13% has to be taken with a grain of salt
at this point.

For additional insight, I believe we would be need to have some
typical concrete use case, like the one Vincent has for matrices or
flat surfaces. And see, then, what's the actual overhead. With that,
we will be able to take an informed decision; not just out of fear
that "parents are slow".

Vincent, could you pickup such a situation and make a benchmark?

In general I would like to follow this rule of thumb for our
enumerated sets:

- On one hand, implement super optimized standalone iterators with
  bare bone API, whenever there is a proven need for them.

- On the other hand, when modeling an enumerated set, implement it as
  a `Parent`s with nice input parsing and a full fledged API; and
  typically using the above iterators under the hood.

- Avoid half measures with iterables that are not `Parent`.

Here the situation is a bit delicate since we are in between the
shores: the iterator needs some non trivial parsing and internal
data. Which calls for an intermediate class handling the parsing and
the data storage; is this class meant to model the enumerated set
itself or not?


All that being said, just make your call. I am fine with additional
complexity when there is a proven and worthwhile need for it. And when
someone is willing to pay for the maintenance overhead ...

Cheers,
                              Nicolas



---

archive/issue_comments_247019.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@nthiery](#comment%3A52):\n> In general I would like to follow this rule of thumb for our\n> enumerated sets:\n> \n> - On one hand, implement super optimized standalone iterators with\n>   bare bone API, whenever there is a proven need for them.\n> \n> - On the other hand, when modeling an enumerated set, implement it as\n>   a `Parent`s with nice input parsing and a full fledged API; and\n>   typically using the above iterators under the hood.\n> \n> - Avoid half measures with iterables that are not `Parent`.\n\nWhy do you think that the current implementation is a \"half measure\"? I would say it fits your \"super optimized standalone iterators with bare bone API\" (except that it's currently not yet super optimized, see #18055 and #18056).",
    "created_at": "2015-04-30T22:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247019",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@nthiery](#comment%3A52):
> In general I would like to follow this rule of thumb for our
> enumerated sets:
> 
> - On one hand, implement super optimized standalone iterators with
>   bare bone API, whenever there is a proven need for them.
> 
> - On the other hand, when modeling an enumerated set, implement it as
>   a `Parent`s with nice input parsing and a full fledged API; and
>   typically using the above iterators under the hood.
> 
> - Avoid half measures with iterables that are not `Parent`.

Why do you think that the current implementation is a "half measure"? I would say it fits your "super optimized standalone iterators with bare bone API" (except that it's currently not yet super optimized, see #18055 and #18056).



---

archive/issue_comments_247020.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nGood morning Jeroen,\n\nReplying to [@jdemeyer](#comment%3A53):\n> Why do you think that the current implementation is a \"half\n> measure\"? I would say it fits your \"super optimized standalone\n> iterators with bare bone API\" (except that it's currently not yet\n> super optimized, see #18055 and #18056).\n\nYes, I am very happy with the Cython iterator (and its upcoming\noptimizations) and the Parent enumerated sets (`IntegerLists*`). What\nI am wondering about are the intermediate classes\n(`IntegerLists*Impl`). What's their precise role? Do we really need\nthem?\n\n- Are there situations where an iterator is not enough (we really need\n  to model the enumerated set itself), yet we can't afford the\n  overhead of having a Parent?\n\nAnd / or\n\n- Are the *Impl just utility classes that are mandatory to construct\n  the iterator?\n\n\nMaybe we should have a short video conference at some point; it would\nbe much easier to discuss!",
    "created_at": "2015-05-01T06:30:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247020",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:54" align="right">comment:54</div>

Good morning Jeroen,

Replying to [@jdemeyer](#comment%3A53):
> Why do you think that the current implementation is a "half
> measure"? I would say it fits your "super optimized standalone
> iterators with bare bone API" (except that it's currently not yet
> super optimized, see #18055 and #18056).

Yes, I am very happy with the Cython iterator (and its upcoming
optimizations) and the Parent enumerated sets (`IntegerLists*`). What
I am wondering about are the intermediate classes
(`IntegerLists*Impl`). What's their precise role? Do we really need
them?

- Are there situations where an iterator is not enough (we really need
  to model the enumerated set itself), yet we can't afford the
  overhead of having a Parent?

And / or

- Are the *Impl just utility classes that are mandatory to construct
  the iterator?


Maybe we should have a short video conference at some point; it would
be much easier to discuss!



---

archive/issue_comments_247021.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@nthiery](#comment%3A54):\n> Yes, I am very happy with the Cython iterator (and its upcoming\n> optimizations) and the Parent enumerated sets (`IntegerLists*`). What\n> I am wondering about are the intermediate classes\n> (`IntegerLists*Impl`). What's their precise role?\n\nWell, I can see two main use cases:\n1. if you need to iterate twice over the same set.\n2. to check containment.\n\nIn the future, point counting could be added as an extra algorithm in the `Impl` class, not in the iterator.",
    "created_at": "2015-05-01T07:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247021",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@nthiery](#comment%3A54):
> Yes, I am very happy with the Cython iterator (and its upcoming
> optimizations) and the Parent enumerated sets (`IntegerLists*`). What
> I am wondering about are the intermediate classes
> (`IntegerLists*Impl`). What's their precise role?

Well, I can see two main use cases:
1. if you need to iterate twice over the same set.
2. to check containment.

In the future, point counting could be added as an extra algorithm in the `Impl` class, not in the iterator.



---

archive/issue_comments_247022.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@nthiery](#comment%3A44):\n> - At least, would there be a way to implement `XXX.__reduce__`\n>   to return `(XXX, *)` rather than having to implement an\n>   `unpickle_XXX` function each time?\n\nThat's not quite possible because of [https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34](https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34)",
    "created_at": "2015-05-04T11:27:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247022",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@nthiery](#comment%3A44):
> - At least, would there be a way to implement `XXX.__reduce__`
>   to return `(XXX, *)` rather than having to implement an
>   `unpickle_XXX` function each time?

That's not quite possible because of [https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34](https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34)



---

archive/issue_comments_247023.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\n> That's not quite possible because of [https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34](https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34)\n\n... which was also solved with an 'unpickle' function `T_T`",
    "created_at": "2015-05-04T11:33:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247023",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:57" align="right">comment:57</div>

> That's not quite possible because of [https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34](https://groups.google.com/forum/#!topic/sage-devel/limDRGuep34)

... which was also solved with an 'unpickle' function `T_T`



---

archive/issue_comments_247024.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nActually, pickling can be implemented better using `__getstate__` and `__setstate__`.",
    "created_at": "2015-05-04T11:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247024",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:58" align="right">comment:58</div>

Actually, pickling can be implemented better using `__getstate__` and `__setstate__`.



---

archive/issue_comments_247025.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9408574da27b31030a8d2eb5c800dc838ae4132\"><code>c940857</code></a></td><td><code>Simplify pickling for IntegerListsImpl</code></td></tr></table>\n",
    "created_at": "2015-05-04T11:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247025",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9408574da27b31030a8d2eb5c800dc838ae4132"><code>c940857</code></a></td><td><code>Simplify pickling for IntegerListsImpl</code></td></tr></table>




---

archive/issue_comments_247026.json:
```json
{
    "body": "Changed commit from **[`9582a7a`](https://github.com/sagemath/sagetrac-mirror/commit/9582a7a5248f609a2d2de02497b4b1d36d9dd96e)** to **[`c940857`](https://github.com/sagemath/sagetrac-mirror/commit/c9408574da27b31030a8d2eb5c800dc838ae4132)**",
    "created_at": "2015-05-04T11:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247026",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9582a7a`](https://github.com/sagemath/sagetrac-mirror/commit/9582a7a5248f609a2d2de02497b4b1d36d9dd96e)** to **[`c940857`](https://github.com/sagemath/sagetrac-mirror/commit/c9408574da27b31030a8d2eb5c800dc838ae4132)**



---

archive/issue_comments_247027.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nFor `Envelope`, this is harder since `__init__` really does some non-trivial stuff like the `sign` handling.",
    "created_at": "2015-05-04T11:49:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247027",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:60" align="right">comment:60</div>

For `Envelope`, this is harder since `__init__` really does some non-trivial stuff like the `sign` handling.



---

archive/issue_comments_247028.json:
```json
{
    "body": "Changed commit from **[`c940857`](https://github.com/sagemath/sagetrac-mirror/commit/c9408574da27b31030a8d2eb5c800dc838ae4132)** to **[`d46541f`](https://github.com/sagemath/sagetrac-mirror/commit/d46541fb29ca682163ba62e66e48fc8128f2c825)**",
    "created_at": "2015-05-04T12:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247028",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c940857`](https://github.com/sagemath/sagetrac-mirror/commit/c9408574da27b31030a8d2eb5c800dc838ae4132)** to **[`d46541f`](https://github.com/sagemath/sagetrac-mirror/commit/d46541fb29ca682163ba62e66e48fc8128f2c825)**



---

archive/issue_comments_247029.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d46541fb29ca682163ba62e66e48fc8128f2c825\"><code>d46541f</code></a></td><td><code>Fix `__richcmp__` doctests</code></td></tr></table>\n",
    "created_at": "2015-05-04T12:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247029",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d46541fb29ca682163ba62e66e48fc8128f2c825"><code>d46541f</code></a></td><td><code>Fix `__richcmp__` doctests</code></td></tr></table>




---

archive/issue_comments_247030.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@anneschilling](#comment%3A43):\n> One question I have though is about the comparison functions in `base.py` and `lists.py`. The tests look almost identical.\n\nRight, I fixed the tests.",
    "created_at": "2015-05-04T12:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247030",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@anneschilling](#comment%3A43):
> One question I have though is about the comparison functions in `base.py` and `lists.py`. The tests look almost identical.

Right, I fixed the tests.



---

archive/issue_comments_247031.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@nthiery](#comment%3A44):\n> Maybe slightly more systematic class names could\n> help; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,\n> `IntegerListsLexBackend`.\n\nDo you find `...Backend` more clear than `...Impl`? If you care a lot, I can change it, but it smells like bike-shedding.",
    "created_at": "2015-05-04T12:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247031",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@nthiery](#comment%3A44):
> Maybe slightly more systematic class names could
> help; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,
> `IntegerListsLexBackend`.

Do you find `...Backend` more clear than `...Impl`? If you care a lot, I can change it, but it smells like bike-shedding.



---

archive/issue_comments_247032.json:
```json
{
    "body": "Changed commit from **[`d46541f`](https://github.com/sagemath/sagetrac-mirror/commit/d46541fb29ca682163ba62e66e48fc8128f2c825)** to **[`5f7a883`](https://github.com/sagemath/sagetrac-mirror/commit/5f7a883c07534a0d7861dd4dc46e0b45ae4ff1ed)**",
    "created_at": "2015-05-04T12:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247032",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d46541f`](https://github.com/sagemath/sagetrac-mirror/commit/d46541fb29ca682163ba62e66e48fc8128f2c825)** to **[`5f7a883`](https://github.com/sagemath/sagetrac-mirror/commit/5f7a883c07534a0d7861dd4dc46e0b45ae4ff1ed)**



---

archive/issue_comments_247033.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f7a883c07534a0d7861dd4dc46e0b45ae4ff1ed\"><code>5f7a883</code></a></td><td><code>Rename attribute \"_parent\" to \"impl\"</code></td></tr></table>\n",
    "created_at": "2015-05-04T12:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247033",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f7a883c07534a0d7861dd4dc46e0b45ae4ff1ed"><code>5f7a883</code></a></td><td><code>Rename attribute "_parent" to "impl"</code></td></tr></table>




---

archive/issue_comments_247034.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@jdemeyer](#comment%3A63):\n> Replying to [@nthiery](#comment%3A44):\n> > Maybe slightly more systematic class names could\n> > help; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,\n> > `IntegerListsLexBackend`.\n\n> \n> Do you find `...Backend` more clear than `...Impl`? If you care a lot, I can change it, but it smells like bike-shedding.\n\nI have a preference for `Backend` since we use this vocable elsewhere in Sage (e.g. in the graph library), but don't really care otherwise; you choose. My comment was more about having a consistent naming scheme. It could be enough to e.g. rename `IntegerListsImpl_invlex` to `IntegerListsLexImpl`.\n\nThanks by the way for investigating how to better do the pickling!",
    "created_at": "2015-05-04T12:27:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247034",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@jdemeyer](#comment%3A63):
> Replying to [@nthiery](#comment%3A44):
> > Maybe slightly more systematic class names could
> > help; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,
> > `IntegerListsLexBackend`.

> 
> Do you find `...Backend` more clear than `...Impl`? If you care a lot, I can change it, but it smells like bike-shedding.

I have a preference for `Backend` since we use this vocable elsewhere in Sage (e.g. in the graph library), but don't really care otherwise; you choose. My comment was more about having a consistent naming scheme. It could be enough to e.g. rename `IntegerListsImpl_invlex` to `IntegerListsLexImpl`.

Thanks by the way for investigating how to better do the pickling!



---

archive/issue_comments_247035.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nReplying to [@nthiery](#comment%3A65):\n> Replying to [@jdemeyer](#comment%3A63):\n> > Replying to [@nthiery](#comment%3A44):\n> > > Maybe slightly more systematic class names could\n> > > help; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,\n> > > `IntegerListsLexBackend`.\n\n> > \n> > Do you find `...Backend` more clear than `...Impl`? If you care a lot, I can change it, but it smells like bike-shedding.\n\n> \n> I have a preference for `Backend` since we use this vocable elsewhere in Sage (e.g. in the graph library), but don't really care otherwise; you choose. My comment was more about having a consistent naming scheme. It could be enough to e.g. rename `IntegerListsImpl_invlex` to `IntegerListsLexImpl`.\n\nWell, I actually prefer `IntegerListsImpl_invlex` over `IntegerListsLexImpl`.\n\nI *intentionally* do not want `IntegerListsImpl_invlex` to be associated too much with `IntegerListsLex`: people should not think that there must be a 1-to-1 correspondence between `IntegerLists` classes and `IntegerListsImpl` classes.",
    "created_at": "2015-05-04T12:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247035",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">comment:66</div>

Replying to [@nthiery](#comment%3A65):
> Replying to [@jdemeyer](#comment%3A63):
> > Replying to [@nthiery](#comment%3A44):
> > > Maybe slightly more systematic class names could
> > > help; say: `IntegerLists`, `IntegerListsLex`, `IntegerListsBackend`,
> > > `IntegerListsLexBackend`.

> > 
> > Do you find `...Backend` more clear than `...Impl`? If you care a lot, I can change it, but it smells like bike-shedding.

> 
> I have a preference for `Backend` since we use this vocable elsewhere in Sage (e.g. in the graph library), but don't really care otherwise; you choose. My comment was more about having a consistent naming scheme. It could be enough to e.g. rename `IntegerListsImpl_invlex` to `IntegerListsLexImpl`.

Well, I actually prefer `IntegerListsImpl_invlex` over `IntegerListsLexImpl`.

I *intentionally* do not want `IntegerListsImpl_invlex` to be associated too much with `IntegerListsLex`: people should not think that there must be a 1-to-1 correspondence between `IntegerLists` classes and `IntegerListsImpl` classes.



---

archive/issue_comments_247036.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nAfter replacing `Impl` by `Backend`:\n\n```\nError compiling Cython file:\n------------------------------------------------------------\n...\n        IntegerListsBackend.__init__(self, *args, **kwds)\n\n        self.check = check\n\n        if self.min_part < 0:\n            raise NotBackendementedError(\"strictly negative min_part\")\n                                       ^\n------------------------------------------------------------\n\nsage/combinat/integer_lists/invlex.pyx:848:40: undeclared name not builtin: NotBackendementedError\n```",
    "created_at": "2015-05-04T12:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247036",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:67" align="right">comment:67</div>

After replacing `Impl` by `Backend`:

```
Error compiling Cython file:
------------------------------------------------------------
...
        IntegerListsBackend.__init__(self, *args, **kwds)

        self.check = check

        if self.min_part < 0:
            raise NotBackendementedError("strictly negative min_part")
                                       ^
------------------------------------------------------------

sage/combinat/integer_lists/invlex.pyx:848:40: undeclared name not builtin: NotBackendementedError
```



---

archive/issue_comments_247037.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nWhat is your strategy, defining `NotBackendementedError`?",
    "created_at": "2015-05-04T13:01:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247037",
    "user": "https://github.com/videlec"
}
```

<div id="comment:68" align="right">comment:68</div>

What is your strategy, defining `NotBackendementedError`?



---

archive/issue_comments_247038.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/434a15236a27b2d6aef0ab95877aa396e86b1cf8\"><code>434a152</code></a></td><td><code>Rename Impl -> Backend</code></td></tr></table>\n",
    "created_at": "2015-05-04T13:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247038",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/434a15236a27b2d6aef0ab95877aa396e86b1cf8"><code>434a152</code></a></td><td><code>Rename Impl -> Backend</code></td></tr></table>




---

archive/issue_comments_247039.json:
```json
{
    "body": "Changed commit from **[`5f7a883`](https://github.com/sagemath/sagetrac-mirror/commit/5f7a883c07534a0d7861dd4dc46e0b45ae4ff1ed)** to **[`434a152`](https://github.com/sagemath/sagetrac-mirror/commit/434a15236a27b2d6aef0ab95877aa396e86b1cf8)**",
    "created_at": "2015-05-04T13:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247039",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5f7a883`](https://github.com/sagemath/sagetrac-mirror/commit/5f7a883c07534a0d7861dd4dc46e0b45ae4ff1ed)** to **[`434a152`](https://github.com/sagemath/sagetrac-mirror/commit/434a15236a27b2d6aef0ab95877aa396e86b1cf8)**



---

archive/issue_comments_247040.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nReplying to [@jdemeyer](#comment%3A66):\n> Well, I actually prefer `IntegerListsImpl_invlex` over `IntegerListsLexImpl`.\n> \n> I *intentionally* do not want `IntegerListsImpl_invlex` to be associated too much with `IntegerListsLex`: people should not think that there must be a 1-to-1 correspondence between `IntegerLists` classes and `IntegerListsImpl` classes.\n\nI see your point. Still I find useful to give the reader a hint that,\nin this case, there is such a correspondence.  When reading the code,\nI had to dig around to make sure I was getting it right.\n\nSo I'd rather have a consistent naming scheme, and a note to the\ndevelopers, in the overview documentation of the module, that there\nneed not be in general such a 1-to-1 correspondence.\n\nCheers,\n                             Nicolas\n\nPS: fun error message :-)",
    "created_at": "2015-05-04T14:00:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247040",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:70" align="right">comment:70</div>

Replying to [@jdemeyer](#comment%3A66):
> Well, I actually prefer `IntegerListsImpl_invlex` over `IntegerListsLexImpl`.
> 
> I *intentionally* do not want `IntegerListsImpl_invlex` to be associated too much with `IntegerListsLex`: people should not think that there must be a 1-to-1 correspondence between `IntegerLists` classes and `IntegerListsImpl` classes.

I see your point. Still I find useful to give the reader a hint that,
in this case, there is such a correspondence.  When reading the code,
I had to dig around to make sure I was getting it right.

So I'd rather have a consistent naming scheme, and a note to the
developers, in the overview documentation of the module, that there
need not be in general such a 1-to-1 correspondence.

Cheers,
                             Nicolas

PS: fun error message :-)



---

archive/issue_comments_247041.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@nthiery](#comment%3A70):\n> I see your point. Still I find useful to give the reader a hint that,\n> in this case, there is such a correspondence.\n\nThere is not, even in this case. Note that `IntegerListsLex` is just `IntegerLists` with a classcall method and a default backend. I can easily create an `IntegerLists` instance with a `IntegerListsBackend_invlex` backend or an `IntegerListsLex` instance with a different backend.",
    "created_at": "2015-05-04T17:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247041",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@nthiery](#comment%3A70):
> I see your point. Still I find useful to give the reader a hint that,
> in this case, there is such a correspondence.

There is not, even in this case. Note that `IntegerListsLex` is just `IntegerLists` with a classcall method and a default backend. I can easily create an `IntegerLists` instance with a `IntegerListsBackend_invlex` backend or an `IntegerListsLex` instance with a different backend.



---

archive/issue_comments_247042.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ae2e2264bf769ca276413d2c1d73d597a93cbbb\"><code>6ae2e22</code></a></td><td><code>Some doc improvement</code></td></tr></table>\n",
    "created_at": "2015-05-04T18:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247042",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ae2e2264bf769ca276413d2c1d73d597a93cbbb"><code>6ae2e22</code></a></td><td><code>Some doc improvement</code></td></tr></table>




---

archive/issue_comments_247043.json:
```json
{
    "body": "Changed commit from **[`434a152`](https://github.com/sagemath/sagetrac-mirror/commit/434a15236a27b2d6aef0ab95877aa396e86b1cf8)** to **[`6ae2e22`](https://github.com/sagemath/sagetrac-mirror/commit/6ae2e2264bf769ca276413d2c1d73d597a93cbbb)**",
    "created_at": "2015-05-04T18:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247043",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`434a152`](https://github.com/sagemath/sagetrac-mirror/commit/434a15236a27b2d6aef0ab95877aa396e86b1cf8)** to **[`6ae2e22`](https://github.com/sagemath/sagetrac-mirror/commit/6ae2e2264bf769ca276413d2c1d73d597a93cbbb)**



---

archive/issue_events_255178.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-04T18:54:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255178"
}
```



---

archive/issue_events_255179.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-04T18:54:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255179"
}
```



---

archive/issue_comments_247044.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nneeds rebase, does not apply",
    "created_at": "2015-08-04T18:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247044",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:73" align="right">comment:73</div>

needs rebase, does not apply



---

archive/issue_comments_247045.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nDo you have an intention to review the ticket once I rebase it? I'm just asking since there is no point in rebasing if it just continues to bitrot.",
    "created_at": "2015-08-09T20:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247045",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:74" align="right">comment:74</div>

Do you have an intention to review the ticket once I rebase it? I'm just asking since there is no point in rebasing if it just continues to bitrot.



---

archive/issue_comments_247046.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nThanks for asking. The review is on my todo list for the last week of August.",
    "created_at": "2015-08-10T06:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247046",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:75" align="right">comment:75</div>

Thanks for asking. The review is on my todo list for the last week of August.



---

archive/issue_comments_247047.json:
```json
{
    "body": "<div id=\"comment:76\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35e2e50d85c85d6a71674d78f41ce2ba52f4c286\"><code>35e2e50</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>\n",
    "created_at": "2015-08-27T08:33:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247047",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:76"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35e2e50d85c85d6a71674d78f41ce2ba52f4c286"><code>35e2e50</code></a></td><td><code>Restructure IntegerListsLex code</code></td></tr></table>




---

archive/issue_comments_247048.json:
```json
{
    "body": "Changed commit from **[`6ae2e22`](https://github.com/sagemath/sagetrac-mirror/commit/6ae2e2264bf769ca276413d2c1d73d597a93cbbb)** to **[`35e2e50`](https://github.com/sagemath/sagetrac-mirror/commit/35e2e50d85c85d6a71674d78f41ce2ba52f4c286)**",
    "created_at": "2015-08-27T08:33:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247048",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6ae2e22`](https://github.com/sagemath/sagetrac-mirror/commit/6ae2e2264bf769ca276413d2c1d73d597a93cbbb)** to **[`35e2e50`](https://github.com/sagemath/sagetrac-mirror/commit/35e2e50d85c85d6a71674d78f41ce2ba52f4c286)**



---

archive/issue_comments_247049.json:
```json
{
    "body": "Changed dependencies from **#18181, #18184** to none",
    "created_at": "2015-08-27T08:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247049",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#18181, #18184** to none



---

archive/issue_comments_247050.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nRebased and squashed, testing now...",
    "created_at": "2015-08-27T08:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247050",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:77" align="right">comment:77</div>

Rebased and squashed, testing now...



---

archive/issue_comments_247051.json:
```json
{
    "body": "<div id=\"comment:78\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ebbb659f034dd17610a6afba03d307ffc7b483e\"><code>3ebbb65</code></a></td><td><code>Workaround for Trac #18192</code></td></tr></table>\n",
    "created_at": "2015-08-27T11:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247051",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:78"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ebbb659f034dd17610a6afba03d307ffc7b483e"><code>3ebbb65</code></a></td><td><code>Workaround for Trac #18192</code></td></tr></table>




---

archive/issue_comments_247052.json:
```json
{
    "body": "Changed commit from **[`35e2e50`](https://github.com/sagemath/sagetrac-mirror/commit/35e2e50d85c85d6a71674d78f41ce2ba52f4c286)** to **[`3ebbb65`](https://github.com/sagemath/sagetrac-mirror/commit/3ebbb659f034dd17610a6afba03d307ffc7b483e)**",
    "created_at": "2015-08-27T11:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247052",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`35e2e50`](https://github.com/sagemath/sagetrac-mirror/commit/35e2e50d85c85d6a71674d78f41ce2ba52f4c286)** to **[`3ebbb65`](https://github.com/sagemath/sagetrac-mirror/commit/3ebbb659f034dd17610a6afba03d307ffc7b483e)**



---

archive/issue_comments_247053.json:
```json
{
    "body": "<div id=\"comment:79\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88a100a762bad34400aca66c52d22255737072a7\"><code>88a100a</code></a></td><td><code>Fix one more import of IntegerListsLex</code></td></tr></table>\n",
    "created_at": "2015-08-27T12:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247053",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:79"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88a100a762bad34400aca66c52d22255737072a7"><code>88a100a</code></a></td><td><code>Fix one more import of IntegerListsLex</code></td></tr></table>




---

archive/issue_comments_247054.json:
```json
{
    "body": "Changed commit from **[`3ebbb65`](https://github.com/sagemath/sagetrac-mirror/commit/3ebbb659f034dd17610a6afba03d307ffc7b483e)** to **[`88a100a`](https://github.com/sagemath/sagetrac-mirror/commit/88a100a762bad34400aca66c52d22255737072a7)**",
    "created_at": "2015-08-27T12:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247054",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3ebbb65`](https://github.com/sagemath/sagetrac-mirror/commit/3ebbb659f034dd17610a6afba03d307ffc7b483e)** to **[`88a100a`](https://github.com/sagemath/sagetrac-mirror/commit/88a100a762bad34400aca66c52d22255737072a7)**



---

archive/issue_events_255180.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-08-27T12:50:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255180"
}
```



---

archive/issue_events_255181.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-08-27T12:50:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255181"
}
```



---

archive/issue_events_255182.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2015-10-11T19:29:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255182"
}
```



---

archive/issue_events_255183.json:
```json
{
    "actor": "https://github.com/kevindilks",
    "created_at": "2015-10-11T19:29:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255183"
}
```



---

archive/issue_comments_247055.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nMerge conflict.",
    "created_at": "2015-10-11T19:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247055",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:81" align="right">comment:81</div>

Merge conflict.



---

archive/issue_comments_247056.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nDo you actually plan to review this ticket? If you do, then I'll rebase immediately.",
    "created_at": "2015-10-11T20:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247056",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:82" align="right">comment:82</div>

Do you actually plan to review this ticket? If you do, then I'll rebase immediately.



---

archive/issue_comments_247057.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nI will review this ticket once rebased.",
    "created_at": "2015-10-11T20:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247057",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:83" align="right">comment:83</div>

I will review this ticket once rebased.



---

archive/issue_comments_247058.json:
```json
{
    "body": "<div id=\"comment:84\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fcd10a8384e07df3d3302e9ae1e7c6f6f99217e\"><code>6fcd10a</code></a></td><td><code>Merge tag '6.9' into t/18109/ticket/18109</code></td></tr></table>\n",
    "created_at": "2015-10-11T21:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247058",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fcd10a8384e07df3d3302e9ae1e7c6f6f99217e"><code>6fcd10a</code></a></td><td><code>Merge tag '6.9' into t/18109/ticket/18109</code></td></tr></table>




---

archive/issue_comments_247059.json:
```json
{
    "body": "Changed commit from **[`88a100a`](https://github.com/sagemath/sagetrac-mirror/commit/88a100a762bad34400aca66c52d22255737072a7)** to **[`6fcd10a`](https://github.com/sagemath/sagetrac-mirror/commit/6fcd10a8384e07df3d3302e9ae1e7c6f6f99217e)**",
    "created_at": "2015-10-11T21:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247059",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`88a100a`](https://github.com/sagemath/sagetrac-mirror/commit/88a100a762bad34400aca66c52d22255737072a7)** to **[`6fcd10a`](https://github.com/sagemath/sagetrac-mirror/commit/6fcd10a8384e07df3d3302e9ae1e7c6f6f99217e)**



---

archive/issue_comments_247060.json:
```json
{
    "body": "Changed commit from **[`6fcd10a`](https://github.com/sagemath/sagetrac-mirror/commit/6fcd10a8384e07df3d3302e9ae1e7c6f6f99217e)** to **[`2e5e969`](https://github.com/sagemath/sagetrac-mirror/commit/2e5e9691da0c2003d7eb3ddcf6c5c5010281f4dc)**",
    "created_at": "2015-10-12T04:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247060",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`6fcd10a`](https://github.com/sagemath/sagetrac-mirror/commit/6fcd10a8384e07df3d3302e9ae1e7c6f6f99217e)** to **[`2e5e969`](https://github.com/sagemath/sagetrac-mirror/commit/2e5e9691da0c2003d7eb3ddcf6c5c5010281f4dc)**



---

archive/issue_comments_247061.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/18109)** to **[u/tscrim/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/refactor_integer_lists_lex-18109)**",
    "created_at": "2015-10-12T04:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247061",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/jdemeyer/ticket/18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/18109)** to **[u/tscrim/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/refactor_integer_lists_lex-18109)**



---

archive/issue_comments_247062.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2015-10-12T04:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247062",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_247063.json:
```json
{
    "body": "Dependencies: **#15525**",
    "created_at": "2015-10-12T04:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247063",
    "user": "https://github.com/tscrim"
}
```

Dependencies: **#15525**



---

archive/issue_comments_247064.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nI made some doc tweaks while we are moving everything around. Everything works and since we aren't actually changing the functionality, I'm not looking at that closely. In short, it looks goods.\n\nIn writing this comment, I've convinced myself that having a frontend class for each backend will likely be a good thing in practice as it can be used to distinguish different iteration orders without having to look at the backend (which may not be python visible at the end of the day). It also makes it easier to define string representations and natural extensions to subclasses.\n\nIn particular, #15525, which we will probably need to tweak some of those changes to support this new framework (and at least correct the imports, which is why I listed it as a dependency).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e5e9691da0c2003d7eb3ddcf6c5c5010281f4dc\"><code>2e5e969</code></a></td><td><code>Some minor reviewer tweaks and doc changes.</code></td></tr></table>\n",
    "created_at": "2015-10-12T04:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247064",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:85" align="right">comment:85</div>

I made some doc tweaks while we are moving everything around. Everything works and since we aren't actually changing the functionality, I'm not looking at that closely. In short, it looks goods.

In writing this comment, I've convinced myself that having a frontend class for each backend will likely be a good thing in practice as it can be used to distinguish different iteration orders without having to look at the backend (which may not be python visible at the end of the day). It also makes it easier to define string representations and natural extensions to subclasses.

In particular, #15525, which we will probably need to tweak some of those changes to support this new framework (and at least correct the imports, which is why I listed it as a dependency).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e5e9691da0c2003d7eb3ddcf6c5c5010281f4dc"><code>2e5e969</code></a></td><td><code>Some minor reviewer tweaks and doc changes.</code></td></tr></table>




---

archive/issue_comments_247065.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nTwo details:\n\n1. `an set` should be `a set`\n\n2. Why this change? I find the old version more readable.\n\n```diff\n-        good_sum = (nu >= p.min_sum and nu <= p.max_sum)\n-        good_length = (l >= p.min_length and l <= p.max_length)\n-        no_trailing_zeros = (l <= max(p.min_length,0) or mu[-1] != 0)\n-        return good_sum and good_length and no_trailing_zeros\n+        return (nu >= p.min_sum and nu <= p.max_sum # Good sum\n+                 and l >= p.min_length and l <= p.max_length # Good length\n+                 and (l <= max(p.min_length,0) or mu[-1] != 0)) # No trailing zeros\n```\nIf this is for performance reasons, you can instead `cdef bint` the variables `good_sum`, `good_length` and `no_trailing_zeros`.",
    "created_at": "2015-10-12T08:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247065",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:86" align="right">comment:86</div>

Two details:

1. `an set` should be `a set`

2. Why this change? I find the old version more readable.

```diff
-        good_sum = (nu >= p.min_sum and nu <= p.max_sum)
-        good_length = (l >= p.min_length and l <= p.max_length)
-        no_trailing_zeros = (l <= max(p.min_length,0) or mu[-1] != 0)
-        return good_sum and good_length and no_trailing_zeros
+        return (nu >= p.min_sum and nu <= p.max_sum # Good sum
+                 and l >= p.min_length and l <= p.max_length # Good length
+                 and (l <= max(p.min_length,0) or mu[-1] != 0)) # No trailing zeros
```
If this is for performance reasons, you can instead `cdef bint` the variables `good_sum`, `good_length` and `no_trailing_zeros`.



---

archive/issue_comments_247066.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nReplying to [@tscrim](#comment%3A85):\n> In writing this comment, I've convinced myself that having a frontend class for each backend will likely be a good thing in practice as it can be used to distinguish different iteration orders without having to look at the backend\n\nBut why would you need to \"distinguish different iteration orders\" in the first place?\n\nIn the few cases (maybe invlex is the only one?) where the iteration algorithm really matters, I understand that you want a separate front-end. However, it should be possible for a backend to iterate in an arbitrary order.\n\nI really want to see the front-end and back-end as orthogonal: I can see use cases for different front-ends with the same back-end and use cases for different back-ends for the same front-end.",
    "created_at": "2015-10-12T08:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247066",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:87" align="right">comment:87</div>

Replying to [@tscrim](#comment%3A85):
> In writing this comment, I've convinced myself that having a frontend class for each backend will likely be a good thing in practice as it can be used to distinguish different iteration orders without having to look at the backend

But why would you need to "distinguish different iteration orders" in the first place?

In the few cases (maybe invlex is the only one?) where the iteration algorithm really matters, I understand that you want a separate front-end. However, it should be possible for a backend to iterate in an arbitrary order.

I really want to see the front-end and back-end as orthogonal: I can see use cases for different front-ends with the same back-end and use cases for different back-ends for the same front-end.



---

archive/issue_comments_247067.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nReplying to [@jdemeyer](#comment%3A86):\n> Two details:\n> 2. Why this change? I find the old version more readable.\n> \n> ```diff\n> -        good_sum = (nu >= p.min_sum and nu <= p.max_sum)\n> -        good_length = (l >= p.min_length and l <= p.max_length)\n> -        no_trailing_zeros = (l <= max(p.min_length,0) or mu[-1] != 0)\n> -        return good_sum and good_length and no_trailing_zeros\n> +        return (nu >= p.min_sum and nu <= p.max_sum # Good sum\n> +                 and l >= p.min_length and l <= p.max_length # Good length\n> +                 and (l <= max(p.min_length,0) or mu[-1] != 0)) # No trailing zeros\n> ```\n> If this is for performance reasons, you can instead `cdef bint` the variables `good_sum`, `good_length` and `no_trailing_zeros`.\n\nIt was for performance reasonings, but not the reason you're thinking of: short circuiting.",
    "created_at": "2015-10-12T13:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247067",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:88" align="right">comment:88</div>

Replying to [@jdemeyer](#comment%3A86):
> Two details:
> 2. Why this change? I find the old version more readable.
> 
> ```diff
> -        good_sum = (nu >= p.min_sum and nu <= p.max_sum)
> -        good_length = (l >= p.min_length and l <= p.max_length)
> -        no_trailing_zeros = (l <= max(p.min_length,0) or mu[-1] != 0)
> -        return good_sum and good_length and no_trailing_zeros
> +        return (nu >= p.min_sum and nu <= p.max_sum # Good sum
> +                 and l >= p.min_length and l <= p.max_length # Good length
> +                 and (l <= max(p.min_length,0) or mu[-1] != 0)) # No trailing zeros
> ```
> If this is for performance reasons, you can instead `cdef bint` the variables `good_sum`, `good_length` and `no_trailing_zeros`.

It was for performance reasonings, but not the reason you're thinking of: short circuiting.



---

archive/issue_comments_247068.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nReplying to [@jdemeyer](#comment%3A87):\n> Replying to [@tscrim](#comment%3A85):\n> > In writing this comment, I've convinced myself that having a frontend class for each backend will likely be a good thing in practice as it can be used to distinguish different iteration orders without having to look at the backend\n\n> \n> But why would you need to \"distinguish different iteration orders\" in the first place?\n> \n> In the few cases (maybe invlex is the only one?) where the iteration algorithm really matters, I understand that you want a separate front-end. However, it should be possible for a backend to iterate in an arbitrary order.\n\nI don't need this flexibility, but it comes as an added bonus. Right now we can check backends explicitly, but this allows us to separate that off into a completely separate package and still retain a differentiation.\n\n> I really want to see the front-end and back-end as orthogonal: I can see use cases for different front-ends with the same back-end and use cases for different back-ends for the same front-end.\n\nI can see both use cases as well, but chances are there will be a coupling between base classes and backend. However I don't think it is really useful to continue this discussion because we both have our reasons for liking it. We just need to take care of the additions from #15525 (and the doc tweak above). Do you want me to do that (since that was my ticket) or will you?",
    "created_at": "2015-10-12T13:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247068",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:89" align="right">comment:89</div>

Replying to [@jdemeyer](#comment%3A87):
> Replying to [@tscrim](#comment%3A85):
> > In writing this comment, I've convinced myself that having a frontend class for each backend will likely be a good thing in practice as it can be used to distinguish different iteration orders without having to look at the backend

> 
> But why would you need to "distinguish different iteration orders" in the first place?
> 
> In the few cases (maybe invlex is the only one?) where the iteration algorithm really matters, I understand that you want a separate front-end. However, it should be possible for a backend to iterate in an arbitrary order.

I don't need this flexibility, but it comes as an added bonus. Right now we can check backends explicitly, but this allows us to separate that off into a completely separate package and still retain a differentiation.

> I really want to see the front-end and back-end as orthogonal: I can see use cases for different front-ends with the same back-end and use cases for different back-ends for the same front-end.

I can see both use cases as well, but chances are there will be a coupling between base classes and backend. However I don't think it is really useful to continue this discussion because we both have our reasons for liking it. We just need to take care of the additions from #15525 (and the doc tweak above). Do you want me to do that (since that was my ticket) or will you?



---

archive/issue_comments_247069.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Anne Schilling, Travis Scrimshaw**",
    "created_at": "2015-10-12T13:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247069",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Travis Scrimshaw** to **Anne Schilling, Travis Scrimshaw**



---

archive/issue_comments_247070.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nReplying to [@tscrim](#comment%3A89):\n> Do you want me to do that (since that was my ticket) or will you?\n\nGo ahead. But please don't rewrite history, just merge #15525 and add extra commits.",
    "created_at": "2015-10-12T13:44:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247070",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:90" align="right">comment:90</div>

Replying to [@tscrim](#comment%3A89):
> Do you want me to do that (since that was my ticket) or will you?

Go ahead. But please don't rewrite history, just merge #15525 and add extra commits.



---

archive/issue_comments_247071.json:
```json
{
    "body": "<div id=\"comment:91\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7982d3ad9815b6313ac93880467aaf71ddb096ca\"><code>7982d3a</code></a></td><td><code>Iniital fix and added regular partitions.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4143c9616d65cbec6af739bc6013ed85e191e19b\"><code>4143c96</code></a></td><td><code>Merge branch 'develop' into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1adb368c00b4b8e1eb49186af47ee1e86dafd94f\"><code>1adb368</code></a></td><td><code>Added deprecation to IntegerListLex global_options arg. Fixed doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c477d6cf7d5ac2143f700dc83123f7d2d8d919ac\"><code>c477d6c</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03dcda9bd81cc42c2c61439ea11be485e15f6142\"><code>03dcda9</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82f4fd5e98de8bf7290f54aa39155d25f88c649c\"><code>82f4fd5</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cc28a0202ba183faec750fa4e02083d1500e52d\"><code>0cc28a0</code></a></td><td><code>Fixing some things.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ec481d803e3fa7d8c3d0e4038f4c476a73c0fd0\"><code>1ec481d</code></a></td><td><code>Addressing Kevin's comments.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7760c71d01b033c75b1666eb65e7988b5ada494d\"><code>7760c71</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into u/tscrim/refactor_integer_lists_lex-18109</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b96bb5cca7f3a76a35b75e99406b7cb1c4cb0e5\"><code>8b96bb5</code></a></td><td><code>Adding changes from #15525.</code></td></tr></table>\n",
    "created_at": "2015-10-12T14:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247071",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:91"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7982d3ad9815b6313ac93880467aaf71ddb096ca"><code>7982d3a</code></a></td><td><code>Iniital fix and added regular partitions.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4143c9616d65cbec6af739bc6013ed85e191e19b"><code>4143c96</code></a></td><td><code>Merge branch 'develop' into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1adb368c00b4b8e1eb49186af47ee1e86dafd94f"><code>1adb368</code></a></td><td><code>Added deprecation to IntegerListLex global_options arg. Fixed doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c477d6cf7d5ac2143f700dc83123f7d2d8d919ac"><code>c477d6c</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03dcda9bd81cc42c2c61439ea11be485e15f6142"><code>03dcda9</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82f4fd5e98de8bf7290f54aa39155d25f88c649c"><code>82f4fd5</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into public/combinat/partitions_constraints-15525</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cc28a0202ba183faec750fa4e02083d1500e52d"><code>0cc28a0</code></a></td><td><code>Fixing some things.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ec481d803e3fa7d8c3d0e4038f4c476a73c0fd0"><code>1ec481d</code></a></td><td><code>Addressing Kevin's comments.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7760c71d01b033c75b1666eb65e7988b5ada494d"><code>7760c71</code></a></td><td><code>Merge branch 'public/combinat/partitions_constraints-15525' of trac.sagemath.org:sage into u/tscrim/refactor_integer_lists_lex-18109</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b96bb5cca7f3a76a35b75e99406b7cb1c4cb0e5"><code>8b96bb5</code></a></td><td><code>Adding changes from #15525.</code></td></tr></table>




---

archive/issue_comments_247072.json:
```json
{
    "body": "Changed commit from **[`2e5e969`](https://github.com/sagemath/sagetrac-mirror/commit/2e5e9691da0c2003d7eb3ddcf6c5c5010281f4dc)** to **[`8b96bb5`](https://github.com/sagemath/sagetrac-mirror/commit/8b96bb5cca7f3a76a35b75e99406b7cb1c4cb0e5)**",
    "created_at": "2015-10-12T14:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247072",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2e5e969`](https://github.com/sagemath/sagetrac-mirror/commit/2e5e9691da0c2003d7eb3ddcf6c5c5010281f4dc)** to **[`8b96bb5`](https://github.com/sagemath/sagetrac-mirror/commit/8b96bb5cca7f3a76a35b75e99406b7cb1c4cb0e5)**



---

archive/issue_comments_247073.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nReplying to [@jdemeyer](#comment%3A90):\n> Replying to [@tscrim](#comment%3A89):\n> > Do you want me to do that (since that was my ticket) or will you?\n\n> \n> Go ahead. But please don't rewrite history, just merge #15525 and add extra commits.\n\nDone. So if you're okay with my changes, then we can set a positive review.",
    "created_at": "2015-10-12T15:01:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247073",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:92" align="right">comment:92</div>

Replying to [@jdemeyer](#comment%3A90):
> Replying to [@tscrim](#comment%3A89):
> > Do you want me to do that (since that was my ticket) or will you?

> 
> Go ahead. But please don't rewrite history, just merge #15525 and add extra commits.

Done. So if you're okay with my changes, then we can set a positive review.



---

archive/issue_events_255184.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-13T06:41:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255184"
}
```



---

archive/issue_events_255185.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-13T06:41:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255185"
}
```



---

archive/issue_comments_247074.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nDoctests fail, try with the next beta",
    "created_at": "2015-10-14T09:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247074",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:94" align="right">comment:94</div>

Doctests fail, try with the next beta



---

archive/issue_events_255186.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-14T09:24:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255186"
}
```



---

archive/issue_events_255187.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-14T09:24:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255187"
}
```



---

archive/issue_comments_247075.json:
```json
{
    "body": "Changed branch from **[u/tscrim/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/refactor_integer_lists_lex-18109)** to **[u/jdemeyer/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/refactor_integer_lists_lex-18109)**",
    "created_at": "2015-10-16T11:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247075",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/tscrim/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/refactor_integer_lists_lex-18109)** to **[u/jdemeyer/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/refactor_integer_lists_lex-18109)**



---

archive/issue_comments_247076.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nI'm testing this now...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/824498345a881a9ebc21be694c3522d8687e275e\"><code>8244983</code></a></td><td><code>Merge tag '6.10.beta0' into t/18109/refactor_integer_lists_lex-18109</code></td></tr></table>\n",
    "created_at": "2015-10-16T11:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247076",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:96" align="right">comment:96</div>

I'm testing this now...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/824498345a881a9ebc21be694c3522d8687e275e"><code>8244983</code></a></td><td><code>Merge tag '6.10.beta0' into t/18109/refactor_integer_lists_lex-18109</code></td></tr></table>




---

archive/issue_comments_247077.json:
```json
{
    "body": "Changed commit from **[`8b96bb5`](https://github.com/sagemath/sagetrac-mirror/commit/8b96bb5cca7f3a76a35b75e99406b7cb1c4cb0e5)** to **[`8244983`](https://github.com/sagemath/sagetrac-mirror/commit/824498345a881a9ebc21be694c3522d8687e275e)**",
    "created_at": "2015-10-16T11:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247077",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`8b96bb5`](https://github.com/sagemath/sagetrac-mirror/commit/8b96bb5cca7f3a76a35b75e99406b7cb1c4cb0e5)** to **[`8244983`](https://github.com/sagemath/sagetrac-mirror/commit/824498345a881a9ebc21be694c3522d8687e275e)**



---

archive/issue_comments_247078.json:
```json
{
    "body": "Changed commit from **[`8244983`](https://github.com/sagemath/sagetrac-mirror/commit/824498345a881a9ebc21be694c3522d8687e275e)** to **[`65025ab`](https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a)**",
    "created_at": "2015-10-16T13:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247078",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8244983`](https://github.com/sagemath/sagetrac-mirror/commit/824498345a881a9ebc21be694c3522d8687e275e)** to **[`65025ab`](https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a)**



---

archive/issue_comments_247079.json:
```json
{
    "body": "<div id=\"comment:97\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a\"><code>65025ab</code></a></td><td><code>Fix IntegerListsLex import</code></td></tr></table>\n",
    "created_at": "2015-10-16T13:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247079",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a"><code>65025ab</code></a></td><td><code>Fix IntegerListsLex import</code></td></tr></table>




---

archive/issue_events_255188.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-16T13:25:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255188"
}
```



---

archive/issue_events_255189.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-10-16T13:25:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255189"
}
```



---

archive/issue_comments_247080.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nLGTM.",
    "created_at": "2015-10-16T18:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247080",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:99" align="right">comment:99</div>

LGTM.



---

archive/issue_events_255190.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-10-16T18:19:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255190"
}
```



---

archive/issue_events_255191.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-10-16T18:19:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255191"
}
```



---

archive/issue_comments_247081.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/refactor_integer_lists_lex-18109)** to **[`65025ab`](https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a)**",
    "created_at": "2015-10-17T08:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18109#issuecomment-247081",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/refactor_integer_lists_lex-18109](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/refactor_integer_lists_lex-18109)** to **[`65025ab`](https://github.com/sagemath/sagetrac-mirror/commit/65025ab68743a1dc6c30eb73b6db4e4283f49d4a)**



---

archive/issue_events_255192.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-17T08:36:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255192"
}
```



---

archive/issue_events_255193.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f30f9557f52f81665c1122f004d71d02624c645e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-10-17T08:36:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18109",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18109#event-255193"
}
```
