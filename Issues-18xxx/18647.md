# Issue 18647: Automatically update new-style optional packages

archive/issues_018410.json:
```json
{
    "assignees": [],
    "body": "With this branch, new-style installed optional packages which have not been installed to their latest available version are automatically updated during 'make'.\n\nNathann\n\nCC:  @vbraun @jdemeyer @jhpalmieri @kcrisman\n\nBranch/Commit: **[68f4d0b](https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Nathann Cohen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18647_\n\n",
    "closed_at": "2015-06-11T22:23:33Z",
    "created_at": "2015-06-09T14:33:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Automatically update new-style optional packages",
    "type": "issue",
    "updated_at": "2015-06-11T22:23:33Z",
    "url": "https://github.com/sagemath/sage/issues/18647",
    "user": "https://github.com/nathanncohen"
}
```
With this branch, new-style installed optional packages which have not been installed to their latest available version are automatically updated during 'make'.

Nathann

CC:  @vbraun @jdemeyer @jhpalmieri @kcrisman

Branch/Commit: **[68f4d0b](https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78)**

Reviewer: **Jeroen Demeyer**

Author: **Nathann Cohen**

_Issue created by migration from https://trac.sagemath.org/ticket/18647_





---

archive/issue_events_238323.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-09T14:33:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238323"
}
```



---

archive/issue_events_238324.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-09T14:33:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238324"
}
```



---

archive/issue_events_238325.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-09T14:33:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238325"
}
```



---

archive/issue_events_238326.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-09T14:33:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238326"
}
```



---

archive/issue_comments_262174.json:
```json
{
    "body": "Branch: **[public/18647](https://github.com/sagemath/sagetrac-mirror/tree/public/18647)**",
    "created_at": "2015-06-09T14:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262174",
    "user": "https://github.com/nathanncohen"
}
```

Branch: **[public/18647](https://github.com/sagemath/sagetrac-mirror/tree/public/18647)**



---

archive/issue_events_238327.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-09T14:34:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238327"
}
```



---

archive/issue_comments_262175.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/912753b28a7883185031381f43c12e032b9aa802\">912753b</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>\n",
    "created_at": "2015-06-09T14:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262175",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/912753b28a7883185031381f43c12e032b9aa802">912753b</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>




---

archive/issue_comments_262176.json:
```json
{
    "body": "Commit: **[912753b](https://github.com/sagemath/sagetrac-mirror/commit/912753b28a7883185031381f43c12e032b9aa802)**",
    "created_at": "2015-06-09T14:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262176",
    "user": "https://github.com/nathanncohen"
}
```

Commit: **[912753b](https://github.com/sagemath/sagetrac-mirror/commit/912753b28a7883185031381f43c12e032b9aa802)**



---

archive/issue_comments_262177.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nI would much prefer to add `$(OPTIONAL_INSTALLED_PACKAGES)` to `all-sage` instead of adding a new step in the `all` make rule.",
    "created_at": "2015-06-09T14:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262177",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'>Comment 2:</a>
I would much prefer to add `$(OPTIONAL_INSTALLED_PACKAGES)` to `all-sage` instead of adding a new step in the `all` make rule.



---

archive/issue_comments_262178.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\n> I would much prefer to add `$(OPTIONAL_INSTALLED_PACKAGES)` to `all-sage` instead of adding a new step in the `all` make rule.\n\nThen you must figure out which optional packages depend on which standard packages.\n\n(it is not possible to add all standard packages as a dependency, as some 'optional' packages like python2 may also be standard in practice)",
    "created_at": "2015-06-09T14:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262178",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'>Comment 3:</a>
> I would much prefer to add `$(OPTIONAL_INSTALLED_PACKAGES)` to `all-sage` instead of adding a new step in the `all` make rule.

Then you must figure out which optional packages depend on which standard packages.

(it is not possible to add all standard packages as a dependency, as some 'optional' packages like python2 may also be standard in practice)



---

archive/issue_comments_262179.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@nathanncohen](#comment%3A3):\n> > I would much prefer to add `$(OPTIONAL_INSTALLED_PACKAGES)` to `all-sage` instead of adding a new step in the `all` make rule.\n\n> \n> Then you must figure out which optional packages depend on which standard packages.\n\nIf the goal is to have more reliable optional packages, this needs to be done *anyway*. If some optional package depends on PARI and PARI gets rebuilt, then you really should rebuild the optional package too.",
    "created_at": "2015-06-09T15:04:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262179",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@nathanncohen](#comment%3A3):
> > I would much prefer to add `$(OPTIONAL_INSTALLED_PACKAGES)` to `all-sage` instead of adding a new step in the `all` make rule.

> 
> Then you must figure out which optional packages depend on which standard packages.

If the goal is to have more reliable optional packages, this needs to be done *anyway*. If some optional package depends on PARI and PARI gets rebuilt, then you really should rebuild the optional package too.



---

archive/issue_comments_262180.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\n> If the goal is to have more reliable optional packages, this needs to be done *anyway*. If some optional package depends on PARI and PARI gets rebuilt, then you really should rebuild the optional package too.\n\nIndeed, this is how it should have been implemented from the start. For you will agree that the problem already exists: if some optional package does not state its dependencies and if 'pari' (to take your example) is updated, the package is not re-built. At the moment, only gcc, scons, python2 and python3 state their dependencies.\n\nThus, and similarly to our recent debate on #18456, what you ask for is a very sensible bugfix for a pre-existing problem. You are welcome to address it -- and I will be glad to help -- but it is not a dependency of this ticket.\n\nNathann",
    "created_at": "2015-06-09T15:13:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262180",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'>Comment 5:</a>
> If the goal is to have more reliable optional packages, this needs to be done *anyway*. If some optional package depends on PARI and PARI gets rebuilt, then you really should rebuild the optional package too.

Indeed, this is how it should have been implemented from the start. For you will agree that the problem already exists: if some optional package does not state its dependencies and if 'pari' (to take your example) is updated, the package is not re-built. At the moment, only gcc, scons, python2 and python3 state their dependencies.

Thus, and similarly to our recent debate on #18456, what you ask for is a very sensible bugfix for a pre-existing problem. You are welcome to address it -- and I will be glad to help -- but it is not a dependency of this ticket.

Nathann



---

archive/issue_comments_262181.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBy the way, fixing the dependencies can be done quite easily: by adding the necessary information in the build/<package/dependencies files you will get the result that you want. And we can merge the two rules together once we are sure that no dependency is missing.",
    "created_at": "2015-06-09T15:16:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262181",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'>Comment 6:</a>
By the way, fixing the dependencies can be done quite easily: by adding the necessary information in the build/<package/dependencies files you will get the result that you want. And we can merge the two rules together once we are sure that no dependency is missing.



---

archive/issue_comments_262182.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@nathanncohen](#comment%3A5):\n> Thus, and similarly to our recent debate on #18456, what you ask for is a very sensible bugfix for a pre-existing problem.\n\nBut setting up the right framework such that dependencies *can* be considered is within the scope of this ticket.\n\nEasy fix: set all dependencies of optional packages to `| $(STANDARD_PACKAGES)`, which in practice is the same as your current patch, but allows to write the correct dependencies later.",
    "created_at": "2015-06-09T15:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262182",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@nathanncohen](#comment%3A5):
> Thus, and similarly to our recent debate on #18456, what you ask for is a very sensible bugfix for a pre-existing problem.

But setting up the right framework such that dependencies *can* be considered is within the scope of this ticket.

Easy fix: set all dependencies of optional packages to `| $(STANDARD_PACKAGES)`, which in practice is the same as your current patch, but allows to write the correct dependencies later.



---

archive/issue_comments_262183.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@nathanncohen](#comment%3A3):\n> it is not possible to add all standard packages as a dependency, as some 'optional' packages like python2 may also be standard in practice\n\nSince many standard packages depend on Python, adding a dependency on `$(STANDARD_PACKAGES)` indirectly adds a dependency on Python.",
    "created_at": "2015-06-09T15:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262183",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@nathanncohen](#comment%3A3):
> it is not possible to add all standard packages as a dependency, as some 'optional' packages like python2 may also be standard in practice

Since many standard packages depend on Python, adding a dependency on `$(STANDARD_PACKAGES)` indirectly adds a dependency on Python.



---

archive/issue_comments_262184.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\n> Easy fix: set all dependencies of optional packages to `| $(STANDARD_PACKAGES)`, which in practice is the same as your current patch, but allows to write the correct dependencies later.\n\nDead right. Will be done in a second.",
    "created_at": "2015-06-09T15:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262184",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'>Comment 9:</a>
> Easy fix: set all dependencies of optional packages to `| $(STANDARD_PACKAGES)`, which in practice is the same as your current patch, but allows to write the correct dependencies later.

Dead right. Will be done in a second.



---

archive/issue_comments_262185.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/287458d5b03be8b04dde32c6c904606e1ed951a6\">287458d</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>\n",
    "created_at": "2015-06-09T15:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262185",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/287458d5b03be8b04dde32c6c904606e1ed951a6">287458d</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>




---

archive/issue_comments_262186.json:
```json
{
    "body": "Changed commit from **[912753b](https://github.com/sagemath/sagetrac-mirror/commit/912753b28a7883185031381f43c12e032b9aa802)** to **[287458d](https://github.com/sagemath/sagetrac-mirror/commit/287458d5b03be8b04dde32c6c904606e1ed951a6)**",
    "created_at": "2015-06-09T15:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262186",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[912753b](https://github.com/sagemath/sagetrac-mirror/commit/912753b28a7883185031381f43c12e032b9aa802)** to **[287458d](https://github.com/sagemath/sagetrac-mirror/commit/287458d5b03be8b04dde32c6c904606e1ed951a6)**



---

archive/issue_comments_262187.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nNot `mpir` and `gmp`.",
    "created_at": "2015-06-09T15:35:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262187",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
Not `mpir` and `gmp`.



---

archive/issue_events_238328.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-09T15:35:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238328"
}
```



---

archive/issue_events_238329.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-09T15:35:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238329"
}
```



---

archive/issue_comments_262188.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nAs a consequence: all optional packages have (and *MUST* have) a /dependencies file.\n\nShould we check this somewhere?",
    "created_at": "2015-06-09T15:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262188",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'>Comment 12:</a>
As a consequence: all optional packages have (and *MUST* have) a /dependencies file.

Should we check this somewhere?



---

archive/issue_comments_262189.json:
```json
{
    "body": "Changed commit from **[287458d](https://github.com/sagemath/sagetrac-mirror/commit/287458d5b03be8b04dde32c6c904606e1ed951a6)** to **[cca953e](https://github.com/sagemath/sagetrac-mirror/commit/cca953e2a0cc3724877e845853df51efc47f2a24)**",
    "created_at": "2015-06-09T15:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262189",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[287458d](https://github.com/sagemath/sagetrac-mirror/commit/287458d5b03be8b04dde32c6c904606e1ed951a6)** to **[cca953e](https://github.com/sagemath/sagetrac-mirror/commit/cca953e2a0cc3724877e845853df51efc47f2a24)**



---

archive/issue_comments_262190.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cca953e2a0cc3724877e845853df51efc47f2a24\">cca953e</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>\n",
    "created_at": "2015-06-09T15:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262190",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cca953e2a0cc3724877e845853df51efc47f2a24">cca953e</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>




---

archive/issue_comments_262191.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nRight. Fixed. Cursed be those non-optional optional packages.",
    "created_at": "2015-06-09T15:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262191",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'>Comment 14:</a>
Right. Fixed. Cursed be those non-optional optional packages.



---

archive/issue_comments_262192.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@nathanncohen](#comment%3A14):\n> Right. Fixed. Cursed be those non-optional optional packages.\n\nWell, I proposed a new category for these packages :-)\n\nI also wonder if we can use\n\n```\nif [ -f $SAGE_SPKG_INST/$PKG_NAME-* ]\n```\nsince that will not work if there is more than 1 matching file.",
    "created_at": "2015-06-09T15:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262192",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@nathanncohen](#comment%3A14):
> Right. Fixed. Cursed be those non-optional optional packages.

Well, I proposed a new category for these packages :-)

I also wonder if we can use

```
if [ -f $SAGE_SPKG_INST/$PKG_NAME-* ]
```
since that will not work if there is more than 1 matching file.



---

archive/issue_comments_262193.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\n> Well, I proposed a new category for these packages :-)\n\nOh. The alternative guys?\n\n> I also wonder if we can use\n> \n> ```\n> if [ -f $SAGE_SPKG_INST/$PKG_NAME-* ]\n> ```\n> since that will not work if there is more than 1 matching file.\n\nI think that's okay, for you made it quite clear that a version number must be split from the name by a '-'? I don't mind adding code that checks that somewhere if you think it necessary, but renaming the packages that do not respect this may take quite some time.\n\nNathann",
    "created_at": "2015-06-09T15:42:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262193",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'>Comment 16:</a>
> Well, I proposed a new category for these packages :-)

Oh. The alternative guys?

> I also wonder if we can use
> 
> ```
> if [ -f $SAGE_SPKG_INST/$PKG_NAME-* ]
> ```
> since that will not work if there is more than 1 matching file.

I think that's okay, for you made it quite clear that a version number must be split from the name by a '-'? I don't mind adding code that checks that somewhere if you think it necessary, but renaming the packages that do not respect this may take quite some time.

Nathann



---

archive/issue_comments_262194.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@nathanncohen](#comment%3A16):\n> I think that's okay\n\nRight, I agree.",
    "created_at": "2015-06-09T17:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262194",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@nathanncohen](#comment%3A16):
> I think that's okay

Right, I agree.



---

archive/issue_comments_262195.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI don't think this works correctly for `gcc`. If `gcc` needs to be reinstalled, it should be added to `$(TOOLCHAIN)`. The problem is that installing `gcc` while installing a different package will eventually lead to trouble.",
    "created_at": "2015-06-09T17:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262195",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'>Comment 18:</a>
I don't think this works correctly for `gcc`. If `gcc` needs to be reinstalled, it should be added to `$(TOOLCHAIN)`. The problem is that installing `gcc` while installing a different package will eventually lead to trouble.



---

archive/issue_comments_262196.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nFor `gcc`, we already have logic in `build/install` to decide whether it should be (re-)installed. You shouldn't interfere with that.",
    "created_at": "2015-06-09T17:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262196",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
For `gcc`, we already have logic in `build/install` to decide whether it should be (re-)installed. You shouldn't interfere with that.



---

archive/issue_comments_262197.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nSo I filter it out?",
    "created_at": "2015-06-09T17:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262197",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'>Comment 20:</a>
So I filter it out?



---

archive/issue_comments_262198.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@nathanncohen](#comment%3A20):\n> So I filter it out?\n\nOr change the `type` to something else (if you don't want to add a new type, it must be `base`)",
    "created_at": "2015-06-09T17:47:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262198",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@nathanncohen](#comment%3A20):
> So I filter it out?

Or change the `type` to something else (if you don't want to add a new type, it must be `base`)



---

archive/issue_comments_262199.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nHMmmmmmmm... If I rename it to 'base' it will be automatically installed. I'll just filter it out. Can you tell me what exactly is wrong if we leave it as it is? It will only force an update if it has already been installed, and if the version changes. It looks harmless?...\n\nNathann",
    "created_at": "2015-06-09T18:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262199",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'>Comment 22:</a>
HMmmmmmmm... If I rename it to 'base' it will be automatically installed. I'll just filter it out. Can you tell me what exactly is wrong if we leave it as it is? It will only force an update if it has already been installed, and if the version changes. It looks harmless?...

Nathann



---

archive/issue_comments_262200.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@nathanncohen](#comment%3A22):\n> HMmmmmmmm... If I rename it to 'base' it will be automatically installed.\n\nWhy? Since when are we automatically installing `base` packages?\n\n> Can you tell me what exactly is wrong if we leave it as it is? It will only force an update if it has already been installed, and if the version changes. It looks harmless?...\n\nRead the last sentence of [comment:18]",
    "created_at": "2015-06-09T18:41:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262200",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@nathanncohen](#comment%3A22):
> HMmmmmmmm... If I rename it to 'base' it will be automatically installed.

Why? Since when are we automatically installing `base` packages?

> Can you tell me what exactly is wrong if we leave it as it is? It will only force an update if it has already been installed, and if the version changes. It looks harmless?...

Read the last sentence of [comment:18]



---

archive/issue_comments_262201.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\n> Why? Since when are we automatically installing `base` packages?\n\nWell, not automtically.. There is a 'base' rule in the makefile, but the dependencies are set manually. Probably because of gcc actually.\n\n> Read the last sentence of [comment:18]\n\nOkay, so tha's because gcc is gcc. I'll filter it out.\n\nNathann",
    "created_at": "2015-06-09T19:01:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262201",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'>Comment 24:</a>
> Why? Since when are we automatically installing `base` packages?

Well, not automtically.. There is a 'base' rule in the makefile, but the dependencies are set manually. Probably because of gcc actually.

> Read the last sentence of [comment:18]

Okay, so tha's because gcc is gcc. I'll filter it out.

Nathann



---

archive/issue_comments_262202.json:
```json
{
    "body": "Changed commit from **[cca953e](https://github.com/sagemath/sagetrac-mirror/commit/cca953e2a0cc3724877e845853df51efc47f2a24)** to **[4b55fc4](https://github.com/sagemath/sagetrac-mirror/commit/4b55fc4e97952a83983c2015674462bb2f593db4)**",
    "created_at": "2015-06-09T19:07:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262202",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cca953e](https://github.com/sagemath/sagetrac-mirror/commit/cca953e2a0cc3724877e845853df51efc47f2a24)** to **[4b55fc4](https://github.com/sagemath/sagetrac-mirror/commit/4b55fc4e97952a83983c2015674462bb2f593db4)**



---

archive/issue_comments_262203.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b55fc4e97952a83983c2015674462bb2f593db4\">4b55fc4</a></td><td><code>trac #18647: Filter gcc out</code></td></tr></table>\n",
    "created_at": "2015-06-09T19:07:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262203",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b55fc4e97952a83983c2015674462bb2f593db4">4b55fc4</a></td><td><code>trac #18647: Filter gcc out</code></td></tr></table>




---

archive/issue_events_238330.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-09T19:07:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238330"
}
```



---

archive/issue_events_238331.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-09T19:07:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238331"
}
```



---

archive/issue_comments_262204.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nI know you've done all of this work to create these files now, but if a package is optional and doesn't have a `dependencies` file, shouldn't we automatically set the dependencies to `| $(STANDARD_PACKAGES)`? That seems cleaner to me.",
    "created_at": "2015-06-09T20:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262204",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:27'>Comment 27:</a>
I know you've done all of this work to create these files now, but if a package is optional and doesn't have a `dependencies` file, shouldn't we automatically set the dependencies to `| $(STANDARD_PACKAGES)`? That seems cleaner to me.



---

archive/issue_comments_262205.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\n> I know you've done all of this work to create these files now, but if a package is optional and doesn't have a `dependencies` file, shouldn't we automatically set the dependencies to `| $(STANDARD_PACKAGES)`? That seems cleaner to me.\n\nWell... There would be less things in the files for sure, but a new rule which is rather hard to figure out by yourself. Honestly I don't know... Jeroen?",
    "created_at": "2015-06-09T20:33:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262205",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'>Comment 28:</a>
> I know you've done all of this work to create these files now, but if a package is optional and doesn't have a `dependencies` file, shouldn't we automatically set the dependencies to `| $(STANDARD_PACKAGES)`? That seems cleaner to me.

Well... There would be less things in the files for sure, but a new rule which is rather hard to figure out by yourself. Honestly I don't know... Jeroen?



---

archive/issue_comments_262206.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nIf a guy notices that his package depends on another package and wants to add the dependency, suddenly he would have to create the file and add the implicit dependency `| $(STANDARD_PACKAGES)`.",
    "created_at": "2015-06-09T20:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262206",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:29'>Comment 29:</a>
If a guy notices that his package depends on another package and wants to add the dependency, suddenly he would have to create the file and add the implicit dependency `| $(STANDARD_PACKAGES)`.



---

archive/issue_comments_262207.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReally I do not know. I don't mind implementing it if you are both convinced that it is a good idea, but really I don't know.",
    "created_at": "2015-06-09T20:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262207",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:30'>Comment 30:</a>
Really I do not know. I don't mind implementing it if you are both convinced that it is a good idea, but really I don't know.



---

archive/issue_comments_262208.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nReplying to [@nathanncohen](#comment%3A29):\n> If a guy notices that his package depends on another package and wants to add the dependency, suddenly he would have to create the file and add the implicit dependency `| $(STANDARD_PACKAGES)`.\n\nNo, the dependency `| $(STANDARD_PACKAGES)` is not a real dependency, it's just because we are too lazy to add the correct dependencies.\n\nSo, I think John's proposal might be good (but be sure to keep the empty dependencies for `mpir` and `gmp`)",
    "created_at": "2015-06-09T20:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262208",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'>Comment 31:</a>
Replying to [@nathanncohen](#comment%3A29):
> If a guy notices that his package depends on another package and wants to add the dependency, suddenly he would have to create the file and add the implicit dependency `| $(STANDARD_PACKAGES)`.

No, the dependency `| $(STANDARD_PACKAGES)` is not a real dependency, it's just because we are too lazy to add the correct dependencies.

So, I think John's proposal might be good (but be sure to keep the empty dependencies for `mpir` and `gmp`)



---

archive/issue_comments_262209.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nOkayokay, no problem then. I'll do that tomorrow morning (sorry guys, I really need to sleep `^^;`)",
    "created_at": "2015-06-09T20:57:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262209",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:32'>Comment 32:</a>
Okayokay, no problem then. I'll do that tomorrow morning (sorry guys, I really need to sleep `^^;`)



---

archive/issue_comments_262210.json:
```json
{
    "body": "Changed commit from **[4b55fc4](https://github.com/sagemath/sagetrac-mirror/commit/4b55fc4e97952a83983c2015674462bb2f593db4)** to **[3379d0e](https://github.com/sagemath/sagetrac-mirror/commit/3379d0e4e354c67dcc9d21c47e1322fe6e00cd1c)**",
    "created_at": "2015-06-10T08:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262210",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4b55fc4](https://github.com/sagemath/sagetrac-mirror/commit/4b55fc4e97952a83983c2015674462bb2f593db4)** to **[3379d0e](https://github.com/sagemath/sagetrac-mirror/commit/3379d0e4e354c67dcc9d21c47e1322fe6e00cd1c)**



---

archive/issue_comments_262211.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3379d0e4e354c67dcc9d21c47e1322fe6e00cd1c\">3379d0e</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>\n",
    "created_at": "2015-06-10T08:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262211",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'>Comment 33:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3379d0e4e354c67dcc9d21c47e1322fe6e00cd1c">3379d0e</a></td><td><code>trac #18647: Automatically update new-style optional packages</code></td></tr></table>




---

archive/issue_comments_262212.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nHere it is. I rewrote history, so that one commit does not undo what the previous does.\n\nNathann",
    "created_at": "2015-06-10T08:29:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262212",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:34'>Comment 34:</a>
Here it is. I rewrote history, so that one commit does not undo what the previous does.

Nathann



---

archive/issue_comments_262213.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83759dbbf5c3d04377ad98551de1146cb0dfd106\">83759db</a></td><td><code>trac #18647: no dependencies for mpir and gmp</code></td></tr></table>\n",
    "created_at": "2015-06-10T09:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262213",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>Comment 35:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83759dbbf5c3d04377ad98551de1146cb0dfd106">83759db</a></td><td><code>trac #18647: no dependencies for mpir and gmp</code></td></tr></table>




---

archive/issue_comments_262214.json:
```json
{
    "body": "Changed commit from **[3379d0e](https://github.com/sagemath/sagetrac-mirror/commit/3379d0e4e354c67dcc9d21c47e1322fe6e00cd1c)** to **[83759db](https://github.com/sagemath/sagetrac-mirror/commit/83759dbbf5c3d04377ad98551de1146cb0dfd106)**",
    "created_at": "2015-06-10T09:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262214",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3379d0e](https://github.com/sagemath/sagetrac-mirror/commit/3379d0e4e354c67dcc9d21c47e1322fe6e00cd1c)** to **[83759db](https://github.com/sagemath/sagetrac-mirror/commit/83759dbbf5c3d04377ad98551de1146cb0dfd106)**



---

archive/issue_comments_262215.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a744884a9815926ce2d9c6a9b38ee72cfc3de40\">4a74488</a></td><td><code>trac #18647: no dependencies for mpir and gmp</code></td></tr></table>\n",
    "created_at": "2015-06-10T09:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262215",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'>Comment 36:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a744884a9815926ce2d9c6a9b38ee72cfc3de40">4a74488</a></td><td><code>trac #18647: no dependencies for mpir and gmp</code></td></tr></table>




---

archive/issue_comments_262216.json:
```json
{
    "body": "Changed commit from **[83759db](https://github.com/sagemath/sagetrac-mirror/commit/83759dbbf5c3d04377ad98551de1146cb0dfd106)** to **[4a74488](https://github.com/sagemath/sagetrac-mirror/commit/4a744884a9815926ce2d9c6a9b38ee72cfc3de40)**",
    "created_at": "2015-06-10T09:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262216",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[83759db](https://github.com/sagemath/sagetrac-mirror/commit/83759dbbf5c3d04377ad98551de1146cb0dfd106)** to **[4a74488](https://github.com/sagemath/sagetrac-mirror/commit/4a744884a9815926ce2d9c6a9b38ee72cfc3de40)**



---

archive/issue_comments_262217.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplace\n\n```\n[ \"x$(cat $TYPE_FILE)\" = \"xoptional\" ]\n```\nby\n\n```\n[ x`cat \"$TYPE_FILE\"` = xoptional ]\n```\n(the point is: you need to quote `$TYPE_FILE`)",
    "created_at": "2015-06-10T09:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262217",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'>Comment 37:</a>
Replace

```
[ "x$(cat $TYPE_FILE)" = "xoptional" ]
```
by

```
[ x`cat "$TYPE_FILE"` = xoptional ]
```
(the point is: you need to quote `$TYPE_FILE`)



---

archive/issue_comments_262218.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nAnd `\"| \\$(STANDARD_PACKAGES)\"` can be `'| $(STANDARD_PACKAGES)'` (avoid ugly backslashes if you can)",
    "created_at": "2015-06-10T09:51:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262218",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'>Comment 38:</a>
And `"| \$(STANDARD_PACKAGES)"` can be `'| $(STANDARD_PACKAGES)'` (avoid ugly backslashes if you can)



---

archive/issue_comments_262219.json:
```json
{
    "body": "Changed commit from **[4a74488](https://github.com/sagemath/sagetrac-mirror/commit/4a744884a9815926ce2d9c6a9b38ee72cfc3de40)** to **[68f4d0b](https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78)**",
    "created_at": "2015-06-10T10:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262219",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4a74488](https://github.com/sagemath/sagetrac-mirror/commit/4a744884a9815926ce2d9c6a9b38ee72cfc3de40)** to **[68f4d0b](https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78)**



---

archive/issue_comments_262220.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78\">68f4d0b</a></td><td><code>trac #18647: Reviewer's comments</code></td></tr></table>\n",
    "created_at": "2015-06-10T10:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262220",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'>Comment 39:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78">68f4d0b</a></td><td><code>trac #18647: Reviewer's comments</code></td></tr></table>




---

archive/issue_comments_262221.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-06-10T11:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262221",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_238332.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-10T11:32:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238332"
}
```



---

archive/issue_events_238333.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-10T11:32:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238333"
}
```



---

archive/issue_comments_262222.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nExcellent news! Thanks `;-)`",
    "created_at": "2015-06-10T11:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262222",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:41'>Comment 41:</a>
Excellent news! Thanks `;-)`



---

archive/issue_comments_262223.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nReplying to [@nathanncohen](#comment%3A24):\n> > Why? Since when are we automatically installing `base` packages?\n\n> \n> Well, not automtically.. There is a 'base' rule in the makefile, but the dependencies are set manually.\n\nDon't confuse the `base` make rule with `base` package(s) (maybe that's actually a good reason to rename the `base` packages to something else).",
    "created_at": "2015-06-11T07:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262223",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'>Comment 42:</a>
Replying to [@nathanncohen](#comment%3A24):
> > Why? Since when are we automatically installing `base` packages?

> 
> Well, not automtically.. There is a 'base' rule in the makefile, but the dependencies are set manually.

Don't confuse the `base` make rule with `base` package(s) (maybe that's actually a good reason to rename the `base` packages to something else).



---

archive/issue_comments_262224.json:
```json
{
    "body": "Changed branch from **[public/18647](https://github.com/sagemath/sagetrac-mirror/tree/public/18647)** to **[68f4d0b](https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78)**",
    "created_at": "2015-06-11T22:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18647#issuecomment-262224",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/18647](https://github.com/sagemath/sagetrac-mirror/tree/public/18647)** to **[68f4d0b](https://github.com/sagemath/sagetrac-mirror/commit/68f4d0b138108f33e45452cdb3e7a67232cbac78)**



---

archive/issue_events_238334.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-11T22:23:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238334"
}
```



---

archive/issue_events_238335.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cded44922aa5b7f5e2a04d3be89444742e3a6b89",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-06-11T22:23:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18647",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18647#event-238335"
}
```
