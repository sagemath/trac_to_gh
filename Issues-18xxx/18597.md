# Issue 18597: Implement m-Cambrian lattices (using delta sequences)

archive/issues_018360.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nImplement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n\nDepends on #19514\n\nCC:  @stumpc5 @VivianePons @kevindilks @tscrim\n\nComponent: **combinatorics**\n\nKeywords: **sagedays64.5, catalan, coxeter, cambrian**\n\nAuthor: **Nathan Williams, Christian Stump**\n\nBranch: **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**\n\nReviewer: **Christian Stump, Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18597_\n\n",
    "closed_at": "2015-11-07T09:34:20Z",
    "created_at": "2015-06-02T23:23:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement m-Cambrian lattices (using delta sequences)",
    "type": "issue",
    "updated_at": "2015-12-19T12:05:30Z",
    "url": "https://github.com/sagemath/sage/issues/18597",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```
<div id="comment:0"></div>

Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.

Depends on #19514

CC:  @stumpc5 @VivianePons @kevindilks @tscrim

Component: **combinatorics**

Keywords: **sagedays64.5, catalan, coxeter, cambrian**

Author: **Nathan Williams, Christian Stump**

Branch: **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**

Reviewer: **Christian Stump, Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/18597_





---

archive/issue_events_261962.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261962"
}
```



---

archive/issue_events_261963.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261963"
}
```



---

archive/issue_events_261964.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261964"
}
```



---

archive/issue_events_261965.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261965"
}
```



---

archive/issue_comments_258536.json:
```json
{
    "body": "Dependencies: **#18590**",
    "created_at": "2015-06-02T23:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258536",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Dependencies: **#18590**



---

archive/issue_comments_258537.json:
```json
{
    "body": "Branch: **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)**",
    "created_at": "2015-06-04T16:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258537",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Branch: **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)**



---

archive/issue_comments_258538.json:
```json
{
    "body": "Commit: **[`1878996`](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)**",
    "created_at": "2015-06-04T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258538",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Commit: **[`1878996`](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)**



---

archive/issue_comments_258539.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deea7d9a79758f87cb2a87390e7eb5387d2c6112\"><code>deea7d9</code></a></td><td><code>add support for sorting words</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40cf52b378a65230514a0b2192f26ccf58ea712a\"><code>40cf52b</code></a></td><td><code>add rank function and documentation on coxeter sorting words in coxeter_groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1d24a608ff799549a357239614623baf00dc47a\"><code>d1d24a6</code></a></td><td><code>fix bug documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1db90cb346dfafac5f6e512ecdb956862828aef\"><code>d1db90c</code></a></td><td><code>Some small doc formating fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70315c85d0360b02eff867f1b0f840fb582ed957\"><code>70315c8</code></a></td><td><code>fix bug is_sortable_element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b47229c032f62e73bf2429304c1118b3618f834\"><code>6b47229</code></a></td><td><code>Small formating fixes (adding outputs, fixing doc indent)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f\"><code>1878996</code></a></td><td><code>work in progress: new implementations are presumably correct, but existing bug discovered</code></td></tr></table>\n",
    "created_at": "2015-06-04T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258539",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deea7d9a79758f87cb2a87390e7eb5387d2c6112"><code>deea7d9</code></a></td><td><code>add support for sorting words</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40cf52b378a65230514a0b2192f26ccf58ea712a"><code>40cf52b</code></a></td><td><code>add rank function and documentation on coxeter sorting words in coxeter_groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1d24a608ff799549a357239614623baf00dc47a"><code>d1d24a6</code></a></td><td><code>fix bug documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1db90cb346dfafac5f6e512ecdb956862828aef"><code>d1db90c</code></a></td><td><code>Some small doc formating fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70315c85d0360b02eff867f1b0f840fb582ed957"><code>70315c8</code></a></td><td><code>fix bug is_sortable_element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b47229c032f62e73bf2429304c1118b3618f834"><code>6b47229</code></a></td><td><code>Small formating fixes (adding outputs, fixing doc indent)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f"><code>1878996</code></a></td><td><code>work in progress: new implementations are presumably correct, but existing bug discovered</code></td></tr></table>




---

archive/issue_comments_258540.json:
```json
{
    "body": "Changed dependencies from **#18590** to **#18590,#18610**",
    "created_at": "2015-06-04T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258540",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Changed dependencies from **#18590** to **#18590,#18610**



---

archive/issue_comments_258541.json:
```json
{
    "body": "Changed commit from **[`1878996`](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)** to **[`c37a5ef`](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)**",
    "created_at": "2015-06-04T22:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258541",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1878996`](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)** to **[`c37a5ef`](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)**



---

archive/issue_comments_258542.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5716df5284bdaafb3624dd2d0739cf581a59a77a\"><code>5716df5</code></a></td><td><code>Fixed according to Travis's suggestions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4404133e8c294da9b2ca49339aa06d7f6b2348b2\"><code>4404133</code></a></td><td><code>Fixed according to Travis's suggestions, and now actually running I think</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fe1bb853913ea62a065bf5b53fa460928354815\"><code>8fe1bb8</code></a></td><td><code>Tab fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6dcb8b910ec2434eaf88dfd4264b0aac4ca0a28\"><code>a6dcb8b</code></a></td><td><code>merged with now-resolved conflicts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165\"><code>c37a5ef</code></a></td><td><code>things appear to work in the sense that all tests have passed.</code></td></tr></table>\n",
    "created_at": "2015-06-04T22:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258542",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5716df5284bdaafb3624dd2d0739cf581a59a77a"><code>5716df5</code></a></td><td><code>Fixed according to Travis's suggestions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4404133e8c294da9b2ca49339aa06d7f6b2348b2"><code>4404133</code></a></td><td><code>Fixed according to Travis's suggestions, and now actually running I think</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fe1bb853913ea62a065bf5b53fa460928354815"><code>8fe1bb8</code></a></td><td><code>Tab fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6dcb8b910ec2434eaf88dfd4264b0aac4ca0a28"><code>a6dcb8b</code></a></td><td><code>merged with now-resolved conflicts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165"><code>c37a5ef</code></a></td><td><code>things appear to work in the sense that all tests have passed.</code></td></tr></table>




---

archive/issue_events_261966.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-04T22:48:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261966"
}
```



---

archive/issue_comments_258543.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYou should not introduce all these trailing whitespaces.\n\nSee what the diff looks like when clicking on the branch name on top of this page.",
    "created_at": "2015-06-05T07:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258543",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

You should not introduce all these trailing whitespaces.

See what the diff looks like when clicking on the branch name on top of this page.



---

archive/issue_events_261967.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-05T07:44:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261967"
}
```



---

archive/issue_events_261968.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-05T07:44:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261968"
}
```



---

archive/issue_comments_258544.json:
```json
{
    "body": "Changed commit from **[`c37a5ef`](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)** to **[`1862325`](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)**",
    "created_at": "2015-06-05T15:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258544",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c37a5ef`](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)** to **[`1862325`](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)**



---

archive/issue_comments_258545.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c\"><code>1862325</code></a></td><td><code>removed trailing whitespace.</code></td></tr></table>\n",
    "created_at": "2015-06-05T15:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258545",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c"><code>1862325</code></a></td><td><code>removed trailing whitespace.</code></td></tr></table>




---

archive/issue_comments_258546.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHello, nice idea to implement these posets.\n\nThe doc of a function must start with a single line looking like\n\n```\nReturn the c-Cambrian lattice on delta sequences.\n```\nthen a blank line, then more explanations, and then\n\n```\nINPUT:\n```\netc",
    "created_at": "2015-06-05T15:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258546",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Hello, nice idea to implement these posets.

The doc of a function must start with a single line looking like

```
Return the c-Cambrian lattice on delta sequences.
```
then a blank line, then more explanations, and then

```
INPUT:
```
etc



---

archive/issue_comments_258547.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@fchapoton](#comment%3A8):\n> Hello, nice idea to implement these posets.\n> \n> The doc of a function must start with a single line looking like\n> \n> ```\n> Return the c-Cambrian lattice on delta sequences.\n> ```\n> then a blank line, then more explanations, and then\n> \n> ```\n> INPUT:\n> ```\n> etc\n\nThank you for the clarification.  I will change the order of the documentation in the functions I have implemented.  Note that some previously existing documentation uses a different order (for example, `weak_poset` in `finite_coxeter_groups.py`).",
    "created_at": "2015-06-05T16:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258547",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@fchapoton](#comment%3A8):
> Hello, nice idea to implement these posets.
> 
> The doc of a function must start with a single line looking like
> 
> ```
> Return the c-Cambrian lattice on delta sequences.
> ```
> then a blank line, then more explanations, and then
> 
> ```
> INPUT:
> ```
> etc

Thank you for the clarification.  I will change the order of the documentation in the functions I have implemented.  Note that some previously existing documentation uses a different order (for example, `weak_poset` in `finite_coxeter_groups.py`).



---

archive/issue_comments_258548.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28\"><code>1f29ae6</code></a></td><td><code>reordered documentation, as requested by chapoton</code></td></tr></table>\n",
    "created_at": "2015-06-05T16:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258548",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28"><code>1f29ae6</code></a></td><td><code>reordered documentation, as requested by chapoton</code></td></tr></table>




---

archive/issue_comments_258549.json:
```json
{
    "body": "Changed commit from **[`1862325`](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)** to **[`1f29ae6`](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)**",
    "created_at": "2015-06-05T16:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258549",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1862325`](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)** to **[`1f29ae6`](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)**



---

archive/issue_comments_258550.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.\n+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n``````\n",
    "created_at": "2015-06-05T16:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258550",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.
+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.
``````




---

archive/issue_events_261969.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-05T16:17:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261969"
}
```



---

archive/issue_events_261970.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-05T16:17:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261970"
}
```



---

archive/issue_comments_258551.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHi Nathan --\n\nwould you please check what of `src/sage/categories/coxeter_groups.py` you really want in this ticket, you already have the dependency #18610.\n\nBtw that was your first contribution to `Sage` that made its way into main Sage -- congrats!\n\nBeside that, I will do the review today.",
    "created_at": "2015-06-07T11:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258551",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:13" align="right">comment:13</div>

Hi Nathan --

would you please check what of `src/sage/categories/coxeter_groups.py` you really want in this ticket, you already have the dependency #18610.

Btw that was your first contribution to `Sage` that made its way into main Sage -- congrats!

Beside that, I will do the review today.



---

archive/issue_comments_258552.json:
```json
{
    "body": "Reviewer: **Christian Stump**",
    "created_at": "2015-06-07T11:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258552",
    "user": "https://github.com/stumpc5"
}
```

Reviewer: **Christian Stump**



---

archive/issue_comments_258553.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\ncorrect syntax for arxiv links is\n\n```\n:arxiv:`1503.00710`\n```",
    "created_at": "2015-06-07T19:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258553",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

correct syntax for arxiv links is

```
:arxiv:`1503.00710`
```



---

archive/issue_comments_258554.json:
```json
{
    "body": "Changed branch from **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)** to **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)**",
    "created_at": "2015-06-08T09:47:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258554",
    "user": "https://github.com/stumpc5"
}
```

Changed branch from **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)** to **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)**



---

archive/issue_comments_258555.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729\"><code>ab4999f</code></a></td><td><code>more intelligent fix a la stump</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f3380543320f0ad4e612a781f1bc9cc099bc558\"><code>8f33805</code></a></td><td><code>Merge branch 't/18610/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729' into t/18597/implement_m_cambrian_lattices__using_delta_sequences_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2020f582c67e346ca9e2c33e94edfeade04472c5\"><code>2020f58</code></a></td><td><code>merged #18590</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80\"><code>a774063</code></a></td><td><code>moved the two version of cambrian lattice both into finite_coxeter_groups.py</code></td></tr></table>\n",
    "created_at": "2015-06-08T10:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258555",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729"><code>ab4999f</code></a></td><td><code>more intelligent fix a la stump</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f3380543320f0ad4e612a781f1bc9cc099bc558"><code>8f33805</code></a></td><td><code>Merge branch 't/18610/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729' into t/18597/implement_m_cambrian_lattices__using_delta_sequences_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2020f582c67e346ca9e2c33e94edfeade04472c5"><code>2020f58</code></a></td><td><code>merged #18590</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80"><code>a774063</code></a></td><td><code>moved the two version of cambrian lattice both into finite_coxeter_groups.py</code></td></tr></table>




---

archive/issue_comments_258556.json:
```json
{
    "body": "Changed commit from **[`1f29ae6`](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)** to **[`a774063`](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)**",
    "created_at": "2015-06-08T10:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258556",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1f29ae6`](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)** to **[`a774063`](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)**



---

archive/issue_comments_258557.json:
```json
{
    "body": "Changed commit from **[`a774063`](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)** to **[`49aab49`](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)**",
    "created_at": "2015-06-08T10:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258557",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a774063`](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)** to **[`49aab49`](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)**



---

archive/issue_comments_258558.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5\"><code>49aab49</code></a></td><td><code>fixed the docstring</code></td></tr></table>\n",
    "created_at": "2015-06-08T10:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258558",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5"><code>49aab49</code></a></td><td><code>fixed the docstring</code></td></tr></table>




---

archive/issue_comments_258559.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nLeft to do:\n\n* recheck that the merge of the two methods worked out (i.e., `@`Nathan please recheck that I did everything right when deleting the cambrian stuff from weyl groups and moved it into coxeter groups\n\n* consider a more intelligent way of accessing roots and their methods from the coxeter groups category. At the moment, Weyl groups have an ElementMethod `reflection_to_root`. I think this should be moved into the parent as this method is only available for reflections, see also #18634 and #18635.\n\n* provide a preprocessing to turn lists into tuples, otherwise, most users will see the error\n\n```\nsage: W = WeylGroup(['A',2])\nsage: W.cambrian_lattice([1,2])\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: unhashable type: 'list'\n```",
    "created_at": "2015-06-08T11:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258559",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:18" align="right">comment:18</div>

Left to do:

* recheck that the merge of the two methods worked out (i.e., `@`Nathan please recheck that I did everything right when deleting the cambrian stuff from weyl groups and moved it into coxeter groups

* consider a more intelligent way of accessing roots and their methods from the coxeter groups category. At the moment, Weyl groups have an ElementMethod `reflection_to_root`. I think this should be moved into the parent as this method is only available for reflections, see also #18634 and #18635.

* provide a preprocessing to turn lists into tuples, otherwise, most users will see the error

```
sage: W = WeylGroup(['A',2])
sage: W.cambrian_lattice([1,2])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: unhashable type: 'list'
```



---

archive/issue_comments_258560.json:
```json
{
    "body": "Changed dependencies from **#18590,#18610** to **#18590,#18610,#11187**",
    "created_at": "2015-06-10T19:15:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258560",
    "user": "https://github.com/stumpc5"
}
```

Changed dependencies from **#18590,#18610** to **#18590,#18610,#11187**



---

archive/issue_comments_258561.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n``````\n",
    "created_at": "2015-11-01T17:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258561",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.
+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.
``````




---

archive/issue_comments_258562.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nChristian, maybe we could get rid of the dependency to #11187 ?\n\nThere is currently a problem with the `Twords` dictionary, because its keys are essentially in \n\n`Full MatrixSpace of 2 by 2 sparse matrices over Universal Cyclotomic Field`\n\nbut it is evaluated on some elements\n\n`Full MatrixSpace of 2 by 2 dense matrices over Universal Cyclotomic Field`\n\nTravis, may I ask for your help ?",
    "created_at": "2015-11-01T17:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258562",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:20" align="right">comment:20</div>

Christian, maybe we could get rid of the dependency to #11187 ?

There is currently a problem with the `Twords` dictionary, because its keys are essentially in 

`Full MatrixSpace of 2 by 2 sparse matrices over Universal Cyclotomic Field`

but it is evaluated on some elements

`Full MatrixSpace of 2 by 2 dense matrices over Universal Cyclotomic Field`

Travis, may I ask for your help ?



---

archive/issue_comments_258563.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI would think it shouldn't matter for dense versus sparse matrices other than some output, internal storage, and/or speed:\n\n```\nsage: M = matrix(QQ, [[1,2],[0,1]], sparse=True)\nsage: M2 = matrix(QQ, [[1,2],[0,1]], sparse=False)\nsage: M.set_immutable()\nsage: M2.set_immutable()\nsage: M == M2\nTrue\nsage: hash(M) == hash(M2)\nTrue\n```\nWhat exactly are the issues you get? I'd guess that the reasons for some of the differences come from some of the matrices that get generated...",
    "created_at": "2015-11-01T17:46:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258563",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

I would think it shouldn't matter for dense versus sparse matrices other than some output, internal storage, and/or speed:

```
sage: M = matrix(QQ, [[1,2],[0,1]], sparse=True)
sage: M2 = matrix(QQ, [[1,2],[0,1]], sparse=False)
sage: M.set_immutable()
sage: M2.set_immutable()
sage: M == M2
True
sage: hash(M) == hash(M2)
True
```
What exactly are the issues you get? I'd guess that the reasons for some of the differences come from some of the matrices that get generated...



---

archive/issue_comments_258564.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWell, some (but not all) matrices (in fact matrix group elements) are not recognized as keys, even if they are == to one of the keys of the dict Twords. The hash do not match, so I thought it was because of the sparse versus dense, but maybe it comes from somewhere else..",
    "created_at": "2015-11-01T18:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258564",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

Well, some (but not all) matrices (in fact matrix group elements) are not recognized as keys, even if they are == to one of the keys of the dict Twords. The hash do not match, so I thought it was because of the sparse versus dense, but maybe it comes from somewhere else..



---

archive/issue_comments_258565.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nHere is the problem (sitting on this branch):\n\n```\nsage: a2=CoxeterGroup([\"A\",2])\nsage: [hash(u) for u in a2.simple_reflections()]\n[-6264216653212800886, 172961895888939822]\nsage: [hash(u) for u in a2.reflections_from_w0()]\n[-6264216653212800886, 6091272663176086308, 172961895888939822]\nsage: [hash(u) for u in a2.inversion_sequence([1,2,1])]\n[-3594435451552999106, -3594435451546834518, 3594435451550176244]\nsage: [u for u in a2.inversion_sequence([1,2,1])]\n[\n[-1  1]  [ 0 -1]  [ 1  0]\n[ 0  1], [-1  0], [ 1 -1]\n]\nsage: [u for u in a2.reflections_from_w0()]\n[\n[-1  1]  [ 0 -1]  [ 1  0]\n[ 0  1], [-1  0], [ 1 -1]\n]\nsage: a2.reflections_from_w0()==a2.inversion_sequence([1,2,1])\nTrue\n```",
    "created_at": "2015-11-02T16:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258565",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

Here is the problem (sitting on this branch):

```
sage: a2=CoxeterGroup(["A",2])
sage: [hash(u) for u in a2.simple_reflections()]
[-6264216653212800886, 172961895888939822]
sage: [hash(u) for u in a2.reflections_from_w0()]
[-6264216653212800886, 6091272663176086308, 172961895888939822]
sage: [hash(u) for u in a2.inversion_sequence([1,2,1])]
[-3594435451552999106, -3594435451546834518, 3594435451550176244]
sage: [u for u in a2.inversion_sequence([1,2,1])]
[
[-1  1]  [ 0 -1]  [ 1  0]
[ 0  1], [-1  0], [ 1 -1]
]
sage: [u for u in a2.reflections_from_w0()]
[
[-1  1]  [ 0 -1]  [ 1  0]
[ 0  1], [-1  0], [ 1 -1]
]
sage: a2.reflections_from_w0()==a2.inversion_sequence([1,2,1])
True
```



---

archive/issue_comments_258566.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nHere is the core of the problem:\n\n```\nsage: m0=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=True)\nsage: m1=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=False)\nsage: m0.set_immutable()\nsage: m1.set_immutable()\nsage: hash(m0)\n6264216653211852203\nsage: hash(m1)\n3594435451553950751\nsage: m0==m1\nTrue\n```\nNo problem when using ZZ or QQ instead of UCF though..",
    "created_at": "2015-11-03T10:29:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258566",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

Here is the core of the problem:

```
sage: m0=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=True)
sage: m1=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=False)
sage: m0.set_immutable()
sage: m1.set_immutable()
sage: hash(m0)
6264216653211852203
sage: hash(m1)
3594435451553950751
sage: m0==m1
True
```
No problem when using ZZ or QQ instead of UCF though..



---

archive/issue_comments_258567.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nMaybe due to that difference ?\n\n```\nsage: hash(UniversalCyclotomicField()(0))\n3713081631936575706\nsage: hash(ZZ(0))\n0\nsage: hash(QQ(0))\n0\n```",
    "created_at": "2015-11-03T10:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258567",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

Maybe due to that difference ?

```
sage: hash(UniversalCyclotomicField()(0))
3713081631936575706
sage: hash(ZZ(0))
0
sage: hash(QQ(0))
0
```



---

archive/issue_comments_258568.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI made #19514, but I have not yet checked if that solves the issue here.",
    "created_at": "2015-11-03T11:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258568",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

I made #19514, but I have not yet checked if that solves the issue here.



---

archive/issue_comments_258569.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIt seems to work.",
    "created_at": "2015-11-03T11:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258569",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">comment:27</div>

It seems to work.



---

archive/issue_comments_258570.json:
```json
{
    "body": "Changed dependencies from **#18590,#18610,#11187** to **#18590,#18610,#19514**",
    "created_at": "2015-11-03T11:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258570",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#18590,#18610,#11187** to **#18590,#18610,#19514**



---

archive/issue_events_261971.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-03T11:15:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261971"
}
```



---

archive/issue_events_261972.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-03T11:15:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261972"
}
```



---

archive/issue_comments_258571.json:
```json
{
    "body": "Changed dependencies from **#18590,#18610,#19514** to **#19514**",
    "created_at": "2015-11-03T11:15:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258571",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#18590,#18610,#19514** to **#19514**



---

archive/issue_comments_258572.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nNow complains about lattice property:\n\n```\nsage: a4=CoxeterGroup([\"A\",4])\nsage: a4.m_cambrian_lattice((4,3,2,1))\n...\nValueError: Not a lattice.\n```",
    "created_at": "2015-11-03T11:19:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258572",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

Now complains about lattice property:

```
sage: a4=CoxeterGroup(["A",4])
sage: a4.m_cambrian_lattice((4,3,2,1))
...
ValueError: Not a lattice.
```



---

archive/issue_comments_258573.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n\n```\nValueError: Not a lattice.\n```\nHm, we cannot ignore this :-)",
    "created_at": "2015-11-03T13:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258573",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:31" align="right">comment:31</div>


```
ValueError: Not a lattice.
```
Hm, we cannot ignore this :-)



---

archive/issue_comments_258574.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nFred, as usual I either forget how to use git, or I never knew: Is there a way to merge 6.10.rc0 into this branch without me rebuilding all of sage?",
    "created_at": "2015-11-03T14:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258574",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:32" align="right">comment:32</div>

Fred, as usual I either forget how to use git, or I never knew: Is there a way to merge 6.10.rc0 into this branch without me rebuilding all of sage?



---

archive/issue_comments_258575.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\n0) I assume the name of the branch 6.10.beta2 is `develop`\n1) `git checkout develop -b my_new_branch`\n2) `git pull trac u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_`\n(please choose shorter and simpler names for your branches, by the way)\n3) `sage -b`\n\nThe trick is to always start over a copy of the develop branch (step 1) and pull\nyou old branch on that (step 2). Then the new branch created is just a few commits after develop,\nand so should not trigger large-scale re-compilation, if you have compiled the develop branch before.",
    "created_at": "2015-11-03T14:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258575",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">comment:33</div>

0) I assume the name of the branch 6.10.beta2 is `develop`
1) `git checkout develop -b my_new_branch`
2) `git pull trac u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_`
(please choose shorter and simpler names for your branches, by the way)
3) `sage -b`

The trick is to always start over a copy of the develop branch (step 1) and pull
you old branch on that (step 2). Then the new branch created is just a few commits after develop,
and so should not trigger large-scale re-compilation, if you have compiled the develop branch before.



---

archive/issue_comments_258576.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nAwesome, thanks!",
    "created_at": "2015-11-03T14:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258576",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:34" align="right">comment:34</div>

Awesome, thanks!



---

archive/issue_comments_258577.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nIt does work using `WeylGroup(['A',4])` instead. The poset even gives me 48 elts for `CoxeterGroups` rather than the expected 42. I cannot say whether that ever worked, or whether this is some sort of hashing issue... `@`Nathan, could you briefly check for computation issues that might come from left vs. right multiplications ?",
    "created_at": "2015-11-04T10:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258577",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:35" align="right">comment:35</div>

It does work using `WeylGroup(['A',4])` instead. The poset even gives me 48 elts for `CoxeterGroups` rather than the expected 42. I cannot say whether that ever worked, or whether this is some sort of hashing issue... `@`Nathan, could you briefly check for computation issues that might come from left vs. right multiplications ?



---

archive/issue_comments_258578.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOkay, the problem is that `cov_element = sorted(cov_element)` does not turn `cov_element` into some canonical form. So the same element can be found multiple times without recognizing.",
    "created_at": "2015-11-04T20:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258578",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:36" align="right">comment:36</div>

Okay, the problem is that `cov_element = sorted(cov_element)` does not turn `cov_element` into some canonical form. So the same element can be found multiple times without recognizing.



---

archive/issue_comments_258579.json:
```json
{
    "body": "Changed commit from **[`49aab49`](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)** to **[`de880b1`](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)**",
    "created_at": "2015-11-04T20:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258579",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`49aab49`](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)** to **[`de880b1`](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)**



---

archive/issue_comments_258580.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1561c6e468f60207888ad0cbfc718f204a41676c\"><code>1561c6e</code></a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' of git://trac.sagemath.org/sage into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d1ae9f0a1b9479a4acef00d0a778230cb7dcba0\"><code>8d1ae9f</code></a></td><td><code>trac #19514 better hash for UCF elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/126d9c124867199db9a6581dc32541832689ec73\"><code>126d9c1</code></a></td><td><code>Merge remote-tracking branch 'origin/u/chapoton/19514' into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13\"><code>de880b1</code></a></td><td><code>fixed a bug in cambrian lattice for Coxeter groups</code></td></tr></table>\n",
    "created_at": "2015-11-04T20:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258580",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1561c6e468f60207888ad0cbfc718f204a41676c"><code>1561c6e</code></a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' of git://trac.sagemath.org/sage into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d1ae9f0a1b9479a4acef00d0a778230cb7dcba0"><code>8d1ae9f</code></a></td><td><code>trac #19514 better hash for UCF elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/126d9c124867199db9a6581dc32541832689ec73"><code>126d9c1</code></a></td><td><code>Merge remote-tracking branch 'origin/u/chapoton/19514' into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13"><code>de880b1</code></a></td><td><code>fixed a bug in cambrian lattice for Coxeter groups</code></td></tr></table>




---

archive/issue_comments_258581.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI hope to have fixed it -- please have a look, Nathan. The two main changes are: we are now using `sets` so that containment test is faster, and we use `frozensets` for inversion sets. This way we bypass the problem to have somehow sorted lists. This is cleaner and faster anyway...\n\nFred, could you do some tests to see whether you can confirm this bug to be fixed?",
    "created_at": "2015-11-04T20:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258581",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:38" align="right">comment:38</div>

I hope to have fixed it -- please have a look, Nathan. The two main changes are: we are now using `sets` so that containment test is faster, and we use `frozensets` for inversion sets. This way we bypass the problem to have somehow sorted lists. This is cleaner and faster anyway...

Fred, could you do some tests to see whether you can confirm this bug to be fixed?



---

archive/issue_comments_258582.json:
```json
{
    "body": "Changed branch from **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)** to **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)**",
    "created_at": "2015-11-06T13:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258582",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)** to **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)**



---

archive/issue_comments_258583.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nok, this looks good to me. \n\nHere is a new branch (on top of 6.10.beta3) where\n\nI have made small changes to the doc, mainly formatting\n\nand also a few changes to the code, for greater clarity.\n\nIf you agree with these changes, you can set to positive review on my behalf.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6119da57dd27e575b6a87a3e81f8cb020938748d\"><code>6119da5</code></a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' into 6.10.b3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d\"><code>0d0164c</code></a></td><td><code>trac #18597 doc and code cleanup</code></td></tr></table>\n",
    "created_at": "2015-11-06T13:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258583",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

ok, this looks good to me. 

Here is a new branch (on top of 6.10.beta3) where

I have made small changes to the doc, mainly formatting

and also a few changes to the code, for greater clarity.

If you agree with these changes, you can set to positive review on my behalf.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6119da57dd27e575b6a87a3e81f8cb020938748d"><code>6119da5</code></a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' into 6.10.b3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d"><code>0d0164c</code></a></td><td><code>trac #18597 doc and code cleanup</code></td></tr></table>




---

archive/issue_comments_258584.json:
```json
{
    "body": "Changed commit from **[`de880b1`](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)** to **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**",
    "created_at": "2015-11-06T13:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258584",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`de880b1`](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)** to **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**



---

archive/issue_comments_258585.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nokay, looks good to me, waiting for the patchbot before setting it to positive.",
    "created_at": "2015-11-06T14:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258585",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:40" align="right">comment:40</div>

okay, looks good to me, waiting for the patchbot before setting it to positive.



---

archive/issue_comments_258586.json:
```json
{
    "body": "Changed reviewer from **Christian Stump** to **Christian Stump, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2015-11-06T15:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258586",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Christian Stump** to **Christian Stump, Frédéric Chapoton**



---

archive/issue_events_261973.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-06T15:30:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261973"
}
```



---

archive/issue_events_261974.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-06T15:30:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261974"
}
```



---

archive/issue_comments_258587.json:
```json
{
    "body": "Changed author from **Nathan Williams** to **Nathan Williams, Christian Stump**",
    "created_at": "2015-11-06T15:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258587",
    "user": "https://github.com/stumpc5"
}
```

Changed author from **Nathan Williams** to **Nathan Williams, Christian Stump**



---

archive/issue_events_261975.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-07T09:34:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261975"
}
```



---

archive/issue_events_261976.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fdfcffd294fadd4135e1c238b63bdfd01637fb97",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-07T09:34:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-261976"
}
```



---

archive/issue_comments_258588.json:
```json
{
    "body": "Changed branch from **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)** to **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**",
    "created_at": "2015-11-07T09:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258588",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)** to **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**



---

archive/issue_comments_258589.json:
```json
{
    "body": "Changed commit from **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)** to none",
    "created_at": "2015-12-19T09:09:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-258589",
    "user": "https://github.com/stumpc5"
}
```

Changed commit from **[`0d0164c`](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)** to none
