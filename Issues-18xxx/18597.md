# Issue 18597: Implement m-Cambrian lattices (using delta sequences)

archive/issues_018360.json:
```json
{
    "assignees": [],
    "body": "Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n\nDepends on #19514\n\nCC:  @stumpc5 @VivianePons @kevindilks @tscrim\n\nKeywords: **sagedays64.5, catalan, coxeter, cambrian**\n\nBranch: **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**\n\nReviewer: **Christian Stump, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Nathan Williams, Christian Stump**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/18597_\n\n",
    "closed_at": "2015-11-07T09:34:20Z",
    "created_at": "2015-06-02T23:23:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement m-Cambrian lattices (using delta sequences)",
    "type": "issue",
    "updated_at": "2015-12-19T12:05:30Z",
    "url": "https://github.com/sagemath/sage/issues/18597",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```
Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.

Depends on #19514

CC:  @stumpc5 @VivianePons @kevindilks @tscrim

Keywords: **sagedays64.5, catalan, coxeter, cambrian**

Branch: **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**

Reviewer: **Christian Stump, Frédéric Chapoton**

Author: **Nathan Williams, Christian Stump**

_Issue created by migration from https://trac.sagemath.org/ticket/18597_





---

archive/issue_events_246613.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246613"
}
```



---

archive/issue_events_246614.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246614"
}
```



---

archive/issue_events_246615.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246615"
}
```



---

archive/issue_events_246616.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-02T23:23:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246616"
}
```



---

archive/issue_comments_261134.json:
```json
{
    "body": "Dependencies: **#18590**",
    "created_at": "2015-06-02T23:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261134",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Dependencies: **#18590**



---

archive/issue_comments_261135.json:
```json
{
    "body": "Branch: **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)**",
    "created_at": "2015-06-04T16:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261135",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Branch: **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)**



---

archive/issue_comments_261136.json:
```json
{
    "body": "Commit: **[1878996](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)**",
    "created_at": "2015-06-04T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261136",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Commit: **[1878996](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)**



---

archive/issue_comments_261137.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deea7d9a79758f87cb2a87390e7eb5387d2c6112\">deea7d9</a></td><td><code>add support for sorting words</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40cf52b378a65230514a0b2192f26ccf58ea712a\">40cf52b</a></td><td><code>add rank function and documentation on coxeter sorting words in coxeter_groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1d24a608ff799549a357239614623baf00dc47a\">d1d24a6</a></td><td><code>fix bug documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1db90cb346dfafac5f6e512ecdb956862828aef\">d1db90c</a></td><td><code>Some small doc formating fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70315c85d0360b02eff867f1b0f840fb582ed957\">70315c8</a></td><td><code>fix bug is_sortable_element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b47229c032f62e73bf2429304c1118b3618f834\">6b47229</a></td><td><code>Small formating fixes (adding outputs, fixing doc indent)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f\">1878996</a></td><td><code>work in progress: new implementations are presumably correct, but existing bug discovered</code></td></tr></table>\n",
    "created_at": "2015-06-04T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261137",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

<div id="comment:3" align="right">Comment 3</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deea7d9a79758f87cb2a87390e7eb5387d2c6112">deea7d9</a></td><td><code>add support for sorting words</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40cf52b378a65230514a0b2192f26ccf58ea712a">40cf52b</a></td><td><code>add rank function and documentation on coxeter sorting words in coxeter_groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1d24a608ff799549a357239614623baf00dc47a">d1d24a6</a></td><td><code>fix bug documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1db90cb346dfafac5f6e512ecdb956862828aef">d1db90c</a></td><td><code>Some small doc formating fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70315c85d0360b02eff867f1b0f840fb582ed957">70315c8</a></td><td><code>fix bug is_sortable_element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b47229c032f62e73bf2429304c1118b3618f834">6b47229</a></td><td><code>Small formating fixes (adding outputs, fixing doc indent)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f">1878996</a></td><td><code>work in progress: new implementations are presumably correct, but existing bug discovered</code></td></tr></table>




---

archive/issue_comments_261138.json:
```json
{
    "body": "Changed dependencies from **#18590** to **#18590,#18610**",
    "created_at": "2015-06-04T20:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261138",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Changed dependencies from **#18590** to **#18590,#18610**



---

archive/issue_comments_261139.json:
```json
{
    "body": "Changed commit from **[1878996](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)** to **[c37a5ef](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)**",
    "created_at": "2015-06-04T22:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261139",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1878996](https://github.com/sagemath/sagetrac-mirror/commit/1878996de32be22026a41c87c12e2df1ef75091f)** to **[c37a5ef](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)**



---

archive/issue_comments_261140.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5716df5284bdaafb3624dd2d0739cf581a59a77a\">5716df5</a></td><td><code>Fixed according to Travis's suggestions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4404133e8c294da9b2ca49339aa06d7f6b2348b2\">4404133</a></td><td><code>Fixed according to Travis's suggestions, and now actually running I think</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fe1bb853913ea62a065bf5b53fa460928354815\">8fe1bb8</a></td><td><code>Tab fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6dcb8b910ec2434eaf88dfd4264b0aac4ca0a28\">a6dcb8b</a></td><td><code>merged with now-resolved conflicts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165\">c37a5ef</a></td><td><code>things appear to work in the sense that all tests have passed.</code></td></tr></table>\n",
    "created_at": "2015-06-04T22:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261140",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5716df5284bdaafb3624dd2d0739cf581a59a77a">5716df5</a></td><td><code>Fixed according to Travis's suggestions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4404133e8c294da9b2ca49339aa06d7f6b2348b2">4404133</a></td><td><code>Fixed according to Travis's suggestions, and now actually running I think</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fe1bb853913ea62a065bf5b53fa460928354815">8fe1bb8</a></td><td><code>Tab fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6dcb8b910ec2434eaf88dfd4264b0aac4ca0a28">a6dcb8b</a></td><td><code>merged with now-resolved conflicts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165">c37a5ef</a></td><td><code>things appear to work in the sense that all tests have passed.</code></td></tr></table>




---

archive/issue_events_246617.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-04T22:48:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246617"
}
```



---

archive/issue_comments_261141.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nYou should not introduce all these trailing whitespaces.\n\nSee what the diff looks like when clicking on the branch name on top of this page.",
    "created_at": "2015-06-05T07:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261141",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">Comment 6</div>

You should not introduce all these trailing whitespaces.

See what the diff looks like when clicking on the branch name on top of this page.



---

archive/issue_events_246618.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-05T07:44:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246618"
}
```



---

archive/issue_events_246619.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-05T07:44:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246619"
}
```



---

archive/issue_comments_261142.json:
```json
{
    "body": "Changed commit from **[c37a5ef](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)** to **[1862325](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)**",
    "created_at": "2015-06-05T15:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261142",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c37a5ef](https://github.com/sagemath/sagetrac-mirror/commit/c37a5efb5841aa5e9ce49d1df02201fa29910165)** to **[1862325](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)**



---

archive/issue_comments_261143.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c\">1862325</a></td><td><code>removed trailing whitespace.</code></td></tr></table>\n",
    "created_at": "2015-06-05T15:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261143",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c">1862325</a></td><td><code>removed trailing whitespace.</code></td></tr></table>




---

archive/issue_comments_261144.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nHello, nice idea to implement these posets.\n\nThe doc of a function must start with a single line looking like\n\n```\nReturn the c-Cambrian lattice on delta sequences.\n```\nthen a blank line, then more explanations, and then\n\n```\nINPUT:\n```\netc",
    "created_at": "2015-06-05T15:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261144",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">Comment 8</div>

Hello, nice idea to implement these posets.

The doc of a function must start with a single line looking like

```
Return the c-Cambrian lattice on delta sequences.
```
then a blank line, then more explanations, and then

```
INPUT:
```
etc



---

archive/issue_comments_261145.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@fchapoton](#comment%3A8):\n> Hello, nice idea to implement these posets.\n> \n> The doc of a function must start with a single line looking like\n> \n> ```\n> Return the c-Cambrian lattice on delta sequences.\n> ```\n> then a blank line, then more explanations, and then\n> \n> ```\n> INPUT:\n> ```\n> etc\n\nThank you for the clarification.  I will change the order of the documentation in the functions I have implemented.  Note that some previously existing documentation uses a different order (for example, `weak_poset` in `finite_coxeter_groups.py`).",
    "created_at": "2015-06-05T16:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261145",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@fchapoton](#comment%3A8):
> Hello, nice idea to implement these posets.
> 
> The doc of a function must start with a single line looking like
> 
> ```
> Return the c-Cambrian lattice on delta sequences.
> ```
> then a blank line, then more explanations, and then
> 
> ```
> INPUT:
> ```
> etc

Thank you for the clarification.  I will change the order of the documentation in the functions I have implemented.  Note that some previously existing documentation uses a different order (for example, `weak_poset` in `finite_coxeter_groups.py`).



---

archive/issue_comments_261146.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28\">1f29ae6</a></td><td><code>reordered documentation, as requested by chapoton</code></td></tr></table>\n",
    "created_at": "2015-06-05T16:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261146",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28">1f29ae6</a></td><td><code>reordered documentation, as requested by chapoton</code></td></tr></table>




---

archive/issue_comments_261147.json:
```json
{
    "body": "Changed commit from **[1862325](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)** to **[1f29ae6](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)**",
    "created_at": "2015-06-05T16:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261147",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1862325](https://github.com/sagemath/sagetrac-mirror/commit/1862325350cb6ac88f1033c53e4915428a74698c)** to **[1f29ae6](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)**



---

archive/issue_comments_261148.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.\n+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n``````\n",
    "created_at": "2015-06-05T16:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261148",
    "user": "https://github.com/sagetrac-nathanwilliams"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.
+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.
``````




---

archive/issue_events_246620.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-05T16:17:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246620"
}
```



---

archive/issue_events_246621.json:
```json
{
    "actor": "https://github.com/sagetrac-nathanwilliams",
    "created_at": "2015-06-05T16:17:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246621"
}
```



---

archive/issue_comments_261149.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nHi Nathan --\n\nwould you please check what of `src/sage/categories/coxeter_groups.py` you really want in this ticket, you already have the dependency #18610.\n\nBtw that was your first contribution to `Sage` that made its way into main Sage -- congrats!\n\nBeside that, I will do the review today.",
    "created_at": "2015-06-07T11:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261149",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:13" align="right">Comment 13</div>

Hi Nathan --

would you please check what of `src/sage/categories/coxeter_groups.py` you really want in this ticket, you already have the dependency #18610.

Btw that was your first contribution to `Sage` that made its way into main Sage -- congrats!

Beside that, I will do the review today.



---

archive/issue_comments_261150.json:
```json
{
    "body": "Reviewer: **Christian Stump**",
    "created_at": "2015-06-07T11:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261150",
    "user": "https://github.com/stumpc5"
}
```

Reviewer: **Christian Stump**



---

archive/issue_comments_261151.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\ncorrect syntax for arxiv links is\n\n```\n:arxiv:`1503.00710`\n```",
    "created_at": "2015-06-07T19:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261151",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">Comment 14</div>

correct syntax for arxiv links is

```
:arxiv:`1503.00710`
```



---

archive/issue_comments_261152.json:
```json
{
    "body": "Changed branch from **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)** to **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)**",
    "created_at": "2015-06-08T09:47:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261152",
    "user": "https://github.com/stumpc5"
}
```

Changed branch from **[u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/nathanwilliams/implement_m_cambrian_lattices__using_delta_sequences_)** to **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)**



---

archive/issue_comments_261153.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729\">ab4999f</a></td><td><code>more intelligent fix a la stump</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f3380543320f0ad4e612a781f1bc9cc099bc558\">8f33805</a></td><td><code>Merge branch 't/18610/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729' into t/18597/implement_m_cambrian_lattices__using_delta_sequences_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2020f582c67e346ca9e2c33e94edfeade04472c5\">2020f58</a></td><td><code>merged #18590</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80\">a774063</a></td><td><code>moved the two version of cambrian lattice both into finite_coxeter_groups.py</code></td></tr></table>\n",
    "created_at": "2015-06-08T10:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261153",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729">ab4999f</a></td><td><code>more intelligent fix a la stump</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f3380543320f0ad4e612a781f1bc9cc099bc558">8f33805</a></td><td><code>Merge branch 't/18610/ab4999f27f1e84c2659c544ccc1b5ee3afe7b729' into t/18597/implement_m_cambrian_lattices__using_delta_sequences_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2020f582c67e346ca9e2c33e94edfeade04472c5">2020f58</a></td><td><code>merged #18590</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80">a774063</a></td><td><code>moved the two version of cambrian lattice both into finite_coxeter_groups.py</code></td></tr></table>




---

archive/issue_comments_261154.json:
```json
{
    "body": "Changed commit from **[1f29ae6](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)** to **[a774063](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)**",
    "created_at": "2015-06-08T10:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1f29ae6](https://github.com/sagemath/sagetrac-mirror/commit/1f29ae63a00bfb86c3fdd152a1f4bf98fccf4e28)** to **[a774063](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)**



---

archive/issue_comments_261155.json:
```json
{
    "body": "Changed commit from **[a774063](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)** to **[49aab49](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)**",
    "created_at": "2015-06-08T10:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261155",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a774063](https://github.com/sagemath/sagetrac-mirror/commit/a77406367fd4d671ced241e1d6866ca786332c80)** to **[49aab49](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)**



---

archive/issue_comments_261156.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5\">49aab49</a></td><td><code>fixed the docstring</code></td></tr></table>\n",
    "created_at": "2015-06-08T10:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261156",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5">49aab49</a></td><td><code>fixed the docstring</code></td></tr></table>




---

archive/issue_comments_261157.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nLeft to do:\n\n* recheck that the merge of the two methods worked out (i.e., `@`Nathan please recheck that I did everything right when deleting the cambrian stuff from weyl groups and moved it into coxeter groups\n\n* consider a more intelligent way of accessing roots and their methods from the coxeter groups category. At the moment, Weyl groups have an ElementMethod `reflection_to_root`. I think this should be moved into the parent as this method is only available for reflections, see also #18634 and #18635.\n\n* provide a preprocessing to turn lists into tuples, otherwise, most users will see the error\n\n```\nsage: W = WeylGroup(['A',2])\nsage: W.cambrian_lattice([1,2])\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: unhashable type: 'list'\n```",
    "created_at": "2015-06-08T11:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261157",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:18" align="right">Comment 18</div>

Left to do:

* recheck that the merge of the two methods worked out (i.e., `@`Nathan please recheck that I did everything right when deleting the cambrian stuff from weyl groups and moved it into coxeter groups

* consider a more intelligent way of accessing roots and their methods from the coxeter groups category. At the moment, Weyl groups have an ElementMethod `reflection_to_root`. I think this should be moved into the parent as this method is only available for reflections, see also #18634 and #18635.

* provide a preprocessing to turn lists into tuples, otherwise, most users will see the error

```
sage: W = WeylGroup(['A',2])
sage: W.cambrian_lattice([1,2])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: unhashable type: 'list'
```



---

archive/issue_comments_261158.json:
```json
{
    "body": "Changed dependencies from **#18590,#18610** to **#18590,#18610,#11187**",
    "created_at": "2015-06-10T19:15:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261158",
    "user": "https://github.com/stumpc5"
}
```

Changed dependencies from **#18590,#18610** to **#18590,#18610,#11187**



---

archive/issue_comments_261159.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.\n``````\n",
    "created_at": "2015-11-01T17:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261159",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in arXiv:1503.00710 on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.
+Implement m-Cambrian lattices for a finite Coxeter group W and a Coxeter element c using the description in :arxiv:`1503.00710` on D. Armstrong's delta sequences.  Give a similar (faster) implementation on roots for Weyl groups.
``````




---

archive/issue_comments_261160.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nChristian, maybe we could get rid of the dependency to #11187 ?\n\nThere is currently a problem with the `Twords` dictionary, because its keys are essentially in \n\n`Full MatrixSpace of 2 by 2 sparse matrices over Universal Cyclotomic Field`\n\nbut it is evaluated on some elements\n\n`Full MatrixSpace of 2 by 2 dense matrices over Universal Cyclotomic Field`\n\nTravis, may I ask for your help ?",
    "created_at": "2015-11-01T17:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261160",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:20" align="right">Comment 20</div>

Christian, maybe we could get rid of the dependency to #11187 ?

There is currently a problem with the `Twords` dictionary, because its keys are essentially in 

`Full MatrixSpace of 2 by 2 sparse matrices over Universal Cyclotomic Field`

but it is evaluated on some elements

`Full MatrixSpace of 2 by 2 dense matrices over Universal Cyclotomic Field`

Travis, may I ask for your help ?



---

archive/issue_comments_261161.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI would think it shouldn't matter for dense versus sparse matrices other than some output, internal storage, and/or speed:\n\n```\nsage: M = matrix(QQ, [[1,2],[0,1]], sparse=True)\nsage: M2 = matrix(QQ, [[1,2],[0,1]], sparse=False)\nsage: M.set_immutable()\nsage: M2.set_immutable()\nsage: M == M2\nTrue\nsage: hash(M) == hash(M2)\nTrue\n```\nWhat exactly are the issues you get? I'd guess that the reasons for some of the differences come from some of the matrices that get generated...",
    "created_at": "2015-11-01T17:46:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261161",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">Comment 21</div>

I would think it shouldn't matter for dense versus sparse matrices other than some output, internal storage, and/or speed:

```
sage: M = matrix(QQ, [[1,2],[0,1]], sparse=True)
sage: M2 = matrix(QQ, [[1,2],[0,1]], sparse=False)
sage: M.set_immutable()
sage: M2.set_immutable()
sage: M == M2
True
sage: hash(M) == hash(M2)
True
```
What exactly are the issues you get? I'd guess that the reasons for some of the differences come from some of the matrices that get generated...



---

archive/issue_comments_261162.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nWell, some (but not all) matrices (in fact matrix group elements) are not recognized as keys, even if they are == to one of the keys of the dict Twords. The hash do not match, so I thought it was because of the sparse versus dense, but maybe it comes from somewhere else..",
    "created_at": "2015-11-01T18:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261162",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">Comment 22</div>

Well, some (but not all) matrices (in fact matrix group elements) are not recognized as keys, even if they are == to one of the keys of the dict Twords. The hash do not match, so I thought it was because of the sparse versus dense, but maybe it comes from somewhere else..



---

archive/issue_comments_261163.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nHere is the problem (sitting on this branch):\n\n```\nsage: a2=CoxeterGroup([\"A\",2])\nsage: [hash(u) for u in a2.simple_reflections()]\n[-6264216653212800886, 172961895888939822]\nsage: [hash(u) for u in a2.reflections_from_w0()]\n[-6264216653212800886, 6091272663176086308, 172961895888939822]\nsage: [hash(u) for u in a2.inversion_sequence([1,2,1])]\n[-3594435451552999106, -3594435451546834518, 3594435451550176244]\nsage: [u for u in a2.inversion_sequence([1,2,1])]\n[\n[-1  1]  [ 0 -1]  [ 1  0]\n[ 0  1], [-1  0], [ 1 -1]\n]\nsage: [u for u in a2.reflections_from_w0()]\n[\n[-1  1]  [ 0 -1]  [ 1  0]\n[ 0  1], [-1  0], [ 1 -1]\n]\nsage: a2.reflections_from_w0()==a2.inversion_sequence([1,2,1])\nTrue\n```",
    "created_at": "2015-11-02T16:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261163",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">Comment 23</div>

Here is the problem (sitting on this branch):

```
sage: a2=CoxeterGroup(["A",2])
sage: [hash(u) for u in a2.simple_reflections()]
[-6264216653212800886, 172961895888939822]
sage: [hash(u) for u in a2.reflections_from_w0()]
[-6264216653212800886, 6091272663176086308, 172961895888939822]
sage: [hash(u) for u in a2.inversion_sequence([1,2,1])]
[-3594435451552999106, -3594435451546834518, 3594435451550176244]
sage: [u for u in a2.inversion_sequence([1,2,1])]
[
[-1  1]  [ 0 -1]  [ 1  0]
[ 0  1], [-1  0], [ 1 -1]
]
sage: [u for u in a2.reflections_from_w0()]
[
[-1  1]  [ 0 -1]  [ 1  0]
[ 0  1], [-1  0], [ 1 -1]
]
sage: a2.reflections_from_w0()==a2.inversion_sequence([1,2,1])
True
```



---

archive/issue_comments_261164.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nHere is the core of the problem:\n\n```\nsage: m0=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=True)\nsage: m1=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=False)\nsage: m0.set_immutable()\nsage: m1.set_immutable()\nsage: hash(m0)\n6264216653211852203\nsage: hash(m1)\n3594435451553950751\nsage: m0==m1\nTrue\n```\nNo problem when using ZZ or QQ instead of UCF though..",
    "created_at": "2015-11-03T10:29:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261164",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">Comment 24</div>

Here is the core of the problem:

```
sage: m0=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=True)
sage: m1=matrix(UniversalCyclotomicField(),2,2,[-1,-1,0,1],sparse=False)
sage: m0.set_immutable()
sage: m1.set_immutable()
sage: hash(m0)
6264216653211852203
sage: hash(m1)
3594435451553950751
sage: m0==m1
True
```
No problem when using ZZ or QQ instead of UCF though..



---

archive/issue_comments_261165.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nMaybe due to that difference ?\n\n```\nsage: hash(UniversalCyclotomicField()(0))\n3713081631936575706\nsage: hash(ZZ(0))\n0\nsage: hash(QQ(0))\n0\n```",
    "created_at": "2015-11-03T10:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261165",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">Comment 25</div>

Maybe due to that difference ?

```
sage: hash(UniversalCyclotomicField()(0))
3713081631936575706
sage: hash(ZZ(0))
0
sage: hash(QQ(0))
0
```



---

archive/issue_comments_261166.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nI made #19514, but I have not yet checked if that solves the issue here.",
    "created_at": "2015-11-03T11:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261166",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">Comment 26</div>

I made #19514, but I have not yet checked if that solves the issue here.



---

archive/issue_comments_261167.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nIt seems to work.",
    "created_at": "2015-11-03T11:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261167",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">Comment 27</div>

It seems to work.



---

archive/issue_comments_261168.json:
```json
{
    "body": "Changed dependencies from **#18590,#18610,#11187** to **#18590,#18610,#19514**",
    "created_at": "2015-11-03T11:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261168",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#18590,#18610,#11187** to **#18590,#18610,#19514**



---

archive/issue_events_246622.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-03T11:15:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246622"
}
```



---

archive/issue_events_246623.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-03T11:15:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246623"
}
```



---

archive/issue_comments_261169.json:
```json
{
    "body": "Changed dependencies from **#18590,#18610,#19514** to **#19514**",
    "created_at": "2015-11-03T11:15:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261169",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#18590,#18610,#19514** to **#19514**



---

archive/issue_comments_261170.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nNow complains about lattice property:\n\n```\nsage: a4=CoxeterGroup([\"A\",4])\nsage: a4.m_cambrian_lattice((4,3,2,1))\n...\nValueError: Not a lattice.\n```",
    "created_at": "2015-11-03T11:19:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261170",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">Comment 30</div>

Now complains about lattice property:

```
sage: a4=CoxeterGroup(["A",4])
sage: a4.m_cambrian_lattice((4,3,2,1))
...
ValueError: Not a lattice.
```



---

archive/issue_comments_261171.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\n\n```\nValueError: Not a lattice.\n```\nHm, we cannot ignore this :-)",
    "created_at": "2015-11-03T13:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261171",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:31" align="right">Comment 31</div>


```
ValueError: Not a lattice.
```
Hm, we cannot ignore this :-)



---

archive/issue_comments_261172.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nFred, as usual I either forget how to use git, or I never knew: Is there a way to merge 6.10.rc0 into this branch without me rebuilding all of sage?",
    "created_at": "2015-11-03T14:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261172",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:32" align="right">Comment 32</div>

Fred, as usual I either forget how to use git, or I never knew: Is there a way to merge 6.10.rc0 into this branch without me rebuilding all of sage?



---

archive/issue_comments_261173.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\n0) I assume the name of the branch 6.10.beta2 is `develop`\n1) `git checkout develop -b my_new_branch`\n2) `git pull trac u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_`\n(please choose shorter and simpler names for your branches, by the way)\n3) `sage -b`\n\nThe trick is to always start over a copy of the develop branch (step 1) and pull\nyou old branch on that (step 2). Then the new branch created is just a few commits after develop,\nand so should not trigger large-scale re-compilation, if you have compiled the develop branch before.",
    "created_at": "2015-11-03T14:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261173",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">Comment 33</div>

0) I assume the name of the branch 6.10.beta2 is `develop`
1) `git checkout develop -b my_new_branch`
2) `git pull trac u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_`
(please choose shorter and simpler names for your branches, by the way)
3) `sage -b`

The trick is to always start over a copy of the develop branch (step 1) and pull
you old branch on that (step 2). Then the new branch created is just a few commits after develop,
and so should not trigger large-scale re-compilation, if you have compiled the develop branch before.



---

archive/issue_comments_261174.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nAwesome, thanks!",
    "created_at": "2015-11-03T14:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261174",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:34" align="right">Comment 34</div>

Awesome, thanks!



---

archive/issue_comments_261175.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nIt does work using `WeylGroup(['A',4])` instead. The poset even gives me 48 elts for `CoxeterGroups` rather than the expected 42. I cannot say whether that ever worked, or whether this is some sort of hashing issue... `@`Nathan, could you briefly check for computation issues that might come from left vs. right multiplications ?",
    "created_at": "2015-11-04T10:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261175",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:35" align="right">Comment 35</div>

It does work using `WeylGroup(['A',4])` instead. The poset even gives me 48 elts for `CoxeterGroups` rather than the expected 42. I cannot say whether that ever worked, or whether this is some sort of hashing issue... `@`Nathan, could you briefly check for computation issues that might come from left vs. right multiplications ?



---

archive/issue_comments_261176.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nOkay, the problem is that `cov_element = sorted(cov_element)` does not turn `cov_element` into some canonical form. So the same element can be found multiple times without recognizing.",
    "created_at": "2015-11-04T20:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261176",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:36" align="right">Comment 36</div>

Okay, the problem is that `cov_element = sorted(cov_element)` does not turn `cov_element` into some canonical form. So the same element can be found multiple times without recognizing.



---

archive/issue_comments_261177.json:
```json
{
    "body": "Changed commit from **[49aab49](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)** to **[de880b1](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)**",
    "created_at": "2015-11-04T20:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261177",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[49aab49](https://github.com/sagemath/sagetrac-mirror/commit/49aab49c1afb45314bc444114c8385bc557d5ab5)** to **[de880b1](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)**



---

archive/issue_comments_261178.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1561c6e468f60207888ad0cbfc718f204a41676c\">1561c6e</a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' of git://trac.sagemath.org/sage into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d1ae9f0a1b9479a4acef00d0a778230cb7dcba0\">8d1ae9f</a></td><td><code>trac #19514 better hash for UCF elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/126d9c124867199db9a6581dc32541832689ec73\">126d9c1</a></td><td><code>Merge remote-tracking branch 'origin/u/chapoton/19514' into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13\">de880b1</a></td><td><code>fixed a bug in cambrian lattice for Coxeter groups</code></td></tr></table>\n",
    "created_at": "2015-11-04T20:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261178",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37" align="right">Comment 37</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1561c6e468f60207888ad0cbfc718f204a41676c">1561c6e</a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' of git://trac.sagemath.org/sage into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d1ae9f0a1b9479a4acef00d0a778230cb7dcba0">8d1ae9f</a></td><td><code>trac #19514 better hash for UCF elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/126d9c124867199db9a6581dc32541832689ec73">126d9c1</a></td><td><code>Merge remote-tracking branch 'origin/u/chapoton/19514' into t/18597/m_cambrian_lattices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13">de880b1</a></td><td><code>fixed a bug in cambrian lattice for Coxeter groups</code></td></tr></table>




---

archive/issue_comments_261179.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nI hope to have fixed it -- please have a look, Nathan. The two main changes are: we are now using `sets` so that containment test is faster, and we use `frozensets` for inversion sets. This way we bypass the problem to have somehow sorted lists. This is cleaner and faster anyway...\n\nFred, could you do some tests to see whether you can confirm this bug to be fixed?",
    "created_at": "2015-11-04T20:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261179",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:38" align="right">Comment 38</div>

I hope to have fixed it -- please have a look, Nathan. The two main changes are: we are now using `sets` so that containment test is faster, and we use `frozensets` for inversion sets. This way we bypass the problem to have somehow sorted lists. This is cleaner and faster anyway...

Fred, could you do some tests to see whether you can confirm this bug to be fixed?



---

archive/issue_comments_261180.json:
```json
{
    "body": "Changed branch from **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)** to **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)**",
    "created_at": "2015-11-06T13:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261180",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_)** to **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)**



---

archive/issue_comments_261181.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nok, this looks good to me. \n\nHere is a new branch (on top of 6.10.beta3) where\n\nI have made small changes to the doc, mainly formatting\n\nand also a few changes to the code, for greater clarity.\n\nIf you agree with these changes, you can set to positive review on my behalf.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6119da57dd27e575b6a87a3e81f8cb020938748d\">6119da5</a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' into 6.10.b3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d\">0d0164c</a></td><td><code>trac #18597 doc and code cleanup</code></td></tr></table>\n",
    "created_at": "2015-11-06T13:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261181",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">Comment 39</div>

ok, this looks good to me. 

Here is a new branch (on top of 6.10.beta3) where

I have made small changes to the doc, mainly formatting

and also a few changes to the code, for greater clarity.

If you agree with these changes, you can set to positive review on my behalf.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6119da57dd27e575b6a87a3e81f8cb020938748d">6119da5</a></td><td><code>Merge branch 'u/stumpc5/implement_m_cambrian_lattices__using_delta_sequences_' into 6.10.b3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d">0d0164c</a></td><td><code>trac #18597 doc and code cleanup</code></td></tr></table>




---

archive/issue_comments_261182.json:
```json
{
    "body": "Changed commit from **[de880b1](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)** to **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**",
    "created_at": "2015-11-06T13:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261182",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[de880b1](https://github.com/sagemath/sagetrac-mirror/commit/de880b190506bb556332b2092f675f49b129ca13)** to **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**



---

archive/issue_comments_261183.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nokay, looks good to me, waiting for the patchbot before setting it to positive.",
    "created_at": "2015-11-06T14:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261183",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:40" align="right">Comment 40</div>

okay, looks good to me, waiting for the patchbot before setting it to positive.



---

archive/issue_comments_261184.json:
```json
{
    "body": "Changed reviewer from **Christian Stump** to **Christian Stump, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2015-11-06T15:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261184",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Christian Stump** to **Christian Stump, Frédéric Chapoton**



---

archive/issue_events_246624.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-06T15:30:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246624"
}
```



---

archive/issue_events_246625.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-11-06T15:30:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246625"
}
```



---

archive/issue_comments_261185.json:
```json
{
    "body": "Changed author from **Nathan Williams** to **Nathan Williams, Christian Stump**",
    "created_at": "2015-11-06T15:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261185",
    "user": "https://github.com/stumpc5"
}
```

Changed author from **Nathan Williams** to **Nathan Williams, Christian Stump**



---

archive/issue_events_246626.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-07T09:34:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246626"
}
```



---

archive/issue_events_246627.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fdfcffd294fadd4135e1c238b63bdfd01637fb97",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-11-07T09:34:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/18597#event-246627"
}
```



---

archive/issue_comments_261186.json:
```json
{
    "body": "Changed branch from **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)** to **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**",
    "created_at": "2015-11-07T09:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261186",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/18597](https://github.com/sagemath/sagetrac-mirror/tree/public/18597)** to **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)**



---

archive/issue_comments_261187.json:
```json
{
    "body": "Changed commit from **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)** to none",
    "created_at": "2015-12-19T09:09:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/18597",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/18597#issuecomment-261187",
    "user": "https://github.com/stumpc5"
}
```

Changed commit from **[0d0164c](https://github.com/sagemath/sagetrac-mirror/commit/0d0164cb64631a1f192cb886c2bde878d090e20d)** to none
