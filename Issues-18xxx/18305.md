# Issue 18305: Element comparison for Python classes

archive/issues_018068.json:
```json
{
    "body": "In #17890 the comparison of elements (i.e. `Element.__cmp__`) and rich comparison of elements (i.e. `Element.__richcmp__`) have been simplified. \n\n1 .If coercion has to be involved then the Python elements should implement:\n- `_richcmp_(left, right, op)` for rich comparisons (i.e. operators `<`, `<=`, `==`, `!=`, `>=` and `>=`)\n- `_cmp_(left, right)` for comparisons (i.e. when calling `cmp(x,y)`)\n  In these two methods, it can be assumed that both arguments `left` and `right` are subclasses of `Element` with the same parent. If `_cmp_` makes sense it is possible to implement it only. If an element wants to implement `==` and `!=` only, then it should just raise a `NotImplementedError` for other operators in `_richcmp_(left,right,op)`.\n\n2 . If comparison needs to not avoid coercion, then:\n- rich comparison is possible through `__eq__`, `__ne__`, `__lt__`, etc (and all of these should be implemented)\n- comparison is possible via `__cmp__`\n\nWith the current branch:\n- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE`, `op_GT` in `sage.structure.sage_object`\n- six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)\n\nPotentially to discuss:\n- decide what should we do with respect to `x < y` when this makes no sense (some elements do raise a `TypeError`)\n- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion\n\n**CC:**  @jdemeyer jpflori\n\n**Branch/Commit:** [0ee1f3a96c0db1834efe22def0c2556b9e83355b](https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b)\n\n**Reviewer:** Jeroen Demeyer\n\n**Author:** Vincent Delecroix\n\nIssue created by migration from https://trac.sagemath.org/ticket/18305\n\n",
    "closed_at": "2015-09-18T13:03:22Z",
    "created_at": "2015-04-26T19:11:18Z",
    "labels": [
        "component: coercion",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Element comparison for Python classes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18305",
    "user": "https://github.com/videlec"
}
```
In #17890 the comparison of elements (i.e. `Element.__cmp__`) and rich comparison of elements (i.e. `Element.__richcmp__`) have been simplified. 

1 .If coercion has to be involved then the Python elements should implement:
- `_richcmp_(left, right, op)` for rich comparisons (i.e. operators `<`, `<=`, `==`, `!=`, `>=` and `>=`)
- `_cmp_(left, right)` for comparisons (i.e. when calling `cmp(x,y)`)
  In these two methods, it can be assumed that both arguments `left` and `right` are subclasses of `Element` with the same parent. If `_cmp_` makes sense it is possible to implement it only. If an element wants to implement `==` and `!=` only, then it should just raise a `NotImplementedError` for other operators in `_richcmp_(left,right,op)`.

2 . If comparison needs to not avoid coercion, then:
- rich comparison is possible through `__eq__`, `__ne__`, `__lt__`, etc (and all of these should be implemented)
- comparison is possible via `__cmp__`

With the current branch:
- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE`, `op_GT` in `sage.structure.sage_object`
- six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)

Potentially to discuss:
- decide what should we do with respect to `x < y` when this makes no sense (some elements do raise a `TypeError`)
- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion

**CC:**  @jdemeyer jpflori

**Branch/Commit:** [0ee1f3a96c0db1834efe22def0c2556b9e83355b](https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b)

**Reviewer:** Jeroen Demeyer

**Author:** Vincent Delecroix

Issue created by migration from https://trac.sagemath.org/ticket/18305





---

archive/issue_comments_255513.json:
```json
{
    "body": "<a id='comment:1'></a>\nI think in general, rich comparisons (both Cython's `__richcmp__` and Python's `__eq__` and friends) should be discouraged in favour of `_cmp_`, because the latter needs coercion only once. Only for more complicated types where rich comparisons cannot be implemented in terms of `__cmp__` (intervals for example) should rich comparisons be used.\n\nDo you agree?",
    "created_at": "2015-04-26T19:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255513",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>
I think in general, rich comparisons (both Cython's `__richcmp__` and Python's `__eq__` and friends) should be discouraged in favour of `_cmp_`, because the latter needs coercion only once. Only for more complicated types where rich comparisons cannot be implemented in terms of `__cmp__` (intervals for example) should rich comparisons be used.

Do you agree?



---

archive/issue_comments_255514.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [jdemeyer](#comment%3A1):\n> I think in general, rich comparisons (both Cython's `__richcmp__` and Python's `__eq__` and friends) should be discouraged in favour of `_cmp_`, because the latter needs coercion only once. Only for more complicated types where rich comparisons cannot be implemented in terms of `__cmp__` (intervals for example) should rich comparisons be used.\n> \n> Do you agree?\n\n\nPartly. I agree that if `_cmp_` is doable **and** cheap then it is preferable. But\n   - consider lists (or words or sequences), you have a cheap test to check whether they are different: comparing the length. So in that case, you might want to use it before comparing items one by one for getting the lexicographic ordering. \n   - there are elements where equality makes sense but not comparison. `_richcmp_` can handle that but not `_cmp_`. In such case I would implement `_richcmp_` and raise an error if the operator is not `Py_EQ` or `Py_NE`.\n\nAnd I am not sure that I understand why `_cmp_` needs less coercion than `_richcmp_`.",
    "created_at": "2015-04-26T19:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255514",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>
Replying to [jdemeyer](#comment%3A1):
> I think in general, rich comparisons (both Cython's `__richcmp__` and Python's `__eq__` and friends) should be discouraged in favour of `_cmp_`, because the latter needs coercion only once. Only for more complicated types where rich comparisons cannot be implemented in terms of `__cmp__` (intervals for example) should rich comparisons be used.
> 
> Do you agree?


Partly. I agree that if `_cmp_` is doable **and** cheap then it is preferable. But
   - consider lists (or words or sequences), you have a cheap test to check whether they are different: comparing the length. So in that case, you might want to use it before comparing items one by one for getting the lexicographic ordering. 
   - there are elements where equality makes sense but not comparison. `_richcmp_` can handle that but not `_cmp_`. In such case I would implement `_richcmp_` and raise an error if the operator is not `Py_EQ` or `Py_NE`.

And I am not sure that I understand why `_cmp_` needs less coercion than `_richcmp_`.



---

archive/issue_comments_255515.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,9 +1,17 @@\n-In #17890 the comparisons of elements (i.e. through `__cmp__` and `__richcmp__`) has been simplified. In order for elements to take benefit of the coercion framekwork they should either implement `_cmp_(left,right)` and/or `_richcmp_(left,right,op)`.\n+In #17890 the comparison of elements (i.e. `Element.__cmp__`) and rich comparison of elements (i.e. `Element.__richcmp__`) have been simplified. \n \n-In particular, it is discouraged to implement `__eq__` and `__ne__` if coercion has to be involved. It would also be simpler if no element implements `__cmp__`.\n+1 .If coercion has to be involved then the Python elements should implement:\n+- `_richcmp_(left, right, op)` for rich comparisons (i.e. operators `<`, `<=`, `==`, `!=`, `>=` and `>=`)\n+- `_cmp_(left, right)` for comparisons (i.e. when calling `cmp(x,y)`)\n+  In these two methods, it can be assumed that both arguments `left` and `right` are subclasses of `Element` with the same parent. If `_cmp_` makes sense it is possible to implement it only. If an element wants to implement `==` and `!=` only, then it should just raise a `NotImplementedError` for other operators in `_richcmp_(left,right,op)`.\n+\n+2 . If comparison needs to not avoid coercion, then:\n+- rich comparison is possible through `__eq__`, `__ne__`, `__lt__`, etc (and all of these should be implemented)\n+- comparison is possible via `__cmp__`\n \n In this ticket:\n - make everything needed for rich comparisons available from Python (i.e. `Py_EQ`, `Py_NE`, etc as well as `rich_to_bool/rich_to_bool_sgn`)\n-- we check the sage libraries for occurrences of `__eq__`/`__ne__`/`__cmp__` in elements and see whether these can be simplified\n+- check the sage libraries for occurrences of `__eq__`/`__ne__`/`__cmp__` in elements and see whether these can be simplified\n     - #18303 takes care of `sage.rings.qqbar`\n - update the documentation in `sage.structure.Element`\n+- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion\n``````\n",
    "created_at": "2015-04-28T12:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255515",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,9 +1,17 @@
-In #17890 the comparisons of elements (i.e. through `__cmp__` and `__richcmp__`) has been simplified. In order for elements to take benefit of the coercion framekwork they should either implement `_cmp_(left,right)` and/or `_richcmp_(left,right,op)`.
+In #17890 the comparison of elements (i.e. `Element.__cmp__`) and rich comparison of elements (i.e. `Element.__richcmp__`) have been simplified. 
 
-In particular, it is discouraged to implement `__eq__` and `__ne__` if coercion has to be involved. It would also be simpler if no element implements `__cmp__`.
+1 .If coercion has to be involved then the Python elements should implement:
+- `_richcmp_(left, right, op)` for rich comparisons (i.e. operators `<`, `<=`, `==`, `!=`, `>=` and `>=`)
+- `_cmp_(left, right)` for comparisons (i.e. when calling `cmp(x,y)`)
+  In these two methods, it can be assumed that both arguments `left` and `right` are subclasses of `Element` with the same parent. If `_cmp_` makes sense it is possible to implement it only. If an element wants to implement `==` and `!=` only, then it should just raise a `NotImplementedError` for other operators in `_richcmp_(left,right,op)`.
+
+2 . If comparison needs to not avoid coercion, then:
+- rich comparison is possible through `__eq__`, `__ne__`, `__lt__`, etc (and all of these should be implemented)
+- comparison is possible via `__cmp__`
 
 In this ticket:
 - make everything needed for rich comparisons available from Python (i.e. `Py_EQ`, `Py_NE`, etc as well as `rich_to_bool/rich_to_bool_sgn`)
-- we check the sage libraries for occurrences of `__eq__`/`__ne__`/`__cmp__` in elements and see whether these can be simplified
+- check the sage libraries for occurrences of `__eq__`/`__ne__`/`__cmp__` in elements and see whether these can be simplified
     - #18303 takes care of `sage.rings.qqbar`
 - update the documentation in `sage.structure.Element`
+- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion
``````




---

archive/issue_comments_255516.json:
```json
{
    "body": "<a id='comment:3'></a>\nAnother example: embedded number fields in `RR`. If you want that rich comparisons coincide with the order on `RR` then `==` and `!=` are cheap but not `<`, `<=`, `>` and `>=`.\n\nDo you agree with the new description?",
    "created_at": "2015-04-28T12:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255516",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Another example: embedded number fields in `RR`. If you want that rich comparisons coincide with the order on `RR` then `==` and `!=` are cheap but not `<`, `<=`, `>` and `>=`.

Do you agree with the new description?



---

archive/issue_comments_255517.json:
```json
{
    "body": "**Changing dependencies** from \"#17890, #18303\" to \"#17890\".",
    "created_at": "2015-04-29T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255517",
    "user": "https://github.com/videlec"
}
```

**Changing dependencies** from "#17890, #18303" to "#17890".



---

archive/issue_comments_255518.json:
```json
{
    "body": "<a id='comment:4'></a>\nI was able to modify six Python elements to use coercion for their comparisons. The code is simplified.\n\nIn order to do that, I had to modify slightly the implementation of `_richcmp` to not catch a `TypeError` when it calls `_richcmp_`. We should precise what elements should do when `==` and `!=` makes sense but not `<`, `<=`, `>=`, `>`. Is `TypeError` appropriate?\n\nVincent\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04570b3dfd194fea8c2437c8717c3dfb8704b4af\">04570b3</a></td><td><code>Fix bad doctest in etaproducts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3976f2cc4ec59c9f978d9d02c7f697c81025c4ef\">3976f2c</a></td><td><code>Add pointers for special uses of __richcmp__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce7e4f1ee5d3d4be67c9698c0b8ac35dad6f06a7\">ce7e4f1</a></td><td><code>merge u/jdemeyer/ticket/17890 in Sage-6.7.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/203820b5abc9510e0071d26a395f58b055420a3e\">203820b</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6d3e235b15e56386e461f66a110a105f123ac5d\">c6d3e23</a></td><td><code>Trac 18305: use `_cmp_` for alternating sign matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3e46e39b80dc63100e2f1e05e6e707d7f7a4357\">f3e46e3</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0c39b0b8acd10c88c6f4955ae78ca07fdace704\">b0c39b0</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/220a1406914312030bfb6dea1994f91247d6f69e\">220a140</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/042b6fe0fae411b924a09521aab7163731c2e588\">042b6fe</a></td><td><code>Trac 18305: modify Element._richcmp so that `_richcmp_` can raise errors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7749fe882a88d0978413e9c58b9d2660e0de23a6\">7749fe8</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr></table>\n",
    "created_at": "2015-04-29T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255518",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>
I was able to modify six Python elements to use coercion for their comparisons. The code is simplified.

In order to do that, I had to modify slightly the implementation of `_richcmp` to not catch a `TypeError` when it calls `_richcmp_`. We should precise what elements should do when `==` and `!=` makes sense but not `<`, `<=`, `>=`, `>`. Is `TypeError` appropriate?

Vincent

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04570b3dfd194fea8c2437c8717c3dfb8704b4af">04570b3</a></td><td><code>Fix bad doctest in etaproducts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3976f2cc4ec59c9f978d9d02c7f697c81025c4ef">3976f2c</a></td><td><code>Add pointers for special uses of __richcmp__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce7e4f1ee5d3d4be67c9698c0b8ac35dad6f06a7">ce7e4f1</a></td><td><code>merge u/jdemeyer/ticket/17890 in Sage-6.7.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/203820b5abc9510e0071d26a395f58b055420a3e">203820b</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6d3e235b15e56386e461f66a110a105f123ac5d">c6d3e23</a></td><td><code>Trac 18305: use `_cmp_` for alternating sign matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3e46e39b80dc63100e2f1e05e6e707d7f7a4357">f3e46e3</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0c39b0b8acd10c88c6f4955ae78ca07fdace704">b0c39b0</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/220a1406914312030bfb6dea1994f91247d6f69e">220a140</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/042b6fe0fae411b924a09521aab7163731c2e588">042b6fe</a></td><td><code>Trac 18305: modify Element._richcmp so that `_richcmp_` can raise errors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7749fe882a88d0978413e9c58b9d2660e0de23a6">7749fe8</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr></table>




---

archive/issue_comments_255519.json:
```json
{
    "body": "**Commit:** [7749fe882a88d0978413e9c58b9d2660e0de23a6](https://github.com/sagemath/sagetrac-mirror/commit/7749fe882a88d0978413e9c58b9d2660e0de23a6)",
    "created_at": "2015-04-29T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255519",
    "user": "https://github.com/videlec"
}
```

**Commit:** [7749fe882a88d0978413e9c58b9d2660e0de23a6](https://github.com/sagemath/sagetrac-mirror/commit/7749fe882a88d0978413e9c58b9d2660e0de23a6)



---

archive/issue_comments_255520.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/18305](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18305)",
    "created_at": "2015-04-29T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255520",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/18305](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18305)



---

archive/issue_comments_255521.json:
```json
{
    "body": "**Author:** Vincent Delecroix",
    "created_at": "2015-04-29T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255521",
    "user": "https://github.com/videlec"
}
```

**Author:** Vincent Delecroix



---

archive/issue_comments_255522.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,9 +9,11 @@\n - rich comparison is possible through `__eq__`, `__ne__`, `__lt__`, etc (and all of these should be implemented)\n - comparison is possible via `__cmp__`\n \n-In this ticket:\n-- make everything needed for rich comparisons available from Python (i.e. `Py_EQ`, `Py_NE`, etc as well as `rich_to_bool/rich_to_bool_sgn`)\n-- check the sage libraries for occurrences of `__eq__`/`__ne__`/`__cmp__` in elements and see whether these can be simplified\n-    - #18303 takes care of `sage.rings.qqbar`\n+With the current branch:\n+- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `py_rich_to_bool_sgn` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE` and `op_GT` in `sage.structure.sage_object`\n+- six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)\n+\n+Still to do or discuss:\n - update the documentation in `sage.structure.Element`\n-- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion\n+- decide what should we do with respect to `x < y` when this makes no sense (some elements do raise a `TypeError`)\n+- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion (?)\n``````\n",
    "created_at": "2015-04-29T16:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255522",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,9 +9,11 @@
 - rich comparison is possible through `__eq__`, `__ne__`, `__lt__`, etc (and all of these should be implemented)
 - comparison is possible via `__cmp__`
 
-In this ticket:
-- make everything needed for rich comparisons available from Python (i.e. `Py_EQ`, `Py_NE`, etc as well as `rich_to_bool/rich_to_bool_sgn`)
-- check the sage libraries for occurrences of `__eq__`/`__ne__`/`__cmp__` in elements and see whether these can be simplified
-    - #18303 takes care of `sage.rings.qqbar`
+With the current branch:
+- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `py_rich_to_bool_sgn` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE` and `op_GT` in `sage.structure.sage_object`
+- six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)
+
+Still to do or discuss:
 - update the documentation in `sage.structure.Element`
-- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion
+- decide what should we do with respect to `x < y` when this makes no sense (some elements do raise a `TypeError`)
+- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion (?)
``````




---

archive/issue_comments_255523.json:
```json
{
    "body": "**Changing commit** from \"[7749fe882a88d0978413e9c58b9d2660e0de23a6](https://github.com/sagemath/sagetrac-mirror/commit/7749fe882a88d0978413e9c58b9d2660e0de23a6)\" to \"[81be759f0e28dc13aa17e2f7df72bee0e729ee8f](https://github.com/sagemath/sagetrac-mirror/commit/81be759f0e28dc13aa17e2f7df72bee0e729ee8f)\".",
    "created_at": "2015-04-29T16:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255523",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7749fe882a88d0978413e9c58b9d2660e0de23a6](https://github.com/sagemath/sagetrac-mirror/commit/7749fe882a88d0978413e9c58b9d2660e0de23a6)" to "[81be759f0e28dc13aa17e2f7df72bee0e729ee8f](https://github.com/sagemath/sagetrac-mirror/commit/81be759f0e28dc13aa17e2f7df72bee0e729ee8f)".



---

archive/issue_comments_255524.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81be759f0e28dc13aa17e2f7df72bee0e729ee8f\">81be759</a></td><td><code>Trac 18305: update comments in sage.structure.element</code></td></tr></table>\n",
    "created_at": "2015-04-29T16:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255524",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81be759f0e28dc13aa17e2f7df72bee0e729ee8f">81be759</a></td><td><code>Trac 18305: update comments in sage.structure.element</code></td></tr></table>




---

archive/issue_events_167609.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-04-29T16:24:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167609"
}
```



---

archive/issue_comments_255525.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,7 +13,6 @@\n - make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `py_rich_to_bool_sgn` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE` and `op_GT` in `sage.structure.sage_object`\n - six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)\n \n-Still to do or discuss:\n-- update the documentation in `sage.structure.Element`\n+Potentially to discuss:\n - decide what should we do with respect to `x < y` when this makes no sense (some elements do raise a `TypeError`)\n-- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion (?)\n+- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion\n``````\n",
    "created_at": "2015-04-29T16:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255525",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,7 +13,6 @@
 - make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `py_rich_to_bool_sgn` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE` and `op_GT` in `sage.structure.sage_object`
 - six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)
 
-Still to do or discuss:
-- update the documentation in `sage.structure.Element`
+Potentially to discuss:
 - decide what should we do with respect to `x < y` when this makes no sense (some elements do raise a `TypeError`)
-- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion (?)
+- remove the test in the default `Element._cmp_` since an element implementing `__cmp__` wants to avoid coercion
``````




---

archive/issue_comments_255526.json:
```json
{
    "body": "<a id='comment:7'></a>\nI plan to have a look at this when #17890 is merged. I would also like to have some feedback on #18322, since both this ticket and #18322 change `Element`.",
    "created_at": "2015-05-04T09:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255526",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
I plan to have a look at this when #17890 is merged. I would also like to have some feedback on #18322, since both this ticket and #18322 change `Element`.



---

archive/issue_comments_255527.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jdemeyer](#comment%3A7):\n> I plan to have a look at this when #17890 is merged. I would also like to have some feedback on #18322, since both this ticket and #18322 change `Element`.\n\n\nPerhaps I should set #18322 as a dependency? I do not think that there will be any conflict since nothing in Sage explicitely uses `cmp` (except doctests).\n\nVincent",
    "created_at": "2015-05-04T11:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255527",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Replying to [jdemeyer](#comment%3A7):
> I plan to have a look at this when #17890 is merged. I would also like to have some feedback on #18322, since both this ticket and #18322 change `Element`.


Perhaps I should set #18322 as a dependency? I do not think that there will be any conflict since nothing in Sage explicitely uses `cmp` (except doctests).

Vincent



---

archive/issue_comments_255528.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b70f3f24773c5578326bf8601156bc426ce6c45a\">b70f3f2</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2edd0d4e609106929ce52f82d4296d0fc4e3c772\">2edd0d4</a></td><td><code>Trac 18305: use `_cmp_` for alternating sign matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/240ba643d14fc3bc2233b8c1b98f53c9bb21cb98\">240ba64</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bccbcc98f5a8df4b559fac37f4d09104d0f16c1\">7bccbcc</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4663b80b32e32218ae6af2fd28f12cf48a1c7978\">4663b80</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06e05f26d3fe16a51efefcee4c530e9d6c8fa6a1\">06e05f2</a></td><td><code>Trac 18305: modify Element._richcmp so that `_richcmp_` can raise errors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ad4257710f33bf7435a1e783332abdb9d2e476e\">9ad4257</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df2b501daa2d5b9ebde44d8e698f3d7f51228299\">df2b501</a></td><td><code>Trac 18305: update comments in sage.structure.element</code></td></tr></table>\n",
    "created_at": "2015-05-06T08:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255528",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b70f3f24773c5578326bf8601156bc426ce6c45a">b70f3f2</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2edd0d4e609106929ce52f82d4296d0fc4e3c772">2edd0d4</a></td><td><code>Trac 18305: use `_cmp_` for alternating sign matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/240ba643d14fc3bc2233b8c1b98f53c9bb21cb98">240ba64</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bccbcc98f5a8df4b559fac37f4d09104d0f16c1">7bccbcc</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4663b80b32e32218ae6af2fd28f12cf48a1c7978">4663b80</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06e05f26d3fe16a51efefcee4c530e9d6c8fa6a1">06e05f2</a></td><td><code>Trac 18305: modify Element._richcmp so that `_richcmp_` can raise errors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ad4257710f33bf7435a1e783332abdb9d2e476e">9ad4257</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df2b501daa2d5b9ebde44d8e698f3d7f51228299">df2b501</a></td><td><code>Trac 18305: update comments in sage.structure.element</code></td></tr></table>




---

archive/issue_comments_255529.json:
```json
{
    "body": "**Changing commit** from \"[81be759f0e28dc13aa17e2f7df72bee0e729ee8f](https://github.com/sagemath/sagetrac-mirror/commit/81be759f0e28dc13aa17e2f7df72bee0e729ee8f)\" to \"[df2b501daa2d5b9ebde44d8e698f3d7f51228299](https://github.com/sagemath/sagetrac-mirror/commit/df2b501daa2d5b9ebde44d8e698f3d7f51228299)\".",
    "created_at": "2015-05-06T08:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[81be759f0e28dc13aa17e2f7df72bee0e729ee8f](https://github.com/sagemath/sagetrac-mirror/commit/81be759f0e28dc13aa17e2f7df72bee0e729ee8f)" to "[df2b501daa2d5b9ebde44d8e698f3d7f51228299](https://github.com/sagemath/sagetrac-mirror/commit/df2b501daa2d5b9ebde44d8e698f3d7f51228299)".



---

archive/issue_comments_255530.json:
```json
{
    "body": "<a id='comment:10'></a>\nRebase on sage-6.7.beta4",
    "created_at": "2015-05-06T08:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255530",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
Rebase on sage-6.7.beta4



---

archive/issue_comments_255531.json:
```json
{
    "body": "**Changing dependencies** from \"#17890\" to \"\".",
    "created_at": "2015-05-06T08:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255531",
    "user": "https://github.com/videlec"
}
```

**Changing dependencies** from "#17890" to "".



---

archive/issue_comments_255532.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [vdelecroix](#comment%3A4):\n|                                                                                                                                          |                                                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n|[042b6fe](https://github.com/sagemath/sagetrac-mirror/commit/042b6fe0fae411b924a09521aab7163731c2e588)|<code>Trac 18305: modify Element._richcmp so that \\`_richcmp_\\` can raise errors</code>|\n\n\nI moved this to #18322 since I think it fits better there.",
    "created_at": "2015-05-06T08:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255532",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Replying to [vdelecroix](#comment%3A4):
|                                                                                                                                          |                                                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|[042b6fe](https://github.com/sagemath/sagetrac-mirror/commit/042b6fe0fae411b924a09521aab7163731c2e588)|<code>Trac 18305: modify Element._richcmp so that \`_richcmp_\` can raise errors</code>|


I moved this to #18322 since I think it fits better there.



---

archive/issue_comments_255533.json:
```json
{
    "body": "**Dependencies:** #18322",
    "created_at": "2015-05-07T09:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255533",
    "user": "https://github.com/videlec"
}
```

**Dependencies:** #18322



---

archive/issue_events_167610.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-07T09:44:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167610"
}
```



---

archive/issue_events_167611.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-07T09:44:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167611"
}
```



---

archive/issue_comments_255534.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [jdemeyer](#comment%3A12):\n> Replying to [vdelecroix](#comment%3A4):\n|                                                                                                                                          |                                                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n|[042b6fe](https://github.com/sagemath/sagetrac-mirror/commit/042b6fe0fae411b924a09521aab7163731c2e588)|<code>Trac 18305: modify Element._richcmp so that \\`_richcmp_\\` can raise errors</code>|\n\n> \n> I moved this to #18322 since I think it fits better there.\n\n\nGood to me.",
    "created_at": "2015-05-07T09:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255534",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
Replying to [jdemeyer](#comment%3A12):
> Replying to [vdelecroix](#comment%3A4):
|                                                                                                                                          |                                                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|[042b6fe](https://github.com/sagemath/sagetrac-mirror/commit/042b6fe0fae411b924a09521aab7163731c2e588)|<code>Trac 18305: modify Element._richcmp so that \`_richcmp_\` can raise errors</code>|

> 
> I moved this to #18322 since I think it fits better there.


Good to me.



---

archive/issue_comments_255535.json:
```json
{
    "body": "<a id='comment:14'></a>\nAbout this ticket: I don't really like that you're making major unrelated changes, for example (but not only) in alternating sign matrices. Do you really need that? Could those changes be moved to a different ticket?",
    "created_at": "2015-05-07T09:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255535",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
About this ticket: I don't really like that you're making major unrelated changes, for example (but not only) in alternating sign matrices. Do you really need that? Could those changes be moved to a different ticket?



---

archive/issue_comments_255536.json:
```json
{
    "body": "**Changing commit** from \"[df2b501daa2d5b9ebde44d8e698f3d7f51228299](https://github.com/sagemath/sagetrac-mirror/commit/df2b501daa2d5b9ebde44d8e698f3d7f51228299)\" to \"[0259eb7814ac159722db566fcd52c21e040cb233](https://github.com/sagemath/sagetrac-mirror/commit/0259eb7814ac159722db566fcd52c21e040cb233)\".",
    "created_at": "2015-05-08T21:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[df2b501daa2d5b9ebde44d8e698f3d7f51228299](https://github.com/sagemath/sagetrac-mirror/commit/df2b501daa2d5b9ebde44d8e698f3d7f51228299)" to "[0259eb7814ac159722db566fcd52c21e040cb233](https://github.com/sagemath/sagetrac-mirror/commit/0259eb7814ac159722db566fcd52c21e040cb233)".



---

archive/issue_comments_255537.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb98fd07ee04b18a4ec329aeb2bf061dab4f7d6d\">bb98fd0</a></td><td><code>_cmp should try `_richcmp_` if `_cmp_` failed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d826520e60f02169ff9b93e2e6c29eb662d1d14f\">d826520</a></td><td><code>Use LazyFormat for `_cmp_` exception</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac9ca1c83737253b380a79cde33b4908a51d0ead\">ac9ca1c</a></td><td><code>Update comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89d1b0b46fb1e440f31854f149e40138188e7413\">89d1b0b</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10785897fefef460df14faa4c03321da83655ec6\">1078589</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f6c59f9927761ef9617cc59d3633995686d6655\">7f6c59f</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fb7c8e98689f2f8ac0e3acbcbf721f82d9d64ed\">0fb7c8e</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51abce8822df8064a6e71ef6ee6bd465b1d2aa28\">51abce8</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0259eb7814ac159722db566fcd52c21e040cb233\">0259eb7</a></td><td><code>Trac 18305: update comments in sage.structure.element</code></td></tr></table>\n",
    "created_at": "2015-05-08T21:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb98fd07ee04b18a4ec329aeb2bf061dab4f7d6d">bb98fd0</a></td><td><code>_cmp should try `_richcmp_` if `_cmp_` failed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d826520e60f02169ff9b93e2e6c29eb662d1d14f">d826520</a></td><td><code>Use LazyFormat for `_cmp_` exception</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac9ca1c83737253b380a79cde33b4908a51d0ead">ac9ca1c</a></td><td><code>Update comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89d1b0b46fb1e440f31854f149e40138188e7413">89d1b0b</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10785897fefef460df14faa4c03321da83655ec6">1078589</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f6c59f9927761ef9617cc59d3633995686d6655">7f6c59f</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fb7c8e98689f2f8ac0e3acbcbf721f82d9d64ed">0fb7c8e</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51abce8822df8064a6e71ef6ee6bd465b1d2aa28">51abce8</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0259eb7814ac159722db566fcd52c21e040cb233">0259eb7</a></td><td><code>Trac 18305: update comments in sage.structure.element</code></td></tr></table>




---

archive/issue_comments_255538.json:
```json
{
    "body": "<a id='comment:16'></a>\nRebased above #18322.\n\nThe alternating sign matrices is now #18383. What are the other \"major unrelated changes\"?",
    "created_at": "2015-05-08T21:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255538",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
Rebased above #18322.

The alternating sign matrices is now #18383. What are the other "major unrelated changes"?



---

archive/issue_events_167612.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-08T21:52:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167612"
}
```



---

archive/issue_events_167613.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-05-08T21:52:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167613"
}
```



---

archive/issue_comments_255539.json:
```json
{
    "body": "<a id='comment:19'></a>\nI think having both `py_rich_to_bool_sgn` and `py_rich_to_bool` in Python is overkill. Since these are Python functions anyway, the overhead of the `_sgn` variant can be ignored.\n\nAnd I don't like most of your comment changes to `src/sage/structure/element.pyx`: if you implement just `_richcmp_`, then you don't need `__cmp__`, not even for `cmp()`. Why did you remove `or if that gives better performance`. And the `and are not identical (i.e. self is not other).` addition is also wrong I think.",
    "created_at": "2015-05-21T09:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255539",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
I think having both `py_rich_to_bool_sgn` and `py_rich_to_bool` in Python is overkill. Since these are Python functions anyway, the overhead of the `_sgn` variant can be ignored.

And I don't like most of your comment changes to `src/sage/structure/element.pyx`: if you implement just `_richcmp_`, then you don't need `__cmp__`, not even for `cmp()`. Why did you remove `or if that gives better performance`. And the `and are not identical (i.e. self is not other).` addition is also wrong I think.



---

archive/issue_comments_255540.json:
```json
{
    "body": "<a id='comment:20'></a>\nAlso, there is no need for the `int` in\n\n```\ndef py_rich_to_bool_sgn(int op, int c)\n```\n(if we ever change the prototype of `rich_to_bool_sgn`, there is additional work for no reason)",
    "created_at": "2015-05-21T09:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255540",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Also, there is no need for the `int` in

```
def py_rich_to_bool_sgn(int op, int c)
```
(if we ever change the prototype of `rich_to_bool_sgn`, there is additional work for no reason)



---

archive/issue_comments_255541.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c78d7ce10f1b86ebd25fb21dcf9b7f5862a3962d\">c78d7ce</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bc5ee99d15442af8a6f2040ede13b0ac561bdc5\">1bc5ee9</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71409ec7d13d5fb4fe1aba43ac83030c74ad8dc8\">71409ec</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc3b7a1e5ccfea6891b72f549b33ab8e22f3c733\">fc3b7a1</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17e749619bc3775c021dba8ea9e41954a78c0c8c\">17e7496</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17ed5499a2113637034ffc8ef2210f949896e5c6\">17ed549</a></td><td><code>Trac #18305: comments about Python comparisons</code></td></tr></table>\n",
    "created_at": "2015-05-23T15:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c78d7ce10f1b86ebd25fb21dcf9b7f5862a3962d">c78d7ce</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bc5ee99d15442af8a6f2040ede13b0ac561bdc5">1bc5ee9</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71409ec7d13d5fb4fe1aba43ac83030c74ad8dc8">71409ec</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc3b7a1e5ccfea6891b72f549b33ab8e22f3c733">fc3b7a1</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17e749619bc3775c021dba8ea9e41954a78c0c8c">17e7496</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17ed5499a2113637034ffc8ef2210f949896e5c6">17ed549</a></td><td><code>Trac #18305: comments about Python comparisons</code></td></tr></table>




---

archive/issue_comments_255542.json:
```json
{
    "body": "**Changing commit** from \"[0259eb7814ac159722db566fcd52c21e040cb233](https://github.com/sagemath/sagetrac-mirror/commit/0259eb7814ac159722db566fcd52c21e040cb233)\" to \"[17ed5499a2113637034ffc8ef2210f949896e5c6](https://github.com/sagemath/sagetrac-mirror/commit/17ed5499a2113637034ffc8ef2210f949896e5c6)\".",
    "created_at": "2015-05-23T15:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0259eb7814ac159722db566fcd52c21e040cb233](https://github.com/sagemath/sagetrac-mirror/commit/0259eb7814ac159722db566fcd52c21e040cb233)" to "[17ed5499a2113637034ffc8ef2210f949896e5c6](https://github.com/sagemath/sagetrac-mirror/commit/17ed5499a2113637034ffc8ef2210f949896e5c6)".



---

archive/issue_comments_255543.json:
```json
{
    "body": "**Changing dependencies** from \"#18322\" to \"\".",
    "created_at": "2015-05-23T16:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255543",
    "user": "https://github.com/videlec"
}
```

**Changing dependencies** from "#18322" to "".



---

archive/issue_comments_255544.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n - comparison is possible via `__cmp__`\n \n With the current branch:\n-- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `py_rich_to_bool_sgn` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE` and `op_GT` in `sage.structure.sage_object`\n+- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE`, `op_GT` in `sage.structure.sage_object`\n - six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)\n \n Potentially to discuss:\n``````\n",
    "created_at": "2015-05-23T16:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255544",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 - comparison is possible via `__cmp__`
 
 With the current branch:
-- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `py_rich_to_bool_sgn` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE` and `op_GT` in `sage.structure.sage_object`
+- make everything needed for rich comparisons available from Python: the branch adds `py_rich_to_bool` and `op_EQ`, `op_NE`, `op_LT`, `op_LE`, `op_GE`, `op_GT` in `sage.structure.sage_object`
 - six elements are modified to use either `_richcmp_` or `_cmp_` instead of `__eq__`/`__ne__`/`__lt__`, etc (and #18303 takes care of `sage.rings.qqbar`)
 
 Potentially to discuss:
``````




---

archive/issue_comments_255545.json:
```json
{
    "body": "<a id='comment:22'></a>\nRebased on 6.8.beta0.\n\nI took care of your comments.\n\nVincent",
    "created_at": "2015-05-23T16:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255545",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
Rebased on 6.8.beta0.

I took care of your comments.

Vincent



---

archive/issue_comments_255546.json:
```json
{
    "body": "<a id='comment:23'></a>\ndoes not apply, needs rebase",
    "created_at": "2015-07-30T12:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255546",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
does not apply, needs rebase



---

archive/issue_events_167614.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-30T12:41:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167614"
}
```



---

archive/issue_events_167615.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-30T12:41:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167615"
}
```



---

archive/issue_comments_255547.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/522d61febe8dd840900f8c48fb5222be9d88b9a1\">522d61f</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60895764738f137549811a21d3766af4a1641c82\">6089576</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cc324c8d27ec8076d9b767d470d4c330b0b1446\">2cc324c</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88fd79e10c4a573ae8647cf085a133d7cb0b2afa\">88fd79e</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/690b9593a5587c64e9460acf27915742c3856a52\">690b959</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d768d2524b35e70345bf3b94392dd3e44ade9376\">d768d25</a></td><td><code>Trac #18305: comments about Python comparisons</code></td></tr></table>\n",
    "created_at": "2015-08-06T15:35:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255547",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/522d61febe8dd840900f8c48fb5222be9d88b9a1">522d61f</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60895764738f137549811a21d3766af4a1641c82">6089576</a></td><td><code>Trac 18305: use `_cmp_` for ideals of finite dimensional algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cc324c8d27ec8076d9b767d470d4c330b0b1446">2cc324c</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88fd79e10c4a573ae8647cf085a133d7cb0b2afa">88fd79e</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/690b9593a5587c64e9460acf27915742c3856a52">690b959</a></td><td><code>Trac 18305: `_richcmp_` for `finite dimensional algebra elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d768d2524b35e70345bf3b94392dd3e44ade9376">d768d25</a></td><td><code>Trac #18305: comments about Python comparisons</code></td></tr></table>




---

archive/issue_comments_255548.json:
```json
{
    "body": "**Changing commit** from \"[17ed5499a2113637034ffc8ef2210f949896e5c6](https://github.com/sagemath/sagetrac-mirror/commit/17ed5499a2113637034ffc8ef2210f949896e5c6)\" to \"[d768d2524b35e70345bf3b94392dd3e44ade9376](https://github.com/sagemath/sagetrac-mirror/commit/d768d2524b35e70345bf3b94392dd3e44ade9376)\".",
    "created_at": "2015-08-06T15:35:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255548",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[17ed5499a2113637034ffc8ef2210f949896e5c6](https://github.com/sagemath/sagetrac-mirror/commit/17ed5499a2113637034ffc8ef2210f949896e5c6)" to "[d768d2524b35e70345bf3b94392dd3e44ade9376](https://github.com/sagemath/sagetrac-mirror/commit/d768d2524b35e70345bf3b94392dd3e44ade9376)".



---

archive/issue_events_167616.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-08-06T15:36:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167616"
}
```



---

archive/issue_events_167617.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-08-06T15:36:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167617"
}
```



---

archive/issue_events_167618.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-08-06T15:36:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167618"
}
```



---

archive/issue_events_167619.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-08-06T15:36:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167619"
}
```



---

archive/issue_comments_255549.json:
```json
{
    "body": "<a id='comment:25'></a>\nrebased on sage-6.9.beta1",
    "created_at": "2015-08-06T15:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255549",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>
rebased on sage-6.9.beta1



---

archive/issue_comments_255550.json:
```json
{
    "body": "<a id='comment:26'></a>\nSee also #19108 which solves the same problem in a different (more complicated) way.",
    "created_at": "2015-08-28T06:11:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255550",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
See also #19108 which solves the same problem in a different (more complicated) way.



---

archive/issue_comments_255551.json:
```json
{
    "body": "<a id='comment:27'></a>\nCan you split off the changes to `src/sage/algebras` to a different ticket?",
    "created_at": "2015-09-08T13:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255551",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
Can you split off the changes to `src/sage/algebras` to a different ticket?



---

archive/issue_comments_255552.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplace\n\n```\nIf you need to call this function from Cython prefer\n```\nby\n\n```\nDo not use this function from Cython. Instead, call\n```",
    "created_at": "2015-09-08T13:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255552",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
Replace

```
If you need to call this function from Cython prefer
```
by

```
Do not use this function from Cython. Instead, call
```



---

archive/issue_comments_255553.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9283cb08891995faa8289b7fde3880e06b347bd\">a9283cb</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8b81826a0afb19b298ccf4aa55c601e3f35f367\">e8b8182</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/950f3ecc4198d82c64867500b2643ecd0cf6ce47\">950f3ec</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/490de4234df92ac46aeb62ceafa09ff76c6b75b9\">490de42</a></td><td><code>Trac 18305: comments about Python comparisons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f6ea84eb645f1e29426bedc7763c9f31997867b\">3f6ea84</a></td><td><code>Trac 18305: rephrased sentence in doc</code></td></tr></table>\n",
    "created_at": "2015-09-09T00:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255553",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9283cb08891995faa8289b7fde3880e06b347bd">a9283cb</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8b81826a0afb19b298ccf4aa55c601e3f35f367">e8b8182</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/950f3ecc4198d82c64867500b2643ecd0cf6ce47">950f3ec</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/490de4234df92ac46aeb62ceafa09ff76c6b75b9">490de42</a></td><td><code>Trac 18305: comments about Python comparisons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f6ea84eb645f1e29426bedc7763c9f31997867b">3f6ea84</a></td><td><code>Trac 18305: rephrased sentence in doc</code></td></tr></table>




---

archive/issue_comments_255554.json:
```json
{
    "body": "**Changing commit** from \"[d768d2524b35e70345bf3b94392dd3e44ade9376](https://github.com/sagemath/sagetrac-mirror/commit/d768d2524b35e70345bf3b94392dd3e44ade9376)\" to \"[3f6ea84eb645f1e29426bedc7763c9f31997867b](https://github.com/sagemath/sagetrac-mirror/commit/3f6ea84eb645f1e29426bedc7763c9f31997867b)\".",
    "created_at": "2015-09-09T00:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d768d2524b35e70345bf3b94392dd3e44ade9376](https://github.com/sagemath/sagetrac-mirror/commit/d768d2524b35e70345bf3b94392dd3e44ade9376)" to "[3f6ea84eb645f1e29426bedc7763c9f31997867b](https://github.com/sagemath/sagetrac-mirror/commit/3f6ea84eb645f1e29426bedc7763c9f31997867b)".



---

archive/issue_comments_255555.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [jdemeyer](#comment%3A27):\n> Can you split off the changes to `src/sage/algebras` to a different ticket?\n\n\nIt is now #19170",
    "created_at": "2015-09-09T01:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255555",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>
Replying to [jdemeyer](#comment%3A27):
> Can you split off the changes to `src/sage/algebras` to a different ticket?


It is now #19170



---

archive/issue_events_167620.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-14T11:53:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167620"
}
```



---

archive/issue_events_167621.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-14T11:53:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167621"
}
```



---

archive/issue_comments_255556.json:
```json
{
    "body": "<a id='comment:31'></a>\nThis is not good, you're adding back stuff which was removed:\n\n```diff\ndiff --git a/src/sage/structure/element.pyx b/src/sage/structure/element.pyx\nindex ede0157..4208a50 100644\n--- a/src/sage/structure/element.pyx\n+++ b/src/sage/structure/element.pyx\n@@ -1043,10 +1043,16 @@ cdef class Element(SageObject):\n             return rich_to_bool(op, -1)\n \n     ####################################################################\n-    # For a Cython class, you must define either _cmp_ (if your subclass\n-    # is totally ordered), _richcmp_ (if your subclass is partially\n-    # ordered), or both (if your class has both a total order and a\n-    # partial order, or if implementing both gives better performance).\n+    # For a derived Cython class, you **must** put the __richcmp__\n+    # method below in your subclasses, in order for it to take\n+    # advantage of the above generic comparison code. If you want to use cmp()\n+    # but did not implement a rich comparison, then you must copy paste the\n+    # __cmp__ method below.\n+    #\n+    # In a Cython or a Python class, you must define either _cmp_\n+    # (if your subclass is totally ordered), _richcmp_ (if your subclass\n+    # is partially ordered), or both (if your class has both a total order\n+    # and a partial order, or if that gives better performance).\n     #\n     # Rich comparisons (like a < b) will default to using _richcmp_,\n     # three-way comparisons (like cmp(a,b)) will default to using\n```",
    "created_at": "2015-09-14T11:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255556",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>
This is not good, you're adding back stuff which was removed:

```diff
diff --git a/src/sage/structure/element.pyx b/src/sage/structure/element.pyx
index ede0157..4208a50 100644
--- a/src/sage/structure/element.pyx
+++ b/src/sage/structure/element.pyx
@@ -1043,10 +1043,16 @@ cdef class Element(SageObject):
             return rich_to_bool(op, -1)
 
     ####################################################################
-    # For a Cython class, you must define either _cmp_ (if your subclass
-    # is totally ordered), _richcmp_ (if your subclass is partially
-    # ordered), or both (if your class has both a total order and a
-    # partial order, or if implementing both gives better performance).
+    # For a derived Cython class, you **must** put the __richcmp__
+    # method below in your subclasses, in order for it to take
+    # advantage of the above generic comparison code. If you want to use cmp()
+    # but did not implement a rich comparison, then you must copy paste the
+    # __cmp__ method below.
+    #
+    # In a Cython or a Python class, you must define either _cmp_
+    # (if your subclass is totally ordered), _richcmp_ (if your subclass
+    # is partially ordered), or both (if your class has both a total order
+    # and a partial order, or if that gives better performance).
     #
     # Rich comparisons (like a < b) will default to using _richcmp_,
     # three-way comparisons (like cmp(a,b)) will default to using
```



---

archive/issue_comments_255557.json:
```json
{
    "body": "<a id='comment:32'></a>\n`Py_EQ` should be `op_EQ` here:\n\n```\n    INPUT:\n\n    - ``op`` -- a rich comparison operation (e.g. ``Py_EQ``)\n```\n\n`c` can be any integer, not only -1, 0 or 1:\n\n```\n    - ``c`` -- the result of an ordinary comparison: -1, 0 or 1.\n```\n\nNo trailing slash needed:\n\n```\n        sage: from sage.structure.sage_object import (py_rich_to_bool, \\\n        ....:    op_EQ, op_NE, op_LT, op_LE, op_GT, op_GE)\n```",
    "created_at": "2015-09-14T11:56:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255557",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
`Py_EQ` should be `op_EQ` here:

```
    INPUT:

    - ``op`` -- a rich comparison operation (e.g. ``Py_EQ``)
```

`c` can be any integer, not only -1, 0 or 1:

```
    - ``c`` -- the result of an ordinary comparison: -1, 0 or 1.
```

No trailing slash needed:

```
        sage: from sage.structure.sage_object import (py_rich_to_bool, \
        ....:    op_EQ, op_NE, op_LT, op_LE, op_GT, op_GE)
```



---

archive/issue_comments_255558.json:
```json
{
    "body": "<a id='comment:33'></a>\nPlease keep the doctests for `IndexedMonoidElement.__ne__` like you did for the other comparisons.",
    "created_at": "2015-09-14T11:58:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255558",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'></a>
Please keep the doctests for `IndexedMonoidElement.__ne__` like you did for the other comparisons.



---

archive/issue_comments_255559.json:
```json
{
    "body": "<a id='comment:34'></a>\n\n```\n$ pyflakes src/sage/geometry/newton_polygon.py\nsrc/sage/geometry/newton_polygon.py:20: 'op_GT' imported but unused\nsrc/sage/geometry/newton_polygon.py:20: 'py_rich_to_bool' imported but unused\n```",
    "created_at": "2015-09-14T12:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255559",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>

```
$ pyflakes src/sage/geometry/newton_polygon.py
src/sage/geometry/newton_polygon.py:20: 'op_GT' imported but unused
src/sage/geometry/newton_polygon.py:20: 'py_rich_to_bool' imported but unused
```



---

archive/issue_comments_255560.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3959aadd7e647ed67b4a1c47932267e62bf7b79a\">3959aad</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6be98890f85a715e0aab98700b9e89dc4e09331d\">6be9889</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3450e0d09bef688ec9752c691fc585231c24caf\">f3450e0</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b\">0ee1f3a</a></td><td><code>Trac 18305: comments about Python comparisons</code></td></tr></table>\n",
    "created_at": "2015-09-14T17:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3959aadd7e647ed67b4a1c47932267e62bf7b79a">3959aad</a></td><td><code>Trac 18305: py_rich_to_bool(_sgn) and operators</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6be98890f85a715e0aab98700b9e89dc4e09331d">6be9889</a></td><td><code>Trac 18305: `_richcmp_` for indexed monoids and groups</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3450e0d09bef688ec9752c691fc585231c24caf">f3450e0</a></td><td><code>Trac 18305: `_richcmp_` for Newton polygons</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b">0ee1f3a</a></td><td><code>Trac 18305: comments about Python comparisons</code></td></tr></table>




---

archive/issue_comments_255561.json:
```json
{
    "body": "**Changing commit** from \"[3f6ea84eb645f1e29426bedc7763c9f31997867b](https://github.com/sagemath/sagetrac-mirror/commit/3f6ea84eb645f1e29426bedc7763c9f31997867b)\" to \"[0ee1f3a96c0db1834efe22def0c2556b9e83355b](https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b)\".",
    "created_at": "2015-09-14T17:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255561",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3f6ea84eb645f1e29426bedc7763c9f31997867b](https://github.com/sagemath/sagetrac-mirror/commit/3f6ea84eb645f1e29426bedc7763c9f31997867b)" to "[0ee1f3a96c0db1834efe22def0c2556b9e83355b](https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b)".



---

archive/issue_comments_255562.json:
```json
{
    "body": "<a id='comment:36'></a>\nHello Jeroen,\n\nI rebased on the latest beta taking care of all your remarks.\n\nVincent",
    "created_at": "2015-09-14T17:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255562",
    "user": "https://github.com/videlec"
}
```

<a id='comment:36'></a>
Hello Jeroen,

I rebased on the latest beta taking care of all your remarks.

Vincent



---

archive/issue_comments_255563.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2015-09-14T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255563",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_events_167622.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-14T17:52:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167622"
}
```



---

archive/issue_events_167623.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-14T17:52:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167623"
}
```



---

archive/issue_comments_255564.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [vdelecroix](#comment%3A36):\n> I rebased on the latest beta taking care of all your remarks.\n\n\nGeneral comment: you should not rebase a branch which is being reviewed. For example, it is difficult for me to see what you changed since last time, which essentially forces me to re-review everything again.",
    "created_at": "2015-09-14T18:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255564",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>
Replying to [vdelecroix](#comment%3A36):
> I rebased on the latest beta taking care of all your remarks.


General comment: you should not rebase a branch which is being reviewed. For example, it is difficult for me to see what you changed since last time, which essentially forces me to re-review everything again.



---

archive/issue_comments_255565.json:
```json
{
    "body": "<a id='comment:39'></a>\nIf you tell me, I can move back my changes on top of the previous commits. Sorry.",
    "created_at": "2015-09-14T22:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255565",
    "user": "https://github.com/videlec"
}
```

<a id='comment:39'></a>
If you tell me, I can move back my changes on top of the previous commits. Sorry.



---

archive/issue_events_167624.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-17T11:42:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167624"
}
```



---

archive/issue_events_167625.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-09-17T11:42:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167625"
}
```



---

archive/issue_comments_255566.json:
```json
{
    "body": "<a id='comment:41'></a>\nThanks Jeroen. And again, I am sorry for the too early rebase.\n\nVincent",
    "created_at": "2015-09-17T11:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255566",
    "user": "https://github.com/videlec"
}
```

<a id='comment:41'></a>
Thanks Jeroen. And again, I am sorry for the too early rebase.

Vincent



---

archive/issue_comments_255567.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [vdelecroix](#comment%3A41):\n> Thanks Jeroen. And again, I am sorry for the too early rebase.\n\n\nWhy \"too early\"? I don't think a ticket under review should be rebased at all.\n\nRebasing before review is fine for me.",
    "created_at": "2015-09-17T13:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255567",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'></a>
Replying to [vdelecroix](#comment%3A41):
> Thanks Jeroen. And again, I am sorry for the too early rebase.


Why "too early"? I don't think a ticket under review should be rebased at all.

Rebasing before review is fine for me.



---

archive/issue_comments_255568.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/18305](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18305)\" to \"[0ee1f3a96c0db1834efe22def0c2556b9e83355b](https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b)\".",
    "created_at": "2015-09-18T13:03:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18305#issuecomment-255568",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vdelecroix/18305](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/18305)" to "[0ee1f3a96c0db1834efe22def0c2556b9e83355b](https://github.com/sagemath/sagetrac-mirror/commit/0ee1f3a96c0db1834efe22def0c2556b9e83355b)".



---

archive/issue_events_167626.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-18T13:03:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167626"
}
```



---

archive/issue_events_167627.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-09-18T13:03:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18305",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18305#event-167627"
}
```
