# Issue 18477: Update git_trac to the latest commit of the repository

archive/issues_018240.json:
```json
{
    "body": "By updating Sage's shipped version of git_trac, we make it possible to checkout tickets without having a trac account.\n\nhttp://www.steinertriples.fr/ncohen/tmp/git_trac-20150522.tar.bz2\n\nCC:  @jdemeyer @vbraun @videlec\n\nReviewer: Jeroen Demeyer\n\nAuthor: Nathann Cohen\n\nBranch: 2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/18477\n\n",
    "closed_at": "2015-06-03T23:22:37Z",
    "created_at": "2015-05-22T20:51:13Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Update git_trac to the latest commit of the repository",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18477",
    "user": "https://github.com/nathanncohen"
}
```
By updating Sage's shipped version of git_trac, we make it possible to checkout tickets without having a trac account.

http://www.steinertriples.fr/ncohen/tmp/git_trac-20150522.tar.bz2

CC:  @jdemeyer @vbraun @videlec

Reviewer: Jeroen Demeyer

Author: Nathann Cohen

Branch: 2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/18477





---

archive/issue_comments_322463.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-22T21:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322463",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_322464.json:
```json
{
    "body": "Changing commit from \"\" to \"08af769b163b2e3e38485ad606386a1d73fd4ec4\"",
    "created_at": "2015-05-22T21:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322464",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "" to "08af769b163b2e3e38485ad606386a1d73fd4ec4"



---

archive/issue_comments_322465.json:
```json
{
    "body": "Changing branch from \"\" to \"public/18477\"",
    "created_at": "2015-05-22T21:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322465",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "public/18477"



---

archive/issue_comments_322466.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n By updating Sage's shipped version of git_trac, we make it possible to checkout tickets without having a trac account.\n+\n+http://www.steinertriples.fr/ncohen/tmp/git_trac-20150522.tar.bz2\n``````\n",
    "created_at": "2015-05-22T22:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322466",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 By updating Sage's shipped version of git_trac, we make it possible to checkout tickets without having a trac account.
+
+http://www.steinertriples.fr/ncohen/tmp/git_trac-20150522.tar.bz2
``````




---

archive/issue_comments_322467.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe tarball is missing a top-level directory (usually called `src` in Sage).",
    "created_at": "2015-05-23T08:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322467",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
The tarball is missing a top-level directory (usually called `src` in Sage).



---

archive/issue_comments_322468.json:
```json
{
    "body": "<a id='comment:6'></a>\nArg, sorry for that. I built it with \"git archive\" but it was not such a good idea after all. Will be fixed in a second.",
    "created_at": "2015-05-23T08:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322468",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>
Arg, sorry for that. I built it with "git archive" but it was not such a good idea after all. Will be fixed in a second.



---

archive/issue_comments_322469.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                          |                                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|\n|[2fd06da](http://git.sagemath.org/sage.git/commit/?id=2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5)|`trac #18477: Update git_trac to the latest commit of the repository`|",
    "created_at": "2015-05-23T08:31:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                          |                                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
|[2fd06da](http://git.sagemath.org/sage.git/commit/?id=2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5)|`trac #18477: Update git_trac to the latest commit of the repository`|



---

archive/issue_comments_322470.json:
```json
{
    "body": "Changing commit from \"08af769b163b2e3e38485ad606386a1d73fd4ec4\" to \"2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5\"",
    "created_at": "2015-05-23T08:31:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "08af769b163b2e3e38485ad606386a1d73fd4ec4" to "2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5"



---

archive/issue_comments_322471.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-03T10:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322471",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_322472.json:
```json
{
    "body": "<a id='comment:9'></a>\nI would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.",
    "created_at": "2015-06-03T10:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322472",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
I would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.



---

archive/issue_comments_322473.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2015-06-03T10:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322473",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_322474.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-03T23:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322474",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_322475.json:
```json
{
    "body": "Changing branch from \"public/18477\" to \"2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5\"",
    "created_at": "2015-06-03T23:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322475",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/18477" to "2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5"



---

archive/issue_events_051975.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-03T23:22:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18477#event-51975"
}
```



---

archive/issue_comments_322476.json:
```json
{
    "body": "Changing commit from \"2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5\" to \"\"",
    "created_at": "2015-06-04T06:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322476",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "2fd06dad9a9d3543efe5dffa69c1d96c7fe9e8c5" to ""



---

archive/issue_comments_322477.json:
```json
{
    "body": "<a id='comment:12'></a>\n> I would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.\n\n\nWell. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function? Or do you think that it's 'oversolving' the problem?\n\nNathann",
    "created_at": "2015-06-04T06:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322477",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
> I would be even better if `git trac checkout ...` would *automatically* run `git trac config` if needed, but this is already nice.


Well. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function? Or do you think that it's 'oversolving' the problem?

Nathann



---

archive/issue_comments_322478.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [ncohen](#comment%3A12):\n> Well. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function?\n  \nI think that's a good solution. Just make sure that the \"ensure that the `trac` remote exists\" function is cached, in case a scripts needs to call those functions many times.\n\nBut really, this is Volker's code, so it's better to ask him.",
    "created_at": "2015-06-04T07:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322478",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Replying to [ncohen](#comment%3A12):
> Well. In terms of 'clean code', what would you think of a way to decorate functions which use a remote? The decorator would check that the remotes exist, and if they do not create them before running the function?
  
I think that's a good solution. Just make sure that the "ensure that the `trac` remote exists" function is cached, in case a scripts needs to call those functions many times.

But really, this is Volker's code, so it's better to ask him.



---

archive/issue_comments_322479.json:
```json
{
    "body": "<a id='comment:14'></a>\n> I think that's a good solution.\n\n\nI trust your sense of 'cleanness' more than I trust mine on those matters.\n\n> But really, this is Volker's code, so it's better to ask him.\n\n\nYes of course.\n\nNathann",
    "created_at": "2015-06-04T07:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322479",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
> I think that's a good solution.


I trust your sense of 'cleanness' more than I trust mine on those matters.

> But really, this is Volker's code, so it's better to ask him.


Yes of course.

Nathann



---

archive/issue_comments_322480.json:
```json
{
    "body": "<a id='comment:15'></a>\nThis is https://github.com/sagemath/git-trac-command/issues/22",
    "created_at": "2015-06-04T08:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18477#issuecomment-322480",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>
This is https://github.com/sagemath/git-trac-command/issues/22
