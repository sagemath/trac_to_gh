# Issue 16005: assert_have_dot2tex should reraise exception not replace it

archive/issues_016005.json:
```json
{
    "body": "Assignee: @seblabbe\n\nI installed `sage -i dot2tex` and then, the method `assert_have_dot2tex` says that `dot2tex not available`.\n\nThe reason is that the function `assert_have_dot2tex` replaces the `ImportError` (in my case a pyparsing importerror) by a `RuntimeError` with the `dot2tex not available` message. This hides the real error.\n\nBEFORE fix:\n\n\n```\nsage: from sage.graphs.dot2tex_utils import assert_have_dot2tex\nsage: assert_have_dot2tex()\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-2-9f40acb4631c> in <module>()\n----> 1 assert_have_dot2tex()\n\n/Users/slabbe/Applications/sage-review/local/lib/python2.7/site-packages/sage/graphs/dot2tex_utils.pyc in assert_have_dot2tex()\n     60             raise RuntimeError(check_error_string)\n     61     except ImportError:\n---> 62         raise RuntimeError(missing_error_string)\n     63 \n     64 def quoted_latex(x):\n\nRuntimeError: \ndot2tex not available.\n\nPlease see :meth:`sage.graphs.generic_graph.GenericGraph.layout_graphviz`\nfor installation instructions.\n\n```\n\n\nAFTER fix:\n\n\n```\nsage: from sage.graphs.dot2tex_utils import assert_have_dot2tex\nsage: assert_have_dot2tex()\n\nAn error occured when importing dot2tex.\n\nPlease see :meth:`sage.graphs.generic_graph.GenericGraph.layout_graphviz`\nfor installation instructions.\n\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-2-9f40acb4631c> in <module>()\n----> 1 assert_have_dot2tex()\n\n/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/sage/graphs/dot2tex_utils.pyc in assert_have_dot2tex()\n     56 \"\"\"\n     57     try:\n---> 58         import dot2tex\n     59     except ImportError as e:\n     60         print import_error_string\n\n/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/dot2tex/__init__.py in <module>()\n     34 \n     35 \n---> 36 import dot2tex as d2t\n     37 \n     38 def get_logstream():\n\n/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/dot2tex/dot2tex.py in <module>()\n     45 import warnings\n     46 \n---> 47 import dotparsing\n     48 \n     49 # Silence DeprecationWarnings about os.popen3 in Python 2.6\n\n/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/dot2tex/dotparsing.py in <module>()\n     24     import matplotlib.pyparsing_py2 as pyparsing\n     25 except ImportError:\n---> 26     import matplotlib.pyparsing as pyparsing\n     27     # just raise if that failed, too\n     28 \n\nImportError: No module named pyparsing\n\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16242\n\n",
    "created_at": "2014-04-26T13:21:50Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "assert_have_dot2tex should reraise exception not replace it",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16005",
    "user": "https://github.com/seblabbe"
}
```
Assignee: @seblabbe

I installed `sage -i dot2tex` and then, the method `assert_have_dot2tex` says that `dot2tex not available`.

The reason is that the function `assert_have_dot2tex` replaces the `ImportError` (in my case a pyparsing importerror) by a `RuntimeError` with the `dot2tex not available` message. This hides the real error.

BEFORE fix:


```
sage: from sage.graphs.dot2tex_utils import assert_have_dot2tex
sage: assert_have_dot2tex()
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
<ipython-input-2-9f40acb4631c> in <module>()
----> 1 assert_have_dot2tex()

/Users/slabbe/Applications/sage-review/local/lib/python2.7/site-packages/sage/graphs/dot2tex_utils.pyc in assert_have_dot2tex()
     60             raise RuntimeError(check_error_string)
     61     except ImportError:
---> 62         raise RuntimeError(missing_error_string)
     63 
     64 def quoted_latex(x):

RuntimeError: 
dot2tex not available.

Please see :meth:`sage.graphs.generic_graph.GenericGraph.layout_graphviz`
for installation instructions.

```


AFTER fix:


```
sage: from sage.graphs.dot2tex_utils import assert_have_dot2tex
sage: assert_have_dot2tex()

An error occured when importing dot2tex.

Please see :meth:`sage.graphs.generic_graph.GenericGraph.layout_graphviz`
for installation instructions.

---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-2-9f40acb4631c> in <module>()
----> 1 assert_have_dot2tex()

/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/sage/graphs/dot2tex_utils.pyc in assert_have_dot2tex()
     56 """
     57     try:
---> 58         import dot2tex
     59     except ImportError as e:
     60         print import_error_string

/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/dot2tex/__init__.py in <module>()
     34 
     35 
---> 36 import dot2tex as d2t
     37 
     38 def get_logstream():

/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/dot2tex/dot2tex.py in <module>()
     45 import warnings
     46 
---> 47 import dotparsing
     48 
     49 # Silence DeprecationWarnings about os.popen3 in Python 2.6

/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/dot2tex/dotparsing.py in <module>()
     24     import matplotlib.pyparsing_py2 as pyparsing
     25 except ImportError:
---> 26     import matplotlib.pyparsing as pyparsing
     27     # just raise if that failed, too
     28 

ImportError: No module named pyparsing

```


Issue created by migration from https://trac.sagemath.org/ticket/16242





---

archive/issue_comments_207555.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-26T13:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207555",
    "user": "https://github.com/seblabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_207556.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-04-26T13:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207556",
    "user": "https://github.com/seblabbe"
}
```

New commits:



---

archive/issue_comments_207557.json:
```json
{
    "body": "I don't get what this patch does. Why do you remove the whole file ? If you only want to intercept a specific import error, why don't you do something like that instead ?\n\n\n```\nsage: def raise_an_error(msg):\n....:     raise ImportError(msg)\nsage: try:\n....:     raise_an_error(\"Hello !\")\n....: except ImportError as E:\n....:     if E.message == \"Hello !\":\n....:         print \"got it !\"\n....:         \ngot it !\nsage: try:\n....:     raise_an_error(\"Hey !\")\n....: except ImportError as E:\n....:     if E.message == \"Hello !\":\n....:         print \"got it !\"\n```\n\n\nNathann",
    "created_at": "2014-06-19T07:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207557",
    "user": "https://github.com/nathanncohen"
}
```

I don't get what this patch does. Why do you remove the whole file ? If you only want to intercept a specific import error, why don't you do something like that instead ?


```
sage: def raise_an_error(msg):
....:     raise ImportError(msg)
sage: try:
....:     raise_an_error("Hello !")
....: except ImportError as E:
....:     if E.message == "Hello !":
....:         print "got it !"
....:         
got it !
sage: try:
....:     raise_an_error("Hey !")
....: except ImportError as E:
....:     if E.message == "Hello !":
....:         print "got it !"
```


Nathann



---

archive/issue_comments_207558.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-06-19T07:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207558",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_207559.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2014-06-23T09:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207559",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_207560.json:
```json
{
    "body": "Replying to [comment:5 ncohen]:\n> I don't get what this patch does. \n\nThe patch fixes a problem. The problem is that an exception is catched and replaced by a message error which is misleading. The solution is simply to reraise the error if an error occurs. If no error occurs, then more tests are done as before.\n\n> Why do you remove the whole file ?\n\nThe patch does not remove any file. What do you mean?\n\n> If you only want to intercept a specific import error, why don't you do something like that instead ?\n\nBecause an `\"ImportError\"` is already enough. I do not need to be more specific.\n\nS\u00e9bastien",
    "created_at": "2014-06-23T09:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207560",
    "user": "https://github.com/seblabbe"
}
```

Replying to [comment:5 ncohen]:
> I don't get what this patch does. 

The patch fixes a problem. The problem is that an exception is catched and replaced by a message error which is misleading. The solution is simply to reraise the error if an error occurs. If no error occurs, then more tests are done as before.

> Why do you remove the whole file ?

The patch does not remove any file. What do you mean?

> If you only want to intercept a specific import error, why don't you do something like that instead ?

Because an `"ImportError"` is already enough. I do not need to be more specific.

Sébastien



---

archive/issue_comments_207561.json:
```json
{
    "body": "Weird. I am pretty sure that when I last clicked to see the branch's code, all it did was to empty a file. `O_o`\n\nI am writing some code for Jeroen at the moment, I will review yours when it is done. One hour from now at most I hope.\n\nNathann",
    "created_at": "2014-06-23T09:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207561",
    "user": "https://github.com/nathanncohen"
}
```

Weird. I am pretty sure that when I last clicked to see the branch's code, all it did was to empty a file. `O_o`

I am writing some code for Jeroen at the moment, I will review yours when it is done. One hour from now at most I hope.

Nathann



---

archive/issue_comments_207562.json:
```json
{
    "body": "I don't get it again : why do you both print a message THEN raise the exception ? If you need to change the message why don't you just raise your exception with a different message ?\n\nNathann",
    "created_at": "2014-06-23T10:59:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207562",
    "user": "https://github.com/nathanncohen"
}
```

I don't get it again : why do you both print a message THEN raise the exception ? If you need to change the message why don't you just raise your exception with a different message ?

Nathann



---

archive/issue_comments_207563.json:
```json
{
    "body": "> If you need to change the message why don't you just raise your exception with a different message ?\n\nI want to keep the message. This is the purpose of this ticket. Changing the error message just hide the real problem.\n\n> I don't get it again : why do you both print a message THEN raise the exception ? \n\nBecause it was like that before and because that printed message is unrelated to the purpose of the ticket. I kept the message because it just gives more information.\n\nBEFORE:\n- print error info about dot2tex    (unrelated to the goal of the ticket)\n- then raise `RunTimeError` with error info about dot2tex  (related to the actual ticket)\n\nNOW:\n- print error info about dot2tex\n- then reraise the error\n\nOk maybe print statement is not clean I agree. Do you want me to fix that part in this ticket? But how should it be then? How to add cleanly info before raising an exception?",
    "created_at": "2014-06-23T15:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207563",
    "user": "https://github.com/seblabbe"
}
```

> If you need to change the message why don't you just raise your exception with a different message ?

I want to keep the message. This is the purpose of this ticket. Changing the error message just hide the real problem.

> I don't get it again : why do you both print a message THEN raise the exception ? 

Because it was like that before and because that printed message is unrelated to the purpose of the ticket. I kept the message because it just gives more information.

BEFORE:
- print error info about dot2tex    (unrelated to the goal of the ticket)
- then raise `RunTimeError` with error info about dot2tex  (related to the actual ticket)

NOW:
- print error info about dot2tex
- then reraise the error

Ok maybe print statement is not clean I agree. Do you want me to fix that part in this ticket? But how should it be then? How to add cleanly info before raising an exception?



---

archive/issue_comments_207564.json:
```json
{
    "body": "> I want to keep the message. This is the purpose of this ticket. Changing the error message just hide the real problem.\n\nWhat I understand is that formerly ths try/except contained too much, while with your patch it only contains the import statement.\n\nSooooooooo there is no risk that catching this ImportError and raising another importerror with a more useful information (i.e. how to install the spkg) would hide anything, is there ?\n\n> Because it was like that before and because that printed message is unrelated to the purpose of the ticket. I kept the message because it just gives more information.\n\nThe message is useful indeed, but you print it before raising an exception.\n\n> BEFORE:\n>  - print error info about dot2tex    (unrelated to the goal of the ticket)\n>  - then raise `RunTimeError` with error info about dot2tex  (related to the actual ticket)\n> \n> NOW:\n>  - print error info about dot2tex\n>  - then reraise the error\n> \n> Ok maybe print statement is not clean I agree. Do you want me to fix that part in this ticket? But how should it be then? How to add cleanly info before raising an exception?\n\nI still do not understand. What could possibly go wrong with that :\n\n\n```\ntry:\n    import dot2tex\nexcept ImportError:\n    raise ImportError(the_more_meaningful_message_that_you_currently_print)\n```\n\n\nNathann",
    "created_at": "2014-06-23T15:35:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207564",
    "user": "https://github.com/nathanncohen"
}
```

> I want to keep the message. This is the purpose of this ticket. Changing the error message just hide the real problem.

What I understand is that formerly ths try/except contained too much, while with your patch it only contains the import statement.

Sooooooooo there is no risk that catching this ImportError and raising another importerror with a more useful information (i.e. how to install the spkg) would hide anything, is there ?

> Because it was like that before and because that printed message is unrelated to the purpose of the ticket. I kept the message because it just gives more information.

The message is useful indeed, but you print it before raising an exception.

> BEFORE:
>  - print error info about dot2tex    (unrelated to the goal of the ticket)
>  - then raise `RunTimeError` with error info about dot2tex  (related to the actual ticket)
> 
> NOW:
>  - print error info about dot2tex
>  - then reraise the error
> 
> Ok maybe print statement is not clean I agree. Do you want me to fix that part in this ticket? But how should it be then? How to add cleanly info before raising an exception?

I still do not understand. What could possibly go wrong with that :


```
try:
    import dot2tex
except ImportError:
    raise ImportError(the_more_meaningful_message_that_you_currently_print)
```


Nathann



---

archive/issue_comments_207565.json:
```json
{
    "body": "> Sooooooooo there is no risk that catching this ImportError and raising another importerror with a more useful information (i.e. how to install the spkg) would hide anything, is there ? \n\nYes there is.\n\n> I still do not understand. What could possibly go wrong with that : \n> {{{\n> try:\n>     import dot2tex\n> except ImportError:\n>     raise ImportError(the_more_meaningful_message_that_you_currently_print)\n> }}}\n\nSuppose `import dot2tex` raises an `ImportError` which is caused by the importation of another module like `pyparsing` (see the description of the ticket). Then the more meaningful message that you can think of will be confusing because it will not give you the error traceback for the pyparsing import error.\n\nThis is what happen to me for some version of Sage with some version of dot2tex spkg two months ago and motivated me to create this ticket. The import error of pyparsing was not appearing on the screen and I had to fix the code and reraise the real error to see what was the problem.",
    "created_at": "2014-06-23T16:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207565",
    "user": "https://github.com/seblabbe"
}
```

> Sooooooooo there is no risk that catching this ImportError and raising another importerror with a more useful information (i.e. how to install the spkg) would hide anything, is there ? 

Yes there is.

> I still do not understand. What could possibly go wrong with that : 
> {{{
> try:
>     import dot2tex
> except ImportError:
>     raise ImportError(the_more_meaningful_message_that_you_currently_print)
> }}}

Suppose `import dot2tex` raises an `ImportError` which is caused by the importation of another module like `pyparsing` (see the description of the ticket). Then the more meaningful message that you can think of will be confusing because it will not give you the error traceback for the pyparsing import error.

This is what happen to me for some version of Sage with some version of dot2tex spkg two months ago and motivated me to create this ticket. The import error of pyparsing was not appearing on the screen and I had to fix the code and reraise the real error to see what was the problem.



---

archive/issue_comments_207566.json:
```json
{
    "body": "HMmmmmmm.. I see.\n\nThen indeed I don't know how to do it any better than what you have in your branch. Too bad `:-/`\n\nNathann",
    "created_at": "2014-06-23T16:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207566",
    "user": "https://github.com/nathanncohen"
}
```

HMmmmmmm.. I see.

Then indeed I don't know how to do it any better than what you have in your branch. Too bad `:-/`

Nathann



---

archive/issue_comments_207567.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-23T16:24:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207567",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_207568.json:
```json
{
    "body": "Thanks Nathann.",
    "created_at": "2014-06-23T16:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207568",
    "user": "https://github.com/seblabbe"
}
```

Thanks Nathann.



---

archive/issue_comments_207569.json:
```json
{
    "body": "Instead of\n\n```python\nexcept ImportError as e:\n    print import_error_string\n    raise # re-raise current exception\n```\n\n(by the way, I don't think you need the \"as e\" part), you could do\n\n```python\nexcept ImportError:\n    raise ImportError(import_error_string)\n```\n\nWould that be better?",
    "created_at": "2014-06-23T17:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207569",
    "user": "https://github.com/jhpalmieri"
}
```

Instead of

```python
except ImportError as e:
    print import_error_string
    raise # re-raise current exception
```

(by the way, I don't think you need the "as e" part), you could do

```python
except ImportError:
    raise ImportError(import_error_string)
```

Would that be better?



---

archive/issue_comments_207570.json:
```json
{
    "body": "> {{{\n> #!python\n> except ImportError:\n>     raise ImportError(import_error_string)\n> }}}\n> Would that be better?\n\nNo. It is basically what it was before. It loses what creates the error.\n\n> (by the way, I don't think you need the \"as e\" part), you could do\n\nYou are right.\n\nI forgot to remove it after I tried to add info in e unsuccessfully:\n\n\n```python\nexcept ImportError as e:\n    e.add_info_method(import_error_string) #  <--- how to do this?\n    raise e # re-raise current exception\n```\n",
    "created_at": "2014-06-23T20:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207570",
    "user": "https://github.com/seblabbe"
}
```

> {{{
> #!python
> except ImportError:
>     raise ImportError(import_error_string)
> }}}
> Would that be better?

No. It is basically what it was before. It loses what creates the error.

> (by the way, I don't think you need the "as e" part), you could do

You are right.

I forgot to remove it after I tried to add info in e unsuccessfully:


```python
except ImportError as e:
    e.add_info_method(import_error_string) #  <--- how to do this?
    raise e # re-raise current exception
```




---

archive/issue_comments_207571.json:
```json
{
    "body": "How about something like:\n\n```python\nexcept ImportError as e:\n    raise ImportError(e.message + import_error_string)\n```\n",
    "created_at": "2014-06-23T22:17:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207571",
    "user": "https://github.com/jhpalmieri"
}
```

How about something like:

```python
except ImportError as e:
    raise ImportError(e.message + import_error_string)
```




---

archive/issue_comments_207572.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-24T00:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207572",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_207573.json:
```json
{
    "body": "Replying to [comment:18 jhpalmieri]:\n> How about something like:\n> {{{\n> #!python\n> except ImportError as e:\n>     raise ImportError(e.message + import_error_string)\n> }}}\n\nWith this we lose the traceback of the original error... Same thing for the following :\n\n\n```python\nexcept ImportError as e:\n    e.args = (e.message + import_error_string,)\n    raise e\n```\n",
    "created_at": "2014-06-24T08:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207573",
    "user": "https://github.com/seblabbe"
}
```

Replying to [comment:18 jhpalmieri]:
> How about something like:
> {{{
> #!python
> except ImportError as e:
>     raise ImportError(e.message + import_error_string)
> }}}

With this we lose the traceback of the original error... Same thing for the following :


```python
except ImportError as e:
    e.args = (e.message + import_error_string,)
    raise e
```




---

archive/issue_comments_207574.json:
```json
{
    "body": "Swallowing the traceback is good if you can give a better diagnosis. But I'd avoid randomly changing the error message as it'll be actually harmful if you do a web search for it.\n\nIn any case, this ticket is closed.",
    "created_at": "2014-06-24T12:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16005",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16005#issuecomment-207574",
    "user": "https://github.com/vbraun"
}
```

Swallowing the traceback is good if you can give a better diagnosis. But I'd avoid randomly changing the error message as it'll be actually harmful if you do a web search for it.

In any case, this ticket is closed.
