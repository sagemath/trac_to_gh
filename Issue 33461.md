# Issue 33461: bool of symbolic inequality does not agree with documentation

Issue created by migration from https://trac.sagemath.org/ticket/33698

Original creator: @DaveWitteMorris

Original creation time: 2022-04-12 19:32:04

The docstring of `sage.symbolic.expression.__bool__` says that a relation `f(x) op g(x)` will evaluate to `True` if it is satisfied for all values of `x`, and will evaluate to `False` otherwise. ("We cannot return undecidable or throw an exception at the moment so `False` is returned for unknown outcomes.") But that is not how inequality behaves:

```
sage: bool(x != 1)  # false for `x = 1`, so should be `False`
True
```

The doctest for this behavior passes because inequality does behave as described if an assumption is added (and a previous doctest added an assumption):

```
sage: assume(x > 0)
sage: bool(x != 1)
False
sage: forget()
sage: assume(x < 0)
sage: bool(x != 1)
True
```

We need to either change the docstring or change the behaviour of inequality. Also, adding an assumption should not change the behaviour.

Related tickets:
* This problem was discovered while tracking down the bug in #33697.
* Some trac tickets (such as #17700 and #21923) have discussed using 3-valued logic (or raising an exception) instead of returning `False` for unknown outcomes.



---

Comment by @DaveWitteMorris created at 2022-04-12 19:57:56

I fixed the doctest in `src/sage/symbolic/expression.pyx` (by adding `forget()`), so a doctest fails now, because of the problem in the ticket description. (Sorry, I forgot to do "git commit" before my first push, but I think the branch is ok now.)
----
New commits:
