# Issue 11168: Make nauty's geng work as a generator

Issue created by migration from https://trac.sagemath.org/ticket/11340

Original creator: rbeezer

Original creation time: 2011-05-17 03:02:22

Assignee: jason, ncohen, rlm

CC:  ncohen fidelbarrera

Output produced by nauty's geng program can be quite large.  Currently, an entire list is created and returned.  The 1,018,997,864 graphs on n=11 vertices can overwhelm RAM when produced all at once.  This patch reorganizes the `nauty_geng()` command to produce a generator, so graphs can be created, tested and then discarded or saved - which would be the typical use of this command.  Of course, for smaller values of  n  it is still possible to quickly build a list from the generator.

This also upgrades the system call, since `os.popen()` is deprecated in Python.


---

Attachment


---

Comment by rbeezer created at 2011-05-17 03:07:46

Changing status from new to needs_review.


---

Comment by ncohen created at 2011-05-17 15:14:26

Nice patch ! `:-)`

Everything seems perfect, and I just have a question : what about removing the options which change the output, as the method would not be able to cast them to Sage graph ? If it is just in case the user would like to change the output with "debug = True", what about : "do not set an option to change this default or results will be unpredictable, unless ``debug`` is set to ``True``" ?

Nathann


---

Attachment

Replying to [comment:2 ncohen]:
> I just have a question : what about removing the options which change the output, as the method would not be able to cast them to Sage graph ? 

Nathann - thanks for having a look at this.  That's a good point - no reason to advertise options that would be harmful.  I had not taken such a close look at what I was putting there.

v2 patch is standalone, it removes these options from the list, and adds a bit more commentary about these options.  I also spruced up the doctests a bit.  No changes to the code.

Thanks,
Rob


---

Comment by ncohen created at 2011-05-17 16:58:43

Goooooooood to go ! `:-)`

Thanks !!

Nathann


---

Comment by ncohen created at 2011-05-17 16:58:43

Changing status from needs_review to positive_review.


---

Comment by rbeezer created at 2011-05-17 21:30:52

Replying to [comment:4 ncohen]:
> Goooooooood to go ! `:-)`

Thanks for the quick review!

Rob


---

Comment by ncohen created at 2011-05-17 21:33:08

I try to keep the tickets waiting for review in the Graph section to the bare minimum : those I can not review myself `:-D`

Nathann


---

Comment by jdemeyer created at 2011-05-31 17:06:21

Resolution: fixed
