# Issue 22683: Maxima library interface is broken for symbolic sums and products

archive/issues_022683.json:
```json
{
    "body": "CC:  rws\n\nKeywords: symbolics\n\n\n```sage\nsage: var(\"j,p\", domain=\"integer\")\n(j, p)\nsage: X=function(\"X\")\n```\n\nCompare :\n\n```sage\nsage: foo=sum(X(j),j,1,p);foo\nsum(X(j), j, 1, p)\nsage: bar=maxima(\"sum(X(j),j,1,p)\").sage();bar\nsum(X(j), j, 1, p)\nsage: bool(foo==bar)\nTrue\n```\n\nwith\n\n```sage\nsage: gee=X(j).maxima_methods().sum(j,1,p);gee\np*X(j)                   ## Nonsense...\nsage: bool(foo==gee)\nFalse\n```\n\n\nThe problem also exists with products, but there is currently (Sage 8.0.beta4) no Sage function creating a symbolic product. Compare :\n\n```\nsage: maxima(\"prod(X(j),j,1,p)\")\n'product(X(j),j,1,p)\nsage: X(j).maxima_methods().prod(j,1,p)\nX(j)^p\n```\n\n#22914 aims at fixing the product \"problem\", which is larger (and maybe different).\n\nIssue created by migration from https://trac.sagemath.org/ticket/22920\n\n",
    "created_at": "2017-05-01T16:51:42Z",
    "labels": [
        "interfaces",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Maxima library interface is broken for symbolic sums and products",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22683",
    "user": "charpent"
}
```
CC:  rws

Keywords: symbolics


```sage
sage: var("j,p", domain="integer")
(j, p)
sage: X=function("X")
```

Compare :

```sage
sage: foo=sum(X(j),j,1,p);foo
sum(X(j), j, 1, p)
sage: bar=maxima("sum(X(j),j,1,p)").sage();bar
sum(X(j), j, 1, p)
sage: bool(foo==bar)
True
```

with

```sage
sage: gee=X(j).maxima_methods().sum(j,1,p);gee
p*X(j)                   ## Nonsense...
sage: bool(foo==gee)
False
```


The problem also exists with products, but there is currently (Sage 8.0.beta4) no Sage function creating a symbolic product. Compare :

```
sage: maxima("prod(X(j),j,1,p)")
'product(X(j),j,1,p)
sage: X(j).maxima_methods().prod(j,1,p)
X(j)^p
```

#22914 aims at fixing the product "problem", which is larger (and maybe different).

Issue created by migration from https://trac.sagemath.org/ticket/22920





---

archive/issue_comments_316336.json:
```json
{
    "body": "The product part is #17502.",
    "created_at": "2017-05-02T05:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22683#issuecomment-316336",
    "user": "rws"
}
```

The product part is #17502.
