# Issue 31234: Matrix-wise functions for univariate polynomial matrices

Issue created by migration from https://trac.sagemath.org/ticket/31471

Original creator: @vneiger

Original creation time: 2021-03-08 10:06:27

CC:  @ke456

Keywords: polynomial matrix; univariate polynomials

Some **polynomial-type operations** should be made available **matrix-wise**:
* `monic` (make each row-wise/column-wise leading polynomial monic)
* `truncation` (and more generally, mod by a polynomial? careful: mod method exists for this type of objects)
* `shift` (multiplication by power of variable)
* `reverse` (same polynomial with coefficients reversed; here w.r.t to matrix degree but also finer prescribed column-wise or row-wise bounds)

To be decided whether this should be added:
* get constant coefficient or coefficient of specified degree
* test `is_constant`


---

Comment by git created at 2021-03-09 17:47:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-03-09 17:53:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @vneiger created at 2021-03-09 17:55:35

Update:
* the truncation function is complete
* monic is probably not a good idea to have as a general method; use cases are not clear for an arbitrary matrix: it could be more specifically targeted towards weak Popov form matrices.


---

Comment by git created at 2021-03-09 18:52:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-03-09 21:40:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @vneiger created at 2021-03-09 21:47:45

All the listed enhancements have been realized, along with tests and documentation. The methods support uniform actions, and also row-wise or column-wise ones where applicable (i.e. all methods except `constant_matrix` and `is_constant`).

Regarding naming:
* `constant_matrix` seems to be preferred over things like `constant_term` or `constant_coefficient`, since `coefficients` and `terms` are already existing methods relating to other notions
* I am ready to discuss the name for `matrix_coefficient_of_degree`, which I find too verbose.


---

Comment by @vneiger created at 2021-03-10 19:09:05

Changing status from new to needs_review.


---

Comment by @ke456 created at 2021-03-11 01:51:33

Things look good for the most part. Two suggestions:
1) for reverse, we should have an option to reverse polynomials wrt its own degree (rather than the degree of the polynomial matrix) when degrees are not specified - perhaps we can add a parameter entry_wise=False;
2) coefficient_matrix might be a less verbose name than matrix_coefficient_of_degree


---

Comment by git created at 2021-03-11 08:34:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @vneiger created at 2021-03-11 08:36:35

Thank you for the two suggestions: I followed them for the additional `entry_wise` parameter, and for the `coefficient_matrix` name (less verbose, and also less confusing than things which would be too close to the `coefficients` and `terms` methods).

I also simplified the code a bit, since there was harmless but unnecessary lines supposed to handle matrices having zero rows or zero columns (or both).


---

Comment by git created at 2021-03-11 11:22:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @vneiger created at 2021-03-11 11:24:21

Ready for second round of reviewing, thank you.


---

Comment by @ke456 created at 2021-03-17 04:34:24

The new changes seem to address the previous comment fully.


---

Comment by @ke456 created at 2021-03-17 04:34:35

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-03-20 15:27:31

Resolution: fixed
