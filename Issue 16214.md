# Issue 16214: Implement a better search for highest weight elements in a tensor product of cystals

archive/issues_016214.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat aschilling nthiery\n\nKeywords: crystals, tensor products\n\nCurrently in a tensor product of crystals, we search through all elements and filter. However if given a highest weight element in a tensor product `a (x) b`, then `b` must be highest weight. This means we can use a backtracing algorithm to find all highest weight elements which this ticket implements.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16451\n\n",
    "created_at": "2014-06-06T03:49:35Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Implement a better search for highest weight elements in a tensor product of cystals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16214",
    "user": "tscrim"
}
```
Assignee: sage-combinat

CC:  sage-combinat aschilling nthiery

Keywords: crystals, tensor products

Currently in a tensor product of crystals, we search through all elements and filter. However if given a highest weight element in a tensor product `a (x) b`, then `b` must be highest weight. This means we can use a backtracing algorithm to find all highest weight elements which this ticket implements.

Issue created by migration from https://trac.sagemath.org/ticket/16451





---

archive/issue_comments_211706.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-06T05:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211706",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_211707.json:
```json
{
    "body": "As far as I can tell, this is independent of #16001.\n\nNicolas, can you make a quick check to make sure I'm doing everything correctly? If I am, I think I've found a bug for `Modules`:\n\n```\nsage: Modules(QQ).TensorProducts()\nCategory of objects\n```\n\n----\nNew commits:",
    "created_at": "2014-06-06T05:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211707",
    "user": "tscrim"
}
```

As far as I can tell, this is independent of #16001.

Nicolas, can you make a quick check to make sure I'm doing everything correctly? If I am, I think I've found a bug for `Modules`:

```
sage: Modules(QQ).TensorProducts()
Category of objects
```

----
New commits:



---

archive/issue_comments_211708.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-16T18:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211708",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_211709.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-16T18:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211709",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_211710.json:
```json
{
    "body": "Hey Anne,\n\nNicolas looked at the category code and layout today and I made the necessary changes. The only thing needing review is the backtracing algorithm in `highest_weight_crystals.py`; would you be willing to finish the review.\n\nThanks,\n\nTravis",
    "created_at": "2014-08-16T18:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211710",
    "user": "tscrim"
}
```

Hey Anne,

Nicolas looked at the category code and layout today and I made the necessary changes. The only thing needing review is the backtracing algorithm in `highest_weight_crystals.py`; would you be willing to finish the review.

Thanks,

Travis



---

archive/issue_comments_211711.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-17T04:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211711",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_211712.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2014-08-17T05:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211712",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_211713.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-08-17T05:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211713",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_211714.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-17T05:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211714",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_211715.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-08-18T11:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211715",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_211716.json:
```json
{
    "body": "\n```\nsage -t --long src/doc/en/thematic_tutorials/lie/crystals.rst\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/lie/crystals.rst\", line 701, in doc.en.thematic_tutorials.lie.crystals\nFailed example:\n    T.highest_weight_vectors()\nExpected:\n    [[1, 1, 1], [1, 2, 1], [2, 1, 1], [3, 2, 1]]\nGot:\n    ([1, 1, 1], [2, 1, 1], [1, 2, 1], [3, 2, 1])\n**********************************************************************\n1 item had failures:\n   1 of 147 in doc.en.thematic_tutorials.lie.crystals\n    [113 tests, 1 failure, 1.85 s]\n```\n",
    "created_at": "2014-08-18T11:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211716",
    "user": "vbraun"
}
```


```
sage -t --long src/doc/en/thematic_tutorials/lie/crystals.rst
**********************************************************************
File "src/doc/en/thematic_tutorials/lie/crystals.rst", line 701, in doc.en.thematic_tutorials.lie.crystals
Failed example:
    T.highest_weight_vectors()
Expected:
    [[1, 1, 1], [1, 2, 1], [2, 1, 1], [3, 2, 1]]
Got:
    ([1, 1, 1], [2, 1, 1], [1, 2, 1], [3, 2, 1])
**********************************************************************
1 item had failures:
   1 of 147 in doc.en.thematic_tutorials.lie.crystals
    [113 tests, 1 failure, 1.85 s]
```




---

archive/issue_comments_211717.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-18T15:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211717",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_211718.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-08-18T15:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211718",
    "user": "tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_211719.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-08-19T10:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16214",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16214#issuecomment-211719",
    "user": "vbraun"
}
```

Resolution: fixed
