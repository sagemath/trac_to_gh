# Issue 23740: QuadraticForm evaluation broken.

Issue created by migration from Trac.

Original creator: sbrandhorst

Original creation time: 2017-10-06 09:39:30


```
sage: Q=QuadraticForm(matrix.diagonal([2,-2]))
sage: Q

Quadratic form in 2 variables over Integer Ring with coefficients: 
[ 1 0 ]
[ * -1 ]
sage: Q.polynomial()
2*x0^2 - 2*x1^2
sage: Q(vector(ZZ,[36,25]))
671
```

Clearly, the correct answer is 22.
Evaluating quadratic forms is the one thing in the quadratic forms package that MUST not have a bug. Thus this is a blocker.


---

Comment by sbrandhorst created at 2017-10-06 12:48:43

Changing priority from blocker to minor.


---

Comment by sbrandhorst created at 2017-11-24 10:19:54

Changing status from new to needs_review.


---

Comment by annahaensch created at 2017-12-02 22:32:38

I understand the inconsistency that you're pointing out here in the description, but there doesn't appear to be any branch associated to this ticked.  Did you forget to commit and push your changes to trac?


---

Comment by sbrandhorst created at 2017-12-03 15:33:03

Indeed. There you go.
----
New commits:


---

Comment by annahaensch created at 2017-12-04 17:36:31

Coverage tests pass, doctests pass, the code does what it says it should. Looks good to me!


---

Comment by annahaensch created at 2017-12-04 17:37:54

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2017-12-05 08:55:39

You should fill the Authors and Reviewers fields with your real names.


---

Comment by sbrandhorst created at 2017-12-05 11:19:00

Thank you. Forgot about that.


---

Comment by vbraun created at 2017-12-13 22:01:14

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2017-12-13 22:01:14

See patchbot


---

Comment by git created at 2017-12-14 07:21:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2017-12-14 07:23:34

Changing status from needs_work to needs_review.


---

Comment by sbrandhorst created at 2017-12-14 07:35:38

`@`Volker your code in sage.rings.invariant_theory seems to assume characteristic 0?
At least it fails for characteristic 2.


---

Comment by annahaensch created at 2018-02-16 14:36:56

As far as I can see this looks good and it passes all doctests. I'm ready to give it a positive review.


---

Comment by annahaensch created at 2018-02-16 14:37:23

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-02-18 12:52:14

Resolution: fixed
