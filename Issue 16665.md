# Issue 16665: Advertise sig_check() better in the developers manual

archive/issues_016665.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/16902\n\n",
    "created_at": "2014-08-29T11:46:49Z",
    "labels": [
        "documentation",
        "minor",
        "enhancement"
    ],
    "title": "Advertise sig_check() better in the developers manual",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16665",
    "user": "jdemeyer"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/16902





---

archive/issue_comments_220041.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-29T15:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220041",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_220042.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-08-29T15:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220042",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_220043.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-08-29T17:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220043",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_220044.json:
```json
{
    "body": "1) `sig_on/sig_off` is Sage specific or is it included within Cython? It would be worth mentioning it. If it is Sage specific, why is that? and how do people coding in Cython do? (seems to be `with nogil`). If it is shipped with Cython, there should a pointer toward its documentation.\n\n2) I am not sure that the following example is relevant.\n\n```\ndef stack_sig_on():\n    sig_on()\n    sig_on()\n    sig_on()\n    # (some code)\n    sig_off()\n    sig_off()\n    sig_off()\n```\n\nI mean, what would be the purpose of such code? If it is none, it is still interesting to mention it within a stack of calls like\n\n```\ndef f1():\n    sig_on()\n    x = f2()\n    sig_off()\n    # ...\n\ndef f2():\n    sig_on()\n    # ...\n    sig_off()\n    return ans\n```\n\n\n3) The section `Releasing the Global Interpreter Lock (GIL)` was a bit obscure to me. It would be nice to have one sentence to say what it is. I guess it is related to my remark 1.\n\n4) After reading the implementation of `alarm` I wonder why using `alarm` in doctests rather than directly the `setitimer` from the `signal` library? It is basically in `TESTS` blocks that such test\nwould appear, and involving there the `signal` library is not ugly (and people reading it will learn about it instead of learning Sage wrapper!)\n\nI learned many things reading it!\nThanks!\nVincent",
    "created_at": "2014-08-29T17:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220044",
    "user": "vdelecroix"
}
```

1) `sig_on/sig_off` is Sage specific or is it included within Cython? It would be worth mentioning it. If it is Sage specific, why is that? and how do people coding in Cython do? (seems to be `with nogil`). If it is shipped with Cython, there should a pointer toward its documentation.

2) I am not sure that the following example is relevant.

```
def stack_sig_on():
    sig_on()
    sig_on()
    sig_on()
    # (some code)
    sig_off()
    sig_off()
    sig_off()
```

I mean, what would be the purpose of such code? If it is none, it is still interesting to mention it within a stack of calls like

```
def f1():
    sig_on()
    x = f2()
    sig_off()
    # ...

def f2():
    sig_on()
    # ...
    sig_off()
    return ans
```


3) The section `Releasing the Global Interpreter Lock (GIL)` was a bit obscure to me. It would be nice to have one sentence to say what it is. I guess it is related to my remark 1.

4) After reading the implementation of `alarm` I wonder why using `alarm` in doctests rather than directly the `setitimer` from the `signal` library? It is basically in `TESTS` blocks that such test
would appear, and involving there the `signal` library is not ugly (and people reading it will learn about it instead of learning Sage wrapper!)

I learned many things reading it!
Thanks!
Vincent



---

archive/issue_comments_220045.json:
```json
{
    "body": "Replying to [comment:3 vdelecroix]:\n> 1) `sig_on/sig_off` is Sage specific or is it included within Cython? It would be worth mentioning it. If it is Sage specific, why is that? and how do people coding in Cython do? (seems to be `with nogil`). If it is shipped with Cython, there should a pointer toward its documentation.\nIt is completely Sage-specific, I guess other people writing Cython code do not care about interrupts. There has been talking about putting these in Cython, but that has not happened yet.\n\n> 2) If it is none, it is still interesting to mention it within a stack of calls like\n> {{{\n> def f1():\n>     sig_on()\n>     x = f2()\n>     sig_off()\n>     # ...\n> \n> def f2():\n>     sig_on()\n>     # ...\n>     sig_off()\n>     return ans\n> }}}\nGood suggestion!\n\n> 3) The section `Releasing the Global Interpreter Lock (GIL)` was a bit obscure to me. It would be nice to have one sentence to say what it is. I guess it is related to my remark 1.\nIt is one of those things where, if you don't know it, you don't need to care. But I can put a link to the Cython documentation.\n\n> 4) After reading the implementation of `alarm` I wonder why using `alarm` in doctests rather than directly the `setitimer` from the `signal` library?\nBecause `alarm()` is much cleaner.\n\n> It is basically in `TESTS` blocks that such test\n> would appear, and involving there the `signal` library is not ugly\nWhy is it not ugly?\n\n> and people reading it will learn about it instead of learning Sage wrapper!\nIf people care about Sage's wrapper, they can still figure out the implementation and can find out about `setitimer` that way.",
    "created_at": "2014-08-29T18:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220045",
    "user": "jdemeyer"
}
```

Replying to [comment:3 vdelecroix]:
> 1) `sig_on/sig_off` is Sage specific or is it included within Cython? It would be worth mentioning it. If it is Sage specific, why is that? and how do people coding in Cython do? (seems to be `with nogil`). If it is shipped with Cython, there should a pointer toward its documentation.
It is completely Sage-specific, I guess other people writing Cython code do not care about interrupts. There has been talking about putting these in Cython, but that has not happened yet.

> 2) If it is none, it is still interesting to mention it within a stack of calls like
> {{{
> def f1():
>     sig_on()
>     x = f2()
>     sig_off()
>     # ...
> 
> def f2():
>     sig_on()
>     # ...
>     sig_off()
>     return ans
> }}}
Good suggestion!

> 3) The section `Releasing the Global Interpreter Lock (GIL)` was a bit obscure to me. It would be nice to have one sentence to say what it is. I guess it is related to my remark 1.
It is one of those things where, if you don't know it, you don't need to care. But I can put a link to the Cython documentation.

> 4) After reading the implementation of `alarm` I wonder why using `alarm` in doctests rather than directly the `setitimer` from the `signal` library?
Because `alarm()` is much cleaner.

> It is basically in `TESTS` blocks that such test
> would appear, and involving there the `signal` library is not ugly
Why is it not ugly?

> and people reading it will learn about it instead of learning Sage wrapper!
If people care about Sage's wrapper, they can still figure out the implementation and can find out about `setitimer` that way.



---

archive/issue_comments_220046.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-29T19:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220046",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_220047.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-08-29T19:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220047",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_220048.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2014-08-29T19:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220048",
    "user": "jdemeyer"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_220049.json:
```json
{
    "body": "Nothing more to say. You can set to positive review or ask another signal newbie to reread it!\n\nVincent",
    "created_at": "2014-08-29T19:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220049",
    "user": "vdelecroix"
}
```

Nothing more to say. You can set to positive review or ask another signal newbie to reread it!

Vincent



---

archive/issue_comments_220050.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-30T07:43:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220050",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_220051.json:
```json
{
    "body": "my complaint about the change is about the line\n\n```\nor possibly the next Python code.\n```\n\nthis is too vague (and grammatically weird - it should better be `Python statement`). \n\nDoes it mean that one need reach a Python exception? Or any Python statement?\nAnd what is the role of the word `possible` there? I don't get it.",
    "created_at": "2014-08-30T19:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220051",
    "user": "dimpase"
}
```

my complaint about the change is about the line

```
or possibly the next Python code.
```

this is too vague (and grammatically weird - it should better be `Python statement`). 

Does it mean that one need reach a Python exception? Or any Python statement?
And what is the role of the word `possible` there? I don't get it.



---

archive/issue_comments_220052.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-08-30T19:55:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220052",
    "user": "dimpase"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_220053.json:
```json
{
    "body": "Replying to [comment:9 dimpase]:\n> it should better be `Python statement`.\nI could change this.\n\n> Or any Python statement?\n> And what is the role of the word `possible` there? I don't get it.\nI mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:\n\n```\ncython('while True: print \"foo\"')\n```\n\nBut the following cannot be interrupted:\n\n```\ncython('while True: x = [\"foo\"] * 100')\n```\n",
    "created_at": "2014-08-30T20:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220053",
    "user": "jdemeyer"
}
```

Replying to [comment:9 dimpase]:
> it should better be `Python statement`.
I could change this.

> Or any Python statement?
> And what is the role of the word `possible` there? I don't get it.
I mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:

```
cython('while True: print "foo"')
```

But the following cannot be interrupted:

```
cython('while True: x = ["foo"] * 100')
```




---

archive/issue_comments_220054.json:
```json
{
    "body": "Replying to [comment:11 jdemeyer]:\n> Replying to [comment:9 dimpase]:\n> > it should better be `Python statement`.\n> I could change this.\nyes please.\n\n> \n> > Or any Python statement?\n> > And what is the role of the word `possible` there? I don't get it.\n> I mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:\n> {{{\n> cython('while True: print \"foo\"')\n> }}}\n> But the following cannot be interrupted:\n> {{{\n> cython('while True: x = [\"foo\"] * 100')\n> }}}\n\nDo you mean to say that Python won't be able to catch the interrupt in the former case, but not in the latter case (i.e. the latter loop will keep running)?",
    "created_at": "2014-08-30T21:16:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220054",
    "user": "dimpase"
}
```

Replying to [comment:11 jdemeyer]:
> Replying to [comment:9 dimpase]:
> > it should better be `Python statement`.
> I could change this.
yes please.

> 
> > Or any Python statement?
> > And what is the role of the word `possible` there? I don't get it.
> I mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:
> {{{
> cython('while True: print "foo"')
> }}}
> But the following cannot be interrupted:
> {{{
> cython('while True: x = ["foo"] * 100')
> }}}

Do you mean to say that Python won't be able to catch the interrupt in the former case, but not in the latter case (i.e. the latter loop will keep running)?



---

archive/issue_comments_220055.json:
```json
{
    "body": "Replying to [comment:12 dimpase]:\n> Replying to [comment:11 jdemeyer]:\n> > Replying to [comment:9 dimpase]:\n> > > it should better be `Python statement`.\n> > I could change this.\n> yes please.\n> \n> > \n> > > Or any Python statement?\n> > > And what is the role of the word `possible` there? I don't get it.\n> > I mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:\n> > {{{\n> > cython('while True: print \"foo\"')\n> > }}}\n> > But the following cannot be interrupted:\n> > {{{\n> > cython('while True: x = [\"foo\"] * 100')\n> > }}}\n> \n> Do you mean to say that Python won't be able to catch the interrupt in the former case, but not in the latter case (i.e. the latter loop will keep running)?\nI mean that the loop in the last case will keep running because Python doesn't check for interrupts when executing `x = [\"foo\"] * 100`.",
    "created_at": "2014-08-30T21:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220055",
    "user": "jdemeyer"
}
```

Replying to [comment:12 dimpase]:
> Replying to [comment:11 jdemeyer]:
> > Replying to [comment:9 dimpase]:
> > > it should better be `Python statement`.
> > I could change this.
> yes please.
> 
> > 
> > > Or any Python statement?
> > > And what is the role of the word `possible` there? I don't get it.
> > I mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:
> > {{{
> > cython('while True: print "foo"')
> > }}}
> > But the following cannot be interrupted:
> > {{{
> > cython('while True: x = ["foo"] * 100')
> > }}}
> 
> Do you mean to say that Python won't be able to catch the interrupt in the former case, but not in the latter case (i.e. the latter loop will keep running)?
I mean that the loop in the last case will keep running because Python doesn't check for interrupts when executing `x = ["foo"] * 100`.



---

archive/issue_comments_220056.json:
```json
{
    "body": "Replying to [comment:13 jdemeyer]:\n> Replying to [comment:12 dimpase]:\n> > Replying to [comment:11 jdemeyer]:\n> > > Replying to [comment:9 dimpase]:\n> > > > it should better be `Python statement`.\n> > > I could change this.\n> > yes please.\n> > \n> > > \n> > > > Or any Python statement?\n> > > > And what is the role of the word `possible` there? I don't get it.\n> > > I mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:\n> > > {{{\n> > > cython('while True: print \"foo\"')\n> > > }}}\n> > > But the following cannot be interrupted:\n> > > {{{\n> > > cython('while True: x = [\"foo\"] * 100')\n> > > }}}\n> > \n> > Do you mean to say that Python won't be able to catch the interrupt in the former case, but not in the latter case (i.e. the latter loop will keep running)?\n> I mean that the loop in the last case will keep running because Python doesn't check for interrupts when executing `x = [\"foo\"] * 100`.\n\nWhereas if the next statement after the latter was also cython, it would be terminated?\nIs this what you mean by `possibly`?",
    "created_at": "2014-08-30T21:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220056",
    "user": "dimpase"
}
```

Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 dimpase]:
> > Replying to [comment:11 jdemeyer]:
> > > Replying to [comment:9 dimpase]:
> > > > it should better be `Python statement`.
> > > I could change this.
> > yes please.
> > 
> > > 
> > > > Or any Python statement?
> > > > And what is the role of the word `possible` there? I don't get it.
> > > I mean that Python code can sometimes raise a `KeyboardInterrupt`, but I also don't know exactly when this happens. For example, the following can be interrupted:
> > > {{{
> > > cython('while True: print "foo"')
> > > }}}
> > > But the following cannot be interrupted:
> > > {{{
> > > cython('while True: x = ["foo"] * 100')
> > > }}}
> > 
> > Do you mean to say that Python won't be able to catch the interrupt in the former case, but not in the latter case (i.e. the latter loop will keep running)?
> I mean that the loop in the last case will keep running because Python doesn't check for interrupts when executing `x = ["foo"] * 100`.

Whereas if the next statement after the latter was also cython, it would be terminated?
Is this what you mean by `possibly`?



---

archive/issue_comments_220057.json:
```json
{
    "body": "Replying to [comment:14 dimpase]:\n> Whereas if the next statement after the latter was also cython, it would be terminated?\nNo, that's not what I mean. Pure Cython statements (which do not involve Python library calls) can never be interrupted.",
    "created_at": "2014-08-30T22:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220057",
    "user": "jdemeyer"
}
```

Replying to [comment:14 dimpase]:
> Whereas if the next statement after the latter was also cython, it would be terminated?
No, that's not what I mean. Pure Cython statements (which do not involve Python library calls) can never be interrupted.



---

archive/issue_comments_220058.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-30T22:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220058",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_220059.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-08-30T22:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220059",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_220060.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-30T22:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220060",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_220061.json:
```json
{
    "body": "\n```\nFile \"src/doc/en/developer/coding_in_cython.rst\", line 253, in doc.en.developer.coding_in_cython\nFailed example:\n    cython('print \"Hello\"')\nExpected nothing\nGot:\n    Hello\n```\n",
    "created_at": "2014-09-05T16:55:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220061",
    "user": "vbraun"
}
```


```
File "src/doc/en/developer/coding_in_cython.rst", line 253, in doc.en.developer.coding_in_cython
Failed example:
    cython('print "Hello"')
Expected nothing
Got:
    Hello
```




---

archive/issue_comments_220062.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-09-05T16:55:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220062",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_220063.json:
```json
{
    "body": "Obviously :-)",
    "created_at": "2014-09-05T19:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220063",
    "user": "jdemeyer"
}
```

Obviously :-)



---

archive/issue_comments_220064.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-05T19:44:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220064",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_220065.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-09-05T20:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220065",
    "user": "jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_220066.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-09-08T08:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220066",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_220067.json:
```json
{
    "body": "Built documentation",
    "created_at": "2014-09-30T17:33:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16665#issuecomment-220067",
    "user": "jdemeyer"
}
```

Built documentation
