# Issue 14620: Frobenius endomorphism over p-adics

Issue created by migration from https://trac.sagemath.org/ticket/14824

Original creator: caruso

Original creation time: 2013-06-26 10:07:13

Assignee: roed

Keywords: padics, Frobenius

This patch provides a method `frobenius_endomorphism` which returns the Frobenius endomorphism of a p-adic field.

Here is a small demo:


```
sage: K.<a> = Qq(5^3)
sage: Frob = K.frobenius_endomorphism()

sage: Frob
Frobenius endomorphism on Unramified Extension of 5-adic ... lifting a |--> a^5 on the residue field
sage: Frob^12
Identity endomorphism of Unramified Extension of 5-adic Field ...

sage: Frob(a) = a.frobenius()
True
```



---

Comment by caruso created at 2013-06-26 10:45:18

Changing status from new to needs_review.


---

Comment by roed created at 2013-07-08 11:19:12

* Why do you need to store `_degree_fixed`?
* There are a couple functions without doctests, and the implementation of hash can be easily improved (use power rather than the string representation).
* One doctest failure:

```
File "/mnt/storage2TB/patchbot/Sage/sage-5.11.beta3/devel/sage/sage/rings/padics/padic_generic.py", line 566, in sage.rings.padics.padic_generic.pAdicGeneric.frobenius_endomorphism
Failed example:
    K.frobenius_endomorphism(6) == Frob
Expected:
    True
Got:
    False
```



---

Comment by roed created at 2013-07-08 11:19:12

Changing status from needs_review to needs_work.


---

Comment by caruso created at 2013-07-09 16:33:12

Replying to [comment:2 roed]:
> * Why do you need to store `_degree_fixed`?

Oops. It was because I was first planning to implement a method `fixed_points` but then I gave up. It seems that I forgot to remode `_degree_fixed`.

> * There are a couple functions without doctests, and the implementation of hash can be easily improved (use power rather than the string representation).

Done.

> * One doctest failure:

Fixed.


---

Comment by caruso created at 2013-07-09 16:33:12

Changing status from needs_work to needs_review.


---

Attachment


---

Comment by roed created at 2014-01-06 21:27:03

Note that this ticket does not resolve the horrible performance of the `frobenius` method: see #12657.  But the changes here are certainly worth incorporating, and don't need to wait on #12657.


---

Comment by git created at 2014-01-07 06:31:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kedlaya created at 2014-01-07 21:58:06

Changing status from needs_review to positive_review.


---

Comment by kedlaya created at 2014-01-07 21:58:06

With help from roed, I converted this to the git workflow; it merges into 6.1beta3 with only trivial modifications. Looks good to me.


---

Comment by vbraun created at 2014-01-16 05:10:40

Resolution: fixed
