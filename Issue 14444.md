# Issue 14444: MPIR fails to configure on Cygwin64

archive/issues_014444.json:
```json
{
    "body": "Assignee: @jdemeyer\n\nCC:  @kcrisman @dimpase @nexttime @tscrim\n\nKeywords: mpir spkg cygwin cygwin64\n\nThe config.guess and config.sub shipped with MPIR 2.6.0 seem very old (timestamp says 2003) and fail to recognize Cygwin64.\nLatest upstream files at:\n* http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD\n* http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD\nsolves this issue.\n\nMPIR report at:\n* https://groups.google.com/d/msg/mpir-devel/kas57nK3UCU/li5-MMsEk_4J\n\nThe Sage spkg-install should also be modified not to force ABI=32 on Cygwin.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14648\n\n",
    "created_at": "2013-05-26T19:36:39Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "MPIR fails to configure on Cygwin64",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14444",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Assignee: @jdemeyer

CC:  @kcrisman @dimpase @nexttime @tscrim

Keywords: mpir spkg cygwin cygwin64

The config.guess and config.sub shipped with MPIR 2.6.0 seem very old (timestamp says 2003) and fail to recognize Cygwin64.
Latest upstream files at:
* http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD
* http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD
solves this issue.

MPIR report at:
* https://groups.google.com/d/msg/mpir-devel/kas57nK3UCU/li5-MMsEk_4J

The Sage spkg-install should also be modified not to force ABI=32 on Cygwin.

Issue created by migration from https://trac.sagemath.org/ticket/14648





---

archive/issue_comments_182486.json:
```json
{
    "body": "There is a planned update to MPIR spkg at #13948.",
    "created_at": "2013-05-26T19:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182486",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

There is a planned update to MPIR spkg at #13948.



---

archive/issue_comments_182487.json:
```json
{
    "body": "sqlite spkg (even the latest upstream packaged in 5.10.beta*) fails for the same reason.",
    "created_at": "2013-05-26T19:45:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182487",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

sqlite spkg (even the latest upstream packaged in 5.10.beta*) fails for the same reason.



---

archive/issue_comments_182488.json:
```json
{
    "body": "Same problem when configuring ECL, it fails in the provided gmp subdir (that we don't even use...).",
    "created_at": "2013-06-09T15:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182488",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Same problem when configuring ECL, it fails in the provided gmp subdir (that we don't even use...).



---

archive/issue_comments_182489.json:
```json
{
    "body": "Replying to [comment:4 jpflori]:\n> Same problem when configuring ECL, it fails in the provided gmp subdir (that we don't even use...).\n\nI proposed a patch to allow removing the GMP folder a couple of times... 8/",
    "created_at": "2013-06-21T17:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182489",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:4 jpflori]:
> Same problem when configuring ECL, it fails in the provided gmp subdir (that we don't even use...).

I proposed a patch to allow removing the GMP folder a couple of times... 8/



---

archive/issue_comments_182490.json:
```json
{
    "body": "I'm changing this ticket to only take care of the outdated fsf config.* scripts.\n\nThe further problems with MPIR should go elsewher.",
    "created_at": "2013-06-21T17:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182490",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I'm changing this ticket to only take care of the outdated fsf config.* scripts.

The further problems with MPIR should go elsewher.



---

archive/issue_comments_182491.json:
```json
{
    "body": "Changing keywords from \"mpir spkg cygwin cygwin64\" to \"spkg cygwin cygwin64\".",
    "created_at": "2013-06-21T17:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182491",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "mpir spkg cygwin cygwin64" to "spkg cygwin cygwin64".



---

archive/issue_comments_182492.json:
```json
{
    "body": "Replying to [comment:5 leif]:\n> Replying to [comment:4 jpflori]:\n> > Same problem when configuring ECL, it fails in the provided gmp subdir (that we don't even use...).\n> \n> I proposed a patch to allow removing the GMP folder a couple of times... 8/\n\nROFL, three years ago: #9493.\n\n(No idea whether the patch w.r.t. `install-sh` still applies or is at all still necessary.)",
    "created_at": "2013-06-21T19:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182492",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:5 leif]:
> Replying to [comment:4 jpflori]:
> > Same problem when configuring ECL, it fails in the provided gmp subdir (that we don't even use...).
> 
> I proposed a patch to allow removing the GMP folder a couple of times... 8/

ROFL, three years ago: #9493.

(No idea whether the patch w.r.t. `install-sh` still applies or is at all still necessary.)



---

archive/issue_comments_182493.json:
```json
{
    "body": "Given the above, shall we put the new scripts as a patch and start the review?",
    "created_at": "2014-01-05T06:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182493",
    "user": "https://github.com/tscrim"
}
```

Given the above, shall we put the new scripts as a patch and start the review?



---

archive/issue_comments_182494.json:
```json
{
    "body": "Here's my attempt at a patch.\n----\nNew commits:",
    "created_at": "2014-01-08T23:15:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182494",
    "user": "https://github.com/tscrim"
}
```

Here's my attempt at a patch.
----
New commits:



---

archive/issue_comments_182495.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-08T23:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182496.json:
```json
{
    "body": "Now with the correct thing pushed.",
    "created_at": "2014-01-08T23:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182496",
    "user": "https://github.com/tscrim"
}
```

Now with the correct thing pushed.



---

archive/issue_comments_182497.json:
```json
{
    "body": "This patch is very bad. MPIR's `config.guess` is a custom script, it is not the autotools' version. See also the thread you linked to.\n\nFor example, it detects my machine as `sandybridge-unknown-linux-gnu`. With this patch, this becomes `x86_64-unknown-linux-gnu`.\n\nAlso, `Initial attempt.` is obviously a bad commit message.",
    "created_at": "2014-01-09T07:29:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182497",
    "user": "https://github.com/jdemeyer"
}
```

This patch is very bad. MPIR's `config.guess` is a custom script, it is not the autotools' version. See also the thread you linked to.

For example, it detects my machine as `sandybridge-unknown-linux-gnu`. With this patch, this becomes `x86_64-unknown-linux-gnu`.

Also, `Initial attempt.` is obviously a bad commit message.



---

archive/issue_comments_182498.json:
```json
{
    "body": "Hey Travis, I'll up my working (hopefully not only for me) branch a little later today.\nIn this very ticket I'll only update the FSF scripts.\nIn another one I'll put the magic needed for MPIR to build the correct ABI.",
    "created_at": "2014-01-09T07:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182498",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Hey Travis, I'll up my working (hopefully not only for me) branch a little later today.
In this very ticket I'll only update the FSF scripts.
In another one I'll put the magic needed for MPIR to build the correct ABI.



---

archive/issue_comments_182499.json:
```json
{
    "body": "Maybe some other spkgs are missing, I'll add them while buillding Sage.\n----\nNew commits:",
    "created_at": "2014-01-09T13:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182499",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Maybe some other spkgs are missing, I'll add them while buillding Sage.
----
New commits:



---

archive/issue_comments_182500.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-09T13:03:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182501.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-09T13:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182501",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182502.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-09T13:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182502",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182503.json:
```json
{
    "body": "IML needs updating.",
    "created_at": "2014-01-14T16:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182503",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

IML needs updating.



---

archive/issue_comments_182504.json:
```json
{
    "body": "Since #15580, you could also consider copying `config.guess` from `$SAGE_ROOT/config/config.guess`.",
    "created_at": "2014-01-16T15:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182504",
    "user": "https://github.com/jdemeyer"
}
```

Since #15580, you could also consider copying `config.guess` from `$SAGE_ROOT/config/config.guess`.



---

archive/issue_comments_182505.json:
```json
{
    "body": "Yes, that's a very good idea!",
    "created_at": "2014-01-16T15:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182505",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Yes, that's a very good idea!



---

archive/issue_comments_182506.json:
```json
{
    "body": "Be sure to check which version of Automake you require (`config.guess` belongs to Automake) and edit `configure.ac` accordingly.",
    "created_at": "2014-01-16T15:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182506",
    "user": "https://github.com/jdemeyer"
}
```

Be sure to check which version of Automake you require (`config.guess` belongs to Automake) and edit `configure.ac` accordingly.



---

archive/issue_comments_182507.json:
```json
{
    "body": "I guess there is some magic in configure which checks for consistency between configure.ac and config.guess?",
    "created_at": "2014-01-16T15:37:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182507",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I guess there is some magic in configure which checks for consistency between configure.ac and config.guess?



---

archive/issue_comments_182508.json:
```json
{
    "body": "I meant edit `$SAGE_ROOT/configure.ac`, in particular the line\n\n```\nAM_INIT_AUTOMAKE([1.9.6 foreign])\n```\n\n\nAnd no, I don't think autotools cares about the version of `config.guess`, it just requires it to be available.",
    "created_at": "2014-01-16T15:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182508",
    "user": "https://github.com/jdemeyer"
}
```

I meant edit `$SAGE_ROOT/configure.ac`, in particular the line

```
AM_INIT_AUTOMAKE([1.9.6 foreign])
```


And no, I don't think autotools cares about the version of `config.guess`, it just requires it to be available.



---

archive/issue_comments_182509.json:
```json
{
    "body": "After a quick look through automake versions it would be 1.10.",
    "created_at": "2014-01-16T16:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182509",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

After a quick look through automake versions it would be 1.10.



---

archive/issue_comments_182510.json:
```json
{
    "body": "FTR, this currently doesn't work for me on my cygwin32 and ubuntu machines. I believe it's the same issue as comment:14:\n\n```\nchecking build system type... Invalid configuration `k8-pc-linux-gnu': machine `k8-pc' not recognized\nconfigure: error: /bin/bash ./config.sub k8-pc-linux-gnu failed\nError configuring MPIR (with CFLAGS unset).\n```\n",
    "created_at": "2014-01-17T06:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182510",
    "user": "https://github.com/tscrim"
}
```

FTR, this currently doesn't work for me on my cygwin32 and ubuntu machines. I believe it's the same issue as comment:14:

```
checking build system type... Invalid configuration `k8-pc-linux-gnu': machine `k8-pc' not recognized
configure: error: /bin/bash ./config.sub k8-pc-linux-gnu failed
Error configuring MPIR (with CFLAGS unset).
```




---

archive/issue_comments_182511.json:
```json
{
    "body": "Replying to [comment:28 tscrim]:\n> FTR, this currently doesn't work for me on my cygwin32 and ubuntu machines. I believe it's the same issue as comment:14:\n> {{{\n> checking build system type... Invalid configuration `k8-pc-linux-gnu': machine `k8-pc' not recognized\n> configure: error: /bin/bash ./config.sub k8-pc-linux-gnu failed\n> Error configuring MPIR (with CFLAGS unset).\n> }}}\nI assume the previous version of the pkg does work?",
    "created_at": "2014-01-17T07:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182511",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Replying to [comment:28 tscrim]:
> FTR, this currently doesn't work for me on my cygwin32 and ubuntu machines. I believe it's the same issue as comment:14:
> {{{
> checking build system type... Invalid configuration `k8-pc-linux-gnu': machine `k8-pc' not recognized
> configure: error: /bin/bash ./config.sub k8-pc-linux-gnu failed
> Error configuring MPIR (with CFLAGS unset).
> }}}
I assume the previous version of the pkg does work?



---

archive/issue_comments_182512.json:
```json
{
    "body": "(And you are using my branch and not yours?)",
    "created_at": "2014-01-17T07:48:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182512",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

(And you are using my branch and not yours?)



---

archive/issue_comments_182513.json:
```json
{
    "body": "Yes (and yes).",
    "created_at": "2014-01-17T16:13:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182513",
    "user": "https://github.com/tscrim"
}
```

Yes (and yes).



---

archive/issue_comments_182514.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-18T23:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182514",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182515.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-18T23:16:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182515",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_182516.json:
```json
{
    "body": "For the k8 issue, did any previous version work?",
    "created_at": "2014-01-18T23:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182516",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

For the k8 issue, did any previous version work?



---

archive/issue_comments_182517.json:
```json
{
    "body": "Ok, I guess the problem is with https://github.com/wbhart/mpir/commit/3b410a80565eb71fd32a86630d550098ebc85f82\n\nIn fact, the MPIR wrapper should be modified to map k8 and so on to something else.",
    "created_at": "2014-01-18T23:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182517",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Ok, I guess the problem is with https://github.com/wbhart/mpir/commit/3b410a80565eb71fd32a86630d550098ebc85f82

In fact, the MPIR wrapper should be modified to map k8 and so on to something else.



---

archive/issue_comments_182518.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-01-18T23:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182518",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_182519.json:
```json
{
    "body": "Latest sqlite is wroking on Cygwin64 (or rather \"at least it builds now\").\nSee #16098.",
    "created_at": "2014-04-08T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182519",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Latest sqlite is wroking on Cygwin64 (or rather "at least it builds now").
See #16098.



---

archive/issue_comments_182520.json:
```json
{
    "body": "Latest MPIR at #15015 will work as well.",
    "created_at": "2014-04-13T19:51:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182520",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Latest MPIR at #15015 will work as well.



---

archive/issue_comments_182521.json:
```json
{
    "body": "ECL fixed at #9493.\n\nSo only dealing with IML here.",
    "created_at": "2014-04-13T19:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182521",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

ECL fixed at #9493.

So only dealing with IML here.



---

archive/issue_comments_182522.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-04-13T19:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182522",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_182523.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-04-13T19:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182523",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_182524.json:
```json
{
    "body": "Thats a kind of vile hack to use some of the Sage autoconf output. Did you contact IML upstream?",
    "created_at": "2014-04-14T09:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182524",
    "user": "https://github.com/vbraun"
}
```

Thats a kind of vile hack to use some of the Sage autoconf output. Did you contact IML upstream?



---

archive/issue_comments_182525.json:
```json
{
    "body": "Note that this vile hack just use standard files distributed by autoconf, not some files specifically crafted (well, the exact version is) by configure when it's run.\n\nNot contacted IML though, I though the project was dead.\nIf not we should really work more with them to deal with the BLAS/linking hell in their build system.",
    "created_at": "2014-04-14T09:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182525",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Note that this vile hack just use standard files distributed by autoconf, not some files specifically crafted (well, the exact version is) by configure when it's run.

Not contacted IML though, I though the project was dead.
If not we should really work more with them to deal with the BLAS/linking hell in their build system.



---

archive/issue_comments_182526.json:
```json
{
    "body": "Well we could give it a try. If there is no response then we should just make our own tarball with updated autoconf. Its not exactly a moving target ;-)  \n\nI agree that the hack works, but its ugly and fragile if we change anything in the sage autoconf files (e.g. move to a different directory).",
    "created_at": "2014-04-14T09:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182526",
    "user": "https://github.com/vbraun"
}
```

Well we could give it a try. If there is no response then we should just make our own tarball with updated autoconf. Its not exactly a moving target ;-)  

I agree that the hack works, but its ugly and fragile if we change anything in the sage autoconf files (e.g. move to a different directory).



---

archive/issue_comments_182527.json:
```json
{
    "body": "Replying to [comment:45 vbraun]:\n> Well we could give it a try. If there is no response then we should just make our own tarball with updated autoconf. Its not exactly a moving target ;-)  \nI'll drop them an email (without specific patches first, just getting the temperature there).\n> \n> I agree that the hack works, but its ugly and fragile if we change anything in the sage autoconf files (e.g. move to a different directory). \nSure, I realize I should at least check the return code for such cases.",
    "created_at": "2014-04-14T09:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182527",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Replying to [comment:45 vbraun]:
> Well we could give it a try. If there is no response then we should just make our own tarball with updated autoconf. Its not exactly a moving target ;-)  
I'll drop them an email (without specific patches first, just getting the temperature there).
> 
> I agree that the hack works, but its ugly and fragile if we change anything in the sage autoconf files (e.g. move to a different directory). 
Sure, I realize I should at least check the return code for such cases.



---

archive/issue_comments_182528.json:
```json
{
    "body": "Sent an email upstream.",
    "created_at": "2014-04-14T09:30:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182528",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Sent an email upstream.



---

archive/issue_comments_182529.json:
```json
{
    "body": "Replying to [comment:47 jpflori]:\n> Sent an email upstream.\n\n`/dev/null`?",
    "created_at": "2014-04-14T09:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182529",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:47 jpflori]:
> Sent an email upstream.

`/dev/null`?



---

archive/issue_comments_182530.json:
```json
{
    "body": "Maybe...\nAt least the mail address given here: https://cs.uwaterloo.ca/~astorjoh/iml.html#bug\nDon't know where the authors are working now.",
    "created_at": "2014-04-14T09:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182530",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Maybe...
At least the mail address given here: https://cs.uwaterloo.ca/~astorjoh/iml.html#bug
Don't know where the authors are working now.



---

archive/issue_comments_182531.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-14T09:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182531",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_182532.json:
```json
{
    "body": "Replying to [comment:49 jpflori]:\n> Maybe...\n> At least the mail address given here: https://cs.uwaterloo.ca/~astorjoh/iml.html#bug\n> Don't know where the authors are working now.\nGot a reply and Arne would be very happy to make a new release.\nNow it's time to think about what we should push upstream with regard to the build system (it may be a good time to provide support for different BLAS implem than ATLAS), bug fixes and so on.",
    "created_at": "2014-04-16T16:29:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182532",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Replying to [comment:49 jpflori]:
> Maybe...
> At least the mail address given here: https://cs.uwaterloo.ca/~astorjoh/iml.html#bug
> Don't know where the authors are working now.
Got a reply and Arne would be very happy to make a new release.
Now it's time to think about what we should push upstream with regard to the build system (it may be a good time to provide support for different BLAS implem than ATLAS), bug fixes and so on.



---

archive/issue_comments_182533.json:
```json
{
    "body": "Replying to [comment:51 jpflori]:\n> Replying to [comment:49 jpflori]:\n> > Maybe...\n> > At least the mail address given here: https://cs.uwaterloo.ca/~astorjoh/iml.html#bug\n> > Don't know where the authors are working now.\n> Got a reply and Arne would be very happy to make a new release.\n\n\\o/ (after years of apparent death)\n\n> Now it's time to think about what we should push upstream with regard to the build system (it may be a good time to provide support for different BLAS implem than ATLAS), bug fixes and so on.\n\nBest post to sage-devel, such that the usual suspectives will notice, and/or cc some of those involved in the previous IML tickets (#748 (!), #9568 ...).",
    "created_at": "2014-04-16T16:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182533",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:51 jpflori]:
> Replying to [comment:49 jpflori]:
> > Maybe...
> > At least the mail address given here: https://cs.uwaterloo.ca/~astorjoh/iml.html#bug
> > Don't know where the authors are working now.
> Got a reply and Arne would be very happy to make a new release.

\o/ (after years of apparent death)

> Now it's time to think about what we should push upstream with regard to the build system (it may be a good time to provide support for different BLAS implem than ATLAS), bug fixes and so on.

Best post to sage-devel, such that the usual suspectives will notice, and/or cc some of those involved in the previous IML tickets (#748 (!), #9568 ...).



---

archive/issue_comments_182534.json:
```json
{
    "body": "Replying to [comment:52 leif]:\n> the previous IML tickets (#748\n\n%-)",
    "created_at": "2014-04-16T17:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182534",
    "user": "https://github.com/vbraun"
}
```

Replying to [comment:52 leif]:
> the previous IML tickets (#748

%-)



---

archive/issue_comments_182535.json:
```json
{
    "body": "Thanks for the head up on IML :) the laundry list as far as I remember is\n* getting configure to accept other cblas. Cannot use gentoo patches as they rely on cblas installing .pc files which is not standard across implementation.\n* remove the \"repl\" subfolder which doesn't do anything and create problems on OS X [https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-repl_removal.patch](https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-repl_removal.patch)\n* fix undefined symbols in nullspace.c [https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-fix-undefined-symbol.patch](https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-fix-undefined-symbol.patch)\n* I have an extra fix in the s-o-g tree for automake 1.13 that probably should go in [https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-automake-1.13.patch](https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-automake-1.13.patch)",
    "created_at": "2014-04-16T21:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182535",
    "user": "https://github.com/kiwifb"
}
```

Thanks for the head up on IML :) the laundry list as far as I remember is
* getting configure to accept other cblas. Cannot use gentoo patches as they rely on cblas installing .pc files which is not standard across implementation.
* remove the "repl" subfolder which doesn't do anything and create problems on OS X [https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-repl_removal.patch](https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-repl_removal.patch)
* fix undefined symbols in nullspace.c [https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-fix-undefined-symbol.patch](https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-fix-undefined-symbol.patch)
* I have an extra fix in the s-o-g tree for automake 1.13 that probably should go in [https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-automake-1.13.patch](https://raw.githubusercontent.com/cschwan/sage-on-gentoo/master/sci-libs/iml/files/iml-1.0.3-automake-1.13.patch)



---

archive/issue_comments_182536.json:
```json
{
    "body": "Better late than never, I've forwaded our patches (except the emamples one, what is that for? quicker test?) and two new ones for inclusion in a potential new release of IML (one for shared libs on Cygwin (who cares? :)) and on to add a --with-cblas configure flag to pass the ld flags for linking to cblas, falling back to the old atlas detection code in case of failure).\n\nBest,\nJP",
    "created_at": "2014-07-22T20:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182536",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Better late than never, I've forwaded our patches (except the emamples one, what is that for? quicker test?) and two new ones for inclusion in a potential new release of IML (one for shared libs on Cygwin (who cares? :)) and on to add a --with-cblas configure flag to pass the ld flags for linking to cblas, falling back to the old atlas detection code in case of failure).

Best,
JP



---

archive/issue_comments_182537.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-25T14:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182537",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182538.json:
```json
{
    "body": "All packages are now recent enough except for MPIR which will get updated in #15015.",
    "created_at": "2014-11-25T14:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182538",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

All packages are now recent enough except for MPIR which will get updated in #15015.



---

archive/issue_comments_182539.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2014-11-28T18:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14444#issuecomment-182539",
    "user": "https://github.com/vbraun"
}
```

Resolution: duplicate
