# Issue 12524: incoherent names rational_reconstruct and rational_reconstruction

archive/issues_012524.json:
```json
{
    "body": "Assignee: @aghitza\n\nCC:  jpflori\n\nfor integers mod n there is a `rational_reconstruction` method:\n\n```\nsage: R = IntegerModRing(97)\nsage: a = R(2) / R(3)\nsage: a.rational_reconstruction()\n2/3\n```\n\nHowever for polynomials the corresponding method is named\n`rational_reconstruct`:\n\n```\nsage: K.<x> = R[]            \nsage: x.rational_reconstruct(x,4,4)\n(0, 1)\n```\n\nThe naming is incoherent.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12696\n\n",
    "created_at": "2012-03-19T13:02:37Z",
    "labels": [
        "basic arithmetic",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "incoherent names rational_reconstruct and rational_reconstruction",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12524",
    "user": "@zimmermann6"
}
```
Assignee: @aghitza

CC:  jpflori

for integers mod n there is a `rational_reconstruction` method:

```
sage: R = IntegerModRing(97)
sage: a = R(2) / R(3)
sage: a.rational_reconstruction()
2/3
```

However for polynomials the corresponding method is named
`rational_reconstruct`:

```
sage: K.<x> = R[]            
sage: x.rational_reconstruct(x,4,4)
(0, 1)
```

The naming is incoherent.

Issue created by migration from https://trac.sagemath.org/ticket/12696





---

archive/issue_comments_148372.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-27T11:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148372",
    "user": "@yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_148373.json:
```json
{
    "body": "The added method\n\n```diff\n+    def rational_reconstruction(self, *args, **kwargs):\n+        r\"\"\"\n+        Compute a rational reconstruction of this polynomial quotient\n+        ring element to its parent.\n+\n+        This method is a thin convenience wrapper around\n+        :meth:`Polynomial.rational_reconstruction`.\n+\n+        EXAMPLES::\n+\n+            sage: R.<x> = GF(65537)[]\n+            sage: m = x^11 + 25345*x^10 + 10956*x^9 + 13873*x^8 + 23962*x^7 + 17496*x^6 + 30348*x^5 + 7440*x^4 + 65438*x^3 + 7676*x^2 + 54266*x + 47805\n+            sage: f = 20437*x^10 + 62630*x^9 + 63241*x^8 + 12820*x^7 + 42171*x^6 + 63091*x^5 + 15288*x^4 + 32516*x^3 + 2181*x^2 + 45236*x + 2447\n+            sage: f_mod_m = R.quotient(m)(f)\n+            sage: f_mod_m.rational_reconstruction()\n+            (51388*x^5 + 29141*x^4 + 59341*x^3 + 7034*x^2 + 14152*x + 23746,\n+             x^5 + 15208*x^4 + 19504*x^3 + 20457*x^2 + 11180*x + 28352)\n+        \"\"\"\n+        m = self.parent().modulus()\n+        R = m.parent()\n+        f = R(self._polynomial)\n+        return f.lift().rational_reconstruction(m, *args, **kwargs)\n```\n\ndoesn't work for me. The example fails. Is `.lift()` necessary? \n\nIn the header of the docstring, \"to its parent\" seems wrong. You meant P for the quotient ring P/m? I think it is called \"cover (ring)\" but I am not sure. Certainly it is not \"parent\".",
    "created_at": "2022-08-27T15:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148373",
    "user": "@kwankyu"
}
```

The added method

```diff
+    def rational_reconstruction(self, *args, **kwargs):
+        r"""
+        Compute a rational reconstruction of this polynomial quotient
+        ring element to its parent.
+
+        This method is a thin convenience wrapper around
+        :meth:`Polynomial.rational_reconstruction`.
+
+        EXAMPLES::
+
+            sage: R.<x> = GF(65537)[]
+            sage: m = x^11 + 25345*x^10 + 10956*x^9 + 13873*x^8 + 23962*x^7 + 17496*x^6 + 30348*x^5 + 7440*x^4 + 65438*x^3 + 7676*x^2 + 54266*x + 47805
+            sage: f = 20437*x^10 + 62630*x^9 + 63241*x^8 + 12820*x^7 + 42171*x^6 + 63091*x^5 + 15288*x^4 + 32516*x^3 + 2181*x^2 + 45236*x + 2447
+            sage: f_mod_m = R.quotient(m)(f)
+            sage: f_mod_m.rational_reconstruction()
+            (51388*x^5 + 29141*x^4 + 59341*x^3 + 7034*x^2 + 14152*x + 23746,
+             x^5 + 15208*x^4 + 19504*x^3 + 20457*x^2 + 11180*x + 28352)
+        """
+        m = self.parent().modulus()
+        R = m.parent()
+        f = R(self._polynomial)
+        return f.lift().rational_reconstruction(m, *args, **kwargs)
```

doesn't work for me. The example fails. Is `.lift()` necessary? 

In the header of the docstring, "to its parent" seems wrong. You meant P for the quotient ring P/m? I think it is called "cover (ring)" but I am not sure. Certainly it is not "parent".



---

archive/issue_comments_148374.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-28T04:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148374",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_148375.json:
```json
{
    "body": "Indeed, thanks. (I'm sure I had fixed the `.lift()` call at some point, but apparently that change didn't make it into the commit...)",
    "created_at": "2022-08-28T04:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148375",
    "user": "@yyyyx4"
}
```

Indeed, thanks. (I'm sure I had fixed the `.lift()` call at some point, but apparently that change didn't make it into the commit...)



---

archive/issue_comments_148376.json:
```json
{
    "body": "\n```\nsage -t src/sage/tests/books/computational-mathematics-with-sagemath/polynomes_doctest.py  # 1 doctest failed\nsage -t src/sage/tests/books/computational-mathematics-with-sagemath/sol/polynomes_doctest.py  # 1 doctest failed\n```\n",
    "created_at": "2022-08-28T09:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148376",
    "user": "@kwankyu"
}
```


```
sage -t src/sage/tests/books/computational-mathematics-with-sagemath/polynomes_doctest.py  # 1 doctest failed
sage -t src/sage/tests/books/computational-mathematics-with-sagemath/sol/polynomes_doctest.py  # 1 doctest failed
```




---

archive/issue_comments_148377.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-29T02:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148377",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_148378.json:
```json
{
    "body": "Thanks. LGTM.",
    "created_at": "2022-08-30T00:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148378",
    "user": "@kwankyu"
}
```

Thanks. LGTM.



---

archive/issue_comments_148379.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-30T00:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148379",
    "user": "@kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_148380.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-09-25T16:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12524#issuecomment-148380",
    "user": "@vbraun"
}
```

Resolution: fixed
