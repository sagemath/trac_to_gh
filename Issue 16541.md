# Issue 16541: Allow gperftools.top to return a string

archive/issues_016541.json:
```json
{
    "body": "CC:  @vbraun\n\nThe text report of gperftools is printed to stdout, but in order to access it in other methods (e.g., citations), we need the it to return the report as a string.  This adds an optional parameter to the method top.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16778\n\n",
    "created_at": "2014-08-07T07:42:15Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Allow gperftools.top to return a string",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16541",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```
CC:  @vbraun

The text report of gperftools is printed to stdout, but in order to access it in other methods (e.g., citations), we need the it to return the report as a string.  This adds an optional parameter to the method top.

Issue created by migration from https://trac.sagemath.org/ticket/16778





---

archive/issue_comments_217371.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-07T07:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217371",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_217372.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-08-07T07:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217372",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

New commits:



---

archive/issue_comments_217373.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-08-07T07:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_217374.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-08-07T13:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217374",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_217375.json:
```json
{
    "body": "I'm against the last commit. You have a method to \"\ufffcPrint text report\" and you added an option to precisely **not** do that. WTF? Do you think that is a sane UI? If you want to save the output to a file there is already \"save\". If saving to a temporary file and loading said file is a common occurence then add an appropriately-named method, `string()` or `stdout()` or something like that.",
    "created_at": "2014-08-07T13:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217375",
    "user": "https://github.com/vbraun"
}
```

I'm against the last commit. You have a method to "ï¿¼Print text report" and you added an option to precisely **not** do that. WTF? Do you think that is a sane UI? If you want to save the output to a file there is already "save". If saving to a temporary file and loading said file is a common occurence then add an appropriately-named method, `string()` or `stdout()` or something like that.



---

archive/issue_comments_217376.json:
```json
{
    "body": "PS: Sorry for the strong language ;-)\n\nPPS: \"ppprofiler\" has at least one p too many, no?",
    "created_at": "2014-08-07T13:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217376",
    "user": "https://github.com/vbraun"
}
```

PS: Sorry for the strong language ;-)

PPS: "ppprofiler" has at least one p too many, no?



---

archive/issue_comments_217377.json:
```json
{
    "body": "That's all right (I mean the language). As for the commit, I see what you mean. My focus is on citation management at #16777. So I would postpone work on profiling. Eventually an interface unifying cProfile and gperftools would be nice. But that's not for today, and requires more thorough thining.\n\nClose as wontfix then?",
    "created_at": "2014-08-08T06:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217377",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

That's all right (I mean the language). As for the commit, I see what you mean. My focus is on citation management at #16777. So I would postpone work on profiling. Eventually an interface unifying cProfile and gperftools would be nice. But that's not for today, and requires more thorough thining.

Close as wontfix then?



---

archive/issue_comments_217378.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2014-08-11T14:55:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16541#issuecomment-217378",
    "user": "https://github.com/vbraun"
}
```

Resolution: wontfix



---

archive/issue_events_016034.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2014-08-11T14:55:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16541",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16541#event-16034"
}
```
