# Issue 16541: Allow gperftools.top to return a string

Issue created by migration from Trac.

Original creator: mraum

Original creation time: 2014-08-07 07:42:15

CC:  vbraun

The text report of gperftools is printed to stdout, but in order to access it in other methods (e.g., citations), we need the it to return the report as a string.  This adds an optional parameter to the method top.


---

Comment by mraum created at 2014-08-07 07:43:26

Changing status from new to needs_review.


---

Comment by mraum created at 2014-08-07 07:43:26

New commits:


---

Comment by git created at 2014-08-07 07:50:26

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vbraun created at 2014-08-07 13:10:26

Changing status from needs_review to needs_work.


---

Comment by vbraun created at 2014-08-07 13:10:26

I'm against the last commit. You have a method to "ï¿¼Print text report" and you added an option to precisely *not* do that. WTF? Do you think that is a sane UI? If you want to save the output to a file there is already "save". If saving to a temporary file and loading said file is a common occurence then add an appropriately-named method, `string()` or `stdout()` or something like that.


---

Comment by vbraun created at 2014-08-07 13:15:37

PS: Sorry for the strong language ;-)

PPS: "ppprofiler" has at least one p too many, no?


---

Comment by mraum created at 2014-08-08 06:31:07

That's all right (I mean the language). As for the commit, I see what you mean. My focus is on citation management at #16777. So I would postpone work on profiling. Eventually an interface unifying cProfile and gperftools would be nice. But that's not for today, and requires more thorough thining.

Close as wontfix then?


---

Comment by vbraun created at 2014-08-11 14:55:07

Resolution: wontfix
