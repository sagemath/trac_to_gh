# Issue 22842: genus of an Elliptic Curve over a finite field

archive/issues_022842.json:
```json
{
    "body": "CC:  @JohnCremona @jdemeyer\n\nKeywords: genus, elliptic curve\n\nHello,\n\nWhen creating an elliptic curve over a finite field the attribute _genus is not initialized.\n\neg:\n\n\n```\nE = EllipticCurve(GF(3), [0, -1, 0, -346, 2652])\nE.genus()\n...\nAttributeError: 'EllipticCurve_finite_field_with_category' object has no attribute '_genus'\n```\n\n\n\nCheers,\nEdgar\n\nIssue created by migration from https://trac.sagemath.org/ticket/23079\n\n",
    "created_at": "2017-05-25T19:31:01Z",
    "labels": [
        "component: algebraic geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "genus of an Elliptic Curve over a finite field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22842",
    "user": "https://github.com/edgarcosta"
}
```
CC:  @JohnCremona @jdemeyer

Keywords: genus, elliptic curve

Hello,

When creating an elliptic curve over a finite field the attribute _genus is not initialized.

eg:


```
E = EllipticCurve(GF(3), [0, -1, 0, -346, 2652])
E.genus()
...
AttributeError: 'EllipticCurve_finite_field_with_category' object has no attribute '_genus'
```



Cheers,
Edgar

Issue created by migration from https://trac.sagemath.org/ticket/23079





---

archive/issue_comments_319060.json:
```json
{
    "body": "I suggest adding a method genus() to EllipticCurve_field.  For curves over Q it works already but not over number fields, since the genus is actually begin computed somewhere.  This is silly since the EllipticCurve constructor already checks for nonsingularity so will never construct an object whose genus is not 1.",
    "created_at": "2017-05-26T08:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319060",
    "user": "https://github.com/JohnCremona"
}
```

I suggest adding a method genus() to EllipticCurve_field.  For curves over Q it works already but not over number fields, since the genus is actually begin computed somewhere.  This is silly since the EllipticCurve constructor already checks for nonsingularity so will never construct an object whose genus is not 1.



---

archive/issue_comments_319061.json:
```json
{
    "body": "There are lots of missing \"trivial\" functions like this.  For example\n\n```\nsage: ZZ[I].class_number()\n1\nsage: ZZ.class_number()\n...\nAttributeError: 'sage.rings.integer_ring.IntegerRing_class' object has no attribute 'class_number'\n```\n",
    "created_at": "2017-05-26T08:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319061",
    "user": "https://github.com/JohnCremona"
}
```

There are lots of missing "trivial" functions like this.  For example

```
sage: ZZ[I].class_number()
1
sage: ZZ.class_number()
...
AttributeError: 'sage.rings.integer_ring.IntegerRing_class' object has no attribute 'class_number'
```




---

archive/issue_comments_319062.json:
```json
{
    "body": "I believe we just need to set  `self._genus = 1`  when constructing the elliptic curve.\n\nI agree this is a trivial function, but there are methods inherited from hyperelliptic curves over finite fields that use the self.genus() call, for example, `self.frobenius_polynomial_matrix()`",
    "created_at": "2017-05-26T12:43:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319062",
    "user": "https://github.com/edgarcosta"
}
```

I believe we just need to set  `self._genus = 1`  when constructing the elliptic curve.

I agree this is a trivial function, but there are methods inherited from hyperelliptic curves over finite fields that use the self.genus() call, for example, `self.frobenius_polynomial_matrix()`



---

archive/issue_comments_319063.json:
```json
{
    "body": "done, hopefully in a proper way, if not perfect\n----\nNew commits:",
    "created_at": "2017-05-29T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319063",
    "user": "https://github.com/fchapoton"
}
```

done, hopefully in a proper way, if not perfect
----
New commits:



---

archive/issue_comments_319064.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-29T20:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319064",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_319065.json:
```json
{
    "body": "bot is green, please review !",
    "created_at": "2017-06-01T16:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319065",
    "user": "https://github.com/fchapoton"
}
```

bot is green, please review !



---

archive/issue_comments_319066.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-01T18:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319066",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_319067.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2017-06-01T18:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319067",
    "user": "https://github.com/JohnCremona"
}
```

Looks good to me.



---

archive/issue_comments_319068.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-04T10:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22842#issuecomment-319068",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
