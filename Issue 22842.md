# Issue 22842: genus of an Elliptic Curve over a finite field

Issue created by migration from Trac.

Original creator: edgarcosta

Original creation time: 2017-05-25 19:31:01

CC:  cremona jdemeyer

Keywords: genus, elliptic curve

Hello,

When creating an elliptic curve over a finite field the attribute _genus is not initialized.

eg:


```
E = EllipticCurve(GF(3), [0, -1, 0, -346, 2652])
E.genus()
...
AttributeError: 'EllipticCurve_finite_field_with_category' object has no attribute '_genus'
```



Cheers,
Edgar


---

Comment by cremona created at 2017-05-26 08:23:51

I suggest adding a method genus() to EllipticCurve_field.  For curves over Q it works already but not over number fields, since the genus is actually begin computed somewhere.  This is silly since the EllipticCurve constructor already checks for nonsingularity so will never construct an object whose genus is not 1.


---

Comment by cremona created at 2017-05-26 08:27:26

There are lots of missing "trivial" functions like this.  For example

```
sage: ZZ[I].class_number()
1
sage: ZZ.class_number()
...
AttributeError: 'sage.rings.integer_ring.IntegerRing_class' object has no attribute 'class_number'
```



---

Comment by edgarcosta created at 2017-05-26 12:43:28

I believe we just need to set  `self._genus = 1`  when constructing the elliptic curve.

I agree this is a trivial function, but there are methods inherited from hyperelliptic curves over finite fields that use the self.genus() call, for example, `self.frobenius_polynomial_matrix()`


---

Comment by chapoton created at 2017-05-29 20:28:31

done, hopefully in a proper way, if not perfect
----
New commits:


---

Comment by chapoton created at 2017-05-29 20:28:31

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-06-01 16:56:27

bot is green, please review !


---

Comment by cremona created at 2017-06-01 18:40:49

Changing status from needs_review to positive_review.


---

Comment by cremona created at 2017-06-01 18:40:49

Looks good to me.


---

Comment by vbraun created at 2017-06-04 10:08:49

Resolution: fixed
