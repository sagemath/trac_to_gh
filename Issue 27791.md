# Issue 27791: Enhance change_ring method on morphisms to use canonical embedding when possible, give clearer error in other cases

Issue created by migration from https://trac.sagemath.org/ticket/28028

Original creator: @HTalbott

Original creation time: 2019-06-20 15:37:02

Keywords: SI2019

The following code does not work, and gives an unhelpful error message.

sage: R.<t>=QQ[]
sage: K.<v>=QuadraticField(2)
sage: K2.<w>=NumberField(t^4-2)
sage: P.<x,y>=ProjectiveSpace(QQ,1)
sage: phi=K.embeddings(K2)[0]
sage: f=DynamicalSystem_projective([x<sup>2+3*y</sup>2,y^2])
sage: f.change_ring(phi)

Since phi is an embedding of K into K2, and f has coefficients defined over QQ, phi cannot change the base ring of f. We add functionality to change_ring on morphisms so it uses the canonical embedding of the base ring of f into the domain of phi when such a canonical embedding exists. When such a canonical embedding does not exist, we add an error to change_ring noting the mismatch between the base ring of f and the domain of phi.


---

Comment by @HTalbott created at 2019-06-20 15:38:01

Set assignee to @HTalbott.


---

Comment by @HTalbott created at 2019-06-20 15:38:01

Changing type from PLEASE CHANGE to enhancement.


---

Comment by @meggrip created at 2019-06-27 13:10:18

New commits:


---

Comment by @meggrip created at 2019-06-27 13:10:18

Changing status from new to needs_review.


---

Comment by git created at 2019-06-27 13:50:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by atowsley created at 2019-06-27 13:53:47

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-07-10 01:31:16

Resolution: fixed
