# Issue 29080: glpk: when doctesting, ignore a warning message

Issue created by migration from https://trac.sagemath.org/ticket/29317

Original creator: jhpalmieri

Original creation time: 2020-03-12 02:08:52

CC:  mkoeppe

Vanilla glpk 4.65 frequently prints a warning message "Long-step dual simplex will be used". Sage patches its glpk to skip this, and some distros use a patched glpk as well, but not all of them. For the systems where there is only an unpatched glpkg, we should ignore this warning message in doctesting.


---

Comment by jhpalmieri created at 2020-03-12 02:10:11

New commits:


---

Comment by jhpalmieri created at 2020-03-12 02:10:11

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-03-12 22:05:09

Works well for me. Setting this to positive review even though I would personally prefer to reject unpatched glpk distro packages.


---

Comment by mkoeppe created at 2020-03-12 22:05:09

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-03-12 22:07:45

By the way, I see (with and without the ticket):

```
File "src/sage/numerical/backends/glpk_backend.pyx", line 2287, in sage.numerical.backends.glpk_backend.GLPKBackend.print_ranges
Failed example:
    p.print_ranges()
Expected:
    glp_print_ranges: optimal basic solution required
    1
Got:
    1
```



---

Comment by dimpase created at 2020-03-12 22:16:59

this is perhaps one more message to add to ignoring list.
Probably due to glpk not built with GMP support, IIRC.


---

Comment by vbraun created at 2020-03-14 23:10:38

Resolution: fixed


---

Comment by jhpalmieri created at 2022-04-03 00:00:44

See #33588 for a followup.
