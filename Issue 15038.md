# Issue 15038: Make "sage -c 'attach(...); print 3'" work right

Issue created by migration from https://trac.sagemath.org/ticket/15275

Original creator: jhpalmieri

Original creation time: 2013-10-13 18:27:35

This was first reported on [stackoverflow](http://stackoverflow.com/questions/19344741/python-sage-attach-from-command-line-and-run-another-command).

While running Sage:

```
sage: attach("file.sage"); print 3
```

works, but from the shell:

```
$ sage -c "attach('file.sage'); print 3"
```

fails. It actually tries to execute the command

```
sage "/path/to/'file.sage'; print Integer(2)"
```

and so it tries to read everything between the first and last quotes as the file name, thus producing the error

```
python: can't open file '/path/to/'file.sage'; print Integer(2)': [Errno 2] No such file or directory
```

This is because the script `sage-eval` tries to do something clever when the command to be executed starts with `attach` or `load`, but it is assuming that the rest of the command consists entirely of the file name.





---

Comment by jhpalmieri created at 2013-10-13 18:27:43

Changing priority from major to minor.


---

Comment by aapitzsch created at 2015-01-09 15:47:59

Problem was introduced by #508.
Since I couldn't find an answer why `./sage -c "attach file.sage"` was supposed to work, I suggest to revert the changes made in #508.


---

Comment by jdemeyer created at 2015-01-11 21:16:21

+1 to undo the "something clever"


---

Comment by aapitzsch created at 2015-01-11 22:23:13

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-01-20 12:00:39

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-01-24 13:18:37

Resolution: fixed
