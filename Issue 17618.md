# Issue 17618: create is_preperiodic function for points of projective space

archive/issues_017618.json:
```json
{
    "body": "Assignee: bhutz\n\nThe function will take a point and map as input and return a boolean of whether or not the point is preperiodic for the map. Perhaps there should be an option to also return the period if the point is preperiodic\n\nIssue created by migration from https://trac.sagemath.org/ticket/17855\n\n",
    "created_at": "2015-02-25T17:32:59Z",
    "labels": [
        "algebraic geometry",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "create is_preperiodic function for points of projective space",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17618",
    "user": "bhutz"
}
```
Assignee: bhutz

The function will take a point and map as input and return a boolean of whether or not the point is preperiodic for the map. Perhaps there should be an option to also return the period if the point is preperiodic

Issue created by migration from https://trac.sagemath.org/ticket/17855





---

archive/issue_comments_235469.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-01T23:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235469",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_235470.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-01T23:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235470",
    "user": "bhutz"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_235471.json:
```json
{
    "body": "This incorporated a few additional changes\n\n- there was an error in the error_bound canonical height computations which is now corrected\n\n- heights and canonical heights are now computable for QQbar points\n\n- methods to change QQbar points and maps to number field points and maps\n\n- change_ring now accepts an embedding for points and maps",
    "created_at": "2015-03-01T23:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235471",
    "user": "bhutz"
}
```

This incorporated a few additional changes

- there was an error in the error_bound canonical height computations which is now corrected

- heights and canonical heights are now computable for QQbar points

- methods to change QQbar points and maps to number field points and maps

- change_ring now accepts an embedding for points and maps



---

archive/issue_comments_235472.json:
```json
{
    "body": "These examples don't seem to work:\n\n\n```\nP.<x,y,z> = ProjectiveSpace(QQbar,2)\nH = Hom(P,P)\nf = H([x^2,y^2,z^2])\nQ = P([1,1,1])\nQ.is_preperiodic(f)\n```\n\n\n\n```\nP.<x,y,z> = ProjectiveSpace(QQbar,2)\nH = Hom(P,P)\nf = H([x^2,y^2,z^2])\nQ = P([QQbar(I),1,0])\nQ.is_preperiodic(f)\n```\n",
    "created_at": "2015-03-17T16:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235472",
    "user": "gjorgenson"
}
```

These examples don't seem to work:


```
P.<x,y,z> = ProjectiveSpace(QQbar,2)
H = Hom(P,P)
f = H([x^2,y^2,z^2])
Q = P([1,1,1])
Q.is_preperiodic(f)
```



```
P.<x,y,z> = ProjectiveSpace(QQbar,2)
H = Hom(P,P)
f = H([x^2,y^2,z^2])
Q = P([QQbar(I),1,0])
Q.is_preperiodic(f)
```




---

archive/issue_comments_235473.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-03-17T16:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235473",
    "user": "gjorgenson"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_235474.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-17T17:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235474",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_235475.json:
```json
{
    "body": "Yes, there were a couple issues with getting the right compositum base field. These should be fixed now.",
    "created_at": "2015-03-17T17:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235475",
    "user": "bhutz"
}
```

Yes, there were a couple issues with getting the right compositum base field. These should be fixed now.



---

archive/issue_comments_235476.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-03-17T17:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235476",
    "user": "bhutz"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_235477.json:
```json
{
    "body": "From the review, for is_preperiodic need:\n- check that map is a morphism\n- check that given point is in the domain of the map\n- check that if over a number field, it is an absolute number field",
    "created_at": "2015-03-24T17:51:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235477",
    "user": "gjorgenson"
}
```

From the review, for is_preperiodic need:
- check that map is a morphism
- check that given point is in the domain of the map
- check that if over a number field, it is an absolute number field



---

archive/issue_comments_235478.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T18:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235478",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_235479.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-27T03:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235479",
    "user": "gjorgenson"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_235480.json:
```json
{
    "body": "Everything seems to be working well and the changes fixed all of the issues from the reviews.",
    "created_at": "2015-03-27T03:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235480",
    "user": "gjorgenson"
}
```

Everything seems to be working well and the changes fixed all of the issues from the reviews.



---

archive/issue_comments_235481.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-15T06:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17618#issuecomment-235481",
    "user": "vbraun"
}
```

Resolution: fixed
