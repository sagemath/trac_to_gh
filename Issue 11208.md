# Issue 11208: Computing continued fractions on real quadratic fields

Issue created by migration from Trac.

Original creator: mmasdeu

Original creation time: 2011-05-25 21:00:11

Assignee: was

CC:  cremona sstarosta lftabera slelievre

Keywords: norm-euclidean, two-stage euclidean, continued fraction

We have implemented some routines that allow for the computation of continued fractions in real quadratic number fields of class number one. This uses 2-stage division chains as defined in G.E.Cooke,"A weakening of the euclidean property for integral domains and applications to algebraic number theory".

The algorithm finds a set of "hyperbolic regions" as described in the above article, large enough so that it covers a fundamental domain. These regions are used to construct 2-stage division chains and therefore obtain continued fractions with elements of the ring of integers of the number field.

This is a


---

Attachment

First version of the new routines


---

Comment by mmasdeu created at 2011-05-25 21:05:29

Changing status from new to needs_review.


---

Comment by mmasdeu created at 2011-05-26 21:55:40

Second version


---

Attachment

I have added a second patch, which should be applied after the first. This will replace the .py with a .pyx and fix some errors.

I think that this works now as expected. Sorry for the small mess...it's my first ticket :-).


---

Comment by mmasdeu created at 2011-06-02 16:29:42

The last attachment contains all the changes and passed all the doctest with Sage 4.7. The first two patches should be disregarded.


---

Comment by cremona created at 2011-06-03 13:04:17

I don't think I am qualified to review this since I am not familiar with the algorithm.  But I do have one question:  Why have you put the new code into a cython (.pyx) file when it does not seem to contain any cython code, only python?  (I may be wrong, as I did not read it all).  If it is just python, then it can be renamed .py and not included in the module_list.


---

Comment by cremona created at 2011-06-03 13:04:17

Changing status from needs_review to needs_info.


---

Comment by mmasdeu created at 2011-06-03 16:17:09

Replying to [comment:5 cremona]:
> I don't think I am qualified to review this since I am not familiar with the algorithm.  But I do have one question:  Why have you put the new code into a cython (.pyx) file when it does not seem to contain any cython code, only python?  (I may be wrong, as I did not read it all).  If it is just python, then it can be renamed .py and not included in the module_list.

I updated the patch with the suggested changes. As for the review, during this weekend we plan to upload our preprint to the arxiv, and there you can find the algorithm that we are using explained.

In short, what the only function accessible should do is to return a list of elements of the ring of integers of the number field, so that they are a (terminating) continued fraction for the given element.


---

Comment by mmasdeu created at 2011-06-07 15:39:39

Changing status from needs_info to needs_review.


---

Comment by chapoton created at 2011-06-24 19:02:53

Let me try to help the buildbot:

Apply trac_11380_quadratic_cont_frac.patch


---

Comment by kcrisman created at 2011-06-24 19:44:48

The current patch is a double patch (read it and you'll see what I mean).  Also, I think cremona's question about the .pyx versus .py is a good one.


---

Comment by mmasdeu created at 2011-06-25 14:16:34

To be used alone


---

Attachment

Thank you chapoton, kcrisman and cremona for taking a look at this. After kcrisman I am uploading a patch that should work. Any references to the .pyx have been removed (we did that in the second version but apparently it got messed up).


---

Comment by chapoton created at 2011-06-29 19:11:19

for the bot:

Apply trac_11380_quadratic_cont_frac.patch


---

Comment by davidloeffler created at 2011-09-11 15:30:34

This cannot be considered for inclusion into Sage since the file `sage/rings/number_field/quadratic_continued_fraction.py` does not have a single docstring or example anywhere.


---

Comment by davidloeffler created at 2011-09-11 15:30:34

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2014-08-28 19:26:04

New commits:


---

Comment by git created at 2014-08-30 12:35:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-08-30 16:58:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-10-05 01:40:11

typo in the Authors field


---

Comment by git created at 2017-06-08 20:00:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slelievre created at 2018-07-02 22:13:26

Also available as a pip-installable package that runs on top of Sage:
- code repo on GitHub: https://github.com/mmasdeu/twostage
- python package on PyPI: https://pypi.org/project/twostage


---

Comment by chapoton created at 2020-09-24 11:21:00

Changing keywords from "norm-euclidean, two-stage euclidean, continued fraction" to "norm-euclidean, two-stage euclidean, continued_fraction".
