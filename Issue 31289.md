# Issue 31289: Drop support for optional packages on ubuntu-trusty, debian-jessie, linuxmint-17, centos-7

Issue created by migration from https://trac.sagemath.org/ticket/31526

Original creator: mkoeppe

Original creation time: 2021-03-20 00:13:31

CC:  @kliem dimpase

`ubuntu-trusty` 14.04 is long past "standard support" and will reach its EOL in April 2022 (https://wiki.ubuntu.com/Releases), but several optional packages do not build on it because of an outdated compiler (gcc 4.x)

`debian-jessie` (8) is past EOL LTS, with EOL ELTS in June 2022 (https://wiki.debian.org/DebianReleases). Same situation with gcc 4.x.

`linuxmint-17` is past EOL (https://forums.linuxmint.com/viewtopic.php?t=289281). gcc 4.x

`centos-7` has EOL June 2024. gcc 4.x

We remove these systems from the GH Actions CI tests for optional packages. 


Next wave:
- `linuxmint-18` with gcc 5.4
- `slackware-14.2` with gcc 5.5


---

Comment by mkoeppe created at 2021-05-12 15:40:04

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-05-12 15:40:04

New commits:


---

Comment by @kliem created at 2021-05-12 16:04:31

It's a bit bad for the centos-7 that still is far from EOL.

What's the recommended way around for users on this? `-without-system-gcc`? Can we test this?


---

Comment by @kliem created at 2021-05-12 16:07:06

Then again from what I see the `tox-gcc_spkg.yml` run is far from stable, so perhaps we do not gain anything by adding it.


---

Comment by mkoeppe created at 2021-05-12 16:18:27

Yes, trying to fix up some `gcc_spkg` builds (on top of #29703), and then testing optional packages with that could be a possible strategy.

Perhaps we should also add a configure warning if we encounter ancient system `gcc`s, advising users to upgrade their system or at least their toolchain (related: #27853)


---

Comment by mkoeppe created at 2021-05-12 16:18:44

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-05-18 02:07:46

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2021-05-18 02:08:18

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2021-05-18 09:23:26

lgtm


---

Comment by dimpase created at 2021-05-18 09:23:26

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-05-18 16:17:07

Thanks!


---

Comment by vbraun created at 2021-06-06 13:19:20

Resolution: fixed
