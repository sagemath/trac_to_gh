# Issue 34265: Implement algebra_containment from Singular

Issue created by migration from https://trac.sagemath.org/ticket/34502

Original creator: jhpalmieri

Original creation time: 2022-09-07 00:16:57

Implement the [algebra_containment](https://www.singular.uni-kl.de/Manual/4-3-1/sing_1247.htm#SEC1328) procedure from Singular. Perhaps also [inSubring](https://www.singular.uni-kl.de/Manual/4-3-1/sing_1249.htm#SEC1330).


---

Comment by rburing created at 2022-09-14 15:19:11

See my answer to https://ask.sagemath.org/question/58630/compute-minimal-number-of-generators-of-subring/ for a description of the algorithm and an implementation via the Singular interface.


---

Comment by jhpalmieri created at 2022-09-14 18:41:48

That's very helpful. For the particular case I was using, I had already implemented my own version using the algorithm you described there (item 1 below). Now I see at least three options:

1. create a polynomial ring with new generators `z_1, ..., z_m` corresponding to the subalgebra generators `y_1, ..., y_m` and reduce using the ideal `(z_i - y_i)`
2. use the `in_subring` function that you provided
3. use an `algebra_containment` function with a very similar definition

By the way, regarding item 1, is there any advantage to replacing a line like

```
J = R.ideal(z1 - (whatever), z2 - (whatever))
```

with

```
J = R.ideal(z1 - (whatever), z2 - (whatever)).groebner_basis()
```

Does that speed up the `f.reduce(J)` computation, for example if you need to do this for many `f`?


---

Comment by jhpalmieri created at 2022-09-15 20:15:14

Here is a draft. Maybe it would be better to not use `singular_lib` and `singular_function` and instead define these at the same level as other Singular functions in Sage. Anyway, it's a start.
----
New commits:


---

Comment by jhpalmieri created at 2022-11-16 01:11:11

Changing status from new to needs_review.
