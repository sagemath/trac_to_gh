# Issue 34265: Implement algebra_containment from Singular

archive/issues_034265.json:
```json
{
    "body": "Implement the [algebra_containment](https://www.singular.uni-kl.de/Manual/4-3-1/sing_1247.htm#SEC1328) procedure from Singular. Perhaps also [inSubring](https://www.singular.uni-kl.de/Manual/4-3-1/sing_1249.htm#SEC1330).\n\nIssue created by migration from https://trac.sagemath.org/ticket/34502\n\n",
    "created_at": "2022-09-07T00:16:57Z",
    "labels": [
        "packages: standard",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Implement algebra_containment from Singular",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34265",
    "user": "jhpalmieri"
}
```
Implement the [algebra_containment](https://www.singular.uni-kl.de/Manual/4-3-1/sing_1247.htm#SEC1328) procedure from Singular. Perhaps also [inSubring](https://www.singular.uni-kl.de/Manual/4-3-1/sing_1249.htm#SEC1330).

Issue created by migration from https://trac.sagemath.org/ticket/34502





---

archive/issue_comments_485926.json:
```json
{
    "body": "See my answer to https://ask.sagemath.org/question/58630/compute-minimal-number-of-generators-of-subring/ for a description of the algorithm and an implementation via the Singular interface.",
    "created_at": "2022-09-14T15:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34265#issuecomment-485926",
    "user": "rburing"
}
```

See my answer to https://ask.sagemath.org/question/58630/compute-minimal-number-of-generators-of-subring/ for a description of the algorithm and an implementation via the Singular interface.



---

archive/issue_comments_485927.json:
```json
{
    "body": "That's very helpful. For the particular case I was using, I had already implemented my own version using the algorithm you described there (item 1 below). Now I see at least three options:\n\n1. create a polynomial ring with new generators `z_1, ..., z_m` corresponding to the subalgebra generators `y_1, ..., y_m` and reduce using the ideal `(z_i - y_i)`\n2. use the `in_subring` function that you provided\n3. use an `algebra_containment` function with a very similar definition\n\nBy the way, regarding item 1, is there any advantage to replacing a line like\n\n```\nJ = R.ideal(z1 - (whatever), z2 - (whatever))\n```\n\nwith\n\n```\nJ = R.ideal(z1 - (whatever), z2 - (whatever)).groebner_basis()\n```\n\nDoes that speed up the `f.reduce(J)` computation, for example if you need to do this for many `f`?",
    "created_at": "2022-09-14T18:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34265#issuecomment-485927",
    "user": "jhpalmieri"
}
```

That's very helpful. For the particular case I was using, I had already implemented my own version using the algorithm you described there (item 1 below). Now I see at least three options:

1. create a polynomial ring with new generators `z_1, ..., z_m` corresponding to the subalgebra generators `y_1, ..., y_m` and reduce using the ideal `(z_i - y_i)`
2. use the `in_subring` function that you provided
3. use an `algebra_containment` function with a very similar definition

By the way, regarding item 1, is there any advantage to replacing a line like

```
J = R.ideal(z1 - (whatever), z2 - (whatever))
```

with

```
J = R.ideal(z1 - (whatever), z2 - (whatever)).groebner_basis()
```

Does that speed up the `f.reduce(J)` computation, for example if you need to do this for many `f`?



---

archive/issue_comments_485928.json:
```json
{
    "body": "Here is a draft. Maybe it would be better to not use `singular_lib` and `singular_function` and instead define these at the same level as other Singular functions in Sage. Anyway, it's a start.\n----\nNew commits:",
    "created_at": "2022-09-15T20:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34265#issuecomment-485928",
    "user": "jhpalmieri"
}
```

Here is a draft. Maybe it would be better to not use `singular_lib` and `singular_function` and instead define these at the same level as other Singular functions in Sage. Anyway, it's a start.
----
New commits:



---

archive/issue_comments_485929.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-11-16T01:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34265",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34265#issuecomment-485929",
    "user": "jhpalmieri"
}
```

Changing status from new to needs_review.
