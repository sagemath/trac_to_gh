# Issue 32190: Deprecate sage.finance

archive/issues_032190.json:
```json
{
    "body": "CC:  kcrisman slabbe tscrim zimmerma\n\nAs proposed in https://groups.google.com/g/sage-devel/c/dg9qDUVU3qs/m/e-WptfUjBQAJ\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32427\n\n",
    "created_at": "2021-08-26T18:40:13Z",
    "labels": [
        "finance",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Deprecate sage.finance",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32190",
    "user": "mkoeppe"
}
```
CC:  kcrisman slabbe tscrim zimmerma

As proposed in https://groups.google.com/g/sage-devel/c/dg9qDUVU3qs/m/e-WptfUjBQAJ


Issue created by migration from https://trac.sagemath.org/ticket/32427





---

archive/issue_comments_459795.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-26T18:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459795",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_459796.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-08-26T18:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459796",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_459797.json:
```json
{
    "body": "Agreed this can be done.  If it applies properly and doing so with a finance command shows the deprecation command as I would expect, we should merge it.",
    "created_at": "2021-08-26T19:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459797",
    "user": "kcrisman"
}
```

Agreed this can be done.  If it applies properly and doing so with a finance command shows the deprecation command as I would expect, we should merge it.



---

archive/issue_comments_459798.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-26T21:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459798",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459799.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-29T22:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459799",
    "user": "tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_459800.json:
```json
{
    "body": "Apparently, `sage.stats` depends on `sage.finance`, perhaps moving `time_series.*` from finance to stats would solve the issue.",
    "created_at": "2021-08-29T22:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459800",
    "user": "tmonteil"
}
```

Apparently, `sage.stats` depends on `sage.finance`, perhaps moving `time_series.*` from finance to stats would solve the issue.



---

archive/issue_comments_459801.json:
```json
{
    "body": "Yes, I think that's a good suggestion",
    "created_at": "2021-08-29T22:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459801",
    "user": "mkoeppe"
}
```

Yes, I think that's a good suggestion



---

archive/issue_comments_459802.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-29T23:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459802",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459803.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-29T23:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459803",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_459804.json:
```json
{
    "body": "There is one remaining failing doctest, related to the book \"Computational mathematics with Sagemath\" in the file `src/sage/tests/books/computational-mathematics-with-sagemath/graphique_doctest.py`. Let me CC one of the authors.\n\nProposal:\n\n- keep the call to `finance.TimeSeries` untouched because it is written that way in the book\n- add the `DeprecationWarning` to the output of the doctest to let it pass\n- let the authors change the call to `finance.TimeSeries` to `stats.TimeSeries` when they update the book",
    "created_at": "2021-09-02T20:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459804",
    "user": "tmonteil"
}
```

There is one remaining failing doctest, related to the book "Computational mathematics with Sagemath" in the file `src/sage/tests/books/computational-mathematics-with-sagemath/graphique_doctest.py`. Let me CC one of the authors.

Proposal:

- keep the call to `finance.TimeSeries` untouched because it is written that way in the book
- add the `DeprecationWarning` to the output of the doctest to let it pass
- let the authors change the call to `finance.TimeSeries` to `stats.TimeSeries` when they update the book



---

archive/issue_comments_459805.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-02T20:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459805",
    "user": "tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_459806.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-02T20:40:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459806",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459807.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-02T20:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459807",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_459808.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-03T08:42:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459808",
    "user": "tmonteil"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_459809.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-09-19T09:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32190#issuecomment-459809",
    "user": "vbraun"
}
```

Resolution: fixed
