# Issue 19982: Remove redundant functions from gen.pyx

archive/issues_019982.json:
```json
{
    "body": "CC:  @defeo\n\nMany functions in `src/sage/libs/pari/gen.pyx` are just manual copies of auto-generated code. Remove those functions, but keep the doctests in `src/sage/libs/pari/tests.py`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20219\n\n",
    "created_at": "2016-03-16T10:31:38Z",
    "labels": [
        "interfaces",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Remove redundant functions from gen.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19982",
    "user": "@jdemeyer"
}
```
CC:  @defeo

Many functions in `src/sage/libs/pari/gen.pyx` are just manual copies of auto-generated code. Remove those functions, but keep the doctests in `src/sage/libs/pari/tests.py`.

Issue created by migration from https://trac.sagemath.org/ticket/20219





---

archive/issue_comments_275204.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-16T13:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275204",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_275205.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-16T14:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275205",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_275206.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-16T15:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275206",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_275207.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-16T16:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275207",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_275208.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-16T18:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275208",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_275209.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-03-16T22:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275209",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_275210.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-17T10:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275210",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_275211.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-03-23T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275211",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_275212.json:
```json
{
    "body": "There was no doctest for `vecmin`, `vecmax`, `elltaniyama`, `bnfcertify`, `bnfunit`, `idealval`, `nfsubfields`,  .Would it be possible to provide one to check that the methods exist?\n\nThe methods `idealintersection`, ` reverse`, `order`, ` listinsert`, `listput` were simply removed. You should provide deprecation and test it.\n\nFinally, could you change the doctest\n\n```\n     sage: var('x')\n     x\n     sage: pari(x).ceil()\n     x\n```\n\nto\n\n```\n    sage: pari(SR.var('x')).ceil()\n```\n",
    "created_at": "2016-03-23T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275212",
    "user": "@videlec"
}
```

There was no doctest for `vecmin`, `vecmax`, `elltaniyama`, `bnfcertify`, `bnfunit`, `idealval`, `nfsubfields`,  .Would it be possible to provide one to check that the methods exist?

The methods `idealintersection`, ` reverse`, `order`, ` listinsert`, `listput` were simply removed. You should provide deprecation and test it.

Finally, could you change the doctest

```
     sage: var('x')
     x
     sage: pari(x).ceil()
     x
```

to

```
    sage: pari(SR.var('x')).ceil()
```




---

archive/issue_comments_275213.json:
```json
{
    "body": "Replying to [comment:10 vdelecroix]:\n> Finally, could you change the doctest\n> {{{\n>      sage: var('x')\n>      x\n>      sage: pari(x).ceil()\n>      x\n> }}}\n> to\n> {{{\n>     sage: pari(SR.var('x')).ceil()\n> }}}\n\nWhy?",
    "created_at": "2016-03-23T14:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275213",
    "user": "@jdemeyer"
}
```

Replying to [comment:10 vdelecroix]:
> Finally, could you change the doctest
> {{{
>      sage: var('x')
>      x
>      sage: pari(x).ceil()
>      x
> }}}
> to
> {{{
>     sage: pari(SR.var('x')).ceil()
> }}}

Why?



---

archive/issue_comments_275214.json:
```json
{
    "body": "Replying to [comment:11 jdemeyer]:\n> Replying to [comment:10 vdelecroix]:\n> > Finally, could you change the doctest\n> > {{{\n> >      sage: var('x')\n> >      x\n> >      sage: pari(x).ceil()\n> >      x\n> > }}}\n> > to\n> > {{{\n> >     sage: pari(SR.var('x')).ceil()\n> > }}}\n> \n> Why?\n\nBecause `var` is an horrible function that implicitely put `x` in the namespace.",
    "created_at": "2016-03-23T14:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275214",
    "user": "@videlec"
}
```

Replying to [comment:11 jdemeyer]:
> Replying to [comment:10 vdelecroix]:
> > Finally, could you change the doctest
> > {{{
> >      sage: var('x')
> >      x
> >      sage: pari(x).ceil()
> >      x
> > }}}
> > to
> > {{{
> >     sage: pari(SR.var('x')).ceil()
> > }}}
> 
> Why?

Because `var` is an horrible function that implicitely put `x` in the namespace.



---

archive/issue_comments_275215.json:
```json
{
    "body": "Replying to [comment:12 vdelecroix]:\n> Because `var` is an horrible function that implicitely put `x` in the namespace.\n\nWould you agree with putting `x` in the namespace explicitly:\n\n```\nsage: x = SR.var('x')\nsage: pari(x)....\n```\n",
    "created_at": "2016-03-23T14:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275215",
    "user": "@jdemeyer"
}
```

Replying to [comment:12 vdelecroix]:
> Because `var` is an horrible function that implicitely put `x` in the namespace.

Would you agree with putting `x` in the namespace explicitly:

```
sage: x = SR.var('x')
sage: pari(x)....
```




---

archive/issue_comments_275216.json:
```json
{
    "body": "Replying to [comment:13 jdemeyer]:\n> Replying to [comment:12 vdelecroix]:\n> > Because `var` is an horrible function that implicitely put `x` in the namespace.\n> \n> Would you agree with putting `x` in the namespace explicitly:\n> {{{\n> sage: x = SR.var('x')\n> sage: pari(x)....\n> }}}\n\nI do.",
    "created_at": "2016-03-23T15:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275216",
    "user": "@videlec"
}
```

Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 vdelecroix]:
> > Because `var` is an horrible function that implicitely put `x` in the namespace.
> 
> Would you agree with putting `x` in the namespace explicitly:
> {{{
> sage: x = SR.var('x')
> sage: pari(x)....
> }}}

I do.



---

archive/issue_comments_275217.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-24T08:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275217",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_275218.json:
```json
{
    "body": "Replying to [comment:10 vdelecroix]:\n> There was no doctest for `vecmin`, `vecmax`, `elltaniyama`, `bnfcertify`, `bnfunit`, `idealval`, `nfsubfields`,  .Would it be possible to provide one to check that the methods exist?\n\nI don't see the point. We provide the functions exposed by PARI/GP. If these functions are used in Sage library code, there is an implicit test that they work. If they are not used, I don't see why it's our business to check that PARI/GP has a `vecmin()` function for example.\n\n> The methods `idealintersection`, ` reverse`, `order`, ` listinsert`, `listput` were simply removed. You should provide deprecation and test it.\n\n`idealintersection` and `reverse` are tested in `tests.py`. The last three indeed disappeared.",
    "created_at": "2016-03-24T08:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275218",
    "user": "@jdemeyer"
}
```

Replying to [comment:10 vdelecroix]:
> There was no doctest for `vecmin`, `vecmax`, `elltaniyama`, `bnfcertify`, `bnfunit`, `idealval`, `nfsubfields`,  .Would it be possible to provide one to check that the methods exist?

I don't see the point. We provide the functions exposed by PARI/GP. If these functions are used in Sage library code, there is an implicit test that they work. If they are not used, I don't see why it's our business to check that PARI/GP has a `vecmin()` function for example.

> The methods `idealintersection`, ` reverse`, `order`, ` listinsert`, `listput` were simply removed. You should provide deprecation and test it.

`idealintersection` and `reverse` are tested in `tests.py`. The last three indeed disappeared.



---

archive/issue_comments_275219.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-24T09:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275219",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_275220.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-03-24T09:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275220",
    "user": "@jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_275221.json:
```json
{
    "body": "Replying to [comment:16 jdemeyer]:\n> Replying to [comment:10 vdelecroix]:\n> > There was no doctest for `vecmin`, `vecmax`, `elltaniyama`, `bnfcertify`, `bnfunit`, `idealval`, `nfsubfields`,  .Would it be possible to provide one to check that the methods exist?\n> \n> I don't see the point. We provide the functions exposed by PARI/GP. If these functions are used in Sage library code, there is an implicit test that they work. If they are not used, I don't see why it's our business to check that PARI/GP has a `vecmin()` function for example.\n\nBut these functions used to be there. Some people might use them outside of the Sage library code. I do not claim that the code was good from the begining but that the changes should be as smooth as possible.\n\n> > The methods `idealintersection`, ` reverse`, `order`, ` listinsert`, `listput` were simply removed. You should provide deprecation and test it.\n> \n> `idealintersection` and `reverse` are tested in `tests.py`. The last three indeed disappeared.\n\nThe same remark applies.",
    "created_at": "2016-03-24T20:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275221",
    "user": "@videlec"
}
```

Replying to [comment:16 jdemeyer]:
> Replying to [comment:10 vdelecroix]:
> > There was no doctest for `vecmin`, `vecmax`, `elltaniyama`, `bnfcertify`, `bnfunit`, `idealval`, `nfsubfields`,  .Would it be possible to provide one to check that the methods exist?
> 
> I don't see the point. We provide the functions exposed by PARI/GP. If these functions are used in Sage library code, there is an implicit test that they work. If they are not used, I don't see why it's our business to check that PARI/GP has a `vecmin()` function for example.

But these functions used to be there. Some people might use them outside of the Sage library code. I do not claim that the code was good from the begining but that the changes should be as smooth as possible.

> > The methods `idealintersection`, ` reverse`, `order`, ` listinsert`, `listput` were simply removed. You should provide deprecation and test it.
> 
> `idealintersection` and `reverse` are tested in `tests.py`. The last three indeed disappeared.

The same remark applies.



---

archive/issue_comments_275222.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-25T09:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275222",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_275223.json:
```json
{
    "body": "OK, let's look at the functions that you mentioned:\n\n* `vecmin`, `vecmax`: added back with doctests.\n* `elltaniyama`, `bnfcertify`, `nfsubfields`, `idealval`: still exist, auto-generated.\n* `bnfunit`: still exists in `gen.pyx`.\n* `idealintersection`, `reverse`: still exist but deprecated.\n* `order`: added back as deprecated alias.\n* `listinsert`, `listput`: now auto-generated and doctested implicitly in `List()`.",
    "created_at": "2016-03-25T09:24:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275223",
    "user": "@jdemeyer"
}
```

OK, let's look at the functions that you mentioned:

* `vecmin`, `vecmax`: added back with doctests.
* `elltaniyama`, `bnfcertify`, `nfsubfields`, `idealval`: still exist, auto-generated.
* `bnfunit`: still exists in `gen.pyx`.
* `idealintersection`, `reverse`: still exist but deprecated.
* `order`: added back as deprecated alias.
* `listinsert`, `listput`: now auto-generated and doctested implicitly in `List()`.



---

archive/issue_comments_275224.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-29T13:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275224",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_275225.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-29T20:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275225",
    "user": "@videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_275226.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-03-30T14:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19982#issuecomment-275226",
    "user": "@vbraun"
}
```

Resolution: fixed
