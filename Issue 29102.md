# Issue 29102: Fix NTL spkg-configure.m4 so it rejects NTLs built with NTL_THREADS, without NTL_GMP_LIP, without NTL_GF2X_LIB

archive/issues_029102.json:
```json
{
    "body": "CC:  @dimpase @kiwifb @mwageringel @jhpalmieri jpflori\n\n... such as homebrew's NTL (#29104).\n\nBuilds with NTL_THREADS breaks Singular (as observed in #29104).\n\nThe other checks are about performance degradation that we should not accept.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29339\n\n",
    "created_at": "2020-03-15T16:25:38Z",
    "labels": [
        "component: build: configure",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Fix NTL spkg-configure.m4 so it rejects NTLs built with NTL_THREADS, without NTL_GMP_LIP, without NTL_GF2X_LIB",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29102",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @dimpase @kiwifb @mwageringel @jhpalmieri jpflori

... such as homebrew's NTL (#29104).

Builds with NTL_THREADS breaks Singular (as observed in #29104).

The other checks are about performance degradation that we should not accept.

Issue created by migration from https://trac.sagemath.org/ticket/29339





---

archive/issue_comments_411446.json:
```json
{
    "body": "the wise thing is to enable TLS as much as possible, IMHO. The configuration with enabled TLS on NTL, pari, and flint used to work, IIRC.",
    "created_at": "2020-03-15T16:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411446",
    "user": "https://github.com/dimpase"
}
```

the wise thing is to enable TLS as much as possible, IMHO. The configuration with enabled TLS on NTL, pari, and flint used to work, IIRC.



---

archive/issue_comments_411447.json:
```json
{
    "body": "I also don't think gf2x should be a hard requirement. It is entirely optional for NTL.",
    "created_at": "2020-03-15T16:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411447",
    "user": "https://github.com/dimpase"
}
```

I also don't think gf2x should be a hard requirement. It is entirely optional for NTL.



---

archive/issue_comments_411448.json:
```json
{
    "body": "Do you mean NTL_TLS_HACK?",
    "created_at": "2020-03-15T17:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411448",
    "user": "https://github.com/mkoeppe"
}
```

Do you mean NTL_TLS_HACK?



---

archive/issue_comments_411449.json:
```json
{
    "body": "homebrew's NTL is configured with `NTL_TLS_HACK` and `NTL_THREADS`, and I am getting the reported error with Singular.\nWhat do you suggest?",
    "created_at": "2020-03-15T17:55:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411449",
    "user": "https://github.com/mkoeppe"
}
```

homebrew's NTL is configured with `NTL_TLS_HACK` and `NTL_THREADS`, and I am getting the reported error with Singular.
What do you suggest?



---

archive/issue_comments_411450.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/56215147",
    "created_at": "2020-03-15T17:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411450",
    "user": "https://github.com/mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/56215147



---

archive/issue_comments_411451.json:
```json
{
    "body": "see #27764",
    "created_at": "2020-03-15T18:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411451",
    "user": "https://github.com/dimpase"
}
```

see #27764



---

archive/issue_comments_411452.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-03-15T22:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411452",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_411453.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-15T22:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411453",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_411454.json:
```json
{
    "body": "once again - some distros build NTL without gf2x support, and it results in some deterioration of performance, but this is not something Sage should worry too much. Print a warning if you must.\n\nAfter all, it is by far not the only place where the performance is suboptimal on pre-build installs, untuned for the hardware, say.",
    "created_at": "2020-03-16T06:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411454",
    "user": "https://github.com/dimpase"
}
```

once again - some distros build NTL without gf2x support, and it results in some deterioration of performance, but this is not something Sage should worry too much. Print a warning if you must.

After all, it is by far not the only place where the performance is suboptimal on pre-build installs, untuned for the hardware, say.



---

archive/issue_comments_411455.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-16T14:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411455",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_411456.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-16T14:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411456",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_411457.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-16T14:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411457",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_411458.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n> once again - some distros build NTL without gf2x support, and it results in some deterioration of performance, but this is not something Sage should worry too much. Print a warning if you must.\nOK, I have removed the tests",
    "created_at": "2020-03-17T17:01:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411458",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:10 dimpase]:
> once again - some distros build NTL without gf2x support, and it results in some deterioration of performance, but this is not something Sage should worry too much. Print a warning if you must.
OK, I have removed the tests



---

archive/issue_comments_411459.json:
```json
{
    "body": "IMHO also pari/gp is typically built with threads on by distros.\nThis means that TLS is enabled for pari/gp.\n\nWe may end up with having to build all the libs...",
    "created_at": "2020-03-17T17:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411459",
    "user": "https://github.com/dimpase"
}
```

IMHO also pari/gp is typically built with threads on by distros.
This means that TLS is enabled for pari/gp.

We may end up with having to build all the libs...



---

archive/issue_comments_411460.json:
```json
{
    "body": "I don't see such problems in my tests",
    "created_at": "2020-03-17T17:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411460",
    "user": "https://github.com/mkoeppe"
}
```

I don't see such problems in my tests



---

archive/issue_comments_411461.json:
```json
{
    "body": "do you test with options **forcing** the use of system packages?",
    "created_at": "2020-03-17T18:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411461",
    "user": "https://github.com/dimpase"
}
```

do you test with options **forcing** the use of system packages?



---

archive/issue_comments_411462.json:
```json
{
    "body": "Not recently, will do",
    "created_at": "2020-03-17T18:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411462",
    "user": "https://github.com/mkoeppe"
}
```

Not recently, will do



---

archive/issue_comments_411463.json:
```json
{
    "body": "However, you can look for the new messages `configure: Hint: The following SPKGs did not find equivalent system packages`\nsuch as (https://github.com/mkoeppe/sage/runs/512242876) for `ubuntu-focal-standard`:\n\n```\nconfigure: Hint: The following SPKGs did not find equivalent system packages:\nconfigure:   arb cbc cmake eclib fflas_ffpack flint fplll isl libatomic_ops libsemigroups ninja_build ntl perl_term_readline_gnu\nchecking for the package system in use... debian\nconfigure: Hint: Installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\nconfigure:   $ sudo apt-get install libflint-arb-dev coinor-cbc coinor-libcbc-dev cmake libec-dev libflint-dev libisl-dev ninja-build libntl-dev libterm-readline-gnu-perl\nconfigure: After installation, re-run configure using:\nconfigure:   $ ./config.status --recheck && ./config.status\n```\n",
    "created_at": "2020-03-17T18:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411463",
    "user": "https://github.com/mkoeppe"
}
```

However, you can look for the new messages `configure: Hint: The following SPKGs did not find equivalent system packages`
such as (https://github.com/mkoeppe/sage/runs/512242876) for `ubuntu-focal-standard`:

```
configure: Hint: The following SPKGs did not find equivalent system packages:
configure:   arb cbc cmake eclib fflas_ffpack flint fplll isl libatomic_ops libsemigroups ninja_build ntl perl_term_readline_gnu
checking for the package system in use... debian
configure: Hint: Installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
configure:   $ sudo apt-get install libflint-arb-dev coinor-cbc coinor-libcbc-dev cmake libec-dev libflint-dev libisl-dev ninja-build libntl-dev libterm-readline-gnu-perl
configure: After installation, re-run configure using:
configure:   $ ./config.status --recheck && ./config.status
```




---

archive/issue_comments_411464.json:
```json
{
    "body": "I think that the threads issue should be handled on per platform basis. If threads are not working on MacOS it does not mean that Sage on Linux should be made single-thread.",
    "created_at": "2020-03-18T01:59:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411464",
    "user": "https://github.com/dimpase"
}
```

I think that the threads issue should be handled on per platform basis. If threads are not working on MacOS it does not mean that Sage on Linux should be made single-thread.



---

archive/issue_comments_411465.json:
```json
{
    "body": "Do you know a platform that actually builds NTL with threads?",
    "created_at": "2020-03-18T02:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411465",
    "user": "https://github.com/mkoeppe"
}
```

Do you know a platform that actually builds NTL with threads?



---

archive/issue_comments_411466.json:
```json
{
    "body": "Replying to [comment:21 mkoeppe]:\n> Do you know a platform that actually builds NTL with threads?\n\nGentoo.",
    "created_at": "2020-03-18T02:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411466",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:21 mkoeppe]:
> Do you know a platform that actually builds NTL with threads?

Gentoo.



---

archive/issue_comments_411467.json:
```json
{
    "body": "Well, does sage-the-distribution work with Gentoo's NTL?",
    "created_at": "2020-03-18T02:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411467",
    "user": "https://github.com/mkoeppe"
}
```

Well, does sage-the-distribution work with Gentoo's NTL?



---

archive/issue_comments_411468.json:
```json
{
    "body": "yes it does, I think.",
    "created_at": "2020-03-18T02:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411468",
    "user": "https://github.com/dimpase"
}
```

yes it does, I think.



---

archive/issue_comments_411469.json:
```json
{
    "body": "Shouldn't there be a ticket that enables NTL threads for Sage-the-distribution then?\nThe NTL upgrade ticket #20590 disabled threads explicitly.\nSo I assume there was a difficulty -- and there is no evidence that it has been resolved.",
    "created_at": "2020-03-18T02:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411469",
    "user": "https://github.com/mkoeppe"
}
```

Shouldn't there be a ticket that enables NTL threads for Sage-the-distribution then?
The NTL upgrade ticket #20590 disabled threads explicitly.
So I assume there was a difficulty -- and there is no evidence that it has been resolved.



---

archive/issue_comments_411470.json:
```json
{
    "body": "4 years ago the Python's single-thread religion still had many followers :-)",
    "created_at": "2020-03-18T02:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411470",
    "user": "https://github.com/dimpase"
}
```

4 years ago the Python's single-thread religion still had many followers :-)



---

archive/issue_comments_411471.json:
```json
{
    "body": "No, seriously, when our own installation scripts avoid NTL's threads, then I think it is quite appropriate that the spkg-configure checks for that.",
    "created_at": "2020-03-18T02:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411471",
    "user": "https://github.com/mkoeppe"
}
```

No, seriously, when our own installation scripts avoid NTL's threads, then I think it is quite appropriate that the spkg-configure checks for that.



---

archive/issue_comments_411472.json:
```json
{
    "body": "by the way, Fedora 30 (and on newer Fedoras too) also provides multithreaded NTL, and Sage happily uses it, tests pass.\n\n```\n$ uname -a\nLinux clpc171.cs.ox.ac.uk 5.2.18-200.fc30.x86_64 #1 SMP Tue Oct 1 13:14:07 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\n$ ldd /lib64/libntl.so\n        linux-vdso.so.1 (0x00007ffe9affd000)\n        libgmp.so.10 => /lib64/libgmp.so.10 (0x00007fabe7899000)\n        libgf2x.so.1 => /lib64/libgf2x.so.1 (0x00007fabe7888000)\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fabe7867000)\n        libstdc++.so.6 => /lib64/libstdc++.so.6 (0x00007fabe766d000)\n        libm.so.6 => /lib64/libm.so.6 (0x00007fabe7527000)\n        libc.so.6 => /lib64/libc.so.6 (0x00007fabe7361000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007fabe7c33000)\n        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007fabe7345000)\n```\n",
    "created_at": "2020-03-18T07:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411472",
    "user": "https://github.com/dimpase"
}
```

by the way, Fedora 30 (and on newer Fedoras too) also provides multithreaded NTL, and Sage happily uses it, tests pass.

```
$ uname -a
Linux clpc171.cs.ox.ac.uk 5.2.18-200.fc30.x86_64 #1 SMP Tue Oct 1 13:14:07 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
$ ldd /lib64/libntl.so
        linux-vdso.so.1 (0x00007ffe9affd000)
        libgmp.so.10 => /lib64/libgmp.so.10 (0x00007fabe7899000)
        libgf2x.so.1 => /lib64/libgf2x.so.1 (0x00007fabe7888000)
        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fabe7867000)
        libstdc++.so.6 => /lib64/libstdc++.so.6 (0x00007fabe766d000)
        libm.so.6 => /lib64/libm.so.6 (0x00007fabe7527000)
        libc.so.6 => /lib64/libc.so.6 (0x00007fabe7361000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fabe7c33000)
        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007fabe7345000)
```




---

archive/issue_comments_411473.json:
```json
{
    "body": "Replying to [comment:27 mkoeppe]:\n> No, seriously, when our own installation scripts avoid NTL's threads, then I think it is quite appropriate that the spkg-configure checks for that.\n\nI don't see why. Anyhow, this problem (inability to use multithreaded NTL) seems to be MacOS-only, and probably related to #27764",
    "created_at": "2020-03-18T07:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411473",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:27 mkoeppe]:
> No, seriously, when our own installation scripts avoid NTL's threads, then I think it is quite appropriate that the spkg-configure checks for that.

I don't see why. Anyhow, this problem (inability to use multithreaded NTL) seems to be MacOS-only, and probably related to #27764



---

archive/issue_comments_411474.json:
```json
{
    "body": "We historically had an issue before defaulting to C++11 but we should be able to move ahead in my opinion. I am expecting distros to all be threaded at this stage. It is just a matter of testing the insane number of corner cases.",
    "created_at": "2020-03-18T07:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411474",
    "user": "https://github.com/kiwifb"
}
```

We historically had an issue before defaulting to C++11 but we should be able to move ahead in my opinion. I am expecting distros to all be threaded at this stage. It is just a matter of testing the insane number of corner cases.



---

archive/issue_comments_411475.json:
```json
{
    "body": "Replying to [comment:30 fbissey]:\n> We historically had an issue before defaulting to C++11 but we should be able to move ahead in my opinion. I am expecting distros to all be threaded at this stage. It is just a matter of testing the insane number of corner cases.\n\nit seems to be that Debian is not providing multithreaded NTL (and the related libs, such as Flint, are single-threaded too).",
    "created_at": "2020-03-18T08:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411475",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:30 fbissey]:
> We historically had an issue before defaulting to C++11 but we should be able to move ahead in my opinion. I am expecting distros to all be threaded at this stage. It is just a matter of testing the insane number of corner cases.

it seems to be that Debian is not providing multithreaded NTL (and the related libs, such as Flint, are single-threaded too).



---

archive/issue_comments_411476.json:
```json
{
    "body": "For what it is worth, on macOS 10.13.6, Homebrew's NTL works for me without any problems. I last checked with a clean build of 9.1.beta4 and ptestlong passed.",
    "created_at": "2020-03-18T08:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411476",
    "user": "https://github.com/mwageringel"
}
```

For what it is worth, on macOS 10.13.6, Homebrew's NTL works for me without any problems. I last checked with a clean build of 9.1.beta4 and ptestlong passed.



---

archive/issue_comments_411477.json:
```json
{
    "body": "Replying to [comment:30 fbissey]:\n> We historically had an issue before defaulting to C++11 but we should be able to move ahead in my opinion. I am expecting distros to all be threaded at this stage. It is just a matter of testing the insane number of corner cases.\nI have created ticket #29340 (Enable threads in NTL) for that, in case someone would like to work on it.",
    "created_at": "2020-03-18T16:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411477",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:30 fbissey]:
> We historically had an issue before defaulting to C++11 but we should be able to move ahead in my opinion. I am expecting distros to all be threaded at this stage. It is just a matter of testing the insane number of corner cases.
I have created ticket #29340 (Enable threads in NTL) for that, in case someone would like to work on it.



---

archive/issue_comments_411478.json:
```json
{
    "body": "Replying to [comment:29 dimpase]:\n> Replying to [comment:27 mkoeppe]:\n> > No, seriously, when our own installation scripts avoid NTL's threads, then I think it is quite appropriate that the spkg-configure checks for that.\n> \n> I don't see why. Anyhow, this problem (inability to use multithreaded NTL) seems to be MacOS-only, and probably related to #27764\n\n#27764 does not fix the problem on macOS, I've already tested that",
    "created_at": "2020-03-18T16:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411478",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:29 dimpase]:
> Replying to [comment:27 mkoeppe]:
> > No, seriously, when our own installation scripts avoid NTL's threads, then I think it is quite appropriate that the spkg-configure checks for that.
> 
> I don't see why. Anyhow, this problem (inability to use multithreaded NTL) seems to be MacOS-only, and probably related to #27764

#27764 does not fix the problem on macOS, I've already tested that



---

archive/issue_comments_411479.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-03-19T16:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411479",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_411480.json:
```json
{
    "body": "See #29366 (arch)",
    "created_at": "2020-03-19T16:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411480",
    "user": "https://github.com/mkoeppe"
}
```

See #29366 (arch)



---

archive/issue_comments_411481.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2021-02-03T02:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411481",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_411482.json:
```json
{
    "body": "I think this is no longer needed",
    "created_at": "2021-02-03T02:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411482",
    "user": "https://github.com/mkoeppe"
}
```

I think this is no longer needed



---

archive/issue_comments_411483.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-02-04T10:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411483",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_411484.json:
```json
{
    "body": "ok",
    "created_at": "2021-02-04T10:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411484",
    "user": "https://github.com/dimpase"
}
```

ok



---

archive/issue_comments_411485.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-06-13T06:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29102#issuecomment-411485",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: invalid



---

archive/issue_events_026898.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-13T06:40:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29102",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29102#event-26898"
}
```
