# Issue 16442: Plot the triangulation of a disk associated to a sine-Gordon Y-system

archive/issues_016442.json:
```json
{
    "body": "CC:  nakanisi@math.nagoya-u.ac.jp\n\nKeywords: Y-systems, cluster algebras, triangulations\n\nThis code constructs the triangulation associated to a (reduced) sine-Gordon Y-system as described in \nhttp://arxiv.org/abs/1212.6853\n\nIssue created by migration from https://trac.sagemath.org/ticket/16679\n\n",
    "created_at": "2014-07-18T16:46:52Z",
    "labels": [
        "combinatorics",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Plot the triangulation of a disk associated to a sine-Gordon Y-system",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16442",
    "user": "@etn40ff"
}
```
CC:  nakanisi@math.nagoya-u.ac.jp

Keywords: Y-systems, cluster algebras, triangulations

This code constructs the triangulation associated to a (reduced) sine-Gordon Y-system as described in 
http://arxiv.org/abs/1212.6853

Issue created by migration from https://trac.sagemath.org/ticket/16679





---

archive/issue_comments_216134.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-18T16:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216134",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216135.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-19T11:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216135",
    "user": "@etn40ff"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_216136.json:
```json
{
    "body": "I have just had a quick look, and formatted doc and code.\n----\nNew commits:",
    "created_at": "2015-02-24T21:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216136",
    "user": "@fchapoton"
}
```

I have just had a quick look, and formatted doc and code.
----
New commits:



---

archive/issue_comments_216137.json:
```json
{
    "body": "A few things that need work from a quick look-over:\n\n- You need to add docstrings and tests to `__init__` and `_repr_` (and changed from `__repr__`).\n- You should use `cached_method` instead of the `_intervals` and `_triangulation` work-around.\n\nI will also try to find some time to take a more thorough look-through.",
    "created_at": "2015-02-25T00:19:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216137",
    "user": "@tscrim"
}
```

A few things that need work from a quick look-over:

- You need to add docstrings and tests to `__init__` and `_repr_` (and changed from `__repr__`).
- You should use `cached_method` instead of the `_intervals` and `_triangulation` work-around.

I will also try to find some time to take a more thorough look-through.



---

archive/issue_comments_216138.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-25T13:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216138",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216139.json:
```json
{
    "body": "Thank you both for your input and sorry for the late reply. \nIt look like Fr\u00e9d\u00e9ric already took care of adding docstrings and replacing my work-arounds with `@`cached_method. \nIs there anything else that should be done?",
    "created_at": "2015-03-02T04:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216139",
    "user": "@etn40ff"
}
```

Thank you both for your input and sorry for the late reply. 
It look like Frédéric already took care of adding docstrings and replacing my work-arounds with `@`cached_method. 
Is there anything else that should be done?



---

archive/issue_comments_216140.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-02T05:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216140",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216141.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-31T16:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216141",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216142.json:
```json
{
    "body": "this should use the existing arc plotting function (from sage.plot.arc import arc)\n\nsee #18307 for an example\n\nor maybe even better, use the existing hyperbolic plot facilities",
    "created_at": "2015-06-03T07:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216142",
    "user": "@fchapoton"
}
```

this should use the existing arc plotting function (from sage.plot.arc import arc)

see #18307 for an example

or maybe even better, use the existing hyperbolic plot facilities



---

archive/issue_comments_216143.json:
```json
{
    "body": "I assume you are talking about the parametric_plot in lines 519-524 and 542-546 \n(the other does not plot arcs).\n\nIf I replace them with sage.plot.arc.arc I then do not know how to plot the gray\ntriangular regions. Right now, in lines 572-576 I get a list of points out of\nthree 'parametric_plot arcs' and then make a polygon from this list.\nUnfortunately I do not know how to get points from the output of\nsage.plot.arc.arc, nor if it is possible to shade a region not bounded by line\nsegments. \n\nFew considerations: sage.plot.arc.arc is extremely more efficient than the\nworkaround with parametric_plot precisely because it does not have to compute\npoints. Luckily the number of arcs that this routine plots is not big enough for\nthis to be a (big) issue. Moreover, as you suggested, it would be nice to use\nthe hyperbolic plot facilities already in sage but this would mean implementing\ntwo different logics (one for the unpunctured disk and one for the punctured\ndisk) because the punctured disk, being a cover of the UHP, is not implemented\nas a hyperbolic model. I am not sure this would make the code more readable.\n\nAny suggestion on how to address this?",
    "created_at": "2015-06-22T17:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216143",
    "user": "@etn40ff"
}
```

I assume you are talking about the parametric_plot in lines 519-524 and 542-546 
(the other does not plot arcs).

If I replace them with sage.plot.arc.arc I then do not know how to plot the gray
triangular regions. Right now, in lines 572-576 I get a list of points out of
three 'parametric_plot arcs' and then make a polygon from this list.
Unfortunately I do not know how to get points from the output of
sage.plot.arc.arc, nor if it is possible to shade a region not bounded by line
segments. 

Few considerations: sage.plot.arc.arc is extremely more efficient than the
workaround with parametric_plot precisely because it does not have to compute
points. Luckily the number of arcs that this routine plots is not big enough for
this to be a (big) issue. Moreover, as you suggested, it would be nice to use
the hyperbolic plot facilities already in sage but this would mean implementing
two different logics (one for the unpunctured disk and one for the punctured
disk) because the punctured disk, being a cover of the UHP, is not implemented
as a hyperbolic model. I am not sure this would make the code more readable.

Any suggestion on how to address this?



---

archive/issue_comments_216144.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-13T08:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216144",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216145.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-08T10:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216145",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216146.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-09T00:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216146",
    "user": "@vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_216147.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-09T13:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16442",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16442#issuecomment-216147",
    "user": "@vbraun"
}
```

Resolution: fixed
