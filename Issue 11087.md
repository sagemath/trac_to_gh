# Issue 11087: LU decomposition for matrices with exact base rings

Issue created by migration from https://trac.sagemath.org/ticket/11259

Original creator: rbeezer

Original creation time: 2011-04-26 22:29:50

Assignee: jason, was

This is an optimized implementation of the LU decomposition.  It runs at about twice the speed of the generic echelon form routine (as theory predicts), so with backsubstitution it might be the basis for a faster solver for systems of linear equations over certain fields.


---

Comment by rbeezer created at 2011-04-26 22:34:25

Changing status from new to needs_review.


---

Attachment

Patchbot:

Apply trac_11259-exact-LU-decomposition.patch


---

Attachment

v2 patch just adds in a few bits and pieces to the documentation.

Patchbot:

Apply trac_11259-exact-LU-decomposition-v2.patch


---

Comment by rbeezer created at 2011-05-21 20:42:51

Calling this from another routine suggests an "auto" option on the pivoting strategy to allow for a variety of base rings.  v3 patch adds that in.

Patchbot:

Apply trac_11259-exact-LU-decomposition-v3.patch


---

Attachment


---

Comment by chapoton created at 2011-06-25 07:34:53

Let us (try to) wake up the patch buildbot

Apply trac_11259-exact-LU-decomposition-v3.patch


---

Comment by mraum created at 2011-08-17 14:00:17

Changing status from needs_review to needs_work.


---

Comment by mraum created at 2011-08-17 14:00:17

I haven't yet tested this, but from looking at the code I find two things that I would ask you to change:
1. the import statements should not go into the method, but rather to the header of the file
2. the caching is utterly inefficient, when it comes to 'auto'. In case you deal with 'auto' pivots, would you mind to first convert it to either of the two normal values and than call fetch()? This won't cost much time, but it can save space and also prevents you from computing the same thing twice.

You also might want to try to use add_multiple_of_row to make the implementation either faster or more readable. Not sure whether you have already considered this, but it could be worth a try.


---

Comment by mraum created at 2011-08-21 22:07:18

In the light of what we have said about imports in another ticket, I think the comment on imports is void. Just to mention it ...


---

Comment by rbeezer created at 2011-08-21 23:27:21

Thanks for making that clear.  Have not looked at caching yet, but will soon.

Rob

Replying to [comment:6 mraum]:
> In the light of what we have said about imports in another ticket, I think the comment on imports is void. Just to mention it ...


---

Comment by rbeezer created at 2011-08-22 01:02:07

Replying to [comment:5 mraum]:
> 2. the caching is utterly inefficient, when it comes to 'auto'. In case you deal with 'auto' pivots, would you mind to first convert it to either of the two normal values and than call fetch()? This won't cost much time, but it can save space and also prevents you from computing the same thing twice.

OK, I see now.  Pretty bad.  ;-)  I am thinking to replace 'auto' by None, and early on decide which strategy to employ, then check the cache.  Thanks for catching this one.


---

Attachment


---

Comment by rbeezer created at 2011-08-23 02:53:52

"caching" patch rearranges the code to do (what I think is) the minimum possible to determine the pivoting strategy, and _then_ goes to check the cache.  It fixes the problems with the old 'auto' strategy parameter.

Original version of this code used things like "add_multiple_of_row()".  It proved faster to use the "unsafe" methods down in the heart of the nested loops.


---

Comment by rbeezer created at 2011-08-23 02:53:52

Changing status from needs_work to needs_review.


---

Comment by mraum created at 2011-08-24 08:21:37

That is what I think is optimal, too. Concerning the add_multiple_of_row: Interesting, I really would have expected the contrary.


---

Comment by mraum created at 2011-08-24 08:21:37

Changing status from needs_review to positive_review.


---

Comment by rbeezer created at 2011-08-25 18:58:19

Changing keywords from "" to "sd32".


---

Comment by leif created at 2011-09-17 04:42:59

Resolution: fixed
