# Issue 10359: Polyhedron.vertex_adjacencies() gives different answers because of a side effect

Issue created by migration from https://trac.sagemath.org/ticket/10360

Original creator: jplabbe

Original creation time: 2010-12-01 15:36:08

Assignee: mhampton

CC:  vbraun

Keywords: vertex adjacencies, polyhedron

The vertex_adjacencies function returns a list giving the adjacency of every vertex of a polyhedron.

If you assign this list and modify it, it will also modify the output of any new call of vertex_adjacencies, which shouldn't be the case.

This can be reproduced in the following manner:


```

sage: P=Polyhedron([[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]);P.vertex_adjacencies()
[[0, [1, 2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]
sage: V_adj=P.vertex_adjacencies();V_adj
[[0, [1, 2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]
sage: V_adj[0][1].remove(1);V_adj
[[0, [2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]
sage: P.vertex_adjacencies()
[[0, [2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]

```



---

Comment by novoselt created at 2010-12-01 20:07:32

I would suggest switching to tuples instead of lists for cached values.


---

Comment by vbraun created at 2010-12-01 20:51:00

We should deprecate the method and eventually remove it. Its just a bad API in so many ways... and changing lists of lists on nondescript integers into tuples of tuples of nondescript integers does not fix it :-)


---

Comment by vbraun created at 2013-04-07 11:43:38

Changing status from new to needs_review.


---

Comment by vbraun created at 2013-04-07 11:43:38

This was fixed (i.e. deprecated) in #11763. Close as duplicate.


---

Comment by novoselt created at 2013-04-07 17:03:48

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-10 08:06:30

Resolution: duplicate
