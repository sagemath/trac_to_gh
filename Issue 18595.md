# Issue 18595: non-numeric non-symbolic BuiltinFunction arguments

archive/issues_018595.json:
```json
{
    "body": "CC:  @jdemeyer\n\nSymbolic expressions can be seen as programs for applying functions to numerics and symbolics. Non-numeric non-symbolics (NNNS, most of the rest of Sage) are usually not handled by symbolic functions, although they often allow the same operations and many of the functions. The manual workaround is to evaluate the expression \"on `x`\" and then to substitute `x` with the respective NNNS. We propose that `BuiltinFunction` automates this process.\n\nPart of this is already duplicated in `rings.arith` but the need arises with symbolic functions returning polynomials, e.g. #16813. At the moment `BuiltinFunction` simply converts the NNNS argument, losing the type information.\n\nPractically, `BuiltinFunction` should eval with `x`, try substitution, and throw an error if the substitution leads to unknown methods of the NNNS. I.e. \n\n```\nsage: elliptic_f (x, 1)\nlog(tan(1/4*pi + 1/2*x))\nsage: elliptic_f (polygen(CC), 1)\n...\nAttributeError: cannot apply function to argument x: argument does not know how to do log\n(coming from this exception)\nAttributeError: 'Polynomial_generic_dense_field' object has no attribute 'log'\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/18832\n\n",
    "closed_at": "2016-06-12T12:02:30Z",
    "created_at": "2015-07-01T07:28:30Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "non-numeric non-symbolic BuiltinFunction arguments",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18595",
    "user": "https://github.com/rwst"
}
```
CC:  @jdemeyer

Symbolic expressions can be seen as programs for applying functions to numerics and symbolics. Non-numeric non-symbolics (NNNS, most of the rest of Sage) are usually not handled by symbolic functions, although they often allow the same operations and many of the functions. The manual workaround is to evaluate the expression "on `x`" and then to substitute `x` with the respective NNNS. We propose that `BuiltinFunction` automates this process.

Part of this is already duplicated in `rings.arith` but the need arises with symbolic functions returning polynomials, e.g. #16813. At the moment `BuiltinFunction` simply converts the NNNS argument, losing the type information.

Practically, `BuiltinFunction` should eval with `x`, try substitution, and throw an error if the substitution leads to unknown methods of the NNNS. I.e. 

```
sage: elliptic_f (x, 1)
log(tan(1/4*pi + 1/2*x))
sage: elliptic_f (polygen(CC), 1)
...
AttributeError: cannot apply function to argument x: argument does not know how to do log
(coming from this exception)
AttributeError: 'Polynomial_generic_dense_field' object has no attribute 'log'
```

Issue created by migration from https://trac.sagemath.org/ticket/18832





---

archive/issue_comments_252723.json:
```json
{
    "body": "The example is not the best.",
    "created_at": "2016-04-21T15:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18595#issuecomment-252723",
    "user": "https://github.com/rwst"
}
```

The example is not the best.



---

archive/issue_events_052641.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-05-07T15:29:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/18595",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18595#event-52641"
}
```



---

archive/issue_comments_252724.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-05-07T15:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18595#issuecomment-252724",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_252725.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-07T15:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18595#issuecomment-252725",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_052642.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-12T12:02:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18595",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18595#event-52642"
}
```



---

archive/issue_comments_252726.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-06-12T12:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18595#issuecomment-252726",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
