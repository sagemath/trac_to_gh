# Issue 25548: some import cleanup for groups/generic.py

Issue created by migration from https://trac.sagemath.org/ticket/25785

Original creator: chapoton

Original creation time: 2018-07-06 09:53:04

CC:  tscrim

maybe we should just deprecate them..

see #25383


---

Comment by chapoton created at 2018-07-06 09:53:33

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-07-06 09:53:33

New commits:


---

Comment by vdelecroix created at 2018-07-06 10:11:39

For each name removed from the global namespace there should be a lazy import with deprecation. That can be done in `sage/groups/all.py` as it was done with crystals

```
from sage.misc.lazy_import import lazy_import

lazy_import('sage.combinat.crystals.letters',
            'CrystalOfLetters',
            deprecation=(15882, "this is being removed from the global namespace. Use crystals.Letters instead"))
```



---

Comment by vdelecroix created at 2018-07-06 10:12:03

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-07-06 11:04:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-07-06 11:05:54

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-07-06 11:05:54

done, I think. The case of"power" is special and may trigger failing doctests somewhere.


---

Comment by vdelecroix created at 2018-07-06 11:14:03

Please add a test for the deprecations (for example in `sage/groups/all.py`).


---

Comment by vdelecroix created at 2018-07-06 11:14:34

Namely test that

1. there should be a deprecation message
2. the feature is still there


---

Comment by git created at 2018-07-06 11:23:42

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2018-07-06 11:25:46

Like that ? Still not clear to me what to do with "power"...


---

Comment by vdelecroix created at 2018-07-06 12:08:53

Replying to [comment:9 chapoton]:
> Like that ? 

perfect

> Still not clear to me what to do with "power"...

What does patchbot has to say?


---

Comment by git created at 2018-07-06 18:23:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-07-06 18:24:11

Bot was green, but I have added a small last-minute commit with minor pyflakes and python3 corrections.


---

Comment by vdelecroix created at 2018-07-07 08:14:47

I think that `power` would better be lazy imported in `sage.groups.generic` and not in `sage.groups.all`. This way pyflakes patchbot will be happy.


---

Comment by vdelecroix created at 2018-07-07 08:14:47

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-07-09 08:52:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-07-09 08:52:57

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-07-09 08:52:57

ok, done


---

Comment by chapoton created at 2018-07-20 15:51:27

is this good now ?


---

Comment by jdemeyer created at 2018-07-21 21:29:42

I would just leave `power` as it is: it's already deprecated, no need to change anything. I would keep `from sage.structure.element import generic_power as power` for now.

And the advice `use sage.structure.element.generic_power instead` is especially wrong since that's deprecated!


---

Comment by jdemeyer created at 2018-07-21 21:29:42

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-07-22 06:31:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-07-22 06:33:15

done.


---

Comment by chapoton created at 2018-07-24 15:17:25

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-08-19 06:11:06

bot is morally green, please review


---

Comment by tscrim created at 2018-08-20 22:45:14

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-08-20 22:45:14

LGTM.


---

Comment by vbraun created at 2018-08-29 22:27:26

Resolution: fixed


---

Comment by embray created at 2018-10-28 14:52:23

This should be re-targeted for 8.5.
