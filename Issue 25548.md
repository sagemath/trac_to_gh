# Issue 25548: some import cleanup for groups/generic.py

archive/issues_025548.json:
```json
{
    "body": "CC:  @tscrim\n\nmaybe we should just deprecate them..\n\nsee #25383\n\nIssue created by migration from https://trac.sagemath.org/ticket/25785\n\n",
    "created_at": "2018-07-06T09:53:04Z",
    "labels": [
        "group theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "some import cleanup for groups/generic.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25548",
    "user": "@fchapoton"
}
```
CC:  @tscrim

maybe we should just deprecate them..

see #25383

Issue created by migration from https://trac.sagemath.org/ticket/25785





---

archive/issue_comments_360144.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-06T09:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360144",
    "user": "@fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_360145.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-07-06T09:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360145",
    "user": "@fchapoton"
}
```

New commits:



---

archive/issue_comments_360146.json:
```json
{
    "body": "For each name removed from the global namespace there should be a lazy import with deprecation. That can be done in `sage/groups/all.py` as it was done with crystals\n\n```\nfrom sage.misc.lazy_import import lazy_import\n\nlazy_import('sage.combinat.crystals.letters',\n            'CrystalOfLetters',\n            deprecation=(15882, \"this is being removed from the global namespace. Use crystals.Letters instead\"))\n```\n",
    "created_at": "2018-07-06T10:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360146",
    "user": "@videlec"
}
```

For each name removed from the global namespace there should be a lazy import with deprecation. That can be done in `sage/groups/all.py` as it was done with crystals

```
from sage.misc.lazy_import import lazy_import

lazy_import('sage.combinat.crystals.letters',
            'CrystalOfLetters',
            deprecation=(15882, "this is being removed from the global namespace. Use crystals.Letters instead"))
```




---

archive/issue_comments_360147.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-06T10:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360147",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_360148.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-06T11:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360148",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_360149.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-06T11:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360149",
    "user": "@fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_360150.json:
```json
{
    "body": "done, I think. The case of\"power\" is special and may trigger failing doctests somewhere.",
    "created_at": "2018-07-06T11:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360150",
    "user": "@fchapoton"
}
```

done, I think. The case of"power" is special and may trigger failing doctests somewhere.



---

archive/issue_comments_360151.json:
```json
{
    "body": "Please add a test for the deprecations (for example in `sage/groups/all.py`).",
    "created_at": "2018-07-06T11:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360151",
    "user": "@videlec"
}
```

Please add a test for the deprecations (for example in `sage/groups/all.py`).



---

archive/issue_comments_360152.json:
```json
{
    "body": "Namely test that\n\n1. there should be a deprecation message\n2. the feature is still there",
    "created_at": "2018-07-06T11:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360152",
    "user": "@videlec"
}
```

Namely test that

1. there should be a deprecation message
2. the feature is still there



---

archive/issue_comments_360153.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-06T11:23:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360153",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_360154.json:
```json
{
    "body": "Like that ? Still not clear to me what to do with \"power\"...",
    "created_at": "2018-07-06T11:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360154",
    "user": "@fchapoton"
}
```

Like that ? Still not clear to me what to do with "power"...



---

archive/issue_comments_360155.json:
```json
{
    "body": "Replying to [comment:9 chapoton]:\n> Like that ? \n\nperfect\n\n> Still not clear to me what to do with \"power\"...\n\nWhat does patchbot has to say?",
    "created_at": "2018-07-06T12:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360155",
    "user": "@videlec"
}
```

Replying to [comment:9 chapoton]:
> Like that ? 

perfect

> Still not clear to me what to do with "power"...

What does patchbot has to say?



---

archive/issue_comments_360156.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-06T18:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360156",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_360157.json:
```json
{
    "body": "Bot was green, but I have added a small last-minute commit with minor pyflakes and python3 corrections.",
    "created_at": "2018-07-06T18:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360157",
    "user": "@fchapoton"
}
```

Bot was green, but I have added a small last-minute commit with minor pyflakes and python3 corrections.



---

archive/issue_comments_360158.json:
```json
{
    "body": "I think that `power` would better be lazy imported in `sage.groups.generic` and not in `sage.groups.all`. This way pyflakes patchbot will be happy.",
    "created_at": "2018-07-07T08:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360158",
    "user": "@videlec"
}
```

I think that `power` would better be lazy imported in `sage.groups.generic` and not in `sage.groups.all`. This way pyflakes patchbot will be happy.



---

archive/issue_comments_360159.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-07T08:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360159",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_360160.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-09T08:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360160",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_360161.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-09T08:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360161",
    "user": "@fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_360162.json:
```json
{
    "body": "ok, done",
    "created_at": "2018-07-09T08:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360162",
    "user": "@fchapoton"
}
```

ok, done



---

archive/issue_comments_360163.json:
```json
{
    "body": "is this good now ?",
    "created_at": "2018-07-20T15:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360163",
    "user": "@fchapoton"
}
```

is this good now ?



---

archive/issue_comments_360164.json:
```json
{
    "body": "I would just leave `power` as it is: it's already deprecated, no need to change anything. I would keep `from sage.structure.element import generic_power as power` for now.\n\nAnd the advice `use sage.structure.element.generic_power instead` is especially wrong since that's deprecated!",
    "created_at": "2018-07-21T21:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360164",
    "user": "@jdemeyer"
}
```

I would just leave `power` as it is: it's already deprecated, no need to change anything. I would keep `from sage.structure.element import generic_power as power` for now.

And the advice `use sage.structure.element.generic_power instead` is especially wrong since that's deprecated!



---

archive/issue_comments_360165.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-21T21:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360165",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_360166.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-22T06:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360166",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_360167.json:
```json
{
    "body": "done.",
    "created_at": "2018-07-22T06:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360167",
    "user": "@fchapoton"
}
```

done.



---

archive/issue_comments_360168.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-24T15:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360168",
    "user": "@fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_360169.json:
```json
{
    "body": "bot is morally green, please review",
    "created_at": "2018-08-19T06:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360169",
    "user": "@fchapoton"
}
```

bot is morally green, please review



---

archive/issue_comments_360170.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-08-20T22:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360170",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_360171.json:
```json
{
    "body": "LGTM.",
    "created_at": "2018-08-20T22:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360171",
    "user": "@tscrim"
}
```

LGTM.



---

archive/issue_comments_360172.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-29T22:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360172",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_360173.json:
```json
{
    "body": "This should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25548#issuecomment-360173",
    "user": "@embray"
}
```

This should be re-targeted for 8.5.
