# Issue 23608: Doctest improvements to symbolic GCD

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2017-09-13 07:13:12

The following all give errors:

```
sage: gcd(I-I*x, x^2-1)
sage: gcd(I+I*x, x^2-1)
sage: alg = SR(QQbar(sqrt(2)+I*sqrt(3)))
sage: gcd(alg+alg*x, x^2-1)
sage: gcd(alg-alg*x, x^2-1)
sage: sqrt2 = SR(QQbar(sqrt(2)))
sage: gcd(sqrt2+sqrt2*x, x^2-1)
sage: gcd(sqrt2-sqrt2*x, x^2-1)
```

This is fixed in Pynac master and should be doctested here.

Note that although Singular supports algebraic GCD Pynac uses Singular only in rational mode. Use a dedicated polynomial ring instead of symbolics if you want algebraic GCD.


---

Comment by frederichan created at 2017-11-04 16:12:40

Can you reproduce this, I have with 8.1beta9:

```
sage: x=SR('x')
sage: P=(x+1)^2+1
sage: gcd(P,P.expand())
1
```



---

Comment by rws created at 2017-11-04 16:20:45

Confirmed. We don't expand automatically because products allow quick solutions and need time to expand. I should add this to the `ex.gcd` docstring.


---

Comment by rws created at 2017-11-04 16:25:56

Maybe this can be fixed. If so, this ticket will add doctests.


---

Comment by charpent created at 2017-11-22 22:23:04

#24262 fixes the problem. No doctests yet, as far as I can tell...


---

Comment by git created at 2017-12-26 09:59:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2017-12-26 10:00:27

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-12-27 08:27:51

Trivial typo: `kind` -> `kinds`. You can set a positive review once done.


---

Comment by git created at 2017-12-27 14:23:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2017-12-27 14:24:36

Thanks.


---

Comment by rws created at 2017-12-27 14:24:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-12-29 08:57:21

Resolution: fixed
