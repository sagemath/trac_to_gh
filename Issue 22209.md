# Issue 22209: py3: small cmp step (cmp() in doc, __cmp__ in code)

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2017-02-25 18:50:45

CC:  tscrim jmantysalo jdemeyer aapitzsch

a small step to py3


---

Comment by chapoton created at 2017-02-25 18:51:14

New commits:


---

Comment by chapoton created at 2017-02-25 18:51:14

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-02-27 15:44:48

green bot, please review


---

Comment by tscrim created at 2017-02-27 16:49:23

You run into subtle problems by only defining `__eq__` and not `__ne__`:

```
sage: R.<x> = PolynomialRing(QQ)
sage: f = x^4 - 17*x^3 - 2*x + 1
sage: A = f.galois_group(pari_group=True)
sage: B = f.galois_group(pari_group=True)
sage: A is B
False
sage: A == B
True
sage: A != B
True
```

This comes from by Python falling back to `__ne__` by `id`.


---

Comment by tscrim created at 2017-02-27 16:49:23

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-02-27 17:01:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-02-27 17:02:13

ok, thanks. Done. Let us wait for the bots again (my personal bot seems to be ill).


---

Comment by chapoton created at 2017-02-27 17:02:13

Changing status from needs_work to needs_review.


---

Comment by git created at 2017-02-28 10:29:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-02-28 15:17:34

I've been told in the past (I think by Jeroen) that instead of `return not self.__eq__(other)`, you should do `return not (self == other)`. I think this is the right way because it allows Python to switch the order of the two objects in case `self.__eq__(other)` fails. Otherwise LGTM.


---

Comment by git created at 2017-02-28 15:33:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-02-28 15:53:46

Thank you.


---

Comment by tscrim created at 2017-02-28 15:53:46

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-03-01 18:50:43

Resolution: fixed
