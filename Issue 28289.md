# Issue 28289: infinite recursion in skew_hadamard_matrix when n=0

Issue created by migration from https://trac.sagemath.org/ticket/28526

Original creator: dcoudert

Original creation time: 2019-09-22 11:14:58

CC:  dimpase


```
sage: from sage.combinat.matrices.hadamard_matrix import skew_hadamard_matrix
sage: skew_hadamard_matrix(1)
[1]
sage: skew_hadamard_matrix(0)
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
<ipython-input-248-9811ad2da177> in <module>()
----> 1 skew_hadamard_matrix(Integer(0))

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/combinat/matrices/hadamard_matrix.pyc in skew_hadamard_matrix(n, existence, skew_normalize, check)
   1116 
   1117     elif n % 8 == 0:
-> 1118         if skew_hadamard_matrix(n//2,existence=True): # (Lemma 14.1.6 in [Ha83]_)
   1119             if existence:
   1120                 return true()

... last 1 frames repeated, from the frame below ...

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/combinat/matrices/hadamard_matrix.pyc in skew_hadamard_matrix(n, existence, skew_normalize, check)
   1116 
   1117     elif n % 8 == 0:
-> 1118         if skew_hadamard_matrix(n//2,existence=True): # (Lemma 14.1.6 in [Ha83]_)
   1119             if existence:
   1120                 return true()

RuntimeError: maximum recursion depth exceeded while calling a Python object
```




---

Comment by dimpase created at 2019-09-22 11:20:36

well, yes, this parameter must be strictly positive.


---

Comment by dcoudert created at 2019-09-22 11:27:02

New commits:


---

Comment by dcoudert created at 2019-09-22 11:27:02

Changing status from new to needs_review.


---

Comment by dimpase created at 2019-09-22 12:10:27

lgtm


---

Comment by dimpase created at 2019-09-22 12:10:27

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-10-06 23:07:25

Resolution: fixed
