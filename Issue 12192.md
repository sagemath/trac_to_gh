# Issue 12192: ValueError + AttributeError when calling layout_graphviz on a Hasse diagram

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2012-01-26 18:38:29

Assignee: sage-combinat

CC:  sage-combinat

Keywords: dot2tex

With sage-4.7.2 and `sage -i dot2tex` installed :


```
sage: m = WordMorphism('a->abb,b->ba')
sage: w = m.fixed_point('a')
sage: prefix = Word(list(w[:100]))
sage: pals = prefix.palindromes()
sage: poset = Poset((pals, lambda x,y: x.is_factor(y)))
sage: H = poset.hasse_diagram()
sage: H.layout_graphviz()         #require dot2tex
ERROR    Failed to process input
Traceback (most recent call last):
...
ValueError: invalid literal for int() with base 10: '249.88'
-------------------------------------------------------
Traceback (most recent call last):
...
AttributeError: 'str' object has no attribute 'iteritems'
```



---

Comment by nthiery created at 2012-01-26 23:13:11

Could this be related to http://groups.google.com/group/sage-combinat-devel/msg/13cd26ebb99954db


---

Comment by chapoton created at 2016-07-11 18:27:33

works in 7.3.b7


---

Comment by tscrim created at 2016-07-11 18:31:16

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-07-11 18:31:16

Agreed.


---

Comment by tscrim created at 2016-07-11 18:31:30

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2016-07-12 17:32:28

Shouldn't we add a doctest?


---

Comment by tscrim created at 2016-07-12 19:45:10

Go for it.


---

Comment by tscrim created at 2016-07-12 19:45:10

Changing status from positive_review to needs_work.


---

Comment by slabbe created at 2016-08-22 14:19:46

Changing status from needs_work to needs_review.


---

Comment by slabbe created at 2016-08-22 14:19:46

Sure!
----
New commits:


---

Comment by tscrim created at 2016-08-22 14:29:22

Thanks.


---

Comment by tscrim created at 2016-08-22 14:29:22

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-08-24 06:45:26

Resolution: fixed
