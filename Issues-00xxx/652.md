# Issue 652: .sage files destroy existing .py files

archive/issues_000652.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "If files a.sage and a.py exist in a directory, then \n\nsage: load a.sage\n\ndestroys the file a.py and replaces it with an automatically generated file.  Either users should be warned of this \"feature\" or something else should be done.\n\nComponent: **interfaces**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/652_\n\n",
    "closed_at": "2008-01-27T01:40:15Z",
    "created_at": "2007-09-14T04:24:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-2.10.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": ".sage files destroy existing .py files",
    "type": "issue",
    "updated_at": "2008-01-27T01:40:15Z",
    "url": "https://github.com/sagemath/sage/issues/652",
    "user": "https://github.com/jvoight"
}
```
If files a.sage and a.py exist in a directory, then 

sage: load a.sage

destroys the file a.py and replaces it with an automatically generated file.  Either users should be warned of this "feature" or something else should be done.

Component: **interfaces**

_Issue created by migration from https://trac.sagemath.org/ticket/652_





---

archive/issue_events_005916.json:
```json
{
    "actor": "https://github.com/jvoight",
    "created_at": "2007-09-14T04:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5916"
}
```



---

archive/issue_events_005917.json:
```json
{
    "actor": "https://github.com/jvoight",
    "created_at": "2007-09-14T04:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5917"
}
```



---

archive/issue_events_005918.json:
```json
{
    "actor": "https://github.com/jvoight",
    "created_at": "2007-09-14T04:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5918"
}
```



---

archive/issue_events_005919.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-14T04:24:51Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "subject": "https://github.com/jvoight",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5919"
}
```



---

archive/issue_events_005920.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-14T04:41:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5920"
}
```



---

archive/issue_events_005921.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-10-29T08:33:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5921"
}
```



---

archive/issue_events_005922.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-10-29T08:33:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "milestone_number": null,
    "milestone_title": "sage-2.8.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5922"
}
```



---

archive/issue_events_005923.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-11-03T15:12:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5923"
}
```



---

archive/issue_events_005924.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-11-03T15:12:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "milestone_number": null,
    "milestone_title": "sage-2.8.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5924"
}
```



---

archive/issue_events_005925.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-12-26T02:49:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "milestone_number": null,
    "milestone_title": "sage-2.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5925"
}
```



---

archive/issue_events_005926.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-12-26T02:49:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "milestone_number": null,
    "milestone_title": "sage-2.9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5926"
}
```



---

archive/issue_events_005927.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-12-26T02:49:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5927"
}
```



---

archive/issue_events_005928.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-12-26T02:49:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5928"
}
```



---

archive/issue_comments_002293.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIs there any reason to put the .py files in the same directory? It would probably be less confusing to just put them in temp. If one wants to see them, one can use sage -preparse. \n\nI'm having trouble finding where exactly these files are getting written/used.",
    "created_at": "2008-01-04T21:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/652#issuecomment-2293",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:5" align="right">comment:5</div>

Is there any reason to put the .py files in the same directory? It would probably be less confusing to just put them in temp. If one wants to see them, one can use sage -preparse. 

I'm having trouble finding where exactly these files are getting written/used.



---

archive/issue_comments_002294.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPatch preparses .sage files to temporary .py files in a temp directory.",
    "created_at": "2008-01-19T21:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/652#issuecomment-2294",
    "user": "https://github.com/ncalexan"
}
```

<div id="comment:6" align="right">comment:6</div>

Patch preparses .sage files to temporary .py files in a temp directory.



---

archive/issue_events_005929.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-01-19T21:35:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5929"
}
```



---

archive/issue_events_005930.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-01-23T02:23:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "title_is": "[with negative review] .sage files destroy existing .py files",
    "title_was": ".sage files destroy existing .py files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5930"
}
```



---

archive/issue_comments_002295.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAttachment: **[ncalexan-652.patch.gz](https://github.com/sagemath/sage/files/ticket652/ncalexan-652.patch.gz)**\n\nDO NOT APPLY, THIS HAS TROUBLE WITH DIRECTORIES",
    "created_at": "2008-01-23T02:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/652#issuecomment-2295",
    "user": "https://github.com/ncalexan"
}
```

<div id="comment:7" align="right">comment:7</div>

Attachment: **[ncalexan-652.patch.gz](https://github.com/sagemath/sage/files/ticket652/ncalexan-652.patch.gz)**

DO NOT APPLY, THIS HAS TROUBLE WITH DIRECTORIES



---

archive/issue_comments_002296.json:
```json
{
    "body": "Attachment: **[ncalexan-652-updated.patch.gz](https://github.com/sagemath/sage/files/ticket652/ncalexan-652-updated.patch.gz)**",
    "created_at": "2008-01-23T02:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/652#issuecomment-2296",
    "user": "https://github.com/ncalexan"
}
```

Attachment: **[ncalexan-652-updated.patch.gz](https://github.com/sagemath/sage/files/ticket652/ncalexan-652-updated.patch.gz)**



---

archive/issue_events_005931.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-01-23T02:53:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "title_is": ".sage files destroy existing .py files",
    "title_was": "[with negative review] .sage files destroy existing .py files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5931"
}
```



---

archive/issue_comments_002297.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nUpdated patch should work -- the issue was that 'load /abs/dir/tofile.sage' was borked.  Hopefully this works better.",
    "created_at": "2008-01-23T02:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/652#issuecomment-2297",
    "user": "https://github.com/ncalexan"
}
```

<div id="comment:8" align="right">comment:8</div>

Updated patch should work -- the issue was that 'load /abs/dir/tofile.sage' was borked.  Hopefully this works better.



---

archive/issue_comments_002298.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI reproduced the problem with the previous code, and the patch does fix the problem; and the code looks good.",
    "created_at": "2008-01-27T01:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/652#issuecomment-2298",
    "user": "https://github.com/sagetrac-cwitty"
}
```

<div id="comment:9" align="right">comment:9</div>

I reproduced the problem with the previous code, and the patch does fix the problem; and the code looks good.



---

archive/issue_events_005932.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2008-01-27T01:30:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5932"
}
```



---

archive/issue_events_005933.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2008-01-27T01:30:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5933"
}
```



---

archive/issue_comments_002299.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMerged ncalexan-652-updated.patch in Sage 2.10.1.rc1",
    "created_at": "2008-01-27T01:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/652#issuecomment-2299",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:10" align="right">comment:10</div>

Merged ncalexan-652-updated.patch in Sage 2.10.1.rc1



---

archive/issue_events_005934.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-01-27T01:40:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5934"
}
```



---

archive/issue_events_005935.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-01-27T01:40:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/652",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/652#event-5935"
}
```
