# Issue 652: [with positive review] .sage files destroy existing .py files

archive/issues_000652.json:
```json
{
    "body": "If files a.sage and a.py exist in a directory, then \n\nsage: load a.sage\n\ndestroys the file a.py and replaces it with an automatically generated file.  Either users should be warned of this \"feature\" or something else should be done.\n\n**Assignee:** @williamstein\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/652\n\n",
    "closed_at": "2008-01-27T01:40:15Z",
    "created_at": "2007-09-14T04:24:51Z",
    "labels": [
        "component: interfaces",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-2.10.1",
    "title": "[with positive review] .sage files destroy existing .py files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/652",
    "user": "https://github.com/jvoight"
}
```
If files a.sage and a.py exist in a directory, then 

sage: load a.sage

destroys the file a.py and replaces it with an automatically generated file.  Either users should be warned of this "feature" or something else should be done.

**Assignee:** @williamstein

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/652





---

archive/issue_events_001905.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-14T04:41:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "milestone": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1905"
}
```



---

archive/issue_events_001906.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-10-29T08:33:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "milestone": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1906"
}
```



---

archive/issue_events_001907.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-10-29T08:33:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "milestone": "sage-2.8.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1907"
}
```



---

archive/issue_events_001908.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-11-03T15:12:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "milestone": "sage-2.8.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1908"
}
```



---

archive/issue_events_001909.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-11-03T15:12:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "milestone": "sage-2.8.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1909"
}
```



---

archive/issue_events_001910.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-12-26T02:49:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "milestone": "sage-2.8.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1910"
}
```



---

archive/issue_events_001911.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-12-26T02:49:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "milestone": "sage-2.9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1911"
}
```



---

archive/issue_comments_003583.json:
```json
{
    "body": "<a id='comment:5'></a>\nIs there any reason to put the .py files in the same directory? It would probably be less confusing to just put them in temp. If one wants to see them, one can use sage -preparse. \n\nI'm having trouble finding where exactly these files are getting written/used.",
    "created_at": "2008-01-04T21:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3583",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:5'></a>
Is there any reason to put the .py files in the same directory? It would probably be less confusing to just put them in temp. If one wants to see them, one can use sage -preparse. 

I'm having trouble finding where exactly these files are getting written/used.



---

archive/issue_comments_003584.json:
```json
{
    "body": "<a id='comment:6'></a>\nPatch preparses .sage files to temporary .py files in a temp directory.",
    "created_at": "2008-01-19T21:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3584",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:6'></a>
Patch preparses .sage files to temporary .py files in a temp directory.



---

archive/issue_comments_003585.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-01-19T21:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3585",
    "user": "https://github.com/ncalexan"
}
```

**Changing status** from new to needs_review.



---

archive/issue_events_001912.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "rename": {
        "from": ".sage files destroy existing .py files",
        "to": "[with negative review] .sage files destroy existing .py files"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1912"
}
```



---

archive/attachments_000294.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "ncalexan-652.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket652/ncalexan-652.patch",
    "created_at": "2008-01-23T02:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ncalexan"
}
```



---

archive/issue_comments_003586.json:
```json
{
    "body": "<a id='comment:7'></a>\nDO NOT APPLY, THIS HAS TROUBLE WITH DIRECTORIES",
    "created_at": "2008-01-23T02:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3586",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:7'></a>
DO NOT APPLY, THIS HAS TROUBLE WITH DIRECTORIES



---

archive/attachments_000295.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "ncalexan-652-updated.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket652/ncalexan-652-updated.patch",
    "created_at": "2008-01-23T02:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ncalexan"
}
```



---

archive/issue_comments_003587.json:
```json
{
    "body": "",
    "created_at": "2008-01-23T02:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3587",
    "user": "https://github.com/ncalexan"
}
```





---

archive/issue_events_001913.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "rename": {
        "from": "[with negative review] .sage files destroy existing .py files",
        "to": ".sage files destroy existing .py files"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1913"
}
```



---

archive/issue_comments_003588.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-01-23T02:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3588",
    "user": "https://github.com/ncalexan"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_003589.json:
```json
{
    "body": "<a id='comment:8'></a>\nUpdated patch should work -- the issue was that 'load /abs/dir/tofile.sage' was borked.  Hopefully this works better.",
    "created_at": "2008-01-23T02:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3589",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:8'></a>
Updated patch should work -- the issue was that 'load /abs/dir/tofile.sage' was borked.  Hopefully this works better.



---

archive/issue_comments_003590.json:
```json
{
    "body": "<a id='comment:9'></a>\nI reproduced the problem with the previous code, and the patch does fix the problem; and the code looks good.",
    "created_at": "2008-01-27T01:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3590",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

<a id='comment:9'></a>
I reproduced the problem with the previous code, and the patch does fix the problem; and the code looks good.



---

archive/issue_events_001914.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "rename": {
        "from": ".sage files destroy existing .py files",
        "to": "[with positive review] .sage files destroy existing .py files"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1914"
}
```



---

archive/issue_comments_003591.json:
```json
{
    "body": "<a id='comment:10'></a>\nMerged ncalexan-652-updated.patch in Sage 2.10.1.rc1",
    "created_at": "2008-01-27T01:40:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3591",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:10'></a>
Merged ncalexan-652-updated.patch in Sage 2.10.1.rc1



---

archive/issue_comments_003592.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2008-01-27T01:40:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/652#issuecomment-3592",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Resolution:** fixed



---

archive/issue_events_001915.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-01-27T01:40:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/652",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/652#event-1915"
}
```
