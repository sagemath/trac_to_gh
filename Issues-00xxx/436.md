# Issue 436: http to https redirect for secure notebook

archive/issues_000436.json:
```json
{
    "assignees": [],
    "body": "Suppose a secure notebook is run on localhost:8000. Then presently, one has to type the URL `https://localhost:8000`. Would it be possible to let port localhost:8000 respond to plain http requests with a redirect to `https://localhost:8000` ? The advantage is that browsers like firefox complete `localhost:8000` to `http://localhost:8000`, and a lot of users (well, at least me) are used to this shortcut.\n\nAssignee: **@boothby**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/436_\n\n",
    "closed_at": "2009-11-19T21:23:24Z",
    "created_at": "2007-08-17T18:02:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "http to https redirect for secure notebook",
    "type": "issue",
    "updated_at": "2009-12-08T23:41:22Z",
    "url": "https://github.com/sagemath/sage/issues/436",
    "user": "https://github.com/nbruin"
}
```
Suppose a secure notebook is run on localhost:8000. Then presently, one has to type the URL `https://localhost:8000`. Would it be possible to let port localhost:8000 respond to plain http requests with a redirect to `https://localhost:8000` ? The advantage is that browsers like firefox complete `localhost:8000` to `http://localhost:8000`, and a lot of users (well, at least me) are used to this shortcut.

Assignee: **@boothby**

_Issue created by migration from https://trac.sagemath.org/ticket/436_





---

archive/issue_events_003277.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2007-08-17T18:02:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3277"
}
```



---

archive/issue_events_003278.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2007-08-17T18:02:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3278"
}
```



---

archive/issue_events_003279.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2007-08-17T18:02:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3279"
}
```



---

archive/issue_events_003280.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-08-22T21:41:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3280"
}
```



---

archive/issue_comments_001629.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nHello,\n\nnow that Sage defaults to https this might be a good idea to implement.\n\nCheers,\n\nMichael",
    "created_at": "2007-08-22T21:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/436#issuecomment-1629",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:1" align="right">Comment 1</div>

Hello,

now that Sage defaults to https this might be a good idea to implement.

Cheers,

Michael



---

archive/issue_comments_001630.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nI tried several times to figure out how to do this and couldn't.  SO, please figure out how to do it and post a patch!",
    "created_at": "2007-11-03T15:18:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/436#issuecomment-1630",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">Comment 2</div>

I tried several times to figure out how to do this and couldn't.  SO, please figure out how to do it and post a patch!



---

archive/issue_comments_001631.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nNOTE: The notebook now defaults to use http not https.",
    "created_at": "2008-05-10T16:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/436#issuecomment-1631",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:3" align="right">Comment 3</div>

NOTE: The notebook now defaults to use http not https.



---

archive/issue_comments_001632.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThis is a limitation of protocols / browsers.  Since HTTPS is merely HTTP over an SSL connection, a plaintext HTTP request looks like garbage to a HTTPS server and vice verse.  If your browser was smart enough to attempt to use SSL, that'd be fine.  However, we can't do this in Twisted because we only take one port -- an inbound connection is silently dropped by SSL, and Twisted never hears about it.  If we go to a two-port system, e.g. port 80 for http and 443 for https, then we'd be in business.  And perhaps that functionality should be implemented.\n\nHowever, the issue of \"user connects to port x with wrong protocol\" is never going to go away.",
    "created_at": "2009-06-16T19:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/436#issuecomment-1632",
    "user": "https://github.com/boothby"
}
```

<div id="comment:4" align="right">Comment 4</div>

This is a limitation of protocols / browsers.  Since HTTPS is merely HTTP over an SSL connection, a plaintext HTTP request looks like garbage to a HTTPS server and vice verse.  If your browser was smart enough to attempt to use SSL, that'd be fine.  However, we can't do this in Twisted because we only take one port -- an inbound connection is silently dropped by SSL, and Twisted never hears about it.  If we go to a two-port system, e.g. port 80 for http and 443 for https, then we'd be in business.  And perhaps that functionality should be implemented.

However, the issue of "user connects to port x with wrong protocol" is never going to go away.



---

archive/issue_events_003281.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-19T21:23:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3281"
}
```



---

archive/issue_events_003282.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-19T21:23:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3282"
}
```



---

archive/issue_events_003283.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-19T21:23:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3283"
}
```



---

archive/issue_comments_001633.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n> However, the issue of \"user connects to port x with wrong protocol\" is never going to go away.\n\nTom is right.   I'm closing this ticket as invalid.",
    "created_at": "2009-11-19T21:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/436#issuecomment-1633",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">Comment 5</div>

> However, the issue of "user connects to port x with wrong protocol" is never going to go away.

Tom is right.   I'm closing this ticket as invalid.



---

archive/issue_events_003284.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-12-08T23:41:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/436",
    "milestone_number": null,
    "milestone_title": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/436#event-3284"
}
```
