# Issue 778: [with patch, positive review] Finite Field __call__ doesn't accept polynomials over F_p

archive/issues_000778.json:
```json
{
    "body": "Neither Givaro nor pari finite fields accept polynomial arguments.\n\nAssignee: somebody\n\nCC:  alexghitza\n\nKeywords: finite fields\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/778\n\n",
    "closed_at": "2008-04-04T22:29:41Z",
    "created_at": "2007-10-02T01:42:34Z",
    "labels": [
        "component: basic arithmetic",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.0",
    "title": "[with patch, positive review] Finite Field __call__ doesn't accept polynomials over F_p",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/778",
    "user": "https://github.com/roed314"
}
```
Neither Givaro nor pari finite fields accept polynomial arguments.

Assignee: somebody

CC:  alexghitza

Keywords: finite fields

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/778





---

archive/issue_events_002144.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-10-29T05:57:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "milestone": "sage-2.8.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/778#event-2144"
}
```



---

archive/issue_comments_005020.json:
```json
{
    "body": "<a id='comment:2'></a>Sorry, should have given an example.\n\nsage: Q.<q> = GF(5^7)\nsage: L = GF(5)\nsage: LL.<xx> = L[]\nsage: Q(xx^2 + 2*xx + 4)\n\n---\n<type 'exceptions.TypeError'>             Traceback (most recent call last)\n\n/Users/roed/<ipython console> in <module>()\n\n/Users/roed/Math/sage/local/lib/python2.5/site-packages/sage/rings/finite_field.py in __call__(self, x)\n    624                 return self(x.constant_coefficient())\n    625             else:\n--> 626                 raise TypeError, \"no coercion defined\"\n    627 \n    628         elif isinstance(x, str):\n\n<type 'exceptions.TypeError'>: no coercion defined",
    "created_at": "2007-11-03T19:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5020",
    "user": "https://github.com/roed314"
}
```

<a id='comment:2'></a>Sorry, should have given an example.

sage: Q.<q> = GF(5^7)
sage: L = GF(5)
sage: LL.<xx> = L[]
sage: Q(xx^2 + 2*xx + 4)

---
<type 'exceptions.TypeError'>             Traceback (most recent call last)

/Users/roed/<ipython console> in <module>()

/Users/roed/Math/sage/local/lib/python2.5/site-packages/sage/rings/finite_field.py in __call__(self, x)
    624                 return self(x.constant_coefficient())
    625             else:
--> 626                 raise TypeError, "no coercion defined"
    627 
    628         elif isinstance(x, str):

<type 'exceptions.TypeError'>: no coercion defined



---

archive/issue_comments_005021.json:
```json
{
    "body": "<a id='comment:3'></a>\n```\nSorry.\nsage: Q.<q> = GF(5^7)\nsage: L = GF(5)\nsage: LL.<xx> = L[]\nsage: Q(xx^2 + 2*xx + 4)\n---------------------------------------------------------------------------\n<type 'exceptions.TypeError '>             Traceback (most recent call last)\n\n/Users/roed/<ipython console> in <module>()\n\n/Users/roed/Math/sage/local/lib/python2.5/site-packages/sage/rings/finite_field.py in __call__(self, x)\n    624                 return self(x.constant_coefficient())\n    625             else:\n--> 626                 raise TypeError, \"no coercion defined\"\n    627\n    628         elif isinstance(x, str):\n\n<type 'exceptions.TypeError'>: no coercion defined\n- Show quoted text -\n```",
    "created_at": "2007-11-03T20:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5021",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'></a>
```
Sorry.
sage: Q.<q> = GF(5^7)
sage: L = GF(5)
sage: LL.<xx> = L[]
sage: Q(xx^2 + 2*xx + 4)
---------------------------------------------------------------------------
<type 'exceptions.TypeError '>             Traceback (most recent call last)

/Users/roed/<ipython console> in <module>()

/Users/roed/Math/sage/local/lib/python2.5/site-packages/sage/rings/finite_field.py in __call__(self, x)
    624                 return self(x.constant_coefficient())
    625             else:
--> 626                 raise TypeError, "no coercion defined"
    627
    628         elif isinstance(x, str):

<type 'exceptions.TypeError'>: no coercion defined
- Show quoted text -
```



---

archive/issue_comments_005022.json:
```json
{
    "body": "<a id='comment:4'></a>I don't understamd what you expect to be done here.  How can you coerce a polynomial over GF(5) into the field GF(5**7)?  If you mean to coerce it into a polynomial over GF(5**7) then do this:\n\n```\nsage: PolynomialRing(Q,x)(xx^2 + 2*xx + 4)\nx^2 + 2*x + 4\n```\n\nor this:\n\n```\nsage: f=LL.base_extend(Q)(xx^2 + 2*xx + 4)\nsage: f\nxx^2 + 2*xx + 4\nsage: f.parent()\nUnivariate Polynomial Ring in xx over Finite Field in q of size 5^7\n```\n\nCan roed explain?  Otherwise I vote for this to be closed.",
    "created_at": "2008-02-18T11:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5022",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>I don't understamd what you expect to be done here.  How can you coerce a polynomial over GF(5) into the field GF(5**7)?  If you mean to coerce it into a polynomial over GF(5**7) then do this:

```
sage: PolynomialRing(Q,x)(xx^2 + 2*xx + 4)
x^2 + 2*x + 4
```

or this:

```
sage: f=LL.base_extend(Q)(xx^2 + 2*xx + 4)
sage: f
xx^2 + 2*xx + 4
sage: f.parent()
Univariate Polynomial Ring in xx over Finite Field in q of size 5^7
```

Can roed explain?  Otherwise I vote for this to be closed.



---

archive/issue_comments_005023.json:
```json
{
    "body": "<a id='comment:5'></a>David wants something like one has with quotients of polynomial rings, since finite extension fields can be thought of as polynomial quotient rings.  E.g.,:\n\n```\nsage: R.<x> = GF(5)[]\nsage: Q.<q> = R.quotient(x^7 + 3*x + 3)\nsage: Q(x^2 + 2*x + 4)\nq^2 + 2*q + 4\n```\n\nI think this is a reasonable request, since there is a natural ring homomorphism\nfrom GF(5)['x'] to GF(5^7), when the GF(5^7) is presented as an explicit quotient of a polynomial ring modulo an irred. polynomial, as our are. \n\n -- William",
    "created_at": "2008-02-19T00:08:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5023",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'></a>David wants something like one has with quotients of polynomial rings, since finite extension fields can be thought of as polynomial quotient rings.  E.g.,:

```
sage: R.<x> = GF(5)[]
sage: Q.<q> = R.quotient(x^7 + 3*x + 3)
sage: Q(x^2 + 2*x + 4)
q^2 + 2*q + 4
```

I think this is a reasonable request, since there is a natural ring homomorphism
from GF(5)['x'] to GF(5^7), when the GF(5^7) is presented as an explicit quotient of a polynomial ring modulo an irred. polynomial, as our are. 

 -- William



---

archive/issue_comments_005024.json:
```json
{
    "body": "<a id='comment:6'></a>Now I understand.  In that case you can just evaluate the polynomial at the generator of the extension field:\n\n```\nsage: Q.<q> = GF(5^7)\nsage: L = GF(5)\nsage: LL.<xx> = L[]\nsage: (xx^2 + 2*xx + 4)(q)\nq^2 + 2*q + 4\n```\n\nSo what roed wants is for Q(f) to evaluate as f(Q.gen()), where f is a polynomial over the base ring of Q.  That is now understandable, and reasonable, and presumably not hard to implement!",
    "created_at": "2008-02-19T09:11:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5024",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'></a>Now I understand.  In that case you can just evaluate the polynomial at the generator of the extension field:

```
sage: Q.<q> = GF(5^7)
sage: L = GF(5)
sage: LL.<xx> = L[]
sage: (xx^2 + 2*xx + 4)(q)
q^2 + 2*q + 4
```

So what roed wants is for Q(f) to evaluate as f(Q.gen()), where f is a polynomial over the base ring of Q.  That is now understandable, and reasonable, and presumably not hard to implement!



---

archive/issue_comments_005025.json:
```json
{
    "body": "Attachment [trac778.patch](tarball://root/attachments/some-uuid/ticket778/trac778.patch) by @JohnCremona created at 2008-04-04 22:03:49",
    "created_at": "2008-04-04T22:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5025",
    "user": "https://github.com/JohnCremona"
}
```

Attachment [trac778.patch](tarball://root/attachments/some-uuid/ticket778/trac778.patch) by @JohnCremona created at 2008-04-04 22:03:49



---

archive/issue_comments_005026.json:
```json
{
    "body": "<a id='comment:8'></a>Attached patch (trac778.patch, based on 2.11) adds coercion of univariate polynomials into finite field elements, for all three finite field classes, with extra doctests.",
    "created_at": "2008-04-04T22:05:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5026",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:8'></a>Attached patch (trac778.patch, based on 2.11) adds coercion of univariate polynomials into finite field elements, for all three finite field classes, with extra doctests.



---

archive/issue_comments_005027.json:
```json
{
    "body": "<a id='comment:9'></a>Looks good to me.",
    "created_at": "2008-04-04T22:18:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5027",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:9'></a>Looks good to me.



---

archive/issue_comments_005028.json:
```json
{
    "body": "<a id='comment:10'></a>Merged in Sage 3.0.alpha1",
    "created_at": "2008-04-04T22:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5028",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:10'></a>Merged in Sage 3.0.alpha1



---

archive/issue_comments_005029.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2008-04-04T22:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/778#issuecomment-5029",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed



---

archive/issue_events_002145.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-04T22:29:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/778",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/778#event-2145"
}
```
