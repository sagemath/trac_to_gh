# Issue 297: Upgrade polymake and/or make it an optional spkg

archive/issues_000297.json:
```json
{
    "assignees": [],
    "body": "It seems much has changed since polymake v 2.2, so this might be difficult.\nAlso, they have interactive scripts, which one has to deal with.  Yuck.\n\nI did try just building from scratch and it seemed to work without any funny\nbusiness with GMP, etc. \n\nIf you work on this, email wstein@gmail.com\n\n\nAssignee: **@sagetrac-mabshoff**\n\nCC:  @sagetrac-sage-combinat @jpflori\n\nReviewer: **Karl-Dieter Crisman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/297_\n\n",
    "closed_at": "2014-11-28T20:58:27Z",
    "created_at": "2007-02-26T22:13:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/duplicate",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade polymake and/or make it an optional spkg",
    "type": "issue",
    "updated_at": "2014-11-28T20:58:27Z",
    "url": "https://github.com/sagemath/sage/issues/297",
    "user": "https://github.com/williamstein"
}
```
It seems much has changed since polymake v 2.2, so this might be difficult.
Also, they have interactive scripts, which one has to deal with.  Yuck.

I did try just building from scratch and it seemed to work without any funny
business with GMP, etc. 

If you work on this, email wstein@gmail.com


Assignee: **@sagetrac-mabshoff**

CC:  @sagetrac-sage-combinat @jpflori

Reviewer: **Karl-Dieter Crisman**

_Issue created by migration from https://trac.sagemath.org/ticket/297_





---

archive/issue_events_002101.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-02-26T22:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2101"
}
```



---

archive/issue_events_002102.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-02-26T22:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2102"
}
```



---

archive/issue_events_002103.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-02-26T22:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2103"
}
```



---

archive/issue_comments_001065.json:
```json
{
    "body": "Changed assignee from **@williamstein** to **@sagetrac-mabshoff**",
    "created_at": "2007-08-23T07:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/297#issuecomment-1065",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Changed assignee from **@williamstein** to **@sagetrac-mabshoff**



---

archive/issue_events_002104.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-08-23T07:23:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2104"
}
```



---

archive/issue_comments_001066.json:
```json
{
    "body": "Replying to [ticket:297 was]:\n> It seems much has changed since polymake v 2.2, so this might be difficult.\n> Also, they have interactive scripts, which one has to deal with.  Yuck.\n> \n> I did try just building from scratch and it seemed to work without any funny\n> business with GMP, etc. \n> \n> If you work on this, email wstein@gmail.com\n\nOk, I did some investigation. We need to modify support/configure.pl:\n\nAround line 273:\n\n```\n$InstallTop ||= $multi ? \"/usr/local/share/polymake\" : \"/usr/local/polymake\";\nif (!$silent) {\n   print \"\\nWhere should \", ($multi ? \"the architecture-independent part of \" : \"\"), \"polymake be installed? \";\n   answer_path($InstallTop);\n}\n```\nInstead of answer_path($InstallTop) we just should assign $InstallTop=getenv($SAGE_LOCAL) (or something alike, my perl is slightly rusty).\n\nWe also need to add Sage's gmp to $Libs around line 614 somewhere.\n\nCheers,\n\nMichael",
    "created_at": "2007-08-23T10:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/297#issuecomment-1066",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Replying to [ticket:297 was]:
> It seems much has changed since polymake v 2.2, so this might be difficult.
> Also, they have interactive scripts, which one has to deal with.  Yuck.
> 
> I did try just building from scratch and it seemed to work without any funny
> business with GMP, etc. 
> 
> If you work on this, email wstein@gmail.com

Ok, I did some investigation. We need to modify support/configure.pl:

Around line 273:

```
$InstallTop ||= $multi ? "/usr/local/share/polymake" : "/usr/local/polymake";
if (!$silent) {
   print "\nWhere should ", ($multi ? "the architecture-independent part of " : ""), "polymake be installed? ";
   answer_path($InstallTop);
}
```
Instead of answer_path($InstallTop) we just should assign $InstallTop=getenv($SAGE_LOCAL) (or something alike, my perl is slightly rusty).

We also need to add Sage's gmp to $Libs around line 614 somewhere.

Cheers,

Michael



---

archive/issue_comments_001067.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI created packages for a prerelease version of polymake before this workshop:\n\nhttp://polymake.org/doku.php/workshop0311\n\nThe package and its dependencies are here:\n\nhttp://sage.math.washington.edu/home/burcin/polymake/\n\nThese packages were just for convenience. They are not ready for review. :)\n\nI also started writing a python wrapper to libPolymake. It's not useful for anything yet, but I could make it useful and release it if there is interest.",
    "created_at": "2011-05-31T14:22:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/297#issuecomment-1067",
    "user": "https://github.com/burcin"
}
```

<div id="comment:4" align="right">Comment 4</div>

I created packages for a prerelease version of polymake before this workshop:

http://polymake.org/doku.php/workshop0311

The package and its dependencies are here:

http://sage.math.washington.edu/home/burcin/polymake/

These packages were just for convenience. They are not ready for review. :)

I also started writing a python wrapper to libPolymake. It's not useful for anything yet, but I could make it useful and release it if there is interest.



---

archive/issue_comments_001068.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThere has definitely been interest in this from various people I've spoken to over the years.  Also, it would be good to have it be an optional spkg for this.  Note the current version is now 2.12 (Burcin's was 2.9).",
    "created_at": "2013-01-29T20:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/297#issuecomment-1068",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">Comment 5</div>

There has definitely been interest in this from various people I've spoken to over the years.  Also, it would be good to have it be an optional spkg for this.  Note the current version is now 2.12 (Burcin's was 2.9).



---

archive/issue_events_002105.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-01-29T20:59:03Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "title_is": "Upgrade polymake and/or make it an optional spkg",
    "title_was": "polymake -- create a build package for the optional SAGE package polymake-2.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2105"
}
```



---

archive/issue_events_002106.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2106"
}
```



---

archive/issue_events_002107.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2107"
}
```



---

archive/issue_events_002108.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2108"
}
```



---

archive/issue_events_002109.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2109"
}
```



---

archive/issue_events_002110.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2110"
}
```



---

archive/issue_events_002111.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2111"
}
```



---

archive/issue_events_002112.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2112"
}
```



---

archive/issue_events_002113.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2113"
}
```



---

archive/issue_events_002114.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T14:06:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2114"
}
```



---

archive/issue_events_002115.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T14:06:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2115"
}
```



---

archive/issue_events_002116.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T14:06:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2116"
}
```



---

archive/issue_comments_001069.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2014-11-20T14:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/297#issuecomment-1069",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_001070.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nThis is, in the aggregate, a dup of #5488, #13768, and #14116.  Take your pick :)  In particular, Burcin extended his work and it was integrated into Sage in the latter two tickets, which have *much* more information.",
    "created_at": "2014-11-20T14:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/297#issuecomment-1070",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">Comment 10</div>

This is, in the aggregate, a dup of #5488, #13768, and #14116.  Take your pick :)  In particular, Burcin extended his work and it was integrated into Sage in the latter two tickets, which have *much* more information.



---

archive/issue_events_002117.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T14:06:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2117"
}
```



---

archive/issue_events_002118.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T14:07:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2118"
}
```



---

archive/issue_events_002119.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-20T14:07:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2119"
}
```



---

archive/issue_events_002120.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-28T20:58:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2120"
}
```



---

archive/issue_events_002121.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-28T20:58:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2121"
}
```



---

archive/issue_events_002122.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-28T20:58:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/297",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/297#event-2122"
}
```
