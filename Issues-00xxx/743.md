# Issue 743: [with patch, with positive review] graphs: simplify interface for accessing vertex objects

archive/issues_000743.json:
```json
{
    "body": "The functionality for associating any vertex of a graph with an arbitrary object is very nice.  However, it seems like the implementation could be simplified.  Can we implement an interface that does the following?\n\n* Makes it easy to assign an object to a single vertex, multiple vertices, or all vertices.  (Currently, you must assign the entire graph at once).\n\n* Makes it easy to retrieve an object associated with a vertex or multiple objects associated with multiple vertices (currently we can only retrieve one vertex at a time).\n\n* Has symmetry in the get/set functions (currently there is an \"associate\" and a \"obj\" function).\n\nIt seems that the simplest way to deal with multiple vertices is to use a dictionary, as is currently done, to associate a set of vertices with their corresponding objects.\n\nHere's an example of a possible idea:\n\n```\n  sage: g=Graph();\n  sage: g.add_vertices(10);\n  sage: g.set_vertices({0: 'vertex0', 1: 'vertex1'})\n  sage: g.set_vertex({3: 'vertex3'})\n  sage: g.set_vertex(4,'vertex4')\n  sage: g.get_vertices()\n  {0: 'vertex0', 1: 'vertex1', 3: 'vertex3', 4: 'vertex4'}\n  sage: g.get_vertex(0)\n  'vertex0'\n  sage: g.get_vertices([0,1])\n  {0: 'vertex0', 1: 'vertex1'}\n```\n\nOf course, in the above example, the strings could have been replaced with any objects.\n\nAssignee: @rlmill\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/743\n\n",
    "closed_at": "2008-01-27T04:20:08Z",
    "created_at": "2007-09-24T18:12:25Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-2.10.1",
    "title": "[with patch, with positive review] graphs: simplify interface for accessing vertex objects",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/743",
    "user": "https://github.com/jasongrout"
}
```
The functionality for associating any vertex of a graph with an arbitrary object is very nice.  However, it seems like the implementation could be simplified.  Can we implement an interface that does the following?

* Makes it easy to assign an object to a single vertex, multiple vertices, or all vertices.  (Currently, you must assign the entire graph at once).

* Makes it easy to retrieve an object associated with a vertex or multiple objects associated with multiple vertices (currently we can only retrieve one vertex at a time).

* Has symmetry in the get/set functions (currently there is an "associate" and a "obj" function).

It seems that the simplest way to deal with multiple vertices is to use a dictionary, as is currently done, to associate a set of vertices with their corresponding objects.

Here's an example of a possible idea:

```
  sage: g=Graph();
  sage: g.add_vertices(10);
  sage: g.set_vertices({0: 'vertex0', 1: 'vertex1'})
  sage: g.set_vertex({3: 'vertex3'})
  sage: g.set_vertex(4,'vertex4')
  sage: g.get_vertices()
  {0: 'vertex0', 1: 'vertex1', 3: 'vertex3', 4: 'vertex4'}
  sage: g.get_vertex(0)
  'vertex0'
  sage: g.get_vertices([0,1])
  {0: 'vertex0', 1: 'vertex1'}
```

Of course, in the above example, the strings could have been replaced with any objects.

Assignee: @rlmill

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/743





---

archive/issue_comments_004514.json:
```json
{
    "body": "<a id='comment:1'></a>\nAdditional comments, stemming from Chris Godsil's wishlist:\n\n```\n>>> (c) Edge-colored graphs: A graph and functions from its edges to an index\n>>> set, and vice versa. These could also be represented as a set of\n>>> matchings,\n>>> and this data structure can be used to represent maps on surfaces.\n>> I think we should make a nice system for attaching arbitrary metadata to\n>> vertices and edges of a graph. Something like an attribute dictionary\n>> for each vertex and edge.\n> There is an existing trac ticket for improving the vertex association\n> setup- most likely these comments should just go on that ticket. Any\n> object at all can be the label for an edge, so I don't think there is\n> too much to do here.\n```",
    "created_at": "2007-11-28T19:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4514",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'></a>
Additional comments, stemming from Chris Godsil's wishlist:

```
>>> (c) Edge-colored graphs: A graph and functions from its edges to an index
>>> set, and vice versa. These could also be represented as a set of
>>> matchings,
>>> and this data structure can be used to represent maps on surfaces.
>> I think we should make a nice system for attaching arbitrary metadata to
>> vertices and edges of a graph. Something like an attribute dictionary
>> for each vertex and edge.
> There is an existing trac ticket for improving the vertex association
> setup- most likely these comments should just go on that ticket. Any
> object at all can be the label for an edge, so I don't think there is
> too much to do here.
```



---

archive/issue_comments_004515.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2007-12-02T04:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4515",
    "user": "https://github.com/rlmill"
}
```

Changing status from new to assigned.



---

archive/issue_comments_004516.json:
```json
{
    "body": "Changing assignee from @williamstein to @rlmill.",
    "created_at": "2007-12-02T04:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4516",
    "user": "https://github.com/rlmill"
}
```

Changing assignee from @williamstein to @rlmill.



---

archive/issue_comments_004517.json:
```json
{
    "body": "Changing keywords from \"graphs\" to \"\".",
    "created_at": "2007-12-17T15:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4517",
    "user": "https://github.com/rlmill"
}
```

Changing keywords from "graphs" to "".



---

archive/issue_comments_004518.json:
```json
{
    "body": "<a id='comment:4'></a>\nSee the recent discussion on the networkx mailing list at:\n\nhttp://groups.google.com/group/networkx-discuss/browse_thread/thread/3fdfe1956c6e915?hl=en\n\nfor some comments on labels for vertices.",
    "created_at": "2008-01-19T06:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4518",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'></a>
See the recent discussion on the networkx mailing list at:

http://groups.google.com/group/networkx-discuss/browse_thread/thread/3fdfe1956c6e915?hl=en

for some comments on labels for vertices.



---

archive/issue_comments_004519.json:
```json
{
    "body": "Attachment [vertex_association.hg](tarball://root/attachments/some-uuid/ticket743/vertex_association.hg) by @rlmill created at 2008-01-27 02:06:27",
    "created_at": "2008-01-27T02:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4519",
    "user": "https://github.com/rlmill"
}
```

Attachment [vertex_association.hg](tarball://root/attachments/some-uuid/ticket743/vertex_association.hg) by @rlmill created at 2008-01-27 02:06:27



---

archive/issue_events_002418.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "rename": {
        "from": "graphs: simplify interface for accessing vertex objects",
        "to": "[with patch, needs review] graphs: simplify interface for accessing vertex objects"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/743#event-2418"
}
```



---

archive/issue_comments_004520.json:
```json
{
    "body": "<a id='comment:5'></a>\nI don't know why the first two diffs on the patch are necessary, but the relevant changes are in the last two.",
    "created_at": "2008-01-27T02:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4520",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:5'></a>
I don't know why the first two diffs on the patch are necessary, but the relevant changes are in the last two.



---

archive/issue_comments_004521.json:
```json
{
    "body": "<a id='comment:6'></a>\nCode looks good; doctests pass.",
    "created_at": "2008-01-27T02:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4521",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

<a id='comment:6'></a>
Code looks good; doctests pass.



---

archive/issue_events_002419.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "rename": {
        "from": "[with patch, needs review] graphs: simplify interface for accessing vertex objects",
        "to": "[with patch, with positive review] graphs: simplify interface for accessing vertex objects"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/743#event-2419"
}
```



---

archive/issue_comments_004522.json:
```json
{
    "body": "<a id='comment:7'></a>\nMerged in Sage 2.10.1.rc1",
    "created_at": "2008-01-27T02:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4522",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:7'></a>
Merged in Sage 2.10.1.rc1



---

archive/issue_comments_004523.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2008-01-27T02:47:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4523",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed



---

archive/issue_events_002420.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-01-27T02:47:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/743#event-2420"
}
```



---

archive/issue_comments_004524.json:
```json
{
    "body": "Attachment [trac-743-fix.patch](tarball://root/attachments/some-uuid/ticket743/trac-743-fix.patch) by cwitty created at 2008-01-27 04:14:27",
    "created_at": "2008-01-27T04:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4524",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

Attachment [trac-743-fix.patch](tarball://root/attachments/some-uuid/ticket743/trac-743-fix.patch) by cwitty created at 2008-01-27 04:14:27



---

archive/issue_comments_004525.json:
```json
{
    "body": "Changing status from closed to reopened.",
    "created_at": "2008-01-27T04:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4525",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

Changing status from closed to reopened.



---

archive/issue_events_002421.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/cwitty",
    "created_at": "2008-01-27T04:15:31Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/743#event-2421"
}
```



---

archive/issue_comments_004526.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe attached trac-743-fix.patch fixes the fallout from this patch in ell_rational_field.py .",
    "created_at": "2008-01-27T04:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4526",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

<a id='comment:8'></a>
The attached trac-743-fix.patch fixes the fallout from this patch in ell_rational_field.py .



---

archive/issue_comments_004527.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2008-01-27T04:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4527",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_004528.json:
```json
{
    "body": "<a id='comment:9'></a>\ntrac-743-fix.patch looks good to me. Merged in Sage 2.10.1.rc1.\n\nCheers,\n\nMichael",
    "created_at": "2008-01-27T04:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4528",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:9'></a>
trac-743-fix.patch looks good to me. Merged in Sage 2.10.1.rc1.

Cheers,

Michael



---

archive/issue_comments_004529.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2008-01-27T04:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/743#issuecomment-4529",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed



---

archive/issue_events_002422.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-01-27T04:20:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/743",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/743#event-2422"
}
```
