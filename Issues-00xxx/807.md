# Issue 807: construction of function fields

archive/issues_000807.json:
```json
{
    "assignees": [],
    "body": "The following does not work and it seems to fail in an odd way wrt. the preparser\n\n```\nP1.<t> = QQ[].fraction_field()\n```\nThere doesn't seem to be a convenient way of constructing a rational function field\nwith a named variable.\n\nCC:  @kwankyu\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/807_\n\n",
    "created_at": "2007-10-03T15:37:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "construction of function fields",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/807",
    "user": "https://github.com/nbruin"
}
```
The following does not work and it seems to fail in an odd way wrt. the preparser

```
P1.<t> = QQ[].fraction_field()
```
There doesn't seem to be a convenient way of constructing a rational function field
with a named variable.

CC:  @kwankyu

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/807_





---

archive/issue_events_007706.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2007-10-03T15:37:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7706"
}
```



---

archive/issue_events_007707.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2007-10-03T15:37:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7707"
}
```



---

archive/issue_events_007708.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2007-10-03T15:37:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7708"
}
```



---

archive/issue_events_007709.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2007-10-03T15:37:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7709"
}
```



---

archive/issue_comments_003464.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThis works:\n\n```\nsage: P1 = PolynomialRing(QQ,'t').fraction_field()\nsage: P1.gen()\nt\nsage: t=P1.gen()\nsage: P1((t+1)/(t-3))\n(t + 1)/(t - 3)\n```\n\nNote that the fraction field picks up the display name 't', but that to get the identifier t defined requires the assignment.\n\nI guess this does not qualify for what you wanted, namely to have t assigned automatically on the line defining the field.\n\n Looking into this I found something else peculiar:\n\n```\nsage: t=polygen(QQ)\nsage: t\nx\nsage: t.parent()\nUnivariate Polynomial Ring in x over Rational Field\n```\n\nI have found polygen to be useful, but now I think that using it is fraught with possible confusion.  It causes the PolynomialRing in 'x' to be created with no choice as to the display string for the variable.",
    "created_at": "2008-02-18T12:00:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3464",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:1" align="right">comment:1</div>

This works:

```
sage: P1 = PolynomialRing(QQ,'t').fraction_field()
sage: P1.gen()
t
sage: t=P1.gen()
sage: P1((t+1)/(t-3))
(t + 1)/(t - 3)
```

Note that the fraction field picks up the display name 't', but that to get the identifier t defined requires the assignment.

I guess this does not qualify for what you wanted, namely to have t assigned automatically on the line defining the field.

 Looking into this I found something else peculiar:

```
sage: t=polygen(QQ)
sage: t
x
sage: t.parent()
Univariate Polynomial Ring in x over Rational Field
```

I have found polygen to be useful, but now I think that using it is fraught with possible confusion.  It causes the PolynomialRing in 'x' to be created with no choice as to the display string for the variable.



---

archive/issue_comments_003465.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n> I have found polygen to be useful, but now I think that using it is fraught \n> with possible confusion. It causes the PolynomialRing? in 'x' to be created \n> with no choice as to the display string for the variable.\n\nThat's not true.  Did you try reading `polygen?`\n\n```\nsage: t = polygen(QQ,'t')\nsage: t\nt\nsage: t.parent()\nUnivariate Polynomial Ring in t over Rational Field\n```",
    "created_at": "2008-02-19T00:04:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3465",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">comment:2</div>

> I have found polygen to be useful, but now I think that using it is fraught 
> with possible confusion. It causes the PolynomialRing? in 'x' to be created 
> with no choice as to the display string for the variable.

That's not true.  Did you try reading `polygen?`

```
sage: t = polygen(QQ,'t')
sage: t
t
sage: t.parent()
Univariate Polynomial Ring in t over Rational Field
```



---

archive/issue_comments_003466.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n\n```\n14:42 < cwitty-rvw3129> I'd be fine with saying 807 is invalid (since it doesn't have any sort of concrete \n                        proposal); wstein-2605, what do you think?\n14:43 < wstein-406> It's invalid.\n14:43 < wstein-406> It should be an error.\n14:43 < wstein-406> He has to give the poly ring variable explicitly; there is no way around htat.\n14:44 < mhansen> This is what it preparses to: \"P1 = QQ[].fraction_field(names=('t',)); (t,) = \n                 P1._first_ngens(Integer(1))\"\n14:44 < wstein-406> However, it might be nice for this to work:\n14:44 < cwitty-rvw3129> Well, he's trying to give the variable explicitly with the P1.<t> syntax.\n14:44 < wstein-406> P1.<t> = QQ['t'].fraction_field()\n14:44 < wstein-406> What would happen is that fraction_field would have a names option, and if the\n14:44 < wstein-406> names didn't match with the gen names of R (=QQ['t']) then a copy is returned with\n14:44 < wstein-406> those variable names.\n14:45 < wstein-406> E.g., \n14:45 < wstein-406> P1.<t> = QQ['x'].fraction_field()\n14:45 < wstein-406> should work.\n14:45 < wstein-406> Too.\n14:45 < wstein-406> So I do not think #807 is invalid; it just needs to be changed slightly.\n```",
    "created_at": "2008-05-10T21:45:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3466",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:3" align="right">comment:3</div>


```
14:42 < cwitty-rvw3129> I'd be fine with saying 807 is invalid (since it doesn't have any sort of concrete 
                        proposal); wstein-2605, what do you think?
14:43 < wstein-406> It's invalid.
14:43 < wstein-406> It should be an error.
14:43 < wstein-406> He has to give the poly ring variable explicitly; there is no way around htat.
14:44 < mhansen> This is what it preparses to: "P1 = QQ[].fraction_field(names=('t',)); (t,) = 
                 P1._first_ngens(Integer(1))"
14:44 < wstein-406> However, it might be nice for this to work:
14:44 < cwitty-rvw3129> Well, he's trying to give the variable explicitly with the P1.<t> syntax.
14:44 < wstein-406> P1.<t> = QQ['t'].fraction_field()
14:44 < wstein-406> What would happen is that fraction_field would have a names option, and if the
14:44 < wstein-406> names didn't match with the gen names of R (=QQ['t']) then a copy is returned with
14:44 < wstein-406> those variable names.
14:45 < wstein-406> E.g., 
14:45 < wstein-406> P1.<t> = QQ['x'].fraction_field()
14:45 < wstein-406> should work.
14:45 < wstein-406> Too.
14:45 < wstein-406> So I do not think #807 is invalid; it just needs to be changed slightly.
```



---

archive/issue_comments_003467.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nStill all true.  Four years later!\n\n```\nsage: P1.<t> = QQ[].fraction_field()\n------------------------------------------------------------\n   File \"<ipython console>\", line 1\n     P1 = QQ[].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)\n             ^\nSyntaxError: invalid syntax\n\nsage: P1.<t> = QQ['x'].fraction_field()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\nTypeError: fraction_field() got an unexpected keyword argument 'names'\n```",
    "created_at": "2011-12-02T21:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3467",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

Still all true.  Four years later!

```
sage: P1.<t> = QQ[].fraction_field()
------------------------------------------------------------
   File "<ipython console>", line 1
     P1 = QQ[].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)
             ^
SyntaxError: invalid syntax

sage: P1.<t> = QQ['x'].fraction_field()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

TypeError: fraction_field() got an unexpected keyword argument 'names'
```



---

archive/issue_comments_003468.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWould it be possible to have QQ('a') preparse to the right thing?  That would make mathematical sense.  Currently, of course, QQ('a') tried to convert the strong 'a' into a rational and fails.",
    "created_at": "2011-12-02T22:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3468",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:5" align="right">comment:5</div>

Would it be possible to have QQ('a') preparse to the right thing?  That would make mathematical sense.  Currently, of course, QQ('a') tried to convert the strong 'a' into a rational and fails.



---

archive/issue_comments_003469.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI think the underlying problem is that the language syntax does not truly support doing `QQ[]`, so when it is trying to parse `QQ[].fraction_field()`, it first must evaluate `QQ[]` as a standalone (thus the `SyntaxError`), in order to get the output object to find the attribute `fraction_field()`.\n\nI don't know where/how the syntax `P.<x> = QQ[]` comes from/works (in the preparser perhaps?), so perhaps we can use that, but I don't know if that is easily done, safe, or even feasible. I'll do some looking around, but I'm thinking this might not be doable considering the semantics of python... Anyone else's thoughts?\n\nBest,\n\nTravis",
    "created_at": "2013-02-26T15:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3469",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

I think the underlying problem is that the language syntax does not truly support doing `QQ[]`, so when it is trying to parse `QQ[].fraction_field()`, it first must evaluate `QQ[]` as a standalone (thus the `SyntaxError`), in order to get the output object to find the attribute `fraction_field()`.

I don't know where/how the syntax `P.<x> = QQ[]` comes from/works (in the preparser perhaps?), so perhaps we can use that, but I don't know if that is easily done, safe, or even feasible. I'll do some looking around, but I'm thinking this might not be doable considering the semantics of python... Anyone else's thoughts?

Best,

Travis



---

archive/issue_comments_003470.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@tscrim](#comment:6):\n> I think the underlying problem is that the language syntax does not truly support doing `QQ[]`, so when it is trying to parse `QQ[].fraction_field()`, it first must evaluate `QQ[]` as a standalone (thus the `SyntaxError`), in order to get the output object to find the attribute `fraction_field()`.\n> \n> I don't know where/how the syntax `P.<x> = QQ[]` comes from/works (in the preparser perhaps?), so perhaps we can use that, but I don't know if that is easily done, safe, or even feasible. I'll do some looking around, but I'm thinking this might not be doable considering the semantics of python... Anyone else's thoughts?\n\n```\nsage: preparse(\"P.<x> = QQ[]\")\n\"P = QQ['x']; (x,) = P._first_ngens(1)\"\n```\n\nAs I understand it, the . before the < triggers a python error which is caught and then handled nicely.\n\n\n> \n> Best,\n\n> Travis",
    "created_at": "2013-02-26T16:59:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3470",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@tscrim](#comment:6):
> I think the underlying problem is that the language syntax does not truly support doing `QQ[]`, so when it is trying to parse `QQ[].fraction_field()`, it first must evaluate `QQ[]` as a standalone (thus the `SyntaxError`), in order to get the output object to find the attribute `fraction_field()`.
> 
> I don't know where/how the syntax `P.<x> = QQ[]` comes from/works (in the preparser perhaps?), so perhaps we can use that, but I don't know if that is easily done, safe, or even feasible. I'll do some looking around, but I'm thinking this might not be doable considering the semantics of python... Anyone else's thoughts?

```
sage: preparse("P.<x> = QQ[]")
"P = QQ['x']; (x,) = P._first_ngens(1)"
```

As I understand it, the . before the < triggers a python error which is caught and then handled nicely.


> 
> Best,

> Travis



---

archive/issue_comments_003471.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@JohnCremona](#comment:7):\n> As I understand it, the . before the < triggers a python error which is caught and then handled nicely.\n\nThe preparser is just a preprocessor, so no python errors are involved. The string is modified before the python parser ever sees it. Anyway:\n\n```\nsage: preparse(\"P1.<t> = QQ['x'].fraction_field()\")\n\"P1 = QQ['x'].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)\"\n```\nand supporting it seems straightforward, but this is where things get questionable: `names` supplied on construction are part of the construction data, so\n\n```\nsage: R=QQ['x']\nsage: F1=R.fraction_field(names=('u',))\nsage: F2=R.fraction_field(names=('v',))\n```\nshould produce two fields F1,F2. Both would have coercions from R installed, since they are constructed as field-of-fractions of R. There would not be a coercion from F1 to F2. Furthermore, for\n\n```\nsage: K=QQ['x,u,v'].fraction_field()\n```\nall of R,F1,F2 would coerce into K, but coercion from R to K would not be compatible with the coercions from F1 and F2 into K, which is bad.\n\nFor better of for worse, it was decided that the names of polynomial variables have meaning in sage. A consequence of that is that you don't get to choose the name upon applying the function_field functor.\n\n(oh, I didn't realize I made this ticket!)",
    "created_at": "2013-02-26T18:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3471",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@JohnCremona](#comment:7):
> As I understand it, the . before the < triggers a python error which is caught and then handled nicely.

The preparser is just a preprocessor, so no python errors are involved. The string is modified before the python parser ever sees it. Anyway:

```
sage: preparse("P1.<t> = QQ['x'].fraction_field()")
"P1 = QQ['x'].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)"
```
and supporting it seems straightforward, but this is where things get questionable: `names` supplied on construction are part of the construction data, so

```
sage: R=QQ['x']
sage: F1=R.fraction_field(names=('u',))
sage: F2=R.fraction_field(names=('v',))
```
should produce two fields F1,F2. Both would have coercions from R installed, since they are constructed as field-of-fractions of R. There would not be a coercion from F1 to F2. Furthermore, for

```
sage: K=QQ['x,u,v'].fraction_field()
```
all of R,F1,F2 would coerce into K, but coercion from R to K would not be compatible with the coercions from F1 and F2 into K, which is bad.

For better of for worse, it was decided that the names of polynomial variables have meaning in sage. A consequence of that is that you don't get to choose the name upon applying the function_field functor.

(oh, I didn't realize I made this ticket!)



---

archive/issue_comments_003472.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@nbruin](#comment:8):\n> The preparser is just a preprocessor, so no python errors are involved. The string is modified before the python parser ever sees it. Anyway:\n> \n> ```\n> sage: preparse(\"P1.<t> = QQ['x'].fraction_field()\")\n> \"P1 = QQ['x'].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)\"\n> ```\n> and supporting it seems straightforward,\n\nThat's not as scary as I expected it to be.\n\n> but this is where things get questionable: `names` supplied on construction are part of the construction data, so\n> \n> ```\n> sage: R=QQ['x']\n> sage: F1=R.fraction_field(names=('u',))\n> sage: F2=R.fraction_field(names=('v',))\n> ```\n> should produce two fields F1,F2. Both would have coercions from R installed, since they are constructed as field-of-fractions of R. There would not be a coercion from F1 to F2. Furthermore, for\n> \n> ```\n> sage: K=QQ['x,u,v'].fraction_field()\n> ```\n> all of R,F1,F2 would coerce into K, but coercion from R to K would not be compatible with the coercions from F1 and F2 into K, which is bad.\n\nSo you're considering adding a `names` argument in a meaningful way to `fraction_field()`? However this does not quite make sense to me and would conflict with the behavior of `FractionField` (which takes `names` as input and just ignores them; although it just redirects the call to the respective `fraction_field()` with no arguments). It seems like the correct fix would be to have the following:\n\n```\nsage: preparse(\"R.<x,y> = QQ[].fraction_field()\") \n\"R = QQ['x, y'].fraction_field(names=('x', 'y',)); (x, y,) = R._first_ngens(2)\"\n```\nand have `fraction_field()` take `names` as an optional argument and ignore the input.\n\nJust to note, this is the current behavior in Sage when there is no other function:\n\n```\nsage: preparse(\"R.<x,y> = QQ[]\")                 \n\"R = QQ['x, y']; (x, y,) = R._first_ngens(2)\"\n```\n\nIn some ways, I'd almost like the following to throw an error:\n\n```\nsage: R.<x> = QQ['t']\nsage: x\nt\n```\nsince the variable names don't match. But that might just be me...\n\n> For better of for worse, it was decided that the names of polynomial variables have meaning in sage. A consequence of that is that you don't get to choose the name upon applying the function_field functor.",
    "created_at": "2013-02-26T20:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3472",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@nbruin](#comment:8):
> The preparser is just a preprocessor, so no python errors are involved. The string is modified before the python parser ever sees it. Anyway:
> 
> ```
> sage: preparse("P1.<t> = QQ['x'].fraction_field()")
> "P1 = QQ['x'].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)"
> ```
> and supporting it seems straightforward,

That's not as scary as I expected it to be.

> but this is where things get questionable: `names` supplied on construction are part of the construction data, so
> 
> ```
> sage: R=QQ['x']
> sage: F1=R.fraction_field(names=('u',))
> sage: F2=R.fraction_field(names=('v',))
> ```
> should produce two fields F1,F2. Both would have coercions from R installed, since they are constructed as field-of-fractions of R. There would not be a coercion from F1 to F2. Furthermore, for
> 
> ```
> sage: K=QQ['x,u,v'].fraction_field()
> ```
> all of R,F1,F2 would coerce into K, but coercion from R to K would not be compatible with the coercions from F1 and F2 into K, which is bad.

So you're considering adding a `names` argument in a meaningful way to `fraction_field()`? However this does not quite make sense to me and would conflict with the behavior of `FractionField` (which takes `names` as input and just ignores them; although it just redirects the call to the respective `fraction_field()` with no arguments). It seems like the correct fix would be to have the following:

```
sage: preparse("R.<x,y> = QQ[].fraction_field()") 
"R = QQ['x, y'].fraction_field(names=('x', 'y',)); (x, y,) = R._first_ngens(2)"
```
and have `fraction_field()` take `names` as an optional argument and ignore the input.

Just to note, this is the current behavior in Sage when there is no other function:

```
sage: preparse("R.<x,y> = QQ[]")                 
"R = QQ['x, y']; (x, y,) = R._first_ngens(2)"
```

In some ways, I'd almost like the following to throw an error:

```
sage: R.<x> = QQ['t']
sage: x
t
```
since the variable names don't match. But that might just be me...

> For better of for worse, it was decided that the names of polynomial variables have meaning in sage. A consequence of that is that you don't get to choose the name upon applying the function_field functor.



---

archive/issue_comments_003473.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@tscrim](#comment:9):\n\n> \n> In some ways, I'd almost like the following to throw an error:\n> \n> ```\n> sage: R.<x> = QQ['t']\n> sage: x\n> t\n> ```\n> since the variable names don't match. But that might just be me...\n\nNo, not just you.  And you probably also dislike this, as I do:\n\n```\nsage: y = polygen(QQ)\nsage: y\nx\n```\nThis would be avoided by disallowing polygen()'s name parameter being omitted (it defaults to \"x\").  After all we are not allowed to construct number fields, or non-prime finite fields, without naming a generator, and this is worse since we usually think that we have named a generator...",
    "created_at": "2013-02-26T20:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3473",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@tscrim](#comment:9):

> 
> In some ways, I'd almost like the following to throw an error:
> 
> ```
> sage: R.<x> = QQ['t']
> sage: x
> t
> ```
> since the variable names don't match. But that might just be me...

No, not just you.  And you probably also dislike this, as I do:

```
sage: y = polygen(QQ)
sage: y
x
```
This would be avoided by disallowing polygen()'s name parameter being omitted (it defaults to "x").  After all we are not allowed to construct number fields, or non-prime finite fields, without naming a generator, and this is worse since we usually think that we have named a generator...



---

archive/issue_comments_003474.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@JohnCremona](#comment:10):\n> No, not just you.  And you probably also dislike this, as I do:\n> \n> ```\n> sage: y = polygen(QQ)\n> sage: y\n> x\n> ```\n> This would be avoided by disallowing polygen()'s name parameter being omitted (it defaults to \"x\").  After all we are not allowed to construct number fields, or non-prime finite fields, without naming a generator, and this is worse since we usually think that we have named a generator...\n\nYes I do not like that as well. However, even making name a mandatory argument, it still does not prevent things such as:\n\n```\nsage: y = polygen(QQ, 'a')\nsage: y\na\n```\nFrom looking at the function, I'd want to deprecate it if we decide to forbid `R.<x> = QQ['t']` (which could be done in the preparse).",
    "created_at": "2013-02-26T20:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3474",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@JohnCremona](#comment:10):
> No, not just you.  And you probably also dislike this, as I do:
> 
> ```
> sage: y = polygen(QQ)
> sage: y
> x
> ```
> This would be avoided by disallowing polygen()'s name parameter being omitted (it defaults to "x").  After all we are not allowed to construct number fields, or non-prime finite fields, without naming a generator, and this is worse since we usually think that we have named a generator...

Yes I do not like that as well. However, even making name a mandatory argument, it still does not prevent things such as:

```
sage: y = polygen(QQ, 'a')
sage: y
a
```
From looking at the function, I'd want to deprecate it if we decide to forbid `R.<x> = QQ['t']` (which could be done in the preparse).



---

archive/issue_comments_003475.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@tscrim](#comment:9):\nAh, I wasn't aware of the `FractionField` behaviour.\nIn a way, ignoring \"names\" would be good. Compare:\n\n```\nsage: preparse(\"R.<x>=QQ[t]\")\n'R = QQ[t]; (x,) = R._first_ngens(1)'\nsage: preparse(\"R.<x>=PolynomialRing(QQ,'t')\")\n\"R = PolynomialRing(QQ,'t', names=('x',)); (x,) = R._first_ngens(1)\"\nsage: preparse(\"R.<x>=PolynomialRing(QQ,names='t')\")\n\"R = PolynomialRing(QQ,names='t', names=('x',)); (x,) = R._first_ngens(1)\"\n```\nIn the first and second cases, it is recognised that a print name supplied by the LHS is superfluous, so it gets ignored (meaning: not inserted into the RHS). In the third case, the preparser fails to recognize this (the preparser will always have problems like that).\n\nGiven that print names are always superfluous for FractionField, ignoring the names field would be the right thing. However, I think `fraction_field` is not the proper place to do this and it would not solve the issue of this ticket: In\n\n```\nP1.<t>=FractionField(QQ[])\n```\nor\n\n```\nP1.<t>=QQ[].fraction_field()\n```\nit's not just that a `names=('t',)` should not be injected into the `fraction_field` call, it should be injected into the polynomial ring constructor. Of course, for this case the solution is\n\n```\nsage: P1.<t>=FunctionField(QQ)\n```",
    "created_at": "2013-02-26T20:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3475",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@tscrim](#comment:9):
Ah, I wasn't aware of the `FractionField` behaviour.
In a way, ignoring "names" would be good. Compare:

```
sage: preparse("R.<x>=QQ[t]")
'R = QQ[t]; (x,) = R._first_ngens(1)'
sage: preparse("R.<x>=PolynomialRing(QQ,'t')")
"R = PolynomialRing(QQ,'t', names=('x',)); (x,) = R._first_ngens(1)"
sage: preparse("R.<x>=PolynomialRing(QQ,names='t')")
"R = PolynomialRing(QQ,names='t', names=('x',)); (x,) = R._first_ngens(1)"
```
In the first and second cases, it is recognised that a print name supplied by the LHS is superfluous, so it gets ignored (meaning: not inserted into the RHS). In the third case, the preparser fails to recognize this (the preparser will always have problems like that).

Given that print names are always superfluous for FractionField, ignoring the names field would be the right thing. However, I think `fraction_field` is not the proper place to do this and it would not solve the issue of this ticket: In

```
P1.<t>=FractionField(QQ[])
```
or

```
P1.<t>=QQ[].fraction_field()
```
it's not just that a `names=('t',)` should not be injected into the `fraction_field` call, it should be injected into the polynomial ring constructor. Of course, for this case the solution is

```
sage: P1.<t>=FunctionField(QQ)
```



---

archive/issue_comments_003476.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@tscrim](#comment:11):\n> > This would be avoided by disallowing polygen()'s name parameter being omitted (it defaults to \"x\").  After all we are not allowed to construct number fields, or non-prime finite fields, without naming a generator, and this is worse since we usually think that we have named a generator...\n\nIsn't the whole point of `polygen` that people get tired of supplying names? Otherwise you can just spell it `QQ['a'].0`, which is shorter anyway (or `QQ['a'].gen(0)` if you don't want to rely on the preparser and is still shorter than `polygen(QQ,'a')` and requires the same number of \"shift\" characters on a US keyboard)\n> \n> Yes I do not like that as well. However, even making name a mandatory argument, it still does not prevent things such as:\n> \n> ```\n> sage: y = polygen(QQ, 'a')\n> sage: y\n> a\n> ```\n> From looking at the function, I'd want to deprecate it if we decide to forbid `R.<x> = QQ['t']` (which could be done in the preparse).\n\nDeciding *if* the `names=` implied by `R.<x>` is necessary is already flaky. Deciding if the implied `names=` is consistent with what is on the RHS is going to be very complicated within the limited view of the preparser. I don't think we want to grow a new attribute `preparser_generated_names` just to accommodate this.\n\nWe can document what it does:\n- bind generators to the python identifiers supplied\n- if the RHS requires print names for the generators and doesn't supply them, derive them from the python names.\n\nOf course it's good style to let python names and print names bear resemblance, but ultimately users will have to know that they are not the same thing.",
    "created_at": "2013-02-26T21:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3476",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@tscrim](#comment:11):
> > This would be avoided by disallowing polygen()'s name parameter being omitted (it defaults to "x").  After all we are not allowed to construct number fields, or non-prime finite fields, without naming a generator, and this is worse since we usually think that we have named a generator...

Isn't the whole point of `polygen` that people get tired of supplying names? Otherwise you can just spell it `QQ['a'].0`, which is shorter anyway (or `QQ['a'].gen(0)` if you don't want to rely on the preparser and is still shorter than `polygen(QQ,'a')` and requires the same number of "shift" characters on a US keyboard)
> 
> Yes I do not like that as well. However, even making name a mandatory argument, it still does not prevent things such as:
> 
> ```
> sage: y = polygen(QQ, 'a')
> sage: y
> a
> ```
> From looking at the function, I'd want to deprecate it if we decide to forbid `R.<x> = QQ['t']` (which could be done in the preparse).

Deciding *if* the `names=` implied by `R.<x>` is necessary is already flaky. Deciding if the implied `names=` is consistent with what is on the RHS is going to be very complicated within the limited view of the preparser. I don't think we want to grow a new attribute `preparser_generated_names` just to accommodate this.

We can document what it does:
- bind generators to the python identifiers supplied
- if the RHS requires print names for the generators and doesn't supply them, derive them from the python names.

Of course it's good style to let python names and print names bear resemblance, but ultimately users will have to know that they are not the same thing.



---

archive/issue_comments_003477.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIgnoring the `names` in `fraction_field()` would not solve the problem since the preparser does not set the variable names correct (which should IMO be fixed nevertheless since it is inconsistent). I'll look more into the preparser later tonight (feel free to upload a patch if you know how to fix the main issue, I can find some places to document the bindings).\n\nThanks,\n\nTravis",
    "created_at": "2013-02-27T00:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3477",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

Ignoring the `names` in `fraction_field()` would not solve the problem since the preparser does not set the variable names correct (which should IMO be fixed nevertheless since it is inconsistent). I'll look more into the preparser later tonight (feel free to upload a patch if you know how to fix the main issue, I can find some places to document the bindings).

Thanks,

Travis



---

archive/issue_events_007710.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7710"
}
```



---

archive/issue_events_007711.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7711"
}
```



---

archive/issue_events_007712.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7712"
}
```



---

archive/issue_events_007713.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7713"
}
```



---

archive/issue_events_007714.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7714"
}
```



---

archive/issue_events_007715.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7715"
}
```



---

archive/issue_events_007716.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7716"
}
```



---

archive/issue_events_007717.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7717"
}
```



---

archive/issue_comments_003478.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis ticket is about the ancient Sage, which lacked function fields at all. Sage has transformed itself a lot ever since.",
    "created_at": "2020-07-08T23:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3478",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:20" align="right">comment:20</div>

This ticket is about the ancient Sage, which lacked function fields at all. Sage has transformed itself a lot ever since.



---

archive/issue_events_007718.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-07-08T23:42:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7718"
}
```



---

archive/issue_events_007719.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-07-08T23:42:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7719"
}
```



---

archive/issue_events_007720.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-07-08T23:42:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7720"
}
```



---

archive/issue_events_007721.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-08T23:48:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7721"
}
```



---

archive/issue_comments_003479.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThat is not true. It is not about a lack of function fields but about an easy way to construct them with a variable. Right now it is a two-step process:\n\n```\nsage: R = QQ['t'].fraction_field()\nsage: t = R.gen()\n```\nThis ticket is about combining that into 1 step using our modified syntactic sugar.",
    "created_at": "2020-07-08T23:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3479",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

That is not true. It is not about a lack of function fields but about an easy way to construct them with a variable. Right now it is a two-step process:

```
sage: R = QQ['t'].fraction_field()
sage: t = R.gen()
```
This ticket is about combining that into 1 step using our modified syntactic sugar.



---

archive/issue_events_007722.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-07-08T23:51:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7722"
}
```



---

archive/issue_events_007723.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-07-08T23:51:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7723"
}
```



---

archive/issue_comments_003480.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAlso, still an error:\n\n```\nsage: P1.<t> = QQ[].fraction_field()\n  File \"<ipython-input-1-4fe507ca8d97>\", line 1\n    P1 = QQ[].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)\n            ^\nSyntaxError: invalid syntax\n\nsage: P1.<t> = FractionField(QQ[])\n  File \"<ipython-input-2-301ad9082694>\", line 1\n    P1 = FractionField(QQ[], names=('t',)); (t,) = P1._first_ngens(1)\n                          ^\nSyntaxError: invalid syntax\n```",
    "created_at": "2020-07-08T23:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3480",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

Also, still an error:

```
sage: P1.<t> = QQ[].fraction_field()
  File "<ipython-input-1-4fe507ca8d97>", line 1
    P1 = QQ[].fraction_field(names=('t',)); (t,) = P1._first_ngens(1)
            ^
SyntaxError: invalid syntax

sage: P1.<t> = FractionField(QQ[])
  File "<ipython-input-2-301ad9082694>", line 1
    P1 = FractionField(QQ[], names=('t',)); (t,) = P1._first_ngens(1)
                          ^
SyntaxError: invalid syntax
```



---

archive/issue_comments_003481.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@tscrim](#comment:22):\n> That is not true. It is not about a lack of function fields but about an easy way to construct them with a variable.\n\nWhen this ticket was created, I guess this was not available:\n\n```\nsage: R.<t> = FunctionField(QQ)\n```\nwhich is \"a convenient way of constructing a rational function field with a named variable.\" \n\n> Right now it is a two-step process:\n> \n> ```\n> sage: R = QQ['t'].fraction_field()\n> sage: t = R.gen()\n> ```\n> This ticket is about combining that into 1 step using our modified syntactic sugar.\n\nTherefore I think there is no need now to do that combining. \n\nNow this also works (perhaps didn't work at that time):\n\n```\nsage: P.<t> = QQ[]\nsage: f = t/(1-t)\nsage: f\n-t/(t - 1)\nsage: f.parent()\nFraction Field of Univariate Polynomial Ring in t over Rational Field\n```\nThen why need to get the generator of the fraction field(=function field)?",
    "created_at": "2020-07-09T01:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3481",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@tscrim](#comment:22):
> That is not true. It is not about a lack of function fields but about an easy way to construct them with a variable.

When this ticket was created, I guess this was not available:

```
sage: R.<t> = FunctionField(QQ)
```
which is "a convenient way of constructing a rational function field with a named variable." 

> Right now it is a two-step process:
> 
> ```
> sage: R = QQ['t'].fraction_field()
> sage: t = R.gen()
> ```
> This ticket is about combining that into 1 step using our modified syntactic sugar.

Therefore I think there is no need now to do that combining. 

Now this also works (perhaps didn't work at that time):

```
sage: P.<t> = QQ[]
sage: f = t/(1-t)
sage: f
-t/(t - 1)
sage: f.parent()
Fraction Field of Univariate Polynomial Ring in t over Rational Field
```
Then why need to get the generator of the fraction field(=function field)?



---

archive/issue_comments_003482.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@kwankyu](#comment:24):\n> Replying to [@tscrim](#comment:22):\n> > That is not true. It is not about a lack of function fields but about an easy way to construct them with a variable.\n\n> \n> When this ticket was created, I guess this was not available:\n> \n> ```\n> sage: R.<t> = FunctionField(QQ)\n> ```\n> which is \"a convenient way of constructing a rational function field with a named variable.\" \n\nThe next thing I would want to try would be to get a multivariate fraction field, which doesn't work using that construction. (See also [comment:12](#comment:12).)\n\nAlthough that does give an idea for extending the `FractionField(R)` to not just ignore the `names` parameter, but instead create the polynomial ring over the `R`. This would make it similar to `FunctionField`.\n\n> > Right now it is a two-step process:\n> > \n> > ```\n> > sage: R = QQ['t'].fraction_field()\n> > sage: t = R.gen()\n> > ```\n> > This ticket is about combining that into 1 step using our modified syntactic sugar.\n\n> \n> Therefore I think there is no need now to do that combining. \n> \n> Now this also works (perhaps didn't work at that time):\n> \n> ```\n> sage: P.<t> = QQ[]\n> sage: f = t/(1-t)\n> sage: f\n> -t/(t - 1)\n> sage: f.parent()\n> Fraction Field of Univariate Polynomial Ring in t over Rational Field\n> ```\n> Then why need to get the generator of the fraction field(=function field)?\n\nBecause if it was a polynomial, it would have different methods and not as easy to ducktype. This can be a bit annoying in code when you do something with division sometimes but not every time (say, `t^n for n in [-1,0,1]`). So I do the two steps in my personal code when this shows up. There also is a mild issue of having to do the conversions to the fraction field, which adds a bit of time but usually not significantly more.",
    "created_at": "2020-07-09T01:46:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3482",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@kwankyu](#comment:24):
> Replying to [@tscrim](#comment:22):
> > That is not true. It is not about a lack of function fields but about an easy way to construct them with a variable.

> 
> When this ticket was created, I guess this was not available:
> 
> ```
> sage: R.<t> = FunctionField(QQ)
> ```
> which is "a convenient way of constructing a rational function field with a named variable." 

The next thing I would want to try would be to get a multivariate fraction field, which doesn't work using that construction. (See also [comment:12](#comment:12).)

Although that does give an idea for extending the `FractionField(R)` to not just ignore the `names` parameter, but instead create the polynomial ring over the `R`. This would make it similar to `FunctionField`.

> > Right now it is a two-step process:
> > 
> > ```
> > sage: R = QQ['t'].fraction_field()
> > sage: t = R.gen()
> > ```
> > This ticket is about combining that into 1 step using our modified syntactic sugar.

> 
> Therefore I think there is no need now to do that combining. 
> 
> Now this also works (perhaps didn't work at that time):
> 
> ```
> sage: P.<t> = QQ[]
> sage: f = t/(1-t)
> sage: f
> -t/(t - 1)
> sage: f.parent()
> Fraction Field of Univariate Polynomial Ring in t over Rational Field
> ```
> Then why need to get the generator of the fraction field(=function field)?

Because if it was a polynomial, it would have different methods and not as easy to ducktype. This can be a bit annoying in code when you do something with division sometimes but not every time (say, `t^n for n in [-1,0,1]`). So I do the two steps in my personal code when this shows up. There also is a mild issue of having to do the conversions to the fraction field, which adds a bit of time but usually not significantly more.



---

archive/issue_comments_003483.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@tscrim](#comment:25):\n> Replying to [@kwankyu](#comment:24):\n> > Replying to [@tscrim](#comment:22):\n> > > That is not true. It is not about a lack of function fields but about an easy way to construct them with a variable.\n\n> > \n> > When this ticket was created, I guess this was not available:\n> > \n> > ```\n> > sage: R.<t> = FunctionField(QQ)\n> > ```\n> > which is \"a convenient way of constructing a rational function field with a named variable.\" \n\n> \n> The next thing I would want to try would be to get a multivariate fraction field, which doesn't work using that construction. (See also [comment:12](#comment:12).)\n> \n> Although that does give an idea for extending the `FractionField(R)` to not just ignore the `names` parameter, but instead create the polynomial ring over the `R`. This would make it similar to `FunctionField`.\n\n`FractionField(R)` is a bad naming. It can be confused with the fraction field of `R`. `FunctionField(R)` might be better, but the name `FunctionField` seems too much associated with function fields with one variable.\n\nOn the other hand, trying to make this\n\n```\nsage: R = QQ['x,y'].fraction_field()\nsage: x,y = R.gens()\n```\nto a one-step process by some syntatic sugar seems to have no good solution. \n\nI would suggest to close this ticket and open a new one with an achievable goal.",
    "created_at": "2020-07-09T05:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3483",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@tscrim](#comment:25):
> Replying to [@kwankyu](#comment:24):
> > Replying to [@tscrim](#comment:22):
> > > That is not true. It is not about a lack of function fields but about an easy way to construct them with a variable.

> > 
> > When this ticket was created, I guess this was not available:
> > 
> > ```
> > sage: R.<t> = FunctionField(QQ)
> > ```
> > which is "a convenient way of constructing a rational function field with a named variable." 

> 
> The next thing I would want to try would be to get a multivariate fraction field, which doesn't work using that construction. (See also [comment:12](#comment:12).)
> 
> Although that does give an idea for extending the `FractionField(R)` to not just ignore the `names` parameter, but instead create the polynomial ring over the `R`. This would make it similar to `FunctionField`.

`FractionField(R)` is a bad naming. It can be confused with the fraction field of `R`. `FunctionField(R)` might be better, but the name `FunctionField` seems too much associated with function fields with one variable.

On the other hand, trying to make this

```
sage: R = QQ['x,y'].fraction_field()
sage: x,y = R.gens()
```
to a one-step process by some syntatic sugar seems to have no good solution. 

I would suggest to close this ticket and open a new one with an achievable goal.



---

archive/issue_comments_003484.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@kwankyu](#comment:26):\n> Replying to [@tscrim](#comment:25):\n> > Although that does give an idea for extending the `FractionField(R)` to not just ignore the `names` parameter, but instead create the polynomial ring over the `R`. This would make it similar to `FunctionField`.\n\n> \n> `FractionField(R)` is a bad naming. It can be confused with the fraction field of `R`. `FunctionField(R)` might be better, but the name `FunctionField` seems too much associated with function fields with one variable.\n\nThat is a good point.\n\n> On the other hand, trying to make this\n> \n> ```\n> sage: R = QQ['x,y'].fraction_field()\n> sage: x,y = R.gens()\n> ```\n> to a one-step process by some syntatic sugar seems to have no good solution. \n\nAlthough you can do this:\n\n```\nsage: R.<x,y> = FractionField(QQ['x,y'])\n```\nwhich is a bit of an abuse with some redundancy. However, it is a one-line thing.\n\n> I would suggest to close this ticket and open a new one with an achievable goal.\n\nI don't think that is a reason to close the ticket (I also disagree with your assessment that it is unachievable). Even still, this ticket could be recycled as the discussion above could prove useful to that effort.",
    "created_at": "2020-07-09T23:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3484",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@kwankyu](#comment:26):
> Replying to [@tscrim](#comment:25):
> > Although that does give an idea for extending the `FractionField(R)` to not just ignore the `names` parameter, but instead create the polynomial ring over the `R`. This would make it similar to `FunctionField`.

> 
> `FractionField(R)` is a bad naming. It can be confused with the fraction field of `R`. `FunctionField(R)` might be better, but the name `FunctionField` seems too much associated with function fields with one variable.

That is a good point.

> On the other hand, trying to make this
> 
> ```
> sage: R = QQ['x,y'].fraction_field()
> sage: x,y = R.gens()
> ```
> to a one-step process by some syntatic sugar seems to have no good solution. 

Although you can do this:

```
sage: R.<x,y> = FractionField(QQ['x,y'])
```
which is a bit of an abuse with some redundancy. However, it is a one-line thing.

> I would suggest to close this ticket and open a new one with an achievable goal.

I don't think that is a reason to close the ticket (I also disagree with your assessment that it is unachievable). Even still, this ticket could be recycled as the discussion above could prove useful to that effort.



---

archive/issue_comments_003485.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@tscrim](#comment:27):\n \n> Although you can do this:\n> \n> ```\n> sage: R.<x,y> = FractionField(QQ['x,y'])\n> ```\n> which is a bit of an abuse with some redundancy. However, it is a one-line thing.\n\nAh. So there is already a convenient method to create function fields of several variables.\n\n> I also disagree with your assessment that it is unachievable.\n\nI am at the point of not understanding what you have in mind.  \n\n> Even still, this ticket could be recycled as the discussion above could prove useful to that effort.\n\nOkay. No problem. Just please make the ticket description reflect the final solution.",
    "created_at": "2020-07-10T00:42:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3485",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@tscrim](#comment:27):
 
> Although you can do this:
> 
> ```
> sage: R.<x,y> = FractionField(QQ['x,y'])
> ```
> which is a bit of an abuse with some redundancy. However, it is a one-line thing.

Ah. So there is already a convenient method to create function fields of several variables.

> I also disagree with your assessment that it is unachievable.

I am at the point of not understanding what you have in mind.  

> Even still, this ticket could be recycled as the discussion above could prove useful to that effort.

Okay. No problem. Just please make the ticket description reflect the final solution.



---

archive/issue_events_007724.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-07-10T00:42:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7724"
}
```



---

archive/issue_events_007725.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7725"
}
```



---

archive/issue_events_007726.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7726"
}
```



---

archive/issue_events_007727.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7727"
}
```



---

archive/issue_events_007728.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7728"
}
```



---

archive/issue_comments_003486.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3486",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_007729.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7729"
}
```



---

archive/issue_events_007730.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7730"
}
```



---

archive/issue_comments_003487.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/807#issuecomment-3487",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_007731.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7731"
}
```



---

archive/issue_events_007732.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7732"
}
```



---

archive/issue_events_007733.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7733"
}
```



---

archive/issue_events_007734.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7734"
}
```



---

archive/issue_events_007735.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7735"
}
```



---

archive/issue_events_007736.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/807",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/807#event-7736"
}
```
