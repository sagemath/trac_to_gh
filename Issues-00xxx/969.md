# Issue 969: [with link to new spkg] cvxopt miscompiled on OSX ppc

archive/issues_000969.json:
```json
{
    "body": "\n```\nOn 10/22/07, Hamptonio <hamptonio@gmail.com> wrote:\n> I had the following failure from \"make test\",  from devel/sage-main/\n> sage/numerical/test.py.  I'm guessing its from the convoluted history\n> of my fortran installs on that machine (a powerpc apple powerbook):\n\nYou're right.  We added some doctests in test.py to specifically\ntest that all the convex optimization code really got built.\nEvidently it didn't for you.  If you aren't doing convex optimization\n(via cvxopt) this won't affect you. \n\nBy the way, I am able to replicate exactly this problem on my powerpc mac test machine.\n\n> sage -t  devel/sage-main/sage/numerical/test.py\n> **********************************************************************\n> File \"test.py\", line 4:\n>     : from cvxopt.base import *\n> Exception raised:\n>     Traceback (most recent call last):\n>       File \"/Users/mh/sage-2.8.4.1/local/lib/python2.5/doctest.py\",\n> line 1212, in __run\n>         compileflags, 1) in test.globs\n>       File \"<doctest __main__.example_0[0]>\", line 1, in <module>\n>         from cvxopt.base import *###line 4:\n>     : from cvxopt.base import *\n>     ImportError: dlopen(/Users/mh/sage-2.8.4.1/local/lib/python/site-\n> packages/cvxopt/base.so, 2): Symbol not found: __g95_ioparm\n>       Referenced from: /Users/mh/sage-2.8.4.1/local/lib/python/site-\n> packages/cvxopt/base.so\n>       Expected in: dynamic lookup\n> \n> **********************************************************************\n> File \"test.py\", line 5:\n>     : from cvxopt import umfpack\n> Exception raised:\n>     Traceback (most recent call last):\n>       File \"/Users/mh/sage-2.8.4.1/local/lib/python2.5/doctest.py\",\n> line 1212, in __run\n>         compileflags, 1) in test.globs\n>       File \"<doctest __main__.example_0[1]>\", line 1, in <module>\n>         from cvxopt import umfpack###line 5:\n>     : from cvxopt import umfpack\n>     ImportError: dlopen(/Users/mh/sage-2.8.4.1/local/lib/python/site-\n> packages/cvxopt/umfpack.so, 2): Symbol not found: __g95_st_write_done\n>       Referenced from: /Users/mh/sage-2.8.4.1/local/lib/python/site-\n> packages/cvxopt/umfpack.so\n>       Expected in: dynamic lookup\n> \n> **********************************************************************\n> 1 items had failures:\n>    2 of   8 in __main__.example_0\n> ***Test Failed*** 2 failures.\n> \n> On Oct 21, 3:03 pm, \"John Cremona\" <john.crem...@gmail.com> wrote:\n> > Successfully upgraded to 2.8.8.1 on linux (Kubuntu 7.04):\n> >\n> > sage --testall\n> > (...)\n> >\n> > All tests passed!\n> > Total time for all tests: 1978.6 seconds\n> >\n> > John Cremona\n> \n> \n> --~--~---------~--~----~------------~-------~--~----~\n> To post to this group, send email to sage-devel@googlegroups.com\n> To unsubscribe from this group, send email to sage-devel-unsubscribe@googlegroups.com\n> For more options, visit this group at http://groups.google.com/group/sage-devel\n> URLs: http://sage.scipy.org/sage/ and http://modular.math.washington.edu/sage/\n> -~----------~----~----~----~------~----~------~--~---\n> \n> \n\n\n-- \nWilliam Stein\nAssociate Professor of Mathematics\nUniversity of Washington\nhttp://wstein.org\n```\n\n**Assignee:** @williamstein\n\nIssue created by migration from https://trac.sagemath.org/ticket/969\n\n",
    "closed_at": "2007-11-01T10:17:18Z",
    "created_at": "2007-10-22T15:16:01Z",
    "labels": [
        "component: numerical",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-2.8.11",
    "title": "[with link to new spkg] cvxopt miscompiled on OSX ppc",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/969",
    "user": "https://github.com/williamstein"
}
```

```
On 10/22/07, Hamptonio <hamptonio@gmail.com> wrote:
> I had the following failure from "make test",  from devel/sage-main/
> sage/numerical/test.py.  I'm guessing its from the convoluted history
> of my fortran installs on that machine (a powerpc apple powerbook):

You're right.  We added some doctests in test.py to specifically
test that all the convex optimization code really got built.
Evidently it didn't for you.  If you aren't doing convex optimization
(via cvxopt) this won't affect you. 

By the way, I am able to replicate exactly this problem on my powerpc mac test machine.

> sage -t  devel/sage-main/sage/numerical/test.py
> **********************************************************************
> File "test.py", line 4:
>     : from cvxopt.base import *
> Exception raised:
>     Traceback (most recent call last):
>       File "/Users/mh/sage-2.8.4.1/local/lib/python2.5/doctest.py",
> line 1212, in __run
>         compileflags, 1) in test.globs
>       File "<doctest __main__.example_0[0]>", line 1, in <module>
>         from cvxopt.base import *###line 4:
>     : from cvxopt.base import *
>     ImportError: dlopen(/Users/mh/sage-2.8.4.1/local/lib/python/site-
> packages/cvxopt/base.so, 2): Symbol not found: __g95_ioparm
>       Referenced from: /Users/mh/sage-2.8.4.1/local/lib/python/site-
> packages/cvxopt/base.so
>       Expected in: dynamic lookup
> 
> **********************************************************************
> File "test.py", line 5:
>     : from cvxopt import umfpack
> Exception raised:
>     Traceback (most recent call last):
>       File "/Users/mh/sage-2.8.4.1/local/lib/python2.5/doctest.py",
> line 1212, in __run
>         compileflags, 1) in test.globs
>       File "<doctest __main__.example_0[1]>", line 1, in <module>
>         from cvxopt import umfpack###line 5:
>     : from cvxopt import umfpack
>     ImportError: dlopen(/Users/mh/sage-2.8.4.1/local/lib/python/site-
> packages/cvxopt/umfpack.so, 2): Symbol not found: __g95_st_write_done
>       Referenced from: /Users/mh/sage-2.8.4.1/local/lib/python/site-
> packages/cvxopt/umfpack.so
>       Expected in: dynamic lookup
> 
> **********************************************************************
> 1 items had failures:
>    2 of   8 in __main__.example_0
> ***Test Failed*** 2 failures.
> 
> On Oct 21, 3:03 pm, "John Cremona" <john.crem...@gmail.com> wrote:
> > Successfully upgraded to 2.8.8.1 on linux (Kubuntu 7.04):
> >
> > sage --testall
> > (...)
> >
> > All tests passed!
> > Total time for all tests: 1978.6 seconds
> >
> > John Cremona
> 
> 
> --~--~---------~--~----~------------~-------~--~----~
> To post to this group, send email to sage-devel@googlegroups.com
> To unsubscribe from this group, send email to sage-devel-unsubscribe@googlegroups.com
> For more options, visit this group at http://groups.google.com/group/sage-devel
> URLs: http://sage.scipy.org/sage/ and http://modular.math.washington.edu/sage/
> -~----------~----~----~----~------~----~------~--~---
> 
> 


-- 
William Stein
Associate Professor of Mathematics
University of Washington
http://wstein.org
```

**Assignee:** @williamstein

Issue created by migration from https://trac.sagemath.org/ticket/969





---

archive/issue_comments_004494.json:
```json
{
    "body": "<a id='comment:1'></a>\nNOTE -- this is definitely *not* fixed yet.  With my clean sage-2.8.9 install\non my 32-bit debian test machine this happens upon typing \n\nfrom cvxopt import solvers\n\n\n\nSpecifically there's a bug report about this from lwd8700 at yahoo in sage-support. \n\nWilliam",
    "created_at": "2007-10-27T00:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/969#issuecomment-4494",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'></a>
NOTE -- this is definitely *not* fixed yet.  With my clean sage-2.8.9 install
on my 32-bit debian test machine this happens upon typing 

from cvxopt import solvers



Specifically there's a bug report about this from lwd8700 at yahoo in sage-support. 

William



---

archive/issue_comments_004495.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe issue has been fixed upstream:\n\n```\nWe recently became aware of the build-problems on OSX.  The fixes are\nincluded in the next release of\nCVXOPT (>0.9).\n\nJoachim\n```\n\nCheers,\n\nMichael",
    "created_at": "2007-10-28T12:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/969#issuecomment-4495",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
The issue has been fixed upstream:

```
We recently became aware of the build-problems on OSX.  The fixes are
included in the next release of
CVXOPT (>0.9).

Joachim
```

Cheers,

Michael



---

archive/issue_comments_004496.json:
```json
{
    "body": "<a id='comment:3'></a>\nJosh Kantor has created an updated cvxopt that fixes these problems:\n\nhttp://sage.math.washington.edu/home/jkantor/spkgs/cvxopt-0.8.2.p3.spkg",
    "created_at": "2007-10-29T05:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/969#issuecomment-4496",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'></a>
Josh Kantor has created an updated cvxopt that fixes these problems:

http://sage.math.washington.edu/home/jkantor/spkgs/cvxopt-0.8.2.p3.spkg



---

archive/issue_events_004527.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-10-29T05:36:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "rename": {
        "from": "cvxopt miscompiled on OSX ppc",
        "to": "[with link to new spkg] cvxopt miscompiled on OSX ppc"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/969#event-4527"
}
```



---

archive/issue_events_004528.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-10-29T05:36:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/969#event-4528"
}
```



---

archive/issue_events_004529.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-10-29T05:47:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "milestone": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/969#event-4529"
}
```



---

archive/issue_events_004530.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-10-29T05:47:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "milestone": "sage-2.8.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/969#event-4530"
}
```



---

archive/issue_comments_004497.json:
```json
{
    "body": "<a id='comment:5'></a>\napplied to 2.8.11.alpha0. I also updated the patch level to \"4\" and cleanup up a little in the spkg itself.\n\nCheers,\n\nMichael",
    "created_at": "2007-11-01T10:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/969#issuecomment-4497",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:5'></a>
applied to 2.8.11.alpha0. I also updated the patch level to "4" and cleanup up a little in the spkg itself.

Cheers,

Michael



---

archive/issue_events_004531.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-11-01T10:17:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/969",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/969#event-4531"
}
```
