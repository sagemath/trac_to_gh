# Issue 164: doctests dependence thing

archive/issues_000164.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "It would be nice if, when one line of a doctest fails, then the doctest doesn't run the rest of that \"example block\". What tends to happen is e.g. one line fails, so then a bunch of variables aren't defined, and then you get tons of garbage in your doctest output, which is hard to sift through. After the first failure, it would be good if it would just stop there, and move onto the next example. (Or at least if there was an option for this behaviour.)\n\nReviewer: **Jeroen Demeyer**\n\nComponent: **doctest framework**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/164_\n\n",
    "closed_at": "2013-06-19T12:21:45Z",
    "created_at": "2006-10-29T23:07:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "doctests dependence thing",
    "type": "issue",
    "updated_at": "2013-06-19T12:21:45Z",
    "url": "https://github.com/sagemath/sage/issues/164",
    "user": "https://github.com/sagetrac-dmharvey"
}
```
It would be nice if, when one line of a doctest fails, then the doctest doesn't run the rest of that "example block". What tends to happen is e.g. one line fails, so then a bunch of variables aren't defined, and then you get tons of garbage in your doctest output, which is hard to sift through. After the first failure, it would be good if it would just stop there, and move onto the next example. (Or at least if there was an option for this behaviour.)

Reviewer: **Jeroen Demeyer**

Component: **doctest framework**

_Issue created by migration from https://trac.sagemath.org/ticket/164_





---

archive/issue_events_001166.json:
```json
{
    "actor": "https://github.com/sagetrac-dmharvey",
    "created_at": "2006-10-29T23:07:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1166"
}
```



---

archive/issue_events_001167.json:
```json
{
    "actor": "https://github.com/sagetrac-dmharvey",
    "created_at": "2006-10-29T23:07:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1167"
}
```



---

archive/issue_events_001168.json:
```json
{
    "actor": "https://github.com/sagetrac-dmharvey",
    "created_at": "2006-10-29T23:07:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1168"
}
```



---

archive/issue_events_001169.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2006-10-29T23:07:46Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "subject": "https://github.com/sagetrac-dmharvey",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1169"
}
```



---

archive/issue_comments_000503.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nDoctest is a completely standard Python module.  I didn't write it.  Maybe you\nshould look at the documentation and see if it has the feature you want already.\nIf not, you could propose it to the Python people (e.g., as a PEP).  This \nisn't really a SAGE question.",
    "created_at": "2006-11-06T06:46:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/164#issuecomment-503",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:1" align="right">comment:1</div>

Doctest is a completely standard Python module.  I didn't write it.  Maybe you
should look at the documentation and see if it has the feature you want already.
If not, you could propose it to the Python people (e.g., as a PEP).  This 
isn't really a SAGE question.



---

archive/issue_events_001170.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-09-11T02:15:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1170"
}
```



---

archive/issue_comments_000504.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nDoes [nose](https://github.com/sagemath/sage/issues/9921) have a better way of handling this (not that we could switch to that anytime soon)?  I thought about, but decided against, making this \"wontfix\" after six years - it WOULD be nice.  Comments?",
    "created_at": "2013-01-29T20:31:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/164#issuecomment-504",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

Does [nose](https://github.com/sagemath/sage/issues/9921) have a better way of handling this (not that we could switch to that anytime soon)?  I thought about, but decided against, making this "wontfix" after six years - it WOULD be nice.  Comments?



---

archive/issue_events_001171.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1171"
}
```



---

archive/issue_comments_000505.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe new doctest option `sage -t --initial` sort of does this: it shows only the first failure in a doctest block. It's an *option* which needs to be specified explicitly but I think that's sufficient.",
    "created_at": "2013-06-13T12:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/164#issuecomment-505",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

The new doctest option `sage -t --initial` sort of does this: it shows only the first failure in a doctest block. It's an *option* which needs to be specified explicitly but I think that's sufficient.



---

archive/issue_comments_000506.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2013-06-13T12:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/164#issuecomment-506",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_001172.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1172"
}
```



---

archive/issue_events_001173.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
    "label_color": "000080",
    "label_name": "c: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1173"
}
```



---

archive/issue_events_001174.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1174"
}
```



---

archive/issue_events_001175.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1175"
}
```



---

archive/issue_events_001176.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1176"
}
```



---

archive/issue_events_001177.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1177"
}
```



---

archive/issue_events_001178.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-13T12:20:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1178"
}
```



---

archive/issue_events_001179.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:21:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1179"
}
```



---

archive/issue_events_001180.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:21:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1180"
}
```



---

archive/issue_events_001181.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-19T12:21:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/164",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/164#event-1181"
}
```
