# Issue 717: [With patch] sage -t timeout stuff works poorly

archive/issues_000717.json:
```json
{
    "assignees": [
        "https://github.com/garyfurnish"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nIssues:\n1. I can't actually find anywhere in sage-doctest right now where the two alarm codes are actually used, so SAGE should never timeout.  Weird.\n2. It should be easy for users to adjust the timeout, e.g., on slow systems.\n\n\nComponent: **doctest coverage**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/717_\n\n",
    "closed_at": "2008-12-05T07:38:52Z",
    "created_at": "2007-09-20T20:07:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.2.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "[With patch] sage -t timeout stuff works poorly",
    "type": "issue",
    "updated_at": "2008-12-05T07:38:52Z",
    "url": "https://github.com/sagemath/sage/issues/717",
    "user": "https://github.com/williamstein"
}
```
<div id="comment:0"></div>

Issues:
1. I can't actually find anywhere in sage-doctest right now where the two alarm codes are actually used, so SAGE should never timeout.  Weird.
2. It should be easy for users to adjust the timeout, e.g., on slow systems.


Component: **doctest coverage**

_Issue created by migration from https://trac.sagemath.org/ticket/717_





---

archive/issue_events_006571.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-20T20:07:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "milestone_number": null,
    "milestone_title": "sage-2.8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6571"
}
```



---

archive/issue_events_006572.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-20T20:07:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6572"
}
```



---

archive/issue_events_006573.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-20T20:07:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6573"
}
```



---

archive/issue_events_006574.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-20T20:07:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6574"
}
```



---

archive/issue_events_006575.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-21T02:30:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "milestone_number": null,
    "milestone_title": "sage-2.8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6575"
}
```



---

archive/issue_events_006576.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-21T02:30:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6576"
}
```



---

archive/issue_events_006577.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-12-04T14:17:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "milestone_number": null,
    "milestone_title": "sage-2.10.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6577"
}
```



---

archive/issue_events_006578.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-12-04T14:17:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6578"
}
```



---

archive/issue_comments_002953.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis has annoyed me on regular occasions, so let's fix this.\n\nCheers,\n\nMichael",
    "created_at": "2007-12-04T14:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2953",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:2" align="right">comment:2</div>

This has annoyed me on regular occasions, so let's fix this.

Cheers,

Michael



---

archive/issue_comments_002954.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe third part of the ticket, i.e. 'sage --long\" should automatically have a much longer timeout' is  now now #2029.\n\nCheers,\n\nMichael",
    "created_at": "2008-02-02T04:31:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2954",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">comment:3</div>

The third part of the ticket, i.e. 'sage --long" should automatically have a much longer timeout' is  now now #2029.

Cheers,

Michael



---

archive/issue_comments_002955.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Issues:\n 1. I can't actually find anywhere in sage-doctest right now where the two alarm codes are actually used, so SAGE should never timeout.  Weird.\n 2. It should be easy for users to adjust the timeout, e.g., on slow systems.\n-3. \"sage --long\" should automatically have a much longer timeout.\n+\n``````\n",
    "created_at": "2008-02-02T04:31:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2955",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Issues:
 1. I can't actually find anywhere in sage-doctest right now where the two alarm codes are actually used, so SAGE should never timeout.  Weird.
 2. It should be easy for users to adjust the timeout, e.g., on slow systems.
-3. "sage --long" should automatically have a much longer timeout.
+
``````




---

archive/issue_comments_002956.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nFYI, but this is probably orthogonal to the doctesting and more has to do with signal delivery.\n\nCheers,\n\nMichael",
    "created_at": "2008-12-05T05:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2956",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

FYI, but this is probably orthogonal to the doctesting and more has to do with signal delivery.

Cheers,

Michael



---

archive/issue_comments_002957.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[trac_717_bin.patch.gz](https://github.com/sagemath/sage/files/ticket717/trac_717_bin.patch.gz)**\n\nThis code enables timeouts.",
    "created_at": "2008-12-05T06:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2957",
    "user": "https://github.com/garyfurnish"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[trac_717_bin.patch.gz](https://github.com/sagemath/sage/files/ticket717/trac_717_bin.patch.gz)**

This code enables timeouts.



---

archive/issue_events_006579.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-12-05T06:24:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "title_is": "[With patch] sage -t timeout stuff works poorly",
    "title_was": "sage -t timeout stuff works poorly",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6579"
}
```



---

archive/issue_events_006580.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-12-05T06:24:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6580"
}
```



---

archive/issue_events_006581.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-12-05T06:24:56Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "subject": "https://github.com/garyfurnish",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6581"
}
```



---

archive/issue_comments_002958.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPatch looks with one tiny exception:\n\n```\n[10:25pm] mab|ds9: one suggestions: raise the sleep period to 1 second: time.sleep(.1)\n[10:25pm] gfurnish: feel free to make the modification\n[10:25pm] mab|ds9: I think we can live with that.\n[10:25pm] mab|ds9: mk\n```\nI will move item (2) to its own ticket since it is not addressed here.\n\nCheers,\n\nMichael",
    "created_at": "2008-12-05T06:33:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2958",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">comment:6</div>

Patch looks with one tiny exception:

```
[10:25pm] mab|ds9: one suggestions: raise the sleep period to 1 second: time.sleep(.1)
[10:25pm] gfurnish: feel free to make the modification
[10:25pm] mab|ds9: I think we can live with that.
[10:25pm] mab|ds9: mk
```
I will move item (2) to its own ticket since it is not addressed here.

Cheers,

Michael



---

archive/issue_comments_002959.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis works very nicely. Positive review. \n\n(2) has been moved to #4712.\n\nCheers,\n\nMichael",
    "created_at": "2008-12-05T07:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2959",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:7" align="right">comment:7</div>

This works very nicely. Positive review. 

(2) has been moved to #4712.

Cheers,

Michael



---

archive/issue_events_006582.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-05T07:38:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6582"
}
```



---

archive/issue_events_006583.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-05T07:38:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6583"
}
```



---

archive/issue_events_006584.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-05T07:38:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6584"
}
```



---

archive/issue_events_006585.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-05T07:38:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/717#event-6585"
}
```



---

archive/issue_comments_002960.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nMerged in Sage 3.2.2.alpha0",
    "created_at": "2008-12-05T07:38:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/717#issuecomment-2960",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:8" align="right">comment:8</div>

Merged in Sage 3.2.2.alpha0
