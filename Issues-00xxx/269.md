# Issue 269: Add __mod__ to coercion model

archive/issues_000269.json:
```json
{
    "assignees": [],
    "body": "Add `__mod__` to the coercion model for `Element` and change `__mod__` to `_mod_` where applicable.\n\nWe change the behaviour of `__mod__` for integer mod rings: the following (which is mathematically meaningless) is now an error:\n\n```\n             sage: a = next_prime(2**31)\n             sage: b = Integers(a)(100)\n             sage: a % b\n             Traceback (most recent call last):\n             ...\n             ZeroDivisionError: reduction modulo 100 not defined\n```\n\nApart from this, this branch does not change any semantics of remaindering.\n\nAs proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:\n1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n2. The prototype is `cpdef _mod_(self, other)` with no typing for the arguments or return value.\n3. We do not implement the in-place `__imod__` which is useless anyway with coercion.\n\nMy intention is that eventually all arithmetic methods should be implemented like `__mod__`.\n\n**CC:**  @videlec\n\n**Branch/Commit:** [aca3398a81b3688e1f2e69c5910b8214d13be925](https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/269\n\n",
    "closed_at": "2016-07-27T20:24:59Z",
    "created_at": "2007-02-17T22:43:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20coercion",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add __mod__ to coercion model",
    "type": "issue",
    "updated_at": "2016-07-27T20:24:59Z",
    "url": "https://github.com/sagemath/sage/issues/269",
    "user": "https://github.com/sagetrac-dmharvey"
}
```
Add `__mod__` to the coercion model for `Element` and change `__mod__` to `_mod_` where applicable.

We change the behaviour of `__mod__` for integer mod rings: the following (which is mathematically meaningless) is now an error:

```
             sage: a = next_prime(2**31)
             sage: b = Integers(a)(100)
             sage: a % b
             Traceback (most recent call last):
             ...
             ZeroDivisionError: reduction modulo 100 not defined
```

Apart from this, this branch does not change any semantics of remaindering.

As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:
1. `_mod_` will be added to `Element` and not `RingElement` or similar.
2. The prototype is `cpdef _mod_(self, other)` with no typing for the arguments or return value.
3. We do not implement the in-place `__imod__` which is useless anyway with coercion.

My intention is that eventually all arithmetic methods should be implemented like `__mod__`.

**CC:**  @videlec

**Branch/Commit:** [aca3398a81b3688e1f2e69c5910b8214d13be925](https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925)

**Reviewer:** Vincent Delecroix

**Author:** Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/269





---

archive/issue_events_001739.json:
```json
{
    "actor": "https://github.com/sagetrac-dmharvey",
    "created_at": "2007-02-17T22:43:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1739"
}
```



---

archive/issue_events_001740.json:
```json
{
    "actor": "https://github.com/sagetrac-dmharvey",
    "created_at": "2007-02-17T22:43:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
    "label_color": "08517b",
    "label_name": "component: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1740"
}
```



---

archive/issue_events_001741.json:
```json
{
    "actor": "https://github.com/sagetrac-dmharvey",
    "created_at": "2007-02-17T22:43:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1741"
}
```



---

archive/issue_events_001742.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-08-18T09:56:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1742"
}
```



---

archive/issue_events_001743.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-08-18T09:56:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1743"
}
```



---

archive/issue_events_001744.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2007-09-06T13:58:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-2.9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1744"
}
```



---

archive/issue_comments_000950.json:
```json
{
    "body": "Replying to [ticket:269 dmharvey]:\n> So far we only have add, sub, neg, various versions of mul, and div.\n> \n> We also need floordiv, mod, invert, pow.\n> \n> These would be very useful in p-adics, and need to happen for other reasons too.\n\nIs exact division (that is, division where the caller knows that there is no remainder) common enough to belong here?  (There's an implementation for Integer already, where the method is called divide_knowing_divisible_by() and calls mpz_divexact().)",
    "created_at": "2007-10-06T19:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-950",
    "user": "https://github.com/sagetrac-cwitty"
}
```

Replying to [ticket:269 dmharvey]:
> So far we only have add, sub, neg, various versions of mul, and div.
> 
> We also need floordiv, mod, invert, pow.
> 
> These would be very useful in p-adics, and need to happen for other reasons too.

Is exact division (that is, division where the caller knows that there is no remainder) common enough to belong here?  (There's an implementation for Integer already, where the method is called divide_knowing_divisible_by() and calls mpz_divexact().)



---

archive/issue_comments_000951.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [cwitty](#comment%3A3):\n> Replying to [ticket:269 dmharvey]:\n> > So far we only have add, sub, neg, various versions of mul, and div.\n> > \n> > We also need floordiv, mod, invert, pow.\n> > \n> > These would be very useful in p-adics, and need to happen for other reasons too.\n\n> \n> Is exact division (that is, division where the caller knows that there is no remainder) common enough to belong here?  (There's an implementation for Integer already, where the method is called divide_knowing_divisible_by() and calls mpz_divexact().)\n\nI definitely think that exact division should be included in the arithmetic architecture.  This is not because it's common, but because there is a bunch of daft coercion code in most !__floordiv!__ implementations.  All this needs to be fixed and the fix is a common boiler-plate prefix on these functions.  Or, a much better alternative is to include it in the arithmetic hierarchy and write that boilerplate coercion once at the head of the tree.\n\nI think that gcd (and maybe xgcd) should also be on this list.",
    "created_at": "2008-03-19T12:08:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-951",
    "user": "https://github.com/sagetrac-jbmohler"
}
```

<a id='comment:4'></a>
Replying to [cwitty](#comment%3A3):
> Replying to [ticket:269 dmharvey]:
> > So far we only have add, sub, neg, various versions of mul, and div.
> > 
> > We also need floordiv, mod, invert, pow.
> > 
> > These would be very useful in p-adics, and need to happen for other reasons too.

> 
> Is exact division (that is, division where the caller knows that there is no remainder) common enough to belong here?  (There's an implementation for Integer already, where the method is called divide_knowing_divisible_by() and calls mpz_divexact().)

I definitely think that exact division should be included in the arithmetic architecture.  This is not because it's common, but because there is a bunch of daft coercion code in most !__floordiv!__ implementations.  All this needs to be fixed and the fix is a common boiler-plate prefix on these functions.  Or, a much better alternative is to include it in the arithmetic hierarchy and write that boilerplate coercion once at the head of the tree.

I think that gcd (and maybe xgcd) should also be on this list.



---

archive/issue_comments_000952.json:
```json
{
    "body": "<a id='comment:5'></a>\nOh, and quo_rem should be here too -- #383",
    "created_at": "2008-03-19T12:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-952",
    "user": "https://github.com/sagetrac-jbmohler"
}
```

<a id='comment:5'></a>
Oh, and quo_rem should be here too -- #383



---

archive/issue_events_001745.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1745"
}
```



---

archive/issue_events_001746.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1746"
}
```



---

archive/issue_events_001747.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1747"
}
```



---

archive/issue_events_001748.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1748"
}
```



---

archive/issue_events_001749.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1749"
}
```



---

archive/issue_events_001750.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1750"
}
```



---

archive/issue_events_001751.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1751"
}
```



---

archive/issue_events_001752.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1752"
}
```



---

archive/issue_comments_000953.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1 @@\n-So far we only have add, sub, neg, various versions of mul, and div.\n-\n-We also need floordiv, mod, invert, pow.\n-\n-These would be very useful in p-adics, and need to happen for other reasons too.\n-\n+For `__floordiv__`, see also #2034\n``````\n",
    "created_at": "2014-09-02T08:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-953",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1 @@
-So far we only have add, sub, neg, various versions of mul, and div.
-
-We also need floordiv, mod, invert, pow.
-
-These would be very useful in p-adics, and need to happen for other reasons too.
-
+For `__floordiv__`, see also #2034
``````




---

archive/issue_events_001753.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T08:53:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "rename": {
        "from": "add floordiv, mod, invert, pow to arithmetic architecture (at least in RingElement)",
        "to": "Add floordiv and mod to arithmetic architecture (at least in RingElement)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1753"
}
```



---

archive/issue_comments_000954.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-For `__floordiv__`, see also #2034\n+\n``````\n",
    "created_at": "2016-01-19T17:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-954",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-For `__floordiv__`, see also #2034
+
``````




---

archive/issue_events_001754.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-19T17:40:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "rename": {
        "from": "Add floordiv and mod to arithmetic architecture (at least in RingElement)",
        "to": "Add __mod__ to coercion model"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1754"
}
```



---

archive/issue_events_001755.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-19T17:40:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
    "label_color": "08517b",
    "label_name": "component: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1755"
}
```



---

archive/issue_events_001756.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-19T17:40:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20coercion",
    "label_color": "08517b",
    "label_name": "component: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1756"
}
```



---

archive/issue_events_001757.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-19T17:40:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1757"
}
```



---

archive/issue_events_001758.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-19T17:40:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1758"
}
```



---

archive/issue_comments_000955.json:
```json
{
    "body": "**Dependencies:** #2034",
    "created_at": "2016-01-21T19:56:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-955",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #2034



---

archive/issue_comments_000956.json:
```json
{
    "body": "**Author:** Jeroen Demeyer",
    "created_at": "2016-01-21T19:56:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-956",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Jeroen Demeyer



---

archive/issue_comments_000957.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+Add `__mod__` to the coercion model for `RingElement` and change `__mod__` to `_mod_` where applicable.\n \n+This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.\n``````\n",
    "created_at": "2016-01-21T20:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-957",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+Add `__mod__` to the coercion model for `RingElement` and change `__mod__` to `_mod_` where applicable.
 
+This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.
``````




---

archive/issue_comments_000958.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n-Add `__mod__` to the coercion model for `RingElement` and change `__mod__` to `_mod_` where applicable.\n+Add `__mod__` to the coercion model for `Element` and change `__mod__` to `_mod_` where applicable.\n \n This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.\n+\n+As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of different from the usual implementation:\n+1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n+2. The prototype is `cpdef _mod_(self, Element right)` with no typing for the return type.\n+3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.\n+\n+My intention is that eventually all arithmetic methods should be implemented like `__mod__`.\n``````\n",
    "created_at": "2016-01-22T09:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-958",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,10 @@
-Add `__mod__` to the coercion model for `RingElement` and change `__mod__` to `_mod_` where applicable.
+Add `__mod__` to the coercion model for `Element` and change `__mod__` to `_mod_` where applicable.
 
 This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.
+
+As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of different from the usual implementation:
+1. `_mod_` will be added to `Element` and not `RingElement` or similar.
+2. The prototype is `cpdef _mod_(self, Element right)` with no typing for the return type.
+3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.
+
+My intention is that eventually all arithmetic methods should be implemented like `__mod__`.
``````




---

archive/issue_comments_000959.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.\n \n-As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of different from the usual implementation:\n+As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:\n 1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n 2. The prototype is `cpdef _mod_(self, Element right)` with no typing for the return type.\n 3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.\n``````\n",
    "created_at": "2016-01-22T09:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-959",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.
 
-As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of different from the usual implementation:
+As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:
 1. `_mod_` will be added to `Element` and not `RingElement` or similar.
 2. The prototype is `cpdef _mod_(self, Element right)` with no typing for the return type.
 3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.
``````




---

archive/issue_comments_000960.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:\n 1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n-2. The prototype is `cpdef _mod_(self, Element right)` with no typing for the return type.\n+2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return type.\n 3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.\n \n My intention is that eventually all arithmetic methods should be implemented like `__mod__`.\n``````\n",
    "created_at": "2016-01-22T09:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-960",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:
 1. `_mod_` will be added to `Element` and not `RingElement` or similar.
-2. The prototype is `cpdef _mod_(self, Element right)` with no typing for the return type.
+2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return type.
 3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.
 
 My intention is that eventually all arithmetic methods should be implemented like `__mod__`.
``````




---

archive/issue_comments_000961.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:\n 1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n-2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return type.\n+2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return value.\n 3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.\n \n My intention is that eventually all arithmetic methods should be implemented like `__mod__`.\n``````\n",
    "created_at": "2016-01-22T09:20:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-961",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:
 1. `_mod_` will be added to `Element` and not `RingElement` or similar.
-2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return type.
+2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return value.
 3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.
 
 My intention is that eventually all arithmetic methods should be implemented like `__mod__`.
``````




---

archive/issue_comments_000962.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,6 +5,6 @@\n As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:\n 1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n 2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return value.\n-3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.\n+3. We do not implement the in-place `__imod__` which is useless anyway with coercion.\n \n My intention is that eventually all arithmetic methods should be implemented like `__mod__`.\n``````\n",
    "created_at": "2016-01-22T10:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-962",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,6 +5,6 @@
 As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:
 1. `_mod_` will be added to `Element` and not `RingElement` or similar.
 2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return value.
-3. In order to support better derived classes implementing `__mod__` but not `__imod__`, we let `_mod_` return `NotImplemented` and raise the `TypeError` in `__mod__` instead of `_mod_`.
+3. We do not implement the in-place `__imod__` which is useless anyway with coercion.
 
 My intention is that eventually all arithmetic methods should be implemented like `__mod__`.
``````




---

archive/issue_comments_000963.json:
```json
{
    "body": "<a id='comment:19'></a>\nJeroen, what is the rationale for\n\n```\ncpdef _mod_(self, Element other)\n```\ninstead of\n\n```\ncpdef Element _mod_(self, Element other)\n```\nIn a situtation like `e1._mod_(e2)._add_(e3)` Cython would be happier. No?",
    "created_at": "2016-01-22T12:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-963",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>
Jeroen, what is the rationale for

```
cpdef _mod_(self, Element other)
```
instead of

```
cpdef Element _mod_(self, Element other)
```
In a situtation like `e1._mod_(e2)._add_(e3)` Cython would be happier. No?



---

archive/issue_comments_000964.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@videlec](#comment%3A19):\n> In a situtation like `e1._mod_(e2)._add_(e3)` Cython would be happier. No?\n\nSure, but I don't know how common that is.\n\nI want to avoid unneeded checking. If you do something like\n\n```\ncpdef Element _foo_(self, other):\n    x = ...\n    return x\n```\nthen Cython will add a check that `x` is actually of type `Element`. I think (but this is just a wild guess) that the slow-down of these extra checks does not justify the few cases where the check might improve performance.",
    "created_at": "2016-01-22T12:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-964",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Replying to [@videlec](#comment%3A19):
> In a situtation like `e1._mod_(e2)._add_(e3)` Cython would be happier. No?

Sure, but I don't know how common that is.

I want to avoid unneeded checking. If you do something like

```
cpdef Element _foo_(self, other):
    x = ...
    return x
```
then Cython will add a check that `x` is actually of type `Element`. I think (but this is just a wild guess) that the slow-down of these extra checks does not justify the few cases where the check might improve performance.



---

archive/issue_comments_000965.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,17 @@\n Add `__mod__` to the coercion model for `Element` and change `__mod__` to `_mod_` where applicable.\n \n-This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.\n+We change the behaviour of `__mod__` for integer mod rings: the following (which is mathematically meaningless) is now an error:\n+\n+```\n+             sage: a = next_prime(2**31)\n+             sage: b = Integers(a)(100)\n+             sage: a % b\n+             Traceback (most recent call last):\n+             ...\n+             ZeroDivisionError: reduction modulo 100 not defined\n+```\n+\n+Apart from this, this branch does not change any semantics of remaindering.\n \n As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:\n 1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n``````\n",
    "created_at": "2016-01-22T12:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-965",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,17 @@
 Add `__mod__` to the coercion model for `Element` and change `__mod__` to `_mod_` where applicable.
 
-This does not change any semantics of remaindering, but it does fix remaindering in a few cases where coercion is involved.
+We change the behaviour of `__mod__` for integer mod rings: the following (which is mathematically meaningless) is now an error:
+
+```
+             sage: a = next_prime(2**31)
+             sage: b = Integers(a)(100)
+             sage: a % b
+             Traceback (most recent call last):
+             ...
+             ZeroDivisionError: reduction modulo 100 not defined
+```
+
+Apart from this, this branch does not change any semantics of remaindering.
 
 As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:
 1. `_mod_` will be added to `Element` and not `RingElement` or similar.
``````




---

archive/issue_comments_000966.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/add___mod___to_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___mod___to_coercion_model)",
    "created_at": "2016-01-22T13:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-966",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/add___mod___to_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___mod___to_coercion_model)



---

archive/issue_events_001759.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-22T13:24:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1759"
}
```



---

archive/issue_comments_000967.json:
```json
{
    "body": "**Commit:** [82f22e0ccd1f16dd634b77a6afe3845406b52120](https://github.com/sagemath/sagetrac-mirror/commit/82f22e0ccd1f16dd634b77a6afe3845406b52120)",
    "created_at": "2016-01-22T13:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-967",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [82f22e0ccd1f16dd634b77a6afe3845406b52120](https://github.com/sagemath/sagetrac-mirror/commit/82f22e0ccd1f16dd634b77a6afe3845406b52120)



---

archive/issue_comments_000968.json:
```json
{
    "body": "<a id='comment:23'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e8a5e386a7b9d0dc44b570136f2f1c1e9779834\">5e8a5e3</a></td><td><code>Implement `__floordiv__` in the coercion model</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/835059f776bc5c281ceddb25a567b626ccb08251\">835059f</a></td><td><code>Remove redundant `__floordiv__` from number field elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e0e5b803b339a0086ab491bec113ab7b9cd10c1\">3e0e5b8</a></td><td><code>Add more doctests for floor division</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82f22e0ccd1f16dd634b77a6afe3845406b52120\">82f22e0</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>\n",
    "created_at": "2016-01-22T13:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-968",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e8a5e386a7b9d0dc44b570136f2f1c1e9779834">5e8a5e3</a></td><td><code>Implement `__floordiv__` in the coercion model</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/835059f776bc5c281ceddb25a567b626ccb08251">835059f</a></td><td><code>Remove redundant `__floordiv__` from number field elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e0e5b803b339a0086ab491bec113ab7b9cd10c1">3e0e5b8</a></td><td><code>Add more doctests for floor division</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82f22e0ccd1f16dd634b77a6afe3845406b52120">82f22e0</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>




---

archive/issue_comments_000969.json:
```json
{
    "body": "<a id='comment:24'></a>\nDoes not apply on last beta.",
    "created_at": "2016-03-11T20:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-969",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
Does not apply on last beta.



---

archive/issue_events_001760.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-03-11T20:39:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1760"
}
```



---

archive/issue_events_001761.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-03-11T20:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1761"
}
```



---

archive/issue_comments_000970.json:
```json
{
    "body": "**Changing dependencies** from \"#2034\" to \"\".",
    "created_at": "2016-03-11T20:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-970",
    "user": "https://github.com/videlec"
}
```

**Changing dependencies** from "#2034" to "".



---

archive/issue_comments_000971.json:
```json
{
    "body": "**Changing commit** from \"[82f22e0ccd1f16dd634b77a6afe3845406b52120](https://github.com/sagemath/sagetrac-mirror/commit/82f22e0ccd1f16dd634b77a6afe3845406b52120)\" to \"[665b8d127adb812a58e77b7d698c330030390d18](https://github.com/sagemath/sagetrac-mirror/commit/665b8d127adb812a58e77b7d698c330030390d18)\".",
    "created_at": "2016-05-31T15:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-971",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[82f22e0ccd1f16dd634b77a6afe3845406b52120](https://github.com/sagemath/sagetrac-mirror/commit/82f22e0ccd1f16dd634b77a6afe3845406b52120)" to "[665b8d127adb812a58e77b7d698c330030390d18](https://github.com/sagemath/sagetrac-mirror/commit/665b8d127adb812a58e77b7d698c330030390d18)".



---

archive/issue_comments_000972.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/665b8d127adb812a58e77b7d698c330030390d18\">665b8d1</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>\n",
    "created_at": "2016-05-31T15:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-972",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/665b8d127adb812a58e77b7d698c330030390d18">665b8d1</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>




---

archive/issue_events_001762.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T15:56:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1762"
}
```



---

archive/issue_events_001763.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T15:56:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1763"
}
```



---

archive/issue_events_001764.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T15:56:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1764"
}
```



---

archive/issue_events_001765.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-05-31T15:56:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1765"
}
```



---

archive/issue_comments_000973.json:
```json
{
    "body": "<a id='comment:27'></a>\nAbout [comment:19](#comment%3A19) I guess that the rationale is that we should follow what was done until now. If you want to change the `cpdef` methods without declaring them as `Element` or `ModuleElement` or whatever I guess you should open a new ticket.",
    "created_at": "2016-05-31T16:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-973",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
About [comment:19](#comment%3A19) I guess that the rationale is that we should follow what was done until now. If you want to change the `cpdef` methods without declaring them as `Element` or `ModuleElement` or whatever I guess you should open a new ticket.



---

archive/issue_comments_000974.json:
```json
{
    "body": "**Changing commit** from \"[665b8d127adb812a58e77b7d698c330030390d18](https://github.com/sagemath/sagetrac-mirror/commit/665b8d127adb812a58e77b7d698c330030390d18)\" to \"[b48a839723966365beae466e22d37e0564e9ad6a](https://github.com/sagemath/sagetrac-mirror/commit/b48a839723966365beae466e22d37e0564e9ad6a)\".",
    "created_at": "2016-06-05T09:08:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-974",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[665b8d127adb812a58e77b7d698c330030390d18](https://github.com/sagemath/sagetrac-mirror/commit/665b8d127adb812a58e77b7d698c330030390d18)" to "[b48a839723966365beae466e22d37e0564e9ad6a](https://github.com/sagemath/sagetrac-mirror/commit/b48a839723966365beae466e22d37e0564e9ad6a)".



---

archive/issue_comments_000975.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b48a839723966365beae466e22d37e0564e9ad6a\">b48a839</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>\n",
    "created_at": "2016-06-05T09:08:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-975",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b48a839723966365beae466e22d37e0564e9ad6a">b48a839</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>




---

archive/issue_comments_000976.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35b3dfa3a464f73426dd60a41bb681d15e2efcfb\">35b3dfa</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>\n",
    "created_at": "2016-06-14T11:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-976",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35b3dfa3a464f73426dd60a41bb681d15e2efcfb">35b3dfa</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>




---

archive/issue_comments_000977.json:
```json
{
    "body": "**Changing commit** from \"[b48a839723966365beae466e22d37e0564e9ad6a](https://github.com/sagemath/sagetrac-mirror/commit/b48a839723966365beae466e22d37e0564e9ad6a)\" to \"[35b3dfa3a464f73426dd60a41bb681d15e2efcfb](https://github.com/sagemath/sagetrac-mirror/commit/35b3dfa3a464f73426dd60a41bb681d15e2efcfb)\".",
    "created_at": "2016-06-14T11:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-977",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b48a839723966365beae466e22d37e0564e9ad6a](https://github.com/sagemath/sagetrac-mirror/commit/b48a839723966365beae466e22d37e0564e9ad6a)" to "[35b3dfa3a464f73426dd60a41bb681d15e2efcfb](https://github.com/sagemath/sagetrac-mirror/commit/35b3dfa3a464f73426dd60a41bb681d15e2efcfb)".



---

archive/issue_comments_000978.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,7 +15,7 @@\n \n As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:\n 1. `_mod_` will be added to `Element` and not `RingElement` or similar.\n-2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return value.\n+2. The prototype is `cpdef _mod_(self, other)` with no typing for the arguments or return value.\n 3. We do not implement the in-place `__imod__` which is useless anyway with coercion.\n \n My intention is that eventually all arithmetic methods should be implemented like `__mod__`.\n``````\n",
    "created_at": "2016-06-14T11:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-978",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,7 +15,7 @@
 
 As proof-of-concept for refactoring more generally the arithmetic methods on `Element`, the implementation of `__mod__` is different from the usual implementation:
 1. `_mod_` will be added to `Element` and not `RingElement` or similar.
-2. The prototype is `cpdef _mod_(self, Element other)` with no typing for the return value.
+2. The prototype is `cpdef _mod_(self, other)` with no typing for the arguments or return value.
 3. We do not implement the in-place `__imod__` which is useless anyway with coercion.
 
 My intention is that eventually all arithmetic methods should be implemented like `__mod__`.
``````




---

archive/issue_comments_000979.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80795088d0774413d5cbb94459d95b430e9fe2ad\">8079508</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>\n",
    "created_at": "2016-06-14T11:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-979",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80795088d0774413d5cbb94459d95b430e9fe2ad">8079508</a></td><td><code>Implement `__mod__` in the coercion model</code></td></tr></table>




---

archive/issue_comments_000980.json:
```json
{
    "body": "**Changing commit** from \"[35b3dfa3a464f73426dd60a41bb681d15e2efcfb](https://github.com/sagemath/sagetrac-mirror/commit/35b3dfa3a464f73426dd60a41bb681d15e2efcfb)\" to \"[80795088d0774413d5cbb94459d95b430e9fe2ad](https://github.com/sagemath/sagetrac-mirror/commit/80795088d0774413d5cbb94459d95b430e9fe2ad)\".",
    "created_at": "2016-06-14T11:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-980",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[35b3dfa3a464f73426dd60a41bb681d15e2efcfb](https://github.com/sagemath/sagetrac-mirror/commit/35b3dfa3a464f73426dd60a41bb681d15e2efcfb)" to "[80795088d0774413d5cbb94459d95b430e9fe2ad](https://github.com/sagemath/sagetrac-mirror/commit/80795088d0774413d5cbb94459d95b430e9fe2ad)".



---

archive/issue_comments_000981.json:
```json
{
    "body": "<a id='comment:32'></a>\nPlease, add doctests for `__mod__` in `sage.rings.finite_rings.integer_mod`.",
    "created_at": "2016-07-13T15:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-981",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>
Please, add doctests for `__mod__` in `sage.rings.finite_rings.integer_mod`.



---

archive/issue_events_001766.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-13T15:09:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1766"
}
```



---

archive/issue_events_001767.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-13T15:09:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1767"
}
```



---

archive/issue_comments_000982.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2016-07-13T15:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-982",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_000983.json:
```json
{
    "body": "**Changing commit** from \"[80795088d0774413d5cbb94459d95b430e9fe2ad](https://github.com/sagemath/sagetrac-mirror/commit/80795088d0774413d5cbb94459d95b430e9fe2ad)\" to \"[defac691ecb14f9b9832c7efcd1717c756f6ddd3](https://github.com/sagemath/sagetrac-mirror/commit/defac691ecb14f9b9832c7efcd1717c756f6ddd3)\".",
    "created_at": "2016-07-14T16:37:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-983",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[80795088d0774413d5cbb94459d95b430e9fe2ad](https://github.com/sagemath/sagetrac-mirror/commit/80795088d0774413d5cbb94459d95b430e9fe2ad)" to "[defac691ecb14f9b9832c7efcd1717c756f6ddd3](https://github.com/sagemath/sagetrac-mirror/commit/defac691ecb14f9b9832c7efcd1717c756f6ddd3)".



---

archive/issue_comments_000984.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/defac691ecb14f9b9832c7efcd1717c756f6ddd3\">defac69</a></td><td><code>Reimplement `__mod__` for integer mods</code></td></tr></table>\n",
    "created_at": "2016-07-14T16:37:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-984",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/defac691ecb14f9b9832c7efcd1717c756f6ddd3">defac69</a></td><td><code>Reimplement `__mod__` for integer mods</code></td></tr></table>




---

archive/issue_comments_000985.json:
```json
{
    "body": "**Changing commit** from \"[defac691ecb14f9b9832c7efcd1717c756f6ddd3](https://github.com/sagemath/sagetrac-mirror/commit/defac691ecb14f9b9832c7efcd1717c756f6ddd3)\" to \"[1d53754eaf18b3fb88267221ad4ba752c5cea2a1](https://github.com/sagemath/sagetrac-mirror/commit/1d53754eaf18b3fb88267221ad4ba752c5cea2a1)\".",
    "created_at": "2016-07-14T16:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-985",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[defac691ecb14f9b9832c7efcd1717c756f6ddd3](https://github.com/sagemath/sagetrac-mirror/commit/defac691ecb14f9b9832c7efcd1717c756f6ddd3)" to "[1d53754eaf18b3fb88267221ad4ba752c5cea2a1](https://github.com/sagemath/sagetrac-mirror/commit/1d53754eaf18b3fb88267221ad4ba752c5cea2a1)".



---

archive/issue_comments_000986.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d53754eaf18b3fb88267221ad4ba752c5cea2a1\">1d53754</a></td><td><code>Reimplement `__mod__` for integer mods</code></td></tr></table>\n",
    "created_at": "2016-07-14T16:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-986",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d53754eaf18b3fb88267221ad4ba752c5cea2a1">1d53754</a></td><td><code>Reimplement `__mod__` for integer mods</code></td></tr></table>




---

archive/issue_events_001768.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-14T16:55:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1768"
}
```



---

archive/issue_events_001769.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-14T16:55:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1769"
}
```



---

archive/issue_comments_000987.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925\">aca3398</a></td><td><code>Fix doctests for changed exception type</code></td></tr></table>\n",
    "created_at": "2016-07-15T09:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-987",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925">aca3398</a></td><td><code>Fix doctests for changed exception type</code></td></tr></table>




---

archive/issue_comments_000988.json:
```json
{
    "body": "**Changing commit** from \"[1d53754eaf18b3fb88267221ad4ba752c5cea2a1](https://github.com/sagemath/sagetrac-mirror/commit/1d53754eaf18b3fb88267221ad4ba752c5cea2a1)\" to \"[aca3398a81b3688e1f2e69c5910b8214d13be925](https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925)\".",
    "created_at": "2016-07-15T09:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-988",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1d53754eaf18b3fb88267221ad4ba752c5cea2a1](https://github.com/sagemath/sagetrac-mirror/commit/1d53754eaf18b3fb88267221ad4ba752c5cea2a1)" to "[aca3398a81b3688e1f2e69c5910b8214d13be925](https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925)".



---

archive/issue_events_001770.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-25T01:29:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1770"
}
```



---

archive/issue_events_001771.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-25T01:29:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1771"
}
```



---

archive/issue_comments_000989.json:
```json
{
    "body": "<a id='comment:38'></a>\nThanks!",
    "created_at": "2016-07-25T07:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-989",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>
Thanks!



---

archive/issue_comments_000990.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/add___mod___to_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___mod___to_coercion_model)\" to \"[aca3398a81b3688e1f2e69c5910b8214d13be925](https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925)\".",
    "created_at": "2016-07-27T20:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/269#issuecomment-990",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/add___mod___to_coercion_model](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/add___mod___to_coercion_model)" to "[aca3398a81b3688e1f2e69c5910b8214d13be925](https://github.com/sagemath/sagetrac-mirror/commit/aca3398a81b3688e1f2e69c5910b8214d13be925)".



---

archive/issue_events_001772.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-27T20:24:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1772"
}
```



---

archive/issue_events_001773.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "429f9c7523d84241b2e097383bee50f4275c5797",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-07-27T20:24:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/269",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/269#event-1773"
}
```
