# Issue 252: Make number fields work when polynomial not integral or not monic.

archive/issues_000252.json:
```json
{
    "body": "The goal of this ticket is to make number fields work when the defining polynomial is not integral or not monic.\n\nIf the user specifies a non-integral or non-monic polynomial to define an absolute or relative number field, we define the corresponding PARI number field by a monic integral polynomial obtained from the PARI functions `polredbest` and `rnfpolredbest`, respectively.\n\nThe new methods `NumberField_generic._pari_absolute_structure()` and `NumberField_relative._pari_relative_structure()` return the data needed to convert elements between the Sage `NumberField` and the PARI `nf` structure.\n\nDepends on #18740\n\n**Assignee:** @loefflerd\n\n**CC:**  @katestange Bouillaguet\n\n**Branch/Commit:** [8b86c525a43dcfbab01224e3416722a1b29a9880](https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880)\n\n**Reviewer:** Kartik Venkatram\n\n**Author:** Peter Bruin\n\nIssue created by migration from https://trac.sagemath.org/ticket/252\n\n",
    "closed_at": "2015-08-26T03:00:18Z",
    "created_at": "2007-02-08T17:49:51Z",
    "labels": [
        "component: number fields",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "title": "Make number fields work when polynomial not integral or not monic.",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/252",
    "user": "https://github.com/williamstein"
}
```
The goal of this ticket is to make number fields work when the defining polynomial is not integral or not monic.

If the user specifies a non-integral or non-monic polynomial to define an absolute or relative number field, we define the corresponding PARI number field by a monic integral polynomial obtained from the PARI functions `polredbest` and `rnfpolredbest`, respectively.

The new methods `NumberField_generic._pari_absolute_structure()` and `NumberField_relative._pari_relative_structure()` return the data needed to convert elements between the Sage `NumberField` and the PARI `nf` structure.

Depends on #18740

**Assignee:** @loefflerd

**CC:**  @katestange Bouillaguet

**Branch/Commit:** [8b86c525a43dcfbab01224e3416722a1b29a9880](https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880)

**Reviewer:** Kartik Venkatram

**Author:** Peter Bruin

Issue created by migration from https://trac.sagemath.org/ticket/252





---

archive/issue_events_000844.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-09-11T02:09:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-2.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-844"
}
```



---

archive/issue_comments_000805.json:
```json
{
    "body": "<a id='comment:2'></a>\nYou may find sage.rings.algebraic_real.clear_denominators() useful here.  (If so, the function should probably be moved to a more sensible place, and perhaps renamed.)",
    "created_at": "2007-10-09T04:31:42Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-805",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

<a id='comment:2'></a>
You may find sage.rings.algebraic_real.clear_denominators() useful here.  (If so, the function should probably be moved to a more sensible place, and perhaps renamed.)



---

archive/issue_comments_000806.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe example above works.  But other things don't:\n\n```\nsage: R.<x> = QQ[]\nsage: sage: L.<b> = NumberField(x^2-1/2)\nsage: sage: L.discriminant()\n8\nsage: L.ring_of_integers()\nboom\n```",
    "created_at": "2007-10-21T01:59:03Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-806",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'></a>
The example above works.  But other things don't:

```
sage: R.<x> = QQ[]
sage: sage: L.<b> = NumberField(x^2-1/2)
sage: sage: L.discriminant()
8
sage: L.ring_of_integers()
boom
```



---

archive/issue_events_000845.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-10-21T01:59:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-2.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-845"
}
```



---

archive/issue_events_000846.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-10-21T01:59:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-2.9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-846"
}
```



---

archive/issue_comments_000807.json:
```json
{
    "body": "<a id='comment:4'></a>\nNotice that #4041 is a duplicate of this ticket.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-04T17:32:54Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-807",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:4'></a>
Notice that #4041 is a duplicate of this ticket.

Cheers,

Michael



---

archive/issue_events_000847.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-07-20T19:56:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "component: number theory",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-847"
}
```



---

archive/issue_events_000848.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-07-20T19:56:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "component: number fields",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-848"
}
```



---

archive/issue_comments_000808.json:
```json
{
    "body": "**Changing assignee** from @williamstein to @loefflerd.",
    "created_at": "2009-07-20T19:56:32Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-808",
    "user": "https://github.com/loefflerd"
}
```

**Changing assignee** from @williamstein to @loefflerd.



---

archive/issue_comments_000809.json:
```json
{
    "body": "<a id='comment:6'></a>\nAnother example from #9408\n\n```\nsage: L.<a,b> = QQ[i].relativize(1) #Ok\nsage: L.<a,b> = QQ[i].relativize(1/2) #PariError\n```",
    "created_at": "2010-07-06T10:59:30Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-809",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:6'></a>
Another example from #9408

```
sage: L.<a,b> = QQ[i].relativize(1) #Ok
sage: L.<a,b> = QQ[i].relativize(1/2) #PariError
```



---

archive/issue_comments_000810.json:
```json
{
    "body": "<a id='comment:7'></a>\nAt least the pari errors could be changed to \"not implemented\" messages in the meantime?  This is an error a new user may encounter.  It would help them to know immediately that the problem is all non-integral coefficients, so they can program around it, and to know that it is known to the developers.",
    "created_at": "2011-02-16T16:57:59Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-810",
    "user": "https://github.com/katestange"
}
```

<a id='comment:7'></a>
At least the pari errors could be changed to "not implemented" messages in the meantime?  This is an error a new user may encounter.  It would help them to know immediately that the problem is all non-integral coefficients, so they can program around it, and to know that it is known to the developers.



---

archive/issue_comments_000811.json:
```json
{
    "body": "<a id='comment:9'></a>\nI agree that fixing this would be very nice, but also would require completely reworking the number field code.  I think it is feasible, but do we really want to put that much effort into this?",
    "created_at": "2011-10-09T11:03:44Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-811",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
I agree that fixing this would be very nice, but also would require completely reworking the number field code.  I think it is feasible, but do we really want to put that much effort into this?



---

archive/issue_comments_000812.json:
```json
{
    "body": "<a id='comment:10'></a>\nI, for myself would like to see this fixed. I would fix this myself if I had time...\n\nIn any case, current situation in Sage is not admissible. If we decide not to fix this then, should we allow to define number fields with nonintegral generators? This would also mean a lot of effort.",
    "created_at": "2011-10-09T12:35:33Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-812",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:10'></a>
I, for myself would like to see this fixed. I would fix this myself if I had time...

In any case, current situation in Sage is not admissible. If we decide not to fix this then, should we allow to define number fields with nonintegral generators? This would also mean a lot of effort.



---

archive/issue_comments_000813.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [jdemeyer](#comment%3A9):\n> I agree that fixing this would be very nice, but also would require \n> completely reworking the number field code.  I think it is feasible,\n> but do we really want to put that much effort into this?\n\n\nI don't know about \"we\", but it is a total no brainer that this has to get done eventually.   It is certainly easier than writing the number field code in the first place, which was hard, but not that hard.",
    "created_at": "2011-10-09T16:00:54Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-813",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:11'></a>
Replying to [jdemeyer](#comment%3A9):
> I agree that fixing this would be very nice, but also would require 
> completely reworking the number field code.  I think it is feasible,
> but do we really want to put that much effort into this?


I don't know about "we", but it is a total no brainer that this has to get done eventually.   It is certainly easier than writing the number field code in the first place, which was hard, but not that hard.



---

archive/issue_events_000849.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet",
    "created_at": "2013-02-19T20:45:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-849"
}
```



---

archive/issue_events_000850.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet",
    "created_at": "2013-02-19T20:45:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-850"
}
```



---

archive/issue_events_000851.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet",
    "created_at": "2013-02-19T20:45:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "minor",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-851"
}
```



---

archive/issue_comments_000814.json:
```json
{
    "body": "<a id='comment:12'></a>\nI just ran into this issue",
    "created_at": "2013-02-19T20:45:34Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-814",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

<a id='comment:12'></a>
I just ran into this issue



---

archive/issue_events_000852.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-852"
}
```



---

archive/issue_events_000853.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-853"
}
```



---

archive/issue_events_000854.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-854"
}
```



---

archive/issue_events_000855.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-855"
}
```



---

archive/issue_events_000856.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-856"
}
```



---

archive/issue_events_000857.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-857"
}
```



---

archive/issue_events_000858.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-858"
}
```



---

archive/issue_events_000859.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-859"
}
```



---

archive/issue_comments_000815.json:
```json
{
    "body": "<a id='comment:17'></a>\nIn SageMath 6.7.beta1:\n\n```\nsage: R.<x> = QQ[]\nsage: L.<b> = NumberField(x^2-1/2)\nsage: L.discriminant()\n8\nsage: L.ring_of_integers()\nMaximal Order in Number Field in b with defining polynomial x^2 - 1/2\n```\nHowever, there are still problems; see e.g. #18243.  We should make use of the fact that when one feeds a non-monic or non-integral polynomial `f` to PARI's `nfinit()`, it returns a pair `[nf, c]` where `nf` is an number field isomorphic to **Q**[*x*]/(*f*) and defined by a monic integral polynomial, and `c` is a root of `f` in `nf`.",
    "created_at": "2015-04-17T22:03:47Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-815",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:17'></a>
In SageMath 6.7.beta1:

```
sage: R.<x> = QQ[]
sage: L.<b> = NumberField(x^2-1/2)
sage: L.discriminant()
8
sage: L.ring_of_integers()
Maximal Order in Number Field in b with defining polynomial x^2 - 1/2
```
However, there are still problems; see e.g. #18243.  We should make use of the fact that when one feeds a non-monic or non-integral polynomial `f` to PARI's `nfinit()`, it returns a pair `[nf, c]` where `nf` is an number field isomorphic to **Q**[*x*]/(*f*) and defined by a monic integral polynomial, and `c` is a root of `f` in `nf`.



---

archive/issue_comments_000816.json:
```json
{
    "body": "**Dependencies:** #18740",
    "created_at": "2015-06-19T20:18:14Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-816",
    "user": "https://github.com/pjbruin"
}
```

**Dependencies:** #18740



---

archive/issue_comments_000817.json:
```json
{
    "body": "**Author:** Peter Bruin",
    "created_at": "2015-06-19T20:18:14Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-817",
    "user": "https://github.com/pjbruin"
}
```

**Author:** Peter Bruin



---

archive/issue_comments_000818.json:
```json
{
    "body": "**Commit:** [8d0e9cc46a967d0aa2c020365732fbaab84b996f](https://github.com/sagemath/sagetrac-mirror/commit/8d0e9cc46a967d0aa2c020365732fbaab84b996f)",
    "created_at": "2015-06-19T20:23:40Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-818",
    "user": "https://github.com/pjbruin"
}
```

**Commit:** [8d0e9cc46a967d0aa2c020365732fbaab84b996f](https://github.com/sagemath/sagetrac-mirror/commit/8d0e9cc46a967d0aa2c020365732fbaab84b996f)



---

archive/issue_comments_000819.json:
```json
{
    "body": "<a id='comment:19'></a>\nThis branch is work in progress; it does not solve #18243 yet, and there are probably other places where it should be checked that non-integral and/or non-monic polynomials are supported.",
    "created_at": "2015-06-19T20:23:40Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-819",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:19'></a>
This branch is work in progress; it does not solve #18243 yet, and there are probably other places where it should be checked that non-integral and/or non-monic polynomials are supported.



---

archive/issue_comments_000820.json:
```json
{
    "body": "**Branch:** [u/pbruin/252-number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/252-number_fields)",
    "created_at": "2015-06-19T20:23:40Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-820",
    "user": "https://github.com/pjbruin"
}
```

**Branch:** [u/pbruin/252-number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/252-number_fields)



---

archive/issue_comments_000821.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78408430db0bd43a0cd1e886c0d6b42184bd6dd6\">7840843</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>\n",
    "created_at": "2015-06-22T20:40:20Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78408430db0bd43a0cd1e886c0d6b42184bd6dd6">7840843</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>




---

archive/issue_comments_000822.json:
```json
{
    "body": "**Changing commit** from \"[8d0e9cc46a967d0aa2c020365732fbaab84b996f](https://github.com/sagemath/sagetrac-mirror/commit/8d0e9cc46a967d0aa2c020365732fbaab84b996f)\" to \"[78408430db0bd43a0cd1e886c0d6b42184bd6dd6](https://github.com/sagemath/sagetrac-mirror/commit/78408430db0bd43a0cd1e886c0d6b42184bd6dd6)\".",
    "created_at": "2015-06-22T20:40:20Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-822",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8d0e9cc46a967d0aa2c020365732fbaab84b996f](https://github.com/sagemath/sagetrac-mirror/commit/8d0e9cc46a967d0aa2c020365732fbaab84b996f)" to "[78408430db0bd43a0cd1e886c0d6b42184bd6dd6](https://github.com/sagemath/sagetrac-mirror/commit/78408430db0bd43a0cd1e886c0d6b42184bd6dd6)".



---

archive/issue_comments_000823.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe examples in #14164 and #18243 now work.  This is mostly finished, but it needs more doctests to show that number fields defined by non-monic and non-integral polynomials are supported.",
    "created_at": "2015-06-22T20:41:49Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-823",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:21'></a>
The examples in #14164 and #18243 now work.  This is mostly finished, but it needs more doctests to show that number fields defined by non-monic and non-integral polynomials are supported.



---

archive/issue_comments_000824.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fce3c709dbeb1b7073b432527fe31a53eb7b8124\">fce3c70</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>\n",
    "created_at": "2015-06-24T10:03:58Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fce3c709dbeb1b7073b432527fe31a53eb7b8124">fce3c70</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>




---

archive/issue_comments_000825.json:
```json
{
    "body": "**Changing commit** from \"[78408430db0bd43a0cd1e886c0d6b42184bd6dd6](https://github.com/sagemath/sagetrac-mirror/commit/78408430db0bd43a0cd1e886c0d6b42184bd6dd6)\" to \"[fce3c709dbeb1b7073b432527fe31a53eb7b8124](https://github.com/sagemath/sagetrac-mirror/commit/fce3c709dbeb1b7073b432527fe31a53eb7b8124)\".",
    "created_at": "2015-06-24T10:03:58Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-825",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[78408430db0bd43a0cd1e886c0d6b42184bd6dd6](https://github.com/sagemath/sagetrac-mirror/commit/78408430db0bd43a0cd1e886c0d6b42184bd6dd6)" to "[fce3c709dbeb1b7073b432527fe31a53eb7b8124](https://github.com/sagemath/sagetrac-mirror/commit/fce3c709dbeb1b7073b432527fe31a53eb7b8124)".



---

archive/issue_events_000860.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-24T10:12:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-860"
}
```



---

archive/issue_comments_000826.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,10 +1,5 @@\n-Make number fields work when polynomial not integral or not monic.\n+The goal of this ticket is to make number fields work when the defining polynomial is not integral or not monic.\n \n-```\n-sage: R.<x> = QQ[]\n-sage: L.<b> = NumberField(x^2-1/2)\n-sage: L.discriminant()\n-Traceback (most recent call last):\n-...\n-gen.PariError:  (8)\n-```\n+If the user specifies a non-integral or non-monic polynomial to define an absolute or relative number field, we define the corresponding PARI number field by a monic integral polynomial obtained from the PARI functions `polredbest` and `rnfpolredbest`, respectively.\n+\n+The new methods `NumberField_generic._pari_absolute_structure()` and `NumberField_relative._pari_relative_structure()` return the data needed to convert elements between the Sage `NumberField` and the PARI `nf` structure.\n``````\n",
    "created_at": "2015-06-24T10:12:09Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-826",
    "user": "https://github.com/pjbruin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,10 +1,5 @@
-Make number fields work when polynomial not integral or not monic.
+The goal of this ticket is to make number fields work when the defining polynomial is not integral or not monic.
 
-```
-sage: R.<x> = QQ[]
-sage: L.<b> = NumberField(x^2-1/2)
-sage: L.discriminant()
-Traceback (most recent call last):
-...
-gen.PariError:  (8)
-```
+If the user specifies a non-integral or non-monic polynomial to define an absolute or relative number field, we define the corresponding PARI number field by a monic integral polynomial obtained from the PARI functions `polredbest` and `rnfpolredbest`, respectively.
+
+The new methods `NumberField_generic._pari_absolute_structure()` and `NumberField_relative._pari_relative_structure()` return the data needed to convert elements between the Sage `NumberField` and the PARI `nf` structure.
``````




---

archive/issue_comments_000827.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/566770a42a5e7f6c22c8449e2e0f0b57cdb7808c\">566770a</a></td><td><code>Merge branch 'u/pbruin/18739-pari_rnf_conversion' into 6.8.b5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88fbd3d61d0c316aadffaa980c90d0f7eb16eb00\">88fbd3d</a></td><td><code>trac #18379 doc typo in pari/gen</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d27251de48beac243d5c3b1d8e6f4b607c375303\">d27251d</a></td><td><code>trac #18739 raise into py3 syntax</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5373b8eeeeca1aef7816c85ccdf36d576850375d\">5373b8e</a></td><td><code>Trac 18739: reviewer comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf87651ae81026fefe9e3c194556c55864f3b1c4\">bf87651</a></td><td><code>Merge branch 'ticket/18739-pari_rnf_conversion' into ticket/18740-relative_number_fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c661096b45e80a7227eba537ae1f7dc9e3836c1d\">c661096</a></td><td><code>Trac 18740: reduce overhead for relative number field elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75756863cfd4ded5796d83696cf13f5ebb1670d2\">7575686</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>\n",
    "created_at": "2015-07-03T09:47:56Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-827",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/566770a42a5e7f6c22c8449e2e0f0b57cdb7808c">566770a</a></td><td><code>Merge branch 'u/pbruin/18739-pari_rnf_conversion' into 6.8.b5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88fbd3d61d0c316aadffaa980c90d0f7eb16eb00">88fbd3d</a></td><td><code>trac #18379 doc typo in pari/gen</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d27251de48beac243d5c3b1d8e6f4b607c375303">d27251d</a></td><td><code>trac #18739 raise into py3 syntax</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5373b8eeeeca1aef7816c85ccdf36d576850375d">5373b8e</a></td><td><code>Trac 18739: reviewer comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf87651ae81026fefe9e3c194556c55864f3b1c4">bf87651</a></td><td><code>Merge branch 'ticket/18739-pari_rnf_conversion' into ticket/18740-relative_number_fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c661096b45e80a7227eba537ae1f7dc9e3836c1d">c661096</a></td><td><code>Trac 18740: reduce overhead for relative number field elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75756863cfd4ded5796d83696cf13f5ebb1670d2">7575686</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>




---

archive/issue_comments_000828.json:
```json
{
    "body": "**Changing commit** from \"[fce3c709dbeb1b7073b432527fe31a53eb7b8124](https://github.com/sagemath/sagetrac-mirror/commit/fce3c709dbeb1b7073b432527fe31a53eb7b8124)\" to \"[75756863cfd4ded5796d83696cf13f5ebb1670d2](https://github.com/sagemath/sagetrac-mirror/commit/75756863cfd4ded5796d83696cf13f5ebb1670d2)\".",
    "created_at": "2015-07-03T09:47:56Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-828",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fce3c709dbeb1b7073b432527fe31a53eb7b8124](https://github.com/sagemath/sagetrac-mirror/commit/fce3c709dbeb1b7073b432527fe31a53eb7b8124)" to "[75756863cfd4ded5796d83696cf13f5ebb1670d2](https://github.com/sagemath/sagetrac-mirror/commit/75756863cfd4ded5796d83696cf13f5ebb1670d2)".



---

archive/issue_comments_000829.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8fdeda84073d4c72e042cd64e68678e099d292e\">b8fdeda</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>\n",
    "created_at": "2015-07-22T11:44:39Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-829",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8fdeda84073d4c72e042cd64e68678e099d292e">b8fdeda</a></td><td><code>Trac 252: allow non-monic and non-integral polynomials in number fields</code></td></tr></table>




---

archive/issue_comments_000830.json:
```json
{
    "body": "**Changing commit** from \"[75756863cfd4ded5796d83696cf13f5ebb1670d2](https://github.com/sagemath/sagetrac-mirror/commit/75756863cfd4ded5796d83696cf13f5ebb1670d2)\" to \"[b8fdeda84073d4c72e042cd64e68678e099d292e](https://github.com/sagemath/sagetrac-mirror/commit/b8fdeda84073d4c72e042cd64e68678e099d292e)\".",
    "created_at": "2015-07-22T11:44:39Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[75756863cfd4ded5796d83696cf13f5ebb1670d2](https://github.com/sagemath/sagetrac-mirror/commit/75756863cfd4ded5796d83696cf13f5ebb1670d2)" to "[b8fdeda84073d4c72e042cd64e68678e099d292e](https://github.com/sagemath/sagetrac-mirror/commit/b8fdeda84073d4c72e042cd64e68678e099d292e)".



---

archive/issue_comments_000831.json:
```json
{
    "body": "<a id='comment:26'></a>\nThe above version fixes `composite_fields()` to correctly solve #14164 and #18243.",
    "created_at": "2015-07-22T11:47:17Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-831",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:26'></a>
The above version fixes `composite_fields()` to correctly solve #14164 and #18243.



---

archive/issue_comments_000832.json:
```json
{
    "body": "**Changing commit** from \"[b8fdeda84073d4c72e042cd64e68678e099d292e](https://github.com/sagemath/sagetrac-mirror/commit/b8fdeda84073d4c72e042cd64e68678e099d292e)\" to \"[d1227146064d0e4ebcaf313f6eeec5c70713dde3](https://github.com/sagemath/sagetrac-mirror/commit/d1227146064d0e4ebcaf313f6eeec5c70713dde3)\".",
    "created_at": "2015-08-21T07:50:23Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b8fdeda84073d4c72e042cd64e68678e099d292e](https://github.com/sagemath/sagetrac-mirror/commit/b8fdeda84073d4c72e042cd64e68678e099d292e)" to "[d1227146064d0e4ebcaf313f6eeec5c70713dde3](https://github.com/sagemath/sagetrac-mirror/commit/d1227146064d0e4ebcaf313f6eeec5c70713dde3)".



---

archive/issue_comments_000833.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1227146064d0e4ebcaf313f6eeec5c70713dde3\">d122714</a></td><td><code>Merge branch 'develop' into ticket/252-number_fields</code></td></tr></table>\n",
    "created_at": "2015-08-21T07:50:23Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1227146064d0e4ebcaf313f6eeec5c70713dde3">d122714</a></td><td><code>Merge branch 'develop' into ticket/252-number_fields</code></td></tr></table>




---

archive/issue_events_000861.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/kartikv",
    "created_at": "2015-08-22T22:02:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-861"
}
```



---

archive/issue_events_000862.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/kartikv",
    "created_at": "2015-08-22T22:02:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-862"
}
```



---

archive/issue_comments_000834.json:
```json
{
    "body": "<a id='comment:28'></a>\nSomething weird seems to be going on with factoring. This is \"normal\" behavior for a number field.\n\n```\nsage: F.<a> = NumberField(x^3+x+1)\nsage: F(2).factor()\n2\nsage: F(3).factor()\n(a^2 + a + 2) * (-a + 1)\nsage: (a^2 + a + 2).factor()\na^2 + a + 2\nsage: F.factor(3)\n(Fractional ideal (a^2 + a + 2)) * (Fractional ideal (-a + 1))\nsage: (-a+1).factor()\n-a + 1\n```\n\nThis is not.\n\n```\nsage: F.<a> = NumberField(2*x^3+x+1)\nsage: F(2).factor()\n(-47*a^2 + 21*a - 93/2) * (-1/2*a^2 + 1/2*a)^2 * (1/2*a^2 + 1/2*a)\nsage: F.factor(2)\n(Fractional ideal (-1/2*a^2 + 1/2*a))^2 * (Fractional ideal (1/2*a^2 + 1/2*a))\nsage: (-47*a^2 + 21*a - 93/2).norm()\n-8192\nsage: (-47*a^2 + 21*a - 93/2).factor()\n(3718815975/16384*a^2 - 1336872061/16384*a + 7884913157/32768) * (-1/2*a^2 + 1/2*a)^14 * (1/2*a^2 + 1/2*a)^-1\nsage: (1/2*a^2 + 1/2*a).factor()\n(13/512*a^2 - 11/512*a - 7/256) * (-1/2*a^2 + 1/2*a)^-4\n```\n\nSomehow, it's not controlling primes over the leading coefficient properly...",
    "created_at": "2015-08-22T22:02:40Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-834",
    "user": "https://trac.sagemath.org/admin/accounts/users/kartikv"
}
```

<a id='comment:28'></a>
Something weird seems to be going on with factoring. This is "normal" behavior for a number field.

```
sage: F.<a> = NumberField(x^3+x+1)
sage: F(2).factor()
2
sage: F(3).factor()
(a^2 + a + 2) * (-a + 1)
sage: (a^2 + a + 2).factor()
a^2 + a + 2
sage: F.factor(3)
(Fractional ideal (a^2 + a + 2)) * (Fractional ideal (-a + 1))
sage: (-a+1).factor()
-a + 1
```

This is not.

```
sage: F.<a> = NumberField(2*x^3+x+1)
sage: F(2).factor()
(-47*a^2 + 21*a - 93/2) * (-1/2*a^2 + 1/2*a)^2 * (1/2*a^2 + 1/2*a)
sage: F.factor(2)
(Fractional ideal (-1/2*a^2 + 1/2*a))^2 * (Fractional ideal (1/2*a^2 + 1/2*a))
sage: (-47*a^2 + 21*a - 93/2).norm()
-8192
sage: (-47*a^2 + 21*a - 93/2).factor()
(3718815975/16384*a^2 - 1336872061/16384*a + 7884913157/32768) * (-1/2*a^2 + 1/2*a)^14 * (1/2*a^2 + 1/2*a)^-1
sage: (1/2*a^2 + 1/2*a).factor()
(13/512*a^2 - 11/512*a - 7/256) * (-1/2*a^2 + 1/2*a)^-4
```

Somehow, it's not controlling primes over the leading coefficient properly...



---

archive/issue_comments_000835.json:
```json
{
    "body": "<a id='comment:29'></a>\nThe underlying problem seems to be converting PARI ideals in Hilbert normal form to Sage ideals:\n\n```\nsage: F.<a> = NumberField(2*x^3+x+1)\nsage: Fp = F.pari_nf()\nsage: I = F.ideal(2)\nsage: Ip = I.pari_hnf()\nsage: fact = Fp.idealfactor(Ip)\nsage: Jp = fact[0, 0]\nsage: Fp.idealnorm(Jp)\n2\nsage: J = F.ideal(Jp)\nsage: J.norm()\n1/2             # should be 2, like Fp.idealnorm(Jp)\n```",
    "created_at": "2015-08-24T13:29:02Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-835",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:29'></a>
The underlying problem seems to be converting PARI ideals in Hilbert normal form to Sage ideals:

```
sage: F.<a> = NumberField(2*x^3+x+1)
sage: Fp = F.pari_nf()
sage: I = F.ideal(2)
sage: Ip = I.pari_hnf()
sage: fact = Fp.idealfactor(Ip)
sage: Jp = fact[0, 0]
sage: Fp.idealnorm(Jp)
2
sage: J = F.ideal(Jp)
sage: J.norm()
1/2             # should be 2, like Fp.idealnorm(Jp)
```



---

archive/issue_comments_000836.json:
```json
{
    "body": "<a id='comment:30'></a>\nActually the bug is in the conversion from PARI elements expressed on the integral basis:\n\n```\nsage: F.<a> = NumberField(2*x^3+x+1)\nsage: b = F.random_element()\nsage: F(F.pari_nf().nfalgtobasis(b)) == b\nFalse  # should be True\n```\nI'm working on a patch.",
    "created_at": "2015-08-24T16:41:03Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-836",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:30'></a>
Actually the bug is in the conversion from PARI elements expressed on the integral basis:

```
sage: F.<a> = NumberField(2*x^3+x+1)
sage: b = F.random_element()
sage: F(F.pari_nf().nfalgtobasis(b)) == b
False  # should be True
```
I'm working on a patch.



---

archive/issue_comments_000837.json:
```json
{
    "body": "**Changing commit** from \"[d1227146064d0e4ebcaf313f6eeec5c70713dde3](https://github.com/sagemath/sagetrac-mirror/commit/d1227146064d0e4ebcaf313f6eeec5c70713dde3)\" to \"[fd2743f092ecbffd79f49dc6cd18552631c407db](https://github.com/sagemath/sagetrac-mirror/commit/fd2743f092ecbffd79f49dc6cd18552631c407db)\".",
    "created_at": "2015-08-24T17:16:42Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1227146064d0e4ebcaf313f6eeec5c70713dde3](https://github.com/sagemath/sagetrac-mirror/commit/d1227146064d0e4ebcaf313f6eeec5c70713dde3)" to "[fd2743f092ecbffd79f49dc6cd18552631c407db](https://github.com/sagemath/sagetrac-mirror/commit/fd2743f092ecbffd79f49dc6cd18552631c407db)".



---

archive/issue_comments_000838.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd2743f092ecbffd79f49dc6cd18552631c407db\">fd2743f</a></td><td><code>Trac 252: fix conversion from PARI elements expressed on the integral basis</code></td></tr></table>\n",
    "created_at": "2015-08-24T17:16:42Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd2743f092ecbffd79f49dc6cd18552631c407db">fd2743f</a></td><td><code>Trac 252: fix conversion from PARI elements expressed on the integral basis</code></td></tr></table>




---

archive/issue_events_000863.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-08-24T17:17:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-863"
}
```



---

archive/issue_events_000864.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-08-24T17:17:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-864"
}
```



---

archive/issue_comments_000839.json:
```json
{
    "body": "<a id='comment:33'></a>\nPositive review. I think there should probably be an example in the docstring to NumberField that demonstrates/tests this functionality (since it has been missing for so long), but otherwise ready to submit. You're welcome to use my example or any of yours from deeper in the number field code.",
    "created_at": "2015-08-24T17:53:43Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-839",
    "user": "https://trac.sagemath.org/admin/accounts/users/kartikv"
}
```

<a id='comment:33'></a>
Positive review. I think there should probably be an example in the docstring to NumberField that demonstrates/tests this functionality (since it has been missing for so long), but otherwise ready to submit. You're welcome to use my example or any of yours from deeper in the number field code.



---

archive/issue_events_000865.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/kartikv",
    "created_at": "2015-08-24T17:53:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-865"
}
```



---

archive/issue_events_000866.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/kartikv",
    "created_at": "2015-08-24T17:53:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-866"
}
```



---

archive/issue_comments_000840.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4660f119eb45da3d9520b5f3b598ca5a6753906\">d4660f1</a></td><td><code>Trac 252: additional examples</code></td></tr></table>\n",
    "created_at": "2015-08-25T11:38:09Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-840",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4660f119eb45da3d9520b5f3b598ca5a6753906">d4660f1</a></td><td><code>Trac 252: additional examples</code></td></tr></table>




---

archive/issue_comments_000841.json:
```json
{
    "body": "**Changing commit** from \"[fd2743f092ecbffd79f49dc6cd18552631c407db](https://github.com/sagemath/sagetrac-mirror/commit/fd2743f092ecbffd79f49dc6cd18552631c407db)\" to \"[d4660f119eb45da3d9520b5f3b598ca5a6753906](https://github.com/sagemath/sagetrac-mirror/commit/d4660f119eb45da3d9520b5f3b598ca5a6753906)\".",
    "created_at": "2015-08-25T11:38:09Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-841",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fd2743f092ecbffd79f49dc6cd18552631c407db](https://github.com/sagemath/sagetrac-mirror/commit/fd2743f092ecbffd79f49dc6cd18552631c407db)" to "[d4660f119eb45da3d9520b5f3b598ca5a6753906](https://github.com/sagemath/sagetrac-mirror/commit/d4660f119eb45da3d9520b5f3b598ca5a6753906)".



---

archive/issue_comments_000842.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880\">8b86c52</a></td><td><code>Trac 252: additional examples</code></td></tr></table>\n",
    "created_at": "2015-08-25T11:40:47Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880">8b86c52</a></td><td><code>Trac 252: additional examples</code></td></tr></table>




---

archive/issue_comments_000843.json:
```json
{
    "body": "**Changing commit** from \"[d4660f119eb45da3d9520b5f3b598ca5a6753906](https://github.com/sagemath/sagetrac-mirror/commit/d4660f119eb45da3d9520b5f3b598ca5a6753906)\" to \"[8b86c525a43dcfbab01224e3416722a1b29a9880](https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880)\".",
    "created_at": "2015-08-25T11:40:47Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d4660f119eb45da3d9520b5f3b598ca5a6753906](https://github.com/sagemath/sagetrac-mirror/commit/d4660f119eb45da3d9520b5f3b598ca5a6753906)" to "[8b86c525a43dcfbab01224e3416722a1b29a9880](https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880)".



---

archive/issue_comments_000844.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [kartikv](#comment%3A33):\n> Positive review. I think there should probably be an example in the docstring to NumberField that demonstrates/tests this functionality (since it has been missing for so long), but otherwise ready to submit. You're welcome to use my example or any of yours from deeper in the number field code.\n\nThanks for your comments.  If you approve of the new examples you can set this to positive review (and remember to fill in your [real] name as reviewer).",
    "created_at": "2015-08-25T11:43:43Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-844",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:36'></a>
Replying to [kartikv](#comment%3A33):
> Positive review. I think there should probably be an example in the docstring to NumberField that demonstrates/tests this functionality (since it has been missing for so long), but otherwise ready to submit. You're welcome to use my example or any of yours from deeper in the number field code.

Thanks for your comments.  If you approve of the new examples you can set this to positive review (and remember to fill in your [real] name as reviewer).



---

archive/issue_events_000867.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-08-25T11:43:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-867"
}
```



---

archive/issue_events_000868.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-08-25T11:43:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-868"
}
```



---

archive/issue_comments_000845.json:
```json
{
    "body": "**Reviewer:** Kartik Venkatram",
    "created_at": "2015-08-25T13:49:35Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-845",
    "user": "https://trac.sagemath.org/admin/accounts/users/kartikv"
}
```

**Reviewer:** Kartik Venkatram



---

archive/issue_events_000869.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/kartikv",
    "created_at": "2015-08-25T13:49:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-869"
}
```



---

archive/issue_events_000870.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/kartikv",
    "created_at": "2015-08-25T13:49:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-870"
}
```



---

archive/issue_comments_000846.json:
```json
{
    "body": "<a id='comment:37'></a>\nPerfect.",
    "created_at": "2015-08-25T13:49:35Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-846",
    "user": "https://trac.sagemath.org/admin/accounts/users/kartikv"
}
```

<a id='comment:37'></a>
Perfect.



---

archive/issue_events_000871.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-08-26T03:00:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-871"
}
```



---

archive/issue_events_000872.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-08-26T03:00:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/252#event-872"
}
```



---

archive/issue_comments_000847.json:
```json
{
    "body": "**Changing branch** from \"[u/pbruin/252-number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/252-number_fields)\" to \"[8b86c525a43dcfbab01224e3416722a1b29a9880](https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880)\".",
    "created_at": "2015-08-26T03:00:18Z",
    "issue": "https://github.com/sagemath/sage/issues/252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/252#issuecomment-847",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/pbruin/252-number_fields](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/252-number_fields)" to "[8b86c525a43dcfbab01224e3416722a1b29a9880](https://github.com/sagemath/sagetrac-mirror/commit/8b86c525a43dcfbab01224e3416722a1b29a9880)".
