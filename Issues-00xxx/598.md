# Issue 598: implement substitute for monoids

archive/issues_000598.json:
```json
{
    "body": "```\nOn 9/5/07, Joel B. Mohler <joel@kiwistrawberry.us> wrote:\n\\> Yes, so I found FreeMonoid after sending my first e-mail and was testing it\n> out.  I think I may have found something that is not implemented:\n> \n> sage: a=FreeMonoid(1,'a').0\n> sage: a*a\n> a^2\n> sage: a.substitute(5)\n> a  # should be 5?\n> sage: a.substitute(a=5)\n> a  # should be 5?\n> \n> I would have expected those last two results to be 5 -- am I missing\n> something? \n\nThe whole \"substitute\" architecture was implemented in SAGE\nlong after monoids were implemented.  So you'll have to implement\nmonoid substitution. \n\n> I guess substituting isn't an entirely common operation for free\n> monoids, but it seems to be a sensibly defined operation.  Then again, maybe\n> not:\n> \n> sage: M.<x,y> = FreeMonoid(2)\n> sage: (x*y).substitute(x=1)\n> x*y  # I would think that this is 1*y\n> \n\n\n\n> I find that result unsatisfactory as well, but I sure don't have a good idea\n> about what ring (?) the result '1*y' would be a part of.\n\nJust do the arithmetic.    All monoids have a 1 by definition, so 1*y is just \"y\"\nin that monoid.\n\nWilliam\n```\n\nAssignee: @mwhansen\n\nResolution: fixed\n\nAuthor: Mike Hansen\n\nReviewer: Paul Zimmermann\n\nMerged: sage-4.4.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/598\n\n",
    "closed_at": "2010-04-15T05:20:29Z",
    "created_at": "2007-09-06T00:56:30Z",
    "labels": [
        "component: basic arithmetic",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.4",
    "title": "implement substitute for monoids",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/598",
    "user": "https://github.com/williamstein"
}
```
```
On 9/5/07, Joel B. Mohler <joel@kiwistrawberry.us> wrote:
\> Yes, so I found FreeMonoid after sending my first e-mail and was testing it
> out.  I think I may have found something that is not implemented:
> 
> sage: a=FreeMonoid(1,'a').0
> sage: a*a
> a^2
> sage: a.substitute(5)
> a  # should be 5?
> sage: a.substitute(a=5)
> a  # should be 5?
> 
> I would have expected those last two results to be 5 -- am I missing
> something? 

The whole "substitute" architecture was implemented in SAGE
long after monoids were implemented.  So you'll have to implement
monoid substitution. 

> I guess substituting isn't an entirely common operation for free
> monoids, but it seems to be a sensibly defined operation.  Then again, maybe
> not:
> 
> sage: M.<x,y> = FreeMonoid(2)
> sage: (x*y).substitute(x=1)
> x*y  # I would think that this is 1*y
> 



> I find that result unsatisfactory as well, but I sure don't have a good idea
> about what ring (?) the result '1*y' would be a part of.

Just do the arithmetic.    All monoids have a 1 by definition, so 1*y is just "y"
in that monoid.

William
```

Assignee: @mwhansen

Resolution: fixed

Author: Mike Hansen

Reviewer: Paul Zimmermann

Merged: sage-4.4.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/598





---

archive/issue_comments_003338.json:
```json
{
    "body": "Changing assignee from somebody to jbmohler.",
    "created_at": "2007-09-06T00:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3338",
    "user": "https://github.com/williamstein"
}
```

Changing assignee from somebody to jbmohler.



---

archive/issue_comments_003339.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2009-01-22T14:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3339",
    "user": "https://github.com/mwhansen"
}
```

Changing status from new to assigned.



---

archive/issue_comments_003340.json:
```json
{
    "body": "Changing assignee from jbmohler to @mwhansen.",
    "created_at": "2009-01-22T14:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3340",
    "user": "https://github.com/mwhansen"
}
```

Changing assignee from jbmohler to @mwhansen.



---

archive/issue_comments_003341.json:
```json
{
    "body": "Attachment [trac_598.patch](tarball://root/attachments/some-uuid/ticket598/trac_598.patch) by @mwhansen created at 2010-01-16 19:04:29",
    "created_at": "2010-01-16T19:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3341",
    "user": "https://github.com/mwhansen"
}
```

Attachment [trac_598.patch](tarball://root/attachments/some-uuid/ticket598/trac_598.patch) by @mwhansen created at 2010-01-16 19:04:29



---

archive/issue_comments_003342.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2010-01-16T19:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3342",
    "user": "https://github.com/mwhansen"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_003343.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-01-16T19:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3343",
    "user": "https://github.com/mwhansen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_003344.json:
```json
{
    "body": "Changing author from \"\" to \"Mike Hansen\"",
    "created_at": "2010-01-16T19:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3344",
    "user": "https://github.com/mwhansen"
}
```

Changing author from "" to "Mike Hansen"



---

archive/issue_comments_003345.json:
```json
{
    "body": "<a id='comment:4'></a>A positive review for me.\n\nNote: I did all doctests, and got exactly 22 Segfaults, as with vanilla 4.3.3 (see #7773).\nThus if a new failure occurred within one of those 22 doctests, I couldn't see it.",
    "created_at": "2010-03-14T12:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3345",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:4'></a>A positive review for me.

Note: I did all doctests, and got exactly 22 Segfaults, as with vanilla 4.3.3 (see #7773).
Thus if a new failure occurred within one of those 22 doctests, I couldn't see it.



---

archive/issue_comments_003346.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-03-14T12:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3346",
    "user": "https://github.com/zimmermann6"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_003347.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Paul Zimmermann\"",
    "created_at": "2010-03-14T12:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3347",
    "user": "https://github.com/zimmermann6"
}
```

Changing reviewer from "" to "Paul Zimmermann"



---

archive/issue_comments_003348.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.4.alpha0\"",
    "created_at": "2010-04-15T05:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3348",
    "user": "https://github.com/jhpalmieri"
}
```

Changing merged from "" to "sage-4.4.alpha0"



---

archive/issue_events_001595.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T05:20:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/598#event-1595"
}
```



---

archive/issue_comments_003349.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-04-15T05:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3349",
    "user": "https://github.com/jhpalmieri"
}
```

Resolution: fixed



---

archive/issue_comments_003350.json:
```json
{
    "body": "<a id='comment:5'></a>Merged in 4.4.alpha0.",
    "created_at": "2010-04-15T05:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/598#issuecomment-3350",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>Merged in 4.4.alpha0.
