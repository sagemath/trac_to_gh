# Issue 637: notebook improvement -- upload allow txt worksheets.

archive/issues_000637.json:
```json
{
    "assignees": [],
    "body": "\n```\n> 1) It would be nice if one could upload directly the text of a\n>    worksheet to SAGE and have it automatically evaluated as an\n>    uploaded worksheet.\n\nI like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in \nthe \"upload a file\" box you can upload plain text files in addition\nto .sws files. \n```\n\nAssignee: **@boothby**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/637_\n\n",
    "closed_at": "2008-05-17T18:36:20Z",
    "created_at": "2007-09-11T04:39:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.0.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue",
    "updated_at": "2008-05-17T18:36:20Z",
    "url": "https://github.com/sagemath/sage/issues/637",
    "user": "https://github.com/williamstein"
}
```

```
> 1) It would be nice if one could upload directly the text of a
>    worksheet to SAGE and have it automatically evaluated as an
>    uploaded worksheet.

I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in 
the "upload a file" box you can upload plain text files in addition
to .sws files. 
```

Assignee: **@boothby**

_Issue created by migration from https://trac.sagemath.org/ticket/637_





---

archive/issue_events_005073.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5073"
}
```



---

archive/issue_events_005074.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5074"
}
```



---

archive/issue_events_005075.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5075"
}
```



---

archive/issue_events_005076.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5076"
}
```



---

archive/issue_events_005077.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5077"
}
```



---

archive/issue_events_005078.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5078"
}
```



---

archive/issue_events_005079.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5079"
}
```



---

archive/issue_events_005080.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5080"
}
```



---

archive/issue_comments_002373.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n >    worksheet to SAGE and have it automatically evaluated as an\n >    uploaded worksheet.\n \n-I like this suggestion.  It has always been on my (perhaps only mental)\n-todo list. \n+I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in \n+the \"upload a file\" box you can upload plain text files in addition\n+to .sws files. \n ```\n``````\n",
    "created_at": "2007-09-11T04:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2373",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 >    worksheet to SAGE and have it automatically evaluated as an
 >    uploaded worksheet.
 
-I like this suggestion.  It has always been on my (perhaps only mental)
-todo list. 
+I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in 
+the "upload a file" box you can upload plain text files in addition
+to .sws files. 
 ```
``````




---

archive/issue_events_005081.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:41:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement --",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5081"
}
```



---

archive/issue_comments_002374.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\n\n```\n21:39 < boothby> wstein -- can we close #637?\n21:40 < wstein> no.\n21:40 < wstein> I don't think so.\n21:40 < wstein> The idea was supposed to be that you could make a wiki\n21:40 < wstein> marked up .txt file, with {{{'s\n21:40 < wstein> and upload it.\n21:40 < wstein> And get a worksheet.\n```",
    "created_at": "2008-03-17T04:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2374",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:3" align="right">Comment 3</div>


```
21:39 < boothby> wstein -- can we close #637?
21:40 < wstein> no.
21:40 < wstein> I don't think so.
21:40 < wstein> The idea was supposed to be that you could make a wiki
21:40 < wstein> marked up .txt file, with {{{'s
21:40 < wstein> and upload it.
21:40 < wstein> And get a worksheet.
```



---

archive/issue_comments_002375.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\n\n```\n19:55 < tclemans> for the upload a plain text worksheet ticket: would it just\n                  work to create an empty worksheet and then call edit_save\n                  with the plain text?\n19:55 < wstein-3121> tclemans -- yep.\n19:55 < wstein-3121> That's exactly right.\n```",
    "created_at": "2008-05-11T02:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2375",
    "user": "https://github.com/TimothyClemans"
}
```

<div id="comment:4" align="right">Comment 4</div>


```
19:55 < tclemans> for the upload a plain text worksheet ticket: would it just
                  work to create an empty worksheet and then call edit_save
                  with the plain text?
19:55 < wstein-3121> tclemans -- yep.
19:55 < wstein-3121> That's exactly right.
```



---

archive/issue_comments_002376.json:
```json
{
    "body": "Attachment: **[sage-637.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz)**",
    "created_at": "2008-05-11T05:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2376",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[sage-637.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz)**



---

archive/issue_comments_002377.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThe attached patch:\n\n1. Implements uploading .txt files (plain text worksheets).\n2. Adds lots of related documentation, docstrings, doctests, etc., and clean up some related code.",
    "created_at": "2008-05-11T05:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2377",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">Comment 5</div>

The attached patch:

1. Implements uploading .txt files (plain text worksheets).
2. Adds lots of related documentation, docstrings, doctests, etc., and clean up some related code.



---

archive/issue_events_005082.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-05-11T05:04:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5082"
}
```



---

archive/issue_events_005083.json:
```json
{
    "actor": "https://github.com/TimothyClemans",
    "created_at": "2008-05-11T14:05:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5083"
}
```



---

archive/issue_comments_002378.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI can't seem to apply the patch.\n\n```\nsage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw')\nAttempting to load remote file: https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw\nLoading: [..]\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg status\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg status\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg import   \"/home/tclemans/.sage/temp/sage/27583/tmp_0.patch\"\napplying /home/tclemans/.sage/temp/sage/27583/tmp_0.patch\npatching file sage/server/notebook/notebook.py\nHunk #1 FAILED at 148\n1 out of 4 hunks FAILED -- saving rejects to file sage/server/notebook/notebook.py.rej\nabort: patch failed to apply\nsage: version()\n'SAGE Version 3.0.1, Release Date: 2008-05-05'\n```",
    "created_at": "2008-05-11T14:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2378",
    "user": "https://github.com/TimothyClemans"
}
```

<div id="comment:6" align="right">Comment 6</div>

I can't seem to apply the patch.

```
sage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw')
Attempting to load remote file: https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw
Loading: [..]
cd "/home/tclemans/sage-3.0/devel/sage" && hg status
cd "/home/tclemans/sage-3.0/devel/sage" && hg status
cd "/home/tclemans/sage-3.0/devel/sage" && hg import   "/home/tclemans/.sage/temp/sage/27583/tmp_0.patch"
applying /home/tclemans/.sage/temp/sage/27583/tmp_0.patch
patching file sage/server/notebook/notebook.py
Hunk #1 FAILED at 148
1 out of 4 hunks FAILED -- saving rejects to file sage/server/notebook/notebook.py.rej
abort: patch failed to apply
sage: version()
'SAGE Version 3.0.1, Release Date: 2008-05-05'
```



---

archive/issue_events_005084.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-11T14:07:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5084"
}
```



---

archive/issue_comments_002379.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nThis is likely a dependency issue. William can provide a dependency tree for the 15+ notebook patches he did during Bug Day 12.\n\nCheers,\n\nMichael",
    "created_at": "2008-05-11T14:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2379",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:7" align="right">Comment 7</div>

This is likely a dependency issue. William can provide a dependency tree for the 15+ notebook patches he did during Bug Day 12.

Cheers,

Michael



---

archive/issue_comments_002380.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI applied the patches in the following order and had no problems:\n\n```\n1733\n1864\n2359\n2636\n2884\n2992\n3024\n3053\n637\n```",
    "created_at": "2008-05-12T06:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2380",
    "user": "https://github.com/boothby"
}
```

<div id="comment:8" align="right">Comment 8</div>

I applied the patches in the following order and had no problems:

```
1733
1864
2359
2636
2884
2992
3024
3053
637
```



---

archive/issue_comments_002381.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n the \"upload a file\" box you can upload plain text files in addition\n to .sws files. \n ```\n+\n+http://sage.math.washington.edu/home/boothby/pippenger.sws\n``````\n",
    "created_at": "2008-05-12T06:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2381",
    "user": "https://github.com/boothby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
 the "upload a file" box you can upload plain text files in addition
 to .sws files. 
 ```
+
+http://sage.math.washington.edu/home/boothby/pippenger.sws
``````




---

archive/issue_events_005085.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-12T06:23:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "[mostly positive review] notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5085"
}
```



---

archive/issue_comments_002382.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nWorks, except when I tried to upload a rather old (from SD3) worksheet:\n\n```\n2008-05-11 22:47:55-0700 [-] cd \"/home/boothby/.sage/temp/eight/32244/dir_1\"; tar -jxf \"/home/boothby/.sage/temp/eight/32244/dir_0/pippenger.sws\"\n2008-05-11 22:47:55-0700 [-] Exception rendering:\n2008-05-11 22:47:55-0700 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 609, in gotResult\n            _deferGenerator(g, deferred)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 586, in _deferGenerator\n            deferred.callback(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 242, in callback\n            self._startRunCallbacks(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 307, in _startRunCallbacks\n            self._runCallbacks()\n        --- <exception caught here> ---\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 323, in _runCallbacks\n            self.result = callback(self.result, *args, **kw)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py\", line 230, in <lambda>\n            ).addCallback(lambda res: self.render(request))\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py\", line 326, in render\n            W = notebook.import_worksheet(filename, self.username)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py\", line 800, in import_worksheet\n            return self._import_worksheet_sws(filename, owner)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py\", line 882, in _import_worksheet_sws\n            worksheet_txt = open(text_filename).read()\n        exceptions.IOError: [Errno 2] No such file or directory: '/home/boothby/.sage/temp/eight/32244/dir_1/pippenger/worksheet.txt'\n```\n\nIt would be nice be able to recover this.  It isn't a problem (for me) to do this manually, and this is probably irrelevant to this ticket.",
    "created_at": "2008-05-12T06:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2382",
    "user": "https://github.com/boothby"
}
```

<div id="comment:9" align="right">Comment 9</div>

Works, except when I tried to upload a rather old (from SD3) worksheet:

```
2008-05-11 22:47:55-0700 [-] cd "/home/boothby/.sage/temp/eight/32244/dir_1"; tar -jxf "/home/boothby/.sage/temp/eight/32244/dir_0/pippenger.sws"
2008-05-11 22:47:55-0700 [-] Exception rendering:
2008-05-11 22:47:55-0700 [-] Unhandled Error
        Traceback (most recent call last):
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 609, in gotResult
            _deferGenerator(g, deferred)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 586, in _deferGenerator
            deferred.callback(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 242, in callback
            self._startRunCallbacks(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 307, in _startRunCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 323, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py", line 230, in <lambda>
            ).addCallback(lambda res: self.render(request))
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py", line 326, in render
            W = notebook.import_worksheet(filename, self.username)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py", line 800, in import_worksheet
            return self._import_worksheet_sws(filename, owner)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py", line 882, in _import_worksheet_sws
            worksheet_txt = open(text_filename).read()
        exceptions.IOError: [Errno 2] No such file or directory: '/home/boothby/.sage/temp/eight/32244/dir_1/pippenger/worksheet.txt'
```

It would be nice be able to recover this.  It isn't a problem (for me) to do this manually, and this is probably irrelevant to this ticket.



---

archive/issue_comments_002383.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nAccidentally pasted this url to the description, not my comment:\n\n\nhttp://sage.math.washington.edu/home/boothby/pippenger.sws",
    "created_at": "2008-05-12T06:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2383",
    "user": "https://github.com/boothby"
}
```

<div id="comment:10" align="right">Comment 10</div>

Accidentally pasted this url to the description, not my comment:


http://sage.math.washington.edu/home/boothby/pippenger.sws



---

archive/issue_comments_002384.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,5 +8,3 @@\n the \"upload a file\" box you can upload plain text files in addition\n to .sws files. \n ```\n-\n-http://sage.math.washington.edu/home/boothby/pippenger.sws\n``````\n",
    "created_at": "2008-05-12T06:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2384",
    "user": "https://github.com/boothby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,5 +8,3 @@
 the "upload a file" box you can upload plain text files in addition
 to .sws files. 
 ```
-
-http://sage.math.washington.edu/home/boothby/pippenger.sws
``````




---

archive/issue_events_005086.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-05-15T01:12:27Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "[mostly positive review] notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5086"
}
```



---

archive/issue_comments_002385.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nAttachment: **[sage-637-part2.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part2.patch.gz)**",
    "created_at": "2008-05-15T01:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2385",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:11" align="right">Comment 11</div>

Attachment: **[sage-637-part2.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part2.patch.gz)**



---

archive/issue_comments_002386.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nThis occurs whenever I try to upload from a URL:\n\n```\n2008-05-14 18:28:20-0700 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 609, in gotResult\n            _deferGenerator(g, deferred)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 586, in _deferGenerator\n            deferred.callback(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 242, in callback\n            self._startRunCallbacks(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 307, in _startRunCallbacks\n            self._runCallbacks()\n        --- <exception caught here> ---\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 323, in _runCallbacks\n            self.result = callback(self.result, *args, **kw)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py\", line 230, in <lambda>\n            ).addCallback(lambda res: self.render(request))\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py\", line 333, in render\n            os.unlink(filename)\n        exceptions.UnboundLocalError: local variable 'filename' referenced before assignment\n```",
    "created_at": "2008-05-15T02:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2386",
    "user": "https://github.com/boothby"
}
```

<div id="comment:12" align="right">Comment 12</div>

This occurs whenever I try to upload from a URL:

```
2008-05-14 18:28:20-0700 [-] Unhandled Error
        Traceback (most recent call last):
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 609, in gotResult
            _deferGenerator(g, deferred)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 586, in _deferGenerator
            deferred.callback(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 242, in callback
            self._startRunCallbacks(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 307, in _startRunCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 323, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py", line 230, in <lambda>
            ).addCallback(lambda res: self.render(request))
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py", line 333, in render
            os.unlink(filename)
        exceptions.UnboundLocalError: local variable 'filename' referenced before assignment
```



---

archive/issue_events_005087.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T02:00:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5087"
}
```



---

archive/issue_comments_002387.json:
```json
{
    "body": "Attachment: **[sage-637-part3.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part3.patch.gz)**",
    "created_at": "2008-05-15T02:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2387",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[sage-637-part3.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part3.patch.gz)**



---

archive/issue_events_005088.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5088"
}
```



---

archive/issue_events_005089.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5089"
}
```



---

archive/issue_events_005090.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5090"
}
```



---

archive/issue_comments_002388.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nworks!",
    "created_at": "2008-05-15T03:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2388",
    "user": "https://github.com/boothby"
}
```

<div id="comment:13" align="right">Comment 13</div>

works!



---

archive/issue_comments_002389.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nMerged all three patches in Sage 3.0.2.alpha1",
    "created_at": "2008-05-17T18:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2389",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:14" align="right">Comment 14</div>

Merged all three patches in Sage 3.0.2.alpha1



---

archive/issue_events_005091.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-17T18:36:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5091"
}
```



---

archive/issue_events_005092.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-17T18:36:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5092"
}
```
