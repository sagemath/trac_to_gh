# Issue 637: notebook improvement -- upload allow txt worksheets.

archive/issues_000637.json:
```json
{
    "assignees": [],
    "body": "\n```\n> 1) It would be nice if one could upload directly the text of a\n>    worksheet to SAGE and have it automatically evaluated as an\n>    uploaded worksheet.\n\nI like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in \nthe \"upload a file\" box you can upload plain text files in addition\nto .sws files. \n```\n\n**Assignee:** boothby\n\nIssue created by migration from https://trac.sagemath.org/ticket/637\n\n",
    "closed_at": "2008-05-17T18:36:20Z",
    "created_at": "2007-09-11T04:39:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.0.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue",
    "updated_at": "2008-05-17T18:36:20Z",
    "url": "https://github.com/sagemath/sage/issues/637",
    "user": "https://github.com/williamstein"
}
```

```
> 1) It would be nice if one could upload directly the text of a
>    worksheet to SAGE and have it automatically evaluated as an
>    uploaded worksheet.

I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in 
the "upload a file" box you can upload plain text files in addition
to .sws files. 
```

**Assignee:** boothby

Issue created by migration from https://trac.sagemath.org/ticket/637





---

archive/issue_events_004702.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-3.0.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4702"
}
```



---

archive/issue_events_004703.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "08517b",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4703"
}
```



---

archive/issue_events_004704.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4704"
}
```



---

archive/issue_events_004705.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4705"
}
```



---

archive/issue_events_004706.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4706"
}
```



---

archive/issue_events_004707.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4707"
}
```



---

archive/issue_comments_002372.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n >    worksheet to SAGE and have it automatically evaluated as an\n >    uploaded worksheet.\n \n-I like this suggestion.  It has always been on my (perhaps only mental)\n-todo list. \n+I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in \n+the \"upload a file\" box you can upload plain text files in addition\n+to .sws files. \n ```\n``````\n",
    "created_at": "2007-09-11T04:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2372",
    "user": "https://github.com/williamstein"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 >    worksheet to SAGE and have it automatically evaluated as an
 >    uploaded worksheet.
 
-I like this suggestion.  It has always been on my (perhaps only mental)
-todo list. 
+I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in 
+the "upload a file" box you can upload plain text files in addition
+to .sws files. 
 ```
``````




---

archive/issue_events_004708.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:41:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "rename": {
        "from": "notebook improvement --",
        "to": "notebook improvement -- upload allow txt worksheets."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4708"
}
```



---

archive/issue_comments_002373.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\n\n```\n21:39 < boothby> wstein -- can we close #637?\n21:40 < wstein> no.\n21:40 < wstein> I don't think so.\n21:40 < wstein> The idea was supposed to be that you could make a wiki\n21:40 < wstein> marked up .txt file, with {{{'s\n21:40 < wstein> and upload it.\n21:40 < wstein> And get a worksheet.\n```",
    "created_at": "2008-03-17T04:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2373",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'>**Comment 3:**</a>

```
21:39 < boothby> wstein -- can we close #637?
21:40 < wstein> no.
21:40 < wstein> I don't think so.
21:40 < wstein> The idea was supposed to be that you could make a wiki
21:40 < wstein> marked up .txt file, with {{{'s
21:40 < wstein> and upload it.
21:40 < wstein> And get a worksheet.
```



---

archive/issue_comments_002374.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\n\n```\n19:55 < tclemans> for the upload a plain text worksheet ticket: would it just\n                  work to create an empty worksheet and then call edit_save\n                  with the plain text?\n19:55 < wstein-3121> tclemans -- yep.\n19:55 < wstein-3121> That's exactly right.\n```",
    "created_at": "2008-05-11T02:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2374",
    "user": "https://github.com/sagetrac-TimothyClemans"
}
```

<a id='comment:4'>**Comment 4:**</a>

```
19:55 < tclemans> for the upload a plain text worksheet ticket: would it just
                  work to create an empty worksheet and then call edit_save
                  with the plain text?
19:55 < wstein-3121> tclemans -- yep.
19:55 < wstein-3121> That's exactly right.
```



---

archive/issue_comments_002375.json:
```json
{
    "body": "**Attachment:** [sage-637.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz)",
    "created_at": "2008-05-11T05:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2375",
    "user": "https://github.com/williamstein"
}
```

**Attachment:** [sage-637.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz)



---

archive/issue_comments_002376.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nThe attached patch:\n\n1. Implements uploading .txt files (plain text worksheets).\n2. Adds lots of related documentation, docstrings, doctests, etc., and clean up some related code.",
    "created_at": "2008-05-11T05:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2376",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'>**Comment 5:**</a>
The attached patch:

1. Implements uploading .txt files (plain text worksheets).
2. Adds lots of related documentation, docstrings, doctests, etc., and clean up some related code.



---

archive/issue_events_004709.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-05-11T05:04:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4709"
}
```



---

archive/issue_events_004710.json:
```json
{
    "actor": "https://github.com/sagetrac-TimothyClemans",
    "created_at": "2008-05-11T14:05:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "rename": {
        "from": "notebook improvement -- upload allow txt worksheets.",
        "to": "[negative review] notebook improvement -- upload allow txt worksheets."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4710"
}
```



---

archive/issue_comments_002377.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nI can't seem to apply the patch.\n\n```\nsage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw')\nAttempting to load remote file: https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw\nLoading: [..]\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg status\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg status\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg import   \"/home/tclemans/.sage/temp/sage/27583/tmp_0.patch\"\napplying /home/tclemans/.sage/temp/sage/27583/tmp_0.patch\npatching file sage/server/notebook/notebook.py\nHunk #1 FAILED at 148\n1 out of 4 hunks FAILED -- saving rejects to file sage/server/notebook/notebook.py.rej\nabort: patch failed to apply\nsage: version()\n'SAGE Version 3.0.1, Release Date: 2008-05-05'\n```",
    "created_at": "2008-05-11T14:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2377",
    "user": "https://github.com/sagetrac-TimothyClemans"
}
```

<a id='comment:6'>**Comment 6:**</a>
I can't seem to apply the patch.

```
sage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw')
Attempting to load remote file: https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw
Loading: [..]
cd "/home/tclemans/sage-3.0/devel/sage" && hg status
cd "/home/tclemans/sage-3.0/devel/sage" && hg status
cd "/home/tclemans/sage-3.0/devel/sage" && hg import   "/home/tclemans/.sage/temp/sage/27583/tmp_0.patch"
applying /home/tclemans/.sage/temp/sage/27583/tmp_0.patch
patching file sage/server/notebook/notebook.py
Hunk #1 FAILED at 148
1 out of 4 hunks FAILED -- saving rejects to file sage/server/notebook/notebook.py.rej
abort: patch failed to apply
sage: version()
'SAGE Version 3.0.1, Release Date: 2008-05-05'
```



---

archive/issue_events_004711.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-11T14:07:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "rename": {
        "from": "[negative review] notebook improvement -- upload allow txt worksheets.",
        "to": "notebook improvement -- upload allow txt worksheets."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4711"
}
```



---

archive/issue_comments_002378.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nThis is likely a dependency issue. William can provide a dependency tree for the 15+ notebook patches he did during Bug Day 12.\n\nCheers,\n\nMichael",
    "created_at": "2008-05-11T14:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2378",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:7'>**Comment 7:**</a>
This is likely a dependency issue. William can provide a dependency tree for the 15+ notebook patches he did during Bug Day 12.

Cheers,

Michael



---

archive/issue_comments_002379.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nI applied the patches in the following order and had no problems:\n\n```\n1733\n1864\n2359\n2636\n2884\n2992\n3024\n3053\n637\n```",
    "created_at": "2008-05-12T06:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2379",
    "user": "https://github.com/sagetrac-boothby"
}
```

<a id='comment:8'>**Comment 8:**</a>
I applied the patches in the following order and had no problems:

```
1733
1864
2359
2636
2884
2992
3024
3053
637
```



---

archive/issue_comments_002380.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n the \"upload a file\" box you can upload plain text files in addition\n to .sws files. \n ```\n+\n+http://sage.math.washington.edu/home/boothby/pippenger.sws\n``````\n",
    "created_at": "2008-05-12T06:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2380",
    "user": "https://github.com/sagetrac-boothby"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
 the "upload a file" box you can upload plain text files in addition
 to .sws files. 
 ```
+
+http://sage.math.washington.edu/home/boothby/pippenger.sws
``````




---

archive/issue_events_004712.json:
```json
{
    "actor": "https://github.com/sagetrac-boothby",
    "created_at": "2008-05-12T06:23:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "rename": {
        "from": "notebook improvement -- upload allow txt worksheets.",
        "to": "[mostly positive review] notebook improvement -- upload allow txt worksheets."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4712"
}
```



---

archive/issue_comments_002381.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nWorks, except when I tried to upload a rather old (from SD3) worksheet:\n\n```\n2008-05-11 22:47:55-0700 [-] cd \"/home/boothby/.sage/temp/eight/32244/dir_1\"; tar -jxf \"/home/boothby/.sage/temp/eight/32244/dir_0/pippenger.sws\"\n2008-05-11 22:47:55-0700 [-] Exception rendering:\n2008-05-11 22:47:55-0700 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 609, in gotResult\n            _deferGenerator(g, deferred)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 586, in _deferGenerator\n            deferred.callback(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 242, in callback\n            self._startRunCallbacks(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 307, in _startRunCallbacks\n            self._runCallbacks()\n        --- <exception caught here> ---\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 323, in _runCallbacks\n            self.result = callback(self.result, *args, **kw)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py\", line 230, in <lambda>\n            ).addCallback(lambda res: self.render(request))\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py\", line 326, in render\n            W = notebook.import_worksheet(filename, self.username)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py\", line 800, in import_worksheet\n            return self._import_worksheet_sws(filename, owner)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py\", line 882, in _import_worksheet_sws\n            worksheet_txt = open(text_filename).read()\n        exceptions.IOError: [Errno 2] No such file or directory: '/home/boothby/.sage/temp/eight/32244/dir_1/pippenger/worksheet.txt'\n```\n\nIt would be nice be able to recover this.  It isn't a problem (for me) to do this manually, and this is probably irrelevant to this ticket.",
    "created_at": "2008-05-12T06:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2381",
    "user": "https://github.com/sagetrac-boothby"
}
```

<a id='comment:9'>**Comment 9:**</a>
Works, except when I tried to upload a rather old (from SD3) worksheet:

```
2008-05-11 22:47:55-0700 [-] cd "/home/boothby/.sage/temp/eight/32244/dir_1"; tar -jxf "/home/boothby/.sage/temp/eight/32244/dir_0/pippenger.sws"
2008-05-11 22:47:55-0700 [-] Exception rendering:
2008-05-11 22:47:55-0700 [-] Unhandled Error
        Traceback (most recent call last):
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 609, in gotResult
            _deferGenerator(g, deferred)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 586, in _deferGenerator
            deferred.callback(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 242, in callback
            self._startRunCallbacks(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 307, in _startRunCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 323, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py", line 230, in <lambda>
            ).addCallback(lambda res: self.render(request))
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py", line 326, in render
            W = notebook.import_worksheet(filename, self.username)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py", line 800, in import_worksheet
            return self._import_worksheet_sws(filename, owner)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py", line 882, in _import_worksheet_sws
            worksheet_txt = open(text_filename).read()
        exceptions.IOError: [Errno 2] No such file or directory: '/home/boothby/.sage/temp/eight/32244/dir_1/pippenger/worksheet.txt'
```

It would be nice be able to recover this.  It isn't a problem (for me) to do this manually, and this is probably irrelevant to this ticket.



---

archive/issue_comments_002382.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nAccidentally pasted this url to the description, not my comment:\n\n\nhttp://sage.math.washington.edu/home/boothby/pippenger.sws",
    "created_at": "2008-05-12T06:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2382",
    "user": "https://github.com/sagetrac-boothby"
}
```

<a id='comment:10'>**Comment 10:**</a>
Accidentally pasted this url to the description, not my comment:


http://sage.math.washington.edu/home/boothby/pippenger.sws



---

archive/issue_comments_002383.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,5 +8,3 @@\n the \"upload a file\" box you can upload plain text files in addition\n to .sws files. \n ```\n-\n-http://sage.math.washington.edu/home/boothby/pippenger.sws\n``````\n",
    "created_at": "2008-05-12T06:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2383",
    "user": "https://github.com/sagetrac-boothby"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,5 +8,3 @@
 the "upload a file" box you can upload plain text files in addition
 to .sws files. 
 ```
-
-http://sage.math.washington.edu/home/boothby/pippenger.sws
``````




---

archive/issue_events_004713.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-05-15T01:12:27Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "rename": {
        "from": "[mostly positive review] notebook improvement -- upload allow txt worksheets.",
        "to": "notebook improvement -- upload allow txt worksheets."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4713"
}
```



---

archive/issue_comments_002384.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\n**Attachment:** [sage-637-part2.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part2.patch.gz)",
    "created_at": "2008-05-15T01:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2384",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:11'>**Comment 11:**</a>
**Attachment:** [sage-637-part2.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part2.patch.gz)



---

archive/issue_comments_002385.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nThis occurs whenever I try to upload from a URL:\n\n```\n2008-05-14 18:28:20-0700 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 609, in gotResult\n            _deferGenerator(g, deferred)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 586, in _deferGenerator\n            deferred.callback(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 242, in callback\n            self._startRunCallbacks(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 307, in _startRunCallbacks\n            self._runCallbacks()\n        --- <exception caught here> ---\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 323, in _runCallbacks\n            self.result = callback(self.result, *args, **kw)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py\", line 230, in <lambda>\n            ).addCallback(lambda res: self.render(request))\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py\", line 333, in render\n            os.unlink(filename)\n        exceptions.UnboundLocalError: local variable 'filename' referenced before assignment\n```",
    "created_at": "2008-05-15T02:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2385",
    "user": "https://github.com/sagetrac-boothby"
}
```

<a id='comment:12'>**Comment 12:**</a>
This occurs whenever I try to upload from a URL:

```
2008-05-14 18:28:20-0700 [-] Unhandled Error
        Traceback (most recent call last):
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 609, in gotResult
            _deferGenerator(g, deferred)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 586, in _deferGenerator
            deferred.callback(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 242, in callback
            self._startRunCallbacks(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 307, in _startRunCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 323, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py", line 230, in <lambda>
            ).addCallback(lambda res: self.render(request))
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py", line 333, in render
            os.unlink(filename)
        exceptions.UnboundLocalError: local variable 'filename' referenced before assignment
```



---

archive/issue_events_004714.json:
```json
{
    "actor": "https://github.com/sagetrac-boothby",
    "created_at": "2008-05-15T02:00:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "rename": {
        "from": "notebook improvement -- upload allow txt worksheets.",
        "to": "[negative review] notebook improvement -- upload allow txt worksheets."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4714"
}
```



---

archive/issue_comments_002386.json:
```json
{
    "body": "**Attachment:** [sage-637-part3.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part3.patch.gz)",
    "created_at": "2008-05-15T02:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2386",
    "user": "https://github.com/williamstein"
}
```

**Attachment:** [sage-637-part3.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part3.patch.gz)



---

archive/issue_events_004715.json:
```json
{
    "actor": "https://github.com/sagetrac-boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "rename": {
        "from": "[negative review] notebook improvement -- upload allow txt worksheets.",
        "to": "notebook improvement -- upload allow txt worksheets."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4715"
}
```



---

archive/issue_events_004716.json:
```json
{
    "actor": "https://github.com/sagetrac-boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4716"
}
```



---

archive/issue_events_004717.json:
```json
{
    "actor": "https://github.com/sagetrac-boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4717"
}
```



---

archive/issue_comments_002387.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nworks!",
    "created_at": "2008-05-15T03:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2387",
    "user": "https://github.com/sagetrac-boothby"
}
```

<a id='comment:13'>**Comment 13:**</a>
works!



---

archive/issue_comments_002388.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nMerged all three patches in Sage 3.0.2.alpha1",
    "created_at": "2008-05-17T18:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2388",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:14'>**Comment 14:**</a>
Merged all three patches in Sage 3.0.2.alpha1



---

archive/issue_events_004718.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-17T18:36:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4718"
}
```



---

archive/issue_events_004719.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-17T18:36:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-4719"
}
```
