# Issue 637: notebook improvement -- upload allow txt worksheets.

archive/issues_000637.json:
```json
{
    "assignees": [
        "https://github.com/boothby"
    ],
    "body": "<div id=\"comment:0\"></div>\n\n\n```\n> 1) It would be nice if one could upload directly the text of a\n>    worksheet to SAGE and have it automatically evaluated as an\n>    uploaded worksheet.\n\nI like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in \nthe \"upload a file\" box you can upload plain text files in addition\nto .sws files. \n```\n\nComponent: **notebook**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/637_\n\n",
    "closed_at": "2008-05-17T18:36:20Z",
    "created_at": "2007-09-11T04:39:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.0.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue",
    "updated_at": "2008-05-17T18:36:20Z",
    "url": "https://github.com/sagemath/sage/issues/637",
    "user": "https://github.com/williamstein"
}
```
<div id="comment:0"></div>


```
> 1) It would be nice if one could upload directly the text of a
>    worksheet to SAGE and have it automatically evaluated as an
>    uploaded worksheet.

I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in 
the "upload a file" box you can upload plain text files in addition
to .sws files. 
```

Component: **notebook**

_Issue created by migration from https://trac.sagemath.org/ticket/637_





---

archive/issue_events_005654.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5654"
}
```



---

archive/issue_events_005655.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "0000b0",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5655"
}
```



---

archive/issue_events_005656.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5656"
}
```



---

archive/issue_events_005657.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5657"
}
```



---

archive/issue_events_005658.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2007-09-11T04:39:49Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "subject": "https://github.com/williamstein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5658"
}
```



---

archive/issue_events_005659.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5659"
}
```



---

archive/issue_events_005660.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5660"
}
```



---

archive/issue_events_005661.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5661"
}
```



---

archive/issue_events_005662.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:40:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "milestone_number": null,
    "milestone_title": "sage-2.9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5662"
}
```



---

archive/issue_comments_002224.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n >    worksheet to SAGE and have it automatically evaluated as an\n >    uploaded worksheet.\n \n-I like this suggestion.  It has always been on my (perhaps only mental)\n-todo list. \n+I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in \n+the \"upload a file\" box you can upload plain text files in addition\n+to .sws files. \n ```\n``````\n",
    "created_at": "2007-09-11T04:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2224",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 >    worksheet to SAGE and have it automatically evaluated as an
 >    uploaded worksheet.
 
-I like this suggestion.  It has always been on my (perhaps only mental)
-todo list. 
+I like this suggestion.  It has always been on my (perhaps only mental) todo list.   To clarify -- this means making it in 
+the "upload a file" box you can upload plain text files in addition
+to .sws files. 
 ```
``````




---

archive/issue_events_005663.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-09-11T04:41:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement --",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5663"
}
```



---

archive/issue_comments_002225.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n\n```\n21:39 < boothby> wstein -- can we close #637?\n21:40 < wstein> no.\n21:40 < wstein> I don't think so.\n21:40 < wstein> The idea was supposed to be that you could make a wiki\n21:40 < wstein> marked up .txt file, with {{{'s\n21:40 < wstein> and upload it.\n21:40 < wstein> And get a worksheet.\n```",
    "created_at": "2008-03-17T04:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2225",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:3" align="right">comment:3</div>


```
21:39 < boothby> wstein -- can we close #637?
21:40 < wstein> no.
21:40 < wstein> I don't think so.
21:40 < wstein> The idea was supposed to be that you could make a wiki
21:40 < wstein> marked up .txt file, with {{{'s
21:40 < wstein> and upload it.
21:40 < wstein> And get a worksheet.
```



---

archive/issue_comments_002226.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n\n```\n19:55 < tclemans> for the upload a plain text worksheet ticket: would it just\n                  work to create an empty worksheet and then call edit_save\n                  with the plain text?\n19:55 < wstein-3121> tclemans -- yep.\n19:55 < wstein-3121> That's exactly right.\n```",
    "created_at": "2008-05-11T02:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2226",
    "user": "https://github.com/TimothyClemans"
}
```

<div id="comment:4" align="right">comment:4</div>


```
19:55 < tclemans> for the upload a plain text worksheet ticket: would it just
                  work to create an empty worksheet and then call edit_save
                  with the plain text?
19:55 < wstein-3121> tclemans -- yep.
19:55 < wstein-3121> That's exactly right.
```



---

archive/issue_comments_002227.json:
```json
{
    "body": "Attachment: **[sage-637.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz)**",
    "created_at": "2008-05-11T05:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2227",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[sage-637.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz)**



---

archive/issue_comments_002228.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe attached patch:\n\n1. Implements uploading .txt files (plain text worksheets).\n2. Adds lots of related documentation, docstrings, doctests, etc., and clean up some related code.",
    "created_at": "2008-05-11T05:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2228",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">comment:5</div>

The attached patch:

1. Implements uploading .txt files (plain text worksheets).
2. Adds lots of related documentation, docstrings, doctests, etc., and clean up some related code.



---

archive/issue_events_005664.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-05-11T05:04:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5664"
}
```



---

archive/issue_events_005665.json:
```json
{
    "actor": "https://github.com/TimothyClemans",
    "created_at": "2008-05-11T14:05:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5665"
}
```



---

archive/issue_comments_002229.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI can't seem to apply the patch.\n\n```\nsage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw')\nAttempting to load remote file: https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw\nLoading: [..]\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg status\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg status\ncd \"/home/tclemans/sage-3.0/devel/sage\" && hg import   \"/home/tclemans/.sage/temp/sage/27583/tmp_0.patch\"\napplying /home/tclemans/.sage/temp/sage/27583/tmp_0.patch\npatching file sage/server/notebook/notebook.py\nHunk #1 FAILED at 148\n1 out of 4 hunks FAILED -- saving rejects to file sage/server/notebook/notebook.py.rej\nabort: patch failed to apply\nsage: version()\n'SAGE Version 3.0.1, Release Date: 2008-05-05'\n```",
    "created_at": "2008-05-11T14:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2229",
    "user": "https://github.com/TimothyClemans"
}
```

<div id="comment:6" align="right">comment:6</div>

I can't seem to apply the patch.

```
sage: hg_sage.apply('https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw')
Attempting to load remote file: https://github.com/sagemath/sage/files/ticket637/sage-637.patch.gz?format=raw
Loading: [..]
cd "/home/tclemans/sage-3.0/devel/sage" && hg status
cd "/home/tclemans/sage-3.0/devel/sage" && hg status
cd "/home/tclemans/sage-3.0/devel/sage" && hg import   "/home/tclemans/.sage/temp/sage/27583/tmp_0.patch"
applying /home/tclemans/.sage/temp/sage/27583/tmp_0.patch
patching file sage/server/notebook/notebook.py
Hunk #1 FAILED at 148
1 out of 4 hunks FAILED -- saving rejects to file sage/server/notebook/notebook.py.rej
abort: patch failed to apply
sage: version()
'SAGE Version 3.0.1, Release Date: 2008-05-05'
```



---

archive/issue_events_005666.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-11T14:07:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5666"
}
```



---

archive/issue_comments_002230.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis is likely a dependency issue. William can provide a dependency tree for the 15+ notebook patches he did during Bug Day 12.\n\nCheers,\n\nMichael",
    "created_at": "2008-05-11T14:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2230",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:7" align="right">comment:7</div>

This is likely a dependency issue. William can provide a dependency tree for the 15+ notebook patches he did during Bug Day 12.

Cheers,

Michael



---

archive/issue_comments_002231.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI applied the patches in the following order and had no problems:\n\n```\n1733\n1864\n2359\n2636\n2884\n2992\n3024\n3053\n637\n```",
    "created_at": "2008-05-12T06:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2231",
    "user": "https://github.com/boothby"
}
```

<div id="comment:8" align="right">comment:8</div>

I applied the patches in the following order and had no problems:

```
1733
1864
2359
2636
2884
2992
3024
3053
637
```



---

archive/issue_comments_002232.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n the \"upload a file\" box you can upload plain text files in addition\n to .sws files. \n ```\n+\n+http://sage.math.washington.edu/home/boothby/pippenger.sws\n``````\n",
    "created_at": "2008-05-12T06:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2232",
    "user": "https://github.com/boothby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
 the "upload a file" box you can upload plain text files in addition
 to .sws files. 
 ```
+
+http://sage.math.washington.edu/home/boothby/pippenger.sws
``````




---

archive/issue_events_005667.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-12T06:23:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "[mostly positive review] notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5667"
}
```



---

archive/issue_comments_002233.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWorks, except when I tried to upload a rather old (from SD3) worksheet:\n\n```\n2008-05-11 22:47:55-0700 [-] cd \"/home/boothby/.sage/temp/eight/32244/dir_1\"; tar -jxf \"/home/boothby/.sage/temp/eight/32244/dir_0/pippenger.sws\"\n2008-05-11 22:47:55-0700 [-] Exception rendering:\n2008-05-11 22:47:55-0700 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 609, in gotResult\n            _deferGenerator(g, deferred)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 586, in _deferGenerator\n            deferred.callback(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 242, in callback\n            self._startRunCallbacks(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 307, in _startRunCallbacks\n            self._runCallbacks()\n        --- <exception caught here> ---\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 323, in _runCallbacks\n            self.result = callback(self.result, *args, **kw)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py\", line 230, in <lambda>\n            ).addCallback(lambda res: self.render(request))\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py\", line 326, in render\n            W = notebook.import_worksheet(filename, self.username)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py\", line 800, in import_worksheet\n            return self._import_worksheet_sws(filename, owner)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py\", line 882, in _import_worksheet_sws\n            worksheet_txt = open(text_filename).read()\n        exceptions.IOError: [Errno 2] No such file or directory: '/home/boothby/.sage/temp/eight/32244/dir_1/pippenger/worksheet.txt'\n```\n\nIt would be nice be able to recover this.  It isn't a problem (for me) to do this manually, and this is probably irrelevant to this ticket.",
    "created_at": "2008-05-12T06:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2233",
    "user": "https://github.com/boothby"
}
```

<div id="comment:9" align="right">comment:9</div>

Works, except when I tried to upload a rather old (from SD3) worksheet:

```
2008-05-11 22:47:55-0700 [-] cd "/home/boothby/.sage/temp/eight/32244/dir_1"; tar -jxf "/home/boothby/.sage/temp/eight/32244/dir_0/pippenger.sws"
2008-05-11 22:47:55-0700 [-] Exception rendering:
2008-05-11 22:47:55-0700 [-] Unhandled Error
        Traceback (most recent call last):
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 609, in gotResult
            _deferGenerator(g, deferred)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 586, in _deferGenerator
            deferred.callback(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 242, in callback
            self._startRunCallbacks(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 307, in _startRunCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 323, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py", line 230, in <lambda>
            ).addCallback(lambda res: self.render(request))
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py", line 326, in render
            W = notebook.import_worksheet(filename, self.username)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py", line 800, in import_worksheet
            return self._import_worksheet_sws(filename, owner)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/notebook.py", line 882, in _import_worksheet_sws
            worksheet_txt = open(text_filename).read()
        exceptions.IOError: [Errno 2] No such file or directory: '/home/boothby/.sage/temp/eight/32244/dir_1/pippenger/worksheet.txt'
```

It would be nice be able to recover this.  It isn't a problem (for me) to do this manually, and this is probably irrelevant to this ticket.



---

archive/issue_comments_002234.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAccidentally pasted this url to the description, not my comment:\n\n\nhttp://sage.math.washington.edu/home/boothby/pippenger.sws",
    "created_at": "2008-05-12T06:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2234",
    "user": "https://github.com/boothby"
}
```

<div id="comment:10" align="right">comment:10</div>

Accidentally pasted this url to the description, not my comment:


http://sage.math.washington.edu/home/boothby/pippenger.sws



---

archive/issue_comments_002235.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,5 +8,3 @@\n the \"upload a file\" box you can upload plain text files in addition\n to .sws files. \n ```\n-\n-http://sage.math.washington.edu/home/boothby/pippenger.sws\n``````\n",
    "created_at": "2008-05-12T06:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2235",
    "user": "https://github.com/boothby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,5 +8,3 @@
 the "upload a file" box you can upload plain text files in addition
 to .sws files. 
 ```
-
-http://sage.math.washington.edu/home/boothby/pippenger.sws
``````




---

archive/issue_events_005668.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-05-15T01:12:27Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "[mostly positive review] notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5668"
}
```



---

archive/issue_comments_002236.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[sage-637-part2.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part2.patch.gz)**",
    "created_at": "2008-05-15T01:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2236",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[sage-637-part2.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part2.patch.gz)**



---

archive/issue_comments_002237.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis occurs whenever I try to upload from a URL:\n\n```\n2008-05-14 18:28:20-0700 [-] Unhandled Error\n        Traceback (most recent call last):\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 609, in gotResult\n            _deferGenerator(g, deferred)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 586, in _deferGenerator\n            deferred.callback(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 242, in callback\n            self._startRunCallbacks(result)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 307, in _startRunCallbacks\n            self._runCallbacks()\n        --- <exception caught here> ---\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py\", line 323, in _runCallbacks\n            self.result = callback(self.result, *args, **kw)\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py\", line 230, in <lambda>\n            ).addCallback(lambda res: self.render(request))\n          File \"/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py\", line 333, in render\n            os.unlink(filename)\n        exceptions.UnboundLocalError: local variable 'filename' referenced before assignment\n```",
    "created_at": "2008-05-15T02:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2237",
    "user": "https://github.com/boothby"
}
```

<div id="comment:12" align="right">comment:12</div>

This occurs whenever I try to upload from a URL:

```
2008-05-14 18:28:20-0700 [-] Unhandled Error
        Traceback (most recent call last):
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 609, in gotResult
            _deferGenerator(g, deferred)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 586, in _deferGenerator
            deferred.callback(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 242, in callback
            self._startRunCallbacks(result)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 307, in _startRunCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/internet/defer.py", line 323, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/twisted/web2/resource.py", line 230, in <lambda>
            ).addCallback(lambda res: self.render(request))
          File "/home/boothby/sage-3.0.2.alpha0/local/lib/python2.5/site-packages/sage/server/notebook/twist.py", line 333, in render
            os.unlink(filename)
        exceptions.UnboundLocalError: local variable 'filename' referenced before assignment
```



---

archive/issue_events_005669.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T02:00:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "title_was": "notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5669"
}
```



---

archive/issue_comments_002238.json:
```json
{
    "body": "Attachment: **[sage-637-part3.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part3.patch.gz)**",
    "created_at": "2008-05-15T02:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2238",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[sage-637-part3.patch.gz](https://github.com/sagemath/sage/files/ticket637/sage-637-part3.patch.gz)**



---

archive/issue_events_005670.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "title_is": "notebook improvement -- upload allow txt worksheets.",
    "title_was": "[negative review] notebook improvement -- upload allow txt worksheets.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5670"
}
```



---

archive/issue_events_005671.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5671"
}
```



---

archive/issue_events_005672.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-05-15T03:17:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5672"
}
```



---

archive/issue_comments_002239.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nworks!",
    "created_at": "2008-05-15T03:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2239",
    "user": "https://github.com/boothby"
}
```

<div id="comment:13" align="right">comment:13</div>

works!



---

archive/issue_comments_002240.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMerged all three patches in Sage 3.0.2.alpha1",
    "created_at": "2008-05-17T18:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/637#issuecomment-2240",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:14" align="right">comment:14</div>

Merged all three patches in Sage 3.0.2.alpha1



---

archive/issue_events_005673.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-17T18:36:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5673"
}
```



---

archive/issue_events_005674.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-05-17T18:36:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/637#event-5674"
}
```
