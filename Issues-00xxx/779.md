# Issue 779: Matrix from Matrix_integer_dense() blows up

archive/issues_000779.json:
```json
{
    "body": "If I create a matrix with Matrix_integer_dense(), and try to display it, sage blows chunks.  It appears to happen inside the gmp library.  This is with 2.8.5.1 on a Core 2 Duo (Mac OS X, 10.4.10).\n\nsage: from sage.matrix.matrix_integer_dense import Matrix_integer_dense\nsage: a = Matrix_integer_dense.__new__(Matrix_integer_dense, Mat(ZZ,3), 0,0,0)\nsage: a.ncols()\n3\nsage: a.nrows()\n3\nsage: a\n\nProgram received signal EXC_BAD_ACCESS, Could not access memory.\nReason: KERN_INVALID_ADDRESS at address: 0x013af000\n0x00777991 in __gmpn_copyi ()\n(gdb) bt\n#0  0x00777991 in __gmpn_copyi ()\n#1  0x0075c4a0 in __gmpz_set ()\nPrevious frame inner to this frame (corrupt stack?)\n\n\nThen, there is\n\nsage: from sage.matrix.matrix_integer_dense import Matrix_integer_dense\nsage: a = Matrix_integer_dense.__new__(Matrix_integer_dense, Mat(ZZ,3), 0,0,0)\nsage: for i in range(a.nrows()):\n   ...:     for j in range(a.ncols()):\n   ...:         print a[i,j]\n   ...:         \n0\npython(16613) malloc: *** vm_allocate(size=1680302080) failed (error code=3)\npython(16613) malloc: *** error: can't allocate region\npython(16613) malloc: *** set a breakpoint in szone_error to debug\n\nProgram received signal EXC_BAD_ACCESS, Could not access memory.\nReason: KERN_PROTECTION_FAILURE at address: 0x00000000\n0x0076a0b7 in __gmpn_sqr_basecase ()\n(gdb) \n\nAssignee: @williamstein\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/779\n\n",
    "closed_at": "2007-10-04T19:48:52Z",
    "created_at": "2007-10-02T01:58:14Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Matrix from Matrix_integer_dense() blows up",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/779",
    "user": "https://trac.sagemath.org/admin/accounts/users/justin"
}
```
If I create a matrix with Matrix_integer_dense(), and try to display it, sage blows chunks.  It appears to happen inside the gmp library.  This is with 2.8.5.1 on a Core 2 Duo (Mac OS X, 10.4.10).

sage: from sage.matrix.matrix_integer_dense import Matrix_integer_dense
sage: a = Matrix_integer_dense.__new__(Matrix_integer_dense, Mat(ZZ,3), 0,0,0)
sage: a.ncols()
3
sage: a.nrows()
3
sage: a

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x013af000
0x00777991 in __gmpn_copyi ()
(gdb) bt
#0  0x00777991 in __gmpn_copyi ()
#1  0x0075c4a0 in __gmpz_set ()
Previous frame inner to this frame (corrupt stack?)


Then, there is

sage: from sage.matrix.matrix_integer_dense import Matrix_integer_dense
sage: a = Matrix_integer_dense.__new__(Matrix_integer_dense, Mat(ZZ,3), 0,0,0)
sage: for i in range(a.nrows()):
   ...:     for j in range(a.ncols()):
   ...:         print a[i,j]
   ...:         
0
python(16613) malloc: *** vm_allocate(size=1680302080) failed (error code=3)
python(16613) malloc: *** error: can't allocate region
python(16613) malloc: *** set a breakpoint in szone_error to debug

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_PROTECTION_FAILURE at address: 0x00000000
0x0076a0b7 in __gmpn_sqr_basecase ()
(gdb) 

Assignee: @williamstein

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/779





---

archive/issue_comments_004801.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2007-10-02T02:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/779#issuecomment-4801",
    "user": "https://trac.sagemath.org/admin/accounts/users/justin"
}
```

Resolution: invalid



---

archive/issue_events_002146.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/justin",
    "created_at": "2007-10-02T02:41:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/779#event-2146"
}
```



---

archive/issue_comments_004802.json:
```json
{
    "body": "<a id='comment:1'></a>I closed this because the formatting really sucks.  The new\nTrac# is 781.",
    "created_at": "2007-10-02T02:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/779#issuecomment-4802",
    "user": "https://trac.sagemath.org/admin/accounts/users/justin"
}
```

<a id='comment:1'></a>I closed this because the formatting really sucks.  The new
Trac# is 781.



---

archive/issue_comments_004803.json:
```json
{
    "body": "Changing status from closed to reopened.",
    "created_at": "2007-10-04T19:48:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/779#issuecomment-4803",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Changing status from closed to reopened.



---

archive/issue_events_002147.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-10-04T19:48:45Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/779#event-2147"
}
```



---

archive/issue_comments_004804.json:
```json
{
    "body": "Resolution changed from invalid to ",
    "created_at": "2007-10-04T19:48:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/779#issuecomment-4804",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution changed from invalid to 



---

archive/issue_events_002148.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2007-10-04T19:48:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/779#event-2148"
}
```



---

archive/issue_comments_004805.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2007-10-04T19:48:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/779#issuecomment-4805",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: duplicate
