# Issue 19090: Symmetric group characters as bases of the symmetric functions

Issue created by migration from https://trac.sagemath.org/ticket/19327

Original creator: zabrocki

Original creation time: 2015-10-01 15:05:55

CC:  tscrim sage-combinat alauve saliola darij

Keywords: sf, sage-combinat

This ticket implements two inhomogeneous bases of the symmetric functions, one called the `irreducible_character` and the other `induced_trivial_character` and shorthands `st` and `ht`.  These bases play the roll for the symmetric group realized as permutation matrices that the Schur functions play to the character of the irreducible Gl_n representations.

In addition, two methods are added to the symmetric function element class.  One `eval_at_permutation_roots` that evaluates a symmetric function at the roots of unity of a permutation matrix with a given cycle type and the other, `eval_at_permutation_roots`, interprets a symmetric function as a symmetric group character and computes the Frobenius image.


---

Comment by zabrocki created at 2015-10-02 12:07:06

New commits:


---

Comment by git created at 2015-10-03 03:14:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-10-05 11:32:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by zabrocki created at 2015-10-05 11:38:43

Changing status from new to needs_review.


---

Comment by git created at 2015-10-05 11:43:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-10-06 02:35:46

You might be interested in #15536 (symplectic and orthogonal bases for `Sym` based off Chari and Kleber's work) and #17096 (filtered algebras).

There is also a failing doctest according to the patchbot.


---

Comment by zabrocki created at 2015-10-06 13:01:54

Changing status from needs_review to needs_work.


---

Comment by zabrocki created at 2015-10-06 13:01:54

This basis is similar to those found in #15536.  In fact the orthogonal basis will have a positive expansion in the `irreducible_symmetric_group_character` basis (because permutation matrices are orthogonal).  As a result I've added the filtered algebras ticket as a dependency.  I checked and these bases also have an antipode problem and probably suffer from the same counit issue that the `sp` and `o` bases had at the start.

I merged #17096 into this branch on my computer and compilings starting failing.  Given that I am on OSX 10.11 and Xcode 7 this means trouble for me because I have been in a precarious situation where compiling sage from scratch makes it unusable.


---

Comment by git created at 2015-10-06 13:38:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-10-06 21:30:32

Do you want me to make the changes to work with #17096 (similar to what I did in #15536) while compiling Sage for you as part of my review?


---

Comment by zabrocki created at 2015-10-06 23:05:26

If you are willing.  If I understand the changes, it is to merge with #17096, make sure that the `counit` works + put `graded=False` in the `SFA_generic.__init__`.  The two `TestSuite` docs will fail until the `counit` is correct on the basis.


---

Comment by tscrim created at 2015-10-07 19:26:56

Okay, I've made both the counit and antipode work by coercion (although it seems that I don't need to do the former as `h[[]] <-> ht[[]] <-> st[[]]`). However, I'm still not getting the antipode test to pass. I would think any change of basis (as a filtered module) would preserve the Hopf algebra structure. I've checked that it is an isomorphism, but I don't get why it's not working. Thoughts?
----
Last 10 new commits:


---

Comment by zabrocki created at 2015-10-07 19:41:15

When you say it doesn't work, are you finding that it isn't an algebra homomorphism?  I think that was what was failing before.


---

Comment by tscrim created at 2015-10-07 21:46:10

No, it appears to be an algebra homomorphism:

```
sage: all(ht[la]*ht[mu] == ht(h(ht[la])*h(ht[mu])) for i in range(5) for la in Partitions(i) for j in range(5) for mu in Partitions(j))
True
sage: all(h[la]*h[mu] == h(ht(h[la])*ht(h[mu])) for i in range(5) for la in Partitions(i) for j in range(5) for mu in Partitions(j))
True
sage: ht.an_element() * ht.an_element() == ht(h(ht.an_element()) * h(ht.an_element()))
True
```



---

Comment by zabrocki created at 2015-10-08 03:53:18

Here is the cause of the doc tests failing.

```
sage: 7*st[[]]*st[[]]
st[]
```

I have no idea where this error is coming from though.


---

Comment by zabrocki created at 2015-10-08 04:21:26

OK, I found the error.  It is in `_other_to_self` and you need to change the line

```
-            return self([])
+            return sexpr.coefficient([]) * self([])
```

I can't seem to push because I am ssh-ing to a remote non-OSX 10.11 Xcode 7 computer and git isn't set up properly.  When I get that working I will be able to push a change.


---

Comment by git created at 2015-10-08 05:14:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-10-08 05:15:58

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2015-10-08 05:15:58

Yep, that was the problem.


---

Comment by tscrim created at 2015-10-08 05:17:56

So if you're happy with my changes, then I'm content to set a positive review.


---

Comment by git created at 2015-11-02 13:04:18

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by tscrim created at 2015-11-02 14:05:12

LGTM. Thanks.


---

Comment by zabrocki created at 2015-11-02 15:03:18

Changing status from needs_review to positive_review.


---

Comment by zabrocki created at 2015-11-02 15:03:18

I've checked that all tests pass.


---

Comment by tscrim created at 2015-11-02 15:06:54

I thought I had set it to positive review. Whoops. :P


---

Comment by zabrocki created at 2015-11-02 16:25:17

Thanks for the review and pushing forward on #15536 and this one.  Without finding a solution there, this ticket was going nowhere.


---

Comment by vbraun created at 2015-11-03 23:59:23

Resolution: fixed
