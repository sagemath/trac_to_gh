# Issue 30147: Adopt the “time window-based” policy for support of Python versions from NEP 29

Issue created by migration from https://trac.sagemath.org/ticket/30384

Original creator: mkoeppe

Original creation time: 2020-08-17 18:45:04

CC:  slelievre jhpalmieri mjo

Getting the Python 3.8 support in #27754 merged in 9.2 will allow us to adopt the NEP 29 policy (https://numpy.org/neps/nep-0029-deprecation_policy.html)

In this case we should indicate our intention to follow this policy  in our documentation.


---

Comment by mjo created at 2020-08-30 15:41:23

I'm happy to punt on this. +1 from me.


---

Comment by @tobiasdiez created at 2020-12-05 19:33:50

What is needed to follow NEP 29? I voting on the sage dev mailing list?


---

Comment by mkoeppe created at 2020-12-05 19:38:00

https://wiki.sagemath.org/ReleaseTours/sage-9.2#Support_for_Python_3.6.2C_3.8.2C_and_3.9_added
already declares the Sage 9.2 conforms to NEP 29.

I think the only thing missing is to add some sentences to the developer manual.

I don't think we need a vote. In general there seems to be limited interest in discussing release policies.


---

Comment by @tobiasdiez created at 2020-12-07 21:59:42

Ok, I've added a few sentences. Thus, this should be ready for review now.
----
New commits:


---

Comment by @tobiasdiez created at 2020-12-07 21:59:42

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-12-07 22:54:36

I don't think that NEP 29 **requires** us to drop support for certain Python versions; rather, it **allows** us to do so after the listed dates and still be compliant. 

Dropping support for a Python version would need a discussion on sage-devel, I would think. (We probably miscommunicated about this.)


---

Comment by mkoeppe created at 2020-12-07 22:54:48

Changing status from needs_review to needs_info.


---

Comment by @tobiasdiez created at 2020-12-07 23:21:04

NEP 29 is actually quite explicit about that one should drop support after the 42 months, e.g "On Jun 23, 2020 drop support for Python 3.6 (initially released on Dec 23, 2016)". But that's, of course, only a recommendation (like everything in this NEP). It could be sage's policy to support also older python versions, but that's then no longer NEP 29 (in it's strict form). However, one should also keep in mind that supporting old Python versions results in technical debt that might be bigger than the gains from supporting old systems.

Also correct me if I'm wrong, but since sage is also installing its own python version, sage can still be used on older systems, right? It is just that the system python is not used.


Should I initiate a discussion on the mailing list, or do you want to do this?


---

Comment by mkoeppe created at 2020-12-07 23:30:44

I wouldn't like to drop Python 3.6 support in the Sage 9.3 release unless there are more substantial reasons, so I think it's better to have this discussion in the 9.4 cycle


---

Comment by @tobiasdiez created at 2021-01-14 09:18:52

Changing status from needs_info to needs_review.


---

Comment by @tobiasdiez created at 2021-05-18 07:34:06

I think this can go in now. Actually dropping Python 3.6 support is done at #30551.


---

Comment by slelievre created at 2021-07-24 14:37:21

Author name please.


---

Comment by @DaveWitteMorris created at 2021-10-10 02:41:54

I apologize if this is noise, but it appears to me that this ticket has the wrong branch.  When I click on the link `public/python3/nep29` in the branch field, I see a commit that deletes a huge number of lines from `src/doc/en/developer/coding_basics.rst`, but I think the branch is supposed to be commit `964dd29` of comment:7, which just adds a few lines about following NEP 29.


---

Comment by @DaveWitteMorris created at 2021-10-10 02:41:54

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-10-10 13:01:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-10 13:15:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @tobiasdiez created at 2021-10-10 13:16:39

Changing status from needs_work to needs_review.


---

Comment by @tobiasdiez created at 2021-10-10 13:16:39

Yeah, somehow the branch was corrupted. I've now updated to only include the relevant commit. Ready for review again.


---

Comment by mkoeppe created at 2021-10-10 16:53:03

Got to get Python 3.10 support going before it makes sense to consider this again


---

Comment by mkoeppe created at 2021-10-10 16:53:03

Changing priority from critical to major.


---

Comment by @tobiasdiez created at 2021-10-10 18:45:11

Why? Maybe its not totally clear from the formulation, but this ticket is about how long sage wants to support old versions of Python. I.e., specify a policy for when support for a certain Python version can be dropped to reduce the burden of maintenance. That we try to support the newest version goes without saying.


---

Comment by mkoeppe created at 2021-10-10 19:11:48

Replying to [comment:22 gh-tobiasdiez]:
> That we try to support the newest version goes without saying.

It goes without saying, but also without much doing, which is the problem


---

Comment by @tobiasdiez created at 2021-12-28 18:02:00

With Python 3.10 now being supported #30766, there shouldn't be any blockers to get this in.


---

Comment by mkoeppe created at 2021-12-28 18:40:57

I'm -1 on this. I think the experience in this release cycle has confirmed that the project is not in a position to commit to a rigid version support policy. Lots of packages that we depend on were not ready for Python 3.10 at the time of the Python 3.10 release - more updates are trickling in (#33070). Python 3.10 support as of #30766 is still marked as "experimental" -- it has not seen much testing at all.


---

Comment by git created at 2022-01-03 12:52:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2022-01-03 12:59:56

The focus of NEP 29 is the deprecation of old Python versions. The idea is to have a community wide standard on when to drop support for old versions.

But I agree that this wasn't clear from the formulation so far. Changed the text and ticket description to hopefully clear up this confusion.
