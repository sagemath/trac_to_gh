# Issue 22431: HTML widget without description

Issue created by migration from https://trac.sagemath.org/ticket/22668

Original creator: jdemeyer

Original creation time: 2017-03-21 16:17:56

CC:  kcrisman

In SageNB speak: `text_control` without label.

The SageNB `text_control` is aliased to the `HTML` widget in Jupyter. This makes sense, except that the `HTML` has a `description` which becomes a label. This does not look right when used in interacts: it is common in SageNB to do things like

```
@interact
def foo(txt=text_control("<h1>Interact for foo</h1>"))
```

and you don't want `txt` to appear as label here.


---

Comment by git created at 2017-03-22 09:39:44

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2017-03-22 09:40:46

Changing status from new to needs_review.


---

Comment by slabbe created at 2017-04-19 22:44:06

I was able to reproduce the problem in Jupyter ("txt" tag appears in the output). This ticket fixes this issue. I also made sure that there is no regression on the behavior of `text_control` inside the old sagenb notebook. To me this is a perfect.

Before setting this to positive review, I just want to make sure about the small regression in coverage introduced by this ticket:

```
Decreased doctests in repl/ipython_kernel/widgets.py: from 7 / 7 = 100% to 7 / 9 = 77%
```

due to the new methods:

```diff
+    @property
+    def description(self):
+        return ''
+
+    @description.setter
+    def description(self, value):
+        pass
```


I know that they are tested few lines above, but I prefer not see the coverage script tell us thousands of time that there is a coverage problem in this file. Do you accept to fix this?


---

Comment by slabbe created at 2017-04-19 22:44:06

Changing status from needs_review to needs_work.


---

Comment by slabbe created at 2017-04-19 22:44:24

Changing keywords from "" to "days86".


---

Comment by jdemeyer created at 2017-04-20 08:03:20

And which doctest would you like me to add? I think no doctest is still better than a pointless artificial test just to satisfy the coverage script.


---

Comment by slabbe created at 2017-04-20 22:28:02

I added two doctests on a new public branch. If you agree with it, then you may set this ticket to positive review.
----
New commits:


---

Comment by slabbe created at 2017-04-20 22:28:02

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2017-04-21 07:33:51

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-04-22 12:25:53

on OSX:

```
sage -t --long --warn-long 126.8 src/sage/interacts/test_jupyter.rst
**********************************************************************
File "src/sage/interacts/test_jupyter.rst", line 11, in sage.interacts.test_jupyter
Failed example:
    interacts.geometry.special_points()
Expected:
    Interactive function <function special_points at ...> with 10 widgets
      title: HTML(value=u'<h2>Special points in triangle</h2>', description=u'title')
      a0: IntSlider(value=30, min=0, max=360, step=1, description=u'A')
      a1: IntSlider(value=180, min=0, max=360, step=1, description=u'B')
      a2: IntSlider(value=300, min=0, max=360, step=1, description=u'C')
      show_median: Checkbox(value=False, description=u'Medians')
      show_pb: Checkbox(value=False, description=u'Perpendicular Bisectors')
      show_alt: Checkbox(value=False, description=u'Altitudes')
      show_ab: Checkbox(value=False, description=u'Angle Bisectors')
      show_incircle: Checkbox(value=False, description=u'Incircle')
      show_euler: Checkbox(value=False, description=u"Euler's Line")
Got:
    Interactive function <function special_points at 0x22ca80320> with 10 widgets
      title: HTMLText(value=u'<h2>Special points in triangle</h2>')
      a0: IntSlider(value=30, min=0, max=360, step=1, description=u'A')
      a1: IntSlider(value=180, min=0, max=360, step=1, description=u'B')
      a2: IntSlider(value=300, min=0, max=360, step=1, description=u'C')
      show_median: Checkbox(value=False, description=u'Medians')
      show_pb: Checkbox(value=False, description=u'Perpendicular Bisectors')
      show_alt: Checkbox(value=False, description=u'Altitudes')
      show_ab: Checkbox(value=False, description=u'Angle Bisectors')
      show_incircle: Checkbox(value=False, description=u'Incircle')
      show_euler: Checkbox(value=False, description=u"Euler's Line")
**********************************************************************
1 item had failures:
   1 of   6 in sage.interacts.test_jupyter
    [4 tests, 1 failure, 0.89 s]
sage -t --long --warn-long 126.8 src/sage/misc/rest_index_of_methods.py
```



---

Comment by vbraun created at 2017-04-22 12:25:53

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2017-04-22 13:34:53

This is a "conflict" with #22644 I guess (where this test was added). I will wait for the next beta.


---

Comment by git created at 2017-04-24 14:20:46

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2017-04-24 14:21:10

Changing status from needs_work to needs_review.


---

Comment by slabbe created at 2017-04-27 02:23:40

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-04-28 23:54:52

Resolution: fixed
