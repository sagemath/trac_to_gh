# Issue 23173: A performance tweak for MeatAxe

Issue created by migration from https://trac.sagemath.org/ticket/23410

Original creator: SimonKing

Original creation time: 2017-07-12 13:59:15

Keywords: meataxe, performance

This is in order to split #23352 into smaller chunks.

MeatAxe has global variables FfCurrentRowSizeIo and FfNoc, that by construction always satisfy the equality `FfCurrentRowSizeIo==FfTrueRowSize(FfNoc)`, where FfTrueRowSize is some function.

At some point, when profiling computations involving MeatAxe, I found that the function `FfTrueRowSize` was called very often. Therefore I suggest to apply yet another patch to MeatAxe, that replaces `FfTrueRowSize(FfNoc)` by `FfCurrentRowSizeIo`.


---

Comment by SimonKing created at 2017-07-12 14:04:06

Changing status from new to needs_review.


---

Comment by SimonKing created at 2017-07-12 14:04:06

New commits:


---

Comment by jdemeyer created at 2017-07-13 09:46:29

Two details:

1. It would be good if the `.patch` file would reference this ticket.

2. You should bump the version number of the package if you add a patch.


---

Comment by jdemeyer created at 2017-07-13 09:46:29

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-07-13 10:15:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by SimonKing created at 2017-07-13 10:16:13

Changing status from needs_work to needs_review.


---

Comment by SimonKing created at 2017-07-13 10:16:13

Replying to [comment:3 jdemeyer]:
> Two details:
> 
> 1. It would be good if the `.patch` file would reference this ticket.
> 
> 2. You should bump the version number of the package if you add a patch.

Done!


---

Comment by tscrim created at 2017-08-21 19:29:09

LGTM.

Is this patch been submitted to upstream (and planned to)?


---

Comment by tscrim created at 2017-08-21 19:29:09

Changing keywords from "meataxe, performance" to "meataxe, performance, days88, IMA coding sprints".


---

Comment by tscrim created at 2017-08-21 19:29:09

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-08-26 09:57:40

Resolution: fixed
