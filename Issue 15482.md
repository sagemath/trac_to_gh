# Issue 15482: Fix documentation bugs

Issue created by migration from https://trac.sagemath.org/ticket/15719

Original creator: vbraun

Original creation time: 2014-01-23 18:02:02

CC:  hmonien mraum ncohen mmezzarobba

The following documentation bugs need to be fixed for Sage-6.1:

```
[arithgrou] docstring of sage.modular.arithgroup.arithgroup_element.ArithmeticSubgroupElement.acton:46: WARNING: Literal block expected; none found.

[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/generic_graph.rst:312: WARNING: autodoc can't import/find function 'sage.graphs.generic_graph._scream_if_not_simple', it reported error: "_scream_if_not_simple", please check your spelling and sys.path
[graphs   ] /home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph.Graph.is_tree:16: WARNING: Inline interpreted text or phrase reference start-string without end-string.
[graphs   ] /home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph:16: WARNING: Block quote ends without a blank line; unexpected unindent.
[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: WARNING: Duplicate explicit target name: "corresponding wolfram page".
[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: WARNING: Duplicate explicit target name: "wolfram page".

[tutorial ] /home/release/Sage/src/doc/fr/tutorial/latex.rst:454: WARNING: undefined label: sec-sagetex (if the link has no caption the label must precede a section header)
[tutorial ] /home/release/Sage/src/doc/fr/tutorial/tour_linalg.rst:87: WARNING: undefined label: section-rings (if the link has no caption the label must precede a section header)
```



---

Comment by jdemeyer created at 2014-01-24 09:38:49

Volker, aren't you checking that the documentation builds without problems? It would be much better to check this on the buildbot before merging a ticket.
----
New commits:


---

Comment by mmezzarobba created at 2014-01-24 12:59:21

The bugs in `fr/tutorial` should be fixed. Thanks Volker for the notification!
----
New commits:


---

Comment by vbraun created at 2014-01-24 13:28:02

Replying to [comment:3 jdemeyer]:
> Volker, aren't you checking that the documentation builds without problems? It would be much better to check this on the buildbot before merging a ticket. 

Not yet. IMHO the "make [p]test[long]" commands should error out if there is a problem building the documentation. Trying to catch it on the buildbot is way too late in the whole process. Since our doc builder is a bit fickle that would involve doing a full rebuild, I think. Still relatively fast compared to doctesting. In any case, further discussion on this should go into another ticket.


---

Comment by jdemeyer created at 2014-01-24 16:05:34

Replying to [comment:5 vbraun]:
> IMHO the "make [p]test[long]" commands should error out if there is a problem building the documentation.
No, `make doc` should error out, doctests have nothing to do with this.


---

Comment by jdemeyer created at 2014-01-24 16:10:06

Replying to [comment:5 vbraun]:
> Trying to catch it on the buildbot is way too late in the whole process.
Better late than never...

Checking it on the buildbot is trivial:

```
if grep -e 'Segmentation fault' -e SEVERE -e ERROR -e '^make.*Error' -e 'Exception occurred' -e 'Sphinx error' logs/dochtml.log logs/docpdf.log
then
    exit 1
fi

if grep -e WARNING logs/dochtml.log
then
    exit 1
fi
```

(The pdf check must be done only on systems with LaTeX and dvipng installed, but that should be the case for all buildbot slaves)


---

Comment by vbraun created at 2014-01-24 17:26:20

IMHO if "make [p]test[long]" completes successfully then one should be able to assume that tests pass. If one has to grep through logs then thats a bug in our build system, not in the way the buildbot operates.

Replying to [comment:7 jdemeyer]:
> Checking it on the buildbot is trivial:

but still too late

I made #15727 for this issue


---

Comment by jdemeyer created at 2014-01-24 17:33:22

Replying to [comment:8 vbraun]:
> If one has to grep through logs then thats a bug in our build system, not in the way the buildbot operates.
Of course. But better check it in a stupid way and too late instead of no checking at all.


---

Comment by SimonKing created at 2014-01-27 12:08:15

The error concerning `_scream_if_not_simple` seems easy to explain. "Grep" says:

```
src/sage/graphs/generic_graph.py:    .. autofunction:: _scream_if_not_simple
```

So, a function on module level is supposed to be included in the documentation. But in fact, `_scream_if_not_simple` is a method of the class `GenericGraph`. I don't know if
`.. autofunction:: GenericGraph._scream_if_not_simple` is the correct syntax.

Anyway, Nathann: Do we want to read about `_scream_if_not_simple` in the reference manual?


---

Comment by ncohen created at 2014-01-28 18:17:53

Oh. Well, we can make it an "automethod" instead, sorry `:-/`

Simon: I thought that making it appear in the doc even if it does not appear in the index of the Graph methods was a good middle ground. If you think it should not appear, tell me and I will remove it.

Nathann


---

Comment by vbraun created at 2014-01-29 17:37:18

Nathan, are you working on the graph theory doc issues?


---

Comment by ncohen created at 2014-01-29 18:10:14

> Nathan, are you working on the graph theory doc issues?

Well, my comment above is a question to Simon, soooo....

Nathann


---

Comment by SimonKing created at 2014-01-29 22:52:22

Replying to [comment:14 ncohen]:
> > Nathan, are you working on the graph theory doc issues?
> 
> Well, my comment above is a question to Simon, soooo....

Your comment is a reply to my question to you, sooooo, I hope it is OK that my reply to your counter-question is a bunch of counter-counter-questions.

Mainly I want to know what you (as the author) have to say about the purpose of this method.

Is this method supposed to be called by people? Or is it an auxiliary method that should only be called internally, i.e., called from other methods that only work for simple graphs? The name suggests to me that the latter is the case, but I think you know better than I what the purpose of this method is.

I think a method that is supposed to be called by people should be named ".is_simple()", and it shouldn't scream but return True resp. False. Of course, regardless of its name, the method must have a docstring and tests.

Can you argue why this method is more than just an internally used method? If it is more than that, then I wouldn't mind at all to keep it in the docs. Otherwise, I would mind a little bit, but not much.


---

Comment by jdemeyer created at 2014-01-29 23:11:50

In order to make this ticket move, can we just remove `_scream_if_not_simple` completely from the documentation?

Simon King asked some good questions, but those really should not hold up this ticket. Nathann can still open a new ticket to add `_scream_if_not_simple` to the documentation.


---

Comment by ncohen created at 2014-01-30 09:12:55

Hey guys, what's the hurry ? This ticket has been open 7 days ago (and for the first 4 days I had no computer to work with) and we can fix what it inside in something like 20 minutes `:-P`

I *DREAM* of a world where tickets are reviewed in 7 days `:-P`

Anyway: this function is only for internal use, that's why I did not add it to the index. Let's remove it. I will do so in a split second, and fix whatever needs to be fixed for the other graphs errors. BRB !

Nathann


---

Comment by git created at 2014-01-30 09:41:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-01-30 09:43:09

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-01-30 09:43:09

Here it is ! Graphs and designs.

Nathann


---

Comment by ncohen created at 2014-01-30 10:50:23

(by the way it would be totally cool if we could use the --warn-links option by default when compiling the doc. And hunt our broken links)


---

Comment by vbraun created at 2014-01-30 14:58:00

Resolution: fixed
