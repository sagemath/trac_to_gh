# Issue 15482: Fix documentation bugs

archive/issues_015482.json:
```json
{
    "body": "CC:  hmonien mraum ncohen mmezzarobba\n\nThe following documentation bugs need to be fixed for Sage-6.1:\n\n```\n[arithgrou] docstring of sage.modular.arithgroup.arithgroup_element.ArithmeticSubgroupElement.acton:46: WARNING: Literal block expected; none found.\n\n[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/generic_graph.rst:312: WARNING: autodoc can't import/find function 'sage.graphs.generic_graph._scream_if_not_simple', it reported error: \"_scream_if_not_simple\", please check your spelling and sys.path\n[graphs   ] /home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph.Graph.is_tree:16: WARNING: Inline interpreted text or phrase reference start-string without end-string.\n[graphs   ] /home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph:16: WARNING: Block quote ends without a blank line; unexpected unindent.\n[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: WARNING: Duplicate explicit target name: \"corresponding wolfram page\".\n[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: WARNING: Duplicate explicit target name: \"wolfram page\".\n\n[tutorial ] /home/release/Sage/src/doc/fr/tutorial/latex.rst:454: WARNING: undefined label: sec-sagetex (if the link has no caption the label must precede a section header)\n[tutorial ] /home/release/Sage/src/doc/fr/tutorial/tour_linalg.rst:87: WARNING: undefined label: section-rings (if the link has no caption the label must precede a section header)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/15719\n\n",
    "created_at": "2014-01-23T18:02:02Z",
    "labels": [
        "documentation",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.1",
    "title": "Fix documentation bugs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15482",
    "user": "vbraun"
}
```
CC:  hmonien mraum ncohen mmezzarobba

The following documentation bugs need to be fixed for Sage-6.1:

```
[arithgrou] docstring of sage.modular.arithgroup.arithgroup_element.ArithmeticSubgroupElement.acton:46: WARNING: Literal block expected; none found.

[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/generic_graph.rst:312: WARNING: autodoc can't import/find function 'sage.graphs.generic_graph._scream_if_not_simple', it reported error: "_scream_if_not_simple", please check your spelling and sys.path
[graphs   ] /home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph.Graph.is_tree:16: WARNING: Inline interpreted text or phrase reference start-string without end-string.
[graphs   ] /home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph:16: WARNING: Block quote ends without a blank line; unexpected unindent.
[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: WARNING: Duplicate explicit target name: "corresponding wolfram page".
[graphs   ] /home/release/Sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: WARNING: Duplicate explicit target name: "wolfram page".

[tutorial ] /home/release/Sage/src/doc/fr/tutorial/latex.rst:454: WARNING: undefined label: sec-sagetex (if the link has no caption the label must precede a section header)
[tutorial ] /home/release/Sage/src/doc/fr/tutorial/tour_linalg.rst:87: WARNING: undefined label: section-rings (if the link has no caption the label must precede a section header)
```


Issue created by migration from https://trac.sagemath.org/ticket/15719





---

archive/issue_comments_200053.json:
```json
{
    "body": "Volker, aren't you checking that the documentation builds without problems? It would be much better to check this on the buildbot before merging a ticket.\n----\nNew commits:",
    "created_at": "2014-01-24T09:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200053",
    "user": "jdemeyer"
}
```

Volker, aren't you checking that the documentation builds without problems? It would be much better to check this on the buildbot before merging a ticket.
----
New commits:



---

archive/issue_comments_200054.json:
```json
{
    "body": "The bugs in `fr/tutorial` should be fixed. Thanks Volker for the notification!\n----\nNew commits:",
    "created_at": "2014-01-24T12:59:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200054",
    "user": "mmezzarobba"
}
```

The bugs in `fr/tutorial` should be fixed. Thanks Volker for the notification!
----
New commits:



---

archive/issue_comments_200055.json:
```json
{
    "body": "Replying to [comment:3 jdemeyer]:\n> Volker, aren't you checking that the documentation builds without problems? It would be much better to check this on the buildbot before merging a ticket. \n\nNot yet. IMHO the \"make [p]test[long]\" commands should error out if there is a problem building the documentation. Trying to catch it on the buildbot is way too late in the whole process. Since our doc builder is a bit fickle that would involve doing a full rebuild, I think. Still relatively fast compared to doctesting. In any case, further discussion on this should go into another ticket.",
    "created_at": "2014-01-24T13:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200055",
    "user": "vbraun"
}
```

Replying to [comment:3 jdemeyer]:
> Volker, aren't you checking that the documentation builds without problems? It would be much better to check this on the buildbot before merging a ticket. 

Not yet. IMHO the "make [p]test[long]" commands should error out if there is a problem building the documentation. Trying to catch it on the buildbot is way too late in the whole process. Since our doc builder is a bit fickle that would involve doing a full rebuild, I think. Still relatively fast compared to doctesting. In any case, further discussion on this should go into another ticket.



---

archive/issue_comments_200056.json:
```json
{
    "body": "Replying to [comment:5 vbraun]:\n> IMHO the \"make [p]test[long]\" commands should error out if there is a problem building the documentation.\nNo, `make doc` should error out, doctests have nothing to do with this.",
    "created_at": "2014-01-24T16:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200056",
    "user": "jdemeyer"
}
```

Replying to [comment:5 vbraun]:
> IMHO the "make [p]test[long]" commands should error out if there is a problem building the documentation.
No, `make doc` should error out, doctests have nothing to do with this.



---

archive/issue_comments_200057.json:
```json
{
    "body": "Replying to [comment:5 vbraun]:\n> Trying to catch it on the buildbot is way too late in the whole process.\nBetter late than never...\n\nChecking it on the buildbot is trivial:\n\n```\nif grep -e 'Segmentation fault' -e SEVERE -e ERROR -e '^make.*Error' -e 'Exception occurred' -e 'Sphinx error' logs/dochtml.log logs/docpdf.log\nthen\n    exit 1\nfi\n\nif grep -e WARNING logs/dochtml.log\nthen\n    exit 1\nfi\n```\n\n(The pdf check must be done only on systems with LaTeX and dvipng installed, but that should be the case for all buildbot slaves)",
    "created_at": "2014-01-24T16:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200057",
    "user": "jdemeyer"
}
```

Replying to [comment:5 vbraun]:
> Trying to catch it on the buildbot is way too late in the whole process.
Better late than never...

Checking it on the buildbot is trivial:

```
if grep -e 'Segmentation fault' -e SEVERE -e ERROR -e '^make.*Error' -e 'Exception occurred' -e 'Sphinx error' logs/dochtml.log logs/docpdf.log
then
    exit 1
fi

if grep -e WARNING logs/dochtml.log
then
    exit 1
fi
```

(The pdf check must be done only on systems with LaTeX and dvipng installed, but that should be the case for all buildbot slaves)



---

archive/issue_comments_200058.json:
```json
{
    "body": "IMHO if \"make [p]test[long]\" completes successfully then one should be able to assume that tests pass. If one has to grep through logs then thats a bug in our build system, not in the way the buildbot operates.\n\nReplying to [comment:7 jdemeyer]:\n> Checking it on the buildbot is trivial:\n\nbut still too late\n\nI made #15727 for this issue",
    "created_at": "2014-01-24T17:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200058",
    "user": "vbraun"
}
```

IMHO if "make [p]test[long]" completes successfully then one should be able to assume that tests pass. If one has to grep through logs then thats a bug in our build system, not in the way the buildbot operates.

Replying to [comment:7 jdemeyer]:
> Checking it on the buildbot is trivial:

but still too late

I made #15727 for this issue



---

archive/issue_comments_200059.json:
```json
{
    "body": "Replying to [comment:8 vbraun]:\n> If one has to grep through logs then thats a bug in our build system, not in the way the buildbot operates.\nOf course. But better check it in a stupid way and too late instead of no checking at all.",
    "created_at": "2014-01-24T17:33:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200059",
    "user": "jdemeyer"
}
```

Replying to [comment:8 vbraun]:
> If one has to grep through logs then thats a bug in our build system, not in the way the buildbot operates.
Of course. But better check it in a stupid way and too late instead of no checking at all.



---

archive/issue_comments_200060.json:
```json
{
    "body": "The error concerning `_scream_if_not_simple` seems easy to explain. \"Grep\" says:\n\n```\nsrc/sage/graphs/generic_graph.py:    .. autofunction:: _scream_if_not_simple\n```\n\nSo, a function on module level is supposed to be included in the documentation. But in fact, `_scream_if_not_simple` is a method of the class `GenericGraph`. I don't know if\n`.. autofunction:: GenericGraph._scream_if_not_simple` is the correct syntax.\n\nAnyway, Nathann: Do we want to read about `_scream_if_not_simple` in the reference manual?",
    "created_at": "2014-01-27T12:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200060",
    "user": "SimonKing"
}
```

The error concerning `_scream_if_not_simple` seems easy to explain. "Grep" says:

```
src/sage/graphs/generic_graph.py:    .. autofunction:: _scream_if_not_simple
```

So, a function on module level is supposed to be included in the documentation. But in fact, `_scream_if_not_simple` is a method of the class `GenericGraph`. I don't know if
`.. autofunction:: GenericGraph._scream_if_not_simple` is the correct syntax.

Anyway, Nathann: Do we want to read about `_scream_if_not_simple` in the reference manual?



---

archive/issue_comments_200061.json:
```json
{
    "body": "Oh. Well, we can make it an \"automethod\" instead, sorry `:-/`\n\nSimon: I thought that making it appear in the doc even if it does not appear in the index of the Graph methods was a good middle ground. If you think it should not appear, tell me and I will remove it.\n\nNathann",
    "created_at": "2014-01-28T18:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200061",
    "user": "ncohen"
}
```

Oh. Well, we can make it an "automethod" instead, sorry `:-/`

Simon: I thought that making it appear in the doc even if it does not appear in the index of the Graph methods was a good middle ground. If you think it should not appear, tell me and I will remove it.

Nathann



---

archive/issue_comments_200062.json:
```json
{
    "body": "Nathan, are you working on the graph theory doc issues?",
    "created_at": "2014-01-29T17:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200062",
    "user": "vbraun"
}
```

Nathan, are you working on the graph theory doc issues?



---

archive/issue_comments_200063.json:
```json
{
    "body": "> Nathan, are you working on the graph theory doc issues?\n\nWell, my comment above is a question to Simon, soooo....\n\nNathann",
    "created_at": "2014-01-29T18:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200063",
    "user": "ncohen"
}
```

> Nathan, are you working on the graph theory doc issues?

Well, my comment above is a question to Simon, soooo....

Nathann



---

archive/issue_comments_200064.json:
```json
{
    "body": "Replying to [comment:14 ncohen]:\n> > Nathan, are you working on the graph theory doc issues?\n> \n> Well, my comment above is a question to Simon, soooo....\n\nYour comment is a reply to my question to you, sooooo, I hope it is OK that my reply to your counter-question is a bunch of counter-counter-questions.\n\nMainly I want to know what you (as the author) have to say about the purpose of this method.\n\nIs this method supposed to be called by people? Or is it an auxiliary method that should only be called internally, i.e., called from other methods that only work for simple graphs? The name suggests to me that the latter is the case, but I think you know better than I what the purpose of this method is.\n\nI think a method that is supposed to be called by people should be named \".is_simple()\", and it shouldn't scream but return True resp. False. Of course, regardless of its name, the method must have a docstring and tests.\n\nCan you argue why this method is more than just an internally used method? If it is more than that, then I wouldn't mind at all to keep it in the docs. Otherwise, I would mind a little bit, but not much.",
    "created_at": "2014-01-29T22:52:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200064",
    "user": "SimonKing"
}
```

Replying to [comment:14 ncohen]:
> > Nathan, are you working on the graph theory doc issues?
> 
> Well, my comment above is a question to Simon, soooo....

Your comment is a reply to my question to you, sooooo, I hope it is OK that my reply to your counter-question is a bunch of counter-counter-questions.

Mainly I want to know what you (as the author) have to say about the purpose of this method.

Is this method supposed to be called by people? Or is it an auxiliary method that should only be called internally, i.e., called from other methods that only work for simple graphs? The name suggests to me that the latter is the case, but I think you know better than I what the purpose of this method is.

I think a method that is supposed to be called by people should be named ".is_simple()", and it shouldn't scream but return True resp. False. Of course, regardless of its name, the method must have a docstring and tests.

Can you argue why this method is more than just an internally used method? If it is more than that, then I wouldn't mind at all to keep it in the docs. Otherwise, I would mind a little bit, but not much.



---

archive/issue_comments_200065.json:
```json
{
    "body": "In order to make this ticket move, can we just remove `_scream_if_not_simple` completely from the documentation?\n\nSimon King asked some good questions, but those really should not hold up this ticket. Nathann can still open a new ticket to add `_scream_if_not_simple` to the documentation.",
    "created_at": "2014-01-29T23:11:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200065",
    "user": "jdemeyer"
}
```

In order to make this ticket move, can we just remove `_scream_if_not_simple` completely from the documentation?

Simon King asked some good questions, but those really should not hold up this ticket. Nathann can still open a new ticket to add `_scream_if_not_simple` to the documentation.



---

archive/issue_comments_200066.json:
```json
{
    "body": "Hey guys, what's the hurry ? This ticket has been open 7 days ago (and for the first 4 days I had no computer to work with) and we can fix what it inside in something like 20 minutes `:-P`\n\nI *DREAM* of a world where tickets are reviewed in 7 days `:-P`\n\nAnyway: this function is only for internal use, that's why I did not add it to the index. Let's remove it. I will do so in a split second, and fix whatever needs to be fixed for the other graphs errors. BRB !\n\nNathann",
    "created_at": "2014-01-30T09:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200066",
    "user": "ncohen"
}
```

Hey guys, what's the hurry ? This ticket has been open 7 days ago (and for the first 4 days I had no computer to work with) and we can fix what it inside in something like 20 minutes `:-P`

I *DREAM* of a world where tickets are reviewed in 7 days `:-P`

Anyway: this function is only for internal use, that's why I did not add it to the index. Let's remove it. I will do so in a split second, and fix whatever needs to be fixed for the other graphs errors. BRB !

Nathann



---

archive/issue_comments_200067.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-30T09:41:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200067",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_200068.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-30T09:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200068",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_200069.json:
```json
{
    "body": "Here it is ! Graphs and designs.\n\nNathann",
    "created_at": "2014-01-30T09:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200069",
    "user": "ncohen"
}
```

Here it is ! Graphs and designs.

Nathann



---

archive/issue_comments_200070.json:
```json
{
    "body": "(by the way it would be totally cool if we could use the --warn-links option by default when compiling the doc. And hunt our broken links)",
    "created_at": "2014-01-30T10:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200070",
    "user": "ncohen"
}
```

(by the way it would be totally cool if we could use the --warn-links option by default when compiling the doc. And hunt our broken links)



---

archive/issue_comments_200071.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-01-30T14:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15482",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15482#issuecomment-200071",
    "user": "vbraun"
}
```

Resolution: fixed
