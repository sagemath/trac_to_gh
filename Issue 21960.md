# Issue 21960: Libbraiding module not found

Issue created by migration from https://trac.sagemath.org/ticket/22197

Original creator: mmarco

Original creation time: 2017-01-17 17:07:27

CC:  vbraun kcrisman tscrim dimpase jhpalmieri

The optional package `libbraiding` should enable the module `sage.libs.braiding`. But it does not.

To check it, install the package `libbraiding and then try:


```
sage: from sage.libs.braiding import *
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-1-d9209c49d9c3> in <module>()
----> 1 from sage.libs.braiding import *

ImportError: No module named braiding

```


I guess the culprit has to do with the `module_list.py` but have been unable to pin it.


---

Comment by tscrim created at 2017-01-17 17:33:41

I think you need to run `sage -b` afterward installing it. Perhaps that is something we should add to the Sage install file?


---

Comment by tscrim created at 2017-01-17 17:33:57

I think also noticed something similar for `meataxe`.


---

Comment by mmarco created at 2017-01-17 17:36:14

You are absolutely right. Why exactly is that needed for this module but not for others like libhomfly?


---

Comment by tscrim created at 2017-01-17 17:43:35

Perhaps you just didn't notice it? If you installed both at the same time and then ran `sage -b`, it would fix the issue as well.

I suspect it suffers from the same issue. I have `libhomfly` installed on my copies of Sage, so I can't test it.


---

Comment by mmarco created at 2017-02-04 12:57:14

Ok, I plan to propose both libhomfly and libbraiding to become standard packages once the one year period as optional is finished (May and June respectively). This problem should be solved automatically then.

So wontfix sounds like a reasonable resolution.


---

Comment by jdemeyer created at 2017-02-04 13:14:38

Replying to [comment:1 tscrim]:
> I think you need to run `sage -b` afterward installing it.

Absolutely.  Personally, I don't really consider this a bug. When you run `make libbraiding`, it installs the `libbraiding` package, which is different from the `sage.libs.braiding` Python module.


---

Comment by jdemeyer created at 2017-02-04 13:17:54

We _could_ change the meaning of `./sage -i PACKAGE` to mean "install PACKAGE and then rebuild all of Sage", but I wouldn't do that without asking sage-devel.


---

Comment by jdemeyer created at 2017-02-04 13:17:54

Changing component from algebraic topology to documentation.


---

Comment by schilly created at 2018-02-09 10:21:39

Just FYI, I just ran into the same issue here. Trying to install `libhomfly`, claims it's done, but doctest `./sage -t --optional=sage,libhomfly ./src/sage/knots/` just gives `ImportError: No module named homfly` errors. `./sage -b` fixed it.


---

Comment by jdemeyer created at 2018-02-09 13:23:30

Removing "Miguel Marco" as author since there is no branch.


---

Comment by jdemeyer created at 2018-02-09 13:24:35

I'm open for suggestions on how to fix this...


---

Comment by vbraun created at 2018-02-09 15:01:35

+1 to following up with `sage -b`; It just takes 2s on my machine if there are no changes. And if you want to live dangerously then there is always `sage -p`


---

Comment by jdemeyer created at 2018-02-09 15:08:27

Replying to [comment:11 vbraun]:
> +1 to following up with `sage -b`

Better `make sagelib` because that does dependency checking. And you mean to do that after every `sage -i` call? I'm OK with that, I just wanted to verify.

I do feel that this should be discussed on sage-devel first.


---

Comment by mkoeppe created at 2020-04-18 06:58:20

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-04-18 06:58:20

This is outdated; as of Sage 9.0, `sage -i` invokes `make all-build` afterwards.


---

Comment by dimpase created at 2020-04-18 11:08:47

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-04-18 12:58:54

Resolution: invalid
