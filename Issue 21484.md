# Issue 21484: Standardize patches in fricas, frobby, gap3

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2016-10-18 13:29:16

CC:  embray dimpase

The packages `fricas`, `frobby`, `gap3` use non-standard patching.


---

Comment by jdemeyer created at 2016-10-18 14:43:21

New commits:


---

Comment by mantepse created at 2016-10-18 15:39:04

I think that fricas shouldn't need the patch anymore, at least with #21377 (but I admit, I cannot package)


---

Comment by jdemeyer created at 2016-10-18 15:58:44

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2016-10-25 17:48:05

Cc'ing dimpase, who probably has a script that created the frobby patches.


---

Comment by dimpase created at 2016-10-26 12:36:10

Replying to [comment:5 mkoeppe]:
> Cc'ing dimpase, who probably has a script that created the frobby patches.
no, I think I simply used git to create/update patches.

Otherwise, this simply moves things around, right?


---

Comment by mkoeppe created at 2016-10-28 21:39:32

This ticket *edits* the patch to make it -p1 instead of -p0
Wouldn't it be better if there was a public git of the modified frobby, and a script that regenerated the patches?


---

Comment by jdemeyer created at 2016-10-28 23:40:22

I don't think that we ever use scripts in Sage to generate patches...


---

Comment by mkoeppe created at 2016-10-29 00:17:04

I know that we don't (with [some](https://github.com/sagemath/sage/blob/master/build/pkgs/gc/patches/0001-Workaround-missing-getcontext-in-Docker-osrf-ubuntu_.patch) [exceptions](https://github.com/sagemath/sage/tree/master/build/pkgs/scipoptsuite/patches/scip)), but my point is that it would be better if we did.
Our patch management seems ad-hoc (in contrast for example to Debian's tools and documented workflow for this)
and few people seem to be aware of `git format-patch`, which can be used to create a set of patches.


---

Comment by dimpase created at 2016-10-29 00:28:26

I [used](https://git.sagemath.org/sage.git/diff/build/pkgs/maxima/patches/0001-In-eigenvectors-iterate-over-all-eigenvalues.patch?id=3c280228256c02dcba6e6a8df2bcb98625031613&id2=26d412436c7199d6380cf397e2aa4ad9ed3e517d) `git format-patch` yesterday for the 1st time :-)


---

Comment by mkoeppe created at 2016-10-29 00:30:07

Nice. Let's add a short section on how to manage patchsets with git format-patch to the developers' guide...


---

Comment by mkoeppe created at 2016-10-29 00:31:35

This is #21781.


---

Comment by mkoeppe created at 2016-10-29 00:39:47

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-10-31 12:32:39

Resolution: fixed
