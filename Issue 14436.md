# Issue 14436: Refactor the plot_expose function into a method

Issue created by migration from https://trac.sagemath.org/ticket/14640

Original creator: vbraun

Original creation time: 2013-05-25 10:56:09

Assignee: jason, was

CC:  nthiery tscrim

This is just a needless slap in the face of OOP ;-)


---

Comment by vbraun created at 2013-05-25 11:25:46

Initial patch


---

Attachment


---

Comment by vbraun created at 2013-05-25 11:26:28

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-05-25 16:18:29

The patch looks good to me, but how about a more specific (descriptive :P) name such as `text_description()`?

Best,

Travis


---

Comment by vbraun created at 2013-05-25 17:03:47

Active is better than the passive verb from. And of course its text, did you expect that it is going to read it out to your through the speaker? ;-)


---

Comment by tscrim created at 2013-05-25 20:08:06

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2013-05-25 20:08:06

That would be awesome if it did. I'm just thinking when I see this on tab completion that it is somewhat vague (but that's what the doc is for). Anyhow, I can't think of a better name, so I'm setting this to positive review. Nicolas, if you have any issues with the patch, feel free to set this back.


---

Comment by nthiery created at 2013-05-25 22:40:45

Hi Volker,

+1 for the change: I was just lazy at this point touching yet another
thing outside of root systems and risking to create a conflict; and
also launching a discussion about what would be the right output,
etc. Thanks for fixing my lazyness!

As for the name, why is active better? Isn't the convention to use a
noun describing the result for methods whose main purpose is to return
something, and a verb describing the action for methods whose main
purpose is to change ``self``? At this point I would lean for
"description".

Oh, and we might want to check if e.g. matplotlib does not have
already a convention for this. Related things are the x3d_str and
mtl_str methods in 3d plots.

Anyway, just throwing ideas in the air. Please proceed as you see fit!


---

Comment by vbraun created at 2013-05-26 23:03:07

I'd say noun if you return an object, otherwise verb form. E.g 
* `foo.normalization()` return a number 
* `foo.normalize()` modify `foo` if necessary but don't return anything.
The former makes sense to chain together in English, as in `foo.normalization().numerator()`, the latter doesn't. Similar `list.sort()` vs. `sorted(list)` etc.


---

Comment by vbraun created at 2013-05-26 23:03:48

And this method doesn't return anything, it just prints to the screen.


---

Comment by nthiery created at 2013-05-26 23:43:26

Replying to [comment:9 vbraun]:
> And this method doesn't return anything, it just prints to the screen.

Oh it does? Yikes! And I wrote this? Oops!

Ok, that explains the confusion; we agree on the naming conventions :-)

I'd rather have it return a string and use the idiom:

```
print ....plot().description()
```

so that we could reuse the result elsewhere in the of code.

Thanks!


---

Attachment

I've uploaded a review patch which changes `describe()` which prints to `description()` which returns a string as per Nicolas' request. Needs a review.


---

Comment by tscrim created at 2013-05-28 05:07:02

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2013-05-28 05:07:10

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2013-05-28 10:18:15

Thanks, looks good to me!


---

Comment by vbraun created at 2013-05-28 10:18:15

Changing status from needs_review to positive_review.


---

Comment by ppurka created at 2013-06-02 13:04:30

Shouldn't the `plot_expose` function have been deprecated along with this change?


---

Comment by vbraun created at 2013-06-02 13:10:04

Was never imported into the global namespace, so it does not need deprecation.


---

Comment by ppurka created at 2013-06-02 13:12:15

Oh. I missed that. Seems combinat specific, but it is good to see it in the plot code.


---

Comment by ppurka created at 2013-06-02 13:17:04

Actually, this is quite a useful feature. Perhaps it should be documented somewhere in the plot code. Probably in the Graphics class of sage/plot/graphics.py. Need not be done in this ticket.


---

Comment by jdemeyer created at 2013-06-03 06:31:17

Replying to [comment:15 ppurka]:
> Shouldn't the `plot_expose` function have been deprecated along with this change?
Additionally, it was never in a released version of Sage (only betas), so there is no need for this.


---

Comment by jdemeyer created at 2013-06-06 12:33:45

Resolution: fixed
