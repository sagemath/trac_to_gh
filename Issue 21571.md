# Issue 21571: Change gen.python() to return Python objects

archive/issues_021571.json:
```json
{
    "body": "CC:  defeo\n\nCurrently, `gen.python()` is the same as `gen.sage()` which returns Sage objects. There should be a pure Python version, returning Python objects.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21808\n\n",
    "created_at": "2016-11-03T14:18:56Z",
    "labels": [
        "interfaces",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Change gen.python() to return Python objects",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21571",
    "user": "jdemeyer"
}
```
CC:  defeo

Currently, `gen.python()` is the same as `gen.sage()` which returns Sage objects. There should be a pure Python version, returning Python objects.

Issue created by migration from https://trac.sagemath.org/ticket/21808





---

archive/issue_comments_299472.json:
```json
{
    "body": "I would like to implement a `gentopython` function from the current `gentoobj` however very few types would be supported. Unless we allow third party Python modules such as [gmpy](https://pypi.python.org/pypi/gmpy2), [mpmath](http://mpmath.org/) [python-flint](https://github.com/fredrik-johansson/python-flint), etc\n\nI guess the best solution would be to support only `t_INT`, `t_VEC`, `t_COL`, `t_VECSMALL` and further extend the capabilities once this is moved as a Python module. What do you think?",
    "created_at": "2017-01-09T17:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299472",
    "user": "vdelecroix"
}
```

I would like to implement a `gentopython` function from the current `gentoobj` however very few types would be supported. Unless we allow third party Python modules such as [gmpy](https://pypi.python.org/pypi/gmpy2), [mpmath](http://mpmath.org/) [python-flint](https://github.com/fredrik-johansson/python-flint), etc

I guess the best solution would be to support only `t_INT`, `t_VEC`, `t_COL`, `t_VECSMALL` and further extend the capabilities once this is moved as a Python module. What do you think?



---

archive/issue_comments_299473.json:
```json
{
    "body": "Why not:\n\n* `t_REAL` -> `float`\n\n* `t_COMPLEX` -> `complex`\n\n* `t_FRAC` -> [fraction](https://docs.python.org/2/library/fractions.html)\n\n* `t_STR` -> `str`\n\n* `t_MAT` -> `list` of `list`s\n\n* `t_INFINITY` -> `float`",
    "created_at": "2017-01-09T21:37:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299473",
    "user": "jdemeyer"
}
```

Why not:

* `t_REAL` -> `float`

* `t_COMPLEX` -> `complex`

* `t_FRAC` -> [fraction](https://docs.python.org/2/library/fractions.html)

* `t_STR` -> `str`

* `t_MAT` -> `list` of `list`s

* `t_INFINITY` -> `float`



---

archive/issue_comments_299474.json:
```json
{
    "body": "Changing keywords from \"\" to \"atelierpari2017\".",
    "created_at": "2017-01-10T09:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299474",
    "user": "vdelecroix"
}
```

Changing keywords from "" to "atelierpari2017".



---

archive/issue_comments_299475.json:
```json
{
    "body": "why not `t_VEC` -> `list`?",
    "created_at": "2017-01-10T11:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299475",
    "user": "defeo"
}
```

why not `t_VEC` -> `list`?



---

archive/issue_comments_299476.json:
```json
{
    "body": "Replying to [comment:6 defeo]:\n> why not `t_VEC` -> `list`?\n\nIndeed. And `t_COL`.",
    "created_at": "2017-01-10T13:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299476",
    "user": "vdelecroix"
}
```

Replying to [comment:6 defeo]:
> why not `t_VEC` -> `list`?

Indeed. And `t_COL`.



---

archive/issue_comments_299477.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-01-10T13:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299477",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_299478.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-01-10T13:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299478",
    "user": "vdelecroix"
}
```

New commits:



---

archive/issue_comments_299479.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T14:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299479",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299480.json:
```json
{
    "body": "rebased on the correct #21807",
    "created_at": "2017-01-10T14:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299480",
    "user": "vdelecroix"
}
```

rebased on the correct #21807



---

archive/issue_comments_299481.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T14:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299481",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299482.json:
```json
{
    "body": "rebased on #21807 and all tests pass in `libs/pari`, `libs/cypari2` and `structure/`.",
    "created_at": "2017-01-10T14:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299482",
    "user": "vdelecroix"
}
```

rebased on #21807 and all tests pass in `libs/pari`, `libs/cypari2` and `structure/`.



---

archive/issue_comments_299483.json:
```json
{
    "body": "(Edit: wrong ticket)",
    "created_at": "2017-01-10T15:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299483",
    "user": "jdemeyer"
}
```

(Edit: wrong ticket)



---

archive/issue_comments_299484.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T15:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299484",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299485.json:
```json
{
    "body": "Regarding `TODO: this should be moved out of cypari`, I disagree. There is nothing wrong with a `sage()` method importing `sage`.",
    "created_at": "2017-01-10T15:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299485",
    "user": "jdemeyer"
}
```

Regarding `TODO: this should be moved out of cypari`, I disagree. There is nothing wrong with a `sage()` method importing `sage`.



---

archive/issue_comments_299486.json:
```json
{
    "body": "And `_eval_` can probably just be removed.",
    "created_at": "2017-01-10T15:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299486",
    "user": "jdemeyer"
}
```

And `_eval_` can probably just be removed.



---

archive/issue_comments_299487.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T15:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299487",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299488.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T15:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299488",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299489.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T16:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299489",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299490.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T16:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299490",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299491.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T16:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299491",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299492.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T17:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299492",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299493.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T19:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299493",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299494.json:
```json
{
    "body": "all tests pass on my computer",
    "created_at": "2017-01-10T20:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299494",
    "user": "vdelecroix"
}
```

all tests pass on my computer



---

archive/issue_comments_299495.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-11T14:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299495",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299496.json:
```json
{
    "body": "And now patchbot is happy ;-)",
    "created_at": "2017-01-11T22:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299496",
    "user": "vdelecroix"
}
```

And now patchbot is happy ;-)



---

archive/issue_comments_299497.json:
```json
{
    "body": "I'm happy, Patchbot's happy, everyone's happy!",
    "created_at": "2017-01-12T10:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299497",
    "user": "defeo"
}
```

I'm happy, Patchbot's happy, everyone's happy!



---

archive/issue_comments_299498.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-12T10:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299498",
    "user": "defeo"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_299499.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-01-18T20:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299499",
    "user": "vbraun"
}
```

Resolution: fixed
