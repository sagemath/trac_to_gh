# Issue 21571: Change gen.python() to return Python objects

archive/issues_021571.json:
```json
{
    "body": "CC:  @defeo\n\nCurrently, `gen.python()` is the same as `gen.sage()` which returns Sage objects. There should be a pure Python version, returning Python objects.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21808\n\n",
    "created_at": "2016-11-03T14:18:56Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Change gen.python() to return Python objects",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21571",
    "user": "https://github.com/jdemeyer"
}
```
CC:  @defeo

Currently, `gen.python()` is the same as `gen.sage()` which returns Sage objects. There should be a pure Python version, returning Python objects.

Issue created by migration from https://trac.sagemath.org/ticket/21808





---

archive/issue_comments_299128.json:
```json
{
    "body": "I would like to implement a `gentopython` function from the current `gentoobj` however very few types would be supported. Unless we allow third party Python modules such as [gmpy](https://pypi.python.org/pypi/gmpy2), [mpmath](http://mpmath.org/) [python-flint](https://github.com/fredrik-johansson/python-flint), etc\n\nI guess the best solution would be to support only `t_INT`, `t_VEC`, `t_COL`, `t_VECSMALL` and further extend the capabilities once this is moved as a Python module. What do you think?",
    "created_at": "2017-01-09T17:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299128",
    "user": "https://github.com/videlec"
}
```

I would like to implement a `gentopython` function from the current `gentoobj` however very few types would be supported. Unless we allow third party Python modules such as [gmpy](https://pypi.python.org/pypi/gmpy2), [mpmath](http://mpmath.org/) [python-flint](https://github.com/fredrik-johansson/python-flint), etc

I guess the best solution would be to support only `t_INT`, `t_VEC`, `t_COL`, `t_VECSMALL` and further extend the capabilities once this is moved as a Python module. What do you think?



---

archive/issue_comments_299129.json:
```json
{
    "body": "Why not:\n\n* `t_REAL` -> `float`\n\n* `t_COMPLEX` -> `complex`\n\n* `t_FRAC` -> [fraction](https://docs.python.org/2/library/fractions.html)\n\n* `t_STR` -> `str`\n\n* `t_MAT` -> `list` of `list`s\n\n* `t_INFINITY` -> `float`",
    "created_at": "2017-01-09T21:37:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299129",
    "user": "https://github.com/jdemeyer"
}
```

Why not:

* `t_REAL` -> `float`

* `t_COMPLEX` -> `complex`

* `t_FRAC` -> [fraction](https://docs.python.org/2/library/fractions.html)

* `t_STR` -> `str`

* `t_MAT` -> `list` of `list`s

* `t_INFINITY` -> `float`



---

archive/issue_comments_299130.json:
```json
{
    "body": "Changing keywords from \"\" to \"atelierpari2017\".",
    "created_at": "2017-01-10T09:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299130",
    "user": "https://github.com/videlec"
}
```

Changing keywords from "" to "atelierpari2017".



---

archive/issue_comments_299131.json:
```json
{
    "body": "why not `t_VEC` -> `list`?",
    "created_at": "2017-01-10T11:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299131",
    "user": "https://github.com/defeo"
}
```

why not `t_VEC` -> `list`?



---

archive/issue_comments_299132.json:
```json
{
    "body": "Replying to [comment:6 defeo]:\n> why not `t_VEC` -> `list`?\n\nIndeed. And `t_COL`.",
    "created_at": "2017-01-10T13:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299132",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:6 defeo]:
> why not `t_VEC` -> `list`?

Indeed. And `t_COL`.



---

archive/issue_comments_299133.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-01-10T13:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299133",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_299134.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-01-10T13:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299134",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_299135.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T14:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299136.json:
```json
{
    "body": "rebased on the correct #21807",
    "created_at": "2017-01-10T14:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299136",
    "user": "https://github.com/videlec"
}
```

rebased on the correct #21807



---

archive/issue_comments_299137.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T14:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299137",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299138.json:
```json
{
    "body": "rebased on #21807 and all tests pass in `libs/pari`, `libs/cypari2` and `structure/`.",
    "created_at": "2017-01-10T14:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299138",
    "user": "https://github.com/videlec"
}
```

rebased on #21807 and all tests pass in `libs/pari`, `libs/cypari2` and `structure/`.



---

archive/issue_comments_299139.json:
```json
{
    "body": "(Edit: wrong ticket)",
    "created_at": "2017-01-10T15:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299139",
    "user": "https://github.com/jdemeyer"
}
```

(Edit: wrong ticket)



---

archive/issue_comments_299140.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T15:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299141.json:
```json
{
    "body": "Regarding `TODO: this should be moved out of cypari`, I disagree. There is nothing wrong with a `sage()` method importing `sage`.",
    "created_at": "2017-01-10T15:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299141",
    "user": "https://github.com/jdemeyer"
}
```

Regarding `TODO: this should be moved out of cypari`, I disagree. There is nothing wrong with a `sage()` method importing `sage`.



---

archive/issue_comments_299142.json:
```json
{
    "body": "And `_eval_` can probably just be removed.",
    "created_at": "2017-01-10T15:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299142",
    "user": "https://github.com/jdemeyer"
}
```

And `_eval_` can probably just be removed.



---

archive/issue_comments_299143.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T15:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299143",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299144.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T15:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299145.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T16:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299146.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-10T16:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299147.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T16:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299148.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T17:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299148",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299149.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-10T19:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299149",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299150.json:
```json
{
    "body": "all tests pass on my computer",
    "created_at": "2017-01-10T20:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299150",
    "user": "https://github.com/videlec"
}
```

all tests pass on my computer



---

archive/issue_comments_299151.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-11T14:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299151",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299152.json:
```json
{
    "body": "And now patchbot is happy ;-)",
    "created_at": "2017-01-11T22:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299152",
    "user": "https://github.com/videlec"
}
```

And now patchbot is happy ;-)



---

archive/issue_comments_299153.json:
```json
{
    "body": "I'm happy, Patchbot's happy, everyone's happy!",
    "created_at": "2017-01-12T10:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299153",
    "user": "https://github.com/defeo"
}
```

I'm happy, Patchbot's happy, everyone's happy!



---

archive/issue_comments_299154.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-12T10:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299154",
    "user": "https://github.com/defeo"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_020377.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-18T20:39:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-20377"
}
```



---

archive/issue_comments_299155.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-01-18T20:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-299155",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
