# Issue 21571: Change gen.python() to return Python objects

Issue created by migration from https://trac.sagemath.org/ticket/21808

Original creator: jdemeyer

Original creation time: 2016-11-03 14:18:56

CC:  defeo

Currently, `gen.python()` is the same as `gen.sage()` which returns Sage objects. There should be a pure Python version, returning Python objects.


---

Comment by vdelecroix created at 2017-01-09 17:12:50

I would like to implement a `gentopython` function from the current `gentoobj` however very few types would be supported. Unless we allow third party Python modules such as [gmpy](https://pypi.python.org/pypi/gmpy2), [mpmath](http://mpmath.org/) [python-flint](https://github.com/fredrik-johansson/python-flint), etc

I guess the best solution would be to support only `t_INT`, `t_VEC`, `t_COL`, `t_VECSMALL` and further extend the capabilities once this is moved as a Python module. What do you think?


---

Comment by jdemeyer created at 2017-01-09 21:37:55

Why not:

* `t_REAL` -> `float`

* `t_COMPLEX` -> `complex`

* `t_FRAC` -> [fraction](https://docs.python.org/2/library/fractions.html)

* `t_STR` -> `str`

* `t_MAT` -> `list` of `list`s

* `t_INFINITY` -> `float`


---

Comment by vdelecroix created at 2017-01-10 09:36:25

Changing keywords from "" to "atelierpari2017".


---

Comment by defeo created at 2017-01-10 11:06:17

why not `t_VEC` -> `list`?


---

Comment by vdelecroix created at 2017-01-10 13:08:22

Replying to [comment:6 defeo]:
> why not `t_VEC` -> `list`?

Indeed. And `t_COL`.


---

Comment by vdelecroix created at 2017-01-10 13:40:00

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2017-01-10 13:40:00

New commits:


---

Comment by git created at 2017-01-10 14:14:27

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2017-01-10 14:15:14

rebased on the correct #21807


---

Comment by git created at 2017-01-10 14:55:36

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2017-01-10 14:56:19

rebased on #21807 and all tests pass in `libs/pari`, `libs/cypari2` and `structure/`.


---

Comment by jdemeyer created at 2017-01-10 15:40:20

(Edit: wrong ticket)


---

Comment by git created at 2017-01-10 15:50:03

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2017-01-10 15:53:31

Regarding `TODO: this should be moved out of cypari`, I disagree. There is nothing wrong with a `sage()` method importing `sage`.


---

Comment by jdemeyer created at 2017-01-10 15:54:47

And `_eval_` can probably just be removed.


---

Comment by git created at 2017-01-10 15:57:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-10 15:58:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-10 16:28:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-10 16:32:58

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2017-01-10 16:45:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-10 17:00:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-10 19:15:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2017-01-10 20:08:50

all tests pass on my computer


---

Comment by git created at 2017-01-11 14:21:41

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2017-01-11 22:41:10

And now patchbot is happy ;-)


---

Comment by defeo created at 2017-01-12 10:38:30

I'm happy, Patchbot's happy, everyone's happy!


---

Comment by defeo created at 2017-01-12 10:38:30

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-01-18 20:39:22

Resolution: fixed
