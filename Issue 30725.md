# Issue 30725: use Parent in shuffle

Issue created by migration from https://trac.sagemath.org/ticket/30962

Original creator: chapoton

Original creation time: 2020-11-25 17:13:30

CC:  tscrim

and get rid there of CoombinatorialClass

also make the cardinality an integer

part of #12913


---

Comment by chapoton created at 2020-11-25 17:14:03

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-11-25 17:14:03

New commits:


---

Comment by git created at 2020-11-25 17:21:29

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-11-26 08:05:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-11-27 07:55:49

green bot, please review. Should I care for loads(dumps()) ?


---

Comment by tscrim created at 2020-11-30 02:05:53

I think it would be good to have a little care for pickling. However, I think there is a bigger issue with the fact that these are parents, but they do not have an element class associated to them. They are really facade parents, and I think should be indicated as such.


---

Comment by git created at 2020-12-05 20:52:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-12-05 20:53:54

I  have taken care of the pickling. But I have not clue on how to handle the facade property.


---

Comment by tscrim created at 2020-12-06 23:06:19

I will take care of it either today or tomorrow.


---

Comment by tscrim created at 2020-12-10 01:11:37

Okay, I couldn't get the facade to work as well because it wants an actual parent. So we have an abuse because we are creating elements that are not actually an `Element` to the `Parent`. Hence the skipped `TestSuite` tests. I reworked the class hierarchy there to have a common ABC and fixed issues with pickling and equality for all of them.
----
New commits:


---

Comment by git created at 2020-12-11 08:43:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-12-12 07:43:31

Whoops, thank you. Green patchbot.


---

Comment by chapoton created at 2020-12-12 07:53:49

ok, looks good to me. One should enhance the `_contains_` in a later ticket..

You can set to positive if you wish


---

Comment by tscrim created at 2020-12-12 09:20:36

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-12-12 09:20:36

Replying to [comment:13 chapoton]:
> ok, looks good to me. One should enhance the `_contains_` in a later ticket..

Indeed, that would be good. This was not previously supported before I believe.

> You can set to positive if you wish

Thank you.


---

Comment by vbraun created at 2020-12-14 23:53:21

Resolution: fixed
