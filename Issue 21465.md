# Issue 21465: symmetrica segfaults with fraction field of multivariate ZZ polynomials

Issue created by migration from https://trac.sagemath.org/ticket/21702

Original creator: tscrim

Original creation time: 2016-10-14 03:51:25

CC:  fbissey

We have the following:

```
sage: SymmetricFunctions(FractionField(QQ['q','t']))
Symmetric Functions over Fraction Field of Multivariate Polynomial Ring in q, t over Rational Field
sage: SymmetricFunctions(FractionField(ZZ['q']))
Symmetric Functions over Fraction Field of Univariate Polynomial Ring in q over Integer Ring
sage: SymmetricFunctions(FractionField(ZZ['q','t']))
Segmentation fault (core dumped)
```

However, the last one works with Sage 7.3.


---

Comment by tscrim created at 2016-10-14 03:53:53

I don't think this is caused by #12439 as the trace goes through libsingular.


---

Comment by fbissey created at 2016-10-14 04:05:20

trace?


---

Attachment

Attached.


---

Comment by jdemeyer created at 2016-10-14 16:10:56

Works for me on Sage 7.4.rc1:

```
sage: SymmetricFunctions(FractionField(QQ['q','t']))
Symmetric Functions over Fraction Field of Multivariate Polynomial Ring in q, t over Rational Field
sage: SymmetricFunctions(FractionField(ZZ['q']))
Symmetric Functions over Fraction Field of Univariate Polynomial Ring in q over Integer Ring
sage: SymmetricFunctions(FractionField(ZZ['q','t']))
Symmetric Functions over Fraction Field of Multivariate Polynomial Ring in q, t over Integer Ring
```



---

Comment by tscrim created at 2016-10-14 18:25:10

That's good to know but slightly unsettling at the same time. I forced a rebuild of symmetrica once I saw this, but I'm now convinced that is not the problem. Maybe it's something with the compiler? I used gcc 5.4.0 to build Sage. Although I guess we should wait to try and diagnose this further once `7.5.beta0` comes out, which should have Singular 4.


---

Comment by tscrim created at 2016-10-20 20:31:07

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-10-20 20:31:07

Hmm...this now is working for me now that I bumped to 7.4.rc2. I might have just done something to mess up my install when testing stuff... So perhaps we should just close this as invalid.


---

Comment by jdemeyer created at 2016-10-21 07:53:54

Resolution: worksforme
