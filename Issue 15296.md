# Issue 15296: Making the hash of cores depend on the parameter

Issue created by migration from Trac.

Original creator: stumpc5

Original creation time: 2013-12-17 14:11:23

CC:  tscrim aschilling andrew.mathas sage-combinat

Keywords: cores

Currently, a core does not hash its parameter, so having a dict with the two keys

```
sage: A = Core([2],4)
sage: B = Core([2],5)
sage: hash(A) == hash(B)
True
```

fails to work.


---

Comment by stumpc5 created at 2013-12-17 14:40:32

New commits:


---

Comment by stumpc5 created at 2013-12-17 14:40:32

Changing status from new to needs_review.


---

Comment by aschilling created at 2013-12-17 17:29:29

Changing status from needs_review to positive_review.


---

Comment by aschilling created at 2013-12-17 17:29:48

Looks good to me!


---

Comment by tscrim created at 2013-12-17 22:39:54

It is a requirement that if two objects compare `==` then they must have the same hash:

```
sage: A = Core([2],4)
sage: B = Core([2],5)
sage: A == B
True
sage: hash(A) == hash(B)
False
```

So if we want different hashes, then they must not compare `==`.


---

Comment by tscrim created at 2013-12-17 22:39:54

Changing status from positive_review to needs_work.


---

Comment by aschilling created at 2014-01-28 21:17:03

Replying to [comment:5 tscrim]:
> It is a requirement that if two objects compare `==` then they must have the same hash:
> {{{
> sage: A = Core([2],4)
> sage: B = Core([2],5)
> sage: A == B
> True
> sage: hash(A) == hash(B)
> False
> }}}
> So if we want different hashes, then they must not compare `==`.

Yes, Christian, please make two cores with different `k` unequal and I will set a positive review again!

Anne


---

Comment by git created at 2014-01-29 08:21:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by stumpc5 created at 2014-01-29 08:22:39

done, ready for review...


---

Comment by aschilling created at 2014-01-29 20:19:13

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2014-02-02 14:19:49

This breaks doctests, e.g.

```
File "src/sage/combinat/k_tableau.py", line 3941, in sage.combinat.k_tableau.StrongTableaux._repr_
Failed example:
    StrongTableaux(3, [2,2], weight=[1,1,1,1])
Expected:
    Set of strong 3-tableaux of shape [2, 2] and of weight (1, 1, 1, 1)
Got:
    Set of strong 3-tableaux of shape [[2, 2], []] and of weight (1, 1, 1, 1)
```



---

Comment by stumpc5 created at 2014-02-03 12:41:50

Okay, the problem is that people use

```
sage: C == []
```

for a core `C` elsewhere in the code. And this cannot work out if we want to make the hash (and thus the equality) dependent on the additional parameter.

Travis (or someone else), could you take over and solve this issue how ever you think it is appropriate (including to decide that we do not want this ticket to be merged)?

Cheers, Christian


---

Comment by aschilling created at 2014-02-05 06:05:05

New commits:


---

Comment by aschilling created at 2014-02-05 06:06:00

Replying to [comment:12 stumpc5]:
> Okay, the problem is that people use
> {{{
> sage: C == []
> }}}
> for a core `C` elsewhere in the code. And this cannot work out if we want to make the hash (and thus the equality) dependent on the additional parameter.

Fixed! So hopefully this can be merged now!

Anne


---

Comment by vbraun created at 2014-02-08 14:02:39

Resolution: fixed
