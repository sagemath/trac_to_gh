# Issue 10484: Fix dictionary input to sparse vector constructor

Issue created by migration from https://trac.sagemath.org/ticket/10537

Original creator: rbeezer

Original creation time: 2010-12-31 09:51:32

Assignee: jason, was

A dictionary can be used to specify the entries of a vector, and then the result will be sparse.  The degree of the vector is implicitly determined by the largest key/index.  You can fool this by creating a zero entry with a large key/index.  But then problems arise later if you try to use this constructor with a dictionary created programatically - you can't fool it twice.

So working with sparse matrices is either unreliable (as described), or inefficient (convert from dictionaries to lists and back again).

Patch slowly ate away at the old `prepare_dict` until almost nothing was left, and then it got subsumed into `prepare`.  Passes all tests in sage/modules and I will run full tests overnight.

Depends on 4.6.1.alpha3 and #10364 which had improved error messages for this situation.


---

Comment by rbeezer created at 2010-12-31 10:04:49

Patchbot:

Apply trac_10537_dictionary_vector_input.patch

Depends on #10364


---

Comment by rbeezer created at 2010-12-31 10:04:49

Changing status from new to needs_review.


---

Attachment


---

Comment by dimpase created at 2011-01-11 23:55:44

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-01-26 22:28:41

Resolution: fixed
