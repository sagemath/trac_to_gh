# Issue 28085: zn_poly build failure with python3

Issue created by migration from https://trac.sagemath.org/ticket/28322

Original creator: chapoton

Original creation time: 2019-08-04 14:38:28

CC:  tscrim jdemeyer embray

After `make distclean` and then python3-configuration,

I still get (with 8.9.b5) the `zn_poly` build failure coming from patches already reported in #27476 five months ago.

I managed to build by monkey-removing this patch, as before.


---

Comment by embray created at 2019-08-12 12:13:54

I still don't see this problem, and the order of applying the patches doesn't have anything to do with what Python you're using for Sage.

I started my rework of the zn_poly build system like, way back in March, and almost finished it.  I just got stuck on one thing and got side-tracked and never got back to finishing it.  It's definitely something I'd like the take care of though.

Maybe, if worse comes to worse, I'll try a simpler rewrite that just uses autoconf, but not automake.  The hard part was that zn_poly has some strange source code layout that does not really fit well with some of automake's assumptions, so really it needs even more refactoring.  But I think, last I tried, I almost had it.


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by chapoton created at 2020-01-01 12:34:46

still the exact same issue with 9.0.rc1 (and every time I try to build zn_poly on this machine)

so I "git rm" the patch, build zn_poly, and then "git stash" to restore the patch


---

Comment by embray created at 2020-01-06 15:07:30

Still can't reproduce.  Something is weird on your system in how it's ordering files.


---

Comment by embray created at 2020-01-06 15:16:02

Resolution: worksforme


---

Comment by embray created at 2020-01-06 15:16:02

This should be obviated by #28959.
