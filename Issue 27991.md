# Issue 27991: Semistandard super tableau and standard super tableau for superRSK

Issue created by migration from https://trac.sagemath.org/ticket/28228

Original creator: @ChamanAgrawal

Original creation time: 2019-07-22 08:58:00

CC:  tscrim darij

Keywords: gsocRSK

A semistandard super tableau contains primed positive integers as entries. All the entries together are weakly increasing in rows and down columns, while the primed letters are row strict among themselves and the unprimed letters are column strict among themselves.
Similarly, a standard super tableau has primed positive integers as entries which are strictly increasing in rows and down columns and
contains each letter from 1',1,2'...n exactly once.
More information can be found here https://arxiv.org/pdf/1711.00420v1.pdf


---

Comment by @ChamanAgrawal created at 2019-07-23 17:17:52

Last 10 new commits:


---

Comment by git created at 2019-07-23 17:46:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-23 19:36:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @ChamanAgrawal created at 2019-07-23 19:50:22

Changing status from new to needs_review.


---

Comment by git created at 2019-07-24 10:56:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-24 11:04:56

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2019-07-26 06:37:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2019-07-26 17:19:58

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2019-07-26 17:19:58

You need to redo the branch so that it is "clean" and **not** based on the previous RSK branches but instead on `develop`.

These are **not** factory classes but parents, but anyways you should just say something like `The set of standard super tableaux.`.

Please go over the doc more carefully and make sure the alignment and formatting is good.


---

Comment by @ChamanAgrawal created at 2019-07-28 11:27:59

New commits:


---

Comment by git created at 2019-07-28 17:33:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-28 20:23:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-28 20:35:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @ChamanAgrawal created at 2019-07-28 20:37:02

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2019-07-29 07:39:40

More things to do:

See patchbot for things you need to fix (in particular, you should lazily import from `super_tableau.py` and only the things you want).

Move the `Muth` reference to the main reference doc file `src/doc/en/reference/references/index.rst`.

You should also give authorship credit to the person who originally wrote the code you have modified.

Error messages are not sentences by Python convention (so not starting with a capital letter or ending in a period/full-stop).

The `__init__` methods should have a `TestSuite` instead of this stuff:

```
            sage: t.parent()
            Semistandard super tableaux
            sage: s.parent()
            Semistandard super tableaux
            sage: r = SemistandardSuperTableaux()(s); r.parent()
            Semistandard super tableaux
            sage: s is t  # identical Semistandard super tableaux are distinct objects
            False
```

(which is not doing much to test it).

In `check`, you need to mark them as `# indirect doctest`'s (see patchbot's coverage for why). Additionally, don't use triple quotes for the `ValueError`'s, use two lines of usual quotes, e.g.,

```
                raise ValueError("the entries of a semistandard super tableau"
                                 "must be non-negative primed integers")
```

This holds for all error messages.

The class-level docstring for `class SuperStandardTableau` is over-indented for the first line and the `INPUT:` block. Also, the definition should come before the `INPUT:` block.

Get rid of the comment about constructing from a parent object. I never really liked those in the `tableau.py` file as it clouds things for a user with mostly useless details.

Class level doc should never have an `OUTPUT:` block (e.g., `SemistandardSuperTableaux`).

The `WARNING::` in `SemistandardSuperTableaux_all.__init__` does not make sense.

`EXAMPLES::` and `TESTS::` needs a blank line after it.

In `StandardSuperTableaux`, make the the `__classcall_private__` have explicit parameters. Moreover, you should explicitly state what those are in the `INPUT:` block.

I do not think it is a good idea to copy the code from `StandardTableaux`. You should either create the corresponding `StandardTableaux` object and ask for its cardinality or the cardinality should be separated out into a separate function (probably even put in the `combinat_cython.py` file). Likewise, I think you should just say they are in bijection with the corresponding standard tableaux (under the alphabet relabeling) and refer to their for more information.

Remove the `list` method; it is provided by the category.


---

Comment by @ChamanAgrawal created at 2019-07-29 13:16:11

Replying to [comment:14 tscrim]:
> Get rid of the comment about constructing from a parent object. I never really liked those in the `tableau.py` file as it clouds things for a user with mostly useless details.

You are talking about python code comments, right?

> Class level doc should never have an `OUTPUT:` block (e.g., `SemistandardSuperTableaux`).

So I should include `OUTPUT:` in the `__classcall_private__` or `__init__`, right?

> I do not think it is a good idea to copy the code from `StandardTableaux`. You should either create the corresponding `StandardTableaux` object and ask for its cardinality or the cardinality should be separated out into a separate function (probably even put in the `combinat_cython.py` file). Likewise, I think you should just say they are in bijection with the corresponding standard tableaux (under the alphabet relabeling) and refer to their for more information.

I think creating an object of `StandardTableaux` will be good, with that we can remove both the copied code of `cardinality` and `__iter__`.


---

Comment by git created at 2019-07-29 13:55:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2019-07-29 15:42:34

Replying to [comment:15 gh-ChamanAgrawal]:
> Replying to [comment:14 tscrim]:
> > Get rid of the comment about constructing from a parent object. I never really liked those in the `tableau.py` file as it clouds things for a user with mostly useless details.
> 
> You are talking about python code comments, right?

No, in the docstring. It is hard to miss (where it talks about the faster construction option).

> > Class level doc should never have an `OUTPUT:` block (e.g., `SemistandardSuperTableaux`).
> 
> So I should include `OUTPUT:` in the `__classcall_private__` or `__init__`, right?

No remove it completely. Apply fire and holy water if you need to.


---

Comment by git created at 2019-07-29 16:42:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-08-01 15:00:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-08-02 10:41:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-08-05 16:06:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2019-08-12 16:44:55

Mike Hanson is not the original author: you are and Matthew Lancellotti.

More robust way:

```diff
-from sage.combinat.tableau import Tableau, Tableaux, SemistandardTableaux, \
-                                    StandardTableaux
+from sage.combinat.tableau import (Tableau, Tableaux, SemistandardTableaux,
+                                   StandardTableaux)
```



```diff
-    A class to model a semistandard super tableau defined in [RM2017].
+    A semistandard super tableau.
```

Add the reference to the main body and link it by `[RM2017]_`. Similar changes for the other classes.

The reference should be `[Muth2017]` as only last names count.

Space before parentheses, so, e.g., `even parity (unprimed)`.

You shouldn't need to import `Tableaux` in doctests.

Rather than construct the parent twice in `__classcall_private__`, I would do

```python
        SST = SemistandardSuperTableaux_all()
        return SST.element_class(SST, t)
```


This is faster:

```diff
-while len(t) > 0 and len(t[-1]) == 0:
+while t and not t[-1]:
```


Why are you stripping out the `None`'s in `_preprocess`? These would be needed if we implement skew versions.

Comments like `# set of all standard super tableaux` in doctests are not really helpful and just add clutter IMO.

One test you can do for the standard super tableaux is check that the set has the same cardinality as standard tableaux.

I do not see why you are making the entries in the `__iter__` a floating point value. They should be Sage integers, so the `val/2` should be a rational number. If you are worried it is not, then wrap the numerator in `ZZ`. Also, you can compactify the iterator by

```python
        for tableau in StandardTableaux(pi):
            yield self.element_class(self, [[PrimedEntry(val/2) for val in row]
                                            for row in tableau])
```

and it does not need a `return` at the end.


---

Comment by tscrim created at 2019-08-12 16:45:07

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-08-14 14:00:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @ChamanAgrawal created at 2019-08-14 14:00:59

Changing status from needs_work to needs_review.


---

Comment by git created at 2019-08-14 15:12:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2019-08-17 02:18:56

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-08-17 02:18:56

Thank you. LGTM.


---

Comment by vbraun created at 2019-08-19 22:08:57

Resolution: fixed
