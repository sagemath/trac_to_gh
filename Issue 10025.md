# Issue 10025: Complex elliptic logs -- simplified algorithm

archive/issues_010025.json:
```json
{
    "body": "Assignee: @JohnCremona\n\nCC:  @categorie @williamstein\n\nKeywords: elliptic logarithms\n\nComplex elliptic logs were implemented in #6390 following joint work by John Cremona and Thotsaphon Thongjunthug (as talked about by JC at SD23 in Leiden).  Now the final touches are being put to our joint paper, we found a small simplification to the algorithm, where the iteration now deals with pairs of complex numbers rather than triples.  There is no essential difference except very slightly simpler code, but it is desirable that the code should match the paper in which the algorithm is developed.\n\nPatch up shortly: depends on #8820 and #9931.\n\nIssue created by migration from https://trac.sagemath.org/ticket/10026\n\n",
    "created_at": "2010-09-28T13:35:28Z",
    "labels": [
        "component: elliptic curves",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.1",
    "title": "Complex elliptic logs -- simplified algorithm",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10025",
    "user": "https://github.com/JohnCremona"
}
```
Assignee: @JohnCremona

CC:  @categorie @williamstein

Keywords: elliptic logarithms

Complex elliptic logs were implemented in #6390 following joint work by John Cremona and Thotsaphon Thongjunthug (as talked about by JC at SD23 in Leiden).  Now the final touches are being put to our joint paper, we found a small simplification to the algorithm, where the iteration now deals with pairs of complex numbers rather than triples.  There is no essential difference except very slightly simpler code, but it is desirable that the code should match the paper in which the algorithm is developed.

Patch up shortly: depends on #8820 and #9931.

Issue created by migration from https://trac.sagemath.org/ticket/10026





---

archive/issue_comments_100573.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-09-28T13:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100573",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_100574.json:
```json
{
    "body": "I just checked that this still applies properly, and tests still pass, with the updated patch at #8820 (which still needs a new review).",
    "created_at": "2010-10-03T15:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100574",
    "user": "https://github.com/JohnCremona"
}
```

I just checked that this still applies properly, and tests still pass, with the updated patch at #8820 (which still needs a new review).



---

archive/issue_comments_100575.json:
```json
{
    "body": "Note: this should not get a positive review until this example works properly (reported by WAS):\n\n```\nK.<w> = QuadraticField(2); K\n  E = EllipticCurve([ 0, -1, 1, -3*w -4, 3*w + 4 ])\n```\n\nand both elliptic_logarithm and elliptic_exponential take a long time (i.e., don't finish while\nI'm waiting).  Is this expected?  I don't understand the complexity, but I sort of thought they would\nbe nearly instant.\n\n```\nembs = K.embeddings(CC)\nLambda = E.period_lattice(embs[0]); Lambda\nT = E.simon_two_descent()\nP,Q = T[2]\nLambda.elliptic_logarithm(P,10)\n```\n\n[wait foreover?]\n\nI have not yet checked that this behaviour still happens after the patch.",
    "created_at": "2010-10-19T07:55:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100575",
    "user": "https://github.com/JohnCremona"
}
```

Note: this should not get a positive review until this example works properly (reported by WAS):

```
K.<w> = QuadraticField(2); K
  E = EllipticCurve([ 0, -1, 1, -3*w -4, 3*w + 4 ])
```

and both elliptic_logarithm and elliptic_exponential take a long time (i.e., don't finish while
I'm waiting).  Is this expected?  I don't understand the complexity, but I sort of thought they would
be nearly instant.

```
embs = K.embeddings(CC)
Lambda = E.period_lattice(embs[0]); Lambda
T = E.simon_two_descent()
P,Q = T[2]
Lambda.elliptic_logarithm(P,10)
```

[wait foreover?]

I have not yet checked that this behaviour still happens after the patch.



---

archive/issue_comments_100576.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2010-10-19T08:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100576",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_100577.json:
```json
{
    "body": "The patch does not fix that, so I have put it back to \"needs work\" and when fixed, this example should be included as a new doctest.",
    "created_at": "2010-10-19T08:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100577",
    "user": "https://github.com/JohnCremona"
}
```

The patch does not fix that, so I have put it back to "needs work" and when fixed, this example should be included as a new doctest.



---

archive/issue_comments_100578.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2010-10-19T14:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100578",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_100579.json:
```json
{
    "body": "I have replaced the patch by one which now works for the reported problem example.  Essentially, I just made the elliptic_logarithm function use my new code in all cases, and adjusted some doctests slightly.\n\nReady for review again.",
    "created_at": "2010-10-19T14:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100579",
    "user": "https://github.com/JohnCremona"
}
```

I have replaced the patch by one which now works for the reported problem example.  Essentially, I just made the elliptic_logarithm function use my new code in all cases, and adjusted some doctests slightly.

Ready for review again.



---

archive/issue_comments_100580.json:
```json
{
    "body": "Attachment [trac_10026-elog.patch](tarball://root/attachments/some-uuid/ticket10026/trac_10026-elog.patch) by @JohnCremona created at 2010-10-24 20:14:09\n\napplies to 4.6.rc0",
    "created_at": "2010-10-24T20:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100580",
    "user": "https://github.com/JohnCremona"
}
```

Attachment [trac_10026-elog.patch](tarball://root/attachments/some-uuid/ticket10026/trac_10026-elog.patch) by @JohnCremona created at 2010-10-24 20:14:09

applies to 4.6.rc0



---

archive/issue_comments_100581.json:
```json
{
    "body": "Another update with a better solution:  there is now specific code for all three cases of real points on real curves, which uses the simplified iteration (with real variables).",
    "created_at": "2010-10-24T20:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100581",
    "user": "https://github.com/JohnCremona"
}
```

Another update with a better solution:  there is now specific code for all three cases of real points on real curves, which uses the simplified iteration (with real variables).



---

archive/issue_comments_100582.json:
```json
{
    "body": "Attachment [trac_10026_reviewer.patch](tarball://root/attachments/some-uuid/ticket10026/trac_10026_reviewer.patch) by @categorie created at 2010-11-12 19:19:02\n\nto be applied after the first patch",
    "created_at": "2010-11-12T19:19:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100582",
    "user": "https://github.com/categorie"
}
```

Attachment [trac_10026_reviewer.patch](tarball://root/attachments/some-uuid/ticket10026/trac_10026_reviewer.patch) by @categorie created at 2010-11-12 19:19:02

to be applied after the first patch



---

archive/issue_comments_100583.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-11-12T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100583",
    "user": "https://github.com/categorie"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_100584.json:
```json
{
    "body": "apart from the minor documentation error that I found (and corrected with the second patch) I can not see any problem with this. All the test pass. I do trust the authors of the paper about the algorithms in the patch.",
    "created_at": "2010-11-12T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100584",
    "user": "https://github.com/categorie"
}
```

apart from the minor documentation error that I found (and corrected with the second patch) I can not see any problem with this. All the test pass. I do trust the authors of the paper about the algorithms in the patch.



---

archive/issue_comments_100585.json:
```json
{
    "body": "Thanks, Chris.  The paper is now at http://arxiv.org/abs/1011.0914 .",
    "created_at": "2010-11-12T20:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100585",
    "user": "https://github.com/JohnCremona"
}
```

Thanks, Chris.  The paper is now at http://arxiv.org/abs/1011.0914 .



---

archive/issue_comments_100586.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-11-15T23:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10025#issuecomment-100586",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_010147.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-15T23:42:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10025",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10025#event-10147"
}
```
