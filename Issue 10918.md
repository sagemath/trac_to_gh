# Issue 10918: Update Simon's GP scripts and convert to use via gp2c

archive/issues_010918.json:
```json
{
    "body": "Assignee: @JohnCremona\n\nCC:  @williamstein @pjbruin\n\n1.  Denis Simon's GP scripts (in data/extcode/pari/simon) need updating.\n\n2.  Using them via gp2c would be more efficient.\n\nThe scripts have been combined into one and revised to make the gp2c-compliant, and gp2c has been used to make a single C file from them.  This can be compiled (once, on building Sage) into a shared library file which can then be used in a GP session, the result being faster running of all the functions.\n\nTo implement this we (1) created a new spkg containing the C file, which on bring installed puts tha .so into data/extcode/pari/simon (together with a helper GP script);  (2) patched the extcode repository (removing the old scripts);  (3) patched the sage library repository, mainly to adapt the interface in elliptic_curves/gp_simon.py but also to correct the doctest output (due to the script upgrade giving different generators in some cases).\n\nSo there are two patches and an spkg needed!  I have them all and will attach them shortly.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11005\n\n",
    "created_at": "2011-03-23T23:34:01Z",
    "labels": [
        "component: elliptic curves"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Update Simon's GP scripts and convert to use via gp2c",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10918",
    "user": "https://github.com/JohnCremona"
}
```
Assignee: @JohnCremona

CC:  @williamstein @pjbruin

1.  Denis Simon's GP scripts (in data/extcode/pari/simon) need updating.

2.  Using them via gp2c would be more efficient.

The scripts have been combined into one and revised to make the gp2c-compliant, and gp2c has been used to make a single C file from them.  This can be compiled (once, on building Sage) into a shared library file which can then be used in a GP session, the result being faster running of all the functions.

To implement this we (1) created a new spkg containing the C file, which on bring installed puts tha .so into data/extcode/pari/simon (together with a helper GP script);  (2) patched the extcode repository (removing the old scripts);  (3) patched the sage library repository, mainly to adapt the interface in elliptic_curves/gp_simon.py but also to correct the doctest output (due to the script upgrade giving different generators in some cases).

So there are two patches and an spkg needed!  I have them all and will attach them shortly.

Issue created by migration from https://trac.sagemath.org/ticket/11005





---

archive/issue_comments_117057.json:
```json
{
    "body": "Attachment [trac_11005-simon-sage.patch](tarball://root/attachments/some-uuid/ticket11005/trac_11005-simon-sage.patch) by @JohnCremona created at 2011-03-23 23:41:26\n\napplies to 4.7.alpha1",
    "created_at": "2011-03-23T23:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117057",
    "user": "https://github.com/JohnCremona"
}
```

Attachment [trac_11005-simon-sage.patch](tarball://root/attachments/some-uuid/ticket11005/trac_11005-simon-sage.patch) by @JohnCremona created at 2011-03-23 23:41:26

applies to 4.7.alpha1



---

archive/issue_comments_117058.json:
```json
{
    "body": "applies to 4.7.alpha1",
    "created_at": "2011-03-23T23:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117058",
    "user": "https://github.com/JohnCremona"
}
```

applies to 4.7.alpha1



---

archive/issue_comments_117059.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-03-23T23:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117059",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_117060.json:
```json
{
    "body": "Attachment [trac_11005-simon-extcode.patch](tarball://root/attachments/some-uuid/ticket11005/trac_11005-simon-extcode.patch) by @JohnCremona created at 2011-03-23 23:45:23",
    "created_at": "2011-03-23T23:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117060",
    "user": "https://github.com/JohnCremona"
}
```

Attachment [trac_11005-simon-extcode.patch](tarball://root/attachments/some-uuid/ticket11005/trac_11005-simon-extcode.patch) by @JohnCremona created at 2011-03-23 23:45:23



---

archive/issue_comments_117061.json:
```json
{
    "body": "Note to reviewers.   It is very likely that you will find elliptic curves where the scripts do not work (I have some of my own).  That is *not* a reason to reject this enhancement.  The scripts are not perfect, but they are all we have over number fields!  As a result of this ticket, we get both updated version of the scripts (with some bug-fixes and enhancements) and also faster execution.  But not perfection.",
    "created_at": "2011-03-23T23:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117061",
    "user": "https://github.com/JohnCremona"
}
```

Note to reviewers.   It is very likely that you will find elliptic curves where the scripts do not work (I have some of my own).  That is *not* a reason to reject this enhancement.  The scripts are not perfect, but they are all we have over number fields!  As a result of this ticket, we get both updated version of the scripts (with some bug-fixes and enhancements) and also faster execution.  But not perfection.



---

archive/issue_comments_117062.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-03-24T05:04:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117062",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_117063.json:
```json
{
    "body": "Not yet ready for review: still testing.",
    "created_at": "2011-03-24T05:04:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117063",
    "user": "https://github.com/JohnCremona"
}
```

Not yet ready for review: still testing.



---

archive/issue_comments_117064.json:
```json
{
    "body": "Attachment [simon-20110321.spkg](tarball://root/attachments/some-uuid/ticket11005/simon-20110321.spkg) by @JohnCremona created at 2011-03-24 17:34:33\n\nNew spkg",
    "created_at": "2011-03-24T17:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117064",
    "user": "https://github.com/JohnCremona"
}
```

Attachment [simon-20110321.spkg](tarball://root/attachments/some-uuid/ticket11005/simon-20110321.spkg) by @JohnCremona created at 2011-03-24 17:34:33

New spkg



---

archive/issue_comments_117065.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-03-24T17:34:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117065",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117066.json:
```json
{
    "body": "I created a new spkg and I updated the way to update import the library, removing one GP-script from the spkg.\nI can give this a positive review, but before someone needs to test this on Mac at least.",
    "created_at": "2011-03-25T23:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117066",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

I created a new spkg and I updated the way to update import the library, removing one GP-script from the spkg.
I can give this a positive review, but before someone needs to test this on Mac at least.



---

archive/issue_comments_117067.json:
```json
{
    "body": "Attachment [trac-11005-simon-sage-2.patch](tarball://root/attachments/some-uuid/ticket11005/trac-11005-simon-sage-2.patch) by mraum created at 2011-03-25 23:42:27",
    "created_at": "2011-03-25T23:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117067",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Attachment [trac-11005-simon-sage-2.patch](tarball://root/attachments/some-uuid/ticket11005/trac-11005-simon-sage-2.patch) by mraum created at 2011-03-25 23:42:27



---

archive/issue_comments_117068.json:
```json
{
    "body": "Martin, the spkg at  http://sage.math.washington.edu/home/mraum/simon-20110321.spkg seems to be identical to my original one, which cannot be right.",
    "created_at": "2011-04-22T16:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117068",
    "user": "https://github.com/JohnCremona"
}
```

Martin, the spkg at  http://sage.math.washington.edu/home/mraum/simon-20110321.spkg seems to be identical to my original one, which cannot be right.



---

archive/issue_comments_117069.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2011-04-22T16:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117069",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_117070.json:
```json
{
    "body": "Changing keywords from \"\" to \"simon\".",
    "created_at": "2011-04-22T16:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117070",
    "user": "https://github.com/JohnCremona"
}
```

Changing keywords from "" to "simon".



---

archive/issue_comments_117071.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2011-04-22T17:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117071",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_117072.json:
```json
{
    "body": "I checked this, but indeed this is the right package. The point was to update the spkg-install script. The rest of the spkg, I think is perfect. Well, we should incorporate the new scripts that you received by Simon.",
    "created_at": "2011-04-22T17:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117072",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

I checked this, but indeed this is the right package. The point was to update the spkg-install script. The rest of the spkg, I think is perfect. Well, we should incorporate the new scripts that you received by Simon.



---

archive/issue_comments_117073.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-04-22T17:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117073",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_117074.json:
```json
{
    "body": "Changing keywords from \"simon\" to \"simon spkg\".",
    "created_at": "2011-04-24T18:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117074",
    "user": "https://github.com/jdemeyer"
}
```

Changing keywords from "simon" to "simon spkg".



---

archive/issue_comments_117075.json:
```json
{
    "body": "Note that adding a new standard spkg to Sage would at least require changing some files in SAGE_ROOT, in particular `spkg/install` and `spkg/standard/deps`.",
    "created_at": "2011-04-24T18:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117075",
    "user": "https://github.com/jdemeyer"
}
```

Note that adding a new standard spkg to Sage would at least require changing some files in SAGE_ROOT, in particular `spkg/install` and `spkg/standard/deps`.



---

archive/issue_comments_117076.json:
```json
{
    "body": "I don't see much reason for this a separate spkg.  Given that it is essentially one .c file, could we not put this into the main Sage library?",
    "created_at": "2011-05-02T13:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117076",
    "user": "https://github.com/jdemeyer"
}
```

I don't see much reason for this a separate spkg.  Given that it is essentially one .c file, could we not put this into the main Sage library?



---

archive/issue_comments_117077.json:
```json
{
    "body": "Replying to [comment:12 jdemeyer]:\n> I don't see much reason for this a separate spkg.  Given that it is essentially one .c file, could we not put this into the main Sage library?\n\nI think that is a great idea.  Putting it into an spkg seemed simpler as a way to work on it and test it, but I would be very happy to put it into the library.  I guess that can be done by applying patches to the right places (the usual Sage library, but where else? ) and then would \"sage -b\" be enough to include it while testing?",
    "created_at": "2011-05-02T15:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117077",
    "user": "https://github.com/JohnCremona"
}
```

Replying to [comment:12 jdemeyer]:
> I don't see much reason for this a separate spkg.  Given that it is essentially one .c file, could we not put this into the main Sage library?

I think that is a great idea.  Putting it into an spkg seemed simpler as a way to work on it and test it, but I would be very happy to put it into the library.  I guess that can be done by applying patches to the right places (the usual Sage library, but where else? ) and then would "sage -b" be enough to include it while testing?



---

archive/issue_comments_117078.json:
```json
{
    "body": "Replying to [comment:13 cremona]:\n> I think that is a great idea.  Putting it into an spkg seemed simpler as a way to work on it and test it, but I would be very happy to put it into the library.  I guess that can be done by applying patches to the right places (the usual Sage library, but where else? ) and then would \"sage -b\" be enough to include it while testing?\n\nYou would need to edit also `module_list.py`.  But I haven't given this idea much thought for now, I plan to work on this after 4.7 has been released.",
    "created_at": "2011-05-03T07:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117078",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:13 cremona]:
> I think that is a great idea.  Putting it into an spkg seemed simpler as a way to work on it and test it, but I would be very happy to put it into the library.  I guess that can be done by applying patches to the right places (the usual Sage library, but where else? ) and then would "sage -b" be enough to include it while testing?

You would need to edit also `module_list.py`.  But I haven't given this idea much thought for now, I plan to work on this after 4.7 has been released.



---

archive/issue_comments_117079.json:
```json
{
    "body": "Is this the main block to getting pari-2.5.0 in (I am aware there are also issues with lcalc on OS X but they seem to be actively worked on).\n\nThe description needs editing, it talks about two patches but there are three given. Plus point (1) doesn't make complete sense (it looks like some writing I could have done at 2am and forgot about).",
    "created_at": "2011-08-02T01:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117079",
    "user": "https://github.com/kiwifb"
}
```

Is this the main block to getting pari-2.5.0 in (I am aware there are also issues with lcalc on OS X but they seem to be actively worked on).

The description needs editing, it talks about two patches but there are three given. Plus point (1) doesn't make complete sense (it looks like some writing I could have done at 2am and forgot about).



---

archive/issue_comments_117080.json:
```json
{
    "body": "I'll look at this again -- it was a lot of work (by Martin Raum, Henri Cohen and me) getting this to work at Sage Days in March, and a great disappointment that it then stalled.\n\nBut I don't think this affects the 2.5.0 issue; rather the contrary, I did not want to put more work into this one until the pari version was updated.",
    "created_at": "2011-08-02T08:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117080",
    "user": "https://github.com/JohnCremona"
}
```

I'll look at this again -- it was a lot of work (by Martin Raum, Henri Cohen and me) getting this to work at Sage Days in March, and a great disappointment that it then stalled.

But I don't think this affects the 2.5.0 issue; rather the contrary, I did not want to put more work into this one until the pari version was updated.



---

archive/issue_comments_117081.json:
```json
{
    "body": "what are the work issues for that ticket?\n\nPaul",
    "created_at": "2011-09-15T15:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117081",
    "user": "https://github.com/zimmermann6"
}
```

what are the work issues for that ticket?

Paul



---

archive/issue_comments_117082.json:
```json
{
    "body": "This is the ticket I mentioned in my recent posting to the other ticket #9322.\n\nI think I was waiting for Jeroen Demeyer who 5 months ago said he would look at it after 4.7 was released, but clearly had other things to do (as have I).  I'll add it to my list of things to do.\n\nOne issue I do remember is that to make Simon's scripts work here we did a lot of editing of them (to make them correctly compile with gp2c), and told Simon what we had done, then as a result he made a new version which was already gp2c-compatible.  So then someone (probably me) has to compare the versions so as to merge our changes, in effect.  For example, one set of changes I made was to have all the top-level functions take as parameters all the parameters which Simon currently sets using global gp variables;  this made his functions a lot cleaner to use.",
    "created_at": "2011-09-15T15:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117082",
    "user": "https://github.com/JohnCremona"
}
```

This is the ticket I mentioned in my recent posting to the other ticket #9322.

I think I was waiting for Jeroen Demeyer who 5 months ago said he would look at it after 4.7 was released, but clearly had other things to do (as have I).  I'll add it to my list of things to do.

One issue I do remember is that to make Simon's scripts work here we did a lot of editing of them (to make them correctly compile with gp2c), and told Simon what we had done, then as a result he made a new version which was already gp2c-compatible.  So then someone (probably me) has to compare the versions so as to merge our changes, in effect.  For example, one set of changes I made was to have all the top-level functions take as parameters all the parameters which Simon currently sets using global gp variables;  this made his functions a lot cleaner to use.



---

archive/issue_comments_117083.json:
```json
{
    "body": "Attachment [trac_11005-simon-sage-3.patch](tarball://root/attachments/some-uuid/ticket11005/trac_11005-simon-sage-3.patch) by mraum created at 2011-12-21 12:04:39",
    "created_at": "2011-12-21T12:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117083",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

Attachment [trac_11005-simon-sage-3.patch](tarball://root/attachments/some-uuid/ticket11005/trac_11005-simon-sage-3.patch) by mraum created at 2011-12-21 12:04:39



---

archive/issue_comments_117084.json:
```json
{
    "body": "This patch works in the sense that most tests pass. There is, though, still work to be done.",
    "created_at": "2011-12-21T12:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117084",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

This patch works in the sense that most tests pass. There is, though, still work to be done.



---

archive/issue_comments_117085.json:
```json
{
    "body": "I am now working on correcting the doctests (so not ready for review yet).",
    "created_at": "2011-12-21T15:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117085",
    "user": "https://github.com/JohnCremona"
}
```

I am now working on correcting the doctests (so not ready for review yet).



---

archive/issue_comments_117086.json:
```json
{
    "body": "Changing keywords from \"simon spkg\" to \"simon_two_descent spkg\".",
    "created_at": "2013-09-21T12:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117086",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "simon spkg" to "simon_two_descent spkg".



---

archive/issue_comments_117087.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-02-11T19:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117087",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_117088.json:
```json
{
    "body": "This branch updates Denis Simon's GP scripts to versions 06/04/2011 (`ell.gp`) resp. 13/01/2014 (`ellQ.gp`, `ellcommon.gp` [new], `qfsolve.gp`, `resultant3.gp`).  The scripts themselves were copied unchanged from Simon's website (`http://www.math.unicaen.fr/~simon/`).\n\nSummary of the other changes:\n- change `Qfsolve` and `Qfparam` to `qfsolve` and `qfparam`\n- remove one doctest in `gp_simon.py` that is also in `ell_rational_field.py`\n- remove `# random output` in `ell_number_field.py`; if necessary we can add `set_random_seed(0)` before that, but I got the same output every time\n- doctest fixes due to changed test output\n- minor documentation fixes\n\nOf course the real work in this ticket was done (indirectly) by Denis Simon, and I just made the necessary fixes to the Sage library, but it seems to me that the \"Author\" field is normally used for ticket authors rather than authors of any \"upstream\" code; do correct me if I'm wrong.\n\nJeroen has opened #15809 for the `gp2c` conversion; hopefully John and Martin's hard work can somehow be transplanted there!",
    "created_at": "2014-02-11T19:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117088",
    "user": "https://github.com/pjbruin"
}
```

This branch updates Denis Simon's GP scripts to versions 06/04/2011 (`ell.gp`) resp. 13/01/2014 (`ellQ.gp`, `ellcommon.gp` [new], `qfsolve.gp`, `resultant3.gp`).  The scripts themselves were copied unchanged from Simon's website (`http://www.math.unicaen.fr/~simon/`).

Summary of the other changes:
- change `Qfsolve` and `Qfparam` to `qfsolve` and `qfparam`
- remove one doctest in `gp_simon.py` that is also in `ell_rational_field.py`
- remove `# random output` in `ell_number_field.py`; if necessary we can add `set_random_seed(0)` before that, but I got the same output every time
- doctest fixes due to changed test output
- minor documentation fixes

Of course the real work in this ticket was done (indirectly) by Denis Simon, and I just made the necessary fixes to the Sage library, but it seems to me that the "Author" field is normally used for ticket authors rather than authors of any "upstream" code; do correct me if I'm wrong.

Jeroen has opened #15809 for the `gp2c` conversion; hopefully John and Martin's hard work can somehow be transplanted there!



---

archive/issue_comments_117089.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-02-12T10:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117089",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_117090.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-02-21T20:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117090",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_117091.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2014-02-23T17:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117091",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_117092.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2014-02-23T17:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117092",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_117093.json:
```json
{
    "body": "Doctest failures on 32-bit\n* http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20cicero%20%28Fedora%2016%20i686%29%20full/builds/20/steps/shell_5/logs/stdio\n* http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20full/builds/24/steps/shell_5/logs/stdio",
    "created_at": "2014-02-23T17:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117093",
    "user": "https://github.com/vbraun"
}
```

Doctest failures on 32-bit
* http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20cicero%20%28Fedora%2016%20i686%29%20full/builds/20/steps/shell_5/logs/stdio
* http://build.sagemath.org/sage/builders/%20%20slow%20Skynet%20mark%20%28SunOS%205.10-32%29%20full/builds/24/steps/shell_5/logs/stdio



---

archive/issue_comments_117094.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-02-23T17:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117094",
    "user": "https://github.com/pjbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_117095.json:
```json
{
    "body": "The `pbori.pyx` failure is from #15755.",
    "created_at": "2014-02-24T08:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117095",
    "user": "https://github.com/jdemeyer"
}
```

The `pbori.pyx` failure is from #15755.



---

archive/issue_comments_117096.json:
```json
{
    "body": "Why the dependency on #15483? Now both these tickets depend on eachother. I would prefer to fix #11005 first (using `# 32-bit`/`# 64-bit`) and then do #15483 on top of this.",
    "created_at": "2014-02-24T08:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117096",
    "user": "https://github.com/jdemeyer"
}
```

Why the dependency on #15483? Now both these tickets depend on eachother. I would prefer to fix #11005 first (using `# 32-bit`/`# 64-bit`) and then do #15483 on top of this.



---

archive/issue_comments_117097.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-02-24T08:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117097",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_117098.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-02-24T08:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117098",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_117099.json:
```json
{
    "body": "Replying to [comment:39 jdemeyer]:\n> Why the dependency on #15483?\nBecause #15483 is the obvious fix for the problem from comment:36.\n> Now both these tickets depend on eachother. I would prefer to fix #11005 first (using `# 32-bit`/`# 64-bit`) and then do #15483 on top of this.\nI thought Git was supposed to make things like this easy.  I knew that I made the two tickets depend on each other, of course, and agree that circular dependencies are *in abstracto* not very nice.  However, in this case, what looks like a circular dependency is just a way of saying that the tickets should be merged together; the structure of the Git branches is still linear and easy to understand.  Moreover, Git will automatically give the same result independently of the ordering in which the two branches are merged.  I don't feel like spending any time on making each of the two tickets pass doctests separately.\n\nI also realise you don't like the patch at #15483, so I will make a bit more propaganda for it.",
    "created_at": "2014-02-24T11:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117099",
    "user": "https://github.com/pjbruin"
}
```

Replying to [comment:39 jdemeyer]:
> Why the dependency on #15483?
Because #15483 is the obvious fix for the problem from comment:36.
> Now both these tickets depend on eachother. I would prefer to fix #11005 first (using `# 32-bit`/`# 64-bit`) and then do #15483 on top of this.
I thought Git was supposed to make things like this easy.  I knew that I made the two tickets depend on each other, of course, and agree that circular dependencies are *in abstracto* not very nice.  However, in this case, what looks like a circular dependency is just a way of saying that the tickets should be merged together; the structure of the Git branches is still linear and easy to understand.  Moreover, Git will automatically give the same result independently of the ordering in which the two branches are merged.  I don't feel like spending any time on making each of the two tickets pass doctests separately.

I also realise you don't like the patch at #15483, so I will make a bit more propaganda for it.



---

archive/issue_comments_117100.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-02-24T13:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117100",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_117101.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-02-27T21:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10918",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10918#issuecomment-117101",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
