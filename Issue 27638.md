# Issue 27638: Cythonize graph methods

Issue created by migration from https://trac.sagemath.org/ticket/27875

Original creator: @giorgosgiapis

Original creation time: 2019-05-27 09:00:21

Keywords: gsoc19

This ticket aims at Cythonizing several methods in the graph module of sage in order for them to work faster.


---

Comment by @giorgosgiapis created at 2019-05-27 16:52:00

New commits:


---

Comment by @giorgosgiapis created at 2019-05-28 11:21:04

Changing status from new to needs_review.


---

Comment by git created at 2019-05-28 13:43:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-05-29 08:47:08

So far you just moved the methods to a `.pyx` file and specified the type of some variables. Have you tried to go deeper in the code in order to get significant speed up improvements ? May be some data structures could be changed.


---

Comment by @giorgosgiapis created at 2019-05-29 09:49:18

Replying to [comment:6 dcoudert]:
> So far you just moved the methods to a `.pyx` file and specified the type of some variables. Have you tried to go deeper in the code in order to get significant speed up improvements ? May be some data structures could be changed.
I will look into it. I did some benchmarking and even with these improvements, it seems that the methods run a bit faster.


---

Comment by dcoudert created at 2019-05-30 09:48:55

> I will look into it. I did some benchmarking and even with these improvements, it seems that the methods run a bit faster. 
That's for sure, but we cythonize if there is a significant speed-up or reduction of memory consumption. Otherwise, the benefit is rather limited.


---

Comment by dcoudert created at 2019-06-12 14:19:25

Any progress on improving the code ?


---

Comment by dcoudert created at 2019-07-06 13:37:42

Please change that.
- `G.add_vertices(self.edges(labels=labels))` -> `G.add_vertices(self.edge_iterator(labels=labels))`


---

Comment by dcoudert created at 2019-07-31 13:08:48

There is a merge conflict.


---

Comment by git created at 2019-07-31 15:04:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @giorgosgiapis created at 2019-07-31 15:05:15

I think the merge conflict is fixed.


---

Comment by dcoudert created at 2019-07-31 15:21:12

your branch contains several modifications in `src/module_list.py` that should not be here. Please check.


---

Comment by git created at 2019-07-31 15:46:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-31 15:54:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-31 15:55:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @giorgosgiapis created at 2019-07-31 15:56:27

I think it's ok now.


---

Comment by dcoudert created at 2019-07-31 16:31:31

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2019-07-31 16:31:31

LGTM.


---

Comment by vbraun created at 2019-08-03 23:51:43

Resolution: fixed
