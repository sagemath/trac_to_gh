# Issue 30822: refresh dirichlet.py

archive/issues_030822.json:
```json
{
    "body": "including\n* fix lgtm warnings about imports\n* full flake8\n* some doc details\n* some tiny code details\n* Use \"Return\"\n\nIssue created by migration from https://trac.sagemath.org/ticket/31059\n\n",
    "created_at": "2020-12-16T09:01:34Z",
    "labels": [
        "component: modular forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "refresh dirichlet.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30822",
    "user": "https://github.com/fchapoton"
}
```
including
* fix lgtm warnings about imports
* full flake8
* some doc details
* some tiny code details
* Use "Return"

Issue created by migration from https://trac.sagemath.org/ticket/31059





---

archive/issue_comments_440031.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-16T09:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440031",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_440032.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-12-16T09:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440032",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_440033.json:
```json
{
    "body": "I am not sure about flake8 or similar software, but the pep8 considers\n\n```\ng += self(c) * zeta**int(a*e + b*e**(-1))\n```\n\nmore readable than\n\n```\ng += self(c) * zeta**int(a * e + b * e**(-1))\n```\n\nsee https://www.python.org/dev/peps/pep-0008/#other-recommendations\n\nAlso, i am not sure whether `and` is considered as a binary operator, if yes,\n\n```\n        elif (isinstance(R, number_field.NumberField_generic)\n              and euler_phi(self.order()) < R.absolute_degree()):\n```\n\nshould not be replaced with:\n\n```\n        elif (isinstance(R, number_field.NumberField_generic) and\n              euler_phi(self.order()) < R.absolute_degree()):\n```\n\nsee https://www.python.org/dev/peps/pep-0008/#should-a-line-break-before-or-after-a-binary-operator",
    "created_at": "2020-12-16T11:04:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440033",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

I am not sure about flake8 or similar software, but the pep8 considers

```
g += self(c) * zeta**int(a*e + b*e**(-1))
```

more readable than

```
g += self(c) * zeta**int(a * e + b * e**(-1))
```

see https://www.python.org/dev/peps/pep-0008/#other-recommendations

Also, i am not sure whether `and` is considered as a binary operator, if yes,

```
        elif (isinstance(R, number_field.NumberField_generic)
              and euler_phi(self.order()) < R.absolute_degree()):
```

should not be replaced with:

```
        elif (isinstance(R, number_field.NumberField_generic) and
              euler_phi(self.order()) < R.absolute_degree()):
```

see https://www.python.org/dev/peps/pep-0008/#should-a-line-break-before-or-after-a-binary-operator



---

archive/issue_comments_440034.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-12-16T11:04:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440034",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_440035.json:
```json
{
    "body": "Salut !\ncomme on entre dans des histoires de gout, la polemique n'est pas loin.\nL'avantage de flake8 de mon point de vue est de voir (dans mon editeur pref\u00e9r\u00e9) directement en tapant un fichier qu'il ne contient *aucune* erreur.\n\nPage de flake8 : https://pypi.org/project/flake8/\n\nConcernant \"and\", il semble qu'il y ait une certaine fluctuation, puisqu'on peut choisir quelle option on considere comme erreur dans les parametres de flake8.",
    "created_at": "2020-12-16T15:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440035",
    "user": "https://github.com/fchapoton"
}
```

Salut !
comme on entre dans des histoires de gout, la polemique n'est pas loin.
L'avantage de flake8 de mon point de vue est de voir (dans mon editeur preféré) directement en tapant un fichier qu'il ne contient *aucune* erreur.

Page de flake8 : https://pypi.org/project/flake8/

Concernant "and", il semble qu'il y ait une certaine fluctuation, puisqu'on peut choisir quelle option on considere comme erreur dans les parametres de flake8.



---

archive/issue_comments_440036.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-16T19:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_440037.json:
```json
{
    "body": "J'ai d\u00e9fait le changement de la position de \"and\". Est-ce que \u00e7a ira comme \u00e7a ?",
    "created_at": "2020-12-16T19:17:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440037",
    "user": "https://github.com/fchapoton"
}
```

J'ai défait le changement de la position de "and". Est-ce que ça ira comme ça ?



---

archive/issue_comments_440038.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2020-12-19T15:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440038",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_440039.json:
```json
{
    "body": "OK, let's go for it.",
    "created_at": "2020-12-19T15:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440039",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

OK, let's go for it.



---

archive/issue_comments_440040.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-27T00:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30822#issuecomment-440040",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_081097.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-27T00:22:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30822",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30822#event-81097"
}
```
