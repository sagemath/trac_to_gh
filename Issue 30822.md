# Issue 30822: refresh dirichlet.py

Issue created by migration from https://trac.sagemath.org/ticket/31059

Original creator: chapoton

Original creation time: 2020-12-16 09:01:34

including
* fix lgtm warnings about imports
* full flake8
* some doc details
* some tiny code details
* Use "Return"


---

Comment by chapoton created at 2020-12-16 09:03:26

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-12-16 09:03:26

New commits:


---

Comment by tmonteil created at 2020-12-16 11:04:10

I am not sure about flake8 or similar software, but the pep8 considers


```
g += self(c) * zeta**int(a*e + b*e**(-1))
```


more readable than


```
g += self(c) * zeta**int(a * e + b * e**(-1))
```


see https://www.python.org/dev/peps/pep-0008/#other-recommendations

Also, i am not sure whether `and` is considered as a binary operator, if yes,


```
        elif (isinstance(R, number_field.NumberField_generic)
              and euler_phi(self.order()) < R.absolute_degree()):
```


should not be replaced with:


```
        elif (isinstance(R, number_field.NumberField_generic) and
              euler_phi(self.order()) < R.absolute_degree()):
```


see https://www.python.org/dev/peps/pep-0008/#should-a-line-break-before-or-after-a-binary-operator


---

Comment by tmonteil created at 2020-12-16 11:04:10

Changing status from needs_review to needs_info.


---

Comment by chapoton created at 2020-12-16 15:39:25

Salut !
comme on entre dans des histoires de gout, la polemique n'est pas loin.
L'avantage de flake8 de mon point de vue est de voir (dans mon editeur preféré) directement en tapant un fichier qu'il ne contient _aucune_ erreur.

Page de flake8 : https://pypi.org/project/flake8/

Concernant "and", il semble qu'il y ait une certaine fluctuation, puisqu'on peut choisir quelle option on considere comme erreur dans les parametres de flake8.


---

Comment by git created at 2020-12-16 19:16:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-12-16 19:17:08

J'ai défait le changement de la position de "and". Est-ce que ça ira comme ça ?


---

Comment by tmonteil created at 2020-12-19 15:40:57

Changing status from needs_info to positive_review.


---

Comment by tmonteil created at 2020-12-19 15:40:57

OK, let's go for it.


---

Comment by vbraun created at 2020-12-27 00:22:55

Resolution: fixed
