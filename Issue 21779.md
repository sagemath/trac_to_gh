# Issue 21779: Implement tete-a-tete graphs

archive/issues_021779.json:
```json
{
    "body": "CC:  tscrim tmonteil\n\nKeywords: tat, ribbon graphs, tete-a-tete, periodic, automorphisms, surfaces, boundary\n\nIn this ticket we will implement tete-a-tete graphs. These are ribbon graphs together with a metric on its edges satisfying a certain property (the tete-a-tete property). These are an original idea by the mathematician Norbert A'Campo in [A2009]. A tete-a-tete graph encodes the mapping class of an automorphism of a surface with boundary that restricts to the identity to the boundary of this surface and whose mapping class is periodic (when we allow isotopies to rotate the boundary components). Also some ideas were further developed by C. Graf, an student of A'Campo in [G2015]. Also, my current PhD thesis develops other aspects of these graphs.\n\nThese are some of the ideas that will be implemented in this ticket:\n\n* A class of objects called *TatGraph* (tat stands for tete-a-tete). This  includes the notion of relative tat graph, which are a kind of graphs that allow to permute certain boundary components of the thickening of the underlying ribbon graph.\n* Numerous methods for the class above, for instance:\n    - Rotation numbers around each boundary component\n    - Matrix depicting the action on the first homology group of the ribbon graph with respect to the basis given by RibbonGraph.homology_basis()\n    - Global method to find the end of a safewalk of a certain length.\n    - Global method that produces examples of tat graphs. In particular it produces all Milnor fibers and monodromies of the Brieskorn-Pham singularities.\n    - Orbit graph, this is a ribbon graph that corresponds to the orbit space resulting from taking the quotient of the original underlying ribbon graph by the action the the automorphism induced by the tat property.\n\n\n[A2009] N. A'Campo, Tete-a-tete graphs and geometry monodromy.\n[G2015] C.Graf, Tete-a-tete graphs and periodic automorphisms of surfaces.\n\n\n\n\n[]\n\nIssue created by migration from https://trac.sagemath.org/ticket/22016\n\n",
    "created_at": "2016-12-03T16:49:55Z",
    "labels": [
        "geometry",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Implement tete-a-tete graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21779",
    "user": "pportilla"
}
```
CC:  tscrim tmonteil

Keywords: tat, ribbon graphs, tete-a-tete, periodic, automorphisms, surfaces, boundary

In this ticket we will implement tete-a-tete graphs. These are ribbon graphs together with a metric on its edges satisfying a certain property (the tete-a-tete property). These are an original idea by the mathematician Norbert A'Campo in [A2009]. A tete-a-tete graph encodes the mapping class of an automorphism of a surface with boundary that restricts to the identity to the boundary of this surface and whose mapping class is periodic (when we allow isotopies to rotate the boundary components). Also some ideas were further developed by C. Graf, an student of A'Campo in [G2015]. Also, my current PhD thesis develops other aspects of these graphs.

These are some of the ideas that will be implemented in this ticket:

* A class of objects called *TatGraph* (tat stands for tete-a-tete). This  includes the notion of relative tat graph, which are a kind of graphs that allow to permute certain boundary components of the thickening of the underlying ribbon graph.
* Numerous methods for the class above, for instance:
    - Rotation numbers around each boundary component
    - Matrix depicting the action on the first homology group of the ribbon graph with respect to the basis given by RibbonGraph.homology_basis()
    - Global method to find the end of a safewalk of a certain length.
    - Global method that produces examples of tat graphs. In particular it produces all Milnor fibers and monodromies of the Brieskorn-Pham singularities.
    - Orbit graph, this is a ribbon graph that corresponds to the orbit space resulting from taking the quotient of the original underlying ribbon graph by the action the the automorphism induced by the tat property.


[A2009] N. A'Campo, Tete-a-tete graphs and geometry monodromy.
[G2015] C.Graf, Tete-a-tete graphs and periodic automorphisms of surfaces.




[]

Issue created by migration from https://trac.sagemath.org/ticket/22016





---

archive/issue_comments_302126.json:
```json
{
    "body": "Set assignee to pportilla.",
    "created_at": "2016-12-03T17:11:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302126",
    "user": "pportilla"
}
```

Set assignee to pportilla.



---

archive/issue_comments_302127.json:
```json
{
    "body": "I just created this ticket from the web interface but I can't checkout on it from the console in my compute by doing \"git trac checkout 22016\", it returns:\n\nLoading ticket #22016...\nChecking out Trac #22016 remote branch u/pportilla/tat_graph -> local branch t/22016/tat_graph...\nTraceback (most recent call last):\n  File \"/usr/local/bin/git-trac\", line 18, in <module>\n    cmdline.launch()\n  File \"/usr/local/lib/python2.7/dist-packages/git_trac/cmdline.py\", line 215, in launch\n    app.checkout(args.ticket_or_branch, args.branch_name)\n  File \"/usr/local/lib/python2.7/dist-packages/git_trac/app.py\", line 116, in checkout\n    self._checkout_ticket(int(ticket_or_branch), branch_name)\n  File \"/usr/local/lib/python2.7/dist-packages/git_trac/app.py\", line 144, in _checkout_ticket\n    self.repo.checkout_new_branch(ticket.branch, branch)\n  File \"/usr/local/lib/python2.7/dist-packages/git_trac/git_repository.py\", line 136, in checkout_new_branch\n    self.git.fetch('trac', remote)\n  File \"/usr/local/lib/python2.7/dist-packages/git_trac/git_interface.py\", line 341, in meth\n    return self.execute(git_cmd, *args, **kwds)\n  File \"/usr/local/lib/python2.7/dist-packages/git_trac/git_interface.py\", line 328, in execute\n    popen_stderr=subprocess.PIPE)\n  File \"/usr/local/lib/python2.7/dist-packages/git_trac/git_interface.py\", line 263, in _run\n    raise GitError(result)\ngit_trac.git_error.GitError: git returned with non-zero exit code (128) when executing \"git fetch trac u/pportilla/tat_graph\"\n    STDERR: fatal: Couldn't find remote ref u/pportilla/tat_graph\n    STDERR: fatal: The remote end hung up unexpectedly\n\n\nI can, however fetch other tickets like for example 21587. Any ideas?",
    "created_at": "2016-12-03T17:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302127",
    "user": "pportilla"
}
```

I just created this ticket from the web interface but I can't checkout on it from the console in my compute by doing "git trac checkout 22016", it returns:

Loading ticket #22016...
Checking out Trac #22016 remote branch u/pportilla/tat_graph -> local branch t/22016/tat_graph...
Traceback (most recent call last):
  File "/usr/local/bin/git-trac", line 18, in <module>
    cmdline.launch()
  File "/usr/local/lib/python2.7/dist-packages/git_trac/cmdline.py", line 215, in launch
    app.checkout(args.ticket_or_branch, args.branch_name)
  File "/usr/local/lib/python2.7/dist-packages/git_trac/app.py", line 116, in checkout
    self._checkout_ticket(int(ticket_or_branch), branch_name)
  File "/usr/local/lib/python2.7/dist-packages/git_trac/app.py", line 144, in _checkout_ticket
    self.repo.checkout_new_branch(ticket.branch, branch)
  File "/usr/local/lib/python2.7/dist-packages/git_trac/git_repository.py", line 136, in checkout_new_branch
    self.git.fetch('trac', remote)
  File "/usr/local/lib/python2.7/dist-packages/git_trac/git_interface.py", line 341, in meth
    return self.execute(git_cmd, *args, **kwds)
  File "/usr/local/lib/python2.7/dist-packages/git_trac/git_interface.py", line 328, in execute
    popen_stderr=subprocess.PIPE)
  File "/usr/local/lib/python2.7/dist-packages/git_trac/git_interface.py", line 263, in _run
    raise GitError(result)
git_trac.git_error.GitError: git returned with non-zero exit code (128) when executing "git fetch trac u/pportilla/tat_graph"
    STDERR: fatal: Couldn't find remote ref u/pportilla/tat_graph
    STDERR: fatal: The remote end hung up unexpectedly


I can, however fetch other tickets like for example 21587. Any ideas?



---

archive/issue_comments_302128.json:
```json
{
    "body": "Were you able to fix the `git trac` command issue? If not, have you tried using `git` directly?",
    "created_at": "2016-12-03T18:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302128",
    "user": "tscrim"
}
```

Were you able to fix the `git trac` command issue? If not, have you tried using `git` directly?



---

archive/issue_comments_302129.json:
```json
{
    "body": "Replying to [comment:8 tscrim]:\n> Were you able to fix the `git trac` command issue? If not, have you tried using `git` directly?\n\nNo I haven't been able to solve it and yes, I have also tried \"git fetch -v trac u/pportilla/tat_graph-22016 && echo OK\" and it returns the same kind of error \" fatal: Couldn't find remote ref u/pportilla/tat_graph-22016\"\n\nI can checkout other tickets so I don't know what can be the problem.",
    "created_at": "2016-12-03T19:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302129",
    "user": "pportilla"
}
```

Replying to [comment:8 tscrim]:
> Were you able to fix the `git trac` command issue? If not, have you tried using `git` directly?

No I haven't been able to solve it and yes, I have also tried "git fetch -v trac u/pportilla/tat_graph-22016 && echo OK" and it returns the same kind of error " fatal: Couldn't find remote ref u/pportilla/tat_graph-22016"

I can checkout other tickets so I don't know what can be the problem.



---

archive/issue_comments_302130.json:
```json
{
    "body": "Can you send me the results of `git remote -v` to my e-mail (tscrimsh at umn * edu, with * = dot)?",
    "created_at": "2016-12-03T19:11:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302130",
    "user": "tscrim"
}
```

Can you send me the results of `git remote -v` to my e-mail (tscrimsh at umn * edu, with * = dot)?



---

archive/issue_comments_302131.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-12-03T19:41:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302131",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_302132.json:
```json
{
    "body": "I just updated the branch with all the commits from #21587 (since it depends on it)",
    "created_at": "2016-12-03T19:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302132",
    "user": "pportilla"
}
```

I just updated the branch with all the commits from #21587 (since it depends on it)



---

archive/issue_comments_302133.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-12-03T20:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302133",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302134.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-12-03T20:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302134",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302135.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-12-04T15:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302135",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_302136.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-23T19:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302136",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302137.json:
```json
{
    "body": "Is this ready for review?",
    "created_at": "2017-01-24T00:45:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302137",
    "user": "tscrim"
}
```

Is this ready for review?



---

archive/issue_comments_302138.json:
```json
{
    "body": "Replying to [comment:17 tscrim]:\n> Is this ready for review?\n\nHi. No, it is not. I have been busy. This is my last PhD year and, as you can imagine, I lack of time. Nevertheless, I will be back on this soon (I hope).",
    "created_at": "2017-01-24T18:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302138",
    "user": "pportilla"
}
```

Replying to [comment:17 tscrim]:
> Is this ready for review?

Hi. No, it is not. I have been busy. This is my last PhD year and, as you can imagine, I lack of time. Nevertheless, I will be back on this soon (I hope).



---

archive/issue_comments_302139.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-23T08:05:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302139",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302140.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-02T17:23:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302140",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302141.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-05T08:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302141",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302142.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-03T14:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302142",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302143.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-04T00:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302143",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302144.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-04T17:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302144",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302145.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-13T03:13:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302145",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302146.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-16T16:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302146",
    "user": "pportilla"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_302147.json:
```json
{
    "body": "(1) Do not use latex for accents, but just unicode. Something like\n\n```\n+# -*- coding: utf-8 -*-\n+r\"\"\"\n+T\u00eate-a-t\u00eate graphs.\n```\n\nwhere the coding line should be the first line of the .py file.\n\n(2) You can use one single lazy_import by using a list as second argument\n\n(3) this is wrong : `:arxiv:`arXiv:1706.05580``\n\n(4) you should not touch cypari files. If you would like to change something here, make pull requests in their own developer site.",
    "created_at": "2019-01-17T09:52:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302147",
    "user": "chapoton"
}
```

(1) Do not use latex for accents, but just unicode. Something like

```
+# -*- coding: utf-8 -*-
+r"""
+Tête-a-tête graphs.
```

where the coding line should be the first line of the .py file.

(2) You can use one single lazy_import by using a list as second argument

(3) this is wrong : `:arxiv:`arXiv:1706.05580``

(4) you should not touch cypari files. If you would like to change something here, make pull requests in their own developer site.



---

archive/issue_comments_302148.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-17T09:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302148",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_302149.json:
```json
{
    "body": "Hi chapoton, I am sorry but I don't know what you mean by (4). Which files did I touch that I shouldn't have?\n\nReplying to [comment:27 chapoton]:\n> (1) Do not use latex for accents, but just unicode. Something like\n> {{{\n> +# -*- coding: utf-8 -*-\n> +r\"\"\"\n> +T\u00eate-a-t\u00eate graphs.\n> }}}\n> where the coding line should be the first line of the .py file.\n> \n> (2) You can use one single lazy_import by using a list as second argument\n> \n> (3) this is wrong : `:arxiv:`arXiv:1706.05580``\n> \n> (4) you should not touch cypari files. If you would like to change something here, make pull requests in their own developer site.",
    "created_at": "2019-01-17T16:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302149",
    "user": "pportilla"
}
```

Hi chapoton, I am sorry but I don't know what you mean by (4). Which files did I touch that I shouldn't have?

Replying to [comment:27 chapoton]:
> (1) Do not use latex for accents, but just unicode. Something like
> {{{
> +# -*- coding: utf-8 -*-
> +r"""
> +Tête-a-tête graphs.
> }}}
> where the coding line should be the first line of the .py file.
> 
> (2) You can use one single lazy_import by using a list as second argument
> 
> (3) this is wrong : `:arxiv:`arXiv:1706.05580``
> 
> (4) you should not touch cypari files. If you would like to change something here, make pull requests in their own developer site.



---

archive/issue_comments_302150.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T16:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302150",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302151.json:
```json
{
    "body": "click on the name of the branch on the top of this page ; you will see that your branch does something on some files like \n\n```\n-rw-r--r--\tsrc/sage/libs/cypari2/.gitignore\t2\t\n-rw-r--r--\tsrc/sage/libs/cypari2/auto_gen.pxi\t20819\t\n-rw-r--r--\tsrc/sage/libs/cypari2/auto_instance.pxi\n```\n",
    "created_at": "2019-01-17T16:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302151",
    "user": "chapoton"
}
```

click on the name of the branch on the top of this page ; you will see that your branch does something on some files like 

```
-rw-r--r--	src/sage/libs/cypari2/.gitignore	2	
-rw-r--r--	src/sage/libs/cypari2/auto_gen.pxi	20819	
-rw-r--r--	src/sage/libs/cypari2/auto_instance.pxi
```




---

archive/issue_comments_302152.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T16:27:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302152",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302153.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-17T16:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302153",
    "user": "pportilla"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_302154.json:
```json
{
    "body": "Thank you! Done it already. Changed to needs_review again\n\nReplying to [comment:31 chapoton]:\n> click on the name of the branch on the top of this page ; you will see that your branch does something on some files like \n> {{{\n> -rw-r--r--\tsrc/sage/libs/cypari2/.gitignore\t2\t\n> -rw-r--r--\tsrc/sage/libs/cypari2/auto_gen.pxi\t20819\t\n> -rw-r--r--\tsrc/sage/libs/cypari2/auto_instance.pxi\n> }}}",
    "created_at": "2019-01-17T16:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302154",
    "user": "pportilla"
}
```

Thank you! Done it already. Changed to needs_review again

Replying to [comment:31 chapoton]:
> click on the name of the branch on the top of this page ; you will see that your branch does something on some files like 
> {{{
> -rw-r--r--	src/sage/libs/cypari2/.gitignore	2	
> -rw-r--r--	src/sage/libs/cypari2/auto_gen.pxi	20819	
> -rw-r--r--	src/sage/libs/cypari2/auto_instance.pxi
> }}}



---

archive/issue_comments_302155.json:
```json
{
    "body": "It looks that there was an error compiling with the lazy_import one-liner. Apparently it only accepts up to three arguments. So I guess I either revert the changes or use the usual  \"import *\"\n\nReplying to [comment:27 chapoton]:\n> (1) Do not use latex for accents, but just unicode. Something like\n> {{{\n> +# -*- coding: utf-8 -*-\n> +r\"\"\"\n> +T\u00eate-a-t\u00eate graphs.\n> }}}\n> where the coding line should be the first line of the .py file.\n> \n> (2) You can use one single lazy_import by using a list as second argument\n> \n> (3) this is wrong : `:arxiv:`arXiv:1706.05580``\n> \n> (4) you should not touch cypari files. If you would like to change something here, make pull requests in their own developer site.",
    "created_at": "2019-01-17T16:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302155",
    "user": "pportilla"
}
```

It looks that there was an error compiling with the lazy_import one-liner. Apparently it only accepts up to three arguments. So I guess I either revert the changes or use the usual  "import *"

Replying to [comment:27 chapoton]:
> (1) Do not use latex for accents, but just unicode. Something like
> {{{
> +# -*- coding: utf-8 -*-
> +r"""
> +Tête-a-tête graphs.
> }}}
> where the coding line should be the first line of the .py file.
> 
> (2) You can use one single lazy_import by using a list as second argument
> 
> (3) this is wrong : `:arxiv:`arXiv:1706.05580``
> 
> (4) you should not touch cypari files. If you would like to change something here, make pull requests in their own developer site.



---

archive/issue_comments_302156.json:
```json
{
    "body": "second argument of lazy import is a **list of functions**\n\n\n```\ngit grep \"lazy_import\"\n```\n\nto see some examples",
    "created_at": "2019-01-17T16:50:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302156",
    "user": "chapoton"
}
```

second argument of lazy import is a **list of functions**


```
git grep "lazy_import"
```

to see some examples



---

archive/issue_comments_302157.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T16:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302157",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302158.json:
```json
{
    "body": "Thank you once again. Done it.\nReplying to [comment:36 chapoton]:\n> second argument of lazy import is a **list of functions**\n> \n> {{{\n> git grep \"lazy_import\"\n> }}}\n> to see some examples",
    "created_at": "2019-01-17T16:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302158",
    "user": "pportilla"
}
```

Thank you once again. Done it.
Replying to [comment:36 chapoton]:
> second argument of lazy import is a **list of functions**
> 
> {{{
> git grep "lazy_import"
> }}}
> to see some examples



---

archive/issue_comments_302159.json:
```json
{
    "body": "(1) undo this change:\n\n```\n+\n+Hyperbolic Geometry\n+-------------------\n+\n```\n\n\n(2) in the same file, the J. should be `{\\J.`}",
    "created_at": "2019-01-17T16:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302159",
    "user": "chapoton"
}
```

(1) undo this change:

```
+
+Hyperbolic Geometry
+-------------------
+
```


(2) in the same file, the J. should be `{\J.`}



---

archive/issue_comments_302160.json:
```json
{
    "body": "I don't know where the Hyperbolic Geometry change came from. Maybe it was there in a previous develop-version and I repushed it (?). Anyway, it is done now.\n\nReplying to [comment:39 chapoton]:\n> (1) undo this change:\n> {{{\n> +\n> +Hyperbolic Geometry\n> +-------------------\n> +\n> }}}\n> \n> (2) in the same file, the J. should be `{\\J.`}\n>",
    "created_at": "2019-01-17T17:08:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302160",
    "user": "pportilla"
}
```

I don't know where the Hyperbolic Geometry change came from. Maybe it was there in a previous develop-version and I repushed it (?). Anyway, it is done now.

Replying to [comment:39 chapoton]:
> (1) undo this change:
> {{{
> +
> +Hyperbolic Geometry
> +-------------------
> +
> }}}
> 
> (2) in the same file, the J. should be `{\J.`}
>



---

archive/issue_comments_302161.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T17:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302161",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302162.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T20:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302162",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302163.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T23:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302163",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302164.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-17T23:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302164",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302165.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-18T06:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302165",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302166.json:
```json
{
    "body": "(1) This is not the right way:\n\n```\nwhile (finish_cycle == False):\n```\n\nshould rather be\n\n```\nwhile not finish_cycle:\n```\n\n(2) idem here\n\n```\nwhile (len(aux_orbits_rho) > 0):\n```\n\ncould be\n\n```\nwhile aux_orbits_rho:\n```\n\n(3)\nThis\n\n```\n+    darts = [x for i in range(len(aux_sigma)) for x in aux_sigma[i]]\n```\n\ncould be\n\n```\ndarts = [x for y in aux_sigma for x in y]\n```\n\n(4)\nThis\n\n```\n+    for i in range(len(aux_sigma[orb_vertex[0]])):\n+        assert tat_graph._metric[aux_sigma[orb_vertex[0]][i]] > epsilon\n```\n\ncould be\n\n```\n+    for y in aux_sigma[orb_vertex[0]]:\n+        assert tat_graph._metric[y] > epsilon\n```\n",
    "created_at": "2019-01-18T09:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302166",
    "user": "chapoton"
}
```

(1) This is not the right way:

```
while (finish_cycle == False):
```

should rather be

```
while not finish_cycle:
```

(2) idem here

```
while (len(aux_orbits_rho) > 0):
```

could be

```
while aux_orbits_rho:
```

(3)
This

```
+    darts = [x for i in range(len(aux_sigma)) for x in aux_sigma[i]]
```

could be

```
darts = [x for y in aux_sigma for x in y]
```

(4)
This

```
+    for i in range(len(aux_sigma[orb_vertex[0]])):
+        assert tat_graph._metric[aux_sigma[orb_vertex[0]][i]] > epsilon
```

could be

```
+    for y in aux_sigma[orb_vertex[0]]:
+        assert tat_graph._metric[y] > epsilon
```




---

archive/issue_comments_302167.json:
```json
{
    "body": "I just want to expand slightly on (1) that there are a few places where you are checking `if foo == True:`/`if foo == False:` and all of those should be changed appropriately to ``if foo:`/`if not foo:`.",
    "created_at": "2019-01-18T17:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302167",
    "user": "tscrim"
}
```

I just want to expand slightly on (1) that there are a few places where you are checking `if foo == True:`/`if foo == False:` and all of those should be changed appropriately to ``if foo:`/`if not foo:`.



---

archive/issue_comments_302168.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-18T18:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302168",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302169.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-18T18:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302169",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302170.json:
```json
{
    "body": "This has not been corrected:\n\n```\nwhile (len(darts) > 0):\n```\n",
    "created_at": "2019-02-24T19:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302170",
    "user": "chapoton"
}
```

This has not been corrected:

```
while (len(darts) > 0):
```




---

archive/issue_comments_302171.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-05-23T11:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302171",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_302172.json:
```json
{
    "body": "and the branch is now red, meaning some conflicts with the latest develop version of sage",
    "created_at": "2019-05-23T11:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302172",
    "user": "chapoton"
}
```

and the branch is now red, meaning some conflicts with the latest develop version of sage



---

archive/issue_comments_302173.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302173",
    "user": "mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_302174.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21779#issuecomment-302174",
    "user": "mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.
