# Issue 25462: py3: tiny fix to sage.misc.session

Issue created by migration from https://trac.sagemath.org/ticket/25699

Original creator: embray

Original creation time: 2018-06-29 10:08:45




---

Comment by git created at 2018-06-29 10:12:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-29 10:20:44

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-06-29 15:18:06

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-07-02 09:04:56

typo there, maybe:

```
+    def _in_extra_globals(name, val):
+        return v == DocTestTask.extra_globals.get(x, _none)
```

as val  and name do not appear in the function ?


---

Comment by chapoton created at 2018-07-02 09:07:05

Changing status from needs_review to needs_work.


---

Comment by embray created at 2018-07-02 09:35:02

Oops. Definitely an untested last-minute change (originally that line was in the list expression but I thought it was clearer to move it out...)


---

Comment by git created at 2018-07-02 09:36:37

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-07-02 09:36:50

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-07-02 10:04:45

ok, but what does this solve, and why is this so critical ??


---

Comment by embray created at 2018-07-02 10:08:21

Uhh, it definitely isn't.

It just removes globals injected by the test runner into the output of this function, so that the tests of it work properly.


---

Comment by embray created at 2018-07-02 10:08:21

Changing priority from critical to trivial.


---

Comment by chapoton created at 2018-07-02 14:39:35

no "six.iteritems" in pyx files, please


---

Comment by chapoton created at 2018-07-02 14:39:35

Changing status from needs_review to needs_work.


---

Comment by embray created at 2018-07-02 15:56:12

Indeed, this definitely isn't necessary.  I'll just use items(); it's not important here.


---

Comment by git created at 2018-07-03 10:57:25

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-07-03 10:58:02

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-07-04 06:25:27

ok


---

Comment by chapoton created at 2018-07-04 06:25:27

Changing status from needs_review to positive_review.


---

Comment by embray created at 2018-07-18 11:47:03

I believe this issue can reasonably be addressed for Sage 8.4.


---

Comment by vbraun created at 2018-09-03 23:29:30

Resolution: fixed
