# Issue 18134: Implement supercharacter bases of Bergeron and Thiem for NCSym

archive/issues_018134.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat @saliola @zabrocki\n\nKeywords: ncsym, symmetric functions\n\nThis ticket implements the following bases based upon N. Bergeron, N. Thiem. *A supercharacter table decomposition via power-sum symmetric functions* (2013):\n\n- `a` -- the arc powersum basis\n- `rho` -- the q-deformation of `a`\n- `chi` -- the supercharacter basis\n\nand transition maps between them. This is distinct from #6924 in which a finer supercharacter theory is considered.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18371\n\n",
    "created_at": "2015-05-05T23:59:05Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Implement supercharacter bases of Bergeron and Thiem for NCSym",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18134",
    "user": "https://github.com/tscrim"
}
```
Assignee: sage-combinat

CC:  sage-combinat @saliola @zabrocki

Keywords: ncsym, symmetric functions

This ticket implements the following bases based upon N. Bergeron, N. Thiem. *A supercharacter table decomposition via power-sum symmetric functions* (2013):

- `a` -- the arc powersum basis
- `rho` -- the q-deformation of `a`
- `chi` -- the supercharacter basis

and transition maps between them. This is distinct from #6924 in which a finer supercharacter theory is considered.

Issue created by migration from https://trac.sagemath.org/ticket/18371





---

archive/issue_comments_244190.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-05-05T23:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244190",
    "user": "https://github.com/tscrim"
}
```

New commits:



---

archive/issue_comments_244191.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-05T23:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244191",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_244192.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-06T00:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244193.json:
```json
{
    "body": "I should note that I cannot reproduce Example 3.2 in (the arXiv version of) the paper in the sense that I get far fewer zeros in my matrix, but on the non-zero entries, it agrees:\n\n```\n[                       1                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]\n[                   q - 1                       -q                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]\n[                   q - 1                        0                       -q                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]\n[                   q - 1                        0                        0                       -q                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]\n[           q^2 - 2*q + 1                 -q^2 + q                 -q^2 + q                        0                      q^2                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]\n[           q^2 - 2*q + 1                 -q^2 + q                        0                 -q^2 + q                        0                      q^2                        0                        0                        0                        0                        0                        0                        0                        0                        0]\n[           q^2 - 2*q + 1                        0                 -q^2 + q                 -q^2 + q                        0                        0                      q^2                        0                        0                        0                        0                        0                        0                        0                        0]\n[   q^3 - 3*q^2 + 3*q - 1         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q                q^3 - q^2                q^3 - q^2                q^3 - q^2                     -q^3                        0                        0                        0                        0                        0                        0                        0]\n[                 q^2 - q                 -q^2 + q                 -q^2 + q                        0                  q^2 - q                        0                        0                        0                     -q^2                        0                        0                        0                        0                        0                        0]\n[                 q^2 - q                        0                 -q^2 + q                 -q^2 + q                        0                        0                  q^2 - q                        0                        0                     -q^2                        0                        0                        0                        0                        0]\n[         q^3 - 2*q^2 + q               -q^3 + q^2         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q                q^3 - q^2                q^3 - q^2          q^3 - 2*q^2 + q               -q^3 + q^2                        0               -q^3 + q^2                      q^3                        0                        0                        0                        0]\n[         q^3 - 2*q^2 + q         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q               -q^3 + q^2          q^3 - 2*q^2 + q                q^3 - q^2                q^3 - q^2               -q^3 + q^2               -q^3 + q^2                        0                        0                      q^3                        0                        0                        0]\n[       q^4 - 2*q^3 + q^2       -q^4 + 2*q^3 - q^2       -q^4 + 2*q^3 - q^2       -q^4 + 2*q^3 - q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2       -q^4 + 2*q^3 - q^2               -q^4 + q^3               -q^4 + q^3                q^4 - q^3                q^4 - q^3                      q^4                        0                        0]\n[               q^3 - q^2               -q^3 + q^2         -q^3 + 2*q^2 - q               -q^3 + q^2          q^3 - 2*q^2 + q                q^3 - q^2          q^3 - 2*q^2 + q         -q^3 + 2*q^2 - q               -q^3 + q^2               -q^3 + q^2                q^3 - q^2                q^3 - q^2                q^3 - q^2                     -q^3                        0]\n[       q^4 - 2*q^3 + q^2       -q^4 + 2*q^3 - q^2 -q^4 + 2*q^3 - 2*q^2 + q       -q^4 + 2*q^3 - q^2  q^4 - 2*q^3 + 2*q^2 - q        q^4 - 2*q^3 + q^2  q^4 - 2*q^3 + 2*q^2 - q -q^4 + 2*q^3 - 2*q^2 + q       -q^4 + 2*q^3 - q^2       -q^4 + 2*q^3 - q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2               -q^4 + q^3                      q^3]\n```\n",
    "created_at": "2015-05-06T00:09:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244193",
    "user": "https://github.com/tscrim"
}
```

I should note that I cannot reproduce Example 3.2 in (the arXiv version of) the paper in the sense that I get far fewer zeros in my matrix, but on the non-zero entries, it agrees:

```
[                       1                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]
[                   q - 1                       -q                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]
[                   q - 1                        0                       -q                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]
[                   q - 1                        0                        0                       -q                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]
[           q^2 - 2*q + 1                 -q^2 + q                 -q^2 + q                        0                      q^2                        0                        0                        0                        0                        0                        0                        0                        0                        0                        0]
[           q^2 - 2*q + 1                 -q^2 + q                        0                 -q^2 + q                        0                      q^2                        0                        0                        0                        0                        0                        0                        0                        0                        0]
[           q^2 - 2*q + 1                        0                 -q^2 + q                 -q^2 + q                        0                        0                      q^2                        0                        0                        0                        0                        0                        0                        0                        0]
[   q^3 - 3*q^2 + 3*q - 1         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q                q^3 - q^2                q^3 - q^2                q^3 - q^2                     -q^3                        0                        0                        0                        0                        0                        0                        0]
[                 q^2 - q                 -q^2 + q                 -q^2 + q                        0                  q^2 - q                        0                        0                        0                     -q^2                        0                        0                        0                        0                        0                        0]
[                 q^2 - q                        0                 -q^2 + q                 -q^2 + q                        0                        0                  q^2 - q                        0                        0                     -q^2                        0                        0                        0                        0                        0]
[         q^3 - 2*q^2 + q               -q^3 + q^2         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q                q^3 - q^2                q^3 - q^2          q^3 - 2*q^2 + q               -q^3 + q^2                        0               -q^3 + q^2                      q^3                        0                        0                        0                        0]
[         q^3 - 2*q^2 + q         -q^3 + 2*q^2 - q         -q^3 + 2*q^2 - q               -q^3 + q^2          q^3 - 2*q^2 + q                q^3 - q^2                q^3 - q^2               -q^3 + q^2               -q^3 + q^2                        0                        0                      q^3                        0                        0                        0]
[       q^4 - 2*q^3 + q^2       -q^4 + 2*q^3 - q^2       -q^4 + 2*q^3 - q^2       -q^4 + 2*q^3 - q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2       -q^4 + 2*q^3 - q^2               -q^4 + q^3               -q^4 + q^3                q^4 - q^3                q^4 - q^3                      q^4                        0                        0]
[               q^3 - q^2               -q^3 + q^2         -q^3 + 2*q^2 - q               -q^3 + q^2          q^3 - 2*q^2 + q                q^3 - q^2          q^3 - 2*q^2 + q         -q^3 + 2*q^2 - q               -q^3 + q^2               -q^3 + q^2                q^3 - q^2                q^3 - q^2                q^3 - q^2                     -q^3                        0]
[       q^4 - 2*q^3 + q^2       -q^4 + 2*q^3 - q^2 -q^4 + 2*q^3 - 2*q^2 + q       -q^4 + 2*q^3 - q^2  q^4 - 2*q^3 + 2*q^2 - q        q^4 - 2*q^3 + q^2  q^4 - 2*q^3 + 2*q^2 - q -q^4 + 2*q^3 - 2*q^2 + q       -q^4 + 2*q^3 - q^2       -q^4 + 2*q^3 - q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2        q^4 - 2*q^3 + q^2               -q^4 + q^3                      q^3]
```




---

archive/issue_comments_244194.json:
```json
{
    "body": "Is there a difference between the q and a bases?\n`all(a(A)==q(A) for A in SetPartitions(n))` is true for n<=7.\n\nCan we go with a t-deformation since Hall-Littlewoods use that parameter (and then q is the second Macdonald parameter)",
    "created_at": "2015-05-07T13:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244194",
    "user": "https://github.com/zabrocki"
}
```

Is there a difference between the q and a bases?
`all(a(A)==q(A) for A in SetPartitions(n))` is true for n<=7.

Can we go with a t-deformation since Hall-Littlewoods use that parameter (and then q is the second Macdonald parameter)



---

archive/issue_comments_244195.json:
```json
{
    "body": "This doesn't work:\n`h(rho([[1,2,5],[3],[4,6]]))`",
    "created_at": "2015-05-07T13:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244195",
    "user": "https://github.com/zabrocki"
}
```

This doesn't work:
`h(rho([[1,2,5],[3],[4,6]]))`



---

archive/issue_comments_244196.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-07T13:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244196",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_244197.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-07T17:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244197",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244198.json:
```json
{
    "body": "Message from Nantel:  Can you tell Travis that he is right. Some non-zero entries of example 3.2 in our paper were set wrongly to zero.  The matrix is indeed lower triangular (as the proof is correct) but the program to compute examples was wrong :(",
    "created_at": "2015-05-07T17:31:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244198",
    "user": "https://github.com/zabrocki"
}
```

Message from Nantel:  Can you tell Travis that he is right. Some non-zero entries of example 3.2 in our paper were set wrongly to zero.  The matrix is indeed lower triangular (as the proof is correct) but the program to compute examples was wrong :(



---

archive/issue_comments_244199.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-07T17:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244199",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_244200.json:
```json
{
    "body": "Thanks for taking a look at this Mike. You are correct that the `a` basis is the same as the `q` basis (the strictly coarser set partitions is the same as the ordering as in BT). Good catch. I also fixed the coercions when working over rings that don't have a good notation of `abs` by just coercing after doing the arithmetic on `QQ`.\n\nFor the t vs q, I'd think having it be a q gives a better relation with finite fields which are typically denoted by F<sub>q</sub>. Nor do these seem to be an NCSym analog of Hall-Littlewood as the multiplication has coefficients in ZZ (as I was hoping). However, I'm not really attached to the variable name and I will change it if you think the association is not a good enough reason to keep it.\n\nNantel, thank you for checking. I was worried that something subtle was going wrong with my implementation or I misunderstood something from your paper.",
    "created_at": "2015-05-07T17:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244200",
    "user": "https://github.com/tscrim"
}
```

Thanks for taking a look at this Mike. You are correct that the `a` basis is the same as the `q` basis (the strictly coarser set partitions is the same as the ordering as in BT). Good catch. I also fixed the coercions when working over rings that don't have a good notation of `abs` by just coercing after doing the arithmetic on `QQ`.

For the t vs q, I'd think having it be a q gives a better relation with finite fields which are typically denoted by F<sub>q</sub>. Nor do these seem to be an NCSym analog of Hall-Littlewood as the multiplication has coefficients in ZZ (as I was hoping). However, I'm not really attached to the variable name and I will change it if you think the association is not a good enough reason to keep it.

Nantel, thank you for checking. I was worried that something subtle was going wrong with my implementation or I misunderstood something from your paper.



---

archive/issue_comments_244201.json:
```json
{
    "body": "I expressed my concern about using `q` mainly because there is the **q**-basis.  I am slightly concerned about the confusion in expressions like `q*q[3]`.  I had just started looking this morning so I will keep testing.",
    "created_at": "2015-05-07T19:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244201",
    "user": "https://github.com/zabrocki"
}
```

I expressed my concern about using `q` mainly because there is the **q**-basis.  I am slightly concerned about the confusion in expressions like `q*q[3]`.  I had just started looking this morning so I will keep testing.



---

archive/issue_comments_244202.json:
```json
{
    "body": "Replying to [comment:10 zabrocki]:\n> I expressed my concern about using `q` mainly because there is the **q**-basis.  I am slightly concerned about the confusion in expressions like `q*q[3]`.  I had just started looking this morning so I will keep testing.\n\nThat's a good point. At least because Python doesn't have any polymorphism, you could never write `q * q[[1,3], [2]]` with `q` being both the q-deformation and the **q**-basis. I think because the letter bases for NCSym are boldfaced letters, there is less danger of confusion too, at least in terms of the doc. However, this is a good reason for me to call it a t-deformation if you think it's for the best.",
    "created_at": "2015-05-08T00:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244202",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:10 zabrocki]:
> I expressed my concern about using `q` mainly because there is the **q**-basis.  I am slightly concerned about the confusion in expressions like `q*q[3]`.  I had just started looking this morning so I will keep testing.

That's a good point. At least because Python doesn't have any polymorphism, you could never write `q * q[[1,3], [2]]` with `q` being both the q-deformation and the **q**-basis. I think because the letter bases for NCSym are boldfaced letters, there is less danger of confusion too, at least in terms of the doc. However, this is a good reason for me to call it a t-deformation if you think it's for the best.



---

archive/issue_comments_244203.json:
```json
{
    "body": "I think it is a choice between changing the parameter `q` and the basis `q`.  I think that you are right that `t` is not ideal either.  Testing examples I have expressions like `q{{1, 2, 5}, {3}, {4, 6}} + ((-q+1)/q)*q{{1, 2, 5}, {3, 4, 6`}.  Would it be a bad idea at this point to rename the **q**-basis?  I am looking in the reference you pulled it from and they called it $p_\\nu$, however if I remember when Nantel and I first defined it in http://arxiv.org/abs/math/0509265, we recognized it was similar to the power sum basis and the letter **q** is a reflection of **p** in the vertical axis.  Maybe we want to call it the **b**-basis (reflect in the horizontal axis).",
    "created_at": "2015-05-08T13:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244203",
    "user": "https://github.com/zabrocki"
}
```

I think it is a choice between changing the parameter `q` and the basis `q`.  I think that you are right that `t` is not ideal either.  Testing examples I have expressions like `q{{1, 2, 5}, {3}, {4, 6}} + ((-q+1)/q)*q{{1, 2, 5}, {3, 4, 6`}.  Would it be a bad idea at this point to rename the **q**-basis?  I am looking in the reference you pulled it from and they called it $p_\nu$, however if I remember when Nantel and I first defined it in http://arxiv.org/abs/math/0509265, we recognized it was similar to the power sum basis and the letter **q** is a reflection of **p** in the vertical axis.  Maybe we want to call it the **b**-basis (reflect in the horizontal axis).



---

archive/issue_comments_244204.json:
```json
{
    "body": "I'm okay with calling it the **b**-basis. It's not too hard to change the name, just a relatively simple deprecation for the **q**-basis. The other option I'm toying with, but in some ways less happy, is the **c**-basis or **cp**-basis as short for \"coarse powersum\".",
    "created_at": "2015-05-08T17:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244204",
    "user": "https://github.com/tscrim"
}
```

I'm okay with calling it the **b**-basis. It's not too hard to change the name, just a relatively simple deprecation for the **q**-basis. The other option I'm toying with, but in some ways less happy, is the **c**-basis or **cp**-basis as short for "coarse powersum".



---

archive/issue_comments_244205.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-08T20:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244205",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_244206.json:
```json
{
    "body": "I was looking at the rho basis and it states \"This basis was defined in [BT13] as a q-deformation of the **a** basis\" which should now read \"q-deformation of the **q** basis\" (and this is no good)\nWhat are the other basis names?\nchi = supercharacter\nx = doesn't have a name\nq = doesn't have a name = I like perhaps calling this the coarse_powersum\nm,h,e,p = monomial, homogeneous, elementary and powersum",
    "created_at": "2015-05-08T20:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244206",
    "user": "https://github.com/zabrocki"
}
```

I was looking at the rho basis and it states "This basis was defined in [BT13] as a q-deformation of the **a** basis" which should now read "q-deformation of the **q** basis" (and this is no good)
What are the other basis names?
chi = supercharacter
x = doesn't have a name
q = doesn't have a name = I like perhaps calling this the coarse_powersum
m,h,e,p = monomial, homogeneous, elementary and powersum



---

archive/issue_comments_244207.json:
```json
{
    "body": "Replying to [comment:14 zabrocki]:\n> I was looking at the rho basis and it states \"This basis was defined in [BT13] as a q-deformation of the **a** basis\" which should now read \"q-deformation of the **q** basis\" (and this is no good)\n\nForgot about that. However I will change that once we decide on what we want for the **q**-basis.\n\n> What are the other basis names?\n> chi = supercharacter\n> x = doesn't have a name\n> q = doesn't have a name = I like perhaps calling this the coarse_powersum\n> m,h,e,p = monomial, homogeneous, elementary and powersum\n\nCorrect. So should I then rename **q** to `coarse_powersum` with a shorthand name of **cp**?",
    "created_at": "2015-05-09T02:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244207",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:14 zabrocki]:
> I was looking at the rho basis and it states "This basis was defined in [BT13] as a q-deformation of the **a** basis" which should now read "q-deformation of the **q** basis" (and this is no good)

Forgot about that. However I will change that once we decide on what we want for the **q**-basis.

> What are the other basis names?
> chi = supercharacter
> x = doesn't have a name
> q = doesn't have a name = I like perhaps calling this the coarse_powersum
> m,h,e,p = monomial, homogeneous, elementary and powersum

Correct. So should I then rename **q** to `coarse_powersum` with a shorthand name of **cp**?



---

archive/issue_comments_244208.json:
```json
{
    "body": "Yes.  I agree that `coarse_powersum` and `cp` are better than `q` for a basis name.  The documentation should indicate that [BT13] the basis is p_\\nu and in [BZ05] it is **q**_A",
    "created_at": "2015-05-09T10:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244208",
    "user": "https://github.com/zabrocki"
}
```

Yes.  I agree that `coarse_powersum` and `cp` are better than `q` for a basis name.  The documentation should indicate that [BT13] the basis is p_\nu and in [BZ05] it is **q**_A



---

archive/issue_comments_244209.json:
```json
{
    "body": "I'm also thinking that `rho` should have a long name as well (and `x` too, even if that is `x_basis`).  How about `deformed_coarse_powersum`?",
    "created_at": "2015-05-09T11:30:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244209",
    "user": "https://github.com/zabrocki"
}
```

I'm also thinking that `rho` should have a long name as well (and `x` too, even if that is `x_basis`).  How about `deformed_coarse_powersum`?



---

archive/issue_comments_244210.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-09T17:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244210",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244211.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-09T17:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244211",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_244212.json:
```json
{
    "body": "Works for me. All points have been addressed in my previous commit.",
    "created_at": "2015-05-09T17:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244212",
    "user": "https://github.com/tscrim"
}
```

Works for me. All points have been addressed in my previous commit.



---

archive/issue_comments_244213.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-10T11:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244213",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244214.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-10T14:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244214",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244215.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-10T14:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244216.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-10T15:17:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244217.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-10T17:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244217",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244218.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-12T02:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244219.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-12T11:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244219",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244220.json:
```json
{
    "body": "I think that I'm done.  If you are happy with the changes you can set to positive review.  I tried computing `e(chi([[1], [2, 3],[4], [6], [5,7]]))` and it takes an extremely long time.  It seems as though it can handle an expression up to degree 5 fine, 6 slow, 7 ?beyond the limit of my patience?.",
    "created_at": "2015-05-12T11:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244220",
    "user": "https://github.com/zabrocki"
}
```

I think that I'm done.  If you are happy with the changes you can set to positive review.  I tried computing `e(chi([[1], [2, 3],[4], [6], [5,7]]))` and it takes an extremely long time.  It seems as though it can handle an expression up to degree 5 fine, 6 slow, 7 ?beyond the limit of my patience?.



---

archive/issue_comments_244221.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-13T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_244222.json:
```json
{
    "body": "Thank you for all your additional fixes and cleanup. There might be a better way to do things than the current implementation, but I haven't done any serious profiling or know of some direct mathematical interpretation. However, going to the `m` basis already contains a large number of terms:\n\n```\nsage: len(m(chi([[1],[2,3],[4],[6],[5,7]])))\n523\n```\n\nCurrently there's a directly implemented coercion `e -> m`, but to go back, we have `m -> p -> h -> e`. I've changed the ordering that other bases get created with the `e` basis to get the coercion path `m -> p -> e`. So it should be a little bit faster. However I think there's some other speedups we could get, but perhaps on a followup?",
    "created_at": "2015-05-13T01:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244222",
    "user": "https://github.com/tscrim"
}
```

Thank you for all your additional fixes and cleanup. There might be a better way to do things than the current implementation, but I haven't done any serious profiling or know of some direct mathematical interpretation. However, going to the `m` basis already contains a large number of terms:

```
sage: len(m(chi([[1],[2,3],[4],[6],[5,7]])))
523
```

Currently there's a directly implemented coercion `e -> m`, but to go back, we have `m -> p -> h -> e`. I've changed the ordering that other bases get created with the `e` basis to get the coercion path `m -> p -> e`. So it should be a little bit faster. However I think there's some other speedups we could get, but perhaps on a followup?



---

archive/issue_comments_244223.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-13T02:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244223",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_244224.json:
```json
{
    "body": "I'm not sure if changing the coercion path is the issue.  There might be another ticket to be had here: implement coercion between generators of multiplicative bases.  Since the example that I gave above is `e(chi([[1], [2, 3]]))*e(chi([This is the Trac macro *1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1-macro)))*e(chi([[2], [1,3]]))` there is a faster way of computing it.  I did manage to compute it with this commit, but it took a while.  Real improvements will come from developing the mathematics.\n\nI am happy with the current version.",
    "created_at": "2015-05-13T02:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244224",
    "user": "https://github.com/zabrocki"
}
```

I'm not sure if changing the coercion path is the issue.  There might be another ticket to be had here: implement coercion between generators of multiplicative bases.  Since the example that I gave above is `e(chi([[1], [2, 3]]))*e(chi([This is the Trac macro *1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1-macro)))*e(chi([[2], [1,3]]))` there is a faster way of computing it.  I did manage to compute it with this commit, but it took a while.  Real improvements will come from developing the mathematics.

I am happy with the current version.



---

archive/issue_comments_244225.json:
```json
{
    "body": "It's definitely not the issue, but it does help. However, I like the idea of factoring, but definitely for a follow-up ticket. Thanks again.",
    "created_at": "2015-05-13T02:57:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244225",
    "user": "https://github.com/tscrim"
}
```

It's definitely not the issue, but it does help. However, I like the idea of factoring, but definitely for a follow-up ticket. Thanks again.



---

archive/issue_comments_244226.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-13T20:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18134#issuecomment-244226",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051807.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-05-13T20:11:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18134",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18134#event-51807"
}
```
