# Issue 12021: Dimension of Polyhedron is not well defined

Issue created by migration from Trac.

Original creator: jipilab

Original creation time: 2011-12-19 19:16:07

Assignee: mhampton

Keywords: dimension, polytope, polyhedron

Given a vector space V and a polyhedron P, the dimension of P is the dimension of its affine hull, i.e. the smallest affine subspace of V in which P can live. (For a reference, see G.M. Ziegler's book "Lectures on Polytopes" p.5)

Right now, the dimension of a Polyhedron is defined as:


```
    def dim(self):
        """
        Return the dimension of the polyhedron.

        EXAMPLES::

            sage: simplex = Polyhedron(vertices = [[1,0,0,0],[0,0,0,1],[0,1,0,0],[0,0,1,0]])
            sage: simplex.dim()
            3
            sage: simplex.ambient_dim()
            4
       """
        return self.ambient_dim() - self.n_equations()
```


But this is obviously not the truthful definition. With the way things are now, this leads to various problems such as:


```
sage: P1=Polyhedron(vertices=[[1,0,0],[0,1,0],[0,0,1]])
sage: P2=Polyhedron(vertices=[[2,0,0],[0,2,0],[0,0,2]])
sage: Inter=P1.intersection(P2)
sage: Inter
The empty polyhedron in QQ^3.
sage: Inter.dim()
1
```


While the right answer should be -1.

One can produce many other examples...


---

Comment by vbraun created at 2011-12-19 22:08:19

Fixed by attached patch.


---

Comment by vbraun created at 2011-12-19 22:08:19

Changing status from new to needs_review.


---

Comment by davidloeffler created at 2012-03-12 16:13:13

I've added a new patch which will stop the patchbot whining about trailing whitespace and commit messages.

Apply trac_12193_fix_dimension-v2.patch


---

Comment by vbraun created at 2012-03-12 18:24:13

I'm fine with your changes :-)


---

Comment by davidloeffler created at 2012-03-12 18:38:01

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2012-03-29 19:28:58

Rediffed for sage-5.0.beta11, nothing of interest changed.


---

Comment by jdemeyer created at 2012-07-27 20:44:31

Please fill in your real name as Reviewer.


---

Comment by vbraun created at 2012-10-23 21:51:13

Rebased for #11763


---

Comment by vbraun created at 2012-11-28 18:48:19

For the patchbot: apply trac_12193_fix_dimension.patch only


---

Comment by vbraun created at 2012-12-01 15:11:32

The patchbot found a machine-dependent issue in a cmp() doctest, fixed now.


---

Comment by vbraun created at 2012-12-18 10:43:44

Updated patch


---

Attachment

Updated patch to push one patch hunk down to #11763.


---

Comment by jdemeyer created at 2013-01-07 20:55:58

Resolution: fixed
