# Issue 26245: Improve startup time for Python3-based Sage

Issue created by migration from Trac.

Original creator: slelievre

Original creation time: 2018-10-12 22:41:36

CC:  chapoton embray saraedum slelievre was

Python3-based Sage seems to start up much slower than Python2-based Sage.


---

Comment by embray created at 2018-10-28 16:17:13

Changing type from enhancement to task.


---

Comment by embray created at 2018-10-28 16:17:13

Indeed. This has been a problem for as long as I've been working on the Python 3 port, and it's not clear to me why.  I suspect it has mostly to do with the import system.  On the one hand, the new import system has some caching to reduce the number of syscalls needed for many `import` calls.  OTOH that cache has to be filled in the first place, and that might still be slower in the extreme case of Sage.  I need to investigate this but haven't even started to yet.


---

Comment by chapoton created at 2018-12-03 17:07:34

see #8254


---

Comment by chapoton created at 2018-12-17 16:42:20

see rather #26908


---

Comment by embray created at 2019-01-31 12:42:41

Since #26908 this is vastly improved.  Startup time is still a bit slower than on Python 2, but it's much more marginal, and it might be harder to track down any specific deficiencies in this area.  Though I certainly wouldn't discourage anyone from trying.

I still believe there are big gains to be made in general with lazy imports.  I don't think we need to really import _everything_ that makes up the Sage global namespace if we can replace most of it with proxies.
