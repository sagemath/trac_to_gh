# Issue 13893: Fix broken 'sage -valgrind' interaction with ipython

Issue created by migration from https://trac.sagemath.org/ticket/14097

Original creator: mabshoff

Original creation time: 2013-02-11 20:02:38

Assignee: jason

CC:  vbraun

Keywords: valgrind, ipython

In 5.6 Sage fails to start under valgrind due to interaction with ipython. The attached patch fixes the problem.


---

Attachment


---

Comment by jpflori created at 2013-10-07 22:30:41

I tried the above fix and it did not change anything for me on top of Sage 5.11 unfortunately.

Running a command equivalent to what sage-valgrind does (without the patch here) from a sage shell (./sage -sh) *just works* so something really fishy is going on here...


---

Comment by jpflori created at 2013-12-23 19:25:09

Note that valgrind-3.9.0 is out.


---

Comment by vbraun created at 2014-10-02 19:17:19

I've added this to #15586, propose to close as duplicate


---

Comment by jpflori created at 2014-10-08 05:18:01

Changing status from new to needs_review.


---

Comment by jpflori created at 2014-10-08 05:18:01

I agree, let's close this one.


---

Comment by jpflori created at 2014-10-08 05:18:11

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-13 15:49:27

Resolution: duplicate
