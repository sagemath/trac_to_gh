# Issue 14372: Fix side effect in the affine method of relabelled cartan types

Issue created by migration from https://trac.sagemath.org/ticket/14576

Original creator: nthiery

Original creation time: 2013-05-13 18:50:42

Assignee: sage-combinat

CC:  tscrim aschilling

This fixes the following side effect in the affine method of relabelled cartan types::

```
sage: C = CartanType(["A",3]).relabel({1:2,2:3,3:1})
sage: C
['A', 3] relabelled by {1: 2, 2: 3, 3: 1}
sage: C.affine()
['A', 3, 1] relabelled by {0: 0, 1: 2, 2: 3, 3: 1}
sage: C
['A', 3] relabelled by {0: 0, 1: 2, 2: 3, 3: 1}
```

The patch also removes a couple trailing white spaces.


---

Comment by nthiery created at 2013-05-13 18:55:02

Anne: that was the cause of the failure for the non symmetric macdonald polynomials in type G2.


---

Comment by nthiery created at 2013-05-13 19:29:27

All long tests passed on my machine.


---

Comment by aschilling created at 2013-05-13 23:04:12

Hi Nicolas,

Great! Could you please remove one semicolon after TESTS:: . Other than that it indeed looks good!


---

Comment by nthiery created at 2013-05-13 23:17:29

Changing status from new to needs_review.


---

Comment by nthiery created at 2013-05-13 23:17:29

Thanks for catching this!

Done and pushed. Hence positive review!


---

Comment by nthiery created at 2013-05-13 23:17:43

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-05-15 09:51:26

[attachment:trac_14576-cartan_type-relabel_affine-nt.patch] is missing a username in the patch metadata. Did you create the patch using Mercurial's `hg export`?


---

Comment by jdemeyer created at 2013-05-15 09:51:26

Changing status from positive_review to needs_info.


---

Attachment


---

Comment by nthiery created at 2013-05-15 14:26:10

Changing status from needs_info to needs_review.


---

Comment by nthiery created at 2013-05-15 14:26:10

Replying to [comment:6 jdemeyer]:
> [attachment:trac_14576-cartan_type-relabel_affine-nt.patch] is missing a username in the patch metadata. Did you create the patch using Mercurial's `hg export`?

Oops, sorry. I guess I did not! Kind of weird: given my local shortcuts it's actually harder for me not to use hg export. Whatever, this is fixed now.

Thanks for catching this!


---

Comment by nthiery created at 2013-05-15 14:26:21

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-05-17 06:33:00

Resolution: fixed
