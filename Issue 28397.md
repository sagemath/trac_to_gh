# Issue 28397: Comparing Latte Integrale and Normaliz for Ehrhart polynomial computation

Issue created by migration from https://trac.sagemath.org/ticket/28634

Original creator: selia

Original creation time: 2019-10-19 10:20:49

CC:  jipilab winfried mkoeppe

For lattice polytopes, the Ehrhart polynomial may now be computed using either latte or normaliz as the engine. As the dimension of the polytope increases, latte appears to be much faster at computing the Ehrhart polynomial. For example, below is a table comparing computation times of the ehrhart polynomial for a dilated simplex. It was computed using time.time() by subtracting a start time from an end time::


```
for i in range(2,11):
p = i * polytopes.simplex(i,backend = 'normaliz')
```

| Dimension | Normaliz | Latte |
|:-----------:|:----------:|:-------:|
| 2  | 0.0005509853363037109  | 0.0 | 
| 3  | 0.0008060932159423828  | 0.0 |
| 4  | 0.0011680126190185547  | 0.0 |
| 5  | 0.0013370513916015625  | 0.0 |
| 6  |    0.0030059814453125  | 0.0 |
| 7  |  0.009865999221801758  | 0.0 |
| 8  |    0.0852811336517334  | 0.0 |
| 9  |    1.4878380298614502  | 0.0 |
| 10 |   28.114959955215454   | 0.0 |
| 11 |    774.3957607746124   | 0.0 |
This could motivate making latte the default engine for ehrhart polynomial computations of lattice polytopes and continuing to maintain latte.


---

Comment by Winfried created at 2019-10-20 15:13:52

Have you also run comparisons for complicated polytopes with many and degenerate vertices?


---

Comment by selia created at 2019-10-21 10:08:39

We will run comparisons for polytopes with many vertices. Could you suggest a degenerate polytope that would be good to look at?


---

Comment by selia created at 2019-10-22 06:36:47

Here is a comparison of run times for the cube [0,d]<sup>d</sup> up to dimension d = 7, to show an example of a polytope with many vertices. 


---

Comment by Winfried created at 2019-10-22 09:26:04

I am not sure what you are computing. I have just done the Ehrhart series for a cube of dimension 10 on my laptop in native Normaliz: 2.8 sec whereas you seem to get 45 sec in dimension 6 already.

The cubes have many vertices, but they are all simple and even unimodular.


---

Comment by selia created at 2019-10-22 11:06:43

My mistake, the example is not the 0/1 cube but the cube [0,d]<sup>d</sup>. I am modifying my comment and adding a row for [0,7]<sup>7</sup> which has now finished.


---

Comment by Winfried created at 2019-10-22 12:18:35

O.K. Then the timing makes sense.

You should also compare cross polytopes. They have few, but very degenerate vertices.


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-04-14 19:41:51

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
