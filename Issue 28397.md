# Issue 28397: Comparing Latte Integrale and Normaliz for Ehrhart polynomial computation

archive/issues_028397.json:
```json
{
    "body": "CC:  @jplab winfried @mkoeppe\n\nFor lattice polytopes, the Ehrhart polynomial may now be computed using either latte or normaliz as the engine. As the dimension of the polytope increases, latte appears to be much faster at computing the Ehrhart polynomial. For example, below is a table comparing computation times of the ehrhart polynomial for a dilated simplex. It was computed using time.time() by subtracting a start time from an end time::\n\n\n```\nfor i in range(2,11):\np = i * polytopes.simplex(i,backend = 'normaliz')\n```\n\n| Dimension | Normaliz | Latte |\n|:-----------:|:----------:|:-------:|\n| 2  | 0.0005509853363037109  | 0.0 | \n| 3  | 0.0008060932159423828  | 0.0 |\n| 4  | 0.0011680126190185547  | 0.0 |\n| 5  | 0.0013370513916015625  | 0.0 |\n| 6  |    0.0030059814453125  | 0.0 |\n| 7  |  0.009865999221801758  | 0.0 |\n| 8  |    0.0852811336517334  | 0.0 |\n| 9  |    1.4878380298614502  | 0.0 |\n| 10 |   28.114959955215454   | 0.0 |\n| 11 |    774.3957607746124   | 0.0 |\nThis could motivate making latte the default engine for ehrhart polynomial computations of lattice polytopes and continuing to maintain latte.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28634\n\n",
    "created_at": "2019-10-19T10:20:49Z",
    "labels": [
        "geometry",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-wishlist",
    "title": "Comparing Latte Integrale and Normaliz for Ehrhart polynomial computation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28397",
    "user": "@sophiasage"
}
```
CC:  @jplab winfried @mkoeppe

For lattice polytopes, the Ehrhart polynomial may now be computed using either latte or normaliz as the engine. As the dimension of the polytope increases, latte appears to be much faster at computing the Ehrhart polynomial. For example, below is a table comparing computation times of the ehrhart polynomial for a dilated simplex. It was computed using time.time() by subtracting a start time from an end time::


```
for i in range(2,11):
p = i * polytopes.simplex(i,backend = 'normaliz')
```

| Dimension | Normaliz | Latte |
|:-----------:|:----------:|:-------:|
| 2  | 0.0005509853363037109  | 0.0 | 
| 3  | 0.0008060932159423828  | 0.0 |
| 4  | 0.0011680126190185547  | 0.0 |
| 5  | 0.0013370513916015625  | 0.0 |
| 6  |    0.0030059814453125  | 0.0 |
| 7  |  0.009865999221801758  | 0.0 |
| 8  |    0.0852811336517334  | 0.0 |
| 9  |    1.4878380298614502  | 0.0 |
| 10 |   28.114959955215454   | 0.0 |
| 11 |    774.3957607746124   | 0.0 |
This could motivate making latte the default engine for ehrhart polynomial computations of lattice polytopes and continuing to maintain latte.

Issue created by migration from https://trac.sagemath.org/ticket/28634





---

archive/issue_comments_401082.json:
```json
{
    "body": "Have you also run comparisons for complicated polytopes with many and degenerate vertices?",
    "created_at": "2019-10-20T15:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401082",
    "user": "Winfried"
}
```

Have you also run comparisons for complicated polytopes with many and degenerate vertices?



---

archive/issue_comments_401083.json:
```json
{
    "body": "We will run comparisons for polytopes with many vertices. Could you suggest a degenerate polytope that would be good to look at?",
    "created_at": "2019-10-21T10:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401083",
    "user": "@sophiasage"
}
```

We will run comparisons for polytopes with many vertices. Could you suggest a degenerate polytope that would be good to look at?



---

archive/issue_comments_401084.json:
```json
{
    "body": "Here is a comparison of run times for the cube [0,d]<sup>d</sup> up to dimension d = 7, to show an example of a polytope with many vertices. ",
    "created_at": "2019-10-22T06:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401084",
    "user": "@sophiasage"
}
```

Here is a comparison of run times for the cube [0,d]<sup>d</sup> up to dimension d = 7, to show an example of a polytope with many vertices. 



---

archive/issue_comments_401085.json:
```json
{
    "body": "I am not sure what you are computing. I have just done the Ehrhart series for a cube of dimension 10 on my laptop in native Normaliz: 2.8 sec whereas you seem to get 45 sec in dimension 6 already.\n\nThe cubes have many vertices, but they are all simple and even unimodular.",
    "created_at": "2019-10-22T09:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401085",
    "user": "Winfried"
}
```

I am not sure what you are computing. I have just done the Ehrhart series for a cube of dimension 10 on my laptop in native Normaliz: 2.8 sec whereas you seem to get 45 sec in dimension 6 already.

The cubes have many vertices, but they are all simple and even unimodular.



---

archive/issue_comments_401086.json:
```json
{
    "body": "My mistake, the example is not the 0/1 cube but the cube [0,d]<sup>d</sup>. I am modifying my comment and adding a row for [0,7]<sup>7</sup> which has now finished.",
    "created_at": "2019-10-22T11:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401086",
    "user": "@sophiasage"
}
```

My mistake, the example is not the 0/1 cube but the cube [0,d]<sup>d</sup>. I am modifying my comment and adding a row for [0,7]<sup>7</sup> which has now finished.



---

archive/issue_comments_401087.json:
```json
{
    "body": "O.K. Then the timing makes sense.\n\nYou should also compare cross polytopes. They have few, but very degenerate vertices.",
    "created_at": "2019-10-22T12:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401087",
    "user": "Winfried"
}
```

O.K. Then the timing makes sense.

You should also compare cross polytopes. They have few, but very degenerate vertices.



---

archive/issue_comments_401088.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401088",
    "user": "@embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_401089.json:
```json
{
    "body": "Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401089",
    "user": "@mkoeppe"
}
```

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_401090.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28397#issuecomment-401090",
    "user": "@mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
