# Issue 27606: Tab_completion in Mathematica interface causes Sage to crash

Issue created by migration from https://trac.sagemath.org/ticket/27843

Original creator: @mwageringel

Original creation time: 2019-05-16 20:47:11

Keywords: Mathematica, IPython, Unicode

Calling the tab completion of the Mathematica interface like `mathematica.[TAB]` causes Sage to crash.

The error is a `UnicodeDecodeError` in the IPython interpreter. Some of the Mathematica keywords involve Unicode characters which do not seem to be correctly encoded. For example:


```
sage: s = mathematica._tab_completion()[-1]; s
'\xef\x8e\xaf'
sage: type(s)
<type 'str'>
```


This was tested using Sage 8.7, Python 2 and Mathematica 11.3 on Linux. The crash report is attached.



---

Attachment

Apparently this is part of a larger problem â€“ support for unicode in this and other interfaces. See also #24268. In Python 3, the problem above does not seem to exist. I am not sure how to make this work in Python 2.


---

Comment by embray created at 2019-06-14 14:55:02

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).


---

Comment by @mwageringel created at 2020-05-21 17:22:12

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2020-05-21 17:22:12

This problem does not exist anymore with Python 3, so this ticket can be closed.


---

Comment by @mwageringel created at 2020-05-21 17:22:23

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-05-21 18:19:03

Resolution: invalid
