# Issue 25455: Raise ValueError in permutation_group for infinite groups

Issue created by migration from Trac.

Original creator: mathzeta2

Original creation time: 2018-06-28 16:23:53

CC:  raghukul01

Keywords: days94, beginner

Trying to call the permutation_group() method of an infinite `AbelianGroup` or `AdditiveAbelianGroup` group leads to a non-informative `TypeError` because GAP does not handle infinite permutation groups.

A better UI would be to check if the group is infinite, and raise a suitable error message.


```
sage: G = AdditiveAbelianGroup([0])
sage: H = AbelianGroup([0])
sage: G.permutation_group()
...
TypeError: Gap produced error output
Error, usage: Image(<map>), Image(<map>,<elm>), Image(<map>,<coll>)

   executing \$sage6:=Image(IsomorphismPermGroup(AbelianGroup([0])));;
}}} 


---

Comment by raghukul01 created at 2018-07-17 03:35:32

A friend of mine is new to sage, he's working on this ticket.


---

Comment by raghukul01 created at 2018-08-28 15:51:02

Changing status from new to needs_review.


---

Comment by raghukul01 created at 2018-08-28 15:51:02

New commits:


---

Comment by tscrim created at 2018-08-28 23:12:20

LGTM. (I am not 100% certain it should be a `TypeError` over a `ValueError`, but that is probably bikeshedding.)


---

Comment by tscrim created at 2018-08-28 23:12:20

Changing status from needs_review to positive_review.


---

Comment by raghukul01 created at 2018-08-29 04:33:14

I had the same doubt, but then `GAP` gave a `TypeError`, so made this exception as `TypeError`.


---

Comment by vbraun created at 2018-08-30 22:24:50

Resolution: fixed
