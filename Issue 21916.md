# Issue 21916: speed up addition of generic dense matrices

Issue created by migration from Trac.

Original creator: mmezzarobba

Original creation time: 2017-01-08 10:27:47

Before:

```
sage: QQi.<i> = QuadraticField(-1)
sage: mat = matrix([[1, i], [i, 2]])
sage: %timeit mat + mat
The slowest run took 23.26 times longer than the fastest. This could mean that an intermediate result is being cached.
100000 loops, best of 3: 7.95 µs per loop
```

After:

```
sage: QQi.<i> = QuadraticField(-1)
sage: mat = matrix([[1, i], [i, 2]])
sage: %timeit mat + mat
The slowest run took 11.31 times longer than the fastest. This could mean that an intermediate result is being cached.
100000 loops, best of 3: 2.21 µs per loop
```



---

Comment by git created at 2017-01-08 11:01:48

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mmezzarobba created at 2017-01-08 14:05:49

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2017-01-12 10:21:59

Changing status from needs_review to positive_review.


---

Comment by mmezzarobba created at 2017-01-12 10:36:59

Thanks for the review!


---

Comment by vbraun created at 2017-01-23 22:52:43

Resolution: fixed
