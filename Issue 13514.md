# Issue 13514: Another incorrect Maxima integral

archive/issues_013514.json:
```json
{
    "body": "Assignee: @burcin\n\nThis is already reported upstream at [this bug tracker ticket](https://sourceforge.net/tracker/?func=detail&aid=3587932&group_id=4933&atid=104933).\n\nThe original report from a summer PREP user:\n\n```\nintegral((2/3)*x^(5/2)*(x+1)^.5, x,0,1)\n\nI got the answer -0.888888889*sqrt(2)\n\nintegral((2/3)*x^(5/2)*(x+1)^(1/2), x,0,1)\n\nAnd the answer is\n\n\n-5/192*I*pi + 61/288*sqrt(2) + 5/192*log(-sqrt(2) + 1) -\n5/192*log(sqrt(2) + 1)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13718\n\n",
    "created_at": "2012-11-16T15:53:27Z",
    "labels": [
        "component: calculus",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Another incorrect Maxima integral",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13514",
    "user": "https://github.com/kcrisman"
}
```
Assignee: @burcin

This is already reported upstream at [this bug tracker ticket](https://sourceforge.net/tracker/?func=detail&aid=3587932&group_id=4933&atid=104933).

The original report from a summer PREP user:

```
integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1)

I got the answer -0.888888889*sqrt(2)

integral((2/3)*x^(5/2)*(x+1)^(1/2), x,0,1)

And the answer is


-5/192*I*pi + 61/288*sqrt(2) + 5/192*log(-sqrt(2) + 1) -
5/192*log(sqrt(2) + 1)
```


Issue created by migration from https://trac.sagemath.org/ticket/13718





---

archive/issue_comments_166548.json:
```json
{
    "body": "#11493 may be related.",
    "created_at": "2012-11-16T15:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-166548",
    "user": "https://github.com/kcrisman"
}
```

#11493 may be related.



---

archive/issue_comments_166549.json:
```json
{
    "body": "This prompts me to see what happens with alternative integration interfaces.\n\nTry with SymPy:\n\n\n```\nsage: sage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='sympy')   \n# no output at all after ~10mins\n```\n\n\nTry with giac:\n\n\n```\nsage: giac('integrate((2/3)*x^(5/2)*sqrt(x+1), x,0,1)')   # correct and almost instantaneous\n1/288*(sqrt(2)*61+15*ln(sqrt(2)-1))\nsage: (1/288*(sqrt(2)*61+15*ln(sqrt(2)-1))).n()\n0.253633414928700\nsage: (-5/192*I*pi + 61/288*sqrt(2) + 5/192*log(-sqrt(2) + 1) -\n....: 5/192*log(sqrt(2) + 1)).n()    # compare with formula given by OP\n0.253633414928700\n```\n",
    "created_at": "2017-04-09T10:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-166549",
    "user": "https://github.com/mforets"
}
```

This prompts me to see what happens with alternative integration interfaces.

Try with SymPy:


```
sage: sage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='sympy')   
# no output at all after ~10mins
```


Try with giac:


```
sage: giac('integrate((2/3)*x^(5/2)*sqrt(x+1), x,0,1)')   # correct and almost instantaneous
1/288*(sqrt(2)*61+15*ln(sqrt(2)-1))
sage: (1/288*(sqrt(2)*61+15*ln(sqrt(2)-1))).n()
0.253633414928700
sage: (-5/192*I*pi + 61/288*sqrt(2) + 5/192*log(-sqrt(2) + 1) -
....: 5/192*log(sqrt(2) + 1)).n()    # compare with formula given by OP
0.253633414928700
```




---

archive/issue_comments_166550.json:
```json
{
    "body": "fixed at Sage v8.0.beta3:\n\n\n```\nsage: integrate((2/3)*x^(5/2)*sqrt(x+1), x,0,1, algorithm='maxima')\n-5/192*I*pi + 61/288*sqrt(2) - 5/192*log(sqrt(2) + 1) + 5/192*log(-sqrt(2) + 1)\nsage: _.n()\n0.253633414928700\n```\n",
    "created_at": "2017-04-28T05:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-166550",
    "user": "https://github.com/mforets"
}
```

fixed at Sage v8.0.beta3:


```
sage: integrate((2/3)*x^(5/2)*sqrt(x+1), x,0,1, algorithm='maxima')
-5/192*I*pi + 61/288*sqrt(2) - 5/192*log(sqrt(2) + 1) + 5/192*log(-sqrt(2) + 1)
sage: _.n()
0.253633414928700
```




---

archive/issue_comments_166551.json:
```json
{
    "body": "not really.. the problem is with the `0.5`:\n\n\n```\n\nsage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='maxima') # wrong\n-0.8888888888888888*sqrt(2)\nsage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='giac') # ok\n0.253633414929\nsage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='sympy') # timeout\n```\n",
    "created_at": "2017-04-28T05:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-166551",
    "user": "https://github.com/mforets"
}
```

not really.. the problem is with the `0.5`:


```

sage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='maxima') # wrong
-0.8888888888888888*sqrt(2)
sage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='giac') # ok
0.253633414929
sage: integral((2/3)*x^(5/2)*(x+1)^.5, x,0,1, algorithm='sympy') # timeout
```




---

archive/issue_comments_166552.json:
```json
{
    "body": "That is user error. No one can expect to get correct integrals from expressions containing floating point numbers. It is not supported and maybe Sage should throw an exception in these cases anyway. If you agree, Karl-Dieter, I'll open a ticket for just this.",
    "created_at": "2017-04-28T06:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-166552",
    "user": "https://github.com/rwst"
}
```

That is user error. No one can expect to get correct integrals from expressions containing floating point numbers. It is not supported and maybe Sage should throw an exception in these cases anyway. If you agree, Karl-Dieter, I'll open a ticket for just this.



---

archive/issue_comments_166553.json:
```json
{
    "body": "Together with #22894 and `ex._convert(QQ)` one could even provide a default option that automatically converts `0.5` to `1/2` before integration.",
    "created_at": "2017-04-28T08:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-166553",
    "user": "https://github.com/rwst"
}
```

Together with #22894 and `ex._convert(QQ)` one could even provide a default option that automatically converts `0.5` to `1/2` before integration.



---

archive/issue_comments_166554.json:
```json
{
    "body": "Changing keywords from \"\" to \"integral\".",
    "created_at": "2022-04-02T08:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13514#issuecomment-166554",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "integral".
