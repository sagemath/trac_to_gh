# Issue 33855: Docbuild workflow broken because furo is too new

archive/issues_033855.json:
```json
{
    "body": "CC:  @tobiasdiez klee\n\nAs seen for example in \nhttps://8f7574169b6743890bc32b58d9d2afcb4a5d6375--sagemath-tobias.netlify.app/\n\n```\nERROR: This page was generated by inheriting from \"layout.html\".\n\nFuro (the documentation theme that this site is generated with) does not support this, and has generated this page. If you are the author of this documentation, please look into why this page was generated using the \"layout.html\" template and fix the root cause.\n\nDebugging information, if you need to report this error somewhere:\nSphinx: 4.4.0\nFuro: 2022.06.21\n\npagename: index\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34092\n\n",
    "created_at": "2022-06-27T01:26:02Z",
    "labels": [
        "documentation",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Docbuild workflow broken because furo is too new",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33855",
    "user": "mkoeppe"
}
```
CC:  @tobiasdiez klee

As seen for example in 
https://8f7574169b6743890bc32b58d9d2afcb4a5d6375--sagemath-tobias.netlify.app/

```
ERROR: This page was generated by inheriting from "layout.html".

Furo (the documentation theme that this site is generated with) does not support this, and has generated this page. If you are the author of this documentation, please look into why this page was generated using the "layout.html" template and fix the root cause.

Debugging information, if you need to report this error somewhere:
Sphinx: 4.4.0
Furo: 2022.06.21

pagename: index
```


Issue created by migration from https://trac.sagemath.org/ticket/34092





---

archive/issue_comments_480891.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-06-27T01:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480891",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_480892.json:
```json
{
    "body": "Also fails with Furo: 2022.04.07 - https://256ca4be1c5defc9de1f43a18a475258c5b19a00--sagemath-tobias.netlify.app/",
    "created_at": "2022-06-27T04:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480892",
    "user": "mkoeppe"
}
```

Also fails with Furo: 2022.04.07 - https://256ca4be1c5defc9de1f43a18a475258c5b19a00--sagemath-tobias.netlify.app/



---

archive/issue_comments_480893.json:
```json
{
    "body": "Or perhaps something else changed on our side since #33601?",
    "created_at": "2022-06-27T17:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480893",
    "user": "mkoeppe"
}
```

Or perhaps something else changed on our side since #33601?



---

archive/issue_comments_480894.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-06-30T20:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480894",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_480895.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-06-30T20:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480895",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_480896.json:
```json
{
    "body": "Okay. I have no idea either. It works locally well.",
    "created_at": "2022-07-01T01:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480896",
    "user": "klee"
}
```

Okay. I have no idea either. It works locally well.



---

archive/issue_comments_480897.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-01T01:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480897",
    "user": "klee"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_480898.json:
```json
{
    "body": "Thanks!",
    "created_at": "2022-07-01T01:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480898",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_480899.json:
```json
{
    "body": "This seems to only affect the index page, eg https://8f7574169b6743890bc32b58d9d2afcb4a5d6375--sagemath-tobias.netlify.app/reference/ is working. How is the starting page generated?",
    "created_at": "2022-07-02T13:02:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480899",
    "user": "@tobiasdiez"
}
```

This seems to only affect the index page, eg https://8f7574169b6743890bc32b58d9d2afcb4a5d6375--sagemath-tobias.netlify.app/reference/ is working. How is the starting page generated?



---

archive/issue_comments_480900.json:
```json
{
    "body": "Replying to [comment:9 gh-tobiasdiez]:\n> This seems to only affect the index page, eg https://8f7574169b6743890bc32b58d9d2afcb4a5d6375--sagemath-tobias.netlify.app/reference/ is working. How is the starting page generated? \n\nIndeed. It is generated by `sage_docbuild.WebsiteBuilder` using the template `src/doc/en/website/templates/index.html`, which has the first line `{% extends \"layout.html\" %}`! It seems this line conflicts with the furo theme.",
    "created_at": "2022-07-02T13:39:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480900",
    "user": "klee"
}
```

Replying to [comment:9 gh-tobiasdiez]:
> This seems to only affect the index page, eg https://8f7574169b6743890bc32b58d9d2afcb4a5d6375--sagemath-tobias.netlify.app/reference/ is working. How is the starting page generated? 

Indeed. It is generated by `sage_docbuild.WebsiteBuilder` using the template `src/doc/en/website/templates/index.html`, which has the first line `{% extends "layout.html" %}`! It seems this line conflicts with the furo theme.



---

archive/issue_comments_480901.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-09T22:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33855",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33855#issuecomment-480901",
    "user": "vbraun"
}
```

Resolution: fixed
