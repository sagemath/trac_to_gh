# Issue 14696: mistake in docstring for modular_symbols

Issue created by migration from Trac.

Original creator: was

Original creation time: 2013-07-16 18:35:41

Assignee: cremona

CC:  wuthrich

The docstring for `E.modular_symbol` accidentally includes "normalize" twice.  I think the *first* instance, which a user might read first, is wrong and should be deleted (it must have been accidentally left there).


```
sage: E = EllipticCurve('11a')
sage: E.modular_symbol?
...
        -  ``normalize`` - (default: True); if True, the
           modular symbol is correctly normalized (up to possibly a factor of
           -1 or 2). If False, the modular symbol is almost certainly not
           correctly normalized, i.e., all values will be a fixed scalar
           multiple of what they should be. But the initial computation of the
           modular symbol is much faster, though evaluation of it after
           computing it won't be any faster.
           
        -  ``use_eclib`` - (default: False); if True the computation is
           done with John Cremona's implementation of modular
           symbols in ``eclib``
                
        -  ``normalize`` - (default: 'L_ratio'); either 'L_ratio', 'period', or 'none';
           For 'L_ratio', the modular symbol is correctly normalized
           as explained above by comparing it to ``L_ratio`` for the
           curve and some small twists.
           The normalization 'period' is only available if
...
```



---

Comment by cremona created at 2013-07-16 19:58:05

I think you are correct, including the reason why the old version is there.  I hope that Chris Wuthrich will confirm.


---

Comment by wuthrich created at 2013-08-01 21:29:17

exported againast 5.10


---

Comment by wuthrich created at 2013-08-01 21:29:54

Changing status from new to needs_review.


---

Attachment

Yes, that is what happened an I am sorry. I submit a quick patch here that fixes this and a small other issue with this normalisation. If L_ratio fails it now falls back to period. The cases where this makes a real difference, like 1369b1 are too long to be included as a doctest. 

In any case, I am writing on a new implementation of modular symbols which will change this normalisation business radically anyway.


---

Comment by was created at 2013-08-01 22:12:20

Changing status from needs_review to positive_review.


---

Comment by was created at 2013-08-01 22:12:20

Looks good to me.  Thanks!


---

Comment by jdemeyer created at 2013-08-20 12:59:30

Resolution: fixed
