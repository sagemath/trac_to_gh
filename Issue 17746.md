# Issue 17746: Refactor/cleanup tableaux

Issue created by migration from Trac.

Original creator: jpswanson

Original creation time: 2015-03-18 07:22:19

CC:  darij jkeitel mariamonks opechenik

Keywords: tableaux, days64, cleanup, refactoring

`Tableau`, `SemistandardTableau`, `StandardTableau`, `SkewTableau` and related classes need lots of clean-up and refactoring. Specific examples:

(Warning: this list is very much in flux and will probably change lots during days64.)

* `Tableau.standardization` should be moved to `SemistandardTableau`; `SkewTableau.bender_knuth_involution` should likewise be moved to `SemistandardSkewTableau`.
* `Tableau` distinguishes between `[]` and `[[]]`, or `[This is the Trac macro *1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1-macro)` and `[[1], []]`, which is very odd. Along the same lines, perhaps make `t` optional in `Tableau.__classcall_private__` to allow for `Tableau()` yielding the empty tableau. 
* `Tableau.k_weight` needs descriptive documentation.
* `Tableau.schensted_insert`, `Tableau.bump`, and `SkewTableux.slide` duplicate functionality.
* `Tableau` should probably inherit from `SkewTableau` with lots of refactoring/removal of duplicate methods like `conjugate`. Perhaps `Tableau` should be renamed `StraightTableau`, though it might not be worth it. Similarly with `SemistandardTableau` and `SemistandardSkewTableau`.
* All tableau should probably inherit from some abstract base class. Possible generic functionality: reading words; iteration over rows and columns; descent sets (either definition--oh, add the one that doesn't already exist); shape; size; weight; cells; cells_containing.
  * What is a tableau? Roughly, perhaps a mapping of (subsets of?) the product of two indexing sets to an arbitrary set?
* `SkewTableau.rectify` should insert the reading word rather than repeatedly jdt slide--more efficient
* Several related tickets could/should be handled at the same time.
  * #8322: ancient; not a bug; should be closed.
  * #17780: domino tableau and RSK generalization; recent; would require lots of refactoring and documentation changes to fit existing tableau and Sage style; probably wait to poke Connor until abstract class is finalized.
  * #15598: two straightforward features
  * #4355: MuPAD ascii_art; ancient; not sure how relevant this still is; should be reviewed
  * #15031: confusingly, `Tableau.column_stabilizer` has incompatible output when used as input for `Tableau.symmetric_group_action_on_entries`. Maybe add some type casting to the latter?
  * #15862: make tableaux immutable during cleanup? discussion fell off a year ago. Not convinced either way yet.

(This is my first ticket. Apologies for whatever conventions I may have broken!)


---

Comment by jdemeyer created at 2015-03-18 07:43:58

Replying to [ticket:17983 jpswanson]:
> (This is my first ticket. Apologies for whatever conventions I may have broken!)
Certainly don't try to implement everything at the same time. This ticket should probably be considered as a "meta-ticket" with links to various other tickets, each fixing just one issue.

It might be a bit more work to develop things in various small tickets, but it's much easier for reviewers. It also helps development to move on: if one ticket gets stuck because of some discussion or because it was harder than initially thought, work can still continue on the other tickets.
----
New commits:


---

Comment by darij created at 2015-03-18 21:44:03

New commits:


---

Comment by git created at 2015-03-18 21:45:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2015-03-21 00:41:41

Here is a bunch of speed tests I am using in order to see whether some changes slow things down:

https://www.dropbox.com/s/xp9dqzifbx8e685/diagnostic.py?dl=0
