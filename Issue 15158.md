# Issue 15158: Wrong limit for squence involving Fibonacci sequence, 0 instead of golden ratio

Issue created by migration from https://trac.sagemath.org/ticket/15395

Original creator: aginiewicz

Original creation time: 2013-11-10 12:21:04

CC:  kcrisman jakobkroeker

Keywords: limit,golden_ratio

I tried to define Fibonacci sequence using golden ratio in two ways, using values:

```
sage: value_1 = 1-golden_ratio
sage: value_2 = -golden_ratio^(-1)
sage: bool(value_1 == value_2)
true
```

(gives true, so two definitions, F1 and F2 below should be equal, even though they are not according to Sage)

```
sage: F1(k) = (golden_ratio^k-(value_1)^(k))/sqrt(5)
sage: F2(k) = (golden_ratio^k-(value_2)^(k))/sqrt(5)
sage: bool(F1(k) != F2(k))
true
```

When simplified everything seems to be equal at least for first 10 or 1000 elements:

```
sage: [(F1(j)-F2(j)).full_simplify() for j in range(10)]
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
```


Anyway, now to the error: limit for F1 gives wrong result:

```
sage: limit(F1(k+1)/F1(k), k=oo)
0
```

and for F2 works OK:

```
sage: limit(F2(k+1)/F2(k), k=oo)
1/2*sqrt(5) + 1/2
```


I've tested it with Sage 5.12 and 5.11, with same result. This can be as simple as some thing with how golden ratio is handled, or something far more involved maybe?


---

Comment by aginiewicz created at 2015-04-10 20:26:25

I don't know when it happened, but in 6.4.1 the limit works:


```
sage: limit(F1(k+1)/F1(k), k=oo)
1/2*sqrt(5) + 1/2
```


but the comparison


```
sage: F1(k) = (golden_ratio^k-(value_1)^(k))/sqrt(5)
sage: F2(k) = (golden_ratio^k-(value_2)^(k))/sqrt(5)
sage: bool(F1(k) != F2(k))
true
```


is still wrong. Slightly minified example:


```
sage: value_1 = 1-golden_ratio
sage: value_2 = -golden_ratio^(-1)
sage: bool(value_1 == value_2)
True
sage: bool(value_1^x != value_2^x)
True
```



---

Comment by mkoeppe created at 2020-08-29 18:39:49

Unchanged after #30063 Maxima 5.44.0


---

Comment by kcrisman created at 2020-08-29 20:36:31

Thanks very much for checking up on all these old tickets.


---

Comment by mkoeppe created at 2021-04-07 19:29:15

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.
