# Issue 11738: Connectivity of complete graphs

Issue created by migration from https://trac.sagemath.org/ticket/11910

Original creator: ncohen

Original creation time: 2011-10-09 16:00:52

Assignee: jason, ncohen, rlm

Fixes the problem reported at :

http://ask.sagemath.org/question/793/vertex-connecitivity-incomplete-pun-intended?answer=1306#1306

The connectvity of a complete graph is n-1. Currently, an exception is returned


---

Comment by ncohen created at 2011-10-12 12:25:10

Changing status from new to needs_review.


---

Comment by jason created at 2011-12-13 17:07:57

When testing on sage-4.8.alpha3, I get this (presumably from #11367):


```


sage -t  "devel/sage-main/sage/graphs/generic_graph.py"     
Exception MemoryError: MemoryError() in 'sage.graphs.distances_all_pairs.c_eccentricity' ignored
Exception MemoryError: MemoryError() in 'sage.graphs.distances_all_pairs.c_eccentricity' ignored
**********************************************************************
File "/home/grout/sage-trees/sage-4.8.alpha3/devel/sage-main/sage/graphs/generic_graph.py", line 6805:
    sage: g.vertex_connectivity()
Expected:
    9.0
Got:
    9
**********************************************************************
1 items had failures:
   1 of  21 in __main__.example_84
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/grout/.sage//tmp/generic_graph_22844.py
	 [63.6 s]
 
----------------------------------------------------------------------
The following tests failed:


	sage -t  "devel/sage-main/sage/graphs/generic_graph.py"
Total time for all tests: 63.6 seconds

```


Other than that, the code looks good.  The MemoryErrors look interesting, though.  I don't think it's from this patch, but do you have any idea what it could be from?


---

Comment by jason created at 2011-12-13 17:09:00

Changing status from needs_review to needs_work.


---

Comment by jason created at 2011-12-13 17:12:28

Interestingly, when I pop the patch and rerun tests, I don't get those memory errors anymore, so maybe it is this patch causing the memory errors.  Do you have any clue about what is going on?


---

Comment by ncohen created at 2011-12-13 17:54:55

Hmmmm... `O_o`

The memory error most probably comes from patch #12052.

Nathann


---

Comment by ncohen created at 2011-12-18 14:43:52

Hmmm... Which kind of version are you using ? I applied the patch against alpha4 and there is nothing wrong there ! `O_o`

Nathann


---

Comment by ncohen created at 2011-12-18 14:43:52

Changing status from needs_work to needs_info.


---

Comment by ncohen created at 2011-12-18 17:58:15

Changing status from needs_info to needs_review.


---

Comment by dcoudert created at 2012-02-17 19:04:20

I have installed the patch with sage 5.0-beta4.

It is working correctly, but I also have a problem with the tests. This is a rounding problem. You should ensure that unweighted connectivity returns an integer. 


```
sage -t  "devel/sage-myclone/sage/graphs/generic_graph.py"
IBM ILOG License Manager: "IBM ILOG Optimization Suite for Academic Initiative" is accessing CPLEX 12 with option(s): "e m b q ".
**********************************************************************
File "/path-to-sage/sage-5.0.beta4/devel/sage-myclone/sage/graphs/generic_graph.py", line 7020:
    sage: g.vertex_connectivity()
Expected:
    9.0
Got:
    9
**********************************************************************
1 items had failures:
   1 of  21 in __main__.example_85
***Test Failed*** 1 failures.
For whitespace errors, see the file /path-to-home/.sage//tmp/generic_graph_2957.py
         [53.6 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t  "devel/sage-myclone/sage/graphs/generic_graph.py"
Total time for all tests: 53.6 seconds
```



---

Comment by dcoudert created at 2012-02-17 19:04:20

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2012-02-19 11:13:29

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2012-02-19 11:13:29

Ahaahh. Actually for once it is the opposite : the function returns an integer, and a float was expected in the doctest... Of course the value returned is always an integer, as it is ``g.order()-1``. Stupid me `:-p`

Thank you for the review ! Patch updated ! `:-)`

Nathann


---

Attachment


---

Comment by dcoudert created at 2012-02-19 12:17:46

The patch now pass the tests successfully !

Install ok, docbuild ok, test ok, functionality ok => positive review.

D.


---

Comment by dcoudert created at 2012-02-19 12:17:46

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2012-02-19 12:19:14

> Install ok, docbuild ok, test ok, functionality ok => positive review.

Wouhouuuuuuu ! `:-)`

And it looks like ISGCI (#11880) should be included in Sage in a not so distant future `:-)`

Thanks !

Nathann


---

Comment by jdemeyer created at 2012-03-04 21:19:23

Resolution: fixed
