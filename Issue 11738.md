# Issue 11738: Connectivity of complete graphs

archive/issues_011738.json:
```json
{
    "body": "Assignee: jason, ncohen, rlm\n\nFixes the problem reported at :\n\nhttp://ask.sagemath.org/question/793/vertex-connecitivity-incomplete-pun-intended?answer=1306#1306\n\nThe connectvity of a complete graph is n-1. Currently, an exception is returned\n\nIssue created by migration from https://trac.sagemath.org/ticket/11910\n\n",
    "created_at": "2011-10-09T16:00:52Z",
    "labels": [
        "graph theory",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Connectivity of complete graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11738",
    "user": "@nathanncohen"
}
```
Assignee: jason, ncohen, rlm

Fixes the problem reported at :

http://ask.sagemath.org/question/793/vertex-connecitivity-incomplete-pun-intended?answer=1306#1306

The connectvity of a complete graph is n-1. Currently, an exception is returned

Issue created by migration from https://trac.sagemath.org/ticket/11910





---

archive/issue_comments_133473.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-10-12T12:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133473",
    "user": "@nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_133474.json:
```json
{
    "body": "When testing on sage-4.8.alpha3, I get this (presumably from #11367):\n\n\n```\n\n\nsage -t  \"devel/sage-main/sage/graphs/generic_graph.py\"     \nException MemoryError: MemoryError() in 'sage.graphs.distances_all_pairs.c_eccentricity' ignored\nException MemoryError: MemoryError() in 'sage.graphs.distances_all_pairs.c_eccentricity' ignored\n**********************************************************************\nFile \"/home/grout/sage-trees/sage-4.8.alpha3/devel/sage-main/sage/graphs/generic_graph.py\", line 6805:\n    sage: g.vertex_connectivity()\nExpected:\n    9.0\nGot:\n    9\n**********************************************************************\n1 items had failures:\n   1 of  21 in __main__.example_84\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/grout/.sage//tmp/generic_graph_22844.py\n\t [63.6 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n\tsage -t  \"devel/sage-main/sage/graphs/generic_graph.py\"\nTotal time for all tests: 63.6 seconds\n\n```\n\n\nOther than that, the code looks good.  The MemoryErrors look interesting, though.  I don't think it's from this patch, but do you have any idea what it could be from?",
    "created_at": "2011-12-13T17:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133474",
    "user": "@jasongrout"
}
```

When testing on sage-4.8.alpha3, I get this (presumably from #11367):


```


sage -t  "devel/sage-main/sage/graphs/generic_graph.py"     
Exception MemoryError: MemoryError() in 'sage.graphs.distances_all_pairs.c_eccentricity' ignored
Exception MemoryError: MemoryError() in 'sage.graphs.distances_all_pairs.c_eccentricity' ignored
**********************************************************************
File "/home/grout/sage-trees/sage-4.8.alpha3/devel/sage-main/sage/graphs/generic_graph.py", line 6805:
    sage: g.vertex_connectivity()
Expected:
    9.0
Got:
    9
**********************************************************************
1 items had failures:
   1 of  21 in __main__.example_84
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/grout/.sage//tmp/generic_graph_22844.py
	 [63.6 s]
 
----------------------------------------------------------------------
The following tests failed:


	sage -t  "devel/sage-main/sage/graphs/generic_graph.py"
Total time for all tests: 63.6 seconds

```


Other than that, the code looks good.  The MemoryErrors look interesting, though.  I don't think it's from this patch, but do you have any idea what it could be from?



---

archive/issue_comments_133475.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-12-13T17:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133475",
    "user": "@jasongrout"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_133476.json:
```json
{
    "body": "Interestingly, when I pop the patch and rerun tests, I don't get those memory errors anymore, so maybe it is this patch causing the memory errors.  Do you have any clue about what is going on?",
    "created_at": "2011-12-13T17:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133476",
    "user": "@jasongrout"
}
```

Interestingly, when I pop the patch and rerun tests, I don't get those memory errors anymore, so maybe it is this patch causing the memory errors.  Do you have any clue about what is going on?



---

archive/issue_comments_133477.json:
```json
{
    "body": "Hmmmm... `O_o`\n\nThe memory error most probably comes from patch #12052.\n\nNathann",
    "created_at": "2011-12-13T17:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133477",
    "user": "@nathanncohen"
}
```

Hmmmm... `O_o`

The memory error most probably comes from patch #12052.

Nathann



---

archive/issue_comments_133478.json:
```json
{
    "body": "Hmmm... Which kind of version are you using ? I applied the patch against alpha4 and there is nothing wrong there ! `O_o`\n\nNathann",
    "created_at": "2011-12-18T14:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133478",
    "user": "@nathanncohen"
}
```

Hmmm... Which kind of version are you using ? I applied the patch against alpha4 and there is nothing wrong there ! `O_o`

Nathann



---

archive/issue_comments_133479.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2011-12-18T14:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133479",
    "user": "@nathanncohen"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_133480.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2011-12-18T17:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133480",
    "user": "@nathanncohen"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_133481.json:
```json
{
    "body": "I have installed the patch with sage 5.0-beta4.\n\nIt is working correctly, but I also have a problem with the tests. This is a rounding problem. You should ensure that unweighted connectivity returns an integer. \n\n\n```\nsage -t  \"devel/sage-myclone/sage/graphs/generic_graph.py\"\nIBM ILOG License Manager: \"IBM ILOG Optimization Suite for Academic Initiative\" is accessing CPLEX 12 with option(s): \"e m b q \".\n**********************************************************************\nFile \"/path-to-sage/sage-5.0.beta4/devel/sage-myclone/sage/graphs/generic_graph.py\", line 7020:\n    sage: g.vertex_connectivity()\nExpected:\n    9.0\nGot:\n    9\n**********************************************************************\n1 items had failures:\n   1 of  21 in __main__.example_85\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /path-to-home/.sage//tmp/generic_graph_2957.py\n         [53.6 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t  \"devel/sage-myclone/sage/graphs/generic_graph.py\"\nTotal time for all tests: 53.6 seconds\n```\n",
    "created_at": "2012-02-17T19:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133481",
    "user": "@dcoudert"
}
```

I have installed the patch with sage 5.0-beta4.

It is working correctly, but I also have a problem with the tests. This is a rounding problem. You should ensure that unweighted connectivity returns an integer. 


```
sage -t  "devel/sage-myclone/sage/graphs/generic_graph.py"
IBM ILOG License Manager: "IBM ILOG Optimization Suite for Academic Initiative" is accessing CPLEX 12 with option(s): "e m b q ".
**********************************************************************
File "/path-to-sage/sage-5.0.beta4/devel/sage-myclone/sage/graphs/generic_graph.py", line 7020:
    sage: g.vertex_connectivity()
Expected:
    9.0
Got:
    9
**********************************************************************
1 items had failures:
   1 of  21 in __main__.example_85
***Test Failed*** 1 failures.
For whitespace errors, see the file /path-to-home/.sage//tmp/generic_graph_2957.py
         [53.6 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t  "devel/sage-myclone/sage/graphs/generic_graph.py"
Total time for all tests: 53.6 seconds
```




---

archive/issue_comments_133482.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-17T19:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133482",
    "user": "@dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_133483.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-19T11:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133483",
    "user": "@nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_133484.json:
```json
{
    "body": "Ahaahh. Actually for once it is the opposite : the function returns an integer, and a float was expected in the doctest... Of course the value returned is always an integer, as it is ``g.order()-1``. Stupid me `:-p`\n\nThank you for the review ! Patch updated ! `:-)`\n\nNathann",
    "created_at": "2012-02-19T11:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133484",
    "user": "@nathanncohen"
}
```

Ahaahh. Actually for once it is the opposite : the function returns an integer, and a float was expected in the doctest... Of course the value returned is always an integer, as it is ``g.order()-1``. Stupid me `:-p`

Thank you for the review ! Patch updated ! `:-)`

Nathann



---

archive/issue_comments_133485.json:
```json
{
    "body": "Attachment [trac_11910.patch](tarball://root/attachments/some-uuid/ticket11910/trac_11910.patch) by @nathanncohen created at 2012-02-19 11:13:44",
    "created_at": "2012-02-19T11:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133485",
    "user": "@nathanncohen"
}
```

Attachment [trac_11910.patch](tarball://root/attachments/some-uuid/ticket11910/trac_11910.patch) by @nathanncohen created at 2012-02-19 11:13:44



---

archive/issue_comments_133486.json:
```json
{
    "body": "The patch now pass the tests successfully !\n\nInstall ok, docbuild ok, test ok, functionality ok => positive review.\n\nD.",
    "created_at": "2012-02-19T12:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133486",
    "user": "@dcoudert"
}
```

The patch now pass the tests successfully !

Install ok, docbuild ok, test ok, functionality ok => positive review.

D.



---

archive/issue_comments_133487.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-19T12:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133487",
    "user": "@dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_133488.json:
```json
{
    "body": "> Install ok, docbuild ok, test ok, functionality ok => positive review.\n\nWouhouuuuuuu ! `:-)`\n\nAnd it looks like ISGCI (#11880) should be included in Sage in a not so distant future `:-)`\n\nThanks !\n\nNathann",
    "created_at": "2012-02-19T12:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133488",
    "user": "@nathanncohen"
}
```

> Install ok, docbuild ok, test ok, functionality ok => positive review.

Wouhouuuuuuu ! `:-)`

And it looks like ISGCI (#11880) should be included in Sage in a not so distant future `:-)`

Thanks !

Nathann



---

archive/issue_comments_133489.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-03-04T21:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11738",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11738#issuecomment-133489",
    "user": "@jdemeyer"
}
```

Resolution: fixed
