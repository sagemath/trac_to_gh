# Issue 32838: Constant field extension of function fields

archive/issues_032838.json:
```json
{
    "body": "We add constant field extension of function fields, which can compute conorms of divisors.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33075\n\n",
    "created_at": "2021-12-24T07:50:44Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "title": "Constant field extension of function fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32838",
    "user": "klee"
}
```
We add constant field extension of function fields, which can compute conorms of divisors.

Issue created by migration from https://trac.sagemath.org/ticket/33075





---

archive/issue_comments_468114.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-24T07:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468114",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468115.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-24T07:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468115",
    "user": "klee"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_468116.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-24T08:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468116",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468117.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-12-31T10:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468117",
    "user": "klee"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_468118.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-01T02:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468118",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_468119.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-01T02:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468119",
    "user": "klee"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_468120.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-03T00:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468120",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468121.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-03T01:13:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468121",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468122.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-04T07:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468122",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468123.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-11T11:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468123",
    "user": "klee"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_468124.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T05:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468124",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468125.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-12T05:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468125",
    "user": "klee"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_468126.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T06:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468126",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468127.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T06:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468127",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468128.json:
```json
{
    "body": "Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).",
    "created_at": "2022-02-27T08:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468128",
    "user": "tscrim"
}
```

Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).



---

archive/issue_comments_468129.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-27T10:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468129",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468130.json:
```json
{
    "body": "First, thank you for your attention!\n\n> Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? \n\nExtension of function fields. Yes, of course.\n\n> Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. \n\n`conorm_*` methods use the data `self._embedF` that is computed in the initialization method. If we do not have this extension class `ConstantFieldExtension`, then `conorm_*` methods will take more time to compute the return value. This is inefficient because they are supposed to be invoked many times for a fixed extension (in the code for Jacobians of function fields I am developing).\n\n> This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).\n\nThe name \"constant field extension\" is standard in the theory of function fields. And there are other \"* extensions\" like \"Artin-Shreier\", \"Kummer\", ..., which could be implemented in future in the same module `function_fields.extensions`.",
    "created_at": "2022-02-27T11:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468130",
    "user": "klee"
}
```

First, thank you for your attention!

> Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? 

Extension of function fields. Yes, of course.

> Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. 

`conorm_*` methods use the data `self._embedF` that is computed in the initialization method. If we do not have this extension class `ConstantFieldExtension`, then `conorm_*` methods will take more time to compute the return value. This is inefficient because they are supposed to be invoked many times for a fixed extension (in the code for Jacobians of function fields I am developing).

> This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).

The name "constant field extension" is standard in the theory of function fields. And there are other "* extensions" like "Artin-Shreier", "Kummer", ..., which could be implemented in future in the same module `function_fields.extensions`.



---

archive/issue_comments_468131.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-27T11:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468131",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468132.json:
```json
{
    "body": "Okay, thank you. Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.",
    "created_at": "2022-02-28T04:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468132",
    "user": "tscrim"
}
```

Okay, thank you. Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.



---

archive/issue_comments_468133.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-28T04:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468133",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468134.json:
```json
{
    "body": "Replying to [comment:25 tscrim]:\n> Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.\n\nI will wait for a green patchbot before setting it positive myself. Thank you!",
    "created_at": "2022-02-28T04:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468134",
    "user": "klee"
}
```

Replying to [comment:25 tscrim]:
> Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.

I will wait for a green patchbot before setting it positive myself. Thank you!



---

archive/issue_comments_468135.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-03T02:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468135",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468136.json:
```json
{
    "body": "The patchbot is morally green.",
    "created_at": "2022-03-04T00:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468136",
    "user": "klee"
}
```

The patchbot is morally green.



---

archive/issue_comments_468137.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-04T00:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468137",
    "user": "klee"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_468138.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-09T23:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32838#issuecomment-468138",
    "user": "vbraun"
}
```

Resolution: fixed
