# Issue 17704: is_group_divisible_design enhancement

Issue created by migration from https://trac.sagemath.org/ticket/17941

Original creator: brett

Original creation time: 2015-03-12 20:28:24

CC:  ncohen brett danziger vdelecroix

Keywords: group divisible design, block design

Add group divisible Incidence Structure checking which does not require user to hand groups to the method?  What would be most efficient method to do this?


---

Comment by ncohen created at 2015-03-15 12:29:37

New commits:


---

Comment by ncohen created at 2015-03-15 12:29:37

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2015-05-16 09:57:36

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2015-05-16 09:57:36


```
sage -t --long src/sage/combinat/designs/designs_pyx.pyx
**********************************************************************
File "src/sage/combinat/designs/designs_pyx.pyx", line 207, in sage.combinat.designs.designs_pyx.is_group_divisible_design
Failed example:
    is_group_divisible_design([range(40)],[["e",2]],40,G=[5],lambd=1,verbose=True)
Expected:
    a group has size 40 while G=[5]
    False
Got:
    e does not belong to [0,...,39]
    False
**********************************************************************
```



---

Comment by git created at 2015-05-16 10:25:12

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by ncohen created at 2015-05-16 10:25:31

Sorry ! rebased and fixed.

Nathann


---

Comment by ncohen created at 2015-05-16 10:25:31

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-06-01 19:51:54

Changing status from needs_review to needs_info.


---

Comment by vdelecroix created at 2015-06-01 19:51:54

Hello,

Shouldn't

```
if matrix[i*n+j] == 0:
    ...
```

be

```
if matrix[i*n+j] < l:
   ...
```

This suggest to add an example with `lambd > 1`.

Vincent


---

Comment by ncohen created at 2015-06-02 10:43:27

Hello,

> Shouldn't
> {{{
> if matrix[i*n+j] == 0:
>     ...
> }}}
> be
> {{{
> if matrix[i*n+j] < l:
>    ...
> }}}

Both work. Consider the whole matrix: for the design to be a GDD, it must have two types of entries only: `0` or `l`.

1) If the matrix is a real GDD, you can see that the two are equivalent
2) If the matrix is not a GDD, the 'error' message will differ. (wrong size of groups, or a pair not present the right number of times, or two points of a group contained in the same set, ...)

> This suggest to add an example with `lambd > 1`.

Do you have an example in mind?

Nathann


---

Comment by ncohen created at 2015-06-02 10:43:27

Changing status from needs_info to needs_review.


---

Comment by git created at 2015-06-07 13:06:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-06-07 13:07:49

Replying to [comment:6 ncohen]:
> Hello,
> 
> > Shouldn't
> > <SNIP>
> 
> Both work. Consider the whole matrix: for the design to be a GDD, it must have two types of entries only: `0` or `l`.

right!

> > This suggest to add an example with `lambd > 1`.
> 
> Do you have an example in mind?

I added a dummy example.

I am done with the review. Tell me what you think of `â€‹7336c5c`.

Vincent


---

Comment by ncohen created at 2015-06-07 18:03:33

Oops. Thanks for the 'free' I forgot!

Nathann


---

Comment by ncohen created at 2015-06-07 18:03:33

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-06-08 20:28:48

Resolution: fixed
