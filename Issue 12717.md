# Issue 12717: Make is_irreducible() for polymomials consistent across all fields

archive/issues_012717.json:
```json
{
    "body": "Assignee: @aghitza\n\nKeywords: is_irreducible\n\nThis is from a bug reported on [the Sage Notebook bugreports](https://spreadsheets.google.com/pub?key=pCwvGVwSMxTzT6E2xNdo5fA) on Google docs. It has a very simple fix that is needed only for consistency.\n\n```\nsage: R.<x> = PolynomialRing(GF(2)); (x-x).is_irreducible()\nFalse\nsage: R.<x> = PolynomialRing(GF(3)); (x-x).is_irreducible()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n\n/home/punarbasu/<ipython console> in <module>()\n\n/home/punarbasu/Installations/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.so in sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint.is_irreducible (sage/rings/polynomial/polynomial_zmod_flint.c:14197)()\n\nValueError: must be nonzero\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/12889\n\n",
    "created_at": "2012-04-30T06:56:57Z",
    "labels": [
        "component: algebra",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.1",
    "title": "Make is_irreducible() for polymomials consistent across all fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12717",
    "user": "https://github.com/ppurka"
}
```
Assignee: @aghitza

Keywords: is_irreducible

This is from a bug reported on [the Sage Notebook bugreports](https://spreadsheets.google.com/pub?key=pCwvGVwSMxTzT6E2xNdo5fA) on Google docs. It has a very simple fix that is needed only for consistency.

```
sage: R.<x> = PolynomialRing(GF(2)); (x-x).is_irreducible()
False
sage: R.<x> = PolynomialRing(GF(3)); (x-x).is_irreducible()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

/home/punarbasu/<ipython console> in <module>()

/home/punarbasu/Installations/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.so in sage.rings.polynomial.polynomial_zmod_flint.Polynomial_zmod_flint.is_irreducible (sage/rings/polynomial/polynomial_zmod_flint.c:14197)()

ValueError: must be nonzero
```


Issue created by migration from https://trac.sagemath.org/ticket/12889





---

archive/issue_comments_152064.json:
```json
{
    "body": "Attachment [trac_12889-raise_error_on_zero_poly.patch](tarball://root/attachments/some-uuid/ticket12889/trac_12889-raise_error_on_zero_poly.patch) by @ppurka created at 2012-04-30 06:59:26\n\nApply to devel/sage",
    "created_at": "2012-04-30T06:59:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152064",
    "user": "https://github.com/ppurka"
}
```

Attachment [trac_12889-raise_error_on_zero_poly.patch](tarball://root/attachments/some-uuid/ticket12889/trac_12889-raise_error_on_zero_poly.patch) by @ppurka created at 2012-04-30 06:59:26

Apply to devel/sage



---

archive/issue_comments_152065.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-04-30T07:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152065",
    "user": "https://github.com/ppurka"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_152066.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-30T08:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152066",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_152067.json:
```json
{
    "body": "This fixes an incompatibility, but the wrong way round, in my opinion.  \nOver most fields it's perfectly valid to ask if the zero polynomial is irreducible (and the answer is, of course, no):\n\n```\nsage: fields = [QQ, RR, Qp(7), QuadraticField(-3), GF(2), GF(2^200, 'g'), GF(3^10, 'g'), GF(1009^2, 'g')]\nsage: [PolynomialRing(F, 'x')(0).is_irreducible() for F in fields]\n[False, False, False, False, False, False, False, False]\n```\n\nThis is just like\n\n```\nsage: ZZ(0).is_prime()\nFalse\n```\n",
    "created_at": "2012-04-30T08:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152067",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

This fixes an incompatibility, but the wrong way round, in my opinion.  
Over most fields it's perfectly valid to ask if the zero polynomial is irreducible (and the answer is, of course, no):

```
sage: fields = [QQ, RR, Qp(7), QuadraticField(-3), GF(2), GF(2^200, 'g'), GF(3^10, 'g'), GF(1009^2, 'g')]
sage: [PolynomialRing(F, 'x')(0).is_irreducible() for F in fields]
[False, False, False, False, False, False, False, False]
```

This is just like

```
sage: ZZ(0).is_prime()
False
```




---

archive/issue_comments_152068.json:
```json
{
    "body": "Ok. good. I will do the opposite then. Thanks for pointing this out. I should have checked fields other than GF(p).",
    "created_at": "2012-04-30T08:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152068",
    "user": "https://github.com/ppurka"
}
```

Ok. good. I will do the opposite then. Thanks for pointing this out. I should have checked fields other than GF(p).



---

archive/issue_comments_152069.json:
```json
{
    "body": "Apply to devel/sage",
    "created_at": "2012-04-30T14:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152069",
    "user": "https://github.com/ppurka"
}
```

Apply to devel/sage



---

archive/issue_comments_152070.json:
```json
{
    "body": "Attachment [trac_12889-make_is_irreducible_error_consistent.patch](tarball://root/attachments/some-uuid/ticket12889/trac_12889-make_is_irreducible_error_consistent.patch) by @ppurka created at 2012-04-30 14:31:23\n\nAdded new patch which brings `GF(p)` in line with the rest of the functions. I checked in `devel/sage/sage/rings` for other codes and all of them return `False` for `0.is_irreducible()`. Used this grep:\n\n```\n...tal/devel/sage/sage/rings\u00bb grep 'def .*is_irreducible(' **/*.py*\ninteger.pyx:    def is_irreducible(self):\nnumber_field/totallyreal_data.pyx:cdef int easy_is_irreducible(int *a, int n):\npolynomial/polynomial_element.pyx:    def is_irreducible(self):\npolynomial/polynomial_gf2x.pyx:    def is_irreducible(self):\npolynomial/polynomial_rational_flint.pyx:    def is_irreducible(self): \npolynomial/polynomial_zmod_flint.pyx:    def is_irreducible(self):\npolynomial/polynomial_zz_pex.pyx:    def is_irreducible(self, algorithm=\"fast_when_false\", iter=1):\n```\n",
    "created_at": "2012-04-30T14:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152070",
    "user": "https://github.com/ppurka"
}
```

Attachment [trac_12889-make_is_irreducible_error_consistent.patch](tarball://root/attachments/some-uuid/ticket12889/trac_12889-make_is_irreducible_error_consistent.patch) by @ppurka created at 2012-04-30 14:31:23

Added new patch which brings `GF(p)` in line with the rest of the functions. I checked in `devel/sage/sage/rings` for other codes and all of them return `False` for `0.is_irreducible()`. Used this grep:

```
...tal/devel/sage/sage/ringsÂ» grep 'def .*is_irreducible(' **/*.py*
integer.pyx:    def is_irreducible(self):
number_field/totallyreal_data.pyx:cdef int easy_is_irreducible(int *a, int n):
polynomial/polynomial_element.pyx:    def is_irreducible(self):
polynomial/polynomial_gf2x.pyx:    def is_irreducible(self):
polynomial/polynomial_rational_flint.pyx:    def is_irreducible(self): 
polynomial/polynomial_zmod_flint.pyx:    def is_irreducible(self):
polynomial/polynomial_zz_pex.pyx:    def is_irreducible(self, algorithm="fast_when_false", iter=1):
```




---

archive/issue_comments_152071.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-04-30T14:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152071",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_152072.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-02T07:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152072",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_152073.json:
```json
{
    "body": "This solves the problem.  Positive review.",
    "created_at": "2012-05-02T07:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152073",
    "user": "https://trac.sagemath.org/admin/accounts/users/fwclarke"
}
```

This solves the problem.  Positive review.



---

archive/issue_events_012690.json:
```json
{
    "actor": "@jdemeyer",
    "created_at": "2012-05-06T12:21:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12717#event-12690"
}
```



---

archive/issue_comments_152074.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-05-06T12:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12717#issuecomment-152074",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
