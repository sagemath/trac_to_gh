# Issue 20298: py3 print in structure

Issue created by migration from https://trac.sagemath.org/ticket/20535

Original creator: chapoton

Original creation time: 2016-05-02 15:18:28

another small step towards python3


---

Comment by chapoton created at 2016-05-02 15:19:17

New commits:


---

Comment by chapoton created at 2016-05-02 15:19:17

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-05-03 08:31:59

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2016-05-03 08:31:59

This changes the output:

```diff
-                print "Result lives in", res
+                print("Result lives in", res)
```



---

Comment by jdemeyer created at 2016-05-03 08:33:42

What's the purpose of the `print("x")` here? I don't see it, so I would remove it:

```
sage: print("x"); sage.structure.sage_object.unpickle_all(run_test_suite = True) # todo: not tested
```



---

Comment by git created at 2016-05-03 08:35:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-05-03 08:36:03

this print("x") is supposed to trigger a lot of doctest failures, see the lines above


---

Comment by jdemeyer created at 2016-05-03 08:38:03

This is also strange:

```
                 print("init_coerce() for ", type(self))
                 raise ZeroDivisionError("hello")
```


Can you change this to something like

```
                 raise AssertionError(f"unexpected call of init_coerce() for {type(self)}")
```



---

Comment by jdemeyer created at 2016-05-03 08:38:24

Replying to [comment:5 chapoton]:
> this print("x") is supposed to trigger a lot of doctest failures

No, that comment must be about running the test suites.


---

Comment by jdemeyer created at 2016-05-03 08:38:57

You can remove the trailing backslashes in

```
print('hash of {0} changed in Parent._refine_category_ during initialisation' \
```

and

```
print('hash of {0} changed in Parent._refine_category_ during refinement' \
```



---

Comment by git created at 2016-05-03 08:43:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2016-05-03 08:51:05

Concerning the backslashes, I literally meant just removing the backslashes (not putting the lines together). But that's really a detail.

Let's see what the patchbot says.


---

Comment by chapoton created at 2016-05-03 17:25:32

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2016-05-08 08:44:15

patchbot is green. Please review


---

Comment by jdemeyer created at 2016-05-09 09:12:35

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-05-18 18:20:55

Resolution: fixed
