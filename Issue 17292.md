# Issue 17292: upgrade latte_int to 1.7.2

archive/issues_017292.json:
```json
{
    "body": "time to update:\nhttps://www.math.ucdavis.edu/~latte/software.php\n\nIssue created by migration from https://trac.sagemath.org/ticket/17529\n\n",
    "created_at": "2014-12-19T16:01:19Z",
    "labels": [
        "component: packages: experimental"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "upgrade latte_int to 1.7.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17292",
    "user": "https://github.com/dimpase"
}
```
time to update:
https://www.math.ucdavis.edu/~latte/software.php

Issue created by migration from https://trac.sagemath.org/ticket/17529





---

archive/issue_comments_229909.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-19T16:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229909",
    "user": "https://github.com/dimpase"
}
```

New commits:



---

archive/issue_comments_229910.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-19T16:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229910",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_229911.json:
```json
{
    "body": "builds with `SAGE_CHECK` on.",
    "created_at": "2014-12-19T16:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229911",
    "user": "https://github.com/dimpase"
}
```

builds with `SAGE_CHECK` on.



---

archive/issue_comments_229912.json:
```json
{
    "body": "Hello !\n\nCan you tell me which commands you used to turn the original file into your bz2 file ?\n\nWhen I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`\n\nhttps://www.math.ucdavis.edu/~latte/software/packages/latte_current/\n\nNathann",
    "created_at": "2014-12-19T17:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229912",
    "user": "https://github.com/nathanncohen"
}
```

Hello !

Can you tell me which commands you used to turn the original file into your bz2 file ?

When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`

https://www.math.ucdavis.edu/~latte/software/packages/latte_current/

Nathann



---

archive/issue_comments_229913.json:
```json
{
    "body": "By the way, I believe that we are now advised to remove the 'history' section from the SPKG, as the commits are now all part of Sage's history.\n\nNathann",
    "created_at": "2014-12-19T17:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229913",
    "user": "https://github.com/nathanncohen"
}
```

By the way, I believe that we are now advised to remove the 'history' section from the SPKG, as the commits are now all part of Sage's history.

Nathann



---

archive/issue_comments_229914.json:
```json
{
    "body": "that's why you will find some spkg-src files in other directories, btw. Makes it easier to check.\n\nNathann",
    "created_at": "2014-12-19T17:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229914",
    "user": "https://github.com/nathanncohen"
}
```

that's why you will find some spkg-src files in other directories, btw. Makes it easier to check.

Nathann



---

archive/issue_comments_229915.json:
```json
{
    "body": "Replying to [comment:3 ncohen]:\n> Hello !\n> \n> Can you tell me which commands you used to turn the original file into your bz2 file ?\n> \n> When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`\n\n\nI have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...",
    "created_at": "2014-12-19T17:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229915",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:3 ncohen]:
> Hello !
> 
> Can you tell me which commands you used to turn the original file into your bz2 file ?
> 
> When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`


I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...



---

archive/issue_comments_229916.json:
```json
{
    "body": "Replying to [comment:3 ncohen]:\n> Hello !\n> \n> Can you tell me which commands you used to turn the original file into your bz2 file ?\n> \n> When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`\n\n\nyou might untar and compare the filetrees, right? :-)\nOK, I took the tar bundle here: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/latte-integrale-1.7.2.tar.gz\nuntarred it, then untarred the latte-int-1.7.2 tarball there, renamed the resulting directory latte_int-1.7.2, and tarred it. This is as described in SPKG.txt.\n\nI didn't bother to check the contents of the following:\n> \n> https://www.math.ucdavis.edu/~latte/software/packages/latte_current/\n\n\nbut the tarball `latte-int-1.7.2` there has the same md5 hash as the one in the bundle mentioned above.",
    "created_at": "2014-12-19T17:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229916",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:3 ncohen]:
> Hello !
> 
> Can you tell me which commands you used to turn the original file into your bz2 file ?
> 
> When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`


you might untar and compare the filetrees, right? :-)
OK, I took the tar bundle here: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/latte-integrale-1.7.2.tar.gz
untarred it, then untarred the latte-int-1.7.2 tarball there, renamed the resulting directory latte_int-1.7.2, and tarred it. This is as described in SPKG.txt.

I didn't bother to check the contents of the following:
> 
> https://www.math.ucdavis.edu/~latte/software/packages/latte_current/


but the tarball `latte-int-1.7.2` there has the same md5 hash as the one in the bundle mentioned above.



---

archive/issue_comments_229917.json:
```json
{
    "body": "Okay, I checked it with \"diff -r\" in the end `:-)`\n\nNo problem with the branch, and I could compile the spkg too. Could you drop the changelog, though ? It is not part of the 'new style' standard for SPKG.txt.\n\nBy the way, could you tell me where in Sage this spkg is used ? `O_o`\n\nNathann",
    "created_at": "2014-12-19T17:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229917",
    "user": "https://github.com/nathanncohen"
}
```

Okay, I checked it with "diff -r" in the end `:-)`

No problem with the branch, and I could compile the spkg too. Could you drop the changelog, though ? It is not part of the 'new style' standard for SPKG.txt.

By the way, could you tell me where in Sage this spkg is used ? `O_o`

Nathann



---

archive/issue_comments_229918.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-19T18:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229918",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229919.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-19T18:02:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229919",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_229920.json:
```json
{
    "body": "Okayyyyyy thanks !\n\nNathann",
    "created_at": "2014-12-19T18:02:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229920",
    "user": "https://github.com/nathanncohen"
}
```

Okayyyyyy thanks !

Nathann



---

archive/issue_comments_229921.json:
```json
{
    "body": "Replying to [comment:8 ncohen]:\n> Okay, I checked it with \"diff -r\" in the end `:-)`\n> \n> No problem with the branch, and I could compile the spkg too. Could you drop the changelog, though ? It is not part of the 'new style' standard for SPKG.txt.\n\n\ndone. \n\n> \n> By the way, could you tell me where in Sage this spkg is used ? `O_o`\n\n\nNowhere at the moment -- I'd like to get a student to work on an interface to it for integer point counting in polytopes.",
    "created_at": "2014-12-19T18:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229921",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:8 ncohen]:
> Okay, I checked it with "diff -r" in the end `:-)`
> 
> No problem with the branch, and I could compile the spkg too. Could you drop the changelog, though ? It is not part of the 'new style' standard for SPKG.txt.


done. 

> 
> By the way, could you tell me where in Sage this spkg is used ? `O_o`


Nowhere at the moment -- I'd like to get a student to work on an interface to it for integer point counting in polytopes.



---

archive/issue_comments_229922.json:
```json
{
    "body": "> Nowhere at the moment -- I'd like to get a student to work on an interface to it for integer point counting in polytopes. \n\n\nWell, couldn't you do that yourself ? Writing an interface is not a lot of work, really. It would definitely be easier than explaining it to a student `:-P`\n\nNathann",
    "created_at": "2014-12-19T18:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229922",
    "user": "https://github.com/nathanncohen"
}
```

> Nowhere at the moment -- I'd like to get a student to work on an interface to it for integer point counting in polytopes. 


Well, couldn't you do that yourself ? Writing an interface is not a lot of work, really. It would definitely be easier than explaining it to a student `:-P`

Nathann



---

archive/issue_comments_229923.json:
```json
{
    "body": "Replying to [comment:6 dimpase]:\n> I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...\n\n\n\nIt why not just renaming the upstream `latte-int-1.7.2.tar.gz` to `latte_int-1.7.2.tar.gz`, this will have the benefit to keep the hashsum intact ?",
    "created_at": "2014-12-19T18:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229923",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Replying to [comment:6 dimpase]:
> I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...



It why not just renaming the upstream `latte-int-1.7.2.tar.gz` to `latte_int-1.7.2.tar.gz`, this will have the benefit to keep the hashsum intact ?



---

archive/issue_comments_229924.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2014-12-19T18:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229924",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_229925.json:
```json
{
    "body": "Replying to [comment:13 tmonteil]:\n> Replying to [comment:6 dimpase]:\n> > I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...\n\n> \n> \n> It why not just renaming the upstream `latte-int-1.7.2.tar.gz` to `latte_int-1.7.2.tar.gz`, this will have the benefit to keep the hashsum intact ?\n\n\nthe path to the source code of the package has to match the name of the tarfile.",
    "created_at": "2014-12-19T21:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229925",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:13 tmonteil]:
> Replying to [comment:6 dimpase]:
> > I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...

> 
> 
> It why not just renaming the upstream `latte-int-1.7.2.tar.gz` to `latte_int-1.7.2.tar.gz`, this will have the benefit to keep the hashsum intact ?


the path to the source code of the package has to match the name of the tarfile.



---

archive/issue_comments_229926.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2014-12-19T21:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229926",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_229927.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-12-20T08:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229927",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_229928.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-12-20T09:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229928",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_229929.json:
```json
{
    "body": "I uploaded a proposition to keep the upstream tarball intact. I took the opportunity to update the license (which is claimed GPLv2 on their doc) and remove spkg-maintainer as discussed [here](https://groups.google.com/forum/#!searchin/sage-devel/maintainer/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ) ([gmane](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324)) and progressively done on other packages.",
    "created_at": "2014-12-20T09:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229929",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

I uploaded a proposition to keep the upstream tarball intact. I took the opportunity to update the license (which is claimed GPLv2 on their doc) and remove spkg-maintainer as discussed [here](https://groups.google.com/forum/#!searchin/sage-devel/maintainer/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ) ([gmane](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324)) and progressively done on other packages.



---

archive/issue_comments_229930.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-20T09:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229930",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229931.json:
```json
{
    "body": "Sorry i forgot to commit before pushing.",
    "created_at": "2014-12-20T09:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229931",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Sorry i forgot to commit before pushing.



---

archive/issue_comments_229932.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-20T10:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229932",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_229933.json:
```json
{
    "body": "OK, looks good",
    "created_at": "2014-12-20T10:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229933",
    "user": "https://github.com/dimpase"
}
```

OK, looks good



---

archive/issue_comments_229934.json:
```json
{
    "body": "How might this affect our polymake tickets - orthogonal?  I seem to recall latte was an extension or something of polymake but that is probably wrong...",
    "created_at": "2014-12-20T20:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229934",
    "user": "https://github.com/kcrisman"
}
```

How might this affect our polymake tickets - orthogonal?  I seem to recall latte was an extension or something of polymake but that is probably wrong...



---

archive/issue_comments_229935.json:
```json
{
    "body": "Replying to [comment:22 kcrisman]:\n> How might this affect our polymake tickets - orthogonal?  I seem to recall latte was an extension or something of polymake but that is probably wrong...\n\n\nPolymake can use lattE, sure, but lattE does not depend on it.",
    "created_at": "2014-12-20T22:24:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229935",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:22 kcrisman]:
> How might this affect our polymake tickets - orthogonal?  I seem to recall latte was an extension or something of polymake but that is probably wrong...


Polymake can use lattE, sure, but lattE does not depend on it.



---

archive/issue_events_050362.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-21T21:45:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17292#event-50362"
}
```



---

archive/issue_comments_229936.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-12-21T21:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17292#issuecomment-229936",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
