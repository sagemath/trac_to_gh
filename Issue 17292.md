# Issue 17292: upgrade latte_int to 1.7.2

Issue created by migration from https://trac.sagemath.org/ticket/17529

Original creator: dimpase

Original creation time: 2014-12-19 16:01:19

time to update:
https://www.math.ucdavis.edu/~latte/software.php


---

Comment by dimpase created at 2014-12-19 16:29:22

New commits:


---

Comment by dimpase created at 2014-12-19 16:33:14

Changing status from new to needs_review.


---

Comment by dimpase created at 2014-12-19 16:33:14

builds with `SAGE_CHECK` on.


---

Comment by ncohen created at 2014-12-19 17:17:45

Hello !

Can you tell me which commands you used to turn the original file into your bz2 file ?

When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`

https://www.math.ucdavis.edu/~latte/software/packages/latte_current/

Nathann


---

Comment by ncohen created at 2014-12-19 17:21:14

By the way, I believe that we are now advised to remove the 'history' section from the SPKG, as the commits are now all part of Sage's history.

Nathann


---

Comment by ncohen created at 2014-12-19 17:24:30

that's why you will find some spkg-src files in other directories, btw. Makes it easier to check.

Nathann


---

Comment by dimpase created at 2014-12-19 17:35:58

Replying to [comment:3 ncohen]:
> Hello !
> 
> Can you tell me which commands you used to turn the original file into your bz2 file ?
> 
> When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`

I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...


---

Comment by dimpase created at 2014-12-19 17:48:44

Replying to [comment:3 ncohen]:
> Hello !
> 
> Can you tell me which commands you used to turn the original file into your bz2 file ?
> 
> When I do the same I get a different hash. Theoretically, that makes me suspect you from having inserted dangerous code inside of the binary `:-P`

you might untar and compare the filetrees, right? :-)
OK, I took the tar bundle here: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/latte-integrale-1.7.2.tar.gz
untarred it, then untarred the latte-int-1.7.2 tarball there, renamed the resulting directory latte_int-1.7.2, and tarred it. This is as described in SPKG.txt.

I didn't bother to check the contents of the following:
> 
> https://www.math.ucdavis.edu/~latte/software/packages/latte_current/

but the tarball `latte-int-1.7.2` there has the same md5 hash as the one in the bundle mentioned above.


---

Comment by ncohen created at 2014-12-19 17:49:52

Okay, I checked it with "diff -r" in the end `:-)`

No problem with the branch, and I could compile the spkg too. Could you drop the changelog, though ? It is not part of the 'new style' standard for SPKG.txt.

By the way, could you tell me where in Sage this spkg is used ? `O_o`

Nathann


---

Comment by git created at 2014-12-19 18:01:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-12-19 18:02:13

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2014-12-19 18:02:13

Okayyyyyy thanks !

Nathann


---

Comment by dimpase created at 2014-12-19 18:03:48

Replying to [comment:8 ncohen]:
> Okay, I checked it with "diff -r" in the end `:-)`
> 
> No problem with the branch, and I could compile the spkg too. Could you drop the changelog, though ? It is not part of the 'new style' standard for SPKG.txt.

done. 

> 
> By the way, could you tell me where in Sage this spkg is used ? `O_o`

Nowhere at the moment -- I'd like to get a student to work on an interface to it for integer point counting in polytopes.


---

Comment by ncohen created at 2014-12-19 18:05:27

> Nowhere at the moment -- I'd like to get a student to work on an interface to it for integer point counting in polytopes. 

Well, couldn't you do that yourself ? Writing an interface is not a lot of work, really. It would definitely be easier than explaining it to a student `:-P`

Nathann


---

Comment by tmonteil created at 2014-12-19 18:24:27

Replying to [comment:6 dimpase]:
> I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...


It why not just renaming the upstream `latte-int-1.7.2.tar.gz` to `latte_int-1.7.2.tar.gz`, this will have the benefit to keep the hashsum intact ?


---

Comment by tmonteil created at 2014-12-19 18:24:27

Changing status from positive_review to needs_info.


---

Comment by dimpase created at 2014-12-19 21:28:37

Replying to [comment:13 tmonteil]:
> Replying to [comment:6 dimpase]:
> > I have to rename the directory `latte-int***/` to `latte_int***/` (because currently we cannot handle two or more dashes in the filename of the upstream tarball). And then different tar/bzip2 versions may produce different files...
> 
> 
> It why not just renaming the upstream `latte-int-1.7.2.tar.gz` to `latte_int-1.7.2.tar.gz`, this will have the benefit to keep the hashsum intact ?

the path to the source code of the package has to match the name of the tarfile.


---

Comment by dimpase created at 2014-12-19 21:28:37

Changing status from needs_info to positive_review.


---

Comment by tmonteil created at 2014-12-20 08:39:47

Changing status from positive_review to needs_work.


---

Comment by tmonteil created at 2014-12-20 09:24:11

Changing status from needs_work to needs_review.


---

Comment by tmonteil created at 2014-12-20 09:24:11

I uploaded a proposition to keep the upstream tarball intact. I took the opportunity to update the license (which is claimed GPLv2 on their doc) and remove spkg-maintainer as discussed [here](https://groups.google.com/forum/#!searchin/sage-devel/maintainer/sage-devel/-MZAvj8qxVk/EdbRFw0hGucJ) ([gmane](http://thread.gmane.org/gmane.comp.mathematics.sage.devel/75324)) and progressively done on other packages.


---

Comment by git created at 2014-12-20 09:42:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2014-12-20 09:43:35

Sorry i forgot to commit before pushing.


---

Comment by dimpase created at 2014-12-20 10:32:28

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2014-12-20 10:32:28

OK, looks good


---

Comment by kcrisman created at 2014-12-20 20:03:44

How might this affect our polymake tickets - orthogonal?  I seem to recall latte was an extension or something of polymake but that is probably wrong...


---

Comment by dimpase created at 2014-12-20 22:24:10

Replying to [comment:22 kcrisman]:
> How might this affect our polymake tickets - orthogonal?  I seem to recall latte was an extension or something of polymake but that is probably wrong...

Polymake can use lattE, sure, but lattE does not depend on it.


---

Comment by vbraun created at 2014-12-21 21:45:26

Resolution: fixed
