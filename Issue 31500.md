# Issue 31500: MatrixMorphism: add support for morphisms acting on the left

archive/issues_031500.json:
```json
{
    "body": "Morphisms between free modules over PIDs are always represented by matrices acting on the right. \n\nThe goal of this ticket is to modify matrix morphisms (`sage/modules/matrix_morphism.py`) by adding an optional keyword for left actions. This will have applications Ticket [ticket:25902] in which we build equivariant left-morphisms between G-lattices.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31737\n\n",
    "closed_at": "2021-08-29T09:36:47Z",
    "created_at": "2021-04-27T02:22:13Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "MatrixMorphism: add support for morphisms acting on the left",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31500",
    "user": "https://github.com/toadrush"
}
```
Morphisms between free modules over PIDs are always represented by matrices acting on the right. 

The goal of this ticket is to modify matrix morphisms (`sage/modules/matrix_morphism.py`) by adding an optional keyword for left actions. This will have applications Ticket [ticket:25902] in which we build equivariant left-morphisms between G-lattices.

Issue created by migration from https://trac.sagemath.org/ticket/31737





---

archive/issue_comments_449904.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-04-27T02:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449904",
    "user": "https://github.com/toadrush"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_449905.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to group theory.",
    "created_at": "2021-04-27T02:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449905",
    "user": "https://github.com/toadrush"
}
```

Changing component from PLEASE CHANGE to group theory.



---

archive/issue_comments_449906.json:
```json
{
    "body": "Changing component from group theory to linear algebra.",
    "created_at": "2021-04-27T19:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449906",
    "user": "https://github.com/roed314"
}
```

Changing component from group theory to linear algebra.



---

archive/issue_comments_449907.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-04T19:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449908.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-04T19:22:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449908",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449909.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T19:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449909",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449910.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T19:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449910",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449911.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T20:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449911",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449912.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-12T01:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449912",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449913.json:
```json
{
    "body": "Setting to needs review for patchbot.",
    "created_at": "2021-05-12T06:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449913",
    "user": "https://github.com/roed314"
}
```

Setting to needs review for patchbot.



---

archive/issue_comments_449914.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-12T06:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449914",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_449915.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-01T18:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449915",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449916.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-01T19:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449916",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449917.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-01T19:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449917",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449918.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-01T20:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449918",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449919.json:
```json
{
    "body": "Thanks for this! I'm a bit confused by the default `side` argument on line 72. I see that it defaults to `side='left'`, but based on the description, it seems like `side='right'` might be \"mathematical default.\" Does this make sense or am I missing something?",
    "created_at": "2021-06-02T13:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449919",
    "user": "https://github.com/trevorkarn"
}
```

Thanks for this! I'm a bit confused by the default `side` argument on line 72. I see that it defaults to `side='left'`, but based on the description, it seems like `side='right'` might be "mathematical default." Does this make sense or am I missing something?



---

archive/issue_comments_449920.json:
```json
{
    "body": "Hi, it is indeed a little confusing. The \"mathematical default\" is indeed `side='right'`, which corresponds to *left-multiplication*. The reason being that sage's ``side`` is the side of the vector relative to the matrix, whereas in mathematics we almost always refer to the side of the matrix relative to the vector. \n\nThe `side` argument already existed in the `MatrixMorphism.matrix` method, with this choice of left/right. The methods left_kernel/right_kernel, left_eigenspaces/right_eigenspaces also work with that convention. \n\n\nNow the small problem that remains is that the default is `side=\"left\"`, but the way some methods are coded are done the other way and taking the transpose. For instance, `matrix.kernel` takes the transpose and calls the `right_kernel` method, which feels a little off. After this ticket, methods of MatrixMorphism will call the appropriate one.\n\nI realise this text might sound confusing, that's because it is somewhat confusing.",
    "created_at": "2021-06-02T23:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449920",
    "user": "https://github.com/toadrush"
}
```

Hi, it is indeed a little confusing. The "mathematical default" is indeed `side='right'`, which corresponds to *left-multiplication*. The reason being that sage's ``side`` is the side of the vector relative to the matrix, whereas in mathematics we almost always refer to the side of the matrix relative to the vector. 

The `side` argument already existed in the `MatrixMorphism.matrix` method, with this choice of left/right. The methods left_kernel/right_kernel, left_eigenspaces/right_eigenspaces also work with that convention. 


Now the small problem that remains is that the default is `side="left"`, but the way some methods are coded are done the other way and taking the transpose. For instance, `matrix.kernel` takes the transpose and calls the `right_kernel` method, which feels a little off. After this ticket, methods of MatrixMorphism will call the appropriate one.

I realise this text might sound confusing, that's because it is somewhat confusing.



---

archive/issue_comments_449921.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-08T18:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449921",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449922.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-08T18:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449922",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449923.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-15T18:18:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449923",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449924.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-22T18:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449924",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449925.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-03T02:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449925",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449926.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-04T04:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449926",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_449927.json:
```json
{
    "body": "Needs rebase",
    "created_at": "2021-07-04T04:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449927",
    "user": "https://github.com/mkoeppe"
}
```

Needs rebase



---

archive/issue_comments_449928.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-06T00:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449928",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449929.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-06T18:22:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449929",
    "user": "https://github.com/toadrush"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_449930.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-13T19:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449930",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449931.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-13T19:50:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449931",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-13T21:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449932",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449933.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-08-03T20:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449933",
    "user": "https://github.com/roed314"
}
```

New commits:



---

archive/issue_comments_449934.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-03T20:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449934",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_083697.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-83697"
}
```



---

archive/issue_comments_449935.json:
```json
{
    "body": "The build error doesn't seem to be from the changes in this ticket.",
    "created_at": "2021-08-17T18:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449935",
    "user": "https://github.com/roed314"
}
```

The build error doesn't seem to be from the changes in this ticket.



---

archive/issue_events_083698.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-29T09:36:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-83698"
}
```



---

archive/issue_comments_449936.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-08-29T09:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-449936",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
