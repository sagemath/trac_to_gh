# Issue 32288: Regression: wrong infinity returned by limit with fricas

Issue created by migration from https://trac.sagemath.org/ticket/32525

Original creator: mantepse

Original creation time: 2021-09-16 13:09:48


```
sage: limit(e^(-1/x), x=0, dir='left', algorithm='fricas') 
plusInfinity()
```

should be

```
+Infinity
```



---

Comment by mantepse created at 2021-09-16 13:10:01

Changing keywords from "" to "FriCAS".


---

Comment by mantepse created at 2021-09-16 13:43:05

The reason is as follows:

```
sage: fricas.get_InputForm(f._name)
'(plusInfinity)'
```

means, that `plusInfinity` is a (nullary) function here.
Therefore, in `_parse_other`, `make_fun` is `True`, and `FRICAS_CONSTANTS` never kicks in:

```python
        if make_fun:
            try:
                e = symbol_table["fricas"][e]
            except KeyError:
                e = function(e)
        else:
            try:
                e = ZZ(e)
            except TypeError:
                try:
                    e = float(e)
                except ValueError:
                    try:
                        e = FRICAS_CONSTANTS[e]
                    except KeyError:
                        e = var(e.replace("%", "_"))
```


I wonder whether `%plusInfinity` was a constant in FriCAS before?  Or, alternatively, why this doctest passed?


---

Comment by git created at 2021-09-17 12:08:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2021-09-17 12:09:21

Changing status from new to needs_review.


---

Comment by mantepse created at 2021-09-17 14:27:56

(This needs a fricas patchbot)


---

Comment by chapoton created at 2021-09-17 14:40:49

# %plusInfinity::INFORM is (minusInfinity) ????


---

Comment by mantepse created at 2021-09-17 15:04:56

Hi Frederic!

I can only guess what your question is.  More elaborate:
`in FriCAS, %plusInfinity::INFORM is (minusInfinity), so minusInfinity is a nullary function in FriCAS`.

The comment is there, because this is not the case for pi: `%pi::INFORM is %pi, so %pi is a constant in FriCAS`


---

Comment by mantepse created at 2021-09-22 11:18:38

ping?


---

Comment by chapoton created at 2021-09-22 11:55:31

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2021-09-22 11:55:31

ok, let it be


---

Comment by mantepse created at 2021-09-23 11:59:41

Thank you!  Did you run the test suite with fricas?


---

Comment by chapoton created at 2021-09-23 15:30:09

only on the modified file


---

Comment by mantepse created at 2021-09-23 15:48:00

I think it would be good to run the full suite.  (I did on my installation, but I possibly do not have the standard FriCAS)


---

Comment by vbraun created at 2021-10-10 10:16:49

Resolution: fixed
