# Issue 11520: Creating a multiedged graph gives wrong error

Issue created by migration from https://trac.sagemath.org/ticket/11692

Original creator: iandrus

Original creation time: 2011-08-16 09:40:30

Assignee: iandrus

When creating a multiedged graph with multiedges=False it fails when trying to create an exception thereby leading to an unhelpful error message.  We merely have to import choice for it to function correctly.


```
sage: Graph([[1,2],[1,2]],multiedges=False)
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)

/Users/gvol/<ipython console> in <module>()

/Users/gvol/vcs/cur-sage/local/lib/python2.6/site-packages/sage/graphs/graph.py in __init__(self, data, pos, loops, format, boundary, weighted, implementation, sparse, vertex_labels, **kwds)
   1127                 if len(uniq(data[u])) != len(data[u]):
   1128                     if multiedges is False:
-> 1129                         raise ValueError("Non-multigraph input dict has multiple edges (%s,%s)"%(u, choice([v for v in data[u] if data[u].count(v) > 1])))
   1130                     if multiedges is None: multiedges = True
   1131             if multiedges is None: multiedges = False

NameError: global name 'choice' is not defined
```



---

Comment by iandrus created at 2011-08-16 09:44:29

Changing status from new to needs_review.


---

Attachment


---

Comment by ncohen created at 2011-09-11 14:48:52

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2011-09-11 14:48:52

Gloops.. Well done `;-)`

Applies fine, passes tests --> Good to go !

THaaaaaaaaaaaaaaaanks !

Nathann


---

Comment by leif created at 2011-09-17 05:09:08

Resolution: fixed
