# Issue 14048: Implementation of quantum LS paths

archive/issues_014048.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  sage-combinat\n\nKeywords: crystals, KR crystals\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14252\n\n",
    "created_at": "2013-03-11T03:37:43Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "enhancement"
    ],
    "title": "Implementation of quantum LS paths",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14048",
    "user": "aschilling"
}
```
Assignee: tbd

CC:  sage-combinat

Keywords: crystals, KR crystals



Issue created by migration from https://trac.sagemath.org/ticket/14252





---

archive/issue_comments_175679.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2013-03-11T03:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175679",
    "user": "aschilling"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_175680.json:
```json
{
    "body": "Changing assignee from tbd to sage-combinat.",
    "created_at": "2013-03-11T03:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175680",
    "user": "aschilling"
}
```

Changing assignee from tbd to sage-combinat.



---

archive/issue_comments_175681.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-12T02:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175681",
    "user": "aschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_175682.json:
```json
{
    "body": "I propose the implementation of the crystal class \n\nCrystalOfProjectedLevelZeroLSPaths\n\nthat takes as input an affine Cartan type and an element of its\nfinite weight space.\nThe result should be paths in the finite weight space,\ntogether with a function that can recover the head and tail energy.\nThese crystals should know that they are finite as well.\n\nKirillovReshetikhinCrystalFromLSPaths can be an instance of it.\n\nOne could doctest CrystalOfProjectedLevelZeroLSPaths\nby isomorphism with tensor products of its single-column versions.\n\nAnother interesting function would be to write the Naito-Sagaki lift from\nKirillovReshetikhinCrystalFromLSPaths\nto the level zero LS paths living in the level zero affine weight lattice\n(with the null root). Perhaps that is the way the energy function should be\nimplemented.",
    "created_at": "2013-03-12T13:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175682",
    "user": "mshimo"
}
```

I propose the implementation of the crystal class 

CrystalOfProjectedLevelZeroLSPaths

that takes as input an affine Cartan type and an element of its
finite weight space.
The result should be paths in the finite weight space,
together with a function that can recover the head and tail energy.
These crystals should know that they are finite as well.

KirillovReshetikhinCrystalFromLSPaths can be an instance of it.

One could doctest CrystalOfProjectedLevelZeroLSPaths
by isomorphism with tensor products of its single-column versions.

Another interesting function would be to write the Naito-Sagaki lift from
KirillovReshetikhinCrystalFromLSPaths
to the level zero LS paths living in the level zero affine weight lattice
(with the null root). Perhaps that is the way the energy function should be
implemented.



---

archive/issue_comments_175683.json:
```json
{
    "body": "Hi Mark,\n\nThanks for the comments! The CrystalOfProjectedLevelZeroLSPaths are now implemented and I added tests to compare with tensor products of KR crystals. The energy functions are still missing (but can be added).\n\nAnne",
    "created_at": "2013-03-13T04:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175683",
    "user": "aschilling"
}
```

Hi Mark,

Thanks for the comments! The CrystalOfProjectedLevelZeroLSPaths are now implemented and I added tests to compare with tensor products of KR crystals. The energy functions are still missing (but can be added).

Anne



---

archive/issue_comments_175684.json:
```json
{
    "body": "Hi Mark,\n\nThe energy function and one-dimensional configuration sums are now implemented. Could you please review the patch?\n\nThanks,\n\nAnne",
    "created_at": "2013-04-03T22:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175684",
    "user": "aschilling"
}
```

Hi Mark,

The energy function and one-dimensional configuration sums are now implemented. Could you please review the patch?

Thanks,

Anne



---

archive/issue_comments_175685.json:
```json
{
    "body": "Hi Travis,\n\nI made the changes we discussed by e-mail.\n\nAnne",
    "created_at": "2013-04-12T14:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175685",
    "user": "aschilling"
}
```

Hi Travis,

I made the changes we discussed by e-mail.

Anne



---

archive/issue_comments_175686.json:
```json
{
    "body": "Added a sanity check for the user input!\n\nAnne",
    "created_at": "2013-04-12T18:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175686",
    "user": "aschilling"
}
```

Added a sanity check for the user input!

Anne



---

archive/issue_comments_175687.json:
```json
{
    "body": "Three more small things:\n\n- On lines 50-52 of `littelmann_paths.py`, the extra lines to the inputs list need to be de-indented by 2 spaces (to line up with the first non-whitespace character of the item).\n- On line 813, could you use the (relatively new) arXiv linking: `:arXiv:`1211.6019``\n- Should `KirillovReshetikhinCrystalFromLSPaths` be imported into the global namespace?\n\nOther than those things, this is a positive review.\n\nBest,\n\nTravis",
    "created_at": "2013-04-13T23:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175687",
    "user": "tscrim"
}
```

Three more small things:

- On lines 50-52 of `littelmann_paths.py`, the extra lines to the inputs list need to be de-indented by 2 spaces (to line up with the first non-whitespace character of the item).
- On line 813, could you use the (relatively new) arXiv linking: `:arXiv:`1211.6019``
- Should `KirillovReshetikhinCrystalFromLSPaths` be imported into the global namespace?

Other than those things, this is a positive review.

Best,

Travis



---

archive/issue_comments_175688.json:
```json
{
    "body": "> Three more small things:\n> \n> - On lines 50-52 of `littelmann_paths.py`, the extra lines to the inputs list need to be de-indented by 2 spaces (to line up with the first non-whitespace character of the item).\n\nDone.\n\n> - On line 813, could you use the (relatively new) arXiv linking: `:arXiv:`1211.6019``\n\nDone. I also changed the two things requested by e-mail.\n\n> - Should `KirillovReshetikhinCrystalFromLSPaths` be imported into the global namespace?\n\nSince the eventual aim is to link to this class from KirillovReshetikhinCrystal itself, I think it is better to leave it as is and not import this into the namespace for right now.\n\nAnne",
    "created_at": "2013-04-14T05:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175688",
    "user": "aschilling"
}
```

> Three more small things:
> 
> - On lines 50-52 of `littelmann_paths.py`, the extra lines to the inputs list need to be de-indented by 2 spaces (to line up with the first non-whitespace character of the item).

Done.

> - On line 813, could you use the (relatively new) arXiv linking: `:arXiv:`1211.6019``

Done. I also changed the two things requested by e-mail.

> - Should `KirillovReshetikhinCrystalFromLSPaths` be imported into the global namespace?

Since the eventual aim is to link to this class from KirillovReshetikhinCrystal itself, I think it is better to leave it as is and not import this into the namespace for right now.

Anne



---

archive/issue_comments_175689.json:
```json
{
    "body": "Okay. Looks good to me now. Thank you.\n\nTravis",
    "created_at": "2013-04-14T11:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175689",
    "user": "tscrim"
}
```

Okay. Looks good to me now. Thank you.

Travis



---

archive/issue_comments_175690.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-14T11:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175690",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_175691.json:
```json
{
    "body": "Thanks Travis!",
    "created_at": "2013-04-14T12:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175691",
    "user": "aschilling"
}
```

Thanks Travis!



---

archive/issue_comments_175692.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-04-15T11:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175692",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_175693.json:
```json
{
    "body": "\n```\nsage -t devel/sage/sage/categories/weyl_groups.py\n**********************************************************************\nFile \"devel/sage/sage/categories/weyl_groups.py\", line 118, in sage.categories.weyl_groups.WeylGroups.ParentMethods.quantum_bruhat_graph\nFailed example:\n    g = W.quantum_bruhat_graph([1,3])\nException raised:\n    Traceback (most recent call last):\n      File \"/mazur/release/merger/sage-5.10.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 466, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/mazur/release/merger/sage-5.10.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 825, in execute\n        exec compiled in globs\n      File \"<doctest sage.categories.weyl_groups.WeylGroups.ParentMethods.quantum_bruhat_graph[1]>\", line 1, in <module>\n        g = W.quantum_bruhat_graph([Integer(1),Integer(3)])\n      File \"cachefunc.pyx\", line 1460, in sage.misc.cachefunc.CachedMethodCaller.__call__ (sage/misc/cachefunc.c:7292)\n    TypeError: unhashable type: 'list'\n**********************************************************************\n```\n",
    "created_at": "2013-04-15T11:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175693",
    "user": "jdemeyer"
}
```


```
sage -t devel/sage/sage/categories/weyl_groups.py
**********************************************************************
File "devel/sage/sage/categories/weyl_groups.py", line 118, in sage.categories.weyl_groups.WeylGroups.ParentMethods.quantum_bruhat_graph
Failed example:
    g = W.quantum_bruhat_graph([1,3])
Exception raised:
    Traceback (most recent call last):
      File "/mazur/release/merger/sage-5.10.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 466, in _run
        self.execute(example, compiled, test.globs)
      File "/mazur/release/merger/sage-5.10.beta0/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 825, in execute
        exec compiled in globs
      File "<doctest sage.categories.weyl_groups.WeylGroups.ParentMethods.quantum_bruhat_graph[1]>", line 1, in <module>
        g = W.quantum_bruhat_graph([Integer(1),Integer(3)])
      File "cachefunc.pyx", line 1460, in sage.misc.cachefunc.CachedMethodCaller.__call__ (sage/misc/cachefunc.c:7292)
    TypeError: unhashable type: 'list'
**********************************************************************
```




---

archive/issue_comments_175694.json:
```json
{
    "body": "Attachment [trac_14252-KRLS-as.patch](tarball://root/attachments/some-uuid/ticket14252/trac_14252-KRLS-as.patch) by aschilling created at 2013-04-15 15:40:22",
    "created_at": "2013-04-15T15:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175694",
    "user": "aschilling"
}
```

Attachment [trac_14252-KRLS-as.patch](tarball://root/attachments/some-uuid/ticket14252/trac_14252-KRLS-as.patch) by aschilling created at 2013-04-15 15:40:22



---

archive/issue_comments_175695.json:
```json
{
    "body": "Fixed the failing doctests. The quantum Bruhat graph now takes a tuple as input.\n\nAnne",
    "created_at": "2013-04-15T15:42:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175695",
    "user": "aschilling"
}
```

Fixed the failing doctests. The quantum Bruhat graph now takes a tuple as input.

Anne



---

archive/issue_comments_175696.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-04-15T15:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175696",
    "user": "aschilling"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_175697.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-15T18:27:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175697",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_175698.json:
```json
{
    "body": "Changes also look good to me as well.",
    "created_at": "2013-04-15T18:27:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175698",
    "user": "tscrim"
}
```

Changes also look good to me as well.



---

archive/issue_comments_175699.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-23T09:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14048",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14048#issuecomment-175699",
    "user": "jdemeyer"
}
```

Resolution: fixed
