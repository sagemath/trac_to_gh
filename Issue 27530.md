# Issue 27530: py3: fix regression in qqbar.py

Issue created by migration from https://trac.sagemath.org/ticket/27767

Original creator: chapoton

Original creation time: 2019-05-04 18:04:12

CC:  vdelecroix tscrim




---

Comment by chapoton created at 2019-05-04 18:04:48

New commits:


---

Comment by chapoton created at 2019-05-04 18:05:00

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2019-05-04 22:23:29

Would this change be better? Do we want to discourage the use of `map` when we want to get a list as a result?

```diff
diff --git a/src/sage/rings/qqbar.py b/src/sage/rings/qqbar.py
index b582dd7a77..37640f5b34 100644
--- a/src/sage/rings/qqbar.py
+++ b/src/sage/rings/qqbar.py
@@ -2278,7 +2278,7 @@ def number_field_elements_from_algebraics(numbers, minimal=False, same_field=Fal
 
         # embeds the numbers
         inter_hom = fld.hom([embedded_field.gen(0)])
-        nums = map(inter_hom, nums)
+        nums = [inter_hom(n) for n in nums]
 
         # get the field and homomorphism
         hom = embedded_field.hom([gen.root_as_algebraic()])
```



---

Comment by git created at 2019-05-05 05:50:30

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2019-05-05 05:50:42

done, thx


---

Comment by jipilab created at 2019-05-05 10:44:50

Sorry for my mistake. Thanks for detecting this.

I take this as a signal to switch to python3 to develop...


---

Comment by jipilab created at 2019-05-05 10:44:50

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-05-08 15:50:51

Resolution: fixed
