# Issue 33817: Update documentation for EnumeratedFamily

Issue created by migration from https://trac.sagemath.org/ticket/34054

Original creator: tkarn

Original creation time: 2022-06-22 19:32:51

CC:  tscrim

Keywords: gsoc2022 documentation family

The current documentation implies that the index set must be finite. This is not the case:


```
sage: F = Family(ZZ)
sage: type(F)
<class 'sage.sets.family.EnumeratedFamily_with_category'>
```



---

Comment by tkarn created at 2022-06-22 19:33:15

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-06-23 00:25:23

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2022-06-23 00:25:23

Changing component from PLEASE CHANGE to documentation.


---

Comment by tscrim created at 2022-06-23 00:25:23

I am not sure the documentation is wrong, but it might be a slight abuse of notation. In particular `|ZZ|` is aleph<sub>0</sub>, and aleph<sub>0</sub> - 1 = aleph<sub>0</sub> (well, this might make slightly more sense in terms of ordinals rather than cardinals). So it is saying it is indexed by `{0, 1, ...}`.

Now your change definitely is wrong because it is not indexed by *Z* but by *N* (with 0) in the infinite case. Don't let this run for too long:

```
sage: F = Family(ZZ)
sage: F[-1]
```

as the generic `unrank()` from the category doesn't protect against bad input (for infinite enuemrated sets, IMO, it should).


---

Comment by git created at 2022-08-10 00:54:43

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2022-08-10 00:55:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tkarn created at 2022-08-10 00:56:42

I changed this to reflect your comment about `ZZ[-1]`, and then saw that `_unrank_from_iterator` expects a positive rank, but does not check for it, so I added the check there.


---

Comment by tkarn created at 2022-08-10 00:56:54

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2022-08-10 01:40:20

There is no reason for a separate `TESTS::` block. I would also put the `ZZ` test below the `C` one to have better grouping of the tests.


---

Comment by git created at 2022-08-10 15:14:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-16 17:20:18


```
+            if r < 0:
+                raise ValueError("the value must be greater than or equal to 0")
```

I'd suggest to change from "value" to "rank" here.

Otherwise LGTM


---

Comment by mkoeppe created at 2022-08-16 17:21:22

Maybe it would also be a good idea to check that it's an integer?


---

Comment by git created at 2022-08-17 19:47:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-17 20:07:06

I would rephrase "must be between %s and %s inclusive" -> "must be in the range from %s to %s"


---

Comment by mkoeppe created at 2022-08-17 20:08:06

I know that this is not from your ticket, but this:

```
             counter = 0
             for u in self:
                 if counter == r:
                     return u
                 counter += 1
```

could be rewritten using `enumerate`


---

Comment by git created at 2022-08-17 20:43:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-17 21:04:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-18 00:35:19

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-08-25 20:23:47

Changing priority from major to minor.


---

Comment by vbraun created at 2022-08-30 19:04:53

Resolution: fixed
