# Issue 15847: matplotlib dependency on pkgconf

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2014-04-07 14:47:55

CC:  ppurka fbissey kcrisman slabbe




---

Comment by vbraun created at 2014-04-07 14:53:03

Changing component from PLEASE CHANGE to packages: standard.


---

Comment by vbraun created at 2014-04-07 14:53:03

Changing status from new to needs_review.


---

Comment by vbraun created at 2014-04-07 14:53:03

New commits:


---

Comment by vbraun created at 2014-04-07 14:53:03

Changing type from PLEASE CHANGE to defect.


---

Comment by vbraun created at 2014-04-07 15:04:24

Changing priority from major to blocker.


---

Comment by vbraun created at 2014-04-07 15:15:22

Changing keywords from "" to "days57".


---

Comment by kcrisman created at 2014-04-07 16:41:28

See also #16047.  Thanks for tracking this down - was this simply a typo, then, in some sense?  Interesting.  Some people may also do serial builds due to heavy load or forgetting to set env vars, so this is good in any case.


---

Comment by vbraun created at 2014-04-07 16:47:22

Yes, I was talking to Sebastien about #16047. I did a serial install and it worked with this ticket.


---

Comment by jhpalmieri created at 2014-04-07 16:58:39

It's probably my fault. I think I read the descriptions of the `pkgconf` and `pkgconfig` packages and assumed, based on those, that `pkgconfig` would have `pkgconf` as a dependency. But it doesn't.


---

Comment by vbraun created at 2014-04-07 17:24:47

pkgconf isn't a build-time dependency for the pkgconfig python library afaik. Only runtime.


---

Comment by jhpalmieri created at 2014-04-07 20:36:36

I see the same as [comment:7 above]: `make build-serial` failed without this because matplotlib tried to build with only `pkgconfig`, not `pkgconf`. With this, `make build-serial` worked.


---

Comment by jhpalmieri created at 2014-04-07 20:36:36

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2014-04-07 21:40:28

Doing `sage -f pkgconf` then `make` (serial) again allowed me to complete the compilation of beta6. So I confirm that the bug I [reported](https://groups.google.com/d/msg/sage-release/6s_fRG2xmRA/Z9uQY-c6X1IJ) on sage-release is fixed by adding pkgconf as a dependency to matplotlib. For removing `pkgconfig` as a dependency for matplotlib, I can't say anything but John does. So positive review!

John beated me for the positive review because I lost some time while preparing and eating [Pâté chinois](http://en.wikipedia.org/wiki/P%C3%A2t%C3%A9_chinois) at Sage Days 57:)


---

Comment by fbissey created at 2014-04-07 21:57:20

And it got right past me when I was looking at original matplotlib upgrade ticket. Didn't notice one bit.


---

Comment by vbraun created at 2014-04-08 10:17:35

Resolution: fixed
