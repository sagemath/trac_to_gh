# Issue 15847: matplotlib dependency on pkgconf

archive/issues_015847.json:
```json
{
    "body": "CC:  @ppurka @kiwifb @kcrisman @seblabbe\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16084\n\n",
    "created_at": "2014-04-07T14:47:55Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "matplotlib dependency on pkgconf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15847",
    "user": "https://github.com/vbraun"
}
```
CC:  @ppurka @kiwifb @kcrisman @seblabbe



Issue created by migration from https://trac.sagemath.org/ticket/16084





---

archive/issue_comments_205492.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: standard.",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205492",
    "user": "https://github.com/vbraun"
}
```

Changing component from PLEASE CHANGE to packages: standard.



---

archive/issue_comments_205493.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205493",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_205494.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205494",
    "user": "https://github.com/vbraun"
}
```

New commits:



---

archive/issue_comments_205495.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205495",
    "user": "https://github.com/vbraun"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_205496.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2014-04-07T15:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205496",
    "user": "https://github.com/vbraun"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_205497.json:
```json
{
    "body": "Changing keywords from \"\" to \"days57\".",
    "created_at": "2014-04-07T15:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205497",
    "user": "https://github.com/vbraun"
}
```

Changing keywords from "" to "days57".



---

archive/issue_comments_205498.json:
```json
{
    "body": "See also #16047.  Thanks for tracking this down - was this simply a typo, then, in some sense?  Interesting.  Some people may also do serial builds due to heavy load or forgetting to set env vars, so this is good in any case.",
    "created_at": "2014-04-07T16:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205498",
    "user": "https://github.com/kcrisman"
}
```

See also #16047.  Thanks for tracking this down - was this simply a typo, then, in some sense?  Interesting.  Some people may also do serial builds due to heavy load or forgetting to set env vars, so this is good in any case.



---

archive/issue_comments_205499.json:
```json
{
    "body": "Yes, I was talking to Sebastien about #16047. I did a serial install and it worked with this ticket.",
    "created_at": "2014-04-07T16:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205499",
    "user": "https://github.com/vbraun"
}
```

Yes, I was talking to Sebastien about #16047. I did a serial install and it worked with this ticket.



---

archive/issue_comments_205500.json:
```json
{
    "body": "It's probably my fault. I think I read the descriptions of the `pkgconf` and `pkgconfig` packages and assumed, based on those, that `pkgconfig` would have `pkgconf` as a dependency. But it doesn't.",
    "created_at": "2014-04-07T16:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205500",
    "user": "https://github.com/jhpalmieri"
}
```

It's probably my fault. I think I read the descriptions of the `pkgconf` and `pkgconfig` packages and assumed, based on those, that `pkgconfig` would have `pkgconf` as a dependency. But it doesn't.



---

archive/issue_comments_205501.json:
```json
{
    "body": "pkgconf isn't a build-time dependency for the pkgconfig python library afaik. Only runtime.",
    "created_at": "2014-04-07T17:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205501",
    "user": "https://github.com/vbraun"
}
```

pkgconf isn't a build-time dependency for the pkgconfig python library afaik. Only runtime.



---

archive/issue_comments_205502.json:
```json
{
    "body": "I see the same as [comment:7 above]: `make build-serial` failed without this because matplotlib tried to build with only `pkgconfig`, not `pkgconf`. With this, `make build-serial` worked.",
    "created_at": "2014-04-07T20:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205502",
    "user": "https://github.com/jhpalmieri"
}
```

I see the same as [comment:7 above]: `make build-serial` failed without this because matplotlib tried to build with only `pkgconfig`, not `pkgconf`. With this, `make build-serial` worked.



---

archive/issue_comments_205503.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-07T20:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205503",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_205504.json:
```json
{
    "body": "Doing `sage -f pkgconf` then `make` (serial) again allowed me to complete the compilation of beta6. So I confirm that the bug I [reported](https://groups.google.com/d/msg/sage-release/6s_fRG2xmRA/Z9uQY-c6X1IJ) on sage-release is fixed by adding pkgconf as a dependency to matplotlib. For removing `pkgconfig` as a dependency for matplotlib, I can't say anything but John does. So positive review!\n\nJohn beated me for the positive review because I lost some time while preparing and eating [P\u00e2t\u00e9 chinois](http://en.wikipedia.org/wiki/P%C3%A2t%C3%A9_chinois) at Sage Days 57:)",
    "created_at": "2014-04-07T21:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205504",
    "user": "https://github.com/seblabbe"
}
```

Doing `sage -f pkgconf` then `make` (serial) again allowed me to complete the compilation of beta6. So I confirm that the bug I [reported](https://groups.google.com/d/msg/sage-release/6s_fRG2xmRA/Z9uQY-c6X1IJ) on sage-release is fixed by adding pkgconf as a dependency to matplotlib. For removing `pkgconfig` as a dependency for matplotlib, I can't say anything but John does. So positive review!

John beated me for the positive review because I lost some time while preparing and eating [Pâté chinois](http://en.wikipedia.org/wiki/P%C3%A2t%C3%A9_chinois) at Sage Days 57:)



---

archive/issue_comments_205505.json:
```json
{
    "body": "And it got right past me when I was looking at original matplotlib upgrade ticket. Didn't notice one bit.",
    "created_at": "2014-04-07T21:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205505",
    "user": "https://github.com/kiwifb"
}
```

And it got right past me when I was looking at original matplotlib upgrade ticket. Didn't notice one bit.



---

archive/issue_events_047370.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-08T10:17:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15847#event-47370"
}
```



---

archive/issue_comments_205506.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-08T10:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205506",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
