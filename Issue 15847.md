# Issue 15847: matplotlib dependency on pkgconf

archive/issues_015847.json:
```json
{
    "body": "CC:  ppurka fbissey kcrisman slabbe\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16084\n\n",
    "created_at": "2014-04-07T14:47:55Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "matplotlib dependency on pkgconf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15847",
    "user": "vbraun"
}
```
CC:  ppurka fbissey kcrisman slabbe



Issue created by migration from https://trac.sagemath.org/ticket/16084





---

archive/issue_comments_205765.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: standard.",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205765",
    "user": "vbraun"
}
```

Changing component from PLEASE CHANGE to packages: standard.



---

archive/issue_comments_205766.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205766",
    "user": "vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_205767.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205767",
    "user": "vbraun"
}
```

New commits:



---

archive/issue_comments_205768.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2014-04-07T14:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205768",
    "user": "vbraun"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_205769.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2014-04-07T15:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205769",
    "user": "vbraun"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_205770.json:
```json
{
    "body": "Changing keywords from \"\" to \"days57\".",
    "created_at": "2014-04-07T15:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205770",
    "user": "vbraun"
}
```

Changing keywords from "" to "days57".



---

archive/issue_comments_205771.json:
```json
{
    "body": "See also #16047.  Thanks for tracking this down - was this simply a typo, then, in some sense?  Interesting.  Some people may also do serial builds due to heavy load or forgetting to set env vars, so this is good in any case.",
    "created_at": "2014-04-07T16:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205771",
    "user": "kcrisman"
}
```

See also #16047.  Thanks for tracking this down - was this simply a typo, then, in some sense?  Interesting.  Some people may also do serial builds due to heavy load or forgetting to set env vars, so this is good in any case.



---

archive/issue_comments_205772.json:
```json
{
    "body": "Yes, I was talking to Sebastien about #16047. I did a serial install and it worked with this ticket.",
    "created_at": "2014-04-07T16:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205772",
    "user": "vbraun"
}
```

Yes, I was talking to Sebastien about #16047. I did a serial install and it worked with this ticket.



---

archive/issue_comments_205773.json:
```json
{
    "body": "It's probably my fault. I think I read the descriptions of the `pkgconf` and `pkgconfig` packages and assumed, based on those, that `pkgconfig` would have `pkgconf` as a dependency. But it doesn't.",
    "created_at": "2014-04-07T16:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205773",
    "user": "jhpalmieri"
}
```

It's probably my fault. I think I read the descriptions of the `pkgconf` and `pkgconfig` packages and assumed, based on those, that `pkgconfig` would have `pkgconf` as a dependency. But it doesn't.



---

archive/issue_comments_205774.json:
```json
{
    "body": "pkgconf isn't a build-time dependency for the pkgconfig python library afaik. Only runtime.",
    "created_at": "2014-04-07T17:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205774",
    "user": "vbraun"
}
```

pkgconf isn't a build-time dependency for the pkgconfig python library afaik. Only runtime.



---

archive/issue_comments_205775.json:
```json
{
    "body": "I see the same as [comment:7 above]: `make build-serial` failed without this because matplotlib tried to build with only `pkgconfig`, not `pkgconf`. With this, `make build-serial` worked.",
    "created_at": "2014-04-07T20:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205775",
    "user": "jhpalmieri"
}
```

I see the same as [comment:7 above]: `make build-serial` failed without this because matplotlib tried to build with only `pkgconfig`, not `pkgconf`. With this, `make build-serial` worked.



---

archive/issue_comments_205776.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-07T20:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205776",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_205777.json:
```json
{
    "body": "Doing `sage -f pkgconf` then `make` (serial) again allowed me to complete the compilation of beta6. So I confirm that the bug I [reported](https://groups.google.com/d/msg/sage-release/6s_fRG2xmRA/Z9uQY-c6X1IJ) on sage-release is fixed by adding pkgconf as a dependency to matplotlib. For removing `pkgconfig` as a dependency for matplotlib, I can't say anything but John does. So positive review!\n\nJohn beated me for the positive review because I lost some time while preparing and eating [P\u00e2t\u00e9 chinois](http://en.wikipedia.org/wiki/P%C3%A2t%C3%A9_chinois) at Sage Days 57:)",
    "created_at": "2014-04-07T21:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205777",
    "user": "slabbe"
}
```

Doing `sage -f pkgconf` then `make` (serial) again allowed me to complete the compilation of beta6. So I confirm that the bug I [reported](https://groups.google.com/d/msg/sage-release/6s_fRG2xmRA/Z9uQY-c6X1IJ) on sage-release is fixed by adding pkgconf as a dependency to matplotlib. For removing `pkgconfig` as a dependency for matplotlib, I can't say anything but John does. So positive review!

John beated me for the positive review because I lost some time while preparing and eating [Pâté chinois](http://en.wikipedia.org/wiki/P%C3%A2t%C3%A9_chinois) at Sage Days 57:)



---

archive/issue_comments_205778.json:
```json
{
    "body": "And it got right past me when I was looking at original matplotlib upgrade ticket. Didn't notice one bit.",
    "created_at": "2014-04-07T21:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205778",
    "user": "fbissey"
}
```

And it got right past me when I was looking at original matplotlib upgrade ticket. Didn't notice one bit.



---

archive/issue_comments_205779.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-08T10:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15847#issuecomment-205779",
    "user": "vbraun"
}
```

Resolution: fixed
