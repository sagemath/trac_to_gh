# Issue 16783: Update jmol to the latest version

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2014-09-20 23:14:37

CC:  gutow fbissey strogdon kcrisman




---

Comment by vbraun created at 2014-09-20 23:25:35

New commits:


---

Comment by vbraun created at 2014-09-20 23:25:35

Changing status from new to needs_review.


---

Comment by vbraun created at 2014-09-20 23:25:35

Changing component from PLEASE CHANGE to graphics.


---

Comment by vbraun created at 2014-09-20 23:25:35

Changing type from PLEASE CHANGE to enhancement.


---

Comment by chapoton created at 2014-09-21 19:39:34

see also #16003


---

Comment by git created at 2014-10-05 15:00:39

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vbraun created at 2014-10-05 15:05:43

Everything except the last commit is imported from #16004


---

Comment by gutow created at 2014-10-05 20:47:39

Volker,
Thank you for the work making this mesh with the flask server better.  I have been bogged down with work and getting an upstream fix so that Java applets can act just like the javascript version and have a static image put up first instead of immediately launching the applet.  I have pushed that to Bob Hanson for final approval and folding into the JSmol javascript libraries.  Hopefully, that will be in JSmol/Jmol soon.  It should have no effect on this, but I will start testing what you've put together against that now.

Jonathan


---

Comment by gutow created at 2014-10-07 01:43:45

It looks OK except for a some things that have been lost:
1. The use Java clickbox is gone.  People have requested that that be an option and I have pushed a patch upstream that should give exactly the same static image first behavior from the java applet.  
1. The specialized right click menu for Sage has been lost (or did I not push that to my repository).
1. Do we want the message reminding people that they can click to make the image live and right-click for the menu?

I've also got grab to resize working on my system.  I will try to merge it with this.


---

Comment by gutow created at 2014-10-13 22:35:07

This commit fixes the special menu and allows jquery drag resizing to work on the JSmol/Jmol applet.  Still need to decide how to handle user requesting to use the Jmol java applet.


---

Comment by gutow created at 2014-10-13 22:37:59

I'm confused.  The commit that sage made does not seem to include the changes to the jmol_lib.js file from sagenb...Am I on the wrong ticket here?
Jonathan


---

Comment by kcrisman created at 2014-10-14 13:02:37

I don't think so, but Sage won't do any commits to sagenb, that will have to be upstream, I guess.

Also, I'm back and should have some time this week to review the various tickets involved in this, so if that can get figured out that would be awesome!


---

Comment by gutow created at 2014-10-16 02:13:45

The fixes to sagenb need to be on ticket #16004.  I uploaded them as patches.


---

Comment by kcrisman created at 2014-10-17 16:02:40

So what needs to be done for review here?   This is only about upgrading Jmol (which of course needs #16004 to work properly in the notebook).  Jonathan, are you happy with this update?  Since you seem to have approved of the changes to the Sage library, that is a good sign!


---

Comment by git created at 2014-10-19 23:04:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kcrisman created at 2014-10-20 19:11:00

The fix on the version works great now, thanks.


---

Comment by kcrisman created at 2014-10-20 19:19:16

I did get a strange message about invalid request when I tried to save a jsmol as jmol+png (from right-click in the notebook) but I don't know that very many people are using that...


---

Comment by gutow created at 2014-10-20 19:55:14

Replying to [comment:22 kcrisman]:
> I did get a strange message about invalid request when I tried to save a jsmol as jmol+png (from right-click in the notebook) but I don't know that very many people are using that...
Is this with the old Safari?  I cannot reproduce it.  Works fine in FF and Chromium.


---

Comment by kcrisman created at 2014-10-20 20:32:26

Not too worried about it, anyway.


---

Comment by kcrisman created at 2014-10-21 16:46:15

In some sense Volker already reviewed the stuff that had been at #16004, Jonathan reviewed the stuff that is new here... kiwifb, Steve, any desire to input?


---

Comment by gutow created at 2014-10-21 17:53:37

I approve.  If nobody else objects, I give this a positive review.  I'll wait until this evening to give people a chance.


---

Comment by fbissey created at 2014-10-21 19:11:26

No further useful input from me. In useless input I must say jmol is a difficult thing to package for Gentoo and each upgrade has been more difficult than the last. This is not distro friendly.


---

Comment by gutow created at 2014-10-23 13:22:03

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-24 10:14:31

Resolution: fixed


---

Comment by kcrisman created at 2014-10-24 12:08:26

Not sure why this didn't get in the description, but this has a dependency (both directions) with #16004, so I don't know if you can just merge it.  This is mentioned obliquely in various comments, but that wasn't explicit enough, sorry about this.


---

Comment by vbraun created at 2014-10-24 12:45:21

Guys, I can't possibly read all the text when merging. If you don't want stuff merged then you need to make it dependent on the unfinished ticket.


---

Comment by vbraun created at 2014-10-24 12:48:04

Changing status from closed to new.


---

Comment by vbraun created at 2014-10-24 12:48:04

Resolution changed from fixed to 


---

Comment by vbraun created at 2014-10-24 12:48:04

New commits:


---

Comment by kcrisman created at 2014-10-24 12:50:17

> Guys, I can't possibly read all the text when merging. If you don't want stuff merged then you need to make it dependent on the unfinished ticket.
I know that, which is why I said *sorry*.  

PS To be fair, YOU are the one who made the branch on this ticket, though!  At that time you didn't make the dependency on #16004 explicit either, and in fact, I think you confirmed that you tried this one without the other on some ticket or other!  Just sayin'.

PPS thanks for unmerging.  I just haven't had the chance to make the package yet for #16004.  You even beat me to putting in the dependency just now :-)


---

Comment by kcrisman created at 2014-10-24 12:51:04

Changing status from new to needs_review.


---

Comment by kcrisman created at 2014-10-24 12:51:11

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-30 09:44:26

Resolution: fixed


---

Comment by jdemeyer created at 2014-11-03 09:23:34

Please see #17279 for a *blocker* follow-up.
