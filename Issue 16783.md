# Issue 16783: Update jmol to the latest version

archive/issues_016783.json:
```json
{
    "body": "CC:  @gutow @kiwifb @strogdon @kcrisman\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/17020\n\n",
    "created_at": "2014-09-20T23:14:37Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Update jmol to the latest version",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16783",
    "user": "https://github.com/vbraun"
}
```
CC:  @gutow @kiwifb @strogdon @kcrisman



Issue created by migration from https://trac.sagemath.org/ticket/17020





---

archive/issue_comments_221695.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-09-20T23:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221695",
    "user": "https://github.com/vbraun"
}
```

New commits:



---

archive/issue_comments_221696.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-09-20T23:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221696",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_221697.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to graphics.",
    "created_at": "2014-09-20T23:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221697",
    "user": "https://github.com/vbraun"
}
```

Changing component from PLEASE CHANGE to graphics.



---

archive/issue_comments_221698.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2014-09-20T23:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221698",
    "user": "https://github.com/vbraun"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_221699.json:
```json
{
    "body": "see also #16003",
    "created_at": "2014-09-21T19:39:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221699",
    "user": "https://github.com/fchapoton"
}
```

see also #16003



---

archive/issue_comments_221700.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-10-05T15:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_221701.json:
```json
{
    "body": "Everything except the last commit is imported from #16004",
    "created_at": "2014-10-05T15:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221701",
    "user": "https://github.com/vbraun"
}
```

Everything except the last commit is imported from #16004



---

archive/issue_comments_221702.json:
```json
{
    "body": "Volker,\nThank you for the work making this mesh with the flask server better.  I have been bogged down with work and getting an upstream fix so that Java applets can act just like the javascript version and have a static image put up first instead of immediately launching the applet.  I have pushed that to Bob Hanson for final approval and folding into the JSmol javascript libraries.  Hopefully, that will be in JSmol/Jmol soon.  It should have no effect on this, but I will start testing what you've put together against that now.\n\nJonathan",
    "created_at": "2014-10-05T20:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221702",
    "user": "https://github.com/gutow"
}
```

Volker,
Thank you for the work making this mesh with the flask server better.  I have been bogged down with work and getting an upstream fix so that Java applets can act just like the javascript version and have a static image put up first instead of immediately launching the applet.  I have pushed that to Bob Hanson for final approval and folding into the JSmol javascript libraries.  Hopefully, that will be in JSmol/Jmol soon.  It should have no effect on this, but I will start testing what you've put together against that now.

Jonathan



---

archive/issue_comments_221703.json:
```json
{
    "body": "It looks OK except for a some things that have been lost:\n1. The use Java clickbox is gone.  People have requested that that be an option and I have pushed a patch upstream that should give exactly the same static image first behavior from the java applet.  \n2. The specialized right click menu for Sage has been lost (or did I not push that to my repository).\n3. Do we want the message reminding people that they can click to make the image live and right-click for the menu?\n\nI've also got grab to resize working on my system.  I will try to merge it with this.",
    "created_at": "2014-10-07T01:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221703",
    "user": "https://github.com/gutow"
}
```

It looks OK except for a some things that have been lost:
1. The use Java clickbox is gone.  People have requested that that be an option and I have pushed a patch upstream that should give exactly the same static image first behavior from the java applet.  
2. The specialized right click menu for Sage has been lost (or did I not push that to my repository).
3. Do we want the message reminding people that they can click to make the image live and right-click for the menu?

I've also got grab to resize working on my system.  I will try to merge it with this.



---

archive/issue_comments_221704.json:
```json
{
    "body": "This commit fixes the special menu and allows jquery drag resizing to work on the JSmol/Jmol applet.  Still need to decide how to handle user requesting to use the Jmol java applet.",
    "created_at": "2014-10-13T22:35:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221704",
    "user": "https://github.com/gutow"
}
```

This commit fixes the special menu and allows jquery drag resizing to work on the JSmol/Jmol applet.  Still need to decide how to handle user requesting to use the Jmol java applet.



---

archive/issue_comments_221705.json:
```json
{
    "body": "I'm confused.  The commit that sage made does not seem to include the changes to the jmol_lib.js file from sagenb...Am I on the wrong ticket here?\nJonathan",
    "created_at": "2014-10-13T22:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221705",
    "user": "https://github.com/gutow"
}
```

I'm confused.  The commit that sage made does not seem to include the changes to the jmol_lib.js file from sagenb...Am I on the wrong ticket here?
Jonathan



---

archive/issue_comments_221706.json:
```json
{
    "body": "I don't think so, but Sage won't do any commits to sagenb, that will have to be upstream, I guess.\n\nAlso, I'm back and should have some time this week to review the various tickets involved in this, so if that can get figured out that would be awesome!",
    "created_at": "2014-10-14T13:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221706",
    "user": "https://github.com/kcrisman"
}
```

I don't think so, but Sage won't do any commits to sagenb, that will have to be upstream, I guess.

Also, I'm back and should have some time this week to review the various tickets involved in this, so if that can get figured out that would be awesome!



---

archive/issue_comments_221707.json:
```json
{
    "body": "The fixes to sagenb need to be on ticket #16004.  I uploaded them as patches.",
    "created_at": "2014-10-16T02:13:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221707",
    "user": "https://github.com/gutow"
}
```

The fixes to sagenb need to be on ticket #16004.  I uploaded them as patches.



---

archive/issue_comments_221708.json:
```json
{
    "body": "So what needs to be done for review here?   This is only about upgrading Jmol (which of course needs #16004 to work properly in the notebook).  Jonathan, are you happy with this update?  Since you seem to have approved of the changes to the Sage library, that is a good sign!",
    "created_at": "2014-10-17T16:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221708",
    "user": "https://github.com/kcrisman"
}
```

So what needs to be done for review here?   This is only about upgrading Jmol (which of course needs #16004 to work properly in the notebook).  Jonathan, are you happy with this update?  Since you seem to have approved of the changes to the Sage library, that is a good sign!



---

archive/issue_comments_221709.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-19T23:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221710.json:
```json
{
    "body": "The fix on the version works great now, thanks.",
    "created_at": "2014-10-20T19:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221710",
    "user": "https://github.com/kcrisman"
}
```

The fix on the version works great now, thanks.



---

archive/issue_comments_221711.json:
```json
{
    "body": "I did get a strange message about invalid request when I tried to save a jsmol as jmol+png (from right-click in the notebook) but I don't know that very many people are using that...",
    "created_at": "2014-10-20T19:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221711",
    "user": "https://github.com/kcrisman"
}
```

I did get a strange message about invalid request when I tried to save a jsmol as jmol+png (from right-click in the notebook) but I don't know that very many people are using that...



---

archive/issue_comments_221712.json:
```json
{
    "body": "Replying to [comment:22 kcrisman]:\n> I did get a strange message about invalid request when I tried to save a jsmol as jmol+png (from right-click in the notebook) but I don't know that very many people are using that...\nIs this with the old Safari?  I cannot reproduce it.  Works fine in FF and Chromium.",
    "created_at": "2014-10-20T19:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221712",
    "user": "https://github.com/gutow"
}
```

Replying to [comment:22 kcrisman]:
> I did get a strange message about invalid request when I tried to save a jsmol as jmol+png (from right-click in the notebook) but I don't know that very many people are using that...
Is this with the old Safari?  I cannot reproduce it.  Works fine in FF and Chromium.



---

archive/issue_comments_221713.json:
```json
{
    "body": "Not too worried about it, anyway.",
    "created_at": "2014-10-20T20:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221713",
    "user": "https://github.com/kcrisman"
}
```

Not too worried about it, anyway.



---

archive/issue_comments_221714.json:
```json
{
    "body": "In some sense Volker already reviewed the stuff that had been at #16004, Jonathan reviewed the stuff that is new here... kiwifb, Steve, any desire to input?",
    "created_at": "2014-10-21T16:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221714",
    "user": "https://github.com/kcrisman"
}
```

In some sense Volker already reviewed the stuff that had been at #16004, Jonathan reviewed the stuff that is new here... kiwifb, Steve, any desire to input?



---

archive/issue_comments_221715.json:
```json
{
    "body": "I approve.  If nobody else objects, I give this a positive review.  I'll wait until this evening to give people a chance.",
    "created_at": "2014-10-21T17:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221715",
    "user": "https://github.com/gutow"
}
```

I approve.  If nobody else objects, I give this a positive review.  I'll wait until this evening to give people a chance.



---

archive/issue_comments_221716.json:
```json
{
    "body": "No further useful input from me. In useless input I must say jmol is a difficult thing to package for Gentoo and each upgrade has been more difficult than the last. This is not distro friendly.",
    "created_at": "2014-10-21T19:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221716",
    "user": "https://github.com/kiwifb"
}
```

No further useful input from me. In useless input I must say jmol is a difficult thing to package for Gentoo and each upgrade has been more difficult than the last. This is not distro friendly.



---

archive/issue_comments_221717.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-23T13:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221717",
    "user": "https://github.com/gutow"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_221718.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-24T10:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221718",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_221719.json:
```json
{
    "body": "Not sure why this didn't get in the description, but this has a dependency (both directions) with #16004, so I don't know if you can just merge it.  This is mentioned obliquely in various comments, but that wasn't explicit enough, sorry about this.",
    "created_at": "2014-10-24T12:08:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221719",
    "user": "https://github.com/kcrisman"
}
```

Not sure why this didn't get in the description, but this has a dependency (both directions) with #16004, so I don't know if you can just merge it.  This is mentioned obliquely in various comments, but that wasn't explicit enough, sorry about this.



---

archive/issue_comments_221720.json:
```json
{
    "body": "Guys, I can't possibly read all the text when merging. If you don't want stuff merged then you need to make it dependent on the unfinished ticket.",
    "created_at": "2014-10-24T12:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221720",
    "user": "https://github.com/vbraun"
}
```

Guys, I can't possibly read all the text when merging. If you don't want stuff merged then you need to make it dependent on the unfinished ticket.



---

archive/issue_comments_221721.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2014-10-24T12:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221721",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_221722.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2014-10-24T12:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221722",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_221723.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-10-24T12:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221723",
    "user": "https://github.com/vbraun"
}
```

New commits:



---

archive/issue_comments_221724.json:
```json
{
    "body": "> Guys, I can't possibly read all the text when merging. If you don't want stuff merged then you need to make it dependent on the unfinished ticket.\nI know that, which is why I said **sorry**.  \n\nPS To be fair, YOU are the one who made the branch on this ticket, though!  At that time you didn't make the dependency on #16004 explicit either, and in fact, I think you confirmed that you tried this one without the other on some ticket or other!  Just sayin'.\n\nPPS thanks for unmerging.  I just haven't had the chance to make the package yet for #16004.  You even beat me to putting in the dependency just now :-)",
    "created_at": "2014-10-24T12:50:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221724",
    "user": "https://github.com/kcrisman"
}
```

> Guys, I can't possibly read all the text when merging. If you don't want stuff merged then you need to make it dependent on the unfinished ticket.
I know that, which is why I said **sorry**.  

PS To be fair, YOU are the one who made the branch on this ticket, though!  At that time you didn't make the dependency on #16004 explicit either, and in fact, I think you confirmed that you tried this one without the other on some ticket or other!  Just sayin'.

PPS thanks for unmerging.  I just haven't had the chance to make the package yet for #16004.  You even beat me to putting in the dependency just now :-)



---

archive/issue_comments_221725.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-10-24T12:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221725",
    "user": "https://github.com/kcrisman"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_221726.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-24T12:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221726",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_221727.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-30T09:44:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221727",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_221728.json:
```json
{
    "body": "Please see #17279 for a **blocker** follow-up.",
    "created_at": "2014-11-03T09:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16783#issuecomment-221728",
    "user": "https://github.com/jdemeyer"
}
```

Please see #17279 for a **blocker** follow-up.
