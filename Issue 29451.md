# Issue 29451: Finite numbers in the signed InfinityRing ironically don't have a sign

Issue created by migration from https://trac.sagemath.org/ticket/29688

Original creator: rburing

Original creation time: 2020-05-14 10:05:51

Keywords: InfinityRing,Infinity,sign


```
sage: sign(Infinity)
1
sage: sign(-Infinity)
-1
sage: sign(InfinityRing(3))
(...)
NotImplementedError: 
```


This is unfortunate because it would be convenient in an implementation of [Sturm's theorem](https://en.wikipedia.org/wiki/Sturm%27s_theorem).


---

Comment by chapoton created at 2020-05-14 11:49:34

How would you make a ring with signed finite numbers ?


---

Comment by rburing created at 2020-05-14 12:12:14

By definition [InfinityRing](http://doc.sagemath.org/html/en/reference/rings/sage/rings/infinity.html) consists of five elements; all their signs are known, but apparently the `sign` function does not know them all.


---

Comment by chapoton created at 2020-05-14 14:01:59

ok, so this is not a ring, still in the category of Rings. Sigh.


---

Comment by @DaveWitteMorris created at 2020-05-15 04:15:27

I think this PR solves the problem.

```
sage: sign(InfinityRing(3))
1
sage: sign(InfinityRing(0))
0
sage: sign(InfinityRing(-3))
-1
sage: sign(UnsignedInfinityRing(3))
...
NotImplementedError: sign of number < oo is not well defined
```

I'm not entirely happy about raising a `NotImplementedError` in the unsigned case, but I couldn't think of anything better. `ValueError` and `SignError` don't work, because the `BuiltinFunction` `sign` doesn't take either of those as the final word, and tries other ways to calculate the value, which results in an error message that is confusing.
----
New commits:


---

Comment by @DaveWitteMorris created at 2020-05-15 04:15:27

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-07-04 19:59:08

Changing status from needs_review to positive_review.


---

Comment by @DaveWitteMorris created at 2020-07-04 20:14:06

Thanks!


---

Comment by vbraun created at 2020-07-10 19:34:07

Resolution: fixed
