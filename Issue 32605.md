# Issue 32605: use PARI's fflog() for binary finite fields

archive/issues_032605.json:
```json
{
    "body": "CC:  @tscrim @edgarcosta\n\nCurrently, `FiniteField_ntl_gf2eElement` calls generic-group `discrete_log()` to compute logarithms.\n\nWe should instead call PARI's `fflog()`, which uses an index-calculus algorithm and is dramatically faster in some cases.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32842\n\n",
    "created_at": "2021-11-09T14:56:13Z",
    "labels": [
        "component: number theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "use PARI's fflog() for binary finite fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32605",
    "user": "https://github.com/yyyyx4"
}
```
CC:  @tscrim @edgarcosta

Currently, `FiniteField_ntl_gf2eElement` calls generic-group `discrete_log()` to compute logarithms.

We should instead call PARI's `fflog()`, which uses an index-calculus algorithm and is dramatically faster in some cases.

Issue created by migration from https://trac.sagemath.org/ticket/32842





---

archive/issue_comments_464478.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-11-10T02:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464478",
    "user": "https://github.com/yyyyx4"
}
```

New commits:



---

archive/issue_comments_464479.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-10T02:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464479",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_464480.json:
```json
{
    "body": "The code looks good to me.\nHowever, I find it odd the comment\n\n```\nBig instances used to take very long before :trac:`32842`::\n```\n\nin the examples block quite odd.\n\nTravis, what do you think?",
    "created_at": "2021-11-10T09:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464480",
    "user": "https://github.com/edgarcosta"
}
```

The code looks good to me.
However, I find it odd the comment

```
Big instances used to take very long before :trac:`32842`::
```

in the examples block quite odd.

Travis, what do you think?



---

archive/issue_comments_464481.json:
```json
{
    "body": "Are you referring to the English or the example itself? The English is a bit strange to me, and I would phrase it as\n\n```\nBig instances used to take a very long time before :trac:`32842`::\n```\n",
    "created_at": "2021-11-10T09:51:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464481",
    "user": "https://github.com/tscrim"
}
```

Are you referring to the English or the example itself? The English is a bit strange to me, and I would phrase it as

```
Big instances used to take a very long time before :trac:`32842`::
```




---

archive/issue_comments_464482.json:
```json
{
    "body": "The example, as I usually only see trac tickets mentioned under tests referring to a bug that has been fixed.\nThis is only a minor thing, and if you think it's alright, we can give it a positive review.",
    "created_at": "2021-11-10T09:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464482",
    "user": "https://github.com/edgarcosta"
}
```

The example, as I usually only see trac tickets mentioned under tests referring to a bug that has been fixed.
This is only a minor thing, and if you think it's alright, we can give it a positive review.



---

archive/issue_comments_464483.json:
```json
{
    "body": "I think the example is fine, although it could be made better by having something that takes a really long time (>10s, even better >30s) prior but finishes within 1 second now.",
    "created_at": "2021-11-10T10:01:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464483",
    "user": "https://github.com/tscrim"
}
```

I think the example is fine, although it could be made better by having something that takes a really long time (>10s, even better >30s) prior but finishes within 1 second now.



---

archive/issue_comments_464484.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-10T10:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464484",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464485.json:
```json
{
    "body": "Replying to [comment:6 tscrim]:\n> I think the example is fine, although it could be made better by having something that takes a really long time (>10s, even better >30s) prior but finishes within 1 second now.\n\nIt does: The `2^61` example is a worst-case input for the generic algorithm (because the unit group order `2^61-1` is prime). On my laptop, it eats all my RAM and dies after a couple of minutes. With the patch, it finishes successfully within a few hundred milliseconds.",
    "created_at": "2021-11-10T10:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464485",
    "user": "https://github.com/yyyyx4"
}
```

Replying to [comment:6 tscrim]:
> I think the example is fine, although it could be made better by having something that takes a really long time (>10s, even better >30s) prior but finishes within 1 second now.

It does: The `2^61` example is a worst-case input for the generic algorithm (because the unit group order `2^61-1` is prime). On my laptop, it eats all my RAM and dies after a couple of minutes. With the patch, it finishes successfully within a few hundred milliseconds.



---

archive/issue_comments_464486.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-10T11:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464486",
    "user": "https://github.com/edgarcosta"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464487.json:
```json
{
    "body": "The patch bot was green before :)",
    "created_at": "2021-11-10T11:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464487",
    "user": "https://github.com/edgarcosta"
}
```

The patch bot was green before :)



---

archive/issue_comments_464488.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-11-10T13:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464488",
    "user": "https://github.com/yyyyx4"
}
```

Thank you!



---

archive/issue_comments_464489.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-11-14T17:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32605",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32605#issuecomment-464489",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
