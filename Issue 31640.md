# Issue 31640: Refine category of RealSet

Issue created by migration from https://trac.sagemath.org/ticket/31877

Original creator: mkoeppe

Original creation time: 2021-05-29 21:11:24

CC:  @mjungmath egourgoulhon tscrim

we should put it in a suitable subcategory of `TopologicalSpaces`.



---

Comment by @mjungmath created at 2021-05-29 22:00:19

Possibly a good idea to consider: #30832#comment:6.


---

Comment by mkoeppe created at 2021-05-29 22:07:27

New commits:


---

Comment by mkoeppe created at 2021-05-29 22:07:27

Changing status from new to needs_review.


---

Comment by @mjungmath created at 2021-05-30 09:20:52

I personally don't like adding `RealSet` to `TopologicalSpaces`. Imo the difference between `RealSet` and `OpenInterval` should be exactly that: seeing them as sets or manifolds (i.e. top. spaces).

Then a forgetful functor would also make more sense.


---

Comment by mkoeppe created at 2021-05-30 17:00:34

A `RealSet` instance is a union of finitely many (possibly degenerate) intervals, so it is always a topological subspace of the real line, but not always a manifold. It would belong to the category of manifolds with corners of mixed dimension, but I think it's a long way until we have implemented that.


---

Comment by tscrim created at 2021-05-30 23:18:36

I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology. The only question I have is why is `ambient()` a ``@`staticmethod`? I feel like it should be a normal method because the ambient space is associated with the instance rather than as a constructor function (cf. `open_closed`).

`@`gh-mjungmath I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.


---

Comment by mkoeppe created at 2021-05-30 23:19:58

Replying to [comment:6 tscrim]:
> The only question I have is why is `ambient()` a ``@`staticmethod`? I feel like it should be a normal method 

OK, I'll make this change.


---

Comment by git created at 2021-05-30 23:25:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-05-30 23:27:50

Replying to [comment:6 tscrim]:
> I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.

I think the idea would be that after applying the functor to the parent, asking for example for the homset would give a different answer.


---

Comment by tscrim created at 2021-05-31 00:21:52

Replying to [comment:10 mkoeppe]:
> Replying to [comment:6 tscrim]:
> > I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.
> 
> I think the idea would be that after applying the functor to the parent, asking for example for the homset would give a different answer.

IMO, it is better to pass that category information to the homset construction (which you can do) if you want to consider morphisms in a weaker category. This way you have less proliferation of "equal" parents and dealing with elements that maybe shouldn't have the additional structure. In this example, should you be able to add two integers that are in the `ZZ` as a `Sets` object? Plus, the category you want for the morphisms is a property of the morphism, not the parent.


---

Comment by tscrim created at 2021-05-31 00:22:20

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2021-05-31 00:22:20

Thanks for the change.


---

Comment by mkoeppe created at 2021-05-31 00:30:00

Thanks!


---

Comment by @mjungmath created at 2021-05-31 07:55:25

Replying to [comment:6 tscrim]:
> I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology.

Just because it comes with a natural topology doesn't mean it is the topology the user wants.

If you argument like that, every set must be seen in the category of topological spaces, because every set is endowed with a topology.

> 
> `@`gh-mjungmath I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.

> IMO, it is better to pass that category information to the homset construction (which you can do) if you want to consider morphisms in a weaker category. This way you have less proliferation of "equal" parents and dealing with elements that maybe shouldn't have the additional structure. In this example, should you be able to add two integers that are in the `ZZ` as a `Sets` object? Plus, the category you want for the morphisms is a property of the morphism, not the parent.


Then I don't understand why we even have a forgetful functor if it technically just represents the identity functor...


---

Comment by @mjungmath created at 2021-05-31 08:11:01

But I agree, for structures like rings, groups etc. this approach makes total sense. Though, I still don't understand why `ForgetfulFunctor` was introduced in the first place.

But for manifolds, things are slightly different. It would be good to have a functor that forgets about the topological structure, for example to impose another one. Like I said, I don't like the idea of enforcing a preferred topology on a set if we see it just as set (what we clearly do with `RealSet` as the name indicates).


---

Comment by mkoeppe created at 2021-05-31 17:10:29

Replying to [comment:14 gh-mjungmath]:
> Replying to [comment:6 tscrim]:
> > I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology.
> 
> Just because it comes with a natural topology doesn't mean it is the topology the user wants.

`RealSet` provides constructors for certain subsets of the reals. The "set" of real numbers comes with a distinguished topology, which is reflected by the names of the `RealSet` constructors for intervals such as `open`, `closed`. 

In #31881 (`RealSet`: Extend constructors so that they can build manifold objects) I plan to add a `category` keyword argument. Then also the rather specialized use case that a subset of the real numbers is to be treated merely as a set can be achieved by passing `category=Sets()` to the constructors.


---

Comment by @mjungmath created at 2021-05-31 17:20:07

Replying to [comment:16 mkoeppe]:
> `RealSet` provides constructors for certain subsets of the reals. The "set" of real numbers comes with a distinguished topology, which is reflected by the names of the `RealSet` constructors for intervals such as `open`, `closed`. 

Good point!

> In #31881 (`RealSet`: Extend constructors so that they can build manifold objects) I plan to add a `category` keyword argument. Then also the rather specialized use case that a subset of the real numbers is to be treated merely as a set can be achieved by passing `category=Sets()` to the constructors.

+1


---

Comment by tscrim created at 2021-05-31 23:43:02

Just because it acts as the identity on parents, doesn't mean it is the identity functor. Be very careful with confusing abstract and concrete mathematics. If I said `ZZ` the set is the same as `ZZ` the ring, would you agree or disagree? Or would you be like Bill Clinton and state "That depends on what the definition of 'is' is."? The forgetful functor does carry some information, and that is the category you obtain at the end. It could also be used as a base class when you do have some more canonical implementations, but currently it doesn't seem to be used.

By being in the category of topological spaces, you are stating there is a preferred topology. This is akin to the `WithBasis` category saying there is a distinguished basis. This is why `TopologicalSpaces` is constructed as a functor construction category.

For the manifold code, while it is dynamic, each manifold is not meant to be treated as something that can change. So if you go from differentiable to topological, you either are actually constructing a different object because the maximal atlas is different or it has the same maximal atlas and you still require the maps to be differentiable. We just may not have provided enough information yet to see that difference.


---

Comment by git created at 2021-06-19 21:02:39

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2021-06-19 21:02:39

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2021-06-19 21:03:05

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-06-19 21:03:05

Merged to resolve merge conflict


---

Comment by vbraun created at 2021-06-29 23:08:33

Resolution: fixed
