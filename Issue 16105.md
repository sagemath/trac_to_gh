# Issue 16105: DirichletGroup broken over rings with unhashable coefficients

Issue created by migration from https://trac.sagemath.org/ticket/16342

Original creator: saraedum

Original creation time: 2014-05-12 23:34:08

The following fails

```
sage: K.<a> = Qq(9)
sage: DirichletGroup(1,zeta=K(-1),base_ring=K,zeta_order=2)
TypeError
```



---

Comment by saraedum created at 2014-05-13 00:00:47

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-05-06 09:30:32

What's the relation between #16342 and #16258? In any case, needs rebasing.


---

Comment by jdemeyer created at 2015-05-06 09:30:47

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-10-04 22:17:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2015-10-04 22:17:20

Changing status from needs_work to needs_review.


---

Comment by pbruin created at 2015-10-05 10:15:40

Note: this also appears to be fixed by #6018.


---

Comment by pbruin created at 2015-10-05 10:18:23

Changing status from needs_review to needs_work.


---

Comment by pbruin created at 2015-10-05 10:18:23

There are doctest failures, see the patchbot report.


---

Comment by saraedum created at 2015-10-10 02:50:23

The cache can currently not be pickled if it contains p-adics. #15692 sort of fixes this, but once this gets merged, I need to change the `__setstate__` in here to restore the cache.


---

Comment by git created at 2016-03-23 01:20:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2016-03-23 01:20:48

Changing status from needs_work to needs_review.


---

Comment by aly.deines created at 2016-03-23 12:36:46

Looks good.


---

Comment by aly.deines created at 2016-03-23 12:36:46

Changing status from needs_review to positive_review.


---

Comment by jen created at 2016-03-31 16:20:43

Changing keywords from "" to "days71".


---

Comment by pbruin created at 2016-04-12 22:11:31

Changing status from positive_review to needs_work.


---

Comment by pbruin created at 2016-04-12 22:11:31

Merge conflict with #6018.


---

Comment by git created at 2017-07-21 19:56:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2017-07-21 19:56:57

New commits:
