# Issue 16105: DirichletGroup broken over rings with unhashable coefficients

archive/issues_016105.json:
```json
{
    "body": "The following fails\n\n```\nsage: K.<a> = Qq(9)\nsage: DirichletGroup(1,zeta=K(-1),base_ring=K,zeta_order=2)\nTypeError\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16342\n\n",
    "created_at": "2014-05-12T23:34:08Z",
    "labels": [
        "component: modular forms",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "DirichletGroup broken over rings with unhashable coefficients",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16105",
    "user": "https://github.com/saraedum"
}
```
The following fails

```
sage: K.<a> = Qq(9)
sage: DirichletGroup(1,zeta=K(-1),base_ring=K,zeta_order=2)
TypeError
```


Issue created by migration from https://trac.sagemath.org/ticket/16342





---

archive/issue_comments_209797.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-13T00:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209797",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_209798.json:
```json
{
    "body": "What's the relation between #16342 and #16258? In any case, needs rebasing.",
    "created_at": "2015-05-06T09:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209798",
    "user": "https://github.com/jdemeyer"
}
```

What's the relation between #16342 and #16258? In any case, needs rebasing.



---

archive/issue_comments_209799.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-06T09:30:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209799",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_209800.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-04T22:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209800",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_209801.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-04T22:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209801",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_209802.json:
```json
{
    "body": "Note: this also appears to be fixed by #6018.",
    "created_at": "2015-10-05T10:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209802",
    "user": "https://github.com/pjbruin"
}
```

Note: this also appears to be fixed by #6018.



---

archive/issue_comments_209803.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-05T10:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209803",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_209804.json:
```json
{
    "body": "There are doctest failures, see the patchbot report.",
    "created_at": "2015-10-05T10:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209804",
    "user": "https://github.com/pjbruin"
}
```

There are doctest failures, see the patchbot report.



---

archive/issue_comments_209805.json:
```json
{
    "body": "The cache can currently not be pickled if it contains p-adics. #15692 sort of fixes this, but once this gets merged, I need to change the `__setstate__` in here to restore the cache.",
    "created_at": "2015-10-10T02:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209805",
    "user": "https://github.com/saraedum"
}
```

The cache can currently not be pickled if it contains p-adics. #15692 sort of fixes this, but once this gets merged, I need to change the `__setstate__` in here to restore the cache.



---

archive/issue_comments_209806.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-23T01:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209806",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_209807.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-03-23T01:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209807",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_209808.json:
```json
{
    "body": "Looks good.",
    "created_at": "2016-03-23T12:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209808",
    "user": "https://github.com/adeines"
}
```

Looks good.



---

archive/issue_comments_209809.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-23T12:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209809",
    "user": "https://github.com/adeines"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_209810.json:
```json
{
    "body": "Changing keywords from \"\" to \"days71\".",
    "created_at": "2016-03-31T16:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209810",
    "user": "https://github.com/jbalakrishnan"
}
```

Changing keywords from "" to "days71".



---

archive/issue_comments_209811.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-04-12T22:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209811",
    "user": "https://github.com/pjbruin"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_209812.json:
```json
{
    "body": "Merge conflict with #6018.",
    "created_at": "2016-04-12T22:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209812",
    "user": "https://github.com/pjbruin"
}
```

Merge conflict with #6018.



---

archive/issue_comments_209813.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-21T19:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209813",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_209814.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-07-21T19:56:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16105",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16105#issuecomment-209814",
    "user": "https://github.com/saraedum"
}
```

New commits:
