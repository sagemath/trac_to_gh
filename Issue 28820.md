# Issue 28820: make stack method of Polyhedron use fraction_field

Issue created by migration from https://trac.sagemath.org/ticket/29057

Original creator: @LaisRast

Original creation time: 2020-01-20 21:01:25

CC:  jipilab @kliem

Keywords: polytopes, stack

`stack` method of `Polyhedron` has the following behavior:

```
sage: P = polytopes.cross_polytope(4)
sage: P.stack(P.faces(3)[0])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: no conversion of this rational to integer
```

We fix this by extending the `base_ring` to its `fraction_field`.


---

Comment by @LaisRast created at 2020-01-20 21:04:01

New commits:


---

Comment by @LaisRast created at 2020-01-20 21:04:01

Changing status from new to needs_review.


---

Comment by git created at 2020-01-20 21:08:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-01-21 06:44:46

Looks fine. Maybe you can add `backend=self.backend()` for locus polyhedron.

As the inequalities and equations are taken from our original polyhedron, the backend can always handle locus polyhedron.


---

Comment by git created at 2020-01-21 09:20:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-01-21 09:24:23

LGTM.


---

Comment by @kliem created at 2020-01-21 09:24:23

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-01-25 17:27:36

Resolution: fixed
