# Issue 12627: Fix PolyBoRi's dependencies in `module_list.py`

archive/issues_012627.json:
```json
{
    "body": "Assignee: AlexanderDreyer\n\nCC:  leif\n\nActually only the pbori module needs to get rebuilt; while touching $SAGE_LOCAL/include/polybori.h doesn't help, touching $SAGE_LOCAL/include/polybori/* does (afterwards running ./sage -b).\nThe better alternative is to fix the dependency list in `module_list.py`\n\n### Current patch\n* **Patch**\n\nIssue created by migration from https://trac.sagemath.org/ticket/12799\n\n",
    "created_at": "2012-04-03T14:14:41Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Fix PolyBoRi's dependencies in `module_list.py`",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12627",
    "user": "AlexanderDreyer"
}
```
Assignee: AlexanderDreyer

CC:  leif

Actually only the pbori module needs to get rebuilt; while touching $SAGE_LOCAL/include/polybori.h doesn't help, touching $SAGE_LOCAL/include/polybori/* does (afterwards running ./sage -b).
The better alternative is to fix the dependency list in `module_list.py`

### Current patch
* **Patch**

Issue created by migration from https://trac.sagemath.org/ticket/12799





---

archive/issue_comments_150224.json:
```json
{
    "body": "Attachment [polybori_depends.patch](tarball://root/attachments/some-uuid/ticket12799/polybori_depends.patch) by AlexanderDreyer created at 2012-04-03 14:15:43\n\nPatch for the sage library (devel/sage)",
    "created_at": "2012-04-03T14:15:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150224",
    "user": "AlexanderDreyer"
}
```

Attachment [polybori_depends.patch](tarball://root/attachments/some-uuid/ticket12799/polybori_depends.patch) by AlexanderDreyer created at 2012-04-03 14:15:43

Patch for the sage library (devel/sage)



---

archive/issue_comments_150225.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-04-03T14:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150225",
    "user": "AlexanderDreyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_150226.json:
```json
{
    "body": "As mentioned on #12655, I'd rather make the extension module depend on just `$SAGE_INC/polybori.h` and/or its libraries, `$SAGE_LOCAL/lib/{polybori,polybori_groebner}.so`, and `touch` the former from `spkg-install` at least in case you don't add the libraries.\n\nAFAIK Cython is smart enough to notice when (at least *directly*) included headers are newer, but this doesn't help if their timestamps are preserved during PolyBoRi's installation.\n\nAdding *all of* PolyBoRi's headers *explicitly* seems a bit overkill to me.\n\n[Also note that we have both `$SAGE_INC/polybori.h` and `$SAGE_INC/polybori/polybori.h`, which are not the same files.]",
    "created_at": "2012-04-03T20:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150226",
    "user": "leif"
}
```

As mentioned on #12655, I'd rather make the extension module depend on just `$SAGE_INC/polybori.h` and/or its libraries, `$SAGE_LOCAL/lib/{polybori,polybori_groebner}.so`, and `touch` the former from `spkg-install` at least in case you don't add the libraries.

AFAIK Cython is smart enough to notice when (at least *directly*) included headers are newer, but this doesn't help if their timestamps are preserved during PolyBoRi's installation.

Adding *all of* PolyBoRi's headers *explicitly* seems a bit overkill to me.

[Also note that we have both `$SAGE_INC/polybori.h` and `$SAGE_INC/polybori/polybori.h`, which are not the same files.]



---

archive/issue_comments_150227.json:
```json
{
    "body": "Replying to [comment:2 leif]:\n> As mentioned on #12655, I'd rather make the extension module depend on just `$SAGE_INC/polybori.h` and/or its libraries, `$SAGE_LOCAL/lib/{polybori,polybori_groebner}.so`, and `touch` the former from `spkg-install` at least in case you don't add the libraries.\nThe timestamp of `include/polybori/config.h` also varies, this would also help here.\n\n> AFAIK Cython is smart enough to notice when (at least *directly*) included headers are newer, but this doesn't help if their timestamps are preserved during PolyBoRi's installation.\n> \n> Adding *all of* PolyBoRi's headers *explicitly* seems a bit overkill to me.\n> \n> [Also note that we have both `$SAGE_INC/polybori.h` and `$SAGE_INC/polybori/polybori.h`, which are not the same files.]\nThe first header is just for convenience.",
    "created_at": "2012-04-03T20:52:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150227",
    "user": "AlexanderDreyer"
}
```

Replying to [comment:2 leif]:
> As mentioned on #12655, I'd rather make the extension module depend on just `$SAGE_INC/polybori.h` and/or its libraries, `$SAGE_LOCAL/lib/{polybori,polybori_groebner}.so`, and `touch` the former from `spkg-install` at least in case you don't add the libraries.
The timestamp of `include/polybori/config.h` also varies, this would also help here.

> AFAIK Cython is smart enough to notice when (at least *directly*) included headers are newer, but this doesn't help if their timestamps are preserved during PolyBoRi's installation.
> 
> Adding *all of* PolyBoRi's headers *explicitly* seems a bit overkill to me.
> 
> [Also note that we have both `$SAGE_INC/polybori.h` and `$SAGE_INC/polybori/polybori.h`, which are not the same files.]
The first header is just for convenience.



---

archive/issue_comments_150228.json:
```json
{
    "body": "Replying to [comment:3 AlexanderDreyer]:\n> The timestamp of `include/polybori/config.h` also varies, this would also help here.\n\nThen I'd add just that... (cross-posting)",
    "created_at": "2012-04-03T20:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150228",
    "user": "leif"
}
```

Replying to [comment:3 AlexanderDreyer]:
> The timestamp of `include/polybori/config.h` also varies, this would also help here.

Then I'd add just that... (cross-posting)



---

archive/issue_comments_150229.json:
```json
{
    "body": "Replying to [comment:4 leif]:\n> Replying to [comment:3 AlexanderDreyer]:\n> > The timestamp of `include/polybori/config.h` also varies, this would also help here.\n> \n> Then I'd add just that... (cross-posting)\nOk, let's try this one:\n[attachment:polybori_depends.2.patch]",
    "created_at": "2012-04-03T21:13:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150229",
    "user": "AlexanderDreyer"
}
```

Replying to [comment:4 leif]:
> Replying to [comment:3 AlexanderDreyer]:
> > The timestamp of `include/polybori/config.h` also varies, this would also help here.
> 
> Then I'd add just that... (cross-posting)
Ok, let's try this one:
[attachment:polybori_depends.2.patch]



---

archive/issue_comments_150230.json:
```json
{
    "body": "Attachment [polybori_depends.2.patch](tarball://root/attachments/some-uuid/ticket12799/polybori_depends.2.patch) by AlexanderDreyer created at 2012-04-03 21:15:37\n\nPatch for the sage library (devel/sage)",
    "created_at": "2012-04-03T21:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150230",
    "user": "AlexanderDreyer"
}
```

Attachment [polybori_depends.2.patch](tarball://root/attachments/some-uuid/ticket12799/polybori_depends.2.patch) by AlexanderDreyer created at 2012-04-03 21:15:37

Patch for the sage library (devel/sage)



---

archive/issue_comments_150231.json:
```json
{
    "body": "Replying to [comment:5 AlexanderDreyer]:\n> Ok, let's try this one:\n> [attachment:polybori_depends.2.patch]\n\nLooks better.",
    "created_at": "2012-04-03T21:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150231",
    "user": "leif"
}
```

Replying to [comment:5 AlexanderDreyer]:
> Ok, let's try this one:
> [attachment:polybori_depends.2.patch]

Looks better.



---

archive/issue_comments_150232.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-04-03T22:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150232",
    "user": "leif"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_150233.json:
```json
{
    "body": "Changing component from algebra to build.",
    "created_at": "2012-04-03T22:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150233",
    "user": "leif"
}
```

Changing component from algebra to build.



---

archive/issue_comments_150234.json:
```json
{
    "body": "Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.",
    "created_at": "2012-04-03T22:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150234",
    "user": "leif"
}
```

Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.



---

archive/issue_comments_150235.json:
```json
{
    "body": "Attachment [polybori_depends.3.patch](tarball://root/attachments/some-uuid/ticket12799/polybori_depends.3.patch) by AlexanderDreyer created at 2012-04-04 07:42:51\n\npatch rebased to sage-5.0 beta11",
    "created_at": "2012-04-04T07:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150235",
    "user": "AlexanderDreyer"
}
```

Attachment [polybori_depends.3.patch](tarball://root/attachments/some-uuid/ticket12799/polybori_depends.3.patch) by AlexanderDreyer created at 2012-04-04 07:42:51

patch rebased to sage-5.0 beta11



---

archive/issue_comments_150236.json:
```json
{
    "body": "Replying to [comment:8 leif]:\n> Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.\nThanks! I rebased the patch accordingly.",
    "created_at": "2012-04-04T07:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150236",
    "user": "AlexanderDreyer"
}
```

Replying to [comment:8 leif]:
> Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.
Thanks! I rebased the patch accordingly.



---

archive/issue_comments_150237.json:
```json
{
    "body": "Replying to [comment:8 leif]:\n> Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.\n\nI consider an offset in a patch to be totally harmless; fuzz 1 should be rebased but I can usually live with; fuzz 2 must be rebased.",
    "created_at": "2012-04-04T08:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150237",
    "user": "jdemeyer"
}
```

Replying to [comment:8 leif]:
> Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.

I consider an offset in a patch to be totally harmless; fuzz 1 should be rebased but I can usually live with; fuzz 2 must be rebased.



---

archive/issue_comments_150238.json:
```json
{
    "body": "Replying to [comment:10 jdemeyer]:\n> Replying to [comment:8 leif]:\n> > Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.\n> \n> I consider an offset in a patch to be totally harmless; fuzz 1 should be rebased but I can usually live with; fuzz 2 must be rebased.\n\nYes, I should perhaps have said that... ;-)",
    "created_at": "2012-04-04T19:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150238",
    "user": "leif"
}
```

Replying to [comment:10 jdemeyer]:
> Replying to [comment:8 leif]:
> > Applies to Sage 5.0.beta11 with three lines offset, but I don't mind.
> 
> I consider an offset in a patch to be totally harmless; fuzz 1 should be rebased but I can usually live with; fuzz 2 must be rebased.

Yes, I should perhaps have said that... ;-)



---

archive/issue_comments_150239.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-04-07T15:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12627#issuecomment-150239",
    "user": "jdemeyer"
}
```

Resolution: fixed
