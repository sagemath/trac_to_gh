# Issue 15009: add xkcd function to sage

archive/issues_015009.json:
```json
{
    "body": "Sage already has an xgcd function but no xkcd function. We should really change that.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15246\n\n",
    "created_at": "2013-10-01T13:39:27Z",
    "labels": [
        "number fields",
        "major",
        "enhancement"
    ],
    "title": "add xkcd function to sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15009",
    "user": "mderickx"
}
```
Sage already has an xgcd function but no xkcd function. We should really change that.

Issue created by migration from https://trac.sagemath.org/ticket/15246





---

archive/issue_comments_191850.json:
```json
{
    "body": "Changing component from number fields to number theory.",
    "created_at": "2013-10-01T17:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191850",
    "user": "mderickx"
}
```

Changing component from number fields to number theory.



---

archive/issue_comments_191851.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-10-01T17:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191851",
    "user": "mderickx"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_191852.json:
```json
{
    "body": "Use a python 3 compatible syntax to raise errors\n\n```\nraise RuntimeError(\"Could not obtain comic data from %s . Maybe you should enable time travel!\"%url)\n```\n",
    "created_at": "2013-10-01T18:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191852",
    "user": "aapitzsch"
}
```

Use a python 3 compatible syntax to raise errors

```
raise RuntimeError("Could not obtain comic data from %s . Maybe you should enable time travel!"%url)
```




---

archive/issue_comments_191853.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-10-01T18:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191853",
    "user": "aapitzsch"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_191854.json:
```json
{
    "body": "Attachment [15246-xkcd.patch](tarball://root/attachments/some-uuid/ticket15246/15246-xkcd.patch) by mderickx created at 2013-10-02 15:04:21",
    "created_at": "2013-10-02T15:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191854",
    "user": "mderickx"
}
```

Attachment [15246-xkcd.patch](tarball://root/attachments/some-uuid/ticket15246/15246-xkcd.patch) by mderickx created at 2013-10-02 15:04:21



---

archive/issue_comments_191855.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-10-02T15:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191855",
    "user": "mderickx"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_191856.json:
```json
{
    "body": "Ok, I changed the patch according to your comment.",
    "created_at": "2013-10-02T15:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191856",
    "user": "mderickx"
}
```

Ok, I changed the patch according to your comment.



---

archive/issue_comments_191857.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-06T15:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191857",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_191858.json:
```json
{
    "body": "Useless. Sage is not the place for that.",
    "created_at": "2014-01-06T15:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191858",
    "user": "chapoton"
}
```

Useless. Sage is not the place for that.



---

archive/issue_comments_191859.json:
```json
{
    "body": "Reassigning a ticket to \"won't fix\" *and* giving the positive review by the same person is bad form. I happen to think it's a fun easter egg. Xkcd often does have relevant and highly quotable mathematics-related cartoons.",
    "created_at": "2014-01-06T16:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191859",
    "user": "nbruin"
}
```

Reassigning a ticket to "won't fix" *and* giving the positive review by the same person is bad form. I happen to think it's a fun easter egg. Xkcd often does have relevant and highly quotable mathematics-related cartoons.



---

archive/issue_comments_191860.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2014-01-06T16:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191860",
    "user": "nbruin"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_191861.json:
```json
{
    "body": "Ok.\n\nSorry for misbehaving.\n\nI still think that this has nothing to do here, and that kids should go and play elsewhere.",
    "created_at": "2014-01-06T16:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191861",
    "user": "chapoton"
}
```

Ok.

Sorry for misbehaving.

I still think that this has nothing to do here, and that kids should go and play elsewhere.



---

archive/issue_comments_191862.json:
```json
{
    "body": "I happen to think there is a valid reason to insert this easter egg: it might earn Sage a mention in a future xkcd comic, which would be excellent marketing. I can even imagine a \"Droste effect\" where one of the characters uses Sage, mistypes the xgcd command and sees... him/herself.\n\nMy one complaint is the use of an NSFW doctest. Surely we can be less immature than that! (This reminds me of the discovery of \"B00B135\" in some shipped Microsoft code. Not helpful.)",
    "created_at": "2014-01-08T02:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191862",
    "user": "kedlaya"
}
```

I happen to think there is a valid reason to insert this easter egg: it might earn Sage a mention in a future xkcd comic, which would be excellent marketing. I can even imagine a "Droste effect" where one of the characters uses Sage, mistypes the xgcd command and sees... him/herself.

My one complaint is the use of an NSFW doctest. Surely we can be less immature than that! (This reminds me of the discovery of "B00B135" in some shipped Microsoft code. Not helpful.)



---

archive/issue_comments_191863.json:
```json
{
    "body": "> I happen to think there is a valid reason to insert this easter egg: it might earn Sage a mention in a future xkcd comic, which would be excellent marketing. I can even imagine a \"Droste effect\" where one of the characters uses Sage, mistypes the xgcd command and sees... him/herself.\nGiven that the author has already been interviewed in Math Horizons, I think this is a definite possibility.\n> My one complaint is the use of an NSFW doctest. Surely we can be less immature than that! (This reminds me of the discovery of \"B00B135\" in some shipped Microsoft code. Not helpful.)\nHmm, very good point.  Although the specific comic itself is probably one of the greatest ones out there for \"pure\" math types (though I was amazed at the haters out there for this one).  Maybe we can use the ... in the title attribute of the img link?  Or do you have a different comic suggestion?  I looked a few just now but the rest of the better math-specific ones are (of course) somewhat more sub-discipline specific.",
    "created_at": "2014-01-08T03:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191863",
    "user": "kcrisman"
}
```

> I happen to think there is a valid reason to insert this easter egg: it might earn Sage a mention in a future xkcd comic, which would be excellent marketing. I can even imagine a "Droste effect" where one of the characters uses Sage, mistypes the xgcd command and sees... him/herself.
Given that the author has already been interviewed in Math Horizons, I think this is a definite possibility.
> My one complaint is the use of an NSFW doctest. Surely we can be less immature than that! (This reminds me of the discovery of "B00B135" in some shipped Microsoft code. Not helpful.)
Hmm, very good point.  Although the specific comic itself is probably one of the greatest ones out there for "pure" math types (though I was amazed at the haters out there for this one).  Maybe we can use the ... in the title attribute of the img link?  Or do you have a different comic suggestion?  I looked a few just now but the rest of the better math-specific ones are (of course) somewhat more sub-discipline specific.



---

archive/issue_comments_191864.json:
```json
{
    "body": "However, let's move it to the correct component :)",
    "created_at": "2014-01-08T03:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191864",
    "user": "kcrisman"
}
```

However, let's move it to the correct component :)



---

archive/issue_comments_191865.json:
```json
{
    "body": "Changing component from number theory to user interface.",
    "created_at": "2014-01-08T03:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191865",
    "user": "kcrisman"
}
```

Changing component from number theory to user interface.



---

archive/issue_comments_191866.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2014-01-08T03:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191866",
    "user": "kcrisman"
}
```

Changing priority from major to minor.



---

archive/issue_comments_191867.json:
```json
{
    "body": "So this ticket seems that this ticket is getting some attention again. I would like to adres the comments above so that this ticket can get a positive review and get merged. \n\nHowever before this the question: should this ticket be \"won't fix\" or should it be given a mile stone again in order to get merged still has to be settled. Right now there only seems to be one person that thinks that this should be \"won't fix\". So I would say we should give it a mile stone again. But it doesn't feel like good behavior to do that myself as I am the author of this ticket.",
    "created_at": "2014-01-08T14:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191867",
    "user": "mderickx"
}
```

So this ticket seems that this ticket is getting some attention again. I would like to adres the comments above so that this ticket can get a positive review and get merged. 

However before this the question: should this ticket be "won't fix" or should it be given a mile stone again in order to get merged still has to be settled. Right now there only seems to be one person that thinks that this should be "won't fix". So I would say we should give it a mile stone again. But it doesn't feel like good behavior to do that myself as I am the author of this ticket.



---

archive/issue_comments_191868.json:
```json
{
    "body": "Sorry, I had meant to change the milestone back but I forgot.",
    "created_at": "2014-01-08T15:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191868",
    "user": "kedlaya"
}
```

Sorry, I had meant to change the milestone back but I forgot.



---

archive/issue_comments_191869.json:
```json
{
    "body": "1. Please remove the alt text as requested by Kedlaya.\n\n2. **Never** use a bare `except:`, always use `except Exception:` or even better, catch a specific exception.\n\n3. Can you avoid the `finally: file.close()` using a `with:` statement?",
    "created_at": "2014-07-31T22:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191869",
    "user": "jdemeyer"
}
```

1. Please remove the alt text as requested by Kedlaya.

2. **Never** use a bare `except:`, always use `except Exception:` or even better, catch a specific exception.

3. Can you avoid the `finally: file.close()` using a `with:` statement?



---

archive/issue_comments_191870.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-31T22:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191870",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_191871.json:
```json
{
    "body": "On further reflection, I suppose we should still doctest alt text. Maybe use comic 353 (Python) for that instead?",
    "created_at": "2014-07-31T22:58:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191871",
    "user": "kedlaya"
}
```

On further reflection, I suppose we should still doctest alt text. Maybe use comic 353 (Python) for that instead?



---

archive/issue_comments_191872.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-03T19:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191872",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_191873.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-08-03T19:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191873",
    "user": "aapitzsch"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_191874.json:
```json
{
    "body": "Rebase perhaps? Given that the original doctest was considered unprofessional, perhaps we do not want it to become part of the history of sage?",
    "created_at": "2014-08-03T19:47:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191874",
    "user": "nbruin"
}
```

Rebase perhaps? Given that the original doctest was considered unprofessional, perhaps we do not want it to become part of the history of sage?



---

archive/issue_comments_191875.json:
```json
{
    "body": "Replying to [comment:22 nbruin]:\n> Rebase perhaps? Given that the original doctest was considered unprofessional, perhaps we do not want it to become part of the history of sage?\n\nDone.",
    "created_at": "2014-08-03T19:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191875",
    "user": "aapitzsch"
}
```

Replying to [comment:22 nbruin]:
> Rebase perhaps? Given that the original doctest was considered unprofessional, perhaps we do not want it to become part of the history of sage?

Done.



---

archive/issue_comments_191876.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-08-05T11:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191876",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_191877.json:
```json
{
    "body": "LGTM (unless it's easy to open a web browser only in the command line a la `import antigravity`).",
    "created_at": "2014-08-17T07:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191877",
    "user": "tscrim"
}
```

LGTM (unless it's easy to open a web browser only in the command line a la `import antigravity`).



---

archive/issue_comments_191878.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-17T07:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191878",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_191879.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-08-18T14:54:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191879",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_191880.json:
```json
{
    "body": "AT LAST !\n\nNathann",
    "created_at": "2014-08-19T09:38:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191880",
    "user": "ncohen"
}
```

AT LAST !

Nathann



---

archive/issue_comments_191881.json:
```json
{
    "body": "HMmmm... Looks like sending this message erased the \"commit\" field, but I can't set it back `O_o`\n\nNathann",
    "created_at": "2014-08-19T09:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191881",
    "user": "ncohen"
}
```

HMmmm... Looks like sending this message erased the "commit" field, but I can't set it back `O_o`

Nathann



---

archive/issue_comments_191882.json:
```json
{
    "body": "See #23348 as a followup.",
    "created_at": "2017-07-01T23:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15009",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15009#issuecomment-191882",
    "user": "kcrisman"
}
```

See #23348 as a followup.
