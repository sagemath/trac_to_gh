# Issue 31564: update mpmath to 1.2.1

archive/issues_031327.json:
```json
{
    "assignees": [],
    "body": "the latest version of mpmath is 1.2.1, the previous update, to 1.1.0, was more than 2 years ago in 23d134cce41, in #26969\n\n\n\nCC:  @mkoeppe @kiwifb\n\nBranch/Commit: **[`f4a6074`](https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Isuru Fernando**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31564_\n\n",
    "closed_at": "2021-06-21T21:17:46Z",
    "created_at": "2021-03-26T08:45:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "update mpmath to 1.2.1",
    "type": "issue",
    "updated_at": "2021-06-21T21:17:46Z",
    "url": "https://github.com/sagemath/sage/issues/31564",
    "user": "https://github.com/dimpase"
}
```
the latest version of mpmath is 1.2.1, the previous update, to 1.1.0, was more than 2 years ago in 23d134cce41, in #26969



CC:  @mkoeppe @kiwifb

Branch/Commit: **[`f4a6074`](https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **Isuru Fernando**

Author: **Dima Pasechnik**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/31564_





---

archive/issue_events_432063.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T08:45:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432063"
}
```



---

archive/issue_events_432064.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T08:45:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432064"
}
```



---

archive/issue_events_432065.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T08:45:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432065"
}
```



---

archive/issue_events_432066.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T08:45:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432066"
}
```



---

archive/issue_comments_507274.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nmpmath 1.2.1 (not 1.2.0) seems to be the latest mpmath",
    "created_at": "2021-03-26T09:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507274",
    "user": "https://github.com/rocky"
}
```

<div id="comment:1" align="right">comment:1</div>

mpmath 1.2.1 (not 1.2.0) seems to be the latest mpmath



---

archive/issue_events_432067.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T09:50:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432067"
}
```



---

archive/issue_comments_507275.json:
```json
{
    "body": "Commit: **[`5d7c935`](https://github.com/sagemath/sagetrac-mirror/commit/5d7c935e36b52747caa30c1879cfec11789d0413)**",
    "created_at": "2021-03-26T09:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507275",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`5d7c935`](https://github.com/sagemath/sagetrac-mirror/commit/5d7c935e36b52747caa30c1879cfec11789d0413)**



---

archive/issue_comments_507276.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2021-03-26T09:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507276",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_507277.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/mpmath/v112](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpmath/v112)**",
    "created_at": "2021-03-26T09:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507277",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/mpmath/v112](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpmath/v112)**



---

archive/issue_comments_507278.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d7c935e36b52747caa30c1879cfec11789d0413\"><code>5d7c935</code></a></td><td><code>update mpmath to 1.1.2</code></td></tr></table>\n",
    "created_at": "2021-03-26T09:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507278",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d7c935e36b52747caa30c1879cfec11789d0413"><code>5d7c935</code></a></td><td><code>update mpmath to 1.1.2</code></td></tr></table>




---

archive/issue_comments_507279.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@rocky](#comment%3A1):\n> mpmath 1.2.1 (not 1.2.0) seems to be the latest mpmath\n\nmpmath homepage says 1.2.0\n\nI've openened https://github.com/fredrik-johansson/mpmath/issues/584\nto clarify.",
    "created_at": "2021-03-26T09:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507279",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@rocky](#comment%3A1):
> mpmath 1.2.1 (not 1.2.0) seems to be the latest mpmath

mpmath homepage says 1.2.0

I've openened https://github.com/fredrik-johansson/mpmath/issues/584
to clarify.



---

archive/issue_comments_507280.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2021-03-26T09:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507280",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_507281.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88d43cf69133344b59bb7a546fac2e84391f259a\"><code>88d43cf</code></a></td><td><code>update mpmath to 1.2.0</code></td></tr></table>\n",
    "created_at": "2021-03-26T10:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507281",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88d43cf69133344b59bb7a546fac2e84391f259a"><code>88d43cf</code></a></td><td><code>update mpmath to 1.2.0</code></td></tr></table>




---

archive/issue_comments_507282.json:
```json
{
    "body": "Changed commit from **[`5d7c935`](https://github.com/sagemath/sagetrac-mirror/commit/5d7c935e36b52747caa30c1879cfec11789d0413)** to **[`88d43cf`](https://github.com/sagemath/sagetrac-mirror/commit/88d43cf69133344b59bb7a546fac2e84391f259a)**",
    "created_at": "2021-03-26T10:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507282",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d7c935`](https://github.com/sagemath/sagetrac-mirror/commit/5d7c935e36b52747caa30c1879cfec11789d0413)** to **[`88d43cf`](https://github.com/sagemath/sagetrac-mirror/commit/88d43cf69133344b59bb7a546fac2e84391f259a)**



---

archive/issue_comments_507283.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nfixed typo in commit message",
    "created_at": "2021-03-26T10:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507283",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

fixed typo in commit message



---

archive/issue_events_432068.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T10:47:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432068"
}
```



---

archive/issue_events_432069.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T10:47:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432069"
}
```



---

archive/issue_comments_507284.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nhmm, this errors out with\n\n```\n[mpmath-1.2.0] ERROR: Could not find a version that satisfies the requirement setuptools_scm>=1.7.0\n[mpmath-1.2.0] ERROR: No matching distribution found for setuptools_scm>=1.7.0\n```",
    "created_at": "2021-03-26T10:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507284",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

hmm, this errors out with

```
[mpmath-1.2.0] ERROR: Could not find a version that satisfies the requirement setuptools_scm>=1.7.0
[mpmath-1.2.0] ERROR: No matching distribution found for setuptools_scm>=1.7.0
```



---

archive/issue_comments_507285.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nMatthias, any idea what can cause this? \n\nWith `u/mkoeppe/sagelib__add_setup_cfg__install_requires_` applied, I get a different error\n\n```\nInstalling mpmath-1.2.0\nTraceback (most recent call last):\n  File \"setup.py\", line 6, in <module>\n    setuptools.setup(use_scm_version=True)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/__init__.py\", line 153, in setup\n    return distutils.core.setup(**attrs)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/core.py\", line 108, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py\", line 424, in __init__\n    k: v for k, v in attrs.items()\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/dist.py\", line 293, in __init__\n    self.finalize_options()\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py\", line 695, in finalize_options\n    ep(self)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py\", line 702, in _finalize_setup_keywords\n    ep.load()(self, ep.name, value)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/integration.py\", line 26, in version_keyword\n    dist.metadata.version = _get_version(config)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py\", line 173, in _get_version\n    parsed_version = _do_parse(config)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py\", line 142, in _do_parse\n    \"use git+https://github.com/user/proj.git#egg=proj\" % config.absolute_root\nLookupError: setuptools-scm was unable to detect version for '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src'.\n\nMake sure you're either building from a fully intact git repository or PyPI tarballs. Most other sources (such as GitHub's tarballs, a git checkout without the .git folder) don't contain the necessary metadata and will not work.\n\nFor example, if you're using pip, instead of https://github.com/user/proj/archive/master.zip use git+https://github.com/user/proj.git#egg=proj\nError: could not determine package name\nWarning: Failure trying to uninstall a previous version of mpmath-1.2.0\nIgnoring indexes: https://pypi.org/simple\nCreated temporary directory: /home/scratch2/dimpase/tmp/pip-ephem-wheel-cache-a3rlnu1g\nCreated temporary directory: /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o\nInitialized build tracking at /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o\nCreated build tracker: /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o\nEntered build tracker: /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o\nCreated temporary directory: /home/scratch2/dimpase/tmp/pip-wheel-gt6q_58m\nProcessing /home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src\n  Created temporary directory: /home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k\n  Added file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src to build tracker '/home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o'\n    Running setup.py (path:/home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k/setup.py) egg_info for package from file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src\n    Created temporary directory: /home/scratch2/dimpase/tmp/pip-pip-egg-info-0589o42m\n    Running command python setup.py egg_info\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k/setup.py\", line 6, in <module>\n        setuptools.setup(use_scm_version=True)\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/__init__.py\", line 153, in setup\n        return distutils.core.setup(**attrs)\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/core.py\", line 108, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py\", line 424, in __init__\n        k: v for k, v in attrs.items()\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/dist.py\", line 293, in __init__\n        self.finalize_options()\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py\", line 695, in finalize_options\n        ep(self)\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py\", line 702, in _finalize_setup_keywords\n        ep.load()(self, ep.name, value)\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/integration.py\", line 26, in version_keyword\n        dist.metadata.version = _get_version(config)\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py\", line 173, in _get_version\n        parsed_version = _do_parse(config)\n      File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py\", line 142, in _do_parse\n        \"use git+https://github.com/user/proj.git#egg=proj\" % config.absolute_root\n    LookupError: setuptools-scm was unable to detect version for '/home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k'.\n\n    Make sure you're either building from a fully intact git repository or PyPI tarballs. Most other sources (such as GitHub's tarballs, a git checkout without the .git folder) don't contain the necessary metadata and will not work.\n\n    For example, if you're using pip, instead of https://github.com/user/proj/archive/master.zip use git+https://github.com/user/proj.git#egg=proj\nWARNING: Discarding file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src. Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\nException information:\nTraceback (most recent call last):\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/cli/base_command.py\", line 189, in _main\n    status = self.run(options, args)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/cli/req_command.py\", line 178, in wrapper\n    return func(self, options, args)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/commands/wheel.py\", line 159, in run\n    reqs, check_supported_wheels=True\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 101, in resolve\n    req, requested_extras=(),\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/factory.py\", line 316, in make_requirement_from_install_req\n    raise self._build_failures[ireq.link]\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_link\n    name=name, version=version,\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 306, in __init__\n    version=version,\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 144, in __init__\n    self.dist = self._prepare()\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 226, in _prepare\n    dist = self._prepare_distribution()\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 312, in _prepare_distribution\n    self._ireq, parallel_builds=True,\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/prepare.py\", line 457, in prepare_linked_requirement\n    return self._prepare_linked_requirement(req, parallel_builds)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/prepare.py\", line 501, in _prepare_linked_requirement\n    req, self.req_tracker, self.finder, self.build_isolation,\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/prepare.py\", line 66, in _get_prepared_distribution\n    abstract_dist.prepare_distribution_metadata(finder, build_isolation)\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/distributions/sdist.py\", line 41, in prepare_distribution_metadata\n    self.req.prepare_metadata()\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/req/req_install.py\", line 549, in prepare_metadata\n    self.metadata_directory = self._generate_metadata()\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/req/req_install.py\", line 529, in _generate_metadata\n    details=self.name or f\"from {self.link}\"\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/build/metadata_legacy.py\", line 73, in generate_metadata\n    command_desc='python setup.py egg_info',\n  File \"/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/utils/subprocess.py\", line 258, in call_subprocess\n    raise InstallationSubprocessError(proc.returncode, command_desc)\npip._internal.exceptions.InstallationSubprocessError: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\nRemoved file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src from build tracker '/home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o'\nRemoved build tracker: '/home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o'\n********************************************************************************************************************************************************************************************************************************************************************************************\nError building a wheel for mpmath-1.2.0\n```",
    "created_at": "2021-03-26T10:56:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507285",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

Matthias, any idea what can cause this? 

With `u/mkoeppe/sagelib__add_setup_cfg__install_requires_` applied, I get a different error

```
Installing mpmath-1.2.0
Traceback (most recent call last):
  File "setup.py", line 6, in <module>
    setuptools.setup(use_scm_version=True)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/__init__.py", line 153, in setup
    return distutils.core.setup(**attrs)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/core.py", line 108, in setup
    _setup_distribution = dist = klass(attrs)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py", line 424, in __init__
    k: v for k, v in attrs.items()
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/dist.py", line 293, in __init__
    self.finalize_options()
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py", line 695, in finalize_options
    ep(self)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py", line 702, in _finalize_setup_keywords
    ep.load()(self, ep.name, value)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/integration.py", line 26, in version_keyword
    dist.metadata.version = _get_version(config)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py", line 173, in _get_version
    parsed_version = _do_parse(config)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py", line 142, in _do_parse
    "use git+https://github.com/user/proj.git#egg=proj" % config.absolute_root
LookupError: setuptools-scm was unable to detect version for '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src'.

Make sure you're either building from a fully intact git repository or PyPI tarballs. Most other sources (such as GitHub's tarballs, a git checkout without the .git folder) don't contain the necessary metadata and will not work.

For example, if you're using pip, instead of https://github.com/user/proj/archive/master.zip use git+https://github.com/user/proj.git#egg=proj
Error: could not determine package name
Warning: Failure trying to uninstall a previous version of mpmath-1.2.0
Ignoring indexes: https://pypi.org/simple
Created temporary directory: /home/scratch2/dimpase/tmp/pip-ephem-wheel-cache-a3rlnu1g
Created temporary directory: /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o
Initialized build tracking at /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o
Created build tracker: /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o
Entered build tracker: /home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o
Created temporary directory: /home/scratch2/dimpase/tmp/pip-wheel-gt6q_58m
Processing /home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src
  Created temporary directory: /home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k
  Added file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src to build tracker '/home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o'
    Running setup.py (path:/home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k/setup.py) egg_info for package from file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src
    Created temporary directory: /home/scratch2/dimpase/tmp/pip-pip-egg-info-0589o42m
    Running command python setup.py egg_info
    Traceback (most recent call last):
      File "<string>", line 1, in <module>
      File "/home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k/setup.py", line 6, in <module>
        setuptools.setup(use_scm_version=True)
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/__init__.py", line 153, in setup
        return distutils.core.setup(**attrs)
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/core.py", line 108, in setup
        _setup_distribution = dist = klass(attrs)
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py", line 424, in __init__
        k: v for k, v in attrs.items()
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/_distutils/dist.py", line 293, in __init__
        self.finalize_options()
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py", line 695, in finalize_options
        ep(self)
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools/dist.py", line 702, in _finalize_setup_keywords
        ep.load()(self, ep.name, value)
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/integration.py", line 26, in version_keyword
        dist.metadata.version = _get_version(config)
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py", line 173, in _get_version
        parsed_version = _do_parse(config)
      File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/setuptools_scm/__init__.py", line 142, in _do_parse
        "use git+https://github.com/user/proj.git#egg=proj" % config.absolute_root
    LookupError: setuptools-scm was unable to detect version for '/home/scratch2/dimpase/tmp/pip-req-build-m_nefw2k'.

    Make sure you're either building from a fully intact git repository or PyPI tarballs. Most other sources (such as GitHub's tarballs, a git checkout without the .git folder) don't contain the necessary metadata and will not work.

    For example, if you're using pip, instead of https://github.com/user/proj/archive/master.zip use git+https://github.com/user/proj.git#egg=proj
WARNING: Discarding file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src. Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.
ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.
Exception information:
Traceback (most recent call last):
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/cli/base_command.py", line 189, in _main
    status = self.run(options, args)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/cli/req_command.py", line 178, in wrapper
    return func(self, options, args)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/commands/wheel.py", line 159, in run
    reqs, check_supported_wheels=True
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/resolver.py", line 101, in resolve
    req, requested_extras=(),
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/factory.py", line 316, in make_requirement_from_install_req
    raise self._build_failures[ireq.link]
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/factory.py", line 169, in _make_candidate_from_link
    name=name, version=version,
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py", line 306, in __init__
    version=version,
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py", line 144, in __init__
    self.dist = self._prepare()
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py", line 226, in _prepare
    dist = self._prepare_distribution()
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/resolution/resolvelib/candidates.py", line 312, in _prepare_distribution
    self._ireq, parallel_builds=True,
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/prepare.py", line 457, in prepare_linked_requirement
    return self._prepare_linked_requirement(req, parallel_builds)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/prepare.py", line 501, in _prepare_linked_requirement
    req, self.req_tracker, self.finder, self.build_isolation,
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/prepare.py", line 66, in _get_prepared_distribution
    abstract_dist.prepare_distribution_metadata(finder, build_isolation)
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/distributions/sdist.py", line 41, in prepare_distribution_metadata
    self.req.prepare_metadata()
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/req/req_install.py", line 549, in prepare_metadata
    self.metadata_directory = self._generate_metadata()
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/req/req_install.py", line 529, in _generate_metadata
    details=self.name or f"from {self.link}"
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/operations/build/metadata_legacy.py", line 73, in generate_metadata
    command_desc='python setup.py egg_info',
  File "/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/pip/_internal/utils/subprocess.py", line 258, in call_subprocess
    raise InstallationSubprocessError(proc.returncode, command_desc)
pip._internal.exceptions.InstallationSubprocessError: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.
Removed file:///home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/mpmath-1.2.0/src from build tracker '/home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o'
Removed build tracker: '/home/scratch2/dimpase/tmp/pip-req-tracker-1jcod24o'
********************************************************************************************************************************************************************************************************************************************************************************************
Error building a wheel for mpmath-1.2.0
```



---

archive/issue_comments_507286.json:
```json
{
    "body": "Changed commit from **[`88d43cf`](https://github.com/sagemath/sagetrac-mirror/commit/88d43cf69133344b59bb7a546fac2e84391f259a)** to **[`ed52890`](https://github.com/sagemath/sagetrac-mirror/commit/ed5289033e26b2f06a3afe9c548a4ee5ed3aceed)**",
    "created_at": "2021-03-26T11:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507286",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`88d43cf`](https://github.com/sagemath/sagetrac-mirror/commit/88d43cf69133344b59bb7a546fac2e84391f259a)** to **[`ed52890`](https://github.com/sagemath/sagetrac-mirror/commit/ed5289033e26b2f06a3afe9c548a4ee5ed3aceed)**



---

archive/issue_comments_507287.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed5289033e26b2f06a3afe9c548a4ee5ed3aceed\"><code>ed52890</code></a></td><td><code>disable scm use by setuptools</code></td></tr></table>\n",
    "created_at": "2021-03-26T11:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507287",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed5289033e26b2f06a3afe9c548a4ee5ed3aceed"><code>ed52890</code></a></td><td><code>disable scm use by setuptools</code></td></tr></table>




---

archive/issue_events_432070.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T11:50:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432070"
}
```



---

archive/issue_events_432071.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T11:50:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432071"
}
```



---

archive/issue_comments_507288.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOK, so this is an upstream bug, fixed by the latest commit.",
    "created_at": "2021-03-26T11:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507288",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

OK, so this is an upstream bug, fixed by the latest commit.



---

archive/issue_comments_507289.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI've opened https://github.com/fredrik-johansson/mpmath/pull/585",
    "created_at": "2021-03-26T12:02:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507289",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

I've opened https://github.com/fredrik-johansson/mpmath/pull/585



---

archive/issue_comments_507290.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@dimpase](#comment%3A3):\n> Replying to [@rocky](#comment%3A1):\n> > mpmath 1.2.1 (not 1.2.0) seems to be the latest mpmath\n\n> \n> mpmath homepage says 1.2.0\n> \n> I've openened https://github.com/fredrik-johansson/mpmath/issues/584\n> to clarify.\n> \n\nGenerally I think the releases on PyPI should be taken as authoritative. After all, they are what Python users get when they use pip.",
    "created_at": "2021-03-26T15:57:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507290",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@dimpase](#comment%3A3):
> Replying to [@rocky](#comment%3A1):
> > mpmath 1.2.1 (not 1.2.0) seems to be the latest mpmath

> 
> mpmath homepage says 1.2.0
> 
> I've openened https://github.com/fredrik-johansson/mpmath/issues/584
> to clarify.
> 

Generally I think the releases on PyPI should be taken as authoritative. After all, they are what Python users get when they use pip.



---

archive/issue_events_432072.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T15:57:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432072"
}
```



---

archive/issue_events_432073.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T15:57:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432073"
}
```



---

archive/issue_comments_507291.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAlso please expand the description. What is the purpose of the update? Does it address the issues raised in #25445? Or is it preparation for that?",
    "created_at": "2021-03-26T15:58:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507291",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Also please expand the description. What is the purpose of the update? Does it address the issues raised in #25445? Or is it preparation for that?



---

archive/issue_comments_507292.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@mkoeppe](#comment%3A14):\n> Also please expand the description. What is the purpose of the update? Does it address the issues raised in #25445? Or is it preparation for that?\n\nDon't take this as authoritative, but based on the experience in https://github.com/mathics/Mathics/issues/1169#issuecomment-806532433 mpmath 1.2.x may be necessary. (Or it that seemed to be the case for mpmath on the Fedora distribution.) \n\nBut I also suspect it is not sufficient because mpmath has code, which seems to go back for a long time, that special cases when the \"backend\" is sage.",
    "created_at": "2021-03-26T16:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507292",
    "user": "https://github.com/rocky"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@mkoeppe](#comment%3A14):
> Also please expand the description. What is the purpose of the update? Does it address the issues raised in #25445? Or is it preparation for that?

Don't take this as authoritative, but based on the experience in https://github.com/mathics/Mathics/issues/1169#issuecomment-806532433 mpmath 1.2.x may be necessary. (Or it that seemed to be the case for mpmath on the Fedora distribution.) 

But I also suspect it is not sufficient because mpmath has code, which seems to go back for a long time, that special cases when the "backend" is sage.



---

archive/issue_events_432074.json:
```json
{
    "actor": "https://github.com/rocky",
    "created_at": "2021-03-26T19:00:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "title_is": "update mpmath to 1.2.1",
    "title_was": "update mpmath to 1.2.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432074"
}
```



---

archive/issue_comments_507293.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nFor what it is worth the differences between 1.2.0 and 1.2.1 are administrative and packaging rather than code or functional changes. \n\nSee https://github.com/fredrik-johansson/mpmath/compare/1.2.0...1.2.1 for the changes.",
    "created_at": "2021-03-26T19:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507293",
    "user": "https://github.com/rocky"
}
```

<div id="comment:18" align="right">comment:18</div>

For what it is worth the differences between 1.2.0 and 1.2.1 are administrative and packaging rather than code or functional changes. 

See https://github.com/fredrik-johansson/mpmath/compare/1.2.0...1.2.1 for the changes.



---

archive/issue_comments_507294.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nattention shoud be paid to updating just updated ticket, it can revert edits.",
    "created_at": "2021-03-26T21:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507294",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

attention shoud be paid to updating just updated ticket, it can revert edits.



---

archive/issue_comments_507295.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@rocky](#comment%3A18):\n> For what it is worth the differences between 1.2.0 and 1.2.1 are administrative and packaging rather than code or functional changes. \n> \n> See https://github.com/fredrik-johansson/mpmath/compare/1.2.0...1.2.1 for the changes.\n\nperhaps it removed the need for \u200bthe patch in ed52890.",
    "created_at": "2021-03-26T21:26:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507295",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@rocky](#comment%3A18):
> For what it is worth the differences between 1.2.0 and 1.2.1 are administrative and packaging rather than code or functional changes. 
> 
> See https://github.com/fredrik-johansson/mpmath/compare/1.2.0...1.2.1 for the changes.

perhaps it removed the need for ​the patch in ed52890.



---

archive/issue_comments_507296.json:
```json
{
    "body": "Changed commit from **[`ed52890`](https://github.com/sagemath/sagetrac-mirror/commit/ed5289033e26b2f06a3afe9c548a4ee5ed3aceed)** to **[`f4a6074`](https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9)**",
    "created_at": "2021-03-26T21:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507296",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ed52890`](https://github.com/sagemath/sagetrac-mirror/commit/ed5289033e26b2f06a3afe9c548a4ee5ed3aceed)** to **[`f4a6074`](https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9)**



---

archive/issue_comments_507297.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9\"><code>f4a6074</code></a></td><td><code>update mpmath to 1.2.1</code></td></tr></table>\n",
    "created_at": "2021-03-26T21:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507297",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9"><code>f4a6074</code></a></td><td><code>update mpmath to 1.2.1</code></td></tr></table>




---

archive/issue_comments_507298.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOK, 1.2.1 at least fixes the setuptools bug I had to patch for 1.2.0.",
    "created_at": "2021-03-26T21:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507298",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

OK, 1.2.1 at least fixes the setuptools bug I had to patch for 1.2.0.



---

archive/issue_comments_507299.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n-https://mpmath.org/files/mpmath-1.2.0.tar.gz\n+the latest version of mpmath is 1.2.1, the previous update, to 1.1.0, was more than 2 years ago in 23d134cce41, in #26969\n \n+\n``````\n",
    "created_at": "2021-03-26T22:57:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507299",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
-https://mpmath.org/files/mpmath-1.2.0.tar.gz
+the latest version of mpmath is 1.2.1, the previous update, to 1.1.0, was more than 2 years ago in 23d134cce41, in #26969
 
+
``````




---

archive/issue_events_432075.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T22:57:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432075"
}
```



---

archive/issue_events_432076.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-26T22:57:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432076"
}
```



---

archive/issue_events_432077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-15T02:16:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432077"
}
```



---

archive/issue_events_432078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-15T02:16:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432078"
}
```



---

archive/issue_events_432079.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2021-06-08T23:40:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432079"
}
```



---

archive/issue_events_432080.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2021-06-08T23:40:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432080"
}
```



---

archive/issue_comments_507300.json:
```json
{
    "body": "Reviewer: **Isuru Fernando**",
    "created_at": "2021-06-08T23:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507300",
    "user": "https://github.com/isuruf"
}
```

Reviewer: **Isuru Fernando**



---

archive/issue_events_432081.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-21T21:17:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432081"
}
```



---

archive/issue_events_432082.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2e800ee227159ddb6422b5d5f76cb4eb95fdd4df",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-06-21T21:17:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31564#event-432082"
}
```



---

archive/issue_comments_507301.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/mpmath/v112](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpmath/v112)** to **[`f4a6074`](https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9)**",
    "created_at": "2021-06-21T21:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31564",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31564#issuecomment-507301",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/mpmath/v112](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpmath/v112)** to **[`f4a6074`](https://github.com/sagemath/sagetrac-mirror/commit/f4a60740a7d6f47ec0cbf609b56d596f41a769f9)**
