# Issue 31163: build/make/Makefile.in: For script packages without spkg-install, run "sage -info" and exit with error

archive/issues_030926.json:
```json
{
    "assignees": [],
    "body": "Then scripts like `build/pkgs/perl_cpan_polymake_prereq/spkg-install` can be removed.\n\nThis will help toward #31522 - because the GH Actions scripts can just avoid trying to install these packages.\n\n\nCC:  @kliem @jhpalmieri @slel\n\nBranch/Commit: **[`c1bf356`](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf)**\n\nReviewer: **John Palmieri**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31163_\n\n",
    "closed_at": "2021-10-13T22:50:18Z",
    "created_at": "2021-01-02T20:35:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "build/make/Makefile.in: For script packages without spkg-install, run \"sage -info\" and exit with error",
    "type": "issue",
    "updated_at": "2021-10-13T22:50:18Z",
    "url": "https://github.com/sagemath/sage/issues/31163",
    "user": "https://github.com/mkoeppe"
}
```
Then scripts like `build/pkgs/perl_cpan_polymake_prereq/spkg-install` can be removed.

This will help toward #31522 - because the GH Actions scripts can just avoid trying to install these packages.


CC:  @kliem @jhpalmieri @slel

Branch/Commit: **[`c1bf356`](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf)**

Reviewer: **John Palmieri**

Author: **Matthias Koeppe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/31163_





---

archive/issue_events_429639.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-02T20:35:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429639"
}
```



---

archive/issue_events_429640.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-02T20:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429640"
}
```



---

archive/issue_events_429641.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-02T20:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429641"
}
```



---

archive/issue_events_429642.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-02T20:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429642"
}
```



---

archive/issue_comments_499438.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499438",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">comment:1</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_429643.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429643"
}
```



---

archive/issue_events_429644.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429644"
}
```



---

archive/issue_events_429645.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429645"
}
```



---

archive/issue_events_429646.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429646"
}
```



---

archive/issue_comments_499439.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n Then scripts like `build/pkgs/perl_cpan_polymake_prereq/spkg-install` can be removed.\n \n+This will help toward #31522 - because the GH Actions scripts can just avoid trying to install these packages.\n+\n``````\n",
    "created_at": "2021-09-18T18:37:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499439",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 Then scripts like `build/pkgs/perl_cpan_polymake_prereq/spkg-install` can be removed.
 
+This will help toward #31522 - because the GH Actions scripts can just avoid trying to install these packages.
+
``````




---

archive/issue_events_429647.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-18T18:38:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "title_is": "build/make/Makefile.in: For script packages without spkg-install, run \"sage -info\" and exit with error",
    "title_was": "sage-spkg: For script packages without spkg-install, run \"sage -info\" and exit with error",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429647"
}
```



---

archive/issue_comments_499440.json:
```json
{
    "body": "Branch: **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)**",
    "created_at": "2021-09-18T19:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499440",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)**



---

archive/issue_comments_499441.json:
```json
{
    "body": "Commit: **[`8f782c0`](https://github.com/sagemath/sagetrac-mirror/commit/8f782c01dbc947dcf386303444402b280346f14c)**",
    "created_at": "2021-09-18T19:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499441",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`8f782c0`](https://github.com/sagemath/sagetrac-mirror/commit/8f782c01dbc947dcf386303444402b280346f14c)**



---

archive/issue_comments_499442.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2576f86d5b782b81746f5e8a961d848d5757082f\"><code>2576f86</code></a></td><td><code>build/make/Makefile.in: If a script package has no spkg-install, run \"sage -info\" and exit with error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/feb8de7542cc2d97c1b43f114dc2d96db313a22d\"><code>feb8de7</code></a></td><td><code>build/pkgs/: Remove spkg-install scripts for dummy script packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f782c01dbc947dcf386303444402b280346f14c\"><code>8f782c0</code></a></td><td><code>.github/workflows/tox-{optional,experimental}.yml: Do not try to test dummy script packages</code></td></tr></table>\n",
    "created_at": "2021-09-18T19:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499442",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2576f86d5b782b81746f5e8a961d848d5757082f"><code>2576f86</code></a></td><td><code>build/make/Makefile.in: If a script package has no spkg-install, run "sage -info" and exit with error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/feb8de7542cc2d97c1b43f114dc2d96db313a22d"><code>feb8de7</code></a></td><td><code>build/pkgs/: Remove spkg-install scripts for dummy script packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f782c01dbc947dcf386303444402b280346f14c"><code>8f782c0</code></a></td><td><code>.github/workflows/tox-{optional,experimental}.yml: Do not try to test dummy script packages</code></td></tr></table>




---

archive/issue_events_429648.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-18T19:23:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429648"
}
```



---

archive/issue_comments_499443.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-09-18T19:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499443",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_499444.json:
```json
{
    "body": "Reviewer: **https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115**",
    "created_at": "2021-09-18T19:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499444",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115**



---

archive/issue_comments_499445.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b292bef2d14ad14c71baf0cba22d07d7a5b55d7\"><code>4b292be</code></a></td><td><code>build/pkgs/perl_mongodb/spkg-install: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7b63520b3cc2daa5a7da2f6b7218f40211d92fc\"><code>a7b6352</code></a></td><td><code>build/bin/sage-spkg-info: Fix display of system packages</code></td></tr></table>\n",
    "created_at": "2021-09-20T04:22:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499445",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b292bef2d14ad14c71baf0cba22d07d7a5b55d7"><code>4b292be</code></a></td><td><code>build/pkgs/perl_mongodb/spkg-install: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7b63520b3cc2daa5a7da2f6b7218f40211d92fc"><code>a7b6352</code></a></td><td><code>build/bin/sage-spkg-info: Fix display of system packages</code></td></tr></table>




---

archive/issue_comments_499446.json:
```json
{
    "body": "Changed commit from **[`8f782c0`](https://github.com/sagemath/sagetrac-mirror/commit/8f782c01dbc947dcf386303444402b280346f14c)** to **[`a7b6352`](https://github.com/sagemath/sagetrac-mirror/commit/a7b63520b3cc2daa5a7da2f6b7218f40211d92fc)**",
    "created_at": "2021-09-20T04:22:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499446",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8f782c0`](https://github.com/sagemath/sagetrac-mirror/commit/8f782c01dbc947dcf386303444402b280346f14c)** to **[`a7b6352`](https://github.com/sagemath/sagetrac-mirror/commit/a7b63520b3cc2daa5a7da2f6b7218f40211d92fc)**



---

archive/issue_comments_499447.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nComparing https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115 with https://github.com/sagemath/sage/actions/runs/1231575049 shows much fewer \"ERROR IN LOG FILE\" annotations.\n\nReady for review",
    "created_at": "2021-09-20T04:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499447",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Comparing https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115 with https://github.com/sagemath/sage/actions/runs/1231575049 shows much fewer "ERROR IN LOG FILE" annotations.

Ready for review



---

archive/issue_comments_499448.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nA small issue: running `./sage -i graphviz` prints this at the end:\n\n```\nThe following package(s) may have failed to build (not necessarily\nduring this run of 'make graphviz'):\n\nIt is safe to delete any log files and build directories, but they\ncontain information that is helpful for debugging build problems.\nWARNING: If you now run 'make' again, the build directory of the\nsame version of the package will, by default, be deleted. Set the\nenvironment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.\n```\nShould `sage --info ...` also write the output to a log file with an appropriate error so that it gets flagged in this message?",
    "created_at": "2021-09-21T04:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499448",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:10" align="right">comment:10</div>

A small issue: running `./sage -i graphviz` prints this at the end:

```
The following package(s) may have failed to build (not necessarily
during this run of 'make graphviz'):

It is safe to delete any log files and build directories, but they
contain information that is helpful for debugging build problems.
WARNING: If you now run 'make' again, the build directory of the
same version of the package will, by default, be deleted. Set the
environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.
```
Should `sage --info ...` also write the output to a log file with an appropriate error so that it gets flagged in this message?



---

archive/issue_comments_499449.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI don't think this would be very useful. The output already goes to `logs/install.log`",
    "created_at": "2021-09-21T04:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499449",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

I don't think this would be very useful. The output already goes to `logs/install.log`



---

archive/issue_comments_499450.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAlso, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said\n\n```\nconfigure:43560: result: graphviz-none:                               using system package; SPKG will not be installed\n```\nIt would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.",
    "created_at": "2021-09-21T15:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499450",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

Also, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said

```
configure:43560: result: graphviz-none:                               using system package; SPKG will not be installed
```
It would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.



---

archive/issue_comments_499451.json:
```json
{
    "body": "Changed commit from **[`a7b6352`](https://github.com/sagemath/sagetrac-mirror/commit/a7b63520b3cc2daa5a7da2f6b7218f40211d92fc)** to **[`e65b309`](https://github.com/sagemath/sagetrac-mirror/commit/e65b3092f97226196a5ea2de1b46508371745d00)**",
    "created_at": "2021-09-21T23:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499451",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7b6352`](https://github.com/sagemath/sagetrac-mirror/commit/a7b63520b3cc2daa5a7da2f6b7218f40211d92fc)** to **[`e65b309`](https://github.com/sagemath/sagetrac-mirror/commit/e65b3092f97226196a5ea2de1b46508371745d00)**



---

archive/issue_comments_499452.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e65b3092f97226196a5ea2de1b46508371745d00\"><code>e65b309</code></a></td><td><code>bootstrap: Do not provide ./configure --enable-SPKG options for dummy optional packages</code></td></tr></table>\n",
    "created_at": "2021-09-21T23:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499452",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e65b3092f97226196a5ea2de1b46508371745d00"><code>e65b309</code></a></td><td><code>bootstrap: Do not provide ./configure --enable-SPKG options for dummy optional packages</code></td></tr></table>




---

archive/issue_comments_499453.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd\"><code>b485d46</code></a></td><td><code>m4/sage_spkg_collect.m4: Do not advertise dummy optional packages as installable</code></td></tr></table>\n",
    "created_at": "2021-09-21T23:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499453",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd"><code>b485d46</code></a></td><td><code>m4/sage_spkg_collect.m4: Do not advertise dummy optional packages as installable</code></td></tr></table>




---

archive/issue_comments_499454.json:
```json
{
    "body": "Changed commit from **[`e65b309`](https://github.com/sagemath/sagetrac-mirror/commit/e65b3092f97226196a5ea2de1b46508371745d00)** to **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)**",
    "created_at": "2021-09-21T23:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499454",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e65b309`](https://github.com/sagemath/sagetrac-mirror/commit/e65b3092f97226196a5ea2de1b46508371745d00)** to **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)**



---

archive/issue_comments_499455.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jhpalmieri](#comment:12):\n> Also, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said\n> \n> ```\n> result: graphviz-none:                               using system package; SPKG will not be installed\n> ```\n\nIt also used to say:\n\n```\nperl_cpan_polymake_prereq-none:              no suitable system package; optional, use \"./configure --enable-perl_cpan_polymake_prereq\" to install\n```\n\nI just made some improvements to both of these messages. I am now getting:\n\n```\npandoc-none:                                 using system package\n...\nperl_cpan_polymake_prereq-none:              no suitable system package; optional\n```\n\nAlso I have removed the useless configure options `--enable-perl_cpan_polymake_prereq` (whose only function was to provoke an error at `make` time) -- so they are no longer shown in `./configure --help`.",
    "created_at": "2021-09-21T23:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499455",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jhpalmieri](#comment:12):
> Also, and I'm guessing this is beyond the scope of this ticket, but on my Mac I did `brew install graphviz` and then `./configure`, and it said
> 
> ```
> result: graphviz-none:                               using system package; SPKG will not be installed
> ```

It also used to say:

```
perl_cpan_polymake_prereq-none:              no suitable system package; optional, use "./configure --enable-perl_cpan_polymake_prereq" to install
```

I just made some improvements to both of these messages. I am now getting:

```
pandoc-none:                                 using system package
...
perl_cpan_polymake_prereq-none:              no suitable system package; optional
```

Also I have removed the useless configure options `--enable-perl_cpan_polymake_prereq` (whose only function was to provoke an error at `make` time) -- so they are no longer shown in `./configure --help`.



---

archive/issue_comments_499456.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jhpalmieri](#comment:12):\n> It would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.\n\nThis wouldn't be consistent with what `make SPKG` does for installable packages: When the system package is in use, `make SPKG` will nevertheless build the SPKG.\n\nWe unfortunately do not have make targets that would mean \"make sure that SPKG exists, either as system package or a built package\" -- see #31501 for this",
    "created_at": "2021-09-21T23:42:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499456",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jhpalmieri](#comment:12):
> It would be nice if `make graphviz` said that it was already installed as a system package, rather than giving the same error message as if it weren't installed.

This wouldn't be consistent with what `make SPKG` does for installable packages: When the system package is in use, `make SPKG` will nevertheless build the SPKG.

We unfortunately do not have make targets that would mean "make sure that SPKG exists, either as system package or a built package" -- see #31501 for this



---

archive/issue_comments_499457.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAlthough it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get \"Nothing to (re)build / all up-to-date.\" Should we treat an uninstallable system package like that? Anyway, I agree, that's #31501.",
    "created_at": "2021-09-22T02:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499457",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:17" align="right">comment:17</div>

Although it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get "Nothing to (re)build / all up-to-date." Should we treat an uninstallable system package like that? Anyway, I agree, that's #31501.



---

archive/issue_comments_499458.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@jhpalmieri](#comment:17):\n> Although it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get \"Nothing to (re)build / all up-to-date.\" Should we treat an uninstallable system package like that? \n\nNo, I think that would be confusing",
    "created_at": "2021-09-22T02:13:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499458",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@jhpalmieri](#comment:17):
> Although it would be consistent with what we do for an installable package when the system package is not in use (or does not exist): if it's already built, `make PKG` doesn't build it again, I get "Nothing to (re)build / all up-to-date." Should we treat an uninstallable system package like that? 

No, I think that would be confusing



---

archive/issue_comments_499459.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI guess `--with-system-perl_cpan_polymake_prereq` still makes sense, in particular with \"force\", but `--with-system-perl_cpan_polymake_prereq=no` doesn't. Not a big deal.",
    "created_at": "2021-09-22T02:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499459",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

I guess `--with-system-perl_cpan_polymake_prereq` still makes sense, in particular with "force", but `--with-system-perl_cpan_polymake_prereq=no` doesn't. Not a big deal.



---

archive/issue_comments_499460.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?",
    "created_at": "2021-09-22T02:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499460",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

I've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?



---

archive/issue_comments_499461.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jhpalmieri](#comment:20):\n> I've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?\n\nScript packages don't use \".in\" files, see https://doc.sagemath.org/html/en/developer/packaging.html#install-scripts-of-script-packages",
    "created_at": "2021-09-22T02:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499461",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jhpalmieri](#comment:20):
> I've lost track of the flow in `Makefile.in`. Why check `-x .../spkg-install` and not check whether `spkg-install.in` exists? Are the packages with `spkg-install.in` managed elsewhere?

Script packages don't use ".in" files, see https://doc.sagemath.org/html/en/developer/packaging.html#install-scripts-of-script-packages



---

archive/issue_comments_499462.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n(There's also a ticket to unify this between script and normal packages. #29386)",
    "created_at": "2021-09-22T02:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499462",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

(There's also a ticket to unify this between script and normal packages. #29386)



---

archive/issue_events_429649.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-09-22T02:37:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429649"
}
```



---

archive/issue_events_429650.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-09-22T02:37:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429650"
}
```



---

archive/issue_comments_499463.json:
```json
{
    "body": "Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115** to **John Palmieri**",
    "created_at": "2021-09-22T02:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499463",
    "user": "https://github.com/jhpalmieri"
}
```

Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1249185115** to **John Palmieri**



---

archive/issue_comments_499464.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThank you for answering all of my questions. Let's merge this.",
    "created_at": "2021-09-22T02:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499464",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

Thank you for answering all of my questions. Let's merge this.



---

archive/issue_comments_499465.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nCan we use this treatment in #31529?",
    "created_at": "2021-09-22T02:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499465",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:24" align="right">comment:24</div>

Can we use this treatment in #31529?



---

archive/issue_comments_499466.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThank you!",
    "created_at": "2021-09-22T02:43:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499466",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Thank you!



---

archive/issue_events_429651.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-09T11:10:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429651"
}
```



---

archive/issue_events_429652.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-09T11:10:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429652"
}
```



---

archive/issue_comments_499467.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)** to **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)**",
    "created_at": "2021-10-09T11:10:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499467",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)** to **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)**



---

archive/issue_comments_499468.json:
```json
{
    "body": "Changed branch from **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)** to **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)**",
    "created_at": "2021-10-10T23:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499468",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)** to **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)**



---

archive/issue_comments_499469.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nBreaks `sage -sdist`\n\n```\n[sage_conf-9.5.beta2] Successfully built sage-conf\n[sage_conf-9.5.beta2] Using pip 21.2.4 from /home/release/Sage/local/lib64/python3.9/site-packages/pip (python 3.9)\n[sage_conf-9.5.beta2] Looking in links: /home/release/Sage/local/var/lib/sage/wheels\n[sage_conf-9.5.beta2] Processing /home/release/Sage/local/var/lib/sage/wheels/sage_conf-9.5b2-py3-none-any.whl\n[sage_conf-9.5.beta2] sage-conf is already installed with the same version as the provided wheel. Use --force-reinstall to force an installation of the wheel.\nmake --no-print-directory singular-SAGE_LOCAL-no-deps\nsage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   singular-4.2.1.p0 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/singular-4.2.1.p0.log'\n[singular-4.2.1.p0] Using cached file /home/release/Sage/upstream/singular-4.2.1.tar.gz\nmake --no-print-directory symmetrica-SAGE_LOCAL-no-deps\nsage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   symmetrica-3.0.1 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/symmetrica-3.0.1.log'\n[symmetrica-3.0.1] Using cached file /home/release/Sage/upstream/symmetrica-3.0.1.tar.xz\nmake --no-print-directory zn_poly-SAGE_LOCAL-no-deps\nsage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   zn_poly-0.9.2 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/zn_poly-0.9.2.log'\n[zn_poly-0.9.2] Using cached file /home/release/Sage/upstream/zn_poly-0.9.2.tar.gz\nrm -f /openblas.pc\n(echo \"Name: openblas\"; echo \"Description: OpenBLAS\"; echo \"Version: 0.3\"; echo \"Libs: -lopenblas \") > \"/openblas.pc\"\n/bin/sh: line 1: /openblas.pc: Permission denied\nmake[1]: *** [Makefile:68: /openblas.pc] Error 1\nmake: *** [Makefile:2369: download-for-sdist] Error 2\n```",
    "created_at": "2021-10-10T23:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499469",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:27" align="right">comment:27</div>

Breaks `sage -sdist`

```
[sage_conf-9.5.beta2] Successfully built sage-conf
[sage_conf-9.5.beta2] Using pip 21.2.4 from /home/release/Sage/local/lib64/python3.9/site-packages/pip (python 3.9)
[sage_conf-9.5.beta2] Looking in links: /home/release/Sage/local/var/lib/sage/wheels
[sage_conf-9.5.beta2] Processing /home/release/Sage/local/var/lib/sage/wheels/sage_conf-9.5b2-py3-none-any.whl
[sage_conf-9.5.beta2] sage-conf is already installed with the same version as the provided wheel. Use --force-reinstall to force an installation of the wheel.
make --no-print-directory singular-SAGE_LOCAL-no-deps
sage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   singular-4.2.1.p0 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/singular-4.2.1.p0.log'
[singular-4.2.1.p0] Using cached file /home/release/Sage/upstream/singular-4.2.1.tar.gz
make --no-print-directory symmetrica-SAGE_LOCAL-no-deps
sage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   symmetrica-3.0.1 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/symmetrica-3.0.1.log'
[symmetrica-3.0.1] Using cached file /home/release/Sage/upstream/symmetrica-3.0.1.tar.xz
make --no-print-directory zn_poly-SAGE_LOCAL-no-deps
sage-logger -p 'SAGE_CHECK=no PATH=/home/release/Sage/local/bin:$PATH sage-spkg   zn_poly-0.9.2 /home/release/Sage/local' '/home/release/Sage/logs/pkgs/zn_poly-0.9.2.log'
[zn_poly-0.9.2] Using cached file /home/release/Sage/upstream/zn_poly-0.9.2.tar.gz
rm -f /openblas.pc
(echo "Name: openblas"; echo "Description: OpenBLAS"; echo "Version: 0.3"; echo "Libs: -lopenblas ") > "/openblas.pc"
/bin/sh: line 1: /openblas.pc: Permission denied
make[1]: *** [Makefile:68: /openblas.pc] Error 1
make: *** [Makefile:2369: download-for-sdist] Error 2
```



---

archive/issue_comments_499470.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIndeed, sorry",
    "created_at": "2021-10-11T00:19:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499470",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Indeed, sorry



---

archive/issue_comments_499471.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fabcf9853d8fe09ff4460383075bb09b207bdd7\"><code>2fabcf9</code></a></td><td><code>Merge tag '9.5.beta2' into t/31163/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf\"><code>c1bf356</code></a></td><td><code>m4/sage_spkg_collect.m4: Fix up in_sdist logic</code></td></tr></table>\n",
    "created_at": "2021-10-11T00:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499471",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fabcf9853d8fe09ff4460383075bb09b207bdd7"><code>2fabcf9</code></a></td><td><code>Merge tag '9.5.beta2' into t/31163/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf"><code>c1bf356</code></a></td><td><code>m4/sage_spkg_collect.m4: Fix up in_sdist logic</code></td></tr></table>




---

archive/issue_comments_499472.json:
```json
{
    "body": "Changed commit from **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)** to **[`c1bf356`](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf)**",
    "created_at": "2021-10-11T00:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499472",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b485d46`](https://github.com/sagemath/sagetrac-mirror/commit/b485d469cb1f61774b3f098b1e4277e66bd712fd)** to **[`c1bf356`](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf)**



---

archive/issue_events_429653.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-11T00:28:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429653"
}
```



---

archive/issue_comments_499473.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI can confirm that with a vanilla 9.5.beta2 tarball + this branch, `./configure && make dist` works, while if I remove the [latest changes](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf), it fails.",
    "created_at": "2021-10-11T21:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499473",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:31" align="right">comment:31</div>

I can confirm that with a vanilla 9.5.beta2 tarball + this branch, `./configure && make dist` works, while if I remove the [latest changes](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf), it fails.



---

archive/issue_events_429654.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-10-11T21:50:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429654"
}
```



---

archive/issue_events_429655.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-10-11T21:50:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429655"
}
```



---

archive/issue_comments_499474.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThank you!",
    "created_at": "2021-10-11T21:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499474",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Thank you!



---

archive/issue_events_429656.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-13T22:50:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429656"
}
```



---

archive/issue_events_429657.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a1a2fbb081f2840f0ec6d9ceb9a74812d6f25220",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-13T22:50:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31163#event-429657"
}
```



---

archive/issue_comments_499475.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)** to **[`c1bf356`](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf)**",
    "created_at": "2021-10-13T22:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31163",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31163#issuecomment-499475",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_make_makefile_in__for_script_packages_without_spkg_install__run__sage__info__and_exit_with_error)** to **[`c1bf356`](https://github.com/sagemath/sagetrac-mirror/commit/c1bf35690044b88f2cfec4b6879c4669c138aeaf)**
