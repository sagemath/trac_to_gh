# Issue 31325: Upgrade ecm to 7.0.5

archive/issues_031088.json:
```json
{
    "assignees": [],
    "body": "(from #30600)\n\nofficial 7.0.5 tarball: see checksums.ini\n\n\nCC:  @zimmermann6 @dimpase @kiwifb @tornaria\n\nComponent: **packages: standard**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`6a7e098`](https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31325_\n\n",
    "closed_at": "2022-05-18T22:19:02Z",
    "created_at": "2021-02-02T17:14:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade ecm to 7.0.5",
    "type": "issue",
    "updated_at": "2022-05-18T22:19:02Z",
    "url": "https://github.com/sagemath/sage/issues/31325",
    "user": "https://github.com/mkoeppe"
}
```
(from #30600)

official 7.0.5 tarball: see checksums.ini


CC:  @zimmermann6 @dimpase @kiwifb @tornaria

Component: **packages: standard**

Author: **Matthias Koeppe**

Branch/Commit: **[`6a7e098`](https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/31325_





---

archive/issue_events_428623.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T17:14:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428623"
}
```



---

archive/issue_events_428624.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T17:14:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428624"
}
```



---

archive/issue_events_428625.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T17:14:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428625"
}
```



---

archive/issue_events_428626.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-02T17:14:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428626"
}
```



---

archive/issue_comments_502075.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nwarning, 7.0.5 is not yet released! And the release number might change...",
    "created_at": "2021-02-02T17:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502075",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:1" align="right">comment:1</div>

warning, 7.0.5 is not yet released! And the release number might change...



---

archive/issue_comments_502076.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502076",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_428627.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428627"
}
```



---

archive/issue_events_428628.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428628"
}
```



---

archive/issue_events_428629.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428629"
}
```



---

archive/issue_events_428630.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428630"
}
```



---

archive/issue_events_428631.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-23T14:54:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428631"
}
```



---

archive/issue_events_428632.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-23T14:54:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428632"
}
```



---

archive/issue_comments_502077.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n (from #30600)\n+\n+candidate tarball: \u200bhttps://members.loria.fr/PZimmermann/ecm-7.0.5-dev.tar.gz\n+\n``````\n",
    "created_at": "2022-04-25T06:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502077",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 (from #30600)
+
+candidate tarball: ​https://members.loria.fr/PZimmermann/ecm-7.0.5-dev.tar.gz
+
``````




---

archive/issue_comments_502078.json:
```json
{
    "body": "Branch: **[u/mkoeppe/upgrade_ecm_to_7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_ecm_to_7_0_5)**",
    "created_at": "2022-04-25T06:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502078",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/upgrade_ecm_to_7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_ecm_to_7_0_5)**



---

archive/issue_comments_502079.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39e07273d3d8c49dbec053f08d9a600f4f30b412\"><code>39e0727</code></a></td><td><code>build/pkgs/ecm: Update to 7.0.5-dev, drop patch</code></td></tr></table>\n",
    "created_at": "2022-04-25T06:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502079",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39e07273d3d8c49dbec053f08d9a600f4f30b412"><code>39e0727</code></a></td><td><code>build/pkgs/ecm: Update to 7.0.5-dev, drop patch</code></td></tr></table>




---

archive/issue_comments_502080.json:
```json
{
    "body": "Commit: **[`39e0727`](https://github.com/sagemath/sagetrac-mirror/commit/39e07273d3d8c49dbec053f08d9a600f4f30b412)**",
    "created_at": "2022-04-25T06:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502080",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`39e0727`](https://github.com/sagemath/sagetrac-mirror/commit/39e07273d3d8c49dbec053f08d9a600f4f30b412)**



---

archive/issue_events_428633.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T06:33:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428633"
}
```



---

archive/issue_events_428634.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-25T06:33:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428634"
}
```



---

archive/issue_comments_502081.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n\n```\n[ecm-7.0.5-dev] gcc -DHAVE_CONFIG_H -I.  -DOUTSIDE_LIBECM   -g -march=native -g -O2 -fPIC -c -o ecm-main.o `test -f 'main.c' || echo './'`main.c\n[ecm-7.0.5-dev] main.c:55:10: fatal error: 'torsions.h' file not found\n[ecm-7.0.5-dev] #include \"torsions.h\" /* to benefit from more torsion groups */\n[ecm-7.0.5-dev]          ^~~~~~~~~~~~\n[ecm-7.0.5-dev] 1 error generated.\n```",
    "created_at": "2022-04-25T06:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502081",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>


```
[ecm-7.0.5-dev] gcc -DHAVE_CONFIG_H -I.  -DOUTSIDE_LIBECM   -g -march=native -g -O2 -fPIC -c -o ecm-main.o `test -f 'main.c' || echo './'`main.c
[ecm-7.0.5-dev] main.c:55:10: fatal error: 'torsions.h' file not found
[ecm-7.0.5-dev] #include "torsions.h" /* to benefit from more torsion groups */
[ecm-7.0.5-dev]          ^~~~~~~~~~~~
[ecm-7.0.5-dev] 1 error generated.
```



---

archive/issue_comments_502082.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIs https://github.com/sethtroisi/gmp-ecm the official repo?",
    "created_at": "2022-04-25T06:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502082",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Is https://github.com/sethtroisi/gmp-ecm the official repo?



---

archive/issue_comments_502083.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nin the README\n\nnote: this file is outdated now that GMP-ECM moved to gitlab",
    "created_at": "2022-04-25T06:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502083",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

in the README

note: this file is outdated now that GMP-ECM moved to gitlab



---

archive/issue_comments_502084.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nhttps://gitlab.inria.fr/zimmerma/ecm",
    "created_at": "2022-04-25T06:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502084",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

https://gitlab.inria.fr/zimmerma/ecm



---

archive/issue_comments_502085.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a00afb93113b585e60ac1bab16e65683d6ad5af\"><code>4a00afb</code></a></td><td><code>build/pkgs/ecm/SPKG.rst: Update repo URL</code></td></tr></table>\n",
    "created_at": "2022-04-25T07:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502085",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a00afb93113b585e60ac1bab16e65683d6ad5af"><code>4a00afb</code></a></td><td><code>build/pkgs/ecm/SPKG.rst: Update repo URL</code></td></tr></table>




---

archive/issue_comments_502086.json:
```json
{
    "body": "Changed commit from **[`39e0727`](https://github.com/sagemath/sagetrac-mirror/commit/39e07273d3d8c49dbec053f08d9a600f4f30b412)** to **[`4a00afb`](https://github.com/sagemath/sagetrac-mirror/commit/4a00afb93113b585e60ac1bab16e65683d6ad5af)**",
    "created_at": "2022-04-25T07:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502086",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`39e0727`](https://github.com/sagemath/sagetrac-mirror/commit/39e07273d3d8c49dbec053f08d9a600f4f30b412)** to **[`4a00afb`](https://github.com/sagemath/sagetrac-mirror/commit/4a00afb93113b585e60ac1bab16e65683d6ad5af)**



---

archive/issue_comments_502087.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIt would be good to have 7.0.5 tagged on the git repo.",
    "created_at": "2022-04-25T10:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502087",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

It would be good to have 7.0.5 tagged on the git repo.



---

archive/issue_comments_502088.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nthe tarball is missing `https://gitlab.inria.fr/zimmerma/ecm/-/raw/master/torsions.h`",
    "created_at": "2022-04-25T10:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502088",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

the tarball is missing `https://gitlab.inria.fr/zimmerma/ecm/-/raw/master/torsions.h`



---

archive/issue_comments_502089.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI've put a new tarball at https://members.loria.fr/PZimmermann/ecm-7.0.5a-dev.tar.gz. Is it better?",
    "created_at": "2022-04-25T14:19:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502089",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:16" align="right">comment:16</div>

I've put a new tarball at https://members.loria.fr/PZimmermann/ecm-7.0.5a-dev.tar.gz. Is it better?



---

archive/issue_comments_502090.json:
```json
{
    "body": "Changed commit from **[`4a00afb`](https://github.com/sagemath/sagetrac-mirror/commit/4a00afb93113b585e60ac1bab16e65683d6ad5af)** to **[`d9150d6`](https://github.com/sagemath/sagetrac-mirror/commit/d9150d6770089df6706769079ce64ca4e3d863c7)**",
    "created_at": "2022-04-25T17:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502090",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4a00afb`](https://github.com/sagemath/sagetrac-mirror/commit/4a00afb93113b585e60ac1bab16e65683d6ad5af)** to **[`d9150d6`](https://github.com/sagemath/sagetrac-mirror/commit/d9150d6770089df6706769079ce64ca4e3d863c7)**



---

archive/issue_comments_502091.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9150d6770089df6706769079ce64ca4e3d863c7\"><code>d9150d6</code></a></td><td><code>build/pkgs/ecm: Use 7.0.5a-dev</code></td></tr></table>\n",
    "created_at": "2022-04-25T17:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502091",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9150d6770089df6706769079ce64ca4e3d863c7"><code>d9150d6</code></a></td><td><code>build/pkgs/ecm: Use 7.0.5a-dev</code></td></tr></table>




---

archive/issue_comments_502092.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nBuilds and passes the test suite on macOS 12.3.1 (Intel)",
    "created_at": "2022-04-25T18:00:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502092",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Builds and passes the test suite on macOS 12.3.1 (Intel)



---

archive/issue_comments_502093.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n (from #30600)\n \n-candidate tarball: \u200bhttps://members.loria.fr/PZimmermann/ecm-7.0.5-dev.tar.gz\n+candidate tarball: see checksums.ini\n \n``````\n",
    "created_at": "2022-04-25T18:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502093",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 (from #30600)
 
-candidate tarball: ​https://members.loria.fr/PZimmermann/ecm-7.0.5-dev.tar.gz
+candidate tarball: see checksums.ini
 
``````




---

archive/issue_comments_502094.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI am not keen to package something that is not a proper release. Any plans or roadmap to the next `ecm` release?",
    "created_at": "2022-04-25T19:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502094",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">comment:20</div>

I am not keen to package something that is not a proper release. Any plans or roadmap to the next `ecm` release?



---

archive/issue_events_428635.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-04-29T11:27:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428635"
}
```



---

archive/issue_comments_502095.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\non Debian stable x86_64 I get\n\n```\nsage -t --warn-long 111.0 --random-seed=252573809850839320636415076260300606363 src/sage/interfaces/ecm.py\n**********************************************************************\nFile \"src/sage/interfaces/ecm.py\", line 717, in sage.interfaces.ecm.ECM.time\nFailed example:\n    ecm.time(n, 35)                  # random output\nException raised:\n    Traceback (most recent call last):\n      File \"/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.ecm.ECM.time[1]>\", line 1, in <module>\n        ecm.time(n, Integer(35))                  # random output\n      File \"/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/ecm.py\", line 770, in time\n        while next(out_lines) != title_curves:\n    StopIteration\n**********************************************************************\nFile \"src/sage/interfaces/ecm.py\", line 720, in sage.interfaces.ecm.ECM.time\nFailed example:\n    ecm.time(n, 30, verbose=True)     # random output\nException raised:\n    Traceback (most recent call last):\n      File \"/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.ecm.ECM.time[2]>\", line 1, in <module>\n        ecm.time(n, Integer(30), verbose=True)     # random output\n      File \"/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/ecm.py\", line 770, in time\n        while next(out_lines) != title_curves:\n    StopIteration\n**********************************************************************\n1 item had failures:\n   2 of   4 in sage.interfaces.ecm.ECM.time\n    [47 tests, 2 failures, 4.13 s]\n----------------------------------------------------------------------\nsage -t --warn-long 111.0 --random-seed=252573809850839320636415076260300606363 src/sage/interfaces/ecm.py  # 2 doctests failed\n```",
    "created_at": "2022-04-29T11:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502095",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

on Debian stable x86_64 I get

```
sage -t --warn-long 111.0 --random-seed=252573809850839320636415076260300606363 src/sage/interfaces/ecm.py
**********************************************************************
File "src/sage/interfaces/ecm.py", line 717, in sage.interfaces.ecm.ECM.time
Failed example:
    ecm.time(n, 35)                  # random output
Exception raised:
    Traceback (most recent call last):
      File "/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.ecm.ECM.time[1]>", line 1, in <module>
        ecm.time(n, Integer(35))                  # random output
      File "/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/ecm.py", line 770, in time
        while next(out_lines) != title_curves:
    StopIteration
**********************************************************************
File "src/sage/interfaces/ecm.py", line 720, in sage.interfaces.ecm.ECM.time
Failed example:
    ecm.time(n, 30, verbose=True)     # random output
Exception raised:
    Traceback (most recent call last):
      File "/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.ecm.ECM.time[2]>", line 1, in <module>
        ecm.time(n, Integer(30), verbose=True)     # random output
      File "/home/dimpase/work/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/ecm.py", line 770, in time
        while next(out_lines) != title_curves:
    StopIteration
**********************************************************************
1 item had failures:
   2 of   4 in sage.interfaces.ecm.ECM.time
    [47 tests, 2 failures, 4.13 s]
----------------------------------------------------------------------
sage -t --warn-long 111.0 --random-seed=252573809850839320636415076260300606363 src/sage/interfaces/ecm.py  # 2 doctests failed
```



---

archive/issue_events_428636.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-04-29T11:35:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428636"
}
```



---

archive/issue_events_428637.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-04-29T11:35:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428637"
}
```



---

archive/issue_comments_502096.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nif these failures are due to upstream, please report them: https://gitlab.inria.fr/zimmerma/ecm",
    "created_at": "2022-05-02T13:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502096",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:23" align="right">comment:23</div>

if these failures are due to upstream, please report them: https://gitlab.inria.fr/zimmerma/ecm



---

archive/issue_comments_502097.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nHas anything changed in ECM's time API since 7.0.4?",
    "created_at": "2022-05-02T14:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502097",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

Has anything changed in ECM's time API since 7.0.4?



---

archive/issue_comments_502098.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@dimpase](#comment%3A24):\n> Has anything changed in ECM's time API since 7.0.4?\n\nwhich \"time API\" do you mean? In ecm.h there is no time function.",
    "created_at": "2022-05-02T14:46:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502098",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@dimpase](#comment%3A24):
> Has anything changed in ECM's time API since 7.0.4?

which "time API" do you mean? In ecm.h there is no time function.



---

archive/issue_comments_502099.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@kiwifb](#comment%3A20):\n> I am not keen to package something that is not a proper release. Any plans or roadmap to the next `ecm` release?\n\nI plan to release 7.0.5 soon.",
    "created_at": "2022-05-02T15:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502099",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@kiwifb](#comment%3A20):
> I am not keen to package something that is not a proper release. Any plans or roadmap to the next `ecm` release?

I plan to release 7.0.5 soon.



---

archive/issue_comments_502100.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nOK, what changed a bit is the output of ECM, thus we need to do\n\n```diff\n--- a/src/sage/interfaces/ecm.py\n+++ b/src/sage/interfaces/ecm.py\n@@ -754,7 +754,7 @@ class ECM(SageObject):\n             <BLANKLINE>\n             Expected curves: 4911, Expected time: 32.25m\n         \"\"\"\n-        title_curves = 'Expected number of curves to find a factor of n digits:'\n+        title_curves = 'Expected number of curves to find a factor of n digits'\n         title_time = 'Expected time to find a factor of n digits:'\n         n = self._validate(n)\n         B1 = self.recommended_B1(factor_digits)\n@@ -767,7 +767,7 @@ class ECM(SageObject):\n             return\n \n         out_lines = iter(out.splitlines())\n-        while next(out_lines) != title_curves:\n+        while next(out_lines)[:len(title_curves)] != title_curves:\n             pass\n         header_curves = next(out_lines)\n         curve_count_table = next(out_lines)\n```\nto let these tests pass (it prints a bit more there now). \n\nNo issue on ECM side.",
    "created_at": "2022-05-02T15:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502100",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

OK, what changed a bit is the output of ECM, thus we need to do

```diff
--- a/src/sage/interfaces/ecm.py
+++ b/src/sage/interfaces/ecm.py
@@ -754,7 +754,7 @@ class ECM(SageObject):
             <BLANKLINE>
             Expected curves: 4911, Expected time: 32.25m
         """
-        title_curves = 'Expected number of curves to find a factor of n digits:'
+        title_curves = 'Expected number of curves to find a factor of n digits'
         title_time = 'Expected time to find a factor of n digits:'
         n = self._validate(n)
         B1 = self.recommended_B1(factor_digits)
@@ -767,7 +767,7 @@ class ECM(SageObject):
             return
 
         out_lines = iter(out.splitlines())
-        while next(out_lines) != title_curves:
+        while next(out_lines)[:len(title_curves)] != title_curves:
             pass
         header_curves = next(out_lines)
         curve_count_table = next(out_lines)
```
to let these tests pass (it prints a bit more there now). 

No issue on ECM side.



---

archive/issue_comments_502101.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_ecm_to_7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_ecm_to_7_0_5)** to **[u/dimpase/packages/ecm/vers7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/ecm/vers7_0_5)**",
    "created_at": "2022-05-02T17:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502101",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/mkoeppe/upgrade_ecm_to_7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_ecm_to_7_0_5)** to **[u/dimpase/packages/ecm/vers7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/ecm/vers7_0_5)**



---

archive/issue_comments_502102.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-05-02T17:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502102",
    "user": "https://github.com/dimpase"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_502103.json:
```json
{
    "body": "Changed commit from **[`d9150d6`](https://github.com/sagemath/sagetrac-mirror/commit/d9150d6770089df6706769079ce64ca4e3d863c7)** to **[`f261986`](https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a)**",
    "created_at": "2022-05-02T17:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502103",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`d9150d6`](https://github.com/sagemath/sagetrac-mirror/commit/d9150d6770089df6706769079ce64ca4e3d863c7)** to **[`f261986`](https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a)**



---

archive/issue_comments_502104.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2022-05-02T17:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502104",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_502105.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70c42f12bc7ef4a6d58b4301abd4130612aa98d3\"><code>70c42f1</code></a></td><td><code>build/pkgs/ecm: Update to 7.0.5-dev, drop patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38ec9b6e2739066cc07656c8c88e87615a45bae1\"><code>38ec9b6</code></a></td><td><code>build/pkgs/ecm/SPKG.rst: Update repo URL</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d5f5e6991b7d7e5b78d5f57dd9fa528902922c8\"><code>0d5f5e6</code></a></td><td><code>build/pkgs/ecm: Use 7.0.5a-dev</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a\"><code>f261986</code></a></td><td><code>account for differences in output for 7.0.5 vs 7.0.4</code></td></tr></table>\n",
    "created_at": "2022-05-02T17:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502105",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:28"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70c42f12bc7ef4a6d58b4301abd4130612aa98d3"><code>70c42f1</code></a></td><td><code>build/pkgs/ecm: Update to 7.0.5-dev, drop patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38ec9b6e2739066cc07656c8c88e87615a45bae1"><code>38ec9b6</code></a></td><td><code>build/pkgs/ecm/SPKG.rst: Update repo URL</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d5f5e6991b7d7e5b78d5f57dd9fa528902922c8"><code>0d5f5e6</code></a></td><td><code>build/pkgs/ecm: Use 7.0.5a-dev</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a"><code>f261986</code></a></td><td><code>account for differences in output for 7.0.5 vs 7.0.4</code></td></tr></table>




---

archive/issue_events_428638.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-05-02T17:17:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428638"
}
```



---

archive/issue_events_428639.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-05-02T17:17:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428639"
}
```



---

archive/issue_comments_502106.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nadded the patch from [comment:27](#comment%3A27), rebased over rc3",
    "created_at": "2022-05-02T17:17:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502106",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

added the patch from [comment:27](#comment%3A27), rebased over rc3



---

archive/issue_comments_502107.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI've made a proper release (https://gitlab.inria.fr/zimmerma/ecm/uploads/89f6f0d65d3e980cef33dc922004e4b2/ecm-7.0.5.tar.gz) with tag 7.0.5 in the git repo",
    "created_at": "2022-05-05T11:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502107",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:30" align="right">comment:30</div>

I've made a proper release (https://gitlab.inria.fr/zimmerma/ecm/uploads/89f6f0d65d3e980cef33dc922004e4b2/ecm-7.0.5.tar.gz) with tag 7.0.5 in the git repo



---

archive/issue_comments_502108.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b\"><code>6a7e098</code></a></td><td><code>released ecm 7.0.5</code></td></tr></table>\n",
    "created_at": "2022-05-05T13:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502108",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b"><code>6a7e098</code></a></td><td><code>released ecm 7.0.5</code></td></tr></table>




---

archive/issue_comments_502109.json:
```json
{
    "body": "Changed commit from **[`f261986`](https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a)** to **[`6a7e098`](https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b)**",
    "created_at": "2022-05-05T13:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f261986`](https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a)** to **[`6a7e098`](https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b)**



---

archive/issue_comments_502110.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nIs there a way to skip these long hashes in the URL? Anyhow, this is the update, tested on macOS so far.",
    "created_at": "2022-05-05T13:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502110",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

Is there a way to skip these long hashes in the URL? Anyhow, this is the update, tested on macOS so far.



---

archive/issue_comments_502111.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n (from #30600)\n \n-candidate tarball: see checksums.ini\n+official 7.0.5 tarball: see checksums.ini\n \n``````\n",
    "created_at": "2022-05-05T13:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502111",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 (from #30600)
 
-candidate tarball: see checksums.ini
+official 7.0.5 tarball: see checksums.ini
 
``````




---

archive/issue_comments_502112.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@dimpase](#comment%3A32):\n> Is there a way to skip these long hashes in the URL? Anyhow, this is the update, tested on macOS so far.\n\nI believe no. If you look at https://gitlab.inria.fr/zimmerma/ecm/-/releases/7.0.5 you first see \"Source code\" tarballs made automatically by gitlab, but they are of no use since they do no contain a configure file (the autotools were not run).\n\nThe \"release tarball\" was added manually by me, and the long hash was given to me by gitlab.",
    "created_at": "2022-05-05T14:35:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502112",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@dimpase](#comment%3A32):
> Is there a way to skip these long hashes in the URL? Anyhow, this is the update, tested on macOS so far.

I believe no. If you look at https://gitlab.inria.fr/zimmerma/ecm/-/releases/7.0.5 you first see "Source code" tarballs made automatically by gitlab, but they are of no use since they do no contain a configure file (the autotools were not run).

The "release tarball" was added manually by me, and the long hash was given to me by gitlab.



---

archive/issue_comments_502113.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nlgtm",
    "created_at": "2022-05-11T11:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502113",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">comment:35</div>

lgtm



---

archive/issue_events_428640.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-05-11T11:57:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428640"
}
```



---

archive/issue_events_428641.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-05-11T11:57:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428641"
}
```



---

archive/issue_comments_502114.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI think this should be run on GH Actions first, perhaps on top of #33316 for the platform updates",
    "created_at": "2022-05-11T17:00:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502114",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

I think this should be run on GH Actions first, perhaps on top of #33316 for the platform updates



---

archive/issue_comments_502115.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\ntests running on https://github.com/dimpase/sage/actions/runs/2314328253\n(on top on #32937 and #33316)",
    "created_at": "2022-05-12T15:14:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502115",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:37" align="right">comment:37</div>

tests running on https://github.com/dimpase/sage/actions/runs/2314328253
(on top on #32937 and #33316)



---

archive/issue_comments_502116.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nDoes it need #33861 as a dependency?",
    "created_at": "2022-05-17T02:53:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502116",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

Does it need #33861 as a dependency?



---

archive/issue_events_428642.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-17T02:53:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428642"
}
```



---

archive/issue_events_428643.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-17T02:53:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428643"
}
```



---

archive/issue_comments_502117.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@mkoeppe](#comment%3A38):\n> Does it need #33861 as a dependency?\n\nIndeed https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a seems to do similar as my patch, so you can just keep this ticket and ignore mine.\n\nThis shows that trac search is not very good: https://trac.sagemath.org/search?q=ecm doesn't show this ticket (no, I didn't look at the second page, given that the first page shows nothing relevant; yes, searching \"upgrade ecm\" gives this as the first hit).",
    "created_at": "2022-05-17T03:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502117",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@mkoeppe](#comment%3A38):
> Does it need #33861 as a dependency?

Indeed https://github.com/sagemath/sagetrac-mirror/commit/f2619864f27c34b751e84d6a4d41d77cfbe39d9a seems to do similar as my patch, so you can just keep this ticket and ignore mine.

This shows that trac search is not very good: https://trac.sagemath.org/search?q=ecm doesn't show this ticket (no, I didn't look at the second page, given that the first page shows nothing relevant; yes, searching "upgrade ecm" gives this as the first hit).



---

archive/issue_events_428644.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-17T03:25:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428644"
}
```



---

archive/issue_events_428645.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-17T03:25:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428645"
}
```



---

archive/issue_comments_502118.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThen let's mark this one here as critical.",
    "created_at": "2022-05-17T03:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502118",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

Then let's mark this one here as critical.



---

archive/issue_comments_502119.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nsince #33861 was marked as duplicate, maybe we can turn this ticket back as \"positive review\"?",
    "created_at": "2022-05-17T07:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502119",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:41" align="right">comment:41</div>

since #33861 was marked as duplicate, maybe we can turn this ticket back as "positive review"?



---

archive/issue_events_428646.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-17T07:31:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428646"
}
```



---

archive/issue_events_428647.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-17T07:31:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428647"
}
```



---

archive/issue_comments_502120.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@tornaria](#comment%3A39):\n>\n> This shows that trac search is not very good:\n> https://trac.sagemath.org/search?q=ecm\n> doesn't show this ticket\n\nThe Trac \"query\" engine often beats its \"search\" engine.\n\nhttps://trac.sagemath.org/query?order=id&desc=1&summary=~ecm\n\nI added a few custom search engines to my browser\nto send trac queries like the above, querying fields\n\"summary\", \"description\", \"author\", \"reviewer\", etc.\n\nThen typing `sagetracsummary ecm` (choose your keyword)\nin the url bar goes to the above.\n\nOr to query only non-closed tickets:\n\nhttps://trac.sagemath.org/query?order=id&desc=1&status=!closed&summary=~ecm",
    "created_at": "2022-05-17T17:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502120",
    "user": "https://github.com/slel"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@tornaria](#comment%3A39):
>
> This shows that trac search is not very good:
> https://trac.sagemath.org/search?q=ecm
> doesn't show this ticket

The Trac "query" engine often beats its "search" engine.

https://trac.sagemath.org/query?order=id&desc=1&summary=~ecm

I added a few custom search engines to my browser
to send trac queries like the above, querying fields
"summary", "description", "author", "reviewer", etc.

Then typing `sagetracsummary ecm` (choose your keyword)
in the url bar goes to the above.

Or to query only non-closed tickets:

https://trac.sagemath.org/query?order=id&desc=1&status=!closed&summary=~ecm



---

archive/issue_events_428648.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-18T22:19:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428648"
}
```



---

archive/issue_events_428649.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fcad4b8a99313cb7d8134636343a3b19ab345c3e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-05-18T22:19:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31325#event-428649"
}
```



---

archive/issue_comments_502121.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/ecm/vers7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/ecm/vers7_0_5)** to **[`6a7e098`](https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b)**",
    "created_at": "2022-05-18T22:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31325#issuecomment-502121",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/ecm/vers7_0_5](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/ecm/vers7_0_5)** to **[`6a7e098`](https://github.com/sagemath/sagetrac-mirror/commit/6a7e098ffa40ae04057404c0f7fa7635e3e45a8b)**
