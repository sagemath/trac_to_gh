# Issue 31463: Univariate matrices: improve Weak Popov form; add Popov form

archive/issues_031226.json:
```json
{
    "assignees": [],
    "body": "**Improvements for weak Popov form**:\n* extend with an option allowing column-wise transformation into column weak Popov (for consistency with other functions),\n* sort the rows by increasing leading position (for consistency with other functions),\n* make some arbitrary but clearly stated choice for where zero rows are placed (typically, at the bottom of the weak Popov form).\n\nThe latter two changes will not impact performance since they only involve row permutation. They should not either impact code that uses the current version, since the current code only guarantees that the output is weak Popov, a fact not changed by the new specification.\n\n**Normalization into Popov form**: call the weak Popov form algorithm and then use Mulders and Storjohann algorithm to transform it into the canonical Popov form. Shifts should be supported, as well as working row-wise or column-wise.\n\n**Zero rows option**: for both weak Popov and Popov forms, add an option to allow the user to specify that they want a form with the zero rows removed (option set to False by default, for compatibility). The number of rows in the returned matrix is then the rank of the input matrix.\n\nAssignee: **@ke456**\n\nCC:  @ke456\n\nKeywords: **polynomial matrix, canonical form**\n\nBranch/Commit: **[b7e5f12](https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a)**\n\nReviewer: **Seung Gyu Hyun**\n\nAuthor: **Vincent Neiger**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31463_\n\n",
    "closed_at": "2021-08-29T09:37:42Z",
    "created_at": "2021-03-07T19:53:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Univariate matrices: improve Weak Popov form; add Popov form",
    "type": "issue",
    "updated_at": "2021-08-29T09:37:42Z",
    "url": "https://github.com/sagemath/sage/issues/31463",
    "user": "https://github.com/vneiger"
}
```
**Improvements for weak Popov form**:
* extend with an option allowing column-wise transformation into column weak Popov (for consistency with other functions),
* sort the rows by increasing leading position (for consistency with other functions),
* make some arbitrary but clearly stated choice for where zero rows are placed (typically, at the bottom of the weak Popov form).

The latter two changes will not impact performance since they only involve row permutation. They should not either impact code that uses the current version, since the current code only guarantees that the output is weak Popov, a fact not changed by the new specification.

**Normalization into Popov form**: call the weak Popov form algorithm and then use Mulders and Storjohann algorithm to transform it into the canonical Popov form. Shifts should be supported, as well as working row-wise or column-wise.

**Zero rows option**: for both weak Popov and Popov forms, add an option to allow the user to specify that they want a form with the zero rows removed (option set to False by default, for compatibility). The number of rows in the returned matrix is then the rank of the input matrix.

Assignee: **@ke456**

CC:  @ke456

Keywords: **polynomial matrix, canonical form**

Branch/Commit: **[b7e5f12](https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a)**

Reviewer: **Seung Gyu Hyun**

Author: **Vincent Neiger**

_Issue created by migration from https://trac.sagemath.org/ticket/31463_





---

archive/issue_events_401453.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2021-03-07T19:53:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401453"
}
```



---

archive/issue_events_401454.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2021-03-07T19:53:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "component: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401454"
}
```



---

archive/issue_events_401455.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2021-03-07T19:53:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401455"
}
```



---

archive/issue_events_401456.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2021-03-07T19:53:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401456"
}
```



---

archive/issue_events_401457.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401457"
}
```



---

archive/issue_events_401458.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401458"
}
```



---

archive/issue_comments_508238.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508238",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'>Comment 1:</a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_401459.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401459"
}
```



---

archive/issue_events_401460.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401460"
}
```



---

archive/issue_comments_508239.json:
```json
{
    "body": "Branch: **[u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form)**",
    "created_at": "2021-07-27T12:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508239",
    "user": "https://github.com/vneiger"
}
```

Branch: **[u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form)**



---

archive/issue_comments_508240.json:
```json
{
    "body": "Commit: **[e6b65dd](https://github.com/sagemath/sagetrac-mirror/commit/e6b65dddb129233067d2792b9aaef4b52fde0a28)**",
    "created_at": "2021-07-27T12:58:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508240",
    "user": "https://github.com/vneiger"
}
```

Commit: **[e6b65dd](https://github.com/sagemath/sagetrac-mirror/commit/e6b65dddb129233067d2792b9aaef4b52fde0a28)**



---

archive/issue_comments_508241.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nAll things above have been handled in a preliminary version, except for the transformation from weak Popov to (strong) Popov which is kept for later. Minor improvements/corrections are expected; documentation should be completed; and more tests should be done and some of them included in the documentation.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6b65dddb129233067d2792b9aaef4b52fde0a28\">e6b65dd</a></td><td><code>first version without tests yet; all things handled except transfo to Popov form</code></td></tr></table>\n",
    "created_at": "2021-07-27T12:58:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508241",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:4'>Comment 4:</a>
All things above have been handled in a preliminary version, except for the transformation from weak Popov to (strong) Popov which is kept for later. Minor improvements/corrections are expected; documentation should be completed; and more tests should be done and some of them included in the documentation.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6b65dddb129233067d2792b9aaef4b52fde0a28">e6b65dd</a></td><td><code>first version without tests yet; all things handled except transfo to Popov form</code></td></tr></table>




---

archive/issue_comments_508242.json:
```json
{
    "body": "Changed commit from **[e6b65dd](https://github.com/sagemath/sagetrac-mirror/commit/e6b65dddb129233067d2792b9aaef4b52fde0a28)** to **[810048c](https://github.com/sagemath/sagetrac-mirror/commit/810048c9a3389fb526c0d8043fc9635f893aae57)**",
    "created_at": "2021-07-27T17:10:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508242",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e6b65dd](https://github.com/sagemath/sagetrac-mirror/commit/e6b65dddb129233067d2792b9aaef4b52fde0a28)** to **[810048c](https://github.com/sagemath/sagetrac-mirror/commit/810048c9a3389fb526c0d8043fc9635f893aae57)**



---

archive/issue_comments_508243.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b5d84cae3c28f96f4373d485ec3fa805068703e\">0b5d84c</a></td><td><code>minor refacto; noticing that existing algo is wrong when shift is negative</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7c69e1612edadade90a474050167d61264d8e4d\">c7c69e1</a></td><td><code>fix issue with shift having negative entries</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cb203768197f620d3cc08f4a19d8dd0f5bb0bd2\">9cb2037</a></td><td><code>improving documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/810048c9a3389fb526c0d8043fc9635f893aae57\">810048c</a></td><td><code>many fixes, better documentation</code></td></tr></table>\n",
    "created_at": "2021-07-27T17:10:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508243",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b5d84cae3c28f96f4373d485ec3fa805068703e">0b5d84c</a></td><td><code>minor refacto; noticing that existing algo is wrong when shift is negative</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7c69e1612edadade90a474050167d61264d8e4d">c7c69e1</a></td><td><code>fix issue with shift having negative entries</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cb203768197f620d3cc08f4a19d8dd0f5bb0bd2">9cb2037</a></td><td><code>improving documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/810048c9a3389fb526c0d8043fc9635f893aae57">810048c</a></td><td><code>many fixes, better documentation</code></td></tr></table>




---

archive/issue_comments_508244.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nSome testing has been done, and some minor corrections made. The documentation is fine now, it just misses some \"documentation tests\".",
    "created_at": "2021-07-27T17:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508244",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:6'>Comment 6:</a>
Some testing has been done, and some minor corrections made. The documentation is fine now, it just misses some "documentation tests".



---

archive/issue_comments_508245.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8ce369aa5cb9cf3fef373847b37e15e1cf7264d\">d8ce369</a></td><td><code>added numerous tests to documentation</code></td></tr></table>\n",
    "created_at": "2021-07-27T20:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508245",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8ce369aa5cb9cf3fef373847b37e15e1cf7264d">d8ce369</a></td><td><code>added numerous tests to documentation</code></td></tr></table>




---

archive/issue_comments_508246.json:
```json
{
    "body": "Changed commit from **[810048c](https://github.com/sagemath/sagetrac-mirror/commit/810048c9a3389fb526c0d8043fc9635f893aae57)** to **[d8ce369](https://github.com/sagemath/sagetrac-mirror/commit/d8ce369aa5cb9cf3fef373847b37e15e1cf7264d)**",
    "created_at": "2021-07-27T20:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508246",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[810048c](https://github.com/sagemath/sagetrac-mirror/commit/810048c9a3389fb526c0d8043fc9635f893aae57)** to **[d8ce369](https://github.com/sagemath/sagetrac-mirror/commit/d8ce369aa5cb9cf3fef373847b37e15e1cf7264d)**



---

archive/issue_comments_508247.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cc8850ae2ab9ff9e8f94f3481fd4652ecce0c18\">6cc8850</a></td><td><code>added one test</code></td></tr></table>\n",
    "created_at": "2021-07-27T20:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508247",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cc8850ae2ab9ff9e8f94f3481fd4652ecce0c18">6cc8850</a></td><td><code>added one test</code></td></tr></table>




---

archive/issue_comments_508248.json:
```json
{
    "body": "Changed commit from **[d8ce369](https://github.com/sagemath/sagetrac-mirror/commit/d8ce369aa5cb9cf3fef373847b37e15e1cf7264d)** to **[6cc8850](https://github.com/sagemath/sagetrac-mirror/commit/6cc8850ae2ab9ff9e8f94f3481fd4652ecce0c18)**",
    "created_at": "2021-07-27T20:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508248",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d8ce369](https://github.com/sagemath/sagetrac-mirror/commit/d8ce369aa5cb9cf3fef373847b37e15e1cf7264d)** to **[6cc8850](https://github.com/sagemath/sagetrac-mirror/commit/6cc8850ae2ab9ff9e8f94f3481fd4652ecce0c18)**



---

archive/issue_comments_508249.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad8417929fbd21db528f1de2b55754ff45318a5f\">ad84179</a></td><td><code>all these tests are better over GF(7); also added one</code></td></tr></table>\n",
    "created_at": "2021-07-27T20:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508249",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad8417929fbd21db528f1de2b55754ff45318a5f">ad84179</a></td><td><code>all these tests are better over GF(7); also added one</code></td></tr></table>




---

archive/issue_comments_508250.json:
```json
{
    "body": "Changed commit from **[6cc8850](https://github.com/sagemath/sagetrac-mirror/commit/6cc8850ae2ab9ff9e8f94f3481fd4652ecce0c18)** to **[ad84179](https://github.com/sagemath/sagetrac-mirror/commit/ad8417929fbd21db528f1de2b55754ff45318a5f)**",
    "created_at": "2021-07-27T20:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508250",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6cc8850](https://github.com/sagemath/sagetrac-mirror/commit/6cc8850ae2ab9ff9e8f94f3481fd4652ecce0c18)** to **[ad84179](https://github.com/sagemath/sagetrac-mirror/commit/ad8417929fbd21db528f1de2b55754ff45318a5f)**



---

archive/issue_comments_508251.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0457e82fd1cea549273402f22132e41666e2f227\">0457e82</a></td><td><code>fix typo and add one test</code></td></tr></table>\n",
    "created_at": "2021-07-27T20:57:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508251",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0457e82fd1cea549273402f22132e41666e2f227">0457e82</a></td><td><code>fix typo and add one test</code></td></tr></table>




---

archive/issue_comments_508252.json:
```json
{
    "body": "Changed commit from **[ad84179](https://github.com/sagemath/sagetrac-mirror/commit/ad8417929fbd21db528f1de2b55754ff45318a5f)** to **[0457e82](https://github.com/sagemath/sagetrac-mirror/commit/0457e82fd1cea549273402f22132e41666e2f227)**",
    "created_at": "2021-07-27T20:57:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508252",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ad84179](https://github.com/sagemath/sagetrac-mirror/commit/ad8417929fbd21db528f1de2b55754ff45318a5f)** to **[0457e82](https://github.com/sagemath/sagetrac-mirror/commit/0457e82fd1cea549273402f22132e41666e2f227)**



---

archive/issue_comments_508253.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nExcept for Popov form normalization, everything has been dealt with, including documentation and testing. Note that, to ensure backward compatibility, the computed weak Popov form is not ordered by default, unlike what was suggested in the ticket, but an option to get an ordered form is provided.",
    "created_at": "2021-07-27T20:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508253",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:11'>Comment 11:</a>
Except for Popov form normalization, everything has been dealt with, including documentation and testing. Note that, to ensure backward compatibility, the computed weak Popov form is not ordered by default, unlike what was suggested in the ticket, but an option to get an ordered form is provided.



---

archive/issue_comments_508254.json:
```json
{
    "body": "Changed commit from **[0457e82](https://github.com/sagemath/sagetrac-mirror/commit/0457e82fd1cea549273402f22132e41666e2f227)** to **[9c1aea7](https://github.com/sagemath/sagetrac-mirror/commit/9c1aea74da14521f2b6f76ed5b3e8abdb695d09b)**",
    "created_at": "2021-07-29T14:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508254",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0457e82](https://github.com/sagemath/sagetrac-mirror/commit/0457e82fd1cea549273402f22132e41666e2f227)** to **[9c1aea7](https://github.com/sagemath/sagetrac-mirror/commit/9c1aea74da14521f2b6f76ed5b3e8abdb695d09b)**



---

archive/issue_comments_508255.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c1aea74da14521f2b6f76ed5b3e8abdb695d09b\">9c1aea7</a></td><td><code>some minor style fixes; first version of popov_form including doctests</code></td></tr></table>\n",
    "created_at": "2021-07-29T14:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508255",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c1aea74da14521f2b6f76ed5b3e8abdb695d09b">9c1aea7</a></td><td><code>some minor style fixes; first version of popov_form including doctests</code></td></tr></table>




---

archive/issue_comments_508256.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThe last commit does some minor fixes, and an implementation of Popov form normalization following the Mulders and Storjohann algorithm (first call weak Popov form, then normalize degrees by iterating on the rows). It seems to work well, and there is a good amount of doc tests already. It remains to write the corresponding documentation.",
    "created_at": "2021-07-29T14:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508256",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:13'>Comment 13:</a>
The last commit does some minor fixes, and an implementation of Popov form normalization following the Mulders and Storjohann algorithm (first call weak Popov form, then normalize degrees by iterating on the rows). It seems to work well, and there is a good amount of doc tests already. It remains to write the corresponding documentation.



---

archive/issue_comments_508257.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a41613f2441c59072514880fdaff501cc4ac1c4d\">a41613f</a></td><td><code>documentation for Popov form and unification of documentation for weak Popov , reduced , Hermite</code></td></tr></table>\n",
    "created_at": "2021-07-29T17:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508257",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a41613f2441c59072514880fdaff501cc4ac1c4d">a41613f</a></td><td><code>documentation for Popov form and unification of documentation for weak Popov , reduced , Hermite</code></td></tr></table>




---

archive/issue_comments_508258.json:
```json
{
    "body": "Changed commit from **[9c1aea7](https://github.com/sagemath/sagetrac-mirror/commit/9c1aea74da14521f2b6f76ed5b3e8abdb695d09b)** to **[a41613f](https://github.com/sagemath/sagetrac-mirror/commit/a41613f2441c59072514880fdaff501cc4ac1c4d)**",
    "created_at": "2021-07-29T17:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508258",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9c1aea7](https://github.com/sagemath/sagetrac-mirror/commit/9c1aea74da14521f2b6f76ed5b3e8abdb695d09b)** to **[a41613f](https://github.com/sagemath/sagetrac-mirror/commit/a41613f2441c59072514880fdaff501cc4ac1c4d)**



---

archive/issue_comments_508259.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nDocumentation for Popov form is now ok. Some improvements have been done in the documentation for other related methods as well (Hermite, reduced, weak Popov): the definitions are in the verification method (`is_popov`, `is_reduced`, ..) while the computing method (`popov_form`, `reduced_form`, ..) just points to the relevant definition.",
    "created_at": "2021-07-29T17:25:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508259",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:15'>Comment 15:</a>
Documentation for Popov form is now ok. Some improvements have been done in the documentation for other related methods as well (Hermite, reduced, weak Popov): the definitions are in the verification method (`is_popov`, `is_reduced`, ..) while the computing method (`popov_form`, `reduced_form`, ..) just points to the relevant definition.



---

archive/issue_comments_508260.json:
```json
{
    "body": "Assignee: **@ke456**",
    "created_at": "2021-07-29T18:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508260",
    "user": "https://github.com/ke456"
}
```

Assignee: **@ke456**



---

archive/issue_comments_508261.json:
```json
{
    "body": "Changed commit from **[a41613f](https://github.com/sagemath/sagetrac-mirror/commit/a41613f2441c59072514880fdaff501cc4ac1c4d)** to **[075e75c](https://github.com/sagemath/sagetrac-mirror/commit/075e75ced89f79a928089eef10c23ffadae37b1e)**",
    "created_at": "2021-07-29T18:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508261",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a41613f](https://github.com/sagemath/sagetrac-mirror/commit/a41613f2441c59072514880fdaff501cc4ac1c4d)** to **[075e75c](https://github.com/sagemath/sagetrac-mirror/commit/075e75ced89f79a928089eef10c23ffadae37b1e)**



---

archive/issue_comments_508262.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/075e75ced89f79a928089eef10c23ffadae37b1e\">075e75c</a></td><td><code>changes line</code></td></tr></table>\n",
    "created_at": "2021-07-29T18:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508262",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/075e75ced89f79a928089eef10c23ffadae37b1e">075e75c</a></td><td><code>changes line</code></td></tr></table>




---

archive/issue_events_401461.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2021-07-29T18:28:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401461"
}
```



---

archive/issue_comments_508263.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nThe comments and tests seem good, but maybe the documentation for reduced_form could be more clear about what reduced form is being computed (since it is not a canonical form). For example, is it randomly computed?\n\nThis function should also be simplified using the new weak_popov_form functionalities.",
    "created_at": "2021-07-29T18:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508263",
    "user": "https://github.com/ke456"
}
```

<a id='comment:19'>Comment 19:</a>
The comments and tests seem good, but maybe the documentation for reduced_form could be more clear about what reduced form is being computed (since it is not a canonical form). For example, is it randomly computed?

This function should also be simplified using the new weak_popov_form functionalities.



---

archive/issue_comments_508264.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nThank you for noticing this, indeed `reduced_form` should be simplified, it does not need to distinguish row-wise and column-wise anymore thanks to the new `weak_popov_form` features. I'm going to fix this in a commit right now.\n\nAnd indeed, the documentation is unclear because it puts too much highlight on the fact that a reduced form is not unique (for example this is also the case for weak Popov forms, and this is not even mentioned in the weak Popov documentation).\n\nI think this is more confusing than helping, since it already appears clearly in the definitions and the class description that the Popov / Hermite forms are unique, but reduced forms and weak Popov forms are not. So my proposition would be to simply remove this confusing comment: does that sound better?",
    "created_at": "2021-07-29T20:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508264",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:20'>Comment 20:</a>
Thank you for noticing this, indeed `reduced_form` should be simplified, it does not need to distinguish row-wise and column-wise anymore thanks to the new `weak_popov_form` features. I'm going to fix this in a commit right now.

And indeed, the documentation is unclear because it puts too much highlight on the fact that a reduced form is not unique (for example this is also the case for weak Popov forms, and this is not even mentioned in the weak Popov documentation).

I think this is more confusing than helping, since it already appears clearly in the definitions and the class description that the Popov / Hermite forms are unique, but reduced forms and weak Popov forms are not. So my proposition would be to simply remove this confusing comment: does that sound better?



---

archive/issue_comments_508265.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/258d4352236a778cfb7fef8d4c7e196bc17173c0\">258d435</a></td><td><code>reduced form simplification using new weak Popov</code></td></tr></table>\n",
    "created_at": "2021-07-29T20:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508265",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/258d4352236a778cfb7fef8d4c7e196bc17173c0">258d435</a></td><td><code>reduced form simplification using new weak Popov</code></td></tr></table>




---

archive/issue_comments_508266.json:
```json
{
    "body": "Changed commit from **[075e75c](https://github.com/sagemath/sagetrac-mirror/commit/075e75ced89f79a928089eef10c23ffadae37b1e)** to **[258d435](https://github.com/sagemath/sagetrac-mirror/commit/258d4352236a778cfb7fef8d4c7e196bc17173c0)**",
    "created_at": "2021-07-29T20:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508266",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[075e75c](https://github.com/sagemath/sagetrac-mirror/commit/075e75ced89f79a928089eef10c23ffadae37b1e)** to **[258d435](https://github.com/sagemath/sagetrac-mirror/commit/258d4352236a778cfb7fef8d4c7e196bc17173c0)**



---

archive/issue_comments_508267.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nYes, I think this is a sensible solution.",
    "created_at": "2021-07-29T21:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508267",
    "user": "https://github.com/ke456"
}
```

<a id='comment:22'>Comment 22:</a>
Yes, I think this is a sensible solution.



---

archive/issue_comments_508268.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a\">b7e5f12</a></td><td><code>fixing documentation of reduced form</code></td></tr></table>\n",
    "created_at": "2021-07-29T22:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508268",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a">b7e5f12</a></td><td><code>fixing documentation of reduced form</code></td></tr></table>




---

archive/issue_comments_508269.json:
```json
{
    "body": "Changed commit from **[258d435](https://github.com/sagemath/sagetrac-mirror/commit/258d4352236a778cfb7fef8d4c7e196bc17173c0)** to **[b7e5f12](https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a)**",
    "created_at": "2021-07-29T22:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508269",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[258d435](https://github.com/sagemath/sagetrac-mirror/commit/258d4352236a778cfb7fef8d4c7e196bc17173c0)** to **[b7e5f12](https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a)**



---

archive/issue_comments_508270.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nOk, done in the last commit. Is there any other thing that still needs to be verified or improved?",
    "created_at": "2021-07-29T22:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508270",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:24'>Comment 24:</a>
Ok, done in the last commit. Is there any other thing that still needs to be verified or improved?



---

archive/issue_comments_508271.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nI have checked again after the modifications and the functionality reflects the description of the ticket, and the testing, documentation, and style are okay as well.",
    "created_at": "2021-07-30T21:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508271",
    "user": "https://github.com/ke456"
}
```

<a id='comment:25'>Comment 25:</a>
I have checked again after the modifications and the functionality reflects the description of the ticket, and the testing, documentation, and style are okay as well.



---

archive/issue_events_401462.json:
```json
{
    "actor": "https://github.com/ke456",
    "created_at": "2021-07-30T21:05:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401462"
}
```



---

archive/issue_events_401463.json:
```json
{
    "actor": "https://github.com/ke456",
    "created_at": "2021-07-30T21:05:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401463"
}
```



---

archive/issue_comments_508272.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nThanks for the reviewing. Then I suppose we can revert to milestone 9.4.",
    "created_at": "2021-07-30T21:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508272",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:26'>Comment 26:</a>
Thanks for the reviewing. Then I suppose we can revert to milestone 9.4.



---

archive/issue_events_401464.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2021-07-30T21:09:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401464"
}
```



---

archive/issue_events_401465.json:
```json
{
    "actor": "https://github.com/vneiger",
    "created_at": "2021-07-30T21:09:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401465"
}
```



---

archive/issue_events_401466.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401466"
}
```



---

archive/issue_events_401467.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401467"
}
```



---

archive/issue_events_401468.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-29T09:37:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401468"
}
```



---

archive/issue_events_401469.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8bf04b3c9918a18cb43ec842c3ee823c3cc91f1f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-08-29T09:37:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31463#event-401469"
}
```



---

archive/issue_comments_508273.json:
```json
{
    "body": "Changed branch from **[u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form)** to **[b7e5f12](https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a)**",
    "created_at": "2021-08-29T09:37:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31463",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31463#issuecomment-508273",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vneiger/univariate_matrices__improve_weak_popov_form__add_popov_form)** to **[b7e5f12](https://github.com/sagemath/sagetrac-mirror/commit/b7e5f129f06975fe147b7e54ab0b290c53e4dc6a)**
