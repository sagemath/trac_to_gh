# Issue 31069: Upgrade: Flint 2.7.1

archive/issues_030832.json:
```json
{
    "body": "This is to upgrade to Flint 2.7.1.\n\nOur last upgrade was to Flint 2.6.3 in #29719.\n\nChanges in FLINT 2.7.0 (from NEWS file)\n\n2.7.0 -- 11 Dec 2020\n\n* Multivariate factorisation\n* Square root and square testing for finite fields\n* Square root and square testing for multivariates\n* Zassenhaus factoring speedups (incl. degree pruning)\n* Fast factorisation of cubic univariate polynomials\n* Add context objects to fmpz_mod_poly functions\n* Use BLAS for matrix multiplication over Z/nZ (small n)\n* Linear solving for non-square/singular matrices (can_solve)\n* Speed up factorisation over Z/nZ (for multiprecision n)\n\nFrom the packaging point of view the main changes will be\n- configuring BLAS\n- pthread support\n- context object in `fmpz_mod_poly` function (API change)\n\nRelated:\n\n- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154\n- #31408: Meta-ticket: Use new features from FLINT 2.x\n\nDepends on #25993\n\n**CC:**  @antonio-rojas @dimpase @kiwifb @timokau @isuruf @orlitzky @mkoeppe @slel @saraedum @videlec @kliem\n\n**Keywords:** upgrade, flint\n\n**Branch/Commit:** [8c71a1c694075d021008794ef3a6fd461ec4dc0e](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Vincent Delecroix, Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/31069\n\n",
    "closed_at": "2021-05-27T20:30:50Z",
    "created_at": "2020-12-17T20:40:10Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "title": "Upgrade: Flint 2.7.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/31069",
    "user": "https://github.com/slel"
}
```
This is to upgrade to Flint 2.7.1.

Our last upgrade was to Flint 2.6.3 in #29719.

Changes in FLINT 2.7.0 (from NEWS file)

2.7.0 -- 11 Dec 2020

* Multivariate factorisation
* Square root and square testing for finite fields
* Square root and square testing for multivariates
* Zassenhaus factoring speedups (incl. degree pruning)
* Fast factorisation of cubic univariate polynomials
* Add context objects to fmpz_mod_poly functions
* Use BLAS for matrix multiplication over Z/nZ (small n)
* Linear solving for non-square/singular matrices (can_solve)
* Speed up factorisation over Z/nZ (for multiprecision n)

From the packaging point of view the main changes will be
- configuring BLAS
- pthread support
- context object in `fmpz_mod_poly` function (API change)

Related:

- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154
- #31408: Meta-ticket: Use new features from FLINT 2.x

Depends on #25993

**CC:**  @antonio-rojas @dimpase @kiwifb @timokau @isuruf @orlitzky @mkoeppe @slel @saraedum @videlec @kliem

**Keywords:** upgrade, flint

**Branch/Commit:** [8c71a1c694075d021008794ef3a6fd461ec4dc0e](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)

**Reviewer:** Dima Pasechnik

**Author:** Vincent Delecroix, Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/31069





---

archive/issue_comments_500610.json:
```json
{
    "body": "<a id='comment:1'></a>\nFlint 2.7-rc2 is out. Can someone test with Sage?\n\n- https://github.com/wbhart/flint2/releases\n- [sage-devel announcement: flint 2.7.0 rc1, rc2](https://groups.google.com/g/sage-devel/c/cW2MsZDCrJY)",
    "created_at": "2020-12-17T20:43:06Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500610",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>
Flint 2.7-rc2 is out. Can someone test with Sage?

- https://github.com/wbhart/flint2/releases
- [sage-devel announcement: flint 2.7.0 rc1, rc2](https://groups.google.com/g/sage-devel/c/cW2MsZDCrJY)



---

archive/issue_comments_500611.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,18 @@\n This is to upgrade to Flint 2.7.0.\n \n Our last upgrade was to Flint 2.6.3 in #29719.\n+\n+Changes planned in 2.7.0 (from NEWS file)\n+2.7.0 -- 11 Dec 2020\n+\n+* Multivariate factorisation\n+* Square root and square testing for finite fields\n+* Square root and square testing for multivariates\n+* Zassenhaus factoring speedups (incl. degree pruning)\n+* Fast factorisation of cubic univariate polynomials\n+* Add context objects to fmpz_mod_poly functions\n+* Use BLAS for matrix multiplication over Z/nZ (small n)\n+* Linear solving for non-square/singular matrices (can_solve)\n+* Speed up factorisation over Z/nZ (for multiprecision n)\n+\n+From the packaging point of view the main change will be configuring BLAS. \n``````\n",
    "created_at": "2020-12-17T20:47:16Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500611",
    "user": "https://github.com/kiwifb"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,18 @@
 This is to upgrade to Flint 2.7.0.
 
 Our last upgrade was to Flint 2.6.3 in #29719.
+
+Changes planned in 2.7.0 (from NEWS file)
+2.7.0 -- 11 Dec 2020
+
+* Multivariate factorisation
+* Square root and square testing for finite fields
+* Square root and square testing for multivariates
+* Zassenhaus factoring speedups (incl. degree pruning)
+* Fast factorisation of cubic univariate polynomials
+* Add context objects to fmpz_mod_poly functions
+* Use BLAS for matrix multiplication over Z/nZ (small n)
+* Linear solving for non-square/singular matrices (can_solve)
+* Speed up factorisation over Z/nZ (for multiprecision n)
+
+From the packaging point of view the main change will be configuring BLAS. 
``````




---

archive/issue_comments_500612.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,6 +3,7 @@\n Our last upgrade was to Flint 2.6.3 in #29719.\n \n Changes planned in 2.7.0 (from NEWS file)\n+\n 2.7.0 -- 11 Dec 2020\n \n * Multivariate factorisation\n``````\n",
    "created_at": "2020-12-17T20:48:56Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500612",
    "user": "https://github.com/kiwifb"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,6 +3,7 @@
 Our last upgrade was to Flint 2.6.3 in #29719.
 
 Changes planned in 2.7.0 (from NEWS file)
+
 2.7.0 -- 11 Dec 2020
 
 * Multivariate factorisation
``````




---

archive/issue_comments_500613.json:
```json
{
    "body": "<a id='comment:4'></a>\nFlint 2.7.0 was released today (2020-12-18).",
    "created_at": "2020-12-18T10:13:07Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500613",
    "user": "https://github.com/slel"
}
```

<a id='comment:4'></a>
Flint 2.7.0 was released today (2020-12-18).



---

archive/issue_comments_500614.json:
```json
{
    "body": "<a id='comment:5'></a>\nsingular and e-antic fail to build due to the API changes in `fmpz_mod_poly`",
    "created_at": "2020-12-18T11:23:42Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500614",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:5'></a>
singular and e-antic fail to build due to the API changes in `fmpz_mod_poly`



---

archive/issue_comments_500615.json:
```json
{
    "body": "<a id='comment:6'></a>\nActually, Singular is fixed in the (just released) 4.2.0 version. Unfortunately doesn't help much since the Singular upgrade has been stuck for years in #25993",
    "created_at": "2020-12-18T15:33:12Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500615",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:6'></a>
Actually, Singular is fixed in the (just released) 4.2.0 version. Unfortunately doesn't help much since the Singular upgrade has been stuck for years in #25993



---

archive/issue_comments_500616.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,4 +16,6 @@\n * Linear solving for non-square/singular matrices (can_solve)\n * Speed up factorisation over Z/nZ (for multiprecision n)\n \n-From the packaging point of view the main change will be configuring BLAS. \n+From the packaging point of view the main change will be configuring BLAS.\n+\n+- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154\n``````\n",
    "created_at": "2020-12-18T16:55:22Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500616",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,4 +16,6 @@
 * Linear solving for non-square/singular matrices (can_solve)
 * Speed up factorisation over Z/nZ (for multiprecision n)
 
-From the packaging point of view the main change will be configuring BLAS. 
+From the packaging point of view the main change will be configuring BLAS.
+
+- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154
``````




---

archive/issue_comments_500617.json:
```json
{
    "body": "<a id='comment:8'></a>\nsagelib itself builds fine with flint 2.7 and passes doctests, modulo the singular upgrade.",
    "created_at": "2020-12-19T09:17:13Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500617",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:8'></a>
sagelib itself builds fine with flint 2.7 and passes doctests, modulo the singular upgrade.



---

archive/issue_events_278606.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-27T18:56:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278606"
}
```



---

archive/issue_events_278607.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-27T18:56:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278607"
}
```



---

archive/issue_comments_500618.json:
```json
{
    "body": "<a id='comment:10'></a>\nFor the record, we are now up to Flint 2.7.1. As the timing and numbering suggest, this is mainly a bugfix release.",
    "created_at": "2021-01-22T05:01:23Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500618",
    "user": "https://github.com/kedlaya"
}
```

<a id='comment:10'></a>
For the record, we are now up to Flint 2.7.1. As the timing and numbering suggest, this is mainly a bugfix release.



---

archive/issue_comments_500619.json:
```json
{
    "body": "<a id='comment:11'></a>\ne-antic has been fixed (in head, to be 1.0.0).",
    "created_at": "2021-01-23T22:20:38Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500619",
    "user": "https://github.com/thierry-FreeBSD"
}
```

<a id='comment:11'></a>
e-antic has been fixed (in head, to be 1.0.0).



---

archive/issue_comments_500620.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-This is to upgrade to Flint 2.7.0.\n+This is to upgrade to Flint 2.7.1.\n \n Our last upgrade was to Flint 2.6.3 in #29719.\n \n-Changes planned in 2.7.0 (from NEWS file)\n+Changes in FLINT 2.7.0 (from NEWS file)\n \n 2.7.0 -- 11 Dec 2020\n \n@@ -18,4 +18,7 @@\n \n From the packaging point of view the main change will be configuring BLAS.\n \n+Related:\n+\n - upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154\n+- #31408: Meta-ticket: Use new features from FLINT 2.x\n``````\n",
    "created_at": "2021-02-19T01:28:40Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500620",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-This is to upgrade to Flint 2.7.0.
+This is to upgrade to Flint 2.7.1.
 
 Our last upgrade was to Flint 2.6.3 in #29719.
 
-Changes planned in 2.7.0 (from NEWS file)
+Changes in FLINT 2.7.0 (from NEWS file)
 
 2.7.0 -- 11 Dec 2020
 
@@ -18,4 +18,7 @@
 
 From the packaging point of view the main change will be configuring BLAS.
 
+Related:
+
 - upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154
+- #31408: Meta-ticket: Use new features from FLINT 2.x
``````




---

archive/issue_events_278608.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-02-19T01:28:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "rename": {
        "from": "Upgrade: Flint 2.7.0",
        "to": "Upgrade: Flint 2.7.1"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278608"
}
```



---

archive/issue_comments_500621.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,7 +16,10 @@\n * Linear solving for non-square/singular matrices (can_solve)\n * Speed up factorisation over Z/nZ (for multiprecision n)\n \n-From the packaging point of view the main change will be configuring BLAS.\n+From the packaging point of view the main changes will be\n+- configuring BLAS\n+- pthread support\n+- context object from `fmpz_mod_poly`\n \n Related:\n \n``````\n",
    "created_at": "2021-02-20T09:33:32Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500621",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,7 +16,10 @@
 * Linear solving for non-square/singular matrices (can_solve)
 * Speed up factorisation over Z/nZ (for multiprecision n)
 
-From the packaging point of view the main change will be configuring BLAS.
+From the packaging point of view the main changes will be
+- configuring BLAS
+- pthread support
+- context object from `fmpz_mod_poly`
 
 Related:
 
``````




---

archive/issue_comments_500622.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -19,7 +19,7 @@\n From the packaging point of view the main changes will be\n - configuring BLAS\n - pthread support\n-- context object from `fmpz_mod_poly`\n+- context object in `fmpz_mod_poly` function (API change)\n \n Related:\n \n``````\n",
    "created_at": "2021-02-20T09:39:30Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500622",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -19,7 +19,7 @@
 From the packaging point of view the main changes will be
 - configuring BLAS
 - pthread support
-- context object from `fmpz_mod_poly`
+- context object in `fmpz_mod_poly` function (API change)
 
 Related:
 
``````




---

archive/issue_comments_500623.json:
```json
{
    "body": "<a id='comment:15'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73bd1a7a5946ddf12b86406c9ba6754f1f7e8dce\">73bd1a7</a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d\">29c0477</a></td><td><code>31069: flint declarations</code></td></tr></table>\n",
    "created_at": "2021-02-20T09:49:29Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500623",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73bd1a7a5946ddf12b86406c9ba6754f1f7e8dce">73bd1a7</a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d">29c0477</a></td><td><code>31069: flint declarations</code></td></tr></table>




---

archive/issue_comments_500624.json:
```json
{
    "body": "**Commit:** [29c0477d4aeb9394df2c80cc1628f244647ce40d](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)",
    "created_at": "2021-02-20T09:49:29Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500624",
    "user": "https://github.com/videlec"
}
```

**Commit:** [29c0477d4aeb9394df2c80cc1628f244647ce40d](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)



---

archive/issue_comments_500625.json:
```json
{
    "body": "**Author:** Vincent Delecroix",
    "created_at": "2021-02-20T09:49:29Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500625",
    "user": "https://github.com/videlec"
}
```

**Author:** Vincent Delecroix



---

archive/issue_comments_500626.json:
```json
{
    "body": "**Branch:** [public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)",
    "created_at": "2021-02-20T09:49:29Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500626",
    "user": "https://github.com/videlec"
}
```

**Branch:** [public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)



---

archive/issue_comments_500627.json:
```json
{
    "body": "<a id='comment:16'></a>\nI did not have any trouble to build singular. What was the issue?",
    "created_at": "2021-02-20T10:31:01Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500627",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
I did not have any trouble to build singular. What was the issue?



---

archive/issue_comments_500628.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [vdelecroix](#comment%3A16):\n> I did not have any trouble to build singular. What was the issue?\n\n\nWhich version of singular?",
    "created_at": "2021-02-20T10:55:25Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500628",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:17'></a>
Replying to [vdelecroix](#comment%3A16):
> I did not have any trouble to build singular. What was the issue?


Which version of singular?



---

archive/issue_comments_500629.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [arojas](#comment%3A17):\n> Replying to [vdelecroix](#comment%3A16):\n> > I did not have any trouble to build singular. What was the issue?\n\n> \n> Which version of singular?\n\n\n4.1.1p2.p0 shipped with sage 9.3.beta7",
    "created_at": "2021-02-20T12:17:21Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500629",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>
Replying to [arojas](#comment%3A17):
> Replying to [vdelecroix](#comment%3A16):
> > I did not have any trouble to build singular. What was the issue?

> 
> Which version of singular?


4.1.1p2.p0 shipped with sage 9.3.beta7



---

archive/issue_comments_500630.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [vdelecroix](#comment%3A18):\n> Replying to [arojas](#comment%3A17):\n> > Replying to [vdelecroix](#comment%3A16):\n> > > I did not have any trouble to build singular. What was the issue?\n\n> > \n> > Which version of singular?\n\n> \n> 4.1.1p2.p0 shipped with sage 9.3.beta7\n\n\nIt builds because it's not using flint\n\n```\nchecking for FLINT >= 2.4... problem\nSorry, your FLINT version is too old. Disabling.\nconfigure: WARNING: Unable to find FLINT (which is strongly recommended) on your machine: please use --with-flint=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)\n```",
    "created_at": "2021-02-20T12:36:26Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500630",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:19'></a>
Replying to [vdelecroix](#comment%3A18):
> Replying to [arojas](#comment%3A17):
> > Replying to [vdelecroix](#comment%3A16):
> > > I did not have any trouble to build singular. What was the issue?

> > 
> > Which version of singular?

> 
> 4.1.1p2.p0 shipped with sage 9.3.beta7


It builds because it's not using flint

```
checking for FLINT >= 2.4... problem
Sorry, your FLINT version is too old. Disabling.
configure: WARNING: Unable to find FLINT (which is strongly recommended) on your machine: please use --with-flint=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)
```



---

archive/issue_events_278609.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-20T16:58:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278609"
}
```



---

archive/issue_events_278610.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-20T16:58:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278610"
}
```



---

archive/issue_events_278611.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-20T16:58:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278611"
}
```



---

archive/issue_comments_500631.json:
```json
{
    "body": "**Dependencies:** #25993",
    "created_at": "2021-02-20T17:08:19Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500631",
    "user": "https://github.com/videlec"
}
```

**Dependencies:** #25993



---

archive/issue_comments_500632.json:
```json
{
    "body": "<a id='comment:22'></a>\nCan't we patch up the failing configure check in Singular to avoid the dependency on #25993?",
    "created_at": "2021-02-20T17:11:54Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500632",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?



---

archive/issue_comments_500633.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [mkoeppe](#comment%3A22):\n> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?\n\n\nThat would be an alternative. But because of the API change I believe it is not enough. Let me give it a try.",
    "created_at": "2021-02-20T17:12:43Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500633",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'></a>
Replying to [mkoeppe](#comment%3A22):
> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?


That would be an alternative. But because of the API change I believe it is not enough. Let me give it a try.



---

archive/issue_comments_500634.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [mkoeppe](#comment%3A22):\n> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?\n\n\nThen it will fail to build with real compilation errors, unless you also backport the flint 2.7 support patches for singular",
    "created_at": "2021-02-20T17:13:45Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500634",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:24'></a>
Replying to [mkoeppe](#comment%3A22):
> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?


Then it will fail to build with real compilation errors, unless you also backport the flint 2.7 support patches for singular



---

archive/issue_comments_500635.json:
```json
{
    "body": "<a id='comment:25'></a>\nperhaps just Singular commit 2e7e3dc89e04ca1ef4175816cd23db6780ad5a38?",
    "created_at": "2021-02-20T17:16:12Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500635",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
perhaps just Singular commit 2e7e3dc89e04ca1ef4175816cd23db6780ad5a38?



---

archive/issue_comments_500636.json:
```json
{
    "body": "<a id='comment:26'></a>\nDoes anyone already have e-antic 0.1.x patches to work with FLINT 2.7?",
    "created_at": "2021-02-23T00:35:36Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500636",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?



---

archive/issue_comments_500637.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [mkoeppe](#comment%3A26):\n> Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?\n\n\nYes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch\n\nNeeds massive ifdef'ing if you still want to support flint <2.7",
    "created_at": "2021-02-23T07:08:49Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500637",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:27'></a>
Replying to [mkoeppe](#comment%3A26):
> Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?


Yes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch

Needs massive ifdef'ing if you still want to support flint <2.7



---

archive/issue_comments_500638.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [arojas](#comment%3A27):\n> Replying to [mkoeppe](#comment%3A26):\n> > Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?\n\n> \n> Yes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch\n> \n> Needs massive ifdef'ing if you still want to support flint <2.7\n\n\nThanks! I've prepared this in https://github.com/mkoeppe/e-antic/tree/flint-2.7, testing currently at https://github.com/mkoeppe/e-antic/actions/runs/593267164",
    "created_at": "2021-02-23T16:47:35Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500638",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Replying to [arojas](#comment%3A27):
> Replying to [mkoeppe](#comment%3A26):
> > Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?

> 
> Yes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch
> 
> Needs massive ifdef'ing if you still want to support flint <2.7


Thanks! I've prepared this in https://github.com/mkoeppe/e-antic/tree/flint-2.7, testing currently at https://github.com/mkoeppe/e-antic/actions/runs/593267164



---

archive/issue_comments_500639.json:
```json
{
    "body": "<a id='comment:29'></a>\nOpened #31430 for e-antic patch (or ideally new 0.1.x release)",
    "created_at": "2021-02-23T18:52:44Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500639",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Opened #31430 for e-antic patch (or ideally new 0.1.x release)



---

archive/issue_comments_500640.json:
```json
{
    "body": "**Changing dependencies** from \"#25993\" to \"#25993, #31430\".",
    "created_at": "2021-02-24T21:17:39Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500640",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#25993" to "#25993, #31430".



---

archive/issue_comments_500641.json:
```json
{
    "body": "**Changing dependencies** from \"#25993, #31430\" to \"#25993\".",
    "created_at": "2021-03-19T00:56:40Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500641",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#25993, #31430" to "#25993".



---

archive/issue_comments_500642.json:
```json
{
    "body": "**Changing commit** from \"[29c0477d4aeb9394df2c80cc1628f244647ce40d](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)\" to \"[dbc64778ddf69fe39218fc406656e559aaddd096](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)\".",
    "created_at": "2021-03-19T01:08:08Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500642",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[29c0477d4aeb9394df2c80cc1628f244647ce40d](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)" to "[dbc64778ddf69fe39218fc406656e559aaddd096](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)".



---

archive/issue_comments_500643.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/871fdbd13cddce70fac49ce3e0d82d485ba6ccca\">871fdbd</a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096\">dbc6477</a></td><td><code>31069: flint declarations</code></td></tr></table>\n",
    "created_at": "2021-03-19T01:08:08Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500643",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/871fdbd13cddce70fac49ce3e0d82d485ba6ccca">871fdbd</a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096">dbc6477</a></td><td><code>31069: flint declarations</code></td></tr></table>




---

archive/issue_comments_500644.json:
```json
{
    "body": "**Changing commit** from \"[dbc64778ddf69fe39218fc406656e559aaddd096](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)\" to \"[8e3040c2a22fbd256f088ca58619442ae13af362](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)\".",
    "created_at": "2021-03-19T01:55:58Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500644",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dbc64778ddf69fe39218fc406656e559aaddd096](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)" to "[8e3040c2a22fbd256f088ca58619442ae13af362](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)".



---

archive/issue_comments_500645.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94\">797bacd</a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9\">31fe1eb</a></td><td><code>build/pkgs/singular/spkg-install.in: Build the documentation if the Singular tarball does not contain it</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7\">6c01591</a></td><td><code>Merge #31439</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3119b16be980379cc18eb1f644baeff802c0c58\">f3119b1</a></td><td><code>Merge tag '9.3.beta9' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54\">49de2ff</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-13+sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f816f077ac20a61b643a0448853a4bcab5da3965\">f816f07</a></td><td><code>build/pkgs/singular/spkg-install.in: Use --disable-static on all platforms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868\">b0d7748</a></td><td><code>build/pkgs/singular/spkg-install.in: Build subdirs in parallel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c\">c33ca2b</a></td><td><code>src/sage/rings/polynomial/{laurent,multi}_polynomial_ideal: Use sorted(..., key=str) to make doctests stable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267\">ec471e0</a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362\">8e3040c</a></td><td><code>Merge #25993</code></td></tr></table>\n",
    "created_at": "2021-03-19T01:55:58Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500645",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94">797bacd</a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9">31fe1eb</a></td><td><code>build/pkgs/singular/spkg-install.in: Build the documentation if the Singular tarball does not contain it</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7">6c01591</a></td><td><code>Merge #31439</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3119b16be980379cc18eb1f644baeff802c0c58">f3119b1</a></td><td><code>Merge tag '9.3.beta9' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54">49de2ff</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-13+sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f816f077ac20a61b643a0448853a4bcab5da3965">f816f07</a></td><td><code>build/pkgs/singular/spkg-install.in: Use --disable-static on all platforms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868">b0d7748</a></td><td><code>build/pkgs/singular/spkg-install.in: Build subdirs in parallel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c">c33ca2b</a></td><td><code>src/sage/rings/polynomial/{laurent,multi}_polynomial_ideal: Use sorted(..., key=str) to make doctests stable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267">ec471e0</a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362">8e3040c</a></td><td><code>Merge #25993</code></td></tr></table>




---

archive/issue_events_278612.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T01:56:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278612"
}
```



---

archive/issue_comments_500646.json:
```json
{
    "body": "**Changing author** from \"Vincent Delecroix\" to \"Vincent Delecroix, Matthias Koeppe\".",
    "created_at": "2021-03-19T01:56:37Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500646",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Vincent Delecroix" to "Vincent Delecroix, Matthias Koeppe".



---

archive/issue_comments_500647.json:
```json
{
    "body": "**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/666698487",
    "created_at": "2021-03-19T03:30:22Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500647",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/666698487



---

archive/issue_events_278613.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T16:40:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278613"
}
```



---

archive/issue_events_278614.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T16:40:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278614"
}
```



---

archive/issue_comments_500648.json:
```json
{
    "body": "<a id='comment:36'></a>\nThere are still problems with `e_antic` (0.1.9):\n\n`ubuntu-trusty-maximal` (https://github.com/mkoeppe/sage/runs/2145415921 - uses FLINT from SPKG): \n\n```\n  [e_antic-0.1.9]   checking for gmp.h... yes\n  [e_antic-0.1.9]   checking for __gmpz_add in -lgmp... yes\n  [e_antic-0.1.9]   checking for flint/flint.h... yes\n  [e_antic-0.1.9]   checking for flint/fmpz.h... no\n  [e_antic-0.1.9]   configure: error: flint header not found\n```\n\n`cygwin-standard` (https://github.com/mkoeppe/sage/runs/2145195263 - uses system FLINT 2.7)\n\n```\nlibtool: compile:  gcc -DHAVE_CONFIG_H -I. -fopenmp -O2 -g -march=native -c poly_extra/fmpz_nextprime.c -o poly_extra/fmpz_nextprime.o >/dev/null 2>&1\npoly_extra/fmpz_randprime.c:17:6: error: conflicting types for 'fmpz_randprime'\n   17 | void fmpz_randprime(fmpz_t f, flint_rand_t state, mp_bitcnt_t bits, int proved)\n      |      ^~~~~~~~~~~~~~\nIn file included from /usr/include/flint/fmpz_poly.h:33,\n                 from ./e-antic/poly_extra.h:17,\n                 from poly_extra/fmpz_randprime.c:13:\n/usr/include/flint/fmpz.h:188:16: note: previous declaration of 'fmpz_randprime' was here\n  188 | FLINT_DLL void fmpz_randprime(fmpz_t f, flint_rand_t state,\n      |                ^~~~~~~~~~~~~~\nmake[4]: *** [Makefile:2699: poly_extra/fmpz_randprime.lo] Error 1\n```",
    "created_at": "2021-03-19T16:40:44Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500648",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
There are still problems with `e_antic` (0.1.9):

`ubuntu-trusty-maximal` (https://github.com/mkoeppe/sage/runs/2145415921 - uses FLINT from SPKG): 

```
  [e_antic-0.1.9]   checking for gmp.h... yes
  [e_antic-0.1.9]   checking for __gmpz_add in -lgmp... yes
  [e_antic-0.1.9]   checking for flint/flint.h... yes
  [e_antic-0.1.9]   checking for flint/fmpz.h... no
  [e_antic-0.1.9]   configure: error: flint header not found
```

`cygwin-standard` (https://github.com/mkoeppe/sage/runs/2145195263 - uses system FLINT 2.7)

```
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -fopenmp -O2 -g -march=native -c poly_extra/fmpz_nextprime.c -o poly_extra/fmpz_nextprime.o >/dev/null 2>&1
poly_extra/fmpz_randprime.c:17:6: error: conflicting types for 'fmpz_randprime'
   17 | void fmpz_randprime(fmpz_t f, flint_rand_t state, mp_bitcnt_t bits, int proved)
      |      ^~~~~~~~~~~~~~
In file included from /usr/include/flint/fmpz_poly.h:33,
                 from ./e-antic/poly_extra.h:17,
                 from poly_extra/fmpz_randprime.c:13:
/usr/include/flint/fmpz.h:188:16: note: previous declaration of 'fmpz_randprime' was here
  188 | FLINT_DLL void fmpz_randprime(fmpz_t f, flint_rand_t state,
      |                ^~~~~~~~~~~~~~
make[4]: *** [Makefile:2699: poly_extra/fmpz_randprime.lo] Error 1
```



---

archive/issue_comments_500649.json:
```json
{
    "body": "<a id='comment:37'></a>\nOTOH, on `ubuntu-xenial-maximal` (https://github.com/mkoeppe/sage/runs/2145415962)and `ubuntu-bionic-maximal` (https://github.com/mkoeppe/sage/runs/2145416018), `e_antic`  installs OK.\nWe can just write off `ubuntu-trusty` - Normaliz does not compile with the ancient compiler there either.",
    "created_at": "2021-03-19T22:38:31Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500649",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
OTOH, on `ubuntu-xenial-maximal` (https://github.com/mkoeppe/sage/runs/2145415962)and `ubuntu-bionic-maximal` (https://github.com/mkoeppe/sage/runs/2145416018), `e_antic`  installs OK.
We can just write off `ubuntu-trusty` - Normaliz does not compile with the ancient compiler there either.



---

archive/issue_events_278615.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:42:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278615"
}
```



---

archive/issue_events_278616.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:42:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278616"
}
```



---

archive/issue_comments_500650.json:
```json
{
    "body": "<a id='comment:39'></a>\nA serious issue: On `ubuntu-focal-standard` (https://github.com/mkoeppe/sage/runs/2145416039) \n\n```\n  [sagelib-9.3.beta9]   In file included from build/cythonized/sage/data_structures/bounded_integer_sequences.c:3535:\n  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h: At top level:\n  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h:39:10: fatal error: flint/fmpz_mod.h: No such file or directory\n  [sagelib-9.3.beta9]      39 | #include <flint/fmpz_mod.h>\n  [sagelib-9.3.beta9]         |          ^~~~~~~~~~~~~~~~~~\n  [sagelib-9.3.beta9]   compilation terminated.\n```\nThis is using system `flint` 2.5.2 (see https://repology.org/project/flint/versions)",
    "created_at": "2021-03-19T22:49:15Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500650",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
A serious issue: On `ubuntu-focal-standard` (https://github.com/mkoeppe/sage/runs/2145416039) 

```
  [sagelib-9.3.beta9]   In file included from build/cythonized/sage/data_structures/bounded_integer_sequences.c:3535:
  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h: At top level:
  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h:39:10: fatal error: flint/fmpz_mod.h: No such file or directory
  [sagelib-9.3.beta9]      39 | #include <flint/fmpz_mod.h>
  [sagelib-9.3.beta9]         |          ^~~~~~~~~~~~~~~~~~
  [sagelib-9.3.beta9]   compilation terminated.
```
This is using system `flint` 2.5.2 (see https://repology.org/project/flint/versions)



---

archive/issue_events_278617.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:49:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278617"
}
```



---

archive/issue_events_278618.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:49:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278618"
}
```



---

archive/issue_comments_500651.json:
```json
{
    "body": "<a id='comment:40'></a>\n(`fmpz_mod.h` was introduced in 2.6.0 according to https://github.com/wbhart/flint2/blob/trunk/NEWS)",
    "created_at": "2021-03-19T22:55:42Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500651",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
(`fmpz_mod.h` was introduced in 2.6.0 according to https://github.com/wbhart/flint2/blob/trunk/NEWS)



---

archive/issue_comments_500652.json:
```json
{
    "body": "<a id='comment:41'></a>\nI think dropping support for system FLINT 2.5.x is too disruptive for Sage 9.3, given that the new features are not used yet by anything. \n\nSo I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.",
    "created_at": "2021-03-19T23:07:05Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500652",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
I think dropping support for system FLINT 2.5.x is too disruptive for Sage 9.3, given that the new features are not used yet by anything. 

So I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.



---

archive/issue_comments_500653.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e\">8c71a1c</a></td><td><code>31069: flint version upgrade</code></td></tr></table>\n",
    "created_at": "2021-03-19T23:29:13Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500653",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e">8c71a1c</a></td><td><code>31069: flint version upgrade</code></td></tr></table>




---

archive/issue_comments_500654.json:
```json
{
    "body": "**Changing commit** from \"[8e3040c2a22fbd256f088ca58619442ae13af362](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)\" to \"[8c71a1c694075d021008794ef3a6fd461ec4dc0e](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)\".",
    "created_at": "2021-03-19T23:29:13Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8e3040c2a22fbd256f088ca58619442ae13af362](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)" to "[8c71a1c694075d021008794ef3a6fd461ec4dc0e](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)".



---

archive/issue_comments_500655.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [mkoeppe](#comment%3A41):\n> I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.\n\n\nThis is now #31525.",
    "created_at": "2021-03-19T23:29:55Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500655",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
Replying to [mkoeppe](#comment%3A41):
> I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.


This is now #31525.



---

archive/issue_events_278619.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T23:33:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278619"
}
```



---

archive/issue_events_278620.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T23:33:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278620"
}
```



---

archive/issue_comments_500656.json:
```json
{
    "body": "<a id='comment:45'></a>\nI think this is OK. The main issues were in other packages that have already been fixed. With system flint-2.7.1, I see only one doctest failure due to a timeout in pari that probably cannot be blamed on flint.\n\nI see \"unrelated\" failures in the CI runs as well. If you are convinced of flint's innocence, we can set this to positive review.",
    "created_at": "2021-03-24T21:17:20Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500656",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:45'></a>
I think this is OK. The main issues were in other packages that have already been fixed. With system flint-2.7.1, I see only one doctest failure due to a timeout in pari that probably cannot be blamed on flint.

I see "unrelated" failures in the CI runs as well. If you are convinced of flint's innocence, we can set this to positive review.



---

archive/issue_comments_500657.json:
```json
{
    "body": "<a id='comment:46'></a>\nlgtm too",
    "created_at": "2021-03-24T21:42:56Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500657",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>
lgtm too



---

archive/issue_comments_500658.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/666698487\" to \"Dima Pasechnik\".",
    "created_at": "2021-03-24T21:42:56Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500658",
    "user": "https://github.com/dimpase"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/666698487" to "Dima Pasechnik".



---

archive/issue_events_278621.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-24T21:42:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278621"
}
```



---

archive/issue_events_278622.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-24T21:42:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278622"
}
```



---

archive/issue_comments_500659.json:
```json
{
    "body": "<a id='comment:47'></a>\nThanks!",
    "created_at": "2021-03-24T22:16:37Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500659",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
Thanks!



---

archive/issue_events_278623.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-29T23:54:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278623"
}
```



---

archive/issue_events_278624.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-29T23:54:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278624"
}
```



---

archive/issue_comments_500660.json:
```json
{
    "body": "<a id='comment:48'></a>\nSetting priority to blocker to bring this ticket to the attention of the release bot.",
    "created_at": "2021-03-29T23:54:39Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500660",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>
Setting priority to blocker to bring this ticket to the attention of the release bot.



---

archive/issue_comments_500661.json:
```json
{
    "body": "<a id='comment:49'></a>\nAfter merging this ticket into #31548 (since I want to use new functionality from FLINT 2.7.1 there) I'm getting errors starting Sage.  I don't usually update spkgs outside of beta releases, so I could be doing something wrong (I'm running OS X 10.15.2).\n\n```\n$ git trac fetch 31069 && git merge\n$ make build\n...\nSage build/upgrade complete!\n$ sage\nImportError Python 3.9.1: /Users/roed/sage/sage-9.3.beta7/local/bin/python3\n...\nImportError: dlopen(/Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so, 2): Library not loaded: /Users/roed/sage/sage-9.3.beta7/local/lib/libSingular-4.1.1.dylib\n  Referenced from: /Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so\n  Reason: image not found\n```\nFull install.log available [here](https://math.mit.edu/~roed/31548_install.log).",
    "created_at": "2021-03-30T07:32:38Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500661",
    "user": "https://github.com/roed314"
}
```

<a id='comment:49'></a>
After merging this ticket into #31548 (since I want to use new functionality from FLINT 2.7.1 there) I'm getting errors starting Sage.  I don't usually update spkgs outside of beta releases, so I could be doing something wrong (I'm running OS X 10.15.2).

```
$ git trac fetch 31069 && git merge
$ make build
...
Sage build/upgrade complete!
$ sage
ImportError Python 3.9.1: /Users/roed/sage/sage-9.3.beta7/local/bin/python3
...
ImportError: dlopen(/Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so, 2): Library not loaded: /Users/roed/sage/sage-9.3.beta7/local/lib/libSingular-4.1.1.dylib
  Referenced from: /Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so
  Reason: image not found
```
Full install.log available [here](https://math.mit.edu/~roed/31548_install.log).



---

archive/issue_comments_500662.json:
```json
{
    "body": "<a id='comment:50'></a>\nI believe you need singular 4.2.0p1 (9.3.beta8 if I am not mistaken) with that. Singular uses flint so does need rebuilding and 4.2.0 is the first one that is compatible with flint-2.7.1.",
    "created_at": "2021-03-30T07:36:09Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500662",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:50'></a>
I believe you need singular 4.2.0p1 (9.3.beta8 if I am not mistaken) with that. Singular uses flint so does need rebuilding and 4.2.0 is the first one that is compatible with flint-2.7.1.



---

archive/issue_comments_500663.json:
```json
{
    "body": "<a id='comment:51'></a>\nDespite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.",
    "created_at": "2021-03-30T08:53:12Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500663",
    "user": "https://github.com/roed314"
}
```

<a id='comment:51'></a>
Despite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.



---

archive/issue_comments_500664.json:
```json
{
    "body": "<a id='comment:52'></a>\nI feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:\n\n```\n[flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors\n[flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz\n[flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n[flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'\n[flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz\n...\n[flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network\n[flint-2.7.1] ************************************************************************\n[flint-2.7.1] ************************************************************************\n[flint-2.7.1] Error downloading flint-2.7.1.tar.gz\n\n```\nDo I need to download a tarball manually from somewhere?",
    "created_at": "2021-03-30T08:58:24Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500664",
    "user": "https://github.com/roed314"
}
```

<a id='comment:52'></a>
I feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:

```
[flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors
[flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz
[flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'
[flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz
...
[flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network
[flint-2.7.1] ************************************************************************
[flint-2.7.1] ************************************************************************
[flint-2.7.1] Error downloading flint-2.7.1.tar.gz

```
Do I need to download a tarball manually from somewhere?



---

archive/issue_comments_500665.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [roed](#comment%3A51):\n> Despite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.\n\n\nOK, then it appears that somehow `sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so` has not be rebuilt because it is still looking for libSingular-4.1.1 when it should look for libSingular-4.2.0.",
    "created_at": "2021-03-30T08:59:41Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500665",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:53'></a>
Replying to [roed](#comment%3A51):
> Despite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.


OK, then it appears that somehow `sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so` has not be rebuilt because it is still looking for libSingular-4.1.1 when it should look for libSingular-4.2.0.



---

archive/issue_comments_500666.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [roed](#comment%3A52):\n> I feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:\n> \n> ```\n> [flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors\n> [flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz\n> [flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n> [flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'\n> [flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz\n> ...\n> [flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network\n> [flint-2.7.1] ************************************************************************\n> [flint-2.7.1] ************************************************************************\n> [flint-2.7.1] Error downloading flint-2.7.1.tar.gz\n> \n> ```\n> Do I need to download a tarball manually from somewhere?\n\n\nThis ticket is not merged, tarball are not usually mirrored before Volker attempt to merge the tickets. You'll have to fetch the source a different way. Matthias created a handy way of using a string called `upstream_url` in the file checksum.ini to do the fetching from upstream but I cannot remember how it works.",
    "created_at": "2021-03-30T09:04:37Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500666",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:54'></a>
Replying to [roed](#comment%3A52):
> I feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:
> 
> ```
> [flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors
> [flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz
> [flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
> [flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'
> [flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz
> ...
> [flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network
> [flint-2.7.1] ************************************************************************
> [flint-2.7.1] ************************************************************************
> [flint-2.7.1] Error downloading flint-2.7.1.tar.gz
> 
> ```
> Do I need to download a tarball manually from somewhere?


This ticket is not merged, tarball are not usually mirrored before Volker attempt to merge the tickets. You'll have to fetch the source a different way. Matthias created a handy way of using a string called `upstream_url` in the file checksum.ini to do the fetching from upstream but I cannot remember how it works.



---

archive/issue_comments_500667.json:
```json
{
    "body": "<a id='comment:55'></a>\nDo this:\n\n```\n$ ./bootstrap -q\n$ ./configure --enable-download-from-upstream-url -q\n$ make -s V=0\n```",
    "created_at": "2021-03-30T09:33:26Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500667",
    "user": "https://github.com/slel"
}
```

<a id='comment:55'></a>
Do this:

```
$ ./bootstrap -q
$ ./configure --enable-download-from-upstream-url -q
$ make -s V=0
```



---

archive/issue_comments_500668.json:
```json
{
    "body": "<a id='comment:56'></a>\nThanks!  That seems to have worked.",
    "created_at": "2021-03-30T17:52:46Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500668",
    "user": "https://github.com/roed314"
}
```

<a id='comment:56'></a>
Thanks!  That seems to have worked.



---

archive/issue_comments_500669.json:
```json
{
    "body": "<a id='comment:57'></a>\nFor anyone else looking at this, I also had to do `sage -f flint` after the commands Samuel gave.",
    "created_at": "2021-03-31T15:48:42Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500669",
    "user": "https://github.com/roed314"
}
```

<a id='comment:57'></a>
For anyone else looking at this, I also had to do `sage -f flint` after the commands Samuel gave.



---

archive/issue_comments_500670.json:
```json
{
    "body": "<a id='comment:58'></a>\nThis should do everything at once:\n\n```\n$ ./bootstrap -q\n$ ./configure --enable-download-from-upstream-url -q\n$ make -s V=0 flint-clean\n$ make -s V=0\n```",
    "created_at": "2021-03-31T18:30:03Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500670",
    "user": "https://github.com/slel"
}
```

<a id='comment:58'></a>
This should do everything at once:

```
$ ./bootstrap -q
$ ./configure --enable-download-from-upstream-url -q
$ make -s V=0 flint-clean
$ make -s V=0
```



---

archive/issue_events_278625.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278625"
}
```



---

archive/issue_events_278626.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278626"
}
```



---

archive/issue_comments_500671.json:
```json
{
    "body": "<a id='comment:59'></a>\nLooks unrealistic to squeeze this into 9.3",
    "created_at": "2021-04-02T19:43:36Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500671",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:59'></a>
Looks unrealistic to squeeze this into 9.3



---

archive/issue_events_278627.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278627"
}
```



---

archive/issue_events_278628.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278628"
}
```



---

archive/issue_comments_500672.json:
```json
{
    "body": "**Changing branch** from \"[public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)\" to \"[8c71a1c694075d021008794ef3a6fd461ec4dc0e](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)\".",
    "created_at": "2021-05-27T20:30:50Z",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-500672",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)" to "[8c71a1c694075d021008794ef3a6fd461ec4dc0e](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)".



---

archive/issue_events_278629.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-05-27T20:30:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278629"
}
```



---

archive/issue_events_278630.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bab8d46b84585de8ede35e04d7fda63d20516f80",
    "created_at": "2021-05-27T20:30:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-278630"
}
```
