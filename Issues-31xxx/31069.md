# Issue 31069: Upgrade: Flint 2.7.1

archive/issues_030832.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis is to upgrade to Flint 2.7.1.\n\nOur last upgrade was to Flint 2.6.3 in #29719.\n\nChanges in FLINT 2.7.0 (from NEWS file)\n\n2.7.0 -- 11 Dec 2020\n\n* Multivariate factorisation\n* Square root and square testing for finite fields\n* Square root and square testing for multivariates\n* Zassenhaus factoring speedups (incl. degree pruning)\n* Fast factorisation of cubic univariate polynomials\n* Add context objects to fmpz_mod_poly functions\n* Use BLAS for matrix multiplication over Z/nZ (small n)\n* Linear solving for non-square/singular matrices (can_solve)\n* Speed up factorisation over Z/nZ (for multiprecision n)\n\nFrom the packaging point of view the main changes will be\n- configuring BLAS\n- pthread support\n- context object in `fmpz_mod_poly` function (API change)\n\nRelated:\n\n- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154\n- #31408: Meta-ticket: Use new features from FLINT 2.x\n\nDepends on #25993\n\nCC:  @antonio-rojas @dimpase @kiwifb @timokau @isuruf @orlitzky @mkoeppe @slel @saraedum @videlec @kliem\n\nComponent: **packages: standard**\n\nKeywords: **upgrade, flint**\n\nAuthor: **Vincent Delecroix, Matthias Koeppe**\n\nBranch/Commit: **[`8c71a1c`](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31069_\n\n",
    "closed_at": "2021-05-27T20:30:50Z",
    "created_at": "2020-12-17T20:40:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade: Flint 2.7.1",
    "type": "issue",
    "updated_at": "2021-05-27T20:30:50Z",
    "url": "https://github.com/sagemath/sage/issues/31069",
    "user": "https://github.com/slel"
}
```
<div id="comment:0"></div>

This is to upgrade to Flint 2.7.1.

Our last upgrade was to Flint 2.6.3 in #29719.

Changes in FLINT 2.7.0 (from NEWS file)

2.7.0 -- 11 Dec 2020

* Multivariate factorisation
* Square root and square testing for finite fields
* Square root and square testing for multivariates
* Zassenhaus factoring speedups (incl. degree pruning)
* Fast factorisation of cubic univariate polynomials
* Add context objects to fmpz_mod_poly functions
* Use BLAS for matrix multiplication over Z/nZ (small n)
* Linear solving for non-square/singular matrices (can_solve)
* Speed up factorisation over Z/nZ (for multiprecision n)

From the packaging point of view the main changes will be
- configuring BLAS
- pthread support
- context object in `fmpz_mod_poly` function (API change)

Related:

- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154
- #31408: Meta-ticket: Use new features from FLINT 2.x

Depends on #25993

CC:  @antonio-rojas @dimpase @kiwifb @timokau @isuruf @orlitzky @mkoeppe @slel @saraedum @videlec @kliem

Component: **packages: standard**

Keywords: **upgrade, flint**

Author: **Vincent Delecroix, Matthias Koeppe**

Branch/Commit: **[`8c71a1c`](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/31069_





---

archive/issue_events_425258.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-17T20:40:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425258"
}
```



---

archive/issue_events_425259.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-17T20:40:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425259"
}
```



---

archive/issue_events_425260.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-17T20:40:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425260"
}
```



---

archive/issue_events_425261.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-17T20:40:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425261"
}
```



---

archive/issue_comments_497772.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nFlint 2.7-rc2 is out. Can someone test with Sage?\n\n- https://github.com/wbhart/flint2/releases\n- [sage-devel announcement: flint 2.7.0 rc1, rc2](https://groups.google.com/g/sage-devel/c/cW2MsZDCrJY)",
    "created_at": "2020-12-17T20:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497772",
    "user": "https://github.com/slel"
}
```

<div id="comment:1" align="right">comment:1</div>

Flint 2.7-rc2 is out. Can someone test with Sage?

- https://github.com/wbhart/flint2/releases
- [sage-devel announcement: flint 2.7.0 rc1, rc2](https://groups.google.com/g/sage-devel/c/cW2MsZDCrJY)



---

archive/issue_comments_497773.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,18 @@\n This is to upgrade to Flint 2.7.0.\n \n Our last upgrade was to Flint 2.6.3 in #29719.\n+\n+Changes planned in 2.7.0 (from NEWS file)\n+2.7.0 -- 11 Dec 2020\n+\n+* Multivariate factorisation\n+* Square root and square testing for finite fields\n+* Square root and square testing for multivariates\n+* Zassenhaus factoring speedups (incl. degree pruning)\n+* Fast factorisation of cubic univariate polynomials\n+* Add context objects to fmpz_mod_poly functions\n+* Use BLAS for matrix multiplication over Z/nZ (small n)\n+* Linear solving for non-square/singular matrices (can_solve)\n+* Speed up factorisation over Z/nZ (for multiprecision n)\n+\n+From the packaging point of view the main change will be configuring BLAS. \n``````\n",
    "created_at": "2020-12-17T20:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497773",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,18 @@
 This is to upgrade to Flint 2.7.0.
 
 Our last upgrade was to Flint 2.6.3 in #29719.
+
+Changes planned in 2.7.0 (from NEWS file)
+2.7.0 -- 11 Dec 2020
+
+* Multivariate factorisation
+* Square root and square testing for finite fields
+* Square root and square testing for multivariates
+* Zassenhaus factoring speedups (incl. degree pruning)
+* Fast factorisation of cubic univariate polynomials
+* Add context objects to fmpz_mod_poly functions
+* Use BLAS for matrix multiplication over Z/nZ (small n)
+* Linear solving for non-square/singular matrices (can_solve)
+* Speed up factorisation over Z/nZ (for multiprecision n)
+
+From the packaging point of view the main change will be configuring BLAS. 
``````




---

archive/issue_comments_497774.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,7 @@\n Our last upgrade was to Flint 2.6.3 in #29719.\n \n Changes planned in 2.7.0 (from NEWS file)\n+\n 2.7.0 -- 11 Dec 2020\n \n * Multivariate factorisation\n``````\n",
    "created_at": "2020-12-17T20:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497774",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,7 @@
 Our last upgrade was to Flint 2.6.3 in #29719.
 
 Changes planned in 2.7.0 (from NEWS file)
+
 2.7.0 -- 11 Dec 2020
 
 * Multivariate factorisation
``````




---

archive/issue_comments_497775.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nFlint 2.7.0 was released today (2020-12-18).",
    "created_at": "2020-12-18T10:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497775",
    "user": "https://github.com/slel"
}
```

<div id="comment:4" align="right">comment:4</div>

Flint 2.7.0 was released today (2020-12-18).



---

archive/issue_comments_497776.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nsingular and e-antic fail to build due to the API changes in `fmpz_mod_poly`",
    "created_at": "2020-12-18T11:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497776",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:5" align="right">comment:5</div>

singular and e-antic fail to build due to the API changes in `fmpz_mod_poly`



---

archive/issue_comments_497777.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nActually, Singular is fixed in the (just released) 4.2.0 version. Unfortunately doesn't help much since the Singular upgrade has been stuck for years in #25993",
    "created_at": "2020-12-18T15:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497777",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:6" align="right">comment:6</div>

Actually, Singular is fixed in the (just released) 4.2.0 version. Unfortunately doesn't help much since the Singular upgrade has been stuck for years in #25993



---

archive/issue_comments_497778.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,4 +16,6 @@\n * Linear solving for non-square/singular matrices (can_solve)\n * Speed up factorisation over Z/nZ (for multiprecision n)\n \n-From the packaging point of view the main change will be configuring BLAS. \n+From the packaging point of view the main change will be configuring BLAS.\n+\n+- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154\n``````\n",
    "created_at": "2020-12-18T16:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497778",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,4 +16,6 @@
 * Linear solving for non-square/singular matrices (can_solve)
 * Speed up factorisation over Z/nZ (for multiprecision n)
 
-From the packaging point of view the main change will be configuring BLAS. 
+From the packaging point of view the main change will be configuring BLAS.
+
+- upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154
``````




---

archive/issue_comments_497779.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nsagelib itself builds fine with flint 2.7 and passes doctests, modulo the singular upgrade.",
    "created_at": "2020-12-19T09:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497779",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:8" align="right">comment:8</div>

sagelib itself builds fine with flint 2.7 and passes doctests, modulo the singular upgrade.



---

archive/issue_events_425262.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-27T18:56:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425262"
}
```



---

archive/issue_events_425263.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-27T18:56:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425263"
}
```



---

archive/issue_comments_497780.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFor the record, we are now up to Flint 2.7.1. As the timing and numbering suggest, this is mainly a bugfix release.",
    "created_at": "2021-01-22T05:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497780",
    "user": "https://github.com/kedlaya"
}
```

<div id="comment:10" align="right">comment:10</div>

For the record, we are now up to Flint 2.7.1. As the timing and numbering suggest, this is mainly a bugfix release.



---

archive/issue_comments_497781.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\ne-antic has been fixed (in head, to be 1.0.0).",
    "created_at": "2021-01-23T22:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497781",
    "user": "https://github.com/thierry-FreeBSD"
}
```

<div id="comment:11" align="right">comment:11</div>

e-antic has been fixed (in head, to be 1.0.0).



---

archive/issue_comments_497782.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-This is to upgrade to Flint 2.7.0.\n+This is to upgrade to Flint 2.7.1.\n \n Our last upgrade was to Flint 2.6.3 in #29719.\n \n-Changes planned in 2.7.0 (from NEWS file)\n+Changes in FLINT 2.7.0 (from NEWS file)\n \n 2.7.0 -- 11 Dec 2020\n \n@@ -18,4 +18,7 @@\n \n From the packaging point of view the main change will be configuring BLAS.\n \n+Related:\n+\n - upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154\n+- #31408: Meta-ticket: Use new features from FLINT 2.x\n``````\n",
    "created_at": "2021-02-19T01:28:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497782",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-This is to upgrade to Flint 2.7.0.
+This is to upgrade to Flint 2.7.1.
 
 Our last upgrade was to Flint 2.6.3 in #29719.
 
-Changes planned in 2.7.0 (from NEWS file)
+Changes in FLINT 2.7.0 (from NEWS file)
 
 2.7.0 -- 11 Dec 2020
 
@@ -18,4 +18,7 @@
 
 From the packaging point of view the main change will be configuring BLAS.
 
+Related:
+
 - upstream e-antic issue https://github.com/flatsurf/e-antic/issues/154
+- #31408: Meta-ticket: Use new features from FLINT 2.x
``````




---

archive/issue_events_425264.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-02-19T01:28:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "title_is": "Upgrade: Flint 2.7.1",
    "title_was": "Upgrade: Flint 2.7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425264"
}
```



---

archive/issue_comments_497783.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,7 +16,10 @@\n * Linear solving for non-square/singular matrices (can_solve)\n * Speed up factorisation over Z/nZ (for multiprecision n)\n \n-From the packaging point of view the main change will be configuring BLAS.\n+From the packaging point of view the main changes will be\n+- configuring BLAS\n+- pthread support\n+- context object from `fmpz_mod_poly`\n \n Related:\n \n``````\n",
    "created_at": "2021-02-20T09:33:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497783",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,7 +16,10 @@
 * Linear solving for non-square/singular matrices (can_solve)
 * Speed up factorisation over Z/nZ (for multiprecision n)
 
-From the packaging point of view the main change will be configuring BLAS.
+From the packaging point of view the main changes will be
+- configuring BLAS
+- pthread support
+- context object from `fmpz_mod_poly`
 
 Related:
 
``````




---

archive/issue_comments_497784.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,7 +19,7 @@\n From the packaging point of view the main changes will be\n - configuring BLAS\n - pthread support\n-- context object from `fmpz_mod_poly`\n+- context object in `fmpz_mod_poly` function (API change)\n \n Related:\n \n``````\n",
    "created_at": "2021-02-20T09:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497784",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,7 +19,7 @@
 From the packaging point of view the main changes will be
 - configuring BLAS
 - pthread support
-- context object from `fmpz_mod_poly`
+- context object in `fmpz_mod_poly` function (API change)
 
 Related:
 
``````




---

archive/issue_comments_497785.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73bd1a7a5946ddf12b86406c9ba6754f1f7e8dce\"><code>73bd1a7</code></a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d\"><code>29c0477</code></a></td><td><code>31069: flint declarations</code></td></tr></table>\n",
    "created_at": "2021-02-20T09:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497785",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73bd1a7a5946ddf12b86406c9ba6754f1f7e8dce"><code>73bd1a7</code></a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d"><code>29c0477</code></a></td><td><code>31069: flint declarations</code></td></tr></table>




---

archive/issue_comments_497786.json:
```json
{
    "body": "Commit: **[`29c0477`](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)**",
    "created_at": "2021-02-20T09:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497786",
    "user": "https://github.com/videlec"
}
```

Commit: **[`29c0477`](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)**



---

archive/issue_comments_497787.json:
```json
{
    "body": "Author: **Vincent Delecroix**",
    "created_at": "2021-02-20T09:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497787",
    "user": "https://github.com/videlec"
}
```

Author: **Vincent Delecroix**



---

archive/issue_comments_497788.json:
```json
{
    "body": "Branch: **[public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)**",
    "created_at": "2021-02-20T09:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497788",
    "user": "https://github.com/videlec"
}
```

Branch: **[public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)**



---

archive/issue_comments_497789.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI did not have any trouble to build singular. What was the issue?",
    "created_at": "2021-02-20T10:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497789",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

I did not have any trouble to build singular. What was the issue?



---

archive/issue_comments_497790.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@videlec](#comment%3A16):\n> I did not have any trouble to build singular. What was the issue?\n\nWhich version of singular?",
    "created_at": "2021-02-20T10:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497790",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@videlec](#comment%3A16):
> I did not have any trouble to build singular. What was the issue?

Which version of singular?



---

archive/issue_comments_497791.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@antonio-rojas](#comment%3A17):\n> Replying to [@videlec](#comment%3A16):\n> > I did not have any trouble to build singular. What was the issue?\n> \n> \n> Which version of singular?\n\n4.1.1p2.p0 shipped with sage 9.3.beta7",
    "created_at": "2021-02-20T12:17:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497791",
    "user": "https://github.com/videlec"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@antonio-rojas](#comment%3A17):
> Replying to [@videlec](#comment%3A16):
> > I did not have any trouble to build singular. What was the issue?
> 
> 
> Which version of singular?

4.1.1p2.p0 shipped with sage 9.3.beta7



---

archive/issue_comments_497792.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@videlec](#comment%3A18):\n> Replying to [@antonio-rojas](#comment%3A17):\n> > Replying to [@videlec](#comment%3A16):\n> > > I did not have any trouble to build singular. What was the issue?\n> > \n> > \n> > Which version of singular?\n> \n> \n> 4.1.1p2.p0 shipped with sage 9.3.beta7\n\nIt builds because it's not using flint\n\n```\nchecking for FLINT >= 2.4... problem\nSorry, your FLINT version is too old. Disabling.\nconfigure: WARNING: Unable to find FLINT (which is strongly recommended) on your machine: please use --with-flint=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)\n```",
    "created_at": "2021-02-20T12:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497792",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@videlec](#comment%3A18):
> Replying to [@antonio-rojas](#comment%3A17):
> > Replying to [@videlec](#comment%3A16):
> > > I did not have any trouble to build singular. What was the issue?
> > 
> > 
> > Which version of singular?
> 
> 
> 4.1.1p2.p0 shipped with sage 9.3.beta7

It builds because it's not using flint

```
checking for FLINT >= 2.4... problem
Sorry, your FLINT version is too old. Disabling.
configure: WARNING: Unable to find FLINT (which is strongly recommended) on your machine: please use --with-flint=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)
```



---

archive/issue_events_425265.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-20T16:58:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425265"
}
```



---

archive/issue_events_425266.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-20T16:58:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425266"
}
```



---

archive/issue_events_425267.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-20T16:58:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425267"
}
```



---

archive/issue_events_425268.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-20T16:58:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425268"
}
```



---

archive/issue_comments_497793.json:
```json
{
    "body": "Dependencies: **#25993**",
    "created_at": "2021-02-20T17:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497793",
    "user": "https://github.com/videlec"
}
```

Dependencies: **#25993**



---

archive/issue_comments_497794.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nCan't we patch up the failing configure check in Singular to avoid the dependency on #25993?",
    "created_at": "2021-02-20T17:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497794",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?



---

archive/issue_comments_497795.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@mkoeppe](#comment%3A22):\n> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?\n\nThat would be an alternative. But because of the API change I believe it is not enough. Let me give it a try.",
    "created_at": "2021-02-20T17:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497795",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@mkoeppe](#comment%3A22):
> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?

That would be an alternative. But because of the API change I believe it is not enough. Let me give it a try.



---

archive/issue_comments_497796.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@mkoeppe](#comment%3A22):\n> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?\n\nThen it will fail to build with real compilation errors, unless you also backport the flint 2.7 support patches for singular",
    "created_at": "2021-02-20T17:13:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497796",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@mkoeppe](#comment%3A22):
> Can't we patch up the failing configure check in Singular to avoid the dependency on #25993?

Then it will fail to build with real compilation errors, unless you also backport the flint 2.7 support patches for singular



---

archive/issue_comments_497797.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nperhaps just Singular commit 2e7e3dc89e04ca1ef4175816cd23db6780ad5a38?",
    "created_at": "2021-02-20T17:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497797",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

perhaps just Singular commit 2e7e3dc89e04ca1ef4175816cd23db6780ad5a38?



---

archive/issue_comments_497798.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nDoes anyone already have e-antic 0.1.x patches to work with FLINT 2.7?",
    "created_at": "2021-02-23T00:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497798",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?



---

archive/issue_comments_497799.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mkoeppe](#comment%3A26):\n> Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?\n\nYes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch\n\nNeeds massive ifdef'ing if you still want to support flint <2.7",
    "created_at": "2021-02-23T07:08:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497799",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mkoeppe](#comment%3A26):
> Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?

Yes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch

Needs massive ifdef'ing if you still want to support flint <2.7



---

archive/issue_comments_497800.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@antonio-rojas](#comment%3A27):\n> Replying to [@mkoeppe](#comment%3A26):\n> > Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?\n> \n> \n> Yes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch\n> \n> Needs massive ifdef'ing if you still want to support flint <2.7\n\nThanks! I've prepared this in https://github.com/mkoeppe/e-antic/tree/flint-2.7, testing currently at https://github.com/mkoeppe/e-antic/actions/runs/593267164",
    "created_at": "2021-02-23T16:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497800",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@antonio-rojas](#comment%3A27):
> Replying to [@mkoeppe](#comment%3A26):
> > Does anyone already have e-antic 0.1.x patches to work with FLINT 2.7?
> 
> 
> Yes, https://github.com/archlinux/svntogit-community/blob/packages/e-antic/trunk/e-antic-flint-2.7.patch
> 
> Needs massive ifdef'ing if you still want to support flint <2.7

Thanks! I've prepared this in https://github.com/mkoeppe/e-antic/tree/flint-2.7, testing currently at https://github.com/mkoeppe/e-antic/actions/runs/593267164



---

archive/issue_comments_497801.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nOpened #31430 for e-antic patch (or ideally new 0.1.x release)",
    "created_at": "2021-02-23T18:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497801",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Opened #31430 for e-antic patch (or ideally new 0.1.x release)



---

archive/issue_comments_497802.json:
```json
{
    "body": "Changed dependencies from **#25993** to **#25993, #31430**",
    "created_at": "2021-02-24T21:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497802",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#25993** to **#25993, #31430**



---

archive/issue_comments_497803.json:
```json
{
    "body": "Changed dependencies from **#25993, #31430** to **#25993**",
    "created_at": "2021-03-19T00:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497803",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#25993, #31430** to **#25993**



---

archive/issue_comments_497804.json:
```json
{
    "body": "Changed commit from **[`29c0477`](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)** to **[`dbc6477`](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)**",
    "created_at": "2021-03-19T01:08:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497804",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`29c0477`](https://github.com/sagemath/sagetrac-mirror/commit/29c0477d4aeb9394df2c80cc1628f244647ce40d)** to **[`dbc6477`](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)**



---

archive/issue_comments_497805.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/871fdbd13cddce70fac49ce3e0d82d485ba6ccca\"><code>871fdbd</code></a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096\"><code>dbc6477</code></a></td><td><code>31069: flint declarations</code></td></tr></table>\n",
    "created_at": "2021-03-19T01:08:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497805",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/871fdbd13cddce70fac49ce3e0d82d485ba6ccca"><code>871fdbd</code></a></td><td><code>31069: flint version upgrade</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096"><code>dbc6477</code></a></td><td><code>31069: flint declarations</code></td></tr></table>




---

archive/issue_comments_497806.json:
```json
{
    "body": "Changed commit from **[`dbc6477`](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)** to **[`8e3040c`](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)**",
    "created_at": "2021-03-19T01:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497806",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dbc6477`](https://github.com/sagemath/sagetrac-mirror/commit/dbc64778ddf69fe39218fc406656e559aaddd096)** to **[`8e3040c`](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)**



---

archive/issue_comments_497807.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94\"><code>797bacd</code></a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9\"><code>31fe1eb</code></a></td><td><code>build/pkgs/singular/spkg-install.in: Build the documentation if the Singular tarball does not contain it</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7\"><code>6c01591</code></a></td><td><code>Merge #31439</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3119b16be980379cc18eb1f644baeff802c0c58\"><code>f3119b1</code></a></td><td><code>Merge tag '9.3.beta9' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54\"><code>49de2ff</code></a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-13+sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f816f077ac20a61b643a0448853a4bcab5da3965\"><code>f816f07</code></a></td><td><code>build/pkgs/singular/spkg-install.in: Use --disable-static on all platforms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868\"><code>b0d7748</code></a></td><td><code>build/pkgs/singular/spkg-install.in: Build subdirs in parallel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c\"><code>c33ca2b</code></a></td><td><code>src/sage/rings/polynomial/{laurent,multi}_polynomial_ideal: Use sorted(..., key=str) to make doctests stable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267\"><code>ec471e0</code></a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362\"><code>8e3040c</code></a></td><td><code>Merge #25993</code></td></tr></table>\n",
    "created_at": "2021-03-19T01:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497807",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94"><code>797bacd</code></a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9"><code>31fe1eb</code></a></td><td><code>build/pkgs/singular/spkg-install.in: Build the documentation if the Singular tarball does not contain it</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7"><code>6c01591</code></a></td><td><code>Merge #31439</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3119b16be980379cc18eb1f644baeff802c0c58"><code>f3119b1</code></a></td><td><code>Merge tag '9.3.beta9' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54"><code>49de2ff</code></a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-13+sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f816f077ac20a61b643a0448853a4bcab5da3965"><code>f816f07</code></a></td><td><code>build/pkgs/singular/spkg-install.in: Use --disable-static on all platforms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868"><code>b0d7748</code></a></td><td><code>build/pkgs/singular/spkg-install.in: Build subdirs in parallel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c"><code>c33ca2b</code></a></td><td><code>src/sage/rings/polynomial/{laurent,multi}_polynomial_ideal: Use sorted(..., key=str) to make doctests stable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267"><code>ec471e0</code></a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362"><code>8e3040c</code></a></td><td><code>Merge #25993</code></td></tr></table>




---

archive/issue_events_425269.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T01:56:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425269"
}
```



---

archive/issue_comments_497808.json:
```json
{
    "body": "Changed author from **Vincent Delecroix** to **Vincent Delecroix, Matthias Koeppe**",
    "created_at": "2021-03-19T01:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497808",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Vincent Delecroix** to **Vincent Delecroix, Matthias Koeppe**



---

archive/issue_comments_497809.json:
```json
{
    "body": "Reviewer: **https://github.com/mkoeppe/sage/actions/runs/666698487**",
    "created_at": "2021-03-19T03:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497809",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/mkoeppe/sage/actions/runs/666698487**



---

archive/issue_events_425270.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T16:40:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425270"
}
```



---

archive/issue_events_425271.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T16:40:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425271"
}
```



---

archive/issue_comments_497810.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThere are still problems with `e_antic` (0.1.9):\n\n`ubuntu-trusty-maximal` (https://github.com/mkoeppe/sage/runs/2145415921 - uses FLINT from SPKG): \n\n```\n  [e_antic-0.1.9]   checking for gmp.h... yes\n  [e_antic-0.1.9]   checking for __gmpz_add in -lgmp... yes\n  [e_antic-0.1.9]   checking for flint/flint.h... yes\n  [e_antic-0.1.9]   checking for flint/fmpz.h... no\n  [e_antic-0.1.9]   configure: error: flint header not found\n```\n\n`cygwin-standard` (https://github.com/mkoeppe/sage/runs/2145195263 - uses system FLINT 2.7)\n\n```\nlibtool: compile:  gcc -DHAVE_CONFIG_H -I. -fopenmp -O2 -g -march=native -c poly_extra/fmpz_nextprime.c -o poly_extra/fmpz_nextprime.o >/dev/null 2>&1\npoly_extra/fmpz_randprime.c:17:6: error: conflicting types for 'fmpz_randprime'\n   17 | void fmpz_randprime(fmpz_t f, flint_rand_t state, mp_bitcnt_t bits, int proved)\n      |      ^~~~~~~~~~~~~~\nIn file included from /usr/include/flint/fmpz_poly.h:33,\n                 from ./e-antic/poly_extra.h:17,\n                 from poly_extra/fmpz_randprime.c:13:\n/usr/include/flint/fmpz.h:188:16: note: previous declaration of 'fmpz_randprime' was here\n  188 | FLINT_DLL void fmpz_randprime(fmpz_t f, flint_rand_t state,\n      |                ^~~~~~~~~~~~~~\nmake[4]: *** [Makefile:2699: poly_extra/fmpz_randprime.lo] Error 1\n```",
    "created_at": "2021-03-19T16:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497810",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

There are still problems with `e_antic` (0.1.9):

`ubuntu-trusty-maximal` (https://github.com/mkoeppe/sage/runs/2145415921 - uses FLINT from SPKG): 

```
  [e_antic-0.1.9]   checking for gmp.h... yes
  [e_antic-0.1.9]   checking for __gmpz_add in -lgmp... yes
  [e_antic-0.1.9]   checking for flint/flint.h... yes
  [e_antic-0.1.9]   checking for flint/fmpz.h... no
  [e_antic-0.1.9]   configure: error: flint header not found
```

`cygwin-standard` (https://github.com/mkoeppe/sage/runs/2145195263 - uses system FLINT 2.7)

```
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -fopenmp -O2 -g -march=native -c poly_extra/fmpz_nextprime.c -o poly_extra/fmpz_nextprime.o >/dev/null 2>&1
poly_extra/fmpz_randprime.c:17:6: error: conflicting types for 'fmpz_randprime'
   17 | void fmpz_randprime(fmpz_t f, flint_rand_t state, mp_bitcnt_t bits, int proved)
      |      ^~~~~~~~~~~~~~
In file included from /usr/include/flint/fmpz_poly.h:33,
                 from ./e-antic/poly_extra.h:17,
                 from poly_extra/fmpz_randprime.c:13:
/usr/include/flint/fmpz.h:188:16: note: previous declaration of 'fmpz_randprime' was here
  188 | FLINT_DLL void fmpz_randprime(fmpz_t f, flint_rand_t state,
      |                ^~~~~~~~~~~~~~
make[4]: *** [Makefile:2699: poly_extra/fmpz_randprime.lo] Error 1
```



---

archive/issue_comments_497811.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOTOH, on `ubuntu-xenial-maximal` (https://github.com/mkoeppe/sage/runs/2145415962)and `ubuntu-bionic-maximal` (https://github.com/mkoeppe/sage/runs/2145416018), `e_antic`  installs OK.\nWe can just write off `ubuntu-trusty` - Normaliz does not compile with the ancient compiler there either.",
    "created_at": "2021-03-19T22:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497811",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

OTOH, on `ubuntu-xenial-maximal` (https://github.com/mkoeppe/sage/runs/2145415962)and `ubuntu-bionic-maximal` (https://github.com/mkoeppe/sage/runs/2145416018), `e_antic`  installs OK.
We can just write off `ubuntu-trusty` - Normaliz does not compile with the ancient compiler there either.



---

archive/issue_events_425272.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:42:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425272"
}
```



---

archive/issue_events_425273.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:42:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425273"
}
```



---

archive/issue_comments_497812.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nA serious issue: On `ubuntu-focal-standard` (https://github.com/mkoeppe/sage/runs/2145416039) \n\n```\n  [sagelib-9.3.beta9]   In file included from build/cythonized/sage/data_structures/bounded_integer_sequences.c:3535:\n  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h: At top level:\n  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h:39:10: fatal error: flint/fmpz_mod.h: No such file or directory\n  [sagelib-9.3.beta9]      39 | #include <flint/fmpz_mod.h>\n  [sagelib-9.3.beta9]         |          ^~~~~~~~~~~~~~~~~~\n  [sagelib-9.3.beta9]   compilation terminated.\n```\nThis is using system `flint` 2.5.2 (see https://repology.org/project/flint/versions)",
    "created_at": "2021-03-19T22:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497812",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

A serious issue: On `ubuntu-focal-standard` (https://github.com/mkoeppe/sage/runs/2145416039) 

```
  [sagelib-9.3.beta9]   In file included from build/cythonized/sage/data_structures/bounded_integer_sequences.c:3535:
  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h: At top level:
  [sagelib-9.3.beta9]   sage/libs/flint/flint_wrap.h:39:10: fatal error: flint/fmpz_mod.h: No such file or directory
  [sagelib-9.3.beta9]      39 | #include <flint/fmpz_mod.h>
  [sagelib-9.3.beta9]         |          ^~~~~~~~~~~~~~~~~~
  [sagelib-9.3.beta9]   compilation terminated.
```
This is using system `flint` 2.5.2 (see https://repology.org/project/flint/versions)



---

archive/issue_events_425274.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:49:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425274"
}
```



---

archive/issue_events_425275.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T22:49:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425275"
}
```



---

archive/issue_comments_497813.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n(`fmpz_mod.h` was introduced in 2.6.0 according to https://github.com/wbhart/flint2/blob/trunk/NEWS)",
    "created_at": "2021-03-19T22:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497813",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

(`fmpz_mod.h` was introduced in 2.6.0 according to https://github.com/wbhart/flint2/blob/trunk/NEWS)



---

archive/issue_comments_497814.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI think dropping support for system FLINT 2.5.x is too disruptive for Sage 9.3, given that the new features are not used yet by anything. \n\nSo I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.",
    "created_at": "2021-03-19T23:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497814",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>

I think dropping support for system FLINT 2.5.x is too disruptive for Sage 9.3, given that the new features are not used yet by anything. 

So I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.



---

archive/issue_comments_497815.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e\"><code>8c71a1c</code></a></td><td><code>31069: flint version upgrade</code></td></tr></table>\n",
    "created_at": "2021-03-19T23:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497815",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e"><code>8c71a1c</code></a></td><td><code>31069: flint version upgrade</code></td></tr></table>




---

archive/issue_comments_497816.json:
```json
{
    "body": "Changed commit from **[`8e3040c`](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)** to **[`8c71a1c`](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)**",
    "created_at": "2021-03-19T23:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e3040c`](https://github.com/sagemath/sagetrac-mirror/commit/8e3040c2a22fbd256f088ca58619442ae13af362)** to **[`8c71a1c`](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)**



---

archive/issue_comments_497817.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@mkoeppe](#comment%3A41):\n> I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.\n\nThis is now #31525.",
    "created_at": "2021-03-19T23:29:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497817",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@mkoeppe](#comment%3A41):
> I propose to split the ticket into just the upgrade and put the Cython interface to the new FLINT functions on a follow-up ticket for Sage 9.4.

This is now #31525.



---

archive/issue_events_425276.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T23:33:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425276"
}
```



---

archive/issue_events_425277.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-19T23:33:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425277"
}
```



---

archive/issue_comments_497818.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI think this is OK. The main issues were in other packages that have already been fixed. With system flint-2.7.1, I see only one doctest failure due to a timeout in pari that probably cannot be blamed on flint.\n\nI see \"unrelated\" failures in the CI runs as well. If you are convinced of flint's innocence, we can set this to positive review.",
    "created_at": "2021-03-24T21:17:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497818",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:45" align="right">comment:45</div>

I think this is OK. The main issues were in other packages that have already been fixed. With system flint-2.7.1, I see only one doctest failure due to a timeout in pari that probably cannot be blamed on flint.

I see "unrelated" failures in the CI runs as well. If you are convinced of flint's innocence, we can set this to positive review.



---

archive/issue_comments_497819.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nlgtm too",
    "created_at": "2021-03-24T21:42:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497819",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:46" align="right">comment:46</div>

lgtm too



---

archive/issue_comments_497820.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/666698487** to **Dima Pasechnik**",
    "created_at": "2021-03-24T21:42:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497820",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/666698487** to **Dima Pasechnik**



---

archive/issue_events_425278.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-24T21:42:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425278"
}
```



---

archive/issue_events_425279.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-24T21:42:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425279"
}
```



---

archive/issue_comments_497821.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThanks!",
    "created_at": "2021-03-24T22:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497821",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

Thanks!



---

archive/issue_events_425280.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-29T23:54:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425280"
}
```



---

archive/issue_events_425281.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-29T23:54:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425281"
}
```



---

archive/issue_comments_497822.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nSetting priority to blocker to bring this ticket to the attention of the release bot.",
    "created_at": "2021-03-29T23:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497822",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

Setting priority to blocker to bring this ticket to the attention of the release bot.



---

archive/issue_comments_497823.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nAfter merging this ticket into #31548 (since I want to use new functionality from FLINT 2.7.1 there) I'm getting errors starting Sage.  I don't usually update spkgs outside of beta releases, so I could be doing something wrong (I'm running OS X 10.15.2).\n\n```\n$ git trac fetch 31069 && git merge\n$ make build\n...\nSage build/upgrade complete!\n$ sage\nImportError Python 3.9.1: /Users/roed/sage/sage-9.3.beta7/local/bin/python3\n...\nImportError: dlopen(/Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so, 2): Library not loaded: /Users/roed/sage/sage-9.3.beta7/local/lib/libSingular-4.1.1.dylib\n  Referenced from: /Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so\n  Reason: image not found\n```\nFull install.log available [here](https://math.mit.edu/~roed/31548_install.log).",
    "created_at": "2021-03-30T07:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497823",
    "user": "https://github.com/roed314"
}
```

<div id="comment:49" align="right">comment:49</div>

After merging this ticket into #31548 (since I want to use new functionality from FLINT 2.7.1 there) I'm getting errors starting Sage.  I don't usually update spkgs outside of beta releases, so I could be doing something wrong (I'm running OS X 10.15.2).

```
$ git trac fetch 31069 && git merge
$ make build
...
Sage build/upgrade complete!
$ sage
ImportError Python 3.9.1: /Users/roed/sage/sage-9.3.beta7/local/bin/python3
...
ImportError: dlopen(/Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so, 2): Library not loaded: /Users/roed/sage/sage-9.3.beta7/local/lib/libSingular-4.1.1.dylib
  Referenced from: /Users/roed/sage/sage-9.3.beta7/local/lib/python3.9/site-packages/sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so
  Reason: image not found
```
Full install.log available [here](https://math.mit.edu/~roed/31548_install.log).



---

archive/issue_comments_497824.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI believe you need singular 4.2.0p1 (9.3.beta8 if I am not mistaken) with that. Singular uses flint so does need rebuilding and 4.2.0 is the first one that is compatible with flint-2.7.1.",
    "created_at": "2021-03-30T07:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497824",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:50" align="right">comment:50</div>

I believe you need singular 4.2.0p1 (9.3.beta8 if I am not mistaken) with that. Singular uses flint so does need rebuilding and 4.2.0 is the first one that is compatible with flint-2.7.1.



---

archive/issue_comments_497825.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nDespite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.",
    "created_at": "2021-03-30T08:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497825",
    "user": "https://github.com/roed314"
}
```

<div id="comment:51" align="right">comment:51</div>

Despite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.



---

archive/issue_comments_497826.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:\n\n```\n[flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors\n[flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz\n[flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n[flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'\n[flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz\n...\n[flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network\n[flint-2.7.1] ************************************************************************\n[flint-2.7.1] ************************************************************************\n[flint-2.7.1] Error downloading flint-2.7.1.tar.gz\n\n```\nDo I need to download a tarball manually from somewhere?",
    "created_at": "2021-03-30T08:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497826",
    "user": "https://github.com/roed314"
}
```

<div id="comment:52" align="right">comment:52</div>

I feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:

```
[flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors
[flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz
[flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'
[flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz
...
[flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network
[flint-2.7.1] ************************************************************************
[flint-2.7.1] ************************************************************************
[flint-2.7.1] Error downloading flint-2.7.1.tar.gz

```
Do I need to download a tarball manually from somewhere?



---

archive/issue_comments_497827.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@roed314](#comment%3A51):\n> Despite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.\n\nOK, then it appears that somehow `sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so` has not be rebuilt because it is still looking for libSingular-4.1.1 when it should look for libSingular-4.2.0.",
    "created_at": "2021-03-30T08:59:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497827",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@roed314](#comment%3A51):
> Despite the folder name, this is based on sage-9.3.beta9, and when I did `make build` it appeared to be building `singular-4.2.0p1+2021-03-13+sage`.

OK, then it appears that somehow `sage/matrix/matrix_mpolynomial_dense.cpython-39-darwin.so` has not be rebuilt because it is still looking for libSingular-4.1.1 when it should look for libSingular-4.2.0.



---

archive/issue_comments_497828.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@roed314](#comment%3A52):\n> I feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:\n> \n> ```\n> [flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors\n> [flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz\n> [flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n> [flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'\n> [flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz\n> ...\n> [flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network\n> [flint-2.7.1] ************************************************************************\n> [flint-2.7.1] ************************************************************************\n> [flint-2.7.1] Error downloading flint-2.7.1.tar.gz\n> \n> ```\n> Do I need to download a tarball manually from somewhere?\n\nThis ticket is not merged, tarball are not usually mirrored before Volker attempt to merge the tickets. You'll have to fetch the source a different way. Matthias created a handy way of using a string called `upstream_url` in the file checksum.ini to do the fetching from upstream but I cannot remember how it works.",
    "created_at": "2021-03-30T09:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497828",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@roed314](#comment%3A52):
> I feel like I'm missing something basic here: when I try running `sage -f flint` it gives me lots of errors saying that `flint-2.7.1` isn't found:
> 
> ```
> [flint-2.7.1] Attempting to download package flint-2.7.1.tar.gz from mirrors
> [flint-2.7.1] http://mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz
> [flint-2.7.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
> [flint-2.7.1] ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.mit.edu/sage/spkg/upstream/flint/flint-2.7.1.tar.gz'
> [flint-2.7.1] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/flint/flint-2.7.1.tar.gz
> ...
> [flint-2.7.1] FileNotMirroredError: tarball does not exist on mirror network
> [flint-2.7.1] ************************************************************************
> [flint-2.7.1] ************************************************************************
> [flint-2.7.1] Error downloading flint-2.7.1.tar.gz
> 
> ```
> Do I need to download a tarball manually from somewhere?

This ticket is not merged, tarball are not usually mirrored before Volker attempt to merge the tickets. You'll have to fetch the source a different way. Matthias created a handy way of using a string called `upstream_url` in the file checksum.ini to do the fetching from upstream but I cannot remember how it works.



---

archive/issue_comments_497829.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nDo this:\n\n```\n$ ./bootstrap -q\n$ ./configure --enable-download-from-upstream-url -q\n$ make -s V=0\n```",
    "created_at": "2021-03-30T09:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497829",
    "user": "https://github.com/slel"
}
```

<div id="comment:55" align="right">comment:55</div>

Do this:

```
$ ./bootstrap -q
$ ./configure --enable-download-from-upstream-url -q
$ make -s V=0
```



---

archive/issue_comments_497830.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nThanks!  That seems to have worked.",
    "created_at": "2021-03-30T17:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497830",
    "user": "https://github.com/roed314"
}
```

<div id="comment:56" align="right">comment:56</div>

Thanks!  That seems to have worked.



---

archive/issue_comments_497831.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nFor anyone else looking at this, I also had to do `sage -f flint` after the commands Samuel gave.",
    "created_at": "2021-03-31T15:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497831",
    "user": "https://github.com/roed314"
}
```

<div id="comment:57" align="right">comment:57</div>

For anyone else looking at this, I also had to do `sage -f flint` after the commands Samuel gave.



---

archive/issue_comments_497832.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nThis should do everything at once:\n\n```\n$ ./bootstrap -q\n$ ./configure --enable-download-from-upstream-url -q\n$ make -s V=0 flint-clean\n$ make -s V=0\n```",
    "created_at": "2021-03-31T18:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497832",
    "user": "https://github.com/slel"
}
```

<div id="comment:58" align="right">comment:58</div>

This should do everything at once:

```
$ ./bootstrap -q
$ ./configure --enable-download-from-upstream-url -q
$ make -s V=0 flint-clean
$ make -s V=0
```



---

archive/issue_events_425282.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425282"
}
```



---

archive/issue_events_425283.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425283"
}
```



---

archive/issue_comments_497833.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nLooks unrealistic to squeeze this into 9.3",
    "created_at": "2021-04-02T19:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497833",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:59" align="right">comment:59</div>

Looks unrealistic to squeeze this into 9.3



---

archive/issue_events_425284.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425284"
}
```



---

archive/issue_events_425285.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T19:43:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425285"
}
```



---

archive/issue_comments_497834.json:
```json
{
    "body": "Changed branch from **[public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)** to **[`8c71a1c`](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)**",
    "created_at": "2021-05-27T20:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31069#issuecomment-497834",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/31069](https://github.com/sagemath/sagetrac-mirror/tree/public/31069)** to **[`8c71a1c`](https://github.com/sagemath/sagetrac-mirror/commit/8c71a1c694075d021008794ef3a6fd461ec4dc0e)**



---

archive/issue_events_425286.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-05-27T20:30:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425286"
}
```



---

archive/issue_events_425287.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bab8d46b84585de8ede35e04d7fda63d20516f80",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-05-27T20:30:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31069",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31069#event-425287"
}
```
