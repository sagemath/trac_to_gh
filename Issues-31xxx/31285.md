# Issue 31285: UniqueRepresentation and default optional arguments

archive/issues_031048.json:
```json
{
    "assignees": [],
    "body": "For `cached_method`, we have:\n\n```\nsage: from sage.misc.cachefunc import cached_method\nsage: class A(SageObject): \n....:     def __init__(self): \n....:         pass \n....:     @cached_method \n....:     def bar(x, s=1): \n....:         return 1\nsage: Foo = A()\nsage: Foo.bar() is Foo.bar(s=1)\nTrue\n```\n\nIn contrast to `UniqueRepresentation`:\n\n```\nsage: from sage.structure.unique_representation import UniqueRepresentation     \nsage: class Foo(SageObject, UniqueRepresentation): \n....:     def __init__(self, s=1): \n....:         pass\nsage: Foo() is Foo(s=1)                                                         \nFalse\n```\n\nThis is very annoying when working with `UniqueRepresentation` because right now one has to sneak in an extra `__classcall__` method to catch that behavior.\n\nCC:  @tscrim @mkoeppe @nbruin @egourgoulhon\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31285_\n\n",
    "closed_at": "2021-06-09T06:13:16Z",
    "created_at": "2021-01-24T13:21:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/duplicate",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "UniqueRepresentation and default optional arguments",
    "type": "issue",
    "updated_at": "2021-06-09T06:13:16Z",
    "url": "https://github.com/sagemath/sage/issues/31285",
    "user": "https://github.com/mjungmath"
}
```
For `cached_method`, we have:

```
sage: from sage.misc.cachefunc import cached_method
sage: class A(SageObject): 
....:     def __init__(self): 
....:         pass 
....:     @cached_method 
....:     def bar(x, s=1): 
....:         return 1
sage: Foo = A()
sage: Foo.bar() is Foo.bar(s=1)
True
```

In contrast to `UniqueRepresentation`:

```
sage: from sage.structure.unique_representation import UniqueRepresentation     
sage: class Foo(SageObject, UniqueRepresentation): 
....:     def __init__(self, s=1): 
....:         pass
sage: Foo() is Foo(s=1)                                                         
False
```

This is very annoying when working with `UniqueRepresentation` because right now one has to sneak in an extra `__classcall__` method to catch that behavior.

CC:  @tscrim @mkoeppe @nbruin @egourgoulhon

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/31285_





---

archive/issue_events_412931.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2021-01-24T13:21:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412931"
}
```



---

archive/issue_events_412932.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2021-01-24T13:21:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412932"
}
```



---

archive/issue_events_412933.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2021-01-24T13:21:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412933"
}
```



---

archive/issue_events_412934.json:
```json
{
    "actor": "https://github.com/mjungmath",
    "created_at": "2021-01-24T13:57:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "title_is": "UniqueRepresentation and default optional arguments",
    "title_was": "UniqueRepresentation and default arguments",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412934"
}
```



---

archive/issue_comments_504503.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nIt's apparently a duplicate of #14167. I am sorry.",
    "created_at": "2021-01-24T14:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31285#issuecomment-504503",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:3" align="right">Comment 3</div>

It's apparently a duplicate of #14167. I am sorry.



---

archive/issue_events_412935.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-24T18:16:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412935"
}
```



---

archive/issue_events_412936.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-24T18:16:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412936"
}
```



---

archive/issue_events_412937.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-24T18:16:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412937"
}
```



---

archive/issue_events_412938.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-24T18:16:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412938"
}
```



---

archive/issue_events_412939.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-01-24T23:15:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412939"
}
```



---

archive/issue_events_412940.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-01-24T23:15:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412940"
}
```



---

archive/issue_comments_504504.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-01-24T23:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31285#issuecomment-504504",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_412941.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-06-09T06:13:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412941"
}
```



---

archive/issue_events_412942.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-06-09T06:13:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412942"
}
```



---

archive/issue_events_412943.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-06-09T06:13:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31285",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31285#event-412943"
}
```
