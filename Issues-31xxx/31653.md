# Issue 31653: Images of continuous maps and embedded submanifolds as manifold subsets

archive/issues_031416.json:
```json
{
    "body": "We define a subclass of `ManifoldSubset`, instances of which represent the image of a continuous map.\n\nIn particular, this will allow an embedded submanifold to be considered as a subset of the ambient manifold.\n\n\nCC:  @egourgoulhon @tscrim @yuan-zhou @mjungmath @mwageringel @roed314\n\nBranch/Commit: 0f3e36d35b688a92028d09fd9edef3cf5ddae590\n\nReviewer: Eric Gourgoulhon, Michael Jung\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31653\n\n",
    "closed_at": "2021-06-06T13:18:10Z",
    "created_at": "2021-04-11T15:48:54Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Images of continuous maps and embedded submanifolds as manifold subsets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31653",
    "user": "https://github.com/mkoeppe"
}
```
We define a subclass of `ManifoldSubset`, instances of which represent the image of a continuous map.

In particular, this will allow an embedded submanifold to be considered as a subset of the ambient manifold.


CC:  @egourgoulhon @tscrim @yuan-zhou @mjungmath @mwageringel @roed314

Branch/Commit: 0f3e36d35b688a92028d09fd9edef3cf5ddae590

Reviewer: Eric Gourgoulhon, Michael Jung

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31653





---

archive/issue_comments_629589.json:
```json
{
    "body": "<a id='comment:1'></a>There are a number of related existing methods in various components of Sage. \n`FreeModuleMorphism.pushforward` can compute the image of a submodule, and `RingHomomorphism.pushforward` can compute the image of an ideal.",
    "created_at": "2021-04-11T16:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629589",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>There are a number of related existing methods in various components of Sage. 
`FreeModuleMorphism.pushforward` can compute the image of a submodule, and `RingHomomorphism.pushforward` can compute the image of an ideal.



---

archive/issue_comments_629590.json:
```json
{
    "body": "<a id='comment:2'></a>Also there are various `image` methods of various morphism classes, not all with the same signature:\n- without extra argument: category `FiniteDimensionalModulesWithBasis` parent method, `CrystalMorphismByGenerators`, `SimplicialComplexMorphism`, `Matrix`, `MatrixMorphism_...`, `SchemeMorphism_...`\n- with an extra argument (substructure to compute the image of): `AbelianGroupMorphism`, `PermutationGroupMorphism`, `SimplicialSetMorphism`, \n- incompatible: `WordMorphism.image`",
    "created_at": "2021-04-11T16:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629590",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Also there are various `image` methods of various morphism classes, not all with the same signature:
- without extra argument: category `FiniteDimensionalModulesWithBasis` parent method, `CrystalMorphismByGenerators`, `SimplicialComplexMorphism`, `Matrix`, `MatrixMorphism_...`, `SchemeMorphism_...`
- with an extra argument (substructure to compute the image of): `AbelianGroupMorphism`, `PermutationGroupMorphism`, `SimplicialSetMorphism`, 
- incompatible: `WordMorphism.image`



---

archive/issue_comments_629591.json:
```json
{
    "body": "<a id='comment:3'></a>Thanks for opening this ticket; I've added it to the metaticket #30525.",
    "created_at": "2021-04-11T16:20:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629591",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:3'></a>Thanks for opening this ticket; I've added it to the metaticket #30525.



---

archive/issue_comments_629592.json:
```json
{
    "body": "<a id='comment:4'></a>Likewise, there is some diversity regarding `inverse_image` and `preimage` methods.",
    "created_at": "2021-04-11T16:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629592",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Likewise, there is some diversity regarding `inverse_image` and `preimage` methods.



---

archive/issue_comments_629593.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/images_of_continuous_maps_and_embedded_submanifolds_as_manifold_subsets\"",
    "created_at": "2021-04-11T18:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629593",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/images_of_continuous_maps_and_embedded_submanifolds_as_manifold_subsets"



---

archive/issue_comments_629594.json:
```json
{
    "body": "Changing commit from \"\" to \"d757adb0db47f9b9a39c3da5e1ab68d6dbe68606\"",
    "created_at": "2021-04-11T18:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "d757adb0db47f9b9a39c3da5e1ab68d6dbe68606"



---

archive/issue_comments_629595.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T18:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629596.json:
```json
{
    "body": "Changing commit from \"d757adb0db47f9b9a39c3da5e1ab68d6dbe68606\" to \"4b59194b4af33de5566a14cf5d6c57b6c418a1ee\"",
    "created_at": "2021-04-11T18:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629596",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d757adb0db47f9b9a39c3da5e1ab68d6dbe68606" to "4b59194b4af33de5566a14cf5d6c57b6c418a1ee"



---

archive/issue_comments_629597.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T18:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629597",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629598.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe, ...\"",
    "created_at": "2021-04-11T18:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629598",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe, ..."



---

archive/issue_comments_629599.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T19:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629599",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629600.json:
```json
{
    "body": "Changing commit from \"4b59194b4af33de5566a14cf5d6c57b6c418a1ee\" to \"18c1bd97aee0bd5b690f8452551ef583bcfc3dc3\"",
    "created_at": "2021-04-11T19:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4b59194b4af33de5566a14cf5d6c57b6c418a1ee" to "18c1bd97aee0bd5b690f8452551ef583bcfc3dc3"



---

archive/issue_comments_629601.json:
```json
{
    "body": "Changing commit from \"18c1bd97aee0bd5b690f8452551ef583bcfc3dc3\" to \"645aa2fd83b31b4bb8a32f05030b3f06db4a4c24\"",
    "created_at": "2021-04-11T19:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629601",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "18c1bd97aee0bd5b690f8452551ef583bcfc3dc3" to "645aa2fd83b31b4bb8a32f05030b3f06db4a4c24"



---

archive/issue_comments_629602.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T19:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629603.json:
```json
{
    "body": "Changing commit from \"645aa2fd83b31b4bb8a32f05030b3f06db4a4c24\" to \"5170c15dae7e82877a5fcecf4516f5df2192a96a\"",
    "created_at": "2021-04-11T20:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "645aa2fd83b31b4bb8a32f05030b3f06db4a4c24" to "5170c15dae7e82877a5fcecf4516f5df2192a96a"



---

archive/issue_comments_629604.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T20:08:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629605.json:
```json
{
    "body": "<a id='comment:12'></a>Early stage. Comments on this design are very welcome",
    "created_at": "2021-04-11T20:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629605",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Early stage. Comments on this design are very welcome



---

archive/issue_comments_629606.json:
```json
{
    "body": "<a id='comment:13'></a>Yes, I have two comments:\n\n- I advocate f-strings:\n\n   {{{#!diff\n   -        return \"Image of the {}\".format(self._map)\n   +        return f\"Image of the {self._map}\"\n   }}}\n   More readable and even (slightly) faster.\n- I don't quite get the purpose of\n   {{{#!python\nreturn self._map(preimage) == point\n   }}}\n   Isn't that always true if `preimage in self._map.domain()` is already met (and the inverse is correctly defined)?",
    "created_at": "2021-04-11T20:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629606",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:13'></a>Yes, I have two comments:

- I advocate f-strings:

   {{{#!diff
   -        return "Image of the {}".format(self._map)
   +        return f"Image of the {self._map}"
   }}}
   More readable and even (slightly) faster.
- I don't quite get the purpose of
   {{{#!python
return self._map(preimage) == point
   }}}
   Isn't that always true if `preimage in self._map.domain()` is already met (and the inverse is correctly defined)?



---

archive/issue_comments_629607.json:
```json
{
    "body": "<a id='comment:14'></a>This notion of inverse is taken from `TopologicalSubmanifold`. This inverse maps the whole ambient space to the domain of the map - so one needs to check",
    "created_at": "2021-04-11T20:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629607",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>This notion of inverse is taken from `TopologicalSubmanifold`. This inverse maps the whole ambient space to the domain of the map - so one needs to check



---

archive/issue_comments_629608.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 gh-mjungmath]:\n> - I advocate f-strings:\n\n\nYes, I like them too. Unfortunate clash of these braces with LaTeX notation though",
    "created_at": "2021-04-11T20:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629608",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>Replying to [comment:13 gh-mjungmath]:
> - I advocate f-strings:


Yes, I like them too. Unfortunate clash of these braces with LaTeX notation though



---

archive/issue_comments_629609.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:14 mkoeppe]:\n> This notion of inverse is taken from `TopologicalSubmanifold`. This inverse maps the whole ambient space to the domain of the map - so one needs to check \n\n\nAlright, I see it now. It's just a very unusual definition of inverse...\n\nThe rest looks pretty nice already. :)",
    "created_at": "2021-04-11T21:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629609",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:16'></a>Replying to [comment:14 mkoeppe]:
> This notion of inverse is taken from `TopologicalSubmanifold`. This inverse maps the whole ambient space to the domain of the map - so one needs to check 


Alright, I see it now. It's just a very unusual definition of inverse...

The rest looks pretty nice already. :)



---

archive/issue_comments_629610.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:16 gh-mjungmath]:\n> \n> The rest looks pretty nice already. :)\n\n\nYes, it looks nice!",
    "created_at": "2021-04-12T09:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629610",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:17'></a>Replying to [comment:16 gh-mjungmath]:
> 
> The rest looks pretty nice already. :)


Yes, it looks nice!



---

archive/issue_comments_629611.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:12 mkoeppe]:\n> Early stage. Comments on this design are very welcome\n\nI like it.",
    "created_at": "2021-04-12T09:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629611",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:18'></a>Replying to [comment:12 mkoeppe]:
> Early stage. Comments on this design are very welcome

I like it.



---

archive/issue_comments_629612.json:
```json
{
    "body": "Changing commit from \"5170c15dae7e82877a5fcecf4516f5df2192a96a\" to \"9726d367d46d3abb54955db47e5f82993d12efa6\"",
    "created_at": "2021-04-17T17:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5170c15dae7e82877a5fcecf4516f5df2192a96a" to "9726d367d46d3abb54955db47e5f82993d12efa6"



---

archive/issue_comments_629613.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-04-17T17:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_629614.json:
```json
{
    "body": "<a id='comment:20'></a>I am considering possible extensions of the current code:\n- handle a domain `subset` directly in `ImageManifoldSubset` - which would allow us to extend `ContinuousMap.image` to take a `subset` that is not open\n- if the map is an isomorphism (and the domain `subset` open), we could create a submanifold -- but should this use extra classes `ImageTopologicalManifold`, `ImageDifferentiableManifold`, which remember the map, or just compute the result? (in either case - follow-up ticket)",
    "created_at": "2021-04-17T17:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629614",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>I am considering possible extensions of the current code:
- handle a domain `subset` directly in `ImageManifoldSubset` - which would allow us to extend `ContinuousMap.image` to take a `subset` that is not open
- if the map is an isomorphism (and the domain `subset` open), we could create a submanifold -- but should this use extra classes `ImageTopologicalManifold`, `ImageDifferentiableManifold`, which remember the map, or just compute the result? (in either case - follow-up ticket)



---

archive/issue_comments_629615.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-17T18:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629616.json:
```json
{
    "body": "Changing commit from \"9726d367d46d3abb54955db47e5f82993d12efa6\" to \"19762ae034f7b740f2aa31c2fc79685095a39cec\"",
    "created_at": "2021-04-17T18:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9726d367d46d3abb54955db47e5f82993d12efa6" to "19762ae034f7b740f2aa31c2fc79685095a39cec"



---

archive/issue_comments_629617.json:
```json
{
    "body": "Changing author from \"Matthias Koeppe, ...\" to \"Matthias Koeppe\"",
    "created_at": "2021-04-17T18:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629617",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Matthias Koeppe, ..." to "Matthias Koeppe"



---

archive/issue_comments_629618.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-04-17T18:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629618",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_629619.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-17T18:35:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629620.json:
```json
{
    "body": "Changing commit from \"19762ae034f7b740f2aa31c2fc79685095a39cec\" to \"964f9f7d18b2a7e052ad3e537557b861fbcb3106\"",
    "created_at": "2021-04-17T18:35:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "19762ae034f7b740f2aa31c2fc79685095a39cec" to "964f9f7d18b2a7e052ad3e537557b861fbcb3106"



---

archive/issue_comments_629621.json:
```json
{
    "body": "<a id='comment:24'></a>Some `TESTS::` fields are actually empty.",
    "created_at": "2021-04-18T10:58:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629621",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:24'></a>Some `TESTS::` fields are actually empty.



---

archive/issue_comments_629622.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:20 mkoeppe]:\n> I am considering possible extensions of the current code:\n> - handle a domain `subset` directly in `ImageManifoldSubset` - which would allow us to extend `ContinuousMap.image` to take a `subset` that is not open\n\n\nSounds legitimate.\n \n>  - if the map is an isomorphism (and the domain `subset` open), we could create a submanifold -- but should this use extra classes `ImageTopologicalManifold`, `ImageDifferentiableManifold`, which remember the map, or just compute the result? (in either case - follow-up ticket)\n \n> \n\nMaybe just compute the result?",
    "created_at": "2021-04-18T11:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629622",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:25'></a>Replying to [comment:20 mkoeppe]:
> I am considering possible extensions of the current code:
> - handle a domain `subset` directly in `ImageManifoldSubset` - which would allow us to extend `ContinuousMap.image` to take a `subset` that is not open


Sounds legitimate.
 
>  - if the map is an isomorphism (and the domain `subset` open), we could create a submanifold -- but should this use extra classes `ImageTopologicalManifold`, `ImageDifferentiableManifold`, which remember the map, or just compute the result? (in either case - follow-up ticket)
 
> 

Maybe just compute the result?



---

archive/issue_comments_629623.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:25 egourgoulhon]:\n> Replying to [comment:20 mkoeppe]:\n> >  - if the map is an isomorphism (and the domain `subset` open), we could create a submanifold -- but should this use extra classes `ImageTopologicalManifold`, `ImageDifferentiableManifold`, which remember the map, or just compute the result? (in either case - follow-up ticket)\n \n> > \n> \n> Maybe just compute the result?\n\n\nOK, I have opened #31685 for this.",
    "created_at": "2021-04-18T16:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629623",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>Replying to [comment:25 egourgoulhon]:
> Replying to [comment:20 mkoeppe]:
> >  - if the map is an isomorphism (and the domain `subset` open), we could create a submanifold -- but should this use extra classes `ImageTopologicalManifold`, `ImageDifferentiableManifold`, which remember the map, or just compute the result? (in either case - follow-up ticket)
 
> > 
> 
> Maybe just compute the result?


OK, I have opened #31685 for this.



---

archive/issue_comments_629624.json:
```json
{
    "body": "Changing commit from \"964f9f7d18b2a7e052ad3e537557b861fbcb3106\" to \"e711215d154223b34f17f758b94407545843fe55\"",
    "created_at": "2021-04-18T16:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "964f9f7d18b2a7e052ad3e537557b861fbcb3106" to "e711215d154223b34f17f758b94407545843fe55"



---

archive/issue_comments_629625.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-18T16:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629626.json:
```json
{
    "body": "<a id='comment:28'></a>Ready for review",
    "created_at": "2021-04-19T17:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629626",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>Ready for review



---

archive/issue_comments_629627.json:
```json
{
    "body": "<a id='comment:29'></a>To generate the documentation regarding the new class `ImageManifoldSubset`, the following line\n\n```\n   sage/manifolds/continuous_map_image\n```\nshould added at the end of `src/doc/en/reference/manifolds/continous_map.rst`. Also, it would be nice to modify the head of `src/sage/manifolds/subsets.py` so that it refers to it, e.g. something like:\n\n```diff\nThe class :class:`ManifoldSubset` implements generic subsets of a\ntopological manifold. Open subsets are implemented by the class\n:class:`~sage.manifolds.manifold.TopologicalManifold` (since an\nopen subset of a manifold is a manifold by itself), which inherits\n- from :class:`ManifoldSubset`.\n+ from :class:`ManifoldSubset`. Besides, subsets that are images of\n+ a manifold subset under a continuous map are implemented by the\n+ subclass :class:`~sage.manifolds.continuous_map_image.ImageManifoldSubset`. \n```",
    "created_at": "2021-04-20T09:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629627",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:29'></a>To generate the documentation regarding the new class `ImageManifoldSubset`, the following line

```
   sage/manifolds/continuous_map_image
```
should added at the end of `src/doc/en/reference/manifolds/continous_map.rst`. Also, it would be nice to modify the head of `src/sage/manifolds/subsets.py` so that it refers to it, e.g. something like:

```diff
The class :class:`ManifoldSubset` implements generic subsets of a
topological manifold. Open subsets are implemented by the class
:class:`~sage.manifolds.manifold.TopologicalManifold` (since an
open subset of a manifold is a manifold by itself), which inherits
- from :class:`ManifoldSubset`.
+ from :class:`ManifoldSubset`. Besides, subsets that are images of
+ a manifold subset under a continuous map are implemented by the
+ subclass :class:`~sage.manifolds.continuous_map_image.ImageManifoldSubset`. 
```



---

archive/issue_comments_629628.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-20T16:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629628",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_629629.json:
```json
{
    "body": "Changing commit from \"e711215d154223b34f17f758b94407545843fe55\" to \"0f3e36d35b688a92028d09fd9edef3cf5ddae590\"",
    "created_at": "2021-04-20T16:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629629",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e711215d154223b34f17f758b94407545843fe55" to "0f3e36d35b688a92028d09fd9edef3cf5ddae590"



---

archive/issue_comments_629630.json:
```json
{
    "body": "<a id='comment:31'></a>Thanks!",
    "created_at": "2021-04-20T22:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629630",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:31'></a>Thanks!



---

archive/issue_comments_629631.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-20T22:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629631",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_629632.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Eric Gourgoulhon, Michael Jung\"",
    "created_at": "2021-04-20T22:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629632",
    "user": "https://github.com/egourgoulhon"
}
```

Changing reviewer from "" to "Eric Gourgoulhon, Michael Jung"



---

archive/issue_comments_629633.json:
```json
{
    "body": "<a id='comment:32'></a>Thanks for reviewing!",
    "created_at": "2021-04-20T22:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629633",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>Thanks for reviewing!



---

archive/issue_events_083396.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-06T13:18:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31653#event-83396"
}
```



---

archive/issue_comments_629634.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-06T13:18:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629634",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_629635.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/images_of_continuous_maps_and_embedded_submanifolds_as_manifold_subsets\" to \"0f3e36d35b688a92028d09fd9edef3cf5ddae590\"",
    "created_at": "2021-06-06T13:18:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31653#issuecomment-629635",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/images_of_continuous_maps_and_embedded_submanifolds_as_manifold_subsets" to "0f3e36d35b688a92028d09fd9edef3cf5ddae590"
