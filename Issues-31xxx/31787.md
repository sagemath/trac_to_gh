# Issue 31787: Alternative parameters for generating a k-regular sequence from recurrence relations

archive/issues_031550.json:
```json
{
    "body": "Alternative input arguments for the method `kRegularSequenceSpace.from_recurrence` should be implemented. Input `coeffs`, `M`, `m`, `initial_values` and `offset` should suffice.\n\nFollow-up of #27940. See also meta ticket #21202.\n\nCC:  @cheuberg @dkrenn\n\nBranch/Commit: 2dd7c483d72a21360e155be512c8764e2c919567\n\nReviewer: Daniel Krenn, Clemens Heuberger\n\nAuthor: Gabriel F. Lipnik, Daniel Krenn\n\nDependencies: #27940, #32198\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31787\n\n",
    "closed_at": "2022-01-31T23:31:32Z",
    "created_at": "2021-05-06T21:43:51Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Alternative parameters for generating a k-regular sequence from recurrence relations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31787",
    "user": "https://github.com/galipnik"
}
```
Alternative input arguments for the method `kRegularSequenceSpace.from_recurrence` should be implemented. Input `coeffs`, `M`, `m`, `initial_values` and `offset` should suffice.

Follow-up of #27940. See also meta ticket #21202.

CC:  @cheuberg @dkrenn

Branch/Commit: 2dd7c483d72a21360e155be512c8764e2c919567

Reviewer: Daniel Krenn, Clemens Heuberger

Author: Gabriel F. Lipnik, Daniel Krenn

Dependencies: #27940, #32198

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31787





---

archive/issue_comments_481385.json:
```json
{
    "body": "<a id='comment:1'></a>Last 10 new commits:",
    "created_at": "2021-07-06T12:16:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481385",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:1'></a>Last 10 new commits:



---

archive/issue_comments_481386.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-15T15:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481386",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481387.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-15T16:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481388.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-15T16:33:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481389.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-07-15T16:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481389",
    "user": "https://github.com/galipnik"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_481390.json:
```json
{
    "body": "<a id='comment:9'></a>I did a brief review of this ticket:\n\n1. I had the strong feeling that it should be possible to also specify everything by keyword arguments. I find this in applications of the methods usually better readable as parameters are named. See the new commit.\n\n3. We should consider using keyword arguements (now as we have them) for inputs like\n\n```\nRP(1, 0, {(0, 0): 1, (1, 0): 1, (1, 1): 1}, {0: 0, 1: 1})\n```\n  to make this example better understandable by a reader (what is what).\n\n. `M, m, coeffs, initial_values` in `__call__` could simplfy be called something like `recurrence` and be passed on by `.parameters(*recurrence)` as it is not needed to inspect the individual parameters independently. However, the current form makes it more explicit. (I have a slight preference for the former; opinions?)\n\n4. I've only did some kind of a shallow review of `parse_direct_arguments`, in particular the doctests; seem fine so far from this point; code LGTM\n\nApart from these comments; changes LGTM.\n\n---\nNew commits:",
    "created_at": "2021-07-18T18:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481390",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:9'></a>I did a brief review of this ticket:

1. I had the strong feeling that it should be possible to also specify everything by keyword arguments. I find this in applications of the methods usually better readable as parameters are named. See the new commit.

3. We should consider using keyword arguements (now as we have them) for inputs like

```
RP(1, 0, {(0, 0): 1, (1, 0): 1, (1, 1): 1}, {0: 0, 1: 1})
```
  to make this example better understandable by a reader (what is what).

. `M, m, coeffs, initial_values` in `__call__` could simplfy be called something like `recurrence` and be passed on by `.parameters(*recurrence)` as it is not needed to inspect the individual parameters independently. However, the current form makes it more explicit. (I have a slight preference for the former; opinions?)

4. I've only did some kind of a shallow review of `parse_direct_arguments`, in particular the doctests; seem fine so far from this point; code LGTM

Apart from these comments; changes LGTM.

---
New commits:



---

archive/issue_comments_481391.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 dkrenn]:\n> I did a brief review of this ticket:\n> \n> 1. I had the strong feeling that it should be possible to also specify everything by keyword arguments. I find this in applications of the methods usually better readable as parameters are named. See the new commit.\n  \nFine for me, the new commit LGTM.\n\n> 3. We should consider using keyword arguements (now as we have them) for inputs like\n> \n> ```\n> RP(1, 0, {(0, 0): 1, (1, 0): 1, (1, 1): 1}, {0: 0, 1: 1})\n> ```\n>   to make this example better understandable by a reader (what is what).\n\nYou mean in the documentation of `from_recurrence`, right? (Because for the mentioned example `RP(...)` above you have already added the alternative with keyword arguments in your last commit.)\n\n> . `M, m, coeffs, initial_values` in `__call__` could simplfy be called something like `recurrence` and be passed on by `.parameters(*recurrence)` as it is not needed to inspect the individual parameters independently. However, the current form makes it more explicit. (I have a slight preference for the former; opinions?)\n\nI see your point, but I don't really have an opinion on that.",
    "created_at": "2021-07-28T12:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481391",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:10'></a>Replying to [comment:9 dkrenn]:
> I did a brief review of this ticket:
> 
> 1. I had the strong feeling that it should be possible to also specify everything by keyword arguments. I find this in applications of the methods usually better readable as parameters are named. See the new commit.
  
Fine for me, the new commit LGTM.

> 3. We should consider using keyword arguements (now as we have them) for inputs like
> 
> ```
> RP(1, 0, {(0, 0): 1, (1, 0): 1, (1, 1): 1}, {0: 0, 1: 1})
> ```
>   to make this example better understandable by a reader (what is what).

You mean in the documentation of `from_recurrence`, right? (Because for the mentioned example `RP(...)` above you have already added the alternative with keyword arguments in your last commit.)

> . `M, m, coeffs, initial_values` in `__call__` could simplfy be called something like `recurrence` and be passed on by `.parameters(*recurrence)` as it is not needed to inspect the individual parameters independently. However, the current form makes it more explicit. (I have a slight preference for the former; opinions?)

I see your point, but I don't really have an opinion on that.



---

archive/issue_events_083914.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31787#event-83914"
}
```



---

archive/issue_comments_481392.json:
```json
{
    "body": "<a id='comment:12'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481392",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_083915.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31787#event-83915"
}
```



---

archive/issue_events_083916.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31787#event-83916"
}
```



---

archive/issue_comments_481393.json:
```json
{
    "body": "<a id='comment:13'></a>I reviewed this ticket. Two new comments:\n\n5. `parse_direct_arguments`, example: `var('n')` and `function('f')` can be removed.\n\n6. `parse_direct_arguments`: I suggest to test for non-integer elements in `coeffs_keys` before checking for their size.\n\nI may not understand comment 3 (as there is an example like that already for `RP`), but I suggest to formulate the example in `from_recurrence` with keyword arguments only.\n\nConcerning the unnumbered comment: I prefer the current version such that checking for parameter names is done in one central location and not delegated to the subroutines.",
    "created_at": "2022-01-04T12:59:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481393",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:13'></a>I reviewed this ticket. Two new comments:

5. `parse_direct_arguments`, example: `var('n')` and `function('f')` can be removed.

6. `parse_direct_arguments`: I suggest to test for non-integer elements in `coeffs_keys` before checking for their size.

I may not understand comment 3 (as there is an example like that already for `RP`), but I suggest to formulate the example in `from_recurrence` with keyword arguments only.

Concerning the unnumbered comment: I prefer the current version such that checking for parameter names is done in one central location and not delegated to the subroutines.



---

archive/issue_comments_481394.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-04T12:59:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481394",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_481395.json:
```json
{
    "body": "<a id='comment:14'></a>New commits:",
    "created_at": "2022-01-04T18:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481395",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:14'></a>New commits:



---

archive/issue_comments_481396.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-04T18:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481396",
    "user": "https://github.com/galipnik"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_481397.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 cheuberg]:\n\nThank you for your review! I've pushed three new commits.",
    "created_at": "2022-01-04T18:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481397",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:15'></a>Replying to [comment:13 cheuberg]:

Thank you for your review! I've pushed three new commits.



---

archive/issue_comments_481398.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 galipnik]:\n> Replying to [comment:13 cheuberg]:\n> \n> Thank you for your review! I've pushed three new commits.\n\n\nThank you. LGTM.\n\nI would set this to positive unless dkrenn or a patchbot disagree.",
    "created_at": "2022-01-04T18:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481398",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:16'></a>Replying to [comment:15 galipnik]:
> Replying to [comment:13 cheuberg]:
> 
> Thank you for your review! I've pushed three new commits.


Thank you. LGTM.

I would set this to positive unless dkrenn or a patchbot disagree.



---

archive/issue_comments_481399.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-05T09:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481399",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_481400.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:16 cheuberg]:\n> I would set this to positive unless dkrenn or a patchbot disagree.\n\n\nLGTM and LGTPB ;)",
    "created_at": "2022-01-05T09:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481400",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:17'></a>Replying to [comment:16 cheuberg]:
> I would set this to positive unless dkrenn or a patchbot disagree.


LGTM and LGTPB ;)



---

archive/issue_events_083917.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-31T23:31:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31787#event-83917"
}
```



---

archive/issue_comments_481401.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-31T23:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31787#issuecomment-481401",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
