# Issue 31365: Add NTL to cython_aliases and sage.misc.cython library search dirs

archive/issues_031128.json:
```json
{
    "body": "(from #31348)\n\n... using `SAGE_NTL_PREFIX` via `sage_conf`.\n\nThis is for macOS with configurations in which Python extensions no longer have access to `/usr/local` due to the use of `-isysroot` in the compiler configuration from sysconfig.\n\nIn particular, we add handling for `ntl` to the `.homebrew-build-env` script -- so that after `brew install ntl; brew unlink ntl`, our `./configure` still finds NTL.\n\n\n\n\n\n**CC:**  @zlscherr @dimpase @orlitzky @videlec @kliem @jhpalmieri @kiwifb\n\n**Branch/Commit:** [dbcbf792927c4aa92fb2a60c528c830a2920c175](https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175)\n\n**Reviewer:** Jonathan Kliem\n\n**Author:** Matthias Koeppe\n\n**Dependencies:** #30770, #31344\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31365\n\n",
    "closed_at": "2021-03-09T00:01:40Z",
    "created_at": "2021-02-09T02:54:06Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Add NTL to cython_aliases and sage.misc.cython library search dirs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31365",
    "user": "https://github.com/mkoeppe"
}
```
(from #31348)

... using `SAGE_NTL_PREFIX` via `sage_conf`.

This is for macOS with configurations in which Python extensions no longer have access to `/usr/local` due to the use of `-isysroot` in the compiler configuration from sysconfig.

In particular, we add handling for `ntl` to the `.homebrew-build-env` script -- so that after `brew install ntl; brew unlink ntl`, our `./configure` still finds NTL.





**CC:**  @zlscherr @dimpase @orlitzky @videlec @kliem @jhpalmieri @kiwifb

**Branch/Commit:** [dbcbf792927c4aa92fb2a60c528c830a2920c175](https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175)

**Reviewer:** Jonathan Kliem

**Author:** Matthias Koeppe

**Dependencies:** #30770, #31344

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/31365





---

archive/issue_comments_623004.json:
```json
{
    "body": "**Dependencies:** #30770",
    "created_at": "2021-02-09T02:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623004",
    "user": "https://github.com/mkoeppe"
}
```


**Dependencies:** #30770



---

archive/issue_comments_623005.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-02-09T03:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623005",
    "user": "https://github.com/mkoeppe"
}
```


**Author:** Matthias Koeppe



---

archive/issue_comments_623006.json:
```json
{
    "body": "**Changing dependencies** from \"#30770\" to \"#30770, #31344\".",
    "created_at": "2021-02-09T03:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623006",
    "user": "https://github.com/mkoeppe"
}
```


**Changing dependencies** from "#30770" to "#30770, #31344".



---

archive/issue_events_092527.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "rename": {
        "from": "Add NTL to cython_aliases",
        "to": "Add NTL to cython_aliases and sage.misc.cython library search dirs"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31365#event-92527"
}
```




---

archive/issue_comments_623007.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/add_ntl_to_cython_aliases](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_ntl_to_cython_aliases)",
    "created_at": "2021-02-09T03:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623007",
    "user": "https://github.com/mkoeppe"
}
```


**Branch:** [u/mkoeppe/add_ntl_to_cython_aliases](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_ntl_to_cython_aliases)



---

archive/issue_comments_623008.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32576b43a0415a9e15d1cbe6beac2dd4c300a745\">32576b4</a></td><td><code>sage.misc.cython: Add NTL aliases, cache result of cython_aliases</code></td></tr></table>\n",
    "created_at": "2021-02-09T06:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623008",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32576b43a0415a9e15d1cbe6beac2dd4c300a745">32576b4</a></td><td><code>sage.misc.cython: Add NTL aliases, cache result of cython_aliases</code></td></tr></table>




---

archive/issue_comments_623009.json:
```json
{
    "body": "**Commit:** [32576b43a0415a9e15d1cbe6beac2dd4c300a745](https://github.com/sagemath/sagetrac-mirror/commit/32576b43a0415a9e15d1cbe6beac2dd4c300a745)",
    "created_at": "2021-02-09T06:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Commit:** [32576b43a0415a9e15d1cbe6beac2dd4c300a745](https://github.com/sagemath/sagetrac-mirror/commit/32576b43a0415a9e15d1cbe6beac2dd4c300a745)



---

archive/issue_comments_623010.json:
```json
{
    "body": "<a id='comment:6'></a>\nActually `spkg-configure.m4` needs some work too - need to use `AX_ABSOLUTE_HEADER` to set `SAGE_NTL_PREFIX`",
    "created_at": "2021-02-09T06:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623010",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:6'></a>
Actually `spkg-configure.m4` needs some work too - need to use `AX_ABSOLUTE_HEADER` to set `SAGE_NTL_PREFIX`



---

archive/issue_comments_623011.json:
```json
{
    "body": "**Changing commit** from \"[32576b43a0415a9e15d1cbe6beac2dd4c300a745](https://github.com/sagemath/sagetrac-mirror/commit/32576b43a0415a9e15d1cbe6beac2dd4c300a745)\" to \"[7b1e27b96e143d6d44b448692ba266050e667399](https://github.com/sagemath/sagetrac-mirror/commit/7b1e27b96e143d6d44b448692ba266050e667399)\".",
    "created_at": "2021-02-11T03:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623011",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[32576b43a0415a9e15d1cbe6beac2dd4c300a745](https://github.com/sagemath/sagetrac-mirror/commit/32576b43a0415a9e15d1cbe6beac2dd4c300a745)" to "[7b1e27b96e143d6d44b448692ba266050e667399](https://github.com/sagemath/sagetrac-mirror/commit/7b1e27b96e143d6d44b448692ba266050e667399)".



---

archive/issue_comments_623012.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e30e3ac2d891a16fdd1ad89506db767d4edb9e5\">6e30e3a</a></td><td><code>Use variables NTL_INCDIR, NTL_LIBDIR in sage_conf, separate from NTL_PREFIX used in sage-build-env-config; set -std=c++11 in NTL_CFLAGS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b1e27b96e143d6d44b448692ba266050e667399\">7b1e27b</a></td><td><code>Merge distutils directives for Cython files using ntl</code></td></tr></table>\n",
    "created_at": "2021-02-11T03:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623012",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e30e3ac2d891a16fdd1ad89506db767d4edb9e5">6e30e3a</a></td><td><code>Use variables NTL_INCDIR, NTL_LIBDIR in sage_conf, separate from NTL_PREFIX used in sage-build-env-config; set -std=c++11 in NTL_CFLAGS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b1e27b96e143d6d44b448692ba266050e667399">7b1e27b</a></td><td><code>Merge distutils directives for Cython files using ntl</code></td></tr></table>




---

archive/issue_comments_623013.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-02-11T04:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623013",
    "user": "https://github.com/mkoeppe"
}
```


**Changing status** from new to needs_review.



---

archive/issue_comments_623014.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,6 @@\n \n ... using `SAGE_NTL_PREFIX` via `sage_conf`.\n \n+This is for macOS with configurations in which Python extensions no longer have access to `/usr/local` due to the use of `-isysroot` in the compiler configuration from sysconfig.\n \n+\n``````\n",
    "created_at": "2021-02-11T04:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623014",
    "user": "https://github.com/mkoeppe"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,6 @@
 
 ... using `SAGE_NTL_PREFIX` via `sage_conf`.
 
+This is for macOS with configurations in which Python extensions no longer have access to `/usr/local` due to the use of `-isysroot` in the compiler configuration from sysconfig.
 
+
``````




---

archive/issue_comments_623015.json:
```json
{
    "body": "<a id='comment:9'></a>\nNTL_INCDIR, NTL_LIBDIR needs more work.\n\n```\nNTL_INCDIR = \".\n.\n///usr/include/NTL\"\n```",
    "created_at": "2021-02-11T06:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623015",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:9'></a>
NTL_INCDIR, NTL_LIBDIR needs more work.

```
NTL_INCDIR = ".
.
///usr/include/NTL"
```



---

archive/issue_comments_623016.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-02-11T06:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623016",
    "user": "https://github.com/mkoeppe"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_comments_623017.json:
```json
{
    "body": "**Changing commit** from \"[7b1e27b96e143d6d44b448692ba266050e667399](https://github.com/sagemath/sagetrac-mirror/commit/7b1e27b96e143d6d44b448692ba266050e667399)\" to \"[993c35c931f9c9f2b459e66619cac7d587a4a08f](https://github.com/sagemath/sagetrac-mirror/commit/993c35c931f9c9f2b459e66619cac7d587a4a08f)\".",
    "created_at": "2021-02-11T07:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623017",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[7b1e27b96e143d6d44b448692ba266050e667399](https://github.com/sagemath/sagetrac-mirror/commit/7b1e27b96e143d6d44b448692ba266050e667399)" to "[993c35c931f9c9f2b459e66619cac7d587a4a08f](https://github.com/sagemath/sagetrac-mirror/commit/993c35c931f9c9f2b459e66619cac7d587a4a08f)".



---

archive/issue_comments_623018.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d2828df69cd02e128a43a53b32e67cb63caacb9\">4d2828d</a></td><td><code>Switch Cython files that use NTL to language = c++</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/993c35c931f9c9f2b459e66619cac7d587a4a08f\">993c35c</a></td><td><code>build/pkgs/ntl/spkg-configure.m4: Fix up</code></td></tr></table>\n",
    "created_at": "2021-02-11T07:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d2828df69cd02e128a43a53b32e67cb63caacb9">4d2828d</a></td><td><code>Switch Cython files that use NTL to language = c++</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/993c35c931f9c9f2b459e66619cac7d587a4a08f">993c35c</a></td><td><code>build/pkgs/ntl/spkg-configure.m4: Fix up</code></td></tr></table>




---

archive/issue_comments_623019.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-02-11T07:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623019",
    "user": "https://github.com/mkoeppe"
}
```


**Changing status** from needs_work to needs_review.



---

archive/issue_comments_623020.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175\">dbcbf79</a></td><td><code>.homebrew-build-env: Add ntl dirs</code></td></tr></table>\n",
    "created_at": "2021-02-12T00:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175">dbcbf79</a></td><td><code>.homebrew-build-env: Add ntl dirs</code></td></tr></table>




---

archive/issue_comments_623021.json:
```json
{
    "body": "**Changing commit** from \"[993c35c931f9c9f2b459e66619cac7d587a4a08f](https://github.com/sagemath/sagetrac-mirror/commit/993c35c931f9c9f2b459e66619cac7d587a4a08f)\" to \"[dbcbf792927c4aa92fb2a60c528c830a2920c175](https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175)\".",
    "created_at": "2021-02-12T00:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[993c35c931f9c9f2b459e66619cac7d587a4a08f](https://github.com/sagemath/sagetrac-mirror/commit/993c35c931f9c9f2b459e66619cac7d587a4a08f)" to "[dbcbf792927c4aa92fb2a60c528c830a2920c175](https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175)".



---

archive/issue_comments_623022.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,8 @@\n \n This is for macOS with configurations in which Python extensions no longer have access to `/usr/local` due to the use of `-isysroot` in the compiler configuration from sysconfig.\n \n+In particular, we add handling for `ntl` to the `.homebrew-build-env` script -- so that after `brew install ntl; brew unlink ntl`, our `./configure` still finds NTL.\n \n+\n+\n+\n``````\n",
    "created_at": "2021-02-12T00:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623022",
    "user": "https://github.com/mkoeppe"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,8 @@
 
 This is for macOS with configurations in which Python extensions no longer have access to `/usr/local` due to the use of `-isysroot` in the compiler configuration from sysconfig.
 
+In particular, we add handling for `ntl` to the `.homebrew-build-env` script -- so that after `brew install ntl; brew unlink ntl`, our `./configure` still finds NTL.
 
+
+
+
``````




---

archive/issue_comments_623023.json:
```json
{
    "body": "<a id='comment:16'></a>\nYou changed `src/sage/rings/rational.pyx` and `src/sage/matrix/matrix_rational_dense.pyx` to language `c++`. Is there a reason for this?",
    "created_at": "2021-02-16T10:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623023",
    "user": "https://github.com/kliem"
}
```


<a id='comment:16'></a>
You changed `src/sage/rings/rational.pyx` and `src/sage/matrix/matrix_rational_dense.pyx` to language `c++`. Is there a reason for this?



---

archive/issue_comments_623024.json:
```json
{
    "body": "<a id='comment:17'></a>\nI'm a bit confused:\n\nIn `src/sage/misc/cython.py` we add `NTL_LIBDIR` to `standard_libdirs` and likewise we add `NTL_INCDIR` to `standard_incdirs`. Why do we need to add this to every file again that uses ntl?",
    "created_at": "2021-02-16T10:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623024",
    "user": "https://github.com/kliem"
}
```


<a id='comment:17'></a>
I'm a bit confused:

In `src/sage/misc/cython.py` we add `NTL_LIBDIR` to `standard_libdirs` and likewise we add `NTL_INCDIR` to `standard_incdirs`. Why do we need to add this to every file again that uses ntl?



---

archive/issue_comments_623025.json:
```json
{
    "body": "**Reviewer:** Jonathan Kliem",
    "created_at": "2021-02-16T10:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623025",
    "user": "https://github.com/kliem"
}
```


**Reviewer:** Jonathan Kliem



---

archive/issue_comments_623026.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [gh-kliem](#comment%3A16):\n> You changed `src/sage/rings/rational.pyx` and `src/sage/matrix/matrix_rational_dense.pyx` to language `c++`. Is there a reason for this?\n\n\nOk, I see:\n\n```\n[sagelib-9.3.beta7] cc1: warning: command line option \u2018-std=c++11\u2019 is valid for C++/ObjC++ but not for C\n[sagelib-9.3.beta7] cc1: warning: command line option \u2018-std=c++11\u2019 is valid for C++/ObjC++ but not for C\n```\n\nWhich raises a bit the question, why its called `NTL_CFLAGS` and not `NTL_CXXFLAGS`.",
    "created_at": "2021-02-16T12:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623026",
    "user": "https://github.com/kliem"
}
```


<a id='comment:19'></a>
Replying to [gh-kliem](#comment%3A16):
> You changed `src/sage/rings/rational.pyx` and `src/sage/matrix/matrix_rational_dense.pyx` to language `c++`. Is there a reason for this?


Ok, I see:

```
[sagelib-9.3.beta7] cc1: warning: command line option ‘-std=c++11’ is valid for C++/ObjC++ but not for C
[sagelib-9.3.beta7] cc1: warning: command line option ‘-std=c++11’ is valid for C++/ObjC++ but not for C
```

Which raises a bit the question, why its called `NTL_CFLAGS` and not `NTL_CXXFLAGS`.



---

archive/issue_comments_623027.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [gh-kliem](#comment%3A17):\n> In `src/sage/misc/cython.py` we add `NTL_LIBDIR` to `standard_libdirs` and likewise we add `NTL_INCDIR` to `standard_incdirs`. Why do we need to add this to every file again that uses ntl?\n\n\n`sage.misc.cython` is only for runtime use of Cython; it is not used by the sagelib build system.",
    "created_at": "2021-02-16T15:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623027",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:20'></a>
Replying to [gh-kliem](#comment%3A17):
> In `src/sage/misc/cython.py` we add `NTL_LIBDIR` to `standard_libdirs` and likewise we add `NTL_INCDIR` to `standard_incdirs`. Why do we need to add this to every file again that uses ntl?


`sage.misc.cython` is only for runtime use of Cython; it is not used by the sagelib build system.



---

archive/issue_comments_623028.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [gh-kliem](#comment%3A19):\n> Which raises a bit the question, why its called `NTL_CFLAGS` and not `NTL_CXXFLAGS`.\n\n\nThe names follow the conventions of `pkg-config` - which does not make this distinction.",
    "created_at": "2021-02-16T15:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623028",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:21'></a>
Replying to [gh-kliem](#comment%3A19):
> Which raises a bit the question, why its called `NTL_CFLAGS` and not `NTL_CXXFLAGS`.


The names follow the conventions of `pkg-config` - which does not make this distinction.



---

archive/issue_comments_623029.json:
```json
{
    "body": "<a id='comment:22'></a>\nOk. LGTM.",
    "created_at": "2021-02-16T15:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623029",
    "user": "https://github.com/kliem"
}
```


<a id='comment:22'></a>
Ok. LGTM.



---

archive/issue_comments_623030.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-02-16T15:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623030",
    "user": "https://github.com/kliem"
}
```


**Changing status** from needs_review to positive_review.



---

archive/issue_comments_623031.json:
```json
{
    "body": "<a id='comment:23'></a>\nThank you!",
    "created_at": "2021-02-16T15:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623031",
    "user": "https://github.com/mkoeppe"
}
```


<a id='comment:23'></a>
Thank you!



---

archive/issue_events_092528.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-09T00:01:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31365#event-92528"
}
```




---

archive/issue_comments_623032.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/add_ntl_to_cython_aliases](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_ntl_to_cython_aliases)\" to \"[dbcbf792927c4aa92fb2a60c528c830a2920c175](https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175)\".",
    "created_at": "2021-03-09T00:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623032",
    "user": "https://github.com/vbraun"
}
```


**Changing branch** from "[u/mkoeppe/add_ntl_to_cython_aliases](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_ntl_to_cython_aliases)" to "[dbcbf792927c4aa92fb2a60c528c830a2920c175](https://github.com/sagemath/sagetrac-mirror/commit/dbcbf792927c4aa92fb2a60c528c830a2920c175)".



---

archive/issue_comments_623033.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2021-03-09T00:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31365#issuecomment-623033",
    "user": "https://github.com/vbraun"
}
```


**Resolution:** fixed
