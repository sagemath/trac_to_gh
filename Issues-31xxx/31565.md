# Issue 31565: Build still non-portable despite SAGE_FAT_BINARY=yes because of numpy

archive/issues_031328.json:
```json
{
    "assignees": [],
    "body": "Follow-up from #29537, #31521.\n\nObserved on `cygwin-standard` but likely also affects the Docker images and the Sage binary distribution.\n\nWith the upgrade to numpy 1.20.x (#31008), the non-portability shows as an error message instead of a crash:\n\n```\n  [sagelib-9.4.beta0]       from numpy.core._multiarray_umath import (\n  [sagelib-9.4.beta0]   RuntimeError: NumPy was built with baseline optimizations: \n  [sagelib-9.4.beta0]   (SSE SSE2 SSE3 SSSE3 SSE41 POPCNT SSE42 AVX F16C FMA3 AVX2 AVX512F AVX512CD AVX512_SKX) but your machine doesn't support:\n  [sagelib-9.4.beta0]   (AVX512F).\n  [sagelib-9.4.beta0]   ************************************************************************\n  [sagelib-9.4.beta0]   Error building the Sage library\n  [sagelib-9.4.beta0]   ************************************************************************\n  [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log\n```\n\nReport withs the 9.3 Linux binary: \n- https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ\n- https://groups.google.com/g/sage-support/c/KZFZBoI6xJk/m/aBY9ZIxoBwAJ\n\n\n\n\nDepends on #32257\n\n**CC:**  @embray @kliem @dimpase @vbraun @kiwifb @slel\n\n**Keywords:** sdl\n\n**Branch/Commit:** [49e531d3c24ca5bf3f6dff54ce54687256cc429f](https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f)\n\n**Reviewer:** Thierry Monteil\n\n**Author:** Jonathan Kliem\n\nIssue created by migration from https://trac.sagemath.org/ticket/31565\n\n",
    "closed_at": "2021-08-08T15:37:02Z",
    "created_at": "2021-03-26T16:24:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Build still non-portable despite SAGE_FAT_BINARY=yes because of numpy",
    "type": "issue",
    "updated_at": "2021-08-08T15:37:02Z",
    "url": "https://github.com/sagemath/sage/issues/31565",
    "user": "https://github.com/mkoeppe"
}
```
Follow-up from #29537, #31521.

Observed on `cygwin-standard` but likely also affects the Docker images and the Sage binary distribution.

With the upgrade to numpy 1.20.x (#31008), the non-portability shows as an error message instead of a crash:

```
  [sagelib-9.4.beta0]       from numpy.core._multiarray_umath import (
  [sagelib-9.4.beta0]   RuntimeError: NumPy was built with baseline optimizations: 
  [sagelib-9.4.beta0]   (SSE SSE2 SSE3 SSSE3 SSE41 POPCNT SSE42 AVX F16C FMA3 AVX2 AVX512F AVX512CD AVX512_SKX) but your machine doesn't support:
  [sagelib-9.4.beta0]   (AVX512F).
  [sagelib-9.4.beta0]   ************************************************************************
  [sagelib-9.4.beta0]   Error building the Sage library
  [sagelib-9.4.beta0]   ************************************************************************
  [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log
```

Report withs the 9.3 Linux binary: 
- https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ
- https://groups.google.com/g/sage-support/c/KZFZBoI6xJk/m/aBY9ZIxoBwAJ




Depends on #32257

**CC:**  @embray @kliem @dimpase @vbraun @kiwifb @slel

**Keywords:** sdl

**Branch/Commit:** [49e531d3c24ca5bf3f6dff54ce54687256cc429f](https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f)

**Reviewer:** Thierry Monteil

**Author:** Jonathan Kliem

Issue created by migration from https://trac.sagemath.org/ticket/31565





---

archive/issue_events_383008.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T16:24:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383008"
}
```



---

archive/issue_events_383009.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T16:24:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "08517b",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383009"
}
```



---

archive/issue_events_383010.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T16:24:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383010"
}
```



---

archive/issue_events_383011.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T16:24:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383011"
}
```



---

archive/issue_comments_510172.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\nWhat are the symptoms? I don't really do cygwin but I may do docker one day.",
    "created_at": "2021-03-29T03:31:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510172",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'>**Comment 2:**</a>
What are the symptoms? I don't really do cygwin but I may do docker one day.



---

archive/issue_comments_510173.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\nThe symptom is that something you build on one machine does not run on another machine, aborting with SIGILL.",
    "created_at": "2021-04-03T01:33:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510173",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'>**Comment 3:**</a>
The symptom is that something you build on one machine does not run on another machine, aborting with SIGILL.



---

archive/issue_comments_510174.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n Follow-up from #29537, #31521.\n \n-Observed on `cygwin-standard` but likely also affects the Docker images.\n+Observed on `cygwin-standard` but likely also affects the Docker images and the Sage binary distribution.\n+\n``````\n",
    "created_at": "2021-04-03T01:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510174",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 Follow-up from #29537, #31521.
 
-Observed on `cygwin-standard` but likely also affects the Docker images.
+Observed on `cygwin-standard` but likely also affects the Docker images and the Sage binary distribution.
+
``````




---

archive/issue_comments_510175.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nMoving to 9.4, as 9.3 has been released.",
    "created_at": "2021-05-10T17:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510175",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'>**Comment 5:**</a>
Moving to 9.4, as 9.3 has been released.



---

archive/issue_events_383012.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-10T17:42:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383012"
}
```



---

archive/issue_events_383013.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-10T17:42:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383013"
}
```



---

archive/issue_comments_510176.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,3 +2,17 @@\n \n Observed on `cygwin-standard` but likely also affects the Docker images and the Sage binary distribution.\n \n+With the upgrade to numpy 1.20.x (#31008), the non-portability shows as an error message instead of a crash:\n+\n+```\n+  [sagelib-9.4.beta0]       from numpy.core._multiarray_umath import (\n+  [sagelib-9.4.beta0]   RuntimeError: NumPy was built with baseline optimizations: \n+  [sagelib-9.4.beta0]   (SSE SSE2 SSE3 SSSE3 SSE41 POPCNT SSE42 AVX F16C FMA3 AVX2 AVX512F AVX512CD AVX512_SKX) but your machine doesn't support:\n+  [sagelib-9.4.beta0]   (AVX512F).\n+  [sagelib-9.4.beta0]   ************************************************************************\n+  [sagelib-9.4.beta0]   Error building the Sage library\n+  [sagelib-9.4.beta0]   ************************************************************************\n+  [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log\n+```\n+\n+\n``````\n",
    "created_at": "2021-06-04T18:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510176",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,3 +2,17 @@
 
 Observed on `cygwin-standard` but likely also affects the Docker images and the Sage binary distribution.
 
+With the upgrade to numpy 1.20.x (#31008), the non-portability shows as an error message instead of a crash:
+
+```
+  [sagelib-9.4.beta0]       from numpy.core._multiarray_umath import (
+  [sagelib-9.4.beta0]   RuntimeError: NumPy was built with baseline optimizations: 
+  [sagelib-9.4.beta0]   (SSE SSE2 SSE3 SSSE3 SSE41 POPCNT SSE42 AVX F16C FMA3 AVX2 AVX512F AVX512CD AVX512_SKX) but your machine doesn't support:
+  [sagelib-9.4.beta0]   (AVX512F).
+  [sagelib-9.4.beta0]   ************************************************************************
+  [sagelib-9.4.beta0]   Error building the Sage library
+  [sagelib-9.4.beta0]   ************************************************************************
+  [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log
+```
+
+
``````




---

archive/issue_comments_510177.json:
```json
{
    "body": "**Dependencies:** #31008",
    "created_at": "2021-06-04T18:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510177",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #31008



---

archive/issue_events_383014.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-04T18:38:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383014"
}
```



---

archive/issue_events_383015.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-04T18:38:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/blocker",
    "label_color": "ff0000",
    "label_name": "blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383015"
}
```



---

archive/issue_comments_510178.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nI guess we need to unwind #31521 now??",
    "created_at": "2021-06-04T18:40:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510178",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'>**Comment 7:**</a>
I guess we need to unwind #31521 now??



---

archive/issue_comments_510179.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nAh, that's right!",
    "created_at": "2021-06-04T20:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510179",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'>**Comment 8:**</a>
Ah, that's right!



---

archive/issue_comments_510180.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,4 +15,7 @@\n   [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log\n ```\n \n+Report with the 9.3 Linux binary: https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ\n \n+\n+\n``````\n",
    "created_at": "2021-06-04T20:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510180",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,4 +15,7 @@
   [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log
 ```
 
+Report with the 9.3 Linux binary: https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ
 
+
+
``````




---

archive/issue_comments_510181.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,7 +15,9 @@\n   [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log\n ```\n \n-Report with the 9.3 Linux binary: https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ\n+Report withs the 9.3 Linux binary: \n+- https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ\n+- https://groups.google.com/g/sage-support/c/KZFZBoI6xJk/m/aBY9ZIxoBwAJ\n \n \n \n``````\n",
    "created_at": "2021-06-19T01:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510181",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,7 +15,9 @@
   [sagelib-9.4.beta0] Full log file: /cygdrive/d/a/sage/sage/logs/pkgs/sagelib-9.4.beta0.log
 ```
 
-Report with the 9.3 Linux binary: https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ
+Report withs the 9.3 Linux binary: 
+- https://groups.google.com/g/sage-devel/c/Lj-wx4xm0N4/m/9IiDtu4_CgAJ
+- https://groups.google.com/g/sage-support/c/KZFZBoI6xJk/m/aBY9ZIxoBwAJ
 
 
 
``````




---

archive/issue_comments_510182.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy)",
    "created_at": "2021-06-19T18:40:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510182",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy)



---

archive/issue_comments_510183.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b249c4750f510ba18a36b0306a15914325059398\">b249c47</a></td><td><code>Revert \"Revert \"do not allow numpy intrinsics when building fat binary\"\"</code></td></tr></table>\n",
    "created_at": "2021-06-19T18:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510183",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'>**Comment 12:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b249c4750f510ba18a36b0306a15914325059398">b249c47</a></td><td><code>Revert "Revert "do not allow numpy intrinsics when building fat binary""</code></td></tr></table>




---

archive/issue_comments_510184.json:
```json
{
    "body": "**Author:** Jonathan Kliem",
    "created_at": "2021-06-19T18:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510184",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Jonathan Kliem



---

archive/issue_comments_510185.json:
```json
{
    "body": "**Commit:** [b249c4750f510ba18a36b0306a15914325059398](https://github.com/sagemath/sagetrac-mirror/commit/b249c4750f510ba18a36b0306a15914325059398)",
    "created_at": "2021-06-19T18:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510185",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [b249c4750f510ba18a36b0306a15914325059398](https://github.com/sagemath/sagetrac-mirror/commit/b249c4750f510ba18a36b0306a15914325059398)



---

archive/issue_events_383016.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-19T18:42:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383016"
}
```



---

archive/issue_comments_510186.json:
```json
{
    "body": "**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/952966309",
    "created_at": "2021-06-19T18:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510186",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/952966309



---

archive/issue_comments_510187.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nThanks for taking care of this.",
    "created_at": "2021-06-19T20:48:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510187",
    "user": "https://github.com/kliem"
}
```

<a id='comment:14'>**Comment 14:**</a>
Thanks for taking care of this.



---

archive/issue_comments_510188.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nThe `cygwin-standard` build looked rather promising (no \"baseline optimizations\" message, no crash when just importing numpy) but I am getting crashes again https://github.com/mkoeppe/sage/runs/2867645468 when the doctests do any plotting.",
    "created_at": "2021-06-20T15:52:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510188",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'>**Comment 15:**</a>
The `cygwin-standard` build looked rather promising (no "baseline optimizations" message, no crash when just importing numpy) but I am getting crashes again https://github.com/mkoeppe/sage/runs/2867645468 when the doctests do any plotting.



---

archive/issue_events_383017.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-20T15:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383017"
}
```



---

archive/issue_events_383018.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-20T15:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383018"
}
```



---

archive/issue_comments_510189.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/952966309\" to \"Matthias Koeppe\".",
    "created_at": "2021-06-20T15:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510189",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/952966309" to "Matthias Koeppe".



---

archive/issue_comments_510190.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nThe other runs at https://github.com/mkoeppe/sage/runs/2865933225?check_suite_focus=true look clean.\n\nSo I consider this ticket already an improvement. We'll have to chase the crash on cygwin when switching CPUs between build stages in ... yet another ... follow-up ticket.",
    "created_at": "2021-06-20T15:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510190",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'>**Comment 16:**</a>
The other runs at https://github.com/mkoeppe/sage/runs/2865933225?check_suite_focus=true look clean.

So I consider this ticket already an improvement. We'll have to chase the crash on cygwin when switching CPUs between build stages in ... yet another ... follow-up ticket.



---

archive/issue_comments_510191.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nMore numpy-related trouble, looking as e.g. from  https://groups.google.com/d/msgid/sage-devel/763f8650-9803-4bba-a0ec-46744204fc22n%40googlegroups.com. (there are more reports like this)\n\n```\n[sagelib-9.4.beta2]   File \"/home/chapoton/sage/local/lib/python3.8/site-packages/numpy/core/overrides.py\", line 7, in <module>\n[sagelib-9.4.beta2]     from numpy.core._multiarray_umath import (\n[sagelib-9.4.beta2] RuntimeError: NumPy was built with baseline optimizations: \n[sagelib-9.4.beta2] (SSE SSE2 SSE3 SSSE3 SSE41 POPCNT SSE42) but your machine doesn't support:\n[sagelib-9.4.beta2] (POPCNT).\n```\nSo somehow CPU changes its state, and refuses to say yes to features tested as yes during the Numpy build?!\nIs it due to some CPU flags manipulations happening during sagelib build?",
    "created_at": "2021-06-21T12:30:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510191",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'>**Comment 17:**</a>
More numpy-related trouble, looking as e.g. from  https://groups.google.com/d/msgid/sage-devel/763f8650-9803-4bba-a0ec-46744204fc22n%40googlegroups.com. (there are more reports like this)

```
[sagelib-9.4.beta2]   File "/home/chapoton/sage/local/lib/python3.8/site-packages/numpy/core/overrides.py", line 7, in <module>
[sagelib-9.4.beta2]     from numpy.core._multiarray_umath import (
[sagelib-9.4.beta2] RuntimeError: NumPy was built with baseline optimizations: 
[sagelib-9.4.beta2] (SSE SSE2 SSE3 SSSE3 SSE41 POPCNT SSE42) but your machine doesn't support:
[sagelib-9.4.beta2] (POPCNT).
```
So somehow CPU changes its state, and refuses to say yes to features tested as yes during the Numpy build?!
Is it due to some CPU flags manipulations happening during sagelib build?



---

archive/issue_comments_510192.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nI've opened #32021 to deal with that `RuntimeError: NumPy was built with baseline optimizations:` thing.",
    "created_at": "2021-06-21T12:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510192",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'>**Comment 18:**</a>
I've opened #32021 to deal with that `RuntimeError: NumPy was built with baseline optimizations:` thing.



---

archive/issue_comments_510193.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nAcutally the definition of `cpu-dispatch` in `NUMPY_FCONFIG` isn't clean. However, only the vallue will be passed and not the variable `NUMPY_FCONFIG`.",
    "created_at": "2021-06-22T11:30:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510193",
    "user": "https://github.com/kliem"
}
```

<a id='comment:19'>**Comment 19:**</a>
Acutally the definition of `cpu-dispatch` in `NUMPY_FCONFIG` isn't clean. However, only the vallue will be passed and not the variable `NUMPY_FCONFIG`.



---

archive/issue_comments_510194.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nThis doesn't work. See [#32021 comment:10](https://github.com/sagemath/sage/issues/32021#comment:10).\n\nIt's a build option not a configure option.",
    "created_at": "2021-06-22T18:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510194",
    "user": "https://github.com/kliem"
}
```

<a id='comment:20'>**Comment 20:**</a>
This doesn't work. See [#32021 comment:10](https://github.com/sagemath/sage/issues/32021#comment:10).

It's a build option not a configure option.



---

archive/issue_events_383019.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-06-22T18:16:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383019"
}
```



---

archive/issue_events_383020.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-06-22T18:16:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383020"
}
```



---

archive/issue_comments_510195.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nActually the place to do it is correct however:\n\n> The command arguments are available in build, build_clib, and build_ext. if build_clib or build_ext are not specified by the user, the arguments of build will be used instead, which also holds the default values.\n\nSo this does not work for `bdist_wheel` and this is what we use.",
    "created_at": "2021-06-22T19:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510195",
    "user": "https://github.com/kliem"
}
```

<a id='comment:21'>**Comment 21:**</a>
Actually the place to do it is correct however:

> The command arguments are available in build, build_clib, and build_ext. if build_clib or build_ext are not specified by the user, the arguments of build will be used instead, which also holds the default values.

So this does not work for `bdist_wheel` and this is what we use.



---

archive/issue_comments_510196.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nYou can do `setup.py bdist_wheel build [...build-options...]`, see for example build/pkgs/jupyter_jsmol/spkg-install.in",
    "created_at": "2021-06-22T20:03:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510196",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'>**Comment 22:**</a>
You can do `setup.py bdist_wheel build [...build-options...]`, see for example build/pkgs/jupyter_jsmol/spkg-install.in



---

archive/issue_comments_510197.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\nThanks. This seems to do the trick.\n\nActually this itself might even work for this ticket here.",
    "created_at": "2021-06-22T20:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510197",
    "user": "https://github.com/kliem"
}
```

<a id='comment:23'>**Comment 23:**</a>
Thanks. This seems to do the trick.

Actually this itself might even work for this ticket here.



---

archive/issue_comments_510198.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy)\" to \"[public/31565](https://github.com/sagemath/sagetrac-mirror/tree/public/31565)\".",
    "created_at": "2021-06-23T11:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510198",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build_still_non_portable_despite_sage_fat_binary_yes_because_of_numpy)" to "[public/31565](https://github.com/sagemath/sagetrac-mirror/tree/public/31565)".



---

archive/issue_comments_510199.json:
```json
{
    "body": "**Changing commit** from \"[b249c4750f510ba18a36b0306a15914325059398](https://github.com/sagemath/sagetrac-mirror/commit/b249c4750f510ba18a36b0306a15914325059398)\" to \"[82ae48525b377032296f7f83cdc70e7acf5cd533](https://github.com/sagemath/sagetrac-mirror/commit/82ae48525b377032296f7f83cdc70e7acf5cd533)\".",
    "created_at": "2021-06-23T11:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510199",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[b249c4750f510ba18a36b0306a15914325059398](https://github.com/sagemath/sagetrac-mirror/commit/b249c4750f510ba18a36b0306a15914325059398)" to "[82ae48525b377032296f7f83cdc70e7acf5cd533](https://github.com/sagemath/sagetrac-mirror/commit/82ae48525b377032296f7f83cdc70e7acf5cd533)".



---

archive/issue_events_383021.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-06-23T11:24:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383021"
}
```



---

archive/issue_events_383022.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-06-23T11:24:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383022"
}
```



---

archive/issue_comments_510200.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82ae48525b377032296f7f83cdc70e7acf5cd533\">82ae485</a></td><td><code>disable baseline in case of SAGE_FAT_BINARY</code></td></tr></table>\n",
    "created_at": "2021-06-23T11:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510200",
    "user": "https://github.com/kliem"
}
```

<a id='comment:24'>**Comment 24:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82ae48525b377032296f7f83cdc70e7acf5cd533">82ae485</a></td><td><code>disable baseline in case of SAGE_FAT_BINARY</code></td></tr></table>




---

archive/issue_comments_510201.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nhttps://github.com/kliem/sage/pull/46/checks",
    "created_at": "2021-06-23T11:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510201",
    "user": "https://github.com/kliem"
}
```

<a id='comment:25'>**Comment 25:**</a>
https://github.com/kliem/sage/pull/46/checks



---

archive/issue_events_383023.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T03:05:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383023"
}
```



---

archive/issue_events_383024.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T03:05:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383024"
}
```



---

archive/issue_comments_510202.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nUnclear whether this is still needed now that #32021 is merged in 9.4.beta5",
    "created_at": "2021-07-19T03:05:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510202",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'>**Comment 26:**</a>
Unclear whether this is still needed now that #32021 is merged in 9.4.beta5



---

archive/issue_comments_510203.json:
```json
{
    "body": "**Changing dependencies** from \"#31008\" to \"#32257\".",
    "created_at": "2021-07-21T22:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510203",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#31008" to "#32257".



---

archive/issue_comments_510204.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nWith #32021 and the `pynac` build failure fixed by #32257, we are back to being able to build and run the testsuite on Cygwin. https://github.com/mkoeppe/sage/runs/3126612760?check_suite_focus=true\n\nNumerous SIGSEGVs whenever plotting is involved point to more trouble with numpy.\n\nI'll try out the branch of the present ticket on top of #32257.",
    "created_at": "2021-07-21T22:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510204",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'>**Comment 28:**</a>
With #32021 and the `pynac` build failure fixed by #32257, we are back to being able to build and run the testsuite on Cygwin. https://github.com/mkoeppe/sage/runs/3126612760?check_suite_focus=true

Numerous SIGSEGVs whenever plotting is involved point to more trouble with numpy.

I'll try out the branch of the present ticket on top of #32257.



---

archive/issue_comments_510205.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4156f754ca211962bd58057a547a1c726d60e33\">d4156f7</a></td><td><code>build/pkgs/singular/patches/0001-factory-canonicalform.h-Add-more-FACTORY_PUBLIC.patch: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f\">49e531d</a></td><td><code>disable baseline in case of SAGE_FAT_BINARY</code></td></tr></table>\n",
    "created_at": "2021-07-21T22:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510205",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>**Comment 29:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4156f754ca211962bd58057a547a1c726d60e33">d4156f7</a></td><td><code>build/pkgs/singular/patches/0001-factory-canonicalform.h-Add-more-FACTORY_PUBLIC.patch: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f">49e531d</a></td><td><code>disable baseline in case of SAGE_FAT_BINARY</code></td></tr></table>




---

archive/issue_comments_510206.json:
```json
{
    "body": "**Changing commit** from \"[82ae48525b377032296f7f83cdc70e7acf5cd533](https://github.com/sagemath/sagetrac-mirror/commit/82ae48525b377032296f7f83cdc70e7acf5cd533)\" to \"[49e531d3c24ca5bf3f6dff54ce54687256cc429f](https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f)\".",
    "created_at": "2021-07-21T22:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510206",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[82ae48525b377032296f7f83cdc70e7acf5cd533](https://github.com/sagemath/sagetrac-mirror/commit/82ae48525b377032296f7f83cdc70e7acf5cd533)" to "[49e531d3c24ca5bf3f6dff54ce54687256cc429f](https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f)".



---

archive/issue_comments_510207.json:
```json
{
    "body": "**Changing reviewer** from \"Matthias Koeppe\" to \"https://github.com/mkoeppe/sage/actions/runs/1054288431\".",
    "created_at": "2021-07-21T23:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510207",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Matthias Koeppe" to "https://github.com/mkoeppe/sage/actions/runs/1054288431".



---

archive/issue_comments_510208.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\nThat's now running at https://github.com/mkoeppe/sage/actions/runs/1054288431",
    "created_at": "2021-07-21T23:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510208",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'>**Comment 30:**</a>
That's now running at https://github.com/mkoeppe/sage/actions/runs/1054288431



---

archive/issue_comments_510209.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nReplying to [@mkoeppe](#comment%3A28):\n> Numerous SIGSEGVs whenever plotting is involved point to more trouble with numpy.\n> \n> I'll try out the branch of the present ticket on top of #32257.\n\nSame issues as before.",
    "created_at": "2021-07-22T14:55:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510209",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'>**Comment 31:**</a>
Replying to [@mkoeppe](#comment%3A28):
> Numerous SIGSEGVs whenever plotting is involved point to more trouble with numpy.
> 
> I'll try out the branch of the present ticket on top of #32257.

Same issues as before.



---

archive/issue_comments_510210.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\nTesting with #32080 merged at https://github.com/mkoeppe/sage/actions/runs/1056686451",
    "created_at": "2021-07-22T15:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510210",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'>**Comment 32:**</a>
Testing with #32080 merged at https://github.com/mkoeppe/sage/actions/runs/1056686451



---

archive/issue_comments_510211.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/1054288431\" to \"\".",
    "created_at": "2021-07-22T15:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510211",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/1054288431" to "".



---

archive/issue_comments_510212.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nAlso with #32080 no change. Segfaults on every plot.\n\nNext step would be to try to reproduce this in a local installation in Cygwin.",
    "created_at": "2021-07-23T22:45:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510212",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'>**Comment 33:**</a>
Also with #32080 no change. Segfaults on every plot.

Next step would be to try to reproduce this in a local installation in Cygwin.



---

archive/issue_events_383025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-23T22:45:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383025"
}
```



---

archive/issue_events_383026.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-23T22:45:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383026"
}
```



---

archive/issue_events_383027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-26T17:05:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/blocker",
    "label_color": "ff0000",
    "label_name": "blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383027"
}
```



---

archive/issue_events_383028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-26T17:05:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383028"
}
```



---

archive/issue_comments_510213.json:
```json
{
    "body": "<a id='comment:35'>**Comment 35:**</a>\nReduced to critical - see https://groups.google.com/g/sage-release/c/91CGN0cra2k/m/1WwPZNshBQAJ",
    "created_at": "2021-07-26T17:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510213",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'>**Comment 35:**</a>
Reduced to critical - see https://groups.google.com/g/sage-release/c/91CGN0cra2k/m/1WwPZNshBQAJ



---

archive/issue_comments_510214.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sdl\".",
    "created_at": "2021-08-03T10:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510214",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Changing keywords** from "" to "sdl".



---

archive/issue_comments_510215.json:
```json
{
    "body": "**Reviewer:** Thierry Monteil",
    "created_at": "2021-08-03T10:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510215",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Reviewer:** Thierry Monteil



---

archive/issue_comments_510216.json:
```json
{
    "body": "<a id='comment:36'>**Comment 36:**</a>\nI confirm that this branch fixes SSE2 bug for numpy in a quemulated Pentium 3. Note however that the error appeared at run time not build time.\n\nAs this will allow me to rebuild 32bit patchbots and a new SDL for bullseye release (which i did not do for a while), i am +1 for setting this ticket a blocker and get it merged in 9.4.",
    "created_at": "2021-08-03T10:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510216",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:36'>**Comment 36:**</a>
I confirm that this branch fixes SSE2 bug for numpy in a quemulated Pentium 3. Note however that the error appeared at run time not build time.

As this will allow me to rebuild 32bit patchbots and a new SDL for bullseye release (which i did not do for a while), i am +1 for setting this ticket a blocker and get it merged in 9.4.



---

archive/issue_events_383029.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-08-03T21:23:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383029"
}
```



---

archive/issue_events_383030.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-08-03T21:23:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383030"
}
```



---

archive/issue_events_383031.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-08-03T21:23:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383031"
}
```



---

archive/issue_events_383032.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-08-03T21:23:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/blocker",
    "label_color": "ff0000",
    "label_name": "blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383032"
}
```



---

archive/issue_comments_510217.json:
```json
{
    "body": "<a id='comment:37'>**Comment 37:**</a>\nIf nobody complains.",
    "created_at": "2021-08-03T21:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510217",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:37'>**Comment 37:**</a>
If nobody complains.



---

archive/issue_events_383033.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-08T15:37:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383033"
}
```



---

archive/issue_events_383034.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "952f7f9006c84ef54ce7b5aa8e908cc5ea9379bf",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-08-08T15:37:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31565#event-383034"
}
```



---

archive/issue_comments_510218.json:
```json
{
    "body": "**Changing branch** from \"[public/31565](https://github.com/sagemath/sagetrac-mirror/tree/public/31565)\" to \"[49e531d3c24ca5bf3f6dff54ce54687256cc429f](https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f)\".",
    "created_at": "2021-08-08T15:37:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31565",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31565#issuecomment-510218",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/31565](https://github.com/sagemath/sagetrac-mirror/tree/public/31565)" to "[49e531d3c24ca5bf3f6dff54ce54687256cc429f](https://github.com/sagemath/sagetrac-mirror/commit/49e531d3c24ca5bf3f6dff54ce54687256cc429f)".
