# Issue 31858: Fix translation of univariate Gamma from FriCAS

archive/issues_031621.json:
```json
{
    "body": "Before #25597 we had:\n\n```\nsage: fricas.Gamma(3/2).sage()\n1/2*sqrt(pi)\n```\nbut this is broken in Sage 9.3.\n\n**CC:**  @fchapoton @slel\n\n**Keywords:** fricas\n\n**Branch/Commit:** [bec32a1159ad9eef2f8abdd9440fd042662a3b27](https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27)\n\n**Reviewer:** Thierry Monteil\n\n**Author:** Martin Rubey\n\nIssue created by migration from https://trac.sagemath.org/ticket/31858\n\n",
    "closed_at": "2021-06-21T21:16:54Z",
    "created_at": "2021-05-25T15:05:47Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Fix translation of univariate Gamma from FriCAS",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31858",
    "user": "https://github.com/mantepse"
}
```
Before #25597 we had:

```
sage: fricas.Gamma(3/2).sage()
1/2*sqrt(pi)
```
but this is broken in Sage 9.3.

**CC:**  @fchapoton @slel

**Keywords:** fricas

**Branch/Commit:** [bec32a1159ad9eef2f8abdd9440fd042662a3b27](https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27)

**Reviewer:** Thierry Monteil

**Author:** Martin Rubey

Issue created by migration from https://trac.sagemath.org/ticket/31858





---

archive/issue_comments_604501.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe problem is that, in `src/sage/functions/gamma.py`, we have\n\n```\n        GinacFunction.__init__(self, 'gamma', latex_name=r\"\\Gamma\",\n                               ginac_name='gamma',\n                               conversions={'mathematica':'Gamma',\n                                            'maple':'GAMMA',\n                                            'sympy':'gamma',\n                                            'fricas':'Gamma',\n                                            'giac':'Gamma'})\n```\nwhich attaches `fricas.Gamma` to the bivariate gamma function, not the symbolic function:\n\n```\nsage: lazy_import('sage.libs.pynac.pynac', ['symbol_table'])\nsage: symbol_table[\"fricas\"][\"Gamma\"].parent()\n<class 'sage.functions.gamma.Function_gamma_inc'>\nsage: gamma\n<function gamma at 0x7ff1d6f2b940>\n```",
    "created_at": "2021-05-25T15:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604501",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:1'></a>
The problem is that, in `src/sage/functions/gamma.py`, we have

```
        GinacFunction.__init__(self, 'gamma', latex_name=r"\Gamma",
                               ginac_name='gamma',
                               conversions={'mathematica':'Gamma',
                                            'maple':'GAMMA',
                                            'sympy':'gamma',
                                            'fricas':'Gamma',
                                            'giac':'Gamma'})
```
which attaches `fricas.Gamma` to the bivariate gamma function, not the symbolic function:

```
sage: lazy_import('sage.libs.pynac.pynac', ['symbol_table'])
sage: symbol_table["fricas"]["Gamma"].parent()
<class 'sage.functions.gamma.Function_gamma_inc'>
sage: gamma
<function gamma at 0x7ff1d6f2b940>
```



---

archive/issue_comments_604502.json:
```json
{
    "body": "**Branch:** [u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken)",
    "created_at": "2021-05-25T15:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604502",
    "user": "https://github.com/mantepse"
}
```

**Branch:** [u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken)



---

archive/issue_comments_604503.json:
```json
{
    "body": "**Commit:** [e785da44e02d8b48cb7c1fd02017027bbd2b4788](https://github.com/sagemath/sagetrac-mirror/commit/e785da44e02d8b48cb7c1fd02017027bbd2b4788)",
    "created_at": "2021-05-25T15:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604503",
    "user": "https://github.com/mantepse"
}
```

**Commit:** [e785da44e02d8b48cb7c1fd02017027bbd2b4788](https://github.com/sagemath/sagetrac-mirror/commit/e785da44e02d8b48cb7c1fd02017027bbd2b4788)



---

archive/issue_comments_604504.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e785da44e02d8b48cb7c1fd02017027bbd2b4788\">e785da4</a></td><td><code>fix translation of Gamma</code></td></tr></table>\n",
    "created_at": "2021-05-25T15:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604504",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e785da44e02d8b48cb7c1fd02017027bbd2b4788">e785da4</a></td><td><code>fix translation of Gamma</code></td></tr></table>




---

archive/issue_comments_604505.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-05-25T15:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604505",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_604506.json:
```json
{
    "body": "**Author:** Martin Rubey",
    "created_at": "2021-05-25T15:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604506",
    "user": "https://github.com/mantepse"
}
```

**Author:** Martin Rubey



---

archive/issue_comments_604507.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27\">bec32a1</a></td><td><code>add classical doctest</code></td></tr></table>\n",
    "created_at": "2021-05-25T15:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604507",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27">bec32a1</a></td><td><code>add classical doctest</code></td></tr></table>




---

archive/issue_comments_604508.json:
```json
{
    "body": "**Changing commit** from \"[e785da44e02d8b48cb7c1fd02017027bbd2b4788](https://github.com/sagemath/sagetrac-mirror/commit/e785da44e02d8b48cb7c1fd02017027bbd2b4788)\" to \"[bec32a1159ad9eef2f8abdd9440fd042662a3b27](https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27)\".",
    "created_at": "2021-05-25T15:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604508",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e785da44e02d8b48cb7c1fd02017027bbd2b4788](https://github.com/sagemath/sagetrac-mirror/commit/e785da44e02d8b48cb7c1fd02017027bbd2b4788)" to "[bec32a1159ad9eef2f8abdd9440fd042662a3b27](https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27)".



---

archive/issue_events_095034.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "rename": {
        "from": "tranlation of univariate Gamma from fricas is broken",
        "to": "Fix translation of univariate Gamma from FriCAS"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31858#event-95034"
}
```



---

archive/issue_comments_604509.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n-at least before #25597 we had\n+Before #25597 we had:\n \n ```\n sage: fricas.Gamma(3/2).sage()\n 1/2*sqrt(pi)\n ```\n-but this is broken currently\n+but this is broken in Sage 9.3.\n``````\n",
    "created_at": "2021-05-25T16:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604509",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
-at least before #25597 we had
+Before #25597 we had:
 
 ```
 sage: fricas.Gamma(3/2).sage()
 1/2*sqrt(pi)
 ```
-but this is broken currently
+but this is broken in Sage 9.3.
``````




---

archive/issue_comments_604510.json:
```json
{
    "body": "**Reviewer:** Thierry Monteil",
    "created_at": "2021-05-25T18:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604510",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Reviewer:** Thierry Monteil



---

archive/issue_comments_604511.json:
```json
{
    "body": "<a id='comment:6'></a>\nLGTM.",
    "created_at": "2021-05-25T18:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604511",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:6'></a>
LGTM.



---

archive/issue_comments_604512.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-05-25T18:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604512",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_095035.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-21T21:16:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31858#event-95035"
}
```



---

archive/issue_comments_604513.json:
```json
{
    "body": "**Changing branch** from \"[u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken)\" to \"[bec32a1159ad9eef2f8abdd9440fd042662a3b27](https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27)\".",
    "created_at": "2021-06-21T21:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31858#issuecomment-604513",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/tranlation_of_univariate_gamma_from_fricas_is_broken)" to "[bec32a1159ad9eef2f8abdd9440fd042662a3b27](https://github.com/sagemath/sagetrac-mirror/commit/bec32a1159ad9eef2f8abdd9440fd042662a3b27)".
