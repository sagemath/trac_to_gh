# Issue 31563: Upgrade giac to 1.9.0-15

archive/issues_031326.json:
```json
{
    "body": "https://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/\n\nPrevious update: #30537\n\nCC:  @orlitzky @kiwifb @antonio-rojas @frederichan-IMJPRG parisse tmonteil @dimpase\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: Matthias Koeppe\n\nBranch: b4e5c6ee7d60a5c1205697c8858bc59b84faa78a\n\nDependencies: #33226, #34037, #31403, #34088\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31563\n\n",
    "closed_at": "2022-07-21T21:12:21Z",
    "created_at": "2021-03-26T01:22:41Z",
    "labels": [
        "component: packages: standard",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Upgrade giac to 1.9.0-15",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31563",
    "user": "https://github.com/mkoeppe"
}
```
https://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/

Previous update: #30537

CC:  @orlitzky @kiwifb @antonio-rojas @frederichan-IMJPRG parisse tmonteil @dimpase

Reviewer: Fran√ßois Bissey

Author: Matthias Koeppe

Branch: b4e5c6ee7d60a5c1205697c8858bc59b84faa78a

Dependencies: #33226, #34037, #31403, #34088

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31563





---

archive/issue_comments_627475.json:
```json
{
    "body": "<a id='comment:1'></a>\nFTR, this is straightforward and requires no changes to sagelib.",
    "created_at": "2021-03-26T08:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627475",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:1'></a>
FTR, this is straightforward and requires no changes to sagelib.



---

archive/issue_comments_627476.json:
```json
{
    "body": "<a id='comment:4'></a>\nI've updated the system version check in #31594 because it should be a trivial review.",
    "created_at": "2021-04-02T13:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627476",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>
I've updated the system version check in #31594 because it should be a trivial review.



---

archive/issue_events_082971.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31563#event-82971"
}
```



---

archive/issue_comments_627477.json:
```json
{
    "body": "Changing dependencies from \"#31562\" to \"#32449\"",
    "created_at": "2021-09-02T19:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627477",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31562" to "#32449"



---

archive/issue_comments_627478.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/upgrade_giac_to_1_7_0\"",
    "created_at": "2021-09-02T19:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627478",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/upgrade_giac_to_1_7_0"



---

archive/issue_comments_627479.json:
```json
{
    "body": "Attachment [giac-1.7.0.25p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.7.0.25p0.tar.bz2) by @mkoeppe created at 2021-09-02 19:36:38",
    "created_at": "2021-09-02T19:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627479",
    "user": "https://github.com/mkoeppe"
}
```

Attachment [giac-1.7.0.25p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.7.0.25p0.tar.bz2) by @mkoeppe created at 2021-09-02 19:36:38



---

archive/issue_comments_627480.json:
```json
{
    "body": "Changing commit from \"\" to \"4df014a66c7c6c0dea73a10fbb2ac18369e1ada3\"",
    "created_at": "2021-09-02T19:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627480",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "4df014a66c7c6c0dea73a10fbb2ac18369e1ada3"



---

archive/issue_comments_627481.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have made a new tarball using `spkg-src`. Patches in `build/pkgs/giac/patches/` still need updating/review, help welcome\n\n---\nNew commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[7d6a7b8](https://git.sagemath.org/sage.git/commit?id=7d6a7b82886827480d8ef4664c0e484cb669aa1d)|`Make test pass with giac 1.7`|\n|[ffa2679](https://git.sagemath.org/sage.git/commit?id=ffa2679769261b856f0c8b0606884dcaa492a368)|`Merge #32449`|\n|[1127597](https://git.sagemath.org/sage.git/commit?id=1127597c72087e9e78233eee83376563b504e5db)|`build/pkgs/giac/patches/autotools/0001-configure.ac-Do-not-link-to-libintl-if-USE_NLS-is-no.patch: Remove, not needed for giac 1.7`|\n|[35111c9](https://git.sagemath.org/sage.git/commit?id=35111c99097fd66276cdc8eb3436268bb5de4a0c)|`build/pkgs/giac: Update to 1.7.0.25`|\n|[4df014a](https://git.sagemath.org/sage.git/commit?id=4df014a66c7c6c0dea73a10fbb2ac18369e1ada3)|`build/pkgs/giac/checksums.ini: Update upstream_url`|",
    "created_at": "2021-09-02T19:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627481",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
I have made a new tarball using `spkg-src`. Patches in `build/pkgs/giac/patches/` still need updating/review, help welcome

---
New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[7d6a7b8](https://git.sagemath.org/sage.git/commit?id=7d6a7b82886827480d8ef4664c0e484cb669aa1d)|`Make test pass with giac 1.7`|
|[ffa2679](https://git.sagemath.org/sage.git/commit?id=ffa2679769261b856f0c8b0606884dcaa492a368)|`Merge #32449`|
|[1127597](https://git.sagemath.org/sage.git/commit?id=1127597c72087e9e78233eee83376563b504e5db)|`build/pkgs/giac/patches/autotools/0001-configure.ac-Do-not-link-to-libintl-if-USE_NLS-is-no.patch: Remove, not needed for giac 1.7`|
|[35111c9](https://git.sagemath.org/sage.git/commit?id=35111c99097fd66276cdc8eb3436268bb5de4a0c)|`build/pkgs/giac: Update to 1.7.0.25`|
|[4df014a](https://git.sagemath.org/sage.git/commit?id=4df014a66c7c6c0dea73a10fbb2ac18369e1ada3)|`build/pkgs/giac/checksums.ini: Update upstream_url`|



---

archive/issue_comments_627482.json:
```json
{
    "body": "<a id='comment:9'></a>\nThese are the current patches:\nhttps://github.com/sagemath/sage/tree/develop/build/pkgs/giac/patches\n(I have already taken care of the ones in `autotools/`)",
    "created_at": "2021-09-03T19:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627482",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
These are the current patches:
https://github.com/sagemath/sage/tree/develop/build/pkgs/giac/patches
(I have already taken care of the ones in `autotools/`)



---

archive/issue_comments_627483.json:
```json
{
    "body": "<a id='comment:10'></a>\nI just tested the latest giac (1.7.0.33) against sage 9.5.beta2. The only doctests failing are\n\n```\nsage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py\ntoo many failed tests, not using stored timings\nRunning doctests with ID 2021-09-27-12-21-06-b85d81e2.\nUsing --optional=dochtml,pip,sage\nDoctesting 1 file.\nsage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py\n**********************************************************************\nFile \"/usr/lib/python3.9/site-packages/sage/functions/min_max.py\", line 236, in sage.functions.min_max.MaxSymbolic._evalf_\nFailed example:\n    r\nExpected:\n    sqrt(2) - cos(1)\nGot:\n    0.873911256505000\n**********************************************************************\nFile \"/usr/lib/python3.9/site-packages/sage/functions/min_max.py\", line 238, in sage.functions.min_max.MaxSymbolic._evalf_\nFailed example:\n    r.n()\nExpected:\n    0.873911256504955\nGot:\n    0.873911256505000\n**********************************************************************\n1 item had failures:\n   2 of  11 in sage.functions.min_max.MaxSymbolic._evalf_\n    [69 tests, 2 failures, 0.53 s]\n```\n\nI'll note that recent giac unconditionally look for usb connecting libraries. It seems to be related to giac being able to go in embedded devices as far as I can tell. No real impact on the maths but the functionality is not clearly or cleanly separated.",
    "created_at": "2021-09-26T23:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627483",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>
I just tested the latest giac (1.7.0.33) against sage 9.5.beta2. The only doctests failing are

```
sage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py
too many failed tests, not using stored timings
Running doctests with ID 2021-09-27-12-21-06-b85d81e2.
Using --optional=dochtml,pip,sage
Doctesting 1 file.
sage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py
**********************************************************************
File "/usr/lib/python3.9/site-packages/sage/functions/min_max.py", line 236, in sage.functions.min_max.MaxSymbolic._evalf_
Failed example:
    r
Expected:
    sqrt(2) - cos(1)
Got:
    0.873911256505000
**********************************************************************
File "/usr/lib/python3.9/site-packages/sage/functions/min_max.py", line 238, in sage.functions.min_max.MaxSymbolic._evalf_
Failed example:
    r.n()
Expected:
    0.873911256504955
Got:
    0.873911256505000
**********************************************************************
1 item had failures:
   2 of  11 in sage.functions.min_max.MaxSymbolic._evalf_
    [69 tests, 2 failures, 0.53 s]
```

I'll note that recent giac unconditionally look for usb connecting libraries. It seems to be related to giac being able to go in embedded devices as far as I can tell. No real impact on the maths but the functionality is not clearly or cleanly separated.



---

archive/issue_comments_627484.json:
```json
{
    "body": "<a id='comment:12'></a>\n1.7.0.39 out. Did anyone notice that it was looking for `curl` before or is it recent?\n\n```\ndnl AC_CHECK_LIB(curl, main)\nCONFIG_CURL=\"yes\"\nAC_ARG_ENABLE([curl],\n\t[AS_HELP_STRING([--enable-curl], [Use CURL [[default=yes]]])],\n\t[if test \"$enableval\" = \"no\"; then CONFIG_CURL=\"no\"; fi], [])\n\nif test \"$CONFIG_CURL\" = \"yes\"; then\n\tAC_CHECK_HEADER(curl/curl.h, [], [CONFIG_CURL=\"no\"])\n  fi\nif test \"$CONFIG_CURL\" = \"yes\"; then\n\tAC_CHECK_LIB(curl, main, [], [CONFIG_CURL=\"no\"])\n  fi\nAC_SUBST(CONFIG_CURL)\nAC_SUBST(CURL_LIBS)\nAM_CONDITIONAL(CONFIG_CURL, [test \"$CONFIG_CURL\" = \"yes\"])\n```\nIt may have been there some time because it is an alternative to a code branch that can never be reached (pragma constant `EMCC` and `EMCC2` are never defined anywhere).",
    "created_at": "2021-10-18T22:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627484",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
1.7.0.39 out. Did anyone notice that it was looking for `curl` before or is it recent?

```
dnl AC_CHECK_LIB(curl, main)
CONFIG_CURL="yes"
AC_ARG_ENABLE([curl],
	[AS_HELP_STRING([--enable-curl], [Use CURL [[default=yes]]])],
	[if test "$enableval" = "no"; then CONFIG_CURL="no"; fi], [])

if test "$CONFIG_CURL" = "yes"; then
	AC_CHECK_HEADER(curl/curl.h, [], [CONFIG_CURL="no"])
  fi
if test "$CONFIG_CURL" = "yes"; then
	AC_CHECK_LIB(curl, main, [], [CONFIG_CURL="no"])
  fi
AC_SUBST(CONFIG_CURL)
AC_SUBST(CURL_LIBS)
AM_CONDITIONAL(CONFIG_CURL, [test "$CONFIG_CURL" = "yes"])
```
It may have been there some time because it is an alternative to a code branch that can never be reached (pragma constant `EMCC` and `EMCC2` are never defined anywhere).



---

archive/issue_comments_627485.json:
```json
{
    "body": "<a id='comment:13'></a>\n`curl` is in my dependency list in Gentoo, so I just didn't look properly the first _couple_ of times.",
    "created_at": "2021-10-18T22:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627485",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:13'></a>
`curl` is in my dependency list in Gentoo, so I just didn't look properly the first _couple_ of times.



---

archive/issue_comments_627486.json:
```json
{
    "body": "<a id='comment:14'></a>\ncurl is used for the read command, if the argument is a string beginning with http.\nFor example read(\"https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/py.py\")",
    "created_at": "2021-10-19T13:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627486",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:14'></a>
curl is used for the read command, if the argument is a string beginning with http.
For example read("https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/py.py")



---

archive/issue_comments_627487.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [parisse](#comment%3A14):\n> curl is used for the read command, if the argument is a string beginning with http.\n> For example read(\"https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/py.py\")\n\n\nThat's certainly an interesting option. What about all that EMCC(2) code for emscript all around it that has no way of being enabled. Is it dead code or something in gestation?",
    "created_at": "2021-10-19T20:29:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627487",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:15'></a>
Replying to [parisse](#comment%3A14):
> curl is used for the read command, if the argument is a string beginning with http.
> For example read("https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/py.py")


That's certainly an interesting option. What about all that EMCC(2) code for emscript all around it that has no way of being enabled. Is it dead code or something in gestation?



---

archive/issue_comments_627488.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [fbissey](#comment%3A10):\n> I just tested the latest giac (1.7.0.33) against sage 9.5.beta2. The only doctests failing are\n> \n> ```\n> sage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py\n> too many failed tests, not using stored timings\n> Running doctests with ID 2021-09-27-12-21-06-b85d81e2.\n> Using --optional=dochtml,pip,sage\n> Doctesting 1 file.\n> sage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py\n> **********************************************************************\n> File \"/usr/lib/python3.9/site-packages/sage/functions/min_max.py\", line 236, in sage.functions.min_max.MaxSymbolic._evalf_\n> Failed example:\n>     r\n> Expected:\n>     sqrt(2) - cos(1)\n> Got:\n>     0.873911256505000\n> **********************************************************************\n> File \"/usr/lib/python3.9/site-packages/sage/functions/min_max.py\", line 238, in sage.functions.min_max.MaxSymbolic._evalf_\n> Failed example:\n>     r.n()\n> Expected:\n>     0.873911256504955\n> Got:\n>     0.873911256505000\n> **********************************************************************\n> 1 item had failures:\n>    2 of  11 in sage.functions.min_max.MaxSymbolic._evalf_\n>     [69 tests, 2 failures, 0.53 s]\n> ```\n\n\nThis is really bizarre. `min_max` uses sympy not giac - at least directly. The only thing I can think of, is that giac is used to perform the integral and the result is numerical instead of symbolic. See the context of the failing tests\n\n```\n            sage: f = max_symbolic(sin(x), cos(x))\n            sage: r = integral(f, x, 0, 1)\n            ...\n            sage: r\n            sqrt(2) - cos(1)\n            sage: r.n()\n            0.873911256504955\n```",
    "created_at": "2021-10-19T21:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627488",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:16'></a>
Replying to [fbissey](#comment%3A10):
> I just tested the latest giac (1.7.0.33) against sage 9.5.beta2. The only doctests failing are
> 
> ```
> sage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py
> too many failed tests, not using stored timings
> Running doctests with ID 2021-09-27-12-21-06-b85d81e2.
> Using --optional=dochtml,pip,sage
> Doctesting 1 file.
> sage -t --long --random-seed=0 /usr/lib/python3.9/site-packages/sage/functions/min_max.py
> **********************************************************************
> File "/usr/lib/python3.9/site-packages/sage/functions/min_max.py", line 236, in sage.functions.min_max.MaxSymbolic._evalf_
> Failed example:
>     r
> Expected:
>     sqrt(2) - cos(1)
> Got:
>     0.873911256505000
> **********************************************************************
> File "/usr/lib/python3.9/site-packages/sage/functions/min_max.py", line 238, in sage.functions.min_max.MaxSymbolic._evalf_
> Failed example:
>     r.n()
> Expected:
>     0.873911256504955
> Got:
>     0.873911256505000
> **********************************************************************
> 1 item had failures:
>    2 of  11 in sage.functions.min_max.MaxSymbolic._evalf_
>     [69 tests, 2 failures, 0.53 s]
> ```


This is really bizarre. `min_max` uses sympy not giac - at least directly. The only thing I can think of, is that giac is used to perform the integral and the result is numerical instead of symbolic. See the context of the failing tests

```
            sage: f = max_symbolic(sin(x), cos(x))
            sage: r = integral(f, x, 0, 1)
            ...
            sage: r
            sqrt(2) - cos(1)
            sage: r.n()
            0.873911256504955
```



---

archive/issue_comments_627489.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [fbissey](#comment%3A15):\n> Replying to [parisse](#comment%3A14):\n> > curl is used for the read command, if the argument is a string beginning with http.\n> > For example read(\"https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/py.py\")\n\n> \n> That's certainly an interesting option. What about all that EMCC(2) code for emscript all around it that has no way of being enabled. Is it dead code or something in gestation?\n\n\nIt's not dead, it is enabled by commandline -D options, or by the compiler itself (emcc).\nTry this [url=https://www-fourier.univ-grenoble-alpes.fr/%7eparisse/xcasen.html#exec&filename=%40session&python=1&radian=1&cas=0,0,read(%22https%3A%2F%2Fwww-fourier.univ-grenoble-alpes.fr%2F~parisse%2Fnumworks%2Fpy.py%22)&cas=0,200,go(f1)&cas=0,400,%3B&]session Xcas[/url]",
    "created_at": "2021-10-20T06:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627489",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:17'></a>
Replying to [fbissey](#comment%3A15):
> Replying to [parisse](#comment%3A14):
> > curl is used for the read command, if the argument is a string beginning with http.
> > For example read("https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/py.py")

> 
> That's certainly an interesting option. What about all that EMCC(2) code for emscript all around it that has no way of being enabled. Is it dead code or something in gestation?


It's not dead, it is enabled by commandline -D options, or by the compiler itself (emcc).
Try this [url=https://www-fourier.univ-grenoble-alpes.fr/%7eparisse/xcasen.html#exec&filename=%40session&python=1&radian=1&cas=0,0,read(%22https%3A%2F%2Fwww-fourier.univ-grenoble-alpes.fr%2F~parisse%2Fnumworks%2Fpy.py%22)&cas=0,200,go(f1)&cas=0,400,%3B&]session Xcas[/url]



---

archive/issue_comments_627490.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe test failure above seems to be a regression in giac 1.7.0:\n\n- giac 1.6.0 (as compiled by sage)\n\n```\n0>> int(max(sin(x),cos(x)), x, 0, 1)\nWarning, integration of abs or sign assumes constant sign by intervals (correct if the argument is real):\nCheck [abs(sin(x)-cos(x))]\nDiscontinuities at zeroes of sin(x)-cos(x) were not checked\nsqrt(2)-cos(1)\n// Time 0.11\n\n```\n- giac 1.7.0 (void linux)\n\n```\n0>> int(max(sin(x),cos(x)), x, 0, 1)\nPiecewise definite integration: can only handle linear < or > condition\n0.873911256505\n// Time 0.01\n```\n\nNote that sympy_integrator is able to correctly evaluate this integral, but the order is maxima, then giac, then sympy.\n\n```\nsage: f = max_symbolic(sin(x), cos(x))\nsage: sage.symbolic.integration.external.sympy_integrator(f, x, 0, 1)\nsqrt(2) - cos(1)\n```",
    "created_at": "2021-11-25T23:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627490",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:18'></a>
The test failure above seems to be a regression in giac 1.7.0:

- giac 1.6.0 (as compiled by sage)

```
0>> int(max(sin(x),cos(x)), x, 0, 1)
Warning, integration of abs or sign assumes constant sign by intervals (correct if the argument is real):
Check [abs(sin(x)-cos(x))]
Discontinuities at zeroes of sin(x)-cos(x) were not checked
sqrt(2)-cos(1)
// Time 0.11

```
- giac 1.7.0 (void linux)

```
0>> int(max(sin(x),cos(x)), x, 0, 1)
Piecewise definite integration: can only handle linear < or > condition
0.873911256505
// Time 0.01
```

Note that sympy_integrator is able to correctly evaluate this integral, but the order is maxima, then giac, then sympy.

```
sage: f = max_symbolic(sin(x), cos(x))
sage: sage.symbolic.integration.external.sympy_integrator(f, x, 0, 1)
sqrt(2) - cos(1)
```



---

archive/issue_comments_627491.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [tornaria](#comment%3A18):\n> The test failure above seems to be a regression in giac 1.7.0:\n\n\nYes, more precisely it's a regression in 1.7.0-29. Since their forum is a gated community, it would be nice if someone with an account could report it.",
    "created_at": "2021-11-26T07:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627491",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:19'></a>
Replying to [tornaria](#comment%3A18):
> The test failure above seems to be a regression in giac 1.7.0:


Yes, more precisely it's a regression in 1.7.0-29. Since their forum is a gated community, it would be nice if someone with an account could report it.



---

archive/issue_comments_627492.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis is a consequence of the fact that certified definite integration is hard. For this example [Xcas session](https://www-fourier.univ-grenoble-alpes.fr/%7eparisse/xcasen.html#exec&filename=session&python=0&radian=1&xcas=0,0,f%3A%3Dint(max(sin(x)%2Ccos(x))%2C%20x)&xcas=0,200,f(x%3D1)-f(x%3D0)&xcas=0,400,limit(f%2Cx%2Cpi%2F4%2C-1)-f(x%3D0)&xcas=400,0,f(x%3D1)-limit(f%2Cx%2Cpi%2F4%2C1)&)\nthere is only one point of discontinuity and it can easily be found by solving sin(x)=cos(x) on x=0..1, but for a large interval (say x=0..10000) or for a more complicated equation it's not the case. In order to make sure that I do not return a false answer, I have decided to return an exact answer only if I'm certain I did not miss a discontinuity in the antiderivative. It's certainly possible to improve, but not easy...",
    "created_at": "2021-11-26T08:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627492",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:20'></a>
This is a consequence of the fact that certified definite integration is hard. For this example [Xcas session](https://www-fourier.univ-grenoble-alpes.fr/%7eparisse/xcasen.html#exec&filename=session&python=0&radian=1&xcas=0,0,f%3A%3Dint(max(sin(x)%2Ccos(x))%2C%20x)&xcas=0,200,f(x%3D1)-f(x%3D0)&xcas=0,400,limit(f%2Cx%2Cpi%2F4%2C-1)-f(x%3D0)&xcas=400,0,f(x%3D1)-limit(f%2Cx%2Cpi%2F4%2C1)&)
there is only one point of discontinuity and it can easily be found by solving sin(x)=cos(x) on x=0..1, but for a large interval (say x=0..10000) or for a more complicated equation it's not the case. In order to make sure that I do not return a false answer, I have decided to return an exact answer only if I'm certain I did not miss a discontinuity in the antiderivative. It's certainly possible to improve, but not easy...



---

archive/issue_comments_627493.json:
```json
{
    "body": "<a id='comment:21'></a>\nOTOH, this still works on 1.7.0-39\n\n```\n0>> int((sin(x)+cos(x)+abs(cos(x)-sin(x)))/2, x, 0, 1)\nWarning, integration of abs or sign assumes constant sign by intervals (correct if the argument is real):\nCheck [abs(cos(x)-sin(x))]\nDiscontinuities at zeroes of cos(x)-sin(x) were not checked\nsqrt(2)-cos(1)\n// Time 0.14\n```",
    "created_at": "2021-11-26T14:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627493",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:21'></a>
OTOH, this still works on 1.7.0-39

```
0>> int((sin(x)+cos(x)+abs(cos(x)-sin(x)))/2, x, 0, 1)
Warning, integration of abs or sign assumes constant sign by intervals (correct if the argument is real):
Check [abs(cos(x)-sin(x))]
Discontinuities at zeroes of cos(x)-sin(x) were not checked
sqrt(2)-cos(1)
// Time 0.14
```



---

archive/issue_comments_627494.json:
```json
{
    "body": "<a id='comment:22'></a>\nNote that the warnings get through into sage\n\n```\nsage: integral((cos(x)+sin(x)+abs(cos(x)-sin(x)))/2, x, 0, 1)\nWarning, integration of abs or sign assumes constant sign by intervals (correct if the argument is real):\nCheck [abs(cos(sageVARx)-sin(sageVARx))]\nDiscontinuities at zeroes of cos(sageVARx)-sin(sageVARx) were not checked\nsqrt(2) - cos(1)\n```\nWould it be possible to integrate max(A,B) with a similar warning?",
    "created_at": "2021-11-26T14:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627494",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:22'></a>
Note that the warnings get through into sage

```
sage: integral((cos(x)+sin(x)+abs(cos(x)-sin(x)))/2, x, 0, 1)
Warning, integration of abs or sign assumes constant sign by intervals (correct if the argument is real):
Check [abs(cos(sageVARx)-sin(sageVARx))]
Discontinuities at zeroes of cos(sageVARx)-sin(sageVARx) were not checked
sqrt(2) - cos(1)
```
Would it be possible to integrate max(A,B) with a similar warning?



---

archive/issue_comments_627495.json:
```json
{
    "body": "<a id='comment:23'></a>\nBTW, did you notice that sage is reading giac output with less than 53-bit precision? We are getting 0.873911256505000 instead of 0.873911256504955, not because giac answer is incorrect but because its output is rounded to 0.873911256505 (which is correct rounding but less than 53-bit).\n\nIs there a simple way to setup giac with more output precision so that sage gets the right answer correctly rounded?",
    "created_at": "2021-11-26T14:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627495",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:23'></a>
BTW, did you notice that sage is reading giac output with less than 53-bit precision? We are getting 0.873911256505000 instead of 0.873911256504955, not because giac answer is incorrect but because its output is rounded to 0.873911256505 (which is correct rounding but less than 53-bit).

Is there a simple way to setup giac with more output precision so that sage gets the right answer correctly rounded?



---

archive/issue_comments_627496.json:
```json
{
    "body": "<a id='comment:24'></a>\nmax is translated internally to piecewise, it does not use the formula with max, and the checks differ.\nIf you run Digits:=14, you will get 14 digits printed. You can not get 53 bits of mantissa without multiprecision floats in giac, because the generic type of giac stores double in 8 bytes, and 5 bits are used to store the type -> the mantissa is rounded to 0 with 48 bits precision.",
    "created_at": "2021-11-26T19:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627496",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:24'></a>
max is translated internally to piecewise, it does not use the formula with max, and the checks differ.
If you run Digits:=14, you will get 14 digits printed. You can not get 53 bits of mantissa without multiprecision floats in giac, because the generic type of giac stores double in 8 bytes, and 5 bits are used to store the type -> the mantissa is rounded to 0 with 48 bits precision.



---

archive/issue_comments_627497.json:
```json
{
    "body": "<a id='comment:25'></a>\nSince there doesn't seem to be a fix available, I'm patching out the two failing doctests as follows:\n\n```\n--- a/src/sage/functions/min_max.py\n+++ b/src/sage/functions/min_max.py\n@@ -233,9 +233,9 @@ class MaxSymbolic(MinMax_base):\n             sage: f = max_symbolic(sin(x), cos(x))\n             sage: r = integral(f, x, 0, 1)\n             ...\n-            sage: r\n+            sage: r             # not tested -- broken with giac 1.7.0\n             sqrt(2) - cos(1)\n-            sage: r.n()\n+            sage: r.n()         # not tested -- broken with giac 1.7.0\n             0.873911256504955\n         \"\"\"\n         return max_symbolic(args)\n```\nI don't know if this is acceptable for including it in sagemath, but I can't downgrade giac and I rather skip this failing doctests. Is there a way to label a doctest as \"expected fail\" instead of \"not tested\" ?",
    "created_at": "2021-12-13T17:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627497",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:25'></a>
Since there doesn't seem to be a fix available, I'm patching out the two failing doctests as follows:

```
--- a/src/sage/functions/min_max.py
+++ b/src/sage/functions/min_max.py
@@ -233,9 +233,9 @@ class MaxSymbolic(MinMax_base):
             sage: f = max_symbolic(sin(x), cos(x))
             sage: r = integral(f, x, 0, 1)
             ...
-            sage: r
+            sage: r             # not tested -- broken with giac 1.7.0
             sqrt(2) - cos(1)
-            sage: r.n()
+            sage: r.n()         # not tested -- broken with giac 1.7.0
             0.873911256504955
         """
         return max_symbolic(args)
```
I don't know if this is acceptable for including it in sagemath, but I can't downgrade giac and I rather skip this failing doctests. Is there a way to label a doctest as "expected fail" instead of "not tested" ?



---

archive/issue_comments_627498.json:
```json
{
    "body": "<a id='comment:26'></a>\nIronically, I think this test was added to showcase the fact that, given a difficult integral, sage would iterate through its available backends until it got an answer it liked. It seems now that giac is evolving towards the status quo, and refusing to give a possibly-incorrect exact answer.\n\nWe should still test the fallback behavior somehow, but these integrals have given us headaches for decades. I think we should stop promising to integrate them exactly, i.e. change/delete the tests.",
    "created_at": "2021-12-13T18:06:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627498",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:26'></a>
Ironically, I think this test was added to showcase the fact that, given a difficult integral, sage would iterate through its available backends until it got an answer it liked. It seems now that giac is evolving towards the status quo, and refusing to give a possibly-incorrect exact answer.

We should still test the fallback behavior somehow, but these integrals have given us headaches for decades. I think we should stop promising to integrate them exactly, i.e. change/delete the tests.



---

archive/issue_events_082972.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31563#event-82972"
}
```



---

archive/issue_events_082973.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31563#event-82973"
}
```



---

archive/issue_comments_627499.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2022-02-01T00:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627499",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_627500.json:
```json
{
    "body": "Changing commit from \"4df014a66c7c6c0dea73a10fbb2ac18369e1ada3\" to \"30df1ced0e3abce86c00933916c74bc582d357a6\"",
    "created_at": "2022-02-01T07:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4df014a66c7c6c0dea73a10fbb2ac18369e1ada3" to "30df1ced0e3abce86c00933916c74bc582d357a6"



---

archive/issue_comments_627501.json:
```json
{
    "body": "<a id='comment:29'></a>\nAttachment [giac-1.7.0.47p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.7.0.47p0.tar.bz2) by git created at 2022-02-01 07:37:35\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|\n|[88a0c41](https://git.sagemath.org/sage.git/commit/?id=88a0c41f1d9f48768ab1ab5c45fbb143c6cb4981)|`build/pkgs/giac/patches/autotools/0001-configure.ac-Do-not-link-to-libintl-if-USE_NLS-is-no.patch: Remove, not needed for giac 1.7`|\n|[ffdb161](https://git.sagemath.org/sage.git/commit/?id=ffdb161952593d526a2af93107811c091b7cfc60)|`build/pkgs/giac: Update to 1.7.0.25`|\n|[debe803](https://git.sagemath.org/sage.git/commit/?id=debe8032ed883c4785b629d8688a1c4a06d4c3ac)|`build/pkgs/giac/checksums.ini: Update upstream_url`|\n|[30df1ce](https://git.sagemath.org/sage.git/commit/?id=30df1ced0e3abce86c00933916c74bc582d357a6)|`build/pkgs/giac: Update to 1.7.0.47`|",
    "created_at": "2022-02-01T07:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627501",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
Attachment [giac-1.7.0.47p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.7.0.47p0.tar.bz2) by git created at 2022-02-01 07:37:35

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|
|[88a0c41](https://git.sagemath.org/sage.git/commit/?id=88a0c41f1d9f48768ab1ab5c45fbb143c6cb4981)|`build/pkgs/giac/patches/autotools/0001-configure.ac-Do-not-link-to-libintl-if-USE_NLS-is-no.patch: Remove, not needed for giac 1.7`|
|[ffdb161](https://git.sagemath.org/sage.git/commit/?id=ffdb161952593d526a2af93107811c091b7cfc60)|`build/pkgs/giac: Update to 1.7.0.25`|
|[debe803](https://git.sagemath.org/sage.git/commit/?id=debe8032ed883c4785b629d8688a1c4a06d4c3ac)|`build/pkgs/giac/checksums.ini: Update upstream_url`|
|[30df1ce](https://git.sagemath.org/sage.git/commit/?id=30df1ced0e3abce86c00933916c74bc582d357a6)|`build/pkgs/giac: Update to 1.7.0.47`|



---

archive/issue_comments_627502.json:
```json
{
    "body": "<a id='comment:31'></a>\nRan `spkg-src` for the latest upstream. Patches still need work (anyone?)",
    "created_at": "2022-02-01T07:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627502",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
Ran `spkg-src` for the latest upstream. Patches still need work (anyone?)



---

archive/issue_comments_627503.json:
```json
{
    "body": "Changing commit from \"30df1ced0e3abce86c00933916c74bc582d357a6\" to \"a701a79aae25f778382b21115ad20c269ba3fe4c\"",
    "created_at": "2022-02-01T07:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627503",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "30df1ced0e3abce86c00933916c74bc582d357a6" to "a701a79aae25f778382b21115ad20c269ba3fe4c"



---

archive/issue_comments_627504.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[a701a79](https://git.sagemath.org/sage.git/commit/?id=a701a79aae25f778382b21115ad20c269ba3fe4c)|`build/pkgs/giac/patches/macos-ifactor.patch: Update`|",
    "created_at": "2022-02-01T07:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627504",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[a701a79](https://git.sagemath.org/sage.git/commit/?id=a701a79aae25f778382b21115ad20c269ba3fe4c)|`build/pkgs/giac/patches/macos-ifactor.patch: Update`|



---

archive/issue_comments_627505.json:
```json
{
    "body": "<a id='comment:33'></a>\nOK, now all patches apply. Haven't checked anything else",
    "created_at": "2022-02-01T07:55:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627505",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
OK, now all patches apply. Haven't checked anything else



---

archive/issue_comments_627506.json:
```json
{
    "body": "<a id='comment:34'></a>\n\n```\n[giac-1.7.0.47p0] quickjs.c:11282:9: error: implicit declaration of function 'fesetround' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n[giac-1.7.0.47p0]         fesetround(rounding_mode);\n```",
    "created_at": "2022-02-01T07:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627506",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>

```
[giac-1.7.0.47p0] quickjs.c:11282:9: error: implicit declaration of function 'fesetround' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
[giac-1.7.0.47p0]         fesetround(rounding_mode);
```



---

archive/issue_comments_627507.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [mkoeppe](#comment%3A34):\n> {{{\n> [giac-1.7.0.47p0] quickjs.c:11282:9: error: implicit declaration of function 'fesetround' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n> [giac-1.7.0.47p0]         fesetround(rounding_mode);\n> }}}\n\n\nWho is setting `-Werror`? It's not coming from upstream as far as I can see.",
    "created_at": "2022-02-01T08:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627507",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:35'></a>
Replying to [mkoeppe](#comment%3A34):
> {{{
> [giac-1.7.0.47p0] quickjs.c:11282:9: error: implicit declaration of function 'fesetround' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
> [giac-1.7.0.47p0]         fesetround(rounding_mode);
> }}}


Who is setting `-Werror`? It's not coming from upstream as far as I can see.



---

archive/issue_comments_627508.json:
```json
{
    "body": "<a id='comment:36'></a>\nThere's no `-Werror`. The full command line is `/bin/bash ../libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I..  -DIN_GIAC -I. -I.. -I. -I..     -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include   -g -O2 -g -O2 -D_GNU_SOURCE -DQUICKJS -DCONFIG_BIGNUM -DCONFIG_VERSION=\\\"2020-11-08\\\" -c -o quickjs.lo quickjs.c`\n\nand what's happening here is that the file `fenv.h` in the same directory shadows the system-provided header file",
    "created_at": "2022-02-01T08:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627508",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
There's no `-Werror`. The full command line is `/bin/bash ../libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I..  -DIN_GIAC -I. -I.. -I. -I..     -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include   -g -O2 -g -O2 -D_GNU_SOURCE -DQUICKJS -DCONFIG_BIGNUM -DCONFIG_VERSION=\"2020-11-08\" -c -o quickjs.lo quickjs.c`

and what's happening here is that the file `fenv.h` in the same directory shadows the system-provided header file



---

archive/issue_comments_627509.json:
```json
{
    "body": "<a id='comment:37'></a>\n\n```\n$ gcc -E -DHAVE_CONFIG_H -I. -I..  -DIN_GIAC -I. -I.. -I. -I..     -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include   -g -O2 -g -O2 -D_GNU_SOURCE -DQUICKJS -DCONFIG_BIGNUM -DCONFIG_VERSION=\\\"2020-11-08\\\" -Wp,-v - < /dev/null\nclang -cc1 version 13.0.0 (clang-1300.0.29.30) default target x86_64-apple-darwin20.6.0\nignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/local/include\"\nignoring nonexistent directory \"/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/Library/Frameworks\"\nignoring duplicate directory \".\"\nignoring duplicate directory \"..\"\nignoring duplicate directory \".\"\nignoring duplicate directory \"..\"\nignoring duplicate directory \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include\"\nignoring duplicate directory \"/usr/local/include\"\n#include \"...\" search starts here:\n#include <...> search starts here:\n .\n ..\n /Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include\n /usr/local/opt/primesieve/include\n /usr/local/opt/bdw-gc/include\n /usr/local/opt/libpng/include\n /usr/local/opt/polymake/include\n /usr/local/opt/ntl/include\n /usr/local/opt/bzip2/include\n /usr/local/opt/readline/include\n /usr/local/include\n /Library/Developer/CommandLineTools/usr/lib/clang/13.0.0/include\n /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include\n /Library/Developer/CommandLineTools/usr/include\n /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks (framework directory)\nEnd of search list.\n# 1 \"<stdin>\"\n# 1 \"<built-in>\" 1\n# 1 \"<built-in>\" 3\n# 368 \"<built-in>\" 3\n# 1 \"<command line>\" 1\n# 1 \"<built-in>\" 2\n# 1 \"<stdin>\" 2\n```",
    "created_at": "2022-02-01T08:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627509",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>

```
$ gcc -E -DHAVE_CONFIG_H -I. -I..  -DIN_GIAC -I. -I.. -I. -I..     -I/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include   -g -O2 -g -O2 -D_GNU_SOURCE -DQUICKJS -DCONFIG_BIGNUM -DCONFIG_VERSION=\"2020-11-08\" -Wp,-v - < /dev/null
clang -cc1 version 13.0.0 (clang-1300.0.29.30) default target x86_64-apple-darwin20.6.0
ignoring nonexistent directory "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/local/include"
ignoring nonexistent directory "/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/Library/Frameworks"
ignoring duplicate directory "."
ignoring duplicate directory ".."
ignoring duplicate directory "."
ignoring duplicate directory ".."
ignoring duplicate directory "/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include"
ignoring duplicate directory "/usr/local/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 ..
 /Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/include
 /usr/local/opt/primesieve/include
 /usr/local/opt/bdw-gc/include
 /usr/local/opt/libpng/include
 /usr/local/opt/polymake/include
 /usr/local/opt/ntl/include
 /usr/local/opt/bzip2/include
 /usr/local/opt/readline/include
 /usr/local/include
 /Library/Developer/CommandLineTools/usr/lib/clang/13.0.0/include
 /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include
 /Library/Developer/CommandLineTools/usr/include
 /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks (framework directory)
End of search list.
# 1 "<stdin>"
# 1 "<built-in>" 1
# 1 "<built-in>" 3
# 368 "<built-in>" 3
# 1 "<command line>" 1
# 1 "<built-in>" 2
# 1 "<stdin>" 2
```



---

archive/issue_comments_627510.json:
```json
{
    "body": "<a id='comment:38'></a>\nWe may have discussed this before - do we need this quickjs stuff for Sage or should we use `configure --disable-quickjs`?",
    "created_at": "2022-02-01T08:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627510",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>
We may have discussed this before - do we need this quickjs stuff for Sage or should we use `configure --disable-quickjs`?



---

archive/issue_comments_627511.json:
```json
{
    "body": "<a id='comment:39'></a>\nI am fairly sure we don't need it https://bellard.org/quickjs/. That being said, I missed a few versions, I don't remember a disable switch.",
    "created_at": "2022-02-01T08:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627511",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:39'></a>
I am fairly sure we don't need it https://bellard.org/quickjs/. That being said, I missed a few versions, I don't remember a disable switch.



---

archive/issue_comments_627512.json:
```json
{
    "body": "Changing commit from \"a701a79aae25f778382b21115ad20c269ba3fe4c\" to \"991b383e165a9e8dd9226eeea37f2d64f2330f19\"",
    "created_at": "2022-02-01T08:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627512",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a701a79aae25f778382b21115ad20c269ba3fe4c" to "991b383e165a9e8dd9226eeea37f2d64f2330f19"



---

archive/issue_comments_627513.json:
```json
{
    "body": "<a id='comment:40'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[991b383](https://git.sagemath.org/sage.git/commit/?id=991b383e165a9e8dd9226eeea37f2d64f2330f19)|`build/pkgs/giac/spkg-install.in: Use configure --disable-quickjs`|",
    "created_at": "2022-02-01T08:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627513",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[991b383](https://git.sagemath.org/sage.git/commit/?id=991b383e165a9e8dd9226eeea37f2d64f2330f19)|`build/pkgs/giac/spkg-install.in: Use configure --disable-quickjs`|



---

archive/issue_comments_627514.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-01T08:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627514",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_627515.json:
```json
{
    "body": "<a id='comment:41'></a>\nOK, this builds here on macOS.",
    "created_at": "2022-02-01T08:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627515",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
OK, this builds here on macOS.



---

archive/issue_comments_627516.json:
```json
{
    "body": "Changing dependencies from \"#32449\" to \"\"",
    "created_at": "2022-02-01T08:46:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627516",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#32449" to ""



---

archive/issue_comments_627517.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-02-01T08:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627517",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_627518.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-01T08:57:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627518",
    "user": "https://github.com/antonio-rojas"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_627519.json:
```json
{
    "body": "<a id='comment:44'></a>\nThe failure in[comment:18](#comment%3A18) still needs to be addressed",
    "created_at": "2022-02-01T08:57:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627519",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:44'></a>
The failure in[comment:18](#comment%3A18) still needs to be addressed



---

archive/issue_comments_627520.json:
```json
{
    "body": "Changing reviewer from \"\" to \"https://github.com/mkoeppe/sage/actions/runs/1777286660, https://github.com/mkoeppe/sage/actions/runs/1777286661\"",
    "created_at": "2022-02-01T08:59:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627520",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "https://github.com/mkoeppe/sage/actions/runs/1777286660, https://github.com/mkoeppe/sage/actions/runs/1777286661"



---

archive/issue_comments_627521.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [arojas](#comment%3A44):\n> The failure in[comment:18](#comment%3A18) still needs to be addressed\n\n\nDoes it affect also system installations of giac 1.7.x?",
    "created_at": "2022-02-01T08:59:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627521",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
Replying to [arojas](#comment%3A44):
> The failure in[comment:18](#comment%3A18) still needs to be addressed


Does it affect also system installations of giac 1.7.x?



---

archive/issue_comments_627522.json:
```json
{
    "body": "Changing author from \"Matthias Koeppe\" to \"Matthias Koeppe, ...\"",
    "created_at": "2022-02-01T09:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627522",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Matthias Koeppe" to "Matthias Koeppe, ..."



---

archive/issue_comments_627523.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [mkoeppe](#comment%3A46):\n> Replying to [arojas](#comment%3A44):\n> > The failure in[comment:18](#comment%3A18) still needs to be addressed\n\n> \n> Does it affect also system installations of giac 1.7.x?\n\n\nYes, it's a (intentional) regression in giac itself, see[comment:20](#comment%3A20)",
    "created_at": "2022-02-01T09:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627523",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:48'></a>
Replying to [mkoeppe](#comment%3A46):
> Replying to [arojas](#comment%3A44):
> > The failure in[comment:18](#comment%3A18) still needs to be addressed

> 
> Does it affect also system installations of giac 1.7.x?


Yes, it's a (intentional) regression in giac itself, see[comment:20](#comment%3A20)



---

archive/issue_comments_627524.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#33226\"",
    "created_at": "2022-02-01T12:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627524",
    "user": "https://github.com/antonio-rojas"
}
```

Changing dependencies from "" to "#33226"



---

archive/issue_comments_627525.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-01T12:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627525",
    "user": "https://github.com/antonio-rojas"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_627526.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [arojas](#comment%3A44):\n> The failure in[comment:18](#comment%3A18) still needs to be addressed\n\n\nIt's done in #33226 apparently",
    "created_at": "2022-02-01T12:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627526",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:49'></a>
Replying to [arojas](#comment%3A44):
> The failure in[comment:18](#comment%3A18) still needs to be addressed


It's done in #33226 apparently



---

archive/issue_comments_627527.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [arojas](#comment%3A49):\n> Replying to [arojas](#comment%3A44):\n> > The failure in[comment:18](#comment%3A18) still needs to be addressed\n\n> \n> It's done in #33226 apparently\n\n\nI don't know why we were testing that result anyway. It's in the docstring of an `_evalf_` method. What we really want is the numerical answer.",
    "created_at": "2022-02-01T13:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627527",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:50'></a>
Replying to [arojas](#comment%3A49):
> Replying to [arojas](#comment%3A44):
> > The failure in[comment:18](#comment%3A18) still needs to be addressed

> 
> It's done in #33226 apparently


I don't know why we were testing that result anyway. It's in the docstring of an `_evalf_` method. What we really want is the numerical answer.



---

archive/issue_comments_627528.json:
```json
{
    "body": "Changing author from \"Matthias Koeppe, ...\" to \"Matthias Koeppe\"",
    "created_at": "2022-02-01T16:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627528",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Matthias Koeppe, ..." to "Matthias Koeppe"



---

archive/issue_comments_627529.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/1777286660, https://github.com/mkoeppe/sage/actions/runs/1777286661\" to \"https://github.com/mkoeppe/sage/actions/runs/1779328737, https://github.com/mkoeppe/sage/actions/runs/1779328743\"",
    "created_at": "2022-02-01T16:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627529",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/1777286660, https://github.com/mkoeppe/sage/actions/runs/1777286661" to "https://github.com/mkoeppe/sage/actions/runs/1779328737, https://github.com/mkoeppe/sage/actions/runs/1779328743"



---

archive/issue_comments_627530.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/1779328737, https://github.com/mkoeppe/sage/actions/runs/1779328743\" to \"https://github.com/mkoeppe/sage/actions/runs/1780912483, https://github.com/mkoeppe/sage/actions/runs/1780912484\"",
    "created_at": "2022-02-02T00:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627530",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/1779328737, https://github.com/mkoeppe/sage/actions/runs/1779328743" to "https://github.com/mkoeppe/sage/actions/runs/1780912483, https://github.com/mkoeppe/sage/actions/runs/1780912484"



---

archive/issue_comments_627531.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-02T06:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627531",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_627532.json:
```json
{
    "body": "<a id='comment:54'></a>\nFails on Cygwin - https://github.com/mkoeppe/sage/runs/5031119487?check_suite_focus=true",
    "created_at": "2022-02-02T06:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627532",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>
Fails on Cygwin - https://github.com/mkoeppe/sage/runs/5031119487?check_suite_focus=true



---

archive/issue_comments_627533.json:
```json
{
    "body": "<a id='comment:55'></a>\n\n```\n/usr/bin/bash ../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -g -O2 -g -O2 -fno-strict-aliasing -DGIAC_GENERIC_CONSTANTS -DTIMEOUT -no-undefined -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -Wl,-rpath,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -Wl,-rpath,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib  -o libgiac.la -rpath /opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib input_lexer.lo sym2poly.lo gausspol.lo threaded.lo moyal.lo maple.lo ti89.lo mathml.lo misc.lo permu.lo quater.lo desolve.lo input_parser.lo symbolic.lo index.lo modpoly.lo modfactor.lo ezgcd.lo derive.lo solve.lo intg.lo intgab.lo risch.lo lin.lo series.lo subst.lo vecteur.lo sparse.lo csturm.lo tex.lo global.lo ifactor.lo alg_ext.lo gauss.lo isom.lo plot.lo plot3d.lo rpn.lo prog.lo pari.lo cocoa.lo unary.lo usual.lo identificateur.lo gen.lo tinymt32.lo first.lo TmpLESystemSolver.lo TmpFGLM.lo help.lo lpsolve.lo optimization.lo signalprocessing.lo graphe.lo graphtheory.lo nautywrapper.lo markup.lo kdisplay.lo kadd.lo caseval.lo cutils.lo graphic.lo libbf.lo libregexp.lo libunicode.lo qjsgiac.lo quickjs.lo quickjs-libc.lo js.lo -lntl  -lpari -lgsl -lopenblas -lm  -lopenblas  -lopenblas  -lrt -lpthread -lcurl -lglpk -ldl -lm -lmpfi -lmpfr -lgmp \nlibtool: link: g++ -std=gnu++11 -shared -nostdlib /usr/lib/gcc/x86_64-pc-cygwin/11/crtbeginS.o  .libs/input_lexer.o .libs/sym2poly.o .libs/gausspol.o .libs/threaded.o .libs/moyal.o .libs/maple.o .libs/ti89.o .libs/mathml.o .libs/misc.o .libs/permu.o .libs/quater.o .libs/desolve.o .libs/input_parser.o .libs/symbolic.o .libs/index.o .libs/modpoly.o .libs/modfactor.o .libs/ezgcd.o .libs/derive.o .libs/solve.o .libs/intg.o .libs/intgab.o .libs/risch.o .libs/lin.o .libs/series.o .libs/subst.o .libs/vecteur.o .libs/sparse.o .libs/csturm.o .libs/tex.o .libs/global.o .libs/ifactor.o .libs/alg_ext.o .libs/gauss.o .libs/isom.o .libs/plot.o .libs/plot3d.o .libs/rpn.o .libs/prog.o .libs/pari.o .libs/cocoa.o .libs/unary.o .libs/usual.o .libs/identificateur.o .libs/gen.o .libs/tinymt32.o .libs/first.o .libs/TmpLESystemSolver.o .libs/TmpFGLM.o .libs/help.o .libs/lpsolve.o .libs/optimization.o .libs/signalprocessing.o .libs/graphe.o .libs/graphtheory.o .libs/nautywrapper.o .libs/markup.o .libs/kdisplay.o .libs/kadd.o .libs/caseval.o .libs/cutils.o .libs/graphic.o .libs/libbf.o .libs/libregexp.o .libs/libunicode.o .libs/qjsgiac.o .libs/quickjs.o .libs/quickjs-libc.o .libs/js.o   -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -lntl -lpari -lgsl -lopenblas -lrt -lpthread -lcurl -lglpk -ldl -lmpfi -lmpfr -lgmp -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/11 -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../lib -L/lib/../lib -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/lib -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../.. -lstdc++ -lgcc_s -lgcc -lcygwin -ladvapi32 -lshell32 -luser32 -lkernel32 -lgcc_s -lgcc /usr/lib/gcc/x86_64-pc-cygwin/11/crtend.o  -g -O2 -g -O2 -Wl,-rpath -Wl,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -Wl,-rpath -Wl,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib   -o .libs/cyggiac-0.dll -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker .libs/libgiac.dll.a\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:215: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:236: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:2163: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o: in function `giac::r2sym(giac::gen const&, giac::index_m const&, giac::dbgprint_vector<giac::gen> const&, giac::context const*)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:2009: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:194: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:199: more undefined references to `libintl_gettext' follow\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::init_geogebra(bool, giac::context const*)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:6823: undefined reference to `libintl_setlocale'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::gen::gen(void*, short)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.h:597: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::thread_eval(giac::gen const&, int, giac::context*, void (*)(giac::context*))':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5620: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5642: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::gen::gen(void*, short)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.h:597: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::check_thread(giac::context*)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5534: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5550: more undefined references to `libintl_gettext' follow\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::chartab2gen(char*, giac::context const*)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:12084: undefined reference to `libintl_setlocale'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:12085: undefined reference to `libintl_setlocale'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:12087: undefined reference to `libintl_setlocale'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::irem(giac::gen const&, giac::gen const&, giac::gen&)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:11245: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::operator_plus(giac::gen const&, giac::gen const&, unsigned int, giac::context const*)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4727: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4579: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4479: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::operator_plus(giac::gen const&, giac::gen const&, unsigned int, giac::context const*)':\n/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4761: undefined reference to `libintl_gettext'\n/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4707: more undefined references to `libintl_gettext' follow\ncollect2: error: ld returned 1 exit status\n```",
    "created_at": "2022-02-02T06:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627533",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>

```
/usr/bin/bash ../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -g -O2 -g -O2 -fno-strict-aliasing -DGIAC_GENERIC_CONSTANTS -DTIMEOUT -no-undefined -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -Wl,-rpath,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -Wl,-rpath,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib  -o libgiac.la -rpath /opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib input_lexer.lo sym2poly.lo gausspol.lo threaded.lo moyal.lo maple.lo ti89.lo mathml.lo misc.lo permu.lo quater.lo desolve.lo input_parser.lo symbolic.lo index.lo modpoly.lo modfactor.lo ezgcd.lo derive.lo solve.lo intg.lo intgab.lo risch.lo lin.lo series.lo subst.lo vecteur.lo sparse.lo csturm.lo tex.lo global.lo ifactor.lo alg_ext.lo gauss.lo isom.lo plot.lo plot3d.lo rpn.lo prog.lo pari.lo cocoa.lo unary.lo usual.lo identificateur.lo gen.lo tinymt32.lo first.lo TmpLESystemSolver.lo TmpFGLM.lo help.lo lpsolve.lo optimization.lo signalprocessing.lo graphe.lo graphtheory.lo nautywrapper.lo markup.lo kdisplay.lo kadd.lo caseval.lo cutils.lo graphic.lo libbf.lo libregexp.lo libunicode.lo qjsgiac.lo quickjs.lo quickjs-libc.lo js.lo -lntl  -lpari -lgsl -lopenblas -lm  -lopenblas  -lopenblas  -lrt -lpthread -lcurl -lglpk -ldl -lm -lmpfi -lmpfr -lgmp 
libtool: link: g++ -std=gnu++11 -shared -nostdlib /usr/lib/gcc/x86_64-pc-cygwin/11/crtbeginS.o  .libs/input_lexer.o .libs/sym2poly.o .libs/gausspol.o .libs/threaded.o .libs/moyal.o .libs/maple.o .libs/ti89.o .libs/mathml.o .libs/misc.o .libs/permu.o .libs/quater.o .libs/desolve.o .libs/input_parser.o .libs/symbolic.o .libs/index.o .libs/modpoly.o .libs/modfactor.o .libs/ezgcd.o .libs/derive.o .libs/solve.o .libs/intg.o .libs/intgab.o .libs/risch.o .libs/lin.o .libs/series.o .libs/subst.o .libs/vecteur.o .libs/sparse.o .libs/csturm.o .libs/tex.o .libs/global.o .libs/ifactor.o .libs/alg_ext.o .libs/gauss.o .libs/isom.o .libs/plot.o .libs/plot3d.o .libs/rpn.o .libs/prog.o .libs/pari.o .libs/cocoa.o .libs/unary.o .libs/usual.o .libs/identificateur.o .libs/gen.o .libs/tinymt32.o .libs/first.o .libs/TmpLESystemSolver.o .libs/TmpFGLM.o .libs/help.o .libs/lpsolve.o .libs/optimization.o .libs/signalprocessing.o .libs/graphe.o .libs/graphtheory.o .libs/nautywrapper.o .libs/markup.o .libs/kdisplay.o .libs/kadd.o .libs/caseval.o .libs/cutils.o .libs/graphic.o .libs/libbf.o .libs/libregexp.o .libs/libunicode.o .libs/qjsgiac.o .libs/quickjs.o .libs/quickjs-libc.o .libs/js.o   -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -lntl -lpari -lgsl -lopenblas -lrt -lpthread -lcurl -lglpk -ldl -lmpfi -lmpfr -lgmp -L/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/11 -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../lib -L/lib/../lib -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/lib -L/usr/lib/gcc/x86_64-pc-cygwin/11/../../.. -lstdc++ -lgcc_s -lgcc -lcygwin -ladvapi32 -lshell32 -luser32 -lkernel32 -lgcc_s -lgcc /usr/lib/gcc/x86_64-pc-cygwin/11/crtend.o  -g -O2 -g -O2 -Wl,-rpath -Wl,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib -Wl,-rpath -Wl,/opt/sage-628803ef0f0817c0876342b66da54660ce208124/lib   -o .libs/cyggiac-0.dll -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker .libs/libgiac.dll.a
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:215: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:236: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:2163: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o: in function `giac::r2sym(giac::gen const&, giac::index_m const&, giac::dbgprint_vector<giac::gen> const&, giac::context const*)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:2009: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:194: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/sym2poly.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/sym2poly.cc:199: more undefined references to `libintl_gettext' follow
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::init_geogebra(bool, giac::context const*)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:6823: undefined reference to `libintl_setlocale'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::gen::gen(void*, short)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.h:597: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::thread_eval(giac::gen const&, int, giac::context*, void (*)(giac::context*))':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5620: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5642: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::gen::gen(void*, short)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.h:597: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o: in function `giac::check_thread(giac::context*)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5534: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/global.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/global.cc:5550: more undefined references to `libintl_gettext' follow
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::chartab2gen(char*, giac::context const*)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:12084: undefined reference to `libintl_setlocale'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:12085: undefined reference to `libintl_setlocale'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:12087: undefined reference to `libintl_setlocale'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::irem(giac::gen const&, giac::gen const&, giac::gen&)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:11245: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::operator_plus(giac::gen const&, giac::gen const&, unsigned int, giac::context const*)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4727: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4579: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4479: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o: in function `giac::operator_plus(giac::gen const&, giac::gen const&, unsigned int, giac::context const*)':
/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4761: undefined reference to `libintl_gettext'
/usr/lib/gcc/x86_64-pc-cygwin/11/../../../../x86_64-pc-cygwin/bin/ld: .libs/gen.o:/opt/sage-628803ef0f0817c0876342b66da54660ce208124/var/tmp/sage/build/giac-1.7.0.47p0/src/src/gen.cc:4707: more undefined references to `libintl_gettext' follow
collect2: error: ld returned 1 exit status
```



---

archive/issue_comments_627534.json:
```json
{
    "body": "<a id='comment:56'></a>\n`@`parisse Is there a public repository for giac? The link to the geogebra SVN in https://www-fourier.ujf-grenoble.fr/~parisse/giac_compile.html is broken.",
    "created_at": "2022-02-02T17:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627534",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
`@`parisse Is there a public repository for giac? The link to the geogebra SVN in https://www-fourier.ujf-grenoble.fr/~parisse/giac_compile.html is broken.



---

archive/issue_comments_627535.json:
```json
{
    "body": "<a id='comment:57'></a>\nhttps://dev.geogebra.org/svn/trunk/geogebra/giac/src/giac/",
    "created_at": "2022-02-02T19:23:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627535",
    "user": "https://github.com/slel"
}
```

<a id='comment:57'></a>
https://dev.geogebra.org/svn/trunk/geogebra/giac/src/giac/



---

archive/issue_comments_627536.json:
```json
{
    "body": "<a id='comment:58'></a>\nThis repo does not seem to have all of giac, in particular the autotools build system (configure.ac, ...)",
    "created_at": "2022-02-02T20:04:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627536",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>
This repo does not seem to have all of giac, in particular the autotools build system (configure.ac, ...)



---

archive/issue_comments_627537.json:
```json
{
    "body": "<a id='comment:59'></a>\nGeoGebra moved to Git:\n\n- https://github.com/geogebra/giac/",
    "created_at": "2022-02-04T12:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627537",
    "user": "https://github.com/slel"
}
```

<a id='comment:59'></a>
GeoGebra moved to Git:

- https://github.com/geogebra/giac/



---

archive/issue_events_082974.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31563#event-82974"
}
```



---

archive/issue_events_082975.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31563#event-82975"
}
```



---

archive/issue_comments_627538.json:
```json
{
    "body": "Changing commit from \"991b383e165a9e8dd9226eeea37f2d64f2330f19\" to \"0a4dab2ed895b2efc3136e3dc25fb03592f72b2b\"",
    "created_at": "2022-04-16T18:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627538",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "991b383e165a9e8dd9226eeea37f2d64f2330f19" to "0a4dab2ed895b2efc3136e3dc25fb03592f72b2b"



---

archive/issue_comments_627539.json:
```json
{
    "body": "<a id='comment:61'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|\n|[042b059](https://git.sagemath.org/sage.git/commit/?id=042b0591e63af38658c1d79190567008701c52e7)|`build/pkgs/giac/patches/autotools/0001-configure.ac-Do-not-link-to-libintl-if-USE_NLS-is-no.patch: Remove, not needed for giac 1.7`|\n|[c40e201](https://git.sagemath.org/sage.git/commit/?id=c40e201e6867b6a2b7f1b87fcfd6f297b886547a)|`build/pkgs/giac: Update to 1.7.0.25`|\n|[c7d898b](https://git.sagemath.org/sage.git/commit/?id=c7d898b459a26d6b780375372d80c5cc6424ae17)|`build/pkgs/giac/checksums.ini: Update upstream_url`|\n|[a67d6a4](https://git.sagemath.org/sage.git/commit/?id=a67d6a44e8ebfea4f071b464057dc775ce1500c5)|`build/pkgs/giac: Update to 1.7.0.47`|\n|[839ce7c](https://git.sagemath.org/sage.git/commit/?id=839ce7cde80bd0174427bb3ac58c802cf0b54965)|`build/pkgs/giac/patches/macos-ifactor.patch: Update`|\n|[0a4dab2](https://git.sagemath.org/sage.git/commit/?id=0a4dab2ed895b2efc3136e3dc25fb03592f72b2b)|`build/pkgs/giac/spkg-install.in: Use configure --disable-quickjs`|",
    "created_at": "2022-04-16T18:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627539",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|
|[042b059](https://git.sagemath.org/sage.git/commit/?id=042b0591e63af38658c1d79190567008701c52e7)|`build/pkgs/giac/patches/autotools/0001-configure.ac-Do-not-link-to-libintl-if-USE_NLS-is-no.patch: Remove, not needed for giac 1.7`|
|[c40e201](https://git.sagemath.org/sage.git/commit/?id=c40e201e6867b6a2b7f1b87fcfd6f297b886547a)|`build/pkgs/giac: Update to 1.7.0.25`|
|[c7d898b](https://git.sagemath.org/sage.git/commit/?id=c7d898b459a26d6b780375372d80c5cc6424ae17)|`build/pkgs/giac/checksums.ini: Update upstream_url`|
|[a67d6a4](https://git.sagemath.org/sage.git/commit/?id=a67d6a44e8ebfea4f071b464057dc775ce1500c5)|`build/pkgs/giac: Update to 1.7.0.47`|
|[839ce7c](https://git.sagemath.org/sage.git/commit/?id=839ce7cde80bd0174427bb3ac58c802cf0b54965)|`build/pkgs/giac/patches/macos-ifactor.patch: Update`|
|[0a4dab2](https://git.sagemath.org/sage.git/commit/?id=0a4dab2ed895b2efc3136e3dc25fb03592f72b2b)|`build/pkgs/giac/spkg-install.in: Use configure --disable-quickjs`|



---

archive/issue_comments_627540.json:
```json
{
    "body": "Changing commit from \"0a4dab2ed895b2efc3136e3dc25fb03592f72b2b\" to \"11156a843e637fb5a15e983b29431538a8b04b6c\"",
    "created_at": "2022-04-16T20:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627540",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0a4dab2ed895b2efc3136e3dc25fb03592f72b2b" to "11156a843e637fb5a15e983b29431538a8b04b6c"



---

archive/issue_comments_627541.json:
```json
{
    "body": "<a id='comment:63'></a>\nAttachment [giac-1.9.0.5p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.9.0.5p0.tar.bz2) by git created at 2022-04-16 20:06:59\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[11156a8](https://git.sagemath.org/sage.git/commit/?id=11156a843e637fb5a15e983b29431538a8b04b6c)|`build/pkgs/giac: Update to 1.9.0-5`|",
    "created_at": "2022-04-16T20:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>
Attachment [giac-1.9.0.5p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.9.0.5p0.tar.bz2) by git created at 2022-04-16 20:06:59

Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[11156a8](https://git.sagemath.org/sage.git/commit/?id=11156a843e637fb5a15e983b29431538a8b04b6c)|`build/pkgs/giac: Update to 1.9.0-5`|



---

archive/issue_comments_627542.json:
```json
{
    "body": "<a id='comment:64'></a>\nThe branch `upstream` of https://salsa.debian.org/science-team/giac tracks the upstream releases nicely",
    "created_at": "2022-04-16T22:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627542",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:64'></a>
The branch `upstream` of https://salsa.debian.org/science-team/giac tracks the upstream releases nicely



---

archive/issue_comments_627543.json:
```json
{
    "body": "Changing commit from \"11156a843e637fb5a15e983b29431538a8b04b6c\" to \"b953c7dc17565da0ff4d238306f858bf352b2633\"",
    "created_at": "2022-04-16T22:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "11156a843e637fb5a15e983b29431538a8b04b6c" to "b953c7dc17565da0ff4d238306f858bf352b2633"



---

archive/issue_comments_627544.json:
```json
{
    "body": "<a id='comment:65'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[b953c7d](https://git.sagemath.org/sage.git/commit/?id=b953c7dc17565da0ff4d238306f858bf352b2633)|`build/pkgs/giac/dependencies: Add ecm`|",
    "created_at": "2022-04-16T22:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[b953c7d](https://git.sagemath.org/sage.git/commit/?id=b953c7dc17565da0ff4d238306f858bf352b2633)|`build/pkgs/giac/dependencies: Add ecm`|



---

archive/issue_comments_627545.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-04-16T23:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627545",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_627546.json:
```json
{
    "body": "<a id='comment:66'></a>\nRunning the cygwin tests at https://github.com/sagemath/sagetrac-mirror/actions/runs/2178226151",
    "created_at": "2022-04-16T23:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627546",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:66'></a>
Running the cygwin tests at https://github.com/sagemath/sagetrac-mirror/actions/runs/2178226151



---

archive/issue_comments_627547.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/1780912483, https://github.com/mkoeppe/sage/actions/runs/1780912484\" to \"https://github.com/sagemath/sagetrac-mirror/actions/runs/2178226151\"",
    "created_at": "2022-04-16T23:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627547",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/1780912483, https://github.com/mkoeppe/sage/actions/runs/1780912484" to "https://github.com/sagemath/sagetrac-mirror/actions/runs/2178226151"



---

archive/issue_comments_627548.json:
```json
{
    "body": "<a id='comment:67'></a>\nStill getting the same linker errors on cygwin: https://github.com/sagemath/sagetrac-mirror/runs/6051870023?check_suite_focus=true",
    "created_at": "2022-04-17T08:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627548",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:67'></a>
Still getting the same linker errors on cygwin: https://github.com/sagemath/sagetrac-mirror/runs/6051870023?check_suite_focus=true



---

archive/issue_comments_627549.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-04-17T17:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627549",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_627550.json:
```json
{
    "body": "<a id='comment:69'></a>\nWhat is the status of this? Latest 9.7 beta still does not have latest giac 1.9 in it. Will the final 9.7 sagemath release have giac 1.9 included?",
    "created_at": "2022-06-25T07:51:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627550",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:69'></a>
What is the status of this? Latest 9.7 beta still does not have latest giac 1.9 in it. Will the final 9.7 sagemath release have giac 1.9 included?



---

archive/issue_comments_627551.json:
```json
{
    "body": "Changing dependencies from \"#33226\" to \"#33226 #34037\"",
    "created_at": "2022-06-27T22:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627551",
    "user": "https://github.com/kiwifb"
}
```

Changing dependencies from "#33226" to "#33226 #34037"



---

archive/issue_comments_627552.json:
```json
{
    "body": "<a id='comment:71'></a>\nAnd of course 1.9.0-11 came out just after I updated the description to 1.9.0-7. Testing in sage-on-gentoo shortly.",
    "created_at": "2022-06-28T21:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627552",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:71'></a>
And of course 1.9.0-11 came out just after I updated the description to 1.9.0-7. Testing in sage-on-gentoo shortly.



---

archive/issue_comments_627553.json:
```json
{
    "body": "<a id='comment:72'></a>\nDoctest failure with 1.9.0-11\n\n```\nsage -t --long --random-seed=207046070893293649350070796495889591871 /usr/lib/python3.10/site-packages/sage/libs/giac/giac.pyx\n**********************************************************************\nFile \"/usr/lib/python3.10/site-packages/sage/libs/giac/giac.pyx\", line 415, in sage.libs.giac.giac._giac\nFailed example:\n    libgiac.fMax(f,'x=-0..pi').simplify()\nExpected:\n    pi/4,3*pi/4\nGot:\n    0,pi/2,pi\n**********************************************************************\n```\nthis is a fairly weird result. Either a bug has been introduced in giac or the meaning of something changed.",
    "created_at": "2022-06-29T00:30:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627553",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:72'></a>
Doctest failure with 1.9.0-11

```
sage -t --long --random-seed=207046070893293649350070796495889591871 /usr/lib/python3.10/site-packages/sage/libs/giac/giac.pyx
**********************************************************************
File "/usr/lib/python3.10/site-packages/sage/libs/giac/giac.pyx", line 415, in sage.libs.giac.giac._giac
Failed example:
    libgiac.fMax(f,'x=-0..pi').simplify()
Expected:
    pi/4,3*pi/4
Got:
    0,pi/2,pi
**********************************************************************
```
this is a fairly weird result. Either a bug has been introduced in giac or the meaning of something changed.



---

archive/issue_comments_627554.json:
```json
{
    "body": "<a id='comment:73'></a>\nThe section tested is\n\n```\n        sage: x = libgiac('x')\n        sage: f = 1/(5+cos(4*x))\n        sage: oldrep = 1/2/(2*sqrt(6))*(atan(2*tan(4*x/2)/sqrt(6))+pi*floor(4*x/2/pi+1/2))\n        sage: newrep = 1/2/(2*sqrt(6))*(atan((-sqrt(6)*sin(4*x)+2*sin(4*x))/(sqrt(6)*cos(4*x)+sqrt(6)-2*cos(4*x)+2))+4*x/2)\n        sage: ((f.int(x) - newrep)*(f.int(x)-oldrep)).normal()\n        0\n        sage: libgiac.fMax(f,'x=-0..pi').simplify()\n        pi/4,3*pi/4\n        sage: libgiac.fMax.help()  # doctest: +SKIP\n        \"Returns the abscissa of the maximum of the expression.\n```\nand I plotted `f`. The previous answer are the correct maxima over the interval, the new answer are actually the minima.\n\nI'll also note\n\n```\nsage: libgiac.fMax.help()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\nInput In [6], in <cell line: 1>()\n----> 1 libgiac.fMax.help()\n\nTypeError: 'str' object is not callable\nsage: libgiac.fMax.help\n'\"Description: Returns the abscissa of the maximum of the expression.\\nRelated: fMin\\nExamples:\\nfMax(-x^2+2*x+1,x);fMax(-x^2+2*x+1,x=1..2)\"'\n```\nSo the skipped doctest is not written correctly in the first place which mean documentation is showing something incorrect.",
    "created_at": "2022-06-29T00:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627554",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:73'></a>
The section tested is

```
        sage: x = libgiac('x')
        sage: f = 1/(5+cos(4*x))
        sage: oldrep = 1/2/(2*sqrt(6))*(atan(2*tan(4*x/2)/sqrt(6))+pi*floor(4*x/2/pi+1/2))
        sage: newrep = 1/2/(2*sqrt(6))*(atan((-sqrt(6)*sin(4*x)+2*sin(4*x))/(sqrt(6)*cos(4*x)+sqrt(6)-2*cos(4*x)+2))+4*x/2)
        sage: ((f.int(x) - newrep)*(f.int(x)-oldrep)).normal()
        0
        sage: libgiac.fMax(f,'x=-0..pi').simplify()
        pi/4,3*pi/4
        sage: libgiac.fMax.help()  # doctest: +SKIP
        "Returns the abscissa of the maximum of the expression.
```
and I plotted `f`. The previous answer are the correct maxima over the interval, the new answer are actually the minima.

I'll also note

```
sage: libgiac.fMax.help()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
Input In [6], in <cell line: 1>()
----> 1 libgiac.fMax.help()

TypeError: 'str' object is not callable
sage: libgiac.fMax.help
'"Description: Returns the abscissa of the maximum of the expression.\nRelated: fMin\nExamples:\nfMax(-x^2+2*x+1,x);fMax(-x^2+2*x+1,x=1..2)"'
```
So the skipped doctest is not written correctly in the first place which mean documentation is showing something incorrect.



---

archive/issue_comments_627555.json:
```json
{
    "body": "<a id='comment:74'></a>\nHow do you if you are running 1.9-05 or 1.9-11? The version number just says 1.9.\n\nThis giac is so confusing. I go to https://www-fourier.ujf-grenoble.fr/~parisse/giac.html and it says at the top 1.9.0-11 but when I click to download the source from https://www-fourier.ujf-grenoble.fr/~parisse/giac/giac_stable.tgz  which is the link on same page, it says giac_stable.tgz. I downloaded now and build the source, but when I say\n\n\n```\n>which giac\n/usr/local/bin/giac\n>giac --version\n// Using locale /usr/local/share/locale/\n// C.UTF-8\n// /usr/local/share/locale/\n// giac\n// UTF-8\n// Maximum number of parallel threads 24\n// (c) 2001, 2021 B. Parisse & others\n1.9.0\n>\n\n```\n\nSo I have no idea now if I am using 1.9-05 or 1.9-11\n\nHow do you know that sagemath is using the correct version 1.9-11 then? Do you have another way to check?\n\nStrange that giac has no  github website so one know what they version are downloading for sure.",
    "created_at": "2022-06-29T02:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627555",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:74'></a>
How do you if you are running 1.9-05 or 1.9-11? The version number just says 1.9.

This giac is so confusing. I go to https://www-fourier.ujf-grenoble.fr/~parisse/giac.html and it says at the top 1.9.0-11 but when I click to download the source from https://www-fourier.ujf-grenoble.fr/~parisse/giac/giac_stable.tgz  which is the link on same page, it says giac_stable.tgz. I downloaded now and build the source, but when I say


```
>which giac
/usr/local/bin/giac
>giac --version
// Using locale /usr/local/share/locale/
// C.UTF-8
// /usr/local/share/locale/
// giac
// UTF-8
// Maximum number of parallel threads 24
// (c) 2001, 2021 B. Parisse & others
1.9.0
>

```

So I have no idea now if I am using 1.9-05 or 1.9-11

How do you know that sagemath is using the correct version 1.9-11 then? Do you have another way to check?

Strange that giac has no  github website so one know what they version are downloading for sure.



---

archive/issue_comments_627556.json:
```json
{
    "body": "<a id='comment:75'></a>\nI (and all other giac packagers that I know) am downloading from here http://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/",
    "created_at": "2022-06-29T02:44:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627556",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:75'></a>
I (and all other giac packagers that I know) am downloading from here http://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/



---

archive/issue_comments_627557.json:
```json
{
    "body": "<a id='comment:76'></a>\nOk, thanks for this link. This is the not the same at the website https://www-fourier.ujf-grenoble.fr/~parisse/giac.html  there (near the top) which is only one I knew about. \n\nIs the link you show known because it shows on some web page? I looked at all the pages such as  https://www-fourier.ujf-grenoble.fr/~parisse/install_en#new  and could not find another link to the current sources.\n\nBut I will use the one you showed now and rebuild again.\n\nThanks",
    "created_at": "2022-06-29T02:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627557",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:76'></a>
Ok, thanks for this link. This is the not the same at the website https://www-fourier.ujf-grenoble.fr/~parisse/giac.html  there (near the top) which is only one I knew about. 

Is the link you show known because it shows on some web page? I looked at all the pages such as  https://www-fourier.ujf-grenoble.fr/~parisse/install_en#new  and could not find another link to the current sources.

But I will use the one you showed now and rebuild again.

Thanks



---

archive/issue_comments_627558.json:
```json
{
    "body": "<a id='comment:77'></a>\nReplying to [gh-nasser1](#comment%3A76):\n> Is the link you show known because it shows on some web page? I looked at all the pages such as  https://www-fourier.ujf-grenoble.fr/~parisse/install_en#new  and could not find another link to the current sources.\n\n\nIt is findable from that web page, but it is not obvious and includes a hop to another page first. Under the heading \"Developers\" click on \"C++ source\" which lead to the following page\nhttps://www-fourier.ujf-grenoble.fr/~parisse/giac_compile.html and under \"Compiling Giac from source\" the entry \"stable source\" has two links. The first one to `giac_stable.tgz` and the other one to the page I quoted with the archive of all source tarballs.\n\nSo, it is there but requires a bit of digging.",
    "created_at": "2022-06-29T04:13:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627558",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:77'></a>
Replying to [gh-nasser1](#comment%3A76):
> Is the link you show known because it shows on some web page? I looked at all the pages such as  https://www-fourier.ujf-grenoble.fr/~parisse/install_en#new  and could not find another link to the current sources.


It is findable from that web page, but it is not obvious and includes a hop to another page first. Under the heading "Developers" click on "C++ source" which lead to the following page
https://www-fourier.ujf-grenoble.fr/~parisse/giac_compile.html and under "Compiling Giac from source" the entry "stable source" has two links. The first one to `giac_stable.tgz` and the other one to the page I quoted with the archive of all source tarballs.

So, it is there but requires a bit of digging.



---

archive/issue_comments_627559.json:
```json
{
    "body": "Changing commit from \"b953c7dc17565da0ff4d238306f858bf352b2633\" to \"fb2a1be27a0a1ade9c593de56257036d5622b669\"",
    "created_at": "2022-06-30T22:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b953c7dc17565da0ff4d238306f858bf352b2633" to "fb2a1be27a0a1ade9c593de56257036d5622b669"



---

archive/issue_comments_627560.json:
```json
{
    "body": "<a id='comment:78'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[fb2a1be](https://git.sagemath.org/sage.git/commit/?id=fb2a1be27a0a1ade9c593de56257036d5622b669)|`Merge tag '9.7.beta3' into t/31563/upgrade_giac_to_1_7_0`|",
    "created_at": "2022-06-30T22:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:78'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[fb2a1be](https://git.sagemath.org/sage.git/commit/?id=fb2a1be27a0a1ade9c593de56257036d5622b669)|`Merge tag '9.7.beta3' into t/31563/upgrade_giac_to_1_7_0`|



---

archive/issue_comments_627561.json:
```json
{
    "body": "<a id='comment:79'></a>\nFyi, \n\non https://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/   there is now \tgiac_1.9.0-13.tar.gz",
    "created_at": "2022-07-04T06:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627561",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:79'></a>
Fyi, 

on https://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/   there is now 	giac_1.9.0-13.tar.gz



---

archive/issue_comments_627562.json:
```json
{
    "body": "<a id='comment:80'></a>\nThanks for the heads up on the version bump. The issue in `libs/giac/giac.pyx` is still present with that version.",
    "created_at": "2022-07-05T00:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627562",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:80'></a>
Thanks for the heads up on the version bump. The issue in `libs/giac/giac.pyx` is still present with that version.



---

archive/issue_comments_627563.json:
```json
{
    "body": "<a id='comment:81'></a>\nI am reporting this in giac's forum:\nhttps://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2788",
    "created_at": "2022-07-05T05:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627563",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<a id='comment:81'></a>
I am reporting this in giac's forum:
https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2788



---

archive/issue_comments_627564.json:
```json
{
    "body": "<a id='comment:82'></a>\nReplying to [frederichan](#comment%3A81):\n> I am reporting this in giac's forum:\n> https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2788\n\nI applied that patch to 1.9.0.13 and `libgiac.fMax(f,'x=-0..pi').simplify()` is `pi/4,3*pi/4` again",
    "created_at": "2022-07-09T06:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627564",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:82'></a>
Replying to [frederichan](#comment%3A81):
> I am reporting this in giac's forum:
> https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2788

I applied that patch to 1.9.0.13 and `libgiac.fMax(f,'x=-0..pi').simplify()` is `pi/4,3*pi/4` again



---

archive/issue_comments_627565.json:
```json
{
    "body": "<a id='comment:83'></a>\nHopefully it got in 1.9.0-15 released a couple of days ago while that commit is from 4 days ago. Let's test this.",
    "created_at": "2022-07-09T07:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627565",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:83'></a>
Hopefully it got in 1.9.0-15 released a couple of days ago while that commit is from 4 days ago. Let's test this.



---

archive/issue_comments_627566.json:
```json
{
    "body": "<a id='comment:84'></a>\nYes, 1.9.0-15 seems to include the fix. The doctest passes now.",
    "created_at": "2022-07-09T07:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627566",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:84'></a>
Yes, 1.9.0-15 seems to include the fix. The doctest passes now.



---

archive/issue_comments_627567.json:
```json
{
    "body": "Changing dependencies from \"#33226 #34037\" to \"#33226, #34037, #31403\"",
    "created_at": "2022-07-09T08:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627567",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33226 #34037" to "#33226, #34037, #31403"



---

archive/issue_comments_627568.json:
```json
{
    "body": "<a id='comment:86'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[241c06c](https://git.sagemath.org/sage.git/commit/?id=241c06c0bc2f8f9b52af3e1e11619f96c0c7c093)|`Merge tag '9.7.beta4' into t/31563/upgrade_giac_to_1_7_0`|\n|[06c4df1](https://git.sagemath.org/sage.git/commit/?id=06c4df159874b6cb8acbfbf77ff9526b788f093a)|`build/pkgs/giac/dependencies: Add cliquer, add libnauty as an optional dep`|\n|[d2132c9](https://git.sagemath.org/sage.git/commit/?id=d2132c9fbbbdfcdb2a3bafa381f5f5aa59e8257f)|`Merge #31403`|\n|[493c74b](https://git.sagemath.org/sage.git/commit/?id=493c74b3ee300c66cca6d9a87b15c555f2f3391e)|`build/pkgs/giac: Use 1.9.0.15`|",
    "created_at": "2022-07-09T08:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:86'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[241c06c](https://git.sagemath.org/sage.git/commit/?id=241c06c0bc2f8f9b52af3e1e11619f96c0c7c093)|`Merge tag '9.7.beta4' into t/31563/upgrade_giac_to_1_7_0`|
|[06c4df1](https://git.sagemath.org/sage.git/commit/?id=06c4df159874b6cb8acbfbf77ff9526b788f093a)|`build/pkgs/giac/dependencies: Add cliquer, add libnauty as an optional dep`|
|[d2132c9](https://git.sagemath.org/sage.git/commit/?id=d2132c9fbbbdfcdb2a3bafa381f5f5aa59e8257f)|`Merge #31403`|
|[493c74b](https://git.sagemath.org/sage.git/commit/?id=493c74b3ee300c66cca6d9a87b15c555f2f3391e)|`build/pkgs/giac: Use 1.9.0.15`|



---

archive/issue_comments_627569.json:
```json
{
    "body": "Changing commit from \"fb2a1be27a0a1ade9c593de56257036d5622b669\" to \"493c74b3ee300c66cca6d9a87b15c555f2f3391e\"",
    "created_at": "2022-07-09T08:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627569",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fb2a1be27a0a1ade9c593de56257036d5622b669" to "493c74b3ee300c66cca6d9a87b15c555f2f3391e"



---

archive/issue_comments_627570.json:
```json
{
    "body": "<a id='comment:87'></a>\nThe tarball has grown, it now contains some large files (*.js, *.wasm) - do we need them?",
    "created_at": "2022-07-09T08:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627570",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:87'></a>
The tarball has grown, it now contains some large files (*.js, *.wasm) - do we need them?



---

archive/issue_comments_627571.json:
```json
{
    "body": "<a id='comment:88'></a>\nNo.",
    "created_at": "2022-07-09T08:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627571",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:88'></a>
No.



---

archive/issue_comments_627572.json:
```json
{
    "body": "<a id='comment:89'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[bd9b013](https://git.sagemath.org/sage.git/commit/?id=bd9b013b9a284fc6853bbf04d899a587fc27bf0b)|`build/pkgs/giac/spkg-src: Get rid of *.js, *.wasm`|",
    "created_at": "2022-07-09T08:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:89'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[bd9b013](https://git.sagemath.org/sage.git/commit/?id=bd9b013b9a284fc6853bbf04d899a587fc27bf0b)|`build/pkgs/giac/spkg-src: Get rid of *.js, *.wasm`|



---

archive/issue_comments_627573.json:
```json
{
    "body": "Changing commit from \"493c74b3ee300c66cca6d9a87b15c555f2f3391e\" to \"bd9b013b9a284fc6853bbf04d899a587fc27bf0b\"",
    "created_at": "2022-07-09T08:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "493c74b3ee300c66cca6d9a87b15c555f2f3391e" to "bd9b013b9a284fc6853bbf04d899a587fc27bf0b"



---

archive/issue_comments_627574.json:
```json
{
    "body": "Changing commit from \"bd9b013b9a284fc6853bbf04d899a587fc27bf0b\" to \"4160a645141d4b72e6b81ef438fe6f7d3cd38ed2\"",
    "created_at": "2022-07-09T08:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bd9b013b9a284fc6853bbf04d899a587fc27bf0b" to "4160a645141d4b72e6b81ef438fe6f7d3cd38ed2"



---

archive/issue_comments_627575.json:
```json
{
    "body": "<a id='comment:90'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|\n|[4160a64](https://git.sagemath.org/sage.git/commit/?id=4160a645141d4b72e6b81ef438fe6f7d3cd38ed2)|`build/pkgs/giac/patches/0001-src-global.cc-Do-not-send-SIGINT-to-process-1.patch: Update`|",
    "created_at": "2022-07-09T08:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:90'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
|[4160a64](https://git.sagemath.org/sage.git/commit/?id=4160a645141d4b72e6b81ef438fe6f7d3cd38ed2)|`build/pkgs/giac/patches/0001-src-global.cc-Do-not-send-SIGINT-to-process-1.patch: Update`|



---

archive/issue_comments_627576.json:
```json
{
    "body": "<a id='comment:91'></a>\non macOS: \n\n```\n[giac-1.9.0.15p0] /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\n[giac-1.9.0.15p0]         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\n[giac-1.9.0.15p0]                                                       ^\n[giac-1.9.0.15p0] icas.cc:1435:9: error: no member named 'localisation' in namespace 'xcas'\n[giac-1.9.0.15p0]   xcas::localisation(); // change by L. Marohni\u0107\n[giac-1.9.0.15p0]   ~~~~~~^\n```",
    "created_at": "2022-07-09T08:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627576",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:91'></a>
on macOS: 

```
[giac-1.9.0.15p0] /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'
[giac-1.9.0.15p0]         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))
[giac-1.9.0.15p0]                                                       ^
[giac-1.9.0.15p0] icas.cc:1435:9: error: no member named 'localisation' in namespace 'xcas'
[giac-1.9.0.15p0]   xcas::localisation(); // change by L. Marohniƒá
[giac-1.9.0.15p0]   ~~~~~~^
```



---

archive/issue_comments_627577.json:
```json
{
    "body": "<a id='comment:92'></a>\nAttachment [giac-1.9.0.15p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.9.0.15p0.tar.bz2) by @mkoeppe created at 2022-07-09 09:03:37\n\nSame error with `tox -e docker-ubuntu-jammy-standard -- giac`",
    "created_at": "2022-07-09T09:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627577",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:92'></a>
Attachment [giac-1.9.0.15p0.tar.bz2](tarball://root/attachments/some-uuid/ticket31563/giac-1.9.0.15p0.tar.bz2) by @mkoeppe created at 2022-07-09 09:03:37

Same error with `tox -e docker-ubuntu-jammy-standard -- giac`



---

archive/issue_comments_627578.json:
```json
{
    "body": "<a id='comment:93'></a>\nReplying to [mkoeppe](#comment%3A91):\n> on macOS: \n> \n> ```\n> [giac-1.9.0.15p0] /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\n> [giac-1.9.0.15p0]         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\n> [giac-1.9.0.15p0]                                                       ^\n> [giac-1.9.0.15p0] icas.cc:1435:9: error: no member named 'localisation' in namespace 'xcas'\n> [giac-1.9.0.15p0]   xcas::localisation(); // change by L. Marohni\u0107\n> [giac-1.9.0.15p0]   ~~~~~~^\n> ```\n\n\n\nFYI\nI've reported this error xcas::localisation(); few days ago to giac forum. Here is the link\n\n\nhttps://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2789\n\n--Nasser",
    "created_at": "2022-07-09T09:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627578",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:93'></a>
Replying to [mkoeppe](#comment%3A91):
> on macOS: 
> 
> ```
> [giac-1.9.0.15p0] /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'
> [giac-1.9.0.15p0]         #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))
> [giac-1.9.0.15p0]                                                       ^
> [giac-1.9.0.15p0] icas.cc:1435:9: error: no member named 'localisation' in namespace 'xcas'
> [giac-1.9.0.15p0]   xcas::localisation(); // change by L. Marohniƒá
> [giac-1.9.0.15p0]   ~~~~~~^
> ```



FYI
I've reported this error xcas::localisation(); few days ago to giac forum. Here is the link


https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2789

--Nasser



---

archive/issue_comments_627579.json:
```json
{
    "body": "<a id='comment:94'></a>\nI didn't spot that one before because I always build with fltk support. And that part is in a \"#else` block when fltk is not requested. Blocks with `xcas::localisation` have very funny guards\n\n```\n#ifndef USE_OBJET_BIDON\nxcas::localisation(); // change by L. Marohni\u0107\n#endif\n```\nliterally \"use fake object\". Passing `-DUSE_OBJET_BIDON` may help.",
    "created_at": "2022-07-09T09:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627579",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:94'></a>
I didn't spot that one before because I always build with fltk support. And that part is in a "#else` block when fltk is not requested. Blocks with `xcas::localisation` have very funny guards

```
#ifndef USE_OBJET_BIDON
xcas::localisation(); // change by L. Marohniƒá
#endif
```
literally "use fake object". Passing `-DUSE_OBJET_BIDON` may help.



---

archive/issue_comments_627580.json:
```json
{
    "body": "<a id='comment:95'></a>\nYes, I compiled it without fltk by adding `-DUSE_OBJET_BIDON=1` to `CPPFLAGS`. Be careful \"OBJET\" without a \"C\", this is french and google translate will tell you that \"bidon\" is a \"can\", but colloquially it means \"something that isn't what it seems\", the can may look big but inside it is just empty.",
    "created_at": "2022-07-09T09:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627580",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:95'></a>
Yes, I compiled it without fltk by adding `-DUSE_OBJET_BIDON=1` to `CPPFLAGS`. Be careful "OBJET" without a "C", this is french and google translate will tell you that "bidon" is a "can", but colloquially it means "something that isn't what it seems", the can may look big but inside it is just empty.



---

archive/issue_comments_627581.json:
```json
{
    "body": "<a id='comment:96'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|\n|[d2ade90](https://git.sagemath.org/sage.git/commit/?id=d2ade90f4fb2f813ad46652c8d6c777ed3fe0b50)|`build/pkgs/giac/spkg-install.in: Work around xcas::localisation error`|",
    "created_at": "2022-07-09T16:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627581",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:96'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
|[d2ade90](https://git.sagemath.org/sage.git/commit/?id=d2ade90f4fb2f813ad46652c8d6c777ed3fe0b50)|`build/pkgs/giac/spkg-install.in: Work around xcas::localisation error`|



---

archive/issue_comments_627582.json:
```json
{
    "body": "Changing commit from \"4160a645141d4b72e6b81ef438fe6f7d3cd38ed2\" to \"d2ade90f4fb2f813ad46652c8d6c777ed3fe0b50\"",
    "created_at": "2022-07-09T16:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4160a645141d4b72e6b81ef438fe6f7d3cd38ed2" to "d2ade90f4fb2f813ad46652c8d6c777ed3fe0b50"



---

archive/issue_comments_627583.json:
```json
{
    "body": "<a id='comment:97'></a>\nThanks both, this builds now",
    "created_at": "2022-07-09T16:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627583",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:97'></a>
Thanks both, this builds now



---

archive/issue_comments_627584.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-07-09T16:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627584",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_627585.json:
```json
{
    "body": "Changing dependencies from \"#33226, #34037, #31403\" to \"#33226, #34037, #31403, #34088\"",
    "created_at": "2022-07-09T16:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627585",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33226, #34037, #31403" to "#33226, #34037, #31403, #34088"



---

archive/issue_comments_627586.json:
```json
{
    "body": "<a id='comment:0'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|\n|[d835afc](https://git.sagemath.org/sage.git/commit/?id=d835afc24dcf1946db0276d5ae55833e922a236d)|`build/pkgs/python3/distros/cygwin.txt: Add packages needed for ensurepip`|\n|[d11f705](https://git.sagemath.org/sage.git/commit/?id=d11f705e83046e1a7a712f98e6be4bc2fc96f649)|`Merge #34088`|",
    "created_at": "2022-07-09T16:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
|[d835afc](https://git.sagemath.org/sage.git/commit/?id=d835afc24dcf1946db0276d5ae55833e922a236d)|`build/pkgs/python3/distros/cygwin.txt: Add packages needed for ensurepip`|
|[d11f705](https://git.sagemath.org/sage.git/commit/?id=d11f705e83046e1a7a712f98e6be4bc2fc96f649)|`Merge #34088`|



---

archive/issue_comments_627587.json:
```json
{
    "body": "Changing commit from \"d2ade90f4fb2f813ad46652c8d6c777ed3fe0b50\" to \"d11f705e83046e1a7a712f98e6be4bc2fc96f649\"",
    "created_at": "2022-07-09T16:55:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d2ade90f4fb2f813ad46652c8d6c777ed3fe0b50" to "d11f705e83046e1a7a712f98e6be4bc2fc96f649"



---

archive/issue_comments_627588.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/sagemath/sagetrac-mirror/actions/runs/2178226151\" to \"https://github.com/mkoeppe/sage/actions/runs/2641761864, https://github.com/mkoeppe/sage/actions/runs/2641761870\"",
    "created_at": "2022-07-09T16:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627588",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/sagemath/sagetrac-mirror/actions/runs/2178226151" to "https://github.com/mkoeppe/sage/actions/runs/2641761864, https://github.com/mkoeppe/sage/actions/runs/2641761870"



---

archive/issue_comments_627589.json:
```json
{
    "body": "Changing commit from \"d11f705e83046e1a7a712f98e6be4bc2fc96f649\" to \"b4e5c6ee7d60a5c1205697c8858bc59b84faa78a\"",
    "created_at": "2022-07-11T04:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627589",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d11f705e83046e1a7a712f98e6be4bc2fc96f649" to "b4e5c6ee7d60a5c1205697c8858bc59b84faa78a"



---

archive/issue_comments_627590.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[b4e5c6e](https://git.sagemath.org/sage.git/commit/?id=b4e5c6ee7d60a5c1205697c8858bc59b84faa78a)|`Merge tag '9.7.beta5' into t/31563/upgrade_giac_to_1_7_0`|",
    "created_at": "2022-07-11T04:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[b4e5c6e](https://git.sagemath.org/sage.git/commit/?id=b4e5c6ee7d60a5c1205697c8858bc59b84faa78a)|`Merge tag '9.7.beta5' into t/31563/upgrade_giac_to_1_7_0`|



---

archive/issue_comments_627591.json:
```json
{
    "body": "<a id='comment:3'></a>\nStill fails on cygwin with same error as shown in[comment:55](#comment%3A55) - https://github.com/mkoeppe/sage/runs/7274399777?check_suite_focus=true",
    "created_at": "2022-07-11T15:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627591",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
Still fails on cygwin with same error as shown in[comment:55](#comment%3A55) - https://github.com/mkoeppe/sage/runs/7274399777?check_suite_focus=true



---

archive/issue_comments_627592.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe other platforms looks OK.\nI'd suggest that we ignore Cygwin for now and merge the ticket.",
    "created_at": "2022-07-11T21:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627592",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
The other platforms looks OK.
I'd suggest that we ignore Cygwin for now and merge the ticket.



---

archive/issue_comments_627593.json:
```json
{
    "body": "<a id='comment:5'></a>\nCygwin is low on my own priority list but it feels a bit of a shame. If giac 1.7 builds on cygwin this is clearly a regression, but while we upgrade the package here, there is nothing that prevent the use of 1.7 or specifically require 1.9, so if someone wants to build on cygwin, they can bring their own giac 1.7.",
    "created_at": "2022-07-11T21:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627593",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
Cygwin is low on my own priority list but it feels a bit of a shame. If giac 1.7 builds on cygwin this is clearly a regression, but while we upgrade the package here, there is nothing that prevent the use of 1.7 or specifically require 1.9, so if someone wants to build on cygwin, they can bring their own giac 1.7.



---

archive/issue_comments_627594.json:
```json
{
    "body": "<a id='comment:6'></a>\nI think it will be easy to fix the Cygwin build failure in a follow up ticket. Best done in one go together with other current failures of the platform.",
    "created_at": "2022-07-11T21:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627594",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
I think it will be easy to fix the Cygwin build failure in a follow up ticket. Best done in one go together with other current failures of the platform.



---

archive/issue_comments_627595.json:
```json
{
    "body": "<a id='comment:7'></a>\nI am OK with that plan. I am OK being a positive reviewer for this.",
    "created_at": "2022-07-11T21:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627595",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>
I am OK with that plan. I am OK being a positive reviewer for this.



---

archive/issue_comments_627596.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks!",
    "created_at": "2022-07-11T23:38:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627596",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Thanks!



---

archive/issue_comments_627597.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/2641761864, https://github.com/mkoeppe/sage/actions/runs/2641761870\" to \"Fran\u00e7ois Bissey\"",
    "created_at": "2022-07-12T00:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627597",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/2641761864, https://github.com/mkoeppe/sage/actions/runs/2641761870" to "Fran√ßois Bissey"



---

archive/issue_comments_627598.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-12T00:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627598",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_627599.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-21T21:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627599",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_627600.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade_giac_to_1_7_0\" to \"b4e5c6ee7d60a5c1205697c8858bc59b84faa78a\"",
    "created_at": "2022-07-21T21:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627600",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/upgrade_giac_to_1_7_0" to "b4e5c6ee7d60a5c1205697c8858bc59b84faa78a"



---

archive/issue_events_082976.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-21T21:12:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31563#event-82976"
}
```



---

archive/issue_comments_627601.json:
```json
{
    "body": "Changing commit from \"b4e5c6ee7d60a5c1205697c8858bc59b84faa78a\" to \"\"",
    "created_at": "2022-08-03T16:58:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627601",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "b4e5c6ee7d60a5c1205697c8858bc59b84faa78a" to ""



---

archive/issue_comments_627602.json:
```json
{
    "body": "<a id='comment:111'></a>\nReplying to [mkoeppe](#comment%3A106):\n> I think it will be easy to fix the Cygwin build failure in a follow up ticket. Best done in one go together with other current failures of the platform. \n\n\nThis is now #34269.",
    "created_at": "2022-08-03T16:58:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31563",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31563#issuecomment-627602",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:111'></a>
Replying to [mkoeppe](#comment%3A106):
> I think it will be easy to fix the Cygwin build failure in a follow up ticket. Best done in one go together with other current failures of the platform. 


This is now #34269.
