# Issue 31517: Make Sage output MathJax3 compatible htmls

archive/issues_031280.json:
```json
{
    "body": "MathJax2 converts TeX and LaTeX math delimiter pairs such as $, $$, \\(, \\), \\[,\\] to script tag <script type=\"math/tex\">...</script>, and then renders the scripts.\n\nMathJax3 directly renders maths in the math delimiters.\n\nCurrently Sage renders maths in LaTeX to html with script tags, which are recognized only by MathJax2. \n\nTo pave the way for transiting Sage to MathJax3, we make Sage output MathJax3 compatible htmls.\n\nWith this patch, Sage works both with MathJax2 and MathJax3.\n\n(this patch also contains a small fix for tables)\n\nCC:  @egourgoulhon\n\nBranch/Commit: 3d26006bae99898c192476bf31e799c2e9abb87e\n\nReviewer: Markus Wageringel\n\nAuthor: Kwankyu Lee\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31517\n\n",
    "closed_at": "2021-05-27T20:29:40Z",
    "created_at": "2021-03-19T02:04:11Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Make Sage output MathJax3 compatible htmls",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31517",
    "user": "https://github.com/kwankyu"
}
```
MathJax2 converts TeX and LaTeX math delimiter pairs such as $, $$, \(, \), \[,\] to script tag <script type="math/tex">...</script>, and then renders the scripts.

MathJax3 directly renders maths in the math delimiters.

Currently Sage renders maths in LaTeX to html with script tags, which are recognized only by MathJax2. 

To pave the way for transiting Sage to MathJax3, we make Sage output MathJax3 compatible htmls.

With this patch, Sage works both with MathJax2 and MathJax3.

(this patch also contains a small fix for tables)

CC:  @egourgoulhon

Branch/Commit: 3d26006bae99898c192476bf31e799c2e9abb87e

Reviewer: Markus Wageringel

Author: Kwankyu Lee

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31517





---

archive/issue_comments_626615.json:
```json
{
    "body": "Changing branch from \"\" to \"u/klee/31517\"",
    "created_at": "2021-03-19T02:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626615",
    "user": "https://github.com/kwankyu"
}
```

Changing branch from "" to "u/klee/31517"



---

archive/issue_comments_626616.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[27820ca](https://github.com/sagemath/sagetrac-mirror/commit/27820ca76fb45a06269c139a367fcca117866741)|`Sage output MathJax3 compatible htmls`|",
    "created_at": "2021-03-19T02:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[27820ca](https://github.com/sagemath/sagetrac-mirror/commit/27820ca76fb45a06269c139a367fcca117866741)|`Sage output MathJax3 compatible htmls`|



---

archive/issue_comments_626617.json:
```json
{
    "body": "Changing commit from \"\" to \"27820ca76fb45a06269c139a367fcca117866741\"",
    "created_at": "2021-03-19T02:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "27820ca76fb45a06269c139a367fcca117866741"



---

archive/issue_comments_626618.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,5 @@\n To pave the way for transiting Sage to MathJax3, we make Sage output MathJax3 compatible htmls.\n \n With this patch, Sage works both with MathJax2 and MathJax3.\n+\n+(this patch also contains a small fix for tables)\n``````\n",
    "created_at": "2021-03-19T02:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626618",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,5 @@
 To pave the way for transiting Sage to MathJax3, we make Sage output MathJax3 compatible htmls.
 
 With this patch, Sage works both with MathJax2 and MathJax3.
+
+(this patch also contains a small fix for tables)
``````




---

archive/issue_comments_626619.json:
```json
{
    "body": "Changing author from \"\" to \"Kwankyu Lee\"",
    "created_at": "2021-03-19T02:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626619",
    "user": "https://github.com/kwankyu"
}
```

Changing author from "" to "Kwankyu Lee"



---

archive/issue_comments_626620.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-19T02:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626620",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_events_093217.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31517#event-93217"
}
```



---

archive/issue_comments_626621.json:
```json
{
    "body": "<a id='comment:6'></a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626621",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_626622.json:
```json
{
    "body": "Changing commit from \"27820ca76fb45a06269c139a367fcca117866741\" to \"3d26006bae99898c192476bf31e799c2e9abb87e\"",
    "created_at": "2021-04-09T06:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "27820ca76fb45a06269c139a367fcca117866741" to "3d26006bae99898c192476bf31e799c2e9abb87e"



---

archive/issue_comments_626623.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[3d26006](https://github.com/sagemath/sagetrac-mirror/commit/3d26006bae99898c192476bf31e799c2e9abb87e)|`Sage output MathJax3 compatible htmls`|",
    "created_at": "2021-04-09T06:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626623",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[3d26006](https://github.com/sagemath/sagetrac-mirror/commit/3d26006bae99898c192476bf31e799c2e9abb87e)|`Sage output MathJax3 compatible htmls`|



---

archive/issue_comments_626624.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis looks good to me.",
    "created_at": "2021-04-09T19:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626624",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:9'></a>
This looks good to me.



---

archive/issue_comments_626625.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Markus Wageringel\"",
    "created_at": "2021-04-09T19:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626625",
    "user": "https://github.com/mwageringel"
}
```

Changing reviewer from "" to "Markus Wageringel"



---

archive/issue_comments_626626.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-09T19:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626626",
    "user": "https://github.com/mwageringel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_093218.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-05-27T20:29:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31517#event-93218"
}
```



---

archive/issue_comments_626627.json:
```json
{
    "body": "Changing branch from \"u/klee/31517\" to \"3d26006bae99898c192476bf31e799c2e9abb87e\"",
    "created_at": "2021-05-27T20:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626627",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/klee/31517" to "3d26006bae99898c192476bf31e799c2e9abb87e"



---

archive/issue_comments_626628.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-05-27T20:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31517",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31517#issuecomment-626628",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
