# Issue 31982: MultiCoordFunction: Make it the element class of the free module over ChartFunctionRing

archive/issues_031745.json:
```json
{
    "assignees": [],
    "body": "Currently, `MultiCoordFunction` is not an element class.\n\n```\nsage: M = Manifold(2, 'M', structure='topological')\nsage: X.<x,y> = M.chart()\nsage: FR = X.function_ring()\nsage: f = X.multifunction(x+y, sin(x*y), x^2 + 3*y); f\nCoordinate functions (x + y, sin(x*y), x^2 + 3*y) on the Chart (M, (x, y))\nsage: f.parent()\n<class 'sage.manifolds.chart_func.MultiCoordFunction'>\nsage: FR^3                                                 # with #31721\nAmbient free module of rank 3 over Ring of chart functions on Chart (M, (x, y))\nsage: f in FR^3\nFalse\n```\n\nWe change the function `sage.modules.free_module.element_class` so that it uses the element class `Vector_symbolic_dense` not only for free modules over the ring `SR` but also for free modules over any commutative ring whose base ring is `SR`.\n\nIn fact, we dispatch through a new method `_free_module_element_class_dense`. `ChartFunction` provides a specialized implementation, which makes sure that `MultiCoordFunction` (now a subclass of `Vector_symbolic_dense`) is used as the element class.\n\nThis simplifies the implementation of `MultiCoordFunction` and also  makes the elementwise symbolic methods `simplify` etc. available.\n\n\nFollow-up:\n- We could move the method `MultiCoordFunction.jacobian` to the superclass, making it more generally available.\n\n\nDepends on #31721\nDepends on #31999\n\nCC:  @egourgoulhon @mjungmath @tscrim\n\nBranch/Commit: **[u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring) @ [fb31802](https://github.com/sagemath/sagetrac-mirror/commit/fb318025fc34666c8d78a40459c2e31cf9e83ea1)**\n\nWork Issues: **rebase on #31999; fix pickling issue**\n\nAuthor: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31982_\n\n",
    "created_at": "2021-06-14T01:27:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "MultiCoordFunction: Make it the element class of the free module over ChartFunctionRing",
    "type": "issue",
    "updated_at": "2023-01-07T21:39:40Z",
    "url": "https://github.com/sagemath/sage/issues/31982",
    "user": "https://github.com/mkoeppe"
}
```
Currently, `MultiCoordFunction` is not an element class.

```
sage: M = Manifold(2, 'M', structure='topological')
sage: X.<x,y> = M.chart()
sage: FR = X.function_ring()
sage: f = X.multifunction(x+y, sin(x*y), x^2 + 3*y); f
Coordinate functions (x + y, sin(x*y), x^2 + 3*y) on the Chart (M, (x, y))
sage: f.parent()
<class 'sage.manifolds.chart_func.MultiCoordFunction'>
sage: FR^3                                                 # with #31721
Ambient free module of rank 3 over Ring of chart functions on Chart (M, (x, y))
sage: f in FR^3
False
```

We change the function `sage.modules.free_module.element_class` so that it uses the element class `Vector_symbolic_dense` not only for free modules over the ring `SR` but also for free modules over any commutative ring whose base ring is `SR`.

In fact, we dispatch through a new method `_free_module_element_class_dense`. `ChartFunction` provides a specialized implementation, which makes sure that `MultiCoordFunction` (now a subclass of `Vector_symbolic_dense`) is used as the element class.

This simplifies the implementation of `MultiCoordFunction` and also  makes the elementwise symbolic methods `simplify` etc. available.


Follow-up:
- We could move the method `MultiCoordFunction.jacobian` to the superclass, making it more generally available.


Depends on #31721
Depends on #31999

CC:  @egourgoulhon @mjungmath @tscrim

Branch/Commit: **[u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring) @ [fb31802](https://github.com/sagemath/sagetrac-mirror/commit/fb318025fc34666c8d78a40459c2e31cf9e83ea1)**

Work Issues: **rebase on #31999; fix pickling issue**

Author: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/31982_





---

archive/issue_events_422760.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-14T01:27:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422760"
}
```



---

archive/issue_events_422761.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-14T01:27:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
    "label_color": "0000ff",
    "label_name": "component: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422761"
}
```



---

archive/issue_events_422762.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-14T01:27:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422762"
}
```



---

archive/issue_events_422763.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-14T01:27:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422763"
}
```



---

archive/issue_comments_517772.json:
```json
{
    "body": "Branch: **[u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring)**",
    "created_at": "2021-06-14T02:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517772",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/multicoordfunction__make_it_the_element_class_of_the_free_module_over_chartfunctionring)**



---

archive/issue_comments_517773.json:
```json
{
    "body": "Commit: **[dbfe7ac](https://github.com/sagemath/sagetrac-mirror/commit/dbfe7ac1fe65a76f8e61a6632b9ad9a096f1cf69)**",
    "created_at": "2021-06-14T02:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517773",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[dbfe7ac](https://github.com/sagemath/sagetrac-mirror/commit/dbfe7ac1fe65a76f8e61a6632b9ad9a096f1cf69)**



---

archive/issue_comments_517774.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbfe7ac1fe65a76f8e61a6632b9ad9a096f1cf69\">dbfe7ac</a></td><td><code>src/sage/modules/free_module.py: Update copyright years according to 'git blame -w --date=format:%Y src/sage/modules/free_module.py | sort -k2'</code></td></tr></table>\n",
    "created_at": "2021-06-14T02:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517774",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbfe7ac1fe65a76f8e61a6632b9ad9a096f1cf69">dbfe7ac</a></td><td><code>src/sage/modules/free_module.py: Update copyright years according to 'git blame -w --date=format:%Y src/sage/modules/free_module.py | sort -k2'</code></td></tr></table>




---

archive/issue_comments_517775.json:
```json
{
    "body": "Changed commit from **[dbfe7ac](https://github.com/sagemath/sagetrac-mirror/commit/dbfe7ac1fe65a76f8e61a6632b9ad9a096f1cf69)** to **[cfd813b](https://github.com/sagemath/sagetrac-mirror/commit/cfd813b06b7973cc1acc9d3055f192a584326662)**",
    "created_at": "2021-06-14T03:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517775",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dbfe7ac](https://github.com/sagemath/sagetrac-mirror/commit/dbfe7ac1fe65a76f8e61a6632b9ad9a096f1cf69)** to **[cfd813b](https://github.com/sagemath/sagetrac-mirror/commit/cfd813b06b7973cc1acc9d3055f192a584326662)**



---

archive/issue_comments_517776.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfd813b06b7973cc1acc9d3055f192a584326662\">cfd813b</a></td><td><code>sage.modules.free_module.element_class: For rings with SR base ring, delegate to new method _free_module_element_class_dense</code></td></tr></table>\n",
    "created_at": "2021-06-14T03:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517776",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfd813b06b7973cc1acc9d3055f192a584326662">cfd813b</a></td><td><code>sage.modules.free_module.element_class: For rings with SR base ring, delegate to new method _free_module_element_class_dense</code></td></tr></table>




---

archive/issue_comments_517777.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/278aa2b389783b3500797ddf235b8c7c41872244\">278aa2b</a></td><td><code>CallableSymbolicExpressionRing_class: Fix doctest</code></td></tr></table>\n",
    "created_at": "2021-06-14T03:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517777",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/278aa2b389783b3500797ddf235b8c7c41872244">278aa2b</a></td><td><code>CallableSymbolicExpressionRing_class: Fix doctest</code></td></tr></table>




---

archive/issue_comments_517778.json:
```json
{
    "body": "Changed commit from **[cfd813b](https://github.com/sagemath/sagetrac-mirror/commit/cfd813b06b7973cc1acc9d3055f192a584326662)** to **[278aa2b](https://github.com/sagemath/sagetrac-mirror/commit/278aa2b389783b3500797ddf235b8c7c41872244)**",
    "created_at": "2021-06-14T03:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517778",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cfd813b](https://github.com/sagemath/sagetrac-mirror/commit/cfd813b06b7973cc1acc9d3055f192a584326662)** to **[278aa2b](https://github.com/sagemath/sagetrac-mirror/commit/278aa2b389783b3500797ddf235b8c7c41872244)**



---

archive/issue_comments_517779.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bbb5f840b6c1fa5f8842b22efda9f01daa0f540\">7bbb5f8</a></td><td><code>MultiCoordFunction: Make it an element class</code></td></tr></table>\n",
    "created_at": "2021-06-14T05:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517779",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bbb5f840b6c1fa5f8842b22efda9f01daa0f540">7bbb5f8</a></td><td><code>MultiCoordFunction: Make it an element class</code></td></tr></table>




---

archive/issue_comments_517780.json:
```json
{
    "body": "Changed commit from **[278aa2b](https://github.com/sagemath/sagetrac-mirror/commit/278aa2b389783b3500797ddf235b8c7c41872244)** to **[7bbb5f8](https://github.com/sagemath/sagetrac-mirror/commit/7bbb5f840b6c1fa5f8842b22efda9f01daa0f540)**",
    "created_at": "2021-06-14T05:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517780",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[278aa2b](https://github.com/sagemath/sagetrac-mirror/commit/278aa2b389783b3500797ddf235b8c7c41872244)** to **[7bbb5f8](https://github.com/sagemath/sagetrac-mirror/commit/7bbb5f840b6c1fa5f8842b22efda9f01daa0f540)**



---

archive/issue_comments_517781.json:
```json
{
    "body": "Changed commit from **[7bbb5f8](https://github.com/sagemath/sagetrac-mirror/commit/7bbb5f840b6c1fa5f8842b22efda9f01daa0f540)** to **[27e3889](https://github.com/sagemath/sagetrac-mirror/commit/27e3889566fe6e1559c1b4e75c4ec180e8523ae4)**",
    "created_at": "2021-06-14T05:51:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517781",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7bbb5f8](https://github.com/sagemath/sagetrac-mirror/commit/7bbb5f840b6c1fa5f8842b22efda9f01daa0f540)** to **[27e3889](https://github.com/sagemath/sagetrac-mirror/commit/27e3889566fe6e1559c1b4e75c4ec180e8523ae4)**



---

archive/issue_comments_517782.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa5057ce25fcc2d7dc6e7d22a9881470f341fe7a\">fa5057c</a></td><td><code>Trac 31721: `__pow__` method for parents</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27422d323a7db31f3fc2068f6aeb3100b3e4d6ae\">27422d3</a></td><td><code>31721: more comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8d34270e0b74d33776f958360a0cdad60a0b74c\">e8d3427</a></td><td><code>clarify comment and doctest for multiple inheritance</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b873bcbe33571dc020c08b05c0390777148b1b53\">b873bcb</a></td><td><code>some doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27e3889566fe6e1559c1b4e75c4ec180e8523ae4\">27e3889</a></td><td><code>Merge #31721</code></td></tr></table>\n",
    "created_at": "2021-06-14T05:51:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517782",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa5057ce25fcc2d7dc6e7d22a9881470f341fe7a">fa5057c</a></td><td><code>Trac 31721: `__pow__` method for parents</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27422d323a7db31f3fc2068f6aeb3100b3e4d6ae">27422d3</a></td><td><code>31721: more comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8d34270e0b74d33776f958360a0cdad60a0b74c">e8d3427</a></td><td><code>clarify comment and doctest for multiple inheritance</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b873bcbe33571dc020c08b05c0390777148b1b53">b873bcb</a></td><td><code>some doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27e3889566fe6e1559c1b4e75c4ec180e8523ae4">27e3889</a></td><td><code>Merge #31721</code></td></tr></table>




---

archive/issue_comments_517783.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c36bd23497862675a1ca296637a242673e8bb8f\">3c36bd2</a></td><td><code>Eliminate use of MultiCoordFunction._functions</code></td></tr></table>\n",
    "created_at": "2021-06-14T06:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517783",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c36bd23497862675a1ca296637a242673e8bb8f">3c36bd2</a></td><td><code>Eliminate use of MultiCoordFunction._functions</code></td></tr></table>




---

archive/issue_comments_517784.json:
```json
{
    "body": "Changed commit from **[27e3889](https://github.com/sagemath/sagetrac-mirror/commit/27e3889566fe6e1559c1b4e75c4ec180e8523ae4)** to **[3c36bd2](https://github.com/sagemath/sagetrac-mirror/commit/3c36bd23497862675a1ca296637a242673e8bb8f)**",
    "created_at": "2021-06-14T06:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517784",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[27e3889](https://github.com/sagemath/sagetrac-mirror/commit/27e3889566fe6e1559c1b4e75c4ec180e8523ae4)** to **[3c36bd2](https://github.com/sagemath/sagetrac-mirror/commit/3c36bd23497862675a1ca296637a242673e8bb8f)**



---

archive/issue_comments_517785.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nLooks nice. However, the pickling of continuous maps fails with the new code for `MultiCoordFunction`. More precisely, the equality test of the pickling fails when attempting to compare the `MultiCoordFunction`'s describing the continuous maps is a given pair of charts, with the error\n\n```\nFile \"/home/eric/sage/9.4.develop/local/lib/python3.8/site-packages/sage/manifolds/continuous_map.py\", \nline 577, in __eq__\n...\nAttributeError: 'sage.modules.free_module_element.FreeModuleElement_generic_dense'\nobject  has no attribute 'expr'\n```",
    "created_at": "2021-06-14T20:34:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517785",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'>Comment 8:</a>
Looks nice. However, the pickling of continuous maps fails with the new code for `MultiCoordFunction`. More precisely, the equality test of the pickling fails when attempting to compare the `MultiCoordFunction`'s describing the continuous maps is a given pair of charts, with the error

```
File "/home/eric/sage/9.4.develop/local/lib/python3.8/site-packages/sage/manifolds/continuous_map.py", 
line 577, in __eq__
...
AttributeError: 'sage.modules.free_module_element.FreeModuleElement_generic_dense'
object  has no attribute 'expr'
```



---

archive/issue_comments_517786.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThanks for taking a look! Because of these errors I hadn't set the ticket to \"needs review\" yet. I'll revise it in the next few days, but help is welcome.",
    "created_at": "2021-06-14T21:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517786",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'>Comment 9:</a>
Thanks for taking a look! Because of these errors I hadn't set the ticket to "needs review" yet. I'll revise it in the next few days, but help is welcome.



---

archive/issue_comments_517787.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49f63a47a4000fce7b8080e0493897fde98ae9ce\">49f63a4</a></td><td><code>Vector_symbolic_dense: Fix pickling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcdd4126170cd4206b270bbc5ab3afd2cfde5e07\">dcdd412</a></td><td><code>src/sage/manifolds/continuous_map.py: Update doctest output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb318025fc34666c8d78a40459c2e31cf9e83ea1\">fb31802</a></td><td><code>src/sage/manifolds/chart.py: Update doctest output</code></td></tr></table>\n",
    "created_at": "2021-06-14T23:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517787",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49f63a47a4000fce7b8080e0493897fde98ae9ce">49f63a4</a></td><td><code>Vector_symbolic_dense: Fix pickling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcdd4126170cd4206b270bbc5ab3afd2cfde5e07">dcdd412</a></td><td><code>src/sage/manifolds/continuous_map.py: Update doctest output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb318025fc34666c8d78a40459c2e31cf9e83ea1">fb31802</a></td><td><code>src/sage/manifolds/chart.py: Update doctest output</code></td></tr></table>




---

archive/issue_comments_517788.json:
```json
{
    "body": "Changed commit from **[3c36bd2](https://github.com/sagemath/sagetrac-mirror/commit/3c36bd23497862675a1ca296637a242673e8bb8f)** to **[fb31802](https://github.com/sagemath/sagetrac-mirror/commit/fb318025fc34666c8d78a40459c2e31cf9e83ea1)**",
    "created_at": "2021-06-14T23:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517788",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3c36bd2](https://github.com/sagemath/sagetrac-mirror/commit/3c36bd23497862675a1ca296637a242673e8bb8f)** to **[fb31802](https://github.com/sagemath/sagetrac-mirror/commit/fb318025fc34666c8d78a40459c2e31cf9e83ea1)**



---

archive/issue_events_422764.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-14T23:53:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422764"
}
```



---

archive/issue_comments_517789.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,9 +16,11 @@\n \n We change the function `sage.modules.free_module.element_class` so that it uses the element class `Vector_symbolic_dense` not only for free modules over the ring `SR` but also for free modules over any commutative ring whose base ring is `SR`.\n \n-This makes the elementwise symbolic methods `simplify` etc. available.\n+In fact, we dispatch through a new method `_free_module_element_class_dense`. `ChartFunction` provides a specialized implementation, which makes sure that `MultiCoordFunction` (now a subclass of `Vector_symbolic_dense`) is used as the element class.\n \n-We make `MultiCoordFunction` a subclass of `Vector_symbolic_dense`, moving the method `MultiCoordFunction.jacobian` to the superclass, making it more generally available.\n+This simplifies the implementation of `MultiCoordFunction` and also  makes the elementwise symbolic methods `simplify` etc. available.\n \n-Finally, we create a parent class `MultiCoordFunctionModule` (subclassing `FreeModule_ambient`) with element class `MultiCoordFunction`.\n \n+Follow-up:\n+- We could move the method `MultiCoordFunction.jacobian` to the superclass, making it more generally available.\n+\n``````\n",
    "created_at": "2021-06-14T23:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517789",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,9 +16,11 @@
 
 We change the function `sage.modules.free_module.element_class` so that it uses the element class `Vector_symbolic_dense` not only for free modules over the ring `SR` but also for free modules over any commutative ring whose base ring is `SR`.
 
-This makes the elementwise symbolic methods `simplify` etc. available.
+In fact, we dispatch through a new method `_free_module_element_class_dense`. `ChartFunction` provides a specialized implementation, which makes sure that `MultiCoordFunction` (now a subclass of `Vector_symbolic_dense`) is used as the element class.
 
-We make `MultiCoordFunction` a subclass of `Vector_symbolic_dense`, moving the method `MultiCoordFunction.jacobian` to the superclass, making it more generally available.
+This simplifies the implementation of `MultiCoordFunction` and also  makes the elementwise symbolic methods `simplify` etc. available.
 
-Finally, we create a parent class `MultiCoordFunctionModule` (subclassing `FreeModule_ambient`) with element class `MultiCoordFunction`.
 
+Follow-up:
+- We could move the method `MultiCoordFunction.jacobian` to the superclass, making it more generally available.
+
``````




---

archive/issue_comments_517790.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-06-14T23:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517790",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_422765.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-16T06:16:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422765"
}
```



---

archive/issue_events_422766.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-16T06:16:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422766"
}
```



---

archive/issue_comments_517791.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\n\n```\nsage -t --long --random-seed=0 src/sage/algebras/lie_algebras/quotient.py  # 1 doctest failed\nsage -t --long --random-seed=0 src/sage/modules/free_module_element.pyx  # 1 doctest failed\n```",
    "created_at": "2021-06-16T06:16:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517791",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'>Comment 12:</a>

```
sage -t --long --random-seed=0 src/sage/algebras/lie_algebras/quotient.py  # 1 doctest failed
sage -t --long --random-seed=0 src/sage/modules/free_module_element.pyx  # 1 doctest failed
```



---

archive/issue_comments_517792.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI think I could use some help from a pickling expert here...",
    "created_at": "2021-06-16T15:44:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517792",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'>Comment 13:</a>
I think I could use some help from a pickling expert here...



---

archive/issue_comments_517793.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI bet this is related to #31182.",
    "created_at": "2021-06-16T16:41:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517793",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:14'>Comment 14:</a>
I bet this is related to #31182.



---

archive/issue_comments_517794.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nOkay, maybe not.",
    "created_at": "2021-06-16T16:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517794",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:15'>Comment 15:</a>
Okay, maybe not.



---

archive/issue_comments_517795.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@mkoeppe](#comment%3A13):\n> I think I could use some help from a pickling expert here...\n\nSorry I am definitely not such an expert and therefore cannot offer help here. Instead, let me ask about the motivation of this ticket. I understand that, from a mathematical point of view, `MultiCoordFunction`'s belong to the free module `FR^n` (`FR` being the ring of chart functions associated to a given chart and `n` the manifold's dimension) and that implementing this simplifies (a little) the code by relying on some code already implemented for `Vector_symbolic_dense`. This, by itself, is a motivation. However, I would say this is not a strong one, because no use is made in the manifold code of the *module* structure of the set of `MultiCoordFunction`'s over a given chart. Indeed, in the current implementation, the class `MultiCoordFunction` is used only to store\n\n1. the coordinate expression of a continous map in a given pair of charts;\n2. the transition map between two charts.\n\nIn both cases, there is no meaning in the basic module operations `m1 + m2` and `f*m1`, where `m1` and `m2` are two `MultiCoordFunction`'s and `f` is a chart function. Hence, the motivation to provide a parent with a module structure seems pretty weak, given the current use of the class `MultiCoordFunction`. So maybe it is not worth to pursue the effort and keep `MultiCoordFunction` as a simple technical storage class (by opposition to a \"mathematical\" class), not relying on sophisticated parts of Sage, with complicated pickling and possibly less efficient in terms of CPU time.",
    "created_at": "2021-06-16T18:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517795",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@mkoeppe](#comment%3A13):
> I think I could use some help from a pickling expert here...

Sorry I am definitely not such an expert and therefore cannot offer help here. Instead, let me ask about the motivation of this ticket. I understand that, from a mathematical point of view, `MultiCoordFunction`'s belong to the free module `FR^n` (`FR` being the ring of chart functions associated to a given chart and `n` the manifold's dimension) and that implementing this simplifies (a little) the code by relying on some code already implemented for `Vector_symbolic_dense`. This, by itself, is a motivation. However, I would say this is not a strong one, because no use is made in the manifold code of the *module* structure of the set of `MultiCoordFunction`'s over a given chart. Indeed, in the current implementation, the class `MultiCoordFunction` is used only to store

1. the coordinate expression of a continous map in a given pair of charts;
2. the transition map between two charts.

In both cases, there is no meaning in the basic module operations `m1 + m2` and `f*m1`, where `m1` and `m2` are two `MultiCoordFunction`'s and `f` is a chart function. Hence, the motivation to provide a parent with a module structure seems pretty weak, given the current use of the class `MultiCoordFunction`. So maybe it is not worth to pursue the effort and keep `MultiCoordFunction` as a simple technical storage class (by opposition to a "mathematical" class), not relying on sophisticated parts of Sage, with complicated pickling and possibly less efficient in terms of CPU time.



---

archive/issue_comments_517796.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nMy main motivation for the present ticket is for defining (not necessarily smooth) vector-valued (and later matrix-valued #31988) functions on manifolds (for #31981). If another class is better suited for this, I'd be interested to know.\n\nSome fixes here on the ticket are needed to make free module elements over the ring of coordinate functions work properly. Then I realized that `MultiCoordFunction` could just be the element class, giving some mild simplifications of the code. I agree that it is not essential to change `MultiCoordFunction` -- but whether I use that or a new class as the element class, I will need to fix the pickling of the elements.",
    "created_at": "2021-06-16T18:34:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517796",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'>Comment 17:</a>
My main motivation for the present ticket is for defining (not necessarily smooth) vector-valued (and later matrix-valued #31988) functions on manifolds (for #31981). If another class is better suited for this, I'd be interested to know.

Some fixes here on the ticket are needed to make free module elements over the ring of coordinate functions work properly. Then I realized that `MultiCoordFunction` could just be the element class, giving some mild simplifications of the code. I agree that it is not essential to change `MultiCoordFunction` -- but whether I use that or a new class as the element class, I will need to fix the pickling of the elements.



---

archive/issue_comments_517797.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nRegarding the pickling, can you spot after which commit the error occurred; more precisely, which lines caused it?",
    "created_at": "2021-06-16T18:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517797",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:18'>Comment 18:</a>
Regarding the pickling, can you spot after which commit the error occurred; more precisely, which lines caused it?



---

archive/issue_comments_517798.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nReplying to [@mkoeppe](#comment%3A17):\n> My main motivation for the present ticket is for defining (not necessarily smooth) vector-valued (and later matrix-valued #31988) functions on manifolds (for #31981). \n\nThanks for your quick reply. This sounds a strong motivation for a module structure!\n\n>If another class is better suited for this, I'd be interested to know.\n\nWouldn't a kind of `MultiScalarField` be better suited? In some sense, for vector-valued functions, this already exists through the class `Components`. \n \n> Some fixes here on the ticket are needed to make free module elements over the ring of coordinate functions work properly. Then I realized that `MultiCoordFunction` could just be the element class, giving some mild simplifications of the code. I agree that it is not essential to change `MultiCoordFunction` -- but whether I use that or a new class as the element class, I will need to fix the pickling of the elements.\n\nThanks for these explanations.",
    "created_at": "2021-06-16T18:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517798",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:19'>Comment 19:</a>
Replying to [@mkoeppe](#comment%3A17):
> My main motivation for the present ticket is for defining (not necessarily smooth) vector-valued (and later matrix-valued #31988) functions on manifolds (for #31981). 

Thanks for your quick reply. This sounds a strong motivation for a module structure!

>If another class is better suited for this, I'd be interested to know.

Wouldn't a kind of `MultiScalarField` be better suited? In some sense, for vector-valued functions, this already exists through the class `Components`. 
 
> Some fixes here on the ticket are needed to make free module elements over the ring of coordinate functions work properly. Then I realized that `MultiCoordFunction` could just be the element class, giving some mild simplifications of the code. I agree that it is not essential to change `MultiCoordFunction` -- but whether I use that or a new class as the element class, I will need to fix the pickling of the elements.

Thanks for these explanations.



---

archive/issue_comments_517799.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@egourgoulhon](#comment%3A19):\n> Replying to [@mkoeppe](#comment%3A17):\n> > My main motivation for the present ticket is for defining (not necessarily smooth) vector-valued (and later matrix-valued #31988) functions on manifolds (for #31981). \n\n> \n> Thanks for your quick reply. This sounds a strong motivation for a module structure!\n> \n> >If another class is better suited for this, I'd be interested to know.\n\n> \n> Wouldn't a kind of `MultiScalarField` be better suited? In some sense, for vector-valued functions, this already exists through the class `Components`. \n\nYou are probably right about this. I guess a tricky point is regarding the required smoothness of scalar fields. I like to think of the domain as a smooth manifold, but the functions that I want to define on them often are less smooth - typically only piecewise C<sup>1</sup>, with Lipschitz gradients. See for example https://www.cvxpy.org/api_reference/cvxpy.atoms.elementwise.html",
    "created_at": "2021-06-16T19:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517799",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@egourgoulhon](#comment%3A19):
> Replying to [@mkoeppe](#comment%3A17):
> > My main motivation for the present ticket is for defining (not necessarily smooth) vector-valued (and later matrix-valued #31988) functions on manifolds (for #31981). 

> 
> Thanks for your quick reply. This sounds a strong motivation for a module structure!
> 
> >If another class is better suited for this, I'd be interested to know.

> 
> Wouldn't a kind of `MultiScalarField` be better suited? In some sense, for vector-valued functions, this already exists through the class `Components`. 

You are probably right about this. I guess a tricky point is regarding the required smoothness of scalar fields. I like to think of the domain as a smooth manifold, but the functions that I want to define on them often are less smooth - typically only piecewise C<sup>1</sup>, with Lipschitz gradients. See for example https://www.cvxpy.org/api_reference/cvxpy.atoms.elementwise.html



---

archive/issue_comments_517800.json:
```json
{
    "body": "Changed dependencies from **#31721** to **#31721, #31999**",
    "created_at": "2021-06-17T18:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517800",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31721** to **#31721, #31999**



---

archive/issue_comments_517801.json:
```json
{
    "body": "Work Issues: **rebase on #31999; fix pickling issue**",
    "created_at": "2021-06-17T18:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517801",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **rebase on #31999; fix pickling issue**



---

archive/issue_events_422767.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422767"
}
```



---

archive/issue_events_422768.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422768"
}
```



---

archive/issue_comments_517802.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31982#issuecomment-517802",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'>Comment 23:</a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_422769.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422769"
}
```



---

archive/issue_events_422770.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422770"
}
```



---

archive/issue_events_422771.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422771"
}
```



---

archive/issue_events_422772.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422772"
}
```



---

archive/issue_events_422773.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422773"
}
```



---

archive/issue_events_422774.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422774"
}
```



---

archive/issue_events_422775.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422775"
}
```



---

archive/issue_events_422776.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31982",
    "milestone_number": null,
    "milestone_title": "sage-9.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31982#event-422776"
}
```
