# Issue 31027: Make jmol optional

archive/issues_030790.json:
```json
{
    "body": "(split out from #30315)\n\nWe propose to downgrade jmol to optional.  \n\nIt is still needed for\n- HTML docbuild -> #33507\n- sagetex testsuite\n- PDF docbuild\nso we make installation of jmol conditional on these.\n\nSee discussion: \u200bhttps://groups.google.com/g/sage-devel/c/qKqTmLzHAbg/m/6YxQ_qWUBQAJ\n and #33507 for alternative technologies for creating 3D graphics for documentation and sagetex\n\nCC:  @kcrisman @novoselt @jcamp0x2a @antonio-rojas @kiwifb @seblabbe @egourgoulhon @dimpase\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/make_jmol_optional\n\nStatus: new\n\nDependencies: #33507, #33534\n\nCommit: ae970c2c80a24bfeab28a1748881147c6cd12bf8\n\nIssue created by migration from https://trac.sagemath.org/ticket/31027\n\n",
    "created_at": "2020-12-08T01:42:49Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-pending",
    "title": "Make jmol optional",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31027",
    "user": "https://github.com/mkoeppe"
}
```
(split out from #30315)

We propose to downgrade jmol to optional.  

It is still needed for
- HTML docbuild -> #33507
- sagetex testsuite
- PDF docbuild
so we make installation of jmol conditional on these.

See discussion: ​https://groups.google.com/g/sage-devel/c/qKqTmLzHAbg/m/6YxQ_qWUBQAJ
 and #33507 for alternative technologies for creating 3D graphics for documentation and sagetex

CC:  @kcrisman @novoselt @jcamp0x2a @antonio-rojas @kiwifb @seblabbe @egourgoulhon @dimpase

Author: Matthias Koeppe

Branch: u/mkoeppe/make_jmol_optional

Status: new

Dependencies: #33507, #33534

Commit: ae970c2c80a24bfeab28a1748881147c6cd12bf8

Issue created by migration from https://trac.sagemath.org/ticket/31027





---

archive/issue_comments_616225.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/make_jmol_optional\"",
    "created_at": "2020-12-08T01:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616225",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/make_jmol_optional"



---

archive/issue_comments_616226.json:
```json
{
    "body": "Changing dependencies from \"#30315\" to \"#30315, #31020\"",
    "created_at": "2020-12-08T01:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616226",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30315" to "#30315, #31020"



---

archive/issue_comments_616227.json:
```json
{
    "body": "Changing commit from \"\" to \"ae970c2c80a24bfeab28a1748881147c6cd12bf8\"",
    "created_at": "2020-12-08T01:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616227",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "ae970c2c80a24bfeab28a1748881147c6cd12bf8"



---

archive/issue_comments_616228.json:
```json
{
    "body": "<a id='comment:2'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|\n|[0ed256c](https://github.com/sagemath/sagetrac-mirror/commit/0ed256ce64728942249fa79b72abcf37cb544814)|`build/make/Makefile.in: Compute SAGE_CHECK_... earlier, before evaluating dependencies`|\n|[1f714c1](https://github.com/sagemath/sagetrac-mirror/commit/1f714c119492a2540b74fc8e9521cc7204d4d28e)|`build/pkgs/sagetex/dependencies: Conditionalize order-only deps on SAGE_CHECK_sagetex`|\n|[6a549d9](https://github.com/sagemath/sagetrac-mirror/commit/6a549d97f2051ae6c158adc06ae6b6d86fde24dc)|`Merge branch 't/31020/build_make_makefile_in__fix_sage_check_logic__conditionalize_sagetex_dependencies_on_sage_check' into t/30315/switch_jsmol_to_jupyter_jsmol__make_jmol_optional`|\n|[3a45d72](https://github.com/sagemath/sagetrac-mirror/commit/3a45d72b552d7baeb046a9829e63353e8aa7e252)|`build/pkgs/jupyter_jsmol/spkg-install.in: Do not rebuild the javascript file`|\n|[a8e0364](https://github.com/sagemath/sagetrac-mirror/commit/a8e0364dc6ff16a799b64670e75f05a4dfac3b1e)|`Specify bdist temp folder for WSL compatibility`|\n|[a3077c7](https://github.com/sagemath/sagetrac-mirror/commit/a3077c71f488ddb2b6fe4058cbbc981d02d7ba95)|`Use mktemp`|\n|[c5a14a3](https://github.com/sagemath/sagetrac-mirror/commit/c5a14a396fd1f1cd2de0d6fd465e546b7ff0b33b)|`build/bin/sage-dist-helpers (sdh_setup_bdist_wheel): New`|\n|[fb10429](https://github.com/sagemath/sagetrac-mirror/commit/fb10429b974d649741c67077ed50a00815880932)|`build/pkgs/*/spkg-install.in: Use new function sdh_setup_bdist_wheel`|\n|[32bf463](https://github.com/sagemath/sagetrac-mirror/commit/32bf46376eb931956d38a0d9811960db51d899d0)|`Merge branch 't/31002/public/build/bdist_wsl' into t/30315/switch_jsmol_to_jupyter_jsmol__make_jmol_optional`|\n|[ae970c2](https://github.com/sagemath/sagetrac-mirror/commit/ae970c2c80a24bfeab28a1748881147c6cd12bf8)|`build/pkgs/jupyter_jsmol/spkg-install.in: Use new function sdh_setup_bdist_wheel`|",
    "created_at": "2020-12-08T01:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616228",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Last 10 new commits:
|                                                                                                                                          |                                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
|[0ed256c](https://github.com/sagemath/sagetrac-mirror/commit/0ed256ce64728942249fa79b72abcf37cb544814)|`build/make/Makefile.in: Compute SAGE_CHECK_... earlier, before evaluating dependencies`|
|[1f714c1](https://github.com/sagemath/sagetrac-mirror/commit/1f714c119492a2540b74fc8e9521cc7204d4d28e)|`build/pkgs/sagetex/dependencies: Conditionalize order-only deps on SAGE_CHECK_sagetex`|
|[6a549d9](https://github.com/sagemath/sagetrac-mirror/commit/6a549d97f2051ae6c158adc06ae6b6d86fde24dc)|`Merge branch 't/31020/build_make_makefile_in__fix_sage_check_logic__conditionalize_sagetex_dependencies_on_sage_check' into t/30315/switch_jsmol_to_jupyter_jsmol__make_jmol_optional`|
|[3a45d72](https://github.com/sagemath/sagetrac-mirror/commit/3a45d72b552d7baeb046a9829e63353e8aa7e252)|`build/pkgs/jupyter_jsmol/spkg-install.in: Do not rebuild the javascript file`|
|[a8e0364](https://github.com/sagemath/sagetrac-mirror/commit/a8e0364dc6ff16a799b64670e75f05a4dfac3b1e)|`Specify bdist temp folder for WSL compatibility`|
|[a3077c7](https://github.com/sagemath/sagetrac-mirror/commit/a3077c71f488ddb2b6fe4058cbbc981d02d7ba95)|`Use mktemp`|
|[c5a14a3](https://github.com/sagemath/sagetrac-mirror/commit/c5a14a396fd1f1cd2de0d6fd465e546b7ff0b33b)|`build/bin/sage-dist-helpers (sdh_setup_bdist_wheel): New`|
|[fb10429](https://github.com/sagemath/sagetrac-mirror/commit/fb10429b974d649741c67077ed50a00815880932)|`build/pkgs/*/spkg-install.in: Use new function sdh_setup_bdist_wheel`|
|[32bf463](https://github.com/sagemath/sagetrac-mirror/commit/32bf46376eb931956d38a0d9811960db51d899d0)|`Merge branch 't/31002/public/build/bdist_wsl' into t/30315/switch_jsmol_to_jupyter_jsmol__make_jmol_optional`|
|[ae970c2](https://github.com/sagemath/sagetrac-mirror/commit/ae970c2c80a24bfeab28a1748881147c6cd12bf8)|`build/pkgs/jupyter_jsmol/spkg-install.in: Use new function sdh_setup_bdist_wheel`|



---

archive/issue_comments_616229.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n so we make installation of jmol conditional on these.\n \n See discussion: \u200bhttps://groups.google.com/g/sage-devel/c/qKqTmLzHAbg/m/6YxQ_qWUBQAJ\n-... also for alternative technologies for creating 3D graphics for documentation and sagetex\n+ and #33507 for alternative technologies for creating 3D graphics for documentation and sagetex\n``````\n",
    "created_at": "2022-03-15T21:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616229",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 so we make installation of jmol conditional on these.
 
 See discussion: ​https://groups.google.com/g/sage-devel/c/qKqTmLzHAbg/m/6YxQ_qWUBQAJ
-... also for alternative technologies for creating 3D graphics for documentation and sagetex
+ and #33507 for alternative technologies for creating 3D graphics for documentation and sagetex
``````




---

archive/issue_comments_616230.json:
```json
{
    "body": "Changing dependencies from \"#30315, #31020\" to \"#33513\"",
    "created_at": "2022-03-16T18:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616230",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30315, #31020" to "#33513"



---

archive/issue_comments_616231.json:
```json
{
    "body": "Changing dependencies from \"#33513\" to \"#33507, #33534\"",
    "created_at": "2022-03-20T02:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616231",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33513" to "#33507, #33534"



---

archive/issue_comments_616232.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,8 +3,9 @@\n We propose to downgrade jmol to optional.  \n \n It is still needed for\n+- HTML docbuild -> #33507\n - sagetex testsuite\n-- PDF docbuild(?)\n+- PDF docbuild\n so we make installation of jmol conditional on these.\n \n See discussion: \u200bhttps://groups.google.com/g/sage-devel/c/qKqTmLzHAbg/m/6YxQ_qWUBQAJ\n``````\n",
    "created_at": "2022-03-20T02:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31027",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31027#issuecomment-616232",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,8 +3,9 @@
 We propose to downgrade jmol to optional.  
 
 It is still needed for
+- HTML docbuild -> #33507
 - sagetex testsuite
-- PDF docbuild(?)
+- PDF docbuild
 so we make installation of jmol conditional on these.
 
 See discussion: ​https://groups.google.com/g/sage-devel/c/qKqTmLzHAbg/m/6YxQ_qWUBQAJ
``````

