# Issue 31837: lcalc: Fix for gcc 11

archive/issues_031600.json:
```json
{
    "assignees": [],
    "body": "(from #31786)\n\n[https://github.com/cschwan/sage-on-gentoo/issues/634](https://github.com/cschwan/sage-on-gentoo/issues/634) and [https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch](https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch)\n\nPrevious fixes in #30987\n\n\n\nCC:  @tscrim @dimpase @kiwifb @orlitzky @isuruf @fchapoton @saraedum\n\nBranch/Commit: **[26caef1](https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31837_\n\n",
    "closed_at": "2021-07-06T21:29:42Z",
    "created_at": "2021-05-18T18:03:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "lcalc: Fix for gcc 11",
    "type": "issue",
    "updated_at": "2021-07-06T21:29:42Z",
    "url": "https://github.com/sagemath/sage/issues/31837",
    "user": "https://github.com/mkoeppe"
}
```
(from #31786)

[https://github.com/cschwan/sage-on-gentoo/issues/634](https://github.com/cschwan/sage-on-gentoo/issues/634) and [https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch](https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch)

Previous fixes in #30987



CC:  @tscrim @dimpase @kiwifb @orlitzky @isuruf @fchapoton @saraedum

Branch/Commit: **[26caef1](https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84)**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/31837_





---

archive/issue_events_439079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-18T18:03:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439079"
}
```



---

archive/issue_events_439080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-18T18:03:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439080"
}
```



---

archive/issue_events_439081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-18T18:03:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439081"
}
```



---

archive/issue_events_439082.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-18T18:03:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439082"
}
```



---

archive/issue_comments_511966.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,7 @@\n+(from #31786)\n+\n+[https://github.com/cschwan/sage-on-gentoo/issues/634](https://github.com/cschwan/sage-on-gentoo/issues/634) and [https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch](https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch)\n+\n Previous fixes in #30987\n \n+\n``````\n",
    "created_at": "2021-05-18T18:04:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511966",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,7 @@
+(from #31786)
+
+[https://github.com/cschwan/sage-on-gentoo/issues/634](https://github.com/cschwan/sage-on-gentoo/issues/634) and [https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch](https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch)
+
 Previous fixes in #30987
 
+
``````




---

archive/issue_comments_511967.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nFor the record if I don't get around this. The sage-on-gentoo patch supercedes a previous patch that touches the same section.",
    "created_at": "2021-05-19T01:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511967",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">comment:2</div>

For the record if I don't get around this. The sage-on-gentoo patch supercedes a previous patch that touches the same section.



---

archive/issue_comments_511968.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIs there an upstream repo?",
    "created_at": "2021-05-19T04:07:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511968",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Is there an upstream repo?



---

archive/issue_comments_511969.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@mkoeppe](#comment:3):\n> Is there an upstream repo?\n\nFunny you would ask https://groups.google.com/g/sage-devel/c/0nZaREwFJpQ/m/lfFLjUrLBAAJ",
    "created_at": "2021-05-19T04:23:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511969",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@mkoeppe](#comment:3):
> Is there an upstream repo?

Funny you would ask https://groups.google.com/g/sage-devel/c/0nZaREwFJpQ/m/lfFLjUrLBAAJ



---

archive/issue_comments_511970.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nDoes anyone know Michael Rubinstein? As an upstream project, lcalc looks dead to me. It would be nice if we could get his blessing to work on its successor in our gitlab repo. There are a mountain of patches waiting to be applied, and we could fix the build system and test suite. We could then package the fork in sage and the various distros.",
    "created_at": "2021-06-02T19:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511970",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:6" align="right">comment:6</div>

Does anyone know Michael Rubinstein? As an upstream project, lcalc looks dead to me. It would be nice if we could get his blessing to work on its successor in our gitlab repo. There are a mountain of patches waiting to be applied, and we could fix the build system and test suite. We could then package the fork in sage and the various distros.



---

archive/issue_comments_511971.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nUpstream does not appear to be active (I did have an email exchange), and we certainly may do as we please.\n\n(un)fortunately at some point Sage became de facto upstream for lcalc, and tracing the history of changes is not fun...",
    "created_at": "2021-06-03T12:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511971",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

Upstream does not appear to be active (I did have an email exchange), and we certainly may do as we please.

(un)fortunately at some point Sage became de facto upstream for lcalc, and tracing the history of changes is not fun...



---

archive/issue_comments_511972.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nDoes anyone know if sage actually needs lcalc to be built with MPFR support? The repo at https://gitlab.com/sagemath/lcalc is in increasingly good shape, but support for MPFR is still broken.\n\nThe previous build system allowed you to manually define one of two constants, `-DMPFR` or `-DMPFRCPP`, which chose one of two C++ interfaces to MPFR. Using `-DMPFR` would use the much older interface from https://math.berkeley.edu/~wilken/code/gmpfrxx/, while `-DMPFRCPP` would use the still-maintained http://www.holoborodko.com/pavel/mpfr/. (The necessary headers still live in the old `include` directory.)\n\nProblem is, when I define either constant, neither approach builds out-of-the box. The still-maintained interface would obviously be preferable, but there are horrendous C++ template errors either way. If sage doesn't actually need MPFR support in lcalc, I could choose the cowardly option to release lcalc-2.0.0 without MPFR support until someone cares enough to fix it. That would leave only the documentation and test suite to work on.",
    "created_at": "2021-06-06T14:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511972",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:8" align="right">comment:8</div>

Does anyone know if sage actually needs lcalc to be built with MPFR support? The repo at https://gitlab.com/sagemath/lcalc is in increasingly good shape, but support for MPFR is still broken.

The previous build system allowed you to manually define one of two constants, `-DMPFR` or `-DMPFRCPP`, which chose one of two C++ interfaces to MPFR. Using `-DMPFR` would use the much older interface from https://math.berkeley.edu/~wilken/code/gmpfrxx/, while `-DMPFRCPP` would use the still-maintained http://www.holoborodko.com/pavel/mpfr/. (The necessary headers still live in the old `include` directory.)

Problem is, when I define either constant, neither approach builds out-of-the box. The still-maintained interface would obviously be preferable, but there are horrendous C++ template errors either way. If sage doesn't actually need MPFR support in lcalc, I could choose the cowardly option to release lcalc-2.0.0 without MPFR support until someone cares enough to fix it. That would leave only the documentation and test suite to work on.



---

archive/issue_comments_511973.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSage does not build lcalc with MPFR support, so this is not a requirement for us.",
    "created_at": "2021-06-07T09:19:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511973",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

Sage does not build lcalc with MPFR support, so this is not a requirement for us.



---

archive/issue_comments_511974.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOk, good. I was just looking at the \"mpfr\" in its `dependencies` file.\n\nI may actually be able to get MPFR support working soon. I made it compile by adding a bunch of typecasts and by replacing the C++ built-in `complex` class with the one from lcalc's `Lcomplex.h` within `mpreal.h`. None of the output looks too crazy but I'm not exactly confident about it.",
    "created_at": "2021-06-07T14:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511974",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:10" align="right">comment:10</div>

Ok, good. I was just looking at the "mpfr" in its `dependencies` file.

I may actually be able to get MPFR support working soon. I made it compile by adding a bunch of typecasts and by replacing the C++ built-in `complex` class with the one from lcalc's `Lcomplex.h` within `mpreal.h`. None of the output looks too crazy but I'm not exactly confident about it.



---

archive/issue_comments_511975.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI checked that lcalc on a couple of systems is not linked with libmpfr.",
    "created_at": "2021-06-07T14:46:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511975",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

I checked that lcalc on a couple of systems is not linked with libmpfr.



---

archive/issue_comments_511976.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHow's this coming along?",
    "created_at": "2021-06-20T15:27:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511976",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

How's this coming along?



---

archive/issue_comments_511977.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@mkoeppe](#comment:12):\n> How's this coming along?\n\nIt's done AFAIK. The only thing left to do is run `make dist` in the lcalc repo, install it to the system, and see if it works with sage. Hopefully not too many changes are needed. The header location is now \"officially\" installed to `lcalc/L.h` but that's the only breaking change that I know of for sure.\n\nIf everything works, I can release v2.0.0 and we can upgrade the spkg.",
    "created_at": "2021-06-21T13:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511977",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@mkoeppe](#comment:12):
> How's this coming along?

It's done AFAIK. The only thing left to do is run `make dist` in the lcalc repo, install it to the system, and see if it works with sage. Hopefully not too many changes are needed. The header location is now "officially" installed to `lcalc/L.h` but that's the only breaking change that I know of for sure.

If everything works, I can release v2.0.0 and we can upgrade the spkg.



---

archive/issue_comments_511978.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAn important API changed in the new lcalc: https://gitlab.com/sagemath/lcalc/-/issues/8\n\nI don't think the fix will be very complicated, but it does require changing stuff in `src/sage/libs/lcalc/`.",
    "created_at": "2021-06-22T13:42:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511978",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:14" align="right">comment:14</div>

An important API changed in the new lcalc: https://gitlab.com/sagemath/lcalc/-/issues/8

I don't think the fix will be very complicated, but it does require changing stuff in `src/sage/libs/lcalc/`.



---

archive/issue_comments_511979.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe lcalc-2.0.0 upgrade ticket is at #32037 with some proof-of-concept patches that I hacked together. Not all of the doctest changes are simple fixes:  two of the answers have changed, and I don't know which is correct.\n\nI would recommend pulling in one of the distro patches to fix the gcc-11 problem for sage-9.4, since upgrading lcalc may take some time.",
    "created_at": "2021-06-23T03:22:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511979",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:15" align="right">comment:15</div>

The lcalc-2.0.0 upgrade ticket is at #32037 with some proof-of-concept patches that I hacked together. Not all of the doctest changes are simple fixes:  two of the answers have changed, and I don't know which is correct.

I would recommend pulling in one of the distro patches to fix the gcc-11 problem for sage-9.4, since upgrading lcalc may take some time.



---

archive/issue_comments_511980.json:
```json
{
    "body": "Branch: **[u/mkoeppe/lcalc__fix_for_gcc_11](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lcalc__fix_for_gcc_11)**",
    "created_at": "2021-06-30T20:55:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511980",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/lcalc__fix_for_gcc_11](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lcalc__fix_for_gcc_11)**



---

archive/issue_comments_511981.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOf course because of heavy patching, this patch does not apply\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9\">5023898</a></td><td><code>build/pkgs/lcalc/patches: Add https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch</code></td></tr></table>\n",
    "created_at": "2021-06-30T21:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511981",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Of course because of heavy patching, this patch does not apply

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9">5023898</a></td><td><code>build/pkgs/lcalc/patches: Add https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch</code></td></tr></table>




---

archive/issue_comments_511982.json:
```json
{
    "body": "Commit: **[5023898](https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9)**",
    "created_at": "2021-06-30T21:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511982",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[5023898](https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9)**



---

archive/issue_comments_511983.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nIs there a branch in the lcalc repo on gitlab that corresponds to the patches that we have in `build/pkgs/lcalc/patches`?",
    "created_at": "2021-06-30T21:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511983",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Is there a branch in the lcalc repo on gitlab that corresponds to the patches that we have in `build/pkgs/lcalc/patches`?



---

archive/issue_comments_511984.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment:17):\n> Of course because of heavy patching, this patch does not apply\n> \n> ---\n> New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9\">5023898</a></td><td><code>build/pkgs/lcalc/patches: Add https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch</code></td></tr></table>\n\nYou missed the bit where it says this patch replaces another. Namely the `Lcommon.h.patch` in vanilla sage.",
    "created_at": "2021-06-30T21:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511984",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment:17):
> Of course because of heavy patching, this patch does not apply
> 
> ---
> New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9">5023898</a></td><td><code>build/pkgs/lcalc/patches: Add https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/lcalc/files/lcalc-1.23-gcc11.patch</code></td></tr></table>

You missed the bit where it says this patch replaces another. Namely the `Lcommon.h.patch` in vanilla sage.



---

archive/issue_comments_511985.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThanks!",
    "created_at": "2021-06-30T21:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511985",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Thanks!



---

archive/issue_comments_511986.json:
```json
{
    "body": "Changed commit from **[5023898](https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9)** to **[26caef1](https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84)**",
    "created_at": "2021-06-30T21:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511986",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5023898](https://github.com/sagemath/sagetrac-mirror/commit/50238984b0822c0c6a747e2a7908b7137af389c9)** to **[26caef1](https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84)**



---

archive/issue_comments_511987.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84\">26caef1</a></td><td><code>build/pkgs/lcalc/patches: Remove the superseded Lcommon.h.patch</code></td></tr></table>\n",
    "created_at": "2021-06-30T21:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511987",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84">26caef1</a></td><td><code>build/pkgs/lcalc/patches: Remove the superseded Lcommon.h.patch</code></td></tr></table>




---

archive/issue_comments_511988.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-06-30T21:14:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511988",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_439083.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-30T21:14:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439083"
}
```



---

archive/issue_comments_511989.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-06-30T23:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511989",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_439084.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-06-30T23:17:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439084"
}
```



---

archive/issue_events_439085.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-06-30T23:17:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439085"
}
```



---

archive/issue_comments_511990.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nthat's just adding a bunch of `constexpr`, right?\n\nI've upstreamed this in https://gitlab.com/sagemath/lcalc/-/issues/9\n\nLGTM",
    "created_at": "2021-06-30T23:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511990",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

that's just adding a bunch of `constexpr`, right?

I've upstreamed this in https://gitlab.com/sagemath/lcalc/-/issues/9

LGTM



---

archive/issue_comments_511991.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@dimpase](#comment:23):\n> that's just adding a bunch of `constexpr`, right?\n> \n\nYes.",
    "created_at": "2021-06-30T23:18:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511991",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@dimpase](#comment:23):
> that's just adding a bunch of `constexpr`, right?
> 

Yes.



---

archive/issue_comments_511992.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThanks.",
    "created_at": "2021-07-01T00:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511992",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Thanks.



---

archive/issue_events_439086.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-06T21:29:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439086"
}
```



---

archive/issue_events_439087.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "af28336752bcd2b68071d6f7cd83e9044c313594",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-07-06T21:29:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31837#event-439087"
}
```



---

archive/issue_comments_511993.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/lcalc__fix_for_gcc_11](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lcalc__fix_for_gcc_11)** to **[26caef1](https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84)**",
    "created_at": "2021-07-06T21:29:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31837#issuecomment-511993",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/lcalc__fix_for_gcc_11](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/lcalc__fix_for_gcc_11)** to **[26caef1](https://github.com/sagemath/sagetrac-mirror/commit/26caef1d7a5780f46345a59557fd81ff5f461d84)**
