# Issue 31830: perl_cpan_polymake_prereq: Update install instructions

archive/issues_031593.json:
```json
{
    "body": "On macOS, it has gotten harder to install all Perl libraries needed for polymake.\n\n- To clean out previous installations of Perl packages:\n  {{{\n  rm -rf ~/perl5\n  }}}\n\n- System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.\n  {{{\n  env CPATH=\"$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH\" /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG || echo \"(ignoring error)\"\n  }}}\n  (This setting of the environment variable should not be made persistent.)\n\n- homebrew's perl5 .... info needed\n\n\n- perlbrew (current recommendation by Perl users): https://perlbrew.pl/ https://github.com/gugod/App-perlbrew\n\n- https://github.com/tokuhirom/plenv (alternative to perlbrew)\n\n\n\nCC:  @yuan-zhou @jplab @kliem @sophiasage @tscrim\n\nStatus: new\n\nDependencies: #31840\n\nIssue created by migration from https://trac.sagemath.org/ticket/31830\n\n",
    "created_at": "2021-05-18T00:56:39Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "perl_cpan_polymake_prereq: Update install instructions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31830",
    "user": "https://github.com/mkoeppe"
}
```
On macOS, it has gotten harder to install all Perl libraries needed for polymake.

- To clean out previous installations of Perl packages:
  {{{
  rm -rf ~/perl5
  }}}

- System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.
  {{{
  env CPATH="$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH" /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG || echo "(ignoring error)"
  }}}
  (This setting of the environment variable should not be made persistent.)

- homebrew's perl5 .... info needed


- perlbrew (current recommendation by Perl users): https://perlbrew.pl/ https://github.com/gugod/App-perlbrew

- https://github.com/tokuhirom/plenv (alternative to perlbrew)



CC:  @yuan-zhou @jplab @kliem @sophiasage @tscrim

Status: new

Dependencies: #31840

Issue created by migration from https://trac.sagemath.org/ticket/31830





---

archive/issue_comments_481835.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n \n - System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.\n   {{{\n-export CPATH=$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH`\n+export CPATH=\"$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH\"\n /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG MongoDB || echo \"(ignoring error)\"\n   }}}\n \n@@ -18,6 +18,8 @@\n \n - https://github.com/tokuhirom/plenv (alternative to perlbrew)\n \n+\n+\n Comment: 1\n \n Issue created by migration from https://trac.sagemath.org/ticket/31830\n```\n",
    "created_at": "2021-05-18T05:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31830#issuecomment-481835",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -7,7 +7,7 @@
 
 - System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.
   {{{
-export CPATH=$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH`
+export CPATH="$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH"
 /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG MongoDB || echo "(ignoring error)"
   }}}
 
@@ -18,6 +18,8 @@
 
 - https://github.com/tokuhirom/plenv (alternative to perlbrew)
 
+
+
 Comment: 1
 
 Issue created by migration from https://trac.sagemath.org/ticket/31830
```




---

archive/issue_comments_481836.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,23 @@\n+On macOS, it has gotten harder to install all Perl libraries needed for polymake.\n+\n+- To clean out previous installations of Perl packages:\n+  {{{\n+  rm -rf ~/perl5\n+  }}}\n+\n+- System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.\n+  {{{\n+  env CPATH=\"$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH\" /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG MongoDB || echo \"(ignoring error)\"\n+  }}}\n+  (This setting of the environment variable should not be made persistent.)\n+\n+- homebrew's perl5 .... info needed\n+\n+\n+- perlbrew (current recommendation by Perl users): https://perlbrew.pl/ https://github.com/gugod/App-perlbrew\n+\n+- https://github.com/tokuhirom/plenv (alternative to perlbrew)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2021-05-19T02:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31830#issuecomment-481836",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,23 @@
+On macOS, it has gotten harder to install all Perl libraries needed for polymake.
+
+- To clean out previous installations of Perl packages:
+  {{{
+  rm -rf ~/perl5
+  }}}
+
+- System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.
+  {{{
+  env CPATH="$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH" /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG MongoDB || echo "(ignoring error)"
+  }}}
+  (This setting of the environment variable should not be made persistent.)
+
+- homebrew's perl5 .... info needed
+
+
+- perlbrew (current recommendation by Perl users): https://perlbrew.pl/ https://github.com/gugod/App-perlbrew
+
+- https://github.com/tokuhirom/plenv (alternative to perlbrew)
+
 
 
 Comment: 1
```




---

archive/issue_comments_481837.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,23 @@\n+On macOS, it has gotten harder to install all Perl libraries needed for polymake.\n+\n+- To clean out previous installations of Perl packages:\n+  {{{\n+  rm -rf ~/perl5\n+  }}}\n+\n+- System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.\n+  {{{\n+  env CPATH=\"$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH\" /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG || echo \"(ignoring error)\"\n+  }}}\n+  (This setting of the environment variable should not be made persistent.)\n+\n+- homebrew's perl5 .... info needed\n+\n+\n+- perlbrew (current recommendation by Perl users): https://perlbrew.pl/ https://github.com/gugod/App-perlbrew\n+\n+- https://github.com/tokuhirom/plenv (alternative to perlbrew)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2021-05-20T01:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31830#issuecomment-481837",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,23 @@
+On macOS, it has gotten harder to install all Perl libraries needed for polymake.
+
+- To clean out previous installations of Perl packages:
+  {{{
+  rm -rf ~/perl5
+  }}}
+
+- System `/usr/bin/perl` on macOS Catalina is 5.18, does not have `EXTERN.h`. To compile Perl packages, need to make headers from XCode available by setting `CPATH`. Also need to override various test failures that seem to come from system integrity protection using `cpan install -f`.
+  {{{
+  env CPATH="$(xcrun --show-sdk-path)/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE:$CPATH" /usr/bin/cpan install -f XML::Writer XML::LibXML XML::LibXSLT File::Slurp JSON SVG || echo "(ignoring error)"
+  }}}
+  (This setting of the environment variable should not be made persistent.)
+
+- homebrew's perl5 .... info needed
+
+
+- perlbrew (current recommendation by Perl users): https://perlbrew.pl/ https://github.com/gugod/App-perlbrew
+
+- https://github.com/tokuhirom/plenv (alternative to perlbrew)
+
 
 
 Comment: 1
```




---

archive/issue_events_084072.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31830#event-84072"
}
```



---

archive/issue_events_084073.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31830#event-84073"
}
```



---

archive/issue_events_084074.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31830#event-84074"
}
```



---

archive/issue_events_084075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31830#event-84075"
}
```



---

archive/issue_events_084076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31830#event-84076"
}
```



---

archive/issue_events_084077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31830#event-84077"
}
```



---

archive/issue_events_084078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31830",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31830#event-84078"
}
```
