# Issue 31549: add support for dynamical systems over function field in function  all_rational_preimages

archive/issues_031312.json:
```json
{
    "body": "we modified the if condition so that it doesn't throw an error when working with dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field\n\nCC:  @bhutz\n\nReviewer: Ben Hutz\n\nAuthor: Saher Amasha,Safa Amasha\n\nBranch: u/gh-Saher-Amasha/add_support_for_dynamical_systems_over_function_field_in_function__all_rational_preimages\n\nStatus: needs_work\n\nCommit: 46fc21e63abd13164dbbe4b80f6e53c5516ee1aa\n\nIssue created by migration from https://trac.sagemath.org/ticket/31549\n\n",
    "created_at": "2021-03-24T17:27:43Z",
    "labels": [
        "component: dynamics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "add support for dynamical systems over function field in function  all_rational_preimages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31549",
    "user": "https://github.com/Saher-Amasha"
}
```
we modified the if condition so that it doesn't throw an error when working with dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field

CC:  @bhutz

Reviewer: Ben Hutz

Author: Saher Amasha,Safa Amasha

Branch: u/gh-Saher-Amasha/add_support_for_dynamical_systems_over_function_field_in_function__all_rational_preimages

Status: needs_work

Commit: 46fc21e63abd13164dbbe4b80f6e53c5516ee1aa

Issue created by migration from https://trac.sagemath.org/ticket/31549





---

archive/issue_comments_477776.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n we modified the if so that it doesn't throw an error when working with \n- dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field\n+dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field\n \n Author: Saher Amasha,Safa Amasha\n \n```\n",
    "created_at": "2021-03-26T16:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477776",
    "user": "https://github.com/Saher-Amasha"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,5 +1,5 @@
 we modified the if so that it doesn't throw an error when working with 
- dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field
+dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field
 
 Author: Saher Amasha,Safa Amasha
 
```




---

archive/issue_comments_477777.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+we modified the if condition so that it doesn't throw an error when working with dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field\n \n Author: Saher Amasha,Safa Amasha\n \n```\n",
    "created_at": "2021-03-26T16:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477777",
    "user": "https://github.com/Saher-Amasha"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+we modified the if condition so that it doesn't throw an error when working with dynamical systems over function field the actual code of the function is not changed because it works on  dynamical systems over function field
 
 Author: Saher Amasha,Safa Amasha
 
```




---

archive/issue_events_082922.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-27T02:13:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82922"
}
```



---

archive/issue_comments_477778.json:
```json
{
    "body": "<a id='comment:4'></a>Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-27T02:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477778",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_477779.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-27T14:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477779",
    "user": "https://github.com/Saher-Amasha"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_477780.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2021-03-27T14:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477780",
    "user": "https://github.com/Saher-Amasha"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_477781.json:
```json
{
    "body": "<a id='comment:7'></a>I can take a look at this change, but it probably won't be until next week.\n\njust a quick comment. The commit message should be short (one line) with the more detailed description in a following paragraph.",
    "created_at": "2021-04-16T15:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477781",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:7'></a>I can take a look at this change, but it probably won't be until next week.

just a quick comment. The commit message should be short (one line) with the more detailed description in a following paragraph.



---

archive/issue_comments_477782.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-04-21T14:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477782",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_477783.json:
```json
{
    "body": "<a id='comment:8'></a>On the surface this functionality works, but the details need a little work.\n\nIn the code itself there are a number of white space issues. For example\n\n```\n[(1/t)*x^2 + y^2  ,y^2])\n```\nshould be\n\n```\n[(1/t)*x^2 + y^2, y^2])\n```\n\nIn the new if line as well, you're missing a space after the comma and have an extra space before the closing ).\n\nThe example code should be improved in a number of ways:\n\n- I'd suggest saving a line and removing K and just defining the function field over the finite field directly.\n- The variables base and CF are not used so should not be in the example.\n- D is not needed: P is already the domain of DS.\n- Instead of calling normalize, just define the dynamical system as you want it to be defined as.\n\nWhile adding support for function fields, seems like you should also allow finite fields, since that also requires no other changes.",
    "created_at": "2021-04-21T14:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477783",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:8'></a>On the surface this functionality works, but the details need a little work.

In the code itself there are a number of white space issues. For example

```
[(1/t)*x^2 + y^2  ,y^2])
```
should be

```
[(1/t)*x^2 + y^2, y^2])
```

In the new if line as well, you're missing a space after the comma and have an extra space before the closing ).

The example code should be improved in a number of ways:

- I'd suggest saving a line and removing K and just defining the function field over the finite field directly.
- The variables base and CF are not used so should not be in the example.
- D is not needed: P is already the domain of DS.
- Instead of calling normalize, just define the dynamical system as you want it to be defined as.

While adding support for function fields, seems like you should also allow finite fields, since that also requires no other changes.



---

archive/issue_comments_477784.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-28T18:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_477785.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-30T18:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477785",
    "user": "https://github.com/Saher-Amasha"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_477786.json:
```json
{
    "body": "<a id='comment:11'></a>There is a doctest failure. Looks like you might need to use \"sorted\" for that doctest.\n\nAlso, why did you not also allow finite fields as requested?\n\nThe whitespace issues were fixed in the example, but the example no longer is a true function field example as the function and all the points are over the base field. The example should use the function field variable 't'.",
    "created_at": "2021-06-08T18:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477786",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:11'></a>There is a doctest failure. Looks like you might need to use "sorted" for that doctest.

Also, why did you not also allow finite fields as requested?

The whitespace issues were fixed in the example, but the example no longer is a true function field example as the function and all the points are over the base field. The example should use the function field variable 't'.



---

archive/issue_comments_477787.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-08T18:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477787",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_477788.json:
```json
{
    "body": "<a id='comment:12'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477788",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_082923.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82923"
}
```



---

archive/issue_events_082924.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82924"
}
```



---

archive/issue_comments_477789.json:
```json
{
    "body": "Changing component from algebra to dynamics.",
    "created_at": "2021-08-10T21:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31549#issuecomment-477789",
    "user": "https://github.com/EnderWannabe"
}
```

Changing component from algebra to dynamics.



---

archive/issue_events_082925.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82925"
}
```



---

archive/issue_events_082926.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82926"
}
```



---

archive/issue_events_082927.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82927"
}
```



---

archive/issue_events_082928.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82928"
}
```



---

archive/issue_events_082929.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82929"
}
```



---

archive/issue_events_082930.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31549",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31549#event-82930"
}
```
