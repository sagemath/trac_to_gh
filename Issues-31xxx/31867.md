# Issue 31867: Intersection poset of hyperplane arrangement by hyperplane

archive/issues_031630.json:
```json
{
    "assignees": [],
    "body": "The current behavior of the hyperplane arrangement `.intersection_poset()` method relabels the flats of a hyperplane arrangement. To understand how an arrangement intersects, it would be desirable to retain the original labels of the hyperplane in an intersection poset. The original method will be faster because it does not need to remember the hyperplanes themselves, so it should be retained for use in computing the characteristic polynomial and for backward compatibility. \n\nCC:  @tscrim\n\nKeywords: **hyperplane arrangement poset**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Trevor K. Karn, Galen Dorpalen-Barry**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31867_\n\n",
    "closed_at": "2021-05-30T07:08:43Z",
    "created_at": "2021-05-27T13:57:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/duplicate",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Intersection poset of hyperplane arrangement by hyperplane",
    "type": "issue",
    "updated_at": "2021-05-30T07:08:43Z",
    "url": "https://github.com/sagemath/sage/issues/31867",
    "user": "https://github.com/trevorkarn"
}
```
The current behavior of the hyperplane arrangement `.intersection_poset()` method relabels the flats of a hyperplane arrangement. To understand how an arrangement intersects, it would be desirable to retain the original labels of the hyperplane in an intersection poset. The original method will be faster because it does not need to remember the hyperplanes themselves, so it should be retained for use in computing the characteristic polynomial and for backward compatibility. 

CC:  @tscrim

Keywords: **hyperplane arrangement poset**

Reviewer: **Travis Scrimshaw**

Author: **Trevor K. Karn, Galen Dorpalen-Barry**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/31867_





---

archive/issue_events_441542.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-05-27T13:57:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441542"
}
```



---

archive/issue_events_441543.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-05-27T13:57:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441543"
}
```



---

archive/issue_events_441544.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-05-27T13:57:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441544"
}
```



---

archive/issue_events_441545.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-05-27T13:57:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441545"
}
```



---

archive/issue_comments_512218.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThis should have a negligible effect on the result since there are a lot of linear algebra computations that go into the poset construction. Actually, by keeping track of the hyperplane data, you are pushing the digraph construction (for the Hasse diagram) into the main loop that is computing the intersections. This should make it faster because you will remove all of those affine subspace containment checks.",
    "created_at": "2021-05-28T05:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31867#issuecomment-512218",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">comment:1</div>

This should have a negligible effect on the result since there are a lot of linear algebra computations that go into the poset construction. Actually, by keeping track of the hyperplane data, you are pushing the digraph construction (for the Hasse diagram) into the main loop that is computing the intersections. This should make it faster because you will remove all of those affine subspace containment checks.



---

archive/issue_comments_512219.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThanks for pointing that out! It also looks like this might be a duplicate ticket of #28261. I propose closing this ticket and focusing on that one.",
    "created_at": "2021-05-28T13:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31867#issuecomment-512219",
    "user": "https://github.com/trevorkarn"
}
```

<div id="comment:2" align="right">comment:2</div>

Thanks for pointing that out! It also looks like this might be a duplicate ticket of #28261. I propose closing this ticket and focusing on that one.



---

archive/issue_comments_512220.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nYes, let's just finish #28261.",
    "created_at": "2021-05-29T08:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31867#issuecomment-512220",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

Yes, let's just finish #28261.



---

archive/issue_events_441546.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-29T08:26:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441546"
}
```



---

archive/issue_events_441547.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-29T08:26:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441547"
}
```



---

archive/issue_events_441548.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-29T08:26:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441548"
}
```



---

archive/issue_events_441549.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-29T08:26:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441549"
}
```



---

archive/issue_comments_512221.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-05-29T08:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31867#issuecomment-512221",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_441550.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-29T08:26:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441550"
}
```



---

archive/issue_events_441551.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-29T08:26:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441551"
}
```



---

archive/issue_events_441552.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-30T07:08:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441552"
}
```



---

archive/issue_events_441553.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-30T07:08:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441553"
}
```



---

archive/issue_events_441554.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-30T07:08:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31867",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "c6c6c6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31867#event-441554"
}
```
