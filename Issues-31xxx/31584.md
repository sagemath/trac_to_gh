# Issue 31584: Fix suitesparse/cvxopt /usr/local leakage

archive/issues_031347.json:
```json
{
    "body": "We fix a simple bug in our build system: \n\nThe value of `SAGE_SUITESPARSE_LOCALINSTALL` is set in `build/pkgs/suitesparse/spkg-configure.m4` but is not actually passed on to `build/pkgs/cvxopt/spkg-install.in`.  A different variable, `SAGE_SUITESPARSE_PREFIX`, is passed by `build/bin/sage-build-env-config.in` from the configure stage to the build stage, but it is never set or used. \n\n```\n$ git grep SAGE_SUITESPARSE\nbuild/bin/sage-build-env-config.in:export SAGE_SUITESPARSE_PREFIX=\"@SAGE_SUITESPARSE_PREFIX@\"\nbuild/pkgs/cvxopt/spkg-install.in:if test \"x$SAGE_SUITESPARSE_LOCALINSTALL\" != \"x\"; then\nbuild/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, ['$SAGE_LOCAL'])\nbuild/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, [''])\n```\n\nAs a result, `suitesparse` from `/usr/local` can leak in, as observed in #31567?replyto=25#comment:25\n\n\nClearly these two variables were intended to be the same variable. We fix this.  This unified variable, `SAGE_SUITESPARSE_PREFIX`, is analogous to other variables `SAGE_..._PREFIX`.\n\n\n\n**CC:**  @jhpalmieri @dimpase @orlitzky\n\n**Branch/Commit:** [52537d120927ed57ce9659683fed15c405b1d1c7](https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7)\n\n**Reviewer:** Michael Orlitzky\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/31584\n\n",
    "closed_at": "2021-04-02T22:56:39Z",
    "created_at": "2021-03-30T22:38:29Z",
    "labels": [
        "component: packages: standard",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Fix suitesparse/cvxopt /usr/local leakage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31584",
    "user": "https://github.com/mkoeppe"
}
```
We fix a simple bug in our build system: 

The value of `SAGE_SUITESPARSE_LOCALINSTALL` is set in `build/pkgs/suitesparse/spkg-configure.m4` but is not actually passed on to `build/pkgs/cvxopt/spkg-install.in`.  A different variable, `SAGE_SUITESPARSE_PREFIX`, is passed by `build/bin/sage-build-env-config.in` from the configure stage to the build stage, but it is never set or used. 

```
$ git grep SAGE_SUITESPARSE
build/bin/sage-build-env-config.in:export SAGE_SUITESPARSE_PREFIX="@SAGE_SUITESPARSE_PREFIX@"
build/pkgs/cvxopt/spkg-install.in:if test "x$SAGE_SUITESPARSE_LOCALINSTALL" != "x"; then
build/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, ['$SAGE_LOCAL'])
build/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, [''])
```

As a result, `suitesparse` from `/usr/local` can leak in, as observed in #31567?replyto=25#comment:25


Clearly these two variables were intended to be the same variable. We fix this.  This unified variable, `SAGE_SUITESPARSE_PREFIX`, is analogous to other variables `SAGE_..._PREFIX`.



**CC:**  @jhpalmieri @dimpase @orlitzky

**Branch/Commit:** [52537d120927ed57ce9659683fed15c405b1d1c7](https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7)

**Reviewer:** Michael Orlitzky

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/31584





---

archive/issue_comments_512360.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage)",
    "created_at": "2021-03-30T22:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512360",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage)



---

archive/issue_comments_512361.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7\">52537d1</a></td><td><code>build/pkgs/cvxopt/spkg-install.in: Actually use the value of SAGE_SUITESPARSE_PREFIX</code></td></tr></table>\n",
    "created_at": "2021-03-30T22:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512361",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7">52537d1</a></td><td><code>build/pkgs/cvxopt/spkg-install.in: Actually use the value of SAGE_SUITESPARSE_PREFIX</code></td></tr></table>




---

archive/issue_comments_512362.json:
```json
{
    "body": "**Commit:** [52537d120927ed57ce9659683fed15c405b1d1c7](https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7)",
    "created_at": "2021-03-30T22:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512362",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [52537d120927ed57ce9659683fed15c405b1d1c7](https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7)



---

archive/issue_comments_512363.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-03-30T22:45:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512363",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_288254.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-30T22:45:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31584#event-288254"
}
```



---

archive/issue_comments_512364.json:
```json
{
    "body": "<a id='comment:4'></a>\nTested in #31567",
    "created_at": "2021-03-31T02:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512364",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Tested in #31567



---

archive/issue_comments_512365.json:
```json
{
    "body": "**Reviewer:** Michael Orlitzky",
    "created_at": "2021-03-31T11:38:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512365",
    "user": "https://github.com/orlitzky"
}
```

**Reviewer:** Michael Orlitzky



---

archive/issue_comments_512366.json:
```json
{
    "body": "<a id='comment:5'></a>\nWhy the variable name change? `SAGE_SUITESPARSE_PREFIX` doesn't contain the prefix when suitesparse from the system is being used so this *looks* wrong (why aren't we passing the prefix unconditionally?) even though it's doing the right thing. I think that's why dima changed the name in the first place in f2cc5b45.",
    "created_at": "2021-03-31T11:38:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512366",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>
Why the variable name change? `SAGE_SUITESPARSE_PREFIX` doesn't contain the prefix when suitesparse from the system is being used so this *looks* wrong (why aren't we passing the prefix unconditionally?) even though it's doing the right thing. I think that's why dima changed the name in the first place in f2cc5b45.



---

archive/issue_comments_512367.json:
```json
{
    "body": "<a id='comment:6'></a>\nOn second thought, the only possible values of `SAGE_SUITESPARSE_PREFIX` are `$SAGE_LOCAL` and the empty string, so I'm not sure how this fixes the problem.",
    "created_at": "2021-03-31T13:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512367",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:6'></a>
On second thought, the only possible values of `SAGE_SUITESPARSE_PREFIX` are `$SAGE_LOCAL` and the empty string, so I'm not sure how this fixes the problem.



---

archive/issue_comments_512368.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,18 @@\n We fix a simple bug in our build system: \n \n-The value of `SAGE_SUITESPARSE_LOCALINSTALL` is set in `build/pkgs/suitesparse/spkg-configure.m4` but is not actually passed on to `build/pkgs/cvxopt/spkg-install.in`.\n+The value of `SAGE_SUITESPARSE_LOCALINSTALL` is set in `build/pkgs/suitesparse/spkg-configure.m4` but is not actually passed on to `build/pkgs/cvxopt/spkg-install.in`.  A different variable, `SAGE_SUITESPARSE_PREFIX`, is passed by `build/bin/sage-build-env-config.in` from the configure stage to the build stage, but it is never set or used. \n+\n+```\n+$ git grep SAGE_SUITESPARSE\n+build/bin/sage-build-env-config.in:export SAGE_SUITESPARSE_PREFIX=\"@SAGE_SUITESPARSE_PREFIX@\"\n+build/pkgs/cvxopt/spkg-install.in:if test \"x$SAGE_SUITESPARSE_LOCALINSTALL\" != \"x\"; then\n+build/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, ['$SAGE_LOCAL'])\n+build/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, [''])\n+```\n \n As a result, `suitesparse` from `/usr/local` can leak in, as observed in #31567?replyto=25#comment:25\n \n+\n+Clearly these two variables were intended to be the same variable. We fix this.  This unified variable, `SAGE_SUITESPARSE_PREFIX`, is analogous to other variables `SAGE_..._PREFIX`.\n+\n+\n``````\n",
    "created_at": "2021-03-31T17:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512368",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,18 @@
 We fix a simple bug in our build system: 
 
-The value of `SAGE_SUITESPARSE_LOCALINSTALL` is set in `build/pkgs/suitesparse/spkg-configure.m4` but is not actually passed on to `build/pkgs/cvxopt/spkg-install.in`.
+The value of `SAGE_SUITESPARSE_LOCALINSTALL` is set in `build/pkgs/suitesparse/spkg-configure.m4` but is not actually passed on to `build/pkgs/cvxopt/spkg-install.in`.  A different variable, `SAGE_SUITESPARSE_PREFIX`, is passed by `build/bin/sage-build-env-config.in` from the configure stage to the build stage, but it is never set or used. 
+
+```
+$ git grep SAGE_SUITESPARSE
+build/bin/sage-build-env-config.in:export SAGE_SUITESPARSE_PREFIX="@SAGE_SUITESPARSE_PREFIX@"
+build/pkgs/cvxopt/spkg-install.in:if test "x$SAGE_SUITESPARSE_LOCALINSTALL" != "x"; then
+build/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, ['$SAGE_LOCAL'])
+build/pkgs/suitesparse/spkg-configure.m4:       AC_SUBST(SAGE_SUITESPARSE_LOCALINSTALL, [''])
+```
 
 As a result, `suitesparse` from `/usr/local` can leak in, as observed in #31567?replyto=25#comment:25
 
+
+Clearly these two variables were intended to be the same variable. We fix this.  This unified variable, `SAGE_SUITESPARSE_PREFIX`, is analogous to other variables `SAGE_..._PREFIX`.
+
+
``````




---

archive/issue_comments_512369.json:
```json
{
    "body": "<a id='comment:7'></a>\nI have expanded the ticket description, please take a look",
    "created_at": "2021-03-31T17:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512369",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
I have expanded the ticket description, please take a look



---

archive/issue_comments_512370.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [mjo](#comment%3A5):\n> `SAGE_SUITESPARSE_PREFIX` doesn't contain the prefix when suitesparse from the system is being used \n\n\nThat's right, but this matches the semantics of the other `SAGE_..._PREFIX` variables; see for example `build/pkgs/mpir/spkg-configure.m4` for `SAGE_GMP_PREFIX`.",
    "created_at": "2021-03-31T17:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512370",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Replying to [mjo](#comment%3A5):
> `SAGE_SUITESPARSE_PREFIX` doesn't contain the prefix when suitesparse from the system is being used 


That's right, but this matches the semantics of the other `SAGE_..._PREFIX` variables; see for example `build/pkgs/mpir/spkg-configure.m4` for `SAGE_GMP_PREFIX`.



---

archive/issue_comments_512371.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [mjo](#comment%3A5):\n> why aren't we passing the prefix unconditionally?\n\n\nBecause normal compile/link tests do not determine the install prefix.",
    "created_at": "2021-03-31T17:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512371",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Replying to [mjo](#comment%3A5):
> why aren't we passing the prefix unconditionally?


Because normal compile/link tests do not determine the install prefix.



---

archive/issue_comments_512372.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mjo](#comment%3A6):\n> the only possible values of `SAGE_SUITESPARSE_PREFIX` are `$SAGE_LOCAL` and the empty string, so I'm not sure how this fixes the problem.\n\n\nFrom `build/pkgs/cvxopt/spkg-install.in`:\n\n```\nif test \"x$SAGE_SUITESPARSE_PREFIX\" != \"x\"; then\n   export CVXOPT_SUITESPARSE_LIB_DIR=\"${SAGE_SUITESPARSE_PREFIX}\"\n   export CVXOPT_SUITESPARSE_INC_DIR=\"${SAGE_SUITESPARSE_PREFIX}/include\"\nfi\n```\n\nEffectively we only set these variables for cvxopt when we use suitesparse from spkg-configure.  Setting these variables disables cvxopt's use of `/usr/local` - https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55\n\nWe do not need to do this when we use system suitesparse, as we do not want to claim authority that our configure script's suitesparse-finding technique is better than the one in cvxopt's install script.",
    "created_at": "2021-03-31T17:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512372",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Replying to [mjo](#comment%3A6):
> the only possible values of `SAGE_SUITESPARSE_PREFIX` are `$SAGE_LOCAL` and the empty string, so I'm not sure how this fixes the problem.


From `build/pkgs/cvxopt/spkg-install.in`:

```
if test "x$SAGE_SUITESPARSE_PREFIX" != "x"; then
   export CVXOPT_SUITESPARSE_LIB_DIR="${SAGE_SUITESPARSE_PREFIX}"
   export CVXOPT_SUITESPARSE_INC_DIR="${SAGE_SUITESPARSE_PREFIX}/include"
fi
```

Effectively we only set these variables for cvxopt when we use suitesparse from spkg-configure.  Setting these variables disables cvxopt's use of `/usr/local` - https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55

We do not need to do this when we use system suitesparse, as we do not want to claim authority that our configure script's suitesparse-finding technique is better than the one in cvxopt's install script.



---

archive/issue_comments_512373.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [mkoeppe](#comment%3A10):\n> \n> Effectively we only set these variables for cvxopt when we use suitesparse from spkg-configure.  Setting these variables disables cvxopt's use of `/usr/local` - https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55\n\n\nIsn't it the other way around? From `build/pkgs/suitesparse/spkg-configure.m4`,\n\n```\nAS_IF([test x$sage_spkg_install_suitesparse = xyes], [\n  AC_SUBST(SAGE_SUITESPARSE_PREFIX, ['$SAGE_LOCAL'])\n], [\n  AC_SUBST(SAGE_SUITESPARSE_PREFIX, [''])\n])\n```\n\nAs a result, I think this block only gets executed when `$SAGE_SUITESPARSE_PREFIX = $SAGE_LOCAL`,\n\n```\nif test \"x$SAGE_SUITESPARSE_PREFIX\" != \"x\"; then\n   export CVXOPT_SUITESPARSE_LIB_DIR=\"${SAGE_SUITESPARSE_PREFIX}\"\n   export CVXOPT_SUITESPARSE_INC_DIR=\"${SAGE_SUITESPARSE_PREFIX}/include\"\nfi\n```\n\nwhich is why I don't think that replacing `$SAGE_LOCAL` with `$SAGE_SUITESPARSE_PREFIX` has changed anything there.",
    "created_at": "2021-03-31T20:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512373",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:11'></a>
Replying to [mkoeppe](#comment%3A10):
> 
> Effectively we only set these variables for cvxopt when we use suitesparse from spkg-configure.  Setting these variables disables cvxopt's use of `/usr/local` - https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55


Isn't it the other way around? From `build/pkgs/suitesparse/spkg-configure.m4`,

```
AS_IF([test x$sage_spkg_install_suitesparse = xyes], [
  AC_SUBST(SAGE_SUITESPARSE_PREFIX, ['$SAGE_LOCAL'])
], [
  AC_SUBST(SAGE_SUITESPARSE_PREFIX, [''])
])
```

As a result, I think this block only gets executed when `$SAGE_SUITESPARSE_PREFIX = $SAGE_LOCAL`,

```
if test "x$SAGE_SUITESPARSE_PREFIX" != "x"; then
   export CVXOPT_SUITESPARSE_LIB_DIR="${SAGE_SUITESPARSE_PREFIX}"
   export CVXOPT_SUITESPARSE_INC_DIR="${SAGE_SUITESPARSE_PREFIX}/include"
fi
```

which is why I don't think that replacing `$SAGE_LOCAL` with `$SAGE_SUITESPARSE_PREFIX` has changed anything there.



---

archive/issue_comments_512374.json:
```json
{
    "body": "<a id='comment:12'></a>\nSorry, I mistyped: I meant to type \"when we use suitesparse from SPKG\".",
    "created_at": "2021-03-31T20:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512374",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Sorry, I mistyped: I meant to type "when we use suitesparse from SPKG".



---

archive/issue_comments_512375.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [mjo](#comment%3A11):\n> I don't think that replacing `$SAGE_LOCAL` with `$SAGE_SUITESPARSE_PREFIX` has changed anything there.\n\n\nThat's right, this part of the change makes no difference.",
    "created_at": "2021-03-31T20:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512375",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Replying to [mjo](#comment%3A11):
> I don't think that replacing `$SAGE_LOCAL` with `$SAGE_SUITESPARSE_PREFIX` has changed anything there.


That's right, this part of the change makes no difference.



---

archive/issue_comments_512376.json:
```json
{
    "body": "<a id='comment:14'></a>\nThe bug is fixed by the first commit (7ff26dfad).",
    "created_at": "2021-03-31T20:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512376",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
The bug is fixed by the first commit (7ff26dfad).



---

archive/issue_events_288255.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-03-31T20:52:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31584#event-288255"
}
```



---

archive/issue_events_288256.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-03-31T20:52:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31584#event-288256"
}
```



---

archive/issue_comments_512377.json:
```json
{
    "body": "<a id='comment:15'></a>\nOh, I see it now. The variable `SAGE_SUITESPARSE_PREFIX` appears in `build/bin/sage-build-env-config.in` (before the fix), but `SAGE_SUITESPARSE_LOCALINSTALL` does not.",
    "created_at": "2021-03-31T20:52:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512377",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:15'></a>
Oh, I see it now. The variable `SAGE_SUITESPARSE_PREFIX` appears in `build/bin/sage-build-env-config.in` (before the fix), but `SAGE_SUITESPARSE_LOCALINSTALL` does not.



---

archive/issue_comments_512378.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks for reviewing!",
    "created_at": "2021-03-31T22:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512378",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Thanks for reviewing!



---

archive/issue_events_288257.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-02T22:56:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31584#event-288257"
}
```



---

archive/issue_events_288258.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-02T22:56:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31584#event-288258"
}
```



---

archive/issue_comments_512379.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage)\" to \"[52537d120927ed57ce9659683fed15c405b1d1c7](https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7)\".",
    "created_at": "2021-04-02T22:56:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31584",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31584#issuecomment-512379",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_suitesparse_cvxopt__usr_local_leakage)" to "[52537d120927ed57ce9659683fed15c405b1d1c7](https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7)".
