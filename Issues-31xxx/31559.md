# Issue 31559: Make ModularFormRings manipulate formal objects

archive/issues_031322.json:
```json
{
    "assignees": [],
    "body": "Currently, `ModularFormRings` is manipulating truncated q-series. It is desirable to be able to manipulate the ring of modular forms. In other words, being able to define `E4 + E6` and access its homogeneous components.\n\nThis ticket is part of #31560 \n\nDepends on #32168\n\nAssignee: **@DavidAyotte**\n\nCC:  @DavidAyotte\n\nKeywords: **gsoc2021, modular forms rings**\n\nBranch/Commit: **[088139a](https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **David Ayotte**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31559_\n\n",
    "closed_at": "2021-08-31T22:00:54Z",
    "created_at": "2021-03-25T18:08:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make ModularFormRings manipulate formal objects",
    "type": "issue",
    "updated_at": "2021-08-31T22:00:54Z",
    "url": "https://github.com/sagemath/sage/issues/31559",
    "user": "https://github.com/videlec"
}
```
Currently, `ModularFormRings` is manipulating truncated q-series. It is desirable to be able to manipulate the ring of modular forms. In other words, being able to define `E4 + E6` and access its homogeneous components.

This ticket is part of #31560 

Depends on #32168

Assignee: **@DavidAyotte**

CC:  @DavidAyotte

Keywords: **gsoc2021, modular forms rings**

Branch/Commit: **[088139a](https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c)**

Reviewer: **Vincent Delecroix**

Author: **David Ayotte**

_Issue created by migration from https://trac.sagemath.org/ticket/31559_





---

archive/issue_events_416881.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-03-25T18:08:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416881"
}
```



---

archive/issue_events_416882.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-03-25T18:08:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "component: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416882"
}
```



---

archive/issue_events_416883.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-03-25T18:08:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416883"
}
```



---

archive/issue_events_416884.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-03-25T18:08:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416884"
}
```



---

archive/issue_comments_510088.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-27T02:13:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510088",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">Comment 1</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_416885.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-27T02:13:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416885"
}
```



---

archive/issue_events_416886.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-27T02:13:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416886"
}
```



---

archive/issue_comments_510089.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Currently, `ModularFormRings` is manipulating truncated q-series. It is desirable to be able to manipulate the ring of modular forms. In other words, being able to define `E4 + E6` and access its homogeneous components.\n+\n+This ticket is part of #31560 \n``````\n",
    "created_at": "2021-06-10T13:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510089",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Currently, `ModularFormRings` is manipulating truncated q-series. It is desirable to be able to manipulate the ring of modular forms. In other words, being able to define `E4 + E6` and access its homogeneous components.
+
+This ticket is part of #31560 
``````




---

archive/issue_comments_510090.json:
```json
{
    "body": "Branch: **[u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects)**",
    "created_at": "2021-06-10T20:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510090",
    "user": "https://github.com/DavidAyotte"
}
```

Branch: **[u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects)**



---

archive/issue_comments_510091.json:
```json
{
    "body": "Commit: **[5f23e4d](https://github.com/sagemath/sagetrac-mirror/commit/5f23e4db95190358b0203af006ca36b0e9973b25)**",
    "created_at": "2021-06-10T20:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510091",
    "user": "https://github.com/DavidAyotte"
}
```

Commit: **[5f23e4d](https://github.com/sagemath/sagetrac-mirror/commit/5f23e4db95190358b0203af006ca36b0e9973b25)**



---

archive/issue_comments_510092.json:
```json
{
    "body": "Assignee: **@DavidAyotte**",
    "created_at": "2021-06-10T20:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510092",
    "user": "https://github.com/DavidAyotte"
}
```

Assignee: **@DavidAyotte**



---

archive/issue_comments_510093.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f23e4db95190358b0203af006ca36b0e9973b25\">5f23e4d</a></td><td><code>Initial implementation of GradedModularFormElement. The class ModularFormsRing now inherit from Parent and UniqueRepresentation</code></td></tr></table>\n",
    "created_at": "2021-06-10T20:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510093",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:4" align="right">Comment 4</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f23e4db95190358b0203af006ca36b0e9973b25">5f23e4d</a></td><td><code>Initial implementation of GradedModularFormElement. The class ModularFormsRing now inherit from Parent and UniqueRepresentation</code></td></tr></table>




---

archive/issue_comments_510094.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33a8cd5deb9ae0a133461af2301044ceb3f01ab6\">33a8cd5</a></td><td><code>Added the methods `_neq_` and is_homogeneous.</code></td></tr></table>\n",
    "created_at": "2021-06-11T14:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510094",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33a8cd5deb9ae0a133461af2301044ceb3f01ab6">33a8cd5</a></td><td><code>Added the methods `_neq_` and is_homogeneous.</code></td></tr></table>




---

archive/issue_comments_510095.json:
```json
{
    "body": "Changed commit from **[5f23e4d](https://github.com/sagemath/sagetrac-mirror/commit/5f23e4db95190358b0203af006ca36b0e9973b25)** to **[33a8cd5](https://github.com/sagemath/sagetrac-mirror/commit/33a8cd5deb9ae0a133461af2301044ceb3f01ab6)**",
    "created_at": "2021-06-11T14:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510095",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5f23e4d](https://github.com/sagemath/sagetrac-mirror/commit/5f23e4db95190358b0203af006ca36b0e9973b25)** to **[33a8cd5](https://github.com/sagemath/sagetrac-mirror/commit/33a8cd5deb9ae0a133461af2301044ceb3f01ab6)**



---

archive/issue_comments_510096.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6faa4baaccaf4f6dd5f6fc9b59aa29706f8d8c0b\">6faa4ba</a></td><td><code>Implemented coercion. Added documentation. Fixed a bug in `_add_` method.</code></td></tr></table>\n",
    "created_at": "2021-06-15T01:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510096",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6faa4baaccaf4f6dd5f6fc9b59aa29706f8d8c0b">6faa4ba</a></td><td><code>Implemented coercion. Added documentation. Fixed a bug in `_add_` method.</code></td></tr></table>




---

archive/issue_comments_510097.json:
```json
{
    "body": "Changed commit from **[33a8cd5](https://github.com/sagemath/sagetrac-mirror/commit/33a8cd5deb9ae0a133461af2301044ceb3f01ab6)** to **[6faa4ba](https://github.com/sagemath/sagetrac-mirror/commit/6faa4baaccaf4f6dd5f6fc9b59aa29706f8d8c0b)**",
    "created_at": "2021-06-15T01:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510097",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[33a8cd5](https://github.com/sagemath/sagetrac-mirror/commit/33a8cd5deb9ae0a133461af2301044ceb3f01ab6)** to **[6faa4ba](https://github.com/sagemath/sagetrac-mirror/commit/6faa4baaccaf4f6dd5f6fc9b59aa29706f8d8c0b)**



---

archive/issue_comments_510098.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9216db9ac8697c0b49d419bdf7c49aee69c8fe41\">9216db9</a></td><td><code>Moved the class GradedModularFormElement into modular/modform/element.py. Fixed some issues with coercion.</code></td></tr></table>\n",
    "created_at": "2021-06-16T21:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510098",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9216db9ac8697c0b49d419bdf7c49aee69c8fe41">9216db9</a></td><td><code>Moved the class GradedModularFormElement into modular/modform/element.py. Fixed some issues with coercion.</code></td></tr></table>




---

archive/issue_comments_510099.json:
```json
{
    "body": "Changed commit from **[6faa4ba](https://github.com/sagemath/sagetrac-mirror/commit/6faa4baaccaf4f6dd5f6fc9b59aa29706f8d8c0b)** to **[9216db9](https://github.com/sagemath/sagetrac-mirror/commit/9216db9ac8697c0b49d419bdf7c49aee69c8fe41)**",
    "created_at": "2021-06-16T21:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510099",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6faa4ba](https://github.com/sagemath/sagetrac-mirror/commit/6faa4baaccaf4f6dd5f6fc9b59aa29706f8d8c0b)** to **[9216db9](https://github.com/sagemath/sagetrac-mirror/commit/9216db9ac8697c0b49d419bdf7c49aee69c8fe41)**



---

archive/issue_comments_510100.json:
```json
{
    "body": "Author: **David Ayotte**",
    "created_at": "2021-06-22T07:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510100",
    "user": "https://github.com/videlec"
}
```

Author: **David Ayotte**



---

archive/issue_comments_510101.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2021-06-22T07:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510101",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_510102.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIn the constructor I would either allow a list of modular forms or a dictionary. In both situations there should be a check that the data is consistent. And in the case it is a dictionary, you would better not write\n\n```\n    self.__mf_dict = mf_dict\n```\nbecause this uses the dictionary provided in the input. This dictionary can be modified outside of the scope of the class and corrupt the data in a scenario such as\n\n```\nsage: d = {}\nsage: f = M(d)\nsage: d[3] = 'hello'  # data corruption\n```\n\nWhy do you have a method `_dictionary` and not use directly `__mf_dict`. This add one level of indirection for no purpose that I can see.\n\nWhen you iterate over the keys and values of a dictionary it is best to use the `items()` method as in\n\n```\ndef __neg__(self):\n    GM = self.__class__\n    minus_self = {k:-v for k,v in self.__mf_dict.items()}\n    return GM(self.parent(), minus_self)\n```\n\nYou should always take care of removing the entries in the dictionary whose values are zero (in the constructor and after a binary operation). Otherwise a method such as `is_homogeneous` gets completely wrong.\n\nUse `__neg__` and not `_neg_` (this method does not go through corecion).\n\nIn `__getitem__` you would better return the zero of the base ring and not the python integer `0`.\n\nDon't write `x.__getitem__(k)` but `x[k]`. The latter is much faster in general.\n\nRather than\n\n```\ndef weights(self):\n    wts = list(self._dictionnary().keys())\n    wts.sort()\n    return wts\n```\nyou could use\n\n```\ndef weights(self):\n    return sorted(self.__mf_dict)\n```\n\nInstead of\n\n```\ndef is_homogeneous(self):\n    if len(self._dictionnary())>1:\n        return False\n    return True\n```\nyou could use\n\n```\ndef is_homogeneous(self):\n    return len(self.__mf_dict) <= 1\n```\n\nFor the documentation, it is `INPUT` and not `INPUTS`. And the items afterwards should not be indented.\n\nIt would be better to inherit from `ModuleElement` (not doing this causes trouble with the coercion model). Once done, implement the method `_lmul_` for scalar multiplications (it should be possible to do `integer x (element of the ring of modular forms)`.\n\nAnother method that is lacking is `__bool__` (for the zero test). Once the dictionary is clean (ie no zero value) you could simply do\n\n```\ndef __bool__(self):\n    return bool(self.__mf_dict)\n```\nAlso write methods `is_zero` and `is_one` that are standard ones for rings.",
    "created_at": "2021-06-22T07:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510102",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">Comment 9</div>

In the constructor I would either allow a list of modular forms or a dictionary. In both situations there should be a check that the data is consistent. And in the case it is a dictionary, you would better not write

```
    self.__mf_dict = mf_dict
```
because this uses the dictionary provided in the input. This dictionary can be modified outside of the scope of the class and corrupt the data in a scenario such as

```
sage: d = {}
sage: f = M(d)
sage: d[3] = 'hello'  # data corruption
```

Why do you have a method `_dictionary` and not use directly `__mf_dict`. This add one level of indirection for no purpose that I can see.

When you iterate over the keys and values of a dictionary it is best to use the `items()` method as in

```
def __neg__(self):
    GM = self.__class__
    minus_self = {k:-v for k,v in self.__mf_dict.items()}
    return GM(self.parent(), minus_self)
```

You should always take care of removing the entries in the dictionary whose values are zero (in the constructor and after a binary operation). Otherwise a method such as `is_homogeneous` gets completely wrong.

Use `__neg__` and not `_neg_` (this method does not go through corecion).

In `__getitem__` you would better return the zero of the base ring and not the python integer `0`.

Don't write `x.__getitem__(k)` but `x[k]`. The latter is much faster in general.

Rather than

```
def weights(self):
    wts = list(self._dictionnary().keys())
    wts.sort()
    return wts
```
you could use

```
def weights(self):
    return sorted(self.__mf_dict)
```

Instead of

```
def is_homogeneous(self):
    if len(self._dictionnary())>1:
        return False
    return True
```
you could use

```
def is_homogeneous(self):
    return len(self.__mf_dict) <= 1
```

For the documentation, it is `INPUT` and not `INPUTS`. And the items afterwards should not be indented.

It would be better to inherit from `ModuleElement` (not doing this causes trouble with the coercion model). Once done, implement the method `_lmul_` for scalar multiplications (it should be possible to do `integer x (element of the ring of modular forms)`.

Another method that is lacking is `__bool__` (for the zero test). Once the dictionary is clean (ie no zero value) you could simply do

```
def __bool__(self):
    return bool(self.__mf_dict)
```
Also write methods `is_zero` and `is_one` that are standard ones for rings.



---

archive/issue_comments_510103.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nIf `qexp` is simply an alias of `q_expansion` write `qexp = q_expansion`. The documentation of `q_expansion` could mention the fact that such an alias exists.\n\nThe method `_repr_` could be simplified to\n\n```\ndef _repr_(self):\n    return str(self.q_expansion())\n```\n\nSince now `ModularFormsRing` inherit from `Parent` you could use the test suite. You should add the following test in the constructor `ModularFormsRing.__init__`\n\n```\nTESTS::\n\n    sage: M = ModularFormsRing(1)\n    sage: TestSuite(M).run()\n```\nThis test suite should also be run with other groups (~~especially non-congruence once~~) and other base rings.\n\nThe coercion is not tested, right? You should add various tests for\n\n```\n(modular form) + (element of ModularFormsRing)\n(element of ModularFormsRing) + (modular form)\n(scalar) + (element of ModularFormsRing)\n(element of ModularFormsRing) + (scalar)\n```\n\nTo determine coercions, one alternative could be to rely on what is implemented for modular forms. Namely the `ModularFormsRing` should have a method to obtain the modular forms of a given weight (something like `M.graded_component(self, weight)`. It would then be possible to use coercions with respect to whatever is the result of this method.",
    "created_at": "2021-06-22T07:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510103",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">Comment 10</div>

If `qexp` is simply an alias of `q_expansion` write `qexp = q_expansion`. The documentation of `q_expansion` could mention the fact that such an alias exists.

The method `_repr_` could be simplified to

```
def _repr_(self):
    return str(self.q_expansion())
```

Since now `ModularFormsRing` inherit from `Parent` you could use the test suite. You should add the following test in the constructor `ModularFormsRing.__init__`

```
TESTS::

    sage: M = ModularFormsRing(1)
    sage: TestSuite(M).run()
```
This test suite should also be run with other groups (~~especially non-congruence once~~) and other base rings.

The coercion is not tested, right? You should add various tests for

```
(modular form) + (element of ModularFormsRing)
(element of ModularFormsRing) + (modular form)
(scalar) + (element of ModularFormsRing)
(element of ModularFormsRing) + (scalar)
```

To determine coercions, one alternative could be to rely on what is implemented for modular forms. Namely the `ModularFormsRing` should have a method to obtain the modular forms of a given weight (something like `M.graded_component(self, weight)`. It would then be possible to use coercions with respect to whatever is the result of this method.



---

archive/issue_comments_510104.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b63137012560c1a21a73009c293636f5d4c1b6b5\">b631370</a></td><td><code>updates: verifications in the constructor of GradedModularFormElement, changed some code syntax, fixed some bugs, updated documentation</code></td></tr></table>\n",
    "created_at": "2021-06-23T16:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510104",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b63137012560c1a21a73009c293636f5d4c1b6b5">b631370</a></td><td><code>updates: verifications in the constructor of GradedModularFormElement, changed some code syntax, fixed some bugs, updated documentation</code></td></tr></table>




---

archive/issue_comments_510105.json:
```json
{
    "body": "Changed commit from **[9216db9](https://github.com/sagemath/sagetrac-mirror/commit/9216db9ac8697c0b49d419bdf7c49aee69c8fe41)** to **[b631370](https://github.com/sagemath/sagetrac-mirror/commit/b63137012560c1a21a73009c293636f5d4c1b6b5)**",
    "created_at": "2021-06-23T16:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510105",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9216db9](https://github.com/sagemath/sagetrac-mirror/commit/9216db9ac8697c0b49d419bdf7c49aee69c8fe41)** to **[b631370](https://github.com/sagemath/sagetrac-mirror/commit/b63137012560c1a21a73009c293636f5d4c1b6b5)**



---

archive/issue_comments_510106.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b03643533a085889ff7fbadf97f0bc9d4e9588d5\">b036435</a></td><td><code>Implemented `_richcmp_` and `_bool_` for elements, fixed some typos in the documentation, updated q_expansion method</code></td></tr></table>\n",
    "created_at": "2021-06-25T16:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510106",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b03643533a085889ff7fbadf97f0bc9d4e9588d5">b036435</a></td><td><code>Implemented `_richcmp_` and `_bool_` for elements, fixed some typos in the documentation, updated q_expansion method</code></td></tr></table>




---

archive/issue_comments_510107.json:
```json
{
    "body": "Changed commit from **[b631370](https://github.com/sagemath/sagetrac-mirror/commit/b63137012560c1a21a73009c293636f5d4c1b6b5)** to **[b036435](https://github.com/sagemath/sagetrac-mirror/commit/b03643533a085889ff7fbadf97f0bc9d4e9588d5)**",
    "created_at": "2021-06-25T16:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510107",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b631370](https://github.com/sagemath/sagetrac-mirror/commit/b63137012560c1a21a73009c293636f5d4c1b6b5)** to **[b036435](https://github.com/sagemath/sagetrac-mirror/commit/b03643533a085889ff7fbadf97f0bc9d4e9588d5)**



---

archive/issue_comments_510108.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71d7354f6c768f89a1d0a741306e9a6ec24ebed3\">71d7354</a></td><td><code>Merge branch 'develop' into t/31559/make_modularformrings_manipulate_formal_objects</code></td></tr></table>\n",
    "created_at": "2021-06-26T14:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510108",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71d7354f6c768f89a1d0a741306e9a6ec24ebed3">71d7354</a></td><td><code>Merge branch 'develop' into t/31559/make_modularformrings_manipulate_formal_objects</code></td></tr></table>




---

archive/issue_comments_510109.json:
```json
{
    "body": "Changed commit from **[b036435](https://github.com/sagemath/sagetrac-mirror/commit/b03643533a085889ff7fbadf97f0bc9d4e9588d5)** to **[71d7354](https://github.com/sagemath/sagetrac-mirror/commit/71d7354f6c768f89a1d0a741306e9a6ec24ebed3)**",
    "created_at": "2021-06-26T14:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b036435](https://github.com/sagemath/sagetrac-mirror/commit/b03643533a085889ff7fbadf97f0bc9d4e9588d5)** to **[71d7354](https://github.com/sagemath/sagetrac-mirror/commit/71d7354f6c768f89a1d0a741306e9a6ec24ebed3)**



---

archive/issue_comments_510110.json:
```json
{
    "body": "Changed commit from **[71d7354](https://github.com/sagemath/sagetrac-mirror/commit/71d7354f6c768f89a1d0a741306e9a6ec24ebed3)** to **[33de73a](https://github.com/sagemath/sagetrac-mirror/commit/33de73ab1392ff625cef84d2ac9f1b43021edad3)**",
    "created_at": "2021-06-29T15:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510110",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[71d7354](https://github.com/sagemath/sagetrac-mirror/commit/71d7354f6c768f89a1d0a741306e9a6ec24ebed3)** to **[33de73a](https://github.com/sagemath/sagetrac-mirror/commit/33de73ab1392ff625cef84d2ac9f1b43021edad3)**



---

archive/issue_comments_510111.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33de73ab1392ff625cef84d2ac9f1b43021edad3\">33de73a</a></td><td><code>implemented `_pushout_`, fixed some docstrings, added doctests, fixed bugs</code></td></tr></table>\n",
    "created_at": "2021-06-29T15:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510111",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33de73ab1392ff625cef84d2ac9f1b43021edad3">33de73a</a></td><td><code>implemented `_pushout_`, fixed some docstrings, added doctests, fixed bugs</code></td></tr></table>




---

archive/issue_comments_510112.json:
```json
{
    "body": "Changed commit from **[33de73a](https://github.com/sagemath/sagetrac-mirror/commit/33de73ab1392ff625cef84d2ac9f1b43021edad3)** to **[cfddacb](https://github.com/sagemath/sagetrac-mirror/commit/cfddacb40f41630b88901f7f870c43e9e4453490)**",
    "created_at": "2021-06-29T17:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510112",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[33de73a](https://github.com/sagemath/sagetrac-mirror/commit/33de73ab1392ff625cef84d2ac9f1b43021edad3)** to **[cfddacb](https://github.com/sagemath/sagetrac-mirror/commit/cfddacb40f41630b88901f7f870c43e9e4453490)**



---

archive/issue_comments_510113.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfddacb40f41630b88901f7f870c43e9e4453490\">cfddacb</a></td><td><code>added gen and ngens methods</code></td></tr></table>\n",
    "created_at": "2021-06-29T17:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510113",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfddacb40f41630b88901f7f870c43e9e4453490">cfddacb</a></td><td><code>added gen and ngens methods</code></td></tr></table>




---

archive/issue_comments_510114.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nLooks good. Could you set to ~~positive review~~ **needs review** so that we can also have an opinion from patchbots?\n\n`is_zero` would better be implemented as `return not self`.\n\nRather than `self[0] == 1` I would rather use `self._forms_dictionary[0].is_one()` which has less indirections.\n\nYour `__getitem__` is too laxist. You could access `F['a']` or `F[(1,2,3)]`.\n\nI am not sure we want to support rich comparison involving anything else than `==` or `!=`. What would be the meaning of `F < G`?\n\n(just a remark) Technically speaking, it is conceivable to do binary operations on modular forms with different groups. It is a well defined modular forms for the intersection of the two groups (which is still finite index).\n\nYour one element looks wrong. The dictionary should be `{0: self.base_ring().one()}`.",
    "created_at": "2021-06-29T22:09:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510114",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">Comment 16</div>

Looks good. Could you set to ~~positive review~~ **needs review** so that we can also have an opinion from patchbots?

`is_zero` would better be implemented as `return not self`.

Rather than `self[0] == 1` I would rather use `self._forms_dictionary[0].is_one()` which has less indirections.

Your `__getitem__` is too laxist. You could access `F['a']` or `F[(1,2,3)]`.

I am not sure we want to support rich comparison involving anything else than `==` or `!=`. What would be the meaning of `F < G`?

(just a remark) Technically speaking, it is conceivable to do binary operations on modular forms with different groups. It is a well defined modular forms for the intersection of the two groups (which is still finite index).

Your one element looks wrong. The dictionary should be `{0: self.base_ring().one()}`.



---

archive/issue_comments_510115.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5ddc445a5afff8432a688d3ccf99399c26662d7\">c5ddc44</a></td><td><code>minor updates</code></td></tr></table>\n",
    "created_at": "2021-06-30T02:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510115",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5ddc445a5afff8432a688d3ccf99399c26662d7">c5ddc44</a></td><td><code>minor updates</code></td></tr></table>




---

archive/issue_comments_510116.json:
```json
{
    "body": "Changed commit from **[cfddacb](https://github.com/sagemath/sagetrac-mirror/commit/cfddacb40f41630b88901f7f870c43e9e4453490)** to **[c5ddc44](https://github.com/sagemath/sagetrac-mirror/commit/c5ddc445a5afff8432a688d3ccf99399c26662d7)**",
    "created_at": "2021-06-30T02:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510116",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cfddacb](https://github.com/sagemath/sagetrac-mirror/commit/cfddacb40f41630b88901f7f870c43e9e4453490)** to **[c5ddc44](https://github.com/sagemath/sagetrac-mirror/commit/c5ddc445a5afff8432a688d3ccf99399c26662d7)**



---

archive/issue_events_416887.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-06-30T02:38:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416887"
}
```



---

archive/issue_events_416888.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-06-30T13:00:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416888"
}
```



---

archive/issue_events_416889.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-06-30T13:00:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416889"
}
```



---

archive/issue_events_416890.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-06-30T14:56:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416890"
}
```



---

archive/issue_events_416891.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-06-30T14:56:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416891"
}
```



---

archive/issue_comments_510117.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nAs an author, you are not supposed to switch the ticket to positive review.",
    "created_at": "2021-06-30T14:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510117",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">Comment 21</div>

As an author, you are not supposed to switch the ticket to positive review.



---

archive/issue_comments_510118.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nThat is my fault, I meant \"needs review\" instead of \"positive review\". Sorry.",
    "created_at": "2021-06-30T14:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510118",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">Comment 22</div>

That is my fault, I meant "needs review" instead of "positive review". Sorry.



---

archive/issue_events_416892.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-06-30T15:12:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416892"
}
```



---

archive/issue_events_416893.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-06-30T15:12:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416893"
}
```



---

archive/issue_comments_510119.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nNo problem. I will leave it in \"needs review\" to see what the patchbots says.",
    "created_at": "2021-06-30T15:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510119",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:23" align="right">Comment 23</div>

No problem. I will leave it in "needs review" to see what the patchbots says.



---

archive/issue_comments_510120.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90cdb170d15b4a7ecc2785977984fb12b6e580c0\">90cdb17</a></td><td><code>added operator verification for `_richcmp_` method</code></td></tr></table>\n",
    "created_at": "2021-06-30T17:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510120",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24" align="right">Comment 24</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90cdb170d15b4a7ecc2785977984fb12b6e580c0">90cdb17</a></td><td><code>added operator verification for `_richcmp_` method</code></td></tr></table>




---

archive/issue_comments_510121.json:
```json
{
    "body": "Changed commit from **[c5ddc44](https://github.com/sagemath/sagetrac-mirror/commit/c5ddc445a5afff8432a688d3ccf99399c26662d7)** to **[90cdb17](https://github.com/sagemath/sagetrac-mirror/commit/90cdb170d15b4a7ecc2785977984fb12b6e580c0)**",
    "created_at": "2021-06-30T17:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510121",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c5ddc44](https://github.com/sagemath/sagetrac-mirror/commit/c5ddc445a5afff8432a688d3ccf99399c26662d7)** to **[90cdb17](https://github.com/sagemath/sagetrac-mirror/commit/90cdb170d15b4a7ecc2785977984fb12b6e580c0)**



---

archive/issue_comments_510122.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f58a838edcb7710a67c0c6e1a333a78bec9bcb04\">f58a838</a></td><td><code>Merge branch 'develop' into t/31559/make_modularformrings_manipulate_formal_objects</code></td></tr></table>\n",
    "created_at": "2021-07-05T15:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510122",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25" align="right">Comment 25</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f58a838edcb7710a67c0c6e1a333a78bec9bcb04">f58a838</a></td><td><code>Merge branch 'develop' into t/31559/make_modularformrings_manipulate_formal_objects</code></td></tr></table>




---

archive/issue_comments_510123.json:
```json
{
    "body": "Changed commit from **[90cdb17](https://github.com/sagemath/sagetrac-mirror/commit/90cdb170d15b4a7ecc2785977984fb12b6e580c0)** to **[f58a838](https://github.com/sagemath/sagetrac-mirror/commit/f58a838edcb7710a67c0c6e1a333a78bec9bcb04)**",
    "created_at": "2021-07-05T15:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510123",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[90cdb17](https://github.com/sagemath/sagetrac-mirror/commit/90cdb170d15b4a7ecc2785977984fb12b6e580c0)** to **[f58a838](https://github.com/sagemath/sagetrac-mirror/commit/f58a838edcb7710a67c0c6e1a333a78bec9bcb04)**



---

archive/issue_comments_510124.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\n\n```\nsage: M = ModularFormsRing(Gamma1(6))\nsage: f = M.0\nsage: g = M.1\nsage: f*g\nTraceback (most recent call last):\n...\nValueError: the group and/or the base ring of at least one modular form (q + 5*q^3 + 22*q^4 + 6*q^5 + O(q^6)) is not consistant with the base space\n```\n\nGot this error while working on #32135. This happens because, in the example above, the form `f*g` has trivial character hence it lives in M(Gamma0(6)).",
    "created_at": "2021-07-09T01:01:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510124",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:26" align="right">Comment 26</div>


```
sage: M = ModularFormsRing(Gamma1(6))
sage: f = M.0
sage: g = M.1
sage: f*g
Traceback (most recent call last):
...
ValueError: the group and/or the base ring of at least one modular form (q + 5*q^3 + 22*q^4 + 6*q^5 + O(q^6)) is not consistant with the base space
```

Got this error while working on #32135. This happens because, in the example above, the form `f*g` has trivial character hence it lives in M(Gamma0(6)).



---

archive/issue_events_416894.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-09T01:01:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416894"
}
```



---

archive/issue_events_416895.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-09T01:01:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416895"
}
```



---

archive/issue_comments_510125.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nAfter searching a bit in the code, I think that I found the origin of this error. It comes from the method `__mul__` of the class `ModularFormElement` (in `sage/modular/modform/element.py`). Here's the description of the method:\n\n```\ndef __mul__(self, other):\n        r\"\"\"\n        Calculate the product self * other.\n\n        This tries to determine the\n        characters of self and other, in order to avoid having to compute a\n        (potentially very large) Gamma1 space. Note that this might lead to\n        a modular form that is defined with respect to a larger subgroup than\n        the factors are.\n```\n\nThis is illustrated by this example:\n\n```\nsage: f = ModularForms(Gamma1(3), 5).0\nsage: f*f\n1 - 180*q^2 - 480*q^3 + 8100*q^4 + 35712*q^5 + O(q^6)\nsage: (f*f).parent()\nModular Forms space of dimension 4 for Congruence Subgroup Gamma0(3) of weight 10 over Rational Field\n```\n\nThis poses a problem as it is not always possible to add two forms with different groups:\n\n```\nsage: M1 = ModularForms(Gamma1(8), 8); M1\nModular Forms space of dimension 17 for Congruence Subgroup Gamma1(8) of weight 8 over Rational Field\nsage: M0 = ModularForms(Gamma0(8), 8); M0\nModular Forms space of dimension 9 for Congruence Subgroup Gamma0(8) of weight 8 over Rational Field\nsage: f = M1.0\nsage: g = M0.0\nsage: f+g\nTraceback (most recent call last):\n...\nTypeError: unsupported operand parent(s) for +: 'Modular Forms space of dimension 17 for Congruence Subgroup Gamma1(8) of weight 8 over Rational Field' and 'Modular Forms space of dimension 9 for Congruence Subgroup Gamma0(8) of weight 8 over Rational Field'\n```\n\nSince the code of this ticket relies a lot on operations like these, one \"easy fix\" I can think of right now is to simply do not allow the creation of `GradedModularFormElement` for the congruence subgroups Gamma1(N) (by returning a `NotImplementedError`). Another fix (other ticket) would be to define some coercions between the two spaces so that it is possible to add two forms with compatible groups.",
    "created_at": "2021-07-09T03:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510125",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:27" align="right">Comment 27</div>

After searching a bit in the code, I think that I found the origin of this error. It comes from the method `__mul__` of the class `ModularFormElement` (in `sage/modular/modform/element.py`). Here's the description of the method:

```
def __mul__(self, other):
        r"""
        Calculate the product self * other.

        This tries to determine the
        characters of self and other, in order to avoid having to compute a
        (potentially very large) Gamma1 space. Note that this might lead to
        a modular form that is defined with respect to a larger subgroup than
        the factors are.
```

This is illustrated by this example:

```
sage: f = ModularForms(Gamma1(3), 5).0
sage: f*f
1 - 180*q^2 - 480*q^3 + 8100*q^4 + 35712*q^5 + O(q^6)
sage: (f*f).parent()
Modular Forms space of dimension 4 for Congruence Subgroup Gamma0(3) of weight 10 over Rational Field
```

This poses a problem as it is not always possible to add two forms with different groups:

```
sage: M1 = ModularForms(Gamma1(8), 8); M1
Modular Forms space of dimension 17 for Congruence Subgroup Gamma1(8) of weight 8 over Rational Field
sage: M0 = ModularForms(Gamma0(8), 8); M0
Modular Forms space of dimension 9 for Congruence Subgroup Gamma0(8) of weight 8 over Rational Field
sage: f = M1.0
sage: g = M0.0
sage: f+g
Traceback (most recent call last):
...
TypeError: unsupported operand parent(s) for +: 'Modular Forms space of dimension 17 for Congruence Subgroup Gamma1(8) of weight 8 over Rational Field' and 'Modular Forms space of dimension 9 for Congruence Subgroup Gamma0(8) of weight 8 over Rational Field'
```

Since the code of this ticket relies a lot on operations like these, one "easy fix" I can think of right now is to simply do not allow the creation of `GradedModularFormElement` for the congruence subgroups Gamma1(N) (by returning a `NotImplementedError`). Another fix (other ticket) would be to define some coercions between the two spaces so that it is possible to add two forms with compatible groups.



---

archive/issue_comments_510126.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nI don't quite like the behaviour of `*` on modular forms. But it is not the time to change it.\n\nOne workaround would be to implement the following conversion\n\n```\nsage: G = Gamma1(3)\nsage: M = ModularForms(Gamma1(3), 5)\nsage: f = M.0\nsage: M(f * f)  # should work\nTraceback (most recent call last):\n...\nTypeError: entries must be a list of length 2\n```",
    "created_at": "2021-07-09T08:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510126",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">Comment 28</div>

I don't quite like the behaviour of `*` on modular forms. But it is not the time to change it.

One workaround would be to implement the following conversion

```
sage: G = Gamma1(3)
sage: M = ModularForms(Gamma1(3), 5)
sage: f = M.0
sage: M(f * f)  # should work
Traceback (most recent call last):
...
TypeError: entries must be a list of length 2
```



---

archive/issue_comments_510127.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@videlec](#comment%3A28):\n> I don't quite like the behaviour of `*` on modular forms. But it is not the time to change it.\n> \n> One workaround would be to implement the following conversion\n> \n> ```\n> sage: G = Gamma1(3)\n> sage: M = ModularForms(Gamma1(3), 5)\n> sage: f = M.0\n> sage: M(f * f)  # should work\n> Traceback (most recent call last):\n> ...\n> TypeError: entries must be a list of length 2\n> ```\n\nThe reason why it does not work in your example is because the form `f * f` is of weight 10 while the space `M` is of weight 5. I think that you meant to write this:\n\n```\nsage: f = ModularForms(Gamma1(3), 5).0\nsage: M1 = ModularForms(Gamma1(3), 10)\nsage: F2 = M1(f * f); F2   # this works!\n1 - 180*q^2 - 480*q^3 + 8100*q^4 + 35712*q^5 + O(q^6)\nsage: F2.parent()\nModular Forms space of dimension 4 for Congruence Subgroup Gamma1(3) of weight 10 over Rational Field\n``` \n\n**EDIT: ** the above example only works if the two spaces have the same dimension:\n\n```\nsage: M0 = ModularForms(Gamma0(8), 10); M0\nModular Forms space of dimension 11 for Congruence Subgroup Gamma0(8) of weight 10 over Rational Field\nsage: M1 = ModularForms(Gamma1(8), 10); M1\nModular Forms space of dimension 21 for Congruence Subgroup Gamma1(8) of weight 10 over Rational Field\nsage: f = M0.0\nsage: M1(f)\nTraceback (most recent call last):\n...\nTypeError: entries must be a list of length 21\n```\n\nHowever, it is possible to convert it to a form over Gamma1 by using q-expansion with enough precision:\n\n```\nsage: fq = f.qexp(42)\nsage: M1(fq)\nq + O(q^6)\n```",
    "created_at": "2021-07-09T13:54:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510127",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@videlec](#comment%3A28):
> I don't quite like the behaviour of `*` on modular forms. But it is not the time to change it.
> 
> One workaround would be to implement the following conversion
> 
> ```
> sage: G = Gamma1(3)
> sage: M = ModularForms(Gamma1(3), 5)
> sage: f = M.0
> sage: M(f * f)  # should work
> Traceback (most recent call last):
> ...
> TypeError: entries must be a list of length 2
> ```

The reason why it does not work in your example is because the form `f * f` is of weight 10 while the space `M` is of weight 5. I think that you meant to write this:

```
sage: f = ModularForms(Gamma1(3), 5).0
sage: M1 = ModularForms(Gamma1(3), 10)
sage: F2 = M1(f * f); F2   # this works!
1 - 180*q^2 - 480*q^3 + 8100*q^4 + 35712*q^5 + O(q^6)
sage: F2.parent()
Modular Forms space of dimension 4 for Congruence Subgroup Gamma1(3) of weight 10 over Rational Field
``` 

**EDIT: ** the above example only works if the two spaces have the same dimension:

```
sage: M0 = ModularForms(Gamma0(8), 10); M0
Modular Forms space of dimension 11 for Congruence Subgroup Gamma0(8) of weight 10 over Rational Field
sage: M1 = ModularForms(Gamma1(8), 10); M1
Modular Forms space of dimension 21 for Congruence Subgroup Gamma1(8) of weight 10 over Rational Field
sage: f = M0.0
sage: M1(f)
Traceback (most recent call last):
...
TypeError: entries must be a list of length 21
```

However, it is possible to convert it to a form over Gamma1 by using q-expansion with enough precision:

```
sage: fq = f.qexp(42)
sage: M1(fq)
q + O(q^6)
```



---

archive/issue_comments_510128.json:
```json
{
    "body": "Dependencies: **#32168**",
    "created_at": "2021-07-09T15:11:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510128",
    "user": "https://github.com/DavidAyotte"
}
```

Dependencies: **#32168**



---

archive/issue_comments_510129.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nThere are several places with trailing whitespaces (ie whitespaces before the end of line character). Usually, editors have options to remove them automatically.",
    "created_at": "2021-07-12T15:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510129",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">Comment 31</div>

There are several places with trailing whitespaces (ie whitespaces before the end of line character). Usually, editors have options to remove them automatically.



---

archive/issue_comments_510130.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nIn `GradedModularFormElement.__init__` the dosctring block inside the `TESTS` is not indented.",
    "created_at": "2021-07-12T15:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510130",
    "user": "https://github.com/videlec"
}
```

<div id="comment:32" align="right">Comment 32</div>

In `GradedModularFormElement.__init__` the dosctring block inside the `TESTS` is not indented.



---

archive/issue_comments_510131.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nIn the main documentation of `GradedModularFormElement` there must be simple examples illustrating both input kinds\n- a dictionary {k_1:f_1, k_2:f_2, ..., k_n:f_n}\n- or a list [f_1, f_2,..., f_n]",
    "created_at": "2021-07-12T15:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510131",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">Comment 33</div>

In the main documentation of `GradedModularFormElement` there must be simple examples illustrating both input kinds
- a dictionary {k_1:f_1, k_2:f_2, ..., k_n:f_n}
- or a list [f_1, f_2,..., f_n]



---

archive/issue_comments_510132.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nHere I would rather use a `TypeError`\n\n```\n            raise ValueError('the defining data structure should be a list or a dictionary')\n```",
    "created_at": "2021-07-12T15:27:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510132",
    "user": "https://github.com/videlec"
}
```

<div id="comment:34" align="right">Comment 34</div>

Here I would rather use a `TypeError`

```
            raise ValueError('the defining data structure should be a list or a dictionary')
```



---

archive/issue_comments_510133.json:
```json
{
    "body": "Changed commit from **[f58a838](https://github.com/sagemath/sagetrac-mirror/commit/f58a838edcb7710a67c0c6e1a333a78bec9bcb04)** to **[a6c745d](https://github.com/sagemath/sagetrac-mirror/commit/a6c745daa3cbe9d1717c4ac64ad434956aebf568)**",
    "created_at": "2021-07-12T15:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510133",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f58a838](https://github.com/sagemath/sagetrac-mirror/commit/f58a838edcb7710a67c0c6e1a333a78bec9bcb04)** to **[a6c745d](https://github.com/sagemath/sagetrac-mirror/commit/a6c745daa3cbe9d1717c4ac64ad434956aebf568)**



---

archive/issue_comments_510134.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d996d40eb07069b2d17f812ab383242e2a6df36a\">d996d40</a></td><td><code>fix conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d54ac2a52fad8b4627afd5693f80456022ab0c8c\">d54ac2a</a></td><td><code>fix some redundancy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2daca4e543da3c025077499abbcf2a7ac6a477b6\">2daca4e</a></td><td><code>updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4595c19d0db9da924a0c27039a6f4e837fd8af8\">c4595c1</a></td><td><code>Merge branch 'gamma1_modform_conversion' into t/31559/make_modularformrings_manipulate_formal_objects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6c745daa3cbe9d1717c4ac64ad434956aebf568\">a6c745d</a></td><td><code>small fixes</code></td></tr></table>\n",
    "created_at": "2021-07-12T15:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510134",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35" align="right">Comment 35</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d996d40eb07069b2d17f812ab383242e2a6df36a">d996d40</a></td><td><code>fix conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d54ac2a52fad8b4627afd5693f80456022ab0c8c">d54ac2a</a></td><td><code>fix some redundancy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2daca4e543da3c025077499abbcf2a7ac6a477b6">2daca4e</a></td><td><code>updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4595c19d0db9da924a0c27039a6f4e837fd8af8">c4595c1</a></td><td><code>Merge branch 'gamma1_modform_conversion' into t/31559/make_modularformrings_manipulate_formal_objects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6c745daa3cbe9d1717c4ac64ad434956aebf568">a6c745d</a></td><td><code>small fixes</code></td></tr></table>




---

archive/issue_events_416896.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-12T16:25:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416896"
}
```



---

archive/issue_events_416897.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-12T16:25:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416897"
}
```



---

archive/issue_comments_510135.json:
```json
{
    "body": "Changed commit from **[a6c745d](https://github.com/sagemath/sagetrac-mirror/commit/a6c745daa3cbe9d1717c4ac64ad434956aebf568)** to **[906b8ab](https://github.com/sagemath/sagetrac-mirror/commit/906b8ab4f2d9df7996aa26e38513d54e747e00b5)**",
    "created_at": "2021-07-13T00:17:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510135",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a6c745d](https://github.com/sagemath/sagetrac-mirror/commit/a6c745daa3cbe9d1717c4ac64ad434956aebf568)** to **[906b8ab](https://github.com/sagemath/sagetrac-mirror/commit/906b8ab4f2d9df7996aa26e38513d54e747e00b5)**



---

archive/issue_comments_510136.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/906b8ab4f2d9df7996aa26e38513d54e747e00b5\">906b8ab</a></td><td><code>fixes: pyflakes, failing doctest in find_generators</code></td></tr></table>\n",
    "created_at": "2021-07-13T00:17:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510136",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37" align="right">Comment 37</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/906b8ab4f2d9df7996aa26e38513d54e747e00b5">906b8ab</a></td><td><code>fixes: pyflakes, failing doctest in find_generators</code></td></tr></table>




---

archive/issue_comments_510137.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/523c7b0e046249f1d0c336f9d61a733b3efbe729\">523c7b0</a></td><td><code>fix some doctring</code></td></tr></table>\n",
    "created_at": "2021-07-13T14:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510137",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38" align="right">Comment 38</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/523c7b0e046249f1d0c336f9d61a733b3efbe729">523c7b0</a></td><td><code>fix some doctring</code></td></tr></table>




---

archive/issue_comments_510138.json:
```json
{
    "body": "Changed commit from **[906b8ab](https://github.com/sagemath/sagetrac-mirror/commit/906b8ab4f2d9df7996aa26e38513d54e747e00b5)** to **[523c7b0](https://github.com/sagemath/sagetrac-mirror/commit/523c7b0e046249f1d0c336f9d61a733b3efbe729)**",
    "created_at": "2021-07-13T14:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510138",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[906b8ab](https://github.com/sagemath/sagetrac-mirror/commit/906b8ab4f2d9df7996aa26e38513d54e747e00b5)** to **[523c7b0](https://github.com/sagemath/sagetrac-mirror/commit/523c7b0e046249f1d0c336f9d61a733b3efbe729)**



---

archive/issue_comments_510139.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dbaf4eb43358fa575a5814c4e43bc7b59f37505\">7dbaf4e</a></td><td><code>fix indentation error</code></td></tr></table>\n",
    "created_at": "2021-07-14T01:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510139",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39" align="right">Comment 39</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dbaf4eb43358fa575a5814c4e43bc7b59f37505">7dbaf4e</a></td><td><code>fix indentation error</code></td></tr></table>




---

archive/issue_comments_510140.json:
```json
{
    "body": "Changed commit from **[523c7b0](https://github.com/sagemath/sagetrac-mirror/commit/523c7b0e046249f1d0c336f9d61a733b3efbe729)** to **[7dbaf4e](https://github.com/sagemath/sagetrac-mirror/commit/7dbaf4eb43358fa575a5814c4e43bc7b59f37505)**",
    "created_at": "2021-07-14T01:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510140",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[523c7b0](https://github.com/sagemath/sagetrac-mirror/commit/523c7b0e046249f1d0c336f9d61a733b3efbe729)** to **[7dbaf4e](https://github.com/sagemath/sagetrac-mirror/commit/7dbaf4eb43358fa575a5814c4e43bc7b59f37505)**



---

archive/issue_comments_510141.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nIn the docstring of `GradedModularFormElement.__init__` you wrote <code>\\`\\`parents\\`\\`</code> and <code>\\`\\`forms_data\\`\\`</code> whereas the argument names are `parent, forms_datas`. Moreover, I don't think you are allowed to use `datas` at all in english (singular is `datum`).",
    "created_at": "2021-07-14T09:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510141",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">Comment 40</div>

In the docstring of `GradedModularFormElement.__init__` you wrote <code>\`\`parents\`\`</code> and <code>\`\`forms_data\`\`</code> whereas the argument names are `parent, forms_datas`. Moreover, I don't think you are allowed to use `datas` at all in english (singular is `datum`).



---

archive/issue_comments_510142.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\n- In the same docstring the dictionary is quoted but not the list.\n\n- The class deserves a documentation. In particular the line `An element of a graded ring of modular forms.` should move from `__init__` to the main docstring (just below the class name).\n\n- Currently there is no error if you ask for negative degrees : `f[-1]` returns `0`\n\n- There is a remaining TODO written as a comment in the file ` #TODO: fix the error E4 + QQ(0)`. Could you either expand it or remove it?\n\n- Is `_rmul_` really necessary? The left and right actions of scalars are the same.\n\n- This is a bug\n\n  ```\n  sage: M.zero().weight()\n  Traceback (most recent call last):\n  ...\n  StopIteration: \n```\n\n- there is a trailing whitespace in the documentation of `ModularFormSpace._pushout_`",
    "created_at": "2021-07-14T09:18:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510142",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">Comment 41</div>

- In the same docstring the dictionary is quoted but not the list.

- The class deserves a documentation. In particular the line `An element of a graded ring of modular forms.` should move from `__init__` to the main docstring (just below the class name).

- Currently there is no error if you ask for negative degrees : `f[-1]` returns `0`

- There is a remaining TODO written as a comment in the file ` #TODO: fix the error E4 + QQ(0)`. Could you either expand it or remove it?

- Is `_rmul_` really necessary? The left and right actions of scalars are the same.

- This is a bug

  ```
  sage: M.zero().weight()
  Traceback (most recent call last):
  ...
  StopIteration: 
```

- there is a trailing whitespace in the documentation of `ModularFormSpace._pushout_`



---

archive/issue_comments_510143.json:
```json
{
    "body": "Changed commit from **[7dbaf4e](https://github.com/sagemath/sagetrac-mirror/commit/7dbaf4eb43358fa575a5814c4e43bc7b59f37505)** to **[5887973](https://github.com/sagemath/sagetrac-mirror/commit/5887973cdba9ad9b2a138fc86182c14c8d09905b)**",
    "created_at": "2021-07-14T13:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510143",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7dbaf4e](https://github.com/sagemath/sagetrac-mirror/commit/7dbaf4eb43358fa575a5814c4e43bc7b59f37505)** to **[5887973](https://github.com/sagemath/sagetrac-mirror/commit/5887973cdba9ad9b2a138fc86182c14c8d09905b)**



---

archive/issue_comments_510144.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5887973cdba9ad9b2a138fc86182c14c8d09905b\">5887973</a></td><td><code>fix docstring, changed some syntax, removed `_rmul_`, add negative weight checker for `__getitem__`, fix weight of zero element bug</code></td></tr></table>\n",
    "created_at": "2021-07-14T13:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510144",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42" align="right">Comment 42</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5887973cdba9ad9b2a138fc86182c14c8d09905b">5887973</a></td><td><code>fix docstring, changed some syntax, removed `_rmul_`, add negative weight checker for `__getitem__`, fix weight of zero element bug</code></td></tr></table>




---

archive/issue_comments_510145.json:
```json
{
    "body": "Changed keywords from **** to **gsoc2021, modular forms rings**",
    "created_at": "2021-07-14T13:48:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510145",
    "user": "https://github.com/DavidAyotte"
}
```

Changed keywords from **** to **gsoc2021, modular forms rings**



---

archive/issue_comments_510146.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nWhat about renaming `find_generators.py` in `ring.py`. It would make more sense to me. If you like it, the file `find_generators.py` must remain with proper deprecation warnings.",
    "created_at": "2021-07-15T08:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510146",
    "user": "https://github.com/videlec"
}
```

<div id="comment:44" align="right">Comment 44</div>

What about renaming `find_generators.py` in `ring.py`. It would make more sense to me. If you like it, the file `find_generators.py` must remain with proper deprecation warnings.



---

archive/issue_comments_510147.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nFor the string representation of the parent, I would change it to something closer to polynomials\n\n```\nsage: QQ['x']\nUnivariate Polynomial Ring in x over Rational Field\n```\nFor example `Ring of Modular Forms for %s over %s`.",
    "created_at": "2021-07-15T08:48:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510147",
    "user": "https://github.com/videlec"
}
```

<div id="comment:45" align="right">Comment 45</div>

For the string representation of the parent, I would change it to something closer to polynomials

```
sage: QQ['x']
Univariate Polynomial Ring in x over Rational Field
```
For example `Ring of Modular Forms for %s over %s`.



---

archive/issue_comments_510148.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nThe test suite must be run on the parent. Currently it fails\n\n```\nsage: M = ModularFormsRing(Gamma1(4))\nsage: TestSuite(M).run()\n...\nThe following tests failed: _test_associativity, _test_distributivity, _test_prod\n```",
    "created_at": "2021-07-15T09:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510148",
    "user": "https://github.com/videlec"
}
```

<div id="comment:46" align="right">Comment 46</div>

The test suite must be run on the parent. Currently it fails

```
sage: M = ModularFormsRing(Gamma1(4))
sage: TestSuite(M).run()
...
The following tests failed: _test_associativity, _test_distributivity, _test_prod
```



---

archive/issue_comments_510149.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nIn order to make the test suite less trivial you can also redefine `.some_elements()`\n\n```\nsage: M.some_elements()\n[1 + 24*q^2 + 24*q^4 + O(q^6)]\n```",
    "created_at": "2021-07-15T09:01:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510149",
    "user": "https://github.com/videlec"
}
```

<div id="comment:47" align="right">Comment 47</div>

In order to make the test suite less trivial you can also redefine `.some_elements()`

```
sage: M.some_elements()
[1 + 24*q^2 + 24*q^4 + O(q^6)]
```



---

archive/issue_comments_510150.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nThis is a bug (related to the failure of the test suite above)\n\n```\nsage: M = ModularFormsRing(Gamma1(4))\nsage: a = M.gen(0)\nsage: a*a\nTraceback (most recent call last):\n...\nValueError: the group and/or the base ring of at least one modular form (1 + 48*q^2 + 624*q^4 + O(q^6)) is not consistant with the base space\n```",
    "created_at": "2021-07-15T09:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510150",
    "user": "https://github.com/videlec"
}
```

<div id="comment:48" align="right">Comment 48</div>

This is a bug (related to the failure of the test suite above)

```
sage: M = ModularFormsRing(Gamma1(4))
sage: a = M.gen(0)
sage: a*a
Traceback (most recent call last):
...
ValueError: the group and/or the base ring of at least one modular form (1 + 48*q^2 + 624*q^4 + O(q^6)) is not consistant with the base space
```



---

archive/issue_comments_510151.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nThe function `def find_generators(*args):` wrongly raises a `NotImplementedError`. Could you replace it with a proper deprecation warning so that we can remove it in some later version of sage?",
    "created_at": "2021-07-15T09:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510151",
    "user": "https://github.com/videlec"
}
```

<div id="comment:49" align="right">Comment 49</div>

The function `def find_generators(*args):` wrongly raises a `NotImplementedError`. Could you replace it with a proper deprecation warning so that we can remove it in some later version of sage?



---

archive/issue_comments_510152.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nThank you very much Vincent for your comments. I think that moving `find_generators.py` in `ring.py` is a good idea. ~~This means that I would move all its content in the file `ring.py`?~~\n\nYou indeed found a bug related to the conversion between two modular forms space. I have fixed it but while doing so, I found another bug related with the base ring of the modular forms ring. I'm working on this right now and hopefully I will be able to push the changes shortly.",
    "created_at": "2021-07-15T14:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510152",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:50" align="right">Comment 50</div>

Thank you very much Vincent for your comments. I think that moving `find_generators.py` in `ring.py` is a good idea. ~~This means that I would move all its content in the file `ring.py`?~~

You indeed found a bug related to the conversion between two modular forms space. I have fixed it but while doing so, I found another bug related with the base ring of the modular forms ring. I'm working on this right now and hopefully I will be able to push the changes shortly.



---

archive/issue_comments_510153.json:
```json
{
    "body": "Changed commit from **[5887973](https://github.com/sagemath/sagetrac-mirror/commit/5887973cdba9ad9b2a138fc86182c14c8d09905b)** to **[7fdca22](https://github.com/sagemath/sagetrac-mirror/commit/7fdca220d5939f4ef9591087c8fd2d6b059516c0)**",
    "created_at": "2021-07-15T15:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510153",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5887973](https://github.com/sagemath/sagetrac-mirror/commit/5887973cdba9ad9b2a138fc86182c14c8d09905b)** to **[7fdca22](https://github.com/sagemath/sagetrac-mirror/commit/7fdca220d5939f4ef9591087c8fd2d6b059516c0)**



---

archive/issue_comments_510154.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fdca220d5939f4ef9591087c8fd2d6b059516c0\">7fdca22</a></td><td><code>changed `_repr_` method of ModularFormsRing, added TestSuite in doctests, added some_elements method, fixed conversion bug</code></td></tr></table>\n",
    "created_at": "2021-07-15T15:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510154",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51" align="right">Comment 51</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fdca220d5939f4ef9591087c8fd2d6b059516c0">7fdca22</a></td><td><code>changed `_repr_` method of ModularFormsRing, added TestSuite in doctests, added some_elements method, fixed conversion bug</code></td></tr></table>




---

archive/issue_comments_510155.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b9332ec4c3bde432908da2a2381184ad638531d\">1b9332e</a></td><td><code>moved sage.modular.modform.find_generators.py in sage.rings, attempt at making decrecation work (without success)</code></td></tr></table>\n",
    "created_at": "2021-07-15T16:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510155",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52" align="right">Comment 52</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b9332ec4c3bde432908da2a2381184ad638531d">1b9332e</a></td><td><code>moved sage.modular.modform.find_generators.py in sage.rings, attempt at making decrecation work (without success)</code></td></tr></table>




---

archive/issue_comments_510156.json:
```json
{
    "body": "Changed commit from **[7fdca22](https://github.com/sagemath/sagetrac-mirror/commit/7fdca220d5939f4ef9591087c8fd2d6b059516c0)** to **[1b9332e](https://github.com/sagemath/sagetrac-mirror/commit/1b9332ec4c3bde432908da2a2381184ad638531d)**",
    "created_at": "2021-07-15T16:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510156",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7fdca22](https://github.com/sagemath/sagetrac-mirror/commit/7fdca220d5939f4ef9591087c8fd2d6b059516c0)** to **[1b9332e](https://github.com/sagemath/sagetrac-mirror/commit/1b9332ec4c3bde432908da2a2381184ad638531d)**



---

archive/issue_comments_510157.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nI moved the file `find_generators.py` in the last commit (1b9332e). I also tried to implement the deprecation framework following this guide: \n\nhttps://doc.sagemath.org/html/en/developer/coding_in_python.html#deprecation.\n\nHowever, I don't think it was a success because there is now one doctest that does not pass when I run the following command:\n\n```\n./sage -t src/sage/modular/modform/find_generators.py\n```\n\n```\nFile \"src/sage/rings/find_generators.py\", line 189, in sage.rings.find_generators.ModularFormsRing.__init__\nFailed example:\n    ModularFormsRing(Gamma1(13))\nExpected:\n    Ring of Modular Forms for Congruence Subgroup Gamma1(13) over Rational Field\nGot:\n    doctest:warning\n    ...\n    DeprecationWarning:\n    Importing ModularFormsRing from here is deprecated. If you need to use it, please import it directly from sage.rings.find_generators\n    See https://trac.sagemath.org/31559 for details.\n    Ring of Modular Forms for Congruence Subgroup Gamma1(13) over Rational Field\n**********************************************************************\n1 item had failures:\n   1 of  15 in sage.rings.find_generators.ModularFormsRing.__init__\n    [117 tests, 1 failure, 2.24 s]\n----------------------------------------------------------------------\nsage -t --random-seed=0 src/sage/rings/find_generators.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\nI haven't figured out why this happens yet. Do you have an idea of what is the problem?",
    "created_at": "2021-07-15T16:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510157",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:53" align="right">Comment 53</div>

I moved the file `find_generators.py` in the last commit (1b9332e). I also tried to implement the deprecation framework following this guide: 

https://doc.sagemath.org/html/en/developer/coding_in_python.html#deprecation.

However, I don't think it was a success because there is now one doctest that does not pass when I run the following command:

```
./sage -t src/sage/modular/modform/find_generators.py
```

```
File "src/sage/rings/find_generators.py", line 189, in sage.rings.find_generators.ModularFormsRing.__init__
Failed example:
    ModularFormsRing(Gamma1(13))
Expected:
    Ring of Modular Forms for Congruence Subgroup Gamma1(13) over Rational Field
Got:
    doctest:warning
    ...
    DeprecationWarning:
    Importing ModularFormsRing from here is deprecated. If you need to use it, please import it directly from sage.rings.find_generators
    See https://trac.sagemath.org/31559 for details.
    Ring of Modular Forms for Congruence Subgroup Gamma1(13) over Rational Field
**********************************************************************
1 item had failures:
   1 of  15 in sage.rings.find_generators.ModularFormsRing.__init__
    [117 tests, 1 failure, 2.24 s]
----------------------------------------------------------------------
sage -t --random-seed=0 src/sage/rings/find_generators.py  # 1 doctest failed
----------------------------------------------------------------------
```

I haven't figured out why this happens yet. Do you have an idea of what is the problem?



---

archive/issue_comments_510158.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nThe error message is rather explicit. Importing `ModularFormsRing` from `find_generators.py` is deprecated. If you want to make a doctest for this you can write something like\n\n```\nsage: ModularFormsRing(Gamma1(13))\ndoctest:warning\n...\nDeprecationWarning: Importing ModularFormsRing from here is deprecated...\n```",
    "created_at": "2021-07-27T08:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510158",
    "user": "https://github.com/videlec"
}
```

<div id="comment:54" align="right">Comment 54</div>

The error message is rather explicit. Importing `ModularFormsRing` from `find_generators.py` is deprecated. If you want to make a doctest for this you can write something like

```
sage: ModularFormsRing(Gamma1(13))
doctest:warning
...
DeprecationWarning: Importing ModularFormsRing from here is deprecated...
```



---

archive/issue_comments_510159.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nReplying to [@videlec](#comment%3A54):\n> The error message is rather explicit. Importing `ModularFormsRing` from `find_generators.py` is deprecated. If you want to make a doctest for this you can write something like\n> \n> ```\n> sage: ModularFormsRing(Gamma1(13))\n> doctest:warning\n> ...\n> DeprecationWarning: Importing ModularFormsRing from here is deprecated...\n> ```\n\n\nWhat confuses me is that if I run the following command:\n\n```\nsage -t src/sage/rings/find_generators.py\n```\n\nI get the same error. Does this means that `ModularFormsRing` is imported from the old module?",
    "created_at": "2021-07-27T13:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510159",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:55" align="right">Comment 55</div>

Replying to [@videlec](#comment%3A54):
> The error message is rather explicit. Importing `ModularFormsRing` from `find_generators.py` is deprecated. If you want to make a doctest for this you can write something like
> 
> ```
> sage: ModularFormsRing(Gamma1(13))
> doctest:warning
> ...
> DeprecationWarning: Importing ModularFormsRing from here is deprecated...
> ```


What confuses me is that if I run the following command:

```
sage -t src/sage/rings/find_generators.py
```

I get the same error. Does this means that `ModularFormsRing` is imported from the old module?



---

archive/issue_comments_510160.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nThe file that contains the tests does not matter. The problem is the file that imports `ModularFormsRing` in the sage namespace\n\n```diff\ndiff --git a/src/sage/rings/all.py b/src/sage/rings/all.py\nindex 50f0a4e..a2a5923 100644\n--- a/src/sage/rings/all.py\n+++ b/src/sage/rings/all.py\n@@ -166,3 +166,6 @@ from .asymptotic.all import *\n \n # Register classes in numbers abc\n from . import numbers_abc\n+\n+# Rings of modular forms\n+from .find_generators import ModularFormsRing\n```",
    "created_at": "2021-07-28T14:51:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510160",
    "user": "https://github.com/videlec"
}
```

<div id="comment:56" align="right">Comment 56</div>

The file that contains the tests does not matter. The problem is the file that imports `ModularFormsRing` in the sage namespace

```diff
diff --git a/src/sage/rings/all.py b/src/sage/rings/all.py
index 50f0a4e..a2a5923 100644
--- a/src/sage/rings/all.py
+++ b/src/sage/rings/all.py
@@ -166,3 +166,6 @@ from .asymptotic.all import *
 
 # Register classes in numbers abc
 from . import numbers_abc
+
+# Rings of modular forms
+from .find_generators import ModularFormsRing
```



---

archive/issue_events_416898.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-07-28T14:51:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416898"
}
```



---

archive/issue_events_416899.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-07-28T14:51:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416899"
}
```



---

archive/issue_comments_510161.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nIf you look at the diff, you will notice that a lot of files do not have newlines at the end.",
    "created_at": "2021-07-28T14:51:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510161",
    "user": "https://github.com/videlec"
}
```

<div id="comment:57" align="right">Comment 57</div>

If you look at the diff, you will notice that a lot of files do not have newlines at the end.



---

archive/issue_comments_510162.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68509f933d5182591ebbee5a21bea6fcd423894d\">68509f9</a></td><td><code>deprecation, added missing newline</code></td></tr></table>\n",
    "created_at": "2021-07-28T18:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510162",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58" align="right">Comment 58</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68509f933d5182591ebbee5a21bea6fcd423894d">68509f9</a></td><td><code>deprecation, added missing newline</code></td></tr></table>




---

archive/issue_comments_510163.json:
```json
{
    "body": "Changed commit from **[1b9332e](https://github.com/sagemath/sagetrac-mirror/commit/1b9332ec4c3bde432908da2a2381184ad638531d)** to **[68509f9](https://github.com/sagemath/sagetrac-mirror/commit/68509f933d5182591ebbee5a21bea6fcd423894d)**",
    "created_at": "2021-07-28T18:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510163",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1b9332e](https://github.com/sagemath/sagetrac-mirror/commit/1b9332ec4c3bde432908da2a2381184ad638531d)** to **[68509f9](https://github.com/sagemath/sagetrac-mirror/commit/68509f933d5182591ebbee5a21bea6fcd423894d)**



---

archive/issue_events_416900.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-28T18:38:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416900"
}
```



---

archive/issue_events_416901.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-28T18:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416901"
}
```



---

archive/issue_events_416902.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-07-28T19:18:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416902"
}
```



---

archive/issue_events_416903.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-07-28T19:18:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416903"
}
```



---

archive/issue_comments_510164.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nThere is no need to duplicate the `TestSuite` three times. All these would better appear together inside an EXAMPLES or TESTS block.\n\n```\n+            sage: M = ModularFormsRing(1)\n+            sage: TestSuite(M).run()\n+            sage: M15 = ModularFormsRing(Gamma1(5))\n+            sage: TestSuite(M15).run()\n+            sage: M013 = ModularFormsRing(Gamma0(13))\n+            sage: TestSuite(M013).run()\n```\nthen\n\n```\n+            sage: TestSuite(ModularFormsRing(1)).run()\n+            sage: TestSuite(ModularFormsRing(Gamma0(6))).run()\n+            sage: TestSuite(ModularFormsRing(Gamma1(4))).run()\n```\nand finally\n\n```\n+            sage: TestSuite(ModularFormsRing(1)).run()\n+            sage: TestSuite(ModularFormsRing(Gamma0(6))).run()\n+            sage: TestSuite(ModularFormsRing(Gamma1(4))).run()\n```",
    "created_at": "2021-07-28T19:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510164",
    "user": "https://github.com/videlec"
}
```

<div id="comment:60" align="right">Comment 60</div>

There is no need to duplicate the `TestSuite` three times. All these would better appear together inside an EXAMPLES or TESTS block.

```
+            sage: M = ModularFormsRing(1)
+            sage: TestSuite(M).run()
+            sage: M15 = ModularFormsRing(Gamma1(5))
+            sage: TestSuite(M15).run()
+            sage: M013 = ModularFormsRing(Gamma0(13))
+            sage: TestSuite(M013).run()
```
then

```
+            sage: TestSuite(ModularFormsRing(1)).run()
+            sage: TestSuite(ModularFormsRing(Gamma0(6))).run()
+            sage: TestSuite(ModularFormsRing(Gamma1(4))).run()
```
and finally

```
+            sage: TestSuite(ModularFormsRing(1)).run()
+            sage: TestSuite(ModularFormsRing(Gamma0(6))).run()
+            sage: TestSuite(ModularFormsRing(Gamma1(4))).run()
```



---

archive/issue_comments_510165.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nThe documentation of GradedModularFormElement is not helpful for the user\n<code>The element class for \\`\\`ModularFormsRing\\`\\`</code>. You should expand a bit on what this is. Also, in this docstring it should also be advertized that the elements should not be built directly by calling the class constructor but rather via the parent.",
    "created_at": "2021-07-28T19:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510165",
    "user": "https://github.com/videlec"
}
```

<div id="comment:61" align="right">Comment 61</div>

The documentation of GradedModularFormElement is not helpful for the user
<code>The element class for \`\`ModularFormsRing\`\`</code>. You should expand a bit on what this is. Also, in this docstring it should also be advertized that the elements should not be built directly by calling the class constructor but rather via the parent.



---

archive/issue_comments_510166.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nIn the documentation of `weights_list()` I would emphasize that the return value for zero is the empty list. In particular, it does not correspond to what you get via `weight()`. Maybe this is annoying?",
    "created_at": "2021-07-28T19:25:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510166",
    "user": "https://github.com/videlec"
}
```

<div id="comment:62" align="right">Comment 62</div>

In the documentation of `weights_list()` I would emphasize that the return value for zero is the empty list. In particular, it does not correspond to what you get via `weight()`. Maybe this is annoying?



---

archive/issue_comments_510167.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nWhy the file `find_generators.py` is duplicated in both `sage/rings/` and `sage/modular/modform/`!?",
    "created_at": "2021-07-28T19:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510167",
    "user": "https://github.com/videlec"
}
```

<div id="comment:63" align="right">Comment 63</div>

Why the file `find_generators.py` is duplicated in both `sage/rings/` and `sage/modular/modform/`!?



---

archive/issue_comments_510168.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nAlso in [comment:44] I proposed to rename `find_generators.py` into `ring.py`. You did agree in [comment:50] to make it but this was not done.",
    "created_at": "2021-07-28T19:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510168",
    "user": "https://github.com/videlec"
}
```

<div id="comment:64" align="right">Comment 64</div>

Also in [comment:44] I proposed to rename `find_generators.py` into `ring.py`. You did agree in [comment:50] to make it but this was not done.



---

archive/issue_comments_510169.json:
```json
{
    "body": "Changed commit from **[68509f9](https://github.com/sagemath/sagetrac-mirror/commit/68509f933d5182591ebbee5a21bea6fcd423894d)** to **[99f8ab5](https://github.com/sagemath/sagetrac-mirror/commit/99f8ab5647e8b30a017b5fddba2fc12ad0a27988)**",
    "created_at": "2021-07-29T15:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510169",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[68509f9](https://github.com/sagemath/sagetrac-mirror/commit/68509f933d5182591ebbee5a21bea6fcd423894d)** to **[99f8ab5](https://github.com/sagemath/sagetrac-mirror/commit/99f8ab5647e8b30a017b5fddba2fc12ad0a27988)**



---

archive/issue_comments_510170.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e78c452b05c0236d5f219b01bee9e2ae753eb12\">2e78c45</a></td><td><code>revert to commit 7fdca22</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99f8ab5647e8b30a017b5fddba2fc12ad0a27988\">99f8ab5</a></td><td><code>renamed find_generators.py to ring.py, added deprecation</code></td></tr></table>\n",
    "created_at": "2021-07-29T15:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510170",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65" align="right">Comment 65</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e78c452b05c0236d5f219b01bee9e2ae753eb12">2e78c45</a></td><td><code>revert to commit 7fdca22</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99f8ab5647e8b30a017b5fddba2fc12ad0a27988">99f8ab5</a></td><td><code>renamed find_generators.py to ring.py, added deprecation</code></td></tr></table>




---

archive/issue_comments_510171.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62a9484b3e9ac98ec832266ef231b73fa2a775ff\">62a9484</a></td><td><code>docstring updates, fixed weights_list method for zero element</code></td></tr></table>\n",
    "created_at": "2021-07-29T17:26:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510171",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66" align="right">Comment 66</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62a9484b3e9ac98ec832266ef231b73fa2a775ff">62a9484</a></td><td><code>docstring updates, fixed weights_list method for zero element</code></td></tr></table>




---

archive/issue_comments_510172.json:
```json
{
    "body": "Changed commit from **[99f8ab5](https://github.com/sagemath/sagetrac-mirror/commit/99f8ab5647e8b30a017b5fddba2fc12ad0a27988)** to **[62a9484](https://github.com/sagemath/sagetrac-mirror/commit/62a9484b3e9ac98ec832266ef231b73fa2a775ff)**",
    "created_at": "2021-07-29T17:26:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510172",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[99f8ab5](https://github.com/sagemath/sagetrac-mirror/commit/99f8ab5647e8b30a017b5fddba2fc12ad0a27988)** to **[62a9484](https://github.com/sagemath/sagetrac-mirror/commit/62a9484b3e9ac98ec832266ef231b73fa2a775ff)**



---

archive/issue_comments_510173.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">Comment 67</div>\n\nThere are still two files `sage/modular/modform/ring.py` and `sage/modular/modform/find_generators.py` containing the same code. What you provided is not working and is also not tested : when the import is triggered from `find_generators` there should be a warning.\n\nDid you look at a file in the sage source code that implements these deprecated imports? For example `sage/rings/invariant_theory.py`. This is what should be done. And doctests must be added.",
    "created_at": "2021-07-29T18:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510173",
    "user": "https://github.com/videlec"
}
```

<div id="comment:67" align="right">Comment 67</div>

There are still two files `sage/modular/modform/ring.py` and `sage/modular/modform/find_generators.py` containing the same code. What you provided is not working and is also not tested : when the import is triggered from `find_generators` there should be a warning.

Did you look at a file in the sage source code that implements these deprecated imports? For example `sage/rings/invariant_theory.py`. This is what should be done. And doctests must be added.



---

archive/issue_comments_510174.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed90b5a170ee62c20462979b112ac4b12625482f\">ed90b5a</a></td><td><code>fixed deprecation, added deprecation for find_generators and basis_for_modform_space</code></td></tr></table>\n",
    "created_at": "2021-07-31T15:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510174",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:68" align="right">Comment 68</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed90b5a170ee62c20462979b112ac4b12625482f">ed90b5a</a></td><td><code>fixed deprecation, added deprecation for find_generators and basis_for_modform_space</code></td></tr></table>




---

archive/issue_comments_510175.json:
```json
{
    "body": "Changed commit from **[62a9484](https://github.com/sagemath/sagetrac-mirror/commit/62a9484b3e9ac98ec832266ef231b73fa2a775ff)** to **[ed90b5a](https://github.com/sagemath/sagetrac-mirror/commit/ed90b5a170ee62c20462979b112ac4b12625482f)**",
    "created_at": "2021-07-31T15:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510175",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[62a9484](https://github.com/sagemath/sagetrac-mirror/commit/62a9484b3e9ac98ec832266ef231b73fa2a775ff)** to **[ed90b5a](https://github.com/sagemath/sagetrac-mirror/commit/ed90b5a170ee62c20462979b112ac4b12625482f)**



---

archive/issue_comments_510176.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nHello Vincent, I hope that what I did now is correct. I followed the example you gave me. It is now much clearer in my head. Prior to this, I was looking at the guide \n\nhttps://doc.sagemath.org/html/en/developer/coding_in_python.html#deprecation \n\nand I think that some improvements could be made to make it clearer (I will probably do them later when I have time).",
    "created_at": "2021-07-31T15:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510176",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:69" align="right">Comment 69</div>

Hello Vincent, I hope that what I did now is correct. I followed the example you gave me. It is now much clearer in my head. Prior to this, I was looking at the guide 

https://doc.sagemath.org/html/en/developer/coding_in_python.html#deprecation 

and I think that some improvements could be made to make it clearer (I will probably do them later when I have time).



---

archive/issue_events_416904.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-31T15:38:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416904"
}
```



---

archive/issue_events_416905.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-07-31T15:38:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416905"
}
```



---

archive/issue_comments_510177.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nLooks better. Could you move the test for the deprecation inside `find_generators.py`. It would be better in the latter rather than `ring.py`.",
    "created_at": "2021-08-01T15:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510177",
    "user": "https://github.com/videlec"
}
```

<div id="comment:70" align="right">Comment 70</div>

Looks better. Could you move the test for the deprecation inside `find_generators.py`. It would be better in the latter rather than `ring.py`.



---

archive/issue_comments_510178.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nWhy do you put twice the same doctest\n\n```\nfrom sage.modular.modform.find_generators import find_generators\nfind_generators(ModularFormsRing(1))\n```",
    "created_at": "2021-08-01T15:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510178",
    "user": "https://github.com/videlec"
}
```

<div id="comment:71" align="right">Comment 71</div>

Why do you put twice the same doctest

```
from sage.modular.modform.find_generators import find_generators
find_generators(ModularFormsRing(1))
```



---

archive/issue_comments_510179.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nThe documentation of a class goes in the main docstring not in the `__init__` docstring. That is\n\n```\nclass A(object):\n    r\"\"\"\n    This is my class A\n\n    EXAMPLES:\n\n    This is useful as it is the first letter of the alphabet::\n\n        sage: a = A()\n    \"\"\"\n    def __init__(self, a, b):\n        r\"\"\"\n        INPUT:\n        \n        - ``a`` - an a\n\n        - ``b`` - a b\n        \"\"\"\n```",
    "created_at": "2021-08-01T15:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510179",
    "user": "https://github.com/videlec"
}
```

<div id="comment:72" align="right">Comment 72</div>

The documentation of a class goes in the main docstring not in the `__init__` docstring. That is

```
class A(object):
    r"""
    This is my class A

    EXAMPLES:

    This is useful as it is the first letter of the alphabet::

        sage: a = A()
    """
    def __init__(self, a, b):
        r"""
        INPUT:
        
        - ``a`` - an a

        - ``b`` - a b
        """
```



---

archive/issue_comments_510180.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">Comment 73</div>\n\nOk, I'll move the deprecation tests inside `find_generators`. It does make more sense. Considering the \"same doctest\", in the first one I am testing the deprecated function name (as you suggested in comment 49) and in the second one I am testing the deprecation import warning:\n\n```\n            sage: from sage.modular.modform.RING import find_generators\n            sage: find_generators(ModularFormsRing(1))\n            doctest:warning\n            ...\n            DeprecationWarning: find_generators is deprecated. Please use sage.modular.modform.ring.generators instead.\n            See https://trac.sagemath.org/31559 for details.\n\n        ::\n\n            sage: from sage.modular.modform.FIND_GENERATORS import find_generators\n            sage: find_generators(ModularFormsRing(1))\n            doctest:warning\n            ...\n            DeprecationWarning: Importing find_generators from here is deprecated. If you need to use it, please import it directly from sage.modular.modform.ring\n            See https://trac.sagemath.org/31559 for details.\n```\n\nConsidering the placement of the documentation of the class, I did it like this because that's how it was done before I started working on this ticket, but I will change it, thank you for pointing it out!",
    "created_at": "2021-08-01T15:29:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510180",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:73" align="right">Comment 73</div>

Ok, I'll move the deprecation tests inside `find_generators`. It does make more sense. Considering the "same doctest", in the first one I am testing the deprecated function name (as you suggested in comment 49) and in the second one I am testing the deprecation import warning:

```
            sage: from sage.modular.modform.RING import find_generators
            sage: find_generators(ModularFormsRing(1))
            doctest:warning
            ...
            DeprecationWarning: find_generators is deprecated. Please use sage.modular.modform.ring.generators instead.
            See https://trac.sagemath.org/31559 for details.

        ::

            sage: from sage.modular.modform.FIND_GENERATORS import find_generators
            sage: find_generators(ModularFormsRing(1))
            doctest:warning
            ...
            DeprecationWarning: Importing find_generators from here is deprecated. If you need to use it, please import it directly from sage.modular.modform.ring
            See https://trac.sagemath.org/31559 for details.
```

Considering the placement of the documentation of the class, I did it like this because that's how it was done before I started working on this ticket, but I will change it, thank you for pointing it out!



---

archive/issue_comments_510181.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">Comment 74</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d489a1f423e066fd99bfc6ed18e5ea8a8c92a14c\">d489a1f</a></td><td><code>moved deprecation doctests inside find_generators, fixed docstrings</code></td></tr></table>\n",
    "created_at": "2021-08-01T15:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510181",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74" align="right">Comment 74</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d489a1f423e066fd99bfc6ed18e5ea8a8c92a14c">d489a1f</a></td><td><code>moved deprecation doctests inside find_generators, fixed docstrings</code></td></tr></table>




---

archive/issue_comments_510182.json:
```json
{
    "body": "Changed commit from **[ed90b5a](https://github.com/sagemath/sagetrac-mirror/commit/ed90b5a170ee62c20462979b112ac4b12625482f)** to **[d489a1f](https://github.com/sagemath/sagetrac-mirror/commit/d489a1f423e066fd99bfc6ed18e5ea8a8c92a14c)**",
    "created_at": "2021-08-01T15:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510182",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ed90b5a](https://github.com/sagemath/sagetrac-mirror/commit/ed90b5a170ee62c20462979b112ac4b12625482f)** to **[d489a1f](https://github.com/sagemath/sagetrac-mirror/commit/d489a1f423e066fd99bfc6ed18e5ea8a8c92a14c)**



---

archive/issue_comments_510183.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">Comment 75</div>\n\nReplying to [@DavidAyotte](#comment%3A73):\n> Considering the \"same doctest\", in the first one I am testing the deprecated function name (as you suggested in comment 49) and in the second one I am testing the deprecation import warning:\n> <...>\n\nIndeed. I read too quickly! Sorry.",
    "created_at": "2021-08-01T18:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510183",
    "user": "https://github.com/videlec"
}
```

<div id="comment:75" align="right">Comment 75</div>

Replying to [@DavidAyotte](#comment%3A73):
> Considering the "same doctest", in the first one I am testing the deprecated function name (as you suggested in comment 49) and in the second one I am testing the deprecation import warning:
> <...>

Indeed. I read too quickly! Sorry.



---

archive/issue_comments_510184.json:
```json
{
    "body": "Changed commit from **[d489a1f](https://github.com/sagemath/sagetrac-mirror/commit/d489a1f423e066fd99bfc6ed18e5ea8a8c92a14c)** to **[bf19eec](https://github.com/sagemath/sagetrac-mirror/commit/bf19eece5c801e7cbb2c170c9df6e286ccdbd506)**",
    "created_at": "2021-08-02T13:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510184",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d489a1f](https://github.com/sagemath/sagetrac-mirror/commit/d489a1f423e066fd99bfc6ed18e5ea8a8c92a14c)** to **[bf19eec](https://github.com/sagemath/sagetrac-mirror/commit/bf19eece5c801e7cbb2c170c9df6e286ccdbd506)**



---

archive/issue_comments_510185.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">Comment 76</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf19eece5c801e7cbb2c170c9df6e286ccdbd506\">bf19eec</a></td><td><code>added example info for GradedModularFormElement class, moved some doctests inside the `__init__` method (for coverage)</code></td></tr></table>\n",
    "created_at": "2021-08-02T13:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510185",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:76" align="right">Comment 76</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf19eece5c801e7cbb2c170c9df6e286ccdbd506">bf19eec</a></td><td><code>added example info for GradedModularFormElement class, moved some doctests inside the `__init__` method (for coverage)</code></td></tr></table>




---

archive/issue_comments_510186.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">Comment 77</div>\n\nIn last commit, I moved some doctests inside the `__init__` method of `GradedModularFormElement` class because it was lacking doctests.",
    "created_at": "2021-08-02T13:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510186",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:77" align="right">Comment 77</div>

In last commit, I moved some doctests inside the `__init__` method of `GradedModularFormElement` class because it was lacking doctests.



---

archive/issue_comments_510187.json:
```json
{
    "body": "Changed commit from **[bf19eec](https://github.com/sagemath/sagetrac-mirror/commit/bf19eece5c801e7cbb2c170c9df6e286ccdbd506)** to **[2e49907](https://github.com/sagemath/sagetrac-mirror/commit/2e499076cadb327925414e917fa1f2c399269d2b)**",
    "created_at": "2021-08-02T16:04:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510187",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bf19eec](https://github.com/sagemath/sagetrac-mirror/commit/bf19eece5c801e7cbb2c170c9df6e286ccdbd506)** to **[2e49907](https://github.com/sagemath/sagetrac-mirror/commit/2e499076cadb327925414e917fa1f2c399269d2b)**



---

archive/issue_comments_510188.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">Comment 78</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e499076cadb327925414e917fa1f2c399269d2b\">2e49907</a></td><td><code>fix docbuild error</code></td></tr></table>\n",
    "created_at": "2021-08-02T16:04:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510188",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:78" align="right">Comment 78</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e499076cadb327925414e917fa1f2c399269d2b">2e49907</a></td><td><code>fix docbuild error</code></td></tr></table>




---

archive/issue_events_416906.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-08-03T14:25:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416906"
}
```



---

archive/issue_events_416907.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-08-03T14:25:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416907"
}
```



---

archive/issue_comments_510189.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\nAll right. Let us move forward.",
    "created_at": "2021-08-03T14:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510189",
    "user": "https://github.com/videlec"
}
```

<div id="comment:79" align="right">Comment 79</div>

All right. Let us move forward.



---

archive/issue_events_416908.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416908"
}
```



---

archive/issue_events_416909.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416909"
}
```



---

archive/issue_comments_510190.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">Comment 81</div>\n\nThe `index.rst` file was not updated after renaming `find_generator.py` into `ring.py` and so the documentation does not show up in the reference manual. I'm fixing this.",
    "created_at": "2021-08-23T19:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510190",
    "user": "https://github.com/DavidAyotte"
}
```

<div id="comment:81" align="right">Comment 81</div>

The `index.rst` file was not updated after renaming `find_generator.py` into `ring.py` and so the documentation does not show up in the reference manual. I'm fixing this.



---

archive/issue_events_416910.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-08-23T19:20:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416910"
}
```



---

archive/issue_events_416911.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-08-23T19:20:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416911"
}
```



---

archive/issue_comments_510191.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">Comment 82</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c\">088139a</a></td><td><code>reference manual fix</code></td></tr></table>\n",
    "created_at": "2021-08-23T19:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510191",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82" align="right">Comment 82</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c">088139a</a></td><td><code>reference manual fix</code></td></tr></table>




---

archive/issue_comments_510192.json:
```json
{
    "body": "Changed commit from **[2e49907](https://github.com/sagemath/sagetrac-mirror/commit/2e499076cadb327925414e917fa1f2c399269d2b)** to **[088139a](https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c)**",
    "created_at": "2021-08-23T19:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510192",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2e49907](https://github.com/sagemath/sagetrac-mirror/commit/2e499076cadb327925414e917fa1f2c399269d2b)** to **[088139a](https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c)**



---

archive/issue_events_416912.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-08-23T19:21:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416912"
}
```



---

archive/issue_events_416913.json:
```json
{
    "actor": "https://github.com/DavidAyotte",
    "created_at": "2021-08-23T19:21:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416913"
}
```



---

archive/issue_events_416914.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-08-26T06:52:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416914"
}
```



---

archive/issue_events_416915.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-08-26T06:52:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416915"
}
```



---

archive/issue_comments_510193.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">Comment 84</div>\n\nthanks",
    "created_at": "2021-08-26T06:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510193",
    "user": "https://github.com/videlec"
}
```

<div id="comment:84" align="right">Comment 84</div>

thanks



---

archive/issue_events_416916.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-31T22:00:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416916"
}
```



---

archive/issue_events_416917.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4ac9422918b6dffea5f773fd35641ab943dfc59d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-08-31T22:00:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31559#event-416917"
}
```



---

archive/issue_comments_510194.json:
```json
{
    "body": "Changed branch from **[u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects)** to **[088139a](https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c)**",
    "created_at": "2021-08-31T22:00:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31559#issuecomment-510194",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DavidAyotte/make_modularformrings_manipulate_formal_objects)** to **[088139a](https://github.com/sagemath/sagetrac-mirror/commit/088139ad5f9299a129368cdb8543848ab6dcca5c)**
