# Issue 31061: Upgrade: GLPK 5.0

archive/issues_030824.json:
```json
{
    "assignees": [],
    "body": "GLPK (GNU Linear Programming Kit) version 5.0\nwas released on 2020-12-16.\n\nThe last version was GLPK 4.65, released on 2018-02-16,\nto which we upgraded in #24824.\n\nFrom the release notes of GLPK 5.0:\n\n> The copyright was transferred to the Free Software Foundation.\n\n>\n> To fix some licensing problems the routines in the following\n> files were disabled by replacing with dummy ones that print an\n> error message:\n>\n>- `src/api/gridgen.c`\n>- `src/api/netgen.c`\n>- `src/api/rmfgen.c`\n>- `src/misc/qmd.c`\n>- `src/misc/relax4.c`\n>\n> Note that this change does not affect\n> the main functionality of the package.\n>\n> Some minor bugs were fixed.\n\nUpstream tarball:\n\n- https://ftp.gnu.org/gnu/glpk/glpk-5.0.tar.gz\n\nCC:  @antonio-rojas @dimpase @kiwifb @timokau @isuruf @jhpalmieri @mkoeppe @slel @tobihan @orlitzky\n\nKeywords: **GLPK, upgrade**\n\nBranch/Commit: **[b2cddf3](https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514)**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Antonio Rojas**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31061_\n\n",
    "closed_at": "2020-12-27T00:22:53Z",
    "created_at": "2020-12-16T17:16:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade: GLPK 5.0",
    "type": "issue",
    "updated_at": "2020-12-27T00:22:53Z",
    "url": "https://github.com/sagemath/sage/issues/31061",
    "user": "https://github.com/slel"
}
```
GLPK (GNU Linear Programming Kit) version 5.0
was released on 2020-12-16.

The last version was GLPK 4.65, released on 2018-02-16,
to which we upgraded in #24824.

From the release notes of GLPK 5.0:

> The copyright was transferred to the Free Software Foundation.

>
> To fix some licensing problems the routines in the following
> files were disabled by replacing with dummy ones that print an
> error message:
>
>- `src/api/gridgen.c`
>- `src/api/netgen.c`
>- `src/api/rmfgen.c`
>- `src/misc/qmd.c`
>- `src/misc/relax4.c`
>
> Note that this change does not affect
> the main functionality of the package.
>
> Some minor bugs were fixed.

Upstream tarball:

- https://ftp.gnu.org/gnu/glpk/glpk-5.0.tar.gz

CC:  @antonio-rojas @dimpase @kiwifb @timokau @isuruf @jhpalmieri @mkoeppe @slel @tobihan @orlitzky

Keywords: **GLPK, upgrade**

Branch/Commit: **[b2cddf3](https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514)**

Reviewer: **François Bissey**

Author: **Antonio Rojas**

_Issue created by migration from https://trac.sagemath.org/ticket/31061_





---

archive/issue_events_410044.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-16T17:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410044"
}
```



---

archive/issue_events_410045.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-16T17:16:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410045"
}
```



---

archive/issue_events_410046.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-16T17:16:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410046"
}
```



---

archive/issue_events_410047.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-12-16T17:16:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410047"
}
```



---

archive/issue_comments_500701.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n GLPK (GNU Linear Programming Kit) version 5.0\n was released on 2020-12-16.\n \n-The last version was GLPK 4.65, released\n+The last version was GLPK 4.65, released on 2018-02-16,\n to which we upgraded in #24824.\n \n From the release notes of GLPK 5.0:\n@@ -24,3 +24,6 @@\n >\n > Some minor bugs were fixed.\n \n+Upstream tarball:\n+\n+- https://ftp.gnu.org/gnu/glpk/glpk-5.0.tar.gz\n``````\n",
    "created_at": "2020-12-16T17:20:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500701",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 GLPK (GNU Linear Programming Kit) version 5.0
 was released on 2020-12-16.
 
-The last version was GLPK 4.65, released
+The last version was GLPK 4.65, released on 2018-02-16,
 to which we upgraded in #24824.
 
 From the release notes of GLPK 5.0:
@@ -24,3 +24,6 @@
 >
 > Some minor bugs were fixed.
 
+Upstream tarball:
+
+- https://ftp.gnu.org/gnu/glpk/glpk-5.0.tar.gz
``````




---

archive/issue_comments_500702.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nIt looks like the only significant change - packaging wise - is that the patch `dont_print_Longstepwillbeused.patch` is included. The main reason for the bump seems to be purely linked to the fact that the copyright was transferred to the FSF.\n\nIt remain to be seen if the removed functionality is used in sage at all.",
    "created_at": "2020-12-16T20:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500702",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">Comment 3</div>

It looks like the only significant change - packaging wise - is that the patch `dont_print_Longstepwillbeused.patch` is included. The main reason for the bump seems to be purely linked to the fact that the copyright was transferred to the FSF.

It remain to be seen if the removed functionality is used in sage at all.



---

archive/issue_comments_500703.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThe soname stayed the same with a small library version change from 40.3.0 to 40.3.1. Which means no change of interface. So it should just be a drop in replacement without needing recompilation.",
    "created_at": "2020-12-16T20:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500703",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">Comment 4</div>

The soname stayed the same with a small library version change from 40.3.0 to 40.3.1. Which means no change of interface. So it should just be a drop in replacement without needing recompilation.



---

archive/issue_comments_500704.json:
```json
{
    "body": "Branch: **[u/arojas/upgrade__glpk_5_0](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/upgrade__glpk_5_0)**",
    "created_at": "2020-12-17T06:38:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500704",
    "user": "https://github.com/antonio-rojas"
}
```

Branch: **[u/arojas/upgrade__glpk_5_0](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/upgrade__glpk_5_0)**



---

archive/issue_events_410048.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-12-17T06:40:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410048"
}
```



---

archive/issue_comments_500705.json:
```json
{
    "body": "Commit: **[b2cddf3](https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514)**",
    "created_at": "2020-12-17T06:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500705",
    "user": "https://github.com/antonio-rojas"
}
```

Commit: **[b2cddf3](https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514)**



---

archive/issue_comments_500706.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAll good on the tests front except for a minor output change\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3c1f607e32f964bf0cab877a63767c86fd00266\">d3c1f60</a></td><td><code>Update glpk to 5.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514\">b2cddf3</a></td><td><code>Make test pass with glpk 5.0</code></td></tr></table>\n",
    "created_at": "2020-12-17T06:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500706",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:6" align="right">Comment 6</div>

All good on the tests front except for a minor output change

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3c1f607e32f964bf0cab877a63767c86fd00266">d3c1f60</a></td><td><code>Update glpk to 5.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514">b2cddf3</a></td><td><code>Make test pass with glpk 5.0</code></td></tr></table>




---

archive/issue_comments_500707.json:
```json
{
    "body": "Author: **Antonio Rojas**",
    "created_at": "2020-12-17T06:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500707",
    "user": "https://github.com/antonio-rojas"
}
```

Author: **Antonio Rojas**



---

archive/issue_events_410049.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2020-12-17T06:43:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410049"
}
```



---

archive/issue_events_410050.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2020-12-17T06:43:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410050"
}
```



---

archive/issue_comments_500708.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2020-12-17T06:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500708",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_comments_500709.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nLGTM",
    "created_at": "2020-12-17T06:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500709",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">Comment 7</div>

LGTM



---

archive/issue_events_410051.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-27T00:22:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410051"
}
```



---

archive/issue_events_410052.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f455241f5a8a1deecd0f6d743d6ab513ce34de03",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-12-27T00:22:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31061#event-410052"
}
```



---

archive/issue_comments_500710.json:
```json
{
    "body": "Changed branch from **[u/arojas/upgrade__glpk_5_0](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/upgrade__glpk_5_0)** to **[b2cddf3](https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514)**",
    "created_at": "2020-12-27T00:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31061#issuecomment-500710",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/arojas/upgrade__glpk_5_0](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/upgrade__glpk_5_0)** to **[b2cddf3](https://github.com/sagemath/sagetrac-mirror/commit/b2cddf3efaa117e134850627df845cf763c66514)**
