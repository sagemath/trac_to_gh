# Issue 31025: FPLLL 5.4.0 and FPyLLL 0.5.4

archive/issues_030788.json:
```json
{
    "assignees": [],
    "body": "Tarball URLs - see `checksums.ini`\n\nCC:  @kiwifb\n\nKeywords: **sd111**\n\nBranch: **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Martin Albrecht**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31025_\n\n",
    "closed_at": "2020-12-27T23:25:46Z",
    "created_at": "2020-12-07T11:16:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "FPLLL 5.4.0 and FPyLLL 0.5.4",
    "type": "issue",
    "updated_at": "2021-01-01T21:55:59Z",
    "url": "https://github.com/sagemath/sage/issues/31025",
    "user": "https://github.com/malb"
}
```
Tarball URLs - see `checksums.ini`

CC:  @kiwifb

Keywords: **sd111**

Branch: **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)**

Reviewer: **Matthias Koeppe**

Author: **Martin Albrecht**

_Issue created by migration from https://trac.sagemath.org/ticket/31025_





---

archive/issue_events_395731.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-07T11:16:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395731"
}
```



---

archive/issue_events_395732.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-07T11:16:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395732"
}
```



---

archive/issue_comments_500205.json:
```json
{
    "body": "Branch: **[u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0)**",
    "created_at": "2020-12-07T11:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500205",
    "user": "https://github.com/malb"
}
```

Branch: **[u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0)**



---

archive/issue_events_395733.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-07T11:18:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395733"
}
```



---

archive/issue_comments_500206.json:
```json
{
    "body": "Commit: **[8faa924](https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16)**",
    "created_at": "2020-12-07T11:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500206",
    "user": "https://github.com/malb"
}
```

Commit: **[8faa924](https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16)**



---

archive/issue_events_395734.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-07T11:18:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395734"
}
```



---

archive/issue_comments_500207.json:
```json
{
    "body": "Author: **Martin Albrecht**",
    "created_at": "2020-12-07T11:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500207",
    "user": "https://github.com/malb"
}
```

Author: **Martin Albrecht**



---

archive/issue_events_395735.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-07T11:18:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395735"
}
```



---

archive/issue_comments_500208.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16\">8faa924</a></td><td><code>FPLLL 5.4.0 and FPyLLL 0.5.3.dev0</code></td></tr></table>\n",
    "created_at": "2020-12-07T11:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500208",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16">8faa924</a></td><td><code>FPLLL 5.4.0 and FPyLLL 0.5.3.dev0</code></td></tr></table>




---

archive/issue_comments_500209.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz\n \n+https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz\n``````\n",
    "created_at": "2020-12-07T11:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500209",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz
 
+https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz
``````




---

archive/issue_comments_500210.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\n`build/pkgs/fpylll/checksums.ini` needs `upstream_url` - see other python packages for the preferred URL format",
    "created_at": "2020-12-08T01:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500210",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'>Comment 4:</a>
`build/pkgs/fpylll/checksums.ini` needs `upstream_url` - see other python packages for the preferred URL format



---

archive/issue_comments_500211.json:
```json
{
    "body": "Changed commit from **[8faa924](https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16)** to **[0ab1d0e](https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478)**",
    "created_at": "2020-12-08T10:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500211",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8faa924](https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16)** to **[0ab1d0e](https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478)**



---

archive/issue_comments_500212.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478\">0ab1d0e</a></td><td><code>add upstream_url</code></td></tr></table>\n",
    "created_at": "2020-12-08T10:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500212",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478">0ab1d0e</a></td><td><code>add upstream_url</code></td></tr></table>




---

archive/issue_comments_500213.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nTa. Fixed.",
    "created_at": "2020-12-08T10:34:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500213",
    "user": "https://github.com/malb"
}
```

<a id='comment:6'>Comment 6:</a>
Ta. Fixed.



---

archive/issue_comments_500214.json:
```json
{
    "body": "Changed keywords from **** to **sd111**",
    "created_at": "2020-12-10T18:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500214",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from **** to **sd111**



---

archive/issue_comments_500215.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz\n-\n-https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz\n+Tarball URLs - see `checksums.ini`\n``````\n",
    "created_at": "2020-12-10T18:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500215",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz
-
-https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz
+Tarball URLs - see `checksums.ini`
``````




---

archive/issue_comments_500216.json:
```json
{
    "body": "Reviewer: **https://github.com/mkoeppe/sage/actions/runs/413724088**",
    "created_at": "2020-12-10T18:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500216",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/mkoeppe/sage/actions/runs/413724088**



---

archive/issue_comments_500217.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/413724088** to **https://github.com/mkoeppe/sage/actions/runs/414158703**",
    "created_at": "2020-12-10T22:57:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500217",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/413724088** to **https://github.com/mkoeppe/sage/actions/runs/414158703**



---

archive/issue_comments_500218.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nOn `local-conda-forge-ubuntu-standard` (https://github.com/mkoeppe/sage/runs/1533944840)\n\n```\n  build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':\n  build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'\n       __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)\n                                                                                                     \n```",
    "created_at": "2020-12-11T06:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500218",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'>Comment 11:</a>
On `local-conda-forge-ubuntu-standard` (https://github.com/mkoeppe/sage/runs/1533944840)

```
  build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':
  build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'
       __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)
                                                                                                     
```



---

archive/issue_comments_500219.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nWorks fine in Gentoo. I must I never know where to find the appropriate logs in your runs. Sometimes it is easy and sometimes I just get lost. I found the good stuff in the raw logs.\n\n```\n2020-12-11T03:40:06.7154190Z   building 'fpylll.fplll.enumeration' extension\n2020-12-11T03:40:06.7164990Z   /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/x86_64-conda-linux-gnu-cc -Wno-unused-result -Wsign-compare -DNDEBUG -fwrapv -O2 -Wall -Wstrict-prototypes -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -fPIC -Isrc/fpylll/fplll -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/cysignals -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/numpy/core/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include/python3.8 -c build/src/fpylll/fplll/enumeration.cpp -o build/temp.linux-x86_64-3.8/build/src/fpylll/fplll/enumeration.o -std=c++11 -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include\n2020-12-11T03:40:06.7174509Z   cc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++\n2020-12-11T03:40:06.7176260Z   build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':\n2020-12-11T03:40:06.7178575Z   build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'\n2020-12-11T03:40:06.7180107Z        __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)\n```\n\nI have a feeling `-std=c++17` is responsible for this, I compile with c++11 in Gentoo (probably a default somewhere).",
    "created_at": "2020-12-11T06:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500219",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'>Comment 12:</a>
Works fine in Gentoo. I must I never know where to find the appropriate logs in your runs. Sometimes it is easy and sometimes I just get lost. I found the good stuff in the raw logs.

```
2020-12-11T03:40:06.7154190Z   building 'fpylll.fplll.enumeration' extension
2020-12-11T03:40:06.7164990Z   /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/x86_64-conda-linux-gnu-cc -Wno-unused-result -Wsign-compare -DNDEBUG -fwrapv -O2 -Wall -Wstrict-prototypes -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -fPIC -Isrc/fpylll/fplll -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/cysignals -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/numpy/core/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include/python3.8 -c build/src/fpylll/fplll/enumeration.cpp -o build/temp.linux-x86_64-3.8/build/src/fpylll/fplll/enumeration.o -std=c++11 -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include
2020-12-11T03:40:06.7174509Z   cc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++
2020-12-11T03:40:06.7176260Z   build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':
2020-12-11T03:40:06.7178575Z   build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'
2020-12-11T03:40:06.7180107Z        __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)
```

I have a feeling `-std=c++17` is responsible for this, I compile with c++11 in Gentoo (probably a default somewhere).



---

archive/issue_comments_500220.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nIs there perhaps a race condition that FPyLLL is built before the new FPLLL?",
    "created_at": "2020-12-11T09:03:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500220",
    "user": "https://github.com/malb"
}
```

<a id='comment:13'>Comment 13:</a>
Is there perhaps a race condition that FPyLLL is built before the new FPLLL?



---

archive/issue_comments_500221.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@malb](#comment%3A13):\n> Is there perhaps a race condition that FPyLLL is built before the new FPLLL?\n\nLooking at the log again, I'd say it looks like it!",
    "created_at": "2020-12-11T09:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500221",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@malb](#comment%3A13):
> Is there perhaps a race condition that FPyLLL is built before the new FPLLL?

Looking at the log again, I'd say it looks like it!



---

archive/issue_comments_500222.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nThis build is accepting a system package\n\n```\nChecking whether SageMath should install SPKG fplll...\nchecking whether any of mpfr is installed as or will be installed as SPKG... no\nchecking for fplll >= 5.3... yes\nconfigure: will use system package and not install SPKG fplll\n```\nIf the new `fpylll` has other version requirements, `build/pkgs/fplll/spkg-configure.m4` needs to be changed",
    "created_at": "2020-12-11T16:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500222",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'>Comment 15:</a>
This build is accepting a system package

```
Checking whether SageMath should install SPKG fplll...
checking whether any of mpfr is installed as or will be installed as SPKG... no
checking for fplll >= 5.3... yes
configure: will use system package and not install SPKG fplll
```
If the new `fpylll` has other version requirements, `build/pkgs/fplll/spkg-configure.m4` needs to be changed



---

archive/issue_comments_500223.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nSame failure also on `fedora-32-standard` https://github.com/mkoeppe/sage/runs/1533944016 and other builds",
    "created_at": "2020-12-11T16:24:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500223",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'>Comment 16:</a>
Same failure also on `fedora-32-standard` https://github.com/mkoeppe/sage/runs/1533944016 and other builds



---

archive/issue_comments_500224.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nIf practical at all, I would suggest to upstream to allow the Python bindings to accept a range of fplll versions...",
    "created_at": "2020-12-11T16:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500224",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'>Comment 17:</a>
If practical at all, I would suggest to upstream to allow the Python bindings to accept a range of fplll versions...



---

archive/issue_comments_500225.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527\">9eb14e4</a></td><td><code>update required FPLLL version</code></td></tr></table>\n",
    "created_at": "2020-12-11T17:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500225",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527">9eb14e4</a></td><td><code>update required FPLLL version</code></td></tr></table>




---

archive/issue_comments_500226.json:
```json
{
    "body": "Changed commit from **[0ab1d0e](https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478)** to **[9eb14e4](https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527)**",
    "created_at": "2020-12-11T17:23:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500226",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0ab1d0e](https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478)** to **[9eb14e4](https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527)**



---

archive/issue_comments_500227.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nUpdated accordingly, I don't think we can commit to supporting a range of FPLLL versions in FPyLLL",
    "created_at": "2020-12-11T17:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500227",
    "user": "https://github.com/malb"
}
```

<a id='comment:19'>Comment 19:</a>
Updated accordingly, I don't think we can commit to supporting a range of FPLLL versions in FPyLLL



---

archive/issue_comments_500228.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nPerhaps then an upper bound for the version needs to be set as well?",
    "created_at": "2020-12-11T18:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500228",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'>Comment 20:</a>
Perhaps then an upper bound for the version needs to be set as well?



---

archive/issue_comments_500229.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nLikewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)?",
    "created_at": "2020-12-14T17:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500229",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'>Comment 21:</a>
Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)?



---

archive/issue_events_395736.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-14T17:45:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395736"
}
```



---

archive/issue_events_395737.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-14T17:45:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395737"
}
```



---

archive/issue_comments_500230.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@mkoeppe](#comment%3A20):\n> Perhaps then an upper bound for the version needs to be set as well?\n\nI think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?",
    "created_at": "2020-12-14T18:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500230",
    "user": "https://github.com/malb"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@mkoeppe](#comment%3A20):
> Perhaps then an upper bound for the version needs to be set as well?

I think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?



---

archive/issue_comments_500231.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@mkoeppe](#comment%3A21):\n> Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? \n\nFor now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.",
    "created_at": "2020-12-14T18:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500231",
    "user": "https://github.com/malb"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@mkoeppe](#comment%3A21):
> Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? 

For now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.



---

archive/issue_comments_500232.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@malb](#comment%3A22):\n> Replying to [@mkoeppe](#comment%3A20):\n> > Perhaps then an upper bound for the version needs to be set as well?\n\n> \n> I think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?\n\nSo there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x?",
    "created_at": "2020-12-14T18:59:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500232",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@malb](#comment%3A22):
> Replying to [@mkoeppe](#comment%3A20):
> > Perhaps then an upper bound for the version needs to be set as well?

> 
> I think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?

So there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x?



---

archive/issue_comments_500233.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@malb](#comment%3A23):\n> Replying to [@mkoeppe](#comment%3A21):\n> > Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? \n\n> \n> For now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.\n\nTo clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?\n\nIf FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...",
    "created_at": "2020-12-14T19:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500233",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@malb](#comment%3A23):
> Replying to [@mkoeppe](#comment%3A21):
> > Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? 

> 
> For now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.

To clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?

If FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...



---

archive/issue_comments_500234.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@mkoeppe](#comment%3A24):\n> So there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x? \n\nNo expectation at all.",
    "created_at": "2020-12-14T19:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500234",
    "user": "https://github.com/malb"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@mkoeppe](#comment%3A24):
> So there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x? 

No expectation at all.



---

archive/issue_comments_500235.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@mkoeppe](#comment%3A25):\n> To clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?\n> \n> If FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...\n\nRealistically the only viable policy is: whatever versions were released at the same time should work together. So I think it makes sense to enforce a tuple: FPLLL=X,FPyLLL=Y",
    "created_at": "2020-12-14T19:26:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500235",
    "user": "https://github.com/malb"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@mkoeppe](#comment%3A25):
> To clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?
> 
> If FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...

Realistically the only viable policy is: whatever versions were released at the same time should work together. So I think it makes sense to enforce a tuple: FPLLL=X,FPyLLL=Y



---

archive/issue_comments_500236.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37414eb508e22b6f9d7cfcd8d99370ce16951672\">37414eb</a></td><td><code>update to FPyLLL 0.5.4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9\">26032b1</a></td><td><code>enforce exact FPLLL</code></td></tr></table>\n",
    "created_at": "2020-12-15T12:12:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500236",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37414eb508e22b6f9d7cfcd8d99370ce16951672">37414eb</a></td><td><code>update to FPyLLL 0.5.4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9">26032b1</a></td><td><code>enforce exact FPLLL</code></td></tr></table>




---

archive/issue_comments_500237.json:
```json
{
    "body": "Changed commit from **[9eb14e4](https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527)** to **[26032b1](https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9)**",
    "created_at": "2020-12-15T12:12:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500237",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9eb14e4](https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527)** to **[26032b1](https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9)**



---

archive/issue_events_395738.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-15T12:12:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "title_is": "FPLLL 5.4.0 and FPyLLL 0.5.4",
    "title_was": "FPLLL 5.4.0 and FPyLLL 0.5.3.dev0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395738"
}
```



---

archive/issue_comments_500238.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nBased on your explanations, I think fpylll's `install-requires.txt` should also fix the version.",
    "created_at": "2020-12-15T21:29:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500238",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'>Comment 30:</a>
Based on your explanations, I think fpylll's `install-requires.txt` should also fix the version.



---

archive/issue_comments_500239.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/414158703** to **https://github.com/mkoeppe/sage/actions/runs/426748847**",
    "created_at": "2020-12-16T22:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500239",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/414158703** to **https://github.com/mkoeppe/sage/actions/runs/426748847**



---

archive/issue_events_395739.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-16T22:50:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395739"
}
```



---

archive/issue_events_395740.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-16T22:50:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395740"
}
```



---

archive/issue_comments_500240.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nThis doesn't look like an FPLLL issue: https://github.com/mkoeppe/sage/runs/1566871595?check_suite_focus=true#step:7:65",
    "created_at": "2020-12-17T09:06:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500240",
    "user": "https://github.com/malb"
}
```

<a id='comment:32'>Comment 32:</a>
This doesn't look like an FPLLL issue: https://github.com/mkoeppe/sage/runs/1566871595?check_suite_focus=true#step:7:65



---

archive/issue_comments_500241.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nNo, that's not related to this ticket",
    "created_at": "2020-12-17T17:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500241",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'>Comment 33:</a>
No, that's not related to this ticket



---

archive/issue_comments_500242.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@mkoeppe](#comment%3A30):\n> Based on your explanations, I think fpylll's `install-requires.txt` should also fix the version.\n\nAs in:\n\n```\ndiff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt\nindex 6e7d17221c..df75cd9fa7 100644\n--- a/build/pkgs/fpylll/install-requires.txt\n+++ b/build/pkgs/fpylll/install-requires.txt\n@@ -1 +1 @@\n-fpylll >=0.5.4\n+fpylll ==0.5.4\n```",
    "created_at": "2020-12-17T17:21:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500242",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@mkoeppe](#comment%3A30):
> Based on your explanations, I think fpylll's `install-requires.txt` should also fix the version.

As in:

```
diff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt
index 6e7d17221c..df75cd9fa7 100644
--- a/build/pkgs/fpylll/install-requires.txt
+++ b/build/pkgs/fpylll/install-requires.txt
@@ -1 +1 @@
-fpylll >=0.5.4
+fpylll ==0.5.4
```



---

archive/issue_comments_500243.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nI would also suggest to add some comments:\n\n```\ndiff --git a/build/pkgs/fplll/spkg-configure.m4 b/build/pkgs/fplll/spkg-configure.m4\nindex 6da0045fe0..b98a71938e 100644\n--- a/build/pkgs/fplll/spkg-configure.m4\n+++ b/build/pkgs/fplll/spkg-configure.m4\n@@ -4,6 +4,9 @@ SAGE_SPKG_CONFIGURE([fplll], [\n     dnl if there's a usable system copy of fplll. Unless there's\n     dnl a system that ships fplll without fplll.pc file, falling\n     dnl back to a manual header/library search is pointless.\n+    dnl\n+    dnl Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility\n+    dnl other than \"whatever versions were released at the same time should work together\"\n     PKG_CHECK_MODULES([FPLLL],\n                       [fplll == 5.4],\n                       [sage_spkg_install_fplll=no],\ndiff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt\nindex 6e7d17221c..4b425c186e 100644\n--- a/build/pkgs/fpylll/install-requires.txt\n+++ b/build/pkgs/fpylll/install-requires.txt\n@@ -1 +1,3 @@\n-fpylll >=0.5.4\n+# Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility\n+# other than \"whatever versions were released at the same time should work together\"\n+fpylll ==0.5.4\n```",
    "created_at": "2020-12-17T17:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500243",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'>Comment 35:</a>
I would also suggest to add some comments:

```
diff --git a/build/pkgs/fplll/spkg-configure.m4 b/build/pkgs/fplll/spkg-configure.m4
index 6da0045fe0..b98a71938e 100644
--- a/build/pkgs/fplll/spkg-configure.m4
+++ b/build/pkgs/fplll/spkg-configure.m4
@@ -4,6 +4,9 @@ SAGE_SPKG_CONFIGURE([fplll], [
     dnl if there's a usable system copy of fplll. Unless there's
     dnl a system that ships fplll without fplll.pc file, falling
     dnl back to a manual header/library search is pointless.
+    dnl
+    dnl Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility
+    dnl other than "whatever versions were released at the same time should work together"
     PKG_CHECK_MODULES([FPLLL],
                       [fplll == 5.4],
                       [sage_spkg_install_fplll=no],
diff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt
index 6e7d17221c..4b425c186e 100644
--- a/build/pkgs/fpylll/install-requires.txt
+++ b/build/pkgs/fpylll/install-requires.txt
@@ -1 +1,3 @@
-fpylll >=0.5.4
+# Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility
+# other than "whatever versions were released at the same time should work together"
+fpylll ==0.5.4
```



---

archive/issue_comments_500244.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5\">29fcb34</a></td><td><code>implement suggested changes by Matthias</code></td></tr></table>\n",
    "created_at": "2020-12-22T15:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500244",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'>Comment 36:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5">29fcb34</a></td><td><code>implement suggested changes by Matthias</code></td></tr></table>




---

archive/issue_comments_500245.json:
```json
{
    "body": "Changed commit from **[26032b1](https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9)** to **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)**",
    "created_at": "2020-12-22T15:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500245",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[26032b1](https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9)** to **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)**



---

archive/issue_events_395741.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-22T15:34:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395741"
}
```



---

archive/issue_events_395742.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-12-22T15:34:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395742"
}
```



---

archive/issue_comments_500246.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/426748847** to **Matthias Koeppe**",
    "created_at": "2020-12-22T15:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500246",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/426748847** to **Matthias Koeppe**



---

archive/issue_events_395743.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-22T15:36:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395743"
}
```



---

archive/issue_events_395744.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-22T15:36:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395744"
}
```



---

archive/issue_comments_500247.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nMarking it as critical because some rolling distributions are already picking up 5.4.0",
    "created_at": "2020-12-22T15:38:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500247",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'>Comment 39:</a>
Marking it as critical because some rolling distributions are already picking up 5.4.0



---

archive/issue_events_395745.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-22T15:38:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395745"
}
```



---

archive/issue_events_395746.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-22T15:38:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395746"
}
```



---

archive/issue_comments_500248.json:
```json
{
    "body": "Changed branch from **[u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0)** to **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)**",
    "created_at": "2020-12-27T23:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500248",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0)** to **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)**



---

archive/issue_events_395747.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-27T23:25:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395747"
}
```



---

archive/issue_events_395748.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0d79fd60d4997477695cc42110446a588e22a892",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-12-27T23:25:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31025#event-395748"
}
```



---

archive/issue_comments_500249.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nFor some reason, even after make distclean, configure is unable to find homebrew install of fplll 5.4.0 (on macOS). Then, the compilation fails on `fpylll` (may be a mix of fplll installations).\n\nAfter modifying `spkg-configure.m4` to change `fplll == 5.4.0` to `fplll >= 5.4.0` and adding file `distros/homebrew.txt` with `fplll`, configure finds the local install and everything goes well.\n\nShould we open a ticket for that ?",
    "created_at": "2020-12-28T20:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500249",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:41'>Comment 41:</a>
For some reason, even after make distclean, configure is unable to find homebrew install of fplll 5.4.0 (on macOS). Then, the compilation fails on `fpylll` (may be a mix of fplll installations).

After modifying `spkg-configure.m4` to change `fplll == 5.4.0` to `fplll >= 5.4.0` and adding file `distros/homebrew.txt` with `fplll`, configure finds the local install and everything goes well.

Should we open a ticket for that ?



---

archive/issue_comments_500250.json:
```json
{
    "body": "Changed commit from **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)** to none",
    "created_at": "2020-12-28T20:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500250",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)** to none



---

archive/issue_comments_500251.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nReplying to [@dcoudert](#comment%3A41):\n> Should we open a ticket for that ?\n\nYes please. What version of fplll does pkg-config report?",
    "created_at": "2020-12-28T21:00:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500251",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'>Comment 42:</a>
Replying to [@dcoudert](#comment%3A41):
> Should we open a ticket for that ?

Yes please. What version of fplll does pkg-config report?



---

archive/issue_comments_500252.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nnot sure how to get that, but inside config.log, I see:\n\n```\n## ------------------------------------------------------ ##\n## Checking whether SageMath should install SPKG fplll... ##\n## ------------------------------------------------------ ##\nconfigure:19538: checking whether any of mpfr is installed as or will be installed as SPKG\nconfigure:19547: result: no\nconfigure:19552: checking for fplll >= 5.4\nconfigure:19559: $PKG_CONFIG --exists --print-errors \"fplll >= 5.4\"\nconfigure:19562: $? = 0\nconfigure:19576: $PKG_CONFIG --exists --print-errors \"fplll >= 5.4\"\nconfigure:19579: $? = 0\nconfigure:19617: result: yes\nconfigure:19629: will use system package and not install SPKG fplll\n```\nand I have fplll 5.4.0 installed by homebrew.\n\nFollow-up on #31127",
    "created_at": "2020-12-29T00:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500252",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:43'>Comment 43:</a>
not sure how to get that, but inside config.log, I see:

```
## ------------------------------------------------------ ##
## Checking whether SageMath should install SPKG fplll... ##
## ------------------------------------------------------ ##
configure:19538: checking whether any of mpfr is installed as or will be installed as SPKG
configure:19547: result: no
configure:19552: checking for fplll >= 5.4
configure:19559: $PKG_CONFIG --exists --print-errors "fplll >= 5.4"
configure:19562: $? = 0
configure:19576: $PKG_CONFIG --exists --print-errors "fplll >= 5.4"
configure:19579: $? = 0
configure:19617: result: yes
configure:19629: will use system package and not install SPKG fplll
```
and I have fplll 5.4.0 installed by homebrew.

Follow-up on #31127



---

archive/issue_comments_500253.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nAnother follow up in #31146: `cygwin-standard`: `fpylll` build fails",
    "created_at": "2021-01-01T21:55:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31025#issuecomment-500253",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'>Comment 44:</a>
Another follow up in #31146: `cygwin-standard`: `fpylll` build fails
