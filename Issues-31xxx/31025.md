# Issue 31025: FPLLL 5.4.0 and FPyLLL 0.5.4

archive/issues_030788.json:
```json
{
    "body": "Tarball URLs - see `checksums.ini`\n\nCC:  @kiwifb\n\nKeywords: sd111\n\nReviewer: Matthias Koeppe\n\nAuthor: Martin Albrecht\n\nBranch: 29fcb343129730537546e2c7c0d65906bb602de5\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31025\n\n",
    "closed_at": "2020-12-27T23:25:46Z",
    "created_at": "2020-12-07T11:16:36Z",
    "labels": [
        "component: packages: standard",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "FPLLL 5.4.0 and FPyLLL 0.5.4",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31025",
    "user": "https://github.com/malb"
}
```
Tarball URLs - see `checksums.ini`

CC:  @kiwifb

Keywords: sd111

Reviewer: Matthias Koeppe

Author: Martin Albrecht

Branch: 29fcb343129730537546e2c7c0d65906bb602de5

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31025





---

archive/issue_comments_608019.json:
```json
{
    "body": "Changing branch from \"\" to \"u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0\"",
    "created_at": "2020-12-07T11:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608019",
    "user": "https://github.com/malb"
}
```

Changing branch from "" to "u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0"



---

archive/issue_comments_608020.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-07T11:18:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608020",
    "user": "https://github.com/malb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_608021.json:
```json
{
    "body": "Changing commit from \"\" to \"8faa924c7f7ac8424af39ccef8d3d0efe22dbe16\"",
    "created_at": "2020-12-07T11:18:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608021",
    "user": "https://github.com/malb"
}
```

Changing commit from "" to "8faa924c7f7ac8424af39ccef8d3d0efe22dbe16"



---

archive/issue_comments_608022.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Albrecht\"",
    "created_at": "2020-12-07T11:18:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608022",
    "user": "https://github.com/malb"
}
```

Changing author from "" to "Martin Albrecht"



---

archive/issue_comments_608023.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[8faa924](https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16)|`FPLLL 5.4.0 and FPyLLL 0.5.3.dev0`|",
    "created_at": "2020-12-07T11:18:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608023",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[8faa924](https://github.com/sagemath/sagetrac-mirror/commit/8faa924c7f7ac8424af39ccef8d3d0efe22dbe16)|`FPLLL 5.4.0 and FPyLLL 0.5.3.dev0`|



---

archive/issue_comments_608024.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz\n \n+https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz\n``````\n",
    "created_at": "2020-12-07T11:18:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608024",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz
 
+https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz
``````




---

archive/issue_comments_608025.json:
```json
{
    "body": "<a id='comment:4'></a>\n`build/pkgs/fpylll/checksums.ini` needs `upstream_url` - see other python packages for the preferred URL format",
    "created_at": "2020-12-08T01:31:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608025",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
`build/pkgs/fpylll/checksums.ini` needs `upstream_url` - see other python packages for the preferred URL format



---

archive/issue_comments_608026.json:
```json
{
    "body": "Changing commit from \"8faa924c7f7ac8424af39ccef8d3d0efe22dbe16\" to \"0ab1d0e53a496e1b0e0130058c1c604b43c78478\"",
    "created_at": "2020-12-08T10:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608026",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8faa924c7f7ac8424af39ccef8d3d0efe22dbe16" to "0ab1d0e53a496e1b0e0130058c1c604b43c78478"



---

archive/issue_comments_608027.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[0ab1d0e](https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478)|`add upstream_url`|",
    "created_at": "2020-12-08T10:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[0ab1d0e](https://github.com/sagemath/sagetrac-mirror/commit/0ab1d0e53a496e1b0e0130058c1c604b43c78478)|`add upstream_url`|



---

archive/issue_comments_608028.json:
```json
{
    "body": "<a id='comment:6'></a>\nTa. Fixed.",
    "created_at": "2020-12-08T10:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608028",
    "user": "https://github.com/malb"
}
```

<a id='comment:6'></a>
Ta. Fixed.



---

archive/issue_comments_608029.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-10T18:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608029",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_608030.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz\n-\n-https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz\n+Tarball URLs - see `checksums.ini`\n``````\n",
    "created_at": "2020-12-10T18:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608030",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-https://github.com/fplll/fplll/releases/download/5.4.0/fplll-5.4.0.tar.gz
-
-https://github.com/fplll/fpylll/releases/download/0.5.3.dev0/fpylll-0.5.3.dev0.tar.gz
+Tarball URLs - see `checksums.ini`
``````




---

archive/issue_comments_608031.json:
```json
{
    "body": "Changing reviewer from \"\" to \"https://github.com/mkoeppe/sage/actions/runs/413724088\"",
    "created_at": "2020-12-10T18:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608031",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "https://github.com/mkoeppe/sage/actions/runs/413724088"



---

archive/issue_comments_608032.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/413724088\" to \"https://github.com/mkoeppe/sage/actions/runs/414158703\"",
    "created_at": "2020-12-10T22:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608032",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/413724088" to "https://github.com/mkoeppe/sage/actions/runs/414158703"



---

archive/issue_comments_608033.json:
```json
{
    "body": "<a id='comment:11'></a>\nOn `local-conda-forge-ubuntu-standard` (https://github.com/mkoeppe/sage/runs/1533944840)\n\n```\n  build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':\n  build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'\n       __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)\n                                                                                                     \n```",
    "created_at": "2020-12-11T06:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608033",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
On `local-conda-forge-ubuntu-standard` (https://github.com/mkoeppe/sage/runs/1533944840)

```
  build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':
  build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'
       __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)
                                                                                                     
```



---

archive/issue_comments_608034.json:
```json
{
    "body": "<a id='comment:12'></a>\nWorks fine in Gentoo. I must I never know where to find the appropriate logs in your runs. Sometimes it is easy and sometimes I just get lost. I found the good stuff in the raw logs.\n\n```\n2020-12-11T03:40:06.7154190Z   building 'fpylll.fplll.enumeration' extension\n2020-12-11T03:40:06.7164990Z   /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/x86_64-conda-linux-gnu-cc -Wno-unused-result -Wsign-compare -DNDEBUG -fwrapv -O2 -Wall -Wstrict-prototypes -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -fPIC -Isrc/fpylll/fplll -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/cysignals -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/numpy/core/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include/python3.8 -c build/src/fpylll/fplll/enumeration.cpp -o build/temp.linux-x86_64-3.8/build/src/fpylll/fplll/enumeration.o -std=c++11 -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include\n2020-12-11T03:40:06.7174509Z   cc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++\n2020-12-11T03:40:06.7176260Z   build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':\n2020-12-11T03:40:06.7178575Z   build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'\n2020-12-11T03:40:06.7180107Z        __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)\n```\n\nI have a feeling `-std=c++17` is responsible for this, I compile with c++11 in Gentoo (probably a default somewhere).",
    "created_at": "2020-12-11T06:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608034",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
Works fine in Gentoo. I must I never know where to find the appropriate logs in your runs. Sometimes it is easy and sometimes I just get lost. I found the good stuff in the raw logs.

```
2020-12-11T03:40:06.7154190Z   building 'fpylll.fplll.enumeration' extension
2020-12-11T03:40:06.7164990Z   /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/x86_64-conda-linux-gnu-cc -Wno-unused-result -Wsign-compare -DNDEBUG -fwrapv -O2 -Wall -Wstrict-prototypes -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -pipe -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -fPIC -Isrc/fpylll/fplll -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/cysignals -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/lib/python3.8/site-packages/numpy/core/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/local/include -I/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include/python3.8 -c build/src/fpylll/fplll/enumeration.cpp -o build/temp.linux-x86_64-3.8/build/src/fpylll/fplll/enumeration.o -std=c++11 -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include
2020-12-11T03:40:06.7174509Z   cc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++
2020-12-11T03:40:06.7176260Z   build/src/fpylll/fplll/enumeration.cpp: In function 'PyObject* __pyx_pf_6fpylll_5fplll_11enumeration_11Enumeration_6get_nodes(__pyx_obj_6fpylll_5fplll_11enumeration_Enumeration*, PyObject*)':
2020-12-11T03:40:06.7178575Z   build/src/fpylll/fplll/enumeration.cpp:7430:99: error: no matching function for call to 'fplll::Enumeration<fplll::Z_NR<__mpz_struct [1]>, fplll::FP_NR<double> >::get_nodes(int&)'
2020-12-11T03:40:06.7180107Z        __pyx_t_3 = __Pyx_PyInt_From_unsigned_long(__pyx_v_self->_core.mpz_d->get_nodes(__pyx_v__level)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 576, __pyx_L1_error)
```

I have a feeling `-std=c++17` is responsible for this, I compile with c++11 in Gentoo (probably a default somewhere).



---

archive/issue_comments_608035.json:
```json
{
    "body": "<a id='comment:13'></a>\nIs there perhaps a race condition that FPyLLL is built before the new FPLLL?",
    "created_at": "2020-12-11T09:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608035",
    "user": "https://github.com/malb"
}
```

<a id='comment:13'></a>
Is there perhaps a race condition that FPyLLL is built before the new FPLLL?



---

archive/issue_comments_608036.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [malb](#comment%3A13):\n> Is there perhaps a race condition that FPyLLL is built before the new FPLLL?\n\n\nLooking at the log again, I'd say it looks like it!",
    "created_at": "2020-12-11T09:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608036",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'></a>
Replying to [malb](#comment%3A13):
> Is there perhaps a race condition that FPyLLL is built before the new FPLLL?


Looking at the log again, I'd say it looks like it!



---

archive/issue_comments_608037.json:
```json
{
    "body": "<a id='comment:15'></a>\nThis build is accepting a system package\n\n```\nChecking whether SageMath should install SPKG fplll...\nchecking whether any of mpfr is installed as or will be installed as SPKG... no\nchecking for fplll >= 5.3... yes\nconfigure: will use system package and not install SPKG fplll\n```\nIf the new `fpylll` has other version requirements, `build/pkgs/fplll/spkg-configure.m4` needs to be changed",
    "created_at": "2020-12-11T16:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608037",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
This build is accepting a system package

```
Checking whether SageMath should install SPKG fplll...
checking whether any of mpfr is installed as or will be installed as SPKG... no
checking for fplll >= 5.3... yes
configure: will use system package and not install SPKG fplll
```
If the new `fpylll` has other version requirements, `build/pkgs/fplll/spkg-configure.m4` needs to be changed



---

archive/issue_comments_608038.json:
```json
{
    "body": "<a id='comment:16'></a>\nSame failure also on `fedora-32-standard` https://github.com/mkoeppe/sage/runs/1533944016 and other builds",
    "created_at": "2020-12-11T16:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608038",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Same failure also on `fedora-32-standard` https://github.com/mkoeppe/sage/runs/1533944016 and other builds



---

archive/issue_comments_608039.json:
```json
{
    "body": "<a id='comment:17'></a>\nIf practical at all, I would suggest to upstream to allow the Python bindings to accept a range of fplll versions...",
    "created_at": "2020-12-11T16:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608039",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
If practical at all, I would suggest to upstream to allow the Python bindings to accept a range of fplll versions...



---

archive/issue_comments_608040.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[9eb14e4](https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527)|`update required FPLLL version`|",
    "created_at": "2020-12-11T17:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[9eb14e4](https://github.com/sagemath/sagetrac-mirror/commit/9eb14e445b2bea0ab0178f426787b8d5a1085527)|`update required FPLLL version`|



---

archive/issue_comments_608041.json:
```json
{
    "body": "Changing commit from \"0ab1d0e53a496e1b0e0130058c1c604b43c78478\" to \"9eb14e445b2bea0ab0178f426787b8d5a1085527\"",
    "created_at": "2020-12-11T17:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608041",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0ab1d0e53a496e1b0e0130058c1c604b43c78478" to "9eb14e445b2bea0ab0178f426787b8d5a1085527"



---

archive/issue_comments_608042.json:
```json
{
    "body": "<a id='comment:19'></a>\nUpdated accordingly, I don't think we can commit to supporting a range of FPLLL versions in FPyLLL",
    "created_at": "2020-12-11T17:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608042",
    "user": "https://github.com/malb"
}
```

<a id='comment:19'></a>
Updated accordingly, I don't think we can commit to supporting a range of FPLLL versions in FPyLLL



---

archive/issue_comments_608043.json:
```json
{
    "body": "<a id='comment:20'></a>\nPerhaps then an upper bound for the version needs to be set as well?",
    "created_at": "2020-12-11T18:01:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608043",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Perhaps then an upper bound for the version needs to be set as well?



---

archive/issue_comments_608044.json:
```json
{
    "body": "<a id='comment:21'></a>\nLikewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)?",
    "created_at": "2020-12-14T17:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608044",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)?



---

archive/issue_comments_608045.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-12-14T17:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608045",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_608046.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [mkoeppe](#comment%3A20):\n> Perhaps then an upper bound for the version needs to be set as well?\n\n\nI think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?",
    "created_at": "2020-12-14T18:55:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608046",
    "user": "https://github.com/malb"
}
```

<a id='comment:22'></a>
Replying to [mkoeppe](#comment%3A20):
> Perhaps then an upper bound for the version needs to be set as well?


I think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?



---

archive/issue_comments_608047.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [mkoeppe](#comment%3A21):\n> Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? \n\n\nFor now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.",
    "created_at": "2020-12-14T18:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608047",
    "user": "https://github.com/malb"
}
```

<a id='comment:23'></a>
Replying to [mkoeppe](#comment%3A21):
> Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? 


For now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.



---

archive/issue_comments_608048.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [malb](#comment%3A22):\n> Replying to [mkoeppe](#comment%3A20):\n> > Perhaps then an upper bound for the version needs to be set as well?\n\n> \n> I think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?\n\n\nSo there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x?",
    "created_at": "2020-12-14T18:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608048",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
Replying to [malb](#comment%3A22):
> Replying to [mkoeppe](#comment%3A20):
> > Perhaps then an upper bound for the version needs to be set as well?

> 
> I think an upper bound is unclear, we could enforce a specific version, e.g. 5.4.0?


So there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x?



---

archive/issue_comments_608049.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [malb](#comment%3A23):\n> Replying to [mkoeppe](#comment%3A21):\n> > Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? \n\n> \n> For now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.\n\n\nTo clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?\n\nIf FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...",
    "created_at": "2020-12-14T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608049",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [malb](#comment%3A23):
> Replying to [mkoeppe](#comment%3A21):
> > Likewise, should we set a range of acceptable `fpylll` versions (in the `install-requires` of sagelib)? 

> 
> For now, Sage only makes very high-level use of FPyLLL, i.e. it should work with many versions.


To clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?

If FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...



---

archive/issue_comments_608050.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [mkoeppe](#comment%3A24):\n> So there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x? \n\n\nNo expectation at all.",
    "created_at": "2020-12-14T19:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608050",
    "user": "https://github.com/malb"
}
```

<a id='comment:26'></a>
Replying to [mkoeppe](#comment%3A24):
> So there is no expectation that FPyLLL 0.5.3.dev0 can work with any FPLLL 5.4.x? 


No expectation at all.



---

archive/issue_comments_608051.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [mkoeppe](#comment%3A25):\n> To clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?\n> \n> If FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...\n\n\nRealistically the only viable policy is: whatever versions were released at the same time should work together. So I think it makes sense to enforce a tuple: FPLLL=X,FPyLLL=Y",
    "created_at": "2020-12-14T19:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608051",
    "user": "https://github.com/malb"
}
```

<a id='comment:27'></a>
Replying to [mkoeppe](#comment%3A25):
> To clarify my question, the Sage distribution ships a specific version of FPLLL (5.4.0 with this ticket); but if fpylll comes from PyPI, what future versions should we expect to support this version of FPLLL?
> 
> If FPLLL/FPyLLL do not have a policy regarding version compatibility, it would probably pay off to set one...


Realistically the only viable policy is: whatever versions were released at the same time should work together. So I think it makes sense to enforce a tuple: FPLLL=X,FPyLLL=Y



---

archive/issue_comments_608052.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[37414eb](https://github.com/sagemath/sagetrac-mirror/commit/37414eb508e22b6f9d7cfcd8d99370ce16951672)|`update to FPyLLL 0.5.4`|\n|[26032b1](https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9)|`enforce exact FPLLL`|",
    "created_at": "2020-12-15T12:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[37414eb](https://github.com/sagemath/sagetrac-mirror/commit/37414eb508e22b6f9d7cfcd8d99370ce16951672)|`update to FPyLLL 0.5.4`|
|[26032b1](https://github.com/sagemath/sagetrac-mirror/commit/26032b18f9b352d5ca357582939fe64851f503a9)|`enforce exact FPLLL`|



---

archive/issue_comments_608053.json:
```json
{
    "body": "Changing commit from \"9eb14e445b2bea0ab0178f426787b8d5a1085527\" to \"26032b18f9b352d5ca357582939fe64851f503a9\"",
    "created_at": "2020-12-15T12:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9eb14e445b2bea0ab0178f426787b8d5a1085527" to "26032b18f9b352d5ca357582939fe64851f503a9"



---

archive/issue_events_099194.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "rename": {
        "from": "FPLLL 5.4.0 and FPyLLL 0.5.3.dev0",
        "to": "FPLLL 5.4.0 and FPyLLL 0.5.4"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31025#event-99194"
}
```



---

archive/issue_comments_608054.json:
```json
{
    "body": "<a id='comment:30'></a>\nBased on your explanations, I think fpylll's `install-requires.txt` should also fix the version.",
    "created_at": "2020-12-15T21:29:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608054",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Based on your explanations, I think fpylll's `install-requires.txt` should also fix the version.



---

archive/issue_comments_608055.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/414158703\" to \"https://github.com/mkoeppe/sage/actions/runs/426748847\"",
    "created_at": "2020-12-16T22:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608055",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/414158703" to "https://github.com/mkoeppe/sage/actions/runs/426748847"



---

archive/issue_comments_608056.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2020-12-16T22:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608056",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_608057.json:
```json
{
    "body": "<a id='comment:32'></a>\nThis doesn't look like an FPLLL issue: https://github.com/mkoeppe/sage/runs/1566871595?check_suite_focus=true#step:7:65",
    "created_at": "2020-12-17T09:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608057",
    "user": "https://github.com/malb"
}
```

<a id='comment:32'></a>
This doesn't look like an FPLLL issue: https://github.com/mkoeppe/sage/runs/1566871595?check_suite_focus=true#step:7:65



---

archive/issue_comments_608058.json:
```json
{
    "body": "<a id='comment:33'></a>\nNo, that's not related to this ticket",
    "created_at": "2020-12-17T17:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608058",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
No, that's not related to this ticket



---

archive/issue_comments_608059.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [mkoeppe](#comment%3A30):\n> Based on your explanations, I think fpylll's `install-requires.txt` should also fix the version.\n\nAs in:\n\n```\ndiff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt\nindex 6e7d17221c..df75cd9fa7 100644\n--- a/build/pkgs/fpylll/install-requires.txt\n+++ b/build/pkgs/fpylll/install-requires.txt\n@@ -1 +1 @@\n-fpylll >=0.5.4\n+fpylll ==0.5.4\n```",
    "created_at": "2020-12-17T17:21:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608059",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
Replying to [mkoeppe](#comment%3A30):
> Based on your explanations, I think fpylll's `install-requires.txt` should also fix the version.

As in:

```
diff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt
index 6e7d17221c..df75cd9fa7 100644
--- a/build/pkgs/fpylll/install-requires.txt
+++ b/build/pkgs/fpylll/install-requires.txt
@@ -1 +1 @@
-fpylll >=0.5.4
+fpylll ==0.5.4
```



---

archive/issue_comments_608060.json:
```json
{
    "body": "<a id='comment:35'></a>\nI would also suggest to add some comments:\n\n```\ndiff --git a/build/pkgs/fplll/spkg-configure.m4 b/build/pkgs/fplll/spkg-configure.m4\nindex 6da0045fe0..b98a71938e 100644\n--- a/build/pkgs/fplll/spkg-configure.m4\n+++ b/build/pkgs/fplll/spkg-configure.m4\n@@ -4,6 +4,9 @@ SAGE_SPKG_CONFIGURE([fplll], [\n     dnl if there's a usable system copy of fplll. Unless there's\n     dnl a system that ships fplll without fplll.pc file, falling\n     dnl back to a manual header/library search is pointless.\n+    dnl\n+    dnl Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility\n+    dnl other than \"whatever versions were released at the same time should work together\"\n     PKG_CHECK_MODULES([FPLLL],\n                       [fplll == 5.4],\n                       [sage_spkg_install_fplll=no],\ndiff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt\nindex 6e7d17221c..4b425c186e 100644\n--- a/build/pkgs/fpylll/install-requires.txt\n+++ b/build/pkgs/fpylll/install-requires.txt\n@@ -1 +1,3 @@\n-fpylll >=0.5.4\n+# Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility\n+# other than \"whatever versions were released at the same time should work together\"\n+fpylll ==0.5.4\n```",
    "created_at": "2020-12-17T17:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608060",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
I would also suggest to add some comments:

```
diff --git a/build/pkgs/fplll/spkg-configure.m4 b/build/pkgs/fplll/spkg-configure.m4
index 6da0045fe0..b98a71938e 100644
--- a/build/pkgs/fplll/spkg-configure.m4
+++ b/build/pkgs/fplll/spkg-configure.m4
@@ -4,6 +4,9 @@ SAGE_SPKG_CONFIGURE([fplll], [
     dnl if there's a usable system copy of fplll. Unless there's
     dnl a system that ships fplll without fplll.pc file, falling
     dnl back to a manual header/library search is pointless.
+    dnl
+    dnl Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility
+    dnl other than "whatever versions were released at the same time should work together"
     PKG_CHECK_MODULES([FPLLL],
                       [fplll == 5.4],
                       [sage_spkg_install_fplll=no],
diff --git a/build/pkgs/fpylll/install-requires.txt b/build/pkgs/fpylll/install-requires.txt
index 6e7d17221c..4b425c186e 100644
--- a/build/pkgs/fpylll/install-requires.txt
+++ b/build/pkgs/fpylll/install-requires.txt
@@ -1 +1,3 @@
-fpylll >=0.5.4
+# Trac #31025: FPLLL/FPyLLL make no guarantee regarding compatibility
+# other than "whatever versions were released at the same time should work together"
+fpylll ==0.5.4
```



---

archive/issue_comments_608061.json:
```json
{
    "body": "<a id='comment:36'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)|`implement suggested changes by Matthias`|",
    "created_at": "2020-12-22T15:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[29fcb34](https://github.com/sagemath/sagetrac-mirror/commit/29fcb343129730537546e2c7c0d65906bb602de5)|`implement suggested changes by Matthias`|



---

archive/issue_comments_608062.json:
```json
{
    "body": "Changing commit from \"26032b18f9b352d5ca357582939fe64851f503a9\" to \"29fcb343129730537546e2c7c0d65906bb602de5\"",
    "created_at": "2020-12-22T15:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "26032b18f9b352d5ca357582939fe64851f503a9" to "29fcb343129730537546e2c7c0d65906bb602de5"



---

archive/issue_comments_608063.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-12-22T15:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608063",
    "user": "https://github.com/malb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_608064.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/426748847\" to \"Matthias Koeppe\"",
    "created_at": "2020-12-22T15:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608064",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/426748847" to "Matthias Koeppe"



---

archive/issue_comments_608065.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-12-22T15:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608065",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_608066.json:
```json
{
    "body": "<a id='comment:39'></a>\nMarking it as critical because some rolling distributions are already picking up 5.4.0",
    "created_at": "2020-12-22T15:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608066",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
Marking it as critical because some rolling distributions are already picking up 5.4.0



---

archive/issue_comments_608067.json:
```json
{
    "body": "Changing branch from \"u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0\" to \"29fcb343129730537546e2c7c0d65906bb602de5\"",
    "created_at": "2020-12-27T23:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608067",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/malb/fplll_5_4_0_and_fpylll_0_5_3_dev0" to "29fcb343129730537546e2c7c0d65906bb602de5"



---

archive/issue_events_099195.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-27T23:25:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31025#event-99195"
}
```



---

archive/issue_comments_608068.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-27T23:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608068",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_608069.json:
```json
{
    "body": "<a id='comment:41'></a>\nFor some reason, even after make distclean, configure is unable to find homebrew install of fplll 5.4.0 (on macOS). Then, the compilation fails on `fpylll` (may be a mix of fplll installations).\n\nAfter modifying `spkg-configure.m4` to change `fplll == 5.4.0` to `fplll >= 5.4.0` and adding file `distros/homebrew.txt` with `fplll`, configure finds the local install and everything goes well.\n\nShould we open a ticket for that ?",
    "created_at": "2020-12-28T20:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608069",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:41'></a>
For some reason, even after make distclean, configure is unable to find homebrew install of fplll 5.4.0 (on macOS). Then, the compilation fails on `fpylll` (may be a mix of fplll installations).

After modifying `spkg-configure.m4` to change `fplll == 5.4.0` to `fplll >= 5.4.0` and adding file `distros/homebrew.txt` with `fplll`, configure finds the local install and everything goes well.

Should we open a ticket for that ?



---

archive/issue_comments_608070.json:
```json
{
    "body": "Changing commit from \"29fcb343129730537546e2c7c0d65906bb602de5\" to \"\"",
    "created_at": "2020-12-28T20:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608070",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "29fcb343129730537546e2c7c0d65906bb602de5" to ""



---

archive/issue_comments_608071.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [dcoudert](#comment%3A41):\n> Should we open a ticket for that ?\n\nYes please. What version of fplll does pkg-config report?",
    "created_at": "2020-12-28T21:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608071",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
Replying to [dcoudert](#comment%3A41):
> Should we open a ticket for that ?

Yes please. What version of fplll does pkg-config report?



---

archive/issue_comments_608072.json:
```json
{
    "body": "<a id='comment:43'></a>\nnot sure how to get that, but inside config.log, I see:\n\n```\n## ------------------------------------------------------ ##\n## Checking whether SageMath should install SPKG fplll... ##\n## ------------------------------------------------------ ##\nconfigure:19538: checking whether any of mpfr is installed as or will be installed as SPKG\nconfigure:19547: result: no\nconfigure:19552: checking for fplll >= 5.4\nconfigure:19559: $PKG_CONFIG --exists --print-errors \"fplll >= 5.4\"\nconfigure:19562: $? = 0\nconfigure:19576: $PKG_CONFIG --exists --print-errors \"fplll >= 5.4\"\nconfigure:19579: $? = 0\nconfigure:19617: result: yes\nconfigure:19629: will use system package and not install SPKG fplll\n```\nand I have fplll 5.4.0 installed by homebrew.\n\nFollow-up on #31127",
    "created_at": "2020-12-29T00:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608072",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:43'></a>
not sure how to get that, but inside config.log, I see:

```
## ------------------------------------------------------ ##
## Checking whether SageMath should install SPKG fplll... ##
## ------------------------------------------------------ ##
configure:19538: checking whether any of mpfr is installed as or will be installed as SPKG
configure:19547: result: no
configure:19552: checking for fplll >= 5.4
configure:19559: $PKG_CONFIG --exists --print-errors "fplll >= 5.4"
configure:19562: $? = 0
configure:19576: $PKG_CONFIG --exists --print-errors "fplll >= 5.4"
configure:19579: $? = 0
configure:19617: result: yes
configure:19629: will use system package and not install SPKG fplll
```
and I have fplll 5.4.0 installed by homebrew.

Follow-up on #31127



---

archive/issue_comments_608073.json:
```json
{
    "body": "<a id='comment:44'></a>\nAnother follow up in #31146: `cygwin-standard`: `fpylll` build fails",
    "created_at": "2021-01-01T21:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31025",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31025#issuecomment-608073",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>
Another follow up in #31146: `cygwin-standard`: `fpylll` build fails
