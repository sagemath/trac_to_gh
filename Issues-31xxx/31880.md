# Issue 31880: RealSet, InternalRealInterval: Improve _repr_ and add _latex_ method

archive/issues_031643.json:
```json
{
    "body": "We implement this TODO item in `RealSet._repr_`:\n\n```\n# Switch to u'\\u222A' (cup sign) with Python 3\n```\n\nWe also add `_latex_` methods to `RealSet` and `InternalRealInterval`, \nupstreaming and extending the change in https://github.com/mkoeppe/cutgeneratingfunctionology/commit/4c7fb7df9a92cdb2435028c7eb19d186ab4b58ee#diff-b4cd72590a22494dab392e336268a3c94ea5b0adeb6b5864bda0e2ad87c65323\n\n\n\nCC:  @yuan-zhou @mjungmath @tscrim @fchapoton\n\nBranch/Commit: 011f59a15f0d7f59e92c91655a8855aafa3c2b97\n\nReviewer: Travis Scrimshaw\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31880\n\n",
    "closed_at": "2021-06-29T17:40:51Z",
    "created_at": "2021-05-30T17:57:58Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "RealSet, InternalRealInterval: Improve _repr_ and add _latex_ method",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31880",
    "user": "https://github.com/mkoeppe"
}
```
We implement this TODO item in `RealSet._repr_`:

```
# Switch to u'\u222A' (cup sign) with Python 3
```

We also add `_latex_` methods to `RealSet` and `InternalRealInterval`, 
upstreaming and extending the change in https://github.com/mkoeppe/cutgeneratingfunctionology/commit/4c7fb7df9a92cdb2435028c7eb19d186ab4b58ee#diff-b4cd72590a22494dab392e336268a3c94ea5b0adeb6b5864bda0e2ad87c65323



CC:  @yuan-zhou @mjungmath @tscrim @fchapoton

Branch/Commit: 011f59a15f0d7f59e92c91655a8855aafa3c2b97

Reviewer: Travis Scrimshaw

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31880





---

archive/issue_comments_482383.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-30T18:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_482384.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n-Upstreaming https://github.com/mkoeppe/cutgeneratingfunctionology/commit/4c7fb7df9a92cdb2435028c7eb19d186ab4b58ee#diff-b4cd72590a22494dab392e336268a3c94ea5b0adeb6b5864bda0e2ad87c65323\n+We implement this TODO item in \\`RealSet._repr_\\`:\n+\n+\\`\\`\\`\n+# Switch to u'\\u222A' (cup sign) with Python 3\n+\\`\\`\\`\n+\n+We also add \\`_latex_\\` methods to \\`RealSet\\` and \\`InternalRealInterval\\`, \n+upstreaming and extending the change in https://github.com/mkoeppe/cutgeneratingfunctionology/commit/4c7fb7df9a92cdb2435028c7eb19d186ab4b58ee#diff-b4cd72590a22494dab392e336268a3c94ea5b0adeb6b5864bda0e2ad87c65323\n+\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2021-05-30T18:30:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482384",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
-Upstreaming https://github.com/mkoeppe/cutgeneratingfunctionology/commit/4c7fb7df9a92cdb2435028c7eb19d186ab4b58ee#diff-b4cd72590a22494dab392e336268a3c94ea5b0adeb6b5864bda0e2ad87c65323
+We implement this TODO item in \`RealSet._repr_\`:
+
+\`\`\`
+# Switch to u'\u222A' (cup sign) with Python 3
+\`\`\`
+
+We also add \`_latex_\` methods to \`RealSet\` and \`InternalRealInterval\`, 
+upstreaming and extending the change in https://github.com/mkoeppe/cutgeneratingfunctionology/commit/4c7fb7df9a92cdb2435028c7eb19d186ab4b58ee#diff-b4cd72590a22494dab392e336268a3c94ea5b0adeb6b5864bda0e2ad87c65323
+
+
 
 Comment: 1
 
```




---

archive/issue_comments_482385.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-30T18:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482385",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_482386.json:
```json
{
    "body": "<a id='comment:5'></a>Trivial failures due to change in output:\n\n```\nsage -t --long --random-seed=0 src/sage/functions/piecewise.py  # 4 doctests failed\n```\nOnce fixed, you can set it to a positive review.",
    "created_at": "2021-05-30T23:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482386",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>Trivial failures due to change in output:

```
sage -t --long --random-seed=0 src/sage/functions/piecewise.py  # 4 doctests failed
```
Once fixed, you can set it to a positive review.



---

archive/issue_comments_482387.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-30T23:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_482388.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-30T23:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482388",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_482389.json:
```json
{
    "body": "<a id='comment:7'></a>Thanks!",
    "created_at": "2021-05-30T23:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482389",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Thanks!



---

archive/issue_comments_482390.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-06-10T00:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482390",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_482391.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-06-10T00:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482391",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_482392.json:
```json
{
    "body": "<a id='comment:9'></a>Added the header as requested in #31927#comment:8",
    "created_at": "2021-06-10T00:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482392",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>Added the header as requested in #31927#comment:8



---

archive/issue_comments_482393.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-10T00:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482393",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_482394.json:
```json
{
    "body": "<a id='comment:10'></a>\n```\n[docpdf] ! Package inputenc Error: Unicode character \u222a (U+222A)\n[docpdf] (inputenc)                not set up for use with LaTeX.\n[docpdf] \n[docpdf] See the inputenc package documentation for explanation.\n[docpdf] Type  H <return>  for immediate help.\n[docpdf]  ...                                              \n[docpdf]                                                   \n[docpdf] l.3311 ...YGZhy{}oo, \\PYGZhy{}1] \u222a [1, +oo); x)}\n[docpdf]                                                   \n[docpdf] ? \n[docpdf] ! Emergency stop.\n[docpdf]  ...                                              \n[docpdf]                                                   \n[docpdf] l.3311 ...YGZhy{}oo, \\PYGZhy{}1] \u222a [1, +oo); x)}\n[docpdf]                                                   \n[docpdf] !  ==> Fatal error occurred, no output PDF file produced!\n```",
    "created_at": "2021-06-20T12:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482394",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
```
[docpdf] ! Package inputenc Error: Unicode character ∪ (U+222A)
[docpdf] (inputenc)                not set up for use with LaTeX.
[docpdf] 
[docpdf] See the inputenc package documentation for explanation.
[docpdf] Type  H <return>  for immediate help.
[docpdf]  ...                                              
[docpdf]                                                   
[docpdf] l.3311 ...YGZhy{}oo, \PYGZhy{}1] ∪ [1, +oo); x)}
[docpdf]                                                   
[docpdf] ? 
[docpdf] ! Emergency stop.
[docpdf]  ...                                              
[docpdf]                                                   
[docpdf] l.3311 ...YGZhy{}oo, \PYGZhy{}1] ∪ [1, +oo); x)}
[docpdf]                                                   
[docpdf] !  ==> Fatal error occurred, no output PDF file produced!
```



---

archive/issue_comments_482395.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-06-20T12:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482395",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_482396.json:
```json
{
    "body": "<a id='comment:11'></a>For the record: Python 8 defaults to UTF-8 source coding, so the #coding header is just cargo cult from when Python2 defaulted to the (in hindsight) wrong encoding. Nowadays the # coding header is superfluous. Pep8 says:\n\nFiles using ASCII (in Python 2) or UTF-8 (in Python 3) should not have an encoding declaration.",
    "created_at": "2021-06-20T12:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482396",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>For the record: Python 8 defaults to UTF-8 source coding, so the #coding header is just cargo cult from when Python2 defaulted to the (in hindsight) wrong encoding. Nowadays the # coding header is superfluous. Pep8 says:

Files using ASCII (in Python 2) or UTF-8 (in Python 3) should not have an encoding declaration.



---

archive/issue_comments_482397.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 vbraun]:\n> For the record: Python 8 defaults to UTF-8 source coding, so the #coding header is just cargo cult from when Python2 defaulted to the (in hindsight) wrong encoding. Nowadays the # coding header is superfluous. Pep8 says:\n> \n> Files using ASCII (in Python 2) or UTF-8 (in Python 3) should not have an encoding declaration.\n> \n\n\nThanks. I have removed the `non_ascii` patchbot plugin in https://github.com/sagemath/sage-patchbot/commit/af55241865faf2a7f89a2b6cc40caa5ce483ff67",
    "created_at": "2021-06-20T14:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482397",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Replying to [comment:11 vbraun]:
> For the record: Python 8 defaults to UTF-8 source coding, so the #coding header is just cargo cult from when Python2 defaulted to the (in hindsight) wrong encoding. Nowadays the # coding header is superfluous. Pep8 says:
> 
> Files using ASCII (in Python 2) or UTF-8 (in Python 3) should not have an encoding declaration.
> 


Thanks. I have removed the `non_ascii` patchbot plugin in https://github.com/sagemath/sage-patchbot/commit/af55241865faf2a7f89a2b6cc40caa5ce483ff67



---

archive/issue_comments_482398.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-20T15:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_482399.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-20T15:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482399",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_482400.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-20T20:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482400",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_482401.json:
```json
{
    "body": "<a id='comment:16'></a>Thanks!",
    "created_at": "2021-06-20T22:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482401",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>Thanks!



---

archive/issue_comments_482402.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-29T17:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31880#issuecomment-482402",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084208.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-29T17:40:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31880",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31880#event-84208"
}
```
