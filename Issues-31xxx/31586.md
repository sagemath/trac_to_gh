# Issue 31586: Add _latex_ method to curves and improve formatting in schemes folder

archive/issues_031349.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis ticket does\n\n1. add `_latex_` method to algebraic curves \n\n2. improve latex strings formatting in schemes folder\n\nComponent: **documentation**\n\nAuthor: **Kwankyu Lee**\n\nBranch/Commit: **[`2a6dd74`](https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965)**\n\nReviewer: **Samuel Leli\u00e8vre**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31586_\n\n",
    "closed_at": "2021-07-23T20:11:20Z",
    "created_at": "2021-03-31T08:32:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add _latex_ method to curves and improve formatting in schemes folder",
    "type": "issue",
    "updated_at": "2021-07-23T20:11:20Z",
    "url": "https://github.com/sagemath/sage/issues/31586",
    "user": "https://github.com/kwankyu"
}
```
<div id="comment:0"></div>

This ticket does

1. add `_latex_` method to algebraic curves 

2. improve latex strings formatting in schemes folder

Component: **documentation**

Author: **Kwankyu Lee**

Branch/Commit: **[`2a6dd74`](https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965)**

Reviewer: **Samuel Leli√®vre**

_Issue created by migration from https://trac.sagemath.org/ticket/31586_





---

archive/issue_events_432449.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-03-31T08:32:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432449"
}
```



---

archive/issue_events_432450.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-03-31T08:32:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432450"
}
```



---

archive/issue_events_432451.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-03-31T08:32:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432451"
}
```



---

archive/issue_events_432452.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-03-31T08:32:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432452"
}
```



---

archive/issue_comments_507980.json:
```json
{
    "body": "Branch: **[u/klee/31586](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/31586)**",
    "created_at": "2021-03-31T08:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507980",
    "user": "https://github.com/kwankyu"
}
```

Branch: **[u/klee/31586](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/31586)**



---

archive/issue_comments_507981.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/752b0e42182d9a19014b87032ad5a96ae0e415a5\"><code>752b0e4</code></a></td><td><code>Fix a few typographic errors in schemes folder</code></td></tr></table>\n",
    "created_at": "2021-03-31T08:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507981",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/752b0e42182d9a19014b87032ad5a96ae0e415a5"><code>752b0e4</code></a></td><td><code>Fix a few typographic errors in schemes folder</code></td></tr></table>




---

archive/issue_comments_507982.json:
```json
{
    "body": "Commit: **[`752b0e4`](https://github.com/sagemath/sagetrac-mirror/commit/752b0e42182d9a19014b87032ad5a96ae0e415a5)**",
    "created_at": "2021-03-31T08:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507982",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`752b0e4`](https://github.com/sagemath/sagetrac-mirror/commit/752b0e42182d9a19014b87032ad5a96ae0e415a5)**



---

archive/issue_events_432453.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-03-31T08:52:43Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "title_is": "Add _latex_ to curves and fix a few typographic errors in schemes folder",
    "title_was": "Fix a few typographic errors in latex strings in schemes folder",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432453"
}
```



---

archive/issue_events_432454.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-03-31T08:52:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432454"
}
```



---

archive/issue_comments_507983.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+This ticket does\n \n+1. add `_latex_` to algebraic curves \n+\n+2. fix a few typographic errors in latex strings in schemes folder\n``````\n",
    "created_at": "2021-03-31T08:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507983",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+This ticket does
 
+1. add `_latex_` to algebraic curves 
+
+2. fix a few typographic errors in latex strings in schemes folder
``````




---

archive/issue_comments_507984.json:
```json
{
    "body": "Author: **Kwankyu Lee**",
    "created_at": "2021-03-31T23:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507984",
    "user": "https://github.com/kwankyu"
}
```

Author: **Kwankyu Lee**



---

archive/issue_comments_507985.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56014e9a82aab82b9fc043bd2cd9c747d0a4091a\"><code>56014e9</code></a></td><td><code>Fix a few typographic errors in schemes folder</code></td></tr></table>\n",
    "created_at": "2021-05-11T00:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507985",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56014e9a82aab82b9fc043bd2cd9c747d0a4091a"><code>56014e9</code></a></td><td><code>Fix a few typographic errors in schemes folder</code></td></tr></table>




---

archive/issue_comments_507986.json:
```json
{
    "body": "Changed commit from **[`752b0e4`](https://github.com/sagemath/sagetrac-mirror/commit/752b0e42182d9a19014b87032ad5a96ae0e415a5)** to **[`56014e9`](https://github.com/sagemath/sagetrac-mirror/commit/56014e9a82aab82b9fc043bd2cd9c747d0a4091a)**",
    "created_at": "2021-05-11T00:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507986",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`752b0e4`](https://github.com/sagemath/sagetrac-mirror/commit/752b0e42182d9a19014b87032ad5a96ae0e415a5)** to **[`56014e9`](https://github.com/sagemath/sagetrac-mirror/commit/56014e9a82aab82b9fc043bd2cd9c747d0a4091a)**



---

archive/issue_comments_507987.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This ticket does\n \n-1. add `_latex_` to algebraic curves \n+1. add `_latex_` method to algebraic curves \n \n 2. fix a few typographic errors in latex strings in schemes folder\n``````\n",
    "created_at": "2021-05-11T00:55:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507987",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This ticket does
 
-1. add `_latex_` to algebraic curves 
+1. add `_latex_` method to algebraic curves 
 
 2. fix a few typographic errors in latex strings in schemes folder
``````




---

archive/issue_events_432455.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-05-11T00:55:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "title_is": "Add `_latex_` method to curves and fix a few typographic errors in schemes folder",
    "title_was": "Add _latex_ to curves and fix a few typographic errors in schemes folder",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432455"
}
```



---

archive/issue_events_432456.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-05-11T00:55:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "title_is": "Add _latex_ method to curves and fix a few typographic errors in schemes folder",
    "title_was": "Add `_latex_` method to curves and fix a few typographic errors in schemes folder",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432456"
}
```



---

archive/issue_comments_507988.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n 1. add `_latex_` method to algebraic curves \n \n-2. fix a few typographic errors in latex strings in schemes folder\n+2. improve latex strings formatting in schemes folder\n``````\n",
    "created_at": "2021-05-11T09:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507988",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 1. add `_latex_` method to algebraic curves 
 
-2. fix a few typographic errors in latex strings in schemes folder
+2. improve latex strings formatting in schemes folder
``````




---

archive/issue_comments_507989.json:
```json
{
    "body": "Reviewer: **Samuel Leli\u00e8vre**",
    "created_at": "2021-05-11T09:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507989",
    "user": "https://github.com/slel"
}
```

Reviewer: **Samuel Leli√®vre**



---

archive/issue_comments_507990.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI would suggest adding line breaks and using\nformatted strings and raw strings as follows.\n\n```diff\n-            \\text{Projective Plane curve over $\\Bold{Q}$ defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}\n+            \\text{Projective Plane curve over $\\Bold{Q}$\n+            defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}\n```\n\n```diff\n-            \\text{Affine Plane curve over $\\Bold{Q}$ defined by $-x^{3} + y^{2} - 17 x + y$}\n+            \\text{Affine Plane curve over $\\Bold{Q}$\n+            defined by $-x^{3} + y^{2} - 17 x + y$}\n```\n\n```diff\n-        if self.defining_ideal().is_zero() and self.ambient_space().dimension() == 1:\n-            return r\"\\text{{{} line over ${}$}}\".format(self._repr_type(), latex(self.base_ring()))\n-        else:\n-            return r\"\\text{{{} curve over ${}$ defined by {}}}\".format(self._repr_type(), latex(self.base_ring()),\n-                 ', '.join(['${0}$'.format(latex(x)) for x in self.defining_polynomials()]))\n+        if (self.defining_ideal().is_zero()\n+                and self.ambient_space().dimension() == 1):\n+            repr_type, ring = self._repr_type(), latex(self.base_ring())\n+            return fr\"\\text{{{repr_type} line over ${ring}$}}\"\n+        else:\n+            repr_type, ring = self._repr_type(), latex(self.base_ring())\n+            pp = ', '.join(f'${latex(p)}$' for p in self.defining_polynomials())\n+            return fr\"\\text{{{repr_type} curve over ${ring}$ defined by {pp}}}\"\n```\n\n```diff\n-        return 'Rational cohomology ring of a ' + self._variety._repr_()\n+        return f'Rational cohomology ring of a {self._variety._repr_()}'\n```\n\n```diff\n-        return 'H^\\\\ast\\\\left(' + self._variety._latex_() + ',' + latex(QQ) + '\\\\right)'\n+        return fr'H^\\ast\\left({self._variety._latex_()},{latex(QQ)}\\right)'\n```\n\nOther than that (but feel free to discard any or all\nof these suggestions), positive review if bots agree.",
    "created_at": "2021-05-11T09:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507990",
    "user": "https://github.com/slel"
}
```

<div id="comment:8" align="right">comment:8</div>

I would suggest adding line breaks and using
formatted strings and raw strings as follows.

```diff
-            \text{Projective Plane curve over $\Bold{Q}$ defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}
+            \text{Projective Plane curve over $\Bold{Q}$
+            defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}
```

```diff
-            \text{Affine Plane curve over $\Bold{Q}$ defined by $-x^{3} + y^{2} - 17 x + y$}
+            \text{Affine Plane curve over $\Bold{Q}$
+            defined by $-x^{3} + y^{2} - 17 x + y$}
```

```diff
-        if self.defining_ideal().is_zero() and self.ambient_space().dimension() == 1:
-            return r"\text{{{} line over ${}$}}".format(self._repr_type(), latex(self.base_ring()))
-        else:
-            return r"\text{{{} curve over ${}$ defined by {}}}".format(self._repr_type(), latex(self.base_ring()),
-                 ', '.join(['${0}$'.format(latex(x)) for x in self.defining_polynomials()]))
+        if (self.defining_ideal().is_zero()
+                and self.ambient_space().dimension() == 1):
+            repr_type, ring = self._repr_type(), latex(self.base_ring())
+            return fr"\text{{{repr_type} line over ${ring}$}}"
+        else:
+            repr_type, ring = self._repr_type(), latex(self.base_ring())
+            pp = ', '.join(f'${latex(p)}$' for p in self.defining_polynomials())
+            return fr"\text{{{repr_type} curve over ${ring}$ defined by {pp}}}"
```

```diff
-        return 'Rational cohomology ring of a ' + self._variety._repr_()
+        return f'Rational cohomology ring of a {self._variety._repr_()}'
```

```diff
-        return 'H^\\ast\\left(' + self._variety._latex_() + ',' + latex(QQ) + '\\right)'
+        return fr'H^\ast\left({self._variety._latex_()},{latex(QQ)}\right)'
```

Other than that (but feel free to discard any or all
of these suggestions), positive review if bots agree.



---

archive/issue_events_432457.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-05-11T09:27:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "title_is": "Add _latex_ method to curves and improve formatting in schemes folder",
    "title_was": "Add _latex_ method to curves and fix a few typographic errors in schemes folder",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432457"
}
```



---

archive/issue_comments_507991.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f8b0e1ac63f0bd27689222484a9b14d96b156d2\"><code>8f8b0e1</code></a></td><td><code>Fixes by reviewer comments</code></td></tr></table>\n",
    "created_at": "2021-05-11T11:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507991",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f8b0e1ac63f0bd27689222484a9b14d96b156d2"><code>8f8b0e1</code></a></td><td><code>Fixes by reviewer comments</code></td></tr></table>




---

archive/issue_comments_507992.json:
```json
{
    "body": "Changed commit from **[`56014e9`](https://github.com/sagemath/sagetrac-mirror/commit/56014e9a82aab82b9fc043bd2cd9c747d0a4091a)** to **[`8f8b0e1`](https://github.com/sagemath/sagetrac-mirror/commit/8f8b0e1ac63f0bd27689222484a9b14d96b156d2)**",
    "created_at": "2021-05-11T11:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507992",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`56014e9`](https://github.com/sagemath/sagetrac-mirror/commit/56014e9a82aab82b9fc043bd2cd9c747d0a4091a)** to **[`8f8b0e1`](https://github.com/sagemath/sagetrac-mirror/commit/8f8b0e1ac63f0bd27689222484a9b14d96b156d2)**



---

archive/issue_comments_507993.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@slel](#comment%3A8):\n> Other than that (but feel free to discard any or all\n> of these suggestions), positive review if bots agree.\n\nGood suggestions. Thank you.",
    "created_at": "2021-05-11T11:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507993",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@slel](#comment%3A8):
> Other than that (but feel free to discard any or all
> of these suggestions), positive review if bots agree.

Good suggestions. Thank you.



---

archive/issue_comments_507994.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5c6e5aff461f064c6f46a87e970e2be9727446d\"><code>b5c6e5a</code></a></td><td><code>Make pycodestyle plugin happy</code></td></tr></table>\n",
    "created_at": "2021-05-13T00:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507994",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5c6e5aff461f064c6f46a87e970e2be9727446d"><code>b5c6e5a</code></a></td><td><code>Make pycodestyle plugin happy</code></td></tr></table>




---

archive/issue_comments_507995.json:
```json
{
    "body": "Changed commit from **[`8f8b0e1`](https://github.com/sagemath/sagetrac-mirror/commit/8f8b0e1ac63f0bd27689222484a9b14d96b156d2)** to **[`b5c6e5a`](https://github.com/sagemath/sagetrac-mirror/commit/b5c6e5aff461f064c6f46a87e970e2be9727446d)**",
    "created_at": "2021-05-13T00:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507995",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8f8b0e1`](https://github.com/sagemath/sagetrac-mirror/commit/8f8b0e1ac63f0bd27689222484a9b14d96b156d2)** to **[`b5c6e5a`](https://github.com/sagemath/sagetrac-mirror/commit/b5c6e5aff461f064c6f46a87e970e2be9727446d)**



---

archive/issue_events_432458.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-05-13T19:10:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432458"
}
```



---

archive/issue_events_432459.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-05-13T19:10:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432459"
}
```



---

archive/issue_comments_507996.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWonderful.",
    "created_at": "2021-05-13T19:10:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507996",
    "user": "https://github.com/slel"
}
```

<div id="comment:12" align="right">comment:12</div>

Wonderful.



---

archive/issue_comments_507997.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThough I'm thinking this `return 0`\nshould be `return QQ.zero()`...",
    "created_at": "2021-05-13T19:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507997",
    "user": "https://github.com/slel"
}
```

<div id="comment:13" align="right">comment:13</div>

Though I'm thinking this `return 0`
should be `return QQ.zero()`...



---

archive/issue_comments_507998.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAnother way of putting it would be\n\n```diff\n-        if top_form.is_zero():\n-            return 0\n-        return top_form.lc() / self.volume_class().lc()\n+        return (QQ.zero() if top_form.is_zero()\n+                else top_form.lc() / self.volume_class().lc())\n```",
    "created_at": "2021-05-13T19:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507998",
    "user": "https://github.com/slel"
}
```

<div id="comment:14" align="right">comment:14</div>

Another way of putting it would be

```diff
-        if top_form.is_zero():
-            return 0
-        return top_form.lc() / self.volume_class().lc()
+        return (QQ.zero() if top_form.is_zero()
+                else top_form.lc() / self.volume_class().lc())
```



---

archive/issue_comments_507999.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@slel](#comment%3A13):\n> Though I'm thinking this `return 0`\n> should be `return QQ.zero()`...\n\nPerhaps it would be better to return the zero element of the base ring of the cohomology ring. However, it seems a pervasive convention in Sage just to return `0` regardless of the proper parent of the zero.\n\nAnyway, it is not in the scope of this ticket to \"fix\" it. I just leave it as it is. \n\nThank you for the review.",
    "created_at": "2021-05-14T01:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-507999",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@slel](#comment%3A13):
> Though I'm thinking this `return 0`
> should be `return QQ.zero()`...

Perhaps it would be better to return the zero element of the base ring of the cohomology ring. However, it seems a pervasive convention in Sage just to return `0` regardless of the proper parent of the zero.

Anyway, it is not in the scope of this ticket to "fix" it. I just leave it as it is. 

Thank you for the review.



---

archive/issue_comments_508000.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI agree it is beyond the scope of this ticket.",
    "created_at": "2021-05-14T14:12:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-508000",
    "user": "https://github.com/slel"
}
```

<div id="comment:16" align="right">comment:16</div>

I agree it is beyond the scope of this ticket.



---

archive/issue_events_432460.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-19T00:33:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432460"
}
```



---

archive/issue_events_432461.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-19T00:33:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432461"
}
```



---

archive/issue_comments_508001.json:
```json
{
    "body": "Changed commit from **[`b5c6e5a`](https://github.com/sagemath/sagetrac-mirror/commit/b5c6e5aff461f064c6f46a87e970e2be9727446d)** to **[`2a6dd74`](https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965)**",
    "created_at": "2021-07-19T00:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-508001",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b5c6e5a`](https://github.com/sagemath/sagetrac-mirror/commit/b5c6e5aff461f064c6f46a87e970e2be9727446d)** to **[`2a6dd74`](https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965)**



---

archive/issue_comments_508002.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965\"><code>2a6dd74</code></a></td><td><code>Fix a few typographic errors in schemes folder</code></td></tr></table>\n",
    "created_at": "2021-07-19T00:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-508002",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965"><code>2a6dd74</code></a></td><td><code>Fix a few typographic errors in schemes folder</code></td></tr></table>




---

archive/issue_events_432462.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-07-19T00:33:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432462"
}
```



---

archive/issue_events_432463.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-07-19T00:33:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432463"
}
```



---

archive/issue_comments_508003.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nRebased on the latest beta",
    "created_at": "2021-07-19T00:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-508003",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:19" align="right">comment:19</div>

Rebased on the latest beta



---

archive/issue_events_432464.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-07-19T00:34:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432464"
}
```



---

archive/issue_events_432465.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-07-19T00:34:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432465"
}
```



---

archive/issue_comments_508004.json:
```json
{
    "body": "Changed branch from **[u/klee/31586](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/31586)** to **[`2a6dd74`](https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965)**",
    "created_at": "2021-07-23T20:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31586#issuecomment-508004",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/klee/31586](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/31586)** to **[`2a6dd74`](https://github.com/sagemath/sagetrac-mirror/commit/2a6dd749b21ae9a5cb326c79e7e2a4aa77da6965)**



---

archive/issue_events_432466.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-23T20:11:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432466"
}
```



---

archive/issue_events_432467.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5a1c5b81023f75ec1fd3657458c563654fdae080",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-07-23T20:11:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31586#event-432467"
}
```
