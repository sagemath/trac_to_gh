# Issue 31396: relocatable wheel version of package sage_conf

archive/issues_031159.json:
```json
{
    "body": "This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).\n\nThe `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n\n\nSo far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  \n\nThe wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on \nhttps://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. \nHence, the pip invocation needs to use a URL.\n\n(See also https://twitter.com/mkoeppe_math/status/1378860285537054723)\n\n**Instructions for testing:**\n\n1. Make sure that the `bin` directory of the user installation scheme is in `PATH`. For example, on macOS:\n\n```\n$ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin\n```\n\n2. Install the wheel in the user scheme:\n\n```\n$ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n```\n\n3. Run the installed sage.\n\n```\n$ sage\n``` \n\n**Procedure for building the sage_conf wheel and compatible wheels:**\n\n\nFor building wheels on macOS Catalina that uses XCode python 3.8:\n\n```\n$ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)\n```\nor\n\n```\ntox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n```\n\nThis creates (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)\n- src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n- src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n\nBuild for macOS Big Sur (requires a machine running Big Sur or Monterey) (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)\n\n```\ntox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n```\n\nBuild for macOS Monterey (requires a machine running Monterey)\n\n```\ntox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n```\n\n\nBuild for Linux (does not work yet):\n\n```\n$ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels\n\n```\n\n**Follow-up steps:** \n- also build a **sagemath-standard** wheel\n- build wheels for `manylinux` using `tox -e docker-manylinux....`\n  - wheel is much too big: 2.3GB\n  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`\n- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible -- for example by storing a tar file `sage_root.tar` (with symlinks) instead of including the sage root as a directory - https://docs.python.org/3/library/tarfile.html#tarfile.open \n- #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n\n\nCC:  @culler @kliem @dimpase @jhpalmieri @slel @kiwifb\n\nReviewer: Julian R\u00fcth\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/relocatable_wheel_version_of_package_sage_conf\n\nStatus: needs_work\n\nDependencies: #33817\n\nCommit: 1b2d4be32dbaa52ca5183872fde4702b58ef4165\n\nIssue created by migration from https://trac.sagemath.org/ticket/31396\n\n",
    "created_at": "2021-02-14T22:06:47Z",
    "labels": [
        "component: relocation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "relocatable wheel version of package sage_conf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31396",
    "user": "https://github.com/mkoeppe"
}
```
This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).

The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.


So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  

The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on 
https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. 
Hence, the pip invocation needs to use a URL.

(See also https://twitter.com/mkoeppe_math/status/1378860285537054723)

**Instructions for testing:**

1. Make sure that the `bin` directory of the user installation scheme is in `PATH`. For example, on macOS:

```
$ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin
```

2. Install the wheel in the user scheme:

```
$ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
```

3. Run the installed sage.

```
$ sage
``` 

**Procedure for building the sage_conf wheel and compatible wheels:**


For building wheels on macOS Catalina that uses XCode python 3.8:

```
$ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)
```
or

```
tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
```

This creates (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)
- src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
- src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl

Build for macOS Big Sur (requires a machine running Big Sur or Monterey) (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)

```
tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
```

Build for macOS Monterey (requires a machine running Monterey)

```
tox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
```


Build for Linux (does not work yet):

```
$ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels

```

**Follow-up steps:** 
- also build a **sagemath-standard** wheel
- build wheels for `manylinux` using `tox -e docker-manylinux....`
  - wheel is much too big: 2.3GB
  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`
- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible -- for example by storing a tar file `sage_root.tar` (with symlinks) instead of including the sage root as a directory - https://docs.python.org/3/library/tarfile.html#tarfile.open 
- #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.


CC:  @culler @kliem @dimpase @jhpalmieri @slel @kiwifb

Reviewer: Julian RÃ¼th

Author: Matthias Koeppe

Branch: u/mkoeppe/relocatable_wheel_version_of_package_sage_conf

Status: needs_work

Dependencies: #33817

Commit: 1b2d4be32dbaa52ca5183872fde4702b58ef4165

Issue created by migration from https://trac.sagemath.org/ticket/31396





---

archive/issue_comments_623422.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/relocatable_wheel_version_of_package_sage_conf\"",
    "created_at": "2021-02-15T03:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623422",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/relocatable_wheel_version_of_package_sage_conf"



---

archive/issue_comments_623423.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-15T06:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623423",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623424.json:
```json
{
    "body": "Changing commit from \"\" to \"9573b7c12afc5de1de743e53ff182d20490b340c\"",
    "created_at": "2021-02-15T06:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "9573b7c12afc5de1de743e53ff182d20490b340c"



---

archive/issue_comments_623425.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-02-15T06:40:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623425",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_623426.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,6 @@\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n+Optional steps:\n+- Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...\n+\n``````\n",
    "created_at": "2021-02-15T06:40:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623426",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,6 @@
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
+Optional steps:
+- Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...
+
``````




---

archive/issue_comments_623427.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,13 @@\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n+To test:\n+\n+```\n+(cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)\n+```\n+On macOS, this builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.\n+\n Optional steps:\n - Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...\n \n``````\n",
    "created_at": "2021-02-15T07:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623427",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,13 @@
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
+To test:
+
+```
+(cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)
+```
+On macOS, this builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.
+
 Optional steps:
 - Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...
 
``````




---

archive/issue_comments_623428.json:
```json
{
    "body": "<a id='comment:4'></a>On macOS, some shared libraries from homebrew still leak into the build:\n\n```\nfind src/pkgs/sage_conf-relocatable/.tox/python/lib/python3.9/site-packages/sage_root -name \"*.so\" -o -name \"*.dylib\" | xargs otool -L\nlibgiac.dylib:\n/usr/local/opt/gettext/lib/libintl.8.dylib\nR/library/cluster/libs/*.dylib:\n\t/usr/local/opt/gettext/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)\n\t/usr/local/opt/pcre/lib/libpcre.1.dylib (compatibility version 4.0.0, current version 4.12.0)\n\t/usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.5.0)\n```\nDefinitely should disable the R build (#30383).\n\nAlso check whether setting CC=`gcc -sysroot....` helps getting rid of `/usr/local` leaking in.\n\nAlso need to add `--enable-fat-binary`.\n\n`setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.\nAlso `copytree` from `sage_root_source` should be changed so it overwrites (updates) the existing contents of SAGE_ROOT.\n\nthe tox test should include the test with `otool` for self-containedness.",
    "created_at": "2021-02-15T07:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623428",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>On macOS, some shared libraries from homebrew still leak into the build:

```
find src/pkgs/sage_conf-relocatable/.tox/python/lib/python3.9/site-packages/sage_root -name "*.so" -o -name "*.dylib" | xargs otool -L
libgiac.dylib:
/usr/local/opt/gettext/lib/libintl.8.dylib
R/library/cluster/libs/*.dylib:
	/usr/local/opt/gettext/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)
	/usr/local/opt/pcre/lib/libpcre.1.dylib (compatibility version 4.0.0, current version 4.12.0)
	/usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.5.0)
```
Definitely should disable the R build (#30383).

Also check whether setting CC=`gcc -sysroot....` helps getting rid of `/usr/local` leaking in.

Also need to add `--enable-fat-binary`.

`setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.
Also `copytree` from `sage_root_source` should be changed so it overwrites (updates) the existing contents of SAGE_ROOT.

the tox test should include the test with `otool` for self-containedness.



---

archive/issue_comments_623429.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-16T02:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623430.json:
```json
{
    "body": "Changing commit from \"9573b7c12afc5de1de743e53ff182d20490b340c\" to \"f785d3cde259485597664306e191a21ad0ab9d58\"",
    "created_at": "2021-02-16T02:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623430",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9573b7c12afc5de1de743e53ff182d20490b340c" to "f785d3cde259485597664306e191a21ad0ab9d58"



---

archive/issue_comments_623431.json:
```json
{
    "body": "<a id='comment:6'></a>Using -isysroot helps but giac configuration needs more work - #31403",
    "created_at": "2021-02-16T02:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623431",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>Using -isysroot helps but giac configuration needs more work - #31403



---

archive/issue_comments_623432.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:4 mkoeppe]:\n> `setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.\n\nDoes not work because sage resolves symlinks when it determines SAGE_ROOT.",
    "created_at": "2021-02-16T03:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623432",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Replying to [comment:4 mkoeppe]:
> `setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.

Does not work because sage resolves symlinks when it determines SAGE_ROOT.



---

archive/issue_comments_623433.json:
```json
{
    "body": "Changing dependencies from \"#29039\" to \"#29039, #31409\"",
    "created_at": "2021-02-19T00:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623433",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039" to "#29039, #31409"



---

archive/issue_comments_623434.json:
```json
{
    "body": "Changing commit from \"f785d3cde259485597664306e191a21ad0ab9d58\" to \"e56a2a956a96bd70dbb443869697e89b7fb2b58a\"",
    "created_at": "2021-02-19T00:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623434",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f785d3cde259485597664306e191a21ad0ab9d58" to "e56a2a956a96bd70dbb443869697e89b7fb2b58a"



---

archive/issue_comments_623435.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T00:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623436.json:
```json
{
    "body": "Changing commit from \"e56a2a956a96bd70dbb443869697e89b7fb2b58a\" to \"a2289744baf90e3dcb288f96ef52d471ab8251bb\"",
    "created_at": "2021-02-19T02:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e56a2a956a96bd70dbb443869697e89b7fb2b58a" to "a2289744baf90e3dcb288f96ef52d471ab8251bb"



---

archive/issue_comments_623437.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T02:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623438.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T03:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623439.json:
```json
{
    "body": "Changing commit from \"a2289744baf90e3dcb288f96ef52d471ab8251bb\" to \"c260942d3085fa369117746c635b48da5a572489\"",
    "created_at": "2021-02-19T03:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623439",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a2289744baf90e3dcb288f96ef52d471ab8251bb" to "c260942d3085fa369117746c635b48da5a572489"



---

archive/issue_comments_623440.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-02-19T06:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623441.json:
```json
{
    "body": "Changing commit from \"c260942d3085fa369117746c635b48da5a572489\" to \"4f17a047ec84130462cb7f91f28ed284816cfa74\"",
    "created_at": "2021-02-19T06:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c260942d3085fa369117746c635b48da5a572489" to "4f17a047ec84130462cb7f91f28ed284816cfa74"



---

archive/issue_comments_623442.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,9 +5,14 @@\n To test:\n \n ```\n-(cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)\n+./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)\n ```\n-On macOS, this builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.\n+Specifically for building a wheel on macOS that uses XCode python 3.8:\n+\n+```\n+./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v -e python-macos-10.15-python3.8)\n+```\n+This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.\n \n Optional steps:\n - Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...\n``````\n",
    "created_at": "2021-02-19T06:13:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623442",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,9 +5,14 @@
 To test:
 
 ```
-(cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)
+./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)
 ```
-On macOS, this builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.
+Specifically for building a wheel on macOS that uses XCode python 3.8:
+
+```
+./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v -e python-macos-10.15-python3.8)
+```
+This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.
 
 Optional steps:
 - Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...
``````




---

archive/issue_comments_623443.json:
```json
{
    "body": "Changing commit from \"4f17a047ec84130462cb7f91f28ed284816cfa74\" to \"851435289634de431fc8708e0c4c59a37b578b71\"",
    "created_at": "2021-02-19T06:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623443",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4f17a047ec84130462cb7f91f28ed284816cfa74" to "851435289634de431fc8708e0c4c59a37b578b71"



---

archive/issue_comments_623444.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T06:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623445.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_LOCAL` relocatable using the method proposed in #31076, using `SAGE_LOCAL=/var/tmp/sage-...` and a symlink.\n+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n``````\n",
    "created_at": "2021-02-20T05:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623445",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_LOCAL` relocatable using the method proposed in #31076, using `SAGE_LOCAL=/var/tmp/sage-...` and a symlink.
+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
``````




---

archive/issue_comments_623446.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-15T06:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623447.json:
```json
{
    "body": "Changing commit from \"851435289634de431fc8708e0c4c59a37b578b71\" to \"1baf390bc2bc5c29a7bfa6d7c73d31f39a1b5e65\"",
    "created_at": "2021-03-15T06:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623447",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "851435289634de431fc8708e0c4c59a37b578b71" to "1baf390bc2bc5c29a7bfa6d7c73d31f39a1b5e65"



---

archive/issue_comments_623448.json:
```json
{
    "body": "Changing commit from \"1baf390bc2bc5c29a7bfa6d7c73d31f39a1b5e65\" to \"31bba97d13f86c531eeef0a26383b98fa3671c45\"",
    "created_at": "2021-03-24T17:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1baf390bc2bc5c29a7bfa6d7c73d31f39a1b5e65" to "31bba97d13f86c531eeef0a26383b98fa3671c45"



---

archive/issue_comments_623449.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-24T17:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623450.json:
```json
{
    "body": "Changing commit from \"31bba97d13f86c531eeef0a26383b98fa3671c45\" to \"f5f4a157e3a1630fc789f8f61655e123b6573eb6\"",
    "created_at": "2021-03-24T17:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623450",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "31bba97d13f86c531eeef0a26383b98fa3671c45" to "f5f4a157e3a1630fc789f8f61655e123b6573eb6"



---

archive/issue_comments_623451.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T17:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623451",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623452.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.\n+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n@@ -14,6 +14,4 @@\n ```\n This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.\n \n-Optional steps:\n-- Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...\n \n``````\n",
    "created_at": "2021-03-24T17:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623452",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.
+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
@@ -14,6 +14,4 @@
 ```
 This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.
 
-Optional steps:
-- Also build the wheelhouse (`local/var/lib/sage/wheels`), at least for tricky packages...
 
``````




---

archive/issue_comments_623453.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,4 +14,4 @@\n ```\n This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.\n \n-\n+Follow-up step: Do not package up the wheel-building venv.\n``````\n",
    "created_at": "2021-03-24T17:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623453",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,4 +14,4 @@
 ```
 This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.
 
-
+Follow-up step: Do not package up the wheel-building venv.
``````




---

archive/issue_comments_623454.json:
```json
{
    "body": "Changing commit from \"f5f4a157e3a1630fc789f8f61655e123b6573eb6\" to \"87db1d0a371b70040b4d7448f0fadc9b50f18b54\"",
    "created_at": "2021-03-24T19:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623454",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f5f4a157e3a1630fc789f8f61655e123b6573eb6" to "87db1d0a371b70040b4d7448f0fadc9b50f18b54"



---

archive/issue_comments_623455.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T19:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623455",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623456.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31409\" to \"#29039, #31409, #31521\"",
    "created_at": "2021-03-24T20:33:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623456",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31409" to "#29039, #31409, #31521"



---

archive/issue_comments_623457.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T20:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623458.json:
```json
{
    "body": "Changing commit from \"87db1d0a371b70040b4d7448f0fadc9b50f18b54\" to \"b871e09db5d847470fcf33eab2960554e0787bc1\"",
    "created_at": "2021-03-24T20:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "87db1d0a371b70040b4d7448f0fadc9b50f18b54" to "b871e09db5d847470fcf33eab2960554e0787bc1"



---

archive/issue_comments_623459.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,6 +12,6 @@\n ```\n ./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v -e python-macos-10.15-python3.8)\n ```\n-This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.\n+This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n Follow-up step: Do not package up the wheel-building venv.\n``````\n",
    "created_at": "2021-03-25T00:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623459",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,6 +12,6 @@
 ```
 ./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v -e python-macos-10.15-python3.8)
 ```
-This builds a 750MB wheel, an order of magnitude above the standard file size limit on PyPI.
+This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
 Follow-up step: Do not package up the wheel-building venv.
``````




---

archive/issue_comments_623460.json:
```json
{
    "body": "<a id='comment:26'></a>`delocate-listdeps` reports the following library dependencies:\n\n```\n/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib\n/usr/local/Cellar/gmp/6.2.1/lib/libgmp.10.dylib\n/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib\n/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib\n/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib\n/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib\n/usr/local/Cellar/mpfr/4.1.0/lib/libmpfr.6.dylib\n/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib\n/usr/local/Cellar/readline/8.1/lib/libreadline.8.1.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib\n/usr/local/Cellar/zeromq/4.3.3/lib/libzmq.5.dylib\n/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib\n@executable_path/../../../../Python3\nliba.dylib\nlibb.dylib\nlibc.dylib\n```",
    "created_at": "2021-03-25T01:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623460",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>`delocate-listdeps` reports the following library dependencies:

```
/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib
/usr/local/Cellar/gmp/6.2.1/lib/libgmp.10.dylib
/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib
/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib
/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib
/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib
/usr/local/Cellar/mpfr/4.1.0/lib/libmpfr.6.dylib
/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib
/usr/local/Cellar/readline/8.1/lib/libreadline.8.1.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib
/usr/local/Cellar/zeromq/4.3.3/lib/libzmq.5.dylib
/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib
@executable_path/../../../../Python3
liba.dylib
libb.dylib
libc.dylib
```



---

archive/issue_comments_623461.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T01:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623461",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623462.json:
```json
{
    "body": "Changing commit from \"b871e09db5d847470fcf33eab2960554e0787bc1\" to \"74a0ae02a05213aa5ec201245aaf3f55e8c5b037\"",
    "created_at": "2021-03-25T01:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623462",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b871e09db5d847470fcf33eab2960554e0787bc1" to "74a0ae02a05213aa5ec201245aaf3f55e8c5b037"



---

archive/issue_comments_623463.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T05:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623463",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623464.json:
```json
{
    "body": "Changing commit from \"74a0ae02a05213aa5ec201245aaf3f55e8c5b037\" to \"5eaaa8788437022cb2f070ef12e461e8e9619532\"",
    "created_at": "2021-03-25T05:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "74a0ae02a05213aa5ec201245aaf3f55e8c5b037" to "5eaaa8788437022cb2f070ef12e461e8e9619532"



---

archive/issue_comments_623465.json:
```json
{
    "body": "<a id='comment:29'></a>\n```\n/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib\n/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib\n/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib\n/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib\n/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib\n/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib\n/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib\n@executable_path/../../../../Python3\nliba.dylib\nlibb.dylib\nlibc.dylib\n```",
    "created_at": "2021-03-25T06:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623465",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
```
/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib
/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib
/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib
/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib
/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib
/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib
/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib
@executable_path/../../../../Python3
liba.dylib
libb.dylib
libc.dylib
```



---

archive/issue_comments_623466.json:
```json
{
    "body": "<a id='comment:30'></a>`libintl` is still coming in through giac",
    "created_at": "2021-03-25T07:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623466",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>`libintl` is still coming in through giac



---

archive/issue_comments_623467.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T18:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623468.json:
```json
{
    "body": "Changing commit from \"5eaaa8788437022cb2f070ef12e461e8e9619532\" to \"b7051a99473e4ffa3f2d17c980b619bb45472980\"",
    "created_at": "2021-03-25T18:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5eaaa8788437022cb2f070ef12e461e8e9619532" to "b7051a99473e4ffa3f2d17c980b619bb45472980"



---

archive/issue_comments_623469.json:
```json
{
    "body": "<a id='comment:32'></a>The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`), `libgd` (which uses libtiff), and `pillow` (libtiff and everything else).\n\nWe could try not to ship `matplotlib` at all in the wheelhouse - it is responsible for pulling in `freetype` and `pillow` - but it still shares one shared library with some of our packages - `libpng`.",
    "created_at": "2021-03-25T23:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623469",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`), `libgd` (which uses libtiff), and `pillow` (libtiff and everything else).

We could try not to ship `matplotlib` at all in the wheelhouse - it is responsible for pulling in `freetype` and `pillow` - but it still shares one shared library with some of our packages - `libpng`.



---

archive/issue_comments_623470.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-26T01:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623471.json:
```json
{
    "body": "Changing commit from \"b7051a99473e4ffa3f2d17c980b619bb45472980\" to \"41ac551c9b89fb9615e5b52b6164fa0ea67e3a30\"",
    "created_at": "2021-03-26T01:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b7051a99473e4ffa3f2d17c980b619bb45472980" to "41ac551c9b89fb9615e5b52b6164fa0ea67e3a30"



---

archive/issue_comments_623472.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31409, #31521\" to \"#29039, #31409, #31521, #31552, #31562\"",
    "created_at": "2021-03-26T01:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623472",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31409, #31521" to "#29039, #31409, #31521, #31552, #31562"



---

archive/issue_comments_623473.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-26T02:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623473",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623474.json:
```json
{
    "body": "Changing commit from \"41ac551c9b89fb9615e5b52b6164fa0ea67e3a30\" to \"00e39560744ad3832aa0614a34b8059a47db5a14\"",
    "created_at": "2021-03-26T02:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "41ac551c9b89fb9615e5b52b6164fa0ea67e3a30" to "00e39560744ad3832aa0614a34b8059a47db5a14"



---

archive/issue_comments_623475.json:
```json
{
    "body": "<a id='comment:36'></a>Replying to [comment:30 mkoeppe]:\n> `libintl` is still coming in through giac\n\nSolved now via #31562.",
    "created_at": "2021-03-26T02:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623475",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>Replying to [comment:30 mkoeppe]:
> `libintl` is still coming in through giac

Solved now via #31562.



---

archive/issue_comments_623476.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-26T19:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623476",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623477.json:
```json
{
    "body": "Changing commit from \"00e39560744ad3832aa0614a34b8059a47db5a14\" to \"e41932acfaf19f3d19c640d91868696f9b8c5b94\"",
    "created_at": "2021-03-26T19:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623477",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "00e39560744ad3832aa0614a34b8059a47db5a14" to "e41932acfaf19f3d19c640d91868696f9b8c5b94"



---

archive/issue_comments_623478.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Refactor through #31567\"",
    "created_at": "2021-03-27T02:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623478",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "Refactor through #31567"



---

archive/issue_comments_623479.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:32 mkoeppe]:\n> The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`)\n\n\nfreetype checks for harfbuzz using pkg-config, accepts `configure --without-harfbuzz`. https://github.com/freetype/freetype/blob/f9f6adb625c48ef15b5d61a3ac1709a068ea95a3/builds/unix/configure.raw#L504",
    "created_at": "2021-03-27T04:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623479",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Replying to [comment:32 mkoeppe]:
> The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`)


freetype checks for harfbuzz using pkg-config, accepts `configure --without-harfbuzz`. https://github.com/freetype/freetype/blob/f9f6adb625c48ef15b5d61a3ac1709a068ea95a3/builds/unix/configure.raw#L504



---

archive/issue_comments_623480.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31409, #31521, #31552, #31562\" to \"#29039, #31409, #31521, #31552, #31562, #31567\"",
    "created_at": "2021-03-27T04:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623480",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31409, #31521, #31552, #31562" to "#29039, #31409, #31521, #31552, #31562, #31567"



---

archive/issue_comments_623481.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,8 +10,10 @@\n Specifically for building a wheel on macOS that uses XCode python 3.8:\n \n ```\n-./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v -e python-macos-10.15-python3.8)\n+$ tox -e local-macos-local-macos-10.15-nohomebrew-python3_xcode -- bash\n+[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && /usr/local/bin/tox -v -v -v)\n ```\n This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n Follow-up step: Do not package up the wheel-building venv.\n+\n``````\n",
    "created_at": "2021-03-27T05:01:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623481",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,8 +10,10 @@
 Specifically for building a wheel on macOS that uses XCode python 3.8:
 
 ```
-./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v -e python-macos-10.15-python3.8)
+$ tox -e local-macos-local-macos-10.15-nohomebrew-python3_xcode -- bash
+[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && /usr/local/bin/tox -v -v -v)
 ```
 This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
 Follow-up step: Do not package up the wheel-building venv.
+
``````




---

archive/issue_comments_623482.json:
```json
{
    "body": "Changing commit from \"e41932acfaf19f3d19c640d91868696f9b8c5b94\" to \"4ed1bf421731e1cf7d4ad7d1179fa660e5d4364d\"",
    "created_at": "2021-03-27T05:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623482",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e41932acfaf19f3d19c640d91868696f9b8c5b94" to "4ed1bf421731e1cf7d4ad7d1179fa660e5d4364d"



---

archive/issue_comments_623483.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-27T05:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623483",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623484.json:
```json
{
    "body": "Changing work_issues from \"Refactor through #31567\" to \"\"",
    "created_at": "2021-03-27T05:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623484",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Refactor through #31567" to ""



---

archive/issue_comments_623485.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n \n ```\n $ tox -e local-macos-local-macos-10.15-nohomebrew-python3_xcode -- bash\n-[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && /usr/local/bin/tox -v -v -v)\n+[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)\n ```\n This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n``````\n",
    "created_at": "2021-03-27T05:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623485",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 
 ```
 $ tox -e local-macos-local-macos-10.15-nohomebrew-python3_xcode -- bash
-[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && /usr/local/bin/tox -v -v -v)
+[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)
 ```
 This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
``````




---

archive/issue_comments_623486.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,8 +10,8 @@\n Specifically for building a wheel on macOS that uses XCode python 3.8:\n \n ```\n-$ tox -e local-macos-local-macos-10.15-nohomebrew-python3_xcode -- bash\n-[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)\n+$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n+(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)\n ```\n This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n``````\n",
    "created_at": "2021-03-28T02:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623486",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,8 +10,8 @@
 Specifically for building a wheel on macOS that uses XCode python 3.8:
 
 ```
-$ tox -e local-macos-local-macos-10.15-nohomebrew-python3_xcode -- bash
-[tox -e ...] $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)
+$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
+(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)
 ```
 This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
``````




---

archive/issue_comments_623487.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n Specifically for building a wheel on macOS that uses XCode python 3.8:\n \n ```\n-$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n+$ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)\n ```\n This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n``````\n",
    "created_at": "2021-03-28T04:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623487",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 Specifically for building a wheel on macOS that uses XCode python 3.8:
 
 ```
-$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
+$ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
 (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)
 ```
 This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
``````




---

archive/issue_comments_623488.json:
```json
{
    "body": "Changing commit from \"4ed1bf421731e1cf7d4ad7d1179fa660e5d4364d\" to \"e4270dd90169c7ba7eb0d9a2c4356dc9c2514941\"",
    "created_at": "2021-03-28T06:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623488",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4ed1bf421731e1cf7d4ad7d1179fa660e5d4364d" to "e4270dd90169c7ba7eb0d9a2c4356dc9c2514941"



---

archive/issue_comments_623489.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-28T06:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623490.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-29T02:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623491.json:
```json
{
    "body": "Changing commit from \"e4270dd90169c7ba7eb0d9a2c4356dc9c2514941\" to \"587142f996c7c1457344e960fea682522f00d8e4\"",
    "created_at": "2021-03-29T02:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623491",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e4270dd90169c7ba7eb0d9a2c4356dc9c2514941" to "587142f996c7c1457344e960fea682522f00d8e4"



---

archive/issue_comments_623492.json:
```json
{
    "body": "Changing commit from \"587142f996c7c1457344e960fea682522f00d8e4\" to \"c5a823cb524914ab985eaea09f52a87aa93c03cb\"",
    "created_at": "2021-03-29T04:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "587142f996c7c1457344e960fea682522f00d8e4" to "c5a823cb524914ab985eaea09f52a87aa93c03cb"



---

archive/issue_comments_623493.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-29T04:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623493",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623494.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,7 @@\n $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)\n ```\n-This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n+This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n Follow-up step: Do not package up the wheel-building venv.\n \n``````\n",
    "created_at": "2021-03-29T04:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623494",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,7 @@
 $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
 (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)
 ```
-This builds a 900MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
+This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
 Follow-up step: Do not package up the wheel-building venv.
 
``````




---

archive/issue_comments_623495.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,5 +15,5 @@\n ```\n This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n-Follow-up step: Do not package up the wheel-building venv.\n+Follow-up step: Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); disable all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible\n \n``````\n",
    "created_at": "2021-03-29T06:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623495",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,5 +15,5 @@
 ```
 This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
-Follow-up step: Do not package up the wheel-building venv.
+Follow-up step: Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); disable all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible
 
``````




---

archive/issue_comments_623496.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,5 +15,5 @@\n ```\n This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n-Follow-up step: Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); disable all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible\n+**Follow-up steps:** Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible\n \n``````\n",
    "created_at": "2021-03-29T06:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623496",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,5 +15,5 @@
 ```
 This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
-Follow-up step: Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); disable all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible
+**Follow-up steps:** Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible
 
``````




---

archive/issue_comments_623497.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-29T16:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623497",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_623498.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.\n+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's `/var/tmp` surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n@@ -15,5 +15,14 @@\n ```\n This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n \n+In the meantime, you can use a prebuilt wheel (so far, macOS python3.8 x86_64 only) made available at https://github.com/mkoeppe/sage/releases;\n+install the wheel using\n+\n+```\n+pip install https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl\n+```\n+Then proceed with the same instructions as https://pypi.org/project/sage-conf/\n+\n+\n **Follow-up steps:** Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible\n \n``````\n",
    "created_at": "2021-03-29T17:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623498",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink.
+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's `/var/tmp` surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
@@ -15,5 +15,14 @@
 ```
 This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
 
+In the meantime, you can use a prebuilt wheel (so far, macOS python3.8 x86_64 only) made available at https://github.com/mkoeppe/sage/releases;
+install the wheel using
+
+```
+pip install https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl
+```
+Then proceed with the same instructions as https://pypi.org/project/sage-conf/
+
+
 **Follow-up steps:** Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible
 
``````




---

archive/issue_comments_623499.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,7 +19,7 @@\n install the wheel using\n \n ```\n-pip install https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl\n+/usr/bin/python3 -m pip install --user https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl\n ```\n Then proceed with the same instructions as https://pypi.org/project/sage-conf/\n \n``````\n",
    "created_at": "2021-03-29T17:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623499",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,7 +19,7 @@
 install the wheel using
 
 ```
-pip install https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl
+/usr/bin/python3 -m pip install --user https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl
 ```
 Then proceed with the same instructions as https://pypi.org/project/sage-conf/
 
``````




---

archive/issue_comments_623500.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-03-30T16:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623500",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_623501.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,5 +24,7 @@\n Then proceed with the same instructions as https://pypi.org/project/sage-conf/\n \n \n-**Follow-up steps:** Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible\n+**Follow-up steps:** \n+- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n+- split out `sage_local` from `sage_conf` and use install-requires in the `sage_conf` wheels with `@` links to GH releases to the `sage_local` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2021-03-30T16:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623501",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,5 +24,7 @@
 Then proceed with the same instructions as https://pypi.org/project/sage-conf/
 
 
-**Follow-up steps:** Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible
+**Follow-up steps:** 
+- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
+- split out `sage_local` from `sage_conf` and use install-requires in the `sage_conf` wheels with `@` links to GH releases to the `sage_local` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_events_082250.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-30T17:19:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82250"
}
```



---

archive/issue_comments_623502.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,6 +25,6 @@\n \n \n **Follow-up steps:** \n-- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n+- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`) (#29013); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n - split out `sage_local` from `sage_conf` and use install-requires in the `sage_conf` wheels with `@` links to GH releases to the `sage_local` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2021-03-31T01:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623502",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,6 +25,6 @@
 
 
 **Follow-up steps:** 
-- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
+- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`) (#29013); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
 - split out `sage_local` from `sage_conf` and use install-requires in the `sage_conf` wheels with `@` links to GH releases to the `sage_local` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_comments_623503.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,7 @@\n $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)\n ```\n-This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985\n+This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI; a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has been granted by the PyPI team.\n \n In the meantime, you can use a prebuilt wheel (so far, macOS python3.8 x86_64 only) made available at https://github.com/mkoeppe/sage/releases;\n install the wheel using\n@@ -26,5 +26,5 @@\n \n **Follow-up steps:** \n - Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`) (#29013); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n-- split out `sage_local` from `sage_conf` and use install-requires in the `sage_conf` wheels with `@` links to GH releases to the `sage_local` wheel and the built non-`any` wheels.\n+- #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2021-04-03T16:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623503",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,7 @@
 $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
 (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)
 ```
-This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI. Opened a PR to request a file size limit increase: https://github.com/pypa/pypi-support/issues/985
+This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI; a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has been granted by the PyPI team.
 
 In the meantime, you can use a prebuilt wheel (so far, macOS python3.8 x86_64 only) made available at https://github.com/mkoeppe/sage/releases;
 install the wheel using
@@ -26,5 +26,5 @@
 
 **Follow-up steps:** 
 - Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`) (#29013); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
-- split out `sage_local` from `sage_conf` and use install-requires in the `sage_conf` wheels with `@` links to GH releases to the `sage_local` wheel and the built non-`any` wheels.
+- #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_comments_623504.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31409, #31521, #31552, #31562, #31567\" to \"#29039, #31409, #31521, #31552, #31562, #31567, #29013\"",
    "created_at": "2021-04-03T20:50:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623504",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31409, #31521, #31552, #31562, #31567" to "#29039, #31409, #31521, #31552, #31562, #31567, #29013"



---

archive/issue_comments_623505.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n \n ```\n $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n-(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)\n+(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)\n ```\n This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI; a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has been granted by the PyPI team.\n \n``````\n",
    "created_at": "2021-04-03T21:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623505",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 
 ```
 $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
-(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel)
+(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)
 ```
 This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI; a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has been granted by the PyPI team.
 
``````




---

archive/issue_comments_623506.json:
```json
{
    "body": "Changing commit from \"c5a823cb524914ab985eaea09f52a87aa93c03cb\" to \"a3ccb60111184d368ecc2a97270b07d158749b3e\"",
    "created_at": "2021-04-03T21:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623506",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c5a823cb524914ab985eaea09f52a87aa93c03cb" to "a3ccb60111184d368ecc2a97270b07d158749b3e"



---

archive/issue_comments_623507.json:
```json
{
    "body": "<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-04-03T21:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623507",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623508.json:
```json
{
    "body": "Changing commit from \"a3ccb60111184d368ecc2a97270b07d158749b3e\" to \"a295b811b16db09f37aaedccc28d942aaf7fb455\"",
    "created_at": "2021-04-04T00:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623508",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a3ccb60111184d368ecc2a97270b07d158749b3e" to "a295b811b16db09f37aaedccc28d942aaf7fb455"



---

archive/issue_comments_623509.json:
```json
{
    "body": "<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T00:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623509",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623510.json:
```json
{
    "body": "Changing commit from \"a295b811b16db09f37aaedccc28d942aaf7fb455\" to \"40492737081faab49c4af8f6445237873f7670a6\"",
    "created_at": "2021-04-04T02:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623510",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a295b811b16db09f37aaedccc28d942aaf7fb455" to "40492737081faab49c4af8f6445237873f7670a6"



---

archive/issue_comments_623511.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T02:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623511",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623512.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,30 +1,33 @@\n-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's `/var/tmp` surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).\n+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n-To test:\n+So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.\n+\n+The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on \n+https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.\n+\n+**Instructions for testing:**\n \n ```\n-./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)\n-```\n-Specifically for building a wheel on macOS that uses XCode python 3.8:\n+$ /usr/bin/python3 -m pip install -U --user sage-conf\n+``` \n+\n+\n+\n+**Procedure for building the sage_conf wheel and compatible wheels:**\n+\n+\n+For building a wheel on macOS that uses XCode python 3.8:\n \n ```\n $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)\n ```\n-This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI; a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has been granted by the PyPI team.\n \n-In the meantime, you can use a prebuilt wheel (so far, macOS python3.8 x86_64 only) made available at https://github.com/mkoeppe/sage/releases;\n-install the wheel using\n-\n-```\n-/usr/bin/python3 -m pip install --user https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl\n-```\n-Then proceed with the same instructions as https://pypi.org/project/sage-conf/\n \n \n **Follow-up steps:** \n-- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`) (#29013); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n+- do not ship the Cython wheel; disable building all sphinx packages; build sagelib too; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2021-04-04T02:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623512",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,30 +1,33 @@
-This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution (and the wheelhouse `local/var/lib/sage/wheels`), making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's `/var/tmp` surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).
+This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
-To test:
+So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.
+
+The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on 
+https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.
+
+**Instructions for testing:**
 
 ```
-./bootstrap && (cd src/pkgs/sage_conf-relocatable/ && tox -v -v -v)
-```
-Specifically for building a wheel on macOS that uses XCode python 3.8:
+$ /usr/bin/python3 -m pip install -U --user sage-conf
+``` 
+
+
+
+**Procedure for building the sage_conf wheel and compatible wheels:**
+
+
+For building a wheel on macOS that uses XCode python 3.8:
 
 ```
 $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
 (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)
 ```
-This builds a 850MB wheel, an order of magnitude above the standard file size limit on PyPI; a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has been granted by the PyPI team.
 
-In the meantime, you can use a prebuilt wheel (so far, macOS python3.8 x86_64 only) made available at https://github.com/mkoeppe/sage/releases;
-install the wheel using
-
-```
-/usr/bin/python3 -m pip install --user https://github.com/mkoeppe/sage/releases/download/9.3.rc0%2Btrac31396-2021-03-28/sage_conf-9.3rc0-cp38-cp38-macosx_10_14_6_x86_64.whl
-```
-Then proceed with the same instructions as https://pypi.org/project/sage-conf/
 
 
 **Follow-up steps:** 
-- Do not package up the wheel-building venv (247MB in `sage_root/local/lib/python3.8/site-packages/`) (#29013); do not ship any `any` wheels; do not ship the Cython wheel; disable building all sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
+- do not ship the Cython wheel; disable building all sphinx packages; build sagelib too; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
 - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_comments_623513.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n **Instructions for testing:**\n \n ```\n-$ /usr/bin/python3 -m pip install -U --user sage-conf\n+$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf sage-conf\n ``` \n \n \n``````\n",
    "created_at": "2021-04-04T02:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623513",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 **Instructions for testing:**
 
 ```
-$ /usr/bin/python3 -m pip install -U --user sage-conf
+$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf sage-conf
 ``` 
 
 
``````




---

archive/issue_comments_623514.json:
```json
{
    "body": "<a id='comment:69'></a>Unfortunately it turns out that PyPI does not allow `@` references in install requires (see https://github.com/pypa/pip/issues/6301)\n\n```\nHTTPError: 400 Bad Request from https://upload.pypi.org/legacy/\nInvalid value for requires_dist. Error: Can't have direct dependency: 'Cython @ https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/Cython-0.29.21-cp38-cp38-macosx_10_15_x86_64.whl'\n```",
    "created_at": "2021-04-04T04:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623514",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:69'></a>Unfortunately it turns out that PyPI does not allow `@` references in install requires (see https://github.com/pypa/pip/issues/6301)

```
HTTPError: 400 Bad Request from https://upload.pypi.org/legacy/
Invalid value for requires_dist. Error: Can't have direct dependency: 'Cython @ https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/Cython-0.29.21-cp38-cp38-macosx_10_15_x86_64.whl'
```



---

archive/issue_comments_623515.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n **Instructions for testing:**\n \n ```\n-$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf sage-conf\n+$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n ``` \n \n \n``````\n",
    "created_at": "2021-04-04T05:16:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623515",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 **Instructions for testing:**
 
 ```
-$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf sage-conf
+$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
 ``` 
 
 
``````




---

archive/issue_comments_623516.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,10 +2,11 @@\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n-So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.\n+So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  \n \n The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on \n-https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.\n+https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. \n+Hence, the pip invocation needs to use a URL.\n \n **Instructions for testing:**\n \n``````\n",
    "created_at": "2021-04-04T05:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623516",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,10 +2,11 @@
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
-So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.
+So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  
 
 The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on 
-https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.
+https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. 
+Hence, the pip invocation needs to use a URL.
 
 **Instructions for testing:**
 
``````




---

archive/issue_comments_623517.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,17 +14,19 @@\n $ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n ``` \n \n-\n-\n **Procedure for building the sage_conf wheel and compatible wheels:**\n \n \n-For building a wheel on macOS that uses XCode python 3.8:\n+For building wheels on macOS that uses XCode python 3.8:\n \n ```\n $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)\n ```\n+\n+This creates:\n+- src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n+- src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n \n \n \n``````\n",
    "created_at": "2021-04-04T21:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623517",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,17 +14,19 @@
 $ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
 ``` 
 
-
-
 **Procedure for building the sage_conf wheel and compatible wheels:**
 
 
-For building a wheel on macOS that uses XCode python 3.8:
+For building wheels on macOS that uses XCode python 3.8:
 
 ```
 $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
 (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)
 ```
+
+This creates:
+- src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
+- src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl
 
 
 
``````




---

archive/issue_comments_623518.json:
```json
{
    "body": "Changing commit from \"40492737081faab49c4af8f6445237873f7670a6\" to \"5871e7cb441c2fc43c71823b15355d28c9397d96\"",
    "created_at": "2021-04-04T21:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "40492737081faab49c4af8f6445237873f7670a6" to "5871e7cb441c2fc43c71823b15355d28c9397d96"



---

archive/issue_comments_623519.json:
```json
{
    "body": "<a id='comment:73'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T21:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:73'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623520.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,9 @@\n **Instructions for testing:**\n \n ```\n-$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n+$ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin\n+$ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n+$ sage\n ``` \n \n **Procedure for building the sage_conf wheel and compatible wheels:**\n@@ -29,7 +31,6 @@\n - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n \n \n-\n **Follow-up steps:** \n - do not ship the Cython wheel; disable building all sphinx packages; build sagelib too; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n``````\n",
    "created_at": "2021-04-04T23:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623520",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,9 @@
 **Instructions for testing:**
 
 ```
-$ /usr/bin/python3 -m pip install -U --user --only-binary sage-conf https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
+$ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin
+$ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
+$ sage
 ``` 
 
 **Procedure for building the sage_conf wheel and compatible wheels:**
@@ -29,7 +31,6 @@
 - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl
 
 
-
 **Follow-up steps:** 
 - do not ship the Cython wheel; disable building all sphinx packages; build sagelib too; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
 - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
``````




---

archive/issue_comments_623521.json:
```json
{
    "body": "Changing commit from \"5871e7cb441c2fc43c71823b15355d28c9397d96\" to \"6a3d3807c0029781829b0d50bedecfd5acd38dcd\"",
    "created_at": "2021-04-04T23:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623521",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5871e7cb441c2fc43c71823b15355d28c9397d96" to "6a3d3807c0029781829b0d50bedecfd5acd38dcd"



---

archive/issue_comments_623522.json:
```json
{
    "body": "<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T23:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623522",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623523.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -32,6 +32,7 @@\n \n \n **Follow-up steps:** \n-- do not ship the Cython wheel; disable building all sphinx packages; build sagelib too; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n+- build wheels for `manylinux` using `tox -e docker-manylinux....`\n+- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2021-04-05T00:05:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623523",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -32,6 +32,7 @@
 
 
 **Follow-up steps:** 
-- do not ship the Cython wheel; disable building all sphinx packages; build sagelib too; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
+- build wheels for `manylinux` using `tox -e docker-manylinux....`
+- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
 - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_comments_623524.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-04-05T02:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623524",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_623525.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,8 @@\n The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on \n https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. \n Hence, the pip invocation needs to use a URL.\n+\n+(See also https://twitter.com/mkoeppe_math/status/1378860285537054723)\n \n **Instructions for testing:**\n \n``````\n",
    "created_at": "2021-04-05T05:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623525",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,8 @@
 The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on 
 https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. 
 Hence, the pip invocation needs to use a URL.
+
+(See also https://twitter.com/mkoeppe_math/status/1378860285537054723)
 
 **Instructions for testing:**
 
``````




---

archive/issue_comments_623526.json:
```json
{
    "body": "<a id='comment:79'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-06T04:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623526",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:79'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623527.json:
```json
{
    "body": "Changing commit from \"6a3d3807c0029781829b0d50bedecfd5acd38dcd\" to \"cabb70600d58aaf706166e6dd100b22975ba99c2\"",
    "created_at": "2021-04-06T04:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623527",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6a3d3807c0029781829b0d50bedecfd5acd38dcd" to "cabb70600d58aaf706166e6dd100b22975ba99c2"



---

archive/issue_comments_623528.json:
```json
{
    "body": "Changing commit from \"cabb70600d58aaf706166e6dd100b22975ba99c2\" to \"2cb38149fff1211022145aa23a11c3eb10fd9946\"",
    "created_at": "2021-04-06T04:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623528",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cabb70600d58aaf706166e6dd100b22975ba99c2" to "2cb38149fff1211022145aa23a11c3eb10fd9946"



---

archive/issue_comments_623529.json:
```json
{
    "body": "<a id='comment:80'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-06T04:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:80'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623530.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31409, #31521, #31552, #31562, #31567, #29013\" to \"#29039, #31409, #31521, #31552, #31562, #31567, #29013, #31338\"",
    "created_at": "2021-04-06T04:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623530",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31409, #31521, #31552, #31562, #31567, #29013" to "#29039, #31409, #31521, #31552, #31562, #31567, #29013, #31338"



---

archive/issue_comments_623531.json:
```json
{
    "body": "<a id='comment:82'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T00:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623531",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:82'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623532.json:
```json
{
    "body": "Changing commit from \"2cb38149fff1211022145aa23a11c3eb10fd9946\" to \"a19f514aca8705e8f6d3340ea3367ea60e7c1ff4\"",
    "created_at": "2021-04-07T00:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623532",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2cb38149fff1211022145aa23a11c3eb10fd9946" to "a19f514aca8705e8f6d3340ea3367ea60e7c1ff4"



---

archive/issue_comments_623533.json:
```json
{
    "body": "Changing commit from \"a19f514aca8705e8f6d3340ea3367ea60e7c1ff4\" to \"7484dda7d88d41ca84b6f621b4726ae76d89609e\"",
    "created_at": "2021-04-07T00:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a19f514aca8705e8f6d3340ea3367ea60e7c1ff4" to "7484dda7d88d41ca84b6f621b4726ae76d89609e"



---

archive/issue_comments_623534.json:
```json
{
    "body": "<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T00:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623535.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31409, #31521, #31552, #31562, #31567, #29013, #31338\" to \"#29039, #31562, #31567, #29013, #31338\"",
    "created_at": "2021-04-07T00:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623535",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31409, #31521, #31552, #31562, #31567, #29013, #31338" to "#29039, #31562, #31567, #29013, #31338"



---

archive/issue_comments_623536.json:
```json
{
    "body": "<a id='comment:85'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T02:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:85'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623537.json:
```json
{
    "body": "Changing commit from \"7484dda7d88d41ca84b6f621b4726ae76d89609e\" to \"e523da72c6cb58e87101595e751c26fdbbb208c9\"",
    "created_at": "2021-04-07T02:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7484dda7d88d41ca84b6f621b4726ae76d89609e" to "e523da72c6cb58e87101595e751c26fdbbb208c9"



---

archive/issue_comments_623538.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,11 +27,22 @@\n $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)\n ```\n+or\n+\n+```\n+tox -e local-macos-10.15-nohomebrew-python3_xcode -- sage-wheels\n+```\n \n This creates:\n - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n \n+Build for Linux:\n+\n+```\n+$ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels\n+\n+```\n \n **Follow-up steps:** \n - build wheels for `manylinux` using `tox -e docker-manylinux....`\n``````\n",
    "created_at": "2021-04-07T05:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623538",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,11 +27,22 @@
 $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
 (tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)
 ```
+or
+
+```
+tox -e local-macos-10.15-nohomebrew-python3_xcode -- sage-wheels
+```
 
 This creates:
 - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
 - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl
 
+Build for Linux:
+
+```
+$ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels
+
+```
 
 **Follow-up steps:** 
 - build wheels for `manylinux` using `tox -e docker-manylinux....`
``````




---

archive/issue_comments_623539.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31562, #31567, #29013, #31338\" to \"#29039, #31562, #31567, #29013, #31338, #31427\"",
    "created_at": "2021-04-08T19:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623539",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31562, #31567, #29013, #31338" to "#29039, #31562, #31567, #29013, #31338, #31427"



---

archive/issue_comments_623540.json:
```json
{
    "body": "<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-08T19:55:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623540",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623541.json:
```json
{
    "body": "Changing commit from \"e523da72c6cb58e87101595e751c26fdbbb208c9\" to \"c080bbca5a26118d9ae5a5fd4b4a66f43f5c2eeb\"",
    "created_at": "2021-04-08T19:55:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e523da72c6cb58e87101595e751c26fdbbb208c9" to "c080bbca5a26118d9ae5a5fd4b4a66f43f5c2eeb"



---

archive/issue_comments_623542.json:
```json
{
    "body": "<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-08T22:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:89'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623543.json:
```json
{
    "body": "Changing commit from \"c080bbca5a26118d9ae5a5fd4b4a66f43f5c2eeb\" to \"22c214e2c09d80075a161b0b308045eef8fa3e7f\"",
    "created_at": "2021-04-08T22:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c080bbca5a26118d9ae5a5fd4b4a66f43f5c2eeb" to "22c214e2c09d80075a161b0b308045eef8fa3e7f"



---

archive/issue_comments_623544.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -46,6 +46,7 @@\n \n **Follow-up steps:** \n - build wheels for `manylinux` using `tox -e docker-manylinux....`\n+  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`)\n - disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2021-04-09T01:51:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623544",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -46,6 +46,7 @@
 
 **Follow-up steps:** 
 - build wheels for `manylinux` using `tox -e docker-manylinux....`
+  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`)
 - disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
 - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_comments_623545.json:
```json
{
    "body": "<a id='comment:91'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-09T02:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623545",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:91'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623546.json:
```json
{
    "body": "Changing commit from \"22c214e2c09d80075a161b0b308045eef8fa3e7f\" to \"79e2ef4ba990356d39bbc01021a5570e48831681\"",
    "created_at": "2021-04-09T02:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623546",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "22c214e2c09d80075a161b0b308045eef8fa3e7f" to "79e2ef4ba990356d39bbc01021a5570e48831681"



---

archive/issue_comments_623547.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -46,6 +46,7 @@\n \n **Follow-up steps:** \n - build wheels for `manylinux` using `tox -e docker-manylinux....`\n+  - wheel is much too big: 2.3GB\n   - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`)\n - disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n``````\n",
    "created_at": "2021-04-09T02:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623547",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -46,6 +46,7 @@
 
 **Follow-up steps:** 
 - build wheels for `manylinux` using `tox -e docker-manylinux....`
+  - wheel is much too big: 2.3GB
   - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`)
 - disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
 - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
``````




---

archive/issue_comments_623548.json:
```json
{
    "body": "Changing commit from \"79e2ef4ba990356d39bbc01021a5570e48831681\" to \"cc8297ca08d46c736fda5bc2d226326b2ae3da95\"",
    "created_at": "2021-04-10T18:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623548",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "79e2ef4ba990356d39bbc01021a5570e48831681" to "cc8297ca08d46c736fda5bc2d226326b2ae3da95"



---

archive/issue_comments_623549.json:
```json
{
    "body": "<a id='comment:93'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-10T18:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:93'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623550.json:
```json
{
    "body": "<a id='comment:94'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T16:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:94'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623551.json:
```json
{
    "body": "Changing commit from \"cc8297ca08d46c736fda5bc2d226326b2ae3da95\" to \"b54e77a8c88b860ac1c5800a0eadbec7385ec98e\"",
    "created_at": "2021-04-11T16:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623551",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cc8297ca08d46c736fda5bc2d226326b2ae3da95" to "b54e77a8c88b860ac1c5800a0eadbec7385ec98e"



---

archive/issue_comments_623552.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31562, #31567, #29013, #31338, #31427\" to \"#29039, #31562, #31567, #29013, #31338, #31427, #28890\"",
    "created_at": "2021-04-11T17:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623552",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31562, #31567, #29013, #31338, #31427" to "#29039, #31562, #31567, #29013, #31338, #31427, #28890"



---

archive/issue_comments_623553.json:
```json
{
    "body": "Changing commit from \"b54e77a8c88b860ac1c5800a0eadbec7385ec98e\" to \"4dcd1358c6ec1f773356701a5e52329776a653d8\"",
    "created_at": "2021-04-11T17:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623553",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b54e77a8c88b860ac1c5800a0eadbec7385ec98e" to "4dcd1358c6ec1f773356701a5e52329776a653d8"



---

archive/issue_comments_623554.json:
```json
{
    "body": "<a id='comment:96'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T17:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:96'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623555.json:
```json
{
    "body": "Changing commit from \"4dcd1358c6ec1f773356701a5e52329776a653d8\" to \"6f7819ee24e648867fe91f1e9f2536f27ff10133\"",
    "created_at": "2021-04-11T17:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623555",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4dcd1358c6ec1f773356701a5e52329776a653d8" to "6f7819ee24e648867fe91f1e9f2536f27ff10133"



---

archive/issue_comments_623556.json:
```json
{
    "body": "<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T17:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623556",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623557.json:
```json
{
    "body": "Changing commit from \"6f7819ee24e648867fe91f1e9f2536f27ff10133\" to \"9ab6db9a51719cc2cfbf0f244143d6a59005f1fb\"",
    "created_at": "2021-05-11T03:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623557",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6f7819ee24e648867fe91f1e9f2536f27ff10133" to "9ab6db9a51719cc2cfbf0f244143d6a59005f1fb"



---

archive/issue_comments_623558.json:
```json
{
    "body": "<a id='comment:98'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T03:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:98'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623559.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31562, #31567, #29013, #31338, #31427, #28890\" to \"#29039, #31338, #28890\"",
    "created_at": "2021-06-04T19:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623559",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31562, #31567, #29013, #31338, #31427, #28890" to "#29039, #31338, #28890"



---

archive/issue_comments_623560.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31338, #28890\" to \"#29039, #31338, #29617\"",
    "created_at": "2021-06-06T20:17:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623560",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31338, #28890" to "#29039, #31338, #29617"



---

archive/issue_comments_623561.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-06T20:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623561",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623562.json:
```json
{
    "body": "Changing commit from \"9ab6db9a51719cc2cfbf0f244143d6a59005f1fb\" to \"ce5104854ea85eed635dfe5ce81da7f55fcd46e1\"",
    "created_at": "2021-06-06T20:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623562",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9ab6db9a51719cc2cfbf0f244143d6a59005f1fb" to "ce5104854ea85eed635dfe5ce81da7f55fcd46e1"



---

archive/issue_comments_623563.json:
```json
{
    "body": "Changing commit from \"ce5104854ea85eed635dfe5ce81da7f55fcd46e1\" to \"52d669df18cf3b2d4396094bcd4ab99049fb7d33\"",
    "created_at": "2021-06-07T02:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ce5104854ea85eed635dfe5ce81da7f55fcd46e1" to "52d669df18cf3b2d4396094bcd4ab99049fb7d33"



---

archive/issue_comments_623564.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T02:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623565.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T02:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623566.json:
```json
{
    "body": "Changing commit from \"52d669df18cf3b2d4396094bcd4ab99049fb7d33\" to \"55122f3fbfc95f2ef58786b65ef17d8dc6e52037\"",
    "created_at": "2021-06-07T02:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "52d669df18cf3b2d4396094bcd4ab99049fb7d33" to "55122f3fbfc95f2ef58786b65ef17d8dc6e52037"



---

archive/issue_comments_623567.json:
```json
{
    "body": "Changing commit from \"55122f3fbfc95f2ef58786b65ef17d8dc6e52037\" to \"ff58be39968b29d031676ded20286080d2a05feb\"",
    "created_at": "2021-06-07T18:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "55122f3fbfc95f2ef58786b65ef17d8dc6e52037" to "ff58be39968b29d031676ded20286080d2a05feb"



---

archive/issue_comments_623568.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T18:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623569.json:
```json
{
    "body": "<a id='comment:5'></a>Installation with `/usr/bin/python3 -m pip install -I --user https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sage_conf-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sagemath_standard-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl` fails with:\n\n```\nCollecting argon2-cffi (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.5.1->sagemath-standard==9.4b1)\n  Downloading https://files.pythonhosted.org/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz (1.8MB)\n[...]\nFailed to build argon2-cffi\n```",
    "created_at": "2021-06-07T23:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623569",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Installation with `/usr/bin/python3 -m pip install -I --user https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sage_conf-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sagemath_standard-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl` fails with:

```
Collecting argon2-cffi (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.5.1->sagemath-standard==9.4b1)
  Downloading https://files.pythonhosted.org/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz (1.8MB)
[...]
Failed to build argon2-cffi
```



---

archive/issue_comments_623570.json:
```json
{
    "body": "<a id='comment:6'></a>#29039 is listed as a dependency, is it an error?",
    "created_at": "2021-06-08T11:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623570",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>#29039 is listed as a dependency, is it an error?



---

archive/issue_comments_623571.json:
```json
{
    "body": "<a id='comment:7'></a>No, that's correct",
    "created_at": "2021-06-09T13:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623571",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>No, that's correct



---

archive/issue_comments_623572.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T07:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_623573.json:
```json
{
    "body": "Changing commit from \"ff58be39968b29d031676ded20286080d2a05feb\" to \"1c35e0f48ac8edca91037980292f732692490e89\"",
    "created_at": "2021-06-25T07:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ff58be39968b29d031676ded20286080d2a05feb" to "1c35e0f48ac8edca91037980292f732692490e89"



---

archive/issue_comments_623574.json:
```json
{
    "body": "Changing dependencies from \"#29039, #31338, #29617\" to \"#29039\"",
    "created_at": "2021-06-25T07:31:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623574",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #31338, #29617" to "#29039"



---

archive/issue_comments_623575.json:
```json
{
    "body": "<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T19:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_623576.json:
```json
{
    "body": "Changing commit from \"1c35e0f48ac8edca91037980292f732692490e89\" to \"59d5a9f99135a2a7965d6c6d041f90aea92d1d6f\"",
    "created_at": "2021-06-25T19:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1c35e0f48ac8edca91037980292f732692490e89" to "59d5a9f99135a2a7965d6c6d041f90aea92d1d6f"



---

archive/issue_comments_623577.json:
```json
{
    "body": "Changing commit from \"59d5a9f99135a2a7965d6c6d041f90aea92d1d6f\" to \"6b7bce6f59de8679622082d65feae52945f0cb8a\"",
    "created_at": "2021-06-25T19:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "59d5a9f99135a2a7965d6c6d041f90aea92d1d6f" to "6b7bce6f59de8679622082d65feae52945f0cb8a"



---

archive/issue_comments_623578.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-06-25T19:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623579.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T20:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623579",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_623580.json:
```json
{
    "body": "Changing commit from \"6b7bce6f59de8679622082d65feae52945f0cb8a\" to \"d9554e3422f62a88d3e87fa7449321fa0bdd3664\"",
    "created_at": "2021-06-25T20:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6b7bce6f59de8679622082d65feae52945f0cb8a" to "d9554e3422f62a88d3e87fa7449321fa0bdd3664"



---

archive/issue_comments_623581.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,7 +21,7 @@\n **Procedure for building the sage_conf wheel and compatible wheels:**\n \n \n-For building wheels on macOS that uses XCode python 3.8:\n+For building wheels on macOS Catalina that uses XCode python 3.8:\n \n ```\n $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n@@ -30,12 +30,20 @@\n or\n \n ```\n-tox -e local-macos-10.15-nohomebrew-python3_xcode -- sage-wheels\n+tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n ```\n \n This creates:\n - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n+\n+\n+Build for macOS Big Sur:\n+\n+```\n+tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n+```\n+\n \n Build for Linux:\n \n``````\n",
    "created_at": "2021-06-26T13:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623581",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,7 +21,7 @@
 **Procedure for building the sage_conf wheel and compatible wheels:**
 
 
-For building wheels on macOS that uses XCode python 3.8:
+For building wheels on macOS Catalina that uses XCode python 3.8:
 
 ```
 $ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
@@ -30,12 +30,20 @@
 or
 
 ```
-tox -e local-macos-10.15-nohomebrew-python3_xcode -- sage-wheels
+tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
 ```
 
 This creates:
 - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
 - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl
+
+
+Build for macOS Big Sur:
+
+```
+tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
+```
+
 
 Build for Linux:
 
``````




---

archive/issue_comments_623582.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-26T18:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623583.json:
```json
{
    "body": "Changing commit from \"d9554e3422f62a88d3e87fa7449321fa0bdd3664\" to \"76f53c74420a32c972b90096432ba37fe8e15d9f\"",
    "created_at": "2021-06-26T18:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d9554e3422f62a88d3e87fa7449321fa0bdd3664" to "76f53c74420a32c972b90096432ba37fe8e15d9f"



---

archive/issue_comments_623584.json:
```json
{
    "body": "<a id='comment:5'></a><deleted - meant to be on #31456>",
    "created_at": "2021-06-27T10:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623584",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a><deleted - meant to be on #31456>



---

archive/issue_comments_623585.json:
```json
{
    "body": "Changing commit from \"76f53c74420a32c972b90096432ba37fe8e15d9f\" to \"744b58ec2c143cfc43bb31f1e329026f826f8262\"",
    "created_at": "2021-07-24T19:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "76f53c74420a32c972b90096432ba37fe8e15d9f" to "744b58ec2c143cfc43bb31f1e329026f826f8262"



---

archive/issue_comments_623586.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-24T19:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_events_082251.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:59:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82251"
}
```



---

archive/issue_events_082252.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:59:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82252"
}
```



---

archive/issue_comments_623587.json:
```json
{
    "body": "Changing commit from \"744b58ec2c143cfc43bb31f1e329026f826f8262\" to \"bab6c0c6c4360fd391d0a63ae3d29c1c9b50c909\"",
    "created_at": "2021-08-12T21:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "744b58ec2c143cfc43bb31f1e329026f826f8262" to "bab6c0c6c4360fd391d0a63ae3d29c1c9b50c909"



---

archive/issue_comments_623588.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T21:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623589.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -41,7 +41,7 @@\n Build for macOS Big Sur:\n \n ```\n-tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n+tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n ```\n \n \n``````\n",
    "created_at": "2021-08-12T21:50:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623589",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -41,7 +41,7 @@
 Build for macOS Big Sur:
 
 ```
-tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
+tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
 ```
 
 
``````




---

archive/issue_comments_623590.json:
```json
{
    "body": "Changing commit from \"bab6c0c6c4360fd391d0a63ae3d29c1c9b50c909\" to \"e4b1a959b399e81202f106740f6ce314fc16290e\"",
    "created_at": "2021-08-12T22:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bab6c0c6c4360fd391d0a63ae3d29c1c9b50c909" to "e4b1a959b399e81202f106740f6ce314fc16290e"



---

archive/issue_comments_623591.json:
```json
{
    "body": "<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T22:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623591",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623592.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-09-27T04:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623592",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623593.json:
```json
{
    "body": "Changing commit from \"e4b1a959b399e81202f106740f6ce314fc16290e\" to \"e28f974cf6e7b758b6e5bf8d6951b4a842f856e8\"",
    "created_at": "2021-09-27T04:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623593",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e4b1a959b399e81202f106740f6ce314fc16290e" to "e28f974cf6e7b758b6e5bf8d6951b4a842f856e8"



---

archive/issue_comments_623594.json:
```json
{
    "body": "Changing commit from \"e28f974cf6e7b758b6e5bf8d6951b4a842f856e8\" to \"1851bcb9020959472fbacc995fd609bf169f5c1f\"",
    "created_at": "2021-09-28T01:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e28f974cf6e7b758b6e5bf8d6951b4a842f856e8" to "1851bcb9020959472fbacc995fd609bf169f5c1f"



---

archive/issue_comments_623595.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-28T01:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623596.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -55,7 +55,7 @@\n **Follow-up steps:** \n - build wheels for `manylinux` using `tox -e docker-manylinux....`\n   - wheel is much too big: 2.3GB\n-  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`)\n+  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`\n - disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2021-10-10T06:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623596",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -55,7 +55,7 @@
 **Follow-up steps:** 
 - build wheels for `manylinux` using `tox -e docker-manylinux....`
   - wheel is much too big: 2.3GB
-  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`)
+  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`
 - disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
 - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_comments_623597.json:
```json
{
    "body": "<a id='comment:4'></a>On Linux, `PATH` in testing instructions should start from `$HOME/.local/lib/python3.8` or something like this. There is no `~/Library`, that's macOS-only.",
    "created_at": "2021-10-14T10:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623597",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>On Linux, `PATH` in testing instructions should start from `$HOME/.local/lib/python3.8` or something like this. There is no `~/Library`, that's macOS-only.



---

archive/issue_comments_623598.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,9 +12,21 @@\n \n **Instructions for testing:**\n \n+1. Make sure that the `bin` directory of the user installation scheme is in `PATH`. For example, on macOS:\n+\n ```\n $ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin\n+```\n+\n+2. Install the wheel in the user scheme:\n+\n+```\n $ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n+```\n+\n+3. Run the installed sage.\n+\n+```\n $ sage\n ``` \n \n``````\n",
    "created_at": "2021-10-23T17:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623598",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,9 +12,21 @@
 
 **Instructions for testing:**
 
+1. Make sure that the `bin` directory of the user installation scheme is in `PATH`. For example, on macOS:
+
 ```
 $ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin
+```
+
+2. Install the wheel in the user scheme:
+
+```
 $ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
+```
+
+3. Run the installed sage.
+
+```
 $ sage
 ``` 
 
``````




---

archive/issue_comments_623599.json:
```json
{
    "body": "Changing commit from \"1851bcb9020959472fbacc995fd609bf169f5c1f\" to \"2901e33d5ae01437e876ad4b2ef62e22a8c527cd\"",
    "created_at": "2021-10-25T03:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623599",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1851bcb9020959472fbacc995fd609bf169f5c1f" to "2901e33d5ae01437e876ad4b2ef62e22a8c527cd"



---

archive/issue_comments_623600.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-25T03:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623601.json:
```json
{
    "body": "Changing commit from \"2901e33d5ae01437e876ad4b2ef62e22a8c527cd\" to \"15902ee007385e4ffddf1b4d07e9d19a27361784\"",
    "created_at": "2021-11-13T06:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623601",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2901e33d5ae01437e876ad4b2ef62e22a8c527cd" to "15902ee007385e4ffddf1b4d07e9d19a27361784"



---

archive/issue_comments_623602.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-11-13T06:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_623603.json:
```json
{
    "body": "<a id='comment:8'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623603",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_082253.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82253"
}
```



---

archive/issue_events_082254.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82254"
}
```



---

archive/issue_comments_623604.json:
```json
{
    "body": "Changing dependencies from \"#29039\" to \"#29039, #32759\"",
    "created_at": "2022-01-01T01:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623604",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039" to "#29039, #32759"



---

archive/issue_comments_623605.json:
```json
{
    "body": "Changing commit from \"15902ee007385e4ffddf1b4d07e9d19a27361784\" to \"b572416b51df207a009adf31996021e7339236aa\"",
    "created_at": "2022-01-01T01:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "15902ee007385e4ffddf1b4d07e9d19a27361784" to "b572416b51df207a009adf31996021e7339236aa"



---

archive/issue_comments_623606.json:
```json
{
    "body": "<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-01-01T01:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623606",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623607.json:
```json
{
    "body": "Changing dependencies from \"#29039, #32759\" to \"#29039, #32759, #33068\"",
    "created_at": "2022-01-01T01:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623607",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #32759" to "#29039, #32759, #33068"



---

archive/issue_comments_623608.json:
```json
{
    "body": "Changing commit from \"b572416b51df207a009adf31996021e7339236aa\" to \"f3bf7eaad9615426ee47898614ad012788acc147\"",
    "created_at": "2022-01-01T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b572416b51df207a009adf31996021e7339236aa" to "f3bf7eaad9615426ee47898614ad012788acc147"



---

archive/issue_comments_623609.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-01-01T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623610.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T02:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623611.json:
```json
{
    "body": "Changing commit from \"f3bf7eaad9615426ee47898614ad012788acc147\" to \"ed73fe3490322a2a5fab3d64ffdbb0bfc5e38134\"",
    "created_at": "2022-01-01T02:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f3bf7eaad9615426ee47898614ad012788acc147" to "ed73fe3490322a2a5fab3d64ffdbb0bfc5e38134"



---

archive/issue_comments_623612.json:
```json
{
    "body": "Changing commit from \"ed73fe3490322a2a5fab3d64ffdbb0bfc5e38134\" to \"6ce82f7f26aabe0c7b14859586ee634d1936614c\"",
    "created_at": "2022-01-01T02:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ed73fe3490322a2a5fab3d64ffdbb0bfc5e38134" to "6ce82f7f26aabe0c7b14859586ee634d1936614c"



---

archive/issue_comments_623613.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T02:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623614.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T03:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623615.json:
```json
{
    "body": "Changing commit from \"6ce82f7f26aabe0c7b14859586ee634d1936614c\" to \"14e83dc2c75ba3270b1534cf2faad52871de15c4\"",
    "created_at": "2022-01-01T03:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6ce82f7f26aabe0c7b14859586ee634d1936614c" to "14e83dc2c75ba3270b1534cf2faad52871de15c4"



---

archive/issue_comments_623616.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T05:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623617.json:
```json
{
    "body": "Changing commit from \"14e83dc2c75ba3270b1534cf2faad52871de15c4\" to \"bddc117119b05f4ae4a0618eee2ab37a71fd64a3\"",
    "created_at": "2022-01-01T05:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "14e83dc2c75ba3270b1534cf2faad52871de15c4" to "bddc117119b05f4ae4a0618eee2ab37a71fd64a3"



---

archive/issue_comments_623618.json:
```json
{
    "body": "<a id='comment:7'></a>To avoid the duplication between the two versions of `sage_conf.py.in`, could do what was suggested in #29039#comment:148 - split module `sage_conf` into several modules of a `sage_conf` package",
    "created_at": "2022-01-01T06:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623618",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>To avoid the duplication between the two versions of `sage_conf.py.in`, could do what was suggested in #29039#comment:148 - split module `sage_conf` into several modules of a `sage_conf` package



---

archive/issue_comments_623619.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T19:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623620.json:
```json
{
    "body": "Changing commit from \"bddc117119b05f4ae4a0618eee2ab37a71fd64a3\" to \"83c749ecfe11eb4e6064701d38962bfd33eef1c6\"",
    "created_at": "2022-01-01T19:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bddc117119b05f4ae4a0618eee2ab37a71fd64a3" to "83c749ecfe11eb4e6064701d38962bfd33eef1c6"



---

archive/issue_comments_623621.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n+\n+**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants.**\n+\n \n So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  \n \n``````\n",
    "created_at": "2022-01-01T19:50:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623621",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
 This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
+
+**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants.**
+
 
 So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  
 
``````




---

archive/issue_comments_623622.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-02T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623622",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_623623.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Uninstallation of script package sage_conf\"",
    "created_at": "2022-01-02T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623623",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "Uninstallation of script package sage_conf"



---

archive/issue_comments_623624.json:
```json
{
    "body": "<a id='comment:0'></a>Need to get uninstallation of script package `sage_conf` fixed, or switching between branches with `sage_conf.py` and branches with `sage_conf/` will be tricky",
    "created_at": "2022-01-02T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623624",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>Need to get uninstallation of script package `sage_conf` fixed, or switching between branches with `sage_conf.py` and branches with `sage_conf/` will be tricky



---

archive/issue_comments_623625.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-11T17:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623626.json:
```json
{
    "body": "Changing commit from \"83c749ecfe11eb4e6064701d38962bfd33eef1c6\" to \"0f998d2180c7c79bc913ce635c2576b6af2dd335\"",
    "created_at": "2022-01-11T17:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "83c749ecfe11eb4e6064701d38962bfd33eef1c6" to "0f998d2180c7c79bc913ce635c2576b6af2dd335"



---

archive/issue_comments_623627.json:
```json
{
    "body": "Changing dependencies from \"#29039, #32759, #33068\" to \"\"",
    "created_at": "2022-01-11T17:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623627",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29039, #32759, #33068" to ""



---

archive/issue_comments_623628.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-11T20:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623628",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623629.json:
```json
{
    "body": "Changing commit from \"0f998d2180c7c79bc913ce635c2576b6af2dd335\" to \"e913510956cb4cb5bd6b5b1b8fc407bea8ffa622\"",
    "created_at": "2022-01-11T20:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623629",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0f998d2180c7c79bc913ce635c2576b6af2dd335" to "e913510956cb4cb5bd6b5b1b8fc407bea8ffa622"



---

archive/issue_comments_623630.json:
```json
{
    "body": "Changing work_issues from \"Uninstallation of script package sage_conf\" to \"\"",
    "created_at": "2022-01-11T20:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623630",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Uninstallation of script package sage_conf" to ""



---

archive/issue_comments_623631.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,9 @@\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n \n-**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants.**\n+**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants:**\n+- The `configure`-generated configuration file is now `pkgs/sage-conf/_sage_conf/_conf.py`\n+- The file `pkgs/sage-conf/sage_conf.py` is now static\n \n \n So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  \n``````\n",
    "created_at": "2022-01-11T20:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623631",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,9 @@
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
 
-**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants.**
+**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants:**
+- The `configure`-generated configuration file is now `pkgs/sage-conf/_sage_conf/_conf.py`
+- The file `pkgs/sage-conf/sage_conf.py` is now static
 
 
 So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  
``````




---

archive/issue_comments_623632.json:
```json
{
    "body": "Changing commit from \"e913510956cb4cb5bd6b5b1b8fc407bea8ffa622\" to \"8da2c8a06374b16a296b1ed5fae45c9ad2687579\"",
    "created_at": "2022-01-11T20:36:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623632",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e913510956cb4cb5bd6b5b1b8fc407bea8ffa622" to "8da2c8a06374b16a296b1ed5fae45c9ad2687579"



---

archive/issue_comments_623633.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:36:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623634.json:
```json
{
    "body": "Changing commit from \"8da2c8a06374b16a296b1ed5fae45c9ad2687579\" to \"4079962aad4156699878ab320c9dc49372c0cb95\"",
    "created_at": "2022-01-11T20:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8da2c8a06374b16a296b1ed5fae45c9ad2687579" to "4079962aad4156699878ab320c9dc49372c0cb95"



---

archive/issue_comments_623635.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623636.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623637.json:
```json
{
    "body": "Changing commit from \"4079962aad4156699878ab320c9dc49372c0cb95\" to \"06bbe15098ac1459b27460c366a8f887f810c87a\"",
    "created_at": "2022-01-11T20:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4079962aad4156699878ab320c9dc49372c0cb95" to "06bbe15098ac1459b27460c366a8f887f810c87a"



---

archive/issue_comments_623638.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T21:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623639.json:
```json
{
    "body": "Changing commit from \"06bbe15098ac1459b27460c366a8f887f810c87a\" to \"755338afc4308fab07737e52e90dab5bdb08e85e\"",
    "created_at": "2022-01-11T21:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "06bbe15098ac1459b27460c366a8f887f810c87a" to "755338afc4308fab07737e52e90dab5bdb08e85e"



---

archive/issue_comments_623640.json:
```json
{
    "body": "Changing commit from \"755338afc4308fab07737e52e90dab5bdb08e85e\" to \"e142d32fa205d2a0ef0d83424d141be0fd5482fd\"",
    "created_at": "2022-01-11T21:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "755338afc4308fab07737e52e90dab5bdb08e85e" to "e142d32fa205d2a0ef0d83424d141be0fd5482fd"



---

archive/issue_comments_623641.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T21:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_623642.json:
```json
{
    "body": "<a id='comment:0'></a>`tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`\ncurrently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`",
    "created_at": "2022-01-12T00:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623642",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>`tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`
currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`



---

archive/issue_comments_623643.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#33151\"",
    "created_at": "2022-01-12T01:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623643",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#33151"



---

archive/issue_comments_623644.json:
```json
{
    "body": "Changing commit from \"e142d32fa205d2a0ef0d83424d141be0fd5482fd\" to \"61aa7313282d7996a65b4ed8bfc8603237512d52\"",
    "created_at": "2022-01-16T20:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623644",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e142d32fa205d2a0ef0d83424d141be0fd5482fd" to "61aa7313282d7996a65b4ed8bfc8603237512d52"



---

archive/issue_comments_623645.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-16T20:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623645",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623646.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-16T20:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623647.json:
```json
{
    "body": "Changing commit from \"61aa7313282d7996a65b4ed8bfc8603237512d52\" to \"3b617964c5188f876ce9a9a1505475a483c84c8d\"",
    "created_at": "2022-01-16T20:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623647",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "61aa7313282d7996a65b4ed8bfc8603237512d52" to "3b617964c5188f876ce9a9a1505475a483c84c8d"



---

archive/issue_comments_623648.json:
```json
{
    "body": "Changing commit from \"3b617964c5188f876ce9a9a1505475a483c84c8d\" to \"9e2d6fc2386de282c23a470954a045331c055b48\"",
    "created_at": "2022-01-17T00:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623648",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3b617964c5188f876ce9a9a1505475a483c84c8d" to "9e2d6fc2386de282c23a470954a045331c055b48"



---

archive/issue_comments_623649.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T00:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623650.json:
```json
{
    "body": "Changing commit from \"9e2d6fc2386de282c23a470954a045331c055b48\" to \"2b9cf2aeb426430669fd907ede900944e01b4ace\"",
    "created_at": "2022-01-17T01:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9e2d6fc2386de282c23a470954a045331c055b48" to "2b9cf2aeb426430669fd907ede900944e01b4ace"



---

archive/issue_comments_623651.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T01:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623651",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623652.json:
```json
{
    "body": "<a id='comment:156'></a>Replying to [comment:150 mkoeppe]:\n> `tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`\n> currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`\n\n\nThat was caused by trash in `pkgs/sage-conf_relocatable/build/`",
    "created_at": "2022-01-17T01:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623652",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:156'></a>Replying to [comment:150 mkoeppe]:
> `tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`
> currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`


That was caused by trash in `pkgs/sage-conf_relocatable/build/`



---

archive/issue_comments_623653.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -73,6 +73,6 @@\n - build wheels for `manylinux` using `tox -e docker-manylinux....`\n   - wheel is much too big: 2.3GB\n   - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`\n-- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; \n+- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible -- for example by storing a tar file `sage_root.tar` (with symlinks) instead of including the sage root as a directory - https://docs.python.org/3/library/tarfile.html#tarfile.open \n - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n \n``````\n",
    "created_at": "2022-01-17T01:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623653",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -73,6 +73,6 @@
 - build wheels for `manylinux` using `tox -e docker-manylinux....`
   - wheel is much too big: 2.3GB
   - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`
-- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible; 
+- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible -- for example by storing a tar file `sage_root.tar` (with symlinks) instead of including the sage root as a directory - https://docs.python.org/3/library/tarfile.html#tarfile.open 
 - #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.
 
``````




---

archive/issue_comments_623654.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -54,11 +54,16 @@\n - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n \n-\n Build for macOS Big Sur:\n \n ```\n tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n+```\n+\n+Build for macOS Monterey:\n+\n+```\n+tox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n ```\n \n \n``````\n",
    "created_at": "2022-01-17T04:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623654",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -54,11 +54,16 @@
 - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
 - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl
 
-
 Build for macOS Big Sur:
 
 ```
 tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
+```
+
+Build for macOS Monterey:
+
+```
+tox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
 ```
 
 
``````




---

archive/issue_comments_623655.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -54,13 +54,13 @@\n - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n \n-Build for macOS Big Sur:\n+Build for macOS Big Sur (requires a machine running Big Sur or Monterey):\n \n ```\n tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n ```\n \n-Build for macOS Monterey:\n+Build for macOS Monterey (requires a machine running Monterey)\n \n ```\n tox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n``````\n",
    "created_at": "2022-01-17T04:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623655",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -54,13 +54,13 @@
 - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
 - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl
 
-Build for macOS Big Sur:
+Build for macOS Big Sur (requires a machine running Big Sur or Monterey):
 
 ```
 tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
 ```
 
-Build for macOS Monterey:
+Build for macOS Monterey (requires a machine running Monterey)
 
 ```
 tox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
``````




---

archive/issue_comments_623656.json:
```json
{
    "body": "Changing commit from \"2b9cf2aeb426430669fd907ede900944e01b4ace\" to \"903408baa36d85abe7b65dc9124dcd9e7374dd50\"",
    "created_at": "2022-01-17T07:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2b9cf2aeb426430669fd907ede900944e01b4ace" to "903408baa36d85abe7b65dc9124dcd9e7374dd50"



---

archive/issue_comments_623657.json:
```json
{
    "body": "<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T07:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623658.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -75,6 +75,7 @@\n ```\n \n **Follow-up steps:** \n+- also build a **sagemath-standard** wheel\n - build wheels for `manylinux` using `tox -e docker-manylinux....`\n   - wheel is much too big: 2.3GB\n   - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`\n``````\n",
    "created_at": "2022-01-18T18:54:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623658",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -75,6 +75,7 @@
 ```
 
 **Follow-up steps:** 
+- also build a **sagemath-standard** wheel
 - build wheels for `manylinux` using `tox -e docker-manylinux....`
   - wheel is much too big: 2.3GB
   - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`
``````




---

archive/issue_comments_623659.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  \n \n The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on \n-https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. \n+https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. \n Hence, the pip invocation needs to use a URL.\n \n (See also https://twitter.com/mkoeppe_math/status/1378860285537054723)\n@@ -50,11 +50,11 @@\n tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n ```\n \n-This creates:\n+This creates (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)\n - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n \n-Build for macOS Big Sur (requires a machine running Big Sur or Monterey):\n+Build for macOS Big Sur (requires a machine running Big Sur or Monterey) (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)\n \n ```\n tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n@@ -67,7 +67,7 @@\n ```\n \n \n-Build for Linux:\n+Build for Linux (does not work yet):\n \n ```\n $ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels\n``````\n",
    "created_at": "2022-01-18T22:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623659",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  
 
 The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on 
-https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. 
+https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. 
 Hence, the pip invocation needs to use a URL.
 
 (See also https://twitter.com/mkoeppe_math/status/1378860285537054723)
@@ -50,11 +50,11 @@
 tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
 ```
 
-This creates:
+This creates (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)
 - src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
 - src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl
 
-Build for macOS Big Sur (requires a machine running Big Sur or Monterey):
+Build for macOS Big Sur (requires a machine running Big Sur or Monterey) (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)
 
 ```
 tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
@@ -67,7 +67,7 @@
 ```
 
 
-Build for Linux:
+Build for Linux (does not work yet):
 
 ```
 $ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels
``````




---

archive/issue_comments_623660.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-18T22:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623660",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_623661.json:
```json
{
    "body": "Changing commit from \"903408baa36d85abe7b65dc9124dcd9e7374dd50\" to \"43fdf0d869152a8ad20683900c11a9e2821ddfb0\"",
    "created_at": "2022-02-05T17:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623661",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "903408baa36d85abe7b65dc9124dcd9e7374dd50" to "43fdf0d869152a8ad20683900c11a9e2821ddfb0"



---

archive/issue_comments_623662.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-05T17:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623663.json:
```json
{
    "body": "Changing dependencies from \"#33151\" to \"\"",
    "created_at": "2022-02-05T17:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623663",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33151" to ""



---

archive/issue_comments_623664.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#33140\"",
    "created_at": "2022-02-05T17:36:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623664",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#33140"



---

archive/issue_comments_623665.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-05T17:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623666.json:
```json
{
    "body": "Changing commit from \"43fdf0d869152a8ad20683900c11a9e2821ddfb0\" to \"0e1323c9fbc8437dd65efeae82b72a82c1748dd9\"",
    "created_at": "2022-02-05T17:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "43fdf0d869152a8ad20683900c11a9e2821ddfb0" to "0e1323c9fbc8437dd65efeae82b72a82c1748dd9"



---

archive/issue_comments_623667.json:
```json
{
    "body": "Changing dependencies from \"#33140\" to \"#33140, #33295\"",
    "created_at": "2022-02-05T18:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623667",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33140" to "#33140, #33295"



---

archive/issue_events_082255.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82255"
}
```



---

archive/issue_events_082256.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82256"
}
```



---

archive/issue_comments_623668.json:
```json
{
    "body": "Changing commit from \"0e1323c9fbc8437dd65efeae82b72a82c1748dd9\" to \"aa75075d848af42b9c69f9a917a1cff81e89f6ff\"",
    "created_at": "2022-05-03T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623668",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e1323c9fbc8437dd65efeae82b72a82c1748dd9" to "aa75075d848af42b9c69f9a917a1cff81e89f6ff"



---

archive/issue_comments_623669.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-03T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623670.json:
```json
{
    "body": "<a id='comment:0'></a>There seem to be merge conflicts.",
    "created_at": "2022-06-16T18:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623670",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:0'></a>There seem to be merge conflicts.



---

archive/issue_comments_623671.json:
```json
{
    "body": "<a id='comment:1'></a>Do you want this to be reviewed & merged even though it does not work on Linux yet? Or does it work by now?",
    "created_at": "2022-06-16T18:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623671",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>Do you want this to be reviewed & merged even though it does not work on Linux yet? Or does it work by now?



---

archive/issue_comments_623672.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-06-16T18:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623672",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_623673.json:
```json
{
    "body": "Changing commit from \"aa75075d848af42b9c69f9a917a1cff81e89f6ff\" to \"7bed79d936d48883b7dcf4b259880d954134c5b8\"",
    "created_at": "2022-06-17T18:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623673",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "aa75075d848af42b9c69f9a917a1cff81e89f6ff" to "7bed79d936d48883b7dcf4b259880d954134c5b8"



---

archive/issue_comments_623674.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-17T18:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623675.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-06-17T18:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623675",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_623676.json:
```json
{
    "body": "<a id='comment:174'></a>Replying to [comment:171 saraedum]:\n> Do you want this to be reviewed & merged even though it does not work on Linux yet?\n\n\nYes, that would be great!",
    "created_at": "2022-06-17T18:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623676",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:174'></a>Replying to [comment:171 saraedum]:
> Do you want this to be reviewed & merged even though it does not work on Linux yet?


Yes, that would be great!



---

archive/issue_comments_623677.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-01T02:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623677",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623678.json:
```json
{
    "body": "Changing commit from \"7bed79d936d48883b7dcf4b259880d954134c5b8\" to \"829791548c3cce1f1fe77d314d616020df95659f\"",
    "created_at": "2022-07-01T02:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623678",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7bed79d936d48883b7dcf4b259880d954134c5b8" to "829791548c3cce1f1fe77d314d616020df95659f"



---

archive/issue_comments_623679.json:
```json
{
    "body": "Changing commit from \"829791548c3cce1f1fe77d314d616020df95659f\" to \"1b785de601d9121dd19ff9b54023bb412231d869\"",
    "created_at": "2022-07-11T00:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623679",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "829791548c3cce1f1fe77d314d616020df95659f" to "1b785de601d9121dd19ff9b54023bb412231d869"



---

archive/issue_comments_623680.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-07-11T00:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623680",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_623681.json:
```json
{
    "body": "Changing dependencies from \"#33140, #33295\" to \"#33817\"",
    "created_at": "2022-07-11T00:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623681",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33140, #33295" to "#33817"



---

archive/issue_comments_623682.json:
```json
{
    "body": "Changing commit from \"1b785de601d9121dd19ff9b54023bb412231d869\" to \"e4d36b5dbf054e691f2b633d1c2d06fdb6ba60da\"",
    "created_at": "2022-07-11T03:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1b785de601d9121dd19ff9b54023bb412231d869" to "e4d36b5dbf054e691f2b633d1c2d06fdb6ba60da"



---

archive/issue_comments_623683.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-11T03:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623683",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623684.json:
```json
{
    "body": "<a id='comment:9'></a>There's an isolated\n\n```\n+        #\n```\n\nIs a comment missing there?",
    "created_at": "2022-07-14T20:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623684",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>There's an isolated

```
+        #
```

Is a comment missing there?



---

archive/issue_comments_623685.json:
```json
{
    "body": "<a id='comment:0'></a>I don't understand the `STICKY` business. Why is there a hardcoded `/var/tmp` there?",
    "created_at": "2022-07-14T20:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623685",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:0'></a>I don't understand the `STICKY` business. Why is there a hardcoded `/var/tmp` there?



---

archive/issue_comments_623686.json:
```json
{
    "body": "<a id='comment:1'></a>Is the plan to eventually make these wheels available on PyPI?",
    "created_at": "2022-07-14T20:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623686",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>Is the plan to eventually make these wheels available on PyPI?



---

archive/issue_comments_623687.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Julian R\u00fcth\"",
    "created_at": "2022-07-14T20:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623687",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "" to "Julian RÃ¼th"



---

archive/issue_comments_623688.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2022-07-14T20:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623688",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_623689.json:
```json
{
    "body": "<a id='comment:2'></a>Note to self. I don't really understand what `pkgs/sage-conf_relocatable/setup.py` does because of the above. The rest looks fine.",
    "created_at": "2022-07-14T20:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623689",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>Note to self. I don't really understand what `pkgs/sage-conf_relocatable/setup.py` does because of the above. The rest looks fine.



---

archive/issue_comments_623690.json:
```json
{
    "body": "<a id='comment:3'></a>/var/tmp is a sticky directory, meaning every user can create a new subdirectory, which then securely belongs to them.\n\nThe README of https://pypi.org/project/sage-conf/ (section \"sage_conf wheels\") explains more",
    "created_at": "2022-07-14T20:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623690",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>/var/tmp is a sticky directory, meaning every user can create a new subdirectory, which then securely belongs to them.

The README of https://pypi.org/project/sage-conf/ (section "sage_conf wheels") explains more



---

archive/issue_comments_623691.json:
```json
{
    "body": "<a id='comment:184'></a>Replying to [comment:181 saraedum]:\n> Is the plan to eventually make these wheels available on PyPI?\n\n\nTicket description explains why they can't go to PyPI.",
    "created_at": "2022-07-14T20:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623691",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:184'></a>Replying to [comment:181 saraedum]:
> Is the plan to eventually make these wheels available on PyPI?


Ticket description explains why they can't go to PyPI.



---

archive/issue_comments_623692.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,6 @@\n This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).\n \n The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n-\n-**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants:**\n-- The `configure`-generated configuration file is now `pkgs/sage-conf/_sage_conf/_conf.py`\n-- The file `pkgs/sage-conf/sage_conf.py` is now static\n \n \n So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  \n``````\n",
    "created_at": "2022-07-14T20:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623692",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,6 @@
 This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).
 
 The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.
-
-**We also refactor `sage_conf` to make it easier to maintain variants of it, both the now 3 in-tree variants and downstream variants:**
-- The `configure`-generated configuration file is now `pkgs/sage-conf/_sage_conf/_conf.py`
-- The file `pkgs/sage-conf/sage_conf.py` is now static
 
 
 So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  
``````




---

archive/issue_comments_623693.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-27T01:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_623694.json:
```json
{
    "body": "Changing commit from \"e4d36b5dbf054e691f2b633d1c2d06fdb6ba60da\" to \"2eeb40298059b0b12e18809221d0c8790cb2b77a\"",
    "created_at": "2022-07-27T01:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e4d36b5dbf054e691f2b633d1c2d06fdb6ba60da" to "2eeb40298059b0b12e18809221d0c8790cb2b77a"



---

archive/issue_comments_623695.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2022-07-27T03:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623695",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_events_082257.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82257"
}
```



---

archive/issue_events_082258.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31396#event-82258"
}
```



---

archive/issue_comments_623696.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-12-14T22:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623696",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_623697.json:
```json
{
    "body": "<a id='comment:9'></a>Sorry for not having a look at this ticket for a while. There are merge conflicts now btw.",
    "created_at": "2022-12-14T22:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623697",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>Sorry for not having a look at this ticket for a while. There are merge conflicts now btw.



---

archive/issue_comments_623698.json:
```json
{
    "body": "Changing commit from \"2eeb40298059b0b12e18809221d0c8790cb2b77a\" to \"1b2d4be32dbaa52ca5183872fde4702b58ef4165\"",
    "created_at": "2022-12-15T01:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623698",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2eeb40298059b0b12e18809221d0c8790cb2b77a" to "1b2d4be32dbaa52ca5183872fde4702b58ef4165"



---

archive/issue_comments_623699.json:
```json
{
    "body": "<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-15T01:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31396",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31396#issuecomment-623699",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>Branch pushed to git repo; I updated commit sha1. New commits:
