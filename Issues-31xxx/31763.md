# Issue 31763: ManifoldSubset: New methods declare_subset, declare_superset

archive/issues_031526.json:
```json
{
    "body": "Follow-up from #31736, which introduced `declare_equal`.\n\n\n\nCC:  @egourgoulhon @mjungmath\n\nBranch/Commit: c4acd094ba97380f90e4e404dd871be6c932a5da\n\nReviewer: Eric Gourgoulhon\n\nAuthor: Matthias Koeppe\n\nDependencies: #31736\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31763\n\n",
    "closed_at": "2021-06-21T21:17:24Z",
    "created_at": "2021-05-02T20:26:23Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "ManifoldSubset: New methods declare_subset, declare_superset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31763",
    "user": "https://github.com/mkoeppe"
}
```
Follow-up from #31736, which introduced `declare_equal`.



CC:  @egourgoulhon @mjungmath

Branch/Commit: c4acd094ba97380f90e4e404dd871be6c932a5da

Reviewer: Eric Gourgoulhon

Author: Matthias Koeppe

Dependencies: #31736

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31763





---

archive/issue_comments_631716.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/manifoldsubset__new_methods_declare_subset__declare_superset\"",
    "created_at": "2021-05-02T22:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631716",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/manifoldsubset__new_methods_declare_subset__declare_superset"



---

archive/issue_comments_631717.json:
```json
{
    "body": "<a id='comment:2'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|\n|[06aedf8](https://git.sagemath.org/sage.git/commit?id=06aedf8e59da5c443e8e71bfb17b8065f339269e)|`ManifoldSubset.{subset,superset}_digraph: New option quotient; use it for {subset,superset}_poset`|\n|[c9fd9f7](https://git.sagemath.org/sage.git/commit?id=c9fd9f748ff870f2dc2fc474214e0f403d9a9872)|`ManifoldSubset.declare_equal: New`|\n|[1e6a055](https://git.sagemath.org/sage.git/commit?id=1e6a05505661e19ad09df7716fc93f5a1a2dde4d)|`is_empty, declare_nonempty, has_defined_points: Add doc, examples`|\n|[e06932b](https://git.sagemath.org/sage.git/commit?id=e06932b1449e78e0bfc63dd48ae545ee3834275b)|`Merge #31732`|\n|[93b8aa3](https://git.sagemath.org/sage.git/commit?id=93b8aa3ed701c5f500f5615f4de8ee0849b5b187)|`ManifoldSubset.equal_subset_family: Fixup`|\n|[5c7bb75](https://git.sagemath.org/sage.git/commit?id=5c7bb75171a85d8097917d58eb301f7b05ef9100)|`src/sage/manifolds/{family,manifold,subset,differentiable/manifold,**/*_submanifold}.py: Update authors, copyright`|\n|[f244b87](https://git.sagemath.org/sage.git/commit?id=f244b8770b7cd3eb7d66e04586d39af7992a4588)|`ManifoldSubset.subset_digraph: Do not forget to include isolated vertices`|\n|[b391831](https://git.sagemath.org/sage.git/commit?id=b3918319aa922fdd6516ce4d35f0baf71a897f7d)|`Merge #31736`|\n|[a6a7f02](https://git.sagemath.org/sage.git/commit?id=a6a7f025207ce89098a54770d2bfec36c0ef783e)|`ManifoldSubset.declare_{sub,super}set: New`|\n|[0cc9eb8](https://git.sagemath.org/sage.git/commit?id=0cc9eb8c4121fa054c866679e348aaae352c81a4)|`src/sage/manifolds/differentiable/examples/real_line.py: Use declare_subset`|",
    "created_at": "2021-05-02T22:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631717",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Last 10 new commits:
|                                                                                                                                          |                                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
|[06aedf8](https://git.sagemath.org/sage.git/commit?id=06aedf8e59da5c443e8e71bfb17b8065f339269e)|`ManifoldSubset.{subset,superset}_digraph: New option quotient; use it for {subset,superset}_poset`|
|[c9fd9f7](https://git.sagemath.org/sage.git/commit?id=c9fd9f748ff870f2dc2fc474214e0f403d9a9872)|`ManifoldSubset.declare_equal: New`|
|[1e6a055](https://git.sagemath.org/sage.git/commit?id=1e6a05505661e19ad09df7716fc93f5a1a2dde4d)|`is_empty, declare_nonempty, has_defined_points: Add doc, examples`|
|[e06932b](https://git.sagemath.org/sage.git/commit?id=e06932b1449e78e0bfc63dd48ae545ee3834275b)|`Merge #31732`|
|[93b8aa3](https://git.sagemath.org/sage.git/commit?id=93b8aa3ed701c5f500f5615f4de8ee0849b5b187)|`ManifoldSubset.equal_subset_family: Fixup`|
|[5c7bb75](https://git.sagemath.org/sage.git/commit?id=5c7bb75171a85d8097917d58eb301f7b05ef9100)|`src/sage/manifolds/{family,manifold,subset,differentiable/manifold,**/*_submanifold}.py: Update authors, copyright`|
|[f244b87](https://git.sagemath.org/sage.git/commit?id=f244b8770b7cd3eb7d66e04586d39af7992a4588)|`ManifoldSubset.subset_digraph: Do not forget to include isolated vertices`|
|[b391831](https://git.sagemath.org/sage.git/commit?id=b3918319aa922fdd6516ce4d35f0baf71a897f7d)|`Merge #31736`|
|[a6a7f02](https://git.sagemath.org/sage.git/commit?id=a6a7f025207ce89098a54770d2bfec36c0ef783e)|`ManifoldSubset.declare_{sub,super}set: New`|
|[0cc9eb8](https://git.sagemath.org/sage.git/commit?id=0cc9eb8c4121fa054c866679e348aaae352c81a4)|`src/sage/manifolds/differentiable/examples/real_line.py: Use declare_subset`|



---

archive/issue_comments_631718.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-05-02T22:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631718",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_631719.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-02T22:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631719",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_631720.json:
```json
{
    "body": "Changing commit from \"\" to \"0cc9eb8c4121fa054c866679e348aaae352c81a4\"",
    "created_at": "2021-05-02T22:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631720",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "0cc9eb8c4121fa054c866679e348aaae352c81a4"



---

archive/issue_comments_631721.json:
```json
{
    "body": "<a id='comment:3'></a>\nReady for review.",
    "created_at": "2021-05-07T17:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631721",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
Ready for review.



---

archive/issue_comments_631722.json:
```json
{
    "body": "<a id='comment:4'></a>\nIn the docstring of `declare_superset`, the following changes should be made:\n\n```diff\n    def declare_superset(self, *subsets):\n        r\"\"\"\n-        Declare ``self`` to be a subset of each of the given supersets.\n+        Declare ``self`` to be a superset of each of the given subsets.\n\n        INPUT:\n\n-        - ``supersets`` -- other subsets of the same manifold\n+        - ``subsets`` -- other subsets of the same manifold\n```",
    "created_at": "2021-05-09T13:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631722",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>
In the docstring of `declare_superset`, the following changes should be made:

```diff
    def declare_superset(self, *subsets):
        r"""
-        Declare ``self`` to be a subset of each of the given supersets.
+        Declare ``self`` to be a superset of each of the given subsets.

        INPUT:

-        - ``supersets`` -- other subsets of the same manifold
+        - ``subsets`` -- other subsets of the same manifold
```



---

archive/issue_comments_631723.json:
```json
{
    "body": "<a id='comment:5'></a>\nIn the doctests of `declare_subset`, the line\n\n```\nsage: M.declare_subset(V)\n```\nmay look surprising at first glance, since it amounts to making all previously introduced subsets `U1`, `U2` and `V` equal to the whole manifold `M`. Maybe a comment should be added about this, illustrated by\n\n```\nsage: M.equal_subset_family()\nSet {M, U1, U2, V} of open subsets of the 2-dimensional differentiable manifold M\n```",
    "created_at": "2021-05-09T13:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631723",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:5'></a>
In the doctests of `declare_subset`, the line

```
sage: M.declare_subset(V)
```
may look surprising at first glance, since it amounts to making all previously introduced subsets `U1`, `U2` and `V` equal to the whole manifold `M`. Maybe a comment should be added about this, illustrated by

```
sage: M.equal_subset_family()
Set {M, U1, U2, V} of open subsets of the 2-dimensional differentiable manifold M
```



---

archive/issue_comments_631724.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[94edd68](https://git.sagemath.org/sage.git/commit/?id=94edd68461c01d02e789c1dd60b5e94963dc39f4)|`ManifoldSubset.declare_superset: Fix documentation`|\n|[41826b4](https://git.sagemath.org/sage.git/commit/?id=41826b46f4b46592b3ed200842b8e5f8d301f081)|`ManifoldSubset.declare_{sub,super}set: Expand docstring`|",
    "created_at": "2021-05-09T15:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631724",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[94edd68](https://git.sagemath.org/sage.git/commit/?id=94edd68461c01d02e789c1dd60b5e94963dc39f4)|`ManifoldSubset.declare_superset: Fix documentation`|
|[41826b4](https://git.sagemath.org/sage.git/commit/?id=41826b46f4b46592b3ed200842b8e5f8d301f081)|`ManifoldSubset.declare_{sub,super}set: Expand docstring`|



---

archive/issue_comments_631725.json:
```json
{
    "body": "Changing commit from \"0cc9eb8c4121fa054c866679e348aaae352c81a4\" to \"41826b46f4b46592b3ed200842b8e5f8d301f081\"",
    "created_at": "2021-05-09T15:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631725",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0cc9eb8c4121fa054c866679e348aaae352c81a4" to "41826b46f4b46592b3ed200842b8e5f8d301f081"



---

archive/issue_comments_631726.json:
```json
{
    "body": "<a id='comment:7'></a>\nGood idea, done",
    "created_at": "2021-05-09T15:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631726",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Good idea, done



---

archive/issue_comments_631727.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-10T14:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631727",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_631728.json:
```json
{
    "body": "<a id='comment:8'></a>\nGood to go!",
    "created_at": "2021-05-10T14:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631728",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'></a>
Good to go!



---

archive/issue_comments_631729.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Eric Gourgoulhon\"",
    "created_at": "2021-05-10T14:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631729",
    "user": "https://github.com/egourgoulhon"
}
```

Changing reviewer from "" to "Eric Gourgoulhon"



---

archive/issue_comments_631730.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks for the review!",
    "created_at": "2021-05-10T16:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631730",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Thanks for the review!



---

archive/issue_comments_631731.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-06-19T18:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_631732.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                                                                                                                                                                                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[359dde1](https://git.sagemath.org/sage.git/commit/?id=359dde1acb2c64a04341bb8d5ffeaa58c3d51dae)|`Merge branch 't/31727/manifoldsubset__add_methods_subset_family__superset_family__equal_subset_family__deprecate_method_list_of_subsets' into t/31732/manifoldsubset__new_methods_declare_empty__declare_nonempty__is_empty__has_defined_points__open_cover_family`|\n|[fd4506a](https://git.sagemath.org/sage.git/commit/?id=fd4506aabb6636a2028e050c3ab1b5e6041eec89)|`Merge #31732`|\n|[7fed9ef](https://git.sagemath.org/sage.git/commit/?id=7fed9efe67eb727e1e0130807f7b76e10a4db898)|`Merge #31736`|",
    "created_at": "2021-06-19T18:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631732",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                                                                                                                                                                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|[359dde1](https://git.sagemath.org/sage.git/commit/?id=359dde1acb2c64a04341bb8d5ffeaa58c3d51dae)|`Merge branch 't/31727/manifoldsubset__add_methods_subset_family__superset_family__equal_subset_family__deprecate_method_list_of_subsets' into t/31732/manifoldsubset__new_methods_declare_empty__declare_nonempty__is_empty__has_defined_points__open_cover_family`|
|[fd4506a](https://git.sagemath.org/sage.git/commit/?id=fd4506aabb6636a2028e050c3ab1b5e6041eec89)|`Merge #31732`|
|[7fed9ef](https://git.sagemath.org/sage.git/commit/?id=7fed9efe67eb727e1e0130807f7b76e10a4db898)|`Merge #31736`|



---

archive/issue_comments_631733.json:
```json
{
    "body": "Changing commit from \"41826b46f4b46592b3ed200842b8e5f8d301f081\" to \"7fed9efe67eb727e1e0130807f7b76e10a4db898\"",
    "created_at": "2021-06-19T18:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631733",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "41826b46f4b46592b3ed200842b8e5f8d301f081" to "7fed9efe67eb727e1e0130807f7b76e10a4db898"



---

archive/issue_comments_631734.json:
```json
{
    "body": "Changing commit from \"7fed9efe67eb727e1e0130807f7b76e10a4db898\" to \"c4acd094ba97380f90e4e404dd871be6c932a5da\"",
    "created_at": "2021-06-19T18:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7fed9efe67eb727e1e0130807f7b76e10a4db898" to "c4acd094ba97380f90e4e404dd871be6c932a5da"



---

archive/issue_comments_631735.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|\n|[c4acd09](https://git.sagemath.org/sage.git/commit/?id=c4acd094ba97380f90e4e404dd871be6c932a5da)|`Merge tag '9.4.beta2' into t/31763/manifoldsubset__new_methods_declare_subset__declare_superset`|",
    "created_at": "2021-06-19T18:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631735",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
|[c4acd09](https://git.sagemath.org/sage.git/commit/?id=c4acd094ba97380f90e4e404dd871be6c932a5da)|`Merge tag '9.4.beta2' into t/31763/manifoldsubset__new_methods_declare_subset__declare_superset`|



---

archive/issue_comments_631736.json:
```json
{
    "body": "<a id='comment:12'></a>\nTrivial merge with latest beta",
    "created_at": "2021-06-19T18:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631736",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Trivial merge with latest beta



---

archive/issue_comments_631737.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-19T18:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631737",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_631738.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-21T21:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631738",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_631739.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/manifoldsubset__new_methods_declare_subset__declare_superset\" to \"c4acd094ba97380f90e4e404dd871be6c932a5da\"",
    "created_at": "2021-06-21T21:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31763#issuecomment-631739",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/manifoldsubset__new_methods_declare_subset__declare_superset" to "c4acd094ba97380f90e4e404dd871be6c932a5da"



---

archive/issue_events_083834.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-21T21:17:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31763",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31763#event-83834"
}
```
