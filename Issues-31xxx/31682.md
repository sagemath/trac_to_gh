# Issue 31682: manifolds: Add _test_... methods that check invariants of subset relations

archive/issues_031445.json:
```json
{
    "assignees": [],
    "body": "Such as checking that `self` is a subset of every one of each supersets.\n\n`_top_subsets` appears to be underspecified.\nCode only adds to it but never removes anything, so it is not able to maintain the invariant of being the list of maximal proper subsets of `self`.\n\n\n**CC:**  @mjungmath @egourgoulhon @tscrim\n\nIssue created by migration from https://trac.sagemath.org/ticket/31682\n\n",
    "created_at": "2021-04-17T21:43:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "manifolds: Add _test_... methods that check invariants of subset relations",
    "type": "issue",
    "updated_at": "2022-08-31T02:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/31682",
    "user": "https://github.com/mkoeppe"
}
```
Such as checking that `self` is a subset of every one of each supersets.

`_top_subsets` appears to be underspecified.
Code only adds to it but never removes anything, so it is not able to maintain the invariant of being the list of maximal proper subsets of `self`.


**CC:**  @mjungmath @egourgoulhon @tscrim

Issue created by migration from https://trac.sagemath.org/ticket/31682





---

archive/issue_events_384658.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-17T21:43:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384658"
}
```



---

archive/issue_events_384659.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-17T21:43:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
    "label_color": "08517b",
    "label_name": "component: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384659"
}
```



---

archive/issue_events_384660.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-17T21:43:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384660"
}
```



---

archive/issue_events_384661.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384661"
}
```



---

archive/issue_events_384662.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384662"
}
```



---

archive/issue_events_384663.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384663"
}
```



---

archive/issue_events_384664.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384664"
}
```



---

archive/issue_events_384665.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384665"
}
```



---

archive/issue_events_384666.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384666"
}
```



---

archive/issue_events_384667.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384667"
}
```



---

archive/issue_events_384668.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31682",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31682#event-384668"
}
```
