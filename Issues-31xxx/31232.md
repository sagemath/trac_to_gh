# Issue 31232: some typing annotations in plane partitions

archive/issues_030995.json:
```json
{
    "assignees": [],
    "body": "mainly as an experiment.\n\n\nCC:  @tscrim @slel\n\nBranch/Commit: **[`c6eb8a6`](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31232_\n\n",
    "closed_at": "2021-03-08T23:59:54Z",
    "created_at": "2021-01-13T16:09:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "some typing annotations in plane partitions",
    "type": "issue",
    "updated_at": "2021-03-08T23:59:54Z",
    "url": "https://github.com/sagemath/sage/issues/31232",
    "user": "https://github.com/fchapoton"
}
```
mainly as an experiment.


CC:  @tscrim @slel

Branch/Commit: **[`c6eb8a6`](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/31232_





---

archive/issue_events_430444.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430444"
}
```



---

archive/issue_events_430445.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430445"
}
```



---

archive/issue_events_430446.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430446"
}
```



---

archive/issue_events_430447.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430447"
}
```



---

archive/issue_comments_500543.json:
```json
{
    "body": "Commit: **[`c6eb8a6`](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500543",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`c6eb8a6`](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**



---

archive/issue_comments_500544.json:
```json
{
    "body": "Branch: **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)**",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500544",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)**



---

archive/issue_comments_500545.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n+mainly as an experiment.\n \n``````\n",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500545",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
+mainly as an experiment.
 
``````




---

archive/issue_comments_500546.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cdbd9b63278a5630fabd1b96b9b2fc17f052ff9\"><code>8cdbd9b</code></a></td><td><code>some typing in plane partitions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48\"><code>c6eb8a6</code></a></td><td><code>flake8 details in plane partition</code></td></tr></table>\n",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500546",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cdbd9b63278a5630fabd1b96b9b2fc17f052ff9"><code>8cdbd9b</code></a></td><td><code>some typing in plane partitions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48"><code>c6eb8a6</code></a></td><td><code>flake8 details in plane partition</code></td></tr></table>




---

archive/issue_events_430448.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T17:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430448"
}
```



---

archive/issue_comments_500547.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\ngreen bot, please review",
    "created_at": "2021-01-15T20:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500547",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

green bot, please review



---

archive/issue_comments_500548.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nLGTM.",
    "created_at": "2021-01-17T02:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500548",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

LGTM.



---

archive/issue_comments_500549.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-01-17T02:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500549",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_430449.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-01-17T02:13:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430449"
}
```



---

archive/issue_events_430450.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-01-17T02:13:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430450"
}
```



---

archive/issue_comments_500550.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI just came across this ticket and have one small suggestion for follow-up tickets concerning typing:\n\n```\nPP = NewType('PP', 'PlanePartition')\ndef random_element(self) -> PP:\n```\nWas the point of introducing PP as a new type was to prevent import problems? This can also be accomplished by specifying the type as a string:\n\n```\ndef random_element(self) -> 'PlanePartition':\n```\nOnce we drop python 3.6 support, one can also import annotations from future, which does this automatically so that the following works: \n\n```\nfrom __future__ import annotations\ndef random_element(self) -> PlanePartition:\n```",
    "created_at": "2021-02-01T00:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500550",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:5" align="right">comment:5</div>

I just came across this ticket and have one small suggestion for follow-up tickets concerning typing:

```
PP = NewType('PP', 'PlanePartition')
def random_element(self) -> PP:
```
Was the point of introducing PP as a new type was to prevent import problems? This can also be accomplished by specifying the type as a string:

```
def random_element(self) -> 'PlanePartition':
```
Once we drop python 3.6 support, one can also import annotations from future, which does this automatically so that the following works: 

```
from __future__ import annotations
def random_element(self) -> PlanePartition:
```



---

archive/issue_comments_500551.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nwhat to do to use shorthand for annotations ? our class names are often rather long",
    "created_at": "2021-02-01T10:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500551",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

what to do to use shorthand for annotations ? our class names are often rather long



---

archive/issue_comments_500552.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI think one shouldn't use abbreviations at all here. Just makes the code harder to understand, especially for new developers not familiar with this part of the code base (in the above context: what is PP?). It's similar to naming of variables: try to avoid abbreviations, the few additional keystrokes are worth it for enhanced readability. Moreover, most IDEs provide a good autocompletion.",
    "created_at": "2021-02-01T10:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500552",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:7" align="right">comment:7</div>

I think one shouldn't use abbreviations at all here. Just makes the code harder to understand, especially for new developers not familiar with this part of the code base (in the above context: what is PP?). It's similar to naming of variables: try to avoid abbreviations, the few additional keystrokes are worth it for enhanced readability. Moreover, most IDEs provide a good autocompletion.



---

archive/issue_comments_500553.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\ninho, long typing annotations decrease python code readability",
    "created_at": "2021-02-01T10:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500553",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

inho, long typing annotations decrease python code readability



---

archive/issue_comments_500554.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAdditionally, PP is a very common abbreviation in math papers for plane partitions. So it is natural here IMO.",
    "created_at": "2021-02-01T11:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500554",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

Additionally, PP is a very common abbreviation in math papers for plane partitions. So it is natural here IMO.



---

archive/issue_comments_500555.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nStill, I would suggest not to use abbreviations for typing. There was a good reason to call the class PlanePartition instead of PP, and in my opinion the same reason applies to typing information.\n\nMoreover, once we use the sphinx_autodoc_typehints extension, the typing information is displayed in the documentation, including hyperlinks to the target. This doesn't work as nicely if you introduce type aliases (Example, click on \"Interval\" on \nhttps://broadinstitute.github.io/gnomad_methods/api_reference/utils/intervals.html#gnomad.utils.intervals.interval_length)",
    "created_at": "2021-02-01T13:41:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500555",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:10" align="right">comment:10</div>

Still, I would suggest not to use abbreviations for typing. There was a good reason to call the class PlanePartition instead of PP, and in my opinion the same reason applies to typing information.

Moreover, once we use the sphinx_autodoc_typehints extension, the typing information is displayed in the documentation, including hyperlinks to the target. This doesn't work as nicely if you introduce type aliases (Example, click on "Interval" on 
https://broadinstitute.github.io/gnomad_methods/api_reference/utils/intervals.html#gnomad.utils.intervals.interval_length)



---

archive/issue_comments_500556.json:
```json
{
    "body": "Changed branch from **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)** to **[`c6eb8a6`](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**",
    "created_at": "2021-03-08T23:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-500556",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)** to **[`c6eb8a6`](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**



---

archive/issue_events_430451.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-08T23:59:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430451"
}
```



---

archive/issue_events_430452.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "42197291eb7c53fae3ece4f726ed2de20c206551",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-03-08T23:59:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-430452"
}
```
