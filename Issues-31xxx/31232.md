# Issue 31232: some typing annotations in plane partitions

archive/issues_030995.json:
```json
{
    "assignees": [],
    "body": "mainly as an experiment.\n\n\nCC:  @tscrim @slel\n\nBranch/Commit: **[c6eb8a6](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31232_\n\n",
    "closed_at": "2021-03-08T23:59:54Z",
    "created_at": "2021-01-13T16:09:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "some typing annotations in plane partitions",
    "type": "issue",
    "updated_at": "2021-03-08T23:59:54Z",
    "url": "https://github.com/sagemath/sage/issues/31232",
    "user": "https://github.com/fchapoton"
}
```
mainly as an experiment.


CC:  @tscrim @slel

Branch/Commit: **[c6eb8a6](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/31232_





---

archive/issue_events_412174.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412174"
}
```



---

archive/issue_events_412175.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412175"
}
```



---

archive/issue_events_412176.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412176"
}
```



---

archive/issue_events_412177.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T16:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412177"
}
```



---

archive/issue_comments_503453.json:
```json
{
    "body": "Commit: **[c6eb8a6](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503453",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[c6eb8a6](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**



---

archive/issue_comments_503454.json:
```json
{
    "body": "Branch: **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)**",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503454",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)**



---

archive/issue_comments_503455.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n+mainly as an experiment.\n \n``````\n",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503455",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
+mainly as an experiment.
 
``````




---

archive/issue_comments_503456.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cdbd9b63278a5630fabd1b96b9b2fc17f052ff9\">8cdbd9b</a></td><td><code>some typing in plane partitions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48\">c6eb8a6</a></td><td><code>flake8 details in plane partition</code></td></tr></table>\n",
    "created_at": "2021-01-13T16:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503456",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cdbd9b63278a5630fabd1b96b9b2fc17f052ff9">8cdbd9b</a></td><td><code>some typing in plane partitions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48">c6eb8a6</a></td><td><code>flake8 details in plane partition</code></td></tr></table>




---

archive/issue_events_412178.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-13T17:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412178"
}
```



---

archive/issue_comments_503457.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\ngreen bot, please review",
    "created_at": "2021-01-15T20:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503457",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'>Comment 3:</a>
green bot, please review



---

archive/issue_comments_503458.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nLGTM.",
    "created_at": "2021-01-17T02:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503458",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'>Comment 4:</a>
LGTM.



---

archive/issue_comments_503459.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-01-17T02:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503459",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_412179.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-01-17T02:13:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412179"
}
```



---

archive/issue_events_412180.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-01-17T02:13:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412180"
}
```



---

archive/issue_comments_503460.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI just came across this ticket and have one small suggestion for follow-up tickets concerning typing:\n\n```\nPP = NewType('PP', 'PlanePartition')\ndef random_element(self) -> PP:\n```\nWas the point of introducing PP as a new type was to prevent import problems? This can also be accomplished by specifying the type as a string:\n\n```\ndef random_element(self) -> 'PlanePartition':\n```\nOnce we drop python 3.6 support, one can also import annotations from future, which does this automatically so that the following works: \n\n```\nfrom __future__ import annotations\ndef random_element(self) -> PlanePartition:\n```",
    "created_at": "2021-02-01T00:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503460",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:5'>Comment 5:</a>
I just came across this ticket and have one small suggestion for follow-up tickets concerning typing:

```
PP = NewType('PP', 'PlanePartition')
def random_element(self) -> PP:
```
Was the point of introducing PP as a new type was to prevent import problems? This can also be accomplished by specifying the type as a string:

```
def random_element(self) -> 'PlanePartition':
```
Once we drop python 3.6 support, one can also import annotations from future, which does this automatically so that the following works: 

```
from __future__ import annotations
def random_element(self) -> PlanePartition:
```



---

archive/issue_comments_503461.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nwhat to do to use shorthand for annotations ? our class names are often rather long",
    "created_at": "2021-02-01T10:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503461",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
what to do to use shorthand for annotations ? our class names are often rather long



---

archive/issue_comments_503462.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI think one shouldn't use abbreviations at all here. Just makes the code harder to understand, especially for new developers not familiar with this part of the code base (in the above context: what is PP?). It's similar to naming of variables: try to avoid abbreviations, the few additional keystrokes are worth it for enhanced readability. Moreover, most IDEs provide a good autocompletion.",
    "created_at": "2021-02-01T10:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503462",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:7'>Comment 7:</a>
I think one shouldn't use abbreviations at all here. Just makes the code harder to understand, especially for new developers not familiar with this part of the code base (in the above context: what is PP?). It's similar to naming of variables: try to avoid abbreviations, the few additional keystrokes are worth it for enhanced readability. Moreover, most IDEs provide a good autocompletion.



---

archive/issue_comments_503463.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\ninho, long typing annotations decrease python code readability",
    "created_at": "2021-02-01T10:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503463",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
inho, long typing annotations decrease python code readability



---

archive/issue_comments_503464.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAdditionally, PP is a very common abbreviation in math papers for plane partitions. So it is natural here IMO.",
    "created_at": "2021-02-01T11:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503464",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'>Comment 9:</a>
Additionally, PP is a very common abbreviation in math papers for plane partitions. So it is natural here IMO.



---

archive/issue_comments_503465.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nStill, I would suggest not to use abbreviations for typing. There was a good reason to call the class PlanePartition instead of PP, and in my opinion the same reason applies to typing information.\n\nMoreover, once we use the sphinx_autodoc_typehints extension, the typing information is displayed in the documentation, including hyperlinks to the target. This doesn't work as nicely if you introduce type aliases (Example, click on \"Interval\" on \nhttps://broadinstitute.github.io/gnomad_methods/api_reference/utils/intervals.html#gnomad.utils.intervals.interval_length)",
    "created_at": "2021-02-01T13:41:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503465",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:10'>Comment 10:</a>
Still, I would suggest not to use abbreviations for typing. There was a good reason to call the class PlanePartition instead of PP, and in my opinion the same reason applies to typing information.

Moreover, once we use the sphinx_autodoc_typehints extension, the typing information is displayed in the documentation, including hyperlinks to the target. This doesn't work as nicely if you introduce type aliases (Example, click on "Interval" on 
https://broadinstitute.github.io/gnomad_methods/api_reference/utils/intervals.html#gnomad.utils.intervals.interval_length)



---

archive/issue_comments_503466.json:
```json
{
    "body": "Changed branch from **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)** to **[c6eb8a6](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**",
    "created_at": "2021-03-08T23:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31232#issuecomment-503466",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/31232](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31232)** to **[c6eb8a6](https://github.com/sagemath/sagetrac-mirror/commit/c6eb8a67b16595170913944d2682668ca5722d48)**



---

archive/issue_events_412181.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-08T23:59:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412181"
}
```



---

archive/issue_events_412182.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "42197291eb7c53fae3ece4f726ed2de20c206551",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-03-08T23:59:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31232",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31232#event-412182"
}
```
