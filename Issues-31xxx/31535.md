# Issue 31535: New make targets "sagelib-tox-...", "sage_docbuild-tox-...", ...

archive/issues_031298.json:
```json
{
    "assignees": [],
    "body": "For all script packages `SPKG` that have an embedded source tree -- currently `sagelib`, `sage_docbuild`, `sage_sws2rst` -- we add a new target:\n\n- `SPKG-tox-%` (which calls `tox -e %` in the package's source tree)\n\nThese targets are particularly useful for invoking them within the portability tests of the top-level `tox`:\n- `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution\n- `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels\n- `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` (needs #30913, #31384) uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n\nDepends on #32899\n\n**CC:**  @jhpalmieri @dimpase @kliem @orlitzky @tobiasdiez\n\n**Branch/Commit:** [ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66](https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66)\n\n**Reviewer:** Michael Orlitzky\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/31535\n\n",
    "closed_at": "2021-12-23T20:26:10Z",
    "created_at": "2021-03-22T03:00:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20porting",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New make targets \"sagelib-tox-...\", \"sage_docbuild-tox-...\", ...",
    "type": "issue",
    "updated_at": "2021-12-23T20:26:10Z",
    "url": "https://github.com/sagemath/sage/issues/31535",
    "user": "https://github.com/mkoeppe"
}
```
For all script packages `SPKG` that have an embedded source tree -- currently `sagelib`, `sage_docbuild`, `sage_sws2rst` -- we add a new target:

- `SPKG-tox-%` (which calls `tox -e %` in the package's source tree)

These targets are particularly useful for invoking them within the portability tests of the top-level `tox`:
- `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution
- `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels
- `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` (needs #30913, #31384) uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox

Depends on #32899

**CC:**  @jhpalmieri @dimpase @kliem @orlitzky @tobiasdiez

**Branch/Commit:** [ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66](https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66)

**Reviewer:** Michael Orlitzky

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/31535





---

archive/issue_events_382552.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-22T03:00:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382552"
}
```



---

archive/issue_events_382553.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-22T03:00:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20porting",
    "label_color": "08517b",
    "label_name": "component: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382553"
}
```



---

archive/issue_events_382554.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-22T03:00:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382554"
}
```



---

archive/issue_comments_509411.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________)",
    "created_at": "2021-03-22T03:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509411",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________)



---

archive/issue_comments_509412.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-03-22T03:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509412",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_509413.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eef6d6a8a2eeff9508b936ac8ececbf9f60f362\">1eef6d6</a></td><td><code>build/make/Makefile.in: Add targets SPKG-sdist, SPKG-tox, SPKG-tox-% for script packages</code></td></tr></table>\n",
    "created_at": "2021-03-22T03:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509413",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eef6d6a8a2eeff9508b936ac8ececbf9f60f362">1eef6d6</a></td><td><code>build/make/Makefile.in: Add targets SPKG-sdist, SPKG-tox, SPKG-tox-% for script packages</code></td></tr></table>




---

archive/issue_events_382555.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-22T03:03:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382555"
}
```



---

archive/issue_comments_509414.json:
```json
{
    "body": "**Commit:** [1eef6d6a8a2eeff9508b936ac8ececbf9f60f362](https://github.com/sagemath/sagetrac-mirror/commit/1eef6d6a8a2eeff9508b936ac8ececbf9f60f362)",
    "created_at": "2021-03-22T03:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509414",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [1eef6d6a8a2eeff9508b936ac8ececbf9f60f362](https://github.com/sagemath/sagetrac-mirror/commit/1eef6d6a8a2eeff9508b936ac8ececbf9f60f362)



---

archive/issue_comments_509415.json:
```json
{
    "body": "**Changing commit** from \"[1eef6d6a8a2eeff9508b936ac8ececbf9f60f362](https://github.com/sagemath/sagetrac-mirror/commit/1eef6d6a8a2eeff9508b936ac8ececbf9f60f362)\" to \"[69649337a75524486c51aff2547f0b8ead9e36cf](https://github.com/sagemath/sagetrac-mirror/commit/69649337a75524486c51aff2547f0b8ead9e36cf)\".",
    "created_at": "2021-03-22T04:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509415",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1eef6d6a8a2eeff9508b936ac8ececbf9f60f362](https://github.com/sagemath/sagetrac-mirror/commit/1eef6d6a8a2eeff9508b936ac8ececbf9f60f362)" to "[69649337a75524486c51aff2547f0b8ead9e36cf](https://github.com/sagemath/sagetrac-mirror/commit/69649337a75524486c51aff2547f0b8ead9e36cf)".



---

archive/issue_comments_509416.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69649337a75524486c51aff2547f0b8ead9e36cf\">6964933</a></td><td><code>build/make/Makefile.in: fixup</code></td></tr></table>\n",
    "created_at": "2021-03-22T04:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509416",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69649337a75524486c51aff2547f0b8ead9e36cf">6964933</a></td><td><code>build/make/Makefile.in: fixup</code></td></tr></table>




---

archive/issue_comments_509417.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,5 +7,5 @@\n The new `SPKG-tox-%` targets are particularly useful for invoking them within the portability tests of the top-level `tox`:\n - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution\n - `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels\n-- `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" TARGETS_PRE=config.status tox -e local-homebrew-macos-maximal -- build-local sagelib-tox-python-sitepackages-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n+- `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" TARGETS_PRE=config.status tox -e local-homebrew-macos-maximal -- build-local sagelib-tox-python-sagewheels-sitepackages-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n \n``````\n",
    "created_at": "2021-03-22T04:03:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509417",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,5 +7,5 @@
 The new `SPKG-tox-%` targets are particularly useful for invoking them within the portability tests of the top-level `tox`:
 - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution
 - `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels
-- `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" TARGETS_PRE=config.status tox -e local-homebrew-macos-maximal -- build-local sagelib-tox-python-sitepackages-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
+- `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" TARGETS_PRE=config.status tox -e local-homebrew-macos-maximal -- build-local sagelib-tox-python-sagewheels-sitepackages-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
 
``````




---

archive/issue_comments_509418.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,5 +7,5 @@\n The new `SPKG-tox-%` targets are particularly useful for invoking them within the portability tests of the top-level `tox`:\n - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution\n - `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels\n-- `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" TARGETS_PRE=config.status tox -e local-homebrew-macos-maximal -- build-local sagelib-tox-python-sagewheels-sitepackages-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n-\n+- `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n+- `tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n``````\n",
    "created_at": "2021-03-22T05:18:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509418",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,5 +7,5 @@
 The new `SPKG-tox-%` targets are particularly useful for invoking them within the portability tests of the top-level `tox`:
 - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution
 - `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels
-- `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" TARGETS_PRE=config.status tox -e local-homebrew-macos-maximal -- build-local sagelib-tox-python-sagewheels-sitepackages-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
-
+- `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
+- `tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox
``````




---

archive/issue_comments_509419.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution\n - `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels\n - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n-- `tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n+- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n``````\n",
    "created_at": "2021-03-22T05:18:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509419",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution
 - `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels
 - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
-- `tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox
+- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox
``````




---

archive/issue_comments_509420.json:
```json
{
    "body": "**Changing commit** from \"[69649337a75524486c51aff2547f0b8ead9e36cf](https://github.com/sagemath/sagetrac-mirror/commit/69649337a75524486c51aff2547f0b8ead9e36cf)\" to \"[188bf2e3bd076e5b1966422c10e7b9dae5affd36](https://github.com/sagemath/sagetrac-mirror/commit/188bf2e3bd076e5b1966422c10e7b9dae5affd36)\".",
    "created_at": "2021-03-22T19:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509420",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[69649337a75524486c51aff2547f0b8ead9e36cf](https://github.com/sagemath/sagetrac-mirror/commit/69649337a75524486c51aff2547f0b8ead9e36cf)" to "[188bf2e3bd076e5b1966422c10e7b9dae5affd36](https://github.com/sagemath/sagetrac-mirror/commit/188bf2e3bd076e5b1966422c10e7b9dae5affd36)".



---

archive/issue_comments_509421.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99933481a268b7262c8e54d07d2e22459ef4f97c\">9993348</a></td><td><code>build/make/Makefile.in: Run targets SPKG-tox, SPKG-tox-% outside of sage-env, using SAGE_ORIG_PATH - so that tox from conda works</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4533018345b79d8402e109366d622966d74aca8f\">4533018</a></td><td><code>tox.ini: Add local-conda-environment-src</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/188bf2e3bd076e5b1966422c10e7b9dae5affd36\">188bf2e</a></td><td><code>tox.ini, src/doc/bootstrap: Get tox into standard builds</code></td></tr></table>\n",
    "created_at": "2021-03-22T19:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509421",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99933481a268b7262c8e54d07d2e22459ef4f97c">9993348</a></td><td><code>build/make/Makefile.in: Run targets SPKG-tox, SPKG-tox-% outside of sage-env, using SAGE_ORIG_PATH - so that tox from conda works</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4533018345b79d8402e109366d622966d74aca8f">4533018</a></td><td><code>tox.ini: Add local-conda-environment-src</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/188bf2e3bd076e5b1966422c10e7b9dae5affd36">188bf2e</a></td><td><code>tox.ini, src/doc/bootstrap: Get tox into standard builds</code></td></tr></table>




---

archive/issue_comments_509422.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution\n - `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels\n - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n-- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n+- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n``````\n",
    "created_at": "2021-03-22T20:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509422",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution
 - `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels
 - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
-- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox
+- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox
``````




---

archive/issue_comments_509423.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution\n - `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels\n - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n-- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n+- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` (needs #30913, #31384) uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox\n``````\n",
    "created_at": "2021-03-22T20:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509423",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution
 - `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels
 - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
-- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox
+- `$ tox -e local-conda-forge-macos-src-environment -- sage_conf sagelib-tox-python-sagewheels-sitepackages-norequirements-nobuildisolation-nopypi` (needs #30913, #31384) uses the `src/environment.yml` file to set up a complete environment from conda and then tests sagelib in a venv using tox
``````




---

archive/issue_events_382556.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-27T05:13:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382556"
}
```



---

archive/issue_events_382557.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-27T05:13:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382557"
}
```



---

archive/issue_comments_509424.json:
```json
{
    "body": "<a id='comment:11'></a>\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509424",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_382558.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382558"
}
```



---

archive/issue_events_382559.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382559"
}
```



---

archive/issue_comments_509425.json:
```json
{
    "body": "<a id='comment:12'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509425",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_382560.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382560"
}
```



---

archive/issue_events_382561.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382561"
}
```



---

archive/issue_comments_509426.json:
```json
{
    "body": "**Dependencies:** #32442, #32698",
    "created_at": "2021-10-16T20:38:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509426",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32442, #32698



---

archive/issue_comments_509427.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8af6041abfa62e3fe7cbd279b3bec25665cea449\">8af6041</a></td><td><code>Merge tag '9.5.beta2' into t/32442/__configure__make___with_sage_venv_the_default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3f7d3426499114eed31882f06bdc6cc3b7053f1\">b3f7d34</a></td><td><code>.gitignore: Add /venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc4b641f651968af7fd8c4accb5841021ea0390c\">fc4b641</a></td><td><code>configure.ac: Remove conveniene symlinks before (re)creating them</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bcbf1d919d7d90cefe1442a23aaa66df4ecd2d3\">8bcbf1d</a></td><td><code>Makefile (distclean): Remove convenience symlinks prefix, venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcb4a08a1d5e5e2363c4b6e2f2f3d852efd3aae0\">dcb4a08</a></td><td><code>configure.ac: Indicate default in help string for --with-sage-venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e33bc89dd280dec5aa9241b2722d57102ac126b4\">e33bc89</a></td><td><code>Merge tag '9.5.beta3' into t/32442/__configure__make___with_sage_venv_the_default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2101b8cccc8b0b2fc782dbeb8c476e6a52243498\">2101b8c</a></td><td><code>build/pkgs/python3/spkg-build.in: Make sure that python finds sqlite3 when determining which extension modules to build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bbc5d8fb9aa3abc81fe2a46da52312b843c796e\">3bbc5d8</a></td><td><code>build/pkgs/python3/spkg-build.in: Set rpath</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/124b6059e4c942e785797c32116b027694634432\">124b605</a></td><td><code>Merge #32698</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bca214134dc225603801470f7bb2999e9e6bdbca\">bca2141</a></td><td><code>pkgs/sagemath-standard/tox.ini: Use SAGE_VENV or venv symlink to find wheels</code></td></tr></table>\n",
    "created_at": "2021-10-16T20:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509427",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8af6041abfa62e3fe7cbd279b3bec25665cea449">8af6041</a></td><td><code>Merge tag '9.5.beta2' into t/32442/__configure__make___with_sage_venv_the_default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3f7d3426499114eed31882f06bdc6cc3b7053f1">b3f7d34</a></td><td><code>.gitignore: Add /venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc4b641f651968af7fd8c4accb5841021ea0390c">fc4b641</a></td><td><code>configure.ac: Remove conveniene symlinks before (re)creating them</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bcbf1d919d7d90cefe1442a23aaa66df4ecd2d3">8bcbf1d</a></td><td><code>Makefile (distclean): Remove convenience symlinks prefix, venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcb4a08a1d5e5e2363c4b6e2f2f3d852efd3aae0">dcb4a08</a></td><td><code>configure.ac: Indicate default in help string for --with-sage-venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e33bc89dd280dec5aa9241b2722d57102ac126b4">e33bc89</a></td><td><code>Merge tag '9.5.beta3' into t/32442/__configure__make___with_sage_venv_the_default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2101b8cccc8b0b2fc782dbeb8c476e6a52243498">2101b8c</a></td><td><code>build/pkgs/python3/spkg-build.in: Make sure that python finds sqlite3 when determining which extension modules to build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bbc5d8fb9aa3abc81fe2a46da52312b843c796e">3bbc5d8</a></td><td><code>build/pkgs/python3/spkg-build.in: Set rpath</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/124b6059e4c942e785797c32116b027694634432">124b605</a></td><td><code>Merge #32698</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bca214134dc225603801470f7bb2999e9e6bdbca">bca2141</a></td><td><code>pkgs/sagemath-standard/tox.ini: Use SAGE_VENV or venv symlink to find wheels</code></td></tr></table>




---

archive/issue_comments_509428.json:
```json
{
    "body": "**Changing commit** from \"[188bf2e3bd076e5b1966422c10e7b9dae5affd36](https://github.com/sagemath/sagetrac-mirror/commit/188bf2e3bd076e5b1966422c10e7b9dae5affd36)\" to \"[bca214134dc225603801470f7bb2999e9e6bdbca](https://github.com/sagemath/sagetrac-mirror/commit/bca214134dc225603801470f7bb2999e9e6bdbca)\".",
    "created_at": "2021-10-16T20:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509428",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[188bf2e3bd076e5b1966422c10e7b9dae5affd36](https://github.com/sagemath/sagetrac-mirror/commit/188bf2e3bd076e5b1966422c10e7b9dae5affd36)" to "[bca214134dc225603801470f7bb2999e9e6bdbca](https://github.com/sagemath/sagetrac-mirror/commit/bca214134dc225603801470f7bb2999e9e6bdbca)".



---

archive/issue_events_382562.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-16T20:45:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382562"
}
```



---

archive/issue_events_382563.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-16T20:45:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382563"
}
```



---

archive/issue_comments_509429.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdbab3aca65138c1a80009c546df53af04d740f6\">bdbab3a</a></td><td><code>build/make/Makefile.in: Remove SPKG-tox, SPKG-sdist targets</code></td></tr></table>\n",
    "created_at": "2021-10-16T20:57:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509429",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdbab3aca65138c1a80009c546df53af04d740f6">bdbab3a</a></td><td><code>build/make/Makefile.in: Remove SPKG-tox, SPKG-sdist targets</code></td></tr></table>




---

archive/issue_comments_509430.json:
```json
{
    "body": "**Changing commit** from \"[bca214134dc225603801470f7bb2999e9e6bdbca](https://github.com/sagemath/sagetrac-mirror/commit/bca214134dc225603801470f7bb2999e9e6bdbca)\" to \"[bdbab3aca65138c1a80009c546df53af04d740f6](https://github.com/sagemath/sagetrac-mirror/commit/bdbab3aca65138c1a80009c546df53af04d740f6)\".",
    "created_at": "2021-10-16T20:57:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509430",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[bca214134dc225603801470f7bb2999e9e6bdbca](https://github.com/sagemath/sagetrac-mirror/commit/bca214134dc225603801470f7bb2999e9e6bdbca)" to "[bdbab3aca65138c1a80009c546df53af04d740f6](https://github.com/sagemath/sagetrac-mirror/commit/bdbab3aca65138c1a80009c546df53af04d740f6)".



---

archive/issue_comments_509431.json:
```json
{
    "body": "<a id='comment:17'></a>\nReduced the scope of the ticket",
    "created_at": "2021-10-16T20:58:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509431",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Reduced the scope of the ticket



---

archive/issue_comments_509432.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,10 +1,8 @@\n-For all script packages `SPKG` that have an embedded source tree -- currently `sagelib`, `sage_docbuild`, `sage_sws2rst` -- we add new targets:\n+For all script packages `SPKG` that have an embedded source tree -- currently `sagelib`, `sage_docbuild`, `sage_sws2rst` -- we add a new target:\n \n-- `SPKG-sdist` (which makes an sdist via the `spkg-src` script)\n-- `SPKG-tox`   (which calls `tox` in the package's source tree)\n - `SPKG-tox-%` (which calls `tox -e %` in the package's source tree)\n \n-The new `SPKG-tox-%` targets are particularly useful for invoking them within the portability tests of the top-level `tox`:\n+These targets are particularly useful for invoking them within the portability tests of the top-level `tox`:\n - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution\n - `$ EXTRA_CONFIGURE_ARGS=\"--disable-notebook\" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels\n - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages\n``````\n",
    "created_at": "2021-10-16T20:58:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509432",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,10 +1,8 @@
-For all script packages `SPKG` that have an embedded source tree -- currently `sagelib`, `sage_docbuild`, `sage_sws2rst` -- we add new targets:
+For all script packages `SPKG` that have an embedded source tree -- currently `sagelib`, `sage_docbuild`, `sage_sws2rst` -- we add a new target:
 
-- `SPKG-sdist` (which makes an sdist via the `spkg-src` script)
-- `SPKG-tox`   (which calls `tox` in the package's source tree)
 - `SPKG-tox-%` (which calls `tox -e %` in the package's source tree)
 
-The new `SPKG-tox-%` targets are particularly useful for invoking them within the portability tests of the top-level `tox`:
+These targets are particularly useful for invoking them within the portability tests of the top-level `tox`:
 - `$ TARGETS_PRE=config.status tox -e docker-ubuntu-focal-standard -- sage_docbuild-tox` invokes the tox testing of the `sage_docbuild` distribution
 - `$ EXTRA_CONFIGURE_ARGS="--disable-notebook" tox -e docker-ubuntu-focal-standard -- build sagelib-tox-python-sagewheels-nopypi` builds (in a Docker container) the Sage distribution (without Jupyter notebook) and then invokes the tox testing of sagelib (added in #30913) in a venv populated using the wheels
 - `$ tox -e local-homebrew-macos-maximal -- build-local cysignals networkx sagelib-tox-python-sagewheels-sitepackages-norequirements-nopypi` (added in #30913) builds the non-Python parts of the Sage distribution on top of Homebrew, using a virtual environment that uses homebrew's Python packages
``````




---

archive/issue_events_382564.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-16T20:58:10Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "rename": {
        "from": "New make targets \"sagelib-sdist\", \"sage_docbuild-sdist\", ... and \"sagelib-tox-...\", ...",
        "to": "New make targets \"sagelib-tox-...\", \"sage_docbuild-tox-...\", ..."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382564"
}
```



---

archive/issue_comments_509433.json:
```json
{
    "body": "<a id='comment:18'></a>\nI've tried to test these locally but I always get some complaint about `sage_setup.py`. For example,\n\n```\n$ EXTRA_CONFIGURE_ARGS=\"--without-system-python3\" tox -e local-direct -- build sagelib-tox-python-sagewheels\n```\n\nThis proceeded to build everything inside of `.tox/local-direct`, but then...\n\n\n```\ncd '/home/mjo/src/sage.git/build/pkgs/sagelib/src' && export PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/lib/llvm/12/bin:/home/mjo/bin:/home/mjo/bin\" && SAGE_SPKG_WHEELS=/home/mjo/src/sage.git/.tox/local-direct/local/var/lib/sage/wheels tox -v -v -v -e python-sagewheels\nusing tox.ini: /home/mjo/src/sage.git/pkgs/sagemath-standard/tox.ini (pid 12133)\n  removing /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/log\nusing tox-3.24.4 from /usr/lib/python3.9/site-packages/tox/__init__.py (pid 12133)\nGLOB start: packaging \nGLOB sdist-make: /home/mjo/src/sage.git/pkgs/sagemath-standard/setup.py\n[12140] /home/mjo/src/sage.git/pkgs/sagemath-standard$ /usr/bin/python3.9 setup.py sdist --formats=zip --dist-dir /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/dist >.tox/log/GLOB-0.log\nERROR: invocation failed (exit code 1), logfile: /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/log/GLOB-0.log\n================================== log start ===================================\nTraceback (most recent call last):\n  File \"/home/mjo/src/sage.git/pkgs/sagemath-standard/setup.py\", line 31, in <module>\n    from sage_setup.excepthook import excepthook\nModuleNotFoundError: No module named 'sage_setup'\n\n=================================== log end ====================================\nERROR: FAIL could not package project - v = InvocationError('/usr/bin/python3.9 setup.py sdist --formats=zip --dist-dir /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/dist', 1)\nmake[1]: *** [Makefile:2798: sagelib-tox-python-sagewheels] Error 2\nmake[1]: Leaving directory '/home/mjo/src/sage.git/build/make'\n\nreal\t0m4.988s\nuser\t0m1.223s\nsys\t0m0.145s\n***************************************************************\nError building Sage.\n\nThe following package(s) may have failed to build (not necessarily\nduring this run of 'make sagelib-tox-python-sagewheels'):\n\nIt is safe to delete any log files and build directories, but they\ncontain information that is helpful for debugging build problems.\nWARNING: If you now run 'make' again, the build directory of the\nsame version of the package will, by default, be deleted. Set the\nenvironment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.\n\nmake: *** [Makefile:39: sagelib-tox-python-sagewheels] Error 1\nERROR: InvocationError for command /bin/bash -c 'export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/lib/llvm/12/bin:/home/mjo/bin:/home/mjo/bin && : &&  case \"\" in 1|y*|Y*);; *) ./bootstrap ;; esac &&  : &&  case \"\" in 1|y*|Y*);; *) ./configure --prefix=/home/mjo/src/sage.git/.tox/local-direct/local --enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes  --without-system-python3 ;; esac &&  case \"build sagelib-tox-python-sagewheels\" in  bash)    bash -i; exit ;;  config*) ;;  *)       make -k V=0 base-toolchain ;;  esac &&  make -k V=0 SAGE_CHECK=warn SAGE_CHECK_PACKAGES=\"!cython,!r,!python3,!gap,!cysignals,!linbox,!git,!ppl,!cmake,!rpy2,!sage_sws2rst\"  build sagelib-tox-python-sagewheels && ( [ -z \"\" ] || make -k V=0 SAGE_CHECK=warn SAGE_CHECK_PACKAGES=\"!cython,!r,!python3,!gap,!cysignals,!linbox,!git,!ppl,!cmake,!rpy2,!sage_sws2rst\"  || echo \"(error ignored)\" ) ' (exited with code 2)\n__________________________________________________________________________________ summary __________________________________________________________________________________\nERROR:   local-direct: commands failed\n```\n\nIs that expected (did I construct my example wrong?)",
    "created_at": "2021-12-01T12:12:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509433",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:18'></a>
I've tried to test these locally but I always get some complaint about `sage_setup.py`. For example,

```
$ EXTRA_CONFIGURE_ARGS="--without-system-python3" tox -e local-direct -- build sagelib-tox-python-sagewheels
```

This proceeded to build everything inside of `.tox/local-direct`, but then...


```
cd '/home/mjo/src/sage.git/build/pkgs/sagelib/src' && export PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/lib/llvm/12/bin:/home/mjo/bin:/home/mjo/bin" && SAGE_SPKG_WHEELS=/home/mjo/src/sage.git/.tox/local-direct/local/var/lib/sage/wheels tox -v -v -v -e python-sagewheels
using tox.ini: /home/mjo/src/sage.git/pkgs/sagemath-standard/tox.ini (pid 12133)
  removing /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/log
using tox-3.24.4 from /usr/lib/python3.9/site-packages/tox/__init__.py (pid 12133)
GLOB start: packaging 
GLOB sdist-make: /home/mjo/src/sage.git/pkgs/sagemath-standard/setup.py
[12140] /home/mjo/src/sage.git/pkgs/sagemath-standard$ /usr/bin/python3.9 setup.py sdist --formats=zip --dist-dir /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/dist >.tox/log/GLOB-0.log
ERROR: invocation failed (exit code 1), logfile: /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/log/GLOB-0.log
================================== log start ===================================
Traceback (most recent call last):
  File "/home/mjo/src/sage.git/pkgs/sagemath-standard/setup.py", line 31, in <module>
    from sage_setup.excepthook import excepthook
ModuleNotFoundError: No module named 'sage_setup'

=================================== log end ====================================
ERROR: FAIL could not package project - v = InvocationError('/usr/bin/python3.9 setup.py sdist --formats=zip --dist-dir /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/dist', 1)
make[1]: *** [Makefile:2798: sagelib-tox-python-sagewheels] Error 2
make[1]: Leaving directory '/home/mjo/src/sage.git/build/make'

real	0m4.988s
user	0m1.223s
sys	0m0.145s
***************************************************************
Error building Sage.

The following package(s) may have failed to build (not necessarily
during this run of 'make sagelib-tox-python-sagewheels'):

It is safe to delete any log files and build directories, but they
contain information that is helpful for debugging build problems.
WARNING: If you now run 'make' again, the build directory of the
same version of the package will, by default, be deleted. Set the
environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.

make: *** [Makefile:39: sagelib-tox-python-sagewheels] Error 1
ERROR: InvocationError for command /bin/bash -c 'export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/lib/llvm/12/bin:/home/mjo/bin:/home/mjo/bin && : &&  case "" in 1|y*|Y*);; *) ./bootstrap ;; esac &&  : &&  case "" in 1|y*|Y*);; *) ./configure --prefix=/home/mjo/src/sage.git/.tox/local-direct/local --enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes  --without-system-python3 ;; esac &&  case "build sagelib-tox-python-sagewheels" in  bash)    bash -i; exit ;;  config*) ;;  *)       make -k V=0 base-toolchain ;;  esac &&  make -k V=0 SAGE_CHECK=warn SAGE_CHECK_PACKAGES="!cython,!r,!python3,!gap,!cysignals,!linbox,!git,!ppl,!cmake,!rpy2,!sage_sws2rst"  build sagelib-tox-python-sagewheels && ( [ -z "" ] || make -k V=0 SAGE_CHECK=warn SAGE_CHECK_PACKAGES="!cython,!r,!python3,!gap,!cysignals,!linbox,!git,!ppl,!cmake,!rpy2,!sage_sws2rst"  || echo "(error ignored)" ) ' (exited with code 2)
__________________________________________________________________________________ summary __________________________________________________________________________________
ERROR:   local-direct: commands failed
```

Is that expected (did I construct my example wrong?)



---

archive/issue_comments_509434.json:
```json
{
    "body": "**Changing dependencies** from \"#32442, #32698\" to \"#32899\".",
    "created_at": "2021-12-01T17:34:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509434",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32442, #32698" to "#32899".



---

archive/issue_comments_509435.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5ad5186a9835a8a82e1d6f25ec318ac9bb5c9f8\">e5ad518</a></td><td><code>pkgs/sagemath-standard/setup.py: Do not depend on sage_setup for sdist or egg_info</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/821d16e64c9506f33fcc57992bfe77512d707231\">821d16e</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Add bootstrap to testing instructions to avoid the trap of #32868</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77c957f44881baa2f9b9c9a41a94098d9b9a0d7d\">77c957f</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Put hierarchy section one level higher</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9375ef85a66d83c62fe9658c7e99beff873db651\">9375ef8</a></td><td><code>pkgs/sagemath-standard/tox.ini: Use SAGE_VENV or venv symlink to find wheels</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6fc11169fb777a699b6c0dd7d99c6197eb9a1f9\">c6fc111</a></td><td><code>Prettier diagram</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d6a44ce9551bfcdde44897c9676281028bafbdb\">7d6a44c</a></td><td><code>Use :mod: as markup for packages/modules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f83d424d1270d03643d41c47d697c0931b0627dc\">f83d424</a></td><td><code>Improve ABC example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/817a8d0ccc1b65d7bd2d38b2e4b8bcb572ced84f\">817a8d0</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: More :mod: and :class: markup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b555735c504a86cb0f465afad5daee82db69d77f\">b555735</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Link to pypi.org and to documentation of packaging metadata</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66\">ad12d25</a></td><td><code>Merge #32899</code></td></tr></table>\n",
    "created_at": "2021-12-01T17:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509435",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5ad5186a9835a8a82e1d6f25ec318ac9bb5c9f8">e5ad518</a></td><td><code>pkgs/sagemath-standard/setup.py: Do not depend on sage_setup for sdist or egg_info</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/821d16e64c9506f33fcc57992bfe77512d707231">821d16e</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Add bootstrap to testing instructions to avoid the trap of #32868</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77c957f44881baa2f9b9c9a41a94098d9b9a0d7d">77c957f</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Put hierarchy section one level higher</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9375ef85a66d83c62fe9658c7e99beff873db651">9375ef8</a></td><td><code>pkgs/sagemath-standard/tox.ini: Use SAGE_VENV or venv symlink to find wheels</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6fc11169fb777a699b6c0dd7d99c6197eb9a1f9">c6fc111</a></td><td><code>Prettier diagram</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d6a44ce9551bfcdde44897c9676281028bafbdb">7d6a44c</a></td><td><code>Use :mod: as markup for packages/modules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f83d424d1270d03643d41c47d697c0931b0627dc">f83d424</a></td><td><code>Improve ABC example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/817a8d0ccc1b65d7bd2d38b2e4b8bcb572ced84f">817a8d0</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: More :mod: and :class: markup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b555735c504a86cb0f465afad5daee82db69d77f">b555735</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Link to pypi.org and to documentation of packaging metadata</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66">ad12d25</a></td><td><code>Merge #32899</code></td></tr></table>




---

archive/issue_comments_509436.json:
```json
{
    "body": "**Changing commit** from \"[bdbab3aca65138c1a80009c546df53af04d740f6](https://github.com/sagemath/sagetrac-mirror/commit/bdbab3aca65138c1a80009c546df53af04d740f6)\" to \"[ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66](https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66)\".",
    "created_at": "2021-12-01T17:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509436",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[bdbab3aca65138c1a80009c546df53af04d740f6](https://github.com/sagemath/sagetrac-mirror/commit/bdbab3aca65138c1a80009c546df53af04d740f6)" to "[ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66](https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66)".



---

archive/issue_comments_509437.json:
```json
{
    "body": "<a id='comment:21'></a>\nShould be better with this branch",
    "created_at": "2021-12-01T17:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509437",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Should be better with this branch



---

archive/issue_comments_509438.json:
```json
{
    "body": "<a id='comment:22'></a>\n(needs `./bootstrap`)",
    "created_at": "2021-12-01T17:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509438",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
(needs `./bootstrap`)



---

archive/issue_comments_509439.json:
```json
{
    "body": "<a id='comment:23'></a>\nI just noticed these as well, probably from an empty `$CC --version` in sage_setup. No idea if they're new, I probably just happened to be looking in the right place at exactly the right time:\n\n```\n  Getting requirements to build wheel: finished with status 'done'\n    Preparing wheel metadata: started\n    Running command /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/python-s\\\nagewheels-nopypi/bin/python /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/\\\npython-sagewheels-nopypi/lib/python3.9/site-packages/pip/_vendor/pep517/in_proc\\\ness/_in_process.py prepare_metadata_for_build_wheel /tmp/tmphl6_9kin\n    /bin/sh: 1: --version: not found\n```\n\n```\n  Building wheel for sagemath-standard (PEP 517): started\n  Running command /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/python-sag\\\newheels-nopypi/bin/python /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/py\\\nthon-sagewheels-nopypi/lib/python3.9/site-packages/pip/_vendor/pep517/in_proces\\\ns/_in_process.py build_wheel /tmp/tmpqovldekw\n  /bin/sh: 1: --version: not found\n```",
    "created_at": "2021-12-03T21:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509439",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:23'></a>
I just noticed these as well, probably from an empty `$CC --version` in sage_setup. No idea if they're new, I probably just happened to be looking in the right place at exactly the right time:

```
  Getting requirements to build wheel: finished with status 'done'
    Preparing wheel metadata: started
    Running command /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/python-s\
agewheels-nopypi/bin/python /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/\
python-sagewheels-nopypi/lib/python3.9/site-packages/pip/_vendor/pep517/in_proc\
ess/_in_process.py prepare_metadata_for_build_wheel /tmp/tmphl6_9kin
    /bin/sh: 1: --version: not found
```

```
  Building wheel for sagemath-standard (PEP 517): started
  Running command /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/python-sag\
ewheels-nopypi/bin/python /home/mjo/src/sage.git/pkgs/sagemath-standard/.tox/py\
thon-sagewheels-nopypi/lib/python3.9/site-packages/pip/_vendor/pep517/in_proces\
s/_in_process.py build_wheel /tmp/tmpqovldekw
  /bin/sh: 1: --version: not found
```



---

archive/issue_comments_509440.json:
```json
{
    "body": "<a id='comment:24'></a>\nYes, this is #30876",
    "created_at": "2021-12-04T00:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509440",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
Yes, this is #30876



---

archive/issue_comments_509441.json:
```json
{
    "body": "**Reviewer:** Michael Orlitzky",
    "created_at": "2021-12-04T01:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509441",
    "user": "https://github.com/orlitzky"
}
```

**Reviewer:** Michael Orlitzky



---

archive/issue_events_382565.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-12-04T01:29:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382565"
}
```



---

archive/issue_events_382566.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-12-04T01:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382566"
}
```



---

archive/issue_comments_509442.json:
```json
{
    "body": "<a id='comment:25'></a>\nLooking better now; regardless, the `Makefile` targets themselves are working as intended.",
    "created_at": "2021-12-04T01:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509442",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:25'></a>
Looking better now; regardless, the `Makefile` targets themselves are working as intended.



---

archive/issue_comments_509443.json:
```json
{
    "body": "<a id='comment:26'></a>\nThanks!",
    "created_at": "2021-12-04T01:39:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509443",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Thanks!



---

archive/issue_comments_509444.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________)\" to \"[ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66](https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66)\".",
    "created_at": "2021-12-23T20:26:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31535#issuecomment-509444",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/new_make_targets__sagelib_sdist____sage_docbuild_sdist_______and__sagelib_tox__________)" to "[ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66](https://github.com/sagemath/sagetrac-mirror/commit/ad12d251cc7a6a5a7a5a369310bc1e7ad89b8f66)".



---

archive/issue_events_382567.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-23T20:26:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382567"
}
```



---

archive/issue_events_382568.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0320f4ffe19da7ea6ee55373deb0a55625d06af3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-12-23T20:26:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31535",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31535#event-382568"
}
```
