# Issue 31485: Meta-ticket: Sage on WSL (Windows Subsystem for Linux)

archive/issues_031248.json:
```json
{
    "body": "**Promoting a WSL2 port as the preferred windows platform**\n\n- from [sage-devel charpent](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/eZHBJAfEAQAJ) we should be able to commit ourselves to maintain a binary distribution for at least one WSL2-supported Linux platform.\n\n- from [sage-devel mkoeppe](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/c113pbPSAQAJ) Ubuntu and perhaps other distributions that run on WSL (1 or 2) already package recent versions of Sage. So perhaps all we need to do is test that these packages work well; and then update our documentation to recommend one or the other to potential users on Windows. (For the issue of testing of downstream packaging - see below). Also other aspects of supporting Windows can be much improved by what basically amounts to writing documentation.\n\n  - Distributions that provide up-to-date binary packages for Sage (https://repology.org/project/sagemath/versions): Arch, Manjaro, Void\n\n  - Distributions that are supported with WSL: ...?\n\n- https://groups.google.com/g/sage-support/c/iqxwX1QVezU/m/Ce2_sDVFBQAJ\n\n- #31156 (Doc: Add instructions how to run Sage + Jupyter notebook in WSL, browser in Windows)\n- #31157 (Doc: Add instructions on how to run the [SageMath](SageMath) jupyter kernel in WSL, add as a kernel to Jupyter running natively in Windows)\n- https://code.visualstudio.com/docs/remote/wsl\n- #30484 Documentation/configuration for Sage on Windows using Visual Studio (vscode) with a WSL remote \n- see also: #30500 Meta-ticket: document configuring IDEs and text editors\n\n**Availability of WSL on Windows machines**\n\n- from [sage-devel charpent](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/eZHBJAfEAQAJ): create an alternative Windows port relying on WSL2 [...] This would, however, exclude support of any Windows version earlier than recent Windows 10. Is that a problem? \n\n- (from #31409 dimpase): online statistics says that among Windows installations, version 10 is approaching 80%. High time to think about WSL2 as a primary platform. Moreover, the 2nd biggest, qua # of installs, is Windows version 7, on 16%, which is past its EOL, so it's either on very old machines which won't really be capable of running resouce-hungry Sage well, anyway, or on machines having some old, unupgradeable, soft installed. Windows 8 (EOLed since 2016) is at 1% and 8.1, still supported, on 3.7%.\u200b https://gs.statcounter.com/windows-version-market-share/desktop/worldwide/\n\n- (from #31409 embray): WSL2 is an installation nightmare for typical users. ... WSL will just give you a new and different set of problems.\n\n\n**Central issue: Testing of binary distributions**\n\n- from [sage-devel mkoeppe](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/w7XYRfbRAQAJ): there is a big problem with the current binary distributions for all platforms. What seems to be missing is a procedure to test them before releasing them. \n  see #31133 (Meta-ticket: Making and testing binary distributions)\n\n- from [sage-devel embray](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/Z_ZH_gMQAgAJ): It's a problem on Sage-Windows as well. In the past I've gotten it to work, but [...] it tends to break again, and [...] there is a not a well-established process for testing this\n\n**Testing that from-source installations work in WSL**\n\n- #31088 GH Actions: WSL workflow: No space left on device\n\n**Developing on Windows with Sage running in WSL**\n\n- #30505 tox.ini: Add `wsl` as a technology, to complement `local` and `docker`\n\n\nReferences\n\n- https://adamtheautomator.com/windows-subsystem-for-linux/\n\n\n\nCC:  @dimpase @EmmanuelCharpentier @embray @kcrisman tmonteil @williamstein @nbruin @NathanDunfield\n\nIssue created by migration from https://trac.sagemath.org/ticket/31485\n\n",
    "created_at": "2021-03-11T18:54:17Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: Sage on WSL (Windows Subsystem for Linux)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31485",
    "user": "https://github.com/mkoeppe"
}
```
**Promoting a WSL2 port as the preferred windows platform**

- from [sage-devel charpent](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/eZHBJAfEAQAJ) we should be able to commit ourselves to maintain a binary distribution for at least one WSL2-supported Linux platform.

- from [sage-devel mkoeppe](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/c113pbPSAQAJ) Ubuntu and perhaps other distributions that run on WSL (1 or 2) already package recent versions of Sage. So perhaps all we need to do is test that these packages work well; and then update our documentation to recommend one or the other to potential users on Windows. (For the issue of testing of downstream packaging - see below). Also other aspects of supporting Windows can be much improved by what basically amounts to writing documentation.

  - Distributions that provide up-to-date binary packages for Sage (https://repology.org/project/sagemath/versions): Arch, Manjaro, Void

  - Distributions that are supported with WSL: ...?

- https://groups.google.com/g/sage-support/c/iqxwX1QVezU/m/Ce2_sDVFBQAJ

- #31156 (Doc: Add instructions how to run Sage + Jupyter notebook in WSL, browser in Windows)
- #31157 (Doc: Add instructions on how to run the [SageMath](SageMath) jupyter kernel in WSL, add as a kernel to Jupyter running natively in Windows)
- https://code.visualstudio.com/docs/remote/wsl
- #30484 Documentation/configuration for Sage on Windows using Visual Studio (vscode) with a WSL remote 
- see also: #30500 Meta-ticket: document configuring IDEs and text editors

**Availability of WSL on Windows machines**

- from [sage-devel charpent](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/eZHBJAfEAQAJ): create an alternative Windows port relying on WSL2 [...] This would, however, exclude support of any Windows version earlier than recent Windows 10. Is that a problem? 

- (from #31409 dimpase): online statistics says that among Windows installations, version 10 is approaching 80%. High time to think about WSL2 as a primary platform. Moreover, the 2nd biggest, qua # of installs, is Windows version 7, on 16%, which is past its EOL, so it's either on very old machines which won't really be capable of running resouce-hungry Sage well, anyway, or on machines having some old, unupgradeable, soft installed. Windows 8 (EOLed since 2016) is at 1% and 8.1, still supported, on 3.7%.â€‹ https://gs.statcounter.com/windows-version-market-share/desktop/worldwide/

- (from #31409 embray): WSL2 is an installation nightmare for typical users. ... WSL will just give you a new and different set of problems.


**Central issue: Testing of binary distributions**

- from [sage-devel mkoeppe](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/w7XYRfbRAQAJ): there is a big problem with the current binary distributions for all platforms. What seems to be missing is a procedure to test them before releasing them. 
  see #31133 (Meta-ticket: Making and testing binary distributions)

- from [sage-devel embray](https://groups.google.com/g/sage-devel/c/alkG4veIsBk/m/Z_ZH_gMQAgAJ): It's a problem on Sage-Windows as well. In the past I've gotten it to work, but [...] it tends to break again, and [...] there is a not a well-established process for testing this

**Testing that from-source installations work in WSL**

- #31088 GH Actions: WSL workflow: No space left on device

**Developing on Windows with Sage running in WSL**

- #30505 tox.ini: Add `wsl` as a technology, to complement `local` and `docker`


References

- https://adamtheautomator.com/windows-subsystem-for-linux/



CC:  @dimpase @EmmanuelCharpentier @embray @kcrisman tmonteil @williamstein @nbruin @NathanDunfield

Issue created by migration from https://trac.sagemath.org/ticket/31485





---

archive/issue_events_082675.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-10T17:42:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82675"
}
```



---

archive/issue_comments_446077.json:
```json
{
    "body": "<a id='comment:7'></a>Moving to 9.4, as 9.3 has been released.",
    "created_at": "2021-05-10T17:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31485#issuecomment-446077",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Moving to 9.4, as 9.3 has been released.



---

archive/issue_events_082676.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82676"
}
```



---

archive/issue_events_082677.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82677"
}
```



---

archive/issue_events_082678.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-12T17:35:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82678"
}
```



---

archive/issue_events_082679.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-12T17:35:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82679"
}
```



---

archive/issue_comments_446078.json:
```json
{
    "body": "<a id='comment:14'></a>https://wiki.sagemath.org/SageWindows has some info",
    "created_at": "2022-04-05T01:12:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31485#issuecomment-446078",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>https://wiki.sagemath.org/SageWindows has some info



---

archive/issue_events_082680.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82680"
}
```



---

archive/issue_events_082681.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82681"
}
```



---

archive/issue_events_082682.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82682"
}
```



---

archive/issue_events_082683.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31485",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31485#event-82683"
}
```
