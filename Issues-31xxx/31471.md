# Issue 31471: Matrix-wise functions for univariate polynomial matrices

archive/issues_031234.json:
```json
{
    "body": "Some **polynomial-type operations** should be made available **matrix-wise**:\n* `monic` (make each row-wise/column-wise leading polynomial monic)\n* `truncation` (and more generally, mod by a polynomial? careful: mod method exists for this type of objects)\n* `shift` (multiplication by power of variable)\n* `reverse` (same polynomial with coefficients reversed; here w.r.t to matrix degree but also finer prescribed column-wise or row-wise bounds)\n\nTo be decided whether this should be added:\n* get constant coefficient or coefficient of specified degree\n* test `is_constant`\n\nCC:  @ke456\n\nKeywords: polynomial matrix; univariate polynomials\n\nBranch/Commit: 2c36a1efe99dd5cff3037b87aec83573acc6ca5e\n\nReviewer: Seung Gyu Hyun\n\nAuthor: Vincent Neiger\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31471\n\n",
    "closed_at": "2021-03-20T15:27:31Z",
    "created_at": "2021-03-08T10:06:27Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Matrix-wise functions for univariate polynomial matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31471",
    "user": "https://github.com/vneiger"
}
```
Some **polynomial-type operations** should be made available **matrix-wise**:
* `monic` (make each row-wise/column-wise leading polynomial monic)
* `truncation` (and more generally, mod by a polynomial? careful: mod method exists for this type of objects)
* `shift` (multiplication by power of variable)
* `reverse` (same polynomial with coefficients reversed; here w.r.t to matrix degree but also finer prescribed column-wise or row-wise bounds)

To be decided whether this should be added:
* get constant coefficient or coefficient of specified degree
* test `is_constant`

CC:  @ke456

Keywords: polynomial matrix; univariate polynomials

Branch/Commit: 2c36a1efe99dd5cff3037b87aec83573acc6ca5e

Reviewer: Seung Gyu Hyun

Author: Vincent Neiger

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31471





---

archive/issue_comments_625265.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-vneiger/matrix_wise_functions_for_univariate_polynomial_matrices\"",
    "created_at": "2021-03-09T15:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625265",
    "user": "https://github.com/vneiger"
}
```

Changing branch from "" to "u/gh-vneiger/matrix_wise_functions_for_univariate_polynomial_matrices"



---

archive/issue_comments_625266.json:
```json
{
    "body": "Changing commit from \"\" to \"7c9e9a32c86586c36e66eaf68d63b05289df7bfd\"",
    "created_at": "2021-03-09T17:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "7c9e9a32c86586c36e66eaf68d63b05289df7bfd"



---

archive/issue_comments_625267.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[7c9e9a3](https://git.sagemath.org/sage.git/commit/?id=7c9e9a32c86586c36e66eaf68d63b05289df7bfd)|`matrix truncate`|",
    "created_at": "2021-03-09T17:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[7c9e9a3](https://git.sagemath.org/sage.git/commit/?id=7c9e9a32c86586c36e66eaf68d63b05289df7bfd)|`matrix truncate`|



---

archive/issue_comments_625268.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|\n|[fd88fb1](https://git.sagemath.org/sage.git/commit/?id=fd88fb19ce4c8aa62c2c4177fd2f7b56c1a04d7b)|`minor fixes`|",
    "created_at": "2021-03-09T17:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|
|[fd88fb1](https://git.sagemath.org/sage.git/commit/?id=fd88fb19ce4c8aa62c2c4177fd2f7b56c1a04d7b)|`minor fixes`|



---

archive/issue_comments_625269.json:
```json
{
    "body": "Changing commit from \"7c9e9a32c86586c36e66eaf68d63b05289df7bfd\" to \"fd88fb19ce4c8aa62c2c4177fd2f7b56c1a04d7b\"",
    "created_at": "2021-03-09T17:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625269",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7c9e9a32c86586c36e66eaf68d63b05289df7bfd" to "fd88fb19ce4c8aa62c2c4177fd2f7b56c1a04d7b"



---

archive/issue_comments_625270.json:
```json
{
    "body": "<a id='comment:4'></a>\nUpdate:\n* the truncation function is complete\n* monic is probably not a good idea to have as a general method; use cases are not clear for an arbitrary matrix: it could be more specifically targeted towards weak Popov form matrices.",
    "created_at": "2021-03-09T17:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625270",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:4'></a>
Update:
* the truncation function is complete
* monic is probably not a good idea to have as a general method; use cases are not clear for an arbitrary matrix: it could be more specifically targeted towards weak Popov form matrices.



---

archive/issue_comments_625271.json:
```json
{
    "body": "Changing commit from \"fd88fb19ce4c8aa62c2c4177fd2f7b56c1a04d7b\" to \"ff705188150a75f10c6476f551eb55623bd21b24\"",
    "created_at": "2021-03-09T18:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fd88fb19ce4c8aa62c2c4177fd2f7b56c1a04d7b" to "ff705188150a75f10c6476f551eb55623bd21b24"



---

archive/issue_comments_625272.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------|\n|[ff70518](https://git.sagemath.org/sage.git/commit/?id=ff705188150a75f10c6476f551eb55623bd21b24)|`shift`|",
    "created_at": "2021-03-09T18:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------|
|[ff70518](https://git.sagemath.org/sage.git/commit/?id=ff705188150a75f10c6476f551eb55623bd21b24)|`shift`|



---

archive/issue_comments_625273.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[34aa2ef](https://git.sagemath.org/sage.git/commit/?id=34aa2efc66414de37da370092faf34f95f59a33a)|`reverse, constant matrix`|\n|[3b32934](https://git.sagemath.org/sage.git/commit/?id=3b329349b62ae788ab4195e6562e2e54f3822752)|`using constant_matrix where applicable`|\n|[7990380](https://git.sagemath.org/sage.git/commit/?id=799038096b2963c76ee34e42a7f9f48d86342894)|`is_constant; and some notes`|\n|[85583a6](https://git.sagemath.org/sage.git/commit/?id=85583a67e6a1184875b0cc288991eb7a7c47cfca)|`matrix coefficient of degree, and some related updates`|",
    "created_at": "2021-03-09T21:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[34aa2ef](https://git.sagemath.org/sage.git/commit/?id=34aa2efc66414de37da370092faf34f95f59a33a)|`reverse, constant matrix`|
|[3b32934](https://git.sagemath.org/sage.git/commit/?id=3b329349b62ae788ab4195e6562e2e54f3822752)|`using constant_matrix where applicable`|
|[7990380](https://git.sagemath.org/sage.git/commit/?id=799038096b2963c76ee34e42a7f9f48d86342894)|`is_constant; and some notes`|
|[85583a6](https://git.sagemath.org/sage.git/commit/?id=85583a67e6a1184875b0cc288991eb7a7c47cfca)|`matrix coefficient of degree, and some related updates`|



---

archive/issue_comments_625274.json:
```json
{
    "body": "Changing commit from \"ff705188150a75f10c6476f551eb55623bd21b24\" to \"85583a67e6a1184875b0cc288991eb7a7c47cfca\"",
    "created_at": "2021-03-09T21:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625274",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ff705188150a75f10c6476f551eb55623bd21b24" to "85583a67e6a1184875b0cc288991eb7a7c47cfca"



---

archive/issue_comments_625275.json:
```json
{
    "body": "<a id='comment:7'></a>\nAll the listed enhancements have been realized, along with tests and documentation. The methods support uniform actions, and also row-wise or column-wise ones where applicable (i.e. all methods except `constant_matrix` and `is_constant`).\n\nRegarding naming:\n* `constant_matrix` seems to be preferred over things like `constant_term` or `constant_coefficient`, since `coefficients` and `terms` are already existing methods relating to other notions\n* I am ready to discuss the name for `matrix_coefficient_of_degree`, which I find too verbose.",
    "created_at": "2021-03-09T21:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625275",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:7'></a>
All the listed enhancements have been realized, along with tests and documentation. The methods support uniform actions, and also row-wise or column-wise ones where applicable (i.e. all methods except `constant_matrix` and `is_constant`).

Regarding naming:
* `constant_matrix` seems to be preferred over things like `constant_term` or `constant_coefficient`, since `coefficients` and `terms` are already existing methods relating to other notions
* I am ready to discuss the name for `matrix_coefficient_of_degree`, which I find too verbose.



---

archive/issue_comments_625276.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-10T19:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625276",
    "user": "https://github.com/vneiger"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_625277.json:
```json
{
    "body": "<a id='comment:9'></a>\nThings look good for the most part. Two suggestions:\n1) for reverse, we should have an option to reverse polynomials wrt its own degree (rather than the degree of the polynomial matrix) when degrees are not specified - perhaps we can add a parameter entry_wise=False;\n2) coefficient_matrix might be a less verbose name than matrix_coefficient_of_degree",
    "created_at": "2021-03-11T01:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625277",
    "user": "https://github.com/ke456"
}
```

<a id='comment:9'></a>
Things look good for the most part. Two suggestions:
1) for reverse, we should have an option to reverse polynomials wrt its own degree (rather than the degree of the polynomial matrix) when degrees are not specified - perhaps we can add a parameter entry_wise=False;
2) coefficient_matrix might be a less verbose name than matrix_coefficient_of_degree



---

archive/issue_comments_625278.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[d08c5b6](https://git.sagemath.org/sage.git/commit/?id=d08c5b6aca606a8e8e65698e4f8130f962c181ef)|`fix required suggestions`|\n|[5a95c6d](https://git.sagemath.org/sage.git/commit/?id=5a95c6ddac95edcc71ffdb03cc52d7392b066697)|`simplifying the code for matrices having one nrows or ncols zero`|",
    "created_at": "2021-03-11T08:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[d08c5b6](https://git.sagemath.org/sage.git/commit/?id=d08c5b6aca606a8e8e65698e4f8130f962c181ef)|`fix required suggestions`|
|[5a95c6d](https://git.sagemath.org/sage.git/commit/?id=5a95c6ddac95edcc71ffdb03cc52d7392b066697)|`simplifying the code for matrices having one nrows or ncols zero`|



---

archive/issue_comments_625279.json:
```json
{
    "body": "Changing commit from \"85583a67e6a1184875b0cc288991eb7a7c47cfca\" to \"5a95c6ddac95edcc71ffdb03cc52d7392b066697\"",
    "created_at": "2021-03-11T08:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "85583a67e6a1184875b0cc288991eb7a7c47cfca" to "5a95c6ddac95edcc71ffdb03cc52d7392b066697"



---

archive/issue_comments_625280.json:
```json
{
    "body": "<a id='comment:11'></a>\nThank you for the two suggestions: I followed them for the additional `entry_wise` parameter, and for the `coefficient_matrix` name (less verbose, and also less confusing than things which would be too close to the `coefficients` and `terms` methods).\n\nI also simplified the code a bit, since there was harmless but unnecessary lines supposed to handle matrices having zero rows or zero columns (or both).",
    "created_at": "2021-03-11T08:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625280",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:11'></a>
Thank you for the two suggestions: I followed them for the additional `entry_wise` parameter, and for the `coefficient_matrix` name (less verbose, and also less confusing than things which would be too close to the `coefficients` and `terms` methods).

I also simplified the code a bit, since there was harmless but unnecessary lines supposed to handle matrices having zero rows or zero columns (or both).



---

archive/issue_comments_625281.json:
```json
{
    "body": "Changing commit from \"5a95c6ddac95edcc71ffdb03cc52d7392b066697\" to \"2c36a1efe99dd5cff3037b87aec83573acc6ca5e\"",
    "created_at": "2021-03-11T11:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625281",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5a95c6ddac95edcc71ffdb03cc52d7392b066697" to "2c36a1efe99dd5cff3037b87aec83573acc6ca5e"



---

archive/issue_comments_625282.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[a220bb8](https://git.sagemath.org/sage.git/commit/?id=a220bb8f90776a7e36c2434d1576d98b7c94ba2c)|`doc missing blank line`|\n|[2c36a1e](https://git.sagemath.org/sage.git/commit/?id=2c36a1efe99dd5cff3037b87aec83573acc6ca5e)|`improve documentation`|",
    "created_at": "2021-03-11T11:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[a220bb8](https://git.sagemath.org/sage.git/commit/?id=a220bb8f90776a7e36c2434d1576d98b7c94ba2c)|`doc missing blank line`|
|[2c36a1e](https://git.sagemath.org/sage.git/commit/?id=2c36a1efe99dd5cff3037b87aec83573acc6ca5e)|`improve documentation`|



---

archive/issue_comments_625283.json:
```json
{
    "body": "<a id='comment:13'></a>\nReady for second round of reviewing, thank you.",
    "created_at": "2021-03-11T11:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625283",
    "user": "https://github.com/vneiger"
}
```

<a id='comment:13'></a>
Ready for second round of reviewing, thank you.



---

archive/issue_comments_625284.json:
```json
{
    "body": "<a id='comment:14'></a>\nThe new changes seem to address the previous comment fully.",
    "created_at": "2021-03-17T04:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625284",
    "user": "https://github.com/ke456"
}
```

<a id='comment:14'></a>
The new changes seem to address the previous comment fully.



---

archive/issue_comments_625285.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-17T04:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625285",
    "user": "https://github.com/ke456"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_625286.json:
```json
{
    "body": "Changing branch from \"u/gh-vneiger/matrix_wise_functions_for_univariate_polynomial_matrices\" to \"2c36a1efe99dd5cff3037b87aec83573acc6ca5e\"",
    "created_at": "2021-03-20T15:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625286",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-vneiger/matrix_wise_functions_for_univariate_polynomial_matrices" to "2c36a1efe99dd5cff3037b87aec83573acc6ca5e"



---

archive/issue_comments_625287.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-20T15:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31471#issuecomment-625287",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_082622.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-20T15:27:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31471",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31471#event-82622"
}
```
