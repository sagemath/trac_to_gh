# Issue 31228: The "-march=native" flag vs. the compiler used when Python extensions are built

archive/issues_030991.json:
```json
{
    "assignees": [],
    "body": "(from #31132)\n\n#27122 determines whether `CC` accepts `-march=native` and then adds it globally to `CFLAGS` in `build/bin/sage-build-env`.\n\nHowever, Python extension modules are compiled with the compiler listed in sysconfig. On macOS with homebrew, using `/usr/bin/python3`, this could be `clang`, which does not accept `-march=native`.\n\nDepends on #3113\nDepends on #30725\n\nCC:  @kliem @zlscherr @jhpalmieri\n\nReviewer: **Jonathan Kliem**\n\nComponent: **build: configure**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31228_\n\n",
    "closed_at": "2021-03-26T20:28:26Z",
    "created_at": "2021-01-13T01:51:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "The \"-march=native\" flag vs. the compiler used when Python extensions are built",
    "type": "issue",
    "updated_at": "2021-03-26T20:28:26Z",
    "url": "https://github.com/sagemath/sage/issues/31228",
    "user": "https://github.com/mkoeppe"
}
```
(from #31132)

#27122 determines whether `CC` accepts `-march=native` and then adds it globally to `CFLAGS` in `build/bin/sage-build-env`.

However, Python extension modules are compiled with the compiler listed in sysconfig. On macOS with homebrew, using `/usr/bin/python3`, this could be `clang`, which does not accept `-march=native`.

Depends on #3113
Depends on #30725

CC:  @kliem @zlscherr @jhpalmieri

Reviewer: **Jonathan Kliem**

Component: **build: configure**

_Issue created by migration from https://trac.sagemath.org/ticket/31228_





---

archive/issue_events_432499.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-13T01:51:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432499"
}
```



---

archive/issue_events_432500.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-13T01:51:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "000080",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432500"
}
```



---

archive/issue_events_432501.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-13T01:51:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432501"
}
```



---

archive/issue_events_432502.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-13T01:51:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432502"
}
```



---

archive/issue_comments_500311.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nDo we manually set the Compiler to be different somewhere vor is this enforced by using system python? If not, is there a reasonable place to check this?\n\nCan this happen to python modules only?",
    "created_at": "2021-01-13T07:29:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500311",
    "user": "https://github.com/kliem"
}
```

<div id="comment:2" align="right">comment:2</div>

Do we manually set the Compiler to be different somewhere vor is this enforced by using system python? If not, is there a reasonable place to check this?

Can this happen to python modules only?



---

archive/issue_comments_500312.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThere is `CFLAGS_NON_NATIVE` etc that should be used in case the compiler changes.",
    "created_at": "2021-01-13T07:30:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500312",
    "user": "https://github.com/kliem"
}
```

<div id="comment:3" align="right">comment:3</div>

There is `CFLAGS_NON_NATIVE` etc that should be used in case the compiler changes.



---

archive/issue_comments_500313.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis is the standard behavior of python's distutils. Only Python extension modules are affected.\n\n`m4/sage_check_python_for_venv` defines a macro used by `build/pkgs/python3/spkg-configure.m4` to check the suitability of distutils.\n\nThese are probably the best places to put additional checks.",
    "created_at": "2021-01-13T20:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500313",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

This is the standard behavior of python's distutils. Only Python extension modules are affected.

`m4/sage_check_python_for_venv` defines a macro used by `build/pkgs/python3/spkg-configure.m4` to check the suitability of distutils.

These are probably the best places to put additional checks.



---

archive/issue_comments_500314.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI see. I can add a file compiling with `-march=native` in `m4/sage_check_python_for_venv`. In case of failure, I have to export something.\n\nIf this fails, I have to build extension modules with `export CFLAGS=CFLAGS_NON_NATIVE` and `export CXXFLAGS=CXXFLAGS_NON_NATIVE` somehow.",
    "created_at": "2021-01-13T20:54:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500314",
    "user": "https://github.com/kliem"
}
```

<div id="comment:5" align="right">comment:5</div>

I see. I can add a file compiling with `-march=native` in `m4/sage_check_python_for_venv`. In case of failure, I have to export something.

If this fails, I have to build extension modules with `export CFLAGS=CFLAGS_NON_NATIVE` and `export CXXFLAGS=CXXFLAGS_NON_NATIVE` somehow.



---

archive/issue_comments_500315.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nMuch easier would be to give completely up on `march=native` in this case.",
    "created_at": "2021-01-13T20:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500315",
    "user": "https://github.com/kliem"
}
```

<div id="comment:6" align="right">comment:6</div>

Much easier would be to give completely up on `march=native` in this case.



---

archive/issue_comments_500316.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@kliem](#comment:6):\n> Much easier would be to give completely up on `march=native` in this case.\n\nYes, I think that would be better. Otherwise too many `spkg-install` files would have to be changed. I don't see a clean way of implementing this in the helper functions `sdh_pip_install` and `sdh_setup_bdist_wheel`.",
    "created_at": "2021-01-13T21:04:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500316",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@kliem](#comment:6):
> Much easier would be to give completely up on `march=native` in this case.

Yes, I think that would be better. Otherwise too many `spkg-install` files would have to be changed. I don't see a clean way of implementing this in the helper functions `sdh_pip_install` and `sdh_setup_bdist_wheel`.



---

archive/issue_events_432503.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-14T00:49:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432503"
}
```



---

archive/issue_events_432504.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-14T00:49:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432504"
}
```



---

archive/issue_comments_500317.json:
```json
{
    "body": "Branch: **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)**",
    "created_at": "2021-01-14T04:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500317",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)**



---

archive/issue_comments_500318.json:
```json
{
    "body": "Commit: **[`289b162`](https://github.com/sagemath/sagetrac-mirror/commit/289b1629ab8e93a65249176f893f0dd54ae2111d)**",
    "created_at": "2021-01-14T04:29:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500318",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`289b162`](https://github.com/sagemath/sagetrac-mirror/commit/289b1629ab8e93a65249176f893f0dd54ae2111d)**



---

archive/issue_comments_500319.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c6002555d21e242ab5d1e25e4d1f3851e246532\"><code>2c60025</code></a></td><td><code>m4/sage_check_python_for_venv.m4: Warn if python3 is misconfigured like it is currently in homebrew</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee679bd57302d8e422e76b422d73f83ab87a4293\"><code>ee679bd</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Do not check sysconfig CPPFLAGS so that /usr/bin/python3 is accepted on macOS; reject broken homebrew python3 unless requested explicitly with configgure --with-python=...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29aee87fc01f6fce3cc4356c98f27c44e4ce2b5b\"><code>29aee87</code></a></td><td><code>build/pkgs/python3: Update to 3.9.0rc2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e61d464292262d80c43895c64fce4f48a6895822\"><code>e61d464</code></a></td><td><code>build/pkgs/python3: Update to 3.9.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8bb56d16600c8cfe1bab1d127f3931ca280dff0\"><code>f8bb56d</code></a></td><td><code>build/pkgs/python3: Update to 3.9.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e3513fcb3e2efa1832db8bd7957a93ad75b215c\"><code>0e3513f</code></a></td><td><code>build/pkgs/pip: Update to 20.3.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41d7e7a74441e5f9deb3e7a93adfccf486dde417\"><code>41d7e7a</code></a></td><td><code>Merge branch 'u/jhpalmieri/new_wheel' of git://trac.sagemath.org/sage into t/30589/upgrade-python-3.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76d5fd15f9bcc50a478471182f70ba8d46bf4319\"><code>76d5fd1</code></a></td><td><code>Merge branch 't/30589/upgrade-python-3.9' into t/31132/homebrew__unused_packages__singular__pari_______in__usr_local_leak_into_build_when_using_homebrew_s_python3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/289b1629ab8e93a65249176f893f0dd54ae2111d\"><code>289b162</code></a></td><td><code>m4/sage_check_python_for_venv.m4: Factor out macros SAGE_PYTHON_DISTUTILS_C_CONFTEST, SAGE_PYTHON_DISTUTILS_CXX_CONFTEST</code></td></tr></table>\n",
    "created_at": "2021-01-14T04:29:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500319",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c6002555d21e242ab5d1e25e4d1f3851e246532"><code>2c60025</code></a></td><td><code>m4/sage_check_python_for_venv.m4: Warn if python3 is misconfigured like it is currently in homebrew</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee679bd57302d8e422e76b422d73f83ab87a4293"><code>ee679bd</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: Do not check sysconfig CPPFLAGS so that /usr/bin/python3 is accepted on macOS; reject broken homebrew python3 unless requested explicitly with configgure --with-python=...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29aee87fc01f6fce3cc4356c98f27c44e4ce2b5b"><code>29aee87</code></a></td><td><code>build/pkgs/python3: Update to 3.9.0rc2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e61d464292262d80c43895c64fce4f48a6895822"><code>e61d464</code></a></td><td><code>build/pkgs/python3: Update to 3.9.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8bb56d16600c8cfe1bab1d127f3931ca280dff0"><code>f8bb56d</code></a></td><td><code>build/pkgs/python3: Update to 3.9.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e3513fcb3e2efa1832db8bd7957a93ad75b215c"><code>0e3513f</code></a></td><td><code>build/pkgs/pip: Update to 20.3.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41d7e7a74441e5f9deb3e7a93adfccf486dde417"><code>41d7e7a</code></a></td><td><code>Merge branch 'u/jhpalmieri/new_wheel' of git://trac.sagemath.org/sage into t/30589/upgrade-python-3.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76d5fd15f9bcc50a478471182f70ba8d46bf4319"><code>76d5fd1</code></a></td><td><code>Merge branch 't/30589/upgrade-python-3.9' into t/31132/homebrew__unused_packages__singular__pari_______in__usr_local_leak_into_build_when_using_homebrew_s_python3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/289b1629ab8e93a65249176f893f0dd54ae2111d"><code>289b162</code></a></td><td><code>m4/sage_check_python_for_venv.m4: Factor out macros SAGE_PYTHON_DISTUTILS_C_CONFTEST, SAGE_PYTHON_DISTUTILS_CXX_CONFTEST</code></td></tr></table>




---

archive/issue_comments_500320.json:
```json
{
    "body": "Dependencies: **#31132**",
    "created_at": "2021-01-14T04:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500320",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#31132**



---

archive/issue_comments_500321.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nLet's do this on top of #31132, which has modified the same files.\n\nI have added one commit that refactors `m4/sage_check_python_for_venv.m4` as preparation.",
    "created_at": "2021-01-14T04:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500321",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Let's do this on top of #31132, which has modified the same files.

I have added one commit that refactors `m4/sage_check_python_for_venv.m4` as preparation.



---

archive/issue_comments_500322.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e38057efbb87ac563350d48a1d34498d49d10403\"><code>e38057e</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: If '-march' has been set, check if it works with the compilers used for extension buildings</code></td></tr></table>\n",
    "created_at": "2021-01-14T04:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500322",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e38057efbb87ac563350d48a1d34498d49d10403"><code>e38057e</code></a></td><td><code>build/pkgs/python3/spkg-configure.m4: If '-march' has been set, check if it works with the compilers used for extension buildings</code></td></tr></table>




---

archive/issue_comments_500323.json:
```json
{
    "body": "Changed commit from **[`289b162`](https://github.com/sagemath/sagetrac-mirror/commit/289b1629ab8e93a65249176f893f0dd54ae2111d)** to **[`e38057e`](https://github.com/sagemath/sagetrac-mirror/commit/e38057efbb87ac563350d48a1d34498d49d10403)**",
    "created_at": "2021-01-14T04:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500323",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`289b162`](https://github.com/sagemath/sagetrac-mirror/commit/289b1629ab8e93a65249176f893f0dd54ae2111d)** to **[`e38057e`](https://github.com/sagemath/sagetrac-mirror/commit/e38057efbb87ac563350d48a1d34498d49d10403)**



---

archive/issue_comments_500324.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHere's an attempt",
    "created_at": "2021-01-14T04:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500324",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Here's an attempt



---

archive/issue_comments_500325.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nLooks plausible, however I don't see exactly, where `-march=native` was added such that this command fails.\n\n```\n            AS_IF([CC=\"$CC\" CXX=\"$CXX\" conftest_venv/bin/python3 conftest.py --verbose build --build-base=conftest.dir >& AS_MESSAGE_LOG_FD 2>&1 ], [\n```\n\nMaybe we need to add `-march=native` yet:\n\n```\n            AS_IF([CC=\"$CC\" CXX=\"$CXX\" CFLAGS=\"-march=native\" CXXFLAGS=\"-march=native\" conftest_venv/bin/python3 conftest.py --verbose build --build-base=conftest.dir >& AS_MESSAGE_LOG_FD 2>&1 ], [\n```\n\nBut I'm just hoping they are respected.",
    "created_at": "2021-01-14T08:15:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500325",
    "user": "https://github.com/kliem"
}
```

<div id="comment:14" align="right">comment:14</div>

Looks plausible, however I don't see exactly, where `-march=native` was added such that this command fails.

```
            AS_IF([CC="$CC" CXX="$CXX" conftest_venv/bin/python3 conftest.py --verbose build --build-base=conftest.dir >& AS_MESSAGE_LOG_FD 2>&1 ], [
```

Maybe we need to add `-march=native` yet:

```
            AS_IF([CC="$CC" CXX="$CXX" CFLAGS="-march=native" CXXFLAGS="-march=native" conftest_venv/bin/python3 conftest.py --verbose build --build-base=conftest.dir >& AS_MESSAGE_LOG_FD 2>&1 ], [
```

But I'm just hoping they are respected.



---

archive/issue_comments_500326.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYes, I meant to add `CFLAGS=\"$CFLAGS_MARCH\"` in these places",
    "created_at": "2021-01-14T17:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500326",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Yes, I meant to add `CFLAGS="$CFLAGS_MARCH"` in these places



---

archive/issue_comments_500327.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-01-15T21:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500327",
    "user": "https://github.com/kliem"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_500328.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)** to **[u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)**",
    "created_at": "2021-01-15T21:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500328",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)** to **[u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)**



---

archive/issue_comments_500329.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180\"><code>3a86a18</code></a></td><td><code>add CFLAGS and CXXFLAGS</code></td></tr></table>\n",
    "created_at": "2021-01-15T21:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500329",
    "user": "https://github.com/kliem"
}
```

<div id="comment:16"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180"><code>3a86a18</code></a></td><td><code>add CFLAGS and CXXFLAGS</code></td></tr></table>




---

archive/issue_comments_500330.json:
```json
{
    "body": "Changed commit from **[`e38057e`](https://github.com/sagemath/sagetrac-mirror/commit/e38057efbb87ac563350d48a1d34498d49d10403)** to **[`3a86a18`](https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180)**",
    "created_at": "2021-01-15T21:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500330",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`e38057e`](https://github.com/sagemath/sagetrac-mirror/commit/e38057efbb87ac563350d48a1d34498d49d10403)** to **[`3a86a18`](https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180)**



---

archive/issue_comments_500331.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOn homebrew, this will have to be tested together with #31227 if a current XCode version is in use",
    "created_at": "2021-01-16T04:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500331",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

On homebrew, this will have to be tested together with #31227 if a current XCode version is in use



---

archive/issue_comments_500332.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThere is a merge conflict with #31227.\n\nDoes the problem show up during github workflows? (If so, I can fix the merge conflict and test whether the problem goes away.)",
    "created_at": "2021-01-16T08:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500332",
    "user": "https://github.com/kliem"
}
```

<div id="comment:18" align="right">comment:18</div>

There is a merge conflict with #31227.

Does the problem show up during github workflows? (If so, I can fix the merge conflict and test whether the problem goes away.)



---

archive/issue_events_432505.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-16T17:57:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432505"
}
```



---

archive/issue_events_432506.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-16T17:57:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432506"
}
```



---

archive/issue_comments_500333.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIt showed up when I tried in on my local machine. \nBut now I think the observed failures are actually caused by some outdated code in install scripts of some packages, which explicitly set `CC=clang` - see #30725.",
    "created_at": "2021-01-16T17:57:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500333",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

It showed up when I tried in on my local machine. 
But now I think the observed failures are actually caused by some outdated code in install scripts of some packages, which explicitly set `CC=clang` - see #30725.



---

archive/issue_comments_500334.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nInstead of disabling `-march=native` alltogether, one might get away with just disabling it in `sdh_pip_install`.",
    "created_at": "2021-01-22T22:20:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500334",
    "user": "https://github.com/kliem"
}
```

<div id="comment:20" align="right">comment:20</div>

Instead of disabling `-march=native` alltogether, one might get away with just disabling it in `sdh_pip_install`.



---

archive/issue_events_432507.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-23T04:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432507"
}
```



---

archive/issue_comments_500335.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI prefer the easy solution as currently implemented, see comment 7 above",
    "created_at": "2021-01-23T04:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500335",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

I prefer the easy solution as currently implemented, see comment 7 above



---

archive/issue_comments_500336.json:
```json
{
    "body": "Changed branch from **[u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)** to **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)**",
    "created_at": "2021-01-23T04:39:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500336",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)** to **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)**



---

archive/issue_comments_500337.json:
```json
{
    "body": "Changed commit from **[`3a86a18`](https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180)** to **[`09b03d2`](https://github.com/sagemath/sagetrac-mirror/commit/09b03d2dbf209d705cb882edd5987d9096cb80ef)**",
    "created_at": "2021-01-23T04:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500337",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3a86a18`](https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180)** to **[`09b03d2`](https://github.com/sagemath/sagetrac-mirror/commit/09b03d2dbf209d705cb882edd5987d9096cb80ef)**



---

archive/issue_comments_500338.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02c268457164b76ddd97bece691111725dddf6c0\"><code>02c2684</code></a></td><td><code>R is already compiled without -march=native</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24b4fcca7179e0b857d3599d7ccf086e37c1d464\"><code>24b4fcc</code></a></td><td><code>set EXTRACFLAGS instead of CFLAGS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44be9671b85348db09046fa0c720812bfe7393a1\"><code>44be967</code></a></td><td><code>make code a bit more stable against future changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f56e65e25f23e69aee0d37080c046d36d7f349ed\"><code>f56e65e</code></a></td><td><code>fix CFLAGS for python3/spkg-build.in by running testcflags.sh after determination of the compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09b03d2dbf209d705cb882edd5987d9096cb80ef\"><code>09b03d2</code></a></td><td><code>Merge branch 'u/gh-kliem/macos__spkg_install__remove_outdated__building_with_clang__code___which_conflicts_with___march_native_' of git://trac.sagemath.org/sage into t/31228/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built</code></td></tr></table>\n",
    "created_at": "2021-01-23T04:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500338",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02c268457164b76ddd97bece691111725dddf6c0"><code>02c2684</code></a></td><td><code>R is already compiled without -march=native</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24b4fcca7179e0b857d3599d7ccf086e37c1d464"><code>24b4fcc</code></a></td><td><code>set EXTRACFLAGS instead of CFLAGS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44be9671b85348db09046fa0c720812bfe7393a1"><code>44be967</code></a></td><td><code>make code a bit more stable against future changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f56e65e25f23e69aee0d37080c046d36d7f349ed"><code>f56e65e</code></a></td><td><code>fix CFLAGS for python3/spkg-build.in by running testcflags.sh after determination of the compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09b03d2dbf209d705cb882edd5987d9096cb80ef"><code>09b03d2</code></a></td><td><code>Merge branch 'u/gh-kliem/macos__spkg_install__remove_outdated__building_with_clang__code___which_conflicts_with___march_native_' of git://trac.sagemath.org/sage into t/31228/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built</code></td></tr></table>




---

archive/issue_comments_500339.json:
```json
{
    "body": "Changed dependencies from **#31132** to **#31132, #30725**",
    "created_at": "2021-01-23T04:40:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500339",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31132** to **#31132, #30725**



---

archive/issue_comments_500340.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nUpgrading this to blocker, because this ticket is needed to get cython installation to work again (when python uses clang instead of gcc):\n\n[#30725 comment:50](https://github.com/sagemath/sage/issues/30725#comment:50)",
    "created_at": "2021-01-23T10:09:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500340",
    "user": "https://github.com/kliem"
}
```

<div id="comment:26" align="right">comment:26</div>

Upgrading this to blocker, because this ticket is needed to get cython installation to work again (when python uses clang instead of gcc):

[#30725 comment:50](https://github.com/sagemath/sage/issues/30725#comment:50)



---

archive/issue_events_432508.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-23T10:09:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432508"
}
```



---

archive/issue_events_432509.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-23T10:09:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432509"
}
```



---

archive/issue_comments_500341.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@kliem](#comment:16):\n> New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180\"><code>3a86a18</code></a></td><td><code>add CFLAGS and CXXFLAGS</code></td></tr></table>\n\nI think this commit is needed, isn't it?",
    "created_at": "2021-01-23T10:20:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500341",
    "user": "https://github.com/kliem"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@kliem](#comment:16):
> New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180"><code>3a86a18</code></a></td><td><code>add CFLAGS and CXXFLAGS</code></td></tr></table>

I think this commit is needed, isn't it?



---

archive/issue_events_432510.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-23T10:21:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432510"
}
```



---

archive/issue_events_432511.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-23T10:21:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432511"
}
```



---

archive/issue_comments_500342.json:
```json
{
    "body": "Reviewer: **Jonathan Kliem, https://github.com/kliem/sage/pull/35/checks**",
    "created_at": "2021-01-23T10:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500342",
    "user": "https://github.com/kliem"
}
```

Reviewer: **Jonathan Kliem, https://github.com/kliem/sage/pull/35/checks**



---

archive/issue_comments_500343.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI just started github actions along with commit `3a86a18f345a1c98411aa05254bff58ac02c3180`.\n\nPlease tell me, if I need to pull other tickets yet as mentioned in:\n\n[#30725 comment:42](https://github.com/sagemath/sage/issues/30725#comment:42)\n\nBtw, I personally would find it useful, those tickets needed to fix github actions on top of the current beta are collected somewhere.",
    "created_at": "2021-01-23T10:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500343",
    "user": "https://github.com/kliem"
}
```

<div id="comment:29" align="right">comment:29</div>

I just started github actions along with commit `3a86a18f345a1c98411aa05254bff58ac02c3180`.

Please tell me, if I need to pull other tickets yet as mentioned in:

[#30725 comment:42](https://github.com/sagemath/sage/issues/30725#comment:42)

Btw, I personally would find it useful, those tickets needed to fix github actions on top of the current beta are collected somewhere.



---

archive/issue_comments_500344.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@kliem](#comment:27):\n> Replying to [@kliem](#comment:16):\n> > New commits:\n\n> |                                                                                                                                                 |                         |\n> |-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n> |[3a86a18](https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180)|`add CFLAGS and CXXFLAGS`|\n> \n> I think this commit is needed, isn't it?\n\nRight, something like this. I'll try to dig out the commits that I was using",
    "created_at": "2021-01-23T18:35:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500344",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@kliem](#comment:27):
> Replying to [@kliem](#comment:16):
> > New commits:

> |                                                                                                                                                 |                         |
> |-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
> |[3a86a18](https://github.com/sagemath/sagetrac-mirror/commit/3a86a18f345a1c98411aa05254bff58ac02c3180)|`add CFLAGS and CXXFLAGS`|
> 
> I think this commit is needed, isn't it?

Right, something like this. I'll try to dig out the commits that I was using



---

archive/issue_comments_500345.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI have pushed the branch to #31227. Maybe we can skip the present ticket and do everything in #31227.",
    "created_at": "2021-01-23T20:24:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500345",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

I have pushed the branch to #31227. Maybe we can skip the present ticket and do everything in #31227.



---

archive/issue_events_432512.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-25T19:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432512"
}
```



---

archive/issue_events_432513.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-25T19:21:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432513"
}
```



---

archive/issue_events_432514.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-25T19:21:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432514"
}
```



---

archive/issue_events_432515.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-25T19:21:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432515"
}
```



---

archive/issue_events_432516.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-25T19:21:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432516"
}
```



---

archive/issue_comments_500346.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to none",
    "created_at": "2021-01-25T19:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500346",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to none



---

archive/issue_comments_500347.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)** to none",
    "created_at": "2021-01-25T21:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500347",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/the___march_native__flag_vs__the_compiler_used_when_python_extensions_are_built)** to none



---

archive/issue_events_432517.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-25T21:28:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432517"
}
```



---

archive/issue_events_432518.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-25T21:28:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432518"
}
```



---

archive/issue_comments_500348.json:
```json
{
    "body": "Changed dependencies from **#31132, #30725** to **#3113, #30725**",
    "created_at": "2021-01-25T21:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500348",
    "user": "https://github.com/kliem"
}
```

Changed dependencies from **#31132, #30725** to **#3113, #30725**



---

archive/issue_comments_500349.json:
```json
{
    "body": "Changed reviewer from **Jonathan Kliem, https://github.com/kliem/sage/pull/35/checks** to **Jonathan Kliem**",
    "created_at": "2021-01-25T21:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500349",
    "user": "https://github.com/kliem"
}
```

Changed reviewer from **Jonathan Kliem, https://github.com/kliem/sage/pull/35/checks** to **Jonathan Kliem**



---

archive/issue_comments_500350.json:
```json
{
    "body": "Changed commit from **[`09b03d2`](https://github.com/sagemath/sagetrac-mirror/commit/09b03d2dbf209d705cb882edd5987d9096cb80ef)** to none",
    "created_at": "2021-01-25T21:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500350",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`09b03d2`](https://github.com/sagemath/sagetrac-mirror/commit/09b03d2dbf209d705cb882edd5987d9096cb80ef)** to none



---

archive/issue_comments_500351.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAgreed.",
    "created_at": "2021-01-25T21:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31228#issuecomment-500351",
    "user": "https://github.com/kliem"
}
```

<div id="comment:33" align="right">comment:33</div>

Agreed.



---

archive/issue_events_432519.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-26T20:28:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432519"
}
```



---

archive/issue_events_432520.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-26T20:28:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31228",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31228#event-432520"
}
```
