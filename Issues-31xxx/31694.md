# Issue 31694: Upgrade pynac to support gcc-11

archive/issues_031457.json:
```json
{
    "body": "(from #31786)\n\npynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)\n\n... and ideally to consolidate the various patches added in #31679, #31645 etc.... as also requested in https://groups.google.com/g/sage-packaging/c/_vxPV7aKNjQ/m/b2-EdWP1BgAJ\n\nWhen making a new release, also care should be taken to use a recent version of libtool that supports macOS Big Sur (see #31920).\n\n\n\nCC:  @dimpase @davewittemorris @kiwifb @antonio-rojas\n\nReviewer: Matthias Koeppe, Dima Pasechnik\n\nAuthor: Dima Pasechnik, Matthias Koeppe\n\nBranch: c9c50e3d1bb0a6d9ec17ede66a2f47da7cd89b01\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31694\n\n",
    "closed_at": "2021-07-06T21:29:45Z",
    "created_at": "2021-04-19T17:40:26Z",
    "labels": [
        "component: packages: standard",
        "blocker"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Upgrade pynac to support gcc-11",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31694",
    "user": "https://github.com/mkoeppe"
}
```
(from #31786)

pynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)

... and ideally to consolidate the various patches added in #31679, #31645 etc.... as also requested in https://groups.google.com/g/sage-packaging/c/_vxPV7aKNjQ/m/b2-EdWP1BgAJ

When making a new release, also care should be taken to use a recent version of libtool that supports macOS Big Sur (see #31920).



CC:  @dimpase @davewittemorris @kiwifb @antonio-rojas

Reviewer: Matthias Koeppe, Dima Pasechnik

Author: Dima Pasechnik, Matthias Koeppe

Branch: c9c50e3d1bb0a6d9ec17ede66a2f47da7cd89b01

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31694





---

archive/issue_comments_480237.json:
```json
{
    "body": "<a id='comment:1'></a>There are still several pynac bug tickets that may not be hard to fix, so I think I will be posting quite a few more pynac patches in the next few months, so let's wait on this. But it would be good to make an upgrade before the 9.4 release.",
    "created_at": "2021-04-19T20:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480237",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:1'></a>There are still several pynac bug tickets that may not be hard to fix, so I think I will be posting quite a few more pynac patches in the next few months, so let's wait on this. But it would be good to make an upgrade before the 9.4 release.



---

archive/issue_comments_480238.json:
```json
{
    "body": "<a id='comment:2'></a>Aren't you preparing your patches using git? I'd recommend to create pull requests to the pynac repo to make it more transparent.",
    "created_at": "2021-04-19T20:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480238",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Aren't you preparing your patches using git? I'd recommend to create pull requests to the pynac repo to make it more transparent.



---

archive/issue_comments_480239.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n-... after merging the various patches added in #31679, #31645 etc. \n-   upstream.\n+... and ideally to consolidate the various patches added in #31679, #31645 etc.\n+\n+\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2021-05-18T18:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480239",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
-... after merging the various patches added in #31679, #31645 etc. 
-   upstream.
+... and ideally to consolidate the various patches added in #31679, #31645 etc.
+
+
+
 
 Comment: 1
 
``````




---

archive/issue_comments_480240.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2021-05-18T18:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480240",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_480241.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n+(from #31786)\n+\n+pynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)\n+\n+... and ideally to consolidate the various patches added in #31679, #31645 etc.\n+\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2021-05-18T18:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480241",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,10 @@
+(from #31786)
+
+pynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)
+
+... and ideally to consolidate the various patches added in #31679, #31645 etc.
+
+
 
 
 Comment: 1
``````




---

archive/issue_comments_480242.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+(from #31786)\n+\n+pynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)\n+\n+... and ideally to consolidate the various patches added in #31679, #31645 etc.\n+\n+When making a new release, also care should be taken to use a recent version of libtool that supports macOS Big Sur (see #31920).\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2021-06-07T00:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480242",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,11 @@
+(from #31786)
+
+pynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)
+
+... and ideally to consolidate the various patches added in #31679, #31645 etc.
+
+When making a new release, also care should be taken to use a recent version of libtool that supports macOS Big Sur (see #31920).
+
 
 
 Comment: 1
``````




---

archive/issue_comments_480243.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+(from #31786)\n+\n+pynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)\n+\n+... and ideally to consolidate the various patches added in #31679, #31645 etc.... as also requested in https://groups.google.com/g/sage-packaging/c/_vxPV7aKNjQ/m/b2-EdWP1BgAJ\n+\n+When making a new release, also care should be taken to use a recent version of libtool that supports macOS Big Sur (see #31920).\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2021-06-22T18:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480243",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,11 @@
+(from #31786)
+
+pynac fails to compile with gcc-11 (headers porting) [https://github.com/pynac/pynac/pull/375](https://github.com/pynac/pynac/pull/375)
+
+... and ideally to consolidate the various patches added in #31679, #31645 etc.... as also requested in https://groups.google.com/g/sage-packaging/c/_vxPV7aKNjQ/m/b2-EdWP1BgAJ
+
+When making a new release, also care should be taken to use a recent version of libtool that supports macOS Big Sur (see #31920).
+
 
 
 Comment: 1
``````




---

archive/issue_comments_480244.json:
```json
{
    "body": "<a id='comment:7'></a>I am going to cut a new release of pynac with all da patchez",
    "created_at": "2021-06-25T09:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480244",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>I am going to cut a new release of pynac with all da patchez



---

archive/issue_comments_480245.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-25T11:18:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480245",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_480246.json:
```json
{
    "body": "<a id='comment:8'></a>New commits:",
    "created_at": "2021-06-25T11:18:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480246",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>New commits:



---

archive/issue_comments_480247.json:
```json
{
    "body": "<a id='comment:9'></a>Thank you Dima! :)",
    "created_at": "2021-06-25T11:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480247",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>Thank you Dima! :)



---

archive/issue_comments_480248.json:
```json
{
    "body": "<a id='comment:10'></a>yah, thanks a lot!",
    "created_at": "2021-06-25T11:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480248",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:10'></a>yah, thanks a lot!



---

archive/issue_comments_480249.json:
```json
{
    "body": "<a id='comment:11'></a>Dave, I've merged all your pynac patches into master, e.g.\n\nhttps://github.com/pynac/pynac/commit/9d442a81aee9355c5526fff53246aa6912a18398\n\nwhile the log is clear they are yours, I'm still the author. If you like you can do a PR on github to change the author of these commits.",
    "created_at": "2021-06-25T11:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480249",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>Dave, I've merged all your pynac patches into master, e.g.

https://github.com/pynac/pynac/commit/9d442a81aee9355c5526fff53246aa6912a18398

while the log is clear they are yours, I'm still the author. If you like you can do a PR on github to change the author of these commits.



---

archive/issue_comments_480250.json:
```json
{
    "body": "<a id='comment:12'></a>GH Actions run please",
    "created_at": "2021-06-25T17:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480250",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>GH Actions run please



---

archive/issue_comments_480251.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 mkoeppe]:\n> GH Actions run please\n\nrunning at https://github.com/sagemath/sagetrac-mirror/actions/runs/972993967",
    "created_at": "2021-06-25T23:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480251",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>Replying to [comment:12 mkoeppe]:
> GH Actions run please

running at https://github.com/sagemath/sagetrac-mirror/actions/runs/972993967



---

archive/issue_comments_480252.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:11 dimpase]:\n> Dave, I've merged all your pynac patches into master, e.g.\n> \n> https://github.com/pynac/pynac/commit/9d442a81aee9355c5526fff53246aa6912a18398\n> \n> while the log is clear they are yours, I'm still the author. If you like you can do a PR on github to change the author of these commits.\n\n\nThanks, Dima, that's great! I am not concerned about the \"author\", so nothing needs to be done, as far as I'm concerned.\n\nCopying these patches to the pynac repository has been on my to-do list for a long time, but I never got around to it, so thanks for doing this!  In the future, I'll try to save you (and the distro managers) some trouble by making the appropriate PRs.",
    "created_at": "2021-06-26T02:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480252",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:14'></a>Replying to [comment:11 dimpase]:
> Dave, I've merged all your pynac patches into master, e.g.
> 
> https://github.com/pynac/pynac/commit/9d442a81aee9355c5526fff53246aa6912a18398
> 
> while the log is clear they are yours, I'm still the author. If you like you can do a PR on github to change the author of these commits.


Thanks, Dima, that's great! I am not concerned about the "author", so nothing needs to be done, as far as I'm concerned.

Copying these patches to the pynac repository has been on my to-do list for a long time, but I never got around to it, so thanks for doing this!  In the future, I'll try to save you (and the distro managers) some trouble by making the appropriate PRs.



---

archive/issue_comments_480253.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 gh-DaveWitteMorris]:\n\n> Copying these patches to the pynac repository has been on my to-do list for a long time, but I never got around to it, so thanks for doing this!  In the future, I'll try to save you (and the distro managers) some trouble by making the appropriate PRs.\n\n\nI guess you actually might have a git repo with these patches applied (at least this is how I typically do package patching), so it could have been a breeze to convert these into PRs. Anyway, it's done now.",
    "created_at": "2021-06-26T08:10:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480253",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>Replying to [comment:14 gh-DaveWitteMorris]:

> Copying these patches to the pynac repository has been on my to-do list for a long time, but I never got around to it, so thanks for doing this!  In the future, I'll try to save you (and the distro managers) some trouble by making the appropriate PRs.


I guess you actually might have a git repo with these patches applied (at least this is how I typically do package patching), so it could have been a breeze to convert these into PRs. Anyway, it's done now.



---

archive/issue_comments_480254.json:
```json
{
    "body": "<a id='comment:16'></a>One can set the author name and email as different from the committer's:\n\n```bash\n$ git commit --author=\"Author Name <email@example.com>\"\n```\nThis can be used to amend the last commit done:\n\n```bash\n$ git commit --amend --author=\"Author Name <email@example.com>\" --no-edit\n```\n\nReference:\n\n- Answers to [Stack Overflow question 3042437](https://stackoverflow.com/q/3042437) (see more tips there)",
    "created_at": "2021-06-26T12:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480254",
    "user": "https://github.com/slel"
}
```

<a id='comment:16'></a>One can set the author name and email as different from the committer's:

```bash
$ git commit --author="Author Name <email@example.com>"
```
This can be used to amend the last commit done:

```bash
$ git commit --amend --author="Author Name <email@example.com>" --no-edit
```

Reference:

- Answers to [Stack Overflow question 3042437](https://stackoverflow.com/q/3042437) (see more tips there)



---

archive/issue_comments_480255.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:13 dimpase]:\n> Replying to [comment:12 mkoeppe]:\n> > GH Actions run please\n\n> running at https://github.com/sagemath/sagetrac-mirror/actions/runs/972993967\ngentoo failed bc system eclib wanted #31443\n\n```\nchecking whether we can link and run a program using eclib...\neclib version 20210503, using NTL bigints and NTL real and complex multiprecision floating point\nyes; use eclib from the system\n```",
    "created_at": "2021-06-26T21:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480255",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:17'></a>Replying to [comment:13 dimpase]:
> Replying to [comment:12 mkoeppe]:
> > GH Actions run please

> running at https://github.com/sagemath/sagetrac-mirror/actions/runs/972993967
gentoo failed bc system eclib wanted #31443

```
checking whether we can link and run a program using eclib...
eclib version 20210503, using NTL bigints and NTL real and complex multiprecision floating point
yes; use eclib from the system
```



---

archive/issue_comments_480256.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:13 dimpase]:\n> Replying to [comment:12 mkoeppe]:\n> > GH Actions run please\n\n> running at https://github.com/sagemath/sagetrac-mirror/actions/runs/972993967\n\nlooks like that everything (modulo the usual GH actions suspects, e.g. broken conda on some platforms) is working.\nReview?",
    "created_at": "2021-06-27T10:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480256",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>Replying to [comment:13 dimpase]:
> Replying to [comment:12 mkoeppe]:
> > GH Actions run please

> running at https://github.com/sagemath/sagetrac-mirror/actions/runs/972993967

looks like that everything (modulo the usual GH actions suspects, e.g. broken conda on some platforms) is working.
Review?



---

archive/issue_comments_480257.json:
```json
{
    "body": "<a id='comment:19'></a>Broken on `ubuntu-trusty`",
    "created_at": "2021-06-27T18:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480257",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>Broken on `ubuntu-trusty`



---

archive/issue_comments_480258.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-27T18:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480258",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480259.json:
```json
{
    "body": "<a id='comment:20'></a>Also could you please have the GH Actions on pynac re-enabled? \nsee https://github.com/pynac/pynac/actions/runs/971200691",
    "created_at": "2021-06-27T18:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480259",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>Also could you please have the GH Actions on pynac re-enabled? 
see https://github.com/pynac/pynac/actions/runs/971200691



---

archive/issue_comments_480260.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:19 mkoeppe]:\n> Broken on `ubuntu-trusty`\n\nI cannot imagine that \n\n```\n[pynac-0.7.28]   checking for flint/fmpq_poly.h... no\n[pynac-0.7.28]   configure: error: This package needs flint headers\n```\nis a regression. The only difference between 0.7.28 and 0.2.27 that all patches for the latter are upstreamed, and two more PRs are merged, none of them have anything to do with flint.",
    "created_at": "2021-06-27T22:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480260",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>Replying to [comment:19 mkoeppe]:
> Broken on `ubuntu-trusty`

I cannot imagine that 

```
[pynac-0.7.28]   checking for flint/fmpq_poly.h... no
[pynac-0.7.28]   configure: error: This package needs flint headers
```
is a regression. The only difference between 0.7.28 and 0.2.27 that all patches for the latter are upstreamed, and two more PRs are merged, none of them have anything to do with flint.



---

archive/issue_comments_480261.json:
```json
{
    "body": "<a id='comment:22'></a>`ubuntu-trusty` is OK on 9.4.beta3 (as you can see in https://github.com/sagemath/sage/actions/runs/958667352) and broken with this branch as your GH Actions run showed. Same with `linuxmint-17`.",
    "created_at": "2021-06-27T22:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480261",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>`ubuntu-trusty` is OK on 9.4.beta3 (as you can see in https://github.com/sagemath/sage/actions/runs/958667352) and broken with this branch as your GH Actions run showed. Same with `linuxmint-17`.



---

archive/issue_comments_480262.json:
```json
{
    "body": "<a id='comment:23'></a>I'm sure it's just crappy CI for museum age OSs - what could have caused flint headers to suddenly become unavailable?",
    "created_at": "2021-06-27T22:37:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480262",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>I'm sure it's just crappy CI for museum age OSs - what could have caused flint headers to suddenly become unavailable?



---

archive/issue_comments_480263.json:
```json
{
    "body": "<a id='comment:24'></a>No, my CI does not have such problems.",
    "created_at": "2021-06-27T22:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480263",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>No, my CI does not have such problems.



---

archive/issue_comments_480264.json:
```json
{
    "body": "<a id='comment:25'></a>As you know, you can test it locally using `tox -e docker-ubuntu-trusty-standard`.",
    "created_at": "2021-06-27T22:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480264",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>As you know, you can test it locally using `tox -e docker-ubuntu-trusty-standard`.



---

archive/issue_comments_480265.json:
```json
{
    "body": "<a id='comment:26'></a>Instead of arguing about the CI, could we have the `config.log` of pynac.",
    "created_at": "2021-06-27T22:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480265",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:26'></a>Instead of arguing about the CI, could we have the `config.log` of pynac.



---

archive/issue_comments_480266.json:
```json
{
    "body": "<a id='comment:27'></a>The logs are in the log artifacts of Dima's GH Actions run:\nhttps://github.com/sagemath/sagetrac-mirror/suites/3090181081/artifacts/70720481",
    "created_at": "2021-06-27T22:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480266",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>The logs are in the log artifacts of Dima's GH Actions run:
https://github.com/sagemath/sagetrac-mirror/suites/3090181081/artifacts/70720481



---

archive/issue_comments_480267.json:
```json
{
    "body": "<a id='comment:28'></a>OK actually the config.log is not there. So a local rerun is needed to produce them",
    "created_at": "2021-06-27T22:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480267",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>OK actually the config.log is not there. So a local rerun is needed to produce them



---

archive/issue_comments_480268.json:
```json
{
    "body": "<a id='comment:29'></a>Replying to [comment:25 mkoeppe]:\n> As you know, you can test it locally using `tox -e docker-ubuntu-trusty-standard`.\n\n\nMy office machine doesn't have docker. OK, I can do an lxc install of ubuntu trusty, maybe...",
    "created_at": "2021-06-27T23:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480268",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>Replying to [comment:25 mkoeppe]:
> As you know, you can test it locally using `tox -e docker-ubuntu-trusty-standard`.


My office machine doesn't have docker. OK, I can do an lxc install of ubuntu trusty, maybe...



---

archive/issue_comments_480269.json:
```json
{
    "body": "<a id='comment:30'></a>That's #29283",
    "created_at": "2021-06-27T23:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480269",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>That's #29283



---

archive/issue_comments_480270.json:
```json
{
    "body": "<a id='comment:31'></a>linuxmint-17 reached EOL over 2 years ago, I don't know why we still keep it.\nhttps://forums.linuxmint.com/viewtopic.php?t=289281\n\nubuntu trusty is also beyond the end of unpaid support, EOL to happen in 10 months.\n\nLet's drop them for 9.4.",
    "created_at": "2021-06-27T23:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480270",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>linuxmint-17 reached EOL over 2 years ago, I don't know why we still keep it.
https://forums.linuxmint.com/viewtopic.php?t=289281

ubuntu trusty is also beyond the end of unpaid support, EOL to happen in 10 months.

Let's drop them for 9.4.



---

archive/issue_comments_480271.json:
```json
{
    "body": "<a id='comment:32'></a>We can't have this discussion on every untested package upgrade ticket.",
    "created_at": "2021-06-27T23:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480271",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>We can't have this discussion on every untested package upgrade ticket.



---

archive/issue_comments_480272.json:
```json
{
    "body": "<a id='comment:33'></a>Here's the pynac config.log:\n\n```\nconfigure:17504: checking for gmp.h\nconfigure:17504: gcc -std=gnu11 -c -O2 -g   conftest.c >&5\nconfigure:17504: $? = 0\nconfigure:17504: result: yes\nconfigure:17514: checking for library containing __gmpz_get_str\nconfigure:17544: gcc -std=gnu11 -o conftest -O2 -g   -Wl,-rpath-link,/sage/local/lib -L/sage/local/lib -Wl,-rpath,/sage/local/lib  conftest.c  >&5\n/tmp/ccY7y07W.o: In function `main':\n/sage/local/var/tmp/sage/build/pynac-0.7.28/src/conftest.c:34: undefined reference to `__gmpz_get_str'\ncollect2: error: ld returned 1 exit status\nconfigure:17544: $? = 1\nconfigure: failed program was:\nconfigure:17544: gcc -std=gnu11 -o conftest -O2 -g   -Wl,-rpath-link,/sage/local/lib -L/sage/local/lib -Wl,-rpath,/sage/local/lib  conftest.c -lgmp   >&5\nconfigure:17544: $? = 0\nconfigure:17564: result: -lgmp\nconfigure:17578: checking for flint/fmpq_poly.h\nconfigure:17578: gcc -std=gnu11 -c -O2 -g   conftest.c >&5\nIn file included from /sage/local/include/flint/nmod_vec.h:29:0,\n                 from /sage/local/include/flint/fmpz.h:31,\n                 from /sage/local/include/flint/fmpq_poly.h:24,\n                 from conftest.c:54:\n/sage/local/include/flint/ulong_extras.h:119:1: error: unknown type name '_Thread_local'\n extern FLINT_TLS_PREFIX ulong * _flint_primes[FLINT_BITS];\n ^\n/sage/local/include/flint/ulong_extras.h:119:31: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token\n extern FLINT_TLS_PREFIX ulong * _flint_primes[FLINT_BITS];\n                               ^\n/sage/local/include/flint/ulong_extras.h:120:25: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'double'\n extern FLINT_TLS_PREFIX double * _flint_prime_inverses[FLINT_BITS];\n                         ^\n/sage/local/include/flint/ulong_extras.h:121:25: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'int'\n extern FLINT_TLS_PREFIX int _flint_primes_used;\n                         ^\nconfigure:17578: $? = 1\nconfigure: failed program was:\nconfigure:17578: result: no\nconfigure:17584: error: This package needs flint headers\n```",
    "created_at": "2021-06-28T00:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480272",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>Here's the pynac config.log:

```
configure:17504: checking for gmp.h
configure:17504: gcc -std=gnu11 -c -O2 -g   conftest.c >&5
configure:17504: $? = 0
configure:17504: result: yes
configure:17514: checking for library containing __gmpz_get_str
configure:17544: gcc -std=gnu11 -o conftest -O2 -g   -Wl,-rpath-link,/sage/local/lib -L/sage/local/lib -Wl,-rpath,/sage/local/lib  conftest.c  >&5
/tmp/ccY7y07W.o: In function `main':
/sage/local/var/tmp/sage/build/pynac-0.7.28/src/conftest.c:34: undefined reference to `__gmpz_get_str'
collect2: error: ld returned 1 exit status
configure:17544: $? = 1
configure: failed program was:
configure:17544: gcc -std=gnu11 -o conftest -O2 -g   -Wl,-rpath-link,/sage/local/lib -L/sage/local/lib -Wl,-rpath,/sage/local/lib  conftest.c -lgmp   >&5
configure:17544: $? = 0
configure:17564: result: -lgmp
configure:17578: checking for flint/fmpq_poly.h
configure:17578: gcc -std=gnu11 -c -O2 -g   conftest.c >&5
In file included from /sage/local/include/flint/nmod_vec.h:29:0,
                 from /sage/local/include/flint/fmpz.h:31,
                 from /sage/local/include/flint/fmpq_poly.h:24,
                 from conftest.c:54:
/sage/local/include/flint/ulong_extras.h:119:1: error: unknown type name '_Thread_local'
 extern FLINT_TLS_PREFIX ulong * _flint_primes[FLINT_BITS];
 ^
/sage/local/include/flint/ulong_extras.h:119:31: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token
 extern FLINT_TLS_PREFIX ulong * _flint_primes[FLINT_BITS];
                               ^
/sage/local/include/flint/ulong_extras.h:120:25: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'double'
 extern FLINT_TLS_PREFIX double * _flint_prime_inverses[FLINT_BITS];
                         ^
/sage/local/include/flint/ulong_extras.h:121:25: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'int'
 extern FLINT_TLS_PREFIX int _flint_primes_used;
                         ^
configure:17578: $? = 1
configure: failed program was:
configure:17578: result: no
configure:17584: error: This package needs flint headers
```



---

archive/issue_comments_480273.json:
```json
{
    "body": "<a id='comment:34'></a>So, we have `flint` headers but they are broken. I'd say because glibc is too old at first glance. Glad you could dig those because they are really useful in pinpointing issues.",
    "created_at": "2021-06-28T00:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480273",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:34'></a>So, we have `flint` headers but they are broken. I'd say because glibc is too old at first glance. Glad you could dig those because they are really useful in pinpointing issues.



---

archive/issue_comments_480274.json:
```json
{
    "body": "<a id='comment:35'></a>On this install, flint was installed from the SPKG.",
    "created_at": "2021-06-28T00:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480274",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>On this install, flint was installed from the SPKG.



---

archive/issue_comments_480275.json:
```json
{
    "body": "<a id='comment:36'></a>And looking at the flint build log: it is using plain `gcc`, without `-std=gnu11`.",
    "created_at": "2021-06-28T01:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480275",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>And looking at the flint build log: it is using plain `gcc`, without `-std=gnu11`.



---

archive/issue_comments_480276.json:
```json
{
    "body": "<a id='comment:37'></a>Replying to [comment:35 mkoeppe]:\n> On this install, flint was installed from the SPKG.\n\nI could tell from the headers tested. Either something is changed at install or those particular headers are not involved in building flint. Otherwise building flint would be a problem. It is worth trying without the gnu11 bit. Good spotting.",
    "created_at": "2021-06-28T01:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480276",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'></a>Replying to [comment:35 mkoeppe]:
> On this install, flint was installed from the SPKG.

I could tell from the headers tested. Either something is changed at install or those particular headers are not involved in building flint. Otherwise building flint would be a problem. It is worth trying without the gnu11 bit. Good spotting.



---

archive/issue_comments_480277.json:
```json
{
    "body": "<a id='comment:38'></a>I think the gnu11 is a setting bleeding from setting the C++ compiler to c++11. It probably shouldn't be there at all.",
    "created_at": "2021-06-28T01:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480277",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'></a>I think the gnu11 is a setting bleeding from setting the C++ compiler to c++11. It probably shouldn't be there at all.



---

archive/issue_comments_480278.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:38 fbissey]:\n> I think the gnu11 is a setting bleeding from setting the C++ compiler to c++11. It probably shouldn't be there at all.\n\nNope C++11 is supposed to be tested after. I have no idea where this one comes from. I also don't see it when I configure pynac locally (have to double check that) so I am not sure where it is introduced.",
    "created_at": "2021-06-28T01:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480278",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:39'></a>Replying to [comment:38 fbissey]:
> I think the gnu11 is a setting bleeding from setting the C++ compiler to c++11. It probably shouldn't be there at all.

Nope C++11 is supposed to be tested after. I have no idea where this one comes from. I also don't see it when I configure pynac locally (have to double check that) so I am not sure where it is introduced.



---

archive/issue_comments_480279.json:
```json
{
    "body": "<a id='comment:40'></a>Right. There is no C code whatsoever in pynac. Everything is C++. Just the AC_LANG([C++])\nis coming much too late!",
    "created_at": "2021-06-28T01:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480279",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>Right. There is no C code whatsoever in pynac. Everything is C++. Just the AC_LANG([C++])
is coming much too late!



---

archive/issue_comments_480280.json:
```json
{
    "body": "<a id='comment:41'></a>Tests with a change run now at https://github.com/mkoeppe/pynac/actions/runs/977436209",
    "created_at": "2021-06-28T01:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480280",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>Tests with a change run now at https://github.com/mkoeppe/pynac/actions/runs/977436209



---

archive/issue_comments_480281.json:
```json
{
    "body": "<a id='comment:42'></a>https://github.com/pynac/pynac/pull/377",
    "created_at": "2021-06-28T02:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480281",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>https://github.com/pynac/pynac/pull/377



---

archive/issue_comments_480282.json:
```json
{
    "body": "<a id='comment:43'></a>Do I take it that it helped :)",
    "created_at": "2021-06-28T02:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480282",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:43'></a>Do I take it that it helped :)



---

archive/issue_comments_480283.json:
```json
{
    "body": "<a id='comment:44'></a>Yes, this seems to do the trick.\n\nDima, can you please create a new release with this PR?",
    "created_at": "2021-06-28T02:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480283",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>Yes, this seems to do the trick.

Dima, can you please create a new release with this PR?



---

archive/issue_comments_480284.json:
```json
{
    "body": "<a id='comment:45'></a>Replying to [comment:20 mkoeppe]:\n> Also could you please have the GH Actions on pynac re-enabled? \n> see https://github.com/pynac/pynac/actions/runs/971200691\n\n\nno idea what \"reenabled\" means. They are enabled, I guess it's what we have in .github/ matters.",
    "created_at": "2021-06-28T07:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480284",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'></a>Replying to [comment:20 mkoeppe]:
> Also could you please have the GH Actions on pynac re-enabled? 
> see https://github.com/pynac/pynac/actions/runs/971200691


no idea what "reenabled" means. They are enabled, I guess it's what we have in .github/ matters.



---

archive/issue_comments_480285.json:
```json
{
    "body": "<a id='comment:46'></a>Like the error message says: \"Actions jobs for this repository have been disabled by [GitHub](GitHub) staff. If you are the repository owner, you can contact support via https://github.com/contact for more information.\"\nI had to do this for one of my repositories too in the past.",
    "created_at": "2021-06-28T07:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480285",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>Like the error message says: "Actions jobs for this repository have been disabled by [GitHub](GitHub) staff. If you are the repository owner, you can contact support via https://github.com/contact for more information."
I had to do this for one of my repositories too in the past.



---

archive/issue_comments_480286.json:
```json
{
    "body": "<a id='comment:47'></a>Replying to [comment:15 dimpase]:\n> Replying to [comment:14 gh-DaveWitteMorris]:\n> \n> > Copying these patches to the pynac repository has been on my to-do list for a long time, but I never got around to it, so thanks for doing this!  In the future, I'll try to save you (and the distro managers) some trouble by making the appropriate PRs.\n\n> \n> I guess you actually might have a git repo with these patches applied (at least this is how I typically do package patching), so it could have been a breeze to convert these into PRs. Anyway, it's done now.\n\n\nYes, this should have been easy, but I know almost nothing about git, so my attempts failed when I tried a few weeks ago. (I didn't realize that I needed a fork, instead of a clone.) I think I succeeded in making a PR to the pynac repository this evening, and, now that I know how, I will try to make PRs of all of my pynac patches.",
    "created_at": "2021-06-28T07:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480286",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:47'></a>Replying to [comment:15 dimpase]:
> Replying to [comment:14 gh-DaveWitteMorris]:
> 
> > Copying these patches to the pynac repository has been on my to-do list for a long time, but I never got around to it, so thanks for doing this!  In the future, I'll try to save you (and the distro managers) some trouble by making the appropriate PRs.

> 
> I guess you actually might have a git repo with these patches applied (at least this is how I typically do package patching), so it could have been a breeze to convert these into PRs. Anyway, it's done now.


Yes, this should have been easy, but I know almost nothing about git, so my attempts failed when I tried a few weeks ago. (I didn't realize that I needed a fork, instead of a clone.) I think I succeeded in making a PR to the pynac repository this evening, and, now that I know how, I will try to make PRs of all of my pynac patches.



---

archive/issue_comments_480287.json:
```json
{
    "body": "<a id='comment:48'></a>Replying to [comment:46 mkoeppe]:\n> Like the error message says: \"Actions jobs for this repository have been disabled by [GitHub](GitHub) staff. \n\n\nI cannot see any error messages there.\nMaybe I am looking at the wrong places?\n\n> If you are the repository owner, you can contact support via https://github.com/contact for more information.\"\n> I had to do this for one of my repositories too in the past.",
    "created_at": "2021-06-28T08:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480287",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>Replying to [comment:46 mkoeppe]:
> Like the error message says: "Actions jobs for this repository have been disabled by [GitHub](GitHub) staff. 


I cannot see any error messages there.
Maybe I am looking at the wrong places?

> If you are the repository owner, you can contact support via https://github.com/contact for more information."
> I had to do this for one of my repositories too in the past.



---

archive/issue_comments_480288.json:
```json
{
    "body": "<a id='comment:49'></a>Replying to [comment:48 dimpase]:\n> Replying to [comment:46 mkoeppe]:\n> > Like the error message says: \"Actions jobs for this repository have been disabled by [GitHub](GitHub) staff. \n\n> \n> I cannot see any error messages there.\n> Maybe I am looking at the wrong places?\n> \n> > If you are the repository owner, you can contact support via https://github.com/contact for more information.\"\n> > I had to do this for one of my repositories too in the past. \n\n\nOK, it's in \"Annotations\". Duh. OK, requested re-enabling\nhttps://support.github.com/ticket/personal/0/1212297",
    "created_at": "2021-06-28T08:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480288",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>Replying to [comment:48 dimpase]:
> Replying to [comment:46 mkoeppe]:
> > Like the error message says: "Actions jobs for this repository have been disabled by [GitHub](GitHub) staff. 

> 
> I cannot see any error messages there.
> Maybe I am looking at the wrong places?
> 
> > If you are the repository owner, you can contact support via https://github.com/contact for more information."
> > I had to do this for one of my repositories too in the past. 


OK, it's in "Annotations". Duh. OK, requested re-enabling
https://support.github.com/ticket/personal/0/1212297



---

archive/issue_comments_480289.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-28T09:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480290.json:
```json
{
    "body": "<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-28T10:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480291.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-28T10:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480291",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480292.json:
```json
{
    "body": "<a id='comment:53'></a>tests are running on https://github.com/sagemath/sagetrac-mirror/actions/runs/978774922\n(which is this branch with an extra pynac test from #31585)",
    "created_at": "2021-06-28T11:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480292",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:53'></a>tests are running on https://github.com/sagemath/sagetrac-mirror/actions/runs/978774922
(which is this branch with an extra pynac test from #31585)



---

archive/issue_comments_480293.json:
```json
{
    "body": "<a id='comment:54'></a>Replying to [comment:32 mkoeppe]:\n> We can't have this discussion on every untested package upgrade ticket.\n\nI've opened #32074",
    "created_at": "2021-06-28T12:35:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480293",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'></a>Replying to [comment:32 mkoeppe]:
> We can't have this discussion on every untested package upgrade ticket.

I've opened #32074



---

archive/issue_comments_480294.json:
```json
{
    "body": "<a id='comment:55'></a>Broken on `debian-jessie` - https://github.com/pynac/pynac/pull/378#issuecomment-869741626\n\nand on `ubuntu-trusty` - https://github.com/sagemath/sagetrac-mirror/runs/2931188061?check_suite_focus=true",
    "created_at": "2021-06-28T14:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480294",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>Broken on `debian-jessie` - https://github.com/pynac/pynac/pull/378#issuecomment-869741626

and on `ubuntu-trusty` - https://github.com/sagemath/sagetrac-mirror/runs/2931188061?check_suite_focus=true



---

archive/issue_comments_480295.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-28T14:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480295",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480296.json:
```json
{
    "body": "<a id='comment:56'></a>Dima, could you please make a release without PR 378, so that we can get this blocker ticket done? Just focused on what this ticket says - add support for gcc 11, consolidate existing patches; no breaking/removing of other platform support.",
    "created_at": "2021-06-28T14:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480296",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>Dima, could you please make a release without PR 378, so that we can get this blocker ticket done? Just focused on what this ticket says - add support for gcc 11, consolidate existing patches; no breaking/removing of other platform support.



---

archive/issue_comments_480297.json:
```json
{
    "body": "<a id='comment:57'></a>I volunteer to make the next pynac releases.",
    "created_at": "2021-06-28T19:39:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480297",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'></a>I volunteer to make the next pynac releases.



---

archive/issue_comments_480298.json:
```json
{
    "body": "<a id='comment:58'></a>Replying to [comment:57 mkoeppe]:\n> I volunteer to make the next pynac releases.\n\n\nlet's just drop gcc 4.x. It would minimise the disruption, and it's overdue anyway.",
    "created_at": "2021-06-28T22:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480298",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:58'></a>Replying to [comment:57 mkoeppe]:
> I volunteer to make the next pynac releases.


let's just drop gcc 4.x. It would minimise the disruption, and it's overdue anyway.



---

archive/issue_comments_480299.json:
```json
{
    "body": "<a id='comment:59'></a>As I said on #32074, I am +1 on this proposal to drop support for gcc 4.x. That should solve the immediate problem.",
    "created_at": "2021-06-28T22:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480299",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:59'></a>As I said on #32074, I am +1 on this proposal to drop support for gcc 4.x. That should solve the immediate problem.



---

archive/issue_comments_480300.json:
```json
{
    "body": "<a id='comment:60'></a>Or even better/quicker, just add `AC_CHECK_FUNC(__builtin_smull_overflow,...)` to spkg-configure for gcc spkg.",
    "created_at": "2021-06-28T22:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480300",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:60'></a>Or even better/quicker, just add `AC_CHECK_FUNC(__builtin_smull_overflow,...)` to spkg-configure for gcc spkg.



---

archive/issue_comments_480301.json:
```json
{
    "body": "<a id='comment:61'></a>It's important to keep tickets focused. In particular for a blocker ticket like this one, which creates an urgency to get it in.\n\nThe urgent need to add support for gcc 11 is entirely unconnected to a decision to drop support for the gcc 4 versions used in some of our supported distributions.\n\nIt is poor practice to connect these two issues arbitrarily.",
    "created_at": "2021-06-28T22:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480301",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:61'></a>It's important to keep tickets focused. In particular for a blocker ticket like this one, which creates an urgency to get it in.

The urgent need to add support for gcc 11 is entirely unconnected to a decision to drop support for the gcc 4 versions used in some of our supported distributions.

It is poor practice to connect these two issues arbitrarily.



---

archive/issue_comments_480302.json:
```json
{
    "body": "<a id='comment:62'></a>our resources are limited;\n\n*  making a new pynac release without `__builtin_smull_overflow` takes time, \n* re-doing the branch with `__builtin_smull_overflow` takes time \n* (and God help you finding a workaround not using `__builtin_smull_overflow`, potentially another time waste to keep a museum compiler in...)",
    "created_at": "2021-06-28T22:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480302",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:62'></a>our resources are limited;

*  making a new pynac release without `__builtin_smull_overflow` takes time, 
* re-doing the branch with `__builtin_smull_overflow` takes time 
* (and God help you finding a workaround not using `__builtin_smull_overflow`, potentially another time waste to keep a museum compiler in...)



---

archive/issue_comments_480303.json:
```json
{
    "body": "<a id='comment:63'></a>It's important to keep tickets focused -- that includes avoiding to give unsolicited advice to other developers regarding time management.",
    "created_at": "2021-06-28T23:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480303",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:63'></a>It's important to keep tickets focused -- that includes avoiding to give unsolicited advice to other developers regarding time management.



---

archive/issue_comments_480304.json:
```json
{
    "body": "<a id='comment:65'></a>New commits:",
    "created_at": "2021-06-30T03:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480304",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>New commits:



---

archive/issue_comments_480305.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-30T03:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480305",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480306.json:
```json
{
    "body": "<a id='comment:67'></a>tests run on https://github.com/sagemath/sagetrac-mirror/actions/runs/986545913",
    "created_at": "2021-06-30T13:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480306",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:67'></a>tests run on https://github.com/sagemath/sagetrac-mirror/actions/runs/986545913



---

archive/issue_comments_480307.json:
```json
{
    "body": "<a id='comment:68'></a>lgtm",
    "created_at": "2021-07-01T13:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480307",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:68'></a>lgtm



---

archive/issue_comments_480308.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-01T13:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480308",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_480309.json:
```json
{
    "body": "<a id='comment:69'></a>Thanks!",
    "created_at": "2021-07-01T16:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480309",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:69'></a>Thanks!



---

archive/issue_comments_480310.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-06T21:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480310",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_083561.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-06T21:29:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31694#event-83561"
}
```



---

archive/issue_comments_480311.json:
```json
{
    "body": "<a id='comment:71'></a>I don't see this branch in the current develop branch, what's up?",
    "created_at": "2021-07-18T10:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31694#issuecomment-480311",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:71'></a>I don't see this branch in the current develop branch, what's up?
