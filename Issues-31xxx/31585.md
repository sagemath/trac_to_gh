# Issue 31585: Wrong result due to integer overflow (in pynac?)

archive/issues_031348.json:
```json
{
    "body": "Volker Braun pointed out inticket: ticket:31479#comment:12#comment:31479 that sage gives the following wrong answer on a 32-bit machine after the bug-fix patch of #31479 is applied:\n\n```\nsage: a,b,c,d = var(\"a b c d\")\nsage: ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)\nd^3 + 18*d^2 + 1739461754973*d - 8697308774865/d + 450/d^2 - 125/d^3 + 36\n```\nThis answer is congruent modulo `2^32` to `d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36`, which is the correct answer, so it seems clear that the problem comes from an integer overflow error. Perhaps the overflow error can also be produced on a 64-bit machine.\n\nKeywords: integer overflow, pynac\n\nBranch/Commit: eba0a9cc1cca15a9c39d84e7aaac1c762de3591f\n\nReviewer: Dima Pasechnik\n\nAuthor: Dave Morris, Matthias Koeppe\n\nDependencies: #31694\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31585\n\n",
    "closed_at": "2021-07-06T21:29:40Z",
    "created_at": "2021-03-31T03:21:34Z",
    "labels": [
        "component: symbolics",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Wrong result due to integer overflow (in pynac?)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31585",
    "user": "https://github.com/DaveWitteMorris"
}
```
Volker Braun pointed out inticket: ticket:31479#comment:12#comment:31479 that sage gives the following wrong answer on a 32-bit machine after the bug-fix patch of #31479 is applied:

```
sage: a,b,c,d = var("a b c d")
sage: ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)
d^3 + 18*d^2 + 1739461754973*d - 8697308774865/d + 450/d^2 - 125/d^3 + 36
```
This answer is congruent modulo `2^32` to `d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36`, which is the correct answer, so it seems clear that the problem comes from an integer overflow error. Perhaps the overflow error can also be produced on a 64-bit machine.

Keywords: integer overflow, pynac

Branch/Commit: eba0a9cc1cca15a9c39d84e7aaac1c762de3591f

Reviewer: Dima Pasechnik

Author: Dave Morris, Matthias Koeppe

Dependencies: #31694

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31585





---

archive/issue_comments_628363.json:
```json
{
    "body": "<a id='comment:1'></a>Moving to 9.4, as 9.3 has been released.",
    "created_at": "2021-05-10T17:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628363",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>Moving to 9.4, as 9.3 has been released.



---

archive/issue_events_083047.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-10T17:42:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31585#event-83047"
}
```



---

archive/issue_comments_628364.json:
```json
{
    "body": "<a id='comment:2'></a>I reproduced the bug by installing sage in a 32-bit debian virtual machine, and found a much simpler example of the overflow:\n\n```\nsage: (2*x).subs(x=-2^31)\n0\n```\nMore generally:\n\n```\nsage: for n in range(10):\n....:     print(n, (n*x).subs(x=-2^31)/2^31)\n0 0\n1 -1\n2 0\n3 -1\n4 0\n5 -1\n6 0\n7 -1\n8 0\n9 -1\n```",
    "created_at": "2021-06-10T19:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628364",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:2'></a>I reproduced the bug by installing sage in a 32-bit debian virtual machine, and found a much simpler example of the overflow:

```
sage: (2*x).subs(x=-2^31)
0
```
More generally:

```
sage: for n in range(10):
....:     print(n, (n*x).subs(x=-2^31)/2^31)
0 0
1 -1
2 0
3 -1
4 0
5 -1
6 0
7 -1
8 0
9 -1
```



---

archive/issue_comments_628365.json:
```json
{
    "body": "Changing author from \"\" to \"Dave Morris\"",
    "created_at": "2021-06-10T22:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628365",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing author from "" to "Dave Morris"



---

archive/issue_comments_628366.json:
```json
{
    "body": "<a id='comment:3'></a>I think the problem is an incorrect calculation of absolute value:\n\n```\nsage: abs(x).subs(x=-2^31)\n-2147483648\n```\nTo decide whether a multiplication might cause an overflow, pynac compares the absolute values of the factors to a certain bound. In the example of[comment:2](#comment%3A2), the absolute value of a factor is negative, so it is less than the bound, even though the factor is actually very large.\n\nAnd I think the incorrect absolute value comes from the C++ `std::labs` function. The documentation of that function says \"If the result cannot be represented as a long int (such as labs(LONG_MIN) in an implementation with two's complement signed values), it causes undefined behavior.\"\n\nI should be able to write a pynac patch soon that tests my theory. Even if it isn't the bug we are looking for, this bug in the absolute value needs to be fixed.",
    "created_at": "2021-06-10T22:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628366",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:3'></a>I think the problem is an incorrect calculation of absolute value:

```
sage: abs(x).subs(x=-2^31)
-2147483648
```
To decide whether a multiplication might cause an overflow, pynac compares the absolute values of the factors to a certain bound. In the example of[comment:2](#comment%3A2), the absolute value of a factor is negative, so it is less than the bound, even though the factor is actually very large.

And I think the incorrect absolute value comes from the C++ `std::labs` function. The documentation of that function says "If the result cannot be represented as a long int (such as labs(LONG_MIN) in an implementation with two's complement signed values), it causes undefined behavior."

I should be able to write a pynac patch soon that tests my theory. Even if it isn't the bug we are looking for, this bug in the absolute value needs to be fixed.



---

archive/issue_comments_628367.json:
```json
{
    "body": "<a id='comment:4'></a>The same problem comes up in pynac's `numeric::negative` method, so that will need to be fixed too:\n\n```\nsage: (-x).subs(x=-2^31)\n-2147483648\n```",
    "created_at": "2021-06-10T23:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628367",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:4'></a>The same problem comes up in pynac's `numeric::negative` method, so that will need to be fixed too:

```
sage: (-x).subs(x=-2^31)
-2147483648
```



---

archive/issue_comments_628368.json:
```json
{
    "body": "<a id='comment:5'></a>Here is a crash that is caused by the overflow when `-2^31` is divided by `-1`:\n\n```\nsage: (1 - 2^31*x)*x\n    <snip>\nUnhandled SIGFPE: An unhandled floating point exception occurred. ...\n```\n\nPatches to fix all of these should be coming soon.",
    "created_at": "2021-06-15T20:01:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628368",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:5'></a>Here is a crash that is caused by the overflow when `-2^31` is divided by `-1`:

```
sage: (1 - 2^31*x)*x
    <snip>
Unhandled SIGFPE: An unhandled floating point exception occurred. ...
```

Patches to fix all of these should be coming soon.



---

archive/issue_comments_628369.json:
```json
{
    "body": "Changing branch from \"\" to \"public/31585\"",
    "created_at": "2021-06-16T15:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628369",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing branch from "" to "public/31585"



---

archive/issue_comments_628370.json:
```json
{
    "body": "<a id='comment:7'></a>The pynac bugs on this ticket do not currently affect 64-bit sage.  (This is because pynac does not store `-2^63` as a `long integer`, even though it could fit into that space on a 64-bit machine.)  However, they will affect 64-bit machines after the branch on #31986 is merged.  (See the explanation and examples there.)  Hence, a 64-bit user can test the PR of this ticket by first merging the branch of #31986 (and executing `sage -f pynac`), and replacing `-2^31` with `-2^63`, as in the examples in the description of #31986.\n\nFollowup tickets: #31984 and #31986.\n\nI will try to post this (and my other pynac patches) to the pynac github repository soon.  My previous attempts failed because I know almost nothing about git, but now I understand that I need a fork, instead of a clone, so I hope to be successful.\n\n---\nNew commits:",
    "created_at": "2021-06-16T15:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628370",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:7'></a>The pynac bugs on this ticket do not currently affect 64-bit sage.  (This is because pynac does not store `-2^63` as a `long integer`, even though it could fit into that space on a 64-bit machine.)  However, they will affect 64-bit machines after the branch on #31986 is merged.  (See the explanation and examples there.)  Hence, a 64-bit user can test the PR of this ticket by first merging the branch of #31986 (and executing `sage -f pynac`), and replacing `-2^31` with `-2^63`, as in the examples in the description of #31986.

Followup tickets: #31984 and #31986.

I will try to post this (and my other pynac patches) to the pynac github repository soon.  My previous attempts failed because I know almost nothing about git, but now I understand that I need a fork, instead of a clone, so I hope to be successful.

---
New commits:



---

archive/issue_comments_628371.json:
```json
{
    "body": "Changing commit from \"\" to \"fdde3d9b4a16e51f22181744036920124811a1ef\"",
    "created_at": "2021-06-16T15:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628371",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing commit from "" to "fdde3d9b4a16e51f22181744036920124811a1ef"



---

archive/issue_comments_628372.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-16T15:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628372",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_628373.json:
```json
{
    "body": "<a id='comment:8'></a>I think this pynac patch also fixes #25688.",
    "created_at": "2021-06-19T07:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628373",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:8'></a>I think this pynac patch also fixes #25688.



---

archive/issue_comments_628374.json:
```json
{
    "body": "<a id='comment:9'></a>Merge conflict",
    "created_at": "2021-06-20T23:53:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628374",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>Merge conflict



---

archive/issue_comments_628375.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-20T23:53:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628375",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_628376.json:
```json
{
    "body": "Changing branch from \"public/31585\" to \"public/31585r1\"",
    "created_at": "2021-06-28T04:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628376",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing branch from "public/31585" to "public/31585r1"



---

archive/issue_comments_628377.json:
```json
{
    "body": "<a id='comment:11'></a>Rebased on 9.4b3.\n\n---\nNew commits:",
    "created_at": "2021-06-28T04:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628377",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:11'></a>Rebased on 9.4b3.

---
New commits:



---

archive/issue_comments_628378.json:
```json
{
    "body": "Changing commit from \"fdde3d9b4a16e51f22181744036920124811a1ef\" to \"5a340ce206534e0a48d48edeb48197906fb9812a\"",
    "created_at": "2021-06-28T04:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628378",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing commit from "fdde3d9b4a16e51f22181744036920124811a1ef" to "5a340ce206534e0a48d48edeb48197906fb9812a"



---

archive/issue_comments_628379.json:
```json
{
    "body": "<a id='comment:12'></a>PR to pynac please",
    "created_at": "2021-06-28T05:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628379",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>PR to pynac please



---

archive/issue_comments_628380.json:
```json
{
    "body": "<a id='comment:13'></a>Yes, I will try.",
    "created_at": "2021-06-28T05:10:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628380",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:13'></a>Yes, I will try.



---

archive/issue_comments_628381.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-28T05:10:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628381",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_628382.json:
```json
{
    "body": "Changing commit from \"5a340ce206534e0a48d48edeb48197906fb9812a\" to \"627ec10f92cf4150e4718541cfa5d9a2a2c5eeaf\"",
    "created_at": "2021-06-28T07:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5a340ce206534e0a48d48edeb48197906fb9812a" to "627ec10f92cf4150e4718541cfa5d9a2a2c5eeaf"



---

archive/issue_comments_628383.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-28T07:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_628384.json:
```json
{
    "body": "<a id='comment:15'></a>I previously neglected to fix the `/=` operator, which can also overflow.\n\nI created [pynac PR #378](https://github.com/pynac/pynac/pull/378). It's my first PR to anywhere other than the trac server, so please let me know if I goofed anything up.",
    "created_at": "2021-06-28T07:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628384",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:15'></a>I previously neglected to fix the `/=` operator, which can also overflow.

I created [pynac PR #378](https://github.com/pynac/pynac/pull/378). It's my first PR to anywhere other than the trac server, so please let me know if I goofed anything up.



---

archive/issue_comments_628385.json:
```json
{
    "body": "<a id='comment:16'></a>Has this been tested on 32-bit?",
    "created_at": "2021-06-28T08:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628385",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>Has this been tested on 32-bit?



---

archive/issue_comments_628386.json:
```json
{
    "body": "<a id='comment:17'></a>The original patch seemed to be fine, but I haven't tested the final commit yet. I hope to run doctests on my 32-bit debian virtual machine tomorrow. (I had trouble updating to 9.4b3, so I did `make distclean` and it is still building.)",
    "created_at": "2021-06-28T08:59:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628386",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:17'></a>The original patch seemed to be fine, but I haven't tested the final commit yet. I hope to run doctests on my 32-bit debian virtual machine tomorrow. (I had trouble updating to 9.4b3, so I did `make distclean` and it is still building.)



---

archive/issue_comments_628387.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#31694\"",
    "created_at": "2021-06-28T09:16:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628387",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "" to "#31694"



---

archive/issue_comments_628388.json:
```json
{
    "body": "<a id='comment:18'></a>OK, it should be made on top of #31694, anyway, no rush. I'll test and update.",
    "created_at": "2021-06-28T09:16:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628388",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>OK, it should be made on top of #31694, anyway, no rush. I'll test and update.



---

archive/issue_comments_628389.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-28T09:16:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628389",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_628390.json:
```json
{
    "body": "<a id='comment:19'></a>New commits:",
    "created_at": "2021-06-28T10:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628390",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>New commits:



---

archive/issue_comments_628391.json:
```json
{
    "body": "Changing branch from \"public/31585r1\" to \"u/dimpase/31585r1\"",
    "created_at": "2021-06-28T10:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628391",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "public/31585r1" to "u/dimpase/31585r1"



---

archive/issue_comments_628392.json:
```json
{
    "body": "Changing commit from \"627ec10f92cf4150e4718541cfa5d9a2a2c5eeaf\" to \"45e9cbc93028e702601260efc5aaa0d5d78cbb7a\"",
    "created_at": "2021-06-28T10:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628392",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "627ec10f92cf4150e4718541cfa5d9a2a2c5eeaf" to "45e9cbc93028e702601260efc5aaa0d5d78cbb7a"



---

archive/issue_comments_628393.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-06-28T10:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628393",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_628394.json:
```json
{
    "body": "Changing commit from \"45e9cbc93028e702601260efc5aaa0d5d78cbb7a\" to \"d6fc516223e03ddb7b180808a6e89eb31220103e\"",
    "created_at": "2021-06-28T10:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628394",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "45e9cbc93028e702601260efc5aaa0d5d78cbb7a" to "d6fc516223e03ddb7b180808a6e89eb31220103e"



---

archive/issue_comments_628395.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-28T10:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628395",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_628396.json:
```json
{
    "body": "Changing commit from \"d6fc516223e03ddb7b180808a6e89eb31220103e\" to \"35a2ebca29431658c43a30a571b0253e64a81d31\"",
    "created_at": "2021-06-28T10:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d6fc516223e03ddb7b180808a6e89eb31220103e" to "35a2ebca29431658c43a30a571b0253e64a81d31"



---

archive/issue_comments_628397.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-28T10:58:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_628398.json:
```json
{
    "body": "Changing commit from \"35a2ebca29431658c43a30a571b0253e64a81d31\" to \"a08180896163a8d6b3234419735e4f077b098a17\"",
    "created_at": "2021-06-28T10:58:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "35a2ebca29431658c43a30a571b0253e64a81d31" to "a08180896163a8d6b3234419735e4f077b098a17"



---

archive/issue_comments_628399.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2021-06-28T11:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628399",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_628400.json:
```json
{
    "body": "<a id='comment:23'></a>OK, all should be ready now for one last look.",
    "created_at": "2021-06-28T11:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628400",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>OK, all should be ready now for one last look.



---

archive/issue_comments_628401.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-28T11:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628401",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_628402.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-28T11:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628402",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_628403.json:
```json
{
    "body": "<a id='comment:25'></a>running GH Actions tests on this https://github.com/sagemath/sagetrac-mirror/actions/runs/978774922\n(basically to test #31694)",
    "created_at": "2021-06-28T11:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628403",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'></a>running GH Actions tests on this https://github.com/sagemath/sagetrac-mirror/actions/runs/978774922
(basically to test #31694)



---

archive/issue_comments_628404.json:
```json
{
    "body": "<a id='comment:26'></a>PR with standard-conforming code at https://github.com/pynac/pynac/pull/379",
    "created_at": "2021-06-29T00:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628404",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>PR with standard-conforming code at https://github.com/pynac/pynac/pull/379



---

archive/issue_comments_628405.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-06-29T00:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628405",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_628406.json:
```json
{
    "body": "Changing commit from \"a08180896163a8d6b3234419735e4f077b098a17\" to \"5d89a50796cd9a72834efc013cf1a474d758a154\"",
    "created_at": "2021-06-29T09:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a08180896163a8d6b3234419735e4f077b098a17" to "5d89a50796cd9a72834efc013cf1a474d758a154"



---

archive/issue_comments_628407.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-29T09:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_628408.json:
```json
{
    "body": "<a id='comment:29'></a>tests at https://github.com/sagemath/sagetrac-mirror/actions/runs/982168057",
    "created_at": "2021-06-29T09:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628408",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>tests at https://github.com/sagemath/sagetrac-mirror/actions/runs/982168057



---

archive/issue_comments_628409.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-29T11:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628409",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_628410.json:
```json
{
    "body": "Changing commit from \"5d89a50796cd9a72834efc013cf1a474d758a154\" to \"3c75f53afed0e0397cafcf42a5bbba0f15741c0d\"",
    "created_at": "2021-06-29T11:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628410",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5d89a50796cd9a72834efc013cf1a474d758a154" to "3c75f53afed0e0397cafcf42a5bbba0f15741c0d"



---

archive/issue_comments_628411.json:
```json
{
    "body": "<a id='comment:31'></a>update - https://github.com/sagemath/sagetrac-mirror/actions/runs/982441436\n\n---\nNew commits:",
    "created_at": "2021-06-29T11:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628411",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>update - https://github.com/sagemath/sagetrac-mirror/actions/runs/982441436

---
New commits:



---

archive/issue_comments_628412.json:
```json
{
    "body": "Changing branch from \"u/dimpase/31585r1\" to \"u/mkoeppe/31585r1\"",
    "created_at": "2021-06-30T03:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628412",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/dimpase/31585r1" to "u/mkoeppe/31585r1"



---

archive/issue_comments_628413.json:
```json
{
    "body": "Changing commit from \"3c75f53afed0e0397cafcf42a5bbba0f15741c0d\" to \"a8e82dd38d98ef846b07cdf97775726239b5c788\"",
    "created_at": "2021-06-30T03:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628413",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "3c75f53afed0e0397cafcf42a5bbba0f15741c0d" to "a8e82dd38d98ef846b07cdf97775726239b5c788"



---

archive/issue_comments_628414.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-30T03:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628414",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_628415.json:
```json
{
    "body": "<a id='comment:33'></a>New commits:",
    "created_at": "2021-06-30T03:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628415",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>New commits:



---

archive/issue_comments_628416.json:
```json
{
    "body": "Changing commit from \"a8e82dd38d98ef846b07cdf97775726239b5c788\" to \"eba0a9cc1cca15a9c39d84e7aaac1c762de3591f\"",
    "created_at": "2021-06-30T03:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a8e82dd38d98ef846b07cdf97775726239b5c788" to "eba0a9cc1cca15a9c39d84e7aaac1c762de3591f"



---

archive/issue_comments_628417.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-30T03:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_628418.json:
```json
{
    "body": "Changing author from \"Dave Morris\" to \"Dave Morris, Matthias Koeppe\"",
    "created_at": "2021-06-30T03:20:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628418",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Dave Morris" to "Dave Morris, Matthias Koeppe"



---

archive/issue_comments_628419.json:
```json
{
    "body": "<a id='comment:36'></a>tests run on https://github.com/sagemath/sagetrac-mirror/actions/runs/986545913",
    "created_at": "2021-06-30T13:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628419",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>tests run on https://github.com/sagemath/sagetrac-mirror/actions/runs/986545913



---

archive/issue_comments_628420.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-01T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628420",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_628421.json:
```json
{
    "body": "<a id='comment:37'></a>lgtm",
    "created_at": "2021-07-01T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628421",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'></a>lgtm



---

archive/issue_comments_628422.json:
```json
{
    "body": "<a id='comment:38'></a>Thanks!",
    "created_at": "2021-07-01T16:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628422",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>Thanks!



---

archive/issue_comments_628423.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-06T21:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628423",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_628424.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/31585r1\" to \"eba0a9cc1cca15a9c39d84e7aaac1c762de3591f\"",
    "created_at": "2021-07-06T21:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31585#issuecomment-628424",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/31585r1" to "eba0a9cc1cca15a9c39d84e7aaac1c762de3591f"



---

archive/issue_events_083048.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-06T21:29:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31585",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31585#event-83048"
}
```
