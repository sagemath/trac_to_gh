# Issue 31500: avoid empty list as default argument

archive/issues_031263.json:
```json
{
    "assignees": [],
    "body": "as this could be mutated and have strange side effects\n\nas suggested by lgtm\n\nCC:  @tscrim @slel\n\nBranch/Commit: **[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31500_\n\n",
    "closed_at": "2021-03-18T22:31:52Z",
    "created_at": "2021-03-15T21:17:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "avoid empty list as default argument",
    "type": "issue",
    "updated_at": "2021-03-18T22:31:52Z",
    "url": "https://github.com/sagemath/sage/issues/31500",
    "user": "https://github.com/fchapoton"
}
```
as this could be mutated and have strange side effects

as suggested by lgtm

CC:  @tscrim @slel

Branch/Commit: **[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/31500_





---

archive/issue_events_416002.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-15T21:17:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416002"
}
```



---

archive/issue_events_416003.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-15T21:17:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416003"
}
```



---

archive/issue_events_416004.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-15T21:17:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416004"
}
```



---

archive/issue_events_416005.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-15T21:17:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416005"
}
```



---

archive/issue_events_416006.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-15T21:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416006"
}
```



---

archive/issue_comments_508761.json:
```json
{
    "body": "Branch: **[u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)**",
    "created_at": "2021-03-15T21:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508761",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)**



---

archive/issue_comments_508762.json:
```json
{
    "body": "Commit: **[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)**",
    "created_at": "2021-03-15T21:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508762",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)**



---

archive/issue_comments_508763.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81\">28360fc</a></td><td><code>do not use empty list or dict as default argument</code></td></tr></table>\n",
    "created_at": "2021-03-15T21:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508763",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81">28360fc</a></td><td><code>do not use empty list or dict as default argument</code></td></tr></table>




---

archive/issue_comments_508764.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThe fix for the empty dict looks fine.\n\nBut for the case of the empty lists, would it not be easier to use an empty tuple instead?",
    "created_at": "2021-03-15T21:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508764",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

The fix for the empty dict looks fine.

But for the case of the empty lists, would it not be easier to use an empty tuple instead?



---

archive/issue_comments_508765.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI think it is better and safer not to change the input type of the functions. In fact, according to lgtm, all these inputs are potentially muted somewhere in sage code.",
    "created_at": "2021-03-16T07:13:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508765",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>

I think it is better and safer not to change the input type of the functions. In fact, according to lgtm, all these inputs are potentially muted somewhere in sage code.



---

archive/issue_comments_508766.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\ngreen bot, please review",
    "created_at": "2021-03-16T07:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508766",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">Comment 5</div>

green bot, please review



---

archive/issue_comments_508767.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI think having a more minimal change here is good for now.",
    "created_at": "2021-03-16T13:18:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508767",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

I think having a more minimal change here is good for now.



---

archive/issue_events_416007.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-16T13:18:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416007"
}
```



---

archive/issue_events_416008.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-16T13:18:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416008"
}
```



---

archive/issue_comments_508768.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-03-16T13:18:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508768",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_508769.json:
```json
{
    "body": "Changed branch from **[u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)** to **[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)**",
    "created_at": "2021-03-18T22:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31500#issuecomment-508769",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)** to **[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)**



---

archive/issue_events_416009.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-18T22:31:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416009"
}
```



---

archive/issue_events_416010.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e5683e76f04b391b1aedc1334319053d285afe2b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-03-18T22:31:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31500",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31500#event-416010"
}
```
