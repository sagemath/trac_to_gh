# Issue 31500: avoid empty list as default argument

archive/issues_031263.json:
```json
{
    "body": "as this could be mutated and have strange side effects\n\nas suggested by lgtm\n\n**CC:**  @tscrim @slel\n\n**Branch/Commit:** [28360fcf95cd6929551e9baa13e4c5e9350dbf81](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/31500\n\n",
    "closed_at": "2021-03-18T22:31:52Z",
    "created_at": "2021-03-15T21:17:56Z",
    "labels": [
        "component: refactoring",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "avoid empty list as default argument",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31500",
    "user": "https://github.com/fchapoton"
}
```
as this could be mutated and have strange side effects

as suggested by lgtm

**CC:**  @tscrim @slel

**Branch/Commit:** [28360fcf95cd6929551e9baa13e4c5e9350dbf81](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/31500





---

archive/issue_events_287284.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-15T21:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-287284"
}
```



---

archive/issue_comments_510134.json:
```json
{
    "body": "**Branch:** [u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)",
    "created_at": "2021-03-15T21:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510134",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)



---

archive/issue_comments_510135.json:
```json
{
    "body": "**Commit:** [28360fcf95cd6929551e9baa13e4c5e9350dbf81](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)",
    "created_at": "2021-03-15T21:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [28360fcf95cd6929551e9baa13e4c5e9350dbf81](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)



---

archive/issue_comments_510136.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81\">28360fc</a></td><td><code>do not use empty list or dict as default argument</code></td></tr></table>\n",
    "created_at": "2021-03-15T21:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81">28360fc</a></td><td><code>do not use empty list or dict as default argument</code></td></tr></table>




---

archive/issue_comments_510137.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe fix for the empty dict looks fine.\n\nBut for the case of the empty lists, would it not be easier to use an empty tuple instead?",
    "created_at": "2021-03-15T21:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510137",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
The fix for the empty dict looks fine.

But for the case of the empty lists, would it not be easier to use an empty tuple instead?



---

archive/issue_comments_510138.json:
```json
{
    "body": "<a id='comment:4'></a>\nI think it is better and safer not to change the input type of the functions. In fact, according to lgtm, all these inputs are potentially muted somewhere in sage code.",
    "created_at": "2021-03-16T07:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510138",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
I think it is better and safer not to change the input type of the functions. In fact, according to lgtm, all these inputs are potentially muted somewhere in sage code.



---

archive/issue_comments_510139.json:
```json
{
    "body": "<a id='comment:5'></a>\ngreen bot, please review",
    "created_at": "2021-03-16T07:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510139",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
green bot, please review



---

archive/issue_comments_510140.json:
```json
{
    "body": "<a id='comment:6'></a>\nI think having a more minimal change here is good for now.",
    "created_at": "2021-03-16T13:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510140",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
I think having a more minimal change here is good for now.



---

archive/issue_events_287285.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-16T13:18:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-287285"
}
```



---

archive/issue_events_287286.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-16T13:18:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-287286"
}
```



---

archive/issue_comments_510141.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2021-03-16T13:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510141",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_510142.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)\" to \"[28360fcf95cd6929551e9baa13e4c5e9350dbf81](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)\".",
    "created_at": "2021-03-18T22:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-510142",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/31500](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/31500)" to "[28360fcf95cd6929551e9baa13e4c5e9350dbf81](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)".



---

archive/issue_events_287287.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-18T22:31:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-287287"
}
```



---

archive/issue_events_287288.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-18T22:31:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-287288"
}
```
