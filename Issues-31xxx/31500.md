# Issue 31500: avoid empty list as default argument

archive/issues_031263.json:
```json
{
    "body": "as this could be mutated and have strange side effects\n\nas suggested by lgtm\n\nCC:  @tscrim @slel\n\nBranch/Commit: 28360fcf95cd6929551e9baa13e4c5e9350dbf81\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31500\n\n",
    "closed_at": "2021-03-18T22:31:52Z",
    "created_at": "2021-03-15T21:17:56Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "avoid empty list as default argument",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31500",
    "user": "https://github.com/fchapoton"
}
```
as this could be mutated and have strange side effects

as suggested by lgtm

CC:  @tscrim @slel

Branch/Commit: 28360fcf95cd6929551e9baa13e4c5e9350dbf81

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31500





---

archive/issue_comments_618005.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-15T21:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618005",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_618006.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/31500\"",
    "created_at": "2021-03-15T21:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618006",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/31500"



---

archive/issue_comments_618007.json:
```json
{
    "body": "Changing commit from \"\" to \"28360fcf95cd6929551e9baa13e4c5e9350dbf81\"",
    "created_at": "2021-03-15T21:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618007",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "28360fcf95cd6929551e9baa13e4c5e9350dbf81"



---

archive/issue_comments_618008.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)|`do not use empty list or dict as default argument`|",
    "created_at": "2021-03-15T21:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618008",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[28360fc](https://github.com/sagemath/sagetrac-mirror/commit/28360fcf95cd6929551e9baa13e4c5e9350dbf81)|`do not use empty list or dict as default argument`|



---

archive/issue_comments_618009.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe fix for the empty dict looks fine.\n\nBut for the case of the empty lists, would it not be easier to use an empty tuple instead?",
    "created_at": "2021-03-15T21:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618009",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
The fix for the empty dict looks fine.

But for the case of the empty lists, would it not be easier to use an empty tuple instead?



---

archive/issue_comments_618010.json:
```json
{
    "body": "<a id='comment:4'></a>\nI think it is better and safer not to change the input type of the functions. In fact, according to lgtm, all these inputs are potentially muted somewhere in sage code.",
    "created_at": "2021-03-16T07:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618010",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
I think it is better and safer not to change the input type of the functions. In fact, according to lgtm, all these inputs are potentially muted somewhere in sage code.



---

archive/issue_comments_618011.json:
```json
{
    "body": "<a id='comment:5'></a>\ngreen bot, please review",
    "created_at": "2021-03-16T07:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618011",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
green bot, please review



---

archive/issue_comments_618012.json:
```json
{
    "body": "<a id='comment:6'></a>\nI think having a more minimal change here is good for now.",
    "created_at": "2021-03-16T13:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618012",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
I think having a more minimal change here is good for now.



---

archive/issue_comments_618013.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-16T13:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618013",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_618014.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2021-03-16T13:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618014",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_618015.json:
```json
{
    "body": "Changing branch from \"u/chapoton/31500\" to \"28360fcf95cd6929551e9baa13e4c5e9350dbf81\"",
    "created_at": "2021-03-18T22:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618015",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/31500" to "28360fcf95cd6929551e9baa13e4c5e9350dbf81"



---

archive/issue_events_101056.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-18T22:31:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31500#event-101056"
}
```



---

archive/issue_comments_618016.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-18T22:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31500",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31500#issuecomment-618016",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
