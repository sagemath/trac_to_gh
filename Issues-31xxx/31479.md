# Issue 31479: Do not use pynac's poly_mul_expand function until it has been debugged

archive/issues_031242.json:
```json
{
    "body": "Pynac's `poly_mul_expand` function silently produces wrong results when expanding certain sums. This ticket eliminates its use by pynac's `ex::expand` method, and therefore provides a (temporary) fix for the problems reported in #31077 and #31411.\n\nThis is part of metaticket #31478.\n\nUse of the `poly_mul_expand` function can be re-enabled after the bugs have been fixed.\n\nCC:  @egourgoulhon @mjungmath\n\nKeywords: pynac, expand\n\nBranch/Commit: eeb6cc28b30923aeaaf26a4375683e20ee5c27df\n\nReviewer: Volker Braun, Matthias Koeppe\n\nAuthor: Dave Morris\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31479\n\n",
    "closed_at": "2021-04-12T21:48:44Z",
    "created_at": "2021-03-10T07:04:03Z",
    "labels": [
        "component: symbolics",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Do not use pynac's poly_mul_expand function until it has been debugged",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31479",
    "user": "https://github.com/DaveWitteMorris"
}
```
Pynac's `poly_mul_expand` function silently produces wrong results when expanding certain sums. This ticket eliminates its use by pynac's `ex::expand` method, and therefore provides a (temporary) fix for the problems reported in #31077 and #31411.

This is part of metaticket #31478.

Use of the `poly_mul_expand` function can be re-enabled after the bugs have been fixed.

CC:  @egourgoulhon @mjungmath

Keywords: pynac, expand

Branch/Commit: eeb6cc28b30923aeaaf26a4375683e20ee5c27df

Reviewer: Volker Braun, Matthias Koeppe

Author: Dave Morris

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31479





---

archive/issue_comments_617663.json:
```json
{
    "body": "Changing branch from \"\" to \"public/31479\"",
    "created_at": "2021-03-10T07:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617663",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing branch from "" to "public/31479"



---

archive/issue_comments_617664.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-10T07:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617664",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_617665.json:
```json
{
    "body": "Changing commit from \"\" to \"3dfe9a6785dfc664317031f03ddfc9a778787de3\"",
    "created_at": "2021-03-10T07:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617665",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing commit from "" to "3dfe9a6785dfc664317031f03ddfc9a778787de3"



---

archive/issue_comments_617666.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[371e10d](https://github.com/sagemath/sagetrac-mirror/commit/371e10d3d0592b6c2016ec948519d7a0c3cf5dab)|`trac 31479: pynac's poly_mul_expand`|\n|[3dfe9a6](https://github.com/sagemath/sagetrac-mirror/commit/3dfe9a6785dfc664317031f03ddfc9a778787de3)|`add doctests`|",
    "created_at": "2021-03-10T07:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617666",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[371e10d](https://github.com/sagemath/sagetrac-mirror/commit/371e10d3d0592b6c2016ec948519d7a0c3cf5dab)|`trac 31479: pynac's poly_mul_expand`|
|[3dfe9a6](https://github.com/sagemath/sagetrac-mirror/commit/3dfe9a6785dfc664317031f03ddfc9a778787de3)|`add doctests`|



---

archive/issue_comments_617667.json:
```json
{
    "body": "<a id='comment:3'></a>\nPatchbot indicates doctest failures:\n\n```\nsage -t --long --warn-long 68.0 --random-seed=0 src/sage/symbolic/expression.pyx\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 4846, in sage.symbolic.expression.Expression.expand\nFailed example:\n    ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)\nExpected:\n    d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36\nGot:\n    -124*d^3 + 468*d^2 - 372*d + 36\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 4854, in sage.symbolic.expression.Expression.expand\nFailed example:\n    bool((A * B).expand() == (A * B.expand()).expand())\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n```",
    "created_at": "2021-03-10T18:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617667",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
Patchbot indicates doctest failures:

```
sage -t --long --warn-long 68.0 --random-seed=0 src/sage/symbolic/expression.pyx
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 4846, in sage.symbolic.expression.Expression.expand
Failed example:
    ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)
Expected:
    d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36
Got:
    -124*d^3 + 468*d^2 - 372*d + 36
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 4854, in sage.symbolic.expression.Expression.expand
Failed example:
    bool((A * B).expand() == (A * B.expand()).expand())
Expected:
    True
Got:
    False
**********************************************************************
```



---

archive/issue_comments_617668.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-03-10T18:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617668",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_617669.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe doctests that failed are the new ones that are added by this ticket.  They will fail without the pynac patch that is on this ticket, but will pass if the patch is applied.\n\nI am pretty sure that the patchbot did not apply the patch to pynac. Is there something I should do to make the patchbot apply the patch?",
    "created_at": "2021-03-10T19:11:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617669",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:4'></a>
The doctests that failed are the new ones that are added by this ticket.  They will fail without the pynac patch that is on this ticket, but will pass if the patch is applied.

I am pretty sure that the patchbot did not apply the patch to pynac. Is there something I should do to make the patchbot apply the patch?



---

archive/issue_comments_617670.json:
```json
{
    "body": "<a id='comment:5'></a>\nDoctesting this ticket on MacOS 10.15.7 with \n\n```\nsage -f pynac\nmake\nsage -t -p 4 --all --long\n```\nresulted in `All tests passed!`. I also tested on Ubuntu 20.04 (CoCalc) and got no failures that I would attribute to this ticket. So I think we can consider the badge to be green, even though the patchbots aren't testing the pynac patch.",
    "created_at": "2021-03-13T17:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617670",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:5'></a>
Doctesting this ticket on MacOS 10.15.7 with 

```
sage -f pynac
make
sage -t -p 4 --all --long
```
resulted in `All tests passed!`. I also tested on Ubuntu 20.04 (CoCalc) and got no failures that I would attribute to this ticket. So I think we can consider the badge to be green, even though the patchbots aren't testing the pynac patch.



---

archive/issue_comments_617671.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-03-13T17:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617671",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_617672.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-03-23T23:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617672",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_617673.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe patch level in build/pkgs/pynac/package-version.txt needs to be incremented so the build system knows that pynac must be rebuilt...",
    "created_at": "2021-03-23T23:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617673",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
The patch level in build/pkgs/pynac/package-version.txt needs to be incremented so the build system knows that pynac must be rebuilt...



---

archive/issue_comments_617674.json:
```json
{
    "body": "Changing branch from \"public/31479\" to \"public/31479v2\"",
    "created_at": "2021-03-24T01:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617674",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing branch from "public/31479" to "public/31479v2"



---

archive/issue_comments_617675.json:
```json
{
    "body": "Changing commit from \"3dfe9a6785dfc664317031f03ddfc9a778787de3\" to \"b6f91708881e26205e362c3461614d2e5b88fc78\"",
    "created_at": "2021-03-24T01:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617675",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing commit from "3dfe9a6785dfc664317031f03ddfc9a778787de3" to "b6f91708881e26205e362c3461614d2e5b88fc78"



---

archive/issue_comments_617676.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-03-24T01:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617676",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_617677.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks!  I incremented the patch number (and rebased on beta9), so I hope the patchbots will start chiming in.\n\n---\nNew commits:\n|                                                                                                                                          |                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[270a2f9](https://github.com/sagemath/sagetrac-mirror/commit/270a2f96d6f5b1cc4ea540372c9e86858b2e045b)|`trac 31479: pynac's poly_mul_expand`|\n|[a2ebbeb](https://github.com/sagemath/sagetrac-mirror/commit/a2ebbeb60aaa48521b938eb98d7a2d061c7a20b1)|`add doctests`|\n|[b6f9170](https://github.com/sagemath/sagetrac-mirror/commit/b6f91708881e26205e362c3461614d2e5b88fc78)|`increment package version`|",
    "created_at": "2021-03-24T01:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617677",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:10'></a>
Thanks!  I incremented the patch number (and rebased on beta9), so I hope the patchbots will start chiming in.

---
New commits:
|                                                                                                                                          |                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[270a2f9](https://github.com/sagemath/sagetrac-mirror/commit/270a2f96d6f5b1cc4ea540372c9e86858b2e045b)|`trac 31479: pynac's poly_mul_expand`|
|[a2ebbeb](https://github.com/sagemath/sagetrac-mirror/commit/a2ebbeb60aaa48521b938eb98d7a2d061c7a20b1)|`add doctests`|
|[b6f9170](https://github.com/sagemath/sagetrac-mirror/commit/b6f91708881e26205e362c3461614d2e5b88fc78)|`increment package version`|



---

archive/issue_comments_617678.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-24T22:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617678",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_617679.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2021-03-24T22:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617679",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_617680.json:
```json
{
    "body": "<a id='comment:12'></a>\nOn 32-bit\n\n```\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 4882, in sage.symbolic.expression.Expression.expand\nFailed example:\n    ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)\nExpected:\n    d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36\nGot:\n    d^3 + 18*d^2 + 1739461754973*d - 8697308774865/d + 450/d^2 - 125/d^3 + 36\n**********************************************************************\n1 item had failures:\n   1 of  43 in sage.symbolic.expression.Expression.expand\n    [2937 tests, 1 failure, 38.78 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/symbolic/expression.pyx  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2021-03-28T08:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617680",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>
On 32-bit

```
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 4882, in sage.symbolic.expression.Expression.expand
Failed example:
    ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)
Expected:
    d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36
Got:
    d^3 + 18*d^2 + 1739461754973*d - 8697308774865/d + 450/d^2 - 125/d^3 + 36
**********************************************************************
1 item had failures:
   1 of  43 in sage.symbolic.expression.Expression.expand
    [2937 tests, 1 failure, 38.78 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/symbolic/expression.pyx  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_617681.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-03-28T08:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617681",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_617682.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe answer is correct modulo `2^32`, so it seems clear that this is an integer overflow error. But pynac is not supposed to make that type of error, so I don't know what is going on. It may not be difficult to locate the bug on a machine that reproduces the error, but I don't have one right now.\n\nI propose to mark the 32-bit version of this doctest `# known bug` and open a new (critical) ticket to fix the overflow error.",
    "created_at": "2021-03-29T21:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617682",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:13'></a>
The answer is correct modulo `2^32`, so it seems clear that this is an integer overflow error. But pynac is not supposed to make that type of error, so I don't know what is going on. It may not be difficult to locate the bug on a machine that reproduces the error, but I don't have one right now.

I propose to mark the 32-bit version of this doctest `# known bug` and open a new (critical) ticket to fix the overflow error.



---

archive/issue_comments_617683.json:
```json
{
    "body": "<a id='comment:14'></a>\nVolker, given that you seem to be the only one who has access to a 32-bit machine, perhaps you can help locating this bug?",
    "created_at": "2021-03-30T00:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617683",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Volker, given that you seem to be the only one who has access to a 32-bit machine, perhaps you can help locating this bug?



---

archive/issue_comments_617684.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[96b0f8b](https://github.com/sagemath/sagetrac-mirror/commit/96b0f8bd3c791f533989d92d026e9558fa880a5c)|`add 32-bit known bug tags`|",
    "created_at": "2021-03-31T03:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[96b0f8b](https://github.com/sagemath/sagetrac-mirror/commit/96b0f8bd3c791f533989d92d026e9558fa880a5c)|`add 32-bit known bug tags`|



---

archive/issue_comments_617685.json:
```json
{
    "body": "Changing commit from \"b6f91708881e26205e362c3461614d2e5b88fc78\" to \"96b0f8bd3c791f533989d92d026e9558fa880a5c\"",
    "created_at": "2021-03-31T03:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b6f91708881e26205e362c3461614d2e5b88fc78" to "96b0f8bd3c791f533989d92d026e9558fa880a5c"



---

archive/issue_comments_617686.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-03-31T03:52:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617686",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_617687.json:
```json
{
    "body": "<a id='comment:16'></a>\nI opened #31585 for the integer overflow error.",
    "created_at": "2021-03-31T03:52:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617687",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:16'></a>
I opened #31585 for the integer overflow error.



---

archive/issue_comments_617688.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-05T16:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617688",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_617689.json:
```json
{
    "body": "<a id='comment:17'></a>\nShort of new information regarding the 32-bit status (is the failure introduced by this ticket? or just not fixed by this ticket?), I'm marking this as positive review, as it is certainly an improvement. (Volker, note, if you consider 32 bit support important, let's please merge #31541 too in this release too.)",
    "created_at": "2021-04-05T16:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617689",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Short of new information regarding the 32-bit status (is the failure introduced by this ticket? or just not fixed by this ticket?), I'm marking this as positive review, as it is certainly an improvement. (Volker, note, if you consider 32 bit support important, let's please merge #31541 too in this release too.)



---

archive/issue_comments_617690.json:
```json
{
    "body": "Changing reviewer from \"Volker Braun\" to \"Volker Braun, Matthias Koeppe\"",
    "created_at": "2021-04-05T16:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617690",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Volker Braun" to "Volker Braun, Matthias Koeppe"



---

archive/issue_comments_617691.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-04-05T23:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617691",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_617692.json:
```json
{
    "body": "<a id='comment:18'></a>\nMerge conflict",
    "created_at": "2021-04-05T23:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617692",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
Merge conflict



---

archive/issue_comments_617693.json:
```json
{
    "body": "Changing commit from \"96b0f8bd3c791f533989d92d026e9558fa880a5c\" to \"23648607ab7d56187c8da7baa1ca16ac782f5244\"",
    "created_at": "2021-04-05T23:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "96b0f8bd3c791f533989d92d026e9558fa880a5c" to "23648607ab7d56187c8da7baa1ca16ac782f5244"



---

archive/issue_comments_617694.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[4bacd76](https://github.com/sagemath/sagetrac-mirror/commit/4bacd765e297f33ba67ed02b67fcdbf5729f0b29)|`trac 31554 do not use handle_factor`|\n|[00b44eb](https://github.com/sagemath/sagetrac-mirror/commit/00b44eb082cf37308879b28dd81c8ba37824511b)|`add doctest`|\n|[707560a](https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996)|`increment pynac patch number`|\n|[82843fe](https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d)|`remove debugging code`|\n|[ed6cac2](https://github.com/sagemath/sagetrac-mirror/commit/ed6cac27827b1c3c29014c8e6ebcd63bd736d889)|`Merge branch 'public/31554' of git://trac.sagemath.org/sage into t/31479/public/31479v2`|\n|[2364860](https://github.com/sagemath/sagetrac-mirror/commit/23648607ab7d56187c8da7baa1ca16ac782f5244)|`build/pkgs/pynac/package-version.txt: Bump patch level`|",
    "created_at": "2021-04-05T23:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[4bacd76](https://github.com/sagemath/sagetrac-mirror/commit/4bacd765e297f33ba67ed02b67fcdbf5729f0b29)|`trac 31554 do not use handle_factor`|
|[00b44eb](https://github.com/sagemath/sagetrac-mirror/commit/00b44eb082cf37308879b28dd81c8ba37824511b)|`add doctest`|
|[707560a](https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996)|`increment pynac patch number`|
|[82843fe](https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d)|`remove debugging code`|
|[ed6cac2](https://github.com/sagemath/sagetrac-mirror/commit/ed6cac27827b1c3c29014c8e6ebcd63bd736d889)|`Merge branch 'public/31554' of git://trac.sagemath.org/sage into t/31479/public/31479v2`|
|[2364860](https://github.com/sagemath/sagetrac-mirror/commit/23648607ab7d56187c8da7baa1ca16ac782f5244)|`build/pkgs/pynac/package-version.txt: Bump patch level`|



---

archive/issue_comments_617695.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-04-05T23:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617695",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_617696.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#31554\"",
    "created_at": "2021-04-05T23:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617696",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#31554"



---

archive/issue_comments_617697.json:
```json
{
    "body": "Changing commit from \"23648607ab7d56187c8da7baa1ca16ac782f5244\" to \"b0b074e5bbd1ac31c29af7b08a274a7c313a28af\"",
    "created_at": "2021-04-09T06:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617697",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "23648607ab7d56187c8da7baa1ca16ac782f5244" to "b0b074e5bbd1ac31c29af7b08a274a7c313a28af"



---

archive/issue_comments_617698.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-04-09T06:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617698",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_617699.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[0f6dcc9](https://github.com/sagemath/sagetrac-mirror/commit/0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70)|`Merge tag '9.3.rc2' into t/31554/public/31554`|\n|[b0b074e](https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af)|`Merge #31479`|",
    "created_at": "2021-04-09T06:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617699",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[0f6dcc9](https://github.com/sagemath/sagetrac-mirror/commit/0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70)|`Merge tag '9.3.rc2' into t/31554/public/31554`|
|[b0b074e](https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af)|`Merge #31479`|



---

archive/issue_comments_617700.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-09T06:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617700",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_617701.json:
```json
{
    "body": "<a id='comment:23'></a>\nCircular dependency",
    "created_at": "2021-04-10T11:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617701",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>
Circular dependency



---

archive/issue_comments_617702.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-04-10T11:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617702",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_617703.json:
```json
{
    "body": "Changing commit from \"b0b074e5bbd1ac31c29af7b08a274a7c313a28af\" to \"0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70\"",
    "created_at": "2021-04-10T16:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617703",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b0b074e5bbd1ac31c29af7b08a274a7c313a28af" to "0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70"



---

archive/issue_comments_617704.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-04-10T16:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617704",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_617705.json:
```json
{
    "body": "Changing dependencies from \"#31554\" to \"\"",
    "created_at": "2021-04-10T16:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617705",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31554" to ""



---

archive/issue_comments_617706.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-04-10T16:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617706",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_617707.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[eeb6cc2](https://github.com/sagemath/sagetrac-mirror/commit/eeb6cc28b30923aeaaf26a4375683e20ee5c27df)|`build/pkgs/pynac/package-version.txt: Bump patch level`|",
    "created_at": "2021-04-10T16:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617707",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[eeb6cc2](https://github.com/sagemath/sagetrac-mirror/commit/eeb6cc28b30923aeaaf26a4375683e20ee5c27df)|`build/pkgs/pynac/package-version.txt: Bump patch level`|



---

archive/issue_comments_617708.json:
```json
{
    "body": "Changing commit from \"0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70\" to \"eeb6cc28b30923aeaaf26a4375683e20ee5c27df\"",
    "created_at": "2021-04-10T16:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70" to "eeb6cc28b30923aeaaf26a4375683e20ee5c27df"



---

archive/issue_comments_617709.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-10T16:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617709",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_617710.json:
```json
{
    "body": "<a id='comment:27'></a>\nSorry for messing this up.",
    "created_at": "2021-04-10T16:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617710",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Sorry for messing this up.



---

archive/issue_comments_617711.json:
```json
{
    "body": "Changing branch from \"public/31479v2\" to \"eeb6cc28b30923aeaaf26a4375683e20ee5c27df\"",
    "created_at": "2021-04-12T21:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617711",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/31479v2" to "eeb6cc28b30923aeaaf26a4375683e20ee5c27df"



---

archive/issue_comments_617712.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-04-12T21:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31479#issuecomment-617712",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_100965.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-12T21:48:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31479",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31479#event-100965"
}
```
