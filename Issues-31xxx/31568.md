# Issue 31568: Add commands "sage --lldb", "sage -t --lldb"

archive/issues_031331.json:
```json
{
    "body": "... for debugging on macOS, similar to `sage --gdb` and `sage -t --gdb`\n\n\n\nCC:  @yuan-zhou @dimpase @jhpalmieri\n\nBranch/Commit: [2f4717b2a6c5bcb3577b602f4b812f006242cb31](https://github.com/sagemath/sagetrac-mirror/commit/2f4717b2a6c5bcb3577b602f4b812f006242cb31)\n\nReviewer: John Palmieri\n\nAuthor: Matthias Koeppe\n\nDependencies: #33627\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31568\n\n",
    "closed_at": "2022-08-01T20:23:11Z",
    "created_at": "2021-03-27T01:34:39Z",
    "labels": [
        "component: scripts"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Add commands \"sage --lldb\", \"sage -t --lldb\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31568",
    "user": "https://github.com/mkoeppe"
}
```
... for debugging on macOS, similar to `sage --gdb` and `sage -t --gdb`



CC:  @yuan-zhou @dimpase @jhpalmieri

Branch/Commit: [2f4717b2a6c5bcb3577b602f4b812f006242cb31](https://github.com/sagemath/sagetrac-mirror/commit/2f4717b2a6c5bcb3577b602f4b812f006242cb31)

Reviewer: John Palmieri

Author: Matthias Koeppe

Dependencies: #33627

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31568





---

archive/issue_comments_628116.json:
```json
{
    "body": "<a id='comment:1'></a>\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628116",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_093438.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93438"
}
```



---

archive/issue_events_093439.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93439"
}
```



---

archive/issue_events_093440.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93440"
}
```



---

archive/issue_events_093441.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93441"
}
```



---

archive/issue_events_093442.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93442"
}
```



---

archive/issue_events_093443.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93443"
}
```



---

archive/issue_events_093444.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93444"
}
```



---

archive/issue_comments_628117.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#33627\"",
    "created_at": "2022-07-23T04:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628117",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#33627"



---

archive/issue_events_093445.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "rename": {
        "from": "Add command \"sage --lldb\"",
        "to": "Add commands \"sage --lldb\", \"sage -t --lldb\""
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93445"
}
```



---

archive/issue_comments_628118.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/add_commands__sage___lldb____sage__t___lldb_\"",
    "created_at": "2022-07-23T05:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628118",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/add_commands__sage___lldb____sage__t___lldb_"



---

archive/issue_comments_628119.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n-... similar to \"sage --gdb\".\n+... for debugging on macOS, similar to `sage --gdb` and `sage -t --gdb`\n \n+\n``````\n",
    "created_at": "2022-07-23T05:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628119",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
-... similar to "sage --gdb".
+... for debugging on macOS, similar to `sage --gdb` and `sage -t --gdb`
 
+
``````




---

archive/issue_comments_628120.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-07-23T05:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628120",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_628121.json:
```json
{
    "body": "<a id='comment:8'></a>\nNew commits:\n|                                                                                                                                          |                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[e0c9408](https://github.com/sagemath/sagetrac-mirror/commit/e0c9408a83f9be80e6c0556c2d30a5d56201168f)|`Move sage-gdb-commands from src/bin to src/sage/doctest`|\n|[a9a2fde](https://github.com/sagemath/sagetrac-mirror/commit/a9a2fdec13b87c95008bd45ed03e97d43c114836)|`src/sage/doctest/control.py: Get sage-gdb-commands with importlib.resources`|\n|[793ba4e](https://github.com/sagemath/sagetrac-mirror/commit/793ba4ee7800bf85b252020dc2b1a713da0c544d)|`Merge #33627`|\n|[e54638e](https://github.com/sagemath/sagetrac-mirror/commit/e54638ea2e6066f360904a0f8bd2515734660e79)|`New commands 'sage --lldb', 'sage -t --lldb'`|",
    "created_at": "2022-07-23T05:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628121",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
New commits:
|                                                                                                                                          |                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[e0c9408](https://github.com/sagemath/sagetrac-mirror/commit/e0c9408a83f9be80e6c0556c2d30a5d56201168f)|`Move sage-gdb-commands from src/bin to src/sage/doctest`|
|[a9a2fde](https://github.com/sagemath/sagetrac-mirror/commit/a9a2fdec13b87c95008bd45ed03e97d43c114836)|`src/sage/doctest/control.py: Get sage-gdb-commands with importlib.resources`|
|[793ba4e](https://github.com/sagemath/sagetrac-mirror/commit/793ba4ee7800bf85b252020dc2b1a713da0c544d)|`Merge #33627`|
|[e54638e](https://github.com/sagemath/sagetrac-mirror/commit/e54638ea2e6066f360904a0f8bd2515734660e79)|`New commands 'sage --lldb', 'sage -t --lldb'`|



---

archive/issue_comments_628122.json:
```json
{
    "body": "Changing commit from \"\" to \"e54638ea2e6066f360904a0f8bd2515734660e79\"",
    "created_at": "2022-07-23T05:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628122",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "e54638ea2e6066f360904a0f8bd2515734660e79"



---

archive/issue_comments_628123.json:
```json
{
    "body": "Changing commit from \"e54638ea2e6066f360904a0f8bd2515734660e79\" to \"2f4717b2a6c5bcb3577b602f4b812f006242cb31\"",
    "created_at": "2022-07-23T07:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628123",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e54638ea2e6066f360904a0f8bd2515734660e79" to "2f4717b2a6c5bcb3577b602f4b812f006242cb31"



---

archive/issue_comments_628124.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[6cc5205](https://github.com/sagemath/sagetrac-mirror/commit/6cc5205f998b31d0790ed82ec914c0dfa9b7c19f)|`src/sage/doctest/control.py: When invoking gdb, use sys.executable`|\n|[9d2c48f](https://github.com/sagemath/sagetrac-mirror/commit/9d2c48f0ed85c53a2eb06bab090613f7e7cd6311)|`src/bin/sage, src/sage/doctest/control.py: Eliminate use of sage-gdb-commands`|\n|[d24b928](https://github.com/sagemath/sagetrac-mirror/commit/d24b928c9710baab95281d2a26bc071366a6b72b)|`src/bin/sage (--gdb): Do not try to run cygdb unless SAGE_DEBUG=yes`|\n|[2f4717b](https://github.com/sagemath/sagetrac-mirror/commit/2f4717b2a6c5bcb3577b602f4b812f006242cb31)|`New commands 'sage --lldb', 'sage -t --lldb'`|",
    "created_at": "2022-07-23T07:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628124",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[6cc5205](https://github.com/sagemath/sagetrac-mirror/commit/6cc5205f998b31d0790ed82ec914c0dfa9b7c19f)|`src/sage/doctest/control.py: When invoking gdb, use sys.executable`|
|[9d2c48f](https://github.com/sagemath/sagetrac-mirror/commit/9d2c48f0ed85c53a2eb06bab090613f7e7cd6311)|`src/bin/sage, src/sage/doctest/control.py: Eliminate use of sage-gdb-commands`|
|[d24b928](https://github.com/sagemath/sagetrac-mirror/commit/d24b928c9710baab95281d2a26bc071366a6b72b)|`src/bin/sage (--gdb): Do not try to run cygdb unless SAGE_DEBUG=yes`|
|[2f4717b](https://github.com/sagemath/sagetrac-mirror/commit/2f4717b2a6c5bcb3577b602f4b812f006242cb31)|`New commands 'sage --lldb', 'sage -t --lldb'`|



---

archive/issue_comments_628125.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-23T07:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628125",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_628126.json:
```json
{
    "body": "<a id='comment:12'></a>\ndo you mean \"for debugging Sage built with clang\" ?",
    "created_at": "2022-07-23T19:42:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628126",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
do you mean "for debugging Sage built with clang" ?



---

archive/issue_comments_628127.json:
```json
{
    "body": "<a id='comment:13'></a>\nPossibly, but I don't have experience with lldb other than on the macOS platform, where using gdb is awkward",
    "created_at": "2022-07-23T19:44:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628127",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Possibly, but I don't have experience with lldb other than on the macOS platform, where using gdb is awkward



---

archive/issue_comments_628128.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-25T05:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628128",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_628129.json:
```json
{
    "body": "<a id='comment:15'></a>\nLooks good to me.",
    "created_at": "2022-07-25T05:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628129",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:15'></a>
Looks good to me.



---

archive/issue_comments_628130.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2022-07-25T05:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628130",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_628131.json:
```json
{
    "body": "<a id='comment:16'></a>\nThank you",
    "created_at": "2022-07-25T05:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628131",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Thank you



---

archive/issue_comments_628132.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/add_commands__sage___lldb____sage__t___lldb_\" to \"2f4717b2a6c5bcb3577b602f4b812f006242cb31\"",
    "created_at": "2022-08-01T20:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628132",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/add_commands__sage___lldb____sage__t___lldb_" to "2f4717b2a6c5bcb3577b602f4b812f006242cb31"



---

archive/issue_events_093446.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-01T20:23:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31568#event-93446"
}
```



---

archive/issue_comments_628133.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-01T20:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31568#issuecomment-628133",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
