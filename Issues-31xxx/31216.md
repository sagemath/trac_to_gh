# Issue 31216: tox.ini (local): Add environment variables to skip system package installs and other steps, add mechanism for a local interactive shell

archive/issues_030979.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\n(from #31064)\n\nWe add the following to the `local-...` environments:\n\n- an environment variable that can be passed to tox to skip system package installs, directly reusing a previously set up system\n\n```\nSKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status\nSKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status\n```\n  This can save time and also give developers more control for experiments with system packages.\n\n- a target that gives an interactive shell in the tox environment:\n\n```\ntox -e local-homebrew-macos-standard -- bash\ntox -e local-direct -- bash\nSKIP_SYSTEM_PKG_INSTALL=yes SKIP_BOOTSTRAP=1 SKIP_CONFIGURE=1 tox -e local-homebrew-macos-standard -- bash\n```\n\n\nDepends on #30944\n\nCC:  @tobiasdiez @kliem @dimpase\n\nComponent: **porting**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`2d84b5a`](https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86)**\n\nReviewer: **Tobias Diez**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31216_\n\n",
    "closed_at": "2021-01-31T20:53:33Z",
    "created_at": "2021-01-09T19:19:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "tox.ini (local): Add environment variables to skip system package installs and other steps, add mechanism for a local interactive shell",
    "type": "issue",
    "updated_at": "2021-01-31T20:53:33Z",
    "url": "https://github.com/sagemath/sage/issues/31216",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

(from #31064)

We add the following to the `local-...` environments:

- an environment variable that can be passed to tox to skip system package installs, directly reusing a previously set up system

```
SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status
SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status
```
  This can save time and also give developers more control for experiments with system packages.

- a target that gives an interactive shell in the tox environment:

```
tox -e local-homebrew-macos-standard -- bash
tox -e local-direct -- bash
SKIP_SYSTEM_PKG_INSTALL=yes SKIP_BOOTSTRAP=1 SKIP_CONFIGURE=1 tox -e local-homebrew-macos-standard -- bash
```


Depends on #30944

CC:  @tobiasdiez @kliem @dimpase

Component: **porting**

Author: **Matthias Koeppe**

Branch/Commit: **[`2d84b5a`](https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86)**

Reviewer: **Tobias Diez**

_Issue created by migration from https://trac.sagemath.org/ticket/31216_





---

archive/issue_events_427076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-09T19:19:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427076"
}
```



---

archive/issue_events_427077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-09T19:19:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427077"
}
```



---

archive/issue_events_427078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-09T19:19:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427078"
}
```



---

archive/issue_events_427079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-09T19:19:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427079"
}
```



---

archive/issue_comments_500068.json:
```json
{
    "body": "Dependencies: **#30944**",
    "created_at": "2021-01-09T19:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500068",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30944**



---

archive/issue_comments_500069.json:
```json
{
    "body": "Branch: **[u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell)**",
    "created_at": "2021-01-09T21:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500069",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell)**



---

archive/issue_comments_500070.json:
```json
{
    "body": "Commit: **[`13f58fc`](https://github.com/sagemath/sagetrac-mirror/commit/13f58fc7445bca7f54cc80efea51c1082a615542)**",
    "created_at": "2021-01-09T21:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500070",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`13f58fc`](https://github.com/sagemath/sagetrac-mirror/commit/13f58fc7445bca7f54cc80efea51c1082a615542)**



---

archive/issue_comments_500071.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,9 @@\n \n   This can save time and also give developers more control for experiments with system packages.\n \n-- a target or environment variable to give an interactive shell.\n+- a target give an interactive shell:\n \n-\n+```\n+tox -e local-homebrew-macos-standard -- bash\n+tox -e local-direct -- bash\n+```\n``````\n",
    "created_at": "2021-01-09T21:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500071",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,9 @@
 
   This can save time and also give developers more control for experiments with system packages.
 
-- a target or environment variable to give an interactive shell.
+- a target give an interactive shell:
 
-
+```
+tox -e local-homebrew-macos-standard -- bash
+tox -e local-direct -- bash
+```
``````




---

archive/issue_comments_500072.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5fe7522a2ad03b23553d696e7a941e9f4fa3271\"><code>e5fe752</code></a></td><td><code>Merge tag '9.3.beta4' into t/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78ff9d580f5f0c1396e1f8a5421858170999957a\"><code>78ff9d5</code></a></td><td><code>src/sage/misc/package.py: Add one more # optional - build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a44042f86577431358fb3ea95875cd949f971984\"><code>a44042f</code></a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64bde5f887ac115b1e40b7905ad30cc00d8de363\"><code>64bde5f</code></a></td><td><code>Merge tag '9.3.beta5' into t/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9a7572a37b228f4a74c35f680190e6b237f48d8\"><code>e9a7572</code></a></td><td><code>src/sage/misc/package.py: Improve source formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7bcda971b925201891d60d13c6b6e879c888301\"><code>c7bcda9</code></a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9988c5fab43adc6f5784a124248887637475d67c\"><code>9988c5f</code></a></td><td><code>ci-cygwin*.yml: Adjust to new script packages _bootstrap, _prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab191339dfa275b3466f530a59268c756f5d1b05\"><code>ab19133</code></a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/30944/tox__improve_local_sudo_ubuntu_standard</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6ad06e880513185a02604fef6e2763a50a46d30\"><code>c6ad06e</code></a></td><td><code>Merge branch 't/30944/tox__improve_local_sudo_ubuntu_standard' into t/31216/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13f58fc7445bca7f54cc80efea51c1082a615542\"><code>13f58fc</code></a></td><td><code>tox.ini (local): Run an interactive shell if posargs are bash</code></td></tr></table>\n",
    "created_at": "2021-01-09T21:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500072",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5fe7522a2ad03b23553d696e7a941e9f4fa3271"><code>e5fe752</code></a></td><td><code>Merge tag '9.3.beta4' into t/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78ff9d580f5f0c1396e1f8a5421858170999957a"><code>78ff9d5</code></a></td><td><code>src/sage/misc/package.py: Add one more # optional - build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a44042f86577431358fb3ea95875cd949f971984"><code>a44042f</code></a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64bde5f887ac115b1e40b7905ad30cc00d8de363"><code>64bde5f</code></a></td><td><code>Merge tag '9.3.beta5' into t/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9a7572a37b228f4a74c35f680190e6b237f48d8"><code>e9a7572</code></a></td><td><code>src/sage/misc/package.py: Improve source formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7bcda971b925201891d60d13c6b6e879c888301"><code>c7bcda9</code></a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9988c5fab43adc6f5784a124248887637475d67c"><code>9988c5f</code></a></td><td><code>ci-cygwin*.yml: Adjust to new script packages _bootstrap, _prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab191339dfa275b3466f530a59268c756f5d1b05"><code>ab19133</code></a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/30944/tox__improve_local_sudo_ubuntu_standard</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6ad06e880513185a02604fef6e2763a50a46d30"><code>c6ad06e</code></a></td><td><code>Merge branch 't/30944/tox__improve_local_sudo_ubuntu_standard' into t/31216/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13f58fc7445bca7f54cc80efea51c1082a615542"><code>13f58fc</code></a></td><td><code>tox.ini (local): Run an interactive shell if posargs are bash</code></td></tr></table>




---

archive/issue_comments_500073.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n \n   This can save time and also give developers more control for experiments with system packages.\n \n-- a target give an interactive shell:\n+- a target that gives an interactive shell in the tox environment:\n \n ```\n tox -e local-homebrew-macos-standard -- bash\n``````\n",
    "created_at": "2021-01-09T21:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500073",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 
   This can save time and also give developers more control for experiments with system packages.
 
-- a target give an interactive shell:
+- a target that gives an interactive shell in the tox environment:
 
 ```
 tox -e local-homebrew-macos-standard -- bash
``````




---

archive/issue_comments_500074.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ace4ef6674eaf29ff6a590ce0bcc5943f36c342c\"><code>ace4ef6</code></a></td><td><code>tox.ini (local): Add option SKIP_SYSTEM_PKG_INSTALL=1</code></td></tr></table>\n",
    "created_at": "2021-01-10T00:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500074",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ace4ef6674eaf29ff6a590ce0bcc5943f36c342c"><code>ace4ef6</code></a></td><td><code>tox.ini (local): Add option SKIP_SYSTEM_PKG_INSTALL=1</code></td></tr></table>




---

archive/issue_comments_500075.json:
```json
{
    "body": "Changed commit from **[`13f58fc`](https://github.com/sagemath/sagetrac-mirror/commit/13f58fc7445bca7f54cc80efea51c1082a615542)** to **[`ace4ef6`](https://github.com/sagemath/sagetrac-mirror/commit/ace4ef6674eaf29ff6a590ce0bcc5943f36c342c)**",
    "created_at": "2021-01-10T00:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500075",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`13f58fc`](https://github.com/sagemath/sagetrac-mirror/commit/13f58fc7445bca7f54cc80efea51c1082a615542)** to **[`ace4ef6`](https://github.com/sagemath/sagetrac-mirror/commit/ace4ef6674eaf29ff6a590ce0bcc5943f36c342c)**



---

archive/issue_comments_500076.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-01-10T00:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500076",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_427080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-10T00:47:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427080"
}
```



---

archive/issue_comments_500077.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,9 @@\n \n - an environment variable that can be passed to tox to skip system package installs, directly reusing a previously set up system\n \n+```\n+SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status\n+```\n   This can save time and also give developers more control for experiments with system packages.\n \n - a target that gives an interactive shell in the tox environment:\n@@ -12,3 +15,4 @@\n tox -e local-homebrew-macos-standard -- bash\n tox -e local-direct -- bash\n ```\n+\n``````\n",
    "created_at": "2021-01-10T00:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500077",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,9 @@
 
 - an environment variable that can be passed to tox to skip system package installs, directly reusing a previously set up system
 
+```
+SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status
+```
   This can save time and also give developers more control for experiments with system packages.
 
 - a target that gives an interactive shell in the tox environment:
@@ -12,3 +15,4 @@
 tox -e local-homebrew-macos-standard -- bash
 tox -e local-direct -- bash
 ```
+
``````




---

archive/issue_comments_500078.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOn a first glance this looks good. Thanks! Could you please also add documentation for these tox commands / switches. Also I was wondering if one could add a `tox -e local-homebrew-macos-standard -- install-system-packages` that only installs the system packages?",
    "created_at": "2021-01-10T12:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500078",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:8" align="right">comment:8</div>

On a first glance this looks good. Thanks! Could you please also add documentation for these tox commands / switches. Also I was wondering if one could add a `tox -e local-homebrew-macos-standard -- install-system-packages` that only installs the system packages?



---

archive/issue_comments_500079.json:
```json
{
    "body": "Changed commit from **[`ace4ef6`](https://github.com/sagemath/sagetrac-mirror/commit/ace4ef6674eaf29ff6a590ce0bcc5943f36c342c)** to **[`ddc4f0b`](https://github.com/sagemath/sagetrac-mirror/commit/ddc4f0b63ae13eee632663d7cb57c2b6d8207eb8)**",
    "created_at": "2021-01-10T21:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500079",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ace4ef6`](https://github.com/sagemath/sagetrac-mirror/commit/ace4ef6674eaf29ff6a590ce0bcc5943f36c342c)** to **[`ddc4f0b`](https://github.com/sagemath/sagetrac-mirror/commit/ddc4f0b63ae13eee632663d7cb57c2b6d8207eb8)**



---

archive/issue_comments_500080.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddc4f0b63ae13eee632663d7cb57c2b6d8207eb8\"><code>ddc4f0b</code></a></td><td><code>tox.ini (local): Handle environment variables SKIP_BOOTSTRAP, SKIP_CONFIGURE</code></td></tr></table>\n",
    "created_at": "2021-01-10T21:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500080",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddc4f0b63ae13eee632663d7cb57c2b6d8207eb8"><code>ddc4f0b</code></a></td><td><code>tox.ini (local): Handle environment variables SKIP_BOOTSTRAP, SKIP_CONFIGURE</code></td></tr></table>




---

archive/issue_events_427081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-10T21:09:03Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "title_is": "tox.ini (local): Add environment variables to skip system package installs and other steps, add mechanism for a local interactive shell",
    "title_was": "tox.ini (local): Add environment variables to skip system package installs, mechanism for a local interactive shell",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427081"
}
```



---

archive/issue_comments_500081.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n - an environment variable that can be passed to tox to skip system package installs, directly reusing a previously set up system\n \n ```\n+SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status\n SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status\n ```\n   This can save time and also give developers more control for experiments with system packages.\n@@ -14,5 +15,6 @@\n ```\n tox -e local-homebrew-macos-standard -- bash\n tox -e local-direct -- bash\n+SKIP_SYSTEM_PKG_INSTALL=yes SKIP_BOOTSTRAP=1 SKIP_CONFIGURE=1 tox -e local-homebrew-macos-standard -- bash\n ```\n \n``````\n",
    "created_at": "2021-01-10T21:09:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500081",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 - an environment variable that can be passed to tox to skip system package installs, directly reusing a previously set up system
 
 ```
+SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status
 SKIP_SYSTEM_PKG_INSTALL=yes tox -e local-homebrew-macos-standard -- config.status
 ```
   This can save time and also give developers more control for experiments with system packages.
@@ -14,5 +15,6 @@
 ```
 tox -e local-homebrew-macos-standard -- bash
 tox -e local-direct -- bash
+SKIP_SYSTEM_PKG_INSTALL=yes SKIP_BOOTSTRAP=1 SKIP_CONFIGURE=1 tox -e local-homebrew-macos-standard -- bash
 ```
 
``````




---

archive/issue_comments_500082.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb6aec4cd442939b43b19a6c33d203abdbcaee33\"><code>bb6aec4</code></a></td><td><code>src/doc/en/developer/portability_testing.rst: Updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6253bd822f2dd515979875d3aea4beaf8de0d0ec\"><code>6253bd8</code></a></td><td><code>src/doc/en/developer/portability_testing.rst: New section on SKIP_... environment variables</code></td></tr></table>\n",
    "created_at": "2021-01-11T04:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500082",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb6aec4cd442939b43b19a6c33d203abdbcaee33"><code>bb6aec4</code></a></td><td><code>src/doc/en/developer/portability_testing.rst: Updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6253bd822f2dd515979875d3aea4beaf8de0d0ec"><code>6253bd8</code></a></td><td><code>src/doc/en/developer/portability_testing.rst: New section on SKIP_... environment variables</code></td></tr></table>




---

archive/issue_comments_500083.json:
```json
{
    "body": "Changed commit from **[`ddc4f0b`](https://github.com/sagemath/sagetrac-mirror/commit/ddc4f0b63ae13eee632663d7cb57c2b6d8207eb8)** to **[`6253bd8`](https://github.com/sagemath/sagetrac-mirror/commit/6253bd822f2dd515979875d3aea4beaf8de0d0ec)**",
    "created_at": "2021-01-11T04:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500083",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ddc4f0b`](https://github.com/sagemath/sagetrac-mirror/commit/ddc4f0b63ae13eee632663d7cb57c2b6d8207eb8)** to **[`6253bd8`](https://github.com/sagemath/sagetrac-mirror/commit/6253bd822f2dd515979875d3aea4beaf8de0d0ec)**



---

archive/issue_comments_500084.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@tobiasdiez](#comment%3A8):\n> Could you please also add documentation for these tox commands / switches. \n\nDone\n\n> Also I was wondering if one could add a `tox -e local-homebrew-macos-standard -- install-system-packages` that only installs the system packages?\n\nI have instead added more `SKIP_...` options.",
    "created_at": "2021-01-11T04:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500084",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@tobiasdiez](#comment%3A8):
> Could you please also add documentation for these tox commands / switches. 

Done

> Also I was wondering if one could add a `tox -e local-homebrew-macos-standard -- install-system-packages` that only installs the system packages?

I have instead added more `SKIP_...` options.



---

archive/issue_comments_500085.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@mkoeppe](#comment%3A12):\n> I have instead added more `SKIP_...` options.\n> \n\nThanks! Would it also make sense to add one to skip `make`? (I remember you once told me how to do this, I think, it was via `config.status` or something - but maybe the version using skip is closer in spirit anyway).\n\nI'll review this once #30944 is merged in develop.",
    "created_at": "2021-01-11T15:23:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500085",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@mkoeppe](#comment%3A12):
> I have instead added more `SKIP_...` options.
> 

Thanks! Would it also make sense to add one to skip `make`? (I remember you once told me how to do this, I think, it was via `config.status` or something - but maybe the version using skip is closer in spirit anyway).

I'll review this once #30944 is merged in develop.



---

archive/issue_comments_500086.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@tobiasdiez](#comment%3A13):\n> Would it also make sense to add one to skip `make`? \n\nYou can just pass a make target that does nothing - such as `Makefile`",
    "created_at": "2021-01-11T19:10:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500086",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@tobiasdiez](#comment%3A13):
> Would it also make sense to add one to skip `make`? 

You can just pass a make target that does nothing - such as `Makefile`



---

archive/issue_events_427082.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-01-12T12:56:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427082"
}
```



---

archive/issue_events_427083.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-01-12T12:56:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427083"
}
```



---

archive/issue_comments_500087.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n> local-sudo-standard run-test: commands[1] | bash -c 'case \"\" in 1|y*|Y*);; *) eval $(build/bin/sage-print-system-package-command $(build/bin/sage-guess-package-system) --sudo update) ;;'/usr/bin/bash: -c: line 1: syntax error: unexpected end of file\n\nI think there is a \"esac\" missing at the end of these two lines:\n\n```\n\n+    local-{root,sudo}:    bash -c 'case \"{env:SKIP_SYSTEM_PKG_INSTALL:}\" in 1|y*|Y*);; *) eval $(build/bin/sage-print-system-package-command {env:SYSTEM} {env:__SUDO:} update) ;;'\n+    local-{root,sudo}:    bash -c 'case \"{env:SKIP_SYSTEM_PKG_INSTALL:}\" in 1|y*|Y*);; *) PACKAGES=$(build/bin/sage-get-system-packages {env:SYSTEM} $(PATH=build/bin:$PATH build/bin/sage-package list {env:SAGE_PACKAGE_LIST_ARGS}) _bootstrap); eval $(build/bin/sage-print-system-package-command {env:SYSTEM} {env:__SUDO:} --yes --no-install-recommends install $PACKAGES) || [ \"$IGNORE_MISSING_SYSTEM_PACKAGES\" = yes ] && echo \"(ignoring errors)\" ;;'\n\n```",
    "created_at": "2021-01-12T12:56:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500087",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:15" align="right">comment:15</div>

> local-sudo-standard run-test: commands[1] | bash -c 'case "" in 1|y*|Y*);; *) eval $(build/bin/sage-print-system-package-command $(build/bin/sage-guess-package-system) --sudo update) ;;'/usr/bin/bash: -c: line 1: syntax error: unexpected end of file

I think there is a "esac" missing at the end of these two lines:

```

+    local-{root,sudo}:    bash -c 'case "{env:SKIP_SYSTEM_PKG_INSTALL:}" in 1|y*|Y*);; *) eval $(build/bin/sage-print-system-package-command {env:SYSTEM} {env:__SUDO:} update) ;;'
+    local-{root,sudo}:    bash -c 'case "{env:SKIP_SYSTEM_PKG_INSTALL:}" in 1|y*|Y*);; *) PACKAGES=$(build/bin/sage-get-system-packages {env:SYSTEM} $(PATH=build/bin:$PATH build/bin/sage-package list {env:SAGE_PACKAGE_LIST_ARGS}) _bootstrap); eval $(build/bin/sage-print-system-package-command {env:SYSTEM} {env:__SUDO:} --yes --no-install-recommends install $PACKAGES) || [ "$IGNORE_MISSING_SYSTEM_PACKAGES" = yes ] && echo "(ignoring errors)" ;;'

```



---

archive/issue_comments_500088.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mkoeppe](#comment%3A14):\n> Replying to [@tobiasdiez](#comment%3A13):\n> > Would it also make sense to add one to skip `make`? \n> \n> \n> You can just pass a make target that does nothing - such as `Makefile` \n> \n\n\n`tox -e local-sudo-standard Makefile` with `SKIP_BOOTSTRAP: yes` and `SKIP_CONFIGURE: yes` still runs `bootstrap` and `base-toolchain` in the `make` command, which then fails since `configure` was not called before.",
    "created_at": "2021-01-12T13:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500088",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mkoeppe](#comment%3A14):
> Replying to [@tobiasdiez](#comment%3A13):
> > Would it also make sense to add one to skip `make`? 
> 
> 
> You can just pass a make target that does nothing - such as `Makefile` 
> 


`tox -e local-sudo-standard Makefile` with `SKIP_BOOTSTRAP: yes` and `SKIP_CONFIGURE: yes` still runs `bootstrap` and `base-toolchain` in the `make` command, which then fails since `configure` was not called before.



---

archive/issue_comments_500089.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAh, of course. Make that `configure.ac` instead of `Makefile`...",
    "created_at": "2021-01-12T18:15:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500089",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Ah, of course. Make that `configure.ac` instead of `Makefile`...



---

archive/issue_comments_500090.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThat worked, thanks! Apart from the missing \"esac\" mentioned above, this looks good to me.",
    "created_at": "2021-01-18T17:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500090",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:18" align="right">comment:18</div>

That worked, thanks! Apart from the missing "esac" mentioned above, this looks good to me.



---

archive/issue_comments_500091.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86\"><code>2d84b5a</code></a></td><td><code>tox.ini: Add missing esac</code></td></tr></table>\n",
    "created_at": "2021-01-18T19:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500091",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86"><code>2d84b5a</code></a></td><td><code>tox.ini: Add missing esac</code></td></tr></table>




---

archive/issue_comments_500092.json:
```json
{
    "body": "Changed commit from **[`6253bd8`](https://github.com/sagemath/sagetrac-mirror/commit/6253bd822f2dd515979875d3aea4beaf8de0d0ec)** to **[`2d84b5a`](https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86)**",
    "created_at": "2021-01-18T19:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500092",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6253bd8`](https://github.com/sagemath/sagetrac-mirror/commit/6253bd822f2dd515979875d3aea4beaf8de0d0ec)** to **[`2d84b5a`](https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86)**



---

archive/issue_events_427084.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-18T19:33:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427084"
}
```



---

archive/issue_events_427085.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-18T19:33:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427085"
}
```



---

archive/issue_comments_500093.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIs the prefix `[mkoeppe@sage sage]$` really needed / what's its purpose?\nhttps://github.com/sagemath/sagetrac-mirror/compare/u/mkoeppe/tox__improve_local_sudo_ubuntu_standard...u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell#diff-c13a55474e037a35696cfba4768b81295c0383f1940052c5fcbef0737387f165R610\n\nOtherwise the changes look good to me.",
    "created_at": "2021-01-19T15:44:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500093",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:21" align="right">comment:21</div>

Is the prefix `[mkoeppe@sage sage]$` really needed / what's its purpose?
https://github.com/sagemath/sagetrac-mirror/compare/u/mkoeppe/tox__improve_local_sudo_ubuntu_standard...u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell#diff-c13a55474e037a35696cfba4768b81295c0383f1940052c5fcbef0737387f165R610

Otherwise the changes look good to me.



---

archive/issue_comments_500094.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@tobiasdiez](#comment%3A21):\n> Is the prefix `[mkoeppe@sage sage]$` really needed / what's its purpose?\n\nIt's a typical shell prompt on posix systems. The second `sage` indicates the current directory. This is consistent with other parts of the Sage developer guide, for example https://doc.sagemath.org/html/en/developer/doctesting.html",
    "created_at": "2021-01-19T19:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500094",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@tobiasdiez](#comment%3A21):
> Is the prefix `[mkoeppe@sage sage]$` really needed / what's its purpose?

It's a typical shell prompt on posix systems. The second `sage` indicates the current directory. This is consistent with other parts of the Sage developer guide, for example https://doc.sagemath.org/html/en/developer/doctesting.html



---

archive/issue_events_427086.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-01-19T21:18:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427086"
}
```



---

archive/issue_events_427087.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2021-01-19T21:18:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427087"
}
```



---

archive/issue_comments_500095.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThanks, then it looks good to me!",
    "created_at": "2021-01-19T21:18:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500095",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:23" align="right">comment:23</div>

Thanks, then it looks good to me!



---

archive/issue_comments_500096.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThanks!",
    "created_at": "2021-01-19T21:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500096",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Thanks!



---

archive/issue_comments_500097.json:
```json
{
    "body": "Reviewer: **Tobias Diez**",
    "created_at": "2021-01-19T21:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500097",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Tobias Diez**



---

archive/issue_events_427088.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-01-31T20:53:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427088"
}
```



---

archive/issue_events_427089.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6a5ad3f3ebeaa19e60985da78442f92002bd33d3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-01-31T20:53:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31216#event-427089"
}
```



---

archive/issue_comments_500098.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell)** to **[`2d84b5a`](https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86)**",
    "created_at": "2021-01-31T20:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31216",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31216#issuecomment-500098",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__local___add_environment_variables_to_skip_system_package_installs__mechanism_for_a_local_interactive_shell)** to **[`2d84b5a`](https://github.com/sagemath/sagetrac-mirror/commit/2d84b5ab5ac0741e872fb5a15539c2bbf935fe86)**
