# Issue 31680: Poset of manifold subsets

archive/issues_031443.json:
```json
{
    "body": "The declared subsets or supersets of a `ManifoldSubset` form finite posets. We add methods to expose them as instances of `FinitePoset`.\n\n\n\nCC:  @mjungmath @egourgoulhon @tscrim\n\nBranch/Commit: 84896c4d1ec02b22bed05d2f5dd188d71ee0767d\n\nReviewer: Eric Gourgoulhon\n\nAuthor: Matthias Koeppe\n\nDependencies: #31681, #31717\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31680\n\n",
    "closed_at": "2021-06-21T21:17:40Z",
    "created_at": "2021-04-17T19:14:07Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Poset of manifold subsets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31680",
    "user": "https://github.com/mkoeppe"
}
```
The declared subsets or supersets of a `ManifoldSubset` form finite posets. We add methods to expose them as instances of `FinitePoset`.



CC:  @mjungmath @egourgoulhon @tscrim

Branch/Commit: 84896c4d1ec02b22bed05d2f5dd188d71ee0767d

Reviewer: Eric Gourgoulhon

Author: Matthias Koeppe

Dependencies: #31681, #31717

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31680





---

archive/issue_comments_630168.json:
```json
{
    "body": "<a id='comment:1'></a>\nPossibly related: #30263.",
    "created_at": "2021-04-17T19:31:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630168",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:1'></a>
Possibly related: #30263.



---

archive/issue_comments_630169.json:
```json
{
    "body": "<a id='comment:2'></a>\nYes, hopefully this new feature can be used as a debugging tool",
    "created_at": "2021-04-17T19:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630169",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Yes, hopefully this new feature can be used as a debugging tool



---

archive/issue_comments_630170.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/poset_of_manifold_subsets\"",
    "created_at": "2021-04-17T20:46:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630170",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/poset_of_manifold_subsets"



---

archive/issue_comments_630171.json:
```json
{
    "body": "<a id='comment:4'></a>\nHere's a first step: Building a digraph from the defined subsets.\n\n(Plotting needs `dot2tex` and looks bad because of the long labels. I don't know if it is possible to replace the labels by the latex names)\n\n---\nNew commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[1b5c153](https://git.sagemath.org/sage.git/commit?id=1b5c153e6c973c6fe0b2040dc2af2f12960b8716)|`ManifoldSubset.subset_digraph: New`|",
    "created_at": "2021-04-17T20:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630171",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Here's a first step: Building a digraph from the defined subsets.

(Plotting needs `dot2tex` and looks bad because of the long labels. I don't know if it is possible to replace the labels by the latex names)

---
New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[1b5c153](https://git.sagemath.org/sage.git/commit?id=1b5c153e6c973c6fe0b2040dc2af2f12960b8716)|`ManifoldSubset.subset_digraph: New`|



---

archive/issue_comments_630172.json:
```json
{
    "body": "Changing commit from \"\" to \"1b5c153e6c973c6fe0b2040dc2af2f12960b8716\"",
    "created_at": "2021-04-17T20:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630172",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "1b5c153e6c973c6fe0b2040dc2af2f12960b8716"



---

archive/issue_comments_630173.json:
```json
{
    "body": "Changing commit from \"1b5c153e6c973c6fe0b2040dc2af2f12960b8716\" to \"91bbc3ecb2b08dd3ffbb0ef1f3c2297de6b33816\"",
    "created_at": "2021-04-18T02:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1b5c153e6c973c6fe0b2040dc2af2f12960b8716" to "91bbc3ecb2b08dd3ffbb0ef1f3c2297de6b33816"



---

archive/issue_comments_630174.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[91bbc3e](https://git.sagemath.org/sage.git/commit/?id=91bbc3ecb2b08dd3ffbb0ef1f3c2297de6b33816)|`ManifoldSubset.subset_poset: New`|",
    "created_at": "2021-04-18T02:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[91bbc3e](https://git.sagemath.org/sage.git/commit/?id=91bbc3ecb2b08dd3ffbb0ef1f3c2297de6b33816)|`ManifoldSubset.subset_poset: New`|



---

archive/issue_comments_630175.json:
```json
{
    "body": "Changing commit from \"91bbc3ecb2b08dd3ffbb0ef1f3c2297de6b33816\" to \"858c82de2f280be41c6aa6c3928290c30c97f240\"",
    "created_at": "2021-04-18T05:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "91bbc3ecb2b08dd3ffbb0ef1f3c2297de6b33816" to "858c82de2f280be41c6aa6c3928290c30c97f240"



---

archive/issue_comments_630176.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------|\n|[858c82d](https://git.sagemath.org/sage.git/commit/?id=858c82de2f280be41c6aa6c3928290c30c97f240)|`Fixup`|",
    "created_at": "2021-04-18T05:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------|
|[858c82d](https://git.sagemath.org/sage.git/commit/?id=858c82de2f280be41c6aa6c3928290c30c97f240)|`Fixup`|



---

archive/issue_comments_630177.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#31681\"",
    "created_at": "2021-04-18T16:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630177",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#31681"



---

archive/issue_comments_630178.json:
```json
{
    "body": "Changing commit from \"858c82de2f280be41c6aa6c3928290c30c97f240\" to \"a1e21b0b4687f43f4f19b2c4ddac8e1e9493ae81\"",
    "created_at": "2021-04-18T16:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630178",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "858c82de2f280be41c6aa6c3928290c30c97f240" to "a1e21b0b4687f43f4f19b2c4ddac8e1e9493ae81"



---

archive/issue_comments_630179.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[280a82d](https://git.sagemath.org/sage.git/commit/?id=280a82d6426dc847bf661170c83cccfb74dae1ee)|`trac #31681: fix sorting in layout_acyclic_dummy`|\n|[a1e21b0](https://git.sagemath.org/sage.git/commit/?id=a1e21b0b4687f43f4f19b2c4ddac8e1e9493ae81)|`Merge #31681`|",
    "created_at": "2021-04-18T16:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630179",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[280a82d](https://git.sagemath.org/sage.git/commit/?id=280a82d6426dc847bf661170c83cccfb74dae1ee)|`trac #31681: fix sorting in layout_acyclic_dummy`|
|[a1e21b0](https://git.sagemath.org/sage.git/commit/?id=a1e21b0b4687f43f4f19b2c4ddac8e1e9493ae81)|`Merge #31681`|



---

archive/issue_comments_630180.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-04-18T16:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630180",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_630181.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[2e2d91e](https://git.sagemath.org/sage.git/commit/?id=2e2d91ebc69117b7a49e1f099f83993bfd118db8)|`ManifoldSubset.{sub,super}set_{digraph,poset}: More options`|",
    "created_at": "2021-04-18T20:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[2e2d91e](https://git.sagemath.org/sage.git/commit/?id=2e2d91ebc69117b7a49e1f099f83993bfd118db8)|`ManifoldSubset.{sub,super}set_{digraph,poset}: More options`|



---

archive/issue_comments_630182.json:
```json
{
    "body": "Changing commit from \"a1e21b0b4687f43f4f19b2c4ddac8e1e9493ae81\" to \"2e2d91ebc69117b7a49e1f099f83993bfd118db8\"",
    "created_at": "2021-04-18T20:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630182",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a1e21b0b4687f43f4f19b2c4ddac8e1e9493ae81" to "2e2d91ebc69117b7a49e1f099f83993bfd118db8"



---

archive/issue_comments_630183.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [mkoeppe](#comment%3A4):\n> Here's a first step: Building a digraph from the defined subsets.\n\n\nI'm happy to see this happening! At the beginning of the SageManifolds project, it was pretty clear that graphs would be the proper way to deal with subsets, but I was not familiar with this part of Sage and wanted to move fast...\n\n> \n> (Plotting needs `dot2tex` and looks bad because of the long labels. I don't know if it is possible to replace the labels by the latex names)\n\n\nThis would be nice, indeed. Playing with the doctest examples, \n\n```\nsage: view(latex(D))                                                                                \nsage: view(latex(P))                                                                                \n```\nyields nice figures, with the latex names.",
    "created_at": "2021-04-18T20:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630183",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:11'></a>
Replying to [mkoeppe](#comment%3A4):
> Here's a first step: Building a digraph from the defined subsets.


I'm happy to see this happening! At the beginning of the SageManifolds project, it was pretty clear that graphs would be the proper way to deal with subsets, but I was not familiar with this part of Sage and wanted to move fast...

> 
> (Plotting needs `dot2tex` and looks bad because of the long labels. I don't know if it is possible to replace the labels by the latex names)


This would be nice, indeed. Playing with the doctest examples, 

```
sage: view(latex(D))                                                                                
sage: view(latex(P))                                                                                
```
yields nice figures, with the latex names.



---

archive/issue_comments_630184.json:
```json
{
    "body": "<a id='comment:12'></a>\nThis digraph approach might also be useful to improve restrictions of tensor fields and make them even faster, no?",
    "created_at": "2021-04-18T21:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630184",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:12'></a>
This digraph approach might also be useful to improve restrictions of tensor fields and make them even faster, no?



---

archive/issue_comments_630185.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [gh-mjungmath](#comment%3A12):\n> This digraph approach might also be useful to improve restrictions of tensor fields and make them even faster, no?\n\n\nYes, I think there are many more digraph / poset structures in sage.manifolds that could be exposed by similar methods in follow-up tickets.\n\nOn this ticket I am not making an attempt to actually change any of the internal representations of these structures. Just providing some tools that give a high-level view on the existing structures.",
    "created_at": "2021-04-18T21:22:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630185",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Replying to [gh-mjungmath](#comment%3A12):
> This digraph approach might also be useful to improve restrictions of tensor fields and make them even faster, no?


Yes, I think there are many more digraph / poset structures in sage.manifolds that could be exposed by similar methods in follow-up tickets.

On this ticket I am not making an attempt to actually change any of the internal representations of these structures. Just providing some tools that give a high-level view on the existing structures.



---

archive/issue_comments_630186.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [mkoeppe](#comment%3A13):\n> Replying to [gh-mjungmath](#comment%3A12):\n> > This digraph approach might also be useful to improve restrictions of tensor fields and make them even faster, no?\n\n> \n> Yes, I think there are many more digraph / poset structures in sage.manifolds that could be exposed by similar methods in follow-up tickets.\n> \n> On this ticket I am not making an attempt to actually change any of the internal representations of these structures. Just providing some tools that give a high-level view on the existing structures.\n> \n\n\n+1\n\nBesides, I really like the way you write code. It's clear and neat!",
    "created_at": "2021-04-18T21:34:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630186",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:14'></a>
Replying to [mkoeppe](#comment%3A13):
> Replying to [gh-mjungmath](#comment%3A12):
> > This digraph approach might also be useful to improve restrictions of tensor fields and make them even faster, no?

> 
> Yes, I think there are many more digraph / poset structures in sage.manifolds that could be exposed by similar methods in follow-up tickets.
> 
> On this ticket I am not making an attempt to actually change any of the internal representations of these structures. Just providing some tools that give a high-level view on the existing structures.
> 


+1

Besides, I really like the way you write code. It's clear and neat!



---

archive/issue_comments_630187.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[02a82f9](https://git.sagemath.org/sage.git/commit/?id=02a82f90ccf15540fa8518e3591485092845d4d3)|`Fix up handling of {lower,upper}_bound, add examples`|",
    "created_at": "2021-04-18T22:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[02a82f9](https://git.sagemath.org/sage.git/commit/?id=02a82f90ccf15540fa8518e3591485092845d4d3)|`Fix up handling of {lower,upper}_bound, add examples`|



---

archive/issue_comments_630188.json:
```json
{
    "body": "Changing commit from \"2e2d91ebc69117b7a49e1f099f83993bfd118db8\" to \"02a82f90ccf15540fa8518e3591485092845d4d3\"",
    "created_at": "2021-04-18T22:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630188",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2e2d91ebc69117b7a49e1f099f83993bfd118db8" to "02a82f90ccf15540fa8518e3591485092845d4d3"



---

archive/issue_comments_630189.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[44c8d8c](https://git.sagemath.org/sage.git/commit/?id=44c8d8c6f7cd8ed6b4055b464e82364e88cc9665)|`Include example for open_covers=True`|",
    "created_at": "2021-04-18T22:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[44c8d8c](https://git.sagemath.org/sage.git/commit/?id=44c8d8c6f7cd8ed6b4055b464e82364e88cc9665)|`Include example for open_covers=True`|



---

archive/issue_comments_630190.json:
```json
{
    "body": "Changing commit from \"02a82f90ccf15540fa8518e3591485092845d4d3\" to \"44c8d8c6f7cd8ed6b4055b464e82364e88cc9665\"",
    "created_at": "2021-04-18T22:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "02a82f90ccf15540fa8518e3591485092845d4d3" to "44c8d8c6f7cd8ed6b4055b464e82364e88cc9665"



---

archive/issue_comments_630191.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-04-18T22:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630191",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_630192.json:
```json
{
    "body": "Changing commit from \"44c8d8c6f7cd8ed6b4055b464e82364e88cc9665\" to \"0571aaa5c5b52e0b7623476da8b7b3d10e3690ab\"",
    "created_at": "2021-04-19T23:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "44c8d8c6f7cd8ed6b4055b464e82364e88cc9665" to "0571aaa5c5b52e0b7623476da8b7b3d10e3690ab"



---

archive/issue_comments_630193.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[0571aaa](https://git.sagemath.org/sage.git/commit/?id=0571aaa5c5b52e0b7623476da8b7b3d10e3690ab)|`src/sage/manifolds/subset.py: Fix docstring markup`|",
    "created_at": "2021-04-19T23:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630193",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[0571aaa](https://git.sagemath.org/sage.git/commit/?id=0571aaa5c5b52e0b7623476da8b7b3d10e3690ab)|`src/sage/manifolds/subset.py: Fix docstring markup`|



---

archive/issue_comments_630194.json:
```json
{
    "body": "<a id='comment:19'></a>\nLGTM. \n\n*Side note:* it's a pity that the subsets latex names cannot be used for the plots. \nI've not found such an option in the `plot` method of graphs; for posets, one can use the option `element_labels` as follows:\n\n```\nsage: M = Manifold(3, 'M')\nsage: U = M.open_subset('U'); V = M.open_subset('V'); W = M.open_subset('W')\nsage: VW = V.union(W)\nsage: P = M.subset_poset()\nsage: P.plot(element_labels={s: s._name for s in M.subsets()})\n```\nDo you think it is worth to include this trick in the documentation?",
    "created_at": "2021-04-21T15:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630194",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:19'></a>
LGTM. 

*Side note:* it's a pity that the subsets latex names cannot be used for the plots. 
I've not found such an option in the `plot` method of graphs; for posets, one can use the option `element_labels` as follows:

```
sage: M = Manifold(3, 'M')
sage: U = M.open_subset('U'); V = M.open_subset('V'); W = M.open_subset('W')
sage: VW = V.union(W)
sage: P = M.subset_poset()
sage: P.plot(element_labels={s: s._name for s in M.subsets()})
```
Do you think it is worth to include this trick in the documentation?



---

archive/issue_comments_630195.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-21T15:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630195",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_630196.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Eric Gourgoulhon\"",
    "created_at": "2021-04-21T15:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630196",
    "user": "https://github.com/egourgoulhon"
}
```

Changing reviewer from "" to "Eric Gourgoulhon"



---

archive/issue_comments_630197.json:
```json
{
    "body": "<a id='comment:20'></a>\nGood idea, I'll add it. This is very useful.",
    "created_at": "2021-04-21T16:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630197",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Good idea, I'll add it. This is very useful.



---

archive/issue_comments_630198.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-04-21T17:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_630199.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[9d35006](https://git.sagemath.org/sage.git/commit/?id=9d35006855c380d96d776e84ea8bab0caa93227f)|`Relabel digraphs and posets for plotting`|",
    "created_at": "2021-04-21T17:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630199",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[9d35006](https://git.sagemath.org/sage.git/commit/?id=9d35006855c380d96d776e84ea8bab0caa93227f)|`Relabel digraphs and posets for plotting`|



---

archive/issue_comments_630200.json:
```json
{
    "body": "Changing commit from \"0571aaa5c5b52e0b7623476da8b7b3d10e3690ab\" to \"9d35006855c380d96d776e84ea8bab0caa93227f\"",
    "created_at": "2021-04-21T17:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630200",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0571aaa5c5b52e0b7623476da8b7b3d10e3690ab" to "9d35006855c380d96d776e84ea8bab0caa93227f"



---

archive/issue_comments_630201.json:
```json
{
    "body": "<a id='comment:22'></a>\nAlso added examples for relabeled plotting of the digraphs.",
    "created_at": "2021-04-21T17:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630201",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Also added examples for relabeled plotting of the digraphs.



---

archive/issue_comments_630202.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-04-21T20:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630202",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_630203.json:
```json
{
    "body": "<a id='comment:23'></a>\nIn light of #30263, I am going to revise the definition of the poset.",
    "created_at": "2021-04-21T20:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630203",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
In light of #30263, I am going to revise the definition of the poset.



---

archive/issue_comments_630204.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[4d93fe5](https://git.sagemath.org/sage.git/commit/?id=4d93fe5a566f71994a901dbbf82ff97e629411f5)|`src/sage/manifolds/subset_set.py: New`|\n|[3ae1f98](https://git.sagemath.org/sage.git/commit/?id=3ae1f9809350bf5d74c65c9020ae1fff4aa793d6)|`ManifoldSubset.subset_digraph: Make subset nodes (singleton) ManifoldSubsetSet instances, open_cover nodes tuples`|",
    "created_at": "2021-04-22T04:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630204",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[4d93fe5](https://git.sagemath.org/sage.git/commit/?id=4d93fe5a566f71994a901dbbf82ff97e629411f5)|`src/sage/manifolds/subset_set.py: New`|
|[3ae1f98](https://git.sagemath.org/sage.git/commit/?id=3ae1f9809350bf5d74c65c9020ae1fff4aa793d6)|`ManifoldSubset.subset_digraph: Make subset nodes (singleton) ManifoldSubsetSet instances, open_cover nodes tuples`|



---

archive/issue_comments_630205.json:
```json
{
    "body": "Changing commit from \"9d35006855c380d96d776e84ea8bab0caa93227f\" to \"3ae1f9809350bf5d74c65c9020ae1fff4aa793d6\"",
    "created_at": "2021-04-22T04:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630205",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9d35006855c380d96d776e84ea8bab0caa93227f" to "3ae1f9809350bf5d74c65c9020ae1fff4aa793d6"



---

archive/issue_comments_630206.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-04-22T04:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630206",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_630207.json:
```json
{
    "body": "<a id='comment:25'></a>\nHere's a new version in which the vertices of graph and poset representing manifold subsets are wrapped in an extra layer of a `frozenset`. This new format is intended to be future-proof for the changes necessary to fix #30263:  Basically, one will need to quotient out by the equality relation of subsets.\n\nIn fact, instead of using `frozenset` directly, I define a subclass called `ManifoldSubsetSet`, which is convenient for printing and sorting.",
    "created_at": "2021-04-22T04:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630207",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Here's a new version in which the vertices of graph and poset representing manifold subsets are wrapped in an extra layer of a `frozenset`. This new format is intended to be future-proof for the changes necessary to fix #30263:  Basically, one will need to quotient out by the equality relation of subsets.

In fact, instead of using `frozenset` directly, I define a subclass called `ManifoldSubsetSet`, which is convenient for printing and sorting.



---

archive/issue_comments_630208.json:
```json
{
    "body": "Changing commit from \"3ae1f9809350bf5d74c65c9020ae1fff4aa793d6\" to \"120fe97420a2ef8ebc914ad7c6c5393d1409cb8c\"",
    "created_at": "2021-04-22T17:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3ae1f9809350bf5d74c65c9020ae1fff4aa793d6" to "120fe97420a2ef8ebc914ad7c6c5393d1409cb8c"



---

archive/issue_comments_630209.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[120fe97](https://git.sagemath.org/sage.git/commit/?id=120fe97420a2ef8ebc914ad7c6c5393d1409cb8c)|`src/sage/manifolds/subset_set.py: Add documentation`|",
    "created_at": "2021-04-22T17:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630209",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[120fe97](https://git.sagemath.org/sage.git/commit/?id=120fe97420a2ef8ebc914ad7c6c5393d1409cb8c)|`src/sage/manifolds/subset_set.py: Add documentation`|



---

archive/issue_comments_630210.json:
```json
{
    "body": "<a id='comment:27'></a>\nThis new class `ManifoldSubsetSet` could obviously be generalized to other finite sets of manifold objects. Would this be of interest?",
    "created_at": "2021-04-22T17:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630210",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
This new class `ManifoldSubsetSet` could obviously be generalized to other finite sets of manifold objects. Would this be of interest?



---

archive/issue_comments_630211.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|\n|[97ec61d](https://git.sagemath.org/sage.git/commit/?id=97ec61d80b555f6b5686987e9be58c366743a73b)|`FiniteManifoldObjectFamily: Rename from ManifoldSubsetSet, subclass FiniteFamily instead of frozenset`|",
    "created_at": "2021-04-22T20:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630211",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
|[97ec61d](https://git.sagemath.org/sage.git/commit/?id=97ec61d80b555f6b5686987e9be58c366743a73b)|`FiniteManifoldObjectFamily: Rename from ManifoldSubsetSet, subclass FiniteFamily instead of frozenset`|



---

archive/issue_comments_630212.json:
```json
{
    "body": "Changing commit from \"120fe97420a2ef8ebc914ad7c6c5393d1409cb8c\" to \"97ec61d80b555f6b5686987e9be58c366743a73b\"",
    "created_at": "2021-04-22T20:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630212",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "120fe97420a2ef8ebc914ad7c6c5393d1409cb8c" to "97ec61d80b555f6b5686987e9be58c366743a73b"



---

archive/issue_comments_630213.json:
```json
{
    "body": "<a id='comment:29'></a>\nReady for review.",
    "created_at": "2021-04-22T20:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630213",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Ready for review.



---

archive/issue_comments_630214.json:
```json
{
    "body": "Changing dependencies from \"#31681\" to \"#31681, #31717\"",
    "created_at": "2021-04-23T04:14:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630214",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31681" to "#31681, #31717"



---

archive/issue_comments_630215.json:
```json
{
    "body": "Changing commit from \"97ec61d80b555f6b5686987e9be58c366743a73b\" to \"f0959889a79f531474f8fe7a12ebe749db3c2957\"",
    "created_at": "2021-04-23T04:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "97ec61d80b555f6b5686987e9be58c366743a73b" to "f0959889a79f531474f8fe7a12ebe749db3c2957"



---

archive/issue_comments_630216.json:
```json
{
    "body": "<a id='comment:31'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[cbbef90](https://git.sagemath.org/sage.git/commit/?id=cbbef90cc8caacb6bafbe2c0cb32d40bfe5a4f4b)|`Adding a __bool__ to trivial family.`|\n|[42abda7](https://git.sagemath.org/sage.git/commit/?id=42abda7c927e2db4378cdaf4af27315c6669d62b)|`Adding __bool__ for other families.`|\n|[1f21a8f](https://git.sagemath.org/sage.git/commit/?id=1f21a8ff3db639a40567ef0f294c9311b1e969de)|`Merge #31717`|\n|[f095988](https://git.sagemath.org/sage.git/commit/?id=f0959889a79f531474f8fe7a12ebe749db3c2957)|`FiniteManifoldObjectFamily.__bool__: Remove, inherited from superclass after #31717`|",
    "created_at": "2021-04-23T04:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[cbbef90](https://git.sagemath.org/sage.git/commit/?id=cbbef90cc8caacb6bafbe2c0cb32d40bfe5a4f4b)|`Adding a __bool__ to trivial family.`|
|[42abda7](https://git.sagemath.org/sage.git/commit/?id=42abda7c927e2db4378cdaf4af27315c6669d62b)|`Adding __bool__ for other families.`|
|[1f21a8f](https://git.sagemath.org/sage.git/commit/?id=1f21a8ff3db639a40567ef0f294c9311b1e969de)|`Merge #31717`|
|[f095988](https://git.sagemath.org/sage.git/commit/?id=f0959889a79f531474f8fe7a12ebe749db3c2957)|`FiniteManifoldObjectFamily.__bool__: Remove, inherited from superclass after #31717`|



---

archive/issue_comments_630217.json:
```json
{
    "body": "<a id='comment:32'></a>\nThanks for the update. Looks good. I've got two remarks:\n\n1. Is there any reason for the names `FiniteManifoldObjectFamily` and `FiniteManifoldSubsetFamily` instead of `ManifoldObjectFiniteFamily` and `ManifoldSubsetFiniteFamily`? The latter ones sound more natural to me, making clear that we are dealing with finite families.\n\n2. To generate the documentation about these classes in the reference manual, the new entry `sage/manifolds/family` must be added to `src/doc/en/reference/manifolds/manifolds.rst`",
    "created_at": "2021-04-23T12:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630217",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:32'></a>
Thanks for the update. Looks good. I've got two remarks:

1. Is there any reason for the names `FiniteManifoldObjectFamily` and `FiniteManifoldSubsetFamily` instead of `ManifoldObjectFiniteFamily` and `ManifoldSubsetFiniteFamily`? The latter ones sound more natural to me, making clear that we are dealing with finite families.

2. To generate the documentation about these classes in the reference manual, the new entry `sage/manifolds/family` must be added to `src/doc/en/reference/manifolds/manifolds.rst`



---

archive/issue_comments_630218.json:
```json
{
    "body": "Changing commit from \"f0959889a79f531474f8fe7a12ebe749db3c2957\" to \"2f2ace2e9e9b0580d2b6d93eaa98d14bbc966f77\"",
    "created_at": "2021-04-23T14:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f0959889a79f531474f8fe7a12ebe749db3c2957" to "2f2ace2e9e9b0580d2b6d93eaa98d14bbc966f77"



---

archive/issue_comments_630219.json:
```json
{
    "body": "<a id='comment:33'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|\n|[5d87cee](https://git.sagemath.org/sage.git/commit/?id=5d87ceef7ea74cd88701eb3a3eb728d6a994bd43)|`Manifold{Object,Subset}FiniteFamily: Rename from FiniteManifold{Object,Subset}Family`|\n|[2f2ace2](https://git.sagemath.org/sage.git/commit/?id=2f2ace2e9e9b0580d2b6d93eaa98d14bbc966f77)|`src/doc/en/reference/manifolds/manifold.rst: Add sage.manifolds.family`|",
    "created_at": "2021-04-23T14:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630219",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|
|[5d87cee](https://git.sagemath.org/sage.git/commit/?id=5d87ceef7ea74cd88701eb3a3eb728d6a994bd43)|`Manifold{Object,Subset}FiniteFamily: Rename from FiniteManifold{Object,Subset}Family`|
|[2f2ace2](https://git.sagemath.org/sage.git/commit/?id=2f2ace2e9e9b0580d2b6d93eaa98d14bbc966f77)|`src/doc/en/reference/manifolds/manifold.rst: Add sage.manifolds.family`|



---

archive/issue_comments_630220.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[1aff58a](https://git.sagemath.org/sage.git/commit/?id=1aff58a70849386432f336b5bba37e9545eed6eb)|`Fix up docstring markup`|",
    "created_at": "2021-04-23T14:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[1aff58a](https://git.sagemath.org/sage.git/commit/?id=1aff58a70849386432f336b5bba37e9545eed6eb)|`Fix up docstring markup`|



---

archive/issue_comments_630221.json:
```json
{
    "body": "Changing commit from \"2f2ace2e9e9b0580d2b6d93eaa98d14bbc966f77\" to \"1aff58a70849386432f336b5bba37e9545eed6eb\"",
    "created_at": "2021-04-23T14:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2f2ace2e9e9b0580d2b6d93eaa98d14bbc966f77" to "1aff58a70849386432f336b5bba37e9545eed6eb"



---

archive/issue_comments_630222.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [egourgoulhon](#comment%3A32):\n> 1. Is there any reason for the names `FiniteManifoldObjectFamily` and `FiniteManifoldSubsetFamily` instead of `ManifoldObjectFiniteFamily` and `ManifoldSubsetFiniteFamily`? The latter ones sound more natural to me, making clear that we are dealing with finite families.\n\n\nGood idea, done.\n\n> 2. To generate the documentation about these classes in the reference manual, the new entry `sage/manifolds/family` must be added to `src/doc/en/reference/manifolds/manifolds.rst`\n\n\nThanks, done - I always forget to do this.",
    "created_at": "2021-04-23T14:05:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630222",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
Replying to [egourgoulhon](#comment%3A32):
> 1. Is there any reason for the names `FiniteManifoldObjectFamily` and `FiniteManifoldSubsetFamily` instead of `ManifoldObjectFiniteFamily` and `ManifoldSubsetFiniteFamily`? The latter ones sound more natural to me, making clear that we are dealing with finite families.


Good idea, done.

> 2. To generate the documentation about these classes in the reference manual, the new entry `sage/manifolds/family` must be added to `src/doc/en/reference/manifolds/manifolds.rst`


Thanks, done - I always forget to do this.



---

archive/issue_comments_630223.json:
```json
{
    "body": "<a id='comment:36'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|\n|[b922066](https://git.sagemath.org/sage.git/commit/?id=b922066d150a4bdc6e6ee9d52924a7d49f039946)|`ManifoldSubsetFiniteFamily: If all subsets are open, include 'open' in repr`|",
    "created_at": "2021-04-23T16:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
|[b922066](https://git.sagemath.org/sage.git/commit/?id=b922066d150a4bdc6e6ee9d52924a7d49f039946)|`ManifoldSubsetFiniteFamily: If all subsets are open, include 'open' in repr`|



---

archive/issue_comments_630224.json:
```json
{
    "body": "Changing commit from \"1aff58a70849386432f336b5bba37e9545eed6eb\" to \"b922066d150a4bdc6e6ee9d52924a7d49f039946\"",
    "created_at": "2021-04-23T16:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1aff58a70849386432f336b5bba37e9545eed6eb" to "b922066d150a4bdc6e6ee9d52924a7d49f039946"



---

archive/issue_comments_630225.json:
```json
{
    "body": "<a id='comment:37'></a>\nDid one final improvement for more informative printing",
    "created_at": "2021-04-23T16:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630225",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
Did one final improvement for more informative printing



---

archive/issue_comments_630226.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[30271af](https://git.sagemath.org/sage.git/commit/?id=30271af51d78e4796f1be8b221088ceb2a71b2fa)|`Fixup doctest`|",
    "created_at": "2021-04-23T16:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[30271af](https://git.sagemath.org/sage.git/commit/?id=30271af51d78e4796f1be8b221088ceb2a71b2fa)|`Fixup doctest`|



---

archive/issue_comments_630227.json:
```json
{
    "body": "Changing commit from \"b922066d150a4bdc6e6ee9d52924a7d49f039946\" to \"30271af51d78e4796f1be8b221088ceb2a71b2fa\"",
    "created_at": "2021-04-23T16:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b922066d150a4bdc6e6ee9d52924a7d49f039946" to "30271af51d78e4796f1be8b221088ceb2a71b2fa"



---

archive/issue_comments_630228.json:
```json
{
    "body": "<a id='comment:39'></a>\nThanks for the changes. One minor remark: shouldn't\n\n```\nTypeError: all... subsets must have the same manifold\n```\nbe replaced by \n\n```\nTypeError: all open subsets must have the same manifold\n```\nin the output of the doctest\n\n```\nsage: ManifoldSubsetFiniteFamily([M, N])\n```\nin `ManifoldSubsetFiniteFamily` ? Both doctests passed, but the latter is identical to the actual message get by the user. \n\nBesides, do you think it is worth to add `PLOT` directives like\n\n```\n        .. PLOT::\n\n            M = Manifold(3, 'M')\n            U = M.open_subset('U'); V = M.open_subset('V'); W = M.open_subset('W')\n            VW = V.union(W)\n            P = M.subset_poset()\n            g = P.plot(element_labels={element: element._name for element in P})\n            sphinx_plot(g)\n```\nimmediately after the doctest\n\n```\n            sage: P.plot(element_labels={element: element._name for element in P})\n```\nto generate plots of posets and digraphs in the reference manual?\n\nIn any case, I would suggest that the doctest markers `# not tested` are removed from the `plot` examples:\n\n```diff\n- sage: P.plot(element_labels={element: element._name for element in P})  # not tested\n+ sage: P.plot(element_labels={element: element._name for element in P})                              \n+ Graphics object consisting of 10 graphics primitives\n```",
    "created_at": "2021-04-24T10:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630228",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:39'></a>
Thanks for the changes. One minor remark: shouldn't

```
TypeError: all... subsets must have the same manifold
```
be replaced by 

```
TypeError: all open subsets must have the same manifold
```
in the output of the doctest

```
sage: ManifoldSubsetFiniteFamily([M, N])
```
in `ManifoldSubsetFiniteFamily` ? Both doctests passed, but the latter is identical to the actual message get by the user. 

Besides, do you think it is worth to add `PLOT` directives like

```
        .. PLOT::

            M = Manifold(3, 'M')
            U = M.open_subset('U'); V = M.open_subset('V'); W = M.open_subset('W')
            VW = V.union(W)
            P = M.subset_poset()
            g = P.plot(element_labels={element: element._name for element in P})
            sphinx_plot(g)
```
immediately after the doctest

```
            sage: P.plot(element_labels={element: element._name for element in P})
```
to generate plots of posets and digraphs in the reference manual?

In any case, I would suggest that the doctest markers `# not tested` are removed from the `plot` examples:

```diff
- sage: P.plot(element_labels={element: element._name for element in P})  # not tested
+ sage: P.plot(element_labels={element: element._name for element in P})                              
+ Graphics object consisting of 10 graphics primitives
```



---

archive/issue_comments_630229.json:
```json
{
    "body": "<a id='comment:40'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|\n|[215c378](https://git.sagemath.org/sage.git/commit/?id=215c3785383a48d545e0815c4f4ec42ba7d5ae4d)|`ManifoldSubset.subset_{digraph,poset}: Add plots in documentation, remove # not tested`|\n|[84896c4](https://git.sagemath.org/sage.git/commit/?id=84896c4d1ec02b22bed05d2f5dd188d71ee0767d)|`ManifoldSubsetFiniteFamily: Use full error message in doctest`|",
    "created_at": "2021-04-24T19:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
|[215c378](https://git.sagemath.org/sage.git/commit/?id=215c3785383a48d545e0815c4f4ec42ba7d5ae4d)|`ManifoldSubset.subset_{digraph,poset}: Add plots in documentation, remove # not tested`|
|[84896c4](https://git.sagemath.org/sage.git/commit/?id=84896c4d1ec02b22bed05d2f5dd188d71ee0767d)|`ManifoldSubsetFiniteFamily: Use full error message in doctest`|



---

archive/issue_comments_630230.json:
```json
{
    "body": "Changing commit from \"30271af51d78e4796f1be8b221088ceb2a71b2fa\" to \"84896c4d1ec02b22bed05d2f5dd188d71ee0767d\"",
    "created_at": "2021-04-24T19:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630230",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "30271af51d78e4796f1be8b221088ceb2a71b2fa" to "84896c4d1ec02b22bed05d2f5dd188d71ee0767d"



---

archive/issue_comments_630231.json:
```json
{
    "body": "<a id='comment:41'></a>\nHow's this look?",
    "created_at": "2021-04-24T19:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630231",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
How's this look?



---

archive/issue_comments_630232.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-04-25T08:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630232",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_630233.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [mkoeppe](#comment%3A41):\n> How's this look?\n\nThat's perfect, thanks!",
    "created_at": "2021-04-25T08:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630233",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:42'></a>
Replying to [mkoeppe](#comment%3A41):
> How's this look?

That's perfect, thanks!



---

archive/issue_comments_630234.json:
```json
{
    "body": "<a id='comment:43'></a>\nThanks for the review!",
    "created_at": "2021-04-25T10:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630234",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
Thanks for the review!



---

archive/issue_events_083521.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-21T21:17:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31680#event-83521"
}
```



---

archive/issue_comments_630235.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/poset_of_manifold_subsets\" to \"84896c4d1ec02b22bed05d2f5dd188d71ee0767d\"",
    "created_at": "2021-06-21T21:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630235",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/poset_of_manifold_subsets" to "84896c4d1ec02b22bed05d2f5dd188d71ee0767d"



---

archive/issue_comments_630236.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-21T21:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31680#issuecomment-630236",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
