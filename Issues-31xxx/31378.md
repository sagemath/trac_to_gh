# Issue 31378: Create a new module for morphic words

archive/issues_031141.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThe goal of this ticket is to create a new module for morphic words.\n\nAs a consequence, it will improve the following computations which take a lot of time:\n\n\n```\nsage: m = WordMorphism('a->ab,b->a')\nsage: w = m.fixed_point('a')\nsage: w\nword: abaababaabaababaababaabaababaabaababaaba...\nsage: %time w[1000]\nCPU times: user 1.45 ms, sys: 0 ns, total: 1.45 ms\nWall time: 1.45 ms\n'a'\nsage: %time w[10000]\nCPU times: user 82.9 ms, sys: 0 ns, total: 82.9 ms\nWall time: 82.1 ms\n'a'\nsage: %time w[100000]\nCPU times: user 5.19 s, sys: 6.26 ms, total: 5.2 s\nWall time: 5.19 s\n'b'\nsage: %time w[1000000]\nCPU times: user 12min 45s, sys: 93.4 ms, total: 12min 45s\nWall time: 12min 45s\n'a'\n```\n\n\nCC:  @videlec\n\nComponent: **combinatorics**\n\nAuthor: **Jana Lep\u0161ov\u00e1, S\u00e9bastien Labb\u00e9**\n\nBranch/Commit: **[`016f022`](https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f)**\n\nReviewer: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31378_\n\n",
    "closed_at": "2021-10-10T10:17:07Z",
    "created_at": "2021-02-11T07:33:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Create a new module for morphic words",
    "type": "issue",
    "updated_at": "2021-10-10T10:17:07Z",
    "url": "https://github.com/sagemath/sage/issues/31378",
    "user": "https://github.com/sagetrac-jlepsova"
}
```
<div id="comment:0"></div>

The goal of this ticket is to create a new module for morphic words.

As a consequence, it will improve the following computations which take a lot of time:


```
sage: m = WordMorphism('a->ab,b->a')
sage: w = m.fixed_point('a')
sage: w
word: abaababaabaababaababaabaababaabaababaaba...
sage: %time w[1000]
CPU times: user 1.45 ms, sys: 0 ns, total: 1.45 ms
Wall time: 1.45 ms
'a'
sage: %time w[10000]
CPU times: user 82.9 ms, sys: 0 ns, total: 82.9 ms
Wall time: 82.1 ms
'a'
sage: %time w[100000]
CPU times: user 5.19 s, sys: 6.26 ms, total: 5.2 s
Wall time: 5.19 s
'b'
sage: %time w[1000000]
CPU times: user 12min 45s, sys: 93.4 ms, total: 12min 45s
Wall time: 12min 45s
'a'
```


CC:  @videlec

Component: **combinatorics**

Author: **Jana Lepšová, Sébastien Labbé**

Branch/Commit: **[`016f022`](https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f)**

Reviewer: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/31378_





---

archive/issue_events_429296.json:
```json
{
    "actor": "https://github.com/sagetrac-jlepsova",
    "created_at": "2021-02-11T07:33:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429296"
}
```



---

archive/issue_events_429297.json:
```json
{
    "actor": "https://github.com/sagetrac-jlepsova",
    "created_at": "2021-02-11T07:33:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429297"
}
```



---

archive/issue_events_429298.json:
```json
{
    "actor": "https://github.com/sagetrac-jlepsova",
    "created_at": "2021-02-11T07:33:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429298"
}
```



---

archive/issue_events_429299.json:
```json
{
    "actor": "https://github.com/sagetrac-jlepsova",
    "created_at": "2021-02-11T07:33:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429299"
}
```



---

archive/issue_comments_503322.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nduplicate of #31370 ?",
    "created_at": "2021-02-11T08:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503322",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">comment:1</div>

duplicate of #31370 ?



---

archive/issue_comments_503323.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-The aim is to make the following computations take less time. \n+The goal of this ticket is to create a new module for morphic words.\n+\n+As a consequence, it will improve the following computations which take a lot of time:\n \n \n ```\n``````\n",
    "created_at": "2021-02-11T08:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503323",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-The aim is to make the following computations take less time. 
+The goal of this ticket is to create a new module for morphic words.
+
+As a consequence, it will improve the following computations which take a lot of time:
 
 
 ```
``````




---

archive/issue_comments_503324.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@fchapoton](#comment%3A1):\n> duplicate of #31370 ?\n\nLet's close #31370 and keep this one (Jana is learning how to contribute to Sage).",
    "created_at": "2021-02-11T09:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503324",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@fchapoton](#comment%3A1):
> duplicate of #31370 ?

Let's close #31370 and keep this one (Jana is learning how to contribute to Sage).



---

archive/issue_comments_503325.json:
```json
{
    "body": "Changed branch from **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)** to **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)**",
    "created_at": "2021-02-15T11:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503325",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)** to **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)**



---

archive/issue_comments_503326.json:
```json
{
    "body": "Changed commit from **[`7876b86`](https://github.com/sagemath/sagetrac-mirror/commit/7876b866498c94b37e6ca80d559cb316d6bba038)** to **[`86990a0`](https://github.com/sagemath/sagetrac-mirror/commit/86990a01f349123583801559982319e49d33e427)**",
    "created_at": "2021-02-15T11:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503326",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`7876b86`](https://github.com/sagemath/sagetrac-mirror/commit/7876b866498c94b37e6ca80d559cb316d6bba038)** to **[`86990a0`](https://github.com/sagemath/sagetrac-mirror/commit/86990a01f349123583801559982319e49d33e427)**



---

archive/issue_comments_503327.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI rebased the branch on top of `9.3.beta7`. I also added a commit which links the new module added by Jana to the existing sage words library.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77c46458c734787972c1ae7f94fe4c6cf6f4ab8e\"><code>77c4645</code></a></td><td><code>adding more efficient way of stating a letter at an n-th position of a fixed point</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86990a01f349123583801559982319e49d33e427\"><code>86990a0</code></a></td><td><code>linking morphic.py file to the sage words library</code></td></tr></table>\n",
    "created_at": "2021-02-15T11:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503327",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:4" align="right">comment:4</div>

I rebased the branch on top of `9.3.beta7`. I also added a commit which links the new module added by Jana to the existing sage words library.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77c46458c734787972c1ae7f94fe4c6cf6f4ab8e"><code>77c4645</code></a></td><td><code>adding more efficient way of stating a letter at an n-th position of a fixed point</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86990a01f349123583801559982319e49d33e427"><code>86990a0</code></a></td><td><code>linking morphic.py file to the sage words library</code></td></tr></table>




---

archive/issue_comments_503328.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nJana, the next step is to update the examples in the documentation in the `morphic.py` file.\n\nWith the current branch,\n\n```\n$ sage -bt src/sage/combinat/words/morphic.py \n```\n\nreturns\n\n```\n[...]\n\n**********************************************************************\nFile \"src/sage/combinat/words/morphic.py\", line 157, in sage.combinat.words.morphic.WordDatatype_morphic.__iter__\nFailed example:\n    print('update the examples here')\nExpected nothing\nGot:\n    update the examples here\n**********************************************************************\n\n[...]\n\n**********************************************************************\n3 items had failures:\n   1 of   2 in sage.combinat.words.morphic\n   1 of   2 in sage.combinat.words.morphic.WordDatatype_morphic.__getitem__\n   6 of  13 in sage.combinat.words.morphic.WordDatatype_morphic.__iter__\n    [30 tests, 8 failures, 0.02 s]\n----------------------------------------------------------------------\nsage -t --warn-long 72.7 --random-seed=0 src/sage/combinat/words/morphic.py  # 8 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2021-02-16T08:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503328",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:5" align="right">comment:5</div>

Jana, the next step is to update the examples in the documentation in the `morphic.py` file.

With the current branch,

```
$ sage -bt src/sage/combinat/words/morphic.py 
```

returns

```
[...]

**********************************************************************
File "src/sage/combinat/words/morphic.py", line 157, in sage.combinat.words.morphic.WordDatatype_morphic.__iter__
Failed example:
    print('update the examples here')
Expected nothing
Got:
    update the examples here
**********************************************************************

[...]

**********************************************************************
3 items had failures:
   1 of   2 in sage.combinat.words.morphic
   1 of   2 in sage.combinat.words.morphic.WordDatatype_morphic.__getitem__
   6 of  13 in sage.combinat.words.morphic.WordDatatype_morphic.__iter__
    [30 tests, 8 failures, 0.02 s]
----------------------------------------------------------------------
sage -t --warn-long 72.7 --random-seed=0 src/sage/combinat/words/morphic.py  # 8 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_503329.json:
```json
{
    "body": "Changed branch from **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)** to **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)**",
    "created_at": "2021-02-18T12:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503329",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

Changed branch from **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)** to **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)**



---

archive/issue_comments_503330.json:
```json
{
    "body": "Changed commit from **[`86990a0`](https://github.com/sagemath/sagetrac-mirror/commit/86990a01f349123583801559982319e49d33e427)** to **[`d4e7081`](https://github.com/sagemath/sagetrac-mirror/commit/d4e7081fdec60ff5d7145cfbe91d5b7be791c71c)**",
    "created_at": "2021-02-18T12:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503330",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

Changed commit from **[`86990a0`](https://github.com/sagemath/sagetrac-mirror/commit/86990a01f349123583801559982319e49d33e427)** to **[`d4e7081`](https://github.com/sagemath/sagetrac-mirror/commit/d4e7081fdec60ff5d7145cfbe91d5b7be791c71c)**



---

archive/issue_comments_503331.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI fixed the doctests in morphic.py.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6587375e7096ba4fce5762437fd8f3ae44f75f6b\"><code>6587375</code></a></td><td><code>adding more efficient way of stating a letter at an n-th position of a fixed point</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20ae22e10509eafde5a0f59f6bbd70110773a6ee\"><code>20ae22e</code></a></td><td><code>linking morphic.py file to the sage words library</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1f414329d750c0fbc30e13866eab39b31d3560e\"><code>a1f4143</code></a></td><td><code>31378: incomplete changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4e7081fdec60ff5d7145cfbe91d5b7be791c71c\"><code>d4e7081</code></a></td><td><code>fixed doctests in morphic.py</code></td></tr></table>\n",
    "created_at": "2021-02-18T12:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503331",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

<div id="comment:6" align="right">comment:6</div>

I fixed the doctests in morphic.py.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6587375e7096ba4fce5762437fd8f3ae44f75f6b"><code>6587375</code></a></td><td><code>adding more efficient way of stating a letter at an n-th position of a fixed point</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20ae22e10509eafde5a0f59f6bbd70110773a6ee"><code>20ae22e</code></a></td><td><code>linking morphic.py file to the sage words library</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1f414329d750c0fbc30e13866eab39b31d3560e"><code>a1f4143</code></a></td><td><code>31378: incomplete changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4e7081fdec60ff5d7145cfbe91d5b7be791c71c"><code>d4e7081</code></a></td><td><code>fixed doctests in morphic.py</code></td></tr></table>




---

archive/issue_comments_503332.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8690fc4086307950f982b67b9665bbe06024347\"><code>b8690fc</code></a></td><td><code>fixing some of the errors in word.py</code></td></tr></table>\n",
    "created_at": "2021-02-20T11:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503332",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8690fc4086307950f982b67b9665bbe06024347"><code>b8690fc</code></a></td><td><code>fixing some of the errors in word.py</code></td></tr></table>




---

archive/issue_comments_503333.json:
```json
{
    "body": "Changed commit from **[`d4e7081`](https://github.com/sagemath/sagetrac-mirror/commit/d4e7081fdec60ff5d7145cfbe91d5b7be791c71c)** to **[`b8690fc`](https://github.com/sagemath/sagetrac-mirror/commit/b8690fc4086307950f982b67b9665bbe06024347)**",
    "created_at": "2021-02-20T11:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503333",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d4e7081`](https://github.com/sagemath/sagetrac-mirror/commit/d4e7081fdec60ff5d7145cfbe91d5b7be791c71c)** to **[`b8690fc`](https://github.com/sagemath/sagetrac-mirror/commit/b8690fc4086307950f982b67b9665bbe06024347)**



---

archive/issue_comments_503334.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503334",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_429300.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429300"
}
```



---

archive/issue_events_429301.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429301"
}
```



---

archive/issue_comments_503335.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76fcfd62dc3ed26a13fff534dcfa863c62f7a135\"><code>76fcfd6</code></a></td><td><code>Merge branch 'u/jlepsova/morphic' into 9.3.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9573c34415eb2869423c9e91774df37b1780119f\"><code>9573c34</code></a></td><td><code>31378: fixing doctests in word.py</code></td></tr></table>\n",
    "created_at": "2021-04-02T08:31:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503335",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:9"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76fcfd62dc3ed26a13fff534dcfa863c62f7a135"><code>76fcfd6</code></a></td><td><code>Merge branch 'u/jlepsova/morphic' into 9.3.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9573c34415eb2869423c9e91774df37b1780119f"><code>9573c34</code></a></td><td><code>31378: fixing doctests in word.py</code></td></tr></table>




---

archive/issue_comments_503336.json:
```json
{
    "body": "Changed branch from **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)** to **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)**",
    "created_at": "2021-04-02T08:31:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503336",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)** to **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)**



---

archive/issue_comments_503337.json:
```json
{
    "body": "Changed commit from **[`b8690fc`](https://github.com/sagemath/sagetrac-mirror/commit/b8690fc4086307950f982b67b9665bbe06024347)** to **[`9573c34`](https://github.com/sagemath/sagetrac-mirror/commit/9573c34415eb2869423c9e91774df37b1780119f)**",
    "created_at": "2021-04-02T08:31:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503337",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`b8690fc`](https://github.com/sagemath/sagetrac-mirror/commit/b8690fc4086307950f982b67b9665bbe06024347)** to **[`9573c34`](https://github.com/sagemath/sagetrac-mirror/commit/9573c34415eb2869423c9e91774df37b1780119f)**



---

archive/issue_comments_503338.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI fixed the doctests with respect to saving the objects (loads, dumps, reduce, etc.).\n\nIt remains only one issue:\n\n```\n            sage: m = WordMorphism(\"a->ab,b->\")          \n            sage: w = m.fixed_point(\"a\")                                      \n            sage: w.representation(0)                \n            []                                      \n            sage: w.representation(1)             \n            [1]                         \n            sage: w.representation(2)  #infinite loop\n```\n\nJana: can you take a look at this?",
    "created_at": "2021-04-02T08:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503338",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:10" align="right">comment:10</div>

I fixed the doctests with respect to saving the objects (loads, dumps, reduce, etc.).

It remains only one issue:

```
            sage: m = WordMorphism("a->ab,b->")          
            sage: w = m.fixed_point("a")                                      
            sage: w.representation(0)                
            []                                      
            sage: w.representation(1)             
            [1]                         
            sage: w.representation(2)  #infinite loop
```

Jana: can you take a look at this?



---

archive/issue_comments_503339.json:
```json
{
    "body": "Author: **Jana Lep\u0161ov\u00e1, S\u00e9bastien Labb\u00e9**",
    "created_at": "2021-04-02T10:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503339",
    "user": "https://github.com/seblabbe"
}
```

Author: **Jana Lepšová, Sébastien Labbé**



---

archive/issue_comments_503340.json:
```json
{
    "body": "Changed commit from **[`9573c34`](https://github.com/sagemath/sagetrac-mirror/commit/9573c34415eb2869423c9e91774df37b1780119f)** to **[`ec5d4a7`](https://github.com/sagemath/sagetrac-mirror/commit/ec5d4a7cfb7dc5e1d41cd46c611c5661ced3caa5)**",
    "created_at": "2021-04-15T19:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503340",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

Changed commit from **[`9573c34`](https://github.com/sagemath/sagetrac-mirror/commit/9573c34415eb2869423c9e91774df37b1780119f)** to **[`ec5d4a7`](https://github.com/sagemath/sagetrac-mirror/commit/ec5d4a7cfb7dc5e1d41cd46c611c5661ced3caa5)**



---

archive/issue_comments_503341.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc413971e3712b3a74f3c6576a62000eb422d736\"><code>cc41397</code></a></td><td><code>Merge branch 'u/slabbe/31378'  into 9.3.rc3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec5d4a7cfb7dc5e1d41cd46c611c5661ced3caa5\"><code>ec5d4a7</code></a></td><td><code>trying to repair the finite fixed point problem, something changed in word_infinite_datatypes.py, however</code></td></tr></table>\n",
    "created_at": "2021-04-15T19:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503341",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

<div id="comment:12"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc413971e3712b3a74f3c6576a62000eb422d736"><code>cc41397</code></a></td><td><code>Merge branch 'u/slabbe/31378'  into 9.3.rc3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec5d4a7cfb7dc5e1d41cd46c611c5661ced3caa5"><code>ec5d4a7</code></a></td><td><code>trying to repair the finite fixed point problem, something changed in word_infinite_datatypes.py, however</code></td></tr></table>




---

archive/issue_comments_503342.json:
```json
{
    "body": "Changed branch from **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)** to **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)**",
    "created_at": "2021-04-15T19:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503342",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

Changed branch from **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)** to **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)**



---

archive/issue_comments_503343.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nDoes the most recent commit also handles the following infinite loop?\n\n```\nsage: m = WordMorphism(\"a->ab,b->,c->cdab,d->dcab\")\nsage: w = m.fixed_point(\"a\")\nsage: w.representation(2)\n```\n\nWhat is the remaining problem you mention in the commit message? Can you provide an example?\n\n\nIn the following, the multiplication `vMk*M` is computed twice. Maybe you want to write `vMk1 = vMk*M` to represent `vM^{k+1}` and at the end of the loop, you may do `vMk = vMk1`.\n\n```diff\n         while vMk[position] <= n:\n+            if vMk == vMk*M:\n+                raise ValueError('The morphism has a finite fixed point of length {}.'.format(vMk[position]))\n             vMk = vMk*M\n             length_of_images.append(vMk)\n```\n\nI would suggest that the error message also include the value of `n`. Something like `IndexError: index (=2) out of range, the fixed point is finite and has length 2`.\n\nI think the error should be an `IndexError` instead of `ValueError`, as it is for strings:\n\n```\nsage: s = 'ab'                                                                  \nsage: s[2]                                                                      \n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n<ipython-input-2-2d1d9bdb9b26> in <module>\n----> 1 s[Integer(2)]\n\nIndexError: string index out of range\n```",
    "created_at": "2021-04-16T14:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503343",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:13" align="right">comment:13</div>

Does the most recent commit also handles the following infinite loop?

```
sage: m = WordMorphism("a->ab,b->,c->cdab,d->dcab")
sage: w = m.fixed_point("a")
sage: w.representation(2)
```

What is the remaining problem you mention in the commit message? Can you provide an example?


In the following, the multiplication `vMk*M` is computed twice. Maybe you want to write `vMk1 = vMk*M` to represent `vM^{k+1}` and at the end of the loop, you may do `vMk = vMk1`.

```diff
         while vMk[position] <= n:
+            if vMk == vMk*M:
+                raise ValueError('The morphism has a finite fixed point of length {}.'.format(vMk[position]))
             vMk = vMk*M
             length_of_images.append(vMk)
```

I would suggest that the error message also include the value of `n`. Something like `IndexError: index (=2) out of range, the fixed point is finite and has length 2`.

I think the error should be an `IndexError` instead of `ValueError`, as it is for strings:

```
sage: s = 'ab'                                                                  
sage: s[2]                                                                      
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
<ipython-input-2-2d1d9bdb9b26> in <module>
----> 1 s[Integer(2)]

IndexError: string index out of range
```



---

archive/issue_events_429302.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-04-16T14:16:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429302"
}
```



---

archive/issue_events_429303.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-04-16T14:16:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429303"
}
```



---

archive/issue_events_429304.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-04-16T14:16:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429304"
}
```



---

archive/issue_comments_503344.json:
```json
{
    "body": "Changed commit from **[`ec5d4a7`](https://github.com/sagemath/sagetrac-mirror/commit/ec5d4a7cfb7dc5e1d41cd46c611c5661ced3caa5)** to **[`51d4db0`](https://github.com/sagemath/sagetrac-mirror/commit/51d4db0b863b66f460eb8bf7ca17d79e50300a2e)**",
    "created_at": "2021-05-06T09:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503344",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec5d4a7`](https://github.com/sagemath/sagetrac-mirror/commit/ec5d4a7cfb7dc5e1d41cd46c611c5661ced3caa5)** to **[`51d4db0`](https://github.com/sagemath/sagetrac-mirror/commit/51d4db0b863b66f460eb8bf7ca17d79e50300a2e)**



---

archive/issue_comments_503345.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51d4db0b863b66f460eb8bf7ca17d79e50300a2e\"><code>51d4db0</code></a></td><td><code>31378: fix comment 13</code></td></tr></table>\n",
    "created_at": "2021-05-06T09:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503345",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51d4db0b863b66f460eb8bf7ca17d79e50300a2e"><code>51d4db0</code></a></td><td><code>31378: fix comment 13</code></td></tr></table>




---

archive/issue_events_429305.json:
```json
{
    "actor": "https://github.com/sagetrac-jlepsova",
    "created_at": "2021-05-06T09:20:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429305"
}
```



---

archive/issue_events_429306.json:
```json
{
    "actor": "https://github.com/sagetrac-jlepsova",
    "created_at": "2021-05-06T09:20:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429306"
}
```



---

archive/issue_comments_503346.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI solved comment 13 with regard to morphic.py but the issue with infinite_datatype remains.",
    "created_at": "2021-05-06T09:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503346",
    "user": "https://github.com/sagetrac-jlepsova"
}
```

<div id="comment:17" align="right">comment:17</div>

I solved comment 13 with regard to morphic.py but the issue with infinite_datatype remains.



---

archive/issue_comments_503347.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI fixed the remaining issue. Should be okay now.\n\nI added a reference. I need to learn the new way of adding reference to sage...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77a7759a897f5c960c149e74bbec2aa9f707545b\"><code>77a7759</code></a></td><td><code>adding more efficient way of stating a letter at an n-th position of a fixed point</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19166069f1794791d41201d5522ce7d6743e6424\"><code>1916606</code></a></td><td><code>linking morphic.py file to the sage words library</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ad57b7fea57c0e9b40b329fe93b5ceb01899baf\"><code>2ad57b7</code></a></td><td><code>31378: incomplete changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd4397275f89b46422a2c23d85fe353bac6351d5\"><code>bd43972</code></a></td><td><code>fixed doctests in morphic.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81d0ed8c2d9998cc8a56675035b1cd06e8117547\"><code>81d0ed8</code></a></td><td><code>fixing some of the errors in word.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6dc1523f3df9551ce65670afe9e14ba1871f11c\"><code>c6dc152</code></a></td><td><code>31378: fixing doctests in word.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3602aa6469a6ad5434a6cf2bb0de251766a954ab\"><code>3602aa6</code></a></td><td><code>trying to repair the finite fixed point problem, something changed in word_infinite_datatypes.py, however</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97515fd5d5a3ad9169ba69442a29d5fc70db6f9e\"><code>97515fd</code></a></td><td><code>31378: fix comment 13</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33eb4c15e936cb9e05604480a41dc574bb921d53\"><code>33eb4c1</code></a></td><td><code>31378: fixed remaining issue, added doctests</code></td></tr></table>\n",
    "created_at": "2021-05-06T09:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503347",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:18" align="right">comment:18</div>

I fixed the remaining issue. Should be okay now.

I added a reference. I need to learn the new way of adding reference to sage...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77a7759a897f5c960c149e74bbec2aa9f707545b"><code>77a7759</code></a></td><td><code>adding more efficient way of stating a letter at an n-th position of a fixed point</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19166069f1794791d41201d5522ce7d6743e6424"><code>1916606</code></a></td><td><code>linking morphic.py file to the sage words library</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ad57b7fea57c0e9b40b329fe93b5ceb01899baf"><code>2ad57b7</code></a></td><td><code>31378: incomplete changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd4397275f89b46422a2c23d85fe353bac6351d5"><code>bd43972</code></a></td><td><code>fixed doctests in morphic.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81d0ed8c2d9998cc8a56675035b1cd06e8117547"><code>81d0ed8</code></a></td><td><code>fixing some of the errors in word.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6dc1523f3df9551ce65670afe9e14ba1871f11c"><code>c6dc152</code></a></td><td><code>31378: fixing doctests in word.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3602aa6469a6ad5434a6cf2bb0de251766a954ab"><code>3602aa6</code></a></td><td><code>trying to repair the finite fixed point problem, something changed in word_infinite_datatypes.py, however</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97515fd5d5a3ad9169ba69442a29d5fc70db6f9e"><code>97515fd</code></a></td><td><code>31378: fix comment 13</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33eb4c15e936cb9e05604480a41dc574bb921d53"><code>33eb4c1</code></a></td><td><code>31378: fixed remaining issue, added doctests</code></td></tr></table>




---

archive/issue_comments_503348.json:
```json
{
    "body": "Changed commit from **[`51d4db0`](https://github.com/sagemath/sagetrac-mirror/commit/51d4db0b863b66f460eb8bf7ca17d79e50300a2e)** to **[`33eb4c1`](https://github.com/sagemath/sagetrac-mirror/commit/33eb4c15e936cb9e05604480a41dc574bb921d53)**",
    "created_at": "2021-05-06T09:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503348",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`51d4db0`](https://github.com/sagemath/sagetrac-mirror/commit/51d4db0b863b66f460eb8bf7ca17d79e50300a2e)** to **[`33eb4c1`](https://github.com/sagemath/sagetrac-mirror/commit/33eb4c15e936cb9e05604480a41dc574bb921d53)**



---

archive/issue_comments_503349.json:
```json
{
    "body": "Changed branch from **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)** to **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)**",
    "created_at": "2021-05-06T09:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503349",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[u/jlepsova/morphic](https://github.com/sagemath/sagetrac-mirror/tree/u/jlepsova/morphic)** to **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)**



---

archive/issue_comments_503350.json:
```json
{
    "body": "Changed commit from **[`33eb4c1`](https://github.com/sagemath/sagetrac-mirror/commit/33eb4c15e936cb9e05604480a41dc574bb921d53)** to **[`f1b12db`](https://github.com/sagemath/sagetrac-mirror/commit/f1b12db653679c5df041b8a323956d40b0b30786)**",
    "created_at": "2021-05-06T10:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503350",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`33eb4c1`](https://github.com/sagemath/sagetrac-mirror/commit/33eb4c15e936cb9e05604480a41dc574bb921d53)** to **[`f1b12db`](https://github.com/sagemath/sagetrac-mirror/commit/f1b12db653679c5df041b8a323956d40b0b30786)**



---

archive/issue_comments_503351.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1b12db653679c5df041b8a323956d40b0b30786\"><code>f1b12db</code></a></td><td><code>31378: adding reference in the good place</code></td></tr></table>\n",
    "created_at": "2021-05-06T10:07:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503351",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1b12db653679c5df041b8a323956d40b0b30786"><code>f1b12db</code></a></td><td><code>31378: adding reference in the good place</code></td></tr></table>




---

archive/issue_comments_503352.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nFixed the reference.\n\nNeeds review!",
    "created_at": "2021-05-06T10:07:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503352",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:20" align="right">comment:20</div>

Fixed the reference.

Needs review!



---

archive/issue_comments_503353.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n* see patchbot plugins about not using \"Returns\"\n\n* doc does not seem to build (WARNING: Duplicate explicit target name: \"br2010\".)",
    "created_at": "2021-06-07T09:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503353",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

* see patchbot plugins about not using "Returns"

* doc does not seem to build (WARNING: Duplicate explicit target name: "br2010".)



---

archive/issue_events_429307.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-06-24T09:15:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429307"
}
```



---

archive/issue_events_429308.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-06-24T09:15:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429308"
}
```



---

archive/issue_comments_503354.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI just did two commits that I pushed on the branch u/slabbe/31378_on_9.4.beta0. I prefer to make sure it works on beta3 since we modify the references/index.rst file, it could be the case that there is a conflict. I am currently building beta3. I will update the branch later.",
    "created_at": "2021-06-24T09:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503354",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:23" align="right">comment:23</div>

I just did two commits that I pushed on the branch u/slabbe/31378_on_9.4.beta0. I prefer to make sure it works on beta3 since we modify the references/index.rst file, it could be the case that there is a conflict. I am currently building beta3. I will update the branch later.



---

archive/issue_events_429309.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429309"
}
```



---

archive/issue_events_429310.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429310"
}
```



---

archive/issue_comments_503355.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503355",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_comments_503356.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3b025cbf649124df3402d5c2c696e80237ca203\"><code>a3b025c</code></a></td><td><code>31378: incomplete changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dbffb1cbcfdea739b594eb4b5904f128e901bc8\"><code>1dbffb1</code></a></td><td><code>fixed doctests in morphic.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0914f3c171906aaea7c4df42ada6ef14fa9f18ce\"><code>0914f3c</code></a></td><td><code>fixing some of the errors in word.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83d5aa2da0b5254cd580eb7d23c643f7c13bc539\"><code>83d5aa2</code></a></td><td><code>31378: fixing doctests in word.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4818d317e142422854aa0d2db67bd3ede75aca5\"><code>e4818d3</code></a></td><td><code>trying to repair the finite fixed point problem, something changed in word_infinite_datatypes.py, however</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45efaeb17be51d752c72695a5f101c14bcb15ab1\"><code>45efaeb</code></a></td><td><code>31378: fix comment 13</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67b8c647636e906339c5715bb148d3b00df0d558\"><code>67b8c64</code></a></td><td><code>31378: fixed remaining issue, added doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aeb9935c6290d08f27d9c0347e5d830f13474229\"><code>aeb9935</code></a></td><td><code>31378: adding reference in the good place</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a4af939eb2dbe7a2f2f3d3426b1242991e5b66c\"><code>7a4af93</code></a></td><td><code>31378: Returns -> Return</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79c2834778aaa5238e530fd61e7fadb3cea2db23\"><code>79c2834</code></a></td><td><code>31378: fix ref duplicate [BR2010] -> [BR2010b]</code></td></tr></table>\n",
    "created_at": "2021-09-30T08:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503356",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3b025cbf649124df3402d5c2c696e80237ca203"><code>a3b025c</code></a></td><td><code>31378: incomplete changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dbffb1cbcfdea739b594eb4b5904f128e901bc8"><code>1dbffb1</code></a></td><td><code>fixed doctests in morphic.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0914f3c171906aaea7c4df42ada6ef14fa9f18ce"><code>0914f3c</code></a></td><td><code>fixing some of the errors in word.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83d5aa2da0b5254cd580eb7d23c643f7c13bc539"><code>83d5aa2</code></a></td><td><code>31378: fixing doctests in word.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4818d317e142422854aa0d2db67bd3ede75aca5"><code>e4818d3</code></a></td><td><code>trying to repair the finite fixed point problem, something changed in word_infinite_datatypes.py, however</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45efaeb17be51d752c72695a5f101c14bcb15ab1"><code>45efaeb</code></a></td><td><code>31378: fix comment 13</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67b8c647636e906339c5715bb148d3b00df0d558"><code>67b8c64</code></a></td><td><code>31378: fixed remaining issue, added doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aeb9935c6290d08f27d9c0347e5d830f13474229"><code>aeb9935</code></a></td><td><code>31378: adding reference in the good place</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a4af939eb2dbe7a2f2f3d3426b1242991e5b66c"><code>7a4af93</code></a></td><td><code>31378: Returns -> Return</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79c2834778aaa5238e530fd61e7fadb3cea2db23"><code>79c2834</code></a></td><td><code>31378: fix ref duplicate [BR2010] -> [BR2010b]</code></td></tr></table>




---

archive/issue_comments_503357.json:
```json
{
    "body": "Changed commit from **[`f1b12db`](https://github.com/sagemath/sagetrac-mirror/commit/f1b12db653679c5df041b8a323956d40b0b30786)** to **[`79c2834`](https://github.com/sagemath/sagetrac-mirror/commit/79c2834778aaa5238e530fd61e7fadb3cea2db23)**",
    "created_at": "2021-09-30T08:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503357",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f1b12db`](https://github.com/sagemath/sagetrac-mirror/commit/f1b12db653679c5df041b8a323956d40b0b30786)** to **[`79c2834`](https://github.com/sagemath/sagetrac-mirror/commit/79c2834778aaa5238e530fd61e7fadb3cea2db23)**



---

archive/issue_events_429311.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-09-30T08:46:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429311"
}
```



---

archive/issue_events_429312.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-09-30T08:46:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429312"
}
```



---

archive/issue_comments_503358.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI rebased everything on top of 9.5.beta0. We will see what the patchbot says now. Needs review.",
    "created_at": "2021-09-30T08:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503358",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:26" align="right">comment:26</div>

I rebased everything on top of 9.5.beta0. We will see what the patchbot says now. Needs review.



---

archive/issue_comments_503359.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n`make` finishes with \"Sage build/upgrade complete!\", on my side. So no problems related to the changes in the references list.",
    "created_at": "2021-09-30T08:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503359",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:27" align="right">comment:27</div>

`make` finishes with "Sage build/upgrade complete!", on my side. So no problems related to the changes in the references list.



---

archive/issue_events_429313.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-09-30T09:07:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429313"
}
```



---

archive/issue_events_429314.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-09-30T09:07:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429314"
}
```



---

archive/issue_comments_503360.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThere are a lot of trailing whitespaces.",
    "created_at": "2021-09-30T09:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503360",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">comment:28</div>

There are a lot of trailing whitespaces.



---

archive/issue_comments_503361.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nWhat is the purpose of this commented line\n\n```\n         # self._func = callable\n```\n\nWhy did you put\n\n```\n+.. [BR2010b] Val\u00e9rie Berth\u00e9 and Michel Rigo, editors. Combinatorics, automata,\n+             and number theory, volume 135. Cambridge: Cambridge University Press, 2010.\n```\nafter\n\n```\n \n+.. [Br1910] Bruckner, \"Uber die Ableitung der allgemeinen Polytope und\n+            die nach Isomorphismus verschiedenen Typen der allgemeinen\n+            Achtzelle (Oktatope)\", Verhand. Konik. Akad. Wetenschap,\n+            Erste Sectie, 10 (1910)\n```\nWith respect to the lexicographic ordering `Berthe < Bruckner`.",
    "created_at": "2021-09-30T09:13:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503361",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">comment:29</div>

What is the purpose of this commented line

```
         # self._func = callable
```

Why did you put

```
+.. [BR2010b] Valérie Berthé and Michel Rigo, editors. Combinatorics, automata,
+             and number theory, volume 135. Cambridge: Cambridge University Press, 2010.
```
after

```
 
+.. [Br1910] Bruckner, "Uber die Ableitung der allgemeinen Polytope und
+            die nach Isomorphismus verschiedenen Typen der allgemeinen
+            Achtzelle (Oktatope)", Verhand. Konik. Akad. Wetenschap,
+            Erste Sectie, 10 (1910)
```
With respect to the lexicographic ordering `Berthe < Bruckner`.



---

archive/issue_comments_503362.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nAre you sure that `Computing the n-th letter of a fixed point is fast`? If the morphism is primitive then I agree but otherwise...",
    "created_at": "2021-09-30T09:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503362",
    "user": "https://github.com/videlec"
}
```

<div id="comment:30" align="right">comment:30</div>

Are you sure that `Computing the n-th letter of a fixed point is fast`? If the morphism is primitive then I agree but otherwise...



---

archive/issue_comments_503363.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nHere is an example\n\n```\nsage: s = WordMorphism('0->011,1->1')\nsage: w = s.fixed_point('0')\nsage: w # very stupid word :-)\nword: 0111111111111111111111111111111111111111...\nsage: w.representation(1000000) # now you can wait !!\n```\n\nEDIT: Computing the representation is long (because the answer is long) but computing `w[1000000]` should be fast.",
    "created_at": "2021-09-30T09:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503363",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">comment:31</div>

Here is an example

```
sage: s = WordMorphism('0->011,1->1')
sage: w = s.fixed_point('0')
sage: w # very stupid word :-)
word: 0111111111111111111111111111111111111111...
sage: w.representation(1000000) # now you can wait !!
```

EDIT: Computing the representation is long (because the answer is long) but computing `w[1000000]` should be fast.



---

archive/issue_comments_503364.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nMore generally, when the growth of `|sigma^n(letter)|` is polynomial (and not exponential) then going via the representation is not a good idea.",
    "created_at": "2021-09-30T09:25:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503364",
    "user": "https://github.com/videlec"
}
```

<div id="comment:32" align="right">comment:32</div>

More generally, when the growth of `|sigma^n(letter)|` is polynomial (and not exponential) then going via the representation is not a good idea.



---

archive/issue_comments_503365.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@videlec](#comment%3A32):\n> More generally, when the growth of `|sigma^n(letter)|` is polynomial (and not exponential) then going via the representation is not a good idea.\n\nWell if the growth rate of the `|sigma^n(letter)|` is quadratic this ticket does an improvement. Here is an example:\n\nOn 9.5.beta0:\n\n```\nsage: s = WordMorphism('a->abc,b->bc,c->c')                                     \nsage: w = s.fixed_point('a')                                                    \nsage: %time w[1000000]                                                          \nCPU times: user 6.45 s, sys: 11.5 ms, total: 6.46 s\nWall time: 6.46 s\n'c'\n```\n\nOn 9.5.beta0 + #31378:\n\n```\nsage: s = WordMorphism('a->abc,b->bc,c->c')                                     \nsage: w = s.fixed_point('a')                                                    \nsage: %time w[1000000]                                                          \nCPU times: user 28.5 ms, sys: 51 \u00b5s, total: 28.6 ms\nWall time: 28.4 ms\n'c'\n```\n\nHere it grows quadratically:\n\n```\nsage: for i in range(10): u = s('a', i); print(len(u), u)                       \n1 a\n3 abc\n6 abcbcc\n10 abcbccbccc\n15 abcbccbcccbcccc\n21 abcbccbcccbccccbccccc\n28 abcbccbcccbccccbcccccbcccccc\n36 abcbccbcccbccccbcccccbccccccbccccccc\n45 abcbccbcccbccccbcccccbccccccbcccccccbcccccccc\n55 abcbccbcccbccccbcccccbccccccbcccccccbccccccccbccccccccc\n```\n\nThe problem is when the images grow linearly. Question: can we detect that?",
    "created_at": "2021-09-30T09:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503365",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@videlec](#comment%3A32):
> More generally, when the growth of `|sigma^n(letter)|` is polynomial (and not exponential) then going via the representation is not a good idea.

Well if the growth rate of the `|sigma^n(letter)|` is quadratic this ticket does an improvement. Here is an example:

On 9.5.beta0:

```
sage: s = WordMorphism('a->abc,b->bc,c->c')                                     
sage: w = s.fixed_point('a')                                                    
sage: %time w[1000000]                                                          
CPU times: user 6.45 s, sys: 11.5 ms, total: 6.46 s
Wall time: 6.46 s
'c'
```

On 9.5.beta0 + #31378:

```
sage: s = WordMorphism('a->abc,b->bc,c->c')                                     
sage: w = s.fixed_point('a')                                                    
sage: %time w[1000000]                                                          
CPU times: user 28.5 ms, sys: 51 µs, total: 28.6 ms
Wall time: 28.4 ms
'c'
```

Here it grows quadratically:

```
sage: for i in range(10): u = s('a', i); print(len(u), u)                       
1 a
3 abc
6 abcbcc
10 abcbccbccc
15 abcbccbcccbcccc
21 abcbccbcccbccccbccccc
28 abcbccbcccbccccbcccccbcccccc
36 abcbccbcccbccccbcccccbccccccbccccccc
45 abcbccbcccbccccbcccccbccccccbcccccccbcccccccc
55 abcbccbcccbccccbcccccbccccccbcccccccbccccccccbccccccccc
```

The problem is when the images grow linearly. Question: can we detect that?



---

archive/issue_events_429315.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-09-30T10:20:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429315"
}
```



---

archive/issue_events_429316.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-09-30T10:20:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429316"
}
```



---

archive/issue_comments_503366.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThe answer is yes, see #32594.\n\nWe can do that later on.",
    "created_at": "2021-09-30T10:20:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503366",
    "user": "https://github.com/videlec"
}
```

<div id="comment:34" align="right">comment:34</div>

The answer is yes, see #32594.

We can do that later on.



---

archive/issue_comments_503367.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSorry : you should fix trailing whitespaces.",
    "created_at": "2021-09-30T10:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503367",
    "user": "https://github.com/videlec"
}
```

<div id="comment:35" align="right">comment:35</div>

Sorry : you should fix trailing whitespaces.



---

archive/issue_events_429317.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-09-30T10:21:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429317"
}
```



---

archive/issue_events_429318.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-09-30T10:21:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429318"
}
```



---

archive/issue_comments_503368.json:
```json
{
    "body": "Work Issues: **trailing whitespaces**",
    "created_at": "2021-09-30T10:22:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503368",
    "user": "https://github.com/videlec"
}
```

Work Issues: **trailing whitespaces**



---

archive/issue_comments_503369.json:
```json
{
    "body": "Changed commit from **[`79c2834`](https://github.com/sagemath/sagetrac-mirror/commit/79c2834778aaa5238e530fd61e7fadb3cea2db23)** to **[`29278b4`](https://github.com/sagemath/sagetrac-mirror/commit/29278b4198d5bcb7fc312cdb33433925a130ce00)**",
    "created_at": "2021-09-30T15:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503369",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79c2834`](https://github.com/sagemath/sagetrac-mirror/commit/79c2834778aaa5238e530fd61e7fadb3cea2db23)** to **[`29278b4`](https://github.com/sagemath/sagetrac-mirror/commit/29278b4198d5bcb7fc312cdb33433925a130ce00)**



---

archive/issue_comments_503370.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29278b4198d5bcb7fc312cdb33433925a130ce00\"><code>29278b4</code></a></td><td><code>31378: removing trailing whitespaces in morphic.py file</code></td></tr></table>\n",
    "created_at": "2021-09-30T15:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503370",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29278b4198d5bcb7fc312cdb33433925a130ce00"><code>29278b4</code></a></td><td><code>31378: removing trailing whitespaces in morphic.py file</code></td></tr></table>




---

archive/issue_comments_503371.json:
```json
{
    "body": "Changed work issues from **trailing whitespaces** to none",
    "created_at": "2021-09-30T15:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503371",
    "user": "https://github.com/seblabbe"
}
```

Changed work issues from **trailing whitespaces** to none



---

archive/issue_comments_503372.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2021-09-30T15:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503372",
    "user": "https://github.com/seblabbe"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_429319.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-09-30T15:46:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429319"
}
```



---

archive/issue_events_429320.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-09-30T15:46:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429320"
}
```



---

archive/issue_comments_503373.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI think the issue with trailing whitespaces was mainly with file morphic.py. I removed those from that file.",
    "created_at": "2021-09-30T15:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503373",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:38" align="right">comment:38</div>

I think the issue with trailing whitespaces was mainly with file morphic.py. I removed those from that file.



---

archive/issue_comments_503374.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nthere are more in `morphism.py`.",
    "created_at": "2021-09-30T16:02:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503374",
    "user": "https://github.com/videlec"
}
```

<div id="comment:39" align="right">comment:39</div>

there are more in `morphism.py`.



---

archive/issue_comments_503375.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nDo you want me to remove all of the trailing whitespaces in the file, or only those in lines that were changed?",
    "created_at": "2021-09-30T18:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503375",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:40" align="right">comment:40</div>

Do you want me to remove all of the trailing whitespaces in the file, or only those in lines that were changed?



---

archive/issue_comments_503376.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThat is fine with me either way.",
    "created_at": "2021-09-30T20:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503376",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">comment:41</div>

That is fine with me either way.



---

archive/issue_comments_503377.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f\"><code>016f022</code></a></td><td><code>31378: removing trailing whitespaces in morphism.py</code></td></tr></table>\n",
    "created_at": "2021-10-07T08:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503377",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f"><code>016f022</code></a></td><td><code>31378: removing trailing whitespaces in morphism.py</code></td></tr></table>




---

archive/issue_comments_503378.json:
```json
{
    "body": "Changed commit from **[`29278b4`](https://github.com/sagemath/sagetrac-mirror/commit/29278b4198d5bcb7fc312cdb33433925a130ce00)** to **[`016f022`](https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f)**",
    "created_at": "2021-10-07T08:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503378",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`29278b4`](https://github.com/sagemath/sagetrac-mirror/commit/29278b4198d5bcb7fc312cdb33433925a130ce00)** to **[`016f022`](https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f)**



---

archive/issue_comments_503379.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI fixed the 2 trailing whitespaces in the file morphism.py that were added in previous commit on this ticket.",
    "created_at": "2021-10-07T08:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503379",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:43" align="right">comment:43</div>

I fixed the 2 trailing whitespaces in the file morphism.py that were added in previous commit on this ticket.



---

archive/issue_events_429321.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-10-07T19:18:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429321"
}
```



---

archive/issue_events_429322.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2021-10-07T19:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429322"
}
```



---

archive/issue_comments_503380.json:
```json
{
    "body": "Changed branch from **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)** to **[`016f022`](https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f)**",
    "created_at": "2021-10-10T10:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31378#issuecomment-503380",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/slabbe/31378](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/31378)** to **[`016f022`](https://github.com/sagemath/sagetrac-mirror/commit/016f0229a5b03637b33baee5909d53f2fdd1c53f)**



---

archive/issue_events_429323.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-10T10:17:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429323"
}
```



---

archive/issue_events_429324.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c2bcee021b3125f81ca62ef930a481586c05ed07",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-10T10:17:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31378",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31378#event-429324"
}
```
