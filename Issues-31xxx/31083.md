# Issue 31083: Fix for potential good reduction for dynamical systems

archive/issues_030846.json:
```json
{
    "assignees": [],
    "body": "The function `potential_good_reduction` states that it returns a dynamical system with good reduction at a specified prime.\n\nCurrently, the following example returns a dynamical system:\n\n```\nP.<x,y> = ProjectiveSpace(QQ, 1)\nsystem = DynamicalSystem_projective([3^5*x^3 + x^2*y - 3^5*x*y^2 , -3^5*x^2*y + x*y^2 + 3^5*y^3])\nsystem.potential_good_reduction(3)\n```\n\nHowever, it is proved in [https://arxiv.org/pdf/1304.1201.pdf](https://arxiv.org/pdf/1304.1201.pdf) that this dynamical system does not have potential good reduction at 3.\n\nFollowing the criterion in [https://arxiv.org/pdf/1311.6695.pdf](https://arxiv.org/pdf/1311.6695.pdf), a fix is implemented by first checking the valuation of the resultant of the conjugate system before returning.\n\nIn order to be consistent, we change the function return type so that a tuple is returned in all cases.\n\nFurthermore, we add an optional return conjugation parameter.\n\nCC:  @bhutz @pfili\n\nBranch/Commit: **[`abc6978`](https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2)**\n\nReviewer: **Ben Hutz**\n\nAuthor: **Alexander Galarraga**\n\nComponent: **dynamics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31083_\n\n",
    "closed_at": "2021-07-25T13:27:04Z",
    "created_at": "2020-12-19T19:09:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix for potential good reduction for dynamical systems",
    "type": "issue",
    "updated_at": "2021-07-25T13:27:04Z",
    "url": "https://github.com/sagemath/sage/issues/31083",
    "user": "https://github.com/EnderWannabe"
}
```
The function `potential_good_reduction` states that it returns a dynamical system with good reduction at a specified prime.

Currently, the following example returns a dynamical system:

```
P.<x,y> = ProjectiveSpace(QQ, 1)
system = DynamicalSystem_projective([3^5*x^3 + x^2*y - 3^5*x*y^2 , -3^5*x^2*y + x*y^2 + 3^5*y^3])
system.potential_good_reduction(3)
```

However, it is proved in [https://arxiv.org/pdf/1304.1201.pdf](https://arxiv.org/pdf/1304.1201.pdf) that this dynamical system does not have potential good reduction at 3.

Following the criterion in [https://arxiv.org/pdf/1311.6695.pdf](https://arxiv.org/pdf/1311.6695.pdf), a fix is implemented by first checking the valuation of the resultant of the conjugate system before returning.

In order to be consistent, we change the function return type so that a tuple is returned in all cases.

Furthermore, we add an optional return conjugation parameter.

CC:  @bhutz @pfili

Branch/Commit: **[`abc6978`](https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2)**

Reviewer: **Ben Hutz**

Author: **Alexander Galarraga**

Component: **dynamics**

_Issue created by migration from https://trac.sagemath.org/ticket/31083_





---

archive/issue_events_425451.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2020-12-19T19:09:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425451"
}
```



---

archive/issue_events_425452.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2020-12-19T19:09:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
    "label_color": "0000ff",
    "label_name": "c: dynamics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425452"
}
```



---

archive/issue_events_425453.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2020-12-19T19:09:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425453"
}
```



---

archive/issue_events_425454.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2020-12-19T19:09:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425454"
}
```



---

archive/issue_comments_498018.json:
```json
{
    "body": "Branch: **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)**",
    "created_at": "2020-12-19T19:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498018",
    "user": "https://github.com/EnderWannabe"
}
```

Branch: **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)**



---

archive/issue_events_425455.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2020-12-19T19:29:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425455"
}
```



---

archive/issue_comments_498019.json:
```json
{
    "body": "Commit: **[`8865571`](https://github.com/sagemath/sagetrac-mirror/commit/8865571137d7e4f35e3bbf07a2bd93a5dd1b5a53)**",
    "created_at": "2020-12-19T19:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498019",
    "user": "https://github.com/EnderWannabe"
}
```

Commit: **[`8865571`](https://github.com/sagemath/sagetrac-mirror/commit/8865571137d7e4f35e3bbf07a2bd93a5dd1b5a53)**



---

archive/issue_comments_498020.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/668edfcb6df35ffe2eb14baa7f6e0f2f1ad4de21\"><code>668edfc</code></a></td><td><code>31083: initial commit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a07757fd6cd88e2385861ded12f82222c8336d2\"><code>0a07757</code></a></td><td><code>31083: full fix, added test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8865571137d7e4f35e3bbf07a2bd93a5dd1b5a53\"><code>8865571</code></a></td><td><code>31083: final commit</code></td></tr></table>\n",
    "created_at": "2020-12-19T19:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498020",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/668edfcb6df35ffe2eb14baa7f6e0f2f1ad4de21"><code>668edfc</code></a></td><td><code>31083: initial commit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a07757fd6cd88e2385861ded12f82222c8336d2"><code>0a07757</code></a></td><td><code>31083: full fix, added test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8865571137d7e4f35e3bbf07a2bd93a5dd1b5a53"><code>8865571</code></a></td><td><code>31083: final commit</code></td></tr></table>




---

archive/issue_comments_498021.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI took a look at this (finally) and it looks fine to me. If I'm understanding the references correctly, the conjugation you are producing must be the one that gives good reduction, so you check if the resulting map does, otherwise it does not.\n\nMaybe this is not the place to discuss this, but I'm a little concerned about the fact that this function returns different types depending on the result.  I'd be a little inclined to change the returns to\n\nTrue, dynamicalsystem\n\nFalse, None\n\nAlthough, why is there no option to return the conjugation? So perhaps as a second option\n\nTrue, DS, PGL\n\nFalse, None, None\n\nThat way the returns are always consistent.\n\nSince this is not yet in a released version, we're still free to change such things without having to worry about deprecation.",
    "created_at": "2021-01-30T17:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498021",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:3" align="right">comment:3</div>

I took a look at this (finally) and it looks fine to me. If I'm understanding the references correctly, the conjugation you are producing must be the one that gives good reduction, so you check if the resulting map does, otherwise it does not.

Maybe this is not the place to discuss this, but I'm a little concerned about the fact that this function returns different types depending on the result.  I'd be a little inclined to change the returns to

True, dynamicalsystem

False, None

Although, why is there no option to return the conjugation? So perhaps as a second option

True, DS, PGL

False, None, None

That way the returns are always consistent.

Since this is not yet in a released version, we're still free to change such things without having to worry about deprecation.



---

archive/issue_comments_498022.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aff61faa957f9f6f4bb112451673cecdb99cfd5\"><code>6aff61f</code></a></td><td><code>31083: fixed return type inconsistency, added return_conjugation, added tests</code></td></tr></table>\n",
    "created_at": "2021-02-01T01:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498022",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aff61faa957f9f6f4bb112451673cecdb99cfd5"><code>6aff61f</code></a></td><td><code>31083: fixed return type inconsistency, added return_conjugation, added tests</code></td></tr></table>




---

archive/issue_comments_498023.json:
```json
{
    "body": "Changed commit from **[`8865571`](https://github.com/sagemath/sagetrac-mirror/commit/8865571137d7e4f35e3bbf07a2bd93a5dd1b5a53)** to **[`6aff61f`](https://github.com/sagemath/sagetrac-mirror/commit/6aff61faa957f9f6f4bb112451673cecdb99cfd5)**",
    "created_at": "2021-02-01T01:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498023",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8865571`](https://github.com/sagemath/sagetrac-mirror/commit/8865571137d7e4f35e3bbf07a2bd93a5dd1b5a53)** to **[`6aff61f`](https://github.com/sagemath/sagetrac-mirror/commit/6aff61faa957f9f6f4bb112451673cecdb99cfd5)**



---

archive/issue_comments_498024.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,7 @@\n However, it is proved in [https://arxiv.org/pdf/1304.1201.pdf](https://arxiv.org/pdf/1304.1201.pdf) that this dynamical system does not have potential good reduction at 3.\n \n Following the criterion in [https://arxiv.org/pdf/1311.6695.pdf](https://arxiv.org/pdf/1311.6695.pdf), a fix is implemented by first checking the valuation of the resultant of the conjugate system before returning.\n+\n+In order to be consistent, we change the function return type so that a tuple is returned in all cases.\n+\n+Furthermore, we add an optional return conjugation parameter.\n``````\n",
    "created_at": "2021-02-01T02:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498024",
    "user": "https://github.com/EnderWannabe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,7 @@
 However, it is proved in [https://arxiv.org/pdf/1304.1201.pdf](https://arxiv.org/pdf/1304.1201.pdf) that this dynamical system does not have potential good reduction at 3.
 
 Following the criterion in [https://arxiv.org/pdf/1311.6695.pdf](https://arxiv.org/pdf/1311.6695.pdf), a fix is implemented by first checking the valuation of the resultant of the conjugate system before returning.
+
+In order to be consistent, we change the function return type so that a tuple is returned in all cases.
+
+Furthermore, we add an optional return conjugation parameter.
``````




---

archive/issue_comments_498025.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@bhutz](#comment:3):\n> Maybe this is not the place to discuss this, but I'm a little concerned about the fact that this function returns different types depending on the result. \n\nImplemented the change suggested, and updated the ticket description. Should we consider separating these changes into two separate tickets?",
    "created_at": "2021-02-01T02:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498025",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@bhutz](#comment:3):
> Maybe this is not the place to discuss this, but I'm a little concerned about the fact that this function returns different types depending on the result. 

Implemented the change suggested, and updated the ticket description. Should we consider separating these changes into two separate tickets?



---

archive/issue_comments_498026.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThese are both small fixes to the same function under beta, so I'm ok doing them both here.\n\nPaul it looks like you reviewed the original function. Are you ok with the new return types?",
    "created_at": "2021-02-02T19:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498026",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:7" align="right">comment:7</div>

These are both small fixes to the same function under beta, so I'm ok doing them both here.

Paul it looks like you reviewed the original function. Are you ok with the new return types?



---

archive/issue_comments_498027.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nfyi, the docs fail to build\n\n```\n/arithmetic_dynamics/projective_ds.py:docstring of sage.dynamics.arithmetic_dynamics.projective_ds.DynamicalSystem_projective_field.potential_good_reduction:37: WARNING: Unexpected indentation.\nMakefile:1873: recipe for target 'doc-html' failed\n```",
    "created_at": "2021-02-03T21:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498027",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:8" align="right">comment:8</div>

fyi, the docs fail to build

```
/arithmetic_dynamics/projective_ds.py:docstring of sage.dynamics.arithmetic_dynamics.projective_ds.DynamicalSystem_projective_field.potential_good_reduction:37: WARNING: Unexpected indentation.
Makefile:1873: recipe for target 'doc-html' failed
```



---

archive/issue_comments_498028.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4a212a8e1f6a1309235d62fefea4e1918da7634\"><code>d4a212a</code></a></td><td><code>31803: fixed undefined variable L</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26379c5a40015c27a0f59c74687faa5a77bd30ef\"><code>26379c5</code></a></td><td><code>31083: doc fix</code></td></tr></table>\n",
    "created_at": "2021-02-06T17:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498028",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4a212a8e1f6a1309235d62fefea4e1918da7634"><code>d4a212a</code></a></td><td><code>31803: fixed undefined variable L</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26379c5a40015c27a0f59c74687faa5a77bd30ef"><code>26379c5</code></a></td><td><code>31083: doc fix</code></td></tr></table>




---

archive/issue_comments_498029.json:
```json
{
    "body": "Changed commit from **[`6aff61f`](https://github.com/sagemath/sagetrac-mirror/commit/6aff61faa957f9f6f4bb112451673cecdb99cfd5)** to **[`26379c5`](https://github.com/sagemath/sagetrac-mirror/commit/26379c5a40015c27a0f59c74687faa5a77bd30ef)**",
    "created_at": "2021-02-06T17:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498029",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6aff61f`](https://github.com/sagemath/sagetrac-mirror/commit/6aff61faa957f9f6f4bb112451673cecdb99cfd5)** to **[`26379c5`](https://github.com/sagemath/sagetrac-mirror/commit/26379c5a40015c27a0f59c74687faa5a77bd30ef)**



---

archive/issue_comments_498030.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nDocs should build now.",
    "created_at": "2021-02-06T17:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498030",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:10" align="right">comment:10</div>

Docs should build now.



---

archive/issue_events_425456.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-02-11T19:18:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425456"
}
```



---

archive/issue_events_425457.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-02-11T19:18:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425457"
}
```



---

archive/issue_comments_498031.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThis looks good to me. Just one further tweak I'd like. A test that checks that the conjugation returned actually gives the model with good reduction.",
    "created_at": "2021-02-11T19:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498031",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:11" align="right">comment:11</div>

This looks good to me. Just one further tweak I'd like. A test that checks that the conjugation returned actually gives the model with good reduction.



---

archive/issue_comments_498032.json:
```json
{
    "body": "Reviewer: **bhutz**",
    "created_at": "2021-02-11T19:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498032",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **bhutz**



---

archive/issue_comments_498033.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/330c7ae5f7784a997776ad6bf35f3b01e52f061a\"><code>330c7ae</code></a></td><td><code>31083: added explicit example of correct conjugation and fixed embedding error</code></td></tr></table>\n",
    "created_at": "2021-02-27T17:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498033",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/330c7ae5f7784a997776ad6bf35f3b01e52f061a"><code>330c7ae</code></a></td><td><code>31083: added explicit example of correct conjugation and fixed embedding error</code></td></tr></table>




---

archive/issue_comments_498034.json:
```json
{
    "body": "Changed commit from **[`26379c5`](https://github.com/sagemath/sagetrac-mirror/commit/26379c5a40015c27a0f59c74687faa5a77bd30ef)** to **[`330c7ae`](https://github.com/sagemath/sagetrac-mirror/commit/330c7ae5f7784a997776ad6bf35f3b01e52f061a)**",
    "created_at": "2021-02-27T17:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498034",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`26379c5`](https://github.com/sagemath/sagetrac-mirror/commit/26379c5a40015c27a0f59c74687faa5a77bd30ef)** to **[`330c7ae`](https://github.com/sagemath/sagetrac-mirror/commit/330c7ae5f7784a997776ad6bf35f3b01e52f061a)**



---

archive/issue_comments_498035.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67540210248922a9129a9757a7f9ffce5cf4ecf2\"><code>6754021</code></a></td><td><code>31083: added second test of correct conjugation</code></td></tr></table>\n",
    "created_at": "2021-02-27T17:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498035",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67540210248922a9129a9757a7f9ffce5cf4ecf2"><code>6754021</code></a></td><td><code>31083: added second test of correct conjugation</code></td></tr></table>




---

archive/issue_comments_498036.json:
```json
{
    "body": "Changed commit from **[`330c7ae`](https://github.com/sagemath/sagetrac-mirror/commit/330c7ae5f7784a997776ad6bf35f3b01e52f061a)** to **[`6754021`](https://github.com/sagemath/sagetrac-mirror/commit/67540210248922a9129a9757a7f9ffce5cf4ecf2)**",
    "created_at": "2021-02-27T17:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498036",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`330c7ae`](https://github.com/sagemath/sagetrac-mirror/commit/330c7ae5f7784a997776ad6bf35f3b01e52f061a)** to **[`6754021`](https://github.com/sagemath/sagetrac-mirror/commit/67540210248922a9129a9757a7f9ffce5cf4ecf2)**



---

archive/issue_comments_498037.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4df15d390fbedd8512db739b3f494e0f1cef61e0\"><code>4df15d3</code></a></td><td><code>31083: added failing example as test</code></td></tr></table>\n",
    "created_at": "2021-02-27T18:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498037",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4df15d390fbedd8512db739b3f494e0f1cef61e0"><code>4df15d3</code></a></td><td><code>31083: added failing example as test</code></td></tr></table>




---

archive/issue_comments_498038.json:
```json
{
    "body": "Changed commit from **[`6754021`](https://github.com/sagemath/sagetrac-mirror/commit/67540210248922a9129a9757a7f9ffce5cf4ecf2)** to **[`4df15d3`](https://github.com/sagemath/sagetrac-mirror/commit/4df15d390fbedd8512db739b3f494e0f1cef61e0)**",
    "created_at": "2021-02-27T18:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498038",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6754021`](https://github.com/sagemath/sagetrac-mirror/commit/67540210248922a9129a9757a7f9ffce5cf4ecf2)** to **[`4df15d3`](https://github.com/sagemath/sagetrac-mirror/commit/4df15d390fbedd8512db739b3f494e0f1cef61e0)**



---

archive/issue_comments_498039.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAdded the desired example.\n\nI found an example which failed causing an embedding error:\n\n```\nP.<x,y> = ProjectiveSpace(QQ, 1)\nsystem = DynamicalSystem_projective([3*x^2 + x*y+y^2, 9*y^2])\nprime = system.field_of_definition_periodic(1).prime_above(3)\nsystem.potential_good_reduction(prime)\n```\n\nThe most recent pushes fixes this and add it as a test. Some of the code I wrote to fix it, however, I am unhappy with.\n\nSince the change ring on projective points doesn't let me pass an embedding, I tried to use the embedding by hand on line 7076. Check that line to see if I missed something there.\n\nAlso, I resorted to checking if an embedding is defined on line 7094. Is that good practice? I couldn't come up with another approach, as using the identity when embedding_preimage was not defined failed tests.",
    "created_at": "2021-02-27T18:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498039",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:15" align="right">comment:15</div>

Added the desired example.

I found an example which failed causing an embedding error:

```
P.<x,y> = ProjectiveSpace(QQ, 1)
system = DynamicalSystem_projective([3*x^2 + x*y+y^2, 9*y^2])
prime = system.field_of_definition_periodic(1).prime_above(3)
system.potential_good_reduction(prime)
```

The most recent pushes fixes this and add it as a test. Some of the code I wrote to fix it, however, I am unhappy with.

Since the change ring on projective points doesn't let me pass an embedding, I tried to use the embedding by hand on line 7076. Check that line to see if I missed something there.

Also, I resorted to checking if an embedding is defined on line 7094. Is that good practice? I couldn't come up with another approach, as using the identity when embedding_preimage was not defined failed tests.



---

archive/issue_comments_498040.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nerr..why can't you pass en embedding into the projective point change_ring. I'm under the impression this works and changing your code to (7075-7076)\n\n```\n            system = system.change_ring(embedding_preimage)\n            point = point.change_ring(embedding_preimage)\n```\n\ndoes not cause any doctest failures. Could you give me an example that is failing under this?\n\nbtw, you have at least one doctest failure in general that needs to be fixed (7029: does not have the return value to check against.)",
    "created_at": "2021-03-04T16:26:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498040",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:16" align="right">comment:16</div>

err..why can't you pass en embedding into the projective point change_ring. I'm under the impression this works and changing your code to (7075-7076)

```
            system = system.change_ring(embedding_preimage)
            point = point.change_ring(embedding_preimage)
```

does not cause any doctest failures. Could you give me an example that is failing under this?

btw, you have at least one doctest failure in general that needs to be fixed (7029: does not have the return value to check against.)



---

archive/issue_comments_498041.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42fc94d790b6c306f9b52a3e4a5cf21dc50b7588\"><code>42fc94d</code></a></td><td><code>31083: better fix for embedding</code></td></tr></table>\n",
    "created_at": "2021-03-07T00:42:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498041",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42fc94d790b6c306f9b52a3e4a5cf21dc50b7588"><code>42fc94d</code></a></td><td><code>31083: better fix for embedding</code></td></tr></table>




---

archive/issue_comments_498042.json:
```json
{
    "body": "Changed commit from **[`4df15d3`](https://github.com/sagemath/sagetrac-mirror/commit/4df15d390fbedd8512db739b3f494e0f1cef61e0)** to **[`42fc94d`](https://github.com/sagemath/sagetrac-mirror/commit/42fc94d790b6c306f9b52a3e4a5cf21dc50b7588)**",
    "created_at": "2021-03-07T00:42:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498042",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4df15d3`](https://github.com/sagemath/sagetrac-mirror/commit/4df15d390fbedd8512db739b3f494e0f1cef61e0)** to **[`42fc94d`](https://github.com/sagemath/sagetrac-mirror/commit/42fc94d790b6c306f9b52a3e4a5cf21dc50b7588)**



---

archive/issue_comments_498043.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThanks for the suggestion, that works much better. I didn't realize I could just pass the embedding.\n\nFailing doctest fixed! I'm going to change the status to needs review, as I think all the current issues have been addressed.",
    "created_at": "2021-03-07T00:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498043",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:18" align="right">comment:18</div>

Thanks for the suggestion, that works much better. I didn't realize I could just pass the embedding.

Failing doctest fixed! I'm going to change the status to needs review, as I think all the current issues have been addressed.



---

archive/issue_events_425458.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-07T00:44:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425458"
}
```



---

archive/issue_events_425459.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-07T00:44:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425459"
}
```



---

archive/issue_comments_498044.json:
```json
{
    "body": "Changed branch from **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)** to **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)**",
    "created_at": "2021-03-09T01:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498044",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)** to **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)**



---

archive/issue_comments_498045.json:
```json
{
    "body": "Changed commit from **[`42fc94d`](https://github.com/sagemath/sagetrac-mirror/commit/42fc94d790b6c306f9b52a3e4a5cf21dc50b7588)** to **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)**",
    "created_at": "2021-03-09T01:44:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498045",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[`42fc94d`](https://github.com/sagemath/sagetrac-mirror/commit/42fc94d790b6c306f9b52a3e4a5cf21dc50b7588)** to **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)**



---

archive/issue_comments_498046.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI actually meant checking that you are getting the actual map you return not just that it has the correct resultant. See the test I added.\n\nOtherwise, I'm fine with this ticket as is. If you are also fine with the doctest I added, we can mark this positive.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3\"><code>ea29310</code></a></td><td><code>31083: add doc test for conjugation</code></td></tr></table>\n",
    "created_at": "2021-03-09T01:44:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498046",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:21" align="right">comment:21</div>

I actually meant checking that you are getting the actual map you return not just that it has the correct resultant. See the test I added.

Otherwise, I'm fine with this ticket as is. If you are also fine with the doctest I added, we can mark this positive.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3"><code>ea29310</code></a></td><td><code>31083: add doc test for conjugation</code></td></tr></table>




---

archive/issue_comments_498047.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLooks good to me! Marked as positive review.",
    "created_at": "2021-03-13T15:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498047",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:22" align="right">comment:22</div>

Looks good to me! Marked as positive review.



---

archive/issue_events_425460.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-13T15:12:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425460"
}
```



---

archive/issue_events_425461.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-13T15:12:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425461"
}
```



---

archive/issue_comments_498048.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nreviewer name should be full real name, please",
    "created_at": "2021-03-13T20:15:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498048",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

reviewer name should be full real name, please



---

archive/issue_comments_498049.json:
```json
{
    "body": "Changed reviewer from **bhutz** to **Ben Hutz**",
    "created_at": "2021-03-15T07:30:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498049",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **bhutz** to **Ben Hutz**



---

archive/issue_comments_498050.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nsorry. Thanks for updating it.",
    "created_at": "2021-03-15T16:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498050",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:26" align="right">comment:26</div>

sorry. Thanks for updating it.



---

archive/issue_events_425462.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-16T23:26:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425462"
}
```



---

archive/issue_events_425463.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-16T23:26:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425463"
}
```



---

archive/issue_comments_498051.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nMerge conflict",
    "created_at": "2021-03-16T23:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498051",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:27" align="right">comment:27</div>

Merge conflict



---

archive/issue_comments_498052.json:
```json
{
    "body": "Changed branch from **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)** to **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)**",
    "created_at": "2021-03-19T19:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498052",
    "user": "https://github.com/EnderWannabe"
}
```

Changed branch from **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)** to **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)**



---

archive/issue_events_425464.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-19T19:20:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425464"
}
```



---

archive/issue_events_425465.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-19T19:20:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425465"
}
```



---

archive/issue_comments_498053.json:
```json
{
    "body": "Changed commit from **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)** to **[`2d838a1`](https://github.com/sagemath/sagetrac-mirror/commit/2d838a1bf517ae3e2f4241d048560f87d2e49703)**",
    "created_at": "2021-03-19T19:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498053",
    "user": "https://github.com/EnderWannabe"
}
```

Changed commit from **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)** to **[`2d838a1`](https://github.com/sagemath/sagetrac-mirror/commit/2d838a1bf517ae3e2f4241d048560f87d2e49703)**



---

archive/issue_comments_498054.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d838a1bf517ae3e2f4241d048560f87d2e49703\"><code>2d838a1</code></a></td><td><code>31083: merge conflict resolved</code></td></tr></table>\n",
    "created_at": "2021-03-19T19:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498054",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:29"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d838a1bf517ae3e2f4241d048560f87d2e49703"><code>2d838a1</code></a></td><td><code>31083: merge conflict resolved</code></td></tr></table>




---

archive/issue_comments_498055.json:
```json
{
    "body": "Changed branch from **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)** to **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)**",
    "created_at": "2021-03-20T00:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498055",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/gh-EnderWannabe/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/good_reduction_fix)** to **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)**



---

archive/issue_comments_498056.json:
```json
{
    "body": "Changed commit from **[`2d838a1`](https://github.com/sagemath/sagetrac-mirror/commit/2d838a1bf517ae3e2f4241d048560f87d2e49703)** to **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)**",
    "created_at": "2021-03-20T00:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498056",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[`2d838a1`](https://github.com/sagemath/sagetrac-mirror/commit/2d838a1bf517ae3e2f4241d048560f87d2e49703)** to **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)**



---

archive/issue_comments_498057.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nerr...that didn't fix the merge conflict. Try this one.",
    "created_at": "2021-03-20T00:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498057",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:31" align="right">comment:31</div>

err...that didn't fix the merge conflict. Try this one.



---

archive/issue_events_425466.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-22T15:53:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425466"
}
```



---

archive/issue_events_425467.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-03-22T15:53:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425467"
}
```



---

archive/issue_comments_498058.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nred branch => needs work",
    "created_at": "2021-03-22T15:53:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498058",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

red branch => needs work



---

archive/issue_comments_498059.json:
```json
{
    "body": "Changed commit from **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)** to **[`abc6978`](https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2)**",
    "created_at": "2021-03-22T18:01:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498059",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ea29310`](https://github.com/sagemath/sagetrac-mirror/commit/ea29310ef2775664262c712c5f2256c469b447f3)** to **[`abc6978`](https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2)**



---

archive/issue_comments_498060.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2\"><code>abc6978</code></a></td><td><code>Merge branch 'master' into t/31083/good_reduction_fix</code></td></tr></table>\n",
    "created_at": "2021-03-22T18:01:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498060",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2"><code>abc6978</code></a></td><td><code>Merge branch 'master' into t/31083/good_reduction_fix</code></td></tr></table>




---

archive/issue_comments_498061.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nApparently I failed to commit the merge conflict fix. I've done so now.",
    "created_at": "2021-03-22T19:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498061",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:34" align="right">comment:34</div>

Apparently I failed to commit the merge conflict fix. I've done so now.



---

archive/issue_events_425468.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-03-22T19:06:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425468"
}
```



---

archive/issue_events_425469.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-03-22T19:06:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425469"
}
```



---

archive/issue_comments_498062.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nping",
    "created_at": "2021-03-28T00:11:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498062",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:35" align="right">comment:35</div>

ping



---

archive/issue_events_425470.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-28T20:52:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425470"
}
```



---

archive/issue_events_425471.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-03-28T20:52:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425471"
}
```



---

archive/issue_comments_498063.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nLooks good. Hopefully that resolves this merge conflict",
    "created_at": "2021-03-28T20:52:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498063",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:36" align="right">comment:36</div>

Looks good. Hopefully that resolves this merge conflict



---

archive/issue_comments_498064.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nmilestone to 9.4, as 9.3 has been released",
    "created_at": "2021-05-10T11:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498064",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:37" align="right">comment:37</div>

milestone to 9.4, as 9.3 has been released



---

archive/issue_events_425472.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-10T11:05:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425472"
}
```



---

archive/issue_events_425473.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-10T11:05:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425473"
}
```



---

archive/issue_comments_498065.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n\n```\n             return gccc, m * mc * mc2, psi\n         return gccc\n \n-    def potential_good_reduction(self, prime):\n+    def potential_good_reduction(self, prime, return_conjugation=False):\n         r\"\"\"\n-        Return if this dynamical system has potential good reduction at ``prime``.\n+        Return ``True`` if this dynamical system has potential good reduction at ``prime``.\n \n         A dynamical system has good reduction at ``prime`` if after the coefficients\n```\nIn light of the discussion in #32205, this could proactively be changed to \n`def potential_good_reduction(self, prime, *, return_conjugation=False)`, to declare `return_conjugation` to be a keyword-only argument.",
    "created_at": "2021-07-24T18:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498065",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>


```
             return gccc, m * mc * mc2, psi
         return gccc
 
-    def potential_good_reduction(self, prime):
+    def potential_good_reduction(self, prime, return_conjugation=False):
         r"""
-        Return if this dynamical system has potential good reduction at ``prime``.
+        Return ``True`` if this dynamical system has potential good reduction at ``prime``.
 
         A dynamical system has good reduction at ``prime`` if after the coefficients
```
In light of the discussion in #32205, this could proactively be changed to 
`def potential_good_reduction(self, prime, *, return_conjugation=False)`, to declare `return_conjugation` to be a keyword-only argument.



---

archive/issue_events_425474.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T18:43:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425474"
}
```



---

archive/issue_events_425475.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T18:43:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425475"
}
```



---

archive/issue_comments_498066.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nPromoting 5 tickets that fix defects to \"major\" so that they have a chance to get merged",
    "created_at": "2021-07-24T18:43:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498066",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

Promoting 5 tickets that fix defects to "major" so that they have a chance to get merged



---

archive/issue_events_425476.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-25T13:27:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425476"
}
```



---

archive/issue_events_425477.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "933e642de4c29fc915b27be27a53109d0efc21d4",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-07-25T13:27:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31083#event-425477"
}
```



---

archive/issue_comments_498067.json:
```json
{
    "body": "Changed branch from **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)** to **[`abc6978`](https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2)**",
    "created_at": "2021-07-25T13:27:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31083#issuecomment-498067",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/bhutz/good_reduction_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/good_reduction_fix)** to **[`abc6978`](https://github.com/sagemath/sagetrac-mirror/commit/abc6978d1ba197ecba2a5f2129d6950fe96cf0a2)**
