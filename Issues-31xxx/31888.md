# Issue 31888: Fixes to src/setup.py (used when configure --enable-editable is used)

archive/issues_031651.json:
```json
{
    "body": "Fixes:\n\n- Include submodules in `find_namespace_packages`: Without this, only the extensions and top level .py files are installed and .py files in submodules are not installed.\n\n- Do not catch and ignore build errors\n\n\n\n\nCC:  @mkoeppe @tobiasdiez @kliem\n\nBranch/Commit: cca587d298600ba6cc2a0172788bce2805540f1d\n\nReviewer: Jonathan Kliem\n\nAuthor: Isuru Fernando, Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31888\n\n",
    "closed_at": "2021-06-20T08:14:42Z",
    "created_at": "2021-05-31T20:04:55Z",
    "labels": [
        "component: build",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Fixes to src/setup.py (used when configure --enable-editable is used)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31888",
    "user": "https://github.com/isuruf"
}
```
Fixes:

- Include submodules in `find_namespace_packages`: Without this, only the extensions and top level .py files are installed and .py files in submodules are not installed.

- Do not catch and ignore build errors




CC:  @mkoeppe @tobiasdiez @kliem

Branch/Commit: cca587d298600ba6cc2a0172788bce2805540f1d

Reviewer: Jonathan Kliem

Author: Isuru Fernando, Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31888





---

archive/issue_comments_451463.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-31T20:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451463",
    "user": "https://github.com/isuruf"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_451464.json:
```json
{
    "body": "<a id='comment:2'></a>`src/setup.py` is used by the Sage distribution only when `configure --enable-editable`  has been used, which has not seen much testing yet.",
    "created_at": "2021-05-31T20:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451464",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>`src/setup.py` is used by the Sage distribution only when `configure --enable-editable`  has been used, which has not seen much testing yet.



---

archive/issue_comments_451465.json:
```json
{
    "body": "<a id='comment:3'></a>For distribution packaging, use `build/pkgs/sagelib/src/setup.py`",
    "created_at": "2021-05-31T20:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451465",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>For distribution packaging, use `build/pkgs/sagelib/src/setup.py`



---

archive/issue_comments_451466.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2021-06-19T21:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451466",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_451467.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-19T22:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451467",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_451468.json:
```json
{
    "body": "<a id='comment:8'></a>LGTM.",
    "created_at": "2021-06-19T22:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451468",
    "user": "https://github.com/kliem"
}
```

<a id='comment:8'></a>LGTM.



---

archive/issue_comments_451469.json:
```json
{
    "body": "<a id='comment:9'></a>Thanks!",
    "created_at": "2021-06-19T22:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451469",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>Thanks!



---

archive/issue_comments_451470.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-20T08:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31888#issuecomment-451470",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084228.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-20T08:14:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31888",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31888#event-84228"
}
```
