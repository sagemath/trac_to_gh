# Issue 31102: oeis(217) fails

archive/issues_030865.json:
```json
{
    "body": "\n```\nsage: oeis(217)\n<repr(<sage.databases.oeis.OEISSequence at 0x7f4b012ac2b0>) failed: IndexError: string index out of range>\n```\n\nKeywords: oeis\n\nUpstream: Completely fixed; Fix reported upstream\n\nReviewer: Thierry Monteil\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/31102\n\n",
    "closed_at": "2021-05-28T11:35:01Z",
    "created_at": "2020-12-23T13:03:19Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "oeis(217) fails",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31102",
    "user": "https://github.com/mantepse"
}
```

```
sage: oeis(217)
<repr(<sage.databases.oeis.OEISSequence at 0x7f4b012ac2b0>) failed: IndexError: string index out of range>
```

Keywords: oeis

Upstream: Completely fixed; Fix reported upstream

Reviewer: Thierry Monteil

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/31102





---

archive/issue_comments_609472.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/oeis_217__fails\"",
    "created_at": "2020-12-23T13:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609472",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/oeis_217__fails"



---

archive/issue_comments_609473.json:
```json
{
    "body": "Changing commit from \"\" to \"38989c57a9d89b1c0be4a5ac8c30a497c629cec4\"",
    "created_at": "2020-12-23T13:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609473",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "38989c57a9d89b1c0be4a5ac8c30a497c629cec4"



---

archive/issue_comments_609474.json:
```json
{
    "body": "<a id='comment:2'></a>\nEasy fix, but I'm not quite convinced.\n\n---\nNew commits:\n|                                                                                                                                          |                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[38989c5](https://github.com/sagemath/sagetrac-mirror/commit/38989c57a9d89b1c0be4a5ac8c30a497c629cec4)|`allow for empty lines`|",
    "created_at": "2020-12-23T13:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609474",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'></a>
Easy fix, but I'm not quite convinced.

---
New commits:
|                                                                                                                                          |                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[38989c5](https://github.com/sagemath/sagetrac-mirror/commit/38989c57a9d89b1c0be4a5ac8c30a497c629cec4)|`allow for empty lines`|



---

archive/issue_comments_609475.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe bug comes from the oeis database, see the weird invisible character `\u00e2\ufffd\u00a8` at the end of the line `%Y A000217 A011782 counts compositions of any length.` of the page https://oeis.org/search?q=A000217&n=1&fmt=text\n\nI think it is better to fix upstream database and keep some pressure on its quality instead of silently working around this typo on our side.\n\nI am requesting an account on oeis to fix it.",
    "created_at": "2020-12-23T18:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609475",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:3'></a>
The bug comes from the oeis database, see the weird invisible character `â�¨` at the end of the line `%Y A000217 A011782 counts compositions of any length.` of the page https://oeis.org/search?q=A000217&n=1&fmt=text

I think it is better to fix upstream database and keep some pressure on its quality instead of silently working around this typo on our side.

I am requesting an account on oeis to fix it.



---

archive/issue_comments_609476.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Not yet reported upstream; Will do shortly.\"",
    "created_at": "2020-12-23T18:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609476",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing upstream from "N/A" to "Not yet reported upstream; Will do shortly."



---

archive/issue_comments_609477.json:
```json
{
    "body": "<a id='comment:4'></a>\nI just submitted a fix upstream.",
    "created_at": "2020-12-23T19:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609477",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:4'></a>
I just submitted a fix upstream.



---

archive/issue_comments_609478.json:
```json
{
    "body": "Changing upstream from \"Not yet reported upstream; Will do shortly.\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2020-12-23T19:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609478",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing upstream from "Not yet reported upstream; Will do shortly." to "Reported upstream. No feedback yet."



---

archive/issue_comments_609479.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Completely fixed; Fix reported upstream\"",
    "created_at": "2020-12-23T20:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609479",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Completely fixed; Fix reported upstream"



---

archive/issue_comments_609480.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe change was accepted, so it works now. I think we should close the ticket without requesting your branch to be merged, what do you think ?",
    "created_at": "2020-12-23T20:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609480",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:5'></a>
The change was accepted, so it works now. I think we should close the ticket without requesting your branch to be merged, what do you think ?



---

archive/issue_comments_609481.json:
```json
{
    "body": "<a id='comment:6'></a>\nWas this particular sequence fixed, or was the phenomenon fixed altogether?",
    "created_at": "2020-12-23T20:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609481",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
Was this particular sequence fixed, or was the phenomenon fixed altogether?



---

archive/issue_comments_609482.json:
```json
{
    "body": "<a id='comment:7'></a>\nI just removed the wrong character, i do not have access to the whole database, so i can not say if such a typo exists elsewhere in the database.",
    "created_at": "2020-12-23T21:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609482",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:7'></a>
I just removed the wrong character, i do not have access to the whole database, so i can not say if such a typo exists elsewhere in the database.



---

archive/issue_events_099434.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-99434"
}
```



---

archive/issue_comments_609483.json:
```json
{
    "body": "<a id='comment:8'></a>\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609483",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_comments_609484.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-28T07:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609484",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_events_099435.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-28T07:22:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-99435"
}
```



---

archive/issue_events_099436.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-28T07:22:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-99436"
}
```



---

archive/issue_comments_609485.json:
```json
{
    "body": "<a id='comment:9'></a>\npropose to close as invalid",
    "created_at": "2021-05-28T07:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609485",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
propose to close as invalid



---

archive/issue_comments_609486.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Thierry Monteil\"",
    "created_at": "2021-05-28T10:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609486",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing reviewer from "" to "Thierry Monteil"



---

archive/issue_comments_609487.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-28T10:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609487",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_609488.json:
```json
{
    "body": "Changing branch from \"u/mantepse/oeis_217__fails\" to \"\"",
    "created_at": "2021-05-28T10:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609488",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing branch from "u/mantepse/oeis_217__fails" to ""



---

archive/issue_comments_609489.json:
```json
{
    "body": "Changing commit from \"38989c57a9d89b1c0be4a5ac8c30a497c629cec4\" to \"\"",
    "created_at": "2021-05-28T10:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609489",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing commit from "38989c57a9d89b1c0be4a5ac8c30a497c629cec4" to ""



---

archive/issue_events_099437.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-28T11:35:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-99437"
}
```



---

archive/issue_comments_609490.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-05-28T11:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-609490",
    "user": "https://github.com/fchapoton"
}
```

Resolution: invalid
