# Issue 31102: oeis(217) fails

archive/issues_030865.json:
```json
{
    "body": "```\nsage: oeis(217)\n<repr(<sage.databases.oeis.OEISSequence at 0x7f4b012ac2b0>) failed: IndexError: string index out of range>\n```\n\nKeywords: oeis\n\nUpstream: Completely fixed; Fix reported upstream\n\nReviewer: Thierry Monteil\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/31102\n\n",
    "closed_at": "2021-05-28T11:35:01Z",
    "created_at": "2020-12-23T13:03:19Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "oeis(217) fails",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31102",
    "user": "https://github.com/mantepse"
}
```
```
sage: oeis(217)
<repr(<sage.databases.oeis.OEISSequence at 0x7f4b012ac2b0>) failed: IndexError: string index out of range>
```

Keywords: oeis

Upstream: Completely fixed; Fix reported upstream

Reviewer: Thierry Monteil

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/31102





---

archive/issue_comments_470627.json:
```json
{
    "body": "<a id='comment:2'></a>Easy fix, but I'm not quite convinced.\n\n---\nNew commits:",
    "created_at": "2020-12-23T13:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470627",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'></a>Easy fix, but I'm not quite convinced.

---
New commits:



---

archive/issue_comments_470628.json:
```json
{
    "body": "<a id='comment:3'></a>The bug comes from the oeis database, see the weird invisible character `\u00e2\ufffd\u00a8` at the end of the line `%Y A000217 A011782 counts compositions of any length.` of the page https://oeis.org/search?q=A000217&n=1&fmt=text\n\nI think it is better to fix upstream database and keep some pressure on its quality instead of silently working around this typo on our side.\n\nI am requesting an account on oeis to fix it.",
    "created_at": "2020-12-23T18:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470628",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:3'></a>The bug comes from the oeis database, see the weird invisible character `â�¨` at the end of the line `%Y A000217 A011782 counts compositions of any length.` of the page https://oeis.org/search?q=A000217&n=1&fmt=text

I think it is better to fix upstream database and keep some pressure on its quality instead of silently working around this typo on our side.

I am requesting an account on oeis to fix it.



---

archive/issue_comments_470629.json:
```json
{
    "body": "<a id='comment:4'></a>I just submitted a fix upstream.",
    "created_at": "2020-12-23T19:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470629",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:4'></a>I just submitted a fix upstream.



---

archive/issue_comments_470630.json:
```json
{
    "body": "<a id='comment:5'></a>The change was accepted, so it works now. I think we should close the ticket without requesting your branch to be merged, what do you think ?",
    "created_at": "2020-12-23T20:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470630",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:5'></a>The change was accepted, so it works now. I think we should close the ticket without requesting your branch to be merged, what do you think ?



---

archive/issue_comments_470631.json:
```json
{
    "body": "<a id='comment:6'></a>Was this particular sequence fixed, or was the phenomenon fixed altogether?",
    "created_at": "2020-12-23T20:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470631",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>Was this particular sequence fixed, or was the phenomenon fixed altogether?



---

archive/issue_comments_470632.json:
```json
{
    "body": "<a id='comment:7'></a>I just removed the wrong character, i do not have access to the whole database, so i can not say if such a typo exists elsewhere in the database.",
    "created_at": "2020-12-23T21:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470632",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:7'></a>I just removed the wrong character, i do not have access to the whole database, so i can not say if such a typo exists elsewhere in the database.



---

archive/issue_events_081246.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-81246"
}
```



---

archive/issue_comments_470633.json:
```json
{
    "body": "<a id='comment:8'></a>Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470633",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_comments_470634.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-28T07:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470634",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_events_081247.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-28T07:22:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-81247"
}
```



---

archive/issue_events_081248.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-28T07:22:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-81248"
}
```



---

archive/issue_comments_470635.json:
```json
{
    "body": "<a id='comment:9'></a>propose to close as invalid",
    "created_at": "2021-05-28T07:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470635",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>propose to close as invalid



---

archive/issue_comments_470636.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-28T10:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470636",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_081249.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-05-28T11:35:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31102#event-81249"
}
```



---

archive/issue_comments_470637.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-05-28T11:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31102#issuecomment-470637",
    "user": "https://github.com/fchapoton"
}
```

Resolution: invalid
