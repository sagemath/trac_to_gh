# Issue 31764: ManifoldSubset: union, intersection, declare_{union,intersection} with arbitrary number of arguments

archive/issues_031527.json:
```json
{
    "body": "In this ticket, we extend `union` and `declare_union` as follows:\n- support more than two arguments \n- optional argument `disjoint`\n- support 0 arguments (`declare_union` is the same as `declare_empty()`)\n- support 1 argument (`declare_union` is the same as `declare_equal(other)`)\n\nLikewise, we extend `declare_intersection` and `intersection`.\n\nWe also introduce\n- `declare_disjoint(other)` - same as `self.intersection(other).declare_empty()`\n\n\nCC:  @egourgoulhon @mjungmath\n\nBranch/Commit: 582b58d232329d0c51cb408b426fe04d30e0722a\n\nReviewer: Eric Gourgoulhon\n\nAuthor: Matthias Koeppe\n\nDependencies: #31680, #31718, #31727, #31732, #31736, #31763, #31880\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31764\n\n",
    "closed_at": "2021-06-21T21:17:22Z",
    "created_at": "2021-05-02T20:34:43Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "ManifoldSubset: union, intersection, declare_{union,intersection} with arbitrary number of arguments",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31764",
    "user": "https://github.com/mkoeppe"
}
```
In this ticket, we extend `union` and `declare_union` as follows:
- support more than two arguments 
- optional argument `disjoint`
- support 0 arguments (`declare_union` is the same as `declare_empty()`)
- support 1 argument (`declare_union` is the same as `declare_equal(other)`)

Likewise, we extend `declare_intersection` and `intersection`.

We also introduce
- `declare_disjoint(other)` - same as `self.intersection(other).declare_empty()`


CC:  @egourgoulhon @mjungmath

Branch/Commit: 582b58d232329d0c51cb408b426fe04d30e0722a

Reviewer: Eric Gourgoulhon

Author: Matthias Koeppe

Dependencies: #31680, #31718, #31727, #31732, #31736, #31763, #31880

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31764





---

archive/issue_comments_631740.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/manifoldsubset__union__intersection__declare__union_intersection__with_arbitrary_number_of_arguments\"",
    "created_at": "2021-05-02T23:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631740",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/manifoldsubset__union__intersection__declare__union_intersection__with_arbitrary_number_of_arguments"



---

archive/issue_comments_631741.json:
```json
{
    "body": "Changing commit from \"\" to \"a08356971af378cabec7cd5a51be8e597ea77a67\"",
    "created_at": "2021-05-02T23:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631741",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "a08356971af378cabec7cd5a51be8e597ea77a67"



---

archive/issue_comments_631742.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-02T23:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631742",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_631743.json:
```json
{
    "body": "<a id='comment:2'></a>Last 10 new commits:",
    "created_at": "2021-05-02T23:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631743",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Last 10 new commits:



---

archive/issue_comments_631744.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-05-02T23:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631744",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_631745.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-08T19:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_631746.json:
```json
{
    "body": "Changing commit from \"a08356971af378cabec7cd5a51be8e597ea77a67\" to \"da9165368b08b0115c6e141641a8282f1dcf9f5a\"",
    "created_at": "2021-05-08T19:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631746",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a08356971af378cabec7cd5a51be8e597ea77a67" to "da9165368b08b0115c6e141641a8282f1dcf9f5a"



---

archive/issue_comments_631747.json:
```json
{
    "body": "<a id='comment:4'></a>Doctests are missing for the methods `_reduce_intersection_members`, `_intersection_subset`, `_reduce_union_members` and `_union_subset`.",
    "created_at": "2021-05-10T14:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631747",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>Doctests are missing for the methods `_reduce_intersection_members`, `_intersection_subset`, `_reduce_union_members` and `_union_subset`.



---

archive/issue_comments_631748.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-05-10T18:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631748",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_631749.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T22:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_631750.json:
```json
{
    "body": "Changing commit from \"da9165368b08b0115c6e141641a8282f1dcf9f5a\" to \"ee4efc9ad51725bd500380a86333eb8a69e63311\"",
    "created_at": "2021-05-11T22:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "da9165368b08b0115c6e141641a8282f1dcf9f5a" to "ee4efc9ad51725bd500380a86333eb8a69e63311"



---

archive/issue_comments_631751.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-11T22:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631751",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_631752.json:
```json
{
    "body": "<a id='comment:8'></a>What about the Pyflakes error? (local variable 'old' is assigned to but never used)",
    "created_at": "2021-05-12T20:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631752",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'></a>What about the Pyflakes error? (local variable 'old' is assigned to but never used)



---

archive/issue_comments_631753.json:
```json
{
    "body": "Changing commit from \"ee4efc9ad51725bd500380a86333eb8a69e63311\" to \"6bbd4ae1295dbc7301571abddccb0e6c7487565d\"",
    "created_at": "2021-05-12T20:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee4efc9ad51725bd500380a86333eb8a69e63311" to "6bbd4ae1295dbc7301571abddccb0e6c7487565d"



---

archive/issue_comments_631754.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-12T20:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_631755.json:
```json
{
    "body": "<a id='comment:10'></a>Ready for review. The error indicated by the patchbot is unrelated to this ticket",
    "created_at": "2021-05-16T16:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631755",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Ready for review. The error indicated by the patchbot is unrelated to this ticket



---

archive/issue_comments_631756.json:
```json
{
    "body": "<a id='comment:11'></a>Well, pyflakes is still not happy, despite[comment:9](#comment%3A9) commit.",
    "created_at": "2021-05-17T09:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631756",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:11'></a>Well, pyflakes is still not happy, despite[comment:9](#comment%3A9) commit.



---

archive/issue_comments_631757.json:
```json
{
    "body": "Changing commit from \"6bbd4ae1295dbc7301571abddccb0e6c7487565d\" to \"2d7fda7417de199893f5b58c2e38c5096fbdb5d9\"",
    "created_at": "2021-05-17T16:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631757",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6bbd4ae1295dbc7301571abddccb0e6c7487565d" to "2d7fda7417de199893f5b58c2e38c5096fbdb5d9"



---

archive/issue_comments_631758.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-17T16:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_631759.json:
```json
{
    "body": "<a id='comment:13'></a>Indeed... thanks for your patience",
    "created_at": "2021-05-17T17:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631759",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Indeed... thanks for your patience



---

archive/issue_comments_631760.json:
```json
{
    "body": "<a id='comment:14'></a>Sorry for the delay. LGTM. Thanks for this improvement!",
    "created_at": "2021-05-19T08:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631760",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:14'></a>Sorry for the delay. LGTM. Thanks for this improvement!



---

archive/issue_comments_631761.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Eric Gourgoulhon\"",
    "created_at": "2021-05-19T08:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631761",
    "user": "https://github.com/egourgoulhon"
}
```

Changing reviewer from "" to "Eric Gourgoulhon"



---

archive/issue_comments_631762.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-19T08:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631762",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_631763.json:
```json
{
    "body": "<a id='comment:15'></a>Thank you!",
    "created_at": "2021-05-19T15:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631763",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>Thank you!



---

archive/issue_comments_631764.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-06-19T18:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_631765.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-06-19T18:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_631766.json:
```json
{
    "body": "Changing commit from \"2d7fda7417de199893f5b58c2e38c5096fbdb5d9\" to \"0e9e5cd36a4cefe81308f69429c214a4a51ab245\"",
    "created_at": "2021-06-19T18:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2d7fda7417de199893f5b58c2e38c5096fbdb5d9" to "0e9e5cd36a4cefe81308f69429c214a4a51ab245"



---

archive/issue_comments_631767.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-19T18:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_631768.json:
```json
{
    "body": "Changing commit from \"0e9e5cd36a4cefe81308f69429c214a4a51ab245\" to \"a96f736b857b095ea72398bf7571936b16f7d1b8\"",
    "created_at": "2021-06-19T18:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631768",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e9e5cd36a4cefe81308f69429c214a4a51ab245" to "a96f736b857b095ea72398bf7571936b16f7d1b8"



---

archive/issue_comments_631769.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-19T18:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631769",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_631770.json:
```json
{
    "body": "Changing commit from \"a96f736b857b095ea72398bf7571936b16f7d1b8\" to \"582b58d232329d0c51cb408b426fe04d30e0722a\"",
    "created_at": "2021-06-19T18:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631770",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a96f736b857b095ea72398bf7571936b16f7d1b8" to "582b58d232329d0c51cb408b426fe04d30e0722a"



---

archive/issue_comments_631771.json:
```json
{
    "body": "<a id='comment:19'></a>Trivial merge with updated tickets, includes latest beta.",
    "created_at": "2021-06-19T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631771",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>Trivial merge with updated tickets, includes latest beta.



---

archive/issue_comments_631772.json:
```json
{
    "body": "Changing dependencies from \"#31680, #31718, #31677, #31727, #31732, #31736, #31763\" to \"#31680, #31718, #31727, #31732, #31736, #31763\"",
    "created_at": "2021-06-19T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631772",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31680, #31718, #31677, #31727, #31732, #31736, #31763" to "#31680, #31718, #31727, #31732, #31736, #31763"



---

archive/issue_comments_631773.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-19T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631773",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_631774.json:
```json
{
    "body": "Changing dependencies from \"#31680, #31718, #31727, #31732, #31736, #31763\" to \"#31680, #31718, #31727, #31732, #31736, #31763, #31880\"",
    "created_at": "2021-06-20T15:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631774",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31680, #31718, #31727, #31732, #31736, #31763" to "#31680, #31718, #31727, #31732, #31736, #31763, #31880"



---

archive/issue_events_083835.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-21T21:17:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31764#event-83835"
}
```



---

archive/issue_comments_631775.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/manifoldsubset__union__intersection__declare__union_intersection__with_arbitrary_number_of_arguments\" to \"582b58d232329d0c51cb408b426fe04d30e0722a\"",
    "created_at": "2021-06-21T21:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631775",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/manifoldsubset__union__intersection__declare__union_intersection__with_arbitrary_number_of_arguments" to "582b58d232329d0c51cb408b426fe04d30e0722a"



---

archive/issue_comments_631776.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-21T21:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-631776",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
