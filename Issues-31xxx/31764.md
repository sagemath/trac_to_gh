# Issue 31764: ManifoldSubset: union, intersection, declare_{union,intersection} with arbitrary number of arguments

archive/issues_031527.json:
```json
{
    "body": "In this ticket, we extend `union` and `declare_union` as follows:\n- support more than two arguments \n- optional argument `disjoint`\n- support 0 arguments (`declare_union` is the same as `declare_empty()`)\n- support 1 argument (`declare_union` is the same as `declare_equal(other)`)\n\nLikewise, we extend `declare_intersection` and `intersection`.\n\nWe also introduce\n- `declare_disjoint(other)` - same as `self.intersection(other).declare_empty()`\n\n\nCC:  @egourgoulhon @mjungmath\n\nBranch/Commit: 582b58d232329d0c51cb408b426fe04d30e0722a\n\nReviewer: Eric Gourgoulhon\n\nAuthor: Matthias Koeppe\n\nDependencies: #31680, #31718, #31727, #31732, #31736, #31763, #31880\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31764\n\n",
    "closed_at": "2021-06-21T21:17:22Z",
    "created_at": "2021-05-02T20:34:43Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "ManifoldSubset: union, intersection, declare_{union,intersection} with arbitrary number of arguments",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31764",
    "user": "https://github.com/mkoeppe"
}
```
In this ticket, we extend `union` and `declare_union` as follows:
- support more than two arguments 
- optional argument `disjoint`
- support 0 arguments (`declare_union` is the same as `declare_empty()`)
- support 1 argument (`declare_union` is the same as `declare_equal(other)`)

Likewise, we extend `declare_intersection` and `intersection`.

We also introduce
- `declare_disjoint(other)` - same as `self.intersection(other).declare_empty()`


CC:  @egourgoulhon @mjungmath

Branch/Commit: 582b58d232329d0c51cb408b426fe04d30e0722a

Reviewer: Eric Gourgoulhon

Author: Matthias Koeppe

Dependencies: #31680, #31718, #31727, #31732, #31736, #31763, #31880

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31764





---

archive/issue_comments_481109.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-05-02T23:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481109",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_481110.json:
```json
{
    "body": "<a id='comment:2'></a>Last 10 new commits:",
    "created_at": "2021-05-02T23:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481110",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Last 10 new commits:



---

archive/issue_comments_481111.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-08T19:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481112.json:
```json
{
    "body": "<a id='comment:4'></a>Doctests are missing for the methods `_reduce_intersection_members`, `_intersection_subset`, `_reduce_union_members` and `_union_subset`.",
    "created_at": "2021-05-10T14:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481112",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>Doctests are missing for the methods `_reduce_intersection_members`, `_intersection_subset`, `_reduce_union_members` and `_union_subset`.



---

archive/issue_comments_481113.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-05-10T18:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481113",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_481114.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T22:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481115.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-11T22:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481115",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_481116.json:
```json
{
    "body": "<a id='comment:8'></a>What about the Pyflakes error? (local variable 'old' is assigned to but never used)",
    "created_at": "2021-05-12T20:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481116",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'></a>What about the Pyflakes error? (local variable 'old' is assigned to but never used)



---

archive/issue_comments_481117.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-12T20:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481117",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481118.json:
```json
{
    "body": "<a id='comment:10'></a>Ready for review. The error indicated by the patchbot is unrelated to this ticket",
    "created_at": "2021-05-16T16:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481118",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Ready for review. The error indicated by the patchbot is unrelated to this ticket



---

archive/issue_comments_481119.json:
```json
{
    "body": "<a id='comment:11'></a>Well, pyflakes is still not happy, despite comment:9 commit.",
    "created_at": "2021-05-17T09:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481119",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:11'></a>Well, pyflakes is still not happy, despite comment:9 commit.



---

archive/issue_comments_481120.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-17T16:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481120",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481121.json:
```json
{
    "body": "<a id='comment:13'></a>Indeed... thanks for your patience",
    "created_at": "2021-05-17T17:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481121",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Indeed... thanks for your patience



---

archive/issue_comments_481122.json:
```json
{
    "body": "<a id='comment:14'></a>Sorry for the delay. LGTM. Thanks for this improvement!",
    "created_at": "2021-05-19T08:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481122",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:14'></a>Sorry for the delay. LGTM. Thanks for this improvement!



---

archive/issue_comments_481123.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-19T08:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481123",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_481124.json:
```json
{
    "body": "<a id='comment:15'></a>Thank you!",
    "created_at": "2021-05-19T15:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481124",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>Thank you!



---

archive/issue_comments_481125.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-06-19T18:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481125",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_481126.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-06-19T18:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481126",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_481127.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-19T18:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481127",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481128.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-19T18:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_481129.json:
```json
{
    "body": "<a id='comment:19'></a>Trivial merge with updated tickets, includes latest beta.",
    "created_at": "2021-06-19T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481129",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>Trivial merge with updated tickets, includes latest beta.



---

archive/issue_comments_481130.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-19T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481130",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_083835.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-21T21:17:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31764#event-83835"
}
```



---

archive/issue_comments_481131.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-21T21:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31764",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31764#issuecomment-481131",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
