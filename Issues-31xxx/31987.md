# Issue 31987: Adding category options to Representations

archive/issues_031750.json:
```json
{
    "body": "Add the option to give a specific choice of category for the `Representation` class.\n\nCC:  @tscrim\n\nKeywords: gsoc2021 representation category\n\nBranch/Commit: 5351ebbfdd14067d008ae30b9acb76ba8bead936\n\nReviewer: Travis Scrimshaw\n\nAuthor: Trevor K. Karn\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31987\n\n",
    "closed_at": "2021-07-01T20:44:43Z",
    "created_at": "2021-06-15T18:42:57Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Adding category options to Representations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31987",
    "user": "https://github.com/trevorkarn"
}
```
Add the option to give a specific choice of category for the `Representation` class.

CC:  @tscrim

Keywords: gsoc2021 representation category

Branch/Commit: 5351ebbfdd14067d008ae30b9acb76ba8bead936

Reviewer: Travis Scrimshaw

Author: Trevor K. Karn

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31987





---

archive/issue_comments_636371.json:
```json
{
    "body": "Changing branch from \"\" to \"u/tkarn/add_category_argument_to_representations\"",
    "created_at": "2021-06-15T21:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636371",
    "user": "https://github.com/trevorkarn"
}
```

Changing branch from "" to "u/tkarn/add_category_argument_to_representations"



---

archive/issue_comments_636372.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|\n|[fafed31](https://git.sagemath.org/sage.git/commit?id=fafed318b79fd1fdba1b61aa1b794e39cc20c991)|`Add _mul_ to allow for algebras and add ability for Representation class to take category as a keyword argument.`|",
    "created_at": "2021-06-15T21:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636372",
    "user": "https://github.com/trevorkarn"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
|[fafed31](https://git.sagemath.org/sage.git/commit?id=fafed318b79fd1fdba1b61aa1b794e39cc20c991)|`Add _mul_ to allow for algebras and add ability for Representation class to take category as a keyword argument.`|



---

archive/issue_comments_636373.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-15T21:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636373",
    "user": "https://github.com/trevorkarn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_636374.json:
```json
{
    "body": "Changing commit from \"\" to \"fafed318b79fd1fdba1b61aa1b794e39cc20c991\"",
    "created_at": "2021-06-15T21:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636374",
    "user": "https://github.com/trevorkarn"
}
```

Changing commit from "" to "fafed318b79fd1fdba1b61aa1b794e39cc20c991"



---

archive/issue_comments_636375.json:
```json
{
    "body": "Changing keywords from \"gsoc representation category\" to \"gsoc2021 representation category\".",
    "created_at": "2021-06-17T02:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636375",
    "user": "https://github.com/trevorkarn"
}
```

Changing keywords from "gsoc representation category" to "gsoc2021 representation category".



---

archive/issue_comments_636376.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[e767248](https://git.sagemath.org/sage.git/commit/?id=e767248a97138680b8a25a971880cd8fb1cecfc5)|`Fix multiplication and add tests`|",
    "created_at": "2021-06-17T03:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[e767248](https://git.sagemath.org/sage.git/commit/?id=e767248a97138680b8a25a971880cd8fb1cecfc5)|`Fix multiplication and add tests`|



---

archive/issue_comments_636377.json:
```json
{
    "body": "Changing commit from \"fafed318b79fd1fdba1b61aa1b794e39cc20c991\" to \"e767248a97138680b8a25a971880cd8fb1cecfc5\"",
    "created_at": "2021-06-17T03:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fafed318b79fd1fdba1b61aa1b794e39cc20c991" to "e767248a97138680b8a25a971880cd8fb1cecfc5"



---

archive/issue_comments_636378.json:
```json
{
    "body": "<a id='comment:4'></a>\nLooks good overall, but I don't think your representation of C<sub>3</sub> on the exterior algebra has the group acting by ring automorphims. In particular, I would expect `g (x1 x2) = (g x1) (g x2) = x2 x0 = -x0 x2`, but your code yields `x0 x2`. First there is a more fundamental issue I had to fix:\n\n```diff\n-sage: on_basis = lambda g,m: E.monomial(tuple(g(i+1)-1 for i in m[0])) #cyclically permute generators\n+sage: on_basis = lambda g,m: M.monomial(tuple(g(i+1)-1 for i in m)) #cyclically permute generators\n```\nthen I get\n\n```\nsage: g = G.gen()\nsage: r = R.an_element(); r\n1 + 2*x0 + x0*x1 + 3*x1\nsage: g * r\n1 + 2*x1 + x1*x2 + 3*x2\nsage: g^2 * r\n1 + 3*x0 + 2*x2 + x2*x0\n```\nSo a little more care is needed with this doctest.\n\nAlso, PEP8 spacing:\n\n```diff\n-sage: R = Representation(G, M, on_basis, category = Algebras(QQ).WithBasis().FiniteDimensional())\n+sage: R = Representation(G, M, on_basis, category=Algebras(QQ).WithBasis().FiniteDimensional())\n```",
    "created_at": "2021-06-17T07:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636378",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Looks good overall, but I don't think your representation of C<sub>3</sub> on the exterior algebra has the group acting by ring automorphims. In particular, I would expect `g (x1 x2) = (g x1) (g x2) = x2 x0 = -x0 x2`, but your code yields `x0 x2`. First there is a more fundamental issue I had to fix:

```diff
-sage: on_basis = lambda g,m: E.monomial(tuple(g(i+1)-1 for i in m[0])) #cyclically permute generators
+sage: on_basis = lambda g,m: M.monomial(tuple(g(i+1)-1 for i in m)) #cyclically permute generators
```
then I get

```
sage: g = G.gen()
sage: r = R.an_element(); r
1 + 2*x0 + x0*x1 + 3*x1
sage: g * r
1 + 2*x1 + x1*x2 + 3*x2
sage: g^2 * r
1 + 3*x0 + 2*x2 + x2*x0
```
So a little more care is needed with this doctest.

Also, PEP8 spacing:

```diff
-sage: R = Representation(G, M, on_basis, category = Algebras(QQ).WithBasis().FiniteDimensional())
+sage: R = Representation(G, M, on_basis, category=Algebras(QQ).WithBasis().FiniteDimensional())
```



---

archive/issue_comments_636379.json:
```json
{
    "body": "Changing commit from \"e767248a97138680b8a25a971880cd8fb1cecfc5\" to \"374207fcc1597e811b9cc9b94790f56d17d36d97\"",
    "created_at": "2021-06-18T01:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636379",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e767248a97138680b8a25a971880cd8fb1cecfc5" to "374207fcc1597e811b9cc9b94790f56d17d36d97"



---

archive/issue_comments_636380.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|\n|[374207f](https://git.sagemath.org/sage.git/commit/?id=374207fcc1597e811b9cc9b94790f56d17d36d97)|`Fix cyclic action on generators of ExteriorAlgebra, add tests for the multiplication of group elements on the group algebra as a representation`|",
    "created_at": "2021-06-18T01:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636380",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
|[374207f](https://git.sagemath.org/sage.git/commit/?id=374207fcc1597e811b9cc9b94790f56d17d36d97)|`Fix cyclic action on generators of ExteriorAlgebra, add tests for the multiplication of group elements on the group algebra as a representation`|



---

archive/issue_comments_636381.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis change should be reverted for PEP8 spacing:\n\n```diff\n-            sage: R = Representation(G, A, action, 'left', category=category)\n+            sage: R = Representation(G, A, action, 'left', category = category)\n```\nYou can also simplify `tuple([g(j+1)-1])` -> `(g(j+1)-1,)`",
    "created_at": "2021-06-18T22:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636381",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
This change should be reverted for PEP8 spacing:

```diff
-            sage: R = Representation(G, A, action, 'left', category=category)
+            sage: R = Representation(G, A, action, 'left', category = category)
```
You can also simplify `tuple([g(j+1)-1])` -> `(g(j+1)-1,)`



---

archive/issue_comments_636382.json:
```json
{
    "body": "Changing commit from \"374207fcc1597e811b9cc9b94790f56d17d36d97\" to \"5351ebbfdd14067d008ae30b9acb76ba8bead936\"",
    "created_at": "2021-06-18T22:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "374207fcc1597e811b9cc9b94790f56d17d36d97" to "5351ebbfdd14067d008ae30b9acb76ba8bead936"



---

archive/issue_comments_636383.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[5351ebb](https://git.sagemath.org/sage.git/commit/?id=5351ebbfdd14067d008ae30b9acb76ba8bead936)|`Fix PEP8 spacing issue, simplify tuple`|",
    "created_at": "2021-06-18T22:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[5351ebb](https://git.sagemath.org/sage.git/commit/?id=5351ebbfdd14067d008ae30b9acb76ba8bead936)|`Fix PEP8 spacing issue, simplify tuple`|



---

archive/issue_comments_636384.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2021-06-21T23:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636384",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_636385.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-21T23:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636385",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_636386.json:
```json
{
    "body": "<a id='comment:8'></a>\nLGTM.",
    "created_at": "2021-06-21T23:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636386",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
LGTM.



---

archive/issue_comments_636387.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-01T20:44:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636387",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_636388.json:
```json
{
    "body": "Changing branch from \"u/tkarn/add_category_argument_to_representations\" to \"5351ebbfdd14067d008ae30b9acb76ba8bead936\"",
    "created_at": "2021-07-01T20:44:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31987#issuecomment-636388",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/tkarn/add_category_argument_to_representations" to "5351ebbfdd14067d008ae30b9acb76ba8bead936"



---

archive/issue_events_084587.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-01T20:44:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31987",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31987#event-84587"
}
```
