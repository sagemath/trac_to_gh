# Issue 31987: Adding category options to Representations

archive/issues_031750.json:
```json
{
    "assignees": [],
    "body": "Add the option to give a specific choice of category for the `Representation` class.\n\nCC:  @tscrim\n\nKeywords: **gsoc2021 representation category**\n\nBranch/Commit: **[5351ebb](https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Trevor K. Karn**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31987_\n\n",
    "closed_at": "2021-07-01T20:44:43Z",
    "created_at": "2021-06-15T18:42:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Adding category options to Representations",
    "type": "issue",
    "updated_at": "2021-07-01T20:44:43Z",
    "url": "https://github.com/sagemath/sage/issues/31987",
    "user": "https://github.com/trevorkarn"
}
```
Add the option to give a specific choice of category for the `Representation` class.

CC:  @tscrim

Keywords: **gsoc2021 representation category**

Branch/Commit: **[5351ebb](https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936)**

Reviewer: **Travis Scrimshaw**

Author: **Trevor K. Karn**

_Issue created by migration from https://trac.sagemath.org/ticket/31987_





---

archive/issue_events_422833.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-06-15T18:42:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422833"
}
```



---

archive/issue_events_422834.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-06-15T18:42:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422834"
}
```



---

archive/issue_events_422835.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-06-15T18:42:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422835"
}
```



---

archive/issue_events_422836.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-06-15T18:42:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422836"
}
```



---

archive/issue_comments_517840.json:
```json
{
    "body": "Branch: **[u/tkarn/add_category_argument_to_representations](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/add_category_argument_to_representations)**",
    "created_at": "2021-06-15T21:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517840",
    "user": "https://github.com/trevorkarn"
}
```

Branch: **[u/tkarn/add_category_argument_to_representations](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/add_category_argument_to_representations)**



---

archive/issue_comments_517841.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fafed318b79fd1fdba1b61aa1b794e39cc20c991\">fafed31</a></td><td><code>Add `_mul_` to allow for algebras and add ability for Representation class to take category as a keyword argument.</code></td></tr></table>\n",
    "created_at": "2021-06-15T21:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517841",
    "user": "https://github.com/trevorkarn"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fafed318b79fd1fdba1b61aa1b794e39cc20c991">fafed31</a></td><td><code>Add `_mul_` to allow for algebras and add ability for Representation class to take category as a keyword argument.</code></td></tr></table>




---

archive/issue_events_422837.json:
```json
{
    "actor": "https://github.com/trevorkarn",
    "created_at": "2021-06-15T21:23:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422837"
}
```



---

archive/issue_comments_517842.json:
```json
{
    "body": "Commit: **[fafed31](https://github.com/sagemath/sagetrac-mirror/commit/fafed318b79fd1fdba1b61aa1b794e39cc20c991)**",
    "created_at": "2021-06-15T21:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517842",
    "user": "https://github.com/trevorkarn"
}
```

Commit: **[fafed31](https://github.com/sagemath/sagetrac-mirror/commit/fafed318b79fd1fdba1b61aa1b794e39cc20c991)**



---

archive/issue_comments_517843.json:
```json
{
    "body": "Changed keywords from **gsoc representation category** to **gsoc2021 representation category**",
    "created_at": "2021-06-17T02:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517843",
    "user": "https://github.com/trevorkarn"
}
```

Changed keywords from **gsoc representation category** to **gsoc2021 representation category**



---

archive/issue_comments_517844.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e767248a97138680b8a25a971880cd8fb1cecfc5\">e767248</a></td><td><code>Fix multiplication and add tests</code></td></tr></table>\n",
    "created_at": "2021-06-17T03:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517844",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e767248a97138680b8a25a971880cd8fb1cecfc5">e767248</a></td><td><code>Fix multiplication and add tests</code></td></tr></table>




---

archive/issue_comments_517845.json:
```json
{
    "body": "Changed commit from **[fafed31](https://github.com/sagemath/sagetrac-mirror/commit/fafed318b79fd1fdba1b61aa1b794e39cc20c991)** to **[e767248](https://github.com/sagemath/sagetrac-mirror/commit/e767248a97138680b8a25a971880cd8fb1cecfc5)**",
    "created_at": "2021-06-17T03:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517845",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fafed31](https://github.com/sagemath/sagetrac-mirror/commit/fafed318b79fd1fdba1b61aa1b794e39cc20c991)** to **[e767248](https://github.com/sagemath/sagetrac-mirror/commit/e767248a97138680b8a25a971880cd8fb1cecfc5)**



---

archive/issue_comments_517846.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nLooks good overall, but I don't think your representation of C<sub>3</sub> on the exterior algebra has the group acting by ring automorphims. In particular, I would expect `g (x1 x2) = (g x1) (g x2) = x2 x0 = -x0 x2`, but your code yields `x0 x2`. First there is a more fundamental issue I had to fix:\n\n```diff\n-sage: on_basis = lambda g,m: E.monomial(tuple(g(i+1)-1 for i in m[0])) #cyclically permute generators\n+sage: on_basis = lambda g,m: M.monomial(tuple(g(i+1)-1 for i in m)) #cyclically permute generators\n```\nthen I get\n\n```\nsage: g = G.gen()\nsage: r = R.an_element(); r\n1 + 2*x0 + x0*x1 + 3*x1\nsage: g * r\n1 + 2*x1 + x1*x2 + 3*x2\nsage: g^2 * r\n1 + 3*x0 + 2*x2 + x2*x0\n```\nSo a little more care is needed with this doctest.\n\nAlso, PEP8 spacing:\n\n```diff\n-sage: R = Representation(G, M, on_basis, category = Algebras(QQ).WithBasis().FiniteDimensional())\n+sage: R = Representation(G, M, on_basis, category=Algebras(QQ).WithBasis().FiniteDimensional())\n```",
    "created_at": "2021-06-17T07:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517846",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">Comment 4</div>

Looks good overall, but I don't think your representation of C<sub>3</sub> on the exterior algebra has the group acting by ring automorphims. In particular, I would expect `g (x1 x2) = (g x1) (g x2) = x2 x0 = -x0 x2`, but your code yields `x0 x2`. First there is a more fundamental issue I had to fix:

```diff
-sage: on_basis = lambda g,m: E.monomial(tuple(g(i+1)-1 for i in m[0])) #cyclically permute generators
+sage: on_basis = lambda g,m: M.monomial(tuple(g(i+1)-1 for i in m)) #cyclically permute generators
```
then I get

```
sage: g = G.gen()
sage: r = R.an_element(); r
1 + 2*x0 + x0*x1 + 3*x1
sage: g * r
1 + 2*x1 + x1*x2 + 3*x2
sage: g^2 * r
1 + 3*x0 + 2*x2 + x2*x0
```
So a little more care is needed with this doctest.

Also, PEP8 spacing:

```diff
-sage: R = Representation(G, M, on_basis, category = Algebras(QQ).WithBasis().FiniteDimensional())
+sage: R = Representation(G, M, on_basis, category=Algebras(QQ).WithBasis().FiniteDimensional())
```



---

archive/issue_comments_517847.json:
```json
{
    "body": "Changed commit from **[e767248](https://github.com/sagemath/sagetrac-mirror/commit/e767248a97138680b8a25a971880cd8fb1cecfc5)** to **[374207f](https://github.com/sagemath/sagetrac-mirror/commit/374207fcc1597e811b9cc9b94790f56d17d36d97)**",
    "created_at": "2021-06-18T01:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517847",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e767248](https://github.com/sagemath/sagetrac-mirror/commit/e767248a97138680b8a25a971880cd8fb1cecfc5)** to **[374207f](https://github.com/sagemath/sagetrac-mirror/commit/374207fcc1597e811b9cc9b94790f56d17d36d97)**



---

archive/issue_comments_517848.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/374207fcc1597e811b9cc9b94790f56d17d36d97\">374207f</a></td><td><code>Fix cyclic action on generators of ExteriorAlgebra, add tests for the multiplication of group elements on the group algebra as a representation</code></td></tr></table>\n",
    "created_at": "2021-06-18T01:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517848",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/374207fcc1597e811b9cc9b94790f56d17d36d97">374207f</a></td><td><code>Fix cyclic action on generators of ExteriorAlgebra, add tests for the multiplication of group elements on the group algebra as a representation</code></td></tr></table>




---

archive/issue_comments_517849.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThis change should be reverted for PEP8 spacing:\n\n```diff\n-            sage: R = Representation(G, A, action, 'left', category=category)\n+            sage: R = Representation(G, A, action, 'left', category = category)\n```\nYou can also simplify `tuple([g(j+1)-1])` -> `(g(j+1)-1,)`",
    "created_at": "2021-06-18T22:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517849",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

This change should be reverted for PEP8 spacing:

```diff
-            sage: R = Representation(G, A, action, 'left', category=category)
+            sage: R = Representation(G, A, action, 'left', category = category)
```
You can also simplify `tuple([g(j+1)-1])` -> `(g(j+1)-1,)`



---

archive/issue_comments_517850.json:
```json
{
    "body": "Changed commit from **[374207f](https://github.com/sagemath/sagetrac-mirror/commit/374207fcc1597e811b9cc9b94790f56d17d36d97)** to **[5351ebb](https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936)**",
    "created_at": "2021-06-18T22:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517850",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[374207f](https://github.com/sagemath/sagetrac-mirror/commit/374207fcc1597e811b9cc9b94790f56d17d36d97)** to **[5351ebb](https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936)**



---

archive/issue_comments_517851.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936\">5351ebb</a></td><td><code>Fix PEP8 spacing issue, simplify tuple</code></td></tr></table>\n",
    "created_at": "2021-06-18T22:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517851",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936">5351ebb</a></td><td><code>Fix PEP8 spacing issue, simplify tuple</code></td></tr></table>




---

archive/issue_comments_517852.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-06-21T23:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517852",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_422838.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-06-21T23:03:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422838"
}
```



---

archive/issue_events_422839.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-06-21T23:03:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422839"
}
```



---

archive/issue_comments_517853.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nLGTM.",
    "created_at": "2021-06-21T23:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517853",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">Comment 8</div>

LGTM.



---

archive/issue_comments_517854.json:
```json
{
    "body": "Changed branch from **[u/tkarn/add_category_argument_to_representations](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/add_category_argument_to_representations)** to **[5351ebb](https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936)**",
    "created_at": "2021-07-01T20:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31987#issuecomment-517854",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tkarn/add_category_argument_to_representations](https://github.com/sagemath/sagetrac-mirror/tree/u/tkarn/add_category_argument_to_representations)** to **[5351ebb](https://github.com/sagemath/sagetrac-mirror/commit/5351ebbfdd14067d008ae30b9acb76ba8bead936)**



---

archive/issue_events_422840.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-01T20:44:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422840"
}
```



---

archive/issue_events_422841.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "06ec5d949d4ac37fffbebba5ab2ad5294cb141e1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-07-01T20:44:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31987",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31987#event-422841"
}
```
