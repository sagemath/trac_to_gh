# Issue 31861: Persistent homology

archive/issues_031624.json:
```json
{
    "assignees": [],
    "body": "We add support for filtered complexes and persistent homology.\n\nThe algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n\nRelated:\n\n- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)\n- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)\n\n\nCC:  @jhpalmieri @slel @tscrim\n\nKeywords: **homology, persistent-homology**\n\nBranch/Commit: **[`a70ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)**\n\nReviewer: **John Palmieri, Travis Scrimshaw**\n\nAuthor: **Guillaume Rousseau**\n\nComponent: **algebraic topology**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31861_\n\n",
    "closed_at": "2021-09-19T09:59:08Z",
    "created_at": "2021-05-26T19:48:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20topology",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Persistent homology",
    "type": "issue",
    "updated_at": "2021-09-19T09:59:08Z",
    "url": "https://github.com/sagemath/sage/issues/31861",
    "user": "https://github.com/Quenouillaume"
}
```
We add support for filtered complexes and persistent homology.

The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.

Related:

- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)
- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)


CC:  @jhpalmieri @slel @tscrim

Keywords: **homology, persistent-homology**

Branch/Commit: **[`a70ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)**

Reviewer: **John Palmieri, Travis Scrimshaw**

Author: **Guillaume Rousseau**

Component: **algebraic topology**

_Issue created by migration from https://trac.sagemath.org/ticket/31861_





---

archive/issue_events_436115.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T19:48:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436115"
}
```



---

archive/issue_events_436116.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T19:48:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436116"
}
```



---

archive/issue_comments_512086.json:
```json
{
    "body": "Branch: **[u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)**",
    "created_at": "2021-05-26T19:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512086",
    "user": "https://github.com/Quenouillaume"
}
```

Branch: **[u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)**



---

archive/issue_events_436117.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T20:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436117"
}
```



---

archive/issue_comments_512087.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+AUTHOR: Guillaume Rousseau\n \n+A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n``````\n",
    "created_at": "2021-05-26T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512087",
    "user": "https://github.com/Quenouillaume"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+AUTHOR: Guillaume Rousseau
 
+A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.
``````




---

archive/issue_comments_512088.json:
```json
{
    "body": "Commit: **[`6aa4ece`](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)**",
    "created_at": "2021-05-26T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512088",
    "user": "https://github.com/Quenouillaume"
}
```

Commit: **[`6aa4ece`](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)**



---

archive/issue_comments_512089.json:
```json
{
    "body": "Author: **Guillaume Rousseau**",
    "created_at": "2021-05-26T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512089",
    "user": "https://github.com/Quenouillaume"
}
```

Author: **Guillaume Rousseau**



---

archive/issue_events_436118.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T20:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20topology",
    "label_color": "0000ff",
    "label_name": "c: algebraic topology",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436118"
}
```



---

archive/issue_events_436119.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T20:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436119"
}
```



---

archive/issue_events_436120.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T20:15:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436120"
}
```



---

archive/issue_events_436121.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T20:15:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436121"
}
```



---

archive/issue_comments_512090.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThere's no code on this branch",
    "created_at": "2021-05-26T20:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512090",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

There's no code on this branch



---

archive/issue_comments_512091.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/621d7481a8ea4d7bb386d7e7df5043e7da38d4e8\"><code>621d748</code></a></td><td><code>formatted code for sage standards and added comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7f1f741b703fa657e12a41eaa4410ea739dff64\"><code>c7f1f74</code></a></td><td><code>added more doc and reference to Zomorodian-Carlsson</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d862d61f371dcb81129c3112c0b42d7d2211e04\"><code>2d862d6</code></a></td><td><code>corrected format for documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c97200193d1fafeeff2a3819b1388753e95cf26\"><code>4c97200</code></a></td><td><code>finished up docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc\"><code>a7635a9</code></a></td><td><code>added copyright</code></td></tr></table>\n",
    "created_at": "2021-05-26T20:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512091",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/621d7481a8ea4d7bb386d7e7df5043e7da38d4e8"><code>621d748</code></a></td><td><code>formatted code for sage standards and added comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7f1f741b703fa657e12a41eaa4410ea739dff64"><code>c7f1f74</code></a></td><td><code>added more doc and reference to Zomorodian-Carlsson</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d862d61f371dcb81129c3112c0b42d7d2211e04"><code>2d862d6</code></a></td><td><code>corrected format for documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c97200193d1fafeeff2a3819b1388753e95cf26"><code>4c97200</code></a></td><td><code>finished up docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc"><code>a7635a9</code></a></td><td><code>added copyright</code></td></tr></table>




---

archive/issue_comments_512092.json:
```json
{
    "body": "Changed commit from **[`6aa4ece`](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)** to **[`a7635a9`](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)**",
    "created_at": "2021-05-26T20:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512092",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6aa4ece`](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)** to **[`a7635a9`](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)**



---

archive/issue_comments_512093.json:
```json
{
    "body": "Changed commit from **[`a7635a9`](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)** to **[`ef3b2ab`](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)**",
    "created_at": "2021-05-26T21:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512093",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7635a9`](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)** to **[`ef3b2ab`](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)**



---

archive/issue_comments_512094.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7\"><code>ef3b2ab</code></a></td><td><code>corrected indentation in references</code></td></tr></table>\n",
    "created_at": "2021-05-26T21:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512094",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7"><code>ef3b2ab</code></a></td><td><code>corrected indentation in references</code></td></tr></table>




---

archive/issue_comments_512095.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nApologies for the first ticket that had no code on its branch, this is my first time using trac !",
    "created_at": "2021-05-26T21:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512095",
    "user": "https://github.com/Quenouillaume"
}
```

<div id="comment:6" align="right">comment:6</div>

Apologies for the first ticket that had no code on its branch, this is my first time using trac !



---

archive/issue_events_436122.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T21:46:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436122"
}
```



---

archive/issue_events_436123.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T21:46:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436123"
}
```



---

archive/issue_comments_512096.json:
```json
{
    "body": "Changed keywords from none to **homology, persistent-homology**",
    "created_at": "2021-05-26T21:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512096",
    "user": "https://github.com/Quenouillaume"
}
```

Changed keywords from none to **homology, persistent-homology**



---

archive/issue_comments_512097.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI would suggest not to create a new top-level package `sage.persistent_homology` but rather to nest it",
    "created_at": "2021-05-26T22:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512097",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

I would suggest not to create a new top-level package `sage.persistent_homology` but rather to nest it



---

archive/issue_comments_512098.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?",
    "created_at": "2021-05-26T23:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512098",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:9" align="right">comment:9</div>

I am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?



---

archive/issue_comments_512099.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSee https://en.wikipedia.org/wiki/Persistent_homology#Computation",
    "created_at": "2021-05-26T23:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512099",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:10" align="right">comment:10</div>

See https://en.wikipedia.org/wiki/Persistent_homology#Computation



---

archive/issue_comments_512100.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThe code at https://github.com/Quenouillaume/persil was a first draft, in particular I used my own homemade versions of the `Simplex` and `FreeModule` classes ! The code on this ticket's branch replaces those with built-in Sage functionalities.\n\n\nReplying to [@sagetrac-tmonteil](#comment:9):\n> I am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?",
    "created_at": "2021-05-27T07:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512100",
    "user": "https://github.com/Quenouillaume"
}
```

<div id="comment:11" align="right">comment:11</div>

The code at https://github.com/Quenouillaume/persil was a first draft, in particular I used my own homemade versions of the `Simplex` and `FreeModule` classes ! The code on this ticket's branch replaces those with built-in Sage functionalities.


Replying to [@sagetrac-tmonteil](#comment:9):
> I am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?



---

archive/issue_events_436124.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-27T07:55:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436124"
}
```



---

archive/issue_events_436125.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-27T07:55:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436125"
}
```



---

archive/issue_comments_512101.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThank you for adding this code. However, there are a few things that will need to be addressed before this can be included.\n\n- All methods and functions need to be doctested.\n- There isn't a need to define a sublevel of the documentation for this one additional file. Just adding it to the usual homology documentation is fine. In a related note, I would put your files under the `sage/homology` folder.\n- I wouldn't use `__foo` methods. There is no need to name-mangle. Just `_foo` is fine. (This will also make it easier to doctest; note that this does not apply to special methods like `__getitem__`.)\n- Avoid useless checks here with short-circuiting:\n\n  ```diff\n  -if j%1000 == 0 and self._verbose:\n  +if self._verbose and j%1000 == 0:\n  ```\n- Please follow PEP8 when reasonable. In particular, use Python's naming convention for variables. For example, change `_numSimplices` -> `_num_simplices`.",
    "created_at": "2021-05-27T07:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512101",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Thank you for adding this code. However, there are a few things that will need to be addressed before this can be included.

- All methods and functions need to be doctested.
- There isn't a need to define a sublevel of the documentation for this one additional file. Just adding it to the usual homology documentation is fine. In a related note, I would put your files under the `sage/homology` folder.
- I wouldn't use `__foo` methods. There is no need to name-mangle. Just `_foo` is fine. (This will also make it easier to doctest; note that this does not apply to special methods like `__getitem__`.)
- Avoid useless checks here with short-circuiting:

  ```diff
  -if j%1000 == 0 and self._verbose:
  +if self._verbose and j%1000 == 0:
  ```
- Please follow PEP8 when reasonable. In particular, use Python's naming convention for variables. For example, change `_numSimplices` -> `_num_simplices`.



---

archive/issue_comments_512102.json:
```json
{
    "body": "Changed commit from **[`ef3b2ab`](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)** to **[`96b91f0`](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)**",
    "created_at": "2021-05-27T10:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512102",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ef3b2ab`](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)** to **[`96b91f0`](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)**



---

archive/issue_comments_512103.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/014e7d47602acdd7ebdb14bcf91e3906384175d2\"><code>014e7d4</code></a></td><td><code>moved into homology folder</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5243b3c5d7637cf2cbec2cca4b12b3b6ae590d89\"><code>5243b3c</code></a></td><td><code>adapted to PEP8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea\"><code>96b91f0</code></a></td><td><code>all methods doctested</code></td></tr></table>\n",
    "created_at": "2021-05-27T10:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512103",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/014e7d47602acdd7ebdb14bcf91e3906384175d2"><code>014e7d4</code></a></td><td><code>moved into homology folder</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5243b3c5d7637cf2cbec2cca4b12b3b6ae590d89"><code>5243b3c</code></a></td><td><code>adapted to PEP8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea"><code>96b91f0</code></a></td><td><code>all methods doctested</code></td></tr></table>




---

archive/issue_comments_512104.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2\"><code>805ba8e</code></a></td><td><code>almost 100% PEP8 compatible</code></td></tr></table>\n",
    "created_at": "2021-05-27T11:33:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512104",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2"><code>805ba8e</code></a></td><td><code>almost 100% PEP8 compatible</code></td></tr></table>




---

archive/issue_comments_512105.json:
```json
{
    "body": "Changed commit from **[`96b91f0`](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)** to **[`805ba8e`](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)**",
    "created_at": "2021-05-27T11:33:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512105",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`96b91f0`](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)** to **[`805ba8e`](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)**



---

archive/issue_events_436126.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-27T11:42:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436126"
}
```



---

archive/issue_events_436127.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-27T11:42:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436127"
}
```



---

archive/issue_comments_512106.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAdded doctests for all methods, and adapted to PEP8.\nA few lines are still more than 80 characters long,\nmost of them being in the doctests.\n\nAlso moved files and documentation to the homology folders.",
    "created_at": "2021-05-27T11:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512106",
    "user": "https://github.com/Quenouillaume"
}
```

<div id="comment:15" align="right">comment:15</div>

Added doctests for all methods, and adapted to PEP8.
A few lines are still more than 80 characters long,
most of them being in the doctests.

Also moved files and documentation to the homology folders.



---

archive/issue_comments_512107.json:
```json
{
    "body": "Changed commit from **[`805ba8e`](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)** to **[`8b7666f`](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)**",
    "created_at": "2021-05-27T15:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512107",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`805ba8e`](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)** to **[`8b7666f`](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)**



---

archive/issue_comments_512108.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557\"><code>8b7666f</code></a></td><td><code>fixed documentation</code></td></tr></table>\n",
    "created_at": "2021-05-27T15:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512108",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557"><code>8b7666f</code></a></td><td><code>fixed documentation</code></td></tr></table>




---

archive/issue_events_436128.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-05-29T13:25:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "title_is": "Persistent homology",
    "title_was": "Persistent Homology",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436128"
}
```



---

archive/issue_comments_512109.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n-AUTHOR: Guillaume Rousseau\n+We add support for filtered complexes and persistent homology.\n \n-A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n+The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n+\n+Related:\n+\n+- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)\n+- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)\n+\n``````\n",
    "created_at": "2021-05-29T13:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512109",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
-AUTHOR: Guillaume Rousseau
+We add support for filtered complexes and persistent homology.
 
-A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.
+The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.
+
+Related:
+
+- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)
+- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)
+
``````




---

archive/issue_comments_512110.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSome comments:\n\n- It might be a good idea to have ways of converting to and from simplicial complexes: for instance, if X is a filtered complex, then a method that takes a value n and returns the complex made up of all simplices with filtration at most n. Also a `_simplicial_` method so that `SimplicialComplex(X)` works. In addition, take a simplicial complex and make it a filtered complex with everything in filtration 0.\n\n- Related to that, I was wondering if it made sense for `FilteredComplex` to inherit from `SimplicialComplex`. I don't think so, but I thought I'd ask.\n\n- Also related to that, would it make sense to have a way of modifying the filtration value for a given simplex? I would suggest renaming `get_value` to `filtration`. Maybe it could take two arguments: a required argument `s`, a simplex, and if that is the only argument, then return its filtration. If an optional argument `v` is present, then instead set its filtration to `v`.\n\n- Throughout, I would change \"filtered complex\" to \"filtered simplicial complex\", and I would change the name of the file and the name of the class accordingly. When I see \"filtered complex,\" I tend to think of a filtered chain complex, and then I think that there should be spectral sequences lurking somewhere. (That would be a great task for someone to take on.) To make things unambiguous, we should have `FilteredChainComplex` (I hope eventually) and `FilteredSimplicialComplex` (from this ticket).\n\n- Regarding\n\n```\n    This implementation requires filtration values to be positive. Most\n    features will not work with negative values.\n```\n Should we have a warning or error if the user uses negative filtration values? I would also add this comment to the docstring for the `__init__` method, so that users will see if when they do `FilteredComplex?`.\n\n- In the `__init__` method, I like the comments about `_vertices`, `_simplices`, and `_degrees_dict`. Can you add a similar comment about `_warnings`? (Or document the `warnings` argument.) Is `degree` the same as filtration value? I might change that language, at least in the docstring and names of the user-viewable variables (for example `simplex_degree_list` could perhaps just be renamed to `simplices`).",
    "created_at": "2021-05-29T23:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512110",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:18" align="right">comment:18</div>

Some comments:

- It might be a good idea to have ways of converting to and from simplicial complexes: for instance, if X is a filtered complex, then a method that takes a value n and returns the complex made up of all simplices with filtration at most n. Also a `_simplicial_` method so that `SimplicialComplex(X)` works. In addition, take a simplicial complex and make it a filtered complex with everything in filtration 0.

- Related to that, I was wondering if it made sense for `FilteredComplex` to inherit from `SimplicialComplex`. I don't think so, but I thought I'd ask.

- Also related to that, would it make sense to have a way of modifying the filtration value for a given simplex? I would suggest renaming `get_value` to `filtration`. Maybe it could take two arguments: a required argument `s`, a simplex, and if that is the only argument, then return its filtration. If an optional argument `v` is present, then instead set its filtration to `v`.

- Throughout, I would change "filtered complex" to "filtered simplicial complex", and I would change the name of the file and the name of the class accordingly. When I see "filtered complex," I tend to think of a filtered chain complex, and then I think that there should be spectral sequences lurking somewhere. (That would be a great task for someone to take on.) To make things unambiguous, we should have `FilteredChainComplex` (I hope eventually) and `FilteredSimplicialComplex` (from this ticket).

- Regarding

```
    This implementation requires filtration values to be positive. Most
    features will not work with negative values.
```
 Should we have a warning or error if the user uses negative filtration values? I would also add this comment to the docstring for the `__init__` method, so that users will see if when they do `FilteredComplex?`.

- In the `__init__` method, I like the comments about `_vertices`, `_simplices`, and `_degrees_dict`. Can you add a similar comment about `_warnings`? (Or document the `warnings` argument.) Is `degree` the same as filtration value? I might change that language, at least in the docstring and names of the user-viewable variables (for example `simplex_degree_list` could perhaps just be renamed to `simplices`).



---

archive/issue_comments_512111.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n+1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.",
    "created_at": "2021-06-01T01:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512111",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

+1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.



---

archive/issue_comments_512112.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@tscrim](#comment:19):\n> +1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.\n\nThis might require a lot of work: various methods for `SimplicialComplex` would have to be modified to work with `FilteredSimplicialComplex`, like product, wedge, join, ..., unless we just forget the filtration. At least `FilteredSimplicialComplex` could inherit from `GenericCellComplex`, and maybe there could be a new intermediate class that both it and `SimplicialComplex` could inherit from.",
    "created_at": "2021-06-01T05:31:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512112",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@tscrim](#comment:19):
> +1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.

This might require a lot of work: various methods for `SimplicialComplex` would have to be modified to work with `FilteredSimplicialComplex`, like product, wedge, join, ..., unless we just forget the filtration. At least `FilteredSimplicialComplex` could inherit from `GenericCellComplex`, and maybe there could be a new intermediate class that both it and `SimplicialComplex` could inherit from.



---

archive/issue_comments_512113.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHmm...yea, I guess so. Well, I am okay with including this class as-is for now since it will be essentially all implementation details changed by such a refactoring. The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)",
    "created_at": "2021-06-01T06:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512113",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

Hmm...yea, I guess so. Well, I am okay with including this class as-is for now since it will be essentially all implementation details changed by such a refactoring. The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)



---

archive/issue_comments_512114.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI'm working on implementing all those suggestions, thank you for the very insightful feedback !\n\nI also think that having `FilteredSimplicialComplex` inherit from `SimplicialComplex` is a bit odd, for all the reasons mentionned above, but I'm not sure it should inherit from `GenericCellComplex` either, since they don't really have the same homology type...\n\nMaybe a simple first solution would be, as jhpalmieri suggests, to have a `_simplicial_()` method for `FilteredSimplicialComplex`, which returns the maximal simplicial complex associated to the filtered complex, as well as a `prune(max_value)` method which returns a copy of the filtered complex, where simplices of value more than `max_value` have been removed.",
    "created_at": "2021-06-01T12:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512114",
    "user": "https://github.com/Quenouillaume"
}
```

<div id="comment:22" align="right">comment:22</div>

I'm working on implementing all those suggestions, thank you for the very insightful feedback !

I also think that having `FilteredSimplicialComplex` inherit from `SimplicialComplex` is a bit odd, for all the reasons mentionned above, but I'm not sure it should inherit from `GenericCellComplex` either, since they don't really have the same homology type...

Maybe a simple first solution would be, as jhpalmieri suggests, to have a `_simplicial_()` method for `FilteredSimplicialComplex`, which returns the maximal simplicial complex associated to the filtered complex, as well as a `prune(max_value)` method which returns a copy of the filtered complex, where simplices of value more than `max_value` have been removed.



---

archive/issue_comments_512115.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@tscrim](#comment:21):\n> The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)\n\n+1",
    "created_at": "2021-06-01T15:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512115",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@tscrim](#comment:21):
> The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)

+1



---

archive/issue_comments_512116.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe67d65b3b448a99d185d8d37907be251f74244d\"><code>fe67d65</code></a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2bc95f3c98f5f721c1ee469f85312eb1c6df1c5\"><code>d2bc95f</code></a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83b78fdf12f7cb1801a67e69616bda1530c08daf\"><code>83b78fd</code></a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1\"><code>c8dede0</code></a></td><td><code>changed file name, added doc for filtration method</code></td></tr></table>\n",
    "created_at": "2021-06-02T12:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512116",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe67d65b3b448a99d185d8d37907be251f74244d"><code>fe67d65</code></a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2bc95f3c98f5f721c1ee469f85312eb1c6df1c5"><code>d2bc95f</code></a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83b78fdf12f7cb1801a67e69616bda1530c08daf"><code>83b78fd</code></a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1"><code>c8dede0</code></a></td><td><code>changed file name, added doc for filtration method</code></td></tr></table>




---

archive/issue_comments_512117.json:
```json
{
    "body": "Changed commit from **[`8b7666f`](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)** to **[`c8dede0`](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)**",
    "created_at": "2021-06-02T12:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512117",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b7666f`](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)** to **[`c8dede0`](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)**



---

archive/issue_comments_512118.json:
```json
{
    "body": "Changed commit from **[`c8dede0`](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)** to **[`8bd967d`](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)**",
    "created_at": "2021-06-02T12:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512118",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8dede0`](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)** to **[`8bd967d`](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)**



---

archive/issue_comments_512119.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d\"><code>8bd967d</code></a></td><td><code>PEP8</code></td></tr></table>\n",
    "created_at": "2021-06-02T12:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512119",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d"><code>8bd967d</code></a></td><td><code>PEP8</code></td></tr></table>




---

archive/issue_comments_512120.json:
```json
{
    "body": "Changed commit from **[`8bd967d`](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)** to **[`9301aa1`](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)**",
    "created_at": "2021-06-02T12:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512120",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8bd967d`](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)** to **[`9301aa1`](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)**



---

archive/issue_comments_512121.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af\"><code>9301aa1</code></a></td><td><code>added more doc</code></td></tr></table>\n",
    "created_at": "2021-06-02T12:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512121",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af"><code>9301aa1</code></a></td><td><code>added more doc</code></td></tr></table>




---

archive/issue_comments_512122.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI don't really like the fact that `compute_persistent_homology()` in some sense fixes the field you are computing the homology over and that it needs to be called before getting the intervals without a meaningful error message. Plus the result is only partially cached as when you run this again, you obtain new data that overwrites the old computed data. So my proposal is to change it as follows:\n\n- Make `compute_persistent_homology()` hidden by `_compute_persistent_homology()` and then have it return the resulting intervals.\n- Have a cached method `intervals()` (perhaps call that `persistence_intervals`) that has `field` and `strict` as part of its key. So it will be decorated by `@cached_method(key=lambda self,f,s,v: (f,s))`.\n- Remove the now unused attributes such as `intervals`.\n\nAlso, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, I also don't see the need for the `_simplicies` list as you can get it as the keys of `_filtration_dict`. The sorting is only needed during the computation of the persistent homology, which you could construct in there.",
    "created_at": "2021-06-05T08:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512122",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

I don't really like the fact that `compute_persistent_homology()` in some sense fixes the field you are computing the homology over and that it needs to be called before getting the intervals without a meaningful error message. Plus the result is only partially cached as when you run this again, you obtain new data that overwrites the old computed data. So my proposal is to change it as follows:

- Make `compute_persistent_homology()` hidden by `_compute_persistent_homology()` and then have it return the resulting intervals.
- Have a cached method `intervals()` (perhaps call that `persistence_intervals`) that has `field` and `strict` as part of its key. So it will be decorated by `@cached_method(key=lambda self,f,s,v: (f,s))`.
- Remove the now unused attributes such as `intervals`.

Also, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, I also don't see the need for the `_simplicies` list as you can get it as the keys of `_filtration_dict`. The sorting is only needed during the computation of the persistent homology, which you could construct in there.



---

archive/issue_comments_512123.json:
```json
{
    "body": "Changed commit from **[`9301aa1`](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)** to **[`47403e2`](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)**",
    "created_at": "2021-06-07T08:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512123",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9301aa1`](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)** to **[`47403e2`](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)**



---

archive/issue_comments_512124.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769\"><code>47403e2</code></a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>\n",
    "created_at": "2021-06-07T08:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512124",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769"><code>47403e2</code></a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>




---

archive/issue_comments_512125.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@tscrim](#comment:27):\n> I don't really like the fact that `compute_persistent_homology()`...\n\nI agree, I didn't know about the cached_method decorator and it can probably be very useful here. However there is a problem: since `FilteredSimplicialComplex` objects can have their simplices inserted or changed, the cache key needs to take into account whether the complex has changed since last time persistent homology was computed or not.\nI was thinking of just counting the number of times that the complex has been modified and have that also be part of the cache key, but maybe there is a simpler / less hacky solution...\nIn any case, I think that the `_compute_persistent_homology` method should be cached rather than the `persistence_intervals` method, since it can be called when computing intervals or betti numbers.\n\n> Also, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, ...\n\nYes this is much simpler, thank you ! \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769\"><code>47403e2</code></a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>\n",
    "created_at": "2021-06-07T08:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512125",
    "user": "https://github.com/Quenouillaume"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@tscrim](#comment:27):
> I don't really like the fact that `compute_persistent_homology()`...

I agree, I didn't know about the cached_method decorator and it can probably be very useful here. However there is a problem: since `FilteredSimplicialComplex` objects can have their simplices inserted or changed, the cache key needs to take into account whether the complex has changed since last time persistent homology was computed or not.
I was thinking of just counting the number of times that the complex has been modified and have that also be part of the cache key, but maybe there is a simpler / less hacky solution...
In any case, I think that the `_compute_persistent_homology` method should be cached rather than the `persistence_intervals` method, since it can be called when computing intervals or betti numbers.

> Also, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, ...

Yes this is much simpler, thank you ! 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769"><code>47403e2</code></a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>




---

archive/issue_comments_512126.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI would just call `foo.cached_func.clear_cache()` to clear the cache when the complex is mutated.\n\nAddendum: The way you have it implemented now is effectively a memory leak since you are always adding more stuff to the cache every time you run it.",
    "created_at": "2021-06-07T22:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512126",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">comment:30</div>

I would just call `foo.cached_func.clear_cache()` to clear the cache when the complex is mutated.

Addendum: The way you have it implemented now is effectively a memory leak since you are always adding more stuff to the cache every time you run it.



---

archive/issue_comments_512127.json:
```json
{
    "body": "Changed commit from **[`47403e2`](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)** to **[`bafca26`](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)**",
    "created_at": "2021-06-08T10:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512127",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`47403e2`](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)** to **[`bafca26`](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)**



---

archive/issue_comments_512128.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f\"><code>bafca26</code></a></td><td><code>simplified cache</code></td></tr></table>\n",
    "created_at": "2021-06-08T10:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512128",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f"><code>bafca26</code></a></td><td><code>simplified cache</code></td></tr></table>




---

archive/issue_comments_512129.json:
```json
{
    "body": "Changed commit from **[`bafca26`](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)** to **[`354b23d`](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)**",
    "created_at": "2021-06-08T10:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512129",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bafca26`](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)** to **[`354b23d`](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)**



---

archive/issue_comments_512130.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e\"><code>354b23d</code></a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr></table>\n",
    "created_at": "2021-06-08T10:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512130",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e"><code>354b23d</code></a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr></table>




---

archive/issue_comments_512131.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512131",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_436129.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436129"
}
```



---

archive/issue_events_436130.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436130"
}
```



---

archive/issue_comments_512132.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nSorry for loosing track of this; I didn't get any notifications from trac that you pushed changes.\n\nI think all of my and John's current comments have been taken into account, correct?\n\nCan you provide a rebase onto the latest beta? I will continue my review at that point.",
    "created_at": "2021-08-27T01:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512132",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Sorry for loosing track of this; I didn't get any notifications from trac that you pushed changes.

I think all of my and John's current comments have been taken into account, correct?

Can you provide a rebase onto the latest beta? I will continue my review at that point.



---

archive/issue_comments_512133.json:
```json
{
    "body": "Changed commit from **[`354b23d`](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)** to **[`98f2a1d`](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)**",
    "created_at": "2021-08-27T16:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512133",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`354b23d`](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)** to **[`98f2a1d`](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)**



---

archive/issue_comments_512134.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e39330081cb55531cd736f5cffe87c3aad6cc69\"><code>3e39330</code></a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66616b73238b422086b4641b1e3840a34d077b8c\"><code>66616b7</code></a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd45642010dad6be4e0329a37e0c62d67e83830\"><code>1fd4564</code></a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09aada43445b3f21ec0f9e86bc27f58b38a09bc4\"><code>09aada4</code></a></td><td><code>changed file name, added doc for filtration method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfcbc939db878e11cf2eeec56a15e9094894f01d\"><code>bfcbc93</code></a></td><td><code>PEP8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb621ffaafcacee456a63c14eb1d4a6a8f8a7282\"><code>eb621ff</code></a></td><td><code>added more doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0811c7ca0f43b8d18b672d214db6753de1f853b\"><code>d0811c7</code></a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16a8d9bf2b253951b87079ba50c0b3950b20caf3\"><code>16a8d9b</code></a></td><td><code>simplified cache</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdfd1e992cea54b9cdb645cb071bf2de287038ef\"><code>bdfd1e9</code></a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4\"><code>98f2a1d</code></a></td><td><code> Merge branch 'u/gh-Quenouillaume/persistent_homology' of trac.sagemath.org:sage into t/31861/persistent_homology</code></td></tr></table>\n",
    "created_at": "2021-08-27T16:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512134",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e39330081cb55531cd736f5cffe87c3aad6cc69"><code>3e39330</code></a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66616b73238b422086b4641b1e3840a34d077b8c"><code>66616b7</code></a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd45642010dad6be4e0329a37e0c62d67e83830"><code>1fd4564</code></a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09aada43445b3f21ec0f9e86bc27f58b38a09bc4"><code>09aada4</code></a></td><td><code>changed file name, added doc for filtration method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfcbc939db878e11cf2eeec56a15e9094894f01d"><code>bfcbc93</code></a></td><td><code>PEP8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb621ffaafcacee456a63c14eb1d4a6a8f8a7282"><code>eb621ff</code></a></td><td><code>added more doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0811c7ca0f43b8d18b672d214db6753de1f853b"><code>d0811c7</code></a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16a8d9bf2b253951b87079ba50c0b3950b20caf3"><code>16a8d9b</code></a></td><td><code>simplified cache</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdfd1e992cea54b9cdb645cb071bf2de287038ef"><code>bdfd1e9</code></a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4"><code>98f2a1d</code></a></td><td><code> Merge branch 'u/gh-Quenouillaume/persistent_homology' of trac.sagemath.org:sage into t/31861/persistent_homology</code></td></tr></table>




---

archive/issue_comments_512135.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI believe I've taken all your comments into account ! And I've just finished rebasing if you wish to keep reviewing.",
    "created_at": "2021-08-27T16:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512135",
    "user": "https://github.com/Quenouillaume"
}
```

<div id="comment:36" align="right">comment:36</div>

I believe I've taken all your comments into account ! And I've just finished rebasing if you wish to keep reviewing.



---

archive/issue_comments_512136.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nle patchbot a l'air de dire que la branche ne compile pas..",
    "created_at": "2021-08-28T12:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512136",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:37" align="right">comment:37</div>

le patchbot a l'air de dire que la branche ne compile pas..



---

archive/issue_comments_512137.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6\"><code>8166651</code></a></td><td><code>fixed rebase error</code></td></tr></table>\n",
    "created_at": "2021-08-28T18:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512137",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6"><code>8166651</code></a></td><td><code>fixed rebase error</code></td></tr></table>




---

archive/issue_comments_512138.json:
```json
{
    "body": "Changed commit from **[`98f2a1d`](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)** to **[`8166651`](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)**",
    "created_at": "2021-08-28T18:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512138",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`98f2a1d`](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)** to **[`8166651`](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)**



---

archive/issue_comments_512139.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI fixed the rebase error, it should work now. This was in part due to me not realizing that \n`sage.homology.simplicial_complex` was deprecated and moved to `sage.topology` ! \nShould the files of this ticket also be moved from `sage.homology` to `sage.topology` ?",
    "created_at": "2021-08-28T18:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512139",
    "user": "https://github.com/Quenouillaume"
}
```

<div id="comment:39" align="right">comment:39</div>

I fixed the rebase error, it should work now. This was in part due to me not realizing that 
`sage.homology.simplicial_complex` was deprecated and moved to `sage.topology` ! 
Should the files of this ticket also be moved from `sage.homology` to `sage.topology` ?



---

archive/issue_comments_512140.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@Quenouillaume](#comment:39):\n> Should the files of this ticket also be moved from `sage.homology` to `sage.topology` ?\n\nI would say yes.",
    "created_at": "2021-08-28T19:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512140",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@Quenouillaume](#comment:39):
> Should the files of this ticket also be moved from `sage.homology` to `sage.topology` ?

I would say yes.



---

archive/issue_comments_512141.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nle patchbot dit maintenant que la doc ne compile pas:\n\n```\n[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: Duplicate explicit target name: \"zc2005\".\n[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: duplicate citation ZC2005, other instance in /home/chapoton/sage/src/doc/en/reference/references/index.rst\n```",
    "created_at": "2021-08-29T06:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512141",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

le patchbot dit maintenant que la doc ne compile pas:

```
[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: Duplicate explicit target name: "zc2005".
[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: duplicate citation ZC2005, other instance in /home/chapoton/sage/src/doc/en/reference/references/index.rst
```



---

archive/issue_comments_512142.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nIndeed, you can see in the diff that [ZC2005] has accidentally been added twice. I have removed the duplicate reference.\n\nI made a few other reviewer changes. Most of them are doc formatting. However, there are two big ones:\n\n- I added an equality check.\n- I changed `warnings` to `verbose` as it wasn't being used to warn the user but simply expressing that it changed its state.\n\nI found two things that might be lacking: we cannot remove simplices nor raise the filtration value. The first is a feature that can be added later. The second, I am guessing it is for reasons of keeping things consistent? These aren't anything that would prevent me from giving a positive review, but it would be nice for some clarification for the latter (of course, the behaviour is documented, but why do we want this?).\n\nJohn, do you have any other comments?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d42489e4d1c07db6a42b495a9fb3a8ea018b90f\"><code>9d42489</code></a></td><td><code>Fixing duplicate citation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee\"><code>78e0099</code></a></td><td><code>Reviewer changes with formatting, equality, and other small tweaks.</code></td></tr></table>\n",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512142",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">comment:42</div>

Indeed, you can see in the diff that [ZC2005] has accidentally been added twice. I have removed the duplicate reference.

I made a few other reviewer changes. Most of them are doc formatting. However, there are two big ones:

- I added an equality check.
- I changed `warnings` to `verbose` as it wasn't being used to warn the user but simply expressing that it changed its state.

I found two things that might be lacking: we cannot remove simplices nor raise the filtration value. The first is a feature that can be added later. The second, I am guessing it is for reasons of keeping things consistent? These aren't anything that would prevent me from giving a positive review, but it would be nice for some clarification for the latter (of course, the behaviour is documented, but why do we want this?).

John, do you have any other comments?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d42489e4d1c07db6a42b495a9fb3a8ea018b90f"><code>9d42489</code></a></td><td><code>Fixing duplicate citation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee"><code>78e0099</code></a></td><td><code>Reviewer changes with formatting, equality, and other small tweaks.</code></td></tr></table>




---

archive/issue_comments_512143.json:
```json
{
    "body": "Changed commit from **[`8166651`](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)** to **[`78e0099`](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)**",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512143",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`8166651`](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)** to **[`78e0099`](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)**



---

archive/issue_comments_512144.json:
```json
{
    "body": "Reviewer: **John Palmieri, Travis Scrimshaw**",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512144",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **John Palmieri, Travis Scrimshaw**



---

archive/issue_comments_512145.json:
```json
{
    "body": "Changed branch from **[u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)** to **[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)**",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512145",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)** to **[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)**



---

archive/issue_comments_512146.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nMy only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.",
    "created_at": "2021-09-01T16:56:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512146",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:43" align="right">comment:43</div>

My only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.



---

archive/issue_comments_512147.json:
```json
{
    "body": "Changed commit from **[`78e0099`](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)** to **[`a125297`](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)**",
    "created_at": "2021-09-08T01:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512147",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`78e0099`](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)** to **[`a125297`](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)**



---

archive/issue_comments_512148.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01\"><code>a125297</code></a></td><td><code>Moving filtered_simplicial_complex.py to topology.</code></td></tr></table>\n",
    "created_at": "2021-09-08T01:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512148",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01"><code>a125297</code></a></td><td><code>Moving filtered_simplicial_complex.py to topology.</code></td></tr></table>




---

archive/issue_comments_512149.json:
```json
{
    "body": "Changed commit from **[`a125297`](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)** to **[`36b9376`](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)**",
    "created_at": "2021-09-08T01:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512149",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a125297`](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)** to **[`36b9376`](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)**



---

archive/issue_comments_512150.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1\"><code>36b9376</code></a></td><td><code>Trac #31861: Fixing pyflakes warning.</code></td></tr></table>\n",
    "created_at": "2021-09-08T01:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512150",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1"><code>36b9376</code></a></td><td><code>Trac #31861: Fixing pyflakes warning.</code></td></tr></table>




---

archive/issue_comments_512151.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@jhpalmieri](#comment:43):\n> My only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.\n\nI have moved it over and fixed a pyflakes warning. Please check.",
    "created_at": "2021-09-08T01:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512151",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@jhpalmieri](#comment:43):
> My only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.

I have moved it over and fixed a pyflakes warning. Please check.



---

archive/issue_comments_512152.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee3cc74d1aed2a0c933f8e7137743bcace16232d\"><code>ee3cc74</code></a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725\"><code>21e9d67</code></a></td><td><code>One last detail for the move to topology.</code></td></tr></table>\n",
    "created_at": "2021-09-08T22:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512152",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee3cc74d1aed2a0c933f8e7137743bcace16232d"><code>ee3cc74</code></a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725"><code>21e9d67</code></a></td><td><code>One last detail for the move to topology.</code></td></tr></table>




---

archive/issue_comments_512153.json:
```json
{
    "body": "Changed commit from **[`36b9376`](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)** to **[`21e9d67`](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)**",
    "created_at": "2021-09-08T22:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512153",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`36b9376`](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)** to **[`21e9d67`](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)**



---

archive/issue_comments_512154.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThat should fix the docbuild issue.",
    "created_at": "2021-09-08T22:10:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512154",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:48" align="right">comment:48</div>

That should fix the docbuild issue.



---

archive/issue_comments_512155.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nGreen patchbot.",
    "created_at": "2021-09-13T01:21:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512155",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:49" align="right">comment:49</div>

Green patchbot.



---

archive/issue_events_436131.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-09-13T04:50:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436131"
}
```



---

archive/issue_events_436132.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-09-13T04:50:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436132"
}
```



---

archive/issue_comments_512156.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nGreat, let's merge it!",
    "created_at": "2021-09-13T04:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512156",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:50" align="right">comment:50</div>

Great, let's merge it!



---

archive/issue_events_436133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-14T22:51:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436133"
}
```



---

archive/issue_events_436134.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-14T22:51:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436134"
}
```



---

archive/issue_comments_512157.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nMerge conflict",
    "created_at": "2021-09-14T22:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512157",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:51" align="right">comment:51</div>

Merge conflict



---

archive/issue_comments_512158.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a\"><code>a70ea5b</code></a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr></table>\n",
    "created_at": "2021-09-14T23:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512158",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a"><code>a70ea5b</code></a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr></table>




---

archive/issue_comments_512159.json:
```json
{
    "body": "Changed commit from **[`21e9d67`](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)** to **[`a70ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)**",
    "created_at": "2021-09-14T23:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512159",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`21e9d67`](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)** to **[`a70ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)**



---

archive/issue_events_436135.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-09-14T23:46:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436135"
}
```



---

archive/issue_events_436136.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-09-14T23:46:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436136"
}
```



---

archive/issue_comments_512160.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nTrivial rebase.",
    "created_at": "2021-09-14T23:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512160",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:53" align="right">comment:53</div>

Trivial rebase.



---

archive/issue_events_436137.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-19T09:59:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436137"
}
```



---

archive/issue_events_436138.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "751a6bb9f587a5e2ed8ca47ef58d75bee97cab00",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-09-19T09:59:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-436138"
}
```



---

archive/issue_comments_512161.json:
```json
{
    "body": "Changed branch from **[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)** to **[`a70ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)**",
    "created_at": "2021-09-19T09:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-512161",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)** to **[`a70ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)**
