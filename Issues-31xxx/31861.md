# Issue 31861: Persistent homology

archive/issues_031624.json:
```json
{
    "assignees": [],
    "body": "We add support for filtered complexes and persistent homology.\n\nThe algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n\nRelated:\n\n- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)\n- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)\n\n\n**CC:**  @jhpalmieri @slel @tscrim\n\n**Keywords:** homology, persistent-homology\n\n**Branch/Commit:** [a70ea5b05938f22ffe388957b972b439aa2e130a](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)\n\n**Reviewer:** John Palmieri, Travis Scrimshaw\n\n**Author:** Guillaume Rousseau\n\nIssue created by migration from https://trac.sagemath.org/ticket/31861\n\n",
    "closed_at": "2021-09-19T09:59:08Z",
    "created_at": "2021-05-26T19:48:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20topology",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Persistent homology",
    "type": "issue",
    "updated_at": "2021-09-19T09:59:08Z",
    "url": "https://github.com/sagemath/sage/issues/31861",
    "user": "https://github.com/Quenouillaume"
}
```
We add support for filtered complexes and persistent homology.

The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.

Related:

- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)
- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)


**CC:**  @jhpalmieri @slel @tscrim

**Keywords:** homology, persistent-homology

**Branch/Commit:** [a70ea5b05938f22ffe388957b972b439aa2e130a](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)

**Reviewer:** John Palmieri, Travis Scrimshaw

**Author:** Guillaume Rousseau

Issue created by migration from https://trac.sagemath.org/ticket/31861





---

archive/issue_comments_514918.json:
```json
{
    "body": "**Branch:** [u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)",
    "created_at": "2021-05-26T19:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514918",
    "user": "https://github.com/Quenouillaume"
}
```

**Branch:** [u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)



---

archive/issue_events_286031.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T20:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286031"
}
```



---

archive/issue_comments_514919.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+AUTHOR: Guillaume Rousseau\n \n+A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n``````\n",
    "created_at": "2021-05-26T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514919",
    "user": "https://github.com/Quenouillaume"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+AUTHOR: Guillaume Rousseau
 
+A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.
``````




---

archive/issue_comments_514920.json:
```json
{
    "body": "**Commit:** [6aa4ecee167d8152ad17370f674b5e778ba7cbc6](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)",
    "created_at": "2021-05-26T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514920",
    "user": "https://github.com/Quenouillaume"
}
```

**Commit:** [6aa4ecee167d8152ad17370f674b5e778ba7cbc6](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)



---

archive/issue_comments_514921.json:
```json
{
    "body": "**Author:** Guillaume Rousseau",
    "created_at": "2021-05-26T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514921",
    "user": "https://github.com/Quenouillaume"
}
```

**Author:** Guillaume Rousseau



---

archive/issue_events_286032.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T20:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20topology",
    "label_color": "08517b",
    "label_name": "component: algebraic topology",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286032"
}
```



---

archive/issue_events_286033.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T20:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286033"
}
```



---

archive/issue_events_286034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T20:15:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286034"
}
```



---

archive/issue_events_286035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T20:15:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286035"
}
```



---

archive/issue_comments_514922.json:
```json
{
    "body": "<a id='comment:3'></a>\nThere's no code on this branch",
    "created_at": "2021-05-26T20:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514922",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
There's no code on this branch



---

archive/issue_comments_514923.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/621d7481a8ea4d7bb386d7e7df5043e7da38d4e8\">621d748</a></td><td><code>formatted code for sage standards and added comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7f1f741b703fa657e12a41eaa4410ea739dff64\">c7f1f74</a></td><td><code>added more doc and reference to Zomorodian-Carlsson</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d862d61f371dcb81129c3112c0b42d7d2211e04\">2d862d6</a></td><td><code>corrected format for documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c97200193d1fafeeff2a3819b1388753e95cf26\">4c97200</a></td><td><code>finished up docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc\">a7635a9</a></td><td><code>added copyright</code></td></tr></table>\n",
    "created_at": "2021-05-26T20:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514923",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/621d7481a8ea4d7bb386d7e7df5043e7da38d4e8">621d748</a></td><td><code>formatted code for sage standards and added comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7f1f741b703fa657e12a41eaa4410ea739dff64">c7f1f74</a></td><td><code>added more doc and reference to Zomorodian-Carlsson</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d862d61f371dcb81129c3112c0b42d7d2211e04">2d862d6</a></td><td><code>corrected format for documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c97200193d1fafeeff2a3819b1388753e95cf26">4c97200</a></td><td><code>finished up docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc">a7635a9</a></td><td><code>added copyright</code></td></tr></table>




---

archive/issue_comments_514924.json:
```json
{
    "body": "**Changing commit** from \"[6aa4ecee167d8152ad17370f674b5e778ba7cbc6](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)\" to \"[a7635a92e0117f19eb7fcdf3005c04559ae1f4bc](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)\".",
    "created_at": "2021-05-26T20:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514924",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[6aa4ecee167d8152ad17370f674b5e778ba7cbc6](https://github.com/sagemath/sagetrac-mirror/commit/6aa4ecee167d8152ad17370f674b5e778ba7cbc6)" to "[a7635a92e0117f19eb7fcdf3005c04559ae1f4bc](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)".



---

archive/issue_comments_514925.json:
```json
{
    "body": "**Changing commit** from \"[a7635a92e0117f19eb7fcdf3005c04559ae1f4bc](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)\" to \"[ef3b2ab63dadbdd99548140e5478264d0f4006a7](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)\".",
    "created_at": "2021-05-26T21:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514925",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a7635a92e0117f19eb7fcdf3005c04559ae1f4bc](https://github.com/sagemath/sagetrac-mirror/commit/a7635a92e0117f19eb7fcdf3005c04559ae1f4bc)" to "[ef3b2ab63dadbdd99548140e5478264d0f4006a7](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)".



---

archive/issue_comments_514926.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7\">ef3b2ab</a></td><td><code>corrected indentation in references</code></td></tr></table>\n",
    "created_at": "2021-05-26T21:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514926",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7">ef3b2ab</a></td><td><code>corrected indentation in references</code></td></tr></table>




---

archive/issue_comments_514927.json:
```json
{
    "body": "<a id='comment:6'></a>\nApologies for the first ticket that had no code on its branch, this is my first time using trac !",
    "created_at": "2021-05-26T21:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514927",
    "user": "https://github.com/Quenouillaume"
}
```

<a id='comment:6'></a>
Apologies for the first ticket that had no code on its branch, this is my first time using trac !



---

archive/issue_events_286036.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T21:46:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286036"
}
```



---

archive/issue_events_286037.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-26T21:46:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286037"
}
```



---

archive/issue_comments_514928.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"homology, persistent-homology\".",
    "created_at": "2021-05-26T21:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514928",
    "user": "https://github.com/Quenouillaume"
}
```

**Changing keywords** from "" to "homology, persistent-homology".



---

archive/issue_comments_514929.json:
```json
{
    "body": "<a id='comment:8'></a>\nI would suggest not to create a new top-level package `sage.persistent_homology` but rather to nest it",
    "created_at": "2021-05-26T22:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514929",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
I would suggest not to create a new top-level package `sage.persistent_homology` but rather to nest it



---

archive/issue_comments_514930.json:
```json
{
    "body": "<a id='comment:9'></a>\nI am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?",
    "created_at": "2021-05-26T23:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514930",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:9'></a>
I am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?



---

archive/issue_comments_514931.json:
```json
{
    "body": "<a id='comment:10'></a>\nSee https://en.wikipedia.org/wiki/Persistent_homology#Computation",
    "created_at": "2021-05-26T23:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514931",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:10'></a>
See https://en.wikipedia.org/wiki/Persistent_homology#Computation



---

archive/issue_comments_514932.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe code at https://github.com/Quenouillaume/persil was a first draft, in particular I used my own homemade versions of the `Simplex` and `FreeModule` classes ! The code on this ticket's branch replaces those with built-in Sage functionalities.\n\n\nReplying to [tmonteil](#comment%3A9):\n> I am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?",
    "created_at": "2021-05-27T07:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514932",
    "user": "https://github.com/Quenouillaume"
}
```

<a id='comment:11'></a>
The code at https://github.com/Quenouillaume/persil was a first draft, in particular I used my own homemade versions of the `Simplex` and `FreeModule` classes ! The code on this ticket's branch replaces those with built-in Sage functionalities.


Replying to [tmonteil](#comment%3A9):
> I am not sure, but since this code seems already packaged at https://github.com/Quenouillaume/persil, why not let it be part of the task #31164 ? Also, some 10 years ago i saw some optimized code for persistent homology (by Edelsbrunner iirc), so i wonder whether there is room for interfacing such code within Sage ?



---

archive/issue_events_286038.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-27T07:55:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286038"
}
```



---

archive/issue_events_286039.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-27T07:55:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286039"
}
```



---

archive/issue_comments_514933.json:
```json
{
    "body": "<a id='comment:12'></a>\nThank you for adding this code. However, there are a few things that will need to be addressed before this can be included.\n\n- All methods and functions need to be doctested.\n- There isn't a need to define a sublevel of the documentation for this one additional file. Just adding it to the usual homology documentation is fine. In a related note, I would put your files under the `sage/homology` folder.\n- I wouldn't use `__foo` methods. There is no need to name-mangle. Just `_foo` is fine. (This will also make it easier to doctest; note that this does not apply to special methods like `__getitem__`.)\n- Avoid useless checks here with short-circuiting:\n\n  ```diff\n  -if j%1000 == 0 and self._verbose:\n  +if self._verbose and j%1000 == 0:\n  ```\n- Please follow PEP8 when reasonable. In particular, use Python's naming convention for variables. For example, change `_numSimplices` -> `_num_simplices`.",
    "created_at": "2021-05-27T07:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514933",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Thank you for adding this code. However, there are a few things that will need to be addressed before this can be included.

- All methods and functions need to be doctested.
- There isn't a need to define a sublevel of the documentation for this one additional file. Just adding it to the usual homology documentation is fine. In a related note, I would put your files under the `sage/homology` folder.
- I wouldn't use `__foo` methods. There is no need to name-mangle. Just `_foo` is fine. (This will also make it easier to doctest; note that this does not apply to special methods like `__getitem__`.)
- Avoid useless checks here with short-circuiting:

  ```diff
  -if j%1000 == 0 and self._verbose:
  +if self._verbose and j%1000 == 0:
  ```
- Please follow PEP8 when reasonable. In particular, use Python's naming convention for variables. For example, change `_numSimplices` -> `_num_simplices`.



---

archive/issue_comments_514934.json:
```json
{
    "body": "**Changing commit** from \"[ef3b2ab63dadbdd99548140e5478264d0f4006a7](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)\" to \"[96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)\".",
    "created_at": "2021-05-27T10:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514934",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ef3b2ab63dadbdd99548140e5478264d0f4006a7](https://github.com/sagemath/sagetrac-mirror/commit/ef3b2ab63dadbdd99548140e5478264d0f4006a7)" to "[96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)".



---

archive/issue_comments_514935.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/014e7d47602acdd7ebdb14bcf91e3906384175d2\">014e7d4</a></td><td><code>moved into homology folder</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5243b3c5d7637cf2cbec2cca4b12b3b6ae590d89\">5243b3c</a></td><td><code>adapted to PEP8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea\">96b91f0</a></td><td><code>all methods doctested</code></td></tr></table>\n",
    "created_at": "2021-05-27T10:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514935",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/014e7d47602acdd7ebdb14bcf91e3906384175d2">014e7d4</a></td><td><code>moved into homology folder</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5243b3c5d7637cf2cbec2cca4b12b3b6ae590d89">5243b3c</a></td><td><code>adapted to PEP8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea">96b91f0</a></td><td><code>all methods doctested</code></td></tr></table>




---

archive/issue_comments_514936.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2\">805ba8e</a></td><td><code>almost 100% PEP8 compatible</code></td></tr></table>\n",
    "created_at": "2021-05-27T11:33:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514936",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2">805ba8e</a></td><td><code>almost 100% PEP8 compatible</code></td></tr></table>




---

archive/issue_comments_514937.json:
```json
{
    "body": "**Changing commit** from \"[96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)\" to \"[805ba8e52e2b0eca2e128adfd2363c27449378d2](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)\".",
    "created_at": "2021-05-27T11:33:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514937",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea](https://github.com/sagemath/sagetrac-mirror/commit/96b91f0bbf939bf2f83ea80919bd6ae5cfa07bea)" to "[805ba8e52e2b0eca2e128adfd2363c27449378d2](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)".



---

archive/issue_events_286040.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-27T11:42:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286040"
}
```



---

archive/issue_events_286041.json:
```json
{
    "actor": "https://github.com/Quenouillaume",
    "created_at": "2021-05-27T11:42:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286041"
}
```



---

archive/issue_comments_514938.json:
```json
{
    "body": "<a id='comment:15'></a>\nAdded doctests for all methods, and adapted to PEP8.\nA few lines are still more than 80 characters long,\nmost of them being in the doctests.\n\nAlso moved files and documentation to the homology folders.",
    "created_at": "2021-05-27T11:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514938",
    "user": "https://github.com/Quenouillaume"
}
```

<a id='comment:15'></a>
Added doctests for all methods, and adapted to PEP8.
A few lines are still more than 80 characters long,
most of them being in the doctests.

Also moved files and documentation to the homology folders.



---

archive/issue_comments_514939.json:
```json
{
    "body": "**Changing commit** from \"[805ba8e52e2b0eca2e128adfd2363c27449378d2](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)\" to \"[8b7666f1c62916489638b9fe226f001925d71557](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)\".",
    "created_at": "2021-05-27T15:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514939",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[805ba8e52e2b0eca2e128adfd2363c27449378d2](https://github.com/sagemath/sagetrac-mirror/commit/805ba8e52e2b0eca2e128adfd2363c27449378d2)" to "[8b7666f1c62916489638b9fe226f001925d71557](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)".



---

archive/issue_comments_514940.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557\">8b7666f</a></td><td><code>fixed documentation</code></td></tr></table>\n",
    "created_at": "2021-05-27T15:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514940",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557">8b7666f</a></td><td><code>fixed documentation</code></td></tr></table>




---

archive/issue_events_286042.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-05-29T13:25:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "rename": {
        "from": "Persistent Homology",
        "to": "Persistent homology"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286042"
}
```



---

archive/issue_comments_514941.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n-AUTHOR: Guillaume Rousseau\n+We add support for filtered complexes and persistent homology.\n \n-A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n+The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.\n+\n+Related:\n+\n+- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)\n+- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)\n+\n``````\n",
    "created_at": "2021-05-29T13:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514941",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
-AUTHOR: Guillaume Rousseau
+We add support for filtered complexes and persistent homology.
 
-A module for filtered complexes and persistent homology. The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.
+The algorithm implemented is described in 'Computing Persistent Homology' by A. Zomorodian and G. Carlsson.
+
+Related:
+
+- [Wikipedia: Persistent homology computation](https://en.wikipedia.org/wiki/Persistent_homology#Computation)
+- [sage-support discussion on persistent homology](https://groups.google.com/g/sage-support/c/a2MS9WALjvo)
+
``````




---

archive/issue_comments_514942.json:
```json
{
    "body": "<a id='comment:18'></a>\nSome comments:\n\n- It might be a good idea to have ways of converting to and from simplicial complexes: for instance, if X is a filtered complex, then a method that takes a value n and returns the complex made up of all simplices with filtration at most n. Also a `_simplicial_` method so that `SimplicialComplex(X)` works. In addition, take a simplicial complex and make it a filtered complex with everything in filtration 0.\n\n- Related to that, I was wondering if it made sense for `FilteredComplex` to inherit from `SimplicialComplex`. I don't think so, but I thought I'd ask.\n\n- Also related to that, would it make sense to have a way of modifying the filtration value for a given simplex? I would suggest renaming `get_value` to `filtration`. Maybe it could take two arguments: a required argument `s`, a simplex, and if that is the only argument, then return its filtration. If an optional argument `v` is present, then instead set its filtration to `v`.\n\n- Throughout, I would change \"filtered complex\" to \"filtered simplicial complex\", and I would change the name of the file and the name of the class accordingly. When I see \"filtered complex,\" I tend to think of a filtered chain complex, and then I think that there should be spectral sequences lurking somewhere. (That would be a great task for someone to take on.) To make things unambiguous, we should have `FilteredChainComplex` (I hope eventually) and `FilteredSimplicialComplex` (from this ticket).\n\n- Regarding\n\n```\n    This implementation requires filtration values to be positive. Most\n    features will not work with negative values.\n```\n Should we have a warning or error if the user uses negative filtration values? I would also add this comment to the docstring for the `__init__` method, so that users will see if when they do `FilteredComplex?`.\n\n- In the `__init__` method, I like the comments about `_vertices`, `_simplices`, and `_degrees_dict`. Can you add a similar comment about `_warnings`? (Or document the `warnings` argument.) Is `degree` the same as filtration value? I might change that language, at least in the docstring and names of the user-viewable variables (for example `simplex_degree_list` could perhaps just be renamed to `simplices`).",
    "created_at": "2021-05-29T23:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514942",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'></a>
Some comments:

- It might be a good idea to have ways of converting to and from simplicial complexes: for instance, if X is a filtered complex, then a method that takes a value n and returns the complex made up of all simplices with filtration at most n. Also a `_simplicial_` method so that `SimplicialComplex(X)` works. In addition, take a simplicial complex and make it a filtered complex with everything in filtration 0.

- Related to that, I was wondering if it made sense for `FilteredComplex` to inherit from `SimplicialComplex`. I don't think so, but I thought I'd ask.

- Also related to that, would it make sense to have a way of modifying the filtration value for a given simplex? I would suggest renaming `get_value` to `filtration`. Maybe it could take two arguments: a required argument `s`, a simplex, and if that is the only argument, then return its filtration. If an optional argument `v` is present, then instead set its filtration to `v`.

- Throughout, I would change "filtered complex" to "filtered simplicial complex", and I would change the name of the file and the name of the class accordingly. When I see "filtered complex," I tend to think of a filtered chain complex, and then I think that there should be spectral sequences lurking somewhere. (That would be a great task for someone to take on.) To make things unambiguous, we should have `FilteredChainComplex` (I hope eventually) and `FilteredSimplicialComplex` (from this ticket).

- Regarding

```
    This implementation requires filtration values to be positive. Most
    features will not work with negative values.
```
 Should we have a warning or error if the user uses negative filtration values? I would also add this comment to the docstring for the `__init__` method, so that users will see if when they do `FilteredComplex?`.

- In the `__init__` method, I like the comments about `_vertices`, `_simplices`, and `_degrees_dict`. Can you add a similar comment about `_warnings`? (Or document the `warnings` argument.) Is `degree` the same as filtration value? I might change that language, at least in the docstring and names of the user-viewable variables (for example `simplex_degree_list` could perhaps just be renamed to `simplices`).



---

archive/issue_comments_514943.json:
```json
{
    "body": "<a id='comment:19'></a>\n+1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.",
    "created_at": "2021-06-01T01:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514943",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>
+1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.



---

archive/issue_comments_514944.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@tscrim](#comment%3A19):\n> +1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.\n\nThis might require a lot of work: various methods for `SimplicialComplex` would have to be modified to work with `FilteredSimplicialComplex`, like product, wedge, join, ..., unless we just forget the filtration. At least `FilteredSimplicialComplex` could inherit from `GenericCellComplex`, and maybe there could be a new intermediate class that both it and `SimplicialComplex` could inherit from.",
    "created_at": "2021-06-01T05:31:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514944",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>
Replying to [@tscrim](#comment%3A19):
> +1 on making this a subclass of `SimplicialComplex` and changing the name to `FilteredSimplicialComplex`.

This might require a lot of work: various methods for `SimplicialComplex` would have to be modified to work with `FilteredSimplicialComplex`, like product, wedge, join, ..., unless we just forget the filtration. At least `FilteredSimplicialComplex` could inherit from `GenericCellComplex`, and maybe there could be a new intermediate class that both it and `SimplicialComplex` could inherit from.



---

archive/issue_comments_514945.json:
```json
{
    "body": "<a id='comment:21'></a>\nHmm...yea, I guess so. Well, I am okay with including this class as-is for now since it will be essentially all implementation details changed by such a refactoring. The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)",
    "created_at": "2021-06-01T06:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514945",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>
Hmm...yea, I guess so. Well, I am okay with including this class as-is for now since it will be essentially all implementation details changed by such a refactoring. The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)



---

archive/issue_comments_514946.json:
```json
{
    "body": "<a id='comment:22'></a>\nI'm working on implementing all those suggestions, thank you for the very insightful feedback !\n\nI also think that having `FilteredSimplicialComplex` inherit from `SimplicialComplex` is a bit odd, for all the reasons mentionned above, but I'm not sure it should inherit from `GenericCellComplex` either, since they don't really have the same homology type...\n\nMaybe a simple first solution would be, as jhpalmieri suggests, to have a `_simplicial_()` method for `FilteredSimplicialComplex`, which returns the maximal simplicial complex associated to the filtered complex, as well as a `prune(max_value)` method which returns a copy of the filtered complex, where simplices of value more than `max_value` have been removed.",
    "created_at": "2021-06-01T12:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514946",
    "user": "https://github.com/Quenouillaume"
}
```

<a id='comment:22'></a>
I'm working on implementing all those suggestions, thank you for the very insightful feedback !

I also think that having `FilteredSimplicialComplex` inherit from `SimplicialComplex` is a bit odd, for all the reasons mentionned above, but I'm not sure it should inherit from `GenericCellComplex` either, since they don't really have the same homology type...

Maybe a simple first solution would be, as jhpalmieri suggests, to have a `_simplicial_()` method for `FilteredSimplicialComplex`, which returns the maximal simplicial complex associated to the filtered complex, as well as a `prune(max_value)` method which returns a copy of the filtered complex, where simplices of value more than `max_value` have been removed.



---

archive/issue_comments_514947.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [@tscrim](#comment%3A21):\n> The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)\n\n+1",
    "created_at": "2021-06-01T15:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514947",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:23'></a>
Replying to [@tscrim](#comment%3A21):
> The only thing I would want would be to change `compute_homology()` to `persistent_homology()` so it is unambiguous about what type of homology is being computed. (The Betti numbers are fine because of the extra parameters.)

+1



---

archive/issue_comments_514948.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe67d65b3b448a99d185d8d37907be251f74244d\">fe67d65</a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2bc95f3c98f5f721c1ee469f85312eb1c6df1c5\">d2bc95f</a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83b78fdf12f7cb1801a67e69616bda1530c08daf\">83b78fd</a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1\">c8dede0</a></td><td><code>changed file name, added doc for filtration method</code></td></tr></table>\n",
    "created_at": "2021-06-02T12:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514948",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe67d65b3b448a99d185d8d37907be251f74244d">fe67d65</a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2bc95f3c98f5f721c1ee469f85312eb1c6df1c5">d2bc95f</a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83b78fdf12f7cb1801a67e69616bda1530c08daf">83b78fd</a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1">c8dede0</a></td><td><code>changed file name, added doc for filtration method</code></td></tr></table>




---

archive/issue_comments_514949.json:
```json
{
    "body": "**Changing commit** from \"[8b7666f1c62916489638b9fe226f001925d71557](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)\" to \"[c8dede08b73112d9c18ffbd4c5d28e002ef79fd1](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)\".",
    "created_at": "2021-06-02T12:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514949",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[8b7666f1c62916489638b9fe226f001925d71557](https://github.com/sagemath/sagetrac-mirror/commit/8b7666f1c62916489638b9fe226f001925d71557)" to "[c8dede08b73112d9c18ffbd4c5d28e002ef79fd1](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)".



---

archive/issue_comments_514950.json:
```json
{
    "body": "**Changing commit** from \"[c8dede08b73112d9c18ffbd4c5d28e002ef79fd1](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)\" to \"[8bd967dcd451dfc219a3088a7c3c6e43c349759d](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)\".",
    "created_at": "2021-06-02T12:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514950",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c8dede08b73112d9c18ffbd4c5d28e002ef79fd1](https://github.com/sagemath/sagetrac-mirror/commit/c8dede08b73112d9c18ffbd4c5d28e002ef79fd1)" to "[8bd967dcd451dfc219a3088a7c3c6e43c349759d](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)".



---

archive/issue_comments_514951.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d\">8bd967d</a></td><td><code>PEP8</code></td></tr></table>\n",
    "created_at": "2021-06-02T12:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514951",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d">8bd967d</a></td><td><code>PEP8</code></td></tr></table>




---

archive/issue_comments_514952.json:
```json
{
    "body": "**Changing commit** from \"[8bd967dcd451dfc219a3088a7c3c6e43c349759d](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)\" to \"[9301aa19a2aad894ddc63708efcf9e16ae9ba7af](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)\".",
    "created_at": "2021-06-02T12:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514952",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[8bd967dcd451dfc219a3088a7c3c6e43c349759d](https://github.com/sagemath/sagetrac-mirror/commit/8bd967dcd451dfc219a3088a7c3c6e43c349759d)" to "[9301aa19a2aad894ddc63708efcf9e16ae9ba7af](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)".



---

archive/issue_comments_514953.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af\">9301aa1</a></td><td><code>added more doc</code></td></tr></table>\n",
    "created_at": "2021-06-02T12:47:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514953",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af">9301aa1</a></td><td><code>added more doc</code></td></tr></table>




---

archive/issue_comments_514954.json:
```json
{
    "body": "<a id='comment:27'></a>\nI don't really like the fact that `compute_persistent_homology()` in some sense fixes the field you are computing the homology over and that it needs to be called before getting the intervals without a meaningful error message. Plus the result is only partially cached as when you run this again, you obtain new data that overwrites the old computed data. So my proposal is to change it as follows:\n\n- Make `compute_persistent_homology()` hidden by `_compute_persistent_homology()` and then have it return the resulting intervals.\n- Have a cached method `intervals()` (perhaps call that `persistence_intervals`) that has `field` and `strict` as part of its key. So it will be decorated by `@cached_method(key=lambda self,f,s,v: (f,s))`.\n- Remove the now unused attributes such as `intervals`.\n\nAlso, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, I also don't see the need for the `_simplicies` list as you can get it as the keys of `_filtration_dict`. The sorting is only needed during the computation of the persistent homology, which you could construct in there.",
    "created_at": "2021-06-05T08:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514954",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
I don't really like the fact that `compute_persistent_homology()` in some sense fixes the field you are computing the homology over and that it needs to be called before getting the intervals without a meaningful error message. Plus the result is only partially cached as when you run this again, you obtain new data that overwrites the old computed data. So my proposal is to change it as follows:

- Make `compute_persistent_homology()` hidden by `_compute_persistent_homology()` and then have it return the resulting intervals.
- Have a cached method `intervals()` (perhaps call that `persistence_intervals`) that has `field` and `strict` as part of its key. So it will be decorated by `@cached_method(key=lambda self,f,s,v: (f,s))`.
- Remove the now unused attributes such as `intervals`.

Also, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, I also don't see the need for the `_simplicies` list as you can get it as the keys of `_filtration_dict`. The sorting is only needed during the computation of the persistent homology, which you could construct in there.



---

archive/issue_comments_514955.json:
```json
{
    "body": "**Changing commit** from \"[9301aa19a2aad894ddc63708efcf9e16ae9ba7af](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)\" to \"[47403e271aadbd5a3e549900052bfe89bde91769](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)\".",
    "created_at": "2021-06-07T08:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514955",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9301aa19a2aad894ddc63708efcf9e16ae9ba7af](https://github.com/sagemath/sagetrac-mirror/commit/9301aa19a2aad894ddc63708efcf9e16ae9ba7af)" to "[47403e271aadbd5a3e549900052bfe89bde91769](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)".



---

archive/issue_comments_514956.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769\">47403e2</a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>\n",
    "created_at": "2021-06-07T08:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514956",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769">47403e2</a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>




---

archive/issue_comments_514957.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [@tscrim](#comment%3A27):\n> I don't really like the fact that `compute_persistent_homology()`...\n\nI agree, I didn't know about the cached_method decorator and it can probably be very useful here. However there is a problem: since `FilteredSimplicialComplex` objects can have their simplices inserted or changed, the cache key needs to take into account whether the complex has changed since last time persistent homology was computed or not.\nI was thinking of just counting the number of times that the complex has been modified and have that also be part of the cache key, but maybe there is a simpler / less hacky solution...\nIn any case, I think that the `_compute_persistent_homology` method should be cached rather than the `persistence_intervals` method, since it can be called when computing intervals or betti numbers.\n\n> Also, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, ...\n\nYes this is much simpler, thank you ! \n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769\">47403e2</a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>\n",
    "created_at": "2021-06-07T08:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514957",
    "user": "https://github.com/Quenouillaume"
}
```

<a id='comment:29'></a>
Replying to [@tscrim](#comment%3A27):
> I don't really like the fact that `compute_persistent_homology()`...

I agree, I didn't know about the cached_method decorator and it can probably be very useful here. However there is a problem: since `FilteredSimplicialComplex` objects can have their simplices inserted or changed, the cache key needs to take into account whether the complex has changed since last time persistent homology was computed or not.
I was thinking of just counting the number of times that the complex has been modified and have that also be part of the cache key, but maybe there is a simpler / less hacky solution...
In any case, I think that the `_compute_persistent_homology` method should be cached rather than the `persistence_intervals` method, since it can be called when computing intervals or betti numbers.

> Also, why can't you just pass `_filtration_dict` as a list of simplicies to `SimplicialComplex` in `_simplicial_`? Related, ...

Yes this is much simpler, thank you ! 

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769">47403e2</a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr></table>




---

archive/issue_comments_514958.json:
```json
{
    "body": "<a id='comment:30'></a>\nI would just call `foo.cached_func.clear_cache()` to clear the cache when the complex is mutated.\n\nAddendum: The way you have it implemented now is effectively a memory leak since you are always adding more stuff to the cache every time you run it.",
    "created_at": "2021-06-07T22:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514958",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>
I would just call `foo.cached_func.clear_cache()` to clear the cache when the complex is mutated.

Addendum: The way you have it implemented now is effectively a memory leak since you are always adding more stuff to the cache every time you run it.



---

archive/issue_comments_514959.json:
```json
{
    "body": "**Changing commit** from \"[47403e271aadbd5a3e549900052bfe89bde91769](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)\" to \"[bafca2681916e88c8341d6179ca081f826250f8f](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)\".",
    "created_at": "2021-06-08T10:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514959",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[47403e271aadbd5a3e549900052bfe89bde91769](https://github.com/sagemath/sagetrac-mirror/commit/47403e271aadbd5a3e549900052bfe89bde91769)" to "[bafca2681916e88c8341d6179ca081f826250f8f](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)".



---

archive/issue_comments_514960.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f\">bafca26</a></td><td><code>simplified cache</code></td></tr></table>\n",
    "created_at": "2021-06-08T10:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514960",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f">bafca26</a></td><td><code>simplified cache</code></td></tr></table>




---

archive/issue_comments_514961.json:
```json
{
    "body": "**Changing commit** from \"[bafca2681916e88c8341d6179ca081f826250f8f](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)\" to \"[354b23d6a2fda7944f686389e1aad12cbae1a45e](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)\".",
    "created_at": "2021-06-08T10:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514961",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[bafca2681916e88c8341d6179ca081f826250f8f](https://github.com/sagemath/sagetrac-mirror/commit/bafca2681916e88c8341d6179ca081f826250f8f)" to "[354b23d6a2fda7944f686389e1aad12cbae1a45e](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)".



---

archive/issue_comments_514962.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e\">354b23d</a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr></table>\n",
    "created_at": "2021-06-08T10:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514962",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e">354b23d</a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr></table>




---

archive/issue_comments_514963.json:
```json
{
    "body": "<a id='comment:33'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514963",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_286043.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286043"
}
```



---

archive/issue_events_286044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286044"
}
```



---

archive/issue_comments_514964.json:
```json
{
    "body": "<a id='comment:34'></a>\nSorry for loosing track of this; I didn't get any notifications from trac that you pushed changes.\n\nI think all of my and John's current comments have been taken into account, correct?\n\nCan you provide a rebase onto the latest beta? I will continue my review at that point.",
    "created_at": "2021-08-27T01:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514964",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>
Sorry for loosing track of this; I didn't get any notifications from trac that you pushed changes.

I think all of my and John's current comments have been taken into account, correct?

Can you provide a rebase onto the latest beta? I will continue my review at that point.



---

archive/issue_comments_514965.json:
```json
{
    "body": "**Changing commit** from \"[354b23d6a2fda7944f686389e1aad12cbae1a45e](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)\" to \"[98f2a1dcd565a01bda90e0edb86232fc08cf40b4](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)\".",
    "created_at": "2021-08-27T16:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514965",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[354b23d6a2fda7944f686389e1aad12cbae1a45e](https://github.com/sagemath/sagetrac-mirror/commit/354b23d6a2fda7944f686389e1aad12cbae1a45e)" to "[98f2a1dcd565a01bda90e0edb86232fc08cf40b4](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)".



---

archive/issue_comments_514966.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e39330081cb55531cd736f5cffe87c3aad6cc69\">3e39330</a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66616b73238b422086b4641b1e3840a34d077b8c\">66616b7</a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd45642010dad6be4e0329a37e0c62d67e83830\">1fd4564</a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09aada43445b3f21ec0f9e86bc27f58b38a09bc4\">09aada4</a></td><td><code>changed file name, added doc for filtration method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfcbc939db878e11cf2eeec56a15e9094894f01d\">bfcbc93</a></td><td><code>PEP8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb621ffaafcacee456a63c14eb1d4a6a8f8a7282\">eb621ff</a></td><td><code>added more doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0811c7ca0f43b8d18b672d214db6753de1f853b\">d0811c7</a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16a8d9bf2b253951b87079ba50c0b3950b20caf3\">16a8d9b</a></td><td><code>simplified cache</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdfd1e992cea54b9cdb645cb071bf2de287038ef\">bdfd1e9</a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4\">98f2a1d</a></td><td><code> Merge branch 'u/gh-Quenouillaume/persistent_homology' of trac.sagemath.org:sage into t/31861/persistent_homology</code></td></tr></table>\n",
    "created_at": "2021-08-27T16:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514966",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e39330081cb55531cd736f5cffe87c3aad6cc69">3e39330</a></td><td><code>fixed class name, added `_simplicial_` and prune, removed negative constraint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66616b73238b422086b4641b1e3840a34d077b8c">66616b7</a></td><td><code>removed mention of degree, fused insert and get_value into filtration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd45642010dad6be4e0329a37e0c62d67e83830">1fd4564</a></td><td><code>fixed docstring error</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09aada43445b3f21ec0f9e86bc27f58b38a09bc4">09aada4</a></td><td><code>changed file name, added doc for filtration method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfcbc939db878e11cf2eeec56a15e9094894f01d">bfcbc93</a></td><td><code>PEP8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb621ffaafcacee456a63c14eb1d4a6a8f8a7282">eb621ff</a></td><td><code>added more doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0811c7ca0f43b8d18b672d214db6753de1f853b">d0811c7</a></td><td><code>cached computation of homology, made `_simplicial_` simpler, removed some useless attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16a8d9bf2b253951b87079ba50c0b3950b20caf3">16a8d9b</a></td><td><code>simplified cache</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdfd1e992cea54b9cdb645cb071bf2de287038ef">bdfd1e9</a></td><td><code>_persistent_homology now properly returns intervals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4">98f2a1d</a></td><td><code> Merge branch 'u/gh-Quenouillaume/persistent_homology' of trac.sagemath.org:sage into t/31861/persistent_homology</code></td></tr></table>




---

archive/issue_comments_514967.json:
```json
{
    "body": "<a id='comment:36'></a>\nI believe I've taken all your comments into account ! And I've just finished rebasing if you wish to keep reviewing.",
    "created_at": "2021-08-27T16:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514967",
    "user": "https://github.com/Quenouillaume"
}
```

<a id='comment:36'></a>
I believe I've taken all your comments into account ! And I've just finished rebasing if you wish to keep reviewing.



---

archive/issue_comments_514968.json:
```json
{
    "body": "<a id='comment:37'></a>\nle patchbot a l'air de dire que la branche ne compile pas..",
    "created_at": "2021-08-28T12:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514968",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:37'></a>
le patchbot a l'air de dire que la branche ne compile pas..



---

archive/issue_comments_514969.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6\">8166651</a></td><td><code>fixed rebase error</code></td></tr></table>\n",
    "created_at": "2021-08-28T18:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514969",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6">8166651</a></td><td><code>fixed rebase error</code></td></tr></table>




---

archive/issue_comments_514970.json:
```json
{
    "body": "**Changing commit** from \"[98f2a1dcd565a01bda90e0edb86232fc08cf40b4](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)\" to \"[8166651b7b8aef9f9638c3426dfefebce0d667c6](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)\".",
    "created_at": "2021-08-28T18:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514970",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[98f2a1dcd565a01bda90e0edb86232fc08cf40b4](https://github.com/sagemath/sagetrac-mirror/commit/98f2a1dcd565a01bda90e0edb86232fc08cf40b4)" to "[8166651b7b8aef9f9638c3426dfefebce0d667c6](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)".



---

archive/issue_comments_514971.json:
```json
{
    "body": "<a id='comment:39'></a>\nI fixed the rebase error, it should work now. This was in part due to me not realizing that \n`sage.homology.simplicial_complex` was deprecated and moved to `sage.topology` ! \nShould the files of this ticket also be moved from `sage.homology` to `sage.topology` ?",
    "created_at": "2021-08-28T18:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514971",
    "user": "https://github.com/Quenouillaume"
}
```

<a id='comment:39'></a>
I fixed the rebase error, it should work now. This was in part due to me not realizing that 
`sage.homology.simplicial_complex` was deprecated and moved to `sage.topology` ! 
Should the files of this ticket also be moved from `sage.homology` to `sage.topology` ?



---

archive/issue_comments_514972.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [@Quenouillaume](#comment%3A39):\n> Should the files of this ticket also be moved from `sage.homology` to `sage.topology` ?\n\nI would say yes.",
    "created_at": "2021-08-28T19:40:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514972",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:40'></a>
Replying to [@Quenouillaume](#comment%3A39):
> Should the files of this ticket also be moved from `sage.homology` to `sage.topology` ?

I would say yes.



---

archive/issue_comments_514973.json:
```json
{
    "body": "<a id='comment:41'></a>\nle patchbot dit maintenant que la doc ne compile pas:\n\n```\n[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: Duplicate explicit target name: \"zc2005\".\n[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: duplicate citation ZC2005, other instance in /home/chapoton/sage/src/doc/en/reference/references/index.rst\n```",
    "created_at": "2021-08-29T06:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514973",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>
le patchbot dit maintenant que la doc ne compile pas:

```
[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: Duplicate explicit target name: "zc2005".
[dochtml] [reference] /home/chapoton/sage/src/doc/en/reference/references/index.rst:5977: WARNING: duplicate citation ZC2005, other instance in /home/chapoton/sage/src/doc/en/reference/references/index.rst
```



---

archive/issue_comments_514974.json:
```json
{
    "body": "<a id='comment:42'></a>\nIndeed, you can see in the diff that [ZC2005] has accidentally been added twice. I have removed the duplicate reference.\n\nI made a few other reviewer changes. Most of them are doc formatting. However, there are two big ones:\n\n- I added an equality check.\n- I changed `warnings` to `verbose` as it wasn't being used to warn the user but simply expressing that it changed its state.\n\nI found two things that might be lacking: we cannot remove simplices nor raise the filtration value. The first is a feature that can be added later. The second, I am guessing it is for reasons of keeping things consistent? These aren't anything that would prevent me from giving a positive review, but it would be nice for some clarification for the latter (of course, the behaviour is documented, but why do we want this?).\n\nJohn, do you have any other comments?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d42489e4d1c07db6a42b495a9fb3a8ea018b90f\">9d42489</a></td><td><code>Fixing duplicate citation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee\">78e0099</a></td><td><code>Reviewer changes with formatting, equality, and other small tweaks.</code></td></tr></table>\n",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514974",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:42'></a>
Indeed, you can see in the diff that [ZC2005] has accidentally been added twice. I have removed the duplicate reference.

I made a few other reviewer changes. Most of them are doc formatting. However, there are two big ones:

- I added an equality check.
- I changed `warnings` to `verbose` as it wasn't being used to warn the user but simply expressing that it changed its state.

I found two things that might be lacking: we cannot remove simplices nor raise the filtration value. The first is a feature that can be added later. The second, I am guessing it is for reasons of keeping things consistent? These aren't anything that would prevent me from giving a positive review, but it would be nice for some clarification for the latter (of course, the behaviour is documented, but why do we want this?).

John, do you have any other comments?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d42489e4d1c07db6a42b495a9fb3a8ea018b90f">9d42489</a></td><td><code>Fixing duplicate citation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee">78e0099</a></td><td><code>Reviewer changes with formatting, equality, and other small tweaks.</code></td></tr></table>




---

archive/issue_comments_514975.json:
```json
{
    "body": "**Changing commit** from \"[8166651b7b8aef9f9638c3426dfefebce0d667c6](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)\" to \"[78e0099cd624afa276d656f7884b8ad90820e3ee](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)\".",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514975",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[8166651b7b8aef9f9638c3426dfefebce0d667c6](https://github.com/sagemath/sagetrac-mirror/commit/8166651b7b8aef9f9638c3426dfefebce0d667c6)" to "[78e0099cd624afa276d656f7884b8ad90820e3ee](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)".



---

archive/issue_comments_514976.json:
```json
{
    "body": "**Reviewer:** John Palmieri, Travis Scrimshaw",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514976",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** John Palmieri, Travis Scrimshaw



---

archive/issue_comments_514977.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)\" to \"[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)\".",
    "created_at": "2021-09-01T02:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514977",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/gh-Quenouillaume/persistent_homology](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Quenouillaume/persistent_homology)" to "[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)".



---

archive/issue_comments_514978.json:
```json
{
    "body": "<a id='comment:43'></a>\nMy only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.",
    "created_at": "2021-09-01T16:56:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514978",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:43'></a>
My only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.



---

archive/issue_comments_514979.json:
```json
{
    "body": "**Changing commit** from \"[78e0099cd624afa276d656f7884b8ad90820e3ee](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)\" to \"[a1252971bffa9d2711eff82e57efe7c6358a2d01](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)\".",
    "created_at": "2021-09-08T01:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514979",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[78e0099cd624afa276d656f7884b8ad90820e3ee](https://github.com/sagemath/sagetrac-mirror/commit/78e0099cd624afa276d656f7884b8ad90820e3ee)" to "[a1252971bffa9d2711eff82e57efe7c6358a2d01](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)".



---

archive/issue_comments_514980.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01\">a125297</a></td><td><code>Moving filtered_simplicial_complex.py to topology.</code></td></tr></table>\n",
    "created_at": "2021-09-08T01:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514980",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01">a125297</a></td><td><code>Moving filtered_simplicial_complex.py to topology.</code></td></tr></table>




---

archive/issue_comments_514981.json:
```json
{
    "body": "**Changing commit** from \"[a1252971bffa9d2711eff82e57efe7c6358a2d01](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)\" to \"[36b9376e415573290c1bf8d23db476bc606a7ad1](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)\".",
    "created_at": "2021-09-08T01:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514981",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a1252971bffa9d2711eff82e57efe7c6358a2d01](https://github.com/sagemath/sagetrac-mirror/commit/a1252971bffa9d2711eff82e57efe7c6358a2d01)" to "[36b9376e415573290c1bf8d23db476bc606a7ad1](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)".



---

archive/issue_comments_514982.json:
```json
{
    "body": "<a id='comment:45'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1\">36b9376</a></td><td><code>Trac #31861: Fixing pyflakes warning.</code></td></tr></table>\n",
    "created_at": "2021-09-08T01:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514982",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:45'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1">36b9376</a></td><td><code>Trac #31861: Fixing pyflakes warning.</code></td></tr></table>




---

archive/issue_comments_514983.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [@jhpalmieri](#comment%3A43):\n> My only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.\n\nI have moved it over and fixed a pyflakes warning. Please check.",
    "created_at": "2021-09-08T01:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514983",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:46'></a>
Replying to [@jhpalmieri](#comment%3A43):
> My only comment is that the file should be moved from `homology` to `topology`. After that,  I would be happy to see it merged.

I have moved it over and fixed a pyflakes warning. Please check.



---

archive/issue_comments_514984.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee3cc74d1aed2a0c933f8e7137743bcace16232d\">ee3cc74</a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725\">21e9d67</a></td><td><code>One last detail for the move to topology.</code></td></tr></table>\n",
    "created_at": "2021-09-08T22:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514984",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee3cc74d1aed2a0c933f8e7137743bcace16232d">ee3cc74</a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725">21e9d67</a></td><td><code>One last detail for the move to topology.</code></td></tr></table>




---

archive/issue_comments_514985.json:
```json
{
    "body": "**Changing commit** from \"[36b9376e415573290c1bf8d23db476bc606a7ad1](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)\" to \"[21e9d6746d52a2975831381440f480f6d2474725](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)\".",
    "created_at": "2021-09-08T22:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514985",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[36b9376e415573290c1bf8d23db476bc606a7ad1](https://github.com/sagemath/sagetrac-mirror/commit/36b9376e415573290c1bf8d23db476bc606a7ad1)" to "[21e9d6746d52a2975831381440f480f6d2474725](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)".



---

archive/issue_comments_514986.json:
```json
{
    "body": "<a id='comment:48'></a>\nThat should fix the docbuild issue.",
    "created_at": "2021-09-08T22:10:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514986",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:48'></a>
That should fix the docbuild issue.



---

archive/issue_comments_514987.json:
```json
{
    "body": "<a id='comment:49'></a>\nGreen patchbot.",
    "created_at": "2021-09-13T01:21:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514987",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:49'></a>
Green patchbot.



---

archive/issue_events_286045.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-09-13T04:50:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286045"
}
```



---

archive/issue_events_286046.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-09-13T04:50:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286046"
}
```



---

archive/issue_comments_514988.json:
```json
{
    "body": "<a id='comment:50'></a>\nGreat, let's merge it!",
    "created_at": "2021-09-13T04:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514988",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:50'></a>
Great, let's merge it!



---

archive/issue_events_286047.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-14T22:51:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286047"
}
```



---

archive/issue_events_286048.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-14T22:51:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286048"
}
```



---

archive/issue_comments_514989.json:
```json
{
    "body": "<a id='comment:51'></a>\nMerge conflict",
    "created_at": "2021-09-14T22:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514989",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:51'></a>
Merge conflict



---

archive/issue_comments_514990.json:
```json
{
    "body": "<a id='comment:52'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a\">a70ea5b</a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr></table>\n",
    "created_at": "2021-09-14T23:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514990",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:52'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a">a70ea5b</a></td><td><code>Merge branch 'public/algebraic_topology/persistent_homology-31861' of git://trac.sagemath.org/sage into public/algebraic_topology/persistent_homology-31861</code></td></tr></table>




---

archive/issue_comments_514991.json:
```json
{
    "body": "**Changing commit** from \"[21e9d6746d52a2975831381440f480f6d2474725](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)\" to \"[a70ea5b05938f22ffe388957b972b439aa2e130a](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)\".",
    "created_at": "2021-09-14T23:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514991",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[21e9d6746d52a2975831381440f480f6d2474725](https://github.com/sagemath/sagetrac-mirror/commit/21e9d6746d52a2975831381440f480f6d2474725)" to "[a70ea5b05938f22ffe388957b972b439aa2e130a](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)".



---

archive/issue_events_286049.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-09-14T23:46:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286049"
}
```



---

archive/issue_events_286050.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-09-14T23:46:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286050"
}
```



---

archive/issue_comments_514992.json:
```json
{
    "body": "<a id='comment:53'></a>\nTrivial rebase.",
    "created_at": "2021-09-14T23:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514992",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:53'></a>
Trivial rebase.



---

archive/issue_events_286051.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-19T09:59:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286051"
}
```



---

archive/issue_events_286052.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "751a6bb9f587a5e2ed8ca47ef58d75bee97cab00",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-09-19T09:59:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31861#event-286052"
}
```



---

archive/issue_comments_514993.json:
```json
{
    "body": "**Changing branch** from \"[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)\" to \"[a70ea5b05938f22ffe388957b972b439aa2e130a](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)\".",
    "created_at": "2021-09-19T09:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31861#issuecomment-514993",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/algebraic_topology/persistent_homology-31861](https://github.com/sagemath/sagetrac-mirror/tree/public/algebraic_topology/persistent_homology-31861)" to "[a70ea5b05938f22ffe388957b972b439aa2e130a](https://github.com/sagemath/sagetrac-mirror/commit/a70ea5b05938f22ffe388957b972b439aa2e130a)".
