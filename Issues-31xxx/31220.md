# Issue 31220: Remove test for safe directory while doctesting

archive/issues_030983.json:
```json
{
    "body": "Running the doctests in WSL from a mounted Windows directory didn't worked because the folder is writable by default. (There are some ways to control the permissions, but its rather involved: https://docs.microsoft.com/en-us/windows/wsl/file-permissions).\n\nThis ticket removes this check completely as I didn't see against which attack vectors it protects (if somebody has write access to sage's code base anyway, then she could also easily disable this check). But maybe I'm missing something.\n\nCC:  @tscrim @nthiery chapton @mkoeppe @embray @slel @kiwifb @jhpalmieri\n\nBranch/Commit: 6efa2de252c4985a4da6d26a4bc3fe827fa9b2a3\n\nReviewer: John Palmieri, Fran\u00e7ois Bissey\n\nAuthor: Tobias Diez\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31220\n\n",
    "closed_at": "2021-01-24T10:37:20Z",
    "created_at": "2021-01-10T15:56:42Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Remove test for safe directory while doctesting",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31220",
    "user": "https://github.com/tobiasdiez"
}
```
Running the doctests in WSL from a mounted Windows directory didn't worked because the folder is writable by default. (There are some ways to control the permissions, but its rather involved: https://docs.microsoft.com/en-us/windows/wsl/file-permissions).

This ticket removes this check completely as I didn't see against which attack vectors it protects (if somebody has write access to sage's code base anyway, then she could also easily disable this check). But maybe I'm missing something.

CC:  @tscrim @nthiery chapton @mkoeppe @embray @slel @kiwifb @jhpalmieri

Branch/Commit: 6efa2de252c4985a4da6d26a4bc3fe827fa9b2a3

Reviewer: John Palmieri, François Bissey

Author: Tobias Diez

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31220





---

archive/issue_comments_611579.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-10T15:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611579",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_611580.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis test was last updated in #25358",
    "created_at": "2021-01-10T18:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611580",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
This test was last updated in #25358



---

archive/issue_events_099816.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "rename": {
        "from": "Remove test for save directory while doctesting",
        "to": "Remove test for safe directory while doctesting"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31220#event-99816"
}
```



---

archive/issue_comments_611581.json:
```json
{
    "body": "Changing author from \"\" to \"Tobias Diez\"",
    "created_at": "2021-01-10T18:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611581",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Tobias Diez"



---

archive/issue_comments_611582.json:
```json
{
    "body": "<a id='comment:4'></a>\nI have no objections to removing this test.",
    "created_at": "2021-01-11T02:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611582",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
I have no objections to removing this test.



---

archive/issue_comments_611583.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [jhpalmieri](#comment%3A4):\n> I have no objections to removing this test.\n\n\nMe neither really. It used to test the fact that Jeroen patched python2.7 to secure paths. We have that out of the box with python3 except in isolated cases like above.\n\nIt is technically not sagemath's job to test python security out of the box. Let's move on.",
    "created_at": "2021-01-11T02:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611583",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
Replying to [jhpalmieri](#comment%3A4):
> I have no objections to removing this test.


Me neither really. It used to test the fact that Jeroen patched python2.7 to secure paths. We have that out of the box with python3 except in isolated cases like above.

It is technically not sagemath's job to test python security out of the box. Let's move on.



---

archive/issue_comments_611584.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri, Fran\u00e7ois Bissey\"",
    "created_at": "2021-01-11T02:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611584",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "" to "John Palmieri, François Bissey"



---

archive/issue_comments_611585.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-11T02:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611585",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_611586.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks for the quick review!",
    "created_at": "2021-01-11T15:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611586",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:6'></a>
Thanks for the quick review!



---

archive/issue_events_099817.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-01-24T10:37:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31220#event-99817"
}
```



---

archive/issue_comments_611587.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-01-24T10:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611587",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_611588.json:
```json
{
    "body": "Changing branch from \"public/documentation/remove-test-safe\" to \"6efa2de252c4985a4da6d26a4bc3fe827fa9b2a3\"",
    "created_at": "2021-01-24T10:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31220",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31220#issuecomment-611588",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/documentation/remove-test-safe" to "6efa2de252c4985a4da6d26a4bc3fe827fa9b2a3"
