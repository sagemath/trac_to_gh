# Issue 31877: Refine category of RealSet

archive/issues_031640.json:
```json
{
    "assignees": [],
    "body": "we should put it in a suitable subcategory of `TopologicalSpaces`.\n\n\nDepends on #31880\n\nCC:  @mjungmath @egourgoulhon @tscrim\n\nBranch/Commit: **[`5b0f85d`](https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **categories**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31877_\n\n",
    "closed_at": "2021-06-29T23:08:33Z",
    "created_at": "2021-05-29T21:11:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20categories",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Refine category of RealSet",
    "type": "issue",
    "updated_at": "2021-06-29T23:08:33Z",
    "url": "https://github.com/sagemath/sage/issues/31877",
    "user": "https://github.com/mkoeppe"
}
```
we should put it in a suitable subcategory of `TopologicalSpaces`.


Depends on #31880

CC:  @mjungmath @egourgoulhon @tscrim

Branch/Commit: **[`5b0f85d`](https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408)**

Reviewer: **Travis Scrimshaw**

Author: **Matthias Koeppe**

Component: **categories**

_Issue created by migration from https://trac.sagemath.org/ticket/31877_





---

archive/issue_events_439542.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-29T21:11:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439542"
}
```



---

archive/issue_events_439543.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-29T21:11:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439543"
}
```



---

archive/issue_events_439544.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-29T21:11:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439544"
}
```



---

archive/issue_events_439545.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-29T21:11:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439545"
}
```



---

archive/issue_comments_512467.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nPossibly a good idea to consider: [#30832 comment:6](https://github.com/sagemath/sage/issues/30832#comment:6).",
    "created_at": "2021-05-29T22:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512467",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:1" align="right">comment:1</div>

Possibly a good idea to consider: [#30832 comment:6](https://github.com/sagemath/sage/issues/30832#comment:6).



---

archive/issue_comments_512468.json:
```json
{
    "body": "Branch: **[u/mkoeppe/refine_category_of_realset](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/refine_category_of_realset)**",
    "created_at": "2021-05-29T22:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512468",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/refine_category_of_realset](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/refine_category_of_realset)**



---

archive/issue_comments_512469.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076\"><code>4b09685</code></a></td><td><code>RealSet: Put it in a suitable subcategory of TopologicalSpaces()</code></td></tr></table>\n",
    "created_at": "2021-05-29T22:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512469",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076"><code>4b09685</code></a></td><td><code>RealSet: Put it in a suitable subcategory of TopologicalSpaces()</code></td></tr></table>




---

archive/issue_comments_512470.json:
```json
{
    "body": "Commit: **[`4b09685`](https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076)**",
    "created_at": "2021-05-29T22:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512470",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`4b09685`](https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076)**



---

archive/issue_comments_512471.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-05-29T22:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512471",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_439546.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-29T22:07:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439546"
}
```



---

archive/issue_comments_512472.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI personally don't like adding `RealSet` to `TopologicalSpaces`. Imo the difference between `RealSet` and `OpenInterval` should be exactly that: seeing them as sets or manifolds (i.e. top. spaces).\n\nThen a forgetful functor would also make more sense.",
    "created_at": "2021-05-30T09:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512472",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:4" align="right">comment:4</div>

I personally don't like adding `RealSet` to `TopologicalSpaces`. Imo the difference between `RealSet` and `OpenInterval` should be exactly that: seeing them as sets or manifolds (i.e. top. spaces).

Then a forgetful functor would also make more sense.



---

archive/issue_comments_512473.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nA `RealSet` instance is a union of finitely many (possibly degenerate) intervals, so it is always a topological subspace of the real line, but not always a manifold. It would belong to the category of manifolds with corners of mixed dimension, but I think it's a long way until we have implemented that.",
    "created_at": "2021-05-30T17:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512473",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

A `RealSet` instance is a union of finitely many (possibly degenerate) intervals, so it is always a topological subspace of the real line, but not always a manifold. It would belong to the category of manifolds with corners of mixed dimension, but I think it's a long way until we have implemented that.



---

archive/issue_comments_512474.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI think this is good. As Matthias said, they are naturally topological spaces from the subspace topology. The only question I have is why is `ambient()` a `@staticmethod`? I feel like it should be a normal method because the ambient space is associated with the instance rather than as a constructor function (cf. `open_closed`).\n\n@mjungmath I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.",
    "created_at": "2021-05-30T23:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512474",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology. The only question I have is why is `ambient()` a `@staticmethod`? I feel like it should be a normal method because the ambient space is associated with the instance rather than as a constructor function (cf. `open_closed`).

@mjungmath I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.



---

archive/issue_comments_512475.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-05-30T23:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512475",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_512476.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@tscrim](#comment:6):\n> The only question I have is why is `ambient()` a `@staticmethod`? I feel like it should be a normal method \n\nOK, I'll make this change.",
    "created_at": "2021-05-30T23:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512476",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@tscrim](#comment:6):
> The only question I have is why is `ambient()` a `@staticmethod`? I feel like it should be a normal method 

OK, I'll make this change.



---

archive/issue_comments_512477.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0\"><code>46eed0e</code></a></td><td><code>RealSet.ambient: Change to a normal method</code></td></tr></table>\n",
    "created_at": "2021-05-30T23:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512477",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0"><code>46eed0e</code></a></td><td><code>RealSet.ambient: Change to a normal method</code></td></tr></table>




---

archive/issue_comments_512478.json:
```json
{
    "body": "Changed commit from **[`4b09685`](https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076)** to **[`46eed0e`](https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0)**",
    "created_at": "2021-05-30T23:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512478",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4b09685`](https://github.com/sagemath/sagetrac-mirror/commit/4b09685667a8dddec24847dd14067abbe2d50076)** to **[`46eed0e`](https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0)**



---

archive/issue_comments_512479.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@tscrim](#comment:6):\n> I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.\n\nI think the idea would be that after applying the functor to the parent, asking for example for the homset would give a different answer.",
    "created_at": "2021-05-30T23:27:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512479",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@tscrim](#comment:6):
> I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.

I think the idea would be that after applying the functor to the parent, asking for example for the homset would give a different answer.



---

archive/issue_comments_512480.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@mkoeppe](#comment:10):\n> Replying to [@tscrim](#comment:6):\n> > I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.\n\n> \n> I think the idea would be that after applying the functor to the parent, asking for example for the homset would give a different answer.\n\nIMO, it is better to pass that category information to the homset construction (which you can do) if you want to consider morphisms in a weaker category. This way you have less proliferation of \"equal\" parents and dealing with elements that maybe shouldn't have the additional structure. In this example, should you be able to add two integers that are in the `ZZ` as a `Sets` object? Plus, the category you want for the morphisms is a property of the morphism, not the parent.",
    "created_at": "2021-05-31T00:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512480",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@mkoeppe](#comment:10):
> Replying to [@tscrim](#comment:6):
> > I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.

> 
> I think the idea would be that after applying the functor to the parent, asking for example for the homset would give a different answer.

IMO, it is better to pass that category information to the homset construction (which you can do) if you want to consider morphisms in a weaker category. This way you have less proliferation of "equal" parents and dealing with elements that maybe shouldn't have the additional structure. In this example, should you be able to add two integers that are in the `ZZ` as a `Sets` object? Plus, the category you want for the morphisms is a property of the morphism, not the parent.



---

archive/issue_events_439547.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-31T00:22:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439547"
}
```



---

archive/issue_events_439548.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-05-31T00:22:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439548"
}
```



---

archive/issue_comments_512481.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThanks for the change.",
    "created_at": "2021-05-31T00:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512481",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Thanks for the change.



---

archive/issue_comments_512482.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThanks!",
    "created_at": "2021-05-31T00:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512482",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Thanks!



---

archive/issue_comments_512483.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@tscrim](#comment:6):\n> I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology.\n\nJust because it comes with a natural topology doesn't mean it is the topology the user wants.\n\nIf you argument like that, every set must be seen in the category of topological spaces, because every set is endowed with a topology.\n\n> \n> @mjungmath I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.\n\n> IMO, it is better to pass that category information to the homset construction (which you can do) if you want to consider morphisms in a weaker category. This way you have less proliferation of \"equal\" parents and dealing with elements that maybe shouldn't have the additional structure. In this example, should you be able to add two integers that are in the `ZZ` as a `Sets` object? Plus, the category you want for the morphisms is a property of the morphism, not the parent.\n\n\nThen I don't understand why we even have a forgetful functor if it technically just represents the identity functor...",
    "created_at": "2021-05-31T07:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512483",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@tscrim](#comment:6):
> I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology.

Just because it comes with a natural topology doesn't mean it is the topology the user wants.

If you argument like that, every set must be seen in the category of topological spaces, because every set is endowed with a topology.

> 
> @mjungmath I don't understand what you mean by forgetful functor. These are parents, and have nothing to do with functors. For example, there is a forgetful functor from `Rings -> Sets`, and applying that functor to `ZZ` still obtains `ZZ`. It still has all of the behavior of an object in `Sets`, but there is no reason to actually forget about the ring structure.

> IMO, it is better to pass that category information to the homset construction (which you can do) if you want to consider morphisms in a weaker category. This way you have less proliferation of "equal" parents and dealing with elements that maybe shouldn't have the additional structure. In this example, should you be able to add two integers that are in the `ZZ` as a `Sets` object? Plus, the category you want for the morphisms is a property of the morphism, not the parent.


Then I don't understand why we even have a forgetful functor if it technically just represents the identity functor...



---

archive/issue_comments_512484.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nBut I agree, for structures like rings, groups etc. this approach makes total sense. Though, I still don't understand why `ForgetfulFunctor` was introduced in the first place.\n\nBut for manifolds, things are slightly different. It would be good to have a functor that forgets about the topological structure, for example to impose another one. Like I said, I don't like the idea of enforcing a preferred topology on a set if we see it just as set (what we clearly do with `RealSet` as the name indicates).",
    "created_at": "2021-05-31T08:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512484",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:15" align="right">comment:15</div>

But I agree, for structures like rings, groups etc. this approach makes total sense. Though, I still don't understand why `ForgetfulFunctor` was introduced in the first place.

But for manifolds, things are slightly different. It would be good to have a functor that forgets about the topological structure, for example to impose another one. Like I said, I don't like the idea of enforcing a preferred topology on a set if we see it just as set (what we clearly do with `RealSet` as the name indicates).



---

archive/issue_comments_512485.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mjungmath](#comment:14):\n> Replying to [@tscrim](#comment:6):\n> > I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology.\n\n> \n> Just because it comes with a natural topology doesn't mean it is the topology the user wants.\n\n`RealSet` provides constructors for certain subsets of the reals. The \"set\" of real numbers comes with a distinguished topology, which is reflected by the names of the `RealSet` constructors for intervals such as `open`, `closed`. \n\nIn #31881 (`RealSet`: Extend constructors so that they can build manifold objects) I plan to add a `category` keyword argument. Then also the rather specialized use case that a subset of the real numbers is to be treated merely as a set can be achieved by passing `category=Sets()` to the constructors.",
    "created_at": "2021-05-31T17:10:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512485",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mjungmath](#comment:14):
> Replying to [@tscrim](#comment:6):
> > I think this is good. As Matthias said, they are naturally topological spaces from the subspace topology.

> 
> Just because it comes with a natural topology doesn't mean it is the topology the user wants.

`RealSet` provides constructors for certain subsets of the reals. The "set" of real numbers comes with a distinguished topology, which is reflected by the names of the `RealSet` constructors for intervals such as `open`, `closed`. 

In #31881 (`RealSet`: Extend constructors so that they can build manifold objects) I plan to add a `category` keyword argument. Then also the rather specialized use case that a subset of the real numbers is to be treated merely as a set can be achieved by passing `category=Sets()` to the constructors.



---

archive/issue_comments_512486.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@mkoeppe](#comment:16):\n> `RealSet` provides constructors for certain subsets of the reals. The \"set\" of real numbers comes with a distinguished topology, which is reflected by the names of the `RealSet` constructors for intervals such as `open`, `closed`. \n\nGood point!\n\n> In #31881 (`RealSet`: Extend constructors so that they can build manifold objects) I plan to add a `category` keyword argument. Then also the rather specialized use case that a subset of the real numbers is to be treated merely as a set can be achieved by passing `category=Sets()` to the constructors.\n\n+1",
    "created_at": "2021-05-31T17:20:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512486",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@mkoeppe](#comment:16):
> `RealSet` provides constructors for certain subsets of the reals. The "set" of real numbers comes with a distinguished topology, which is reflected by the names of the `RealSet` constructors for intervals such as `open`, `closed`. 

Good point!

> In #31881 (`RealSet`: Extend constructors so that they can build manifold objects) I plan to add a `category` keyword argument. Then also the rather specialized use case that a subset of the real numbers is to be treated merely as a set can be achieved by passing `category=Sets()` to the constructors.

+1



---

archive/issue_comments_512487.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nJust because it acts as the identity on parents, doesn't mean it is the identity functor. Be very careful with confusing abstract and concrete mathematics. If I said `ZZ` the set is the same as `ZZ` the ring, would you agree or disagree? Or would you be like Bill Clinton and state \"That depends on what the definition of 'is' is.\"? The forgetful functor does carry some information, and that is the category you obtain at the end. It could also be used as a base class when you do have some more canonical implementations, but currently it doesn't seem to be used.\n\nBy being in the category of topological spaces, you are stating there is a preferred topology. This is akin to the `WithBasis` category saying there is a distinguished basis. This is why `TopologicalSpaces` is constructed as a functor construction category.\n\nFor the manifold code, while it is dynamic, each manifold is not meant to be treated as something that can change. So if you go from differentiable to topological, you either are actually constructing a different object because the maximal atlas is different or it has the same maximal atlas and you still require the maps to be differentiable. We just may not have provided enough information yet to see that difference.",
    "created_at": "2021-05-31T23:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512487",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

Just because it acts as the identity on parents, doesn't mean it is the identity functor. Be very careful with confusing abstract and concrete mathematics. If I said `ZZ` the set is the same as `ZZ` the ring, would you agree or disagree? Or would you be like Bill Clinton and state "That depends on what the definition of 'is' is."? The forgetful functor does carry some information, and that is the category you obtain at the end. It could also be used as a base class when you do have some more canonical implementations, but currently it doesn't seem to be used.

By being in the category of topological spaces, you are stating there is a preferred topology. This is akin to the `WithBasis` category saying there is a distinguished basis. This is why `TopologicalSpaces` is constructed as a functor construction category.

For the manifold code, while it is dynamic, each manifold is not meant to be treated as something that can change. So if you go from differentiable to topological, you either are actually constructing a different object because the maximal atlas is different or it has the same maximal atlas and you still require the maps to be differentiable. We just may not have provided enough information yet to see that difference.



---

archive/issue_comments_512488.json:
```json
{
    "body": "Dependencies: **#31880**",
    "created_at": "2021-06-19T21:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512488",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#31880**



---

archive/issue_comments_512489.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b8ceca516427f34634ab0eeb17a53a70d62f0bd\"><code>5b8ceca</code></a></td><td><code>InternalRealInterval, RealSet: Add `_latex_` methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69ca8543ccd948f9c01143dda49f574710efe0c4\"><code>69ca854</code></a></td><td><code>RealSet._repr_: Use unicode cup sign instead of +</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbdfc068f2d2ac39ae8171ea8737b2b1a535e021\"><code>dbdfc06</code></a></td><td><code>InternalRealInterval, RealSet: Remove extra whitespace in latex, add documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f563381617c2b016a8b849f83d3387ccc25d621\"><code>7f56338</code></a></td><td><code>PiecewiseFunction: Adjust doctests for changed RealSet repr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8abdc8b16f9762041c1c60bcb4672fefea12f4b4\"><code>8abdc8b</code></a></td><td><code>src/sage/functions/piecewise.py: Add coding header</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408\"><code>5b0f85d</code></a></td><td><code>Merge #31880</code></td></tr></table>\n",
    "created_at": "2021-06-19T21:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512489",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b8ceca516427f34634ab0eeb17a53a70d62f0bd"><code>5b8ceca</code></a></td><td><code>InternalRealInterval, RealSet: Add `_latex_` methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69ca8543ccd948f9c01143dda49f574710efe0c4"><code>69ca854</code></a></td><td><code>RealSet._repr_: Use unicode cup sign instead of +</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbdfc068f2d2ac39ae8171ea8737b2b1a535e021"><code>dbdfc06</code></a></td><td><code>InternalRealInterval, RealSet: Remove extra whitespace in latex, add documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f563381617c2b016a8b849f83d3387ccc25d621"><code>7f56338</code></a></td><td><code>PiecewiseFunction: Adjust doctests for changed RealSet repr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8abdc8b16f9762041c1c60bcb4672fefea12f4b4"><code>8abdc8b</code></a></td><td><code>src/sage/functions/piecewise.py: Add coding header</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408"><code>5b0f85d</code></a></td><td><code>Merge #31880</code></td></tr></table>




---

archive/issue_events_439549.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-06-19T21:02:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439549"
}
```



---

archive/issue_events_439550.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-06-19T21:02:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439550"
}
```



---

archive/issue_comments_512490.json:
```json
{
    "body": "Changed commit from **[`46eed0e`](https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0)** to **[`5b0f85d`](https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408)**",
    "created_at": "2021-06-19T21:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512490",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`46eed0e`](https://github.com/sagemath/sagetrac-mirror/commit/46eed0eeb3fc4e9509b7c55df967455ae49984d0)** to **[`5b0f85d`](https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408)**



---

archive/issue_events_439551.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-19T21:03:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439551"
}
```



---

archive/issue_events_439552.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-19T21:03:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439552"
}
```



---

archive/issue_comments_512491.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nMerged to resolve merge conflict",
    "created_at": "2021-06-19T21:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512491",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Merged to resolve merge conflict



---

archive/issue_comments_512492.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/refine_category_of_realset](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/refine_category_of_realset)** to **[`5b0f85d`](https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408)**",
    "created_at": "2021-06-29T23:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31877#issuecomment-512492",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/refine_category_of_realset](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/refine_category_of_realset)** to **[`5b0f85d`](https://github.com/sagemath/sagetrac-mirror/commit/5b0f85d4ef4734c89701c1d0144fae2e9dc6b408)**



---

archive/issue_events_439553.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-29T23:08:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439553"
}
```



---

archive/issue_events_439554.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a8da0f636052fc52bb3e24407450116f3531afcc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-06-29T23:08:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31877",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31877#event-439554"
}
```
