# Issue 31567: tox.ini: Add local-macos-nohomebrew environments, deployment targets 10.14, 10.15, 11.1

archive/issues_031330.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis will do a \"best effort\" isolation to avoid using a homebrew installation in `/usr/local` for anything except bootstrapping and unpacking xz tarballs + a little trick for liblzma.h, which is missing on macOS.\n\nTo test:\n\n```\n$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-nohomebrew-python3_xcode\n```\nIt can then be checked that no libraries from /usr/local leak in, using\n\n```\nfind prefix/lib -name \"*.so\" -o -name \"*.dylib*\" -exec otool -L {} \\;\n```\n(Building R is disabled because the R package build still pokes around in /usr/local and finds libintl and liblzma.)\n\nTo set specific deployment targets, use:\n\n```\n$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status\n$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status\n$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status\n```\n\n... and with python3.7 from XCode:\n\n```\n$ tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status\n```\n(Remove `config.status` from the end of these lines to have the actual build done.)\n\nThese environments allow building Sage for older macOS versions, for example for building a 10.14 distribution on a 10.15 machine. The wheels are then correctly tagged, for example `pplpy-0.8.6-cp38-cp38-macosx_10_14_x86_64.whl`.\n\nCannot go in the opposite direction (building for 11 on a 10.15 machine) -- because pip will refuse to install a previously built wheel that is tagged for 11.)\n\n\nDepends on #31552\nDepends on #31562\nDepends on #31409\nDepends on #31584\n\nCC:  @jhpalmieri @zlscherr\n\nComponent: **porting**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`ed1a089`](https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b)**\n\nReviewer: **John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31567_\n\n",
    "closed_at": "2021-05-27T20:28:46Z",
    "created_at": "2021-03-26T21:36:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "tox.ini: Add local-macos-nohomebrew environments, deployment targets 10.14, 10.15, 11.1",
    "type": "issue",
    "updated_at": "2021-05-27T20:28:46Z",
    "url": "https://github.com/sagemath/sage/issues/31567",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

This will do a "best effort" isolation to avoid using a homebrew installation in `/usr/local` for anything except bootstrapping and unpacking xz tarballs + a little trick for liblzma.h, which is missing on macOS.

To test:

```
$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-nohomebrew-python3_xcode
```
It can then be checked that no libraries from /usr/local leak in, using

```
find prefix/lib -name "*.so" -o -name "*.dylib*" -exec otool -L {} \;
```
(Building R is disabled because the R package build still pokes around in /usr/local and finds libintl and liblzma.)

To set specific deployment targets, use:

```
$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status
$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status
$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status
```

... and with python3.7 from XCode:

```
$ tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status
```
(Remove `config.status` from the end of these lines to have the actual build done.)

These environments allow building Sage for older macOS versions, for example for building a 10.14 distribution on a 10.15 machine. The wheels are then correctly tagged, for example `pplpy-0.8.6-cp38-cp38-macosx_10_14_x86_64.whl`.

Cannot go in the opposite direction (building for 11 on a 10.15 machine) -- because pip will refuse to install a previously built wheel that is tagged for 11.)


Depends on #31552
Depends on #31562
Depends on #31409
Depends on #31584

CC:  @jhpalmieri @zlscherr

Component: **porting**

Author: **Matthias Koeppe**

Branch/Commit: **[`ed1a089`](https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b)**

Reviewer: **John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/31567_





---

archive/issue_events_432129.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T21:36:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432129"
}
```



---

archive/issue_events_432130.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T21:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432130"
}
```



---

archive/issue_events_432131.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T21:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432131"
}
```



---

archive/issue_events_432132.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-26T21:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432132"
}
```



---

archive/issue_comments_507360.json:
```json
{
    "body": "Branch: **[u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments)**",
    "created_at": "2021-03-26T23:33:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507360",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments)**



---

archive/issue_comments_507361.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><code>[87e2dba](https://github.com/sagemath/sagetrac-mirror/commit/87e2dbaea7bf8a59d1ecb082871219e530218366)</code></td><td><code>`tox.ini: Add local-macos-nohomebrew and configuration facors macos-{10.14,10.15,11.1`}</code></td></tr></table>\n",
    "created_at": "2021-03-27T00:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507361",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><code>[87e2dba](https://github.com/sagemath/sagetrac-mirror/commit/87e2dbaea7bf8a59d1ecb082871219e530218366)</code></td><td><code>`tox.ini: Add local-macos-nohomebrew and configuration facors macos-{10.14,10.15,11.1`}</code></td></tr></table>




---

archive/issue_comments_507362.json:
```json
{
    "body": "Commit: **[`87e2dba`](https://github.com/sagemath/sagetrac-mirror/commit/87e2dbaea7bf8a59d1ecb082871219e530218366)**",
    "created_at": "2021-03-27T00:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507362",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`87e2dba`](https://github.com/sagemath/sagetrac-mirror/commit/87e2dbaea7bf8a59d1ecb082871219e530218366)**



---

archive/issue_events_432133.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-27T00:22:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "title_is": "tox.ini: Add local-macos-nohomebrew environments, deployment targets 10.14, 10.15, 11.1",
    "title_was": "tox.ini: Add local-macos-nohomebrew environments",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432133"
}
```



---

archive/issue_comments_507363.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-03-27T00:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507363",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_507364.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,16 @@\n This will do a \"best effort\" isolation to avoid using a homebrew installation in `/usr/local` for anythings except bootstrapping and perhaps unpacking xz tarballs.\n \n+To test:\n \n+```\n+$ tox -e local-macos-nohomebrew-python3_xcode -- config.status\n+```\n+\n+To set specific deployment targets, use:\n+\n+```\n+$ tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status\n+$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status\n+$ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status\n+```\n+\n``````\n",
    "created_at": "2021-03-27T00:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507364",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,16 @@
 This will do a "best effort" isolation to avoid using a homebrew installation in `/usr/local` for anythings except bootstrapping and perhaps unpacking xz tarballs.
 
+To test:
 
+```
+$ tox -e local-macos-nohomebrew-python3_xcode -- config.status
+```
+
+To set specific deployment targets, use:
+
+```
+$ tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status
+$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status
+$ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status
+```
+
``````




---

archive/issue_comments_507365.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,3 +14,7 @@\n $ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status\n ```\n \n+These environments allow building Sage for older macOS versions, for example for building a 10.14 distribution on a 10.15 machine. The wheels are then correctly tagged, for example `pplpy-0.8.6-cp38-cp38-macosx_10_14_x86_64.whl`.\n+\n+Cannot go in the opposite direction (building for 11 on a 10.15 machine) -- because pip will refuse to install a previously built wheel that is tagged for 11.)\n+\n``````\n",
    "created_at": "2021-03-27T01:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507365",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,3 +14,7 @@
 $ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status
 ```
 
+These environments allow building Sage for older macOS versions, for example for building a 10.14 distribution on a 10.15 machine. The wheels are then correctly tagged, for example `pplpy-0.8.6-cp38-cp38-macosx_10_14_x86_64.whl`.
+
+Cannot go in the opposite direction (building for 11 on a 10.15 machine) -- because pip will refuse to install a previously built wheel that is tagged for 11.)
+
``````




---

archive/issue_comments_507366.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><code>[1ed9302](https://github.com/sagemath/sagetrac-mirror/commit/1ed930292280bd3baa7cb3b72492c966fa204030)</code></td><td><code>`tox.ini: Add macos-{python3_xcode,nohomebrew}-python{3.7,3.8`}</code></td></tr></table>\n",
    "created_at": "2021-03-27T02:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507366",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><code>[1ed9302](https://github.com/sagemath/sagetrac-mirror/commit/1ed930292280bd3baa7cb3b72492c966fa204030)</code></td><td><code>`tox.ini: Add macos-{python3_xcode,nohomebrew}-python{3.7,3.8`}</code></td></tr></table>




---

archive/issue_comments_507367.json:
```json
{
    "body": "Changed commit from **[`87e2dba`](https://github.com/sagemath/sagetrac-mirror/commit/87e2dbaea7bf8a59d1ecb082871219e530218366)** to **[`1ed9302`](https://github.com/sagemath/sagetrac-mirror/commit/1ed930292280bd3baa7cb3b72492c966fa204030)**",
    "created_at": "2021-03-27T02:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507367",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87e2dba`](https://github.com/sagemath/sagetrac-mirror/commit/87e2dbaea7bf8a59d1ecb082871219e530218366)** to **[`1ed9302`](https://github.com/sagemath/sagetrac-mirror/commit/1ed930292280bd3baa7cb3b72492c966fa204030)**



---

archive/issue_comments_507368.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><code>[0458f23](https://github.com/sagemath/sagetrac-mirror/commit/0458f2309b3f30a9445dd0196a130f4d41dafe44)</code></td><td><code>`tox.ini: Add macos-{python3_xcode,nohomebrew}-python{3.7,3.8`}</code></td></tr></table>\n",
    "created_at": "2021-03-27T02:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507368",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><code>[0458f23](https://github.com/sagemath/sagetrac-mirror/commit/0458f2309b3f30a9445dd0196a130f4d41dafe44)</code></td><td><code>`tox.ini: Add macos-{python3_xcode,nohomebrew}-python{3.7,3.8`}</code></td></tr></table>




---

archive/issue_comments_507369.json:
```json
{
    "body": "Changed commit from **[`1ed9302`](https://github.com/sagemath/sagetrac-mirror/commit/1ed930292280bd3baa7cb3b72492c966fa204030)** to **[`0458f23`](https://github.com/sagemath/sagetrac-mirror/commit/0458f2309b3f30a9445dd0196a130f4d41dafe44)**",
    "created_at": "2021-03-27T02:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507369",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ed9302`](https://github.com/sagemath/sagetrac-mirror/commit/1ed930292280bd3baa7cb3b72492c966fa204030)** to **[`0458f23`](https://github.com/sagemath/sagetrac-mirror/commit/0458f2309b3f30a9445dd0196a130f4d41dafe44)**



---

archive/issue_comments_507370.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This will do a \"best effort\" isolation to avoid using a homebrew installation in `/usr/local` for anythings except bootstrapping and perhaps unpacking xz tarballs.\n+This will do a \"best effort\" isolation to avoid using a homebrew installation in `/usr/local` for anything except bootstrapping and unpacking xz tarballs + a little trick for liblzma.h, which is missing on macOS.\n \n To test:\n \n``````\n",
    "created_at": "2021-03-27T02:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507370",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This will do a "best effort" isolation to avoid using a homebrew installation in `/usr/local` for anythings except bootstrapping and perhaps unpacking xz tarballs.
+This will do a "best effort" isolation to avoid using a homebrew installation in `/usr/local` for anything except bootstrapping and unpacking xz tarballs + a little trick for liblzma.h, which is missing on macOS.
 
 To test:
 
``````




---

archive/issue_comments_507371.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis is best tested together with #31552, #31562, which do some of the necessary isolation work.\n\nMore isolation work is needed at least for `pillow` and `freetype` - as observed in [#31396 comment:32](https://github.com/sagemath/sage/issues/31396#comment:32)",
    "created_at": "2021-03-27T02:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507371",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

This is best tested together with #31552, #31562, which do some of the necessary isolation work.

More isolation work is needed at least for `pillow` and `freetype` - as observed in [#31396 comment:32](https://github.com/sagemath/sage/issues/31396#comment:32)



---

archive/issue_comments_507372.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,6 +14,13 @@\n $ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status\n ```\n \n+... and with python3.7 from XCode:\n+\n+```\n+tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status\n+```\n+(Remove `config.status` from the end of these lines to have the actual build done.)\n+\n These environments allow building Sage for older macOS versions, for example for building a 10.14 distribution on a 10.15 machine. The wheels are then correctly tagged, for example `pplpy-0.8.6-cp38-cp38-macosx_10_14_x86_64.whl`.\n \n Cannot go in the opposite direction (building for 11 on a 10.15 machine) -- because pip will refuse to install a previously built wheel that is tagged for 11.)\n``````\n",
    "created_at": "2021-03-27T02:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507372",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,6 +14,13 @@
 $ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status
 ```
 
+... and with python3.7 from XCode:
+
+```
+tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status
+```
+(Remove `config.status` from the end of these lines to have the actual build done.)
+
 These environments allow building Sage for older macOS versions, for example for building a 10.14 distribution on a 10.15 machine. The wheels are then correctly tagged, for example `pplpy-0.8.6-cp38-cp38-macosx_10_14_x86_64.whl`.
 
 Cannot go in the opposite direction (building for 11 on a 10.15 machine) -- because pip will refuse to install a previously built wheel that is tagged for 11.)
``````




---

archive/issue_comments_507373.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,7 +17,7 @@\n ... and with python3.7 from XCode:\n \n ```\n-tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status\n+$ tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status\n ```\n (Remove `config.status` from the end of these lines to have the actual build done.)\n \n``````\n",
    "created_at": "2021-03-27T02:52:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507373",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,7 +17,7 @@
 ... and with python3.7 from XCode:
 
 ```
-tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status
+$ tox -e local-macos-10.14-nohomebrew-python3_xcode-python3.7 -- config.status
 ```
 (Remove `config.status` from the end of these lines to have the actual build done.)
 
``````




---

archive/issue_comments_507374.json:
```json
{
    "body": "Dependencies: **#31552, #31562**",
    "created_at": "2021-03-27T03:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507374",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#31552, #31562**



---

archive/issue_comments_507375.json:
```json
{
    "body": "Changed commit from **[`0458f23`](https://github.com/sagemath/sagetrac-mirror/commit/0458f2309b3f30a9445dd0196a130f4d41dafe44)** to **[`9d9c562`](https://github.com/sagemath/sagetrac-mirror/commit/9d9c562060e86156064f3647e7b223054218c93d)**",
    "created_at": "2021-03-27T03:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507375",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0458f23`](https://github.com/sagemath/sagetrac-mirror/commit/0458f2309b3f30a9445dd0196a130f4d41dafe44)** to **[`9d9c562`](https://github.com/sagemath/sagetrac-mirror/commit/9d9c562060e86156064f3647e7b223054218c93d)**



---

archive/issue_comments_507376.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b5b2739d107271f8477cee8cd941bec8b255827\"><code>8b5b273</code></a></td><td><code>build/pkgs/singular/checksums.ini: Use 4.2.0p1+2021-03-24+sage-2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39629dde5cecd74a30b102f25dfef9178546a2d0\"><code>39629dd</code></a></td><td><code>Merge #31552</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ef46d0e96f00d9e7ba26f235950e90511aa2305\"><code>1ef46d0</code></a></td><td><code>build/pkgs/giac: Add another patch in patches/autotools</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89f61d2acd527c659fd1a04239661c1bb172106d\"><code>89f61d2</code></a></td><td><code>build/pkgs/giac: Update to 1.6.0.47p3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d9c562060e86156064f3647e7b223054218c93d\"><code>9d9c562</code></a></td><td><code>Merge #31562</code></td></tr></table>\n",
    "created_at": "2021-03-27T03:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507376",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b5b2739d107271f8477cee8cd941bec8b255827"><code>8b5b273</code></a></td><td><code>build/pkgs/singular/checksums.ini: Use 4.2.0p1+2021-03-24+sage-2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39629dde5cecd74a30b102f25dfef9178546a2d0"><code>39629dd</code></a></td><td><code>Merge #31552</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ef46d0e96f00d9e7ba26f235950e90511aa2305"><code>1ef46d0</code></a></td><td><code>build/pkgs/giac: Add another patch in patches/autotools</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89f61d2acd527c659fd1a04239661c1bb172106d"><code>89f61d2</code></a></td><td><code>build/pkgs/giac: Update to 1.6.0.47p3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d9c562060e86156064f3647e7b223054218c93d"><code>9d9c562</code></a></td><td><code>Merge #31562</code></td></tr></table>




---

archive/issue_events_432134.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-27T03:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432134"
}
```



---

archive/issue_comments_507377.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/236ea3c0219e5418d244c62d3289e13d14afeee1\"><code>236ea3c</code></a></td><td><code>tox.ini (macos-nohomebrew): Pass compiler configuration to configure using variables other than CC, CXX.</code></td></tr></table>\n",
    "created_at": "2021-03-28T00:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507377",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/236ea3c0219e5418d244c62d3289e13d14afeee1"><code>236ea3c</code></a></td><td><code>tox.ini (macos-nohomebrew): Pass compiler configuration to configure using variables other than CC, CXX.</code></td></tr></table>




---

archive/issue_comments_507378.json:
```json
{
    "body": "Changed commit from **[`9d9c562`](https://github.com/sagemath/sagetrac-mirror/commit/9d9c562060e86156064f3647e7b223054218c93d)** to **[`236ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/236ea3c0219e5418d244c62d3289e13d14afeee1)**",
    "created_at": "2021-03-28T00:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507378",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9d9c562`](https://github.com/sagemath/sagetrac-mirror/commit/9d9c562060e86156064f3647e7b223054218c93d)** to **[`236ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/236ea3c0219e5418d244c62d3289e13d14afeee1)**



---

archive/issue_comments_507379.json:
```json
{
    "body": "Changed commit from **[`236ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/236ea3c0219e5418d244c62d3289e13d14afeee1)** to **[`92db4e4`](https://github.com/sagemath/sagetrac-mirror/commit/92db4e40bf40a73be4570e159c4e5b36c1955451)**",
    "created_at": "2021-03-28T00:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507379",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`236ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/236ea3c0219e5418d244c62d3289e13d14afeee1)** to **[`92db4e4`](https://github.com/sagemath/sagetrac-mirror/commit/92db4e40bf40a73be4570e159c4e5b36c1955451)**



---

archive/issue_comments_507380.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92db4e40bf40a73be4570e159c4e5b36c1955451\"><code>92db4e4</code></a></td><td><code>tox.ini (macos-nohomebrew): Pass compiler configuration to configure using variables other than CC, CXX.</code></td></tr></table>\n",
    "created_at": "2021-03-28T00:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507380",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92db4e40bf40a73be4570e159c4e5b36c1955451"><code>92db4e4</code></a></td><td><code>tox.ini (macos-nohomebrew): Pass compiler configuration to configure using variables other than CC, CXX.</code></td></tr></table>




---

archive/issue_comments_507381.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,15 +3,21 @@\n To test:\n \n ```\n-$ tox -e local-macos-nohomebrew-python3_xcode -- config.status\n+$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-nohomebrew-python3_xcode\n ```\n+It can then be checked that no libraries from /usr/local leak in, using\n+\n+```\n+find prefix/lib -name \"*.so\" -o -name \"*.dylib*\" -exec otool -L {} \\;\n+```\n+(Building R is disabled because the R package build still pokes around in /usr/local and finds libintl and liblzma.)\n \n To set specific deployment targets, use:\n \n ```\n-$ tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status\n-$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status\n-$ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status\n+$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status\n+$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status\n+$ EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status\n ```\n \n ... and with python3.7 from XCode:\n``````\n",
    "created_at": "2021-03-28T01:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507381",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,15 +3,21 @@
 To test:
 
 ```
-$ tox -e local-macos-nohomebrew-python3_xcode -- config.status
+$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-nohomebrew-python3_xcode
 ```
+It can then be checked that no libraries from /usr/local leak in, using
+
+```
+find prefix/lib -name "*.so" -o -name "*.dylib*" -exec otool -L {} \;
+```
+(Building R is disabled because the R package build still pokes around in /usr/local and finds libintl and liblzma.)
 
 To set specific deployment targets, use:
 
 ```
-$ tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status
-$ tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status
-$ tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status
+$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-10.14-nohomebrew-python3_xcode -- config.status
+$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-10.15-nohomebrew-python3_xcode -- config.status
+$ EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-11.1-nohomebrew-python3_xcode -- config.status
 ```
 
 ... and with python3.7 from XCode:
``````




---

archive/issue_comments_507382.json:
```json
{
    "body": "Changed dependencies from **#31552, #31562** to **#31552, #31562, #31409**",
    "created_at": "2021-03-28T01:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507382",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31552, #31562** to **#31552, #31562, #31409**



---

archive/issue_comments_507383.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/737b21caeeeaa6616c7e25e80aecac8841dbf6e2\"><code>737b21c</code></a></td><td><code>src/sage/stats/r.py: Mark all 2 doctests in this file as # optional - rpy2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/440392440805bbdf01d42e3d5f487d61231aaabf\"><code>4403924</code></a></td><td><code>src/sage/interfaces/r.py: Mark all tests # optional - rpy2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/405ebb976c6c8ccffd5b5350f1c7ec660301d797\"><code>405ebb9</code></a></td><td><code>More # optional - rpy2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7c157665b738e2f54a6bf217c0114c4180f7df9\"><code>b7c1576</code></a></td><td><code>Merge tag '9.3.beta8' into t/31409/cygwin_standard__r_build_fails_____downgrade_r__rpy2_to_optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce3b35fea3326528936af448d006119e6405626f\"><code>ce3b35f</code></a></td><td><code>More # optional - r</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49c10c18991eed62d800f2fccc422a1a9e7555ce\"><code>49c10c1</code></a></td><td><code>Revert \"build/pkgs/{r,rpy2}: Downgrade to optional\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a67300bd66731b67fac776cfde1d8e0157392ef5\"><code>a67300b</code></a></td><td><code>Merge #30383</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0a5fb5adafd3d4c82c9d736dc95f49c67e15c39\"><code>f0a5fb5</code></a></td><td><code>configure.ac: Add option --disable-r</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f04c13484c85c5d07e76cc9f306e70553fc74c6c\"><code>f04c134</code></a></td><td><code>Merge branch 't/30383/new_package_type__optional_enabled_by_default' into t/31409/cygwin_standard__r_build_fails_____downgrade_r__rpy2_to_optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7966b662147c5f58807e0f9492b35c95e9322b36\"><code>7966b66</code></a></td><td><code>Merge #31409</code></td></tr></table>\n",
    "created_at": "2021-03-28T01:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507383",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/737b21caeeeaa6616c7e25e80aecac8841dbf6e2"><code>737b21c</code></a></td><td><code>src/sage/stats/r.py: Mark all 2 doctests in this file as # optional - rpy2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/440392440805bbdf01d42e3d5f487d61231aaabf"><code>4403924</code></a></td><td><code>src/sage/interfaces/r.py: Mark all tests # optional - rpy2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/405ebb976c6c8ccffd5b5350f1c7ec660301d797"><code>405ebb9</code></a></td><td><code>More # optional - rpy2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7c157665b738e2f54a6bf217c0114c4180f7df9"><code>b7c1576</code></a></td><td><code>Merge tag '9.3.beta8' into t/31409/cygwin_standard__r_build_fails_____downgrade_r__rpy2_to_optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce3b35fea3326528936af448d006119e6405626f"><code>ce3b35f</code></a></td><td><code>More # optional - r</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49c10c18991eed62d800f2fccc422a1a9e7555ce"><code>49c10c1</code></a></td><td><code>Revert "build/pkgs/{r,rpy2}: Downgrade to optional"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a67300bd66731b67fac776cfde1d8e0157392ef5"><code>a67300b</code></a></td><td><code>Merge #30383</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0a5fb5adafd3d4c82c9d736dc95f49c67e15c39"><code>f0a5fb5</code></a></td><td><code>configure.ac: Add option --disable-r</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f04c13484c85c5d07e76cc9f306e70553fc74c6c"><code>f04c134</code></a></td><td><code>Merge branch 't/30383/new_package_type__optional_enabled_by_default' into t/31409/cygwin_standard__r_build_fails_____downgrade_r__rpy2_to_optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7966b662147c5f58807e0f9492b35c95e9322b36"><code>7966b66</code></a></td><td><code>Merge #31409</code></td></tr></table>




---

archive/issue_comments_507384.json:
```json
{
    "body": "Changed commit from **[`92db4e4`](https://github.com/sagemath/sagetrac-mirror/commit/92db4e40bf40a73be4570e159c4e5b36c1955451)** to **[`7966b66`](https://github.com/sagemath/sagetrac-mirror/commit/7966b662147c5f58807e0f9492b35c95e9322b36)**",
    "created_at": "2021-03-28T01:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507384",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`92db4e4`](https://github.com/sagemath/sagetrac-mirror/commit/92db4e40bf40a73be4570e159c4e5b36c1955451)** to **[`7966b66`](https://github.com/sagemath/sagetrac-mirror/commit/7966b662147c5f58807e0f9492b35c95e9322b36)**



---

archive/issue_events_432135.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-28T01:58:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432135"
}
```



---

archive/issue_events_432136.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-28T01:58:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432136"
}
```



---

archive/issue_comments_507385.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5edde2e54cc58bd151880293e6454c3f92150fe\"><code>b5edde2</code></a></td><td><code>tox.ini (macos-nohomebrew): Fix typo in PILLOW_...</code></td></tr></table>\n",
    "created_at": "2021-03-28T05:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507385",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5edde2e54cc58bd151880293e6454c3f92150fe"><code>b5edde2</code></a></td><td><code>tox.ini (macos-nohomebrew): Fix typo in PILLOW_...</code></td></tr></table>




---

archive/issue_comments_507386.json:
```json
{
    "body": "Changed commit from **[`7966b66`](https://github.com/sagemath/sagetrac-mirror/commit/7966b662147c5f58807e0f9492b35c95e9322b36)** to **[`b5edde2`](https://github.com/sagemath/sagetrac-mirror/commit/b5edde2e54cc58bd151880293e6454c3f92150fe)**",
    "created_at": "2021-03-28T05:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507386",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7966b66`](https://github.com/sagemath/sagetrac-mirror/commit/7966b662147c5f58807e0f9492b35c95e9322b36)** to **[`b5edde2`](https://github.com/sagemath/sagetrac-mirror/commit/b5edde2e54cc58bd151880293e6454c3f92150fe)**



---

archive/issue_events_432137.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-28T06:02:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432137"
}
```



---

archive/issue_events_432138.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-28T06:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432138"
}
```



---

archive/issue_comments_507387.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nNow pillow does not find zlib",
    "created_at": "2021-03-28T06:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507387",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Now pillow does not find zlib



---

archive/issue_comments_507388.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dffcdbc75e46d08bcb1fd2ac9a5677a7a7312e2f\"><code>dffcdbc</code></a></td><td><code>tox.ini (macos-nohomebrew): Fix up pillow build by setting ZLIB_ROOT</code></td></tr></table>\n",
    "created_at": "2021-03-28T06:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507388",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dffcdbc75e46d08bcb1fd2ac9a5677a7a7312e2f"><code>dffcdbc</code></a></td><td><code>tox.ini (macos-nohomebrew): Fix up pillow build by setting ZLIB_ROOT</code></td></tr></table>




---

archive/issue_comments_507389.json:
```json
{
    "body": "Changed commit from **[`b5edde2`](https://github.com/sagemath/sagetrac-mirror/commit/b5edde2e54cc58bd151880293e6454c3f92150fe)** to **[`dffcdbc`](https://github.com/sagemath/sagetrac-mirror/commit/dffcdbc75e46d08bcb1fd2ac9a5677a7a7312e2f)**",
    "created_at": "2021-03-28T06:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507389",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b5edde2`](https://github.com/sagemath/sagetrac-mirror/commit/b5edde2e54cc58bd151880293e6454c3f92150fe)** to **[`dffcdbc`](https://github.com/sagemath/sagetrac-mirror/commit/dffcdbc75e46d08bcb1fd2ac9a5677a7a7312e2f)**



---

archive/issue_comments_507390.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\npillow still finds various libraries in `/usr/local` because of very creative discovery code that finds everything in `/usr/local` because we told it that it can have `/usr/local/opt/xz/include` - see `_add_directory` (https://github.com/python-pillow/Pillow/blob/8.1.x/setup.py#L197)",
    "created_at": "2021-03-29T01:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507390",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

pillow still finds various libraries in `/usr/local` because of very creative discovery code that finds everything in `/usr/local` because we told it that it can have `/usr/local/opt/xz/include` - see `_add_directory` (https://github.com/python-pillow/Pillow/blob/8.1.x/setup.py#L197)



---

archive/issue_comments_507391.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3779a2525d5bbf0987a1d4ad0e42b73fb5769bc0\"><code>3779a25</code></a></td><td><code>tox.ini (macos-nohomebrew): Disable more libraries to remove dependencies on homebrew</code></td></tr></table>\n",
    "created_at": "2021-03-29T01:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507391",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3779a2525d5bbf0987a1d4ad0e42b73fb5769bc0"><code>3779a25</code></a></td><td><code>tox.ini (macos-nohomebrew): Disable more libraries to remove dependencies on homebrew</code></td></tr></table>




---

archive/issue_comments_507392.json:
```json
{
    "body": "Changed commit from **[`dffcdbc`](https://github.com/sagemath/sagetrac-mirror/commit/dffcdbc75e46d08bcb1fd2ac9a5677a7a7312e2f)** to **[`3779a25`](https://github.com/sagemath/sagetrac-mirror/commit/3779a2525d5bbf0987a1d4ad0e42b73fb5769bc0)**",
    "created_at": "2021-03-29T01:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507392",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dffcdbc`](https://github.com/sagemath/sagetrac-mirror/commit/dffcdbc75e46d08bcb1fd2ac9a5677a7a7312e2f)** to **[`3779a25`](https://github.com/sagemath/sagetrac-mirror/commit/3779a2525d5bbf0987a1d4ad0e42b73fb5769bc0)**



---

archive/issue_events_432139.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-29T02:08:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432139"
}
```



---

archive/issue_events_432140.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-29T02:08:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432140"
}
```



---

archive/issue_comments_507393.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nFixed pillow. Now I can build a wheel in #31396 that does not have any dependencies on shared libraries in `/usr/local`.",
    "created_at": "2021-03-29T02:08:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507393",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Fixed pillow. Now I can build a wheel in #31396 that does not have any dependencies on shared libraries in `/usr/local`.



---

archive/issue_comments_507394.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nFor what it's worth, I see a few suspicious items in the log files. (This is on a system with homebrew and with `source .homebrew-build-env` in my shell init file. That may be causing some of these.)\n\n- cvxopt includes flags `-L/usr/local/lib` and `-I/usr/local/include` when calling `gcc`\n- pillow says `Appending path /usr/local/Cellar/xz/5.2.5/include` and then the `gcc` flag `-I/usr/local/Cellar/xz/5.2.5/include`.",
    "created_at": "2021-03-30T22:02:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507394",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">comment:25</div>

For what it's worth, I see a few suspicious items in the log files. (This is on a system with homebrew and with `source .homebrew-build-env` in my shell init file. That may be causing some of these.)

- cvxopt includes flags `-L/usr/local/lib` and `-I/usr/local/include` when calling `gcc`
- pillow says `Appending path /usr/local/Cellar/xz/5.2.5/include` and then the `gcc` flag `-I/usr/local/Cellar/xz/5.2.5/include`.



---

archive/issue_comments_507395.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThe xz include is on purpose -- see comment added in `tox.ini`",
    "created_at": "2021-03-30T22:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507395",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

The xz include is on purpose -- see comment added in `tox.ini`



---

archive/issue_comments_507396.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jhpalmieri](#comment%3A25):\n> For what it's worth, I see a few suspicious items in the log files. (This is on a system with homebrew and with `source .homebrew-build-env` in my shell init file. That may be causing some of these.)\n\nYes, this a good setting for testing this ticket. The build using tox is designed to be isolated from the effects of `.homebrew-build-env`. \n\n> - cvxopt includes flags `-L/usr/local/lib` and `-I/usr/local/include` when calling `gcc`\n\nThis is probably https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55 in combination with a bug in our build system - #31584.",
    "created_at": "2021-03-30T22:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507396",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jhpalmieri](#comment%3A25):
> For what it's worth, I see a few suspicious items in the log files. (This is on a system with homebrew and with `source .homebrew-build-env` in my shell init file. That may be causing some of these.)

Yes, this a good setting for testing this ticket. The build using tox is designed to be isolated from the effects of `.homebrew-build-env`. 

> - cvxopt includes flags `-L/usr/local/lib` and `-I/usr/local/include` when calling `gcc`

This is probably https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55 in combination with a bug in our build system - #31584.



---

archive/issue_comments_507397.json:
```json
{
    "body": "Changed dependencies from **#31552, #31562, #31409** to **#31552, #31562, #31409, #31584**",
    "created_at": "2021-03-30T22:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507397",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31552, #31562, #31409** to **#31552, #31562, #31409, #31584**



---

archive/issue_comments_507398.json:
```json
{
    "body": "Changed commit from **[`3779a25`](https://github.com/sagemath/sagetrac-mirror/commit/3779a2525d5bbf0987a1d4ad0e42b73fb5769bc0)** to **[`ed1a089`](https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b)**",
    "created_at": "2021-03-30T22:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507398",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3779a25`](https://github.com/sagemath/sagetrac-mirror/commit/3779a2525d5bbf0987a1d4ad0e42b73fb5769bc0)** to **[`ed1a089`](https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b)**



---

archive/issue_comments_507399.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ff26dfad2f33fe2d020580a01db20efea20716f\"><code>7ff26df</code></a></td><td><code>git grep -l SAGE_SUITESPARSE | xargs sed -i .bak s/SAGE_SUITESPARSE_LOCALINSTALL/SAGE_SUITESPARSE_PREFIX/g</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7\"><code>52537d1</code></a></td><td><code>build/pkgs/cvxopt/spkg-install.in: Actually use the value of SAGE_SUITESPARSE_PREFIX</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b\"><code>ed1a089</code></a></td><td><code>Merge #31584</code></td></tr></table>\n",
    "created_at": "2021-03-30T22:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507399",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ff26dfad2f33fe2d020580a01db20efea20716f"><code>7ff26df</code></a></td><td><code>git grep -l SAGE_SUITESPARSE | xargs sed -i .bak s/SAGE_SUITESPARSE_LOCALINSTALL/SAGE_SUITESPARSE_PREFIX/g</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52537d120927ed57ce9659683fed15c405b1d1c7"><code>52537d1</code></a></td><td><code>build/pkgs/cvxopt/spkg-install.in: Actually use the value of SAGE_SUITESPARSE_PREFIX</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b"><code>ed1a089</code></a></td><td><code>Merge #31584</code></td></tr></table>




---

archive/issue_comments_507400.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2021-03-31T02:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507400",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_events_432141.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-03-31T02:04:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432141"
}
```



---

archive/issue_events_432142.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-03-31T02:04:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432142"
}
```



---

archive/issue_comments_507401.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOkay, this looks good to me.",
    "created_at": "2021-03-31T02:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507401",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:30" align="right">comment:30</div>

Okay, this looks good to me.



---

archive/issue_comments_507402.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThanks!",
    "created_at": "2021-03-31T02:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507402",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Thanks!



---

archive/issue_comments_507403.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nBy the way, should commands like `make distclean` also clean the `.tox` directory?",
    "created_at": "2021-03-31T02:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507403",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:32" align="right">comment:32</div>

By the way, should commands like `make distclean` also clean the `.tox` directory?



---

archive/issue_comments_507404.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI think it should not because `.tox` is not a \"build artifact\" - if this reasoning makes sense.",
    "created_at": "2021-03-31T02:59:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507404",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

I think it should not because `.tox` is not a "build artifact" - if this reasoning makes sense.



---

archive/issue_comments_507405.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThat makes sense. Maybe I need to learn more about tox. What command should I use if I want to restart `EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-nohomebrew-python3_xcode` from scratch? Just delete `.tox/local-macos-nohomebrew-python3`?",
    "created_at": "2021-03-31T16:49:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507405",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:34" align="right">comment:34</div>

That makes sense. Maybe I need to learn more about tox. What command should I use if I want to restart `EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-nohomebrew-python3_xcode` from scratch? Just delete `.tox/local-macos-nohomebrew-python3`?



---

archive/issue_comments_507406.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jhpalmieri](#comment%3A34):\n> That makes sense. Maybe I need to learn more about tox. What command should I use if I want to restart `EXTRA_CONFIGURE_ARGS=\"--disable-r\" tox -e local-macos-nohomebrew-python3_xcode` from scratch? Just delete `.tox/local-macos-nohomebrew-python3`?\n\nThat works, but you can also pass the `-r` option to `tox`, which will start from scratch.",
    "created_at": "2021-03-31T16:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507406",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jhpalmieri](#comment%3A34):
> That makes sense. Maybe I need to learn more about tox. What command should I use if I want to restart `EXTRA_CONFIGURE_ARGS="--disable-r" tox -e local-macos-nohomebrew-python3_xcode` from scratch? Just delete `.tox/local-macos-nohomebrew-python3`?

That works, but you can also pass the `-r` option to `tox`, which will start from scratch.



---

archive/issue_comments_507407.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nGreat, thanks!",
    "created_at": "2021-03-31T17:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507407",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:36" align="right">comment:36</div>

Great, thanks!



---

archive/issue_events_432143.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-18T16:17:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432143"
}
```



---

archive/issue_events_432144.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-18T16:17:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432144"
}
```



---

archive/issue_comments_507408.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments)** to **[`ed1a089`](https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b)**",
    "created_at": "2021-05-27T20:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31567#issuecomment-507408",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_local_macos_nohomebrew_environments)** to **[`ed1a089`](https://github.com/sagemath/sagetrac-mirror/commit/ed1a089963e3215ddfe1216ad01237396364519b)**



---

archive/issue_events_432145.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-05-27T20:28:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432145"
}
```



---

archive/issue_events_432146.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9e7b0bd3124630ebf368909dbcea7c2480ea1f27",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-05-27T20:28:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31567",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31567#event-432146"
}
```
