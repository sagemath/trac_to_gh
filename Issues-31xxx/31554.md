# Issue 31554: Wrong answer when evaluating a series inside a hold context

archive/issues_031317.json:
```json
{
    "assignees": [],
    "body": "Analysis of the bug reported in #31530 revealed that evaluating a series inside a hold context can yield incorrect results or a crash:\n\n```\nsage: a,b,c = var(\"a b c\")\nsage: f(x) = (a + b*x).series(x, 2)\nsage: print(f\"f(c) = {f(c)},    f(1) = {f(1)}\")\nf(c) = b*c + a,    f(1) = a + b\nsage: with hold: \n....:     print(f(c)) \nb*(c)\nsage: with hold: \n....:     print(f(1))\n\n<segmentation fault>\n```\nThis bug was present at least as far back as v9.1. The segmentation fault seems to be from running out of memory. \n\nDepends on #31479\n\nCC:  @dimpase @egourgoulhon\n\nKeywords: **series, hold, segmentation fault**\n\nReviewer: **Dave Morris**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31554_\n\n",
    "closed_at": "2021-06-24T20:15:37Z",
    "created_at": "2021-03-25T01:46:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Wrong answer when evaluating a series inside a hold context",
    "type": "issue",
    "updated_at": "2021-06-24T20:15:37Z",
    "url": "https://github.com/sagemath/sage/issues/31554",
    "user": "https://github.com/DaveWitteMorris"
}
```
Analysis of the bug reported in #31530 revealed that evaluating a series inside a hold context can yield incorrect results or a crash:

```
sage: a,b,c = var("a b c")
sage: f(x) = (a + b*x).series(x, 2)
sage: print(f"f(c) = {f(c)},    f(1) = {f(1)}")
f(c) = b*c + a,    f(1) = a + b
sage: with hold: 
....:     print(f(c)) 
b*(c)
sage: with hold: 
....:     print(f(1))

<segmentation fault>
```
This bug was present at least as far back as v9.1. The segmentation fault seems to be from running out of memory. 

Depends on #31479

CC:  @dimpase @egourgoulhon

Keywords: **series, hold, segmentation fault**

Reviewer: **Dave Morris**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/31554_





---

archive/issue_events_431869.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-03-25T01:46:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431869"
}
```



---

archive/issue_events_431870.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-03-25T01:46:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431870"
}
```



---

archive/issue_events_431871.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-03-25T01:46:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431871"
}
```



---

archive/issue_events_431872.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-03-25T01:46:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431872"
}
```



---

archive/issue_comments_506929.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHere is an example that seems very strange to me. Does the `()` in the final line mean that something returned `None` instead of `0`?\n\n```\nsage: f(x) = (cos(a + x) + b*x).series(x,2)\nsage: f\nx |--> (cos(a)) + (b - sin(a))*x + Order(x^2)\nsage: with hold: \n....:     print(f(0))\n(b - sin(a))*()\n```\nI have tentatively rated this ticket as a blocker because it gives wrong results in a quite simple situation, but perhaps we will soon see that its impact is limited.",
    "created_at": "2021-03-25T02:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506929",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:1" align="right">comment:1</div>

Here is an example that seems very strange to me. Does the `()` in the final line mean that something returned `None` instead of `0`?

```
sage: f(x) = (cos(a + x) + b*x).series(x,2)
sage: f
x |--> (cos(a)) + (b - sin(a))*x + Order(x^2)
sage: with hold: 
....:     print(f(0))
(b - sin(a))*()
```
I have tentatively rated this ticket as a blocker because it gives wrong results in a quite simple situation, but perhaps we will soon see that its impact is limited.



---

archive/issue_comments_506930.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe disappearance of `a` has nothing to do with series. There is a bug in the handling of `x^0`:\n\n```\nsage: a,b,c = var(\"a b c\")\nsage: with hold:\n....:    print((a*x^0).subs({x:c}))\n....:    print((a*x^0 + b*x^1).subs({x:c}))\n0*a\nb*c\n```",
    "created_at": "2021-03-26T06:41:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506930",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:2" align="right">comment:2</div>

The disappearance of `a` has nothing to do with series. There is a bug in the handling of `x^0`:

```
sage: a,b,c = var("a b c")
sage: with hold:
....:    print((a*x^0).subs({x:c}))
....:    print((a*x^0 + b*x^1).subs({x:c}))
0*a
b*c
```



---

archive/issue_comments_506931.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI know how to fix the `print(f(c))` example on this ticket. (The problem is that pynac's `handle_factor` method does not handle `x^0` correctly.) However, the same issue arises in three other (nearby) places in the code, so I have to do a bit more work before I upload a PR.\n\nAfter fixing this bug, I found another pynac method that does not handle `x^0` correctly. I opened  #31599 for this bug, and I opened #31597 to squash any other pynac bugs that arise in a hold context. I opened #31598 for the printing bug that was pointed out in [comment:1](#comment:1).\n\nI haven't yet tracked down the cause of the crash in the ticket description, but I don't expect it to be difficult.",
    "created_at": "2021-04-03T05:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506931",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:3" align="right">comment:3</div>

I know how to fix the `print(f(c))` example on this ticket. (The problem is that pynac's `handle_factor` method does not handle `x^0` correctly.) However, the same issue arises in three other (nearby) places in the code, so I have to do a bit more work before I upload a PR.

After fixing this bug, I found another pynac method that does not handle `x^0` correctly. I opened  #31599 for this bug, and I opened #31597 to squash any other pynac bugs that arise in a hold context. I opened #31598 for the printing bug that was pointed out in [comment:1](#comment:1).

I haven't yet tracked down the cause of the crash in the ticket description, but I don't expect it to be difficult.



---

archive/issue_comments_506932.json:
```json
{
    "body": "Branch: **[public/31554](https://github.com/sagemath/sagetrac-mirror/tree/public/31554)**",
    "created_at": "2021-04-05T00:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506932",
    "user": "https://github.com/DaveWitteMorris"
}
```

Branch: **[public/31554](https://github.com/sagemath/sagetrac-mirror/tree/public/31554)**



---

archive/issue_comments_506933.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe purpose of pynac's `handle_factor` method is to help convert `0*x` to `0` and `x^0` to `1`. The `print(f(c))` bug in the ticket description is a result of the fact that `handle_factor` erroneously converts `x^0` to `0`, instead of `1`.  The PR fixes the two places where this problem occurs, by eliminating the call to `handle_factor`.  \n\nThe other three calls to `handle_factor` in the pynac source code are essentially no-ops, so they should be removed.  I opened #31608 for this.\n\nI opened #31607 for fixing the `f(1)` segmentation fault.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bacd765e297f33ba67ed02b67fcdbf5729f0b29\"><code>4bacd76</code></a></td><td><code>trac 31554 do not use handle_factor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00b44eb082cf37308879b28dd81c8ba37824511b\"><code>00b44eb</code></a></td><td><code>add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996\"><code>707560a</code></a></td><td><code>increment pynac patch number</code></td></tr></table>\n",
    "created_at": "2021-04-05T00:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506933",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:5" align="right">comment:5</div>

The purpose of pynac's `handle_factor` method is to help convert `0*x` to `0` and `x^0` to `1`. The `print(f(c))` bug in the ticket description is a result of the fact that `handle_factor` erroneously converts `x^0` to `0`, instead of `1`.  The PR fixes the two places where this problem occurs, by eliminating the call to `handle_factor`.  

The other three calls to `handle_factor` in the pynac source code are essentially no-ops, so they should be removed.  I opened #31608 for this.

I opened #31607 for fixing the `f(1)` segmentation fault.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bacd765e297f33ba67ed02b67fcdbf5729f0b29"><code>4bacd76</code></a></td><td><code>trac 31554 do not use handle_factor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00b44eb082cf37308879b28dd81c8ba37824511b"><code>00b44eb</code></a></td><td><code>add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996"><code>707560a</code></a></td><td><code>increment pynac patch number</code></td></tr></table>




---

archive/issue_comments_506934.json:
```json
{
    "body": "Author: **Dave Morris**",
    "created_at": "2021-04-05T00:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506934",
    "user": "https://github.com/DaveWitteMorris"
}
```

Author: **Dave Morris**



---

archive/issue_events_431873.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-04-05T00:30:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431873"
}
```



---

archive/issue_comments_506935.json:
```json
{
    "body": "Commit: **[`707560a`](https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996)**",
    "created_at": "2021-04-05T00:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506935",
    "user": "https://github.com/DaveWitteMorris"
}
```

Commit: **[`707560a`](https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996)**



---

archive/issue_comments_506936.json:
```json
{
    "body": "Changed commit from **[`707560a`](https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996)** to **[`82843fe`](https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d)**",
    "created_at": "2021-04-05T00:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506936",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`707560a`](https://github.com/sagemath/sagetrac-mirror/commit/707560af492648a95db55271917374bfeffe9996)** to **[`82843fe`](https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d)**



---

archive/issue_comments_506937.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d\"><code>82843fe</code></a></td><td><code>remove debugging code</code></td></tr></table>\n",
    "created_at": "2021-04-05T00:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506937",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d"><code>82843fe</code></a></td><td><code>remove debugging code</code></td></tr></table>




---

archive/issue_comments_506938.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOops! The branch I pushed had some test code (print statements) in the pynac patch.",
    "created_at": "2021-04-05T00:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506938",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:7" align="right">comment:7</div>

Oops! The branch I pushed had some test code (print statements) in the pynac patch.



---

archive/issue_comments_506939.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nLGTM. Note all of these pynac patches should really become PRs to pynac, but it's fine as is for 9.3",
    "created_at": "2021-04-05T17:07:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506939",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

LGTM. Note all of these pynac patches should really become PRs to pynac, but it's fine as is for 9.3



---

archive/issue_events_431874.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-05T17:07:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431874"
}
```



---

archive/issue_events_431875.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-05T17:07:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431875"
}
```



---

archive/issue_events_431876.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-05T19:53:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431876"
}
```



---

archive/issue_events_431877.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-05T19:53:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431877"
}
```



---

archive/issue_comments_506940.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReviewer name missing",
    "created_at": "2021-04-05T19:53:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506940",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

Reviewer name missing



---

archive/issue_comments_506941.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThanks for the review!",
    "created_at": "2021-04-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506941",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:10" align="right">comment:10</div>

Thanks for the review!



---

archive/issue_comments_506942.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2021-04-05T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506942",
    "user": "https://github.com/DaveWitteMorris"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_431878.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-04-05T21:53:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431878"
}
```



---

archive/issue_events_431879.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-04-05T21:53:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431879"
}
```



---

archive/issue_comments_506943.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nMerge conflict",
    "created_at": "2021-04-06T22:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506943",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:11" align="right">comment:11</div>

Merge conflict



---

archive/issue_events_431880.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-06T22:35:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431880"
}
```



---

archive/issue_events_431881.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-06T22:35:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431881"
}
```



---

archive/issue_comments_506944.json:
```json
{
    "body": "Dependencies: **#31479**",
    "created_at": "2021-04-06T23:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506944",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#31479**



---

archive/issue_comments_506945.json:
```json
{
    "body": "Changed commit from **[`82843fe`](https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d)** to **[`b0b074e`](https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af)**",
    "created_at": "2021-04-06T23:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506945",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`82843fe`](https://github.com/sagemath/sagetrac-mirror/commit/82843fe4baefd24072af0ab8fdd16ff4b15ca30d)** to **[`b0b074e`](https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af)**



---

archive/issue_comments_506946.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70\"><code>0f6dcc9</code></a></td><td><code>Merge tag '9.3.rc2' into t/31554/public/31554</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/270a2f96d6f5b1cc4ea540372c9e86858b2e045b\"><code>270a2f9</code></a></td><td><code>trac 31479: pynac's poly_mul_expand</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2ebbeb60aaa48521b938eb98d7a2d061c7a20b1\"><code>a2ebbeb</code></a></td><td><code>add doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6f91708881e26205e362c3461614d2e5b88fc78\"><code>b6f9170</code></a></td><td><code>increment package version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96b0f8bd3c791f533989d92d026e9558fa880a5c\"><code>96b0f8b</code></a></td><td><code>add 32-bit known bug tags</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed6cac27827b1c3c29014c8e6ebcd63bd736d889\"><code>ed6cac2</code></a></td><td><code>Merge branch 'public/31554' of git://trac.sagemath.org/sage into t/31479/public/31479v2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23648607ab7d56187c8da7baa1ca16ac782f5244\"><code>2364860</code></a></td><td><code>build/pkgs/pynac/package-version.txt: Bump patch level</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af\"><code>b0b074e</code></a></td><td><code>Merge #31479</code></td></tr></table>\n",
    "created_at": "2021-04-06T23:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506946",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f6dcc93996d4f6bb23256b7c7811a1c0e81ed70"><code>0f6dcc9</code></a></td><td><code>Merge tag '9.3.rc2' into t/31554/public/31554</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/270a2f96d6f5b1cc4ea540372c9e86858b2e045b"><code>270a2f9</code></a></td><td><code>trac 31479: pynac's poly_mul_expand</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2ebbeb60aaa48521b938eb98d7a2d061c7a20b1"><code>a2ebbeb</code></a></td><td><code>add doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6f91708881e26205e362c3461614d2e5b88fc78"><code>b6f9170</code></a></td><td><code>increment package version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96b0f8bd3c791f533989d92d026e9558fa880a5c"><code>96b0f8b</code></a></td><td><code>add 32-bit known bug tags</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed6cac27827b1c3c29014c8e6ebcd63bd736d889"><code>ed6cac2</code></a></td><td><code>Merge branch 'public/31554' of git://trac.sagemath.org/sage into t/31479/public/31479v2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23648607ab7d56187c8da7baa1ca16ac782f5244"><code>2364860</code></a></td><td><code>build/pkgs/pynac/package-version.txt: Bump patch level</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af"><code>b0b074e</code></a></td><td><code>Merge #31479</code></td></tr></table>




---

archive/issue_events_431882.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T00:14:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431882"
}
```



---

archive/issue_events_431883.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T00:14:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431883"
}
```



---

archive/issue_comments_506947.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nCircular dependency",
    "created_at": "2021-04-10T11:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506947",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

Circular dependency



---

archive/issue_events_431884.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-10T11:01:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431884"
}
```



---

archive/issue_events_431885.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-10T11:01:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431885"
}
```



---

archive/issue_comments_506948.json:
```json
{
    "body": "Changed commit from **[`b0b074e`](https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af)** to **[`04d0090`](https://github.com/sagemath/sagetrac-mirror/commit/04d0090e3a36f4cee0868990ca9024b8d5dce5cd)**",
    "created_at": "2021-04-10T16:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506948",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b0b074e`](https://github.com/sagemath/sagetrac-mirror/commit/b0b074e5bbd1ac31c29af7b08a274a7c313a28af)** to **[`04d0090`](https://github.com/sagemath/sagetrac-mirror/commit/04d0090e3a36f4cee0868990ca9024b8d5dce5cd)**



---

archive/issue_comments_506949.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeb6cc28b30923aeaaf26a4375683e20ee5c27df\"><code>eeb6cc2</code></a></td><td><code>build/pkgs/pynac/package-version.txt: Bump patch level</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04d0090e3a36f4cee0868990ca9024b8d5dce5cd\"><code>04d0090</code></a></td><td><code>Merge branch 'public/31479v2' of git://trac.sagemath.org/sage into t/31554/public/31554</code></td></tr></table>\n",
    "created_at": "2021-04-10T16:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506949",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeb6cc28b30923aeaaf26a4375683e20ee5c27df"><code>eeb6cc2</code></a></td><td><code>build/pkgs/pynac/package-version.txt: Bump patch level</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04d0090e3a36f4cee0868990ca9024b8d5dce5cd"><code>04d0090</code></a></td><td><code>Merge branch 'public/31479v2' of git://trac.sagemath.org/sage into t/31554/public/31554</code></td></tr></table>




---

archive/issue_comments_506950.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSorry for messing this up. I think I've got it right now.",
    "created_at": "2021-04-10T16:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506950",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Sorry for messing this up. I think I've got it right now.



---

archive/issue_events_431886.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-10T16:27:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431886"
}
```



---

archive/issue_events_431887.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-10T16:27:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431887"
}
```



---

archive/issue_comments_506951.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOn 32-bit:\n\n```\n**********************************************************************\nFile \"src/sage/symbolic/expression.pyx\", line 4882, in sage.symbolic.expression.Expression.expand\nFailed example:\n    ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)\nExpected:\n    d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36  \nGot:\n    d^3 + 18*d^2 + 1739461754973*d - 8697308774865/d + 450/d^2 - 125/d^3 + 36\n**********************************************************************\n1 item had failures:\n   1 of  43 in sage.symbolic.expression.Expression.expand\n    [2941 tests, 1 failure, 43.02 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/symbolic/expression.pyx  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2021-04-12T21:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506951",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

On 32-bit:

```
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 4882, in sage.symbolic.expression.Expression.expand
Failed example:
    ((a + b + c)^30 * (3*b + d - 5/d)^3).expand().subs(a=0,b=2,c=-1)
Expected:
    d^3 + 18*d^2 + 93*d - 465/d + 450/d^2 - 125/d^3 + 36  
Got:
    d^3 + 18*d^2 + 1739461754973*d - 8697308774865/d + 450/d^2 - 125/d^3 + 36
**********************************************************************
1 item had failures:
   1 of  43 in sage.symbolic.expression.Expression.expand
    [2941 tests, 1 failure, 43.02 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/symbolic/expression.pyx  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_events_431888.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-12T21:35:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431888"
}
```



---

archive/issue_events_431889.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-04-12T21:35:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431889"
}
```



---

archive/issue_comments_506952.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis is a known bug on 32-bit.  (See #31585.)  In commit [96b0f8b](https://github.com/sagemath/sagetrac-mirror/commit/96b0f8bd3c791f533989d92d026e9558fa880a5c) of ticket #31479, I added a `# 32-bit # known bug` tag to this line of the output. (And the tag shows up in the branch of this ticket, even though it's not in the expected output of the failed doctest.) Was that the wrong thing to do? I don't know much about doctesting and I couldn't find any examples to emulate in the sage source code.\n\nHow are we supposed to handle the doctest in this situation where 32-bit gives a wrong answer? (64-bit works correctly.)",
    "created_at": "2021-04-17T03:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506952",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:20" align="right">comment:20</div>

This is a known bug on 32-bit.  (See #31585.)  In commit [96b0f8b](https://github.com/sagemath/sagetrac-mirror/commit/96b0f8bd3c791f533989d92d026e9558fa880a5c) of ticket #31479, I added a `# 32-bit # known bug` tag to this line of the output. (And the tag shows up in the branch of this ticket, even though it's not in the expected output of the failed doctest.) Was that the wrong thing to do? I don't know much about doctesting and I couldn't find any examples to emulate in the sage source code.

How are we supposed to handle the doctest in this situation where 32-bit gives a wrong answer? (64-bit works correctly.)



---

archive/issue_comments_506953.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nSorry, it looks like I lost this commit when I rebased #31479.  It's not in 9.3.rc3 as far as I can see.",
    "created_at": "2021-04-17T03:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506953",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Sorry, it looks like I lost this commit when I rebased #31479.  It's not in 9.3.rc3 as far as I can see.



---

archive/issue_comments_506954.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fde2acf9f76c5c4f9eabb2e2a4accaa0dbd834f\"><code>3fde2ac</code></a></td><td><code>trac 31479: pynac's poly_mul_expand</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/550157780d8f7b5119290dda26672644666699ae\"><code>5501577</code></a></td><td><code>add doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bf6ec0b17fb1d492964678dda39a34430463fb8\"><code>6bf6ec0</code></a></td><td><code>increment package version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/296d4c76c67df66e7d8d1deb45a9dcda1ef5c327\"><code>296d4c7</code></a></td><td><code>add 32-bit known bug tags</code></td></tr></table>\n",
    "created_at": "2021-04-17T07:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506954",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fde2acf9f76c5c4f9eabb2e2a4accaa0dbd834f"><code>3fde2ac</code></a></td><td><code>trac 31479: pynac's poly_mul_expand</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/550157780d8f7b5119290dda26672644666699ae"><code>5501577</code></a></td><td><code>add doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bf6ec0b17fb1d492964678dda39a34430463fb8"><code>6bf6ec0</code></a></td><td><code>increment package version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/296d4c76c67df66e7d8d1deb45a9dcda1ef5c327"><code>296d4c7</code></a></td><td><code>add 32-bit known bug tags</code></td></tr></table>




---

archive/issue_comments_506955.json:
```json
{
    "body": "Changed commit from **[`04d0090`](https://github.com/sagemath/sagetrac-mirror/commit/04d0090e3a36f4cee0868990ca9024b8d5dce5cd)** to **[`296d4c7`](https://github.com/sagemath/sagetrac-mirror/commit/296d4c76c67df66e7d8d1deb45a9dcda1ef5c327)**",
    "created_at": "2021-04-17T07:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506955",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04d0090`](https://github.com/sagemath/sagetrac-mirror/commit/04d0090e3a36f4cee0868990ca9024b8d5dce5cd)** to **[`296d4c7`](https://github.com/sagemath/sagetrac-mirror/commit/296d4c76c67df66e7d8d1deb45a9dcda1ef5c327)**



---

archive/issue_comments_506956.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nSomehow the branches of #31479 and #31554 were switched.\n\nAnyway here's the rebase of what's missing in 9.3.rc3...",
    "created_at": "2021-04-17T07:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506956",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

Somehow the branches of #31479 and #31554 were switched.

Anyway here's the rebase of what's missing in 9.3.rc3...



---

archive/issue_comments_506957.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI have put the branch on the new ticket #31679 now to clean up the confusion.",
    "created_at": "2021-04-17T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506957",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

I have put the branch on the new ticket #31679 now to clean up the confusion.



---

archive/issue_events_431890.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-17T18:44:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431890"
}
```



---

archive/issue_comments_506958.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe** to none",
    "created_at": "2021-04-17T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506958",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe** to none



---

archive/issue_comments_506959.json:
```json
{
    "body": "Changed author from **Dave Morris** to none",
    "created_at": "2021-04-17T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506959",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Dave Morris** to none



---

archive/issue_comments_506960.json:
```json
{
    "body": "Changed branch from **[public/31554](https://github.com/sagemath/sagetrac-mirror/tree/public/31554)** to none",
    "created_at": "2021-04-17T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506960",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[public/31554](https://github.com/sagemath/sagetrac-mirror/tree/public/31554)** to none



---

archive/issue_comments_506961.json:
```json
{
    "body": "Changed commit from **[`296d4c7`](https://github.com/sagemath/sagetrac-mirror/commit/296d4c76c67df66e7d8d1deb45a9dcda1ef5c327)** to none",
    "created_at": "2021-04-17T18:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506961",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`296d4c7`](https://github.com/sagemath/sagetrac-mirror/commit/296d4c76c67df66e7d8d1deb45a9dcda1ef5c327)** to none



---

archive/issue_events_431891.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-17T18:45:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431891"
}
```



---

archive/issue_events_431892.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-17T18:45:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431892"
}
```



---

archive/issue_events_431893.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-04-18T05:37:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431893"
}
```



---

archive/issue_events_431894.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-04-18T05:37:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431894"
}
```



---

archive/issue_events_431895.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-04-18T05:37:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431895"
}
```



---

archive/issue_events_431896.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-04-18T05:37:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431896"
}
```



---

archive/issue_comments_506962.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThe branch has been moved to #31679, so this ticket can be closed as a duplicate.",
    "created_at": "2021-04-18T05:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506962",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:26" align="right">comment:26</div>

The branch has been moved to #31679, so this ticket can be closed as a duplicate.



---

archive/issue_comments_506963.json:
```json
{
    "body": "Reviewer: **Dave Morris**",
    "created_at": "2021-04-18T21:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31554#issuecomment-506963",
    "user": "https://github.com/DaveWitteMorris"
}
```

Reviewer: **Dave Morris**



---

archive/issue_events_431897.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-24T20:15:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431897"
}
```



---

archive/issue_events_431898.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-24T20:15:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31554",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31554#event-431898"
}
```
