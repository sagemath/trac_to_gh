# Issue 31589: Normaliz 3.8.10, PyNormaliz 2.14

archive/issues_031352.json:
```json
{
    "assignees": [],
    "body": "A smaller update to Normaliz, providing a better solution to the `TriangulationGenerators` issues (see #30531/#30569)\n\nPrevious update in #30704.\n\nNext big update: #31588 Normaliz with e-antic 1.0\n\n\n\nCC:  @w-bruns @jplab @kliem\n\nBranch/Commit: **[525ed53](https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11)**\n\nReviewer: **Jonathan Kliem, Matthias Koeppe**\n\nAuthor: **Matthias Koeppe, Jonathan Kliem**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31589_\n\n",
    "closed_at": "2021-06-19T20:58:31Z",
    "created_at": "2021-03-31T19:26:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Normaliz 3.8.10, PyNormaliz 2.14",
    "type": "issue",
    "updated_at": "2021-06-19T20:58:31Z",
    "url": "https://github.com/sagemath/sage/issues/31589",
    "user": "https://github.com/mkoeppe"
}
```
A smaller update to Normaliz, providing a better solution to the `TriangulationGenerators` issues (see #30531/#30569)

Previous update in #30704.

Next big update: #31588 Normaliz with e-antic 1.0



CC:  @w-bruns @jplab @kliem

Branch/Commit: **[525ed53](https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11)**

Reviewer: **Jonathan Kliem, Matthias Koeppe**

Author: **Matthias Koeppe, Jonathan Kliem**

_Issue created by migration from https://trac.sagemath.org/ticket/31589_





---

archive/issue_events_417431.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-31T19:26:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417431"
}
```



---

archive/issue_events_417432.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-31T19:26:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417432"
}
```



---

archive/issue_events_417433.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-31T19:26:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417433"
}
```



---

archive/issue_events_417434.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-31T19:26:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417434"
}
```



---

archive/issue_events_417435.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417435"
}
```



---

archive/issue_events_417436.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417436"
}
```



---

archive/issue_comments_511158.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511158",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">Comment 1</div>

Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_comments_511159.json:
```json
{
    "body": "Branch: **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)**",
    "created_at": "2021-05-18T04:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511159",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)**



---

archive/issue_comments_511160.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nHere's the update but now something needs to be adjusted in our code...\n\n```\n    PyNormaliz_cpp.NormalizError: Some error in the normaliz input data detected: Unknown ConeProperty string \"TriangulationGenerators\"\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b851790d9ffcd8d9c2cee52550ec20af7af29b60\">b851790</a></td><td><code>build/pkgs/normaliz: Update to 3.8.10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9759d20ec79831be86d85e63de78865afe33091f\">9759d20</a></td><td><code>build/pkgs/pynormaliz: Update to 2.14</code></td></tr></table>\n",
    "created_at": "2021-05-18T04:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511160",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

Here's the update but now something needs to be adjusted in our code...

```
    PyNormaliz_cpp.NormalizError: Some error in the normaliz input data detected: Unknown ConeProperty string "TriangulationGenerators"
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b851790d9ffcd8d9c2cee52550ec20af7af29b60">b851790</a></td><td><code>build/pkgs/normaliz: Update to 3.8.10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9759d20ec79831be86d85e63de78865afe33091f">9759d20</a></td><td><code>build/pkgs/pynormaliz: Update to 2.14</code></td></tr></table>




---

archive/issue_comments_511161.json:
```json
{
    "body": "Commit: **[9759d20](https://github.com/sagemath/sagetrac-mirror/commit/9759d20ec79831be86d85e63de78865afe33091f)**",
    "created_at": "2021-05-18T04:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511161",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[9759d20](https://github.com/sagemath/sagetrac-mirror/commit/9759d20ec79831be86d85e63de78865afe33091f)**



---

archive/issue_comments_511162.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThe TriangulationGenerators had a very short life in version 3.8.9. In 3.8.10 triangulations  and related types of decompositions are now bundled with their \"reference generators\". Have a look at PyNormaliz.py and NormalizModule.cpp.",
    "created_at": "2021-05-18T08:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511162",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:4" align="right">Comment 4</div>

The TriangulationGenerators had a very short life in version 3.8.9. In 3.8.10 triangulations  and related types of decompositions are now bundled with their "reference generators". Have a look at PyNormaliz.py and NormalizModule.cpp.



---

archive/issue_comments_511163.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThere is another big problem after upgrading: The `NormalizError` is not caught correctly from the sage shell (works fine in `ipython`, so maybe does not play nicely with cysignals).\n\n```\nsage: from PyNormaliz import *                                                                                                                                                                                                                                                 \nsage: C = Cone(cone = [[1,0],[0,1]])                                                                                                                                                                                                                                           \nsage: NmzResult(C.cone, 'AllGeneratorsTriangulation')                                                                                                                                                                                                                          \n[[[[0, 1], 1, []]], [[0, 1], [1, 0]]]\nsage: NmzResult(C.cone, 'AllGeneratorsTriangul')                                                                                                                                                                                                                               \n------------------------------------------------------------------------\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x95eb)[0x7fb4e21a25eb]\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xb848)[0x7fb4e21a4848]\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x1033c)[0x7fb4e21a933c]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x7fb4e5b59730]\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x7fb4e55d37bb]\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x7fb4e55be535]\n/lib/x86_64-linux-gnu/libgcc_s.so.1(+0x3358)[0x7fb4e213d358]\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/PyNormaliz_cpp.cpython-37m-x86_64-linux-gnu.so(+0xdd9c)[0x7fb25ec8bd9c]\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/PyNormaliz_cpp.cpython-37m-x86_64-linux-gnu.so(+0x215c0)[0x7fb25ec9f5c0]\npython3(_PyMethodDef_RawFastCallKeywords+0x224)[0x5d88a4]\npython3(_PyEval_EvalFrameDefault+0x42c3)[0x552373]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3[0x558f25]\npython3(_PyMethodDef_RawFastCallKeywords+0x1b3)[0x5d8833]\npython3(_PyEval_EvalFrameDefault+0x42c3)[0x552373]\npython3[0x4d37a6]\npython3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]\npython3[0x4d37a6]\npython3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]\npython3[0x4d37a6]\npython3(_PyMethodDescr_FastCallKeywords+0x151)[0x4d76a1]\npython3(_PyEval_EvalFrameDefault+0x45f8)[0x5526a8]\npython3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]\npython3(_PyEval_EvalFrameDefault+0x4fc)[0x54e5ac]\npython3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]\npython3[0x54b1f0]\npython3(_PyEval_EvalFrameDefault+0x13ae)[0x54f45e]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(PyEval_EvalCode+0x23)[0x54e0a3]\npython3[0x630ce2]\npython3(PyRun_FileExFlags+0x97)[0x630d97]\npython3(PyRun_SimpleFileExFlags+0x17f)[0x6319ff]\npython3[0x65432e]\npython3(_Py_UnixMain+0x2e)[0x65468e]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xeb)[0x7fb4e55c009b]\npython3(_start+0x2a)[0x5e0e8a]\n------------------------------------------------------------------------\nAttaching gdb to process id 1182.\nGNU gdb (Debian 8.2.1-2+b3) 8.2.1\nCopyright (C) 2018 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\nType \"show copying\" and \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>.\nFind the GDB manual and other documentation resources online at:\n    <http://www.gnu.org/software/gdb/documentation/>.\n\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\".\n[New LWP 1258]\n[New LWP 1260]\n[New LWP 1261]\n[New LWP 1262]\n[New LWP 1263]\n[New LWP 1264]\n[New LWP 1265]\n[New LWP 1266]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n0x00007fb4e5b590ca in __waitpid (pid=1269, stat_loc=0x0, options=0)\n    at ../sysdeps/unix/sysv/linux/waitpid.c:30\n\nStack backtrace\n---------------\n    at ../sysdeps/unix/sysv/linux/waitpid.c:30\n        resultvar = 18446744073709551104\n        sc_cancel_oldtype = 0\n        sc_ret = <optimized out>\n#1  0x00007fb4e21a4743 in print_enhanced_backtrace ()\n    at build/src/cysignals/implementation.c:579\n        parent_pid = 1182\n        pid = <optimized out>\n#2  0x00007fb4e21a4885 in sigdie (sig=sig@entry=6, \n    s=s@entry=0x7fb4e21aac00 \"Unhandled SIGABRT: An abort() occurred.\")\n    at build/src/cysignals/implementation.c:605\nNo locals.\n#3  0x00007fb4e21a933c in sigdie_for_sig (inside=0, sig=6)\n    at build/src/cysignals/implementation.c:175\nNo locals.\n#4  cysigs_signal_handler (sig=6) at build/src/cysignals/implementation.c:278\n        inside = <optimized out>\n#5  <signal handler called>\nNo locals.\n#6  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\n        set = {__val = {0, 0, 0, 0, 140404071281033, 140735024796720, \n            140735024796016, 70370368, 140735024796016, 140735024796720, 0, \n            70370368, 140735024796016, 41, 0, 140414863847016}}\n        pid = <optimized out>\n        tid = <optimized out>\n        ret = <optimized out>\n#7  0x00007fb4e55be535 in __GI_abort () at abort.c:79\n        save_stage = 1\n        act = {__sigaction_handler = {sa_handler = 0x0, sa_sigaction = 0x0}, \n          sa_mask = {__val = {0 <repeats 13 times>, 130843, 70370368, \n              140735024797024}}, sa_flags = 1831408448, \n          sa_restorer = 0x7fff6d291430}\n        sigs = {__val = {32, 0 <repeats 15 times>}}\n#8  0x00007fb4e213d358 in ?? () from /lib/x86_64-linux-gnu/libgcc_s.so.1\nNo symbol table info available.\n#9  0x00007fb25ec8bd9c in __gnu_cxx::new_allocator<char>::~new_allocator (\n    this=<optimized out>, this=<optimized out>)\n    at /usr/include/c++/8/ext/new_allocator.h:86\nNo locals.\n#10 std::allocator<char>::~allocator (this=<optimized out>, \n    this=<optimized out>) at /usr/include/c++/8/bits/allocator.h:139\nNo locals.\n#11 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_Alloc_hider::~_Alloc_hider (this=<optimized out>, this=<optimized out>)\n    at /usr/include/c++/8/bits/basic_string.h:139\nNo locals.\n#12 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string (this=<optimized out>, this=<optimized out>)\n    at /usr/include/c++/8/bits/basic_string.h:657\nNo locals.\n#13 _NmzResultImpl<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >(libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >*, _object*, void*) [clone .isra.995] [clone .lto_priv.83] (C=<optimized out>, prop_obj=<optimized out>, \n    nf=<optimized out>) at NormalizModule.cpp:1597\n        prop = \"\"\n        p = <optimized out>\n        notComputed = {CPs = std::bitset}\n        outputtype = <optimized out>\n        tmpHandler = <optimized out>\n        is_HSOP = <optimized out>\n        is_HSOP = <optimized out>\n        grad = <optimized out>\n        denom = <optimized out>\n        return_list = <optimized out>\n        hull = <optimized out>\n        projection = <optimized out>\n#14 0x00007fb25ec9f5c0 in _NmzResult (self=<optimized out>, \n    args=<optimized out>, kwargs=0x0) at NormalizModule.cpp:1832\n        cone_ptr = <optimized out>\n        cone = 0x7fb4e126c960\n        prop = 0x7fb25e758618\n        result = 0x0\n#15 0x00000000005d88a4 in _PyMethodDef_RawFastCallKeywords ()\nNo symbol table info available.\n#16 0x0000000000552373 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#17 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#18 0x0000000000558f25 in ?? ()\nNo symbol table info available.\n#19 0x00000000005d8833 in _PyMethodDef_RawFastCallKeywords ()\nNo symbol table info available.\n#20 0x0000000000552373 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#21 0x00000000004d37a6 in ?? ()\nNo symbol table info available.\n#22 0x000000000054fb25 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#23 0x00000000004d37a6 in ?? ()\nNo symbol table info available.\n#24 0x000000000054fb25 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#25 0x00000000004d37a6 in ?? ()\nNo symbol table info available.\n#26 0x00000000004d76a1 in _PyMethodDescr_FastCallKeywords ()\nNo symbol table info available.\n#27 0x00000000005526a8 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#28 0x00000000005d91fc in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#29 0x000000000054e5ac in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#30 0x00000000005d91fc in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#31 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#32 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#33 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#34 0x000000000054b1f0 in ?? ()\nNo symbol table info available.\n#35 0x000000000054f45e in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#36 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#37 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#38 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#39 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#40 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#41 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#42 0x00000000005d91fc in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#43 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#44 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#45 0x000000000054e0a3 in PyEval_EvalCode ()\nNo symbol table info available.\n#46 0x0000000000630ce2 in ?? ()\nNo symbol table info available.\n#47 0x0000000000630d97 in PyRun_FileExFlags ()\nNo symbol table info available.\n#48 0x00000000006319ff in PyRun_SimpleFileExFlags ()\nNo symbol table info available.\n#49 0x000000000065432e in ?? ()\nNo symbol table info available.\n#50 0x000000000065468e in _Py_UnixMain ()\nNo symbol table info available.\n#51 0x00007fb4e55c009b in __libc_start_main (main=0x4bc560 <main>, argc=3, \n    argv=0x7fff6d2930f8, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7fff6d2930e8)\n    at ../csu/libc-start.c:308\n        self = <optimized out>\n        result = <optimized out>\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, -1977610188322685730, \n                6164064, 140735024804080, 0, 0, 1977296402553060574, \n                2010809338179042526}, mask_was_saved = 0}}, priv = {pad = {\n              0x0, 0x0, 0x7fff6d293118, 0x7fb4e5c12190}, data = {prev = 0x0, \n              cleanup = 0x0, canceltype = 1831416088}}}\n        not_first_call = <optimized out>\n#52 0x00000000005e0e8a in _start ()\nNo symbol table info available.\n[Inferior 1 (process 1182) detached]\n30\t../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.\nTraceback (most recent call last):\n  File \"<string>\", line 25, in <module>\nModuleNotFoundError: No module named 'Cython'\nError while executing Python code.\nSaved trace to /srv/public/kliem/.sage/crash_logs/crash_juhvwxxn.log\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n------------------------------------------------------------------------\nAborted\n```",
    "created_at": "2021-05-18T13:05:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511163",
    "user": "https://github.com/kliem"
}
```

<div id="comment:5" align="right">Comment 5</div>

There is another big problem after upgrading: The `NormalizError` is not caught correctly from the sage shell (works fine in `ipython`, so maybe does not play nicely with cysignals).

```
sage: from PyNormaliz import *                                                                                                                                                                                                                                                 
sage: C = Cone(cone = [[1,0],[0,1]])                                                                                                                                                                                                                                           
sage: NmzResult(C.cone, 'AllGeneratorsTriangulation')                                                                                                                                                                                                                          
[[[[0, 1], 1, []]], [[0, 1], [1, 0]]]
sage: NmzResult(C.cone, 'AllGeneratorsTriangul')                                                                                                                                                                                                                               
------------------------------------------------------------------------
/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x95eb)[0x7fb4e21a25eb]
/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xb848)[0x7fb4e21a4848]
/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x1033c)[0x7fb4e21a933c]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x7fb4e5b59730]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x7fb4e55d37bb]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x7fb4e55be535]
/lib/x86_64-linux-gnu/libgcc_s.so.1(+0x3358)[0x7fb4e213d358]
/srv/public/kliem/sage/local/lib/python3.7/site-packages/PyNormaliz_cpp.cpython-37m-x86_64-linux-gnu.so(+0xdd9c)[0x7fb25ec8bd9c]
/srv/public/kliem/sage/local/lib/python3.7/site-packages/PyNormaliz_cpp.cpython-37m-x86_64-linux-gnu.so(+0x215c0)[0x7fb25ec9f5c0]
python3(_PyMethodDef_RawFastCallKeywords+0x224)[0x5d88a4]
python3(_PyEval_EvalFrameDefault+0x42c3)[0x552373]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3[0x558f25]
python3(_PyMethodDef_RawFastCallKeywords+0x1b3)[0x5d8833]
python3(_PyEval_EvalFrameDefault+0x42c3)[0x552373]
python3[0x4d37a6]
python3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]
python3[0x4d37a6]
python3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]
python3[0x4d37a6]
python3(_PyMethodDescr_FastCallKeywords+0x151)[0x4d76a1]
python3(_PyEval_EvalFrameDefault+0x45f8)[0x5526a8]
python3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]
python3(_PyEval_EvalFrameDefault+0x4fc)[0x54e5ac]
python3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]
python3[0x54b1f0]
python3(_PyEval_EvalFrameDefault+0x13ae)[0x54f45e]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(PyEval_EvalCode+0x23)[0x54e0a3]
python3[0x630ce2]
python3(PyRun_FileExFlags+0x97)[0x630d97]
python3(PyRun_SimpleFileExFlags+0x17f)[0x6319ff]
python3[0x65432e]
python3(_Py_UnixMain+0x2e)[0x65468e]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xeb)[0x7fb4e55c009b]
python3(_start+0x2a)[0x5e0e8a]
------------------------------------------------------------------------
Attaching gdb to process id 1182.
GNU gdb (Debian 8.2.1-2+b3) 8.2.1
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word".
[New LWP 1258]
[New LWP 1260]
[New LWP 1261]
[New LWP 1262]
[New LWP 1263]
[New LWP 1264]
[New LWP 1265]
[New LWP 1266]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
0x00007fb4e5b590ca in __waitpid (pid=1269, stat_loc=0x0, options=0)
    at ../sysdeps/unix/sysv/linux/waitpid.c:30

Stack backtrace
---------------
    at ../sysdeps/unix/sysv/linux/waitpid.c:30
        resultvar = 18446744073709551104
        sc_cancel_oldtype = 0
        sc_ret = <optimized out>
#1  0x00007fb4e21a4743 in print_enhanced_backtrace ()
    at build/src/cysignals/implementation.c:579
        parent_pid = 1182
        pid = <optimized out>
#2  0x00007fb4e21a4885 in sigdie (sig=sig@entry=6, 
    s=s@entry=0x7fb4e21aac00 "Unhandled SIGABRT: An abort() occurred.")
    at build/src/cysignals/implementation.c:605
No locals.
#3  0x00007fb4e21a933c in sigdie_for_sig (inside=0, sig=6)
    at build/src/cysignals/implementation.c:175
No locals.
#4  cysigs_signal_handler (sig=6) at build/src/cysignals/implementation.c:278
        inside = <optimized out>
#5  <signal handler called>
No locals.
#6  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50
        set = {__val = {0, 0, 0, 0, 140404071281033, 140735024796720, 
            140735024796016, 70370368, 140735024796016, 140735024796720, 0, 
            70370368, 140735024796016, 41, 0, 140414863847016}}
        pid = <optimized out>
        tid = <optimized out>
        ret = <optimized out>
#7  0x00007fb4e55be535 in __GI_abort () at abort.c:79
        save_stage = 1
        act = {__sigaction_handler = {sa_handler = 0x0, sa_sigaction = 0x0}, 
          sa_mask = {__val = {0 <repeats 13 times>, 130843, 70370368, 
              140735024797024}}, sa_flags = 1831408448, 
          sa_restorer = 0x7fff6d291430}
        sigs = {__val = {32, 0 <repeats 15 times>}}
#8  0x00007fb4e213d358 in ?? () from /lib/x86_64-linux-gnu/libgcc_s.so.1
No symbol table info available.
#9  0x00007fb25ec8bd9c in __gnu_cxx::new_allocator<char>::~new_allocator (
    this=<optimized out>, this=<optimized out>)
    at /usr/include/c++/8/ext/new_allocator.h:86
No locals.
#10 std::allocator<char>::~allocator (this=<optimized out>, 
    this=<optimized out>) at /usr/include/c++/8/bits/allocator.h:139
No locals.
#11 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_Alloc_hider::~_Alloc_hider (this=<optimized out>, this=<optimized out>)
    at /usr/include/c++/8/bits/basic_string.h:139
No locals.
#12 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string (this=<optimized out>, this=<optimized out>)
    at /usr/include/c++/8/bits/basic_string.h:657
No locals.
#13 _NmzResultImpl<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >(libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >*, _object*, void*) [clone .isra.995] [clone .lto_priv.83] (C=<optimized out>, prop_obj=<optimized out>, 
    nf=<optimized out>) at NormalizModule.cpp:1597
        prop = ""
        p = <optimized out>
        notComputed = {CPs = std::bitset}
        outputtype = <optimized out>
        tmpHandler = <optimized out>
        is_HSOP = <optimized out>
        is_HSOP = <optimized out>
        grad = <optimized out>
        denom = <optimized out>
        return_list = <optimized out>
        hull = <optimized out>
        projection = <optimized out>
#14 0x00007fb25ec9f5c0 in _NmzResult (self=<optimized out>, 
    args=<optimized out>, kwargs=0x0) at NormalizModule.cpp:1832
        cone_ptr = <optimized out>
        cone = 0x7fb4e126c960
        prop = 0x7fb25e758618
        result = 0x0
#15 0x00000000005d88a4 in _PyMethodDef_RawFastCallKeywords ()
No symbol table info available.
#16 0x0000000000552373 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#17 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#18 0x0000000000558f25 in ?? ()
No symbol table info available.
#19 0x00000000005d8833 in _PyMethodDef_RawFastCallKeywords ()
No symbol table info available.
#20 0x0000000000552373 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#21 0x00000000004d37a6 in ?? ()
No symbol table info available.
#22 0x000000000054fb25 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#23 0x00000000004d37a6 in ?? ()
No symbol table info available.
#24 0x000000000054fb25 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#25 0x00000000004d37a6 in ?? ()
No symbol table info available.
#26 0x00000000004d76a1 in _PyMethodDescr_FastCallKeywords ()
No symbol table info available.
#27 0x00000000005526a8 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#28 0x00000000005d91fc in _PyFunction_FastCallKeywords ()
No symbol table info available.
#29 0x000000000054e5ac in _PyEval_EvalFrameDefault ()
No symbol table info available.
#30 0x00000000005d91fc in _PyFunction_FastCallKeywords ()
No symbol table info available.
#31 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#32 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#33 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()
No symbol table info available.
#34 0x000000000054b1f0 in ?? ()
No symbol table info available.
#35 0x000000000054f45e in _PyEval_EvalFrameDefault ()
No symbol table info available.
#36 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#37 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()
No symbol table info available.
#38 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#39 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#40 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()
No symbol table info available.
#41 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#42 0x00000000005d91fc in _PyFunction_FastCallKeywords ()
No symbol table info available.
#43 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#44 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#45 0x000000000054e0a3 in PyEval_EvalCode ()
No symbol table info available.
#46 0x0000000000630ce2 in ?? ()
No symbol table info available.
#47 0x0000000000630d97 in PyRun_FileExFlags ()
No symbol table info available.
#48 0x00000000006319ff in PyRun_SimpleFileExFlags ()
No symbol table info available.
#49 0x000000000065432e in ?? ()
No symbol table info available.
#50 0x000000000065468e in _Py_UnixMain ()
No symbol table info available.
#51 0x00007fb4e55c009b in __libc_start_main (main=0x4bc560 <main>, argc=3, 
    argv=0x7fff6d2930f8, init=<optimized out>, fini=<optimized out>, 
    rtld_fini=<optimized out>, stack_end=0x7fff6d2930e8)
    at ../csu/libc-start.c:308
        self = <optimized out>
        result = <optimized out>
        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, -1977610188322685730, 
                6164064, 140735024804080, 0, 0, 1977296402553060574, 
                2010809338179042526}, mask_was_saved = 0}}, priv = {pad = {
              0x0, 0x0, 0x7fff6d293118, 0x7fb4e5c12190}, data = {prev = 0x0, 
              cleanup = 0x0, canceltype = 1831416088}}}
        not_first_call = <optimized out>
#52 0x00000000005e0e8a in _start ()
No symbol table info available.
[Inferior 1 (process 1182) detached]
30	../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.
Traceback (most recent call last):
  File "<string>", line 25, in <module>
ModuleNotFoundError: No module named 'Cython'
Error while executing Python code.
Saved trace to /srv/public/kliem/.sage/crash_logs/crash_juhvwxxn.log
------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
------------------------------------------------------------------------
Aborted
```



---

archive/issue_comments_511164.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)** to **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)**",
    "created_at": "2021-05-18T13:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511164",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)** to **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)**



---

archive/issue_comments_511165.json:
```json
{
    "body": "Changed commit from **[9759d20](https://github.com/sagemath/sagetrac-mirror/commit/9759d20ec79831be86d85e63de78865afe33091f)** to **[797d466](https://github.com/sagemath/sagetrac-mirror/commit/797d466584cada5f260d9ff154b7453f09084fa7)**",
    "created_at": "2021-05-18T13:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511165",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[9759d20](https://github.com/sagemath/sagetrac-mirror/commit/9759d20ec79831be86d85e63de78865afe33091f)** to **[797d466](https://github.com/sagemath/sagetrac-mirror/commit/797d466584cada5f260d9ff154b7453f09084fa7)**



---

archive/issue_comments_511166.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/797d466584cada5f260d9ff154b7453f09084fa7\">797d466</a></td><td><code>fix normaliz triangulation after upgrade</code></td></tr></table>\n",
    "created_at": "2021-05-18T13:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511166",
    "user": "https://github.com/kliem"
}
```

<div id="comment:6" align="right">Comment 6</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/797d466584cada5f260d9ff154b7453f09084fa7">797d466</a></td><td><code>fix normaliz triangulation after upgrade</code></td></tr></table>




---

archive/issue_comments_511167.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nSeems to work now, except for that one BIG issue that the error catching is completely broken.\n\nIt has nothing to do with that specific use case. As soons as you use `PyNormaliz` in sage and not in ipython it fails:\n\n```\nsage: from PyNormaliz import *                                                                                                                                                                                                                                                 \nsage: C = Cone(cone = [[1,0],[0,1]])                                                                                                                                                                                                                                           \nsage: C = Cone(cone = [[1,0],[0]])                                                                                                                                                                                                                                             \n------------------------------------------------------------------------\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x95eb)[0x7f1239f1e5eb]\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xb848)[0x7f1239f20848]\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x1033c)[0x7f1239f2533c]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x7f123d8d5730]\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x7f123d34f7bb]\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x7f123d33a535]\n/lib/x86_64-linux-gnu/libgcc_s.so.1(+0x3358)[0x7f1239eb9358]\n/srv/public/kliem/sage/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE25process_multi_input_innerERSt3mapINS_4Type9InputTypeESt6vectorIS9_IS4_SaIS4_EESaISB_EESt4lessIS8_ESaISt4pairIKS8_SD_EEE+0x2894)[0x7f0fb6738764]\n/srv/public/kliem/sage/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE19process_multi_inputERKSt3mapINS_4Type9InputTypeESt6vectorIS9_IS1_IA1_12__mpq_structSB_ESaISC_EESaISE_EESt4lessIS8_ESaISt4pairIKS8_SG_EEE+0x2f)[0x7f0fb673c25f]\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/PyNormaliz_cpp.cpython-37m-x86_64-linux-gnu.so(+0x30d39)[0x7f0fb6a2ed39]\npython3(PyCFunction_Call+0xaa)[0x5d8f4a]\npython3(_PyEval_EvalFrameDefault+0x5139)[0x5531e9]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(_PyFunction_FastCallDict+0x34e)[0x5da6fe]\npython3[0x591533]\npython3(_PyObject_FastCallKeywords+0x129)[0x5d9c59]\npython3[0x54b3c1]\npython3(_PyEval_EvalFrameDefault+0x13ae)[0x54f45e]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3[0x558f25]\npython3(_PyMethodDef_RawFastCallKeywords+0x1b3)[0x5d8833]\npython3(_PyEval_EvalFrameDefault+0x42c3)[0x552373]\npython3[0x4d37a6]\npython3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]\npython3[0x4d37a6]\npython3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]\npython3[0x4d37a6]\npython3(_PyMethodDescr_FastCallKeywords+0x151)[0x4d76a1]\npython3(_PyEval_EvalFrameDefault+0x45f8)[0x5526a8]\npython3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]\npython3(_PyEval_EvalFrameDefault+0x4fc)[0x54e5ac]\npython3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]\npython3[0x54b1f0]\npython3(_PyEval_EvalFrameDefault+0x13ae)[0x54f45e]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]\npython3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]\npython3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]\npython3(PyEval_EvalCode+0x23)[0x54e0a3]\npython3[0x630ce2]\npython3(PyRun_FileExFlags+0x97)[0x630d97]\npython3(PyRun_SimpleFileExFlags+0x17f)[0x6319ff]\npython3[0x65432e]\npython3(_Py_UnixMain+0x2e)[0x65468e]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xeb)[0x7f123d33c09b]\npython3(_start+0x2a)[0x5e0e8a]\n------------------------------------------------------------------------\nAttaching gdb to process id 8074.\nGNU gdb (Debian 8.2.1-2+b3) 8.2.1\nCopyright (C) 2018 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\nType \"show copying\" and \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>.\nFind the GDB manual and other documentation resources online at:\n    <http://www.gnu.org/software/gdb/documentation/>.\n\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\".\n[New LWP 8150]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n0x00007f123d8d50ca in __waitpid (pid=8154, stat_loc=0x0, options=0)\n    at ../sysdeps/unix/sysv/linux/waitpid.c:30\n\nStack backtrace\n---------------\n    at ../sysdeps/unix/sysv/linux/waitpid.c:30\n        resultvar = 18446744073709551104\n        sc_cancel_oldtype = 0\n        sc_ret = <optimized out>\n#1  0x00007f1239f20743 in print_enhanced_backtrace ()\n    at build/src/cysignals/implementation.c:579\n        parent_pid = 8074\n        pid = <optimized out>\n#2  0x00007f1239f20885 in sigdie (sig=sig@entry=6, \n    s=s@entry=0x7f1239f26c00 \"Unhandled SIGABRT: An abort() occurred.\")\n    at build/src/cysignals/implementation.c:605\nNo locals.\n#3  0x00007f1239f2533c in sigdie_for_sig (inside=0, sig=6)\n    at build/src/cysignals/implementation.c:175\nNo locals.\n#4  cysigs_signal_handler (sig=6) at build/src/cysignals/implementation.c:278\n        inside = <optimized out>\n#5  <signal handler called>\nNo locals.\n#6  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\n        set = {__val = {0, 0, 0, 0, 139705465385353, 140723136350640, \n            140723136349936, 61173312, 140723136349936, 140723136350640, 0, \n            61173312, 140723136349936, 48, 0, 139716257934952}}\n        pid = <optimized out>\n        tid = <optimized out>\n        ret = <optimized out>\n#7  0x00007f123d33a535 in __GI_abort () at abort.c:79\n        save_stage = 1\n        act = {__sigaction_handler = {sa_handler = 0x0, sa_sigaction = 0x0}, \n          sa_mask = {__val = {0 <repeats 13 times>, 130843, 61173312, \n              140723136350944}}, sa_flags = -1467103040, \n          sa_restorer = 0x7ffca88dc9b0}\n        sigs = {__val = {32, 0 <repeats 15 times>}}\n#8  0x00007f1239eb9358 in ?? () from /lib/x86_64-linux-gnu/libgcc_s.so.1\nNo symbol table info available.\n#9  0x00007f0fb6738764 in libnormaliz::Matrix<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::~Matrix (this=<optimized out>, __in_chrg=<optimized out>)\n    at ./libnormaliz/matrix.h:53\nNo locals.\n#10 libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::process_multi_input_inner (this=this@entry=0x3dc0e30, \n    multi_input_data=std::map with 1 element) at libnormaliz/cone.cpp:851\n        __PRETTY_FUNCTION__ = \"void libnormaliz::Cone<Integer>::process_multi_input_inner(std::map<libnormaliz::Type::InputType, std::vector<std::vector<Integer> > >&) [with Integer = __gmp_expr<__mpz_struct [1], __mpz_struct [1]>]\"\n        it = <optimized out>\n        gen_error = <optimized out>\n        inhom_corr = <optimized out>\n        InhomExcludedFaces = {nr = 0, nc = 0, \n          elem = std::vector of length 0, capacity 0}\n        lf = std::vector of length 0, capacity 0\n        LatticeGenerators = {nr = 0, nc = 139705459795680, \n          elem = std::vector of length -22727535274, capacity -22727535274 = {\n            <error reading variable>\n        cone_sat_eq = <optimized out>\n        cone_sat_cong = <optimized out>\n        cone_sat_ineq = <optimized out>\n#11 0x00007f0fb673c25f in libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::process_multi_input (this=this@entry=0x3dc0e30, \n    multi_input_data_const=std::map with 1 element) at libnormaliz/cone.cpp:615\n        multi_input_data_ZZ = std::map with 1 element = {\n          [libnormaliz::Type::cone] = std::vector of length 2, capacity 2 = {\n            std::vector of length 2, capacity 2 = {{mp = {{_mp_alloc = 1, \n                    _mp_size = 1, _mp_d = 0x3065f40}}}, {mp = {{_mp_alloc = 1, \n                    _mp_size = 0, _mp_d = 0x30d1ad0}}}}, \n            std::vector of length 1, capacity 1 = {{mp = {{_mp_alloc = 1, \n                    _mp_size = 0, _mp_d = 0x30fbba0}}}}}}\n#12 0x00007f0fb6a2ed39 in libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::Cone<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > (\n    multi_input_data=..., this=<optimized out>, this=<optimized out>, \n    multi_input_data=...) at /usr/include/c++/8/bits/stl_bvector.h:222\nNo locals.\n#13 _NmzConeIntern<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > (\n    kwargs=<optimized out>) at NormalizModule.cpp:976\n        polynomial = \"\"\n        C = <optimized out>\n        return_container = <optimized out>\n        input = std::map with 1 element = {\n          [libnormaliz::Type::cone] = std::vector of length 2, capacity 2 = {\n            std::vector of length 2, capacity 2 = {{mp = {{_mp_num = {\n                      _mp_alloc = 1, _mp_size = 1, _mp_d = 0x2cfd780}, \n                    _mp_den = {_mp_alloc = 1, _mp_size = 1, \n                      _mp_d = 0x2cfd7a0}}}}, {mp = {{_mp_num = {_mp_alloc = 1, \n                      _mp_size = 0, _mp_d = 0x2f90890}, _mp_den = {\n                      _mp_alloc = 1, _mp_size = 1, _mp_d = 0x31feb10}}}}}, \n            std::vector of length 1, capacity 1 = {{mp = {{_mp_num = {\n                      _mp_alloc = 1, _mp_size = 0, _mp_d = 0x389cfb0}, \n                    _mp_den = {_mp_alloc = 1, _mp_size = 1, \n                      _mp_d = 0x389cfd0}}}}}}}\n        grading_polynomial = false\n        input = <optimized out>\n        grading_polynomial = <optimized out>\n        polynomial = <optimized out>\n        C = <optimized out>\n        return_container = <optimized out>\n        keys = <optimized out>\n        values = <optimized out>\n        length = <optimized out>\n        i = <optimized out>\n        type_string = <optimized out>\n        current_value = <optimized out>\n        Mat = <optimized out>\n        e = <optimized out>\n#14 _NmzCone (self=<optimized out>, args=<optimized out>, \n    kwargs=<optimized out>) at NormalizModule.cpp:1096\n        string_for_long = 0x7f0fb6a323fa \"CreateAsLongLong\"\n        create_as_long_long = <optimized out>\n        string_for_renf = 0x7f0fb6a3240b \"number_field\"\n        create_as_renf = <optimized out>\n#15 0x00000000005d8f4a in PyCFunction_Call ()\nNo symbol table info available.\n#16 0x00000000005531e9 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#17 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#18 0x00000000005da6fe in _PyFunction_FastCallDict ()\nNo symbol table info available.\n#19 0x0000000000591533 in ?? ()\nNo symbol table info available.\n#20 0x00000000005d9c59 in _PyObject_FastCallKeywords ()\nNo symbol table info available.\n#21 0x000000000054b3c1 in ?? ()\nNo symbol table info available.\n#22 0x000000000054f45e in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#23 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#24 0x0000000000558f25 in ?? ()\nNo symbol table info available.\n#25 0x00000000005d8833 in _PyMethodDef_RawFastCallKeywords ()\nNo symbol table info available.\n#26 0x0000000000552373 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#27 0x00000000004d37a6 in ?? ()\nNo symbol table info available.\n#28 0x000000000054fb25 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#29 0x00000000004d37a6 in ?? ()\nNo symbol table info available.\n#30 0x000000000054fb25 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#31 0x00000000004d37a6 in ?? ()\nNo symbol table info available.\n#32 0x00000000004d76a1 in _PyMethodDescr_FastCallKeywords ()\nNo symbol table info available.\n#33 0x00000000005526a8 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#34 0x00000000005d91fc in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#35 0x000000000054e5ac in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#36 0x00000000005d91fc in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#37 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#38 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#39 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#40 0x000000000054b1f0 in ?? ()\nNo symbol table info available.\n#41 0x000000000054f45e in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#42 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#43 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#44 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#45 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#46 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#47 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#48 0x00000000005d91fc in _PyFunction_FastCallKeywords ()\nNo symbol table info available.\n#49 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()\nNo symbol table info available.\n#50 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()\nNo symbol table info available.\n#51 0x000000000054e0a3 in PyEval_EvalCode ()\nNo symbol table info available.\n#52 0x0000000000630ce2 in ?? ()\nNo symbol table info available.\n#53 0x0000000000630d97 in PyRun_FileExFlags ()\nNo symbol table info available.\n#54 0x00000000006319ff in PyRun_SimpleFileExFlags ()\nNo symbol table info available.\n#55 0x000000000065432e in ?? ()\nNo symbol table info available.\n#56 0x000000000065468e in _Py_UnixMain ()\nNo symbol table info available.\n#57 0x00007f123d33c09b in __libc_start_main (main=0x4bc560 <main>, argc=3, \n    argv=0x7ffca88e0338, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7ffca88e0328)\n    at ../csu/libc-start.c:308\n        self = <optimized out>\n        result = <optimized out>\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, 6802578844880594517, \n                6164064, 140723136365360, 0, 0, -6800773277373307307, \n                -6898415358150449579}, mask_was_saved = 0}}, priv = {pad = {\n              0x0, 0x0, 0x7ffca88e0358, 0x7f123d98e190}, data = {prev = 0x0, \n              cleanup = 0x0, canceltype = -1467088040}}}\n        not_first_call = <optimized out>\n#58 0x00000000005e0e8a in _start ()\nNo symbol table info available.\n[Inferior 1 (process 8074) detached]\n30\t../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.\nPython Exception <class 'ValueError'> Cannot find type class std::map<libnormaliz::Type::InputType, std::vector<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > > > >, std::less<libnormaliz::Type::InputType>, std::allocator<std::pair<libnormaliz::Type::InputType const, std::vector<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > > > > > > >::_Rep_type: \nPython Exception <class 'ValueError'> Cannot find type const class std::map<libnormaliz::Type::InputType, std::vector<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > > > >, std::less<libnormaliz::Type::InputType>, std::allocator<std::pair<libnormaliz::Type::InputType const, std::vector<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > > > > > > >::_Rep_type: \nTraceback (most recent call last):\n  File \"<string>\", line 25, in <module>\nModuleNotFoundError: No module named 'Cython'\nError while executing Python code.\nSaved trace to /srv/public/kliem/.sage/crash_logs/crash_64_q_whr.log\n```",
    "created_at": "2021-05-18T13:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511167",
    "user": "https://github.com/kliem"
}
```

<div id="comment:7" align="right">Comment 7</div>

Seems to work now, except for that one BIG issue that the error catching is completely broken.

It has nothing to do with that specific use case. As soons as you use `PyNormaliz` in sage and not in ipython it fails:

```
sage: from PyNormaliz import *                                                                                                                                                                                                                                                 
sage: C = Cone(cone = [[1,0],[0,1]])                                                                                                                                                                                                                                           
sage: C = Cone(cone = [[1,0],[0]])                                                                                                                                                                                                                                             
------------------------------------------------------------------------
/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x95eb)[0x7f1239f1e5eb]
/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xb848)[0x7f1239f20848]
/srv/public/kliem/sage/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x1033c)[0x7f1239f2533c]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x7f123d8d5730]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x7f123d34f7bb]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x7f123d33a535]
/lib/x86_64-linux-gnu/libgcc_s.so.1(+0x3358)[0x7f1239eb9358]
/srv/public/kliem/sage/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE25process_multi_input_innerERSt3mapINS_4Type9InputTypeESt6vectorIS9_IS4_SaIS4_EESaISB_EESt4lessIS8_ESaISt4pairIKS8_SD_EEE+0x2894)[0x7f0fb6738764]
/srv/public/kliem/sage/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE19process_multi_inputERKSt3mapINS_4Type9InputTypeESt6vectorIS9_IS1_IA1_12__mpq_structSB_ESaISC_EESaISE_EESt4lessIS8_ESaISt4pairIKS8_SG_EEE+0x2f)[0x7f0fb673c25f]
/srv/public/kliem/sage/local/lib/python3.7/site-packages/PyNormaliz_cpp.cpython-37m-x86_64-linux-gnu.so(+0x30d39)[0x7f0fb6a2ed39]
python3(PyCFunction_Call+0xaa)[0x5d8f4a]
python3(_PyEval_EvalFrameDefault+0x5139)[0x5531e9]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(_PyFunction_FastCallDict+0x34e)[0x5da6fe]
python3[0x591533]
python3(_PyObject_FastCallKeywords+0x129)[0x5d9c59]
python3[0x54b3c1]
python3(_PyEval_EvalFrameDefault+0x13ae)[0x54f45e]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3[0x558f25]
python3(_PyMethodDef_RawFastCallKeywords+0x1b3)[0x5d8833]
python3(_PyEval_EvalFrameDefault+0x42c3)[0x552373]
python3[0x4d37a6]
python3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]
python3[0x4d37a6]
python3(_PyEval_EvalFrameDefault+0x1a75)[0x54fb25]
python3[0x4d37a6]
python3(_PyMethodDescr_FastCallKeywords+0x151)[0x4d76a1]
python3(_PyEval_EvalFrameDefault+0x45f8)[0x5526a8]
python3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]
python3(_PyEval_EvalFrameDefault+0x4fc)[0x54e5ac]
python3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]
python3[0x54b1f0]
python3(_PyEval_EvalFrameDefault+0x13ae)[0x54f45e]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(_PyFunction_FastCallKeywords+0x482)[0x5d94f2]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyFunction_FastCallKeywords+0x18c)[0x5d91fc]
python3(_PyEval_EvalFrameDefault+0x730)[0x54e7e0]
python3(_PyEval_EvalCodeWithName+0x252)[0x54bcc2]
python3(PyEval_EvalCode+0x23)[0x54e0a3]
python3[0x630ce2]
python3(PyRun_FileExFlags+0x97)[0x630d97]
python3(PyRun_SimpleFileExFlags+0x17f)[0x6319ff]
python3[0x65432e]
python3(_Py_UnixMain+0x2e)[0x65468e]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xeb)[0x7f123d33c09b]
python3(_start+0x2a)[0x5e0e8a]
------------------------------------------------------------------------
Attaching gdb to process id 8074.
GNU gdb (Debian 8.2.1-2+b3) 8.2.1
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word".
[New LWP 8150]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
0x00007f123d8d50ca in __waitpid (pid=8154, stat_loc=0x0, options=0)
    at ../sysdeps/unix/sysv/linux/waitpid.c:30

Stack backtrace
---------------
    at ../sysdeps/unix/sysv/linux/waitpid.c:30
        resultvar = 18446744073709551104
        sc_cancel_oldtype = 0
        sc_ret = <optimized out>
#1  0x00007f1239f20743 in print_enhanced_backtrace ()
    at build/src/cysignals/implementation.c:579
        parent_pid = 8074
        pid = <optimized out>
#2  0x00007f1239f20885 in sigdie (sig=sig@entry=6, 
    s=s@entry=0x7f1239f26c00 "Unhandled SIGABRT: An abort() occurred.")
    at build/src/cysignals/implementation.c:605
No locals.
#3  0x00007f1239f2533c in sigdie_for_sig (inside=0, sig=6)
    at build/src/cysignals/implementation.c:175
No locals.
#4  cysigs_signal_handler (sig=6) at build/src/cysignals/implementation.c:278
        inside = <optimized out>
#5  <signal handler called>
No locals.
#6  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50
        set = {__val = {0, 0, 0, 0, 139705465385353, 140723136350640, 
            140723136349936, 61173312, 140723136349936, 140723136350640, 0, 
            61173312, 140723136349936, 48, 0, 139716257934952}}
        pid = <optimized out>
        tid = <optimized out>
        ret = <optimized out>
#7  0x00007f123d33a535 in __GI_abort () at abort.c:79
        save_stage = 1
        act = {__sigaction_handler = {sa_handler = 0x0, sa_sigaction = 0x0}, 
          sa_mask = {__val = {0 <repeats 13 times>, 130843, 61173312, 
              140723136350944}}, sa_flags = -1467103040, 
          sa_restorer = 0x7ffca88dc9b0}
        sigs = {__val = {32, 0 <repeats 15 times>}}
#8  0x00007f1239eb9358 in ?? () from /lib/x86_64-linux-gnu/libgcc_s.so.1
No symbol table info available.
#9  0x00007f0fb6738764 in libnormaliz::Matrix<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::~Matrix (this=<optimized out>, __in_chrg=<optimized out>)
    at ./libnormaliz/matrix.h:53
No locals.
#10 libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::process_multi_input_inner (this=this@entry=0x3dc0e30, 
    multi_input_data=std::map with 1 element) at libnormaliz/cone.cpp:851
        __PRETTY_FUNCTION__ = "void libnormaliz::Cone<Integer>::process_multi_input_inner(std::map<libnormaliz::Type::InputType, std::vector<std::vector<Integer> > >&) [with Integer = __gmp_expr<__mpz_struct [1], __mpz_struct [1]>]"
        it = <optimized out>
        gen_error = <optimized out>
        inhom_corr = <optimized out>
        InhomExcludedFaces = {nr = 0, nc = 0, 
          elem = std::vector of length 0, capacity 0}
        lf = std::vector of length 0, capacity 0
        LatticeGenerators = {nr = 0, nc = 139705459795680, 
          elem = std::vector of length -22727535274, capacity -22727535274 = {
            <error reading variable>
        cone_sat_eq = <optimized out>
        cone_sat_cong = <optimized out>
        cone_sat_ineq = <optimized out>
#11 0x00007f0fb673c25f in libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::process_multi_input (this=this@entry=0x3dc0e30, 
    multi_input_data_const=std::map with 1 element) at libnormaliz/cone.cpp:615
        multi_input_data_ZZ = std::map with 1 element = {
          [libnormaliz::Type::cone] = std::vector of length 2, capacity 2 = {
            std::vector of length 2, capacity 2 = {{mp = {{_mp_alloc = 1, 
                    _mp_size = 1, _mp_d = 0x3065f40}}}, {mp = {{_mp_alloc = 1, 
                    _mp_size = 0, _mp_d = 0x30d1ad0}}}}, 
            std::vector of length 1, capacity 1 = {{mp = {{_mp_alloc = 1, 
                    _mp_size = 0, _mp_d = 0x30fbba0}}}}}}
#12 0x00007f0fb6a2ed39 in libnormaliz::Cone<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> >::Cone<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > (
    multi_input_data=..., this=<optimized out>, this=<optimized out>, 
    multi_input_data=...) at /usr/include/c++/8/bits/stl_bvector.h:222
No locals.
#13 _NmzConeIntern<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > (
    kwargs=<optimized out>) at NormalizModule.cpp:976
        polynomial = ""
        C = <optimized out>
        return_container = <optimized out>
        input = std::map with 1 element = {
          [libnormaliz::Type::cone] = std::vector of length 2, capacity 2 = {
            std::vector of length 2, capacity 2 = {{mp = {{_mp_num = {
                      _mp_alloc = 1, _mp_size = 1, _mp_d = 0x2cfd780}, 
                    _mp_den = {_mp_alloc = 1, _mp_size = 1, 
                      _mp_d = 0x2cfd7a0}}}}, {mp = {{_mp_num = {_mp_alloc = 1, 
                      _mp_size = 0, _mp_d = 0x2f90890}, _mp_den = {
                      _mp_alloc = 1, _mp_size = 1, _mp_d = 0x31feb10}}}}}, 
            std::vector of length 1, capacity 1 = {{mp = {{_mp_num = {
                      _mp_alloc = 1, _mp_size = 0, _mp_d = 0x389cfb0}, 
                    _mp_den = {_mp_alloc = 1, _mp_size = 1, 
                      _mp_d = 0x389cfd0}}}}}}}
        grading_polynomial = false
        input = <optimized out>
        grading_polynomial = <optimized out>
        polynomial = <optimized out>
        C = <optimized out>
        return_container = <optimized out>
        keys = <optimized out>
        values = <optimized out>
        length = <optimized out>
        i = <optimized out>
        type_string = <optimized out>
        current_value = <optimized out>
        Mat = <optimized out>
        e = <optimized out>
#14 _NmzCone (self=<optimized out>, args=<optimized out>, 
    kwargs=<optimized out>) at NormalizModule.cpp:1096
        string_for_long = 0x7f0fb6a323fa "CreateAsLongLong"
        create_as_long_long = <optimized out>
        string_for_renf = 0x7f0fb6a3240b "number_field"
        create_as_renf = <optimized out>
#15 0x00000000005d8f4a in PyCFunction_Call ()
No symbol table info available.
#16 0x00000000005531e9 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#17 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#18 0x00000000005da6fe in _PyFunction_FastCallDict ()
No symbol table info available.
#19 0x0000000000591533 in ?? ()
No symbol table info available.
#20 0x00000000005d9c59 in _PyObject_FastCallKeywords ()
No symbol table info available.
#21 0x000000000054b3c1 in ?? ()
No symbol table info available.
#22 0x000000000054f45e in _PyEval_EvalFrameDefault ()
No symbol table info available.
#23 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#24 0x0000000000558f25 in ?? ()
No symbol table info available.
#25 0x00000000005d8833 in _PyMethodDef_RawFastCallKeywords ()
No symbol table info available.
#26 0x0000000000552373 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#27 0x00000000004d37a6 in ?? ()
No symbol table info available.
#28 0x000000000054fb25 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#29 0x00000000004d37a6 in ?? ()
No symbol table info available.
#30 0x000000000054fb25 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#31 0x00000000004d37a6 in ?? ()
No symbol table info available.
#32 0x00000000004d76a1 in _PyMethodDescr_FastCallKeywords ()
No symbol table info available.
#33 0x00000000005526a8 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#34 0x00000000005d91fc in _PyFunction_FastCallKeywords ()
No symbol table info available.
#35 0x000000000054e5ac in _PyEval_EvalFrameDefault ()
No symbol table info available.
#36 0x00000000005d91fc in _PyFunction_FastCallKeywords ()
No symbol table info available.
#37 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#38 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#39 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()
No symbol table info available.
#40 0x000000000054b1f0 in ?? ()
No symbol table info available.
#41 0x000000000054f45e in _PyEval_EvalFrameDefault ()
No symbol table info available.
#42 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#43 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()
No symbol table info available.
#44 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#45 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#46 0x00000000005d94f2 in _PyFunction_FastCallKeywords ()
No symbol table info available.
#47 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#48 0x00000000005d91fc in _PyFunction_FastCallKeywords ()
No symbol table info available.
#49 0x000000000054e7e0 in _PyEval_EvalFrameDefault ()
No symbol table info available.
#50 0x000000000054bcc2 in _PyEval_EvalCodeWithName ()
No symbol table info available.
#51 0x000000000054e0a3 in PyEval_EvalCode ()
No symbol table info available.
#52 0x0000000000630ce2 in ?? ()
No symbol table info available.
#53 0x0000000000630d97 in PyRun_FileExFlags ()
No symbol table info available.
#54 0x00000000006319ff in PyRun_SimpleFileExFlags ()
No symbol table info available.
#55 0x000000000065432e in ?? ()
No symbol table info available.
#56 0x000000000065468e in _Py_UnixMain ()
No symbol table info available.
#57 0x00007f123d33c09b in __libc_start_main (main=0x4bc560 <main>, argc=3, 
    argv=0x7ffca88e0338, init=<optimized out>, fini=<optimized out>, 
    rtld_fini=<optimized out>, stack_end=0x7ffca88e0328)
    at ../csu/libc-start.c:308
        self = <optimized out>
        result = <optimized out>
        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, 6802578844880594517, 
                6164064, 140723136365360, 0, 0, -6800773277373307307, 
                -6898415358150449579}, mask_was_saved = 0}}, priv = {pad = {
              0x0, 0x0, 0x7ffca88e0358, 0x7f123d98e190}, data = {prev = 0x0, 
              cleanup = 0x0, canceltype = -1467088040}}}
        not_first_call = <optimized out>
#58 0x00000000005e0e8a in _start ()
No symbol table info available.
[Inferior 1 (process 8074) detached]
30	../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.
Python Exception <class 'ValueError'> Cannot find type class std::map<libnormaliz::Type::InputType, std::vector<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > > > >, std::less<libnormaliz::Type::InputType>, std::allocator<std::pair<libnormaliz::Type::InputType const, std::vector<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpz_struct [1], __mpz_struct [1]>, std::allocator<__gmp_expr<__mpz_struct [1], __mpz_struct [1]> > > > > > > >::_Rep_type: 
Python Exception <class 'ValueError'> Cannot find type const class std::map<libnormaliz::Type::InputType, std::vector<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > > > >, std::less<libnormaliz::Type::InputType>, std::allocator<std::pair<libnormaliz::Type::InputType const, std::vector<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > >, std::allocator<std::vector<__gmp_expr<__mpq_struct [1], __mpq_struct [1]>, std::allocator<__gmp_expr<__mpq_struct [1], __mpq_struct [1]> > > > > > > >::_Rep_type: 
Traceback (most recent call last):
  File "<string>", line 25, in <module>
ModuleNotFoundError: No module named 'Cython'
Error while executing Python code.
Saved trace to /srv/public/kliem/.sage/crash_logs/crash_64_q_whr.log
```



---

archive/issue_comments_511168.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nPlease explain for me: is there something to be done in PyNormaliz?",
    "created_at": "2021-05-18T13:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511168",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:8" align="right">Comment 8</div>

Please explain for me: is there something to be done in PyNormaliz?



---

archive/issue_comments_511169.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nI only wish I would know.\n\nIf there is something that changed in the error handling in normaliz that would be good to know.",
    "created_at": "2021-05-18T14:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511169",
    "user": "https://github.com/kliem"
}
```

<div id="comment:9" align="right">Comment 9</div>

I only wish I would know.

If there is something that changed in the error handling in normaliz that would be good to know.



---

archive/issue_comments_511170.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nI am quite sure that nothing has changed on the Normaliz side. I am also not aware of any intended changes in PyNormaliz. Have you tried to run PyNormaliz outside of Sage?\n\nDoes the spoiled error handling concern all kinds of errors or only specific ones?",
    "created_at": "2021-05-18T14:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511170",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:10" align="right">Comment 10</div>

I am quite sure that nothing has changed on the Normaliz side. I am also not aware of any intended changes in PyNormaliz. Have you tried to run PyNormaliz outside of Sage?

Does the spoiled error handling concern all kinds of errors or only specific ones?



---

archive/issue_comments_511171.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nThe installed Normaliz and PyNormaliz work fine in ipython (via \u2018sage -sh\u2018). It only happens in the sage shell/sages modified ipython and apparently effects all kinds of Normaliz Errors.",
    "created_at": "2021-05-18T14:52:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511171",
    "user": "https://github.com/kliem"
}
```

<div id="comment:11" align="right">Comment 11</div>

The installed Normaliz and PyNormaliz work fine in ipython (via ‘sage -sh‘). It only happens in the sage shell/sages modified ipython and apparently effects all kinds of Normaliz Errors.



---

archive/issue_comments_511172.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI can't reproduce this problem here on macOS",
    "created_at": "2021-05-18T16:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511172",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">Comment 12</div>

I can't reproduce this problem here on macOS



---

archive/issue_comments_511173.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nSomething in sage's build chain is messed up. I would say.\n\nI fetched this ticket and ran `make build` and nothing happened. It did NOT update pynormaliz. I first thought my office computer didn't have pynormaliz anymore for some reason, but it's the same on my home laptop.\n\nThen force updating `normaliz` did not trigger updating `pynormaliz`.\n\nI have to run `sage -i pynormaliz` to trigger the update.",
    "created_at": "2021-05-18T16:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511173",
    "user": "https://github.com/kliem"
}
```

<div id="comment:13" align="right">Comment 13</div>

Something in sage's build chain is messed up. I would say.

I fetched this ticket and ran `make build` and nothing happened. It did NOT update pynormaliz. I first thought my office computer didn't have pynormaliz anymore for some reason, but it's the same on my home laptop.

Then force updating `normaliz` did not trigger updating `pynormaliz`.

I have to run `sage -i pynormaliz` to trigger the update.



---

archive/issue_comments_511174.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nThe above still holds, however I can't reproduce the errors on by ubuntu laptop. So maybe I messed my sage up on the other one. I'll dist-clean and report on the success.",
    "created_at": "2021-05-18T18:01:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511174",
    "user": "https://github.com/kliem"
}
```

<div id="comment:14" align="right">Comment 14</div>

The above still holds, however I can't reproduce the errors on by ubuntu laptop. So maybe I messed my sage up on the other one. I'll dist-clean and report on the success.



---

archive/issue_comments_511175.json:
```json
{
    "body": "Author: **Matthias Koeppe, Jonathan Kliem**",
    "created_at": "2021-05-18T18:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511175",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe, Jonathan Kliem**



---

archive/issue_comments_511176.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nworks for me on macOS",
    "created_at": "2021-05-18T18:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511176",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">Comment 15</div>

works for me on macOS



---

archive/issue_comments_511177.json:
```json
{
    "body": "Reviewer: **..., Matthias Koeppe**",
    "created_at": "2021-05-18T18:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511177",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **..., Matthias Koeppe**



---

archive/issue_events_417437.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-18T18:24:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417437"
}
```



---

archive/issue_comments_511178.json:
```json
{
    "body": "Changed branch from **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)** to **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)**",
    "created_at": "2021-05-18T18:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511178",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)** to **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)**



---

archive/issue_comments_511179.json:
```json
{
    "body": "Changed commit from **[797d466](https://github.com/sagemath/sagetrac-mirror/commit/797d466584cada5f260d9ff154b7453f09084fa7)** to **[5e3f785](https://github.com/sagemath/sagetrac-mirror/commit/5e3f78502102d1659d1cc5379d2c60f75c19475d)**",
    "created_at": "2021-05-18T18:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511179",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[797d466](https://github.com/sagemath/sagetrac-mirror/commit/797d466584cada5f260d9ff154b7453f09084fa7)** to **[5e3f785](https://github.com/sagemath/sagetrac-mirror/commit/5e3f78502102d1659d1cc5379d2c60f75c19475d)**



---

archive/issue_comments_511180.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nWhy did you remove my commit?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e3f78502102d1659d1cc5379d2c60f75c19475d\">5e3f785</a></td><td><code>build/pkgs/pynormaliz/install-requires.txt: Fix to 2.14</code></td></tr></table>\n",
    "created_at": "2021-05-18T18:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511180",
    "user": "https://github.com/kliem"
}
```

<div id="comment:18" align="right">Comment 18</div>

Why did you remove my commit?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e3f78502102d1659d1cc5379d2c60f75c19475d">5e3f785</a></td><td><code>build/pkgs/pynormaliz/install-requires.txt: Fix to 2.14</code></td></tr></table>




---

archive/issue_comments_511181.json:
```json
{
    "body": "Changed reviewer from **..., Matthias Koeppe** to **Jonathan Kliem, Matthias Koeppe**",
    "created_at": "2021-05-18T19:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511181",
    "user": "https://github.com/kliem"
}
```

Changed reviewer from **..., Matthias Koeppe** to **Jonathan Kliem, Matthias Koeppe**



---

archive/issue_events_417438.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-18T19:25:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417438"
}
```



---

archive/issue_events_417439.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-18T19:25:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417439"
}
```



---

archive/issue_comments_511182.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nStrange, the problem does not go away when running `make distclean`, but also not when going back onto develop and downgrading (as mentioned before `make build` does not trigger updating).\n\nHowever, the problem seems completely unrelated to the update.",
    "created_at": "2021-05-18T19:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511182",
    "user": "https://github.com/kliem"
}
```

<div id="comment:19" align="right">Comment 19</div>

Strange, the problem does not go away when running `make distclean`, but also not when going back onto develop and downgrading (as mentioned before `make build` does not trigger updating).

However, the problem seems completely unrelated to the update.



---

archive/issue_comments_511183.json:
```json
{
    "body": "Changed commit from **[5e3f785](https://github.com/sagemath/sagetrac-mirror/commit/5e3f78502102d1659d1cc5379d2c60f75c19475d)** to **[58ae38a](https://github.com/sagemath/sagetrac-mirror/commit/58ae38a63634067053a002879b3d32d227a76168)**",
    "created_at": "2021-05-18T19:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511183",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[5e3f785](https://github.com/sagemath/sagetrac-mirror/commit/5e3f78502102d1659d1cc5379d2c60f75c19475d)** to **[58ae38a](https://github.com/sagemath/sagetrac-mirror/commit/58ae38a63634067053a002879b3d32d227a76168)**



---

archive/issue_comments_511184.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)** to **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)**",
    "created_at": "2021-05-18T19:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511184",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)** to **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)**



---

archive/issue_events_417440.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-18T19:28:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417440"
}
```



---

archive/issue_events_417441.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-18T19:28:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417441"
}
```



---

archive/issue_comments_511185.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nI changed cherry-picked my commit to fix the triangulation. I hope this is ok.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58ae38a63634067053a002879b3d32d227a76168\">58ae38a</a></td><td><code>fix normaliz triangulation after upgrade</code></td></tr></table>\n",
    "created_at": "2021-05-18T19:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511185",
    "user": "https://github.com/kliem"
}
```

<div id="comment:20" align="right">Comment 20</div>

I changed cherry-picked my commit to fix the triangulation. I hope this is ok.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58ae38a63634067053a002879b3d32d227a76168">58ae38a</a></td><td><code>fix normaliz triangulation after upgrade</code></td></tr></table>




---

archive/issue_comments_511186.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@kliem](#comment%3A18):\n> Why did you remove my commit?\n\nSorry, by mistake. Thanks for fixing it",
    "created_at": "2021-05-18T19:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511186",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@kliem](#comment%3A18):
> Why did you remove my commit?

Sorry, by mistake. Thanks for fixing it



---

archive/issue_events_417442.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-18T19:38:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417442"
}
```



---

archive/issue_events_417443.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-18T19:38:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417443"
}
```



---

archive/issue_events_417444.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-05-26T21:58:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417444"
}
```



---

archive/issue_events_417445.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-05-26T21:58:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417445"
}
```



---

archive/issue_comments_511187.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nMerge conflict",
    "created_at": "2021-05-26T21:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511187",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">Comment 22</div>

Merge conflict



---

archive/issue_comments_511188.json:
```json
{
    "body": "Changed branch from **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)** to **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)**",
    "created_at": "2021-05-26T22:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511188",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/normaliz_3_8_10__pynormaliz_2_14)** to **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)**



---

archive/issue_events_417446.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T22:28:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417446"
}
```



---

archive/issue_events_417447.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T22:28:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417447"
}
```



---

archive/issue_comments_511189.json:
```json
{
    "body": "Changed commit from **[58ae38a](https://github.com/sagemath/sagetrac-mirror/commit/58ae38a63634067053a002879b3d32d227a76168)** to **[525ed53](https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11)**",
    "created_at": "2021-05-26T22:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511189",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[58ae38a](https://github.com/sagemath/sagetrac-mirror/commit/58ae38a63634067053a002879b3d32d227a76168)** to **[525ed53](https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11)**



---

archive/issue_comments_511190.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11\">525ed53</a></td><td><code>Merge tag '9.4.beta0' into t/31589/normaliz_3_8_10__pynormaliz_2_14</code></td></tr></table>\n",
    "created_at": "2021-05-26T22:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511190",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">Comment 24</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11">525ed53</a></td><td><code>Merge tag '9.4.beta0' into t/31589/normaliz_3_8_10__pynormaliz_2_14</code></td></tr></table>




---

archive/issue_comments_511191.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)** to **[525ed53](https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11)**",
    "created_at": "2021-06-19T20:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31589#issuecomment-511191",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/normaliz_3_8_10__pynormaliz_2_14)** to **[525ed53](https://github.com/sagemath/sagetrac-mirror/commit/525ed5371eb0a49a70c89e2f2c2867cc397f7e11)**



---

archive/issue_events_417448.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-19T20:58:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417448"
}
```



---

archive/issue_events_417449.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "57cd97207f0ba4485f3cb504992502ef8bad0f6d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-06-19T20:58:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31589",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31589#event-417449"
}
```
