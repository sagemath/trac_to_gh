# Issue 31742: MixedIntegerLinearProgram.ambient_manifold, feasible_subset, objective_scalar_field, optimal_subset

archive/issues_031505.json:
```json
{
    "body": "We define some convenience methods that make it easy to construct manifold objects corresponding to linear and mixed-integer linear optimization problems.\n\nThe ambient manifold is just a Euclidean space, using the (formatted) variable names of the frontend.  We also define a backend chart using the variable names that the MILP backend uses.\n\nAdding variables to the MILP will define a `ContinuousMap` that injects the previous MILP into the new one.\n\nAdding constraints to the MILP will set up a subset.\n\n\n\nCC:  @egourgoulhon @mjungmath @tscrim @yuan-zhou\n\nBranch: u/mkoeppe/mixedintegerlinearprogram_ambient_manifold__feasible_subset__objective_scalar_field__optimal_subset\n\nCommit: 1c7a69772c51deaa5898d2cf5d5b1a888c7c7c94\n\nIssue created by migration from https://trac.sagemath.org/ticket/31742\n\n",
    "created_at": "2021-04-27T20:21:41Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "MixedIntegerLinearProgram.ambient_manifold, feasible_subset, objective_scalar_field, optimal_subset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31742",
    "user": "https://github.com/mkoeppe"
}
```
We define some convenience methods that make it easy to construct manifold objects corresponding to linear and mixed-integer linear optimization problems.

The ambient manifold is just a Euclidean space, using the (formatted) variable names of the frontend.  We also define a backend chart using the variable names that the MILP backend uses.

Adding variables to the MILP will define a `ContinuousMap` that injects the previous MILP into the new one.

Adding constraints to the MILP will set up a subset.



CC:  @egourgoulhon @mjungmath @tscrim @yuan-zhou

Branch: u/mkoeppe/mixedintegerlinearprogram_ambient_manifold__feasible_subset__objective_scalar_field__optimal_subset

Commit: 1c7a69772c51deaa5898d2cf5d5b1a888c7c7c94

Issue created by migration from https://trac.sagemath.org/ticket/31742





---

archive/issue_comments_449960.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T04:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31742#issuecomment-449960",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449961.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T05:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31742#issuecomment-449961",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_449962.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-04-28T05:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31742#issuecomment-449962",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_449963.json:
```json
{
    "body": "<a id='comment:5'></a>Perhaps the strange variable names for the backend, constructed in `MIPVariable.__getitem__`, should be changed to the format that `_format_backend_variable_name` uses.\n\n```\nsage: M2.<x> = MixedIntegerLinearProgram()                                                                                                               \nsage: x[1,2]                                                                                                                                             \nx_0\nsage: x[3,4]                                                                                                                                             \nx_1\nsage: M2.get_backend().col_name(0)                                                                                                                       \n'x[(1, 2)]'\n```\nThis variable name is not compatible with LP (http://lpsolve.sourceforge.net/5.0/CPLEX-format.htm) or MPS file format (https://www.gurobi.com/documentation/9.1/refman/mps_format.html).\nSo changing this to something that has a chance to work with these file formats, such as `x_1_2`, would be an improvement.",
    "created_at": "2021-04-28T06:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31742#issuecomment-449963",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Perhaps the strange variable names for the backend, constructed in `MIPVariable.__getitem__`, should be changed to the format that `_format_backend_variable_name` uses.

```
sage: M2.<x> = MixedIntegerLinearProgram()                                                                                                               
sage: x[1,2]                                                                                                                                             
x_0
sage: x[3,4]                                                                                                                                             
x_1
sage: M2.get_backend().col_name(0)                                                                                                                       
'x[(1, 2)]'
```
This variable name is not compatible with LP (http://lpsolve.sourceforge.net/5.0/CPLEX-format.htm) or MPS file format (https://www.gurobi.com/documentation/9.1/refman/mps_format.html).
So changing this to something that has a chance to work with these file formats, such as `x_1_2`, would be an improvement.



---

archive/issue_comments_449964.json:
```json
{
    "body": "<a id='comment:6'></a>opened #31791 (`MIPVariable`: Better names for backend variable names)",
    "created_at": "2021-05-07T18:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31742#issuecomment-449964",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>opened #31791 (`MIPVariable`: Better names for backend variable names)



---

archive/issue_events_083722.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31742#event-83722"
}
```



---

archive/issue_events_083723.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31742#event-83723"
}
```



---

archive/issue_events_083724.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31742#event-83724"
}
```



---

archive/issue_events_083725.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31742#event-83725"
}
```



---

archive/issue_events_083726.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31742#event-83726"
}
```



---

archive/issue_events_083727.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31742#event-83727"
}
```



---

archive/issue_events_083728.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31742",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31742#event-83728"
}
```
