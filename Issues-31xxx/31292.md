# Issue 31292: sage.features.Executable: Add method absolute_filename

archive/issues_031055.json:
```json
{
    "body": "We refactor `Executable` and `StaticFile` through a base class `FileFeature`. \n\nThe method `absolute_filename` replaces `StaticFile.absolute_path` and is now also available for `Executable`. (This is for #33440/#31296/#30818.)\n\nThe renaming from `StaticFile.absolute_path` to `absolute_filename` (with deprecation) is preparation for reclaiming the name `absolute_path` for a method that returns a `Path` instead of a `str`.\n\nWe also add some type annotations.\n\nFollow-up: #31296\n\n\nCC:  @tobiasdiez @fchapoton @seblabbe @orlitzky @kiwifb @antonio-rojas @tornaria\n\nBranch/Commit: e9568e918ea34342dd03b0c62f5931af1ffa0529\n\nReviewer: Tobias Diez\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/31292\n\n",
    "closed_at": "2022-03-09T23:38:30Z",
    "created_at": "2021-01-25T18:54:52Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "sage.features.Executable: Add method absolute_filename",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31292",
    "user": "https://github.com/mkoeppe"
}
```
We refactor `Executable` and `StaticFile` through a base class `FileFeature`. 

The method `absolute_filename` replaces `StaticFile.absolute_path` and is now also available for `Executable`. (This is for #33440/#31296/#30818.)

The renaming from `StaticFile.absolute_path` to `absolute_filename` (with deprecation) is preparation for reclaiming the name `absolute_path` for a method that returns a `Path` instead of a `str`.

We also add some type annotations.

Follow-up: #31296


CC:  @tobiasdiez @fchapoton @seblabbe @orlitzky @kiwifb @antonio-rojas @tornaria

Branch/Commit: e9568e918ea34342dd03b0c62f5931af1ffa0529

Reviewer: Tobias Diez

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/31292





---

archive/issue_events_081868.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31292#event-81868"
}
```



---

archive/issue_comments_620876.json:
```json
{
    "body": "<a id='comment:1'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620876",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_081869.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31292#event-81869"
}
```



---

archive/issue_events_081870.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31292#event-81870"
}
```



---

archive/issue_events_081871.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31292#event-81871"
}
```



---

archive/issue_events_081872.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31292#event-81872"
}
```



---

archive/issue_comments_620877.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-In particular, we change `absolute_path` to return a `Path`\n+In particular, we change `StaticFile.absolute_path` to return a `Path`.\n+\n+We also add a method `Executable.absolute_path`. (This is for #33440/#31296/#30818.)\n+\n``````\n",
    "created_at": "2022-03-01T20:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620877",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-In particular, we change `absolute_path` to return a `Path`
+In particular, we change `StaticFile.absolute_path` to return a `Path`.
+
+We also add a method `Executable.absolute_path`. (This is for #33440/#31296/#30818.)
+
``````




---

archive/issue_comments_620878.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-03-01T20:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620878",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_620879.json:
```json
{
    "body": "Replying to [ticket:31292 mkoeppe]:\n> In particular, we change `StaticFile.absolute_path` to return a `Path`.\n\n\nActually this would lead to errors like\n\n```\nFile \"src/sage/databases/cremona.py\", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi\nFailed example:\n    c = CremonaDatabase()\nException raised:\n...\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py\", line 1066, in __init__\n        elif (filename[-3:] != '.db'):\n    TypeError: 'PosixPath' object is not subscriptable\n```",
    "created_at": "2022-03-01T22:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620879",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [ticket:31292 mkoeppe]:
> In particular, we change `StaticFile.absolute_path` to return a `Path`.


Actually this would lead to errors like

```
File "src/sage/databases/cremona.py", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi
Failed example:
    c = CremonaDatabase()
Exception raised:
...
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py", line 1066, in __init__
        elif (filename[-3:] != '.db'):
    TypeError: 'PosixPath' object is not subscriptable
```



---

archive/issue_comments_620880.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/sage_features_staticfile__executable__use_pathlib__add_type_annotations\"",
    "created_at": "2022-03-01T23:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620880",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/sage_features_staticfile__executable__use_pathlib__add_type_annotations"



---

archive/issue_comments_620881.json:
```json
{
    "body": "Changing commit from \"\" to \"32ce8311e625e381861f57f0efbe473744345023\"",
    "created_at": "2022-03-01T23:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620881",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "32ce8311e625e381861f57f0efbe473744345023"



---

archive/issue_comments_620882.json:
```json
{
    "body": "<a id='comment:9'></a>\nNew commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[32ce831](https://git.sagemath.org/sage.git/commit?id=32ce8311e625e381861f57f0efbe473744345023)|`sage.features.Executable.absolute_path: New`|",
    "created_at": "2022-03-01T23:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620882",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[32ce831](https://git.sagemath.org/sage.git/commit?id=32ce8311e625e381861f57f0efbe473744345023)|`sage.features.Executable.absolute_path: New`|



---

archive/issue_comments_620883.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-In particular, we change `StaticFile.absolute_path` to return a `Path`.\n+We add a method `Executable.absolute_path`, in analogy to `StaticFile`. (This is for #33440/#31296/#30818.)\n \n-We also add a method `Executable.absolute_path`. (This is for #33440/#31296/#30818.)\n+We also add some type annotations.\n \n``````\n",
    "created_at": "2022-03-01T23:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620883",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-In particular, we change `StaticFile.absolute_path` to return a `Path`.
+We add a method `Executable.absolute_path`, in analogy to `StaticFile`. (This is for #33440/#31296/#30818.)
 
-We also add a method `Executable.absolute_path`. (This is for #33440/#31296/#30818.)
+We also add some type annotations.
 
``````




---

archive/issue_comments_620884.json:
```json
{
    "body": "Changing commit from \"32ce8311e625e381861f57f0efbe473744345023\" to \"88860d33c75aed7f88064b68df3aeb4a9d093238\"",
    "created_at": "2022-03-01T23:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620884",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "32ce8311e625e381861f57f0efbe473744345023" to "88860d33c75aed7f88064b68df3aeb4a9d093238"



---

archive/issue_comments_620885.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|\n|[88860d3](https://git.sagemath.org/sage.git/commit/?id=88860d33c75aed7f88064b68df3aeb4a9d093238)|`sage.features.Executable.absolute_path: If SAGE_LOCAL != SAGE_VENV, search first in SAGE_VENV/bin, SAGE_LOCAL/bin, then PATH`|",
    "created_at": "2022-03-01T23:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
|[88860d3](https://git.sagemath.org/sage.git/commit/?id=88860d33c75aed7f88064b68df3aeb4a9d093238)|`sage.features.Executable.absolute_path: If SAGE_LOCAL != SAGE_VENV, search first in SAGE_VENV/bin, SAGE_LOCAL/bin, then PATH`|



---

archive/issue_comments_620886.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-03-01T23:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_620887.json:
```json
{
    "body": "Changing commit from \"88860d33c75aed7f88064b68df3aeb4a9d093238\" to \"32ce8311e625e381861f57f0efbe473744345023\"",
    "created_at": "2022-03-01T23:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620887",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "88860d33c75aed7f88064b68df3aeb4a9d093238" to "32ce8311e625e381861f57f0efbe473744345023"



---

archive/issue_comments_620888.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,5 @@\n \n We also add some type annotations.\n \n+Follow-up: #31296\n+\n``````\n",
    "created_at": "2022-03-01T23:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620888",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,5 @@
 
 We also add some type annotations.
 
+Follow-up: #31296
+
``````




---

archive/issue_comments_620889.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-01T23:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620889",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_620890.json:
```json
{
    "body": "Changing commit from \"32ce8311e625e381861f57f0efbe473744345023\" to \"8bb7e3a7dc75fa1f2eb37a1c939cc2bf1225a0ce\"",
    "created_at": "2022-03-02T05:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "32ce8311e625e381861f57f0efbe473744345023" to "8bb7e3a7dc75fa1f2eb37a1c939cc2bf1225a0ce"



---

archive/issue_comments_620891.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[8bb7e3a](https://git.sagemath.org/sage.git/commit/?id=8bb7e3a7dc75fa1f2eb37a1c939cc2bf1225a0ce)|`src/sage/features/__init__.py: Relax doctest`|",
    "created_at": "2022-03-02T05:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620891",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[8bb7e3a](https://git.sagemath.org/sage.git/commit/?id=8bb7e3a7dc75fa1f2eb37a1c939cc2bf1225a0ce)|`src/sage/features/__init__.py: Relax doctest`|



---

archive/issue_comments_620892.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [mkoeppe](#comment%3A7):\n> Replying to [ticket:31292 mkoeppe]:\n> > In particular, we change `StaticFile.absolute_path` to return a `Path`.\n\n> \n> Actually this would lead to errors like\n> \n> ```\n> File \"src/sage/databases/cremona.py\", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi\n> Failed example:\n>     c = CremonaDatabase()\n> Exception raised:\n> ...\n>       File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py\", line 1066, in __init__\n>         elif (filename[-3:] != '.db'):\n>     TypeError: 'PosixPath' object is not subscriptable\n> ```\n\n\nThis is to be expected, since it's a path and not a string that you work with. The extension can easily be obtained using the suffix method: https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.suffixes",
    "created_at": "2022-03-02T12:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620892",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:14'></a>
Replying to [mkoeppe](#comment%3A7):
> Replying to [ticket:31292 mkoeppe]:
> > In particular, we change `StaticFile.absolute_path` to return a `Path`.

> 
> Actually this would lead to errors like
> 
> ```
> File "src/sage/databases/cremona.py", line 1552, in sage.databases.cremona.LargeCremonaDatabase.degphi
> Failed example:
>     c = CremonaDatabase()
> Exception raised:
> ...
>       File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/databases/sql_db.py", line 1066, in __init__
>         elif (filename[-3:] != '.db'):
>     TypeError: 'PosixPath' object is not subscriptable
> ```


This is to be expected, since it's a path and not a string that you work with. The extension can easily be obtained using the suffix method: https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.suffixes



---

archive/issue_comments_620893.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [mkoeppe](#comment%3A9):\n>  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path \n\n\nThis completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.",
    "created_at": "2022-03-02T12:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620893",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:15'></a>
Replying to [mkoeppe](#comment%3A9):
>  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path 


This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.



---

archive/issue_comments_620894.json:
```json
{
    "body": "<a id='comment:16'></a>\n\n```\ndef absolute_path(self) -> str:\n```\nwhy not make this return a `pathlib.Path`?",
    "created_at": "2022-03-02T12:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620894",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:16'></a>

```
def absolute_path(self) -> str:
```
why not make this return a `pathlib.Path`?



---

archive/issue_comments_620895.json:
```json
{
    "body": "<a id='comment:17'></a>\n\n```\nreason=\"Executable {executable!r} not found on PATH.\".format(executable=self.executable),\n```\nuse f-strings.",
    "created_at": "2022-03-02T12:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620895",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:17'></a>

```
reason="Executable {executable!r} not found on PATH.".format(executable=self.executable),
```
use f-strings.



---

archive/issue_comments_620896.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-02T12:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620896",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_620897.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [gh-tobiasdiez](#comment%3A16):\n> {{{\n> def absolute_path(self) -> str:\n> }}}\n> why not make this return a `pathlib.Path`?\n\n\nBecause that breaks the public API.",
    "created_at": "2022-03-02T16:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620897",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Replying to [gh-tobiasdiez](#comment%3A16):
> {{{
> def absolute_path(self) -> str:
> }}}
> why not make this return a `pathlib.Path`?


Because that breaks the public API.



---

archive/issue_comments_620898.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [gh-tobiasdiez](#comment%3A15):\n> Replying to [mkoeppe](#comment%3A9):\n> >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path \n\n> \n> This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.\n\n\nYes, when I wrote this ticket I thought that could be done compatibly, but it can't",
    "created_at": "2022-03-02T16:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620898",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Replying to [gh-tobiasdiez](#comment%3A15):
> Replying to [mkoeppe](#comment%3A9):
> >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path 

> 
> This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.


Yes, when I wrote this ticket I thought that could be done compatibly, but it can't



---

archive/issue_comments_620899.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [gh-tobiasdiez](#comment%3A17):\n> use f-strings.\n\n\n`.format` is not deprecated or anything.",
    "created_at": "2022-03-02T16:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620899",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Replying to [gh-tobiasdiez](#comment%3A17):
> use f-strings.


`.format` is not deprecated or anything.



---

archive/issue_comments_620900.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-02T16:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620900",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_620901.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-02T16:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620901",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_620902.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [mkoeppe](#comment%3A20):\n> Replying to [gh-tobiasdiez](#comment%3A15):\n> > Replying to [mkoeppe](#comment%3A9):\n> > >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path \n\n> > \n> > This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.\n\n> \n> Yes, when I wrote this ticket I thought that could be done compatibly, but it can't\n\n\nThen just introduce a new method, and deprecate the old one.",
    "created_at": "2022-03-02T16:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620902",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:23'></a>
Replying to [mkoeppe](#comment%3A20):
> Replying to [gh-tobiasdiez](#comment%3A15):
> > Replying to [mkoeppe](#comment%3A9):
> > >  Summary changed from sage.features.StaticFile, Executable: Use pathlib, add type annotations to sage.features.Executable: Add method absolute_path 

> > 
> > This completely changes the scope of this ticket whose original intention was to migrate sage.features.absolute_path to return `Path`.

> 
> Yes, when I wrote this ticket I thought that could be done compatibly, but it can't


Then just introduce a new method, and deprecate the old one.



---

archive/issue_comments_620903.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [mkoeppe](#comment%3A21):\n> Replying to [gh-tobiasdiez](#comment%3A17):\n> > use f-strings.\n\n> \n> `.format` is not deprecated or anything.\n\n\nThat's right, but f-strings are still easier to read.",
    "created_at": "2022-03-02T16:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620903",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:24'></a>
Replying to [mkoeppe](#comment%3A21):
> Replying to [gh-tobiasdiez](#comment%3A17):
> > use f-strings.

> 
> `.format` is not deprecated or anything.


That's right, but f-strings are still easier to read.



---

archive/issue_comments_620904.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [gh-tobiasdiez](#comment%3A23):\n> Then just introduce a new method, and deprecate the old one.\n\n\nI was in the middle of doing this but couldn't come up with a name for the new method, given that the good name, `absolute_path`, is already taken. Suggestions?",
    "created_at": "2022-03-02T16:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620904",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [gh-tobiasdiez](#comment%3A23):
> Then just introduce a new method, and deprecate the old one.


I was in the middle of doing this but couldn't come up with a name for the new method, given that the good name, `absolute_path`, is already taken. Suggestions?



---

archive/issue_comments_620905.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [gh-tobiasdiez](#comment%3A24):\n> That's right, but f-strings are still easier to read.\n\n\nI like f-strings too, but in the interest of focus I don't change everything that can be changed. This line of code is copied from a place in the same file.",
    "created_at": "2022-03-02T16:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620905",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Replying to [gh-tobiasdiez](#comment%3A24):
> That's right, but f-strings are still easier to read.


I like f-strings too, but in the interest of focus I don't change everything that can be changed. This line of code is copied from a place in the same file.



---

archive/issue_comments_620906.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|\n|[5b25c1d](https://git.sagemath.org/sage.git/commit/?id=5b25c1d0f6e6cf7216fd8e0124df233edf30e836)|`sage.features: Refactor StaticFile, Executable through a new base class FileFeature`|\n|[6c35717](https://git.sagemath.org/sage.git/commit/?id=6c3571755e46ca99c02114e02afa767e56dde1cc)|`sage.features.FileFeature: Replace method absolute_path by absolute_filename, with deprecation`|",
    "created_at": "2022-03-03T02:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620906",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|
|[5b25c1d](https://git.sagemath.org/sage.git/commit/?id=5b25c1d0f6e6cf7216fd8e0124df233edf30e836)|`sage.features: Refactor StaticFile, Executable through a new base class FileFeature`|
|[6c35717](https://git.sagemath.org/sage.git/commit/?id=6c3571755e46ca99c02114e02afa767e56dde1cc)|`sage.features.FileFeature: Replace method absolute_path by absolute_filename, with deprecation`|



---

archive/issue_comments_620907.json:
```json
{
    "body": "Changing commit from \"8bb7e3a7dc75fa1f2eb37a1c939cc2bf1225a0ce\" to \"6c3571755e46ca99c02114e02afa767e56dde1cc\"",
    "created_at": "2022-03-03T02:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8bb7e3a7dc75fa1f2eb37a1c939cc2bf1225a0ce" to "6c3571755e46ca99c02114e02afa767e56dde1cc"



---

archive/issue_comments_620908.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n-We add a method `Executable.absolute_path`, in analogy to `StaticFile`. (This is for #33440/#31296/#30818.)\n+We refactor `Executable` and `StaticFile` through a base class `FileFeature`. \n+\n+The method `absolute_filename` replaces `StaticFile.absolute_path` and is now also available for `Executable`. (This is for #33440/#31296/#30818.)\n+\n+The renaming from `StaticFile.absolute_path` to `absolute_filename` (with deprecation) is preparation for reclaiming the name `absolute_path` for a method that returns a `Path` instead of a `str`.\n \n We also add some type annotations.\n \n``````\n",
    "created_at": "2022-03-03T02:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620908",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
-We add a method `Executable.absolute_path`, in analogy to `StaticFile`. (This is for #33440/#31296/#30818.)
+We refactor `Executable` and `StaticFile` through a base class `FileFeature`. 
+
+The method `absolute_filename` replaces `StaticFile.absolute_path` and is now also available for `Executable`. (This is for #33440/#31296/#30818.)
+
+The renaming from `StaticFile.absolute_path` to `absolute_filename` (with deprecation) is preparation for reclaiming the name `absolute_path` for a method that returns a `Path` instead of a `str`.
 
 We also add some type annotations.
 
``````




---

archive/issue_comments_620909.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-03T02:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620909",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_620910.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-04T12:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620910",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_620911.json:
```json
{
    "body": "<a id='comment:31'></a>\n\n```\nEXAMPLES::\n        sage: from sage.features import StaticFile, Executable, FileFeature\n        sage: issubclass(StaticFile, FileFeature)\n        True\n        sage: issubclass(Executable, FileFeature)\n        True\n```\nPlease replace this by a meaningful doctest that actually shows how to use the class.\n\nIn FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.\n\n```\ntry:\n            from sage.misc.superseded import deprecation\n        except ImportError:\n            pass\n        deprecation(31292, 'method absolute_path has been replaced by absolute_filename')\n```\nThat looks like a strange construction. Why should the import of the deprecation fail? But even if it fails the call of `deprecation` will throw another error as its not defined then.",
    "created_at": "2022-03-04T12:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620911",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:31'></a>

```
EXAMPLES::
        sage: from sage.features import StaticFile, Executable, FileFeature
        sage: issubclass(StaticFile, FileFeature)
        True
        sage: issubclass(Executable, FileFeature)
        True
```
Please replace this by a meaningful doctest that actually shows how to use the class.

In FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.

```
try:
            from sage.misc.superseded import deprecation
        except ImportError:
            pass
        deprecation(31292, 'method absolute_path has been replaced by absolute_filename')
```
That looks like a strange construction. Why should the import of the deprecation fail? But even if it fails the call of `deprecation` will throw another error as its not defined then.



---

archive/issue_comments_620912.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[66d79f8](https://git.sagemath.org/sage.git/commit/?id=66d79f8f9b10087c6ecd6fcd560e547648e1fb99)|`sage.features.FileFeature.absolute_path: Fixup try...except...else`|",
    "created_at": "2022-03-04T17:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620912",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[66d79f8](https://git.sagemath.org/sage.git/commit/?id=66d79f8f9b10087c6ecd6fcd560e547648e1fb99)|`sage.features.FileFeature.absolute_path: Fixup try...except...else`|



---

archive/issue_comments_620913.json:
```json
{
    "body": "Changing commit from \"6c3571755e46ca99c02114e02afa767e56dde1cc\" to \"66d79f8f9b10087c6ecd6fcd560e547648e1fb99\"",
    "created_at": "2022-03-04T17:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620913",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6c3571755e46ca99c02114e02afa767e56dde1cc" to "66d79f8f9b10087c6ecd6fcd560e547648e1fb99"



---

archive/issue_comments_620914.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [gh-tobiasdiez](#comment%3A31):\n> {{{\n> try:\n>             from sage.misc.superseded import deprecation\n>         except ImportError:\n>             pass\n>         deprecation(31292, 'method absolute_path has been replaced by absolute_filename')\n> }}}\n> That looks like a strange construction. Why should the import of the deprecation fail? \n\n\nBecause #29941 puts `sage.features` into a distribution **sagemath-environment**, which does not install-requires **sagemath-objects**, which provides `sage.misc.superseded`.\n\n> But even if it fails the call of `deprecation` will throw another error as its not defined then.\n\n\nThanks, forgot the `else:`, fixed now.",
    "created_at": "2022-03-04T17:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620914",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Replying to [gh-tobiasdiez](#comment%3A31):
> {{{
> try:
>             from sage.misc.superseded import deprecation
>         except ImportError:
>             pass
>         deprecation(31292, 'method absolute_path has been replaced by absolute_filename')
> }}}
> That looks like a strange construction. Why should the import of the deprecation fail? 


Because #29941 puts `sage.features` into a distribution **sagemath-environment**, which does not install-requires **sagemath-objects**, which provides `sage.misc.superseded`.

> But even if it fails the call of `deprecation` will throw another error as its not defined then.


Thanks, forgot the `else:`, fixed now.



---

archive/issue_comments_620915.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [gh-tobiasdiez](#comment%3A31):\n> In FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.\n\n\nAvoiding use of `sage.misc.abstract_method` for the same modularization reason.\nI'll not start using https://docs.python.org/3/library/abc.html here for this purpose.\n\nI can make an ad-hoc abstract method that just raises a `NotImplementedError`",
    "created_at": "2022-03-04T17:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620915",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
Replying to [gh-tobiasdiez](#comment%3A31):
> In FileFeature.absolute_path you call `self.absolute_filename` which doesn't exist. So this should be added at least as an abstract method.


Avoiding use of `sage.misc.abstract_method` for the same modularization reason.
I'll not start using https://docs.python.org/3/library/abc.html here for this purpose.

I can make an ad-hoc abstract method that just raises a `NotImplementedError`



---

archive/issue_comments_620916.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[cad9f0f](https://git.sagemath.org/sage.git/commit/?id=cad9f0fa2ae0abb2e2452cbe0ba9da5e4b9f14c6)|`sage.features.FileFeature.absolute_filename: New abstract method`|",
    "created_at": "2022-03-04T18:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620916",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[cad9f0f](https://git.sagemath.org/sage.git/commit/?id=cad9f0fa2ae0abb2e2452cbe0ba9da5e4b9f14c6)|`sage.features.FileFeature.absolute_filename: New abstract method`|



---

archive/issue_comments_620917.json:
```json
{
    "body": "Changing commit from \"66d79f8f9b10087c6ecd6fcd560e547648e1fb99\" to \"cad9f0fa2ae0abb2e2452cbe0ba9da5e4b9f14c6\"",
    "created_at": "2022-03-04T18:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620917",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "66d79f8f9b10087c6ecd6fcd560e547648e1fb99" to "cad9f0fa2ae0abb2e2452cbe0ba9da5e4b9f14c6"



---

archive/issue_comments_620918.json:
```json
{
    "body": "<a id='comment:36'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|\n|[57531d0](https://git.sagemath.org/sage.git/commit/?id=57531d08204d981ac0d8795d2201379508fe61ee)|`src/sage/features/__init__.py: Document why importing sage.misc.superseded can fail`|",
    "created_at": "2022-03-04T18:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620918",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|
|[57531d0](https://git.sagemath.org/sage.git/commit/?id=57531d08204d981ac0d8795d2201379508fe61ee)|`src/sage/features/__init__.py: Document why importing sage.misc.superseded can fail`|



---

archive/issue_comments_620919.json:
```json
{
    "body": "Changing commit from \"cad9f0fa2ae0abb2e2452cbe0ba9da5e4b9f14c6\" to \"57531d08204d981ac0d8795d2201379508fe61ee\"",
    "created_at": "2022-03-04T18:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620919",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cad9f0fa2ae0abb2e2452cbe0ba9da5e4b9f14c6" to "57531d08204d981ac0d8795d2201379508fe61ee"



---

archive/issue_comments_620920.json:
```json
{
    "body": "Changing commit from \"57531d08204d981ac0d8795d2201379508fe61ee\" to \"66b8125b6ee8ff8a641764ca581f509903a8be67\"",
    "created_at": "2022-03-04T18:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620920",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "57531d08204d981ac0d8795d2201379508fe61ee" to "66b8125b6ee8ff8a641764ca581f509903a8be67"



---

archive/issue_comments_620921.json:
```json
{
    "body": "<a id='comment:37'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[66b8125](https://git.sagemath.org/sage.git/commit/?id=66b8125b6ee8ff8a641764ca581f509903a8be67)|`sage.features.FileFeature: Add doc`|",
    "created_at": "2022-03-04T18:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620921",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[66b8125](https://git.sagemath.org/sage.git/commit/?id=66b8125b6ee8ff8a641764ca581f509903a8be67)|`sage.features.FileFeature: Add doc`|



---

archive/issue_comments_620922.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-04T18:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620922",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_620923.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [gh-tobiasdiez](#comment%3A31):\n> Please replace this by a meaningful doctest that actually shows how to use the class.\n\n\nDone now",
    "created_at": "2022-03-04T18:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620923",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>
Replying to [gh-tobiasdiez](#comment%3A31):
> Please replace this by a meaningful doctest that actually shows how to use the class.


Done now



---

archive/issue_comments_620924.json:
```json
{
    "body": "<a id='comment:39'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[d631a03](https://git.sagemath.org/sage.git/commit/?id=d631a03a02cae81f6577f7de9a8ac9ed4da50d18)|`src/sage/features/__init__.py: Fix docstring markup`|",
    "created_at": "2022-03-04T20:44:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620924",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[d631a03](https://git.sagemath.org/sage.git/commit/?id=d631a03a02cae81f6577f7de9a8ac9ed4da50d18)|`src/sage/features/__init__.py: Fix docstring markup`|



---

archive/issue_comments_620925.json:
```json
{
    "body": "Changing commit from \"66b8125b6ee8ff8a641764ca581f509903a8be67\" to \"d631a03a02cae81f6577f7de9a8ac9ed4da50d18\"",
    "created_at": "2022-03-04T20:44:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620925",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "66b8125b6ee8ff8a641764ca581f509903a8be67" to "d631a03a02cae81f6577f7de9a8ac9ed4da50d18"



---

archive/issue_comments_620926.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-05T22:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620926",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_620927.json:
```json
{
    "body": "<a id='comment:40'></a>\nThanks for the follow-up!\n\nOne last comment, otherwise it looks good to me:\nThe docs for absolute_filename in FileFeature now still refers to \"executable\", which should be replaced by \"feature\".",
    "created_at": "2022-03-05T22:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620927",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:40'></a>
Thanks for the follow-up!

One last comment, otherwise it looks good to me:
The docs for absolute_filename in FileFeature now still refers to "executable", which should be replaced by "feature".



---

archive/issue_comments_620928.json:
```json
{
    "body": "<a id='comment:41'></a>\nBy the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings? Sphinx should copy them from the base class or not?",
    "created_at": "2022-03-05T22:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620928",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:41'></a>
By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings? Sphinx should copy them from the base class or not?



---

archive/issue_comments_620929.json:
```json
{
    "body": "<a id='comment:42'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[e9568e9](https://git.sagemath.org/sage.git/commit/?id=e9568e918ea34342dd03b0c62f5931af1ffa0529)|`FileFeature.absolute_filename: Fix docstring`|",
    "created_at": "2022-03-05T22:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620929",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[e9568e9](https://git.sagemath.org/sage.git/commit/?id=e9568e918ea34342dd03b0c62f5931af1ffa0529)|`FileFeature.absolute_filename: Fix docstring`|



---

archive/issue_comments_620930.json:
```json
{
    "body": "Changing commit from \"d631a03a02cae81f6577f7de9a8ac9ed4da50d18\" to \"e9568e918ea34342dd03b0c62f5931af1ffa0529\"",
    "created_at": "2022-03-05T22:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620930",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d631a03a02cae81f6577f7de9a8ac9ed4da50d18" to "e9568e918ea34342dd03b0c62f5931af1ffa0529"



---

archive/issue_comments_620931.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [gh-tobiasdiez](#comment%3A41):\n> By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?\n\n\nYes, per our style guide.",
    "created_at": "2022-03-05T22:29:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620931",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
Replying to [gh-tobiasdiez](#comment%3A41):
> By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?


Yes, per our style guide.



---

archive/issue_comments_620932.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-05T22:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620932",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_620933.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [mkoeppe](#comment%3A43):\n> Replying to [gh-tobiasdiez](#comment%3A41):\n> > By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?\n\n> \n> Yes, per our style guide.\n> \n\n\nWhat is the reason behind this requirement/convention?",
    "created_at": "2022-03-06T09:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620933",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:45'></a>
Replying to [mkoeppe](#comment%3A43):
> Replying to [gh-tobiasdiez](#comment%3A41):
> > By the way, do the inheriting classes (Executable and StaticFile) really need to provide docstrings?

> 
> Yes, per our style guide.
> 


What is the reason behind this requirement/convention?



---

archive/issue_comments_620934.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-06T09:10:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620934",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_620935.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Tobias Diez\"",
    "created_at": "2022-03-06T09:10:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620935",
    "user": "https://github.com/tobiasdiez"
}
```

Changing reviewer from "" to "Tobias Diez"



---

archive/issue_comments_620936.json:
```json
{
    "body": "<a id='comment:47'></a>\nThanks for reviewing!",
    "created_at": "2022-03-06T16:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620936",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
Thanks for reviewing!



---

archive/issue_comments_620937.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [gh-tobiasdiez](#comment%3A45):\n> What is the reason behind this requirement/convention?\n\n\nIt was already there when I started Sage dev. It's a bit annoying at times and leads to a lot of copy+paste, but it does force people to write doctests. And having the policy scales better than renegotiating the style with every new developer.",
    "created_at": "2022-03-06T16:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620937",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>
Replying to [gh-tobiasdiez](#comment%3A45):
> What is the reason behind this requirement/convention?


It was already there when I started Sage dev. It's a bit annoying at times and leads to a lot of copy+paste, but it does force people to write doctests. And having the policy scales better than renegotiating the style with every new developer.



---

archive/issue_comments_620938.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/sage_features_staticfile__executable__use_pathlib__add_type_annotations\" to \"e9568e918ea34342dd03b0c62f5931af1ffa0529\"",
    "created_at": "2022-03-09T23:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620938",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/sage_features_staticfile__executable__use_pathlib__add_type_annotations" to "e9568e918ea34342dd03b0c62f5931af1ffa0529"



---

archive/issue_comments_620939.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-09T23:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31292#issuecomment-620939",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_081873.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-09T23:38:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31292",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31292#event-81873"
}
```
