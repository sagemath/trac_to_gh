# Issue 31010: How to get latest release of sage from Dockerhub?

archive/issues_030773.json:
```json
{
    "assignees": [],
    "body": "The latest release of sage at the time of writing is 9.2 but running:\n\n```\ndocker run -it sagemath/sagemath:latest sage --version\n```\n\n\ngives:\n\n\n```\nSageMath version 9.1, Release Date: 2020-05-20\n```\n\n\nCC:  @mkoeppe @dimpase @tobiasdiez @saraedum @seblabbe @embray @slel\n\n_Issue created by migration from https://trac.sagemath.org/ticket/31010_\n\n",
    "closed_at": "2020-12-08T18:57:18Z",
    "created_at": "2020-12-05T06:23:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20docker",
        "https://github.com/sagemath/sage/labels/wishlist%20item",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "How to get latest release of sage from Dockerhub?",
    "type": "issue",
    "updated_at": "2020-12-09T15:08:01Z",
    "url": "https://github.com/sagemath/sage/issues/31010",
    "user": "https://github.com/hsm207"
}
```
The latest release of sage at the time of writing is 9.2 but running:

```
docker run -it sagemath/sagemath:latest sage --version
```


gives:


```
SageMath version 9.1, Release Date: 2020-05-20
```


CC:  @mkoeppe @dimpase @tobiasdiez @saraedum @seblabbe @embray @slel

_Issue created by migration from https://trac.sagemath.org/ticket/31010_





---

archive/issue_events_409402.json:
```json
{
    "actor": "https://github.com/hsm207",
    "created_at": "2020-12-05T06:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20docker",
    "label_color": "000080",
    "label_name": "component: docker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31010#event-409402"
}
```



---

archive/issue_events_409403.json:
```json
{
    "actor": "https://github.com/hsm207",
    "created_at": "2020-12-05T06:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31010#event-409403"
}
```



---

archive/issue_events_409404.json:
```json
{
    "actor": "https://github.com/hsm207",
    "created_at": "2020-12-05T06:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31010#event-409404"
}
```



---

archive/issue_events_409405.json:
```json
{
    "actor": "https://github.com/hsm207",
    "created_at": "2020-12-05T06:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31010#event-409405"
}
```



---

archive/issue_comments_499964.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nOur gitlab process was broken and nobody did care. Now trying to recover, see #30960",
    "created_at": "2020-12-05T08:33:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31010#issuecomment-499964",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">Comment 1</div>

Our gitlab process was broken and nobody did care. Now trying to recover, see #30960



---

archive/issue_comments_499965.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nIs it possible to add a minimal github/gitlab workflow that checks that the docker creation works in princple, and which is fast enough to be run on each push to some branch? In this way one could make sure that tickets don't destroy the publishing pipeline.",
    "created_at": "2020-12-05T14:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31010#issuecomment-499965",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:2" align="right">Comment 2</div>

Is it possible to add a minimal github/gitlab workflow that checks that the docker creation works in princple, and which is fast enough to be run on each push to some branch? In this way one could make sure that tickets don't destroy the publishing pipeline.



---

archive/issue_comments_499966.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nthe docker image for develop should now point to the very recent 9.3.beta3\n\nhttps://gitlab.com/sagemath/sage/-/pipelines",
    "created_at": "2020-12-08T08:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31010#issuecomment-499966",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">Comment 3</div>

the docker image for develop should now point to the very recent 9.3.beta3

https://gitlab.com/sagemath/sage/-/pipelines



---

archive/issue_comments_499967.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@fchapoton](#comment%3A3):\n> the docker image for develop should now point to the very recent 9.3.beta3\n> \n> https://gitlab.com/sagemath/sage/-/pipelines\n\nThanks! It works.",
    "created_at": "2020-12-08T18:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31010#issuecomment-499967",
    "user": "https://github.com/hsm207"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@fchapoton](#comment%3A3):
> the docker image for develop should now point to the very recent 9.3.beta3
> 
> https://gitlab.com/sagemath/sage/-/pipelines

Thanks! It works.



---

archive/issue_events_409406.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-08T18:57:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31010#event-409406"
}
```



---

archive/issue_events_409407.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-08T18:57:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31010#event-409407"
}
```



---

archive/issue_events_409408.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-12-08T18:57:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/31010#event-409408"
}
```



---

archive/issue_comments_499968.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nbut `sagemath/sagemath:latest` still is 9.1, while\n`sagemath/sagemath:develop` indeed points to 9.3.beta3",
    "created_at": "2020-12-09T11:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31010#issuecomment-499968",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">Comment 6</div>

but `sagemath/sagemath:latest` still is 9.1, while
`sagemath/sagemath:develop` indeed points to 9.3.beta3



---

archive/issue_comments_499969.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nThis should be fixable eg manually, by pushing to docker, by the docker user `sagemathadmins` - whoever has access to it.",
    "created_at": "2020-12-09T11:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31010#issuecomment-499969",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">Comment 7</div>

This should be fixable eg manually, by pushing to docker, by the docker user `sagemathadmins` - whoever has access to it.



---

archive/issue_comments_499970.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nor just wait for 9.3, hoping that nothing else will break before the release",
    "created_at": "2020-12-09T12:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/31010",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/31010#issuecomment-499970",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">Comment 8</div>

or just wait for 9.3, hoping that nothing else will break before the release
