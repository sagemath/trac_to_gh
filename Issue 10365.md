# Issue 10365: plotting dates requires a toordinal() call, which is inconvenient

archive/issues_010365.json:
```json
{
    "body": "Assignee: jason, was\n\nCC:  slelievre\n\nThis doesn't work:\n\n```\nsage: version()\n'Sage Version 4.6, Release Date: 2010-10-30'\nsage: from matplotlib.dates import YearLocator, DateFormatter\nsage: import datetime\nsage: \nsage: data=[\n....: (datetime.date( 1995, 1, 1 ), 30),\n....: (datetime.date( 1996, 3, 1 ), 50),\n....: (datetime.date( 1997, 2, 4 ), 40),\n....: ]\nsage: \nsage: \nsage: list_plot(data,ticks=[YearLocator(),None],tick_formatter=[DateFormatter('%Y-%m-%d'),None])\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/Users/grout/<ipython console> in <module>()\n\n/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/misc.pyc in wrapper(*args, **kwds)\n    136                 options['__original_opts'] = kwds\n    137             options.update(kwds)\n--> 138             return func(*args, **options)\n    139 \n    140         \n\n/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/plot.pyc in list_plot(data, plotjoined, **kwargs)\n   3523         P = line(data, **kwargs)\n   3524     else:\n-> 3525         P = point(data, **kwargs)\n   3526     return P\n   3527 \n\n/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/point.pyc in point(points, **kwds)\n    310     except (ValueError, TypeError):\n    311         from sage.plot.plot3d.shapes2 import point3d\n--> 312         return point3d(points, **kwds)\n    313 \n    314 @rename_keyword(color='rgbcolor', pointsize='size')\n\n/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/shapes2.pyc in point3d(v, size, **kwds)\n   1009         return Point(v, size, **kwds)\n   1010     else:\n-> 1011         A = sum([Point(z, size, **kwds) for z in v])\n   1012         A._set_extra_kwds(kwds)\n   1013         return A\n\n/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/shapes2.pyc in __init__(self, center, size, **kwds)\n    672         \"\"\"\n    673         PrimitiveObject.__init__(self, **kwds)\n--> 674         self.loc = (float(center[0]), float(center[1]), float(center[2]))\n    675         self.size = size\n    676         self._set_extra_kwds(kwds)\n\nTypeError: float() argument must be a string or a number\n\n```\n\n\nBut inserting a toordinal() call for each date does work.  It would be really nice if Sage intelligently handled date data and did something like this automatically.\n\n\n```\nsage: list_plot([(i.toordinal(), j) for i,j in data],ticks=[YearLocator(),None],tick_formatter=[DateFormatter('%Y-%m-%d'),None])\n\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10366\n\n",
    "created_at": "2010-12-02T05:01:14Z",
    "labels": [
        "graphics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "plotting dates requires a toordinal() call, which is inconvenient",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10365",
    "user": "jason"
}
```
Assignee: jason, was

CC:  slelievre

This doesn't work:

```
sage: version()
'Sage Version 4.6, Release Date: 2010-10-30'
sage: from matplotlib.dates import YearLocator, DateFormatter
sage: import datetime
sage: 
sage: data=[
....: (datetime.date( 1995, 1, 1 ), 30),
....: (datetime.date( 1996, 3, 1 ), 50),
....: (datetime.date( 1997, 2, 4 ), 40),
....: ]
sage: 
sage: 
sage: list_plot(data,ticks=[YearLocator(),None],tick_formatter=[DateFormatter('%Y-%m-%d'),None])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/Users/grout/<ipython console> in <module>()

/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/misc.pyc in wrapper(*args, **kwds)
    136                 options['__original_opts'] = kwds
    137             options.update(kwds)
--> 138             return func(*args, **options)
    139 
    140         

/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/plot.pyc in list_plot(data, plotjoined, **kwargs)
   3523         P = line(data, **kwargs)
   3524     else:
-> 3525         P = point(data, **kwargs)
   3526     return P
   3527 

/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/point.pyc in point(points, **kwds)
    310     except (ValueError, TypeError):
    311         from sage.plot.plot3d.shapes2 import point3d
--> 312         return point3d(points, **kwds)
    313 
    314 @rename_keyword(color='rgbcolor', pointsize='size')

/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/shapes2.pyc in point3d(v, size, **kwds)
   1009         return Point(v, size, **kwds)
   1010     else:
-> 1011         A = sum([Point(z, size, **kwds) for z in v])
   1012         A._set_extra_kwds(kwds)
   1013         return A

/Users/grout/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/shapes2.pyc in __init__(self, center, size, **kwds)
    672         """
    673         PrimitiveObject.__init__(self, **kwds)
--> 674         self.loc = (float(center[0]), float(center[1]), float(center[2]))
    675         self.size = size
    676         self._set_extra_kwds(kwds)

TypeError: float() argument must be a string or a number

```


But inserting a toordinal() call for each date does work.  It would be really nice if Sage intelligently handled date data and did something like this automatically.


```
sage: list_plot([(i.toordinal(), j) for i,j in data],ticks=[YearLocator(),None],tick_formatter=[DateFormatter('%Y-%m-%d'),None])

```


Issue created by migration from https://trac.sagemath.org/ticket/10366





---

archive/issue_comments_106601.json:
```json
{
    "body": "Changing keywords from \"\" to \"dates\".",
    "created_at": "2021-04-30T15:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10365#issuecomment-106601",
    "user": "slelievre"
}
```

Changing keywords from "" to "dates".



---

archive/issue_comments_106602.json:
```json
{
    "body": "Some related Ask Sage questions (and the answers to them) might help:\n\n- [Ask Sage question 49227: How to change ticks labels attributes for the 2D plot?](https://ask.sagemath.org/question/49227)\n- [Ask Sage question 10792: date x-axis](https://ask.sagemath.org/question/10792)\n\nand maybe some of those from Stack Overflow:\n\n- [SO question 63607212: Pandas dataframe plot: x-axis date labels display but not data](https://stackoverflow.com/q/63607212)\n- [SO question 52231917: Pandas/NumPy: Plotting dates as x-axis](https://stackoverflow.com/q/52231917)\n- [SO question 51105648: Ordering and formatting dates on x-axis in Seaborn bar plot](https://stackoverflow.com/q/51105648)\n- [SO question 5498510: Create matplotlib graph with date and time in axis labels](https://stackoverflow.com/q/5498510)\n- [SO question 466345: Converting string into datetime](https://stackoverflow.com/q/466345)",
    "created_at": "2021-04-30T15:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10365#issuecomment-106602",
    "user": "slelievre"
}
```

Some related Ask Sage questions (and the answers to them) might help:

- [Ask Sage question 49227: How to change ticks labels attributes for the 2D plot?](https://ask.sagemath.org/question/49227)
- [Ask Sage question 10792: date x-axis](https://ask.sagemath.org/question/10792)

and maybe some of those from Stack Overflow:

- [SO question 63607212: Pandas dataframe plot: x-axis date labels display but not data](https://stackoverflow.com/q/63607212)
- [SO question 52231917: Pandas/NumPy: Plotting dates as x-axis](https://stackoverflow.com/q/52231917)
- [SO question 51105648: Ordering and formatting dates on x-axis in Seaborn bar plot](https://stackoverflow.com/q/51105648)
- [SO question 5498510: Create matplotlib graph with date and time in axis labels](https://stackoverflow.com/q/5498510)
- [SO question 466345: Converting string into datetime](https://stackoverflow.com/q/466345)
