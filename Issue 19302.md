# Issue 19302: make Graphics.plot refuses argument

archive/issues_019302.json:
```json
{
    "body": "CC:  mhs kcrisman\n\nCurrently `Graphics.plot` ignore all input arguments which make the following very confusing\n\n```\nsage: S = circle((0,0), 1)\nsage: T = S.plot(aspect_ratio=2)\nsage: T.aspect_ratio()\n1.0\n```\n\n\nWe simply disallow arguments in order to have\n\n```\nsage: S.plot(aspect_ratio=1)\nTraceback (most recent call last):\n...\nTypeError: plot() got an unexpected keyword argument 'aspect_ratio'\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19539\n\n",
    "created_at": "2015-11-06T18:36:35Z",
    "labels": [
        "graphics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "make Graphics.plot refuses argument",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19302",
    "user": "vdelecroix"
}
```
CC:  mhs kcrisman

Currently `Graphics.plot` ignore all input arguments which make the following very confusing

```
sage: S = circle((0,0), 1)
sage: T = S.plot(aspect_ratio=2)
sage: T.aspect_ratio()
1.0
```


We simply disallow arguments in order to have

```
sage: S.plot(aspect_ratio=1)
Traceback (most recent call last):
...
TypeError: plot() got an unexpected keyword argument 'aspect_ratio'
```


Issue created by migration from https://trac.sagemath.org/ticket/19539





---

archive/issue_comments_265063.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-11-06T18:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265063",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_265064.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-11-06T18:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265064",
    "user": "vdelecroix"
}
```

New commits:



---

archive/issue_comments_265065.json:
```json
{
    "body": "Just adding a comment to say that I admire your courage.",
    "created_at": "2015-11-06T22:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265065",
    "user": "ncohen"
}
```

Just adding a comment to say that I admire your courage.



---

archive/issue_comments_265066.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-06T23:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265066",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265067.json:
```json
{
    "body": "Replying to [comment:2 ncohen]:\n> Just adding a comment to say that I admire your courage.\n\nWhat about a courageous review?",
    "created_at": "2015-11-06T23:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265067",
    "user": "vdelecroix"
}
```

Replying to [comment:2 ncohen]:
> Just adding a comment to say that I admire your courage.

What about a courageous review?



---

archive/issue_comments_265068.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-11-07T10:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265068",
    "user": "ncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_265069.json:
```json
{
    "body": "> What about a courageous review?\n\nLet's try:\n\n```diff\n-    if hasattr(funcs, 'plot'):\n+    if isinstance(funcs, Graphics):\n+        G = funcs\n+    elif hasattr(funcs, 'plot'):\n```\n\n\nWhy would you ignore (without warning) the contents of `*args` and `**kwds` when 'funcs' is a Graphics object? It seems as bad as what you try to fix in this branch.\n\nNathann",
    "created_at": "2015-11-07T10:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265069",
    "user": "ncohen"
}
```

> What about a courageous review?

Let's try:

```diff
-    if hasattr(funcs, 'plot'):
+    if isinstance(funcs, Graphics):
+        G = funcs
+    elif hasattr(funcs, 'plot'):
```


Why would you ignore (without warning) the contents of `*args` and `**kwds` when 'funcs' is a Graphics object? It seems as bad as what you try to fix in this branch.

Nathann



---

archive/issue_comments_265070.json:
```json
{
    "body": "More or less. `Graphics` is precisely the class that implemented\n\n```\ndef plot(self, *args, **kwds):\n    return self\n```\n\nAnd nobody inherits from it.\n\nI did it because some code is calling plot(x)... you are right that it would be better to fix it instead.\n\nWhat do you think that the following should do\n\n```\nsage: C = circle((0,0), 1)\nsage: plot(C, aspect_ratio=2)\n```\n\nIt used to return C unchanged and it still does. What my code is modifying is\n\n```\nsage: C.plot(aspect_ratio=2)\n... -> error\n```\n",
    "created_at": "2015-11-07T13:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265070",
    "user": "vdelecroix"
}
```

More or less. `Graphics` is precisely the class that implemented

```
def plot(self, *args, **kwds):
    return self
```

And nobody inherits from it.

I did it because some code is calling plot(x)... you are right that it would be better to fix it instead.

What do you think that the following should do

```
sage: C = circle((0,0), 1)
sage: plot(C, aspect_ratio=2)
```

It used to return C unchanged and it still does. What my code is modifying is

```
sage: C.plot(aspect_ratio=2)
... -> error
```




---

archive/issue_comments_265071.json:
```json
{
    "body": "Hello,\n\n> What do you think that the following should do\n> {{{\n> sage: C = circle((0,0), 1)\n> sage: plot(C, aspect_ratio=2)\n> }}}\n> It used to return C unchanged and it still does. What my code is modifying is\n\nIf it ignores the 'aspect_ratio=2' argument then it should raise an exception instead, exactly as you do it in this branch for `C.plot(whatever=3)`?\n\nNathann",
    "created_at": "2015-11-07T15:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265071",
    "user": "ncohen"
}
```

Hello,

> What do you think that the following should do
> {{{
> sage: C = circle((0,0), 1)
> sage: plot(C, aspect_ratio=2)
> }}}
> It used to return C unchanged and it still does. What my code is modifying is

If it ignores the 'aspect_ratio=2' argument then it should raise an exception instead, exactly as you do it in this branch for `C.plot(whatever=3)`?

Nathann



---

archive/issue_comments_265072.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-07T16:03:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265072",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265073.json:
```json
{
    "body": "done!",
    "created_at": "2015-11-07T16:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265073",
    "user": "vdelecroix"
}
```

done!



---

archive/issue_comments_265074.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-07T16:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265074",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265075.json:
```json
{
    "body": "Looks good. Thank you for this branch,\n\nNathann",
    "created_at": "2015-11-07T18:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265075",
    "user": "ncohen"
}
```

Looks good. Thank you for this branch,

Nathann



---

archive/issue_comments_265076.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2015-11-07T18:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265076",
    "user": "ncohen"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_265077.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-11-08T15:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19302#issuecomment-265077",
    "user": "vbraun"
}
```

Resolution: fixed
