# Issue 13600: libfplll fails to build on recent Cygwin

archive/issues_013600.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @kcrisman @dimpase\n\nKeywords: libfplll spkg cygwin\n\nOn my recent installation of Cywgin (on 64 bits Windows 7), building libfplll fails because make complains there is no rule to build fplll.\nIndeed there is one for fplll$(EXEEXT), but no for fplll and $(EXEEXT) is non empty on Cygwin.\nNonetheless, if the file fplll.exe exists, then \"make fplll\" will happily tell you that its up to date and go on with its job.\n\nWhat is strange is that the libfplll spkg has not changed for a while and I did not have this problem with Sage 5.2 on the same Windows (but with a previous version of Cygwin or of make I guess).\nSo there must have been some changes in the order the Makefile rules or dependencies are treated.\n\nWhatsoever I think the proper fix is to modify the Makefiles, but I'll provide the less intrusive solutio I can think of.\n\nAnd by the way the libfplll we ship is old.\nSee #12835.\nSo I won't report this upstream, unless we update libfplll and the problem is still present.\n\nIssue created by migration from https://trac.sagemath.org/ticket/13804\n\n",
    "created_at": "2012-12-06T10:47:40Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "libfplll fails to build on recent Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13600",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Assignee: tbd

CC:  @kcrisman @dimpase

Keywords: libfplll spkg cygwin

On my recent installation of Cywgin (on 64 bits Windows 7), building libfplll fails because make complains there is no rule to build fplll.
Indeed there is one for fplll$(EXEEXT), but no for fplll and $(EXEEXT) is non empty on Cygwin.
Nonetheless, if the file fplll.exe exists, then "make fplll" will happily tell you that its up to date and go on with its job.

What is strange is that the libfplll spkg has not changed for a while and I did not have this problem with Sage 5.2 on the same Windows (but with a previous version of Cygwin or of make I guess).
So there must have been some changes in the order the Makefile rules or dependencies are treated.

Whatsoever I think the proper fix is to modify the Makefiles, but I'll provide the less intrusive solutio I can think of.

And by the way the libfplll we ship is old.
See #12835.
So I won't report this upstream, unless we update libfplll and the problem is still present.

Issue created by migration from https://trac.sagemath.org/ticket/13804





---

archive/issue_comments_167965.json:
```json
{
    "body": "Or maybe Cywgin make used to automagically translate targets to add .exe extension and does not anymore.",
    "created_at": "2012-12-06T10:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167965",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Or maybe Cywgin make used to automagically translate targets to add .exe extension and does not anymore.



---

archive/issue_comments_167966.json:
```json
{
    "body": "Groumpf, I got it to install by not using a parallel build.",
    "created_at": "2012-12-06T11:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167966",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Groumpf, I got it to install by not using a parallel build.



---

archive/issue_comments_167967.json:
```json
{
    "body": "Yeah, I've never seen this because my machine is certainly always with one thread.  I guess I never even thought to try it in parallel, but as it's XP I'm sure that wouldn't be very useful in any case.",
    "created_at": "2012-12-06T15:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167967",
    "user": "https://github.com/kcrisman"
}
```

Yeah, I've never seen this because my machine is certainly always with one thread.  I guess I never even thought to try it in parallel, but as it's XP I'm sure that wouldn't be very useful in any case.



---

archive/issue_comments_167968.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2012-12-06T15:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167968",
    "user": "https://github.com/kcrisman"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_167969.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to cygwin.",
    "created_at": "2012-12-06T15:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167969",
    "user": "https://github.com/kcrisman"
}
```

Changing component from PLEASE CHANGE to cygwin.



---

archive/issue_comments_167970.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2012-12-20T11:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167970",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Spkg diff, for review only.



---

archive/issue_comments_167971.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-12-20T11:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167971",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_167972.json:
```json
{
    "body": "Attachment [libfplll-3.0.12.p3.diff](tarball://root/attachments/some-uuid/ticket13804/libfplll-3.0.12.p3.diff) by jpflori created at 2012-12-20 11:13:05",
    "created_at": "2012-12-20T11:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167972",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [libfplll-3.0.12.p3.diff](tarball://root/attachments/some-uuid/ticket13804/libfplll-3.0.12.p3.diff) by jpflori created at 2012-12-20 11:13:05



---

archive/issue_comments_167973.json:
```json
{
    "body": "Brief look at diff seems okay, and this installed fine on XP with passed (self, SAGE_CHECK=yes) tests.  I obviously can't check whether this actually works in terms of multiple threads, though this is the right command to disable parallel make, and is only on Cygwin, so we should probably let it go through.",
    "created_at": "2013-01-07T14:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167973",
    "user": "https://github.com/kcrisman"
}
```

Brief look at diff seems okay, and this installed fine on XP with passed (self, SAGE_CHECK=yes) tests.  I obviously can't check whether this actually works in terms of multiple threads, though this is the right command to disable parallel make, and is only on Cygwin, so we should probably let it go through.



---

archive/issue_comments_167974.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-07T15:33:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167974",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_167975.json:
```json
{
    "body": "Same result on Mac and sage.math, and after `./sage -b` passes the `sage/libs/fplll` tests as well.  Let's get this in.",
    "created_at": "2013-01-07T15:33:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167975",
    "user": "https://github.com/kcrisman"
}
```

Same result on Mac and sage.math, and after `./sage -b` passes the `sage/libs/fplll` tests as well.  Let's get this in.



---

archive/issue_comments_167976.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-12T08:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13600#issuecomment-167976",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
