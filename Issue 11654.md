# Issue 11654: coercing to the residue field of p-adic extensions

Issue created by migration from https://trac.sagemath.org/ticket/11826

Original creator: ekin

Original creation time: 2011-09-21 17:40:01

Assignee: roed

CC:  aly.deines

Keywords: coercion, residue fields

Given an extension l of Qp where the residue field of l is not Fp, it doesn't coerce an element of the integer ring of l to an element in the residue field, as shown below:

```
   sage: l.<w> = F.extension(x^2-7); b = l.integer_ring()
   sage: k = b.residue_field(); k;
         Finite Field in w0 of size 5^2
   sage: c = b(11); c
         1 + 2*5 + O(5^20)
   sage: k(c)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "_sage_input_18.py", line 10, in <module>
    exec compile(u'open("___code___.py","w").write("# -*- coding: utf-8 -*-\\n" + _support_.preparse_worksheet_cell(base64.b64decode("bC48dz4gPSBGLmV4dGVuc2lvbih4XjItNyk7IGIgPSBsLmludGVnZXJfcmluZygpOyBjID0gYigxMSk7ICBrID0gYi5yZXNpZHVlX2ZpZWxkKCk7IGs7IGM7CmsoYyk="),globals())+"\\n"); execfile(os.path.abspath("___code___.py"))
  File "", line 1, in <module>
    
  File "/tmp/tmptDx0vL/___code___.py", line 4, in <module>
    exec compile(u'k(c)
  File "", line 1, in <module>
    
  File "parent.pyx", line 915, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:6668)
  File "coerce_maps.pyx", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3119)
  File "coerce_maps.pyx", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3022)
  File "/sagenb/flask/sage-4.6.2/local/lib/python2.6/site-packages/sage/rings/finite_rings/finite_field_givaro.py", line 326, in _element_constructor_
    return self._cache.element_from_data(e)
  File "element_givaro.pyx", line 367, in sage.rings.finite_rings.element_givaro.Cache_givaro.element_from_data (sage/rings/finite_rings/element_givaro.cpp:5808)
  File "element_givaro.pyx", line 475, in sage.rings.finite_rings.element_givaro.Cache_givaro.element_from_data (sage/rings/finite_rings/element_givaro.cpp:5520)
TypeError: unable to coerce
```



---

Comment by kedlaya created at 2011-09-22 21:14:56

Is this related to (or even a duplicate of) #8240?


---

Comment by roed created at 2011-09-22 21:37:06

Yeah, this is a duplicate.  It's still a feature that we should have though: it's already on my p-adics todo list.


---

Comment by roed created at 2011-11-19 04:24:12

Changing status from new to needs_review.


---

Comment by roed created at 2011-11-19 04:24:17

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-11-26 13:07:51

Resolution: duplicate
