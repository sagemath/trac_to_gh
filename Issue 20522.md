# Issue 20522: Lazier computation of generators of relative number fields

Issue created by migration from Trac.

Original creator: pbruin

Original creation time: 2016-06-02 11:02:36

Currently, the generators of a relative number field (including images of generators of the base field) are computed on initialisation.  This causes a slowdown when applying #20749; see comment:5:ticket:20749.

The slow initalisation can be solved using "lazier" implementations of the methods `gen()`, `gens()`, `ngens()` and `_first_ngens()` of `NumberField_relative`.  In combination with #20749, this means that the somewhat expensive method `_nf_nfzk()` will only be called the first time an element from the base field is mapped to the relative field.  This is probably the most reasonable point at which to call `_nf_nfzk()`.


---

Comment by pbruin created at 2016-06-02 11:04:26

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-06-09 03:18:15

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-06-09 03:18:15

LGTM.


---

Comment by vbraun created at 2016-06-09 20:28:18

Resolution: fixed
