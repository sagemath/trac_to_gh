# Issue 25741: Python 3: sorting issue causing failure in koszul_complex.py

archive/issues_025741.json:
```json
{
    "body": "CC:  chapoton tscrim\n\nA sorting issue (`TypeError: '>' not supported between instances of 'NoneType' and 'int'`) in `multi_polynomial_ring_base.pyx` causes a doctest failure in `koszul_complex.py` in Python 3.\n\nIssue created by migration from https://trac.sagemath.org/ticket/25978\n\n",
    "created_at": "2018-07-30T21:19:00Z",
    "labels": [
        "python3",
        "minor",
        "bug"
    ],
    "title": "Python 3: sorting issue causing failure in koszul_complex.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25741",
    "user": "jhpalmieri"
}
```
CC:  chapoton tscrim

A sorting issue (`TypeError: '>' not supported between instances of 'NoneType' and 'int'`) in `multi_polynomial_ring_base.pyx` causes a doctest failure in `koszul_complex.py` in Python 3.

Issue created by migration from https://trac.sagemath.org/ticket/25978





---

archive/issue_comments_363198.json:
```json
{
    "body": "The issue here is that `terms` can be `None` while `total` is an integer, and then Python 3 objects to `if terms > total:`.\n----\nNew commits:",
    "created_at": "2018-07-30T21:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363198",
    "user": "jhpalmieri"
}
```

The issue here is that `terms` can be `None` while `total` is an integer, and then Python 3 objects to `if terms > total:`.
----
New commits:



---

archive/issue_comments_363199.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-30T21:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363199",
    "user": "jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_363200.json:
```json
{
    "body": "I think it is good to put a comment in there explaining why this test is the way it is.\n\nAlso, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).",
    "created_at": "2018-07-30T21:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363200",
    "user": "tscrim"
}
```

I think it is good to put a comment in there explaining why this test is the way it is.

Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).



---

archive/issue_comments_363201.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-30T22:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363201",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363202.json:
```json
{
    "body": "Replying to [comment:4 tscrim]:\n> I think it is good to put a comment in there explaining why this test is the way it is.\n\nSounds good.\n\n> Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).\n\n`total` is defined by `counts, total = self._precomp_counts(n, degree)`, and according to the documentation, `total` is a sum of cardinalities, so it had better be nonnegative.",
    "created_at": "2018-07-30T22:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363202",
    "user": "jhpalmieri"
}
```

Replying to [comment:4 tscrim]:
> I think it is good to put a comment in there explaining why this test is the way it is.

Sounds good.

> Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).

`total` is defined by `counts, total = self._precomp_counts(n, degree)`, and according to the documentation, `total` is a sum of cardinalities, so it had better be nonnegative.



---

archive/issue_comments_363203.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363203",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_363204.json:
```json
{
    "body": "Thanks.",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363204",
    "user": "tscrim"
}
```

Thanks.



---

archive/issue_comments_363205.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-09-01T09:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25741#issuecomment-363205",
    "user": "vbraun"
}
```

Resolution: fixed
