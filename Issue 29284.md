# Issue 29284: Upgrade giac to 1.5.0-87

archive/issues_029284.json:
```json
{
    "body": "CC:  @antonio-rojas @dimpase @frederichan-IMJPRG parisse @slel @infinity0 @saraedum @tobihan @timokau @kiwifb\n\nhttp://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/\n\nIssue created by migration from https://trac.sagemath.org/ticket/29521\n\n",
    "created_at": "2020-04-17T15:39:19Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Upgrade giac to 1.5.0-87",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29284",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @antonio-rojas @dimpase @frederichan-IMJPRG parisse @slel @infinity0 @saraedum @tobihan @timokau @kiwifb

http://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/

Issue created by migration from https://trac.sagemath.org/ticket/29521





---

archive/issue_comments_414620.json:
```json
{
    "body": "Would be nice to do this. There are a few trivial doctests impacted by this. But I'll wait to know what upstream intend to do about the naming before going ahead.",
    "created_at": "2020-04-17T23:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414620",
    "user": "https://github.com/kiwifb"
}
```

Would be nice to do this. There are a few trivial doctests impacted by this. But I'll wait to know what upstream intend to do about the naming before going ahead.



---

archive/issue_comments_414621.json:
```json
{
    "body": "please see https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2513",
    "created_at": "2020-04-18T04:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414621",
    "user": "https://github.com/dimpase"
}
```

please see https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2513



---

archive/issue_comments_414622.json:
```json
{
    "body": "This is a problem that should be reported to PARI:\n[https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz](https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz)",
    "created_at": "2020-04-18T08:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414622",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

This is a problem that should be reported to PARI:
[https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz](https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz)



---

archive/issue_comments_414623.json:
```json
{
    "body": "Replying to [comment:7 parisse]:\n> This is a problem that should be reported to PARI:\n> [https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz](https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz)\n\n\nThanks for that . Which now begs the question, should we install pari's html doc with giac? We already have the documentation which comes with pari, in pdf if I am not mistaken.",
    "created_at": "2020-04-18T08:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414623",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:7 parisse]:
> This is a problem that should be reported to PARI:
> [https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz](https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz)


Thanks for that . Which now begs the question, should we install pari's html doc with giac? We already have the documentation which comes with pari, in pdf if I am not mistaken.



---

archive/issue_comments_414624.json:
```json
{
    "body": "The HTML doc is intended to be used from Xcas (Help, Manuals, PARI-GP), I don't think you will need it to run giac inside sage.",
    "created_at": "2020-04-18T08:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414624",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

The HTML doc is intended to be used from Xcas (Help, Manuals, PARI-GP), I don't think you will need it to run giac inside sage.



---

archive/issue_comments_414625.json:
```json
{
    "body": "`xcas` is the fltk application, right? I am not sure we ever build it in sage as we would have to make sure there is a proper fltk install and that it is detected properly. So, not shipping those won't hurt I guess.",
    "created_at": "2020-04-18T08:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414625",
    "user": "https://github.com/kiwifb"
}
```

`xcas` is the fltk application, right? I am not sure we ever build it in sage as we would have to make sure there is a proper fltk install and that it is detected properly. So, not shipping those won't hurt I guess.



---

archive/issue_comments_414626.json:
```json
{
    "body": "Yes xcas is never built by the spkg because we put in spkg-install:\n`sdh_configure --disable-gui `\nI did this long ago to prevent the configure script to find a bad version of fltk that might be installed on the system.",
    "created_at": "2020-04-18T09:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414626",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

Yes xcas is never built by the spkg because we put in spkg-install:
`sdh_configure --disable-gui `
I did this long ago to prevent the configure script to find a bad version of fltk that might be installed on the system.



---

archive/issue_comments_414627.json:
```json
{
    "body": "OK sounds like our just `spkg-src` needs to delete more stuff.",
    "created_at": "2020-04-18T16:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414627",
    "user": "https://github.com/mkoeppe"
}
```

OK sounds like our just `spkg-src` needs to delete more stuff.



---

archive/issue_comments_414628.json:
```json
{
    "body": "Replying to [comment:7 parisse]:\n> This is a problem that should be reported to PARI:\n> [https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz](https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz)\n\n\napparently it's already fixed, for the upcoming release, i.e.\nhttps://pari.math.u-bordeaux.fr/dochtml/html.tgz\nI see no `:` in filenames.\n\nFor `html-stable`, I see\n\n```\n\n-rw-r--r-- 1 dimpase dimpase   26979 Jul 19  2016  Programming_in_GP:_control_statements.html\n-rw-r--r-- 1 dimpase dimpase   39993 Dec  1  2018  Programming_in_GP__control_statements.html\n-rw-r--r-- 1 dimpase dimpase   46872 Jul 19  2016  Programming_in_GP:_other_specific_functions.html\n-rw-r--r-- 1 dimpase dimpase   78935 Dec  1  2018  Programming_in_GP__other_specific_functions.html\n```\n\nso these files with `:` are just leftovers, by looking at dates...",
    "created_at": "2020-04-18T16:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414628",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:7 parisse]:
> This is a problem that should be reported to PARI:
> [https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz](https://pari.math.u-bordeaux.fr/dochtml/html-stable.tgz)


apparently it's already fixed, for the upcoming release, i.e.
https://pari.math.u-bordeaux.fr/dochtml/html.tgz
I see no `:` in filenames.

For `html-stable`, I see

```

-rw-r--r-- 1 dimpase dimpase   26979 Jul 19  2016  Programming_in_GP:_control_statements.html
-rw-r--r-- 1 dimpase dimpase   39993 Dec  1  2018  Programming_in_GP__control_statements.html
-rw-r--r-- 1 dimpase dimpase   46872 Jul 19  2016  Programming_in_GP:_other_specific_functions.html
-rw-r--r-- 1 dimpase dimpase   78935 Dec  1  2018  Programming_in_GP__other_specific_functions.html
```

so these files with `:` are just leftovers, by looking at dates...



---

archive/issue_comments_414629.json:
```json
{
    "body": "A decision needs to be made whether for 9.1, we want to do the update to to 1.5.0-87 or just clean up the tarball of 1.5.0-63",
    "created_at": "2020-04-18T17:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414629",
    "user": "https://github.com/mkoeppe"
}
```

A decision needs to be made whether for 9.1, we want to do the update to to 1.5.0-87 or just clean up the tarball of 1.5.0-63



---

archive/issue_comments_414630.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2020-04-23T03:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414630",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_414631.json:
```json
{
    "body": "Would someone who knows about the spkg-src be willing to update it?",
    "created_at": "2020-04-23T03:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414631",
    "user": "https://github.com/mkoeppe"
}
```

Would someone who knows about the spkg-src be willing to update it?



---

archive/issue_comments_414632.json:
```json
{
    "body": "Replying to [comment:16 mkoeppe]:\n> Would someone who knows about the spkg-src be willing to update it?\n\n\nI'll admit that I don't really want to touch it. I would probably have wanted to do the whole thing slightly differently.",
    "created_at": "2020-04-23T03:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414632",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:16 mkoeppe]:
> Would someone who knows about the spkg-src be willing to update it?


I'll admit that I don't really want to touch it. I would probably have wanted to do the whole thing slightly differently.



---

archive/issue_comments_414633.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-04-23T06:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414633",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_414634.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-23T06:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414635.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-23T06:21:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414635",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_414636.json:
```json
{
    "body": "LGTM. I didn't even know you could use that syntax for tar under linux, looks much better now.  Have to check a couple of things before switching it to positive.",
    "created_at": "2020-04-23T06:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414636",
    "user": "https://github.com/kiwifb"
}
```

LGTM. I didn't even know you could use that syntax for tar under linux, looks much better now.  Have to check a couple of things before switching it to positive.



---

archive/issue_comments_414637.json:
```json
{
    "body": "does this work? I would worry about `-` in the patch level.",
    "created_at": "2020-04-23T06:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414637",
    "user": "https://github.com/dimpase"
}
```

does this work? I would worry about `-` in the patch level.



---

archive/issue_comments_414638.json:
```json
{
    "body": "Attachment [giac-1.5.0.63-p0.tar.bz2](tarball://root/attachments/some-uuid/ticket29521/giac-1.5.0.63-p0.tar.bz2) by git created at 2020-04-23 06:37:19\n\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-23T06:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Attachment [giac-1.5.0.63-p0.tar.bz2](tarball://root/attachments/some-uuid/ticket29521/giac-1.5.0.63-p0.tar.bz2) by git created at 2020-04-23 06:37:19

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414639.json:
```json
{
    "body": "This one works for me.",
    "created_at": "2020-04-23T06:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414639",
    "user": "https://github.com/mkoeppe"
}
```

This one works for me.



---

archive/issue_comments_414640.json:
```json
{
    "body": "Using `-p0` because that becomes part of the tarball name.",
    "created_at": "2020-04-23T06:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414640",
    "user": "https://github.com/mkoeppe"
}
```

Using `-p0` because that becomes part of the tarball name.



---

archive/issue_comments_414641.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-23T06:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414641",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_414642.json:
```json
{
    "body": "afk now, but OK.",
    "created_at": "2020-04-23T06:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414642",
    "user": "https://github.com/dimpase"
}
```

afk now, but OK.



---

archive/issue_comments_414643.json:
```json
{
    "body": "I checked the bit I was worried about (whether some stuff in `doc/Makefile.am` could lead to a breakage) and I am definitely OK with this.",
    "created_at": "2020-04-23T07:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414643",
    "user": "https://github.com/kiwifb"
}
```

I checked the bit I was worried about (whether some stuff in `doc/Makefile.am` could lead to a breakage) and I am definitely OK with this.



---

archive/issue_comments_414644.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-04-23T17:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414644",
    "user": "https://github.com/mkoeppe"
}
```

Thanks!



---

archive/issue_events_075307.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-24T22:28:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29284#event-75307"
}
```



---

archive/issue_comments_414645.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-24T22:28:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29284#issuecomment-414645",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
