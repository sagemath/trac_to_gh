# Issue 24926: Implement symmetric functions in super space

archive/issues_024926.json:
```json
{
    "body": "CC:  alauve darij zabrocki tscrim\n\nKeywords: CHAs, sf, super partitions, IMA coding sprint\n\nSymmetric functions in superspace is the Hopf algebra of super partitions (ticket #25132).  It has the symmetric functions as a sub-algebra.\n\n* [DLM06] P. Desrosiers, L. Lapointe, P. Mathieu, Classical symmetric functions in superspace, J. Algebr Comb. (2006) 24:209--238, :arXiv:`0509408`\n\n* [JL16] M. Jones, L. Lapointe, Pieri rules for Schur functions in superspace, :arXiv:`1608.08577`\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/25163\n\n",
    "created_at": "2018-04-13T14:47:20Z",
    "labels": [
        "combinatorics",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Implement symmetric functions in super space",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24926",
    "user": "zabrocki"
}
```
CC:  alauve darij zabrocki tscrim

Keywords: CHAs, sf, super partitions, IMA coding sprint

Symmetric functions in superspace is the Hopf algebra of super partitions (ticket #25132).  It has the symmetric functions as a sub-algebra.

* [DLM06] P. Desrosiers, L. Lapointe, P. Mathieu, Classical symmetric functions in superspace, J. Algebr Comb. (2006) 24:209--238, :arXiv:`0509408`

* [JL16] M. Jones, L. Lapointe, Pieri rules for Schur functions in superspace, :arXiv:`1608.08577`


Issue created by migration from https://trac.sagemath.org/ticket/25163





---

archive/issue_comments_350875.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-05-08T00:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350875",
    "user": "zabrocki"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_350876.json:
```json
{
    "body": "A first implementation.  I merged #25133 so that the CHAS directory is there.\n----\nLast 10 new commits:",
    "created_at": "2018-05-08T00:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350876",
    "user": "zabrocki"
}
```

A first implementation.  I merged #25133 so that the CHAS directory is there.
----
Last 10 new commits:



---

archive/issue_comments_350877.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-09T22:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350877",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350878.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-09T23:59:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350878",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350879.json:
```json
{
    "body": "Just did a trivial rebase over the trivial conflict in #25133.",
    "created_at": "2018-05-10T00:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350879",
    "user": "tscrim"
}
```

Just did a trivial rebase over the trivial conflict in #25133.



---

archive/issue_comments_350880.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-10T14:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350880",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350881.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-13T11:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350881",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350882.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-13T13:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350882",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350883.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-13T14:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350883",
    "user": "zabrocki"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_350884.json:
```json
{
    "body": "I think that this is ready to go.",
    "created_at": "2018-05-13T14:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350884",
    "user": "zabrocki"
}
```

I think that this is ready to go.



---

archive/issue_comments_350885.json:
```json
{
    "body": "Some bikeshedding on the module-level doc:\n\n\n```\nLet `P_{\\Theta_n, X_n}` be the polynomial ring in two sets of variables\n`\\Theta_n = \\theta_1, \\theta_2, \\ldots, \\theta_n` and\n`X_n = x_1, x_2, \\ldots, x_n`\n```\n\nThe \"n\" here clashes with the \"n\" in the later definitions of p_{n;} et al; maybe use a capital N instead? Or work with infinitely many variables right away, if this is possible?\n\n\n```\nwhere the first set of variables anti-commute\n```\n\nIf this includes squaring to 0, then please say so.\n\n\n```\nThe symmetric group\nacts diagonally on this polynomial ring and the symmetric functions in\nsuperspace are isomorphic to the invariants in this polynomial ring.\n```\n\nI'd put a comma before the \"and\" so it's not misread as \"on this polynomial ring and the symmetric functions\".\n\n\n```\n    p_{(;i)} p_{(;j)} = p_{(;j)} p_{(;i)} \\qquad\n    p_{(i;)} p_{(;j)} = p_{(;j)} p_{(i;)} \\qquad\n    p_{(i;)} p_{(j;)} = - p_{(j;)} p_{(i;)}\n```\n\nAnd `p_{(i;)}^2 = 0`, I assume.\n\n\n```\n    p_{(; n)} = p_n \\quad e_{(; n)} = e_n \\quad h_{(; n)} = h_n\n```\n\nPlease use `, \\quad`, not just `\\quad`.\n\n\n```\nfrom `Theta_n`\n```\n\nDon't forget the backslash. (And again, that's an \"N\", not an \"n\".)\n\n\n```\nbosnic degree\n```\n\nThe adjective is \"Bosnian\".\n\n\n```\n    h_{(n; )} = \\sum_{\\Lambda \\in SPar(n|1)} m_\\Lambda \\qquad\n```\n\nAgain, use a comma before the \\qquad.\n\n\n```\n`\\left<\\left< p_\\Lambda, p_\\Gamma \\right>\\right> = \\delta_{\\Lambda\\Gamma} z_{\\Lambda^s}`\nwhere `z_{\\Lambda^s}` is the usual constant `z_\\lambda` which is the size of\n```\n\nWhat is `\\Lambda^s`?\n\n\n```\nin pairs.  For all `\\Lambda, \\Gamma in SPar(n|m)` ,\n```\n\n`in` -> `\\in`\n\n\n```\nAs with the space of symmetric functions, there is an involution `\\omega`\nthat for all super partitions `\\Lambda`, `\\omega(h_\\Lambda) = e_\\Lambda`.\n```\n\nadd \"satisfies\".\n\n\n```\nHopf algebra and the coproduct is defined bby declaring that the power sum\n```\n\n\"by\".\n\nI don't quite get: How is `e_\\Lambda` defined for a strict partition \\Lambda? Just by multiplying `e_{n;}` over all fermionic entries `n` and `e_{;n}` over all bosonic entries `n`? In what order?",
    "created_at": "2018-05-13T14:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350885",
    "user": "darij"
}
```

Some bikeshedding on the module-level doc:


```
Let `P_{\Theta_n, X_n}` be the polynomial ring in two sets of variables
`\Theta_n = \theta_1, \theta_2, \ldots, \theta_n` and
`X_n = x_1, x_2, \ldots, x_n`
```

The "n" here clashes with the "n" in the later definitions of p_{n;} et al; maybe use a capital N instead? Or work with infinitely many variables right away, if this is possible?


```
where the first set of variables anti-commute
```

If this includes squaring to 0, then please say so.


```
The symmetric group
acts diagonally on this polynomial ring and the symmetric functions in
superspace are isomorphic to the invariants in this polynomial ring.
```

I'd put a comma before the "and" so it's not misread as "on this polynomial ring and the symmetric functions".


```
    p_{(;i)} p_{(;j)} = p_{(;j)} p_{(;i)} \qquad
    p_{(i;)} p_{(;j)} = p_{(;j)} p_{(i;)} \qquad
    p_{(i;)} p_{(j;)} = - p_{(j;)} p_{(i;)}
```

And `p_{(i;)}^2 = 0`, I assume.


```
    p_{(; n)} = p_n \quad e_{(; n)} = e_n \quad h_{(; n)} = h_n
```

Please use `, \quad`, not just `\quad`.


```
from `Theta_n`
```

Don't forget the backslash. (And again, that's an "N", not an "n".)


```
bosnic degree
```

The adjective is "Bosnian".


```
    h_{(n; )} = \sum_{\Lambda \in SPar(n|1)} m_\Lambda \qquad
```

Again, use a comma before the \qquad.


```
`\left<\left< p_\Lambda, p_\Gamma \right>\right> = \delta_{\Lambda\Gamma} z_{\Lambda^s}`
where `z_{\Lambda^s}` is the usual constant `z_\lambda` which is the size of
```

What is `\Lambda^s`?


```
in pairs.  For all `\Lambda, \Gamma in SPar(n|m)` ,
```

`in` -> `\in`


```
As with the space of symmetric functions, there is an involution `\omega`
that for all super partitions `\Lambda`, `\omega(h_\Lambda) = e_\Lambda`.
```

add "satisfies".


```
Hopf algebra and the coproduct is defined bby declaring that the power sum
```

"by".

I don't quite get: How is `e_\Lambda` defined for a strict partition \Lambda? Just by multiplying `e_{n;}` over all fermionic entries `n` and `e_{;n}` over all bosonic entries `n`? In what order?



---

archive/issue_comments_350886.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-13T14:42:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350886",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350887.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-13T14:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350887",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350888.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-13T15:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350888",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350889.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-13T23:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350889",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350890.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-14T00:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350890",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350891.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-03T12:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350891",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350892.json:
```json
{
    "body": "\n```\n+    class Schur_sb(CombinatorialFreeModule, BindableClass):\n+        r\"\"\"\n+        The Schur basis arising from `q=t=0` specialization of Macdonald.\n```\n\n\n\n```\n+    class Schur_s(CombinatorialFreeModule, BindableClass):\n+        r\"\"\"\n+        The Schur-star basis arising from `q=t=0` specialization of Macdonald.\n```\n\n\n\n```\n+    class Schur_b(CombinatorialFreeModule, BindableClass):\n+        r\"\"\"\n+        The Schur-bar basis as the `q=t=\\infty` specialization of Macdonald.\n```\n\n\n\n```\n+    class Schur(CombinatorialFreeModule, BindableClass):\n+        r\"\"\"\n+        The Schur-bar basis as the `q=t=\\infty` specialization of Macdonald.\n```\n\n\nCan it be that these descriptions are messed up? Why is the \"Schur\" doc claiming to be Schur-bar? Shouldn't Schur be from q=t=0, not from q=t=\\infty?\n\nAlso, is there no simpler way to define these bases than by Macdonald specialization? I'd expect some Berezinian analogue of the Jacobi-Trudi formulas?",
    "created_at": "2018-06-03T13:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350892",
    "user": "@darijgr"
}
```


```
+    class Schur_sb(CombinatorialFreeModule, BindableClass):
+        r"""
+        The Schur basis arising from `q=t=0` specialization of Macdonald.
```



```
+    class Schur_s(CombinatorialFreeModule, BindableClass):
+        r"""
+        The Schur-star basis arising from `q=t=0` specialization of Macdonald.
```



```
+    class Schur_b(CombinatorialFreeModule, BindableClass):
+        r"""
+        The Schur-bar basis as the `q=t=\infty` specialization of Macdonald.
```



```
+    class Schur(CombinatorialFreeModule, BindableClass):
+        r"""
+        The Schur-bar basis as the `q=t=\infty` specialization of Macdonald.
```


Can it be that these descriptions are messed up? Why is the "Schur" doc claiming to be Schur-bar? Shouldn't Schur be from q=t=0, not from q=t=\infty?

Also, is there no simpler way to define these bases than by Macdonald specialization? I'd expect some Berezinian analogue of the Jacobi-Trudi formulas?



---

archive/issue_comments_350893.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-03T15:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350893",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350894.json:
```json
{
    "body": "You are right the descriptions were confused there.  The Schur-star and Schur-star-bar are related to these by duality and I looked in the paper and noticed that they are not listed as a specialization so I cut that description.\n\n> Also, is there no simpler way to define these bases than by Macdonald specialization? I'd expect some Berezinian analogue of the Jacobi-Trudi formulas?\n\nThat would be welcome.  Here they are implemented by Pieri rules which are given in [JL2016].",
    "created_at": "2018-06-03T15:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350894",
    "user": "zabrocki"
}
```

You are right the descriptions were confused there.  The Schur-star and Schur-star-bar are related to these by duality and I looked in the paper and noticed that they are not listed as a specialization so I cut that description.

> Also, is there no simpler way to define these bases than by Macdonald specialization? I'd expect some Berezinian analogue of the Jacobi-Trudi formulas?

That would be welcome.  Here they are implemented by Pieri rules which are given in [JL2016].



---

archive/issue_comments_350895.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-04T11:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350895",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350896.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-04T11:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350896",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350897.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-08T17:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350897",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350898.json:
```json
{
    "body": "More random comments:\n\n\n```\n+            The product of monomial basis elements is calculated for a\n+            fixed fermionic partition.\n```\n\nWhat does that mean?\n\nWhat is a BindableClass (no, I don't get the doc at https://doc.sagemath.org/html/en/reference/misc/sage/misc/bindable_class.html ) and why is it being used here?\n\n\n```\n+where `\\Lambda` is a super partition with femionic sector `m`.\n```\n\nfeRmionic\n\nIs this a Hopf algebra or a super-Hopf algebra? I.e., is there a twist involved in the bialgebra axiom? My suspicion is that it is, because otherwise the square-zero relations `p_{(i;)}^2 = 0` would contradict the primitivity of the `p_{(i;)}` wrt the coproduct. But do you ever tell this to Sage? If you don't, I doubt that it's correctly computing coproducts of non-generators! Also, of course, this should be said in the doc. (Is the Hopf structure anywhere in the literature?)\n\n\n```\n+                Test if super partitions an element all have the same bi-degree.\n```\n\nProbably should be \"if the super-partitions in the support of ``self`` have the same bi-degree\".\n\nMaybe decide between \"symmetric generators\" and \"bosonic generators\" -- currently you seem to be using both languages (or do they mean different things?).",
    "created_at": "2018-06-17T18:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350898",
    "user": "@darijgr"
}
```

More random comments:


```
+            The product of monomial basis elements is calculated for a
+            fixed fermionic partition.
```

What does that mean?

What is a BindableClass (no, I don't get the doc at https://doc.sagemath.org/html/en/reference/misc/sage/misc/bindable_class.html ) and why is it being used here?


```
+where `\Lambda` is a super partition with femionic sector `m`.
```

feRmionic

Is this a Hopf algebra or a super-Hopf algebra? I.e., is there a twist involved in the bialgebra axiom? My suspicion is that it is, because otherwise the square-zero relations `p_{(i;)}^2 = 0` would contradict the primitivity of the `p_{(i;)}` wrt the coproduct. But do you ever tell this to Sage? If you don't, I doubt that it's correctly computing coproducts of non-generators! Also, of course, this should be said in the doc. (Is the Hopf structure anywhere in the literature?)


```
+                Test if super partitions an element all have the same bi-degree.
```

Probably should be "if the super-partitions in the support of ``self`` have the same bi-degree".

Maybe decide between "symmetric generators" and "bosonic generators" -- currently you seem to be using both languages (or do they mean different things?).



---

archive/issue_comments_350899.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-18T20:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350899",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350900.json:
```json
{
    "body": "I used `BindableClass` because that seems to be what all bases of chas need to inherit (see `WQSymBasis_abstract` in `wqsym.py`, `FSymBasis_abstract` in `fsym.py` and bases in `ncsf.py` and `qsym.py`).  I tried deleting the `BindableClass` and the command `h = self.Complete()` raised a `TypeError: __init__() takes exactly 2 arguments (1 given)`.  And, no, I do not understand that documentation either.\n\nAbout the Hopf algebra structure:\n> My suspicion is that it is, because otherwise the square-zero relations `p_{(i;)}^2 = 0` would contradict the primitivity of the `p_{(i;)}` wrt the coproduct.\nAs far as I can tell this is a Hopf algebra and not a super-Hopf algebra.  There is no posted paper that I can point to, but I do have a non-posted preprint.  However I will continue to check this carefully because I am reviewing the paper.  Can you explain your suspicion more carefully?  Perhaps there is an error in the paper.",
    "created_at": "2018-06-18T20:37:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350900",
    "user": "zabrocki"
}
```

I used `BindableClass` because that seems to be what all bases of chas need to inherit (see `WQSymBasis_abstract` in `wqsym.py`, `FSymBasis_abstract` in `fsym.py` and bases in `ncsf.py` and `qsym.py`).  I tried deleting the `BindableClass` and the command `h = self.Complete()` raised a `TypeError: __init__() takes exactly 2 arguments (1 given)`.  And, no, I do not understand that documentation either.

About the Hopf algebra structure:
> My suspicion is that it is, because otherwise the square-zero relations `p_{(i;)}^2 = 0` would contradict the primitivity of the `p_{(i;)}` wrt the coproduct.
As far as I can tell this is a Hopf algebra and not a super-Hopf algebra.  There is no posted paper that I can point to, but I do have a non-posted preprint.  However I will continue to check this carefully because I am reviewing the paper.  Can you explain your suspicion more carefully?  Perhaps there is an error in the paper.



---

archive/issue_comments_350901.json:
```json
{
    "body": "In characteristic 0, any nilpotent primitive element of a (non-super) Hopf algebra must be 0. More strongly: If `a` is a primitive element of a Hopf algebra in characteristic 0, then the powers of `a` are linearly independent.",
    "created_at": "2018-06-18T20:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350901",
    "user": "@darijgr"
}
```

In characteristic 0, any nilpotent primitive element of a (non-super) Hopf algebra must be 0. More strongly: If `a` is a primitive element of a Hopf algebra in characteristic 0, then the powers of `a` are linearly independent.



---

archive/issue_comments_350902.json:
```json
{
    "body": "Well then.  Something is not right with the universe.  No test I've performed has identified a problem with the Hopf structure.  I'll need to check it against the proof.  Can you provide me a reference?",
    "created_at": "2018-06-18T21:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350902",
    "user": "zabrocki"
}
```

Well then.  Something is not right with the universe.  No test I've performed has identified a problem with the Hopf structure.  I'll need to check it against the proof.  Can you provide me a reference?



---

archive/issue_comments_350903.json:
```json
{
    "body": "How about Appendix A here: https://arxiv.org/pdf/1105.5572.pdf",
    "created_at": "2018-06-18T21:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350903",
    "user": "alauve"
}
```

How about Appendix A here: https://arxiv.org/pdf/1105.5572.pdf



---

archive/issue_comments_350904.json:
```json
{
    "body": "You are probably not testing enough. The error should materialize when you take the coproduct of a product of p_{n;}s. Basically, the coproduct of p_{n;}p_{m;} should switch signs if you swap n with m; but if I compute it naively in a Hopf algebra, I get\n\np_{n;} p_{m;} \\otimes 1 + p_{n;} \\otimes p_{m;} + p_{m;} \\otimes p_{n;} + 1 \\otimes p_{n;} p_{m;},\n\nwhich does not swap signs.\n\nFurther typos: \"Summetric\", \"fermonionic\".",
    "created_at": "2018-06-18T21:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350904",
    "user": "@darijgr"
}
```

You are probably not testing enough. The error should materialize when you take the coproduct of a product of p_{n;}s. Basically, the coproduct of p_{n;}p_{m;} should switch signs if you swap n with m; but if I compute it naively in a Hopf algebra, I get

p_{n;} p_{m;} \otimes 1 + p_{n;} \otimes p_{m;} + p_{m;} \otimes p_{n;} + 1 \otimes p_{n;} p_{m;},

which does not swap signs.

Further typos: "Summetric", "fermonionic".



---

archive/issue_comments_350905.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-18T21:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350905",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_350906.json:
```json
{
    "body": "What do you mean by swap signs?  The sign does arise in the product.  Does this seem like it is not correct?\n\n```\nsage: p[-4,-2].coproduct()\np[; ] # p[4, 2; ] + p[2; ] # p[4; ] + p[4; ] # p[2; ] + p[4, 2; ] # p[; ]\nsage: (p[-2]*p[-4]).coproduct()\n-p[; ] # p[4, 2; ] - p[2; ] # p[4; ] - p[4; ] # p[2; ] - p[4, 2; ] # p[; ]\n```\n\n\nAaron, looking at Proposition 36, \"Let K denote the associated graded Hopf algebra with respect to the coradical filtration of H.\"  In order to compare to that proof, do I need to know what the coradical filtration of symmetric functions in super space is?",
    "created_at": "2018-06-18T21:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350906",
    "user": "zabrocki"
}
```

What do you mean by swap signs?  The sign does arise in the product.  Does this seem like it is not correct?

```
sage: p[-4,-2].coproduct()
p[; ] # p[4, 2; ] + p[2; ] # p[4; ] + p[4; ] # p[2; ] + p[4, 2; ] # p[; ]
sage: (p[-2]*p[-4]).coproduct()
-p[; ] # p[4, 2; ] - p[2; ] # p[4; ] - p[4; ] # p[2; ] - p[4, 2; ] # p[; ]
```


Aaron, looking at Proposition 36, "Let K denote the associated graded Hopf algebra with respect to the coradical filtration of H."  In order to compare to that proof, do I need to know what the coradical filtration of symmetric functions in super space is?



---

archive/issue_comments_350907.json:
```json
{
    "body": "\n```\nsage: (p[-2]*p[-4]).coproduct()\n-p[; ] # p[4, 2; ] - p[2; ] # p[4; ] - p[4; ] # p[2; ] - p[4, 2; ] # p[; ]\n```\n\nI'm fairly sure you don't want this to be the result. The general version of this formula would be\n\n```\nsage: (p[-i]*p[-j]).coproduct()\n-p[; ] # p[j, i; ] - p[i; ] # p[j; ] - p[j; ] # p[i; ] - p[j, i; ] # p[; ]\n```\n\nbut this doesn't survive swapping i with j.\n\nThe fact that I'm cited is incomplete, by the way (sorry): It should require `a` to be nonzero, and the base ring to be a field.",
    "created_at": "2018-06-18T22:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350907",
    "user": "@darijgr"
}
```


```
sage: (p[-2]*p[-4]).coproduct()
-p[; ] # p[4, 2; ] - p[2; ] # p[4; ] - p[4; ] # p[2; ] - p[4, 2; ] # p[; ]
```

I'm fairly sure you don't want this to be the result. The general version of this formula would be

```
sage: (p[-i]*p[-j]).coproduct()
-p[; ] # p[j, i; ] - p[i; ] # p[j; ] - p[j; ] # p[i; ] - p[j, i; ] # p[; ]
```

but this doesn't survive swapping i with j.

The fact that I'm cited is incomplete, by the way (sorry): It should require `a` to be nonzero, and the base ring to be a field.



---

archive/issue_comments_350908.json:
```json
{
    "body": "Replying to [comment:30 zabrocki]:\n> \n> Aaron, looking at Proposition 36, \"Let K denote the associated graded Hopf algebra with respect to the coradical filtration of H.\"  In order to compare to that proof, do I need to know what the coradical filtration of symmetric functions in super space is?\n\nProbably not. The braiding (by -1) enters during use of twist maps. So axioms for coalgebra will be unchanged, I believe. This means it's the same as the coradical filtration for ordinary symmetric functions? (I have not looked at the coproduct defined...) This means the kth level would have basis `p[lam;mu]` where the sum of the lengths of lam and mu is less-or-equal to k. See Sec. 2.3 http://pi.math.cornell.edu/~maguiar/a.pdf for more on q-Hopf algebras, though they do not address coradical filtration.\n\nI expect the associated graded q-Hopf algebra will be embeddable in a q-shuffle Hopf algebra, which is also a domain.",
    "created_at": "2018-06-19T03:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350908",
    "user": "alauve"
}
```

Replying to [comment:30 zabrocki]:
> 
> Aaron, looking at Proposition 36, "Let K denote the associated graded Hopf algebra with respect to the coradical filtration of H."  In order to compare to that proof, do I need to know what the coradical filtration of symmetric functions in super space is?

Probably not. The braiding (by -1) enters during use of twist maps. So axioms for coalgebra will be unchanged, I believe. This means it's the same as the coradical filtration for ordinary symmetric functions? (I have not looked at the coproduct defined...) This means the kth level would have basis `p[lam;mu]` where the sum of the lengths of lam and mu is less-or-equal to k. See Sec. 2.3 http://pi.math.cornell.edu/~maguiar/a.pdf for more on q-Hopf algebras, though they do not address coradical filtration.

I expect the associated graded q-Hopf algebra will be embeddable in a q-shuffle Hopf algebra, which is also a domain.



---

archive/issue_comments_350909.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-06-19T13:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350909",
    "user": "zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_350910.json:
```json
{
    "body": "Thank you.  You spotted a very subtle and potentially fatal mistake on my part.  I missed the line that says `(f_1 \\otimes g_1) (f_2 \\otimes g_2) = (-1)^{ab} f_1 f_2 \\otimes g_1 g_2` where `a` and `b` are the fermionic degrees of `g_1` and `f_2`.  If I am not mistaken then, this is a super-Hopf algebra and I need to use the super algebra category: see #18044 and the discussion in #18675 .\n\nIs this still a CHA?",
    "created_at": "2018-06-19T13:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350910",
    "user": "zabrocki"
}
```

Thank you.  You spotted a very subtle and potentially fatal mistake on my part.  I missed the line that says `(f_1 \otimes g_1) (f_2 \otimes g_2) = (-1)^{ab} f_1 f_2 \otimes g_1 g_2` where `a` and `b` are the fermionic degrees of `g_1` and `f_2`.  If I am not mistaken then, this is a super-Hopf algebra and I need to use the super algebra category: see #18044 and the discussion in #18675 .

Is this still a CHA?



---

archive/issue_comments_350911.json:
```json
{
    "body": "If I am not mistaken, the coproduct for a super-coalgebra is not implemented.  Is this worth doing first on a separate ticket?",
    "created_at": "2018-06-19T14:47:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350911",
    "user": "zabrocki"
}
```

If I am not mistaken, the coproduct for a super-coalgebra is not implemented.  Is this worth doing first on a separate ticket?



---

archive/issue_comments_350912.json:
```json
{
    "body": "Likely relevant: #25603.",
    "created_at": "2018-06-19T23:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350912",
    "user": "tscrim"
}
```

Likely relevant: #25603.



---

archive/issue_comments_350913.json:
```json
{
    "body": "Maybe also move the coproduct out of this ticket for the time being -- this ticket is already too large for comfortable reviewing...",
    "created_at": "2018-06-20T10:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350913",
    "user": "@darijgr"
}
```

Maybe also move the coproduct out of this ticket for the time being -- this ticket is already too large for comfortable reviewing...



---

archive/issue_comments_350914.json:
```json
{
    "body": "I'm debating taking the coproduct out an moving it to another ticket.  I want to see what happens with #25603 because I would like to know what needs to be done in order to implement it.\n\nIdentifying this mistake helped me locate an error in the paper.  I pulled in #25603 and tried to verify that this was a Hopf-super-algebra (or super-Hopf-algebra, whatever).  The formula for the antipode in the paper used the fact that `S(f*g) == S(g)*S(f)` to derive the antipode on the power-sum basis and this was leading to doc-test failures on `_test_antipode`.  I don't know why, but `_test_antipode` passed on other bases even though the antipode is computed by coercion.",
    "created_at": "2018-06-25T16:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350914",
    "user": "zabrocki"
}
```

I'm debating taking the coproduct out an moving it to another ticket.  I want to see what happens with #25603 because I would like to know what needs to be done in order to implement it.

Identifying this mistake helped me locate an error in the paper.  I pulled in #25603 and tried to verify that this was a Hopf-super-algebra (or super-Hopf-algebra, whatever).  The formula for the antipode in the paper used the fact that `S(f*g) == S(g)*S(f)` to derive the antipode on the power-sum basis and this was leading to doc-test failures on `_test_antipode`.  I don't know why, but `_test_antipode` passed on other bases even though the antipode is computed by coercion.



---

archive/issue_comments_350915.json:
```json
{
    "body": "update milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24926#issuecomment-350915",
    "user": "vdelecroix"
}
```

update milestone 8.3 -> 8.4
