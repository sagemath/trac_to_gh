# Issue 18345: sage/libs/ecl.so: undefined symbol: ecl_sig_off in SAGE_DEBUG build

Issue created by migration from https://trac.sagemath.org/ticket/18582

Original creator: vbraun

Original creation time: 2015-06-02 09:40:31

CC:  fbissey

Possibly underlinked library? Worked in Fedora 21, but fails on F22:

```
$ SAGE_DEBUG=yes make
...
[combinat ] reading sources... [  8%] sage/combinat/combinatorial_map
Error building the documentation.
Traceback (most recent call last):
  File "/mnt/disk/home/release/Sage/src/doc/common/builder.py", line 1626, in <module>
    getattr(get_builder(name), type)()
  File "/mnt/disk/home/release/Sage/src/doc/common/builder.py", line 292, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/mnt/disk/home/release/Sage/src/doc/common/builder.py", line 503, in _wrapper
    x.get(99999)
  File "/mnt/disk/home/release/Sage/local/lib/python/multiprocessing/pool.py", line 558, in get
    raise self._value
OSError: [calculus ] /mnt/disk/home/release/Sage/src/doc/en/reference/calculus/sage/calculus/calculus.rst:11: WARNING: error while formatting signature for sage.calculus.calculus.symbolic_expression_from_maxima_string: /mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/libs/ecl.so: undefined symbol: ecl_sig_off

Makefile:60: recipe for target 'doc-html' failed
make: *** [doc-html] Error 1
```



---

Comment by fbissey created at 2015-06-02 09:56:11

Doesn't look like underlinking to me, that symbol is part of sage's code and defined in `eclsig.h` under `sage/libs`. It would probably pay to see if there are any message in the build log - provided it is not built with "-w".


---

Comment by jdemeyer created at 2015-06-02 10:34:25

GCC version?


---

Comment by git created at 2015-06-02 10:38:19

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by fbissey created at 2015-06-02 10:40:30

Yes, I'd say you nailed it with that one. Any other headers of that kind lying around?
----
New commits:


---

Comment by jdemeyer created at 2015-06-02 11:08:37

Changing status from new to needs_review.


---

Comment by vbraun created at 2015-06-02 11:12:24

gcc 5.1.1 for the record


---

Comment by vbraun created at 2015-06-02 14:42:02

Resolution: fixed
